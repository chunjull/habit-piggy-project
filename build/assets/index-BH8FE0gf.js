function CL(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var kd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ge(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var cO={exports:{}},mm={},fO={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rf=Symbol.for("react.element"),RL=Symbol.for("react.portal"),NL=Symbol.for("react.fragment"),jL=Symbol.for("react.strict_mode"),DL=Symbol.for("react.profiler"),ML=Symbol.for("react.provider"),$L=Symbol.for("react.context"),LL=Symbol.for("react.forward_ref"),VL=Symbol.for("react.suspense"),FL=Symbol.for("react.memo"),UL=Symbol.for("react.lazy"),kE=Symbol.iterator;function BL(t){return t===null||typeof t!="object"?null:(t=kE&&t[kE]||t["@@iterator"],typeof t=="function"?t:null)}var dO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hO=Object.assign,pO={};function Ol(t,e,n){this.props=t,this.context=e,this.refs=pO,this.updater=n||dO}Ol.prototype.isReactComponent={};Ol.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ol.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function mO(){}mO.prototype=Ol.prototype;function v_(t,e,n){this.props=t,this.context=e,this.refs=pO,this.updater=n||dO}var b_=v_.prototype=new mO;b_.constructor=v_;hO(b_,Ol.prototype);b_.isPureReactComponent=!0;var TE=Array.isArray,gO=Object.prototype.hasOwnProperty,__={current:null},yO={key:!0,ref:!0,__self:!0,__source:!0};function vO(t,e,n){var r,i={},a=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)gO.call(e,r)&&!yO.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Rf,type:t,key:a,ref:o,props:i,_owner:__.current}}function zL(t,e){return{$$typeof:Rf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function w_(t){return typeof t=="object"&&t!==null&&t.$$typeof===Rf}function WL(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var AE=/\/+/g;function cy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?WL(""+t.key):e.toString(36)}function fh(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Rf:case RL:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+cy(o,0):r,TE(i)?(n="",t!=null&&(n=t.replace(AE,"$&/")+"/"),fh(i,e,n,"",function(u){return u})):i!=null&&(w_(i)&&(i=zL(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(AE,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",TE(t))for(var s=0;s<t.length;s++){a=t[s];var l=r+cy(a,s);o+=fh(a,e,n,l,i)}else if(l=BL(t),typeof l=="function")for(t=l.call(t),s=0;!(a=t.next()).done;)a=a.value,l=r+cy(a,s++),o+=fh(a,e,n,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Td(t,e,n){if(t==null)return t;var r=[],i=0;return fh(t,r,"","",function(a){return e.call(n,a,i++)}),r}function qL(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var jn={current:null},dh={transition:null},HL={ReactCurrentDispatcher:jn,ReactCurrentBatchConfig:dh,ReactCurrentOwner:__};function bO(){throw Error("act(...) is not supported in production builds of React.")}Ie.Children={map:Td,forEach:function(t,e,n){Td(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Td(t,function(){e++}),e},toArray:function(t){return Td(t,function(e){return e})||[]},only:function(t){if(!w_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ie.Component=Ol;Ie.Fragment=NL;Ie.Profiler=DL;Ie.PureComponent=v_;Ie.StrictMode=jL;Ie.Suspense=VL;Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HL;Ie.act=bO;Ie.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=hO({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=__.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)gO.call(e,l)&&!yO.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:Rf,type:t.type,key:i,ref:a,props:r,_owner:o}};Ie.createContext=function(t){return t={$$typeof:$L,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:ML,_context:t},t.Consumer=t};Ie.createElement=vO;Ie.createFactory=function(t){var e=vO.bind(null,t);return e.type=t,e};Ie.createRef=function(){return{current:null}};Ie.forwardRef=function(t){return{$$typeof:LL,render:t}};Ie.isValidElement=w_;Ie.lazy=function(t){return{$$typeof:UL,_payload:{_status:-1,_result:t},_init:qL}};Ie.memo=function(t,e){return{$$typeof:FL,type:t,compare:e===void 0?null:e}};Ie.startTransition=function(t){var e=dh.transition;dh.transition={};try{t()}finally{dh.transition=e}};Ie.unstable_act=bO;Ie.useCallback=function(t,e){return jn.current.useCallback(t,e)};Ie.useContext=function(t){return jn.current.useContext(t)};Ie.useDebugValue=function(){};Ie.useDeferredValue=function(t){return jn.current.useDeferredValue(t)};Ie.useEffect=function(t,e){return jn.current.useEffect(t,e)};Ie.useId=function(){return jn.current.useId()};Ie.useImperativeHandle=function(t,e,n){return jn.current.useImperativeHandle(t,e,n)};Ie.useInsertionEffect=function(t,e){return jn.current.useInsertionEffect(t,e)};Ie.useLayoutEffect=function(t,e){return jn.current.useLayoutEffect(t,e)};Ie.useMemo=function(t,e){return jn.current.useMemo(t,e)};Ie.useReducer=function(t,e,n){return jn.current.useReducer(t,e,n)};Ie.useRef=function(t){return jn.current.useRef(t)};Ie.useState=function(t){return jn.current.useState(t)};Ie.useSyncExternalStore=function(t,e,n){return jn.current.useSyncExternalStore(t,e,n)};Ie.useTransition=function(){return jn.current.useTransition()};Ie.version="18.3.1";fO.exports=Ie;var D=fO.exports;const M=Ge(D),KL=CL({__proto__:null,default:M},[D]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GL=D,XL=Symbol.for("react.element"),YL=Symbol.for("react.fragment"),QL=Object.prototype.hasOwnProperty,JL=GL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ZL={key:!0,ref:!0,__self:!0,__source:!0};function _O(t,e,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)QL.call(e,r)&&!ZL.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:XL,type:t,key:a,ref:o,props:i,_owner:JL.current}}mm.Fragment=YL;mm.jsx=_O;mm.jsxs=_O;cO.exports=mm;var b=cO.exports,wO={exports:{}},nr={},xO={exports:{}},EO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,q){var Y=L.length;L.push(q);e:for(;0<Y;){var re=Y-1>>>1,X=L[re];if(0<i(X,q))L[re]=q,L[Y]=X,Y=re;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var q=L[0],Y=L.pop();if(Y!==q){L[0]=Y;e:for(var re=0,X=L.length,ne=X>>>1;re<ne;){var ge=2*(re+1)-1,Oe=L[ge],at=ge+1,Ye=L[at];if(0>i(Oe,Y))at<X&&0>i(Ye,Oe)?(L[re]=Ye,L[at]=Y,re=at):(L[re]=Oe,L[ge]=Y,re=ge);else if(at<X&&0>i(Ye,Y))L[re]=Ye,L[at]=Y,re=at;else break e}}return q}function i(L,q){var Y=L.sortIndex-q.sortIndex;return Y!==0?Y:L.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,f=null,h=3,p=!1,g=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(L){for(var q=n(u);q!==null;){if(q.callback===null)r(u);else if(q.startTime<=L)r(u),q.sortIndex=q.expirationTime,e(l,q);else break;q=n(u)}}function E(L){if(m=!1,_(L),!g)if(n(l)!==null)g=!0,U(T);else{var q=n(u);q!==null&&B(E,q.startTime-L)}}function T(L,q){g=!1,m&&(m=!1,x(S),S=-1),p=!0;var Y=h;try{for(_(q),f=n(l);f!==null&&(!(f.expirationTime>q)||L&&!N());){var re=f.callback;if(typeof re=="function"){f.callback=null,h=f.priorityLevel;var X=re(f.expirationTime<=q);q=t.unstable_now(),typeof X=="function"?f.callback=X:f===n(l)&&r(l),_(q)}else r(l);f=n(l)}if(f!==null)var ne=!0;else{var ge=n(u);ge!==null&&B(E,ge.startTime-q),ne=!1}return ne}finally{f=null,h=Y,p=!1}}var O=!1,k=null,S=-1,C=5,R=-1;function N(){return!(t.unstable_now()-R<C)}function I(){if(k!==null){var L=t.unstable_now();R=L;var q=!0;try{q=k(!0,L)}finally{q?P():(O=!1,k=null)}}else O=!1}var P;if(typeof y=="function")P=function(){y(I)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,F=$.port2;$.port1.onmessage=I,P=function(){F.postMessage(null)}}else P=function(){v(I,0)};function U(L){k=L,O||(O=!0,P())}function B(L,q){S=v(function(){L(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,U(T))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(h){case 1:case 2:case 3:var q=3;break;default:q=h}var Y=h;h=q;try{return L()}finally{h=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,q){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var Y=h;h=L;try{return q()}finally{h=Y}},t.unstable_scheduleCallback=function(L,q,Y){var re=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?re+Y:re):Y=re,L){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=Y+X,L={id:c++,callback:q,priorityLevel:L,startTime:Y,expirationTime:X,sortIndex:-1},Y>re?(L.sortIndex=Y,e(u,L),n(l)===null&&L===n(u)&&(m?(x(S),S=-1):m=!0,B(E,Y-re))):(L.sortIndex=X,e(l,L),g||p||(g=!0,U(T))),L},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(L){var q=h;return function(){var Y=h;h=q;try{return L.apply(this,arguments)}finally{h=Y}}}})(EO);xO.exports=EO;var e4=xO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t4=D,tr=e4;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var SO=new Set,yc={};function Wo(t,e){Js(t,e),Js(t+"Capture",e)}function Js(t,e){for(yc[t]=e,t=0;t<e.length;t++)SO.add(e[t])}var Ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tv=Object.prototype.hasOwnProperty,n4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,PE={},IE={};function r4(t){return Tv.call(IE,t)?!0:Tv.call(PE,t)?!1:n4.test(t)?IE[t]=!0:(PE[t]=!0,!1)}function i4(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function a4(t,e,n,r){if(e===null||typeof e>"u"||i4(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Dn(t,e,n,r,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var ln={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ln[t]=new Dn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ln[e]=new Dn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ln[t]=new Dn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ln[t]=new Dn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ln[t]=new Dn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ln[t]=new Dn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ln[t]=new Dn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ln[t]=new Dn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ln[t]=new Dn(t,5,!1,t.toLowerCase(),null,!1,!1)});var x_=/[\-:]([a-z])/g;function E_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(x_,E_);ln[e]=new Dn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(x_,E_);ln[e]=new Dn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(x_,E_);ln[e]=new Dn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ln[t]=new Dn(t,1,!1,t.toLowerCase(),null,!1,!1)});ln.xlinkHref=new Dn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ln[t]=new Dn(t,1,!1,t.toLowerCase(),null,!0,!0)});function S_(t,e,n,r){var i=ln.hasOwnProperty(e)?ln[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(a4(e,n,i,r)&&(n=null),r||i===null?r4(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ui=t4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ad=Symbol.for("react.element"),_s=Symbol.for("react.portal"),ws=Symbol.for("react.fragment"),k_=Symbol.for("react.strict_mode"),Av=Symbol.for("react.profiler"),kO=Symbol.for("react.provider"),TO=Symbol.for("react.context"),T_=Symbol.for("react.forward_ref"),Pv=Symbol.for("react.suspense"),Iv=Symbol.for("react.suspense_list"),A_=Symbol.for("react.memo"),Ji=Symbol.for("react.lazy"),AO=Symbol.for("react.offscreen"),OE=Symbol.iterator;function du(t){return t===null||typeof t!="object"?null:(t=OE&&t[OE]||t["@@iterator"],typeof t=="function"?t:null)}var St=Object.assign,fy;function Nu(t){if(fy===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);fy=e&&e[1]||""}return`
`+fy+t}var dy=!1;function hy(t,e){if(!t||dy)return"";dy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=s);break}}}finally{dy=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Nu(t):""}function o4(t){switch(t.tag){case 5:return Nu(t.type);case 16:return Nu("Lazy");case 13:return Nu("Suspense");case 19:return Nu("SuspenseList");case 0:case 2:case 15:return t=hy(t.type,!1),t;case 11:return t=hy(t.type.render,!1),t;case 1:return t=hy(t.type,!0),t;default:return""}}function Ov(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ws:return"Fragment";case _s:return"Portal";case Av:return"Profiler";case k_:return"StrictMode";case Pv:return"Suspense";case Iv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case TO:return(t.displayName||"Context")+".Consumer";case kO:return(t._context.displayName||"Context")+".Provider";case T_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case A_:return e=t.displayName||null,e!==null?e:Ov(t.type)||"Memo";case Ji:e=t._payload,t=t._init;try{return Ov(t(e))}catch{}}return null}function s4(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ov(e);case 8:return e===k_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Oa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function PO(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function l4(t){var e=PO(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Pd(t){t._valueTracker||(t._valueTracker=l4(t))}function IO(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=PO(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Nh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Cv(t,e){var n=e.checked;return St({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function CE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Oa(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function OO(t,e){e=e.checked,e!=null&&S_(t,"checked",e,!1)}function Rv(t,e){OO(t,e);var n=Oa(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Nv(t,e.type,n):e.hasOwnProperty("defaultValue")&&Nv(t,e.type,Oa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function RE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Nv(t,e,n){(e!=="number"||Nh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ju=Array.isArray;function Ls(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Oa(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function jv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return St({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function NE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(J(92));if(ju(n)){if(1<n.length)throw Error(J(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Oa(n)}}function CO(t,e){var n=Oa(e.value),r=Oa(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function jE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function RO(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?RO(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Id,NO=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Id=Id||document.createElement("div"),Id.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Id.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function vc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Hu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},u4=["Webkit","ms","Moz","O"];Object.keys(Hu).forEach(function(t){u4.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Hu[e]=Hu[t]})});function jO(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Hu.hasOwnProperty(t)&&Hu[t]?(""+e).trim():e+"px"}function DO(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=jO(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var c4=St({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Mv(t,e){if(e){if(c4[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function $v(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lv=null;function P_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vv=null,Vs=null,Fs=null;function DE(t){if(t=Df(t)){if(typeof Vv!="function")throw Error(J(280));var e=t.stateNode;e&&(e=_m(e),Vv(t.stateNode,t.type,e))}}function MO(t){Vs?Fs?Fs.push(t):Fs=[t]:Vs=t}function $O(){if(Vs){var t=Vs,e=Fs;if(Fs=Vs=null,DE(t),e)for(t=0;t<e.length;t++)DE(e[t])}}function LO(t,e){return t(e)}function VO(){}var py=!1;function FO(t,e,n){if(py)return t(e,n);py=!0;try{return LO(t,e,n)}finally{py=!1,(Vs!==null||Fs!==null)&&(VO(),$O())}}function bc(t,e){var n=t.stateNode;if(n===null)return null;var r=_m(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(J(231,e,typeof n));return n}var Fv=!1;if(Ii)try{var hu={};Object.defineProperty(hu,"passive",{get:function(){Fv=!0}}),window.addEventListener("test",hu,hu),window.removeEventListener("test",hu,hu)}catch{Fv=!1}function f4(t,e,n,r,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Ku=!1,jh=null,Dh=!1,Uv=null,d4={onError:function(t){Ku=!0,jh=t}};function h4(t,e,n,r,i,a,o,s,l){Ku=!1,jh=null,f4.apply(d4,arguments)}function p4(t,e,n,r,i,a,o,s,l){if(h4.apply(this,arguments),Ku){if(Ku){var u=jh;Ku=!1,jh=null}else throw Error(J(198));Dh||(Dh=!0,Uv=u)}}function qo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function UO(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ME(t){if(qo(t)!==t)throw Error(J(188))}function m4(t){var e=t.alternate;if(!e){if(e=qo(t),e===null)throw Error(J(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return ME(i),t;if(a===r)return ME(i),e;a=a.sibling}throw Error(J(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?t:e}function BO(t){return t=m4(t),t!==null?zO(t):null}function zO(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=zO(t);if(e!==null)return e;t=t.sibling}return null}var WO=tr.unstable_scheduleCallback,$E=tr.unstable_cancelCallback,g4=tr.unstable_shouldYield,y4=tr.unstable_requestPaint,Rt=tr.unstable_now,v4=tr.unstable_getCurrentPriorityLevel,I_=tr.unstable_ImmediatePriority,qO=tr.unstable_UserBlockingPriority,Mh=tr.unstable_NormalPriority,b4=tr.unstable_LowPriority,HO=tr.unstable_IdlePriority,gm=null,Hr=null;function _4(t){if(Hr&&typeof Hr.onCommitFiberRoot=="function")try{Hr.onCommitFiberRoot(gm,t,void 0,(t.current.flags&128)===128)}catch{}}var Or=Math.clz32?Math.clz32:E4,w4=Math.log,x4=Math.LN2;function E4(t){return t>>>=0,t===0?32:31-(w4(t)/x4|0)|0}var Od=64,Cd=4194304;function Du(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function $h(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,o=n&268435455;if(o!==0){var s=o&~i;s!==0?r=Du(s):(a&=o,a!==0&&(r=Du(a)))}else o=n&~i,o!==0?r=Du(o):a!==0&&(r=Du(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Or(e),i=1<<n,r|=t[n],e&=~i;return r}function S4(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function k4(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-Or(a),s=1<<o,l=i[o];l===-1?(!(s&n)||s&r)&&(i[o]=S4(s,e)):l<=e&&(t.expiredLanes|=s),a&=~s}}function Bv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function KO(){var t=Od;return Od<<=1,!(Od&4194240)&&(Od=64),t}function my(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Nf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Or(e),t[e]=n}function T4(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Or(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function O_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Or(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ke=0;function GO(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var XO,C_,YO,QO,JO,zv=!1,Rd=[],ma=null,ga=null,ya=null,_c=new Map,wc=new Map,na=[],A4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function LE(t,e){switch(t){case"focusin":case"focusout":ma=null;break;case"dragenter":case"dragleave":ga=null;break;case"mouseover":case"mouseout":ya=null;break;case"pointerover":case"pointerout":_c.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":wc.delete(e.pointerId)}}function pu(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Df(e),e!==null&&C_(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function P4(t,e,n,r,i){switch(e){case"focusin":return ma=pu(ma,t,e,n,r,i),!0;case"dragenter":return ga=pu(ga,t,e,n,r,i),!0;case"mouseover":return ya=pu(ya,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return _c.set(a,pu(_c.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,wc.set(a,pu(wc.get(a)||null,t,e,n,r,i)),!0}return!1}function ZO(t){var e=fo(t.target);if(e!==null){var n=qo(e);if(n!==null){if(e=n.tag,e===13){if(e=UO(n),e!==null){t.blockedOn=e,JO(t.priority,function(){YO(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function hh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Wv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Lv=r,n.target.dispatchEvent(r),Lv=null}else return e=Df(n),e!==null&&C_(e),t.blockedOn=n,!1;e.shift()}return!0}function VE(t,e,n){hh(t)&&n.delete(e)}function I4(){zv=!1,ma!==null&&hh(ma)&&(ma=null),ga!==null&&hh(ga)&&(ga=null),ya!==null&&hh(ya)&&(ya=null),_c.forEach(VE),wc.forEach(VE)}function mu(t,e){t.blockedOn===e&&(t.blockedOn=null,zv||(zv=!0,tr.unstable_scheduleCallback(tr.unstable_NormalPriority,I4)))}function xc(t){function e(i){return mu(i,t)}if(0<Rd.length){mu(Rd[0],t);for(var n=1;n<Rd.length;n++){var r=Rd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ma!==null&&mu(ma,t),ga!==null&&mu(ga,t),ya!==null&&mu(ya,t),_c.forEach(e),wc.forEach(e),n=0;n<na.length;n++)r=na[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<na.length&&(n=na[0],n.blockedOn===null);)ZO(n),n.blockedOn===null&&na.shift()}var Us=Ui.ReactCurrentBatchConfig,Lh=!0;function O4(t,e,n,r){var i=Ke,a=Us.transition;Us.transition=null;try{Ke=1,R_(t,e,n,r)}finally{Ke=i,Us.transition=a}}function C4(t,e,n,r){var i=Ke,a=Us.transition;Us.transition=null;try{Ke=4,R_(t,e,n,r)}finally{Ke=i,Us.transition=a}}function R_(t,e,n,r){if(Lh){var i=Wv(t,e,n,r);if(i===null)ky(t,e,r,Vh,n),LE(t,r);else if(P4(i,t,e,n,r))r.stopPropagation();else if(LE(t,r),e&4&&-1<A4.indexOf(t)){for(;i!==null;){var a=Df(i);if(a!==null&&XO(a),a=Wv(t,e,n,r),a===null&&ky(t,e,r,Vh,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else ky(t,e,r,null,n)}}var Vh=null;function Wv(t,e,n,r){if(Vh=null,t=P_(r),t=fo(t),t!==null)if(e=qo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=UO(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Vh=t,null}function eC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(v4()){case I_:return 1;case qO:return 4;case Mh:case b4:return 16;case HO:return 536870912;default:return 16}default:return 16}}var ca=null,N_=null,ph=null;function tC(){if(ph)return ph;var t,e=N_,n=e.length,r,i="value"in ca?ca.value:ca.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[a-r];r++);return ph=i.slice(t,1<r?1-r:void 0)}function mh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Nd(){return!0}function FE(){return!1}function rr(t){function e(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Nd:FE,this.isPropagationStopped=FE,this}return St(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Nd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Nd)},persist:function(){},isPersistent:Nd}),e}var Cl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},j_=rr(Cl),jf=St({},Cl,{view:0,detail:0}),R4=rr(jf),gy,yy,gu,ym=St({},jf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:D_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==gu&&(gu&&t.type==="mousemove"?(gy=t.screenX-gu.screenX,yy=t.screenY-gu.screenY):yy=gy=0,gu=t),gy)},movementY:function(t){return"movementY"in t?t.movementY:yy}}),UE=rr(ym),N4=St({},ym,{dataTransfer:0}),j4=rr(N4),D4=St({},jf,{relatedTarget:0}),vy=rr(D4),M4=St({},Cl,{animationName:0,elapsedTime:0,pseudoElement:0}),$4=rr(M4),L4=St({},Cl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),V4=rr(L4),F4=St({},Cl,{data:0}),BE=rr(F4),U4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},B4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},z4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function W4(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=z4[t])?!!e[t]:!1}function D_(){return W4}var q4=St({},jf,{key:function(t){if(t.key){var e=U4[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=mh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?B4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:D_,charCode:function(t){return t.type==="keypress"?mh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?mh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),H4=rr(q4),K4=St({},ym,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zE=rr(K4),G4=St({},jf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:D_}),X4=rr(G4),Y4=St({},Cl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Q4=rr(Y4),J4=St({},ym,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Z4=rr(J4),eV=[9,13,27,32],M_=Ii&&"CompositionEvent"in window,Gu=null;Ii&&"documentMode"in document&&(Gu=document.documentMode);var tV=Ii&&"TextEvent"in window&&!Gu,nC=Ii&&(!M_||Gu&&8<Gu&&11>=Gu),WE=" ",qE=!1;function rC(t,e){switch(t){case"keyup":return eV.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xs=!1;function nV(t,e){switch(t){case"compositionend":return iC(e);case"keypress":return e.which!==32?null:(qE=!0,WE);case"textInput":return t=e.data,t===WE&&qE?null:t;default:return null}}function rV(t,e){if(xs)return t==="compositionend"||!M_&&rC(t,e)?(t=tC(),ph=N_=ca=null,xs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return nC&&e.locale!=="ko"?null:e.data;default:return null}}var iV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function HE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!iV[t.type]:e==="textarea"}function aC(t,e,n,r){MO(r),e=Fh(e,"onChange"),0<e.length&&(n=new j_("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Xu=null,Ec=null;function aV(t){gC(t,0)}function vm(t){var e=ks(t);if(IO(e))return t}function oV(t,e){if(t==="change")return e}var oC=!1;if(Ii){var by;if(Ii){var _y="oninput"in document;if(!_y){var KE=document.createElement("div");KE.setAttribute("oninput","return;"),_y=typeof KE.oninput=="function"}by=_y}else by=!1;oC=by&&(!document.documentMode||9<document.documentMode)}function GE(){Xu&&(Xu.detachEvent("onpropertychange",sC),Ec=Xu=null)}function sC(t){if(t.propertyName==="value"&&vm(Ec)){var e=[];aC(e,Ec,t,P_(t)),FO(aV,e)}}function sV(t,e,n){t==="focusin"?(GE(),Xu=e,Ec=n,Xu.attachEvent("onpropertychange",sC)):t==="focusout"&&GE()}function lV(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return vm(Ec)}function uV(t,e){if(t==="click")return vm(e)}function cV(t,e){if(t==="input"||t==="change")return vm(e)}function fV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Nr=typeof Object.is=="function"?Object.is:fV;function Sc(t,e){if(Nr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Tv.call(e,i)||!Nr(t[i],e[i]))return!1}return!0}function XE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function YE(t,e){var n=XE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=XE(n)}}function lC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?lC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function uC(){for(var t=window,e=Nh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Nh(t.document)}return e}function $_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function dV(t){var e=uC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&lC(n.ownerDocument.documentElement,n)){if(r!==null&&$_(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=YE(n,a);var o=YE(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var hV=Ii&&"documentMode"in document&&11>=document.documentMode,Es=null,qv=null,Yu=null,Hv=!1;function QE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Hv||Es==null||Es!==Nh(r)||(r=Es,"selectionStart"in r&&$_(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Yu&&Sc(Yu,r)||(Yu=r,r=Fh(qv,"onSelect"),0<r.length&&(e=new j_("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Es)))}function jd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ss={animationend:jd("Animation","AnimationEnd"),animationiteration:jd("Animation","AnimationIteration"),animationstart:jd("Animation","AnimationStart"),transitionend:jd("Transition","TransitionEnd")},wy={},cC={};Ii&&(cC=document.createElement("div").style,"AnimationEvent"in window||(delete Ss.animationend.animation,delete Ss.animationiteration.animation,delete Ss.animationstart.animation),"TransitionEvent"in window||delete Ss.transitionend.transition);function bm(t){if(wy[t])return wy[t];if(!Ss[t])return t;var e=Ss[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in cC)return wy[t]=e[n];return t}var fC=bm("animationend"),dC=bm("animationiteration"),hC=bm("animationstart"),pC=bm("transitionend"),mC=new Map,JE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ma(t,e){mC.set(t,e),Wo(e,[t])}for(var xy=0;xy<JE.length;xy++){var Ey=JE[xy],pV=Ey.toLowerCase(),mV=Ey[0].toUpperCase()+Ey.slice(1);Ma(pV,"on"+mV)}Ma(fC,"onAnimationEnd");Ma(dC,"onAnimationIteration");Ma(hC,"onAnimationStart");Ma("dblclick","onDoubleClick");Ma("focusin","onFocus");Ma("focusout","onBlur");Ma(pC,"onTransitionEnd");Js("onMouseEnter",["mouseout","mouseover"]);Js("onMouseLeave",["mouseout","mouseover"]);Js("onPointerEnter",["pointerout","pointerover"]);Js("onPointerLeave",["pointerout","pointerover"]);Wo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gV=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mu));function ZE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,p4(r,e,void 0,t),t.currentTarget=null}function gC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;ZE(i,s,u),a=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;ZE(i,s,u),a=l}}}if(Dh)throw t=Uv,Dh=!1,Uv=null,t}function ct(t,e){var n=e[Qv];n===void 0&&(n=e[Qv]=new Set);var r=t+"__bubble";n.has(r)||(yC(e,t,2,!1),n.add(r))}function Sy(t,e,n){var r=0;e&&(r|=4),yC(n,t,r,e)}var Dd="_reactListening"+Math.random().toString(36).slice(2);function kc(t){if(!t[Dd]){t[Dd]=!0,SO.forEach(function(n){n!=="selectionchange"&&(gV.has(n)||Sy(n,!1,t),Sy(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Dd]||(e[Dd]=!0,Sy("selectionchange",!1,e))}}function yC(t,e,n,r){switch(eC(e)){case 1:var i=O4;break;case 4:i=C4;break;default:i=R_}n=i.bind(null,e,n,t),i=void 0,!Fv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ky(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=fo(s),o===null)return;if(l=o.tag,l===5||l===6){r=a=o;continue e}s=s.parentNode}}r=r.return}FO(function(){var u=a,c=P_(n),f=[];e:{var h=mC.get(t);if(h!==void 0){var p=j_,g=t;switch(t){case"keypress":if(mh(n)===0)break e;case"keydown":case"keyup":p=H4;break;case"focusin":g="focus",p=vy;break;case"focusout":g="blur",p=vy;break;case"beforeblur":case"afterblur":p=vy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=UE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=j4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=X4;break;case fC:case dC:case hC:p=$4;break;case pC:p=Q4;break;case"scroll":p=R4;break;case"wheel":p=Z4;break;case"copy":case"cut":case"paste":p=V4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=zE}var m=(e&4)!==0,v=!m&&t==="scroll",x=m?h!==null?h+"Capture":null:h;m=[];for(var y=u,_;y!==null;){_=y;var E=_.stateNode;if(_.tag===5&&E!==null&&(_=E,x!==null&&(E=bc(y,x),E!=null&&m.push(Tc(y,E,_)))),v)break;y=y.return}0<m.length&&(h=new p(h,g,null,n,c),f.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==Lv&&(g=n.relatedTarget||n.fromElement)&&(fo(g)||g[Oi]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?fo(g):null,g!==null&&(v=qo(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(m=UE,E="onMouseLeave",x="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(m=zE,E="onPointerLeave",x="onPointerEnter",y="pointer"),v=p==null?h:ks(p),_=g==null?h:ks(g),h=new m(E,y+"leave",p,n,c),h.target=v,h.relatedTarget=_,E=null,fo(c)===u&&(m=new m(x,y+"enter",g,n,c),m.target=_,m.relatedTarget=v,E=m),v=E,p&&g)t:{for(m=p,x=g,y=0,_=m;_;_=us(_))y++;for(_=0,E=x;E;E=us(E))_++;for(;0<y-_;)m=us(m),y--;for(;0<_-y;)x=us(x),_--;for(;y--;){if(m===x||x!==null&&m===x.alternate)break t;m=us(m),x=us(x)}m=null}else m=null;p!==null&&eS(f,h,p,m,!1),g!==null&&v!==null&&eS(f,v,g,m,!0)}}e:{if(h=u?ks(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var T=oV;else if(HE(h))if(oC)T=cV;else{T=lV;var O=sV}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(T=uV);if(T&&(T=T(t,u))){aC(f,T,n,c);break e}O&&O(t,h,u),t==="focusout"&&(O=h._wrapperState)&&O.controlled&&h.type==="number"&&Nv(h,"number",h.value)}switch(O=u?ks(u):window,t){case"focusin":(HE(O)||O.contentEditable==="true")&&(Es=O,qv=u,Yu=null);break;case"focusout":Yu=qv=Es=null;break;case"mousedown":Hv=!0;break;case"contextmenu":case"mouseup":case"dragend":Hv=!1,QE(f,n,c);break;case"selectionchange":if(hV)break;case"keydown":case"keyup":QE(f,n,c)}var k;if(M_)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else xs?rC(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(nC&&n.locale!=="ko"&&(xs||S!=="onCompositionStart"?S==="onCompositionEnd"&&xs&&(k=tC()):(ca=c,N_="value"in ca?ca.value:ca.textContent,xs=!0)),O=Fh(u,S),0<O.length&&(S=new BE(S,t,null,n,c),f.push({event:S,listeners:O}),k?S.data=k:(k=iC(n),k!==null&&(S.data=k)))),(k=tV?nV(t,n):rV(t,n))&&(u=Fh(u,"onBeforeInput"),0<u.length&&(c=new BE("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=k))}gC(f,e)})}function Tc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Fh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=bc(t,n),a!=null&&r.unshift(Tc(t,a,i)),a=bc(t,e),a!=null&&r.push(Tc(t,a,i))),t=t.return}return r}function us(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function eS(t,e,n,r,i){for(var a=e._reactName,o=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=bc(n,a),l!=null&&o.unshift(Tc(n,l,s))):i||(l=bc(n,a),l!=null&&o.push(Tc(n,l,s)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var yV=/\r\n?/g,vV=/\u0000|\uFFFD/g;function tS(t){return(typeof t=="string"?t:""+t).replace(yV,`
`).replace(vV,"")}function Md(t,e,n){if(e=tS(e),tS(t)!==e&&n)throw Error(J(425))}function Uh(){}var Kv=null,Gv=null;function Xv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Yv=typeof setTimeout=="function"?setTimeout:void 0,bV=typeof clearTimeout=="function"?clearTimeout:void 0,nS=typeof Promise=="function"?Promise:void 0,_V=typeof queueMicrotask=="function"?queueMicrotask:typeof nS<"u"?function(t){return nS.resolve(null).then(t).catch(wV)}:Yv;function wV(t){setTimeout(function(){throw t})}function Ty(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),xc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);xc(e)}function va(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function rS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Rl=Math.random().toString(36).slice(2),Br="__reactFiber$"+Rl,Ac="__reactProps$"+Rl,Oi="__reactContainer$"+Rl,Qv="__reactEvents$"+Rl,xV="__reactListeners$"+Rl,EV="__reactHandles$"+Rl;function fo(t){var e=t[Br];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Oi]||n[Br]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=rS(t);t!==null;){if(n=t[Br])return n;t=rS(t)}return e}t=n,n=t.parentNode}return null}function Df(t){return t=t[Br]||t[Oi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ks(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function _m(t){return t[Ac]||null}var Jv=[],Ts=-1;function $a(t){return{current:t}}function pt(t){0>Ts||(t.current=Jv[Ts],Jv[Ts]=null,Ts--)}function st(t,e){Ts++,Jv[Ts]=t.current,t.current=e}var Ca={},En=$a(Ca),Fn=$a(!1),To=Ca;function Zs(t,e){var n=t.type.contextTypes;if(!n)return Ca;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Un(t){return t=t.childContextTypes,t!=null}function Bh(){pt(Fn),pt(En)}function iS(t,e,n){if(En.current!==Ca)throw Error(J(168));st(En,e),st(Fn,n)}function vC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(J(108,s4(t)||"Unknown",i));return St({},n,r)}function zh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ca,To=En.current,st(En,t),st(Fn,Fn.current),!0}function aS(t,e,n){var r=t.stateNode;if(!r)throw Error(J(169));n?(t=vC(t,e,To),r.__reactInternalMemoizedMergedChildContext=t,pt(Fn),pt(En),st(En,t)):pt(Fn),st(Fn,n)}var pi=null,wm=!1,Ay=!1;function bC(t){pi===null?pi=[t]:pi.push(t)}function SV(t){wm=!0,bC(t)}function La(){if(!Ay&&pi!==null){Ay=!0;var t=0,e=Ke;try{var n=pi;for(Ke=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}pi=null,wm=!1}catch(i){throw pi!==null&&(pi=pi.slice(t+1)),WO(I_,La),i}finally{Ke=e,Ay=!1}}return null}var As=[],Ps=0,Wh=null,qh=0,ur=[],cr=0,Ao=null,mi=1,gi="";function io(t,e){As[Ps++]=qh,As[Ps++]=Wh,Wh=t,qh=e}function _C(t,e,n){ur[cr++]=mi,ur[cr++]=gi,ur[cr++]=Ao,Ao=t;var r=mi;t=gi;var i=32-Or(r)-1;r&=~(1<<i),n+=1;var a=32-Or(e)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,mi=1<<32-Or(e)+i|n<<i|r,gi=a+t}else mi=1<<a|n<<i|r,gi=t}function L_(t){t.return!==null&&(io(t,1),_C(t,1,0))}function V_(t){for(;t===Wh;)Wh=As[--Ps],As[Ps]=null,qh=As[--Ps],As[Ps]=null;for(;t===Ao;)Ao=ur[--cr],ur[cr]=null,gi=ur[--cr],ur[cr]=null,mi=ur[--cr],ur[cr]=null}var Zn=null,Qn=null,bt=!1,Pr=null;function wC(t,e){var n=hr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function oS(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Zn=t,Qn=va(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Zn=t,Qn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ao!==null?{id:mi,overflow:gi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=hr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Zn=t,Qn=null,!0):!1;default:return!1}}function Zv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function e0(t){if(bt){var e=Qn;if(e){var n=e;if(!oS(t,e)){if(Zv(t))throw Error(J(418));e=va(n.nextSibling);var r=Zn;e&&oS(t,e)?wC(r,n):(t.flags=t.flags&-4097|2,bt=!1,Zn=t)}}else{if(Zv(t))throw Error(J(418));t.flags=t.flags&-4097|2,bt=!1,Zn=t}}}function sS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Zn=t}function $d(t){if(t!==Zn)return!1;if(!bt)return sS(t),bt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Xv(t.type,t.memoizedProps)),e&&(e=Qn)){if(Zv(t))throw xC(),Error(J(418));for(;e;)wC(t,e),e=va(e.nextSibling)}if(sS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Qn=va(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Qn=null}}else Qn=Zn?va(t.stateNode.nextSibling):null;return!0}function xC(){for(var t=Qn;t;)t=va(t.nextSibling)}function el(){Qn=Zn=null,bt=!1}function F_(t){Pr===null?Pr=[t]:Pr.push(t)}var kV=Ui.ReactCurrentBatchConfig;function yu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,t))}return t}function Ld(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function lS(t){var e=t._init;return e(t._payload)}function EC(t){function e(x,y){if(t){var _=x.deletions;_===null?(x.deletions=[y],x.flags|=16):_.push(y)}}function n(x,y){if(!t)return null;for(;y!==null;)e(x,y),y=y.sibling;return null}function r(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function i(x,y){return x=xa(x,y),x.index=0,x.sibling=null,x}function a(x,y,_){return x.index=_,t?(_=x.alternate,_!==null?(_=_.index,_<y?(x.flags|=2,y):_):(x.flags|=2,y)):(x.flags|=1048576,y)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function s(x,y,_,E){return y===null||y.tag!==6?(y=jy(_,x.mode,E),y.return=x,y):(y=i(y,_),y.return=x,y)}function l(x,y,_,E){var T=_.type;return T===ws?c(x,y,_.props.children,E,_.key):y!==null&&(y.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Ji&&lS(T)===y.type)?(E=i(y,_.props),E.ref=yu(x,y,_),E.return=x,E):(E=xh(_.type,_.key,_.props,null,x.mode,E),E.ref=yu(x,y,_),E.return=x,E)}function u(x,y,_,E){return y===null||y.tag!==4||y.stateNode.containerInfo!==_.containerInfo||y.stateNode.implementation!==_.implementation?(y=Dy(_,x.mode,E),y.return=x,y):(y=i(y,_.children||[]),y.return=x,y)}function c(x,y,_,E,T){return y===null||y.tag!==7?(y=wo(_,x.mode,E,T),y.return=x,y):(y=i(y,_),y.return=x,y)}function f(x,y,_){if(typeof y=="string"&&y!==""||typeof y=="number")return y=jy(""+y,x.mode,_),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ad:return _=xh(y.type,y.key,y.props,null,x.mode,_),_.ref=yu(x,null,y),_.return=x,_;case _s:return y=Dy(y,x.mode,_),y.return=x,y;case Ji:var E=y._init;return f(x,E(y._payload),_)}if(ju(y)||du(y))return y=wo(y,x.mode,_,null),y.return=x,y;Ld(x,y)}return null}function h(x,y,_,E){var T=y!==null?y.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return T!==null?null:s(x,y,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ad:return _.key===T?l(x,y,_,E):null;case _s:return _.key===T?u(x,y,_,E):null;case Ji:return T=_._init,h(x,y,T(_._payload),E)}if(ju(_)||du(_))return T!==null?null:c(x,y,_,E,null);Ld(x,_)}return null}function p(x,y,_,E,T){if(typeof E=="string"&&E!==""||typeof E=="number")return x=x.get(_)||null,s(y,x,""+E,T);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ad:return x=x.get(E.key===null?_:E.key)||null,l(y,x,E,T);case _s:return x=x.get(E.key===null?_:E.key)||null,u(y,x,E,T);case Ji:var O=E._init;return p(x,y,_,O(E._payload),T)}if(ju(E)||du(E))return x=x.get(_)||null,c(y,x,E,T,null);Ld(y,E)}return null}function g(x,y,_,E){for(var T=null,O=null,k=y,S=y=0,C=null;k!==null&&S<_.length;S++){k.index>S?(C=k,k=null):C=k.sibling;var R=h(x,k,_[S],E);if(R===null){k===null&&(k=C);break}t&&k&&R.alternate===null&&e(x,k),y=a(R,y,S),O===null?T=R:O.sibling=R,O=R,k=C}if(S===_.length)return n(x,k),bt&&io(x,S),T;if(k===null){for(;S<_.length;S++)k=f(x,_[S],E),k!==null&&(y=a(k,y,S),O===null?T=k:O.sibling=k,O=k);return bt&&io(x,S),T}for(k=r(x,k);S<_.length;S++)C=p(k,x,S,_[S],E),C!==null&&(t&&C.alternate!==null&&k.delete(C.key===null?S:C.key),y=a(C,y,S),O===null?T=C:O.sibling=C,O=C);return t&&k.forEach(function(N){return e(x,N)}),bt&&io(x,S),T}function m(x,y,_,E){var T=du(_);if(typeof T!="function")throw Error(J(150));if(_=T.call(_),_==null)throw Error(J(151));for(var O=T=null,k=y,S=y=0,C=null,R=_.next();k!==null&&!R.done;S++,R=_.next()){k.index>S?(C=k,k=null):C=k.sibling;var N=h(x,k,R.value,E);if(N===null){k===null&&(k=C);break}t&&k&&N.alternate===null&&e(x,k),y=a(N,y,S),O===null?T=N:O.sibling=N,O=N,k=C}if(R.done)return n(x,k),bt&&io(x,S),T;if(k===null){for(;!R.done;S++,R=_.next())R=f(x,R.value,E),R!==null&&(y=a(R,y,S),O===null?T=R:O.sibling=R,O=R);return bt&&io(x,S),T}for(k=r(x,k);!R.done;S++,R=_.next())R=p(k,x,S,R.value,E),R!==null&&(t&&R.alternate!==null&&k.delete(R.key===null?S:R.key),y=a(R,y,S),O===null?T=R:O.sibling=R,O=R);return t&&k.forEach(function(I){return e(x,I)}),bt&&io(x,S),T}function v(x,y,_,E){if(typeof _=="object"&&_!==null&&_.type===ws&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Ad:e:{for(var T=_.key,O=y;O!==null;){if(O.key===T){if(T=_.type,T===ws){if(O.tag===7){n(x,O.sibling),y=i(O,_.props.children),y.return=x,x=y;break e}}else if(O.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Ji&&lS(T)===O.type){n(x,O.sibling),y=i(O,_.props),y.ref=yu(x,O,_),y.return=x,x=y;break e}n(x,O);break}else e(x,O);O=O.sibling}_.type===ws?(y=wo(_.props.children,x.mode,E,_.key),y.return=x,x=y):(E=xh(_.type,_.key,_.props,null,x.mode,E),E.ref=yu(x,y,_),E.return=x,x=E)}return o(x);case _s:e:{for(O=_.key;y!==null;){if(y.key===O)if(y.tag===4&&y.stateNode.containerInfo===_.containerInfo&&y.stateNode.implementation===_.implementation){n(x,y.sibling),y=i(y,_.children||[]),y.return=x,x=y;break e}else{n(x,y);break}else e(x,y);y=y.sibling}y=Dy(_,x.mode,E),y.return=x,x=y}return o(x);case Ji:return O=_._init,v(x,y,O(_._payload),E)}if(ju(_))return g(x,y,_,E);if(du(_))return m(x,y,_,E);Ld(x,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,y!==null&&y.tag===6?(n(x,y.sibling),y=i(y,_),y.return=x,x=y):(n(x,y),y=jy(_,x.mode,E),y.return=x,x=y),o(x)):n(x,y)}return v}var tl=EC(!0),SC=EC(!1),Hh=$a(null),Kh=null,Is=null,U_=null;function B_(){U_=Is=Kh=null}function z_(t){var e=Hh.current;pt(Hh),t._currentValue=e}function t0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Bs(t,e){Kh=t,U_=Is=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ln=!0),t.firstContext=null)}function vr(t){var e=t._currentValue;if(U_!==t)if(t={context:t,memoizedValue:e,next:null},Is===null){if(Kh===null)throw Error(J(308));Is=t,Kh.dependencies={lanes:0,firstContext:t}}else Is=Is.next=t;return e}var ho=null;function W_(t){ho===null?ho=[t]:ho.push(t)}function kC(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,W_(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ci(t,r)}function Ci(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Zi=!1;function q_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function TC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ei(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ba(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Le&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ci(t,n)}return i=r.interleaved,i===null?(e.next=e,W_(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ci(t,n)}function gh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,O_(t,n)}}function uS(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Gh(t,e,n,r){var i=t.updateQueue;Zi=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?a=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==o&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;o=0,c=u=l=null,s=a;do{var h=s.lane,p=s.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=t,m=s;switch(h=e,p=n,m.tag){case 1:if(g=m.payload,typeof g=="function"){f=g.call(p,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(p,f,h):g,h==null)break e;f=St({},f,h);break e;case 2:Zi=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=p,l=f):c=c.next=p,o|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Io|=o,t.lanes=o,t.memoizedState=f}}function cS(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(J(191,i));i.call(r)}}}var Mf={},Kr=$a(Mf),Pc=$a(Mf),Ic=$a(Mf);function po(t){if(t===Mf)throw Error(J(174));return t}function H_(t,e){switch(st(Ic,e),st(Pc,t),st(Kr,Mf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Dv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Dv(e,t)}pt(Kr),st(Kr,e)}function nl(){pt(Kr),pt(Pc),pt(Ic)}function AC(t){po(Ic.current);var e=po(Kr.current),n=Dv(e,t.type);e!==n&&(st(Pc,t),st(Kr,n))}function K_(t){Pc.current===t&&(pt(Kr),pt(Pc))}var xt=$a(0);function Xh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Py=[];function G_(){for(var t=0;t<Py.length;t++)Py[t]._workInProgressVersionPrimary=null;Py.length=0}var yh=Ui.ReactCurrentDispatcher,Iy=Ui.ReactCurrentBatchConfig,Po=0,Et=null,Ft=null,Gt=null,Yh=!1,Qu=!1,Oc=0,TV=0;function hn(){throw Error(J(321))}function X_(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Nr(t[n],e[n]))return!1;return!0}function Y_(t,e,n,r,i,a){if(Po=a,Et=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,yh.current=t===null||t.memoizedState===null?OV:CV,t=n(r,i),Qu){a=0;do{if(Qu=!1,Oc=0,25<=a)throw Error(J(301));a+=1,Gt=Ft=null,e.updateQueue=null,yh.current=RV,t=n(r,i)}while(Qu)}if(yh.current=Qh,e=Ft!==null&&Ft.next!==null,Po=0,Gt=Ft=Et=null,Yh=!1,e)throw Error(J(300));return t}function Q_(){var t=Oc!==0;return Oc=0,t}function Fr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?Et.memoizedState=Gt=t:Gt=Gt.next=t,Gt}function br(){if(Ft===null){var t=Et.alternate;t=t!==null?t.memoizedState:null}else t=Ft.next;var e=Gt===null?Et.memoizedState:Gt.next;if(e!==null)Gt=e,Ft=t;else{if(t===null)throw Error(J(310));Ft=t,t={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},Gt===null?Et.memoizedState=Gt=t:Gt=Gt.next=t}return Gt}function Cc(t,e){return typeof e=="function"?e(t):e}function Oy(t){var e=br(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=Ft,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var s=o=null,l=null,u=a;do{var c=u.lane;if((Po&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,o=r):l=l.next=f,Et.lanes|=c,Io|=c}u=u.next}while(u!==null&&u!==a);l===null?o=r:l.next=s,Nr(r,e.memoizedState)||(Ln=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,Et.lanes|=a,Io|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Cy(t){var e=br(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);Nr(a,e.memoizedState)||(Ln=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function PC(){}function IC(t,e){var n=Et,r=br(),i=e(),a=!Nr(r.memoizedState,i);if(a&&(r.memoizedState=i,Ln=!0),r=r.queue,J_(RC.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||Gt!==null&&Gt.memoizedState.tag&1){if(n.flags|=2048,Rc(9,CC.bind(null,n,r,i,e),void 0,null),Yt===null)throw Error(J(349));Po&30||OC(n,e,i)}return i}function OC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Et.updateQueue,e===null?(e={lastEffect:null,stores:null},Et.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function CC(t,e,n,r){e.value=n,e.getSnapshot=r,NC(e)&&jC(t)}function RC(t,e,n){return n(function(){NC(e)&&jC(t)})}function NC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Nr(t,n)}catch{return!0}}function jC(t){var e=Ci(t,1);e!==null&&Cr(e,t,1,-1)}function fS(t){var e=Fr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cc,lastRenderedState:t},e.queue=t,t=t.dispatch=IV.bind(null,Et,t),[e.memoizedState,t]}function Rc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Et.updateQueue,e===null?(e={lastEffect:null,stores:null},Et.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function DC(){return br().memoizedState}function vh(t,e,n,r){var i=Fr();Et.flags|=t,i.memoizedState=Rc(1|e,n,void 0,r===void 0?null:r)}function xm(t,e,n,r){var i=br();r=r===void 0?null:r;var a=void 0;if(Ft!==null){var o=Ft.memoizedState;if(a=o.destroy,r!==null&&X_(r,o.deps)){i.memoizedState=Rc(e,n,a,r);return}}Et.flags|=t,i.memoizedState=Rc(1|e,n,a,r)}function dS(t,e){return vh(8390656,8,t,e)}function J_(t,e){return xm(2048,8,t,e)}function MC(t,e){return xm(4,2,t,e)}function $C(t,e){return xm(4,4,t,e)}function LC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function VC(t,e,n){return n=n!=null?n.concat([t]):null,xm(4,4,LC.bind(null,e,t),n)}function Z_(){}function FC(t,e){var n=br();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&X_(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function UC(t,e){var n=br();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&X_(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function BC(t,e,n){return Po&21?(Nr(n,e)||(n=KO(),Et.lanes|=n,Io|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ln=!0),t.memoizedState=n)}function AV(t,e){var n=Ke;Ke=n!==0&&4>n?n:4,t(!0);var r=Iy.transition;Iy.transition={};try{t(!1),e()}finally{Ke=n,Iy.transition=r}}function zC(){return br().memoizedState}function PV(t,e,n){var r=wa(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},WC(t))qC(e,n);else if(n=kC(t,e,n,r),n!==null){var i=Rn();Cr(n,t,r,i),HC(n,e,r)}}function IV(t,e,n){var r=wa(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(WC(t))qC(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Nr(s,o)){var l=e.interleaved;l===null?(i.next=i,W_(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=kC(t,e,i,r),n!==null&&(i=Rn(),Cr(n,t,r,i),HC(n,e,r))}}function WC(t){var e=t.alternate;return t===Et||e!==null&&e===Et}function qC(t,e){Qu=Yh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function HC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,O_(t,n)}}var Qh={readContext:vr,useCallback:hn,useContext:hn,useEffect:hn,useImperativeHandle:hn,useInsertionEffect:hn,useLayoutEffect:hn,useMemo:hn,useReducer:hn,useRef:hn,useState:hn,useDebugValue:hn,useDeferredValue:hn,useTransition:hn,useMutableSource:hn,useSyncExternalStore:hn,useId:hn,unstable_isNewReconciler:!1},OV={readContext:vr,useCallback:function(t,e){return Fr().memoizedState=[t,e===void 0?null:e],t},useContext:vr,useEffect:dS,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,vh(4194308,4,LC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return vh(4194308,4,t,e)},useInsertionEffect:function(t,e){return vh(4,2,t,e)},useMemo:function(t,e){var n=Fr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Fr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=PV.bind(null,Et,t),[r.memoizedState,t]},useRef:function(t){var e=Fr();return t={current:t},e.memoizedState=t},useState:fS,useDebugValue:Z_,useDeferredValue:function(t){return Fr().memoizedState=t},useTransition:function(){var t=fS(!1),e=t[0];return t=AV.bind(null,t[1]),Fr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Et,i=Fr();if(bt){if(n===void 0)throw Error(J(407));n=n()}else{if(n=e(),Yt===null)throw Error(J(349));Po&30||OC(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,dS(RC.bind(null,r,a,t),[t]),r.flags|=2048,Rc(9,CC.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=Fr(),e=Yt.identifierPrefix;if(bt){var n=gi,r=mi;n=(r&~(1<<32-Or(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Oc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=TV++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},CV={readContext:vr,useCallback:FC,useContext:vr,useEffect:J_,useImperativeHandle:VC,useInsertionEffect:MC,useLayoutEffect:$C,useMemo:UC,useReducer:Oy,useRef:DC,useState:function(){return Oy(Cc)},useDebugValue:Z_,useDeferredValue:function(t){var e=br();return BC(e,Ft.memoizedState,t)},useTransition:function(){var t=Oy(Cc)[0],e=br().memoizedState;return[t,e]},useMutableSource:PC,useSyncExternalStore:IC,useId:zC,unstable_isNewReconciler:!1},RV={readContext:vr,useCallback:FC,useContext:vr,useEffect:J_,useImperativeHandle:VC,useInsertionEffect:MC,useLayoutEffect:$C,useMemo:UC,useReducer:Cy,useRef:DC,useState:function(){return Cy(Cc)},useDebugValue:Z_,useDeferredValue:function(t){var e=br();return Ft===null?e.memoizedState=t:BC(e,Ft.memoizedState,t)},useTransition:function(){var t=Cy(Cc)[0],e=br().memoizedState;return[t,e]},useMutableSource:PC,useSyncExternalStore:IC,useId:zC,unstable_isNewReconciler:!1};function kr(t,e){if(t&&t.defaultProps){e=St({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function n0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:St({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Em={isMounted:function(t){return(t=t._reactInternals)?qo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Rn(),i=wa(t),a=Ei(r,i);a.payload=e,n!=null&&(a.callback=n),e=ba(t,a,i),e!==null&&(Cr(e,t,i,r),gh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Rn(),i=wa(t),a=Ei(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=ba(t,a,i),e!==null&&(Cr(e,t,i,r),gh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Rn(),r=wa(t),i=Ei(n,r);i.tag=2,e!=null&&(i.callback=e),e=ba(t,i,r),e!==null&&(Cr(e,t,r,n),gh(e,t,r))}};function hS(t,e,n,r,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,o):e.prototype&&e.prototype.isPureReactComponent?!Sc(n,r)||!Sc(i,a):!0}function KC(t,e,n){var r=!1,i=Ca,a=e.contextType;return typeof a=="object"&&a!==null?a=vr(a):(i=Un(e)?To:En.current,r=e.contextTypes,a=(r=r!=null)?Zs(t,i):Ca),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Em,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function pS(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Em.enqueueReplaceState(e,e.state,null)}function r0(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},q_(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=vr(a):(a=Un(e)?To:En.current,i.context=Zs(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(n0(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Em.enqueueReplaceState(i,i.state,null),Gh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function rl(t,e){try{var n="",r=e;do n+=o4(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function Ry(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function i0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var NV=typeof WeakMap=="function"?WeakMap:Map;function GC(t,e,n){n=Ei(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Zh||(Zh=!0,p0=r),i0(t,e)},n}function XC(t,e,n){n=Ei(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){i0(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){i0(t,e),typeof r!="function"&&(_a===null?_a=new Set([this]):_a.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function mS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new NV;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=KV.bind(null,t,e,n),e.then(t,t))}function gS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function yS(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ei(-1,1),e.tag=2,ba(n,e,1))),n.lanes|=1),t)}var jV=Ui.ReactCurrentOwner,Ln=!1;function An(t,e,n,r){e.child=t===null?SC(e,null,n,r):tl(e,t.child,n,r)}function vS(t,e,n,r,i){n=n.render;var a=e.ref;return Bs(e,i),r=Y_(t,e,n,r,a,i),n=Q_(),t!==null&&!Ln?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ri(t,e,i)):(bt&&n&&L_(e),e.flags|=1,An(t,e,r,i),e.child)}function bS(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!sw(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,YC(t,e,a,r,i)):(t=xh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:Sc,n(o,r)&&t.ref===e.ref)return Ri(t,e,i)}return e.flags|=1,t=xa(a,r),t.ref=e.ref,t.return=e,e.child=t}function YC(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(Sc(a,r)&&t.ref===e.ref)if(Ln=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(Ln=!0);else return e.lanes=t.lanes,Ri(t,e,i)}return a0(t,e,n,r,i)}function QC(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},st(Cs,Kn),Kn|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,st(Cs,Kn),Kn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,st(Cs,Kn),Kn|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,st(Cs,Kn),Kn|=r;return An(t,e,i,n),e.child}function JC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function a0(t,e,n,r,i){var a=Un(n)?To:En.current;return a=Zs(e,a),Bs(e,i),n=Y_(t,e,n,r,a,i),r=Q_(),t!==null&&!Ln?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ri(t,e,i)):(bt&&r&&L_(e),e.flags|=1,An(t,e,n,i),e.child)}function _S(t,e,n,r,i){if(Un(n)){var a=!0;zh(e)}else a=!1;if(Bs(e,i),e.stateNode===null)bh(t,e),KC(e,n,r),r0(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=vr(u):(u=Un(n)?To:En.current,u=Zs(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||l!==u)&&pS(e,o,r,u),Zi=!1;var h=e.memoizedState;o.state=h,Gh(e,r,o,i),l=e.memoizedState,s!==r||h!==l||Fn.current||Zi?(typeof c=="function"&&(n0(e,n,c,r),l=e.memoizedState),(s=Zi||hS(e,n,s,r,h,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,TC(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:kr(e.type,s),o.props=u,f=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=vr(l):(l=Un(n)?To:En.current,l=Zs(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||h!==l)&&pS(e,o,r,l),Zi=!1,h=e.memoizedState,o.state=h,Gh(e,r,o,i);var g=e.memoizedState;s!==f||h!==g||Fn.current||Zi?(typeof p=="function"&&(n0(e,n,p,r),g=e.memoizedState),(u=Zi||hS(e,n,u,r,h,g,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return o0(t,e,n,r,a,i)}function o0(t,e,n,r,i,a){JC(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&aS(e,n,!1),Ri(t,e,a);r=e.stateNode,jV.current=e;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=tl(e,t.child,null,a),e.child=tl(e,null,s,a)):An(t,e,s,a),e.memoizedState=r.state,i&&aS(e,n,!0),e.child}function ZC(t){var e=t.stateNode;e.pendingContext?iS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&iS(t,e.context,!1),H_(t,e.containerInfo)}function wS(t,e,n,r,i){return el(),F_(i),e.flags|=256,An(t,e,n,r),e.child}var s0={dehydrated:null,treeContext:null,retryLane:0};function l0(t){return{baseLanes:t,cachePool:null,transitions:null}}function eR(t,e,n){var r=e.pendingProps,i=xt.current,a=!1,o=(e.flags&128)!==0,s;if((s=o)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),st(xt,i&1),t===null)return e0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,a?(r=e.mode,a=e.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Tm(o,r,0,null),t=wo(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=l0(n),e.memoizedState=s0,t):ew(e,o));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return DV(t,e,o,r,s,i,n);if(a){a=r.fallback,o=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=xa(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=xa(s,a):(a=wo(a,o,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,o=t.child.memoizedState,o=o===null?l0(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~n,e.memoizedState=s0,r}return a=t.child,t=a.sibling,r=xa(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ew(t,e){return e=Tm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Vd(t,e,n,r){return r!==null&&F_(r),tl(e,t.child,null,n),t=ew(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function DV(t,e,n,r,i,a,o){if(n)return e.flags&256?(e.flags&=-257,r=Ry(Error(J(422))),Vd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=Tm({mode:"visible",children:r.children},i,0,null),a=wo(a,i,o,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&tl(e,t.child,null,o),e.child.memoizedState=l0(o),e.memoizedState=s0,a);if(!(e.mode&1))return Vd(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,a=Error(J(419)),r=Ry(a,r,void 0),Vd(t,e,o,r)}if(s=(o&t.childLanes)!==0,Ln||s){if(r=Yt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Ci(t,i),Cr(r,t,i,-1))}return ow(),r=Ry(Error(J(421))),Vd(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=GV.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Qn=va(i.nextSibling),Zn=e,bt=!0,Pr=null,t!==null&&(ur[cr++]=mi,ur[cr++]=gi,ur[cr++]=Ao,mi=t.id,gi=t.overflow,Ao=e),e=ew(e,r.children),e.flags|=4096,e)}function xS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),t0(t.return,e,n)}function Ny(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function tR(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(An(t,e,r.children,n),r=xt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xS(t,n,e);else if(t.tag===19)xS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(st(xt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Xh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ny(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Xh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ny(e,!0,n,null,a);break;case"together":Ny(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function bh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ri(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Io|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,n=xa(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=xa(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function MV(t,e,n){switch(e.tag){case 3:ZC(e),el();break;case 5:AC(e);break;case 1:Un(e.type)&&zh(e);break;case 4:H_(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;st(Hh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(st(xt,xt.current&1),e.flags|=128,null):n&e.child.childLanes?eR(t,e,n):(st(xt,xt.current&1),t=Ri(t,e,n),t!==null?t.sibling:null);st(xt,xt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return tR(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),st(xt,xt.current),r)break;return null;case 22:case 23:return e.lanes=0,QC(t,e,n)}return Ri(t,e,n)}var nR,u0,rR,iR;nR=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};u0=function(){};rR=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,po(Kr.current);var a=null;switch(n){case"input":i=Cv(t,i),r=Cv(t,r),a=[];break;case"select":i=St({},i,{value:void 0}),r=St({},r,{value:void 0}),a=[];break;case"textarea":i=jv(t,i),r=jv(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Uh)}Mv(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(yc.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(yc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ct("scroll",t),a||s===l||(a=[])):(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};iR=function(t,e,n,r){n!==r&&(e.flags|=4)};function vu(t,e){if(!bt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function pn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function $V(t,e,n){var r=e.pendingProps;switch(V_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pn(e),null;case 1:return Un(e.type)&&Bh(),pn(e),null;case 3:return r=e.stateNode,nl(),pt(Fn),pt(En),G_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&($d(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Pr!==null&&(y0(Pr),Pr=null))),u0(t,e),pn(e),null;case 5:K_(e);var i=po(Ic.current);if(n=e.type,t!==null&&e.stateNode!=null)rR(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(J(166));return pn(e),null}if(t=po(Kr.current),$d(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[Br]=e,r[Ac]=a,t=(e.mode&1)!==0,n){case"dialog":ct("cancel",r),ct("close",r);break;case"iframe":case"object":case"embed":ct("load",r);break;case"video":case"audio":for(i=0;i<Mu.length;i++)ct(Mu[i],r);break;case"source":ct("error",r);break;case"img":case"image":case"link":ct("error",r),ct("load",r);break;case"details":ct("toggle",r);break;case"input":CE(r,a),ct("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},ct("invalid",r);break;case"textarea":NE(r,a),ct("invalid",r)}Mv(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?r.textContent!==s&&(a.suppressHydrationWarning!==!0&&Md(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&Md(r.textContent,s,t),i=["children",""+s]):yc.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&ct("scroll",r)}switch(n){case"input":Pd(r),RE(r,a,!0);break;case"textarea":Pd(r),jE(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Uh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=RO(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Br]=e,t[Ac]=r,nR(t,e,!1,!1),e.stateNode=t;e:{switch(o=$v(n,r),n){case"dialog":ct("cancel",t),ct("close",t),i=r;break;case"iframe":case"object":case"embed":ct("load",t),i=r;break;case"video":case"audio":for(i=0;i<Mu.length;i++)ct(Mu[i],t);i=r;break;case"source":ct("error",t),i=r;break;case"img":case"image":case"link":ct("error",t),ct("load",t),i=r;break;case"details":ct("toggle",t),i=r;break;case"input":CE(t,r),i=Cv(t,r),ct("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=St({},r,{value:void 0}),ct("invalid",t);break;case"textarea":NE(t,r),i=jv(t,r),ct("invalid",t);break;default:i=r}Mv(n,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?DO(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&NO(t,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&vc(t,l):typeof l=="number"&&vc(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(yc.hasOwnProperty(a)?l!=null&&a==="onScroll"&&ct("scroll",t):l!=null&&S_(t,a,l,o))}switch(n){case"input":Pd(t),RE(t,r,!1);break;case"textarea":Pd(t),jE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Oa(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?Ls(t,!!r.multiple,a,!1):r.defaultValue!=null&&Ls(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Uh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return pn(e),null;case 6:if(t&&e.stateNode!=null)iR(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(J(166));if(n=po(Ic.current),po(Kr.current),$d(e)){if(r=e.stateNode,n=e.memoizedProps,r[Br]=e,(a=r.nodeValue!==n)&&(t=Zn,t!==null))switch(t.tag){case 3:Md(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Md(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Br]=e,e.stateNode=r}return pn(e),null;case 13:if(pt(xt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(bt&&Qn!==null&&e.mode&1&&!(e.flags&128))xC(),el(),e.flags|=98560,a=!1;else if(a=$d(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(J(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(J(317));a[Br]=e}else el(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;pn(e),a=!1}else Pr!==null&&(y0(Pr),Pr=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||xt.current&1?Ut===0&&(Ut=3):ow())),e.updateQueue!==null&&(e.flags|=4),pn(e),null);case 4:return nl(),u0(t,e),t===null&&kc(e.stateNode.containerInfo),pn(e),null;case 10:return z_(e.type._context),pn(e),null;case 17:return Un(e.type)&&Bh(),pn(e),null;case 19:if(pt(xt),a=e.memoizedState,a===null)return pn(e),null;if(r=(e.flags&128)!==0,o=a.rendering,o===null)if(r)vu(a,!1);else{if(Ut!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Xh(t),o!==null){for(e.flags|=128,vu(a,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return st(xt,xt.current&1|2),e.child}t=t.sibling}a.tail!==null&&Rt()>il&&(e.flags|=128,r=!0,vu(a,!1),e.lanes=4194304)}else{if(!r)if(t=Xh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),vu(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!bt)return pn(e),null}else 2*Rt()-a.renderingStartTime>il&&n!==1073741824&&(e.flags|=128,r=!0,vu(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(n=a.last,n!==null?n.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Rt(),e.sibling=null,n=xt.current,st(xt,r?n&1|2:n&1),e):(pn(e),null);case 22:case 23:return aw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Kn&1073741824&&(pn(e),e.subtreeFlags&6&&(e.flags|=8192)):pn(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function LV(t,e){switch(V_(e),e.tag){case 1:return Un(e.type)&&Bh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return nl(),pt(Fn),pt(En),G_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return K_(e),null;case 13:if(pt(xt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));el()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return pt(xt),null;case 4:return nl(),null;case 10:return z_(e.type._context),null;case 22:case 23:return aw(),null;case 24:return null;default:return null}}var Fd=!1,bn=!1,VV=typeof WeakSet=="function"?WeakSet:Set,oe=null;function Os(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Pt(t,e,r)}else n.current=null}function c0(t,e,n){try{n()}catch(r){Pt(t,e,r)}}var ES=!1;function FV(t,e){if(Kv=Lh,t=uC(),$_(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,u=0,c=0,f=t,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(s=o+i),f!==a||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===n&&++u===i&&(s=o),h===a&&++c===r&&(l=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Gv={focusedElem:t,selectionRange:n},Lh=!1,oe=e;oe!==null;)if(e=oe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,oe=t;else for(;oe!==null;){e=oe;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,v=g.memoizedState,x=e.stateNode,y=x.getSnapshotBeforeUpdate(e.elementType===e.type?m:kr(e.type,m),v);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(E){Pt(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,oe=t;break}oe=e.return}return g=ES,ES=!1,g}function Ju(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&c0(e,n,a)}i=i.next}while(i!==r)}}function Sm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function f0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function aR(t){var e=t.alternate;e!==null&&(t.alternate=null,aR(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Br],delete e[Ac],delete e[Qv],delete e[xV],delete e[EV])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function oR(t){return t.tag===5||t.tag===3||t.tag===4}function SS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||oR(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function d0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Uh));else if(r!==4&&(t=t.child,t!==null))for(d0(t,e,n),t=t.sibling;t!==null;)d0(t,e,n),t=t.sibling}function h0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(h0(t,e,n),t=t.sibling;t!==null;)h0(t,e,n),t=t.sibling}var nn=null,Tr=!1;function Xi(t,e,n){for(n=n.child;n!==null;)sR(t,e,n),n=n.sibling}function sR(t,e,n){if(Hr&&typeof Hr.onCommitFiberUnmount=="function")try{Hr.onCommitFiberUnmount(gm,n)}catch{}switch(n.tag){case 5:bn||Os(n,e);case 6:var r=nn,i=Tr;nn=null,Xi(t,e,n),nn=r,Tr=i,nn!==null&&(Tr?(t=nn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):nn.removeChild(n.stateNode));break;case 18:nn!==null&&(Tr?(t=nn,n=n.stateNode,t.nodeType===8?Ty(t.parentNode,n):t.nodeType===1&&Ty(t,n),xc(t)):Ty(nn,n.stateNode));break;case 4:r=nn,i=Tr,nn=n.stateNode.containerInfo,Tr=!0,Xi(t,e,n),nn=r,Tr=i;break;case 0:case 11:case 14:case 15:if(!bn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&c0(n,e,o),i=i.next}while(i!==r)}Xi(t,e,n);break;case 1:if(!bn&&(Os(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Pt(n,e,s)}Xi(t,e,n);break;case 21:Xi(t,e,n);break;case 22:n.mode&1?(bn=(r=bn)||n.memoizedState!==null,Xi(t,e,n),bn=r):Xi(t,e,n);break;default:Xi(t,e,n)}}function kS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new VV),e.forEach(function(r){var i=XV.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Er(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 5:nn=s.stateNode,Tr=!1;break e;case 3:nn=s.stateNode.containerInfo,Tr=!0;break e;case 4:nn=s.stateNode.containerInfo,Tr=!0;break e}s=s.return}if(nn===null)throw Error(J(160));sR(a,o,i),nn=null,Tr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Pt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)lR(e,t),e=e.sibling}function lR(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Er(e,t),Lr(t),r&4){try{Ju(3,t,t.return),Sm(3,t)}catch(m){Pt(t,t.return,m)}try{Ju(5,t,t.return)}catch(m){Pt(t,t.return,m)}}break;case 1:Er(e,t),Lr(t),r&512&&n!==null&&Os(n,n.return);break;case 5:if(Er(e,t),Lr(t),r&512&&n!==null&&Os(n,n.return),t.flags&32){var i=t.stateNode;try{vc(i,"")}catch(m){Pt(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=n!==null?n.memoizedProps:a,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&OO(i,a),$v(s,o);var u=$v(s,a);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?DO(i,f):c==="dangerouslySetInnerHTML"?NO(i,f):c==="children"?vc(i,f):S_(i,c,f,u)}switch(s){case"input":Rv(i,a);break;case"textarea":CO(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?Ls(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?Ls(i,!!a.multiple,a.defaultValue,!0):Ls(i,!!a.multiple,a.multiple?[]:"",!1))}i[Ac]=a}catch(m){Pt(t,t.return,m)}}break;case 6:if(Er(e,t),Lr(t),r&4){if(t.stateNode===null)throw Error(J(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(m){Pt(t,t.return,m)}}break;case 3:if(Er(e,t),Lr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xc(e.containerInfo)}catch(m){Pt(t,t.return,m)}break;case 4:Er(e,t),Lr(t);break;case 13:Er(e,t),Lr(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(rw=Rt())),r&4&&kS(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(bn=(u=bn)||c,Er(e,t),bn=u):Er(e,t),Lr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(oe=t,c=t.child;c!==null;){for(f=oe=c;oe!==null;){switch(h=oe,p=h.child,h.tag){case 0:case 11:case 14:case 15:Ju(4,h,h.return);break;case 1:Os(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(m){Pt(r,n,m)}}break;case 5:Os(h,h.return);break;case 22:if(h.memoizedState!==null){AS(f);continue}}p!==null?(p.return=h,oe=p):AS(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=jO("display",o))}catch(m){Pt(t,t.return,m)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){Pt(t,t.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Er(e,t),Lr(t),r&4&&kS(t);break;case 21:break;default:Er(e,t),Lr(t)}}function Lr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(oR(n)){var r=n;break e}n=n.return}throw Error(J(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(vc(i,""),r.flags&=-33);var a=SS(t);h0(t,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,s=SS(t);d0(t,s,o);break;default:throw Error(J(161))}}catch(l){Pt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function UV(t,e,n){oe=t,uR(t)}function uR(t,e,n){for(var r=(t.mode&1)!==0;oe!==null;){var i=oe,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Fd;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||bn;s=Fd;var u=bn;if(Fd=o,(bn=l)&&!u)for(oe=i;oe!==null;)o=oe,l=o.child,o.tag===22&&o.memoizedState!==null?PS(i):l!==null?(l.return=o,oe=l):PS(i);for(;a!==null;)oe=a,uR(a),a=a.sibling;oe=i,Fd=s,bn=u}TS(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,oe=a):TS(t)}}function TS(t){for(;oe!==null;){var e=oe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:bn||Sm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!bn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:kr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&cS(e,a,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}cS(e,o,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&xc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}bn||e.flags&512&&f0(e)}catch(h){Pt(e,e.return,h)}}if(e===t){oe=null;break}if(n=e.sibling,n!==null){n.return=e.return,oe=n;break}oe=e.return}}function AS(t){for(;oe!==null;){var e=oe;if(e===t){oe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,oe=n;break}oe=e.return}}function PS(t){for(;oe!==null;){var e=oe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Sm(4,e)}catch(l){Pt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Pt(e,i,l)}}var a=e.return;try{f0(e)}catch(l){Pt(e,a,l)}break;case 5:var o=e.return;try{f0(e)}catch(l){Pt(e,o,l)}}}catch(l){Pt(e,e.return,l)}if(e===t){oe=null;break}var s=e.sibling;if(s!==null){s.return=e.return,oe=s;break}oe=e.return}}var BV=Math.ceil,Jh=Ui.ReactCurrentDispatcher,tw=Ui.ReactCurrentOwner,mr=Ui.ReactCurrentBatchConfig,Le=0,Yt=null,Dt=null,on=0,Kn=0,Cs=$a(0),Ut=0,Nc=null,Io=0,km=0,nw=0,Zu=null,Mn=null,rw=0,il=1/0,di=null,Zh=!1,p0=null,_a=null,Ud=!1,fa=null,ep=0,ec=0,m0=null,_h=-1,wh=0;function Rn(){return Le&6?Rt():_h!==-1?_h:_h=Rt()}function wa(t){return t.mode&1?Le&2&&on!==0?on&-on:kV.transition!==null?(wh===0&&(wh=KO()),wh):(t=Ke,t!==0||(t=window.event,t=t===void 0?16:eC(t.type)),t):1}function Cr(t,e,n,r){if(50<ec)throw ec=0,m0=null,Error(J(185));Nf(t,n,r),(!(Le&2)||t!==Yt)&&(t===Yt&&(!(Le&2)&&(km|=n),Ut===4&&ra(t,on)),Bn(t,r),n===1&&Le===0&&!(e.mode&1)&&(il=Rt()+500,wm&&La()))}function Bn(t,e){var n=t.callbackNode;k4(t,e);var r=$h(t,t===Yt?on:0);if(r===0)n!==null&&$E(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&$E(n),e===1)t.tag===0?SV(IS.bind(null,t)):bC(IS.bind(null,t)),_V(function(){!(Le&6)&&La()}),n=null;else{switch(GO(r)){case 1:n=I_;break;case 4:n=qO;break;case 16:n=Mh;break;case 536870912:n=HO;break;default:n=Mh}n=yR(n,cR.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function cR(t,e){if(_h=-1,wh=0,Le&6)throw Error(J(327));var n=t.callbackNode;if(zs()&&t.callbackNode!==n)return null;var r=$h(t,t===Yt?on:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=tp(t,r);else{e=r;var i=Le;Le|=2;var a=dR();(Yt!==t||on!==e)&&(di=null,il=Rt()+500,_o(t,e));do try{qV();break}catch(s){fR(t,s)}while(!0);B_(),Jh.current=a,Le=i,Dt!==null?e=0:(Yt=null,on=0,e=Ut)}if(e!==0){if(e===2&&(i=Bv(t),i!==0&&(r=i,e=g0(t,i))),e===1)throw n=Nc,_o(t,0),ra(t,r),Bn(t,Rt()),n;if(e===6)ra(t,r);else{if(i=t.current.alternate,!(r&30)&&!zV(i)&&(e=tp(t,r),e===2&&(a=Bv(t),a!==0&&(r=a,e=g0(t,a))),e===1))throw n=Nc,_o(t,0),ra(t,r),Bn(t,Rt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(J(345));case 2:ao(t,Mn,di);break;case 3:if(ra(t,r),(r&130023424)===r&&(e=rw+500-Rt(),10<e)){if($h(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Rn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Yv(ao.bind(null,t,Mn,di),e);break}ao(t,Mn,di);break;case 4:if(ra(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Or(r);a=1<<o,o=e[o],o>i&&(i=o),r&=~a}if(r=i,r=Rt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*BV(r/1960))-r,10<r){t.timeoutHandle=Yv(ao.bind(null,t,Mn,di),r);break}ao(t,Mn,di);break;case 5:ao(t,Mn,di);break;default:throw Error(J(329))}}}return Bn(t,Rt()),t.callbackNode===n?cR.bind(null,t):null}function g0(t,e){var n=Zu;return t.current.memoizedState.isDehydrated&&(_o(t,e).flags|=256),t=tp(t,e),t!==2&&(e=Mn,Mn=n,e!==null&&y0(e)),t}function y0(t){Mn===null?Mn=t:Mn.push.apply(Mn,t)}function zV(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Nr(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ra(t,e){for(e&=~nw,e&=~km,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Or(e),r=1<<n;t[n]=-1,e&=~r}}function IS(t){if(Le&6)throw Error(J(327));zs();var e=$h(t,0);if(!(e&1))return Bn(t,Rt()),null;var n=tp(t,e);if(t.tag!==0&&n===2){var r=Bv(t);r!==0&&(e=r,n=g0(t,r))}if(n===1)throw n=Nc,_o(t,0),ra(t,e),Bn(t,Rt()),n;if(n===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ao(t,Mn,di),Bn(t,Rt()),null}function iw(t,e){var n=Le;Le|=1;try{return t(e)}finally{Le=n,Le===0&&(il=Rt()+500,wm&&La())}}function Oo(t){fa!==null&&fa.tag===0&&!(Le&6)&&zs();var e=Le;Le|=1;var n=mr.transition,r=Ke;try{if(mr.transition=null,Ke=1,t)return t()}finally{Ke=r,mr.transition=n,Le=e,!(Le&6)&&La()}}function aw(){Kn=Cs.current,pt(Cs)}function _o(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,bV(n)),Dt!==null)for(n=Dt.return;n!==null;){var r=n;switch(V_(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Bh();break;case 3:nl(),pt(Fn),pt(En),G_();break;case 5:K_(r);break;case 4:nl();break;case 13:pt(xt);break;case 19:pt(xt);break;case 10:z_(r.type._context);break;case 22:case 23:aw()}n=n.return}if(Yt=t,Dt=t=xa(t.current,null),on=Kn=e,Ut=0,Nc=null,nw=km=Io=0,Mn=Zu=null,ho!==null){for(e=0;e<ho.length;e++)if(n=ho[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}ho=null}return t}function fR(t,e){do{var n=Dt;try{if(B_(),yh.current=Qh,Yh){for(var r=Et.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Yh=!1}if(Po=0,Gt=Ft=Et=null,Qu=!1,Oc=0,tw.current=null,n===null||n.return===null){Ut=1,Nc=e,Dt=null;break}e:{var a=t,o=n.return,s=n,l=e;if(e=on,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=gS(o);if(p!==null){p.flags&=-257,yS(p,o,s,a,e),p.mode&1&&mS(a,u,e),e=p,l=u;var g=e.updateQueue;if(g===null){var m=new Set;m.add(l),e.updateQueue=m}else g.add(l);break e}else{if(!(e&1)){mS(a,u,e),ow();break e}l=Error(J(426))}}else if(bt&&s.mode&1){var v=gS(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),yS(v,o,s,a,e),F_(rl(l,s));break e}}a=l=rl(l,s),Ut!==4&&(Ut=2),Zu===null?Zu=[a]:Zu.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var x=GC(a,l,e);uS(a,x);break e;case 1:s=l;var y=a.type,_=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(_a===null||!_a.has(_)))){a.flags|=65536,e&=-e,a.lanes|=e;var E=XC(a,s,e);uS(a,E);break e}}a=a.return}while(a!==null)}pR(n)}catch(T){e=T,Dt===n&&n!==null&&(Dt=n=n.return);continue}break}while(!0)}function dR(){var t=Jh.current;return Jh.current=Qh,t===null?Qh:t}function ow(){(Ut===0||Ut===3||Ut===2)&&(Ut=4),Yt===null||!(Io&268435455)&&!(km&268435455)||ra(Yt,on)}function tp(t,e){var n=Le;Le|=2;var r=dR();(Yt!==t||on!==e)&&(di=null,_o(t,e));do try{WV();break}catch(i){fR(t,i)}while(!0);if(B_(),Le=n,Jh.current=r,Dt!==null)throw Error(J(261));return Yt=null,on=0,Ut}function WV(){for(;Dt!==null;)hR(Dt)}function qV(){for(;Dt!==null&&!g4();)hR(Dt)}function hR(t){var e=gR(t.alternate,t,Kn);t.memoizedProps=t.pendingProps,e===null?pR(t):Dt=e,tw.current=null}function pR(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=LV(n,e),n!==null){n.flags&=32767,Dt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ut=6,Dt=null;return}}else if(n=$V(n,e,Kn),n!==null){Dt=n;return}if(e=e.sibling,e!==null){Dt=e;return}Dt=e=t}while(e!==null);Ut===0&&(Ut=5)}function ao(t,e,n){var r=Ke,i=mr.transition;try{mr.transition=null,Ke=1,HV(t,e,n,r)}finally{mr.transition=i,Ke=r}return null}function HV(t,e,n,r){do zs();while(fa!==null);if(Le&6)throw Error(J(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(T4(t,a),t===Yt&&(Dt=Yt=null,on=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ud||(Ud=!0,yR(Mh,function(){return zs(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=mr.transition,mr.transition=null;var o=Ke;Ke=1;var s=Le;Le|=4,tw.current=null,FV(t,n),lR(n,t),dV(Gv),Lh=!!Kv,Gv=Kv=null,t.current=n,UV(n),y4(),Le=s,Ke=o,mr.transition=a}else t.current=n;if(Ud&&(Ud=!1,fa=t,ep=i),a=t.pendingLanes,a===0&&(_a=null),_4(n.stateNode),Bn(t,Rt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Zh)throw Zh=!1,t=p0,p0=null,t;return ep&1&&t.tag!==0&&zs(),a=t.pendingLanes,a&1?t===m0?ec++:(ec=0,m0=t):ec=0,La(),null}function zs(){if(fa!==null){var t=GO(ep),e=mr.transition,n=Ke;try{if(mr.transition=null,Ke=16>t?16:t,fa===null)var r=!1;else{if(t=fa,fa=null,ep=0,Le&6)throw Error(J(331));var i=Le;for(Le|=4,oe=t.current;oe!==null;){var a=oe,o=a.child;if(oe.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(oe=u;oe!==null;){var c=oe;switch(c.tag){case 0:case 11:case 15:Ju(8,c,a)}var f=c.child;if(f!==null)f.return=c,oe=f;else for(;oe!==null;){c=oe;var h=c.sibling,p=c.return;if(aR(c),c===u){oe=null;break}if(h!==null){h.return=p,oe=h;break}oe=p}}}var g=a.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}oe=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,oe=o;else e:for(;oe!==null;){if(a=oe,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Ju(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,oe=x;break e}oe=a.return}}var y=t.current;for(oe=y;oe!==null;){o=oe;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,oe=_;else e:for(o=y;oe!==null;){if(s=oe,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Sm(9,s)}}catch(T){Pt(s,s.return,T)}if(s===o){oe=null;break e}var E=s.sibling;if(E!==null){E.return=s.return,oe=E;break e}oe=s.return}}if(Le=i,La(),Hr&&typeof Hr.onPostCommitFiberRoot=="function")try{Hr.onPostCommitFiberRoot(gm,t)}catch{}r=!0}return r}finally{Ke=n,mr.transition=e}}return!1}function OS(t,e,n){e=rl(n,e),e=GC(t,e,1),t=ba(t,e,1),e=Rn(),t!==null&&(Nf(t,1,e),Bn(t,e))}function Pt(t,e,n){if(t.tag===3)OS(t,t,n);else for(;e!==null;){if(e.tag===3){OS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_a===null||!_a.has(r))){t=rl(n,t),t=XC(e,t,1),e=ba(e,t,1),t=Rn(),e!==null&&(Nf(e,1,t),Bn(e,t));break}}e=e.return}}function KV(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Rn(),t.pingedLanes|=t.suspendedLanes&n,Yt===t&&(on&n)===n&&(Ut===4||Ut===3&&(on&130023424)===on&&500>Rt()-rw?_o(t,0):nw|=n),Bn(t,e)}function mR(t,e){e===0&&(t.mode&1?(e=Cd,Cd<<=1,!(Cd&130023424)&&(Cd=4194304)):e=1);var n=Rn();t=Ci(t,e),t!==null&&(Nf(t,e,n),Bn(t,n))}function GV(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),mR(t,n)}function XV(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(e),mR(t,n)}var gR;gR=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Fn.current)Ln=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ln=!1,MV(t,e,n);Ln=!!(t.flags&131072)}else Ln=!1,bt&&e.flags&1048576&&_C(e,qh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;bh(t,e),t=e.pendingProps;var i=Zs(e,En.current);Bs(e,n),i=Y_(null,e,r,t,i,n);var a=Q_();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Un(r)?(a=!0,zh(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,q_(e),i.updater=Em,e.stateNode=i,i._reactInternals=e,r0(e,r,t,n),e=o0(null,e,r,!0,a,n)):(e.tag=0,bt&&a&&L_(e),An(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(bh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=QV(r),t=kr(r,t),i){case 0:e=a0(null,e,r,t,n);break e;case 1:e=_S(null,e,r,t,n);break e;case 11:e=vS(null,e,r,t,n);break e;case 14:e=bS(null,e,r,kr(r.type,t),n);break e}throw Error(J(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kr(r,i),a0(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kr(r,i),_S(t,e,r,i,n);case 3:e:{if(ZC(e),t===null)throw Error(J(387));r=e.pendingProps,a=e.memoizedState,i=a.element,TC(t,e),Gh(e,r,null,n);var o=e.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=rl(Error(J(423)),e),e=wS(t,e,r,n,i);break e}else if(r!==i){i=rl(Error(J(424)),e),e=wS(t,e,r,n,i);break e}else for(Qn=va(e.stateNode.containerInfo.firstChild),Zn=e,bt=!0,Pr=null,n=SC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(el(),r===i){e=Ri(t,e,n);break e}An(t,e,r,n)}e=e.child}return e;case 5:return AC(e),t===null&&e0(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,Xv(r,i)?o=null:a!==null&&Xv(r,a)&&(e.flags|=32),JC(t,e),An(t,e,o,n),e.child;case 6:return t===null&&e0(e),null;case 13:return eR(t,e,n);case 4:return H_(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=tl(e,null,r,n):An(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kr(r,i),vS(t,e,r,i,n);case 7:return An(t,e,e.pendingProps,n),e.child;case 8:return An(t,e,e.pendingProps.children,n),e.child;case 12:return An(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,st(Hh,r._currentValue),r._currentValue=o,a!==null)if(Nr(a.value,o)){if(a.children===i.children&&!Fn.current){e=Ri(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=Ei(-1,n&-n),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),t0(a.return,n,e),s.lanes|=n;break}l=l.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(J(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),t0(o,n,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}An(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Bs(e,n),i=vr(i),r=r(i),e.flags|=1,An(t,e,r,n),e.child;case 14:return r=e.type,i=kr(r,e.pendingProps),i=kr(r.type,i),bS(t,e,r,i,n);case 15:return YC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kr(r,i),bh(t,e),e.tag=1,Un(r)?(t=!0,zh(e)):t=!1,Bs(e,n),KC(e,r,i),r0(e,r,i,n),o0(null,e,r,!0,t,n);case 19:return tR(t,e,n);case 22:return QC(t,e,n)}throw Error(J(156,e.tag))};function yR(t,e){return WO(t,e)}function YV(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hr(t,e,n,r){return new YV(t,e,n,r)}function sw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function QV(t){if(typeof t=="function")return sw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===T_)return 11;if(t===A_)return 14}return 2}function xa(t,e){var n=t.alternate;return n===null?(n=hr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function xh(t,e,n,r,i,a){var o=2;if(r=t,typeof t=="function")sw(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ws:return wo(n.children,i,a,e);case k_:o=8,i|=8;break;case Av:return t=hr(12,n,e,i|2),t.elementType=Av,t.lanes=a,t;case Pv:return t=hr(13,n,e,i),t.elementType=Pv,t.lanes=a,t;case Iv:return t=hr(19,n,e,i),t.elementType=Iv,t.lanes=a,t;case AO:return Tm(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case kO:o=10;break e;case TO:o=9;break e;case T_:o=11;break e;case A_:o=14;break e;case Ji:o=16,r=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=hr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function wo(t,e,n,r){return t=hr(7,t,r,e),t.lanes=n,t}function Tm(t,e,n,r){return t=hr(22,t,r,e),t.elementType=AO,t.lanes=n,t.stateNode={isHidden:!1},t}function jy(t,e,n){return t=hr(6,t,null,e),t.lanes=n,t}function Dy(t,e,n){return e=hr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function JV(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=my(0),this.expirationTimes=my(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=my(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function lw(t,e,n,r,i,a,o,s,l){return t=new JV(t,e,n,s,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=hr(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},q_(a),t}function ZV(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_s,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function vR(t){if(!t)return Ca;t=t._reactInternals;e:{if(qo(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Un(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var n=t.type;if(Un(n))return vC(t,n,e)}return e}function bR(t,e,n,r,i,a,o,s,l){return t=lw(n,r,!0,t,i,a,o,s,l),t.context=vR(null),n=t.current,r=Rn(),i=wa(n),a=Ei(r,i),a.callback=e??null,ba(n,a,i),t.current.lanes=i,Nf(t,i,r),Bn(t,r),t}function Am(t,e,n,r){var i=e.current,a=Rn(),o=wa(i);return n=vR(n),e.context===null?e.context=n:e.pendingContext=n,e=Ei(a,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ba(i,e,o),t!==null&&(Cr(t,i,o,a),gh(t,i,o)),o}function np(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function CS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function uw(t,e){CS(t,e),(t=t.alternate)&&CS(t,e)}function e3(){return null}var _R=typeof reportError=="function"?reportError:function(t){console.error(t)};function cw(t){this._internalRoot=t}Pm.prototype.render=cw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));Am(t,e,null,null)};Pm.prototype.unmount=cw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Oo(function(){Am(null,t,null,null)}),e[Oi]=null}};function Pm(t){this._internalRoot=t}Pm.prototype.unstable_scheduleHydration=function(t){if(t){var e=QO();t={blockedOn:null,target:t,priority:e};for(var n=0;n<na.length&&e!==0&&e<na[n].priority;n++);na.splice(n,0,t),n===0&&ZO(t)}};function fw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Im(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function RS(){}function t3(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var u=np(o);a.call(u)}}var o=bR(e,r,t,0,null,!1,!1,"",RS);return t._reactRootContainer=o,t[Oi]=o.current,kc(t.nodeType===8?t.parentNode:t),Oo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=np(l);s.call(u)}}var l=lw(t,0,!1,null,null,!1,!1,"",RS);return t._reactRootContainer=l,t[Oi]=l.current,kc(t.nodeType===8?t.parentNode:t),Oo(function(){Am(e,l,n,r)}),l}function Om(t,e,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=np(o);s.call(l)}}Am(e,o,t,i)}else o=t3(n,e,t,i,r);return np(o)}XO=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Du(e.pendingLanes);n!==0&&(O_(e,n|1),Bn(e,Rt()),!(Le&6)&&(il=Rt()+500,La()))}break;case 13:Oo(function(){var r=Ci(t,1);if(r!==null){var i=Rn();Cr(r,t,1,i)}}),uw(t,1)}};C_=function(t){if(t.tag===13){var e=Ci(t,134217728);if(e!==null){var n=Rn();Cr(e,t,134217728,n)}uw(t,134217728)}};YO=function(t){if(t.tag===13){var e=wa(t),n=Ci(t,e);if(n!==null){var r=Rn();Cr(n,t,e,r)}uw(t,e)}};QO=function(){return Ke};JO=function(t,e){var n=Ke;try{return Ke=t,e()}finally{Ke=n}};Vv=function(t,e,n){switch(e){case"input":if(Rv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=_m(r);if(!i)throw Error(J(90));IO(r),Rv(r,i)}}}break;case"textarea":CO(t,n);break;case"select":e=n.value,e!=null&&Ls(t,!!n.multiple,e,!1)}};LO=iw;VO=Oo;var n3={usingClientEntryPoint:!1,Events:[Df,ks,_m,MO,$O,iw]},bu={findFiberByHostInstance:fo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},r3={bundleType:bu.bundleType,version:bu.version,rendererPackageName:bu.rendererPackageName,rendererConfig:bu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ui.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=BO(t),t===null?null:t.stateNode},findFiberByHostInstance:bu.findFiberByHostInstance||e3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bd.isDisabled&&Bd.supportsFiber)try{gm=Bd.inject(r3),Hr=Bd}catch{}}nr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n3;nr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fw(e))throw Error(J(200));return ZV(t,e,null,n)};nr.createRoot=function(t,e){if(!fw(t))throw Error(J(299));var n=!1,r="",i=_R;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=lw(t,1,!1,null,null,n,!1,r,i),t[Oi]=e.current,kc(t.nodeType===8?t.parentNode:t),new cw(e)};nr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=BO(e),t=t===null?null:t.stateNode,t};nr.flushSync=function(t){return Oo(t)};nr.hydrate=function(t,e,n){if(!Im(e))throw Error(J(200));return Om(null,t,e,!0,n)};nr.hydrateRoot=function(t,e,n){if(!fw(t))throw Error(J(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=_R;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=bR(e,null,t,1,n??null,i,!1,a,o),t[Oi]=e.current,kc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Pm(e)};nr.render=function(t,e,n){if(!Im(e))throw Error(J(200));return Om(null,t,e,!1,n)};nr.unmountComponentAtNode=function(t){if(!Im(t))throw Error(J(40));return t._reactRootContainer?(Oo(function(){Om(null,null,t,!1,function(){t._reactRootContainer=null,t[Oi]=null})}),!0):!1};nr.unstable_batchedUpdates=iw;nr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Im(n))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return Om(t,e,n,!1,r)};nr.version="18.3.1-next-f1338f8080-20240426";function wR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(wR)}catch(t){console.error(t)}}wR(),wO.exports=nr;var i3=wO.exports,xR,NS=i3;xR=NS.createRoot,NS.hydrateRoot;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jc(){return jc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jc.apply(this,arguments)}var da;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(da||(da={}));const jS="popstate";function a3(t){t===void 0&&(t={});function e(r,i){let{pathname:a,search:o,hash:s}=r.location;return v0("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:rp(i)}return s3(e,n,null,t)}function Nt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ER(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function o3(){return Math.random().toString(36).substr(2,8)}function DS(t,e){return{usr:t.state,key:t.key,idx:e}}function v0(t,e,n,r){return n===void 0&&(n=null),jc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Nl(e):e,{state:n,key:e&&e.key||r||o3()})}function rp(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Nl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function s3(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s=da.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(jc({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function f(){s=da.Pop;let v=c(),x=v==null?null:v-u;u=v,l&&l({action:s,location:m.location,delta:x})}function h(v,x){s=da.Push;let y=v0(m.location,v,x);u=c()+1;let _=DS(y,u),E=m.createHref(y);try{o.pushState(_,"",E)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(E)}a&&l&&l({action:s,location:m.location,delta:1})}function p(v,x){s=da.Replace;let y=v0(m.location,v,x);u=c();let _=DS(y,u),E=m.createHref(y);o.replaceState(_,"",E),a&&l&&l({action:s,location:m.location,delta:0})}function g(v){let x=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof v=="string"?v:rp(v);return y=y.replace(/ $/,"%20"),Nt(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let m={get action(){return s},get location(){return t(i,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(jS,f),l=v,()=>{i.removeEventListener(jS,f),l=null}},createHref(v){return e(i,v)},createURL:g,encodeLocation(v){let x=g(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:p,go(v){return o.go(v)}};return m}var MS;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(MS||(MS={}));function l3(t,e,n){return n===void 0&&(n="/"),u3(t,e,n,!1)}function u3(t,e,n,r){let i=typeof e=="string"?Nl(e):e,a=dw(i.pathname||"/",n);if(a==null)return null;let o=SR(t);c3(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let u=w3(a);s=b3(o[l],u,r)}return s}function SR(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,o,s)=>{let l={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};l.relativePath.startsWith("/")&&(Nt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Ea([r,l.relativePath]),c=n.concat(l);a.children&&a.children.length>0&&(Nt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),SR(a.children,e,c,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:y3(u,a.index),routesMeta:c})};return t.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let l of kR(a.path))i(a,o,l)}),e}function kR(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=kR(r.join("/")),s=[];return s.push(...o.map(l=>l===""?a:[a,l].join("/"))),i&&s.push(...o),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function c3(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:v3(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const f3=/^:[\w-]+$/,d3=3,h3=2,p3=1,m3=10,g3=-2,$S=t=>t==="*";function y3(t,e){let n=t.split("/"),r=n.length;return n.some($S)&&(r+=g3),e&&(r+=h3),n.filter(i=>!$S(i)).reduce((i,a)=>i+(f3.test(a)?d3:a===""?p3:m3),r)}function v3(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function b3(t,e,n){let{routesMeta:r}=t,i={},a="/",o=[];for(let s=0;s<r.length;++s){let l=r[s],u=s===r.length-1,c=a==="/"?e:e.slice(a.length)||"/",f=LS({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=LS({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Ea([a,f.pathname]),pathnameBase:k3(Ea([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=Ea([a,f.pathnameBase]))}return o}function LS(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=_3(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((u,c,f)=>{let{paramName:h,isOptional:p}=c;if(h==="*"){let m=s[f]||"";o=a.slice(0,a.length-m.length).replace(/(.)\/+$/,"$1")}const g=s[f];return p&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:t}}function _3(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ER(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function w3(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ER(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function dw(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function x3(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Nl(t):t;return{pathname:n?n.startsWith("/")?n:E3(n,e):e,search:T3(r),hash:A3(i)}}function E3(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function My(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function S3(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function hw(t,e){let n=S3(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function pw(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Nl(t):(i=jc({},t),Nt(!i.pathname||!i.pathname.includes("?"),My("?","pathname","search",i)),Nt(!i.pathname||!i.pathname.includes("#"),My("#","pathname","hash",i)),Nt(!i.search||!i.search.includes("#"),My("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}s=f>=0?e[f]:"/"}let l=x3(i,s),u=o&&o!=="/"&&o.endsWith("/"),c=(a||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Ea=t=>t.join("/").replace(/\/\/+/g,"/"),k3=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),T3=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,A3=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function P3(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const TR=["post","put","patch","delete"];new Set(TR);const I3=["get",...TR];new Set(I3);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dc(){return Dc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dc.apply(this,arguments)}const mw=D.createContext(null),O3=D.createContext(null),Va=D.createContext(null),Cm=D.createContext(null),Fa=D.createContext({outlet:null,matches:[],isDataRoute:!1}),AR=D.createContext(null);function C3(t,e){let{relative:n}=e===void 0?{}:e;jl()||Nt(!1);let{basename:r,navigator:i}=D.useContext(Va),{hash:a,pathname:o,search:s}=IR(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Ea([r,o])),i.createHref({pathname:l,search:s,hash:a})}function jl(){return D.useContext(Cm)!=null}function Ho(){return jl()||Nt(!1),D.useContext(Cm).location}function PR(t){D.useContext(Va).static||D.useLayoutEffect(t)}function gw(){let{isDataRoute:t}=D.useContext(Fa);return t?W3():R3()}function R3(){jl()||Nt(!1);let t=D.useContext(mw),{basename:e,future:n,navigator:r}=D.useContext(Va),{matches:i}=D.useContext(Fa),{pathname:a}=Ho(),o=JSON.stringify(hw(i,n.v7_relativeSplatPath)),s=D.useRef(!1);return PR(()=>{s.current=!0}),D.useCallback(function(u,c){if(c===void 0&&(c={}),!s.current)return;if(typeof u=="number"){r.go(u);return}let f=pw(u,JSON.parse(o),a,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Ea([e,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[e,r,o,a,t])}function IR(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=D.useContext(Va),{matches:i}=D.useContext(Fa),{pathname:a}=Ho(),o=JSON.stringify(hw(i,r.v7_relativeSplatPath));return D.useMemo(()=>pw(t,JSON.parse(o),a,n==="path"),[t,o,a,n])}function N3(t,e){return j3(t,e)}function j3(t,e,n,r){jl()||Nt(!1);let{navigator:i}=D.useContext(Va),{matches:a}=D.useContext(Fa),o=a[a.length-1],s=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Ho(),c;if(e){var f;let v=typeof e=="string"?Nl(e):e;l==="/"||(f=v.pathname)!=null&&f.startsWith(l)||Nt(!1),c=v}else c=u;let h=c.pathname||"/",p=h;if(l!=="/"){let v=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=l3(t,{pathname:p}),m=V3(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},s,v.params),pathname:Ea([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:Ea([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,n,r);return e&&m?D.createElement(Cm.Provider,{value:{location:Dc({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:da.Pop}},m):m}function D3(){let t=z3(),e=P3(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:i},n):null,null)}const M3=D.createElement(D3,null);class $3 extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?D.createElement(Fa.Provider,{value:this.props.routeContext},D.createElement(AR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function L3(t){let{routeContext:e,match:n,children:r}=t,i=D.useContext(mw);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),D.createElement(Fa.Provider,{value:e},r)}function V3(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,s=(i=n)==null?void 0:i.errors;if(s!=null){let c=o.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);c>=0||Nt(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let f=o[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:h,errors:p}=n,g=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,f,h)=>{let p,g=!1,m=null,v=null;n&&(p=s&&f.route.id?s[f.route.id]:void 0,m=f.route.errorElement||M3,l&&(u<0&&h===0?(g=!0,v=null):u===h&&(g=!0,v=f.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,h+1)),y=()=>{let _;return p?_=m:g?_=v:f.route.Component?_=D.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=c,D.createElement(L3,{match:f,routeContext:{outlet:c,matches:x,isDataRoute:n!=null},children:_})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?D.createElement($3,{location:n.location,revalidation:n.revalidation,component:m,error:p,children:y(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):y()},null)}var OR=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(OR||{}),ip=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ip||{});function F3(t){let e=D.useContext(mw);return e||Nt(!1),e}function U3(t){let e=D.useContext(O3);return e||Nt(!1),e}function B3(t){let e=D.useContext(Fa);return e||Nt(!1),e}function CR(t){let e=B3(),n=e.matches[e.matches.length-1];return n.route.id||Nt(!1),n.route.id}function z3(){var t;let e=D.useContext(AR),n=U3(ip.UseRouteError),r=CR(ip.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function W3(){let{router:t}=F3(OR.UseNavigateStable),e=CR(ip.UseNavigateStable),n=D.useRef(!1);return PR(()=>{n.current=!0}),D.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Dc({fromRouteId:e},a)))},[t,e])}function yw(t){let{to:e,replace:n,state:r,relative:i}=t;jl()||Nt(!1);let{future:a,static:o}=D.useContext(Va),{matches:s}=D.useContext(Fa),{pathname:l}=Ho(),u=gw(),c=pw(e,hw(s,a.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(c);return D.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function Qi(t){Nt(!1)}function q3(t){let{basename:e="/",children:n=null,location:r,navigationType:i=da.Pop,navigator:a,static:o=!1,future:s}=t;jl()&&Nt(!1);let l=e.replace(/^\/*/,"/"),u=D.useMemo(()=>({basename:l,navigator:a,static:o,future:Dc({v7_relativeSplatPath:!1},s)}),[l,s,a,o]);typeof r=="string"&&(r=Nl(r));let{pathname:c="/",search:f="",hash:h="",state:p=null,key:g="default"}=r,m=D.useMemo(()=>{let v=dw(c,l);return v==null?null:{location:{pathname:v,search:f,hash:h,state:p,key:g},navigationType:i}},[l,c,f,h,p,g,i]);return m==null?null:D.createElement(Va.Provider,{value:u},D.createElement(Cm.Provider,{children:n,value:m}))}function H3(t){let{children:e,location:n}=t;return N3(b0(e),n)}new Promise(()=>{});function b0(t,e){e===void 0&&(e=[]);let n=[];return D.Children.forEach(t,(r,i)=>{if(!D.isValidElement(r))return;let a=[...e,i];if(r.type===D.Fragment){n.push.apply(n,b0(r.props.children,a));return}r.type!==Qi&&Nt(!1),!r.props.index||!r.props.children||Nt(!1);let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=b0(r.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _0(){return _0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_0.apply(this,arguments)}function K3(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function G3(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function X3(t,e){return t.button===0&&(!e||e==="_self")&&!G3(t)}const Y3=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Q3="6";try{window.__reactRouterVersion=Q3}catch{}const J3="startTransition",VS=KL[J3];function Z3(t){let{basename:e,children:n,future:r,window:i}=t,a=D.useRef();a.current==null&&(a.current=a3({window:i,v5Compat:!0}));let o=a.current,[s,l]=D.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=D.useCallback(f=>{u&&VS?VS(()=>l(f)):l(f)},[l,u]);return D.useLayoutEffect(()=>o.listen(c),[o,c]),D.createElement(q3,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:o,future:r})}const eF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cs=D.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:o,state:s,target:l,to:u,preventScrollReset:c,unstable_viewTransition:f}=e,h=K3(e,Y3),{basename:p}=D.useContext(Va),g,m=!1;if(typeof u=="string"&&tF.test(u)&&(g=u,eF))try{let _=new URL(window.location.href),E=u.startsWith("//")?new URL(_.protocol+u):new URL(u),T=dw(E.pathname,p);E.origin===_.origin&&T!=null?u=T+E.search+E.hash:m=!0}catch{}let v=C3(u,{relative:i}),x=nF(u,{replace:o,state:s,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:f});function y(_){r&&r(_),_.defaultPrevented||x(_)}return D.createElement("a",_0({},h,{href:g||v,onClick:m||a?r:y,ref:n,target:l}))});var FS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(FS||(FS={}));var US;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(US||(US={}));function nF(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:o,unstable_viewTransition:s}=e===void 0?{}:e,l=gw(),u=Ho(),c=IR(t,{relative:o});return D.useCallback(f=>{if(X3(f,n)){f.preventDefault();let h=r!==void 0?r:rp(u)===rp(c);l(t,{replace:h,state:i,preventScrollReset:a,relative:o,unstable_viewTransition:s})}},[u,l,c,r,i,n,t,a,o,s])}var BS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},rF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],o=t[n++],s=t[n++],l=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const a=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},NR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,s=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=a>>2,f=(a&3)<<4|s>>4;let h=(s&15)<<2|u>>6,p=u&63;l||(p=64,o||(h=64)),r.push(n[c],n[f],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(RR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):rF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||s==null||u==null||f==null)throw new iF;const h=a<<2|s>>4;if(r.push(h),u!==64){const p=s<<4&240|u>>2;if(r.push(p),f!==64){const g=u<<6&192|f;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class iF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aF=function(t){const e=RR(t);return NR.encodeByteArray(e,!0)},ap=function(t){return aF(t).replace(/\./g,"")},jR=function(t){try{return NR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sF=()=>oF().__FIREBASE_DEFAULTS__,lF=()=>{if(typeof process>"u"||typeof BS>"u")return;const t=BS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},uF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&jR(t[1]);return e&&JSON.parse(e)},Rm=()=>{try{return sF()||lF()||uF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},DR=t=>{var e,n;return(n=(e=Rm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},MR=t=>{const e=DR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},$R=()=>{var t;return(t=Rm())===null||t===void 0?void 0:t.config},LR=t=>{var e;return(e=Rm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ap(JSON.stringify(n)),ap(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Sn())}function dF(){var t;const e=(t=Rm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hF(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function pF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mF(){const t=Sn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function gF(){return!dF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yF(){try{return typeof indexedDB=="object"}catch{return!1}}function vF(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bF="FirebaseError";class ii extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=bF,Object.setPrototypeOf(this,ii.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$f.prototype.create)}}class $f{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?_F(a,r):"Error",s=`${this.serviceName}: ${o} (${i}).`;return new ii(i,s,r)}}function _F(t,e){return t.replace(wF,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const wF=/\{\$([^}]+)}/g;function xF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function op(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],o=e[i];if(zS(a)&&zS(o)){if(!op(a,o))return!1}else if(a!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function zS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function $u(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Lu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function EF(t,e){const n=new SF(t,e);return n.subscribe.bind(n)}class SF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");kF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=$y),i.error===void 0&&(i.error=$y),i.complete===void 0&&(i.complete=$y);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function $y(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(t){return t&&t._delegate?t._delegate:t}class Ra{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new cF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(PF(e))try{this.getOrInitializeService({instanceIdentifier:oo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=oo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=oo){return this.instances.has(e)}getOptions(e=oo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(a);r===s&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&e(o,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:AF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=oo){return this.component?this.component.multipleInstances?e:oo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AF(t){return t===oo?void 0:t}function PF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new TF(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ne||(Ne={}));const OF={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},CF=Ne.INFO,RF={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},NF=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=RF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vw{constructor(e){this.name=e,this._logLevel=CF,this._logHandler=NF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const jF=(t,e)=>e.some(n=>t instanceof n);let WS,qS;function DF(){return WS||(WS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MF(){return qS||(qS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FR=new WeakMap,w0=new WeakMap,UR=new WeakMap,Ly=new WeakMap,bw=new WeakMap;function $F(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(Sa(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&FR.set(n,t)}).catch(()=>{}),bw.set(e,t),e}function LF(t){if(w0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});w0.set(t,e)}let x0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return w0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||UR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Sa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function VF(t){x0=t(x0)}function FF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Vy(this),e,...n);return UR.set(r,e.sort?e.sort():[e]),Sa(r)}:MF().includes(t)?function(...e){return t.apply(Vy(this),e),Sa(FR.get(this))}:function(...e){return Sa(t.apply(Vy(this),e))}}function UF(t){return typeof t=="function"?FF(t):(t instanceof IDBTransaction&&LF(t),jF(t,DF())?new Proxy(t,x0):t)}function Sa(t){if(t instanceof IDBRequest)return $F(t);if(Ly.has(t))return Ly.get(t);const e=UF(t);return e!==t&&(Ly.set(t,e),bw.set(e,t)),e}const Vy=t=>bw.get(t);function BF(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),s=Sa(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Sa(o.result),l.oldVersion,l.newVersion,Sa(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),s.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const zF=["get","getKey","getAll","getAllKeys","count"],WF=["put","add","delete","clear"],Fy=new Map;function HS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Fy.get(e))return Fy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=WF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||zF.includes(n)))return;const a=async function(o,...s){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(s.shift())),(await Promise.all([u[n](...s),i&&l.done]))[0]};return Fy.set(e,a),a}VF(t=>({...t,get:(e,n,r)=>HS(e,n)||t.get(e,n,r),has:(e,n)=>!!HS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(HF(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function HF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const E0="@firebase/app",KS="0.10.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni=new vw("@firebase/app"),KF="@firebase/app-compat",GF="@firebase/analytics-compat",XF="@firebase/analytics",YF="@firebase/app-check-compat",QF="@firebase/app-check",JF="@firebase/auth",ZF="@firebase/auth-compat",eU="@firebase/database",tU="@firebase/database-compat",nU="@firebase/functions",rU="@firebase/functions-compat",iU="@firebase/installations",aU="@firebase/installations-compat",oU="@firebase/messaging",sU="@firebase/messaging-compat",lU="@firebase/performance",uU="@firebase/performance-compat",cU="@firebase/remote-config",fU="@firebase/remote-config-compat",dU="@firebase/storage",hU="@firebase/storage-compat",pU="@firebase/firestore",mU="@firebase/vertexai-preview",gU="@firebase/firestore-compat",yU="firebase",vU="10.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="[DEFAULT]",bU={[E0]:"fire-core",[KF]:"fire-core-compat",[XF]:"fire-analytics",[GF]:"fire-analytics-compat",[QF]:"fire-app-check",[YF]:"fire-app-check-compat",[JF]:"fire-auth",[ZF]:"fire-auth-compat",[eU]:"fire-rtdb",[tU]:"fire-rtdb-compat",[nU]:"fire-fn",[rU]:"fire-fn-compat",[iU]:"fire-iid",[aU]:"fire-iid-compat",[oU]:"fire-fcm",[sU]:"fire-fcm-compat",[lU]:"fire-perf",[uU]:"fire-perf-compat",[cU]:"fire-rc",[fU]:"fire-rc-compat",[dU]:"fire-gcs",[hU]:"fire-gcs-compat",[pU]:"fire-fst",[gU]:"fire-fst-compat",[mU]:"fire-vertex","fire-js":"fire-js",[yU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp=new Map,_U=new Map,k0=new Map;function GS(t,e){try{t.container.addComponent(e)}catch(n){Ni.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Co(t){const e=t.name;if(k0.has(e))return Ni.debug(`There were multiple attempts to register component ${e}.`),!1;k0.set(e,t);for(const n of sp.values())GS(n,t);for(const n of _U.values())GS(n,t);return!0}function Nm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function zr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ka=new $f("app","Firebase",wU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ra("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ka.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko=vU;function BR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:S0,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ka.create("bad-app-name",{appName:String(i)});if(n||(n=$R()),!n)throw ka.create("no-options");const a=sp.get(i);if(a){if(op(n,a.options)&&op(r,a.config))return a;throw ka.create("duplicate-app",{appName:i})}const o=new IF(i);for(const l of k0.values())o.addComponent(l);const s=new xU(n,r,o);return sp.set(i,s),s}function _w(t=S0){const e=sp.get(t);if(!e&&t===S0&&$R())return BR();if(!e)throw ka.create("no-app",{appName:t});return e}function Gr(t,e,n){var r;let i=(r=bU[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const s=[`Unable to register library "${i}" with version "${e}":`];a&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ni.warn(s.join(" "));return}Co(new Ra(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EU="firebase-heartbeat-database",SU=1,Mc="firebase-heartbeat-store";let Uy=null;function zR(){return Uy||(Uy=BF(EU,SU,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Mc)}catch(n){console.warn(n)}}}}).catch(t=>{throw ka.create("idb-open",{originalErrorMessage:t.message})})),Uy}async function kU(t){try{const n=(await zR()).transaction(Mc),r=await n.objectStore(Mc).get(WR(t));return await n.done,r}catch(e){if(e instanceof ii)Ni.warn(e.message);else{const n=ka.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ni.warn(n.message)}}}async function XS(t,e){try{const r=(await zR()).transaction(Mc,"readwrite");await r.objectStore(Mc).put(e,WR(t)),await r.done}catch(n){if(n instanceof ii)Ni.warn(n.message);else{const r=ka.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ni.warn(r.message)}}}function WR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TU=1024,AU=30*24*60*60*1e3;class PU{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new OU(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=YS();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=AU}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ni.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=YS(),{heartbeatsToSend:r,unsentEntries:i}=IU(this._heartbeatsCache.heartbeats),a=ap(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Ni.warn(n),""}}}function YS(){return new Date().toISOString().substring(0,10)}function IU(t,e=TU){const n=[];let r=t.slice();for(const i of t){const a=n.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),QS(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),QS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class OU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yF()?vF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await kU(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return XS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return XS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function QS(t){return ap(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CU(t){Co(new Ra("platform-logger",e=>new qF(e),"PRIVATE")),Co(new Ra("heartbeat",e=>new PU(e),"PRIVATE")),Gr(E0,KS,t),Gr(E0,KS,"esm2017"),Gr("fire-js","")}CU("");function ww(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function qR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const RU=qR,HR=new $f("auth","Firebase",qR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp=new vw("@firebase/auth");function NU(t,...e){lp.logLevel<=Ne.WARN&&lp.warn(`Auth (${Ko}): ${t}`,...e)}function Eh(t,...e){lp.logLevel<=Ne.ERROR&&lp.error(`Auth (${Ko}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(t,...e){throw xw(t,...e)}function Xr(t,...e){return xw(t,...e)}function KR(t,e,n){const r=Object.assign(Object.assign({},RU()),{[e]:n});return new $f("auth","Firebase",r).create(e,{appName:t.name})}function Si(t){return KR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return HR.create(t,...e)}function pe(t,e,...n){if(!t)throw xw(e,...n)}function yi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Eh(e),new Error(e)}function ji(t,e){t||yi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function jU(){return JS()==="http:"||JS()==="https:"}function JS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jU()||hF()||"connection"in navigator)?navigator.onLine:!0}function MU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e,n){this.shortDelay=e,this.longDelay=n,ji(n>e,"Short delay should be less than long delay!"),this.isMobile=fF()||pF()}get(){return DU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(t,e){ji(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $U={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LU=new Vf(3e4,6e4);function Ua(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ba(t,e,n,r,i={}){return XR(t,i,async()=>{let a={},o={};r&&(e==="GET"?o=r:a={body:JSON.stringify(r)});const s=Lf(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),GR.fetch()(YR(t,t.config.apiHost,n,s),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},a))})}async function XR(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},$U),e);try{const i=new FU(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw zd(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const s=a.ok?o.errorMessage:o.error.message,[l,u]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw zd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw zd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw zd(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw KR(t,c,u);jr(t,c)}}catch(i){if(i instanceof ii)throw i;jr(t,"network-request-failed",{message:String(i)})}}async function Ff(t,e,n,r,i={}){const a=await Ba(t,e,n,r,i);return"mfaPendingCredential"in a&&jr(t,"multi-factor-auth-required",{_serverResponse:a}),a}function YR(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Ew(t.config,i):`${t.config.apiScheme}://${i}`}function VU(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class FU{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Xr(this.auth,"network-request-failed")),LU.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function zd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Xr(t,e,r);return i.customData._tokenResponse=n,i}function ZS(t){return t!==void 0&&t.enterprise!==void 0}class UU{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return VU(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function BU(t,e){return Ba(t,"GET","/v2/recaptchaConfig",Ua(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zU(t,e){return Ba(t,"POST","/v1/accounts:delete",e)}async function QR(t,e){return Ba(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function WU(t,e=!1){const n=kt(t),r=await n.getIdToken(e),i=Sw(r);pe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:tc(By(i.auth_time)),issuedAtTime:tc(By(i.iat)),expirationTime:tc(By(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function By(t){return Number(t)*1e3}function Sw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Eh("JWT malformed, contained fewer than 3 sections"),null;try{const i=jR(n);return i?JSON.parse(i):(Eh("Failed to decode base64 JWT payload"),null)}catch(i){return Eh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function ek(t){const e=Sw(t);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $c(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ii&&qU(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function qU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=tc(this.lastLoginAt),this.creationTime=tc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function up(t){var e;const n=t.auth,r=await t.getIdToken(),i=await $c(t,QR(n,{idToken:r}));pe(i==null?void 0:i.users.length,n,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const o=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?JR(a.providerUserInfo):[],s=GU(t.providerData,o),l=t.isAnonymous,u=!(t.email&&a.passwordHash)&&!(s!=null&&s.length),c=l?u:!1,f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new A0(a.createdAt,a.lastLoginAt),isAnonymous:c};Object.assign(t,f)}async function KU(t){const e=kt(t);await up(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function GU(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function JR(t){return t.map(e=>{var{providerId:n}=e,r=ww(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XU(t,e){const n=await XR(t,{},async()=>{const r=Lf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=YR(t,i,"/v1/token",`key=${a}`),s=await t._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",GR.fetch()(o,{method:"POST",headers:s,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function YU(t,e){return Ba(t,"POST","/v2/accounts:revokeToken",Ua(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ek(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){pe(e.length!==0,"internal-error");const n=ek(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await XU(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new Ws;return r&&(pe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(pe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(pe(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ws,this.toJSON())}_performRefresh(){return yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(t,e){pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class vi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,a=ww(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new HU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new A0(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await $c(this,this.stsTokenManager.getToken(this.auth,e));return pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return WU(this,e)}reload(){return KU(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new vi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await up(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zr(this.auth.app))return Promise.reject(Si(this.auth));const e=await this.getIdToken();return await $c(this,zU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,a,o,s,l,u,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(s=n.tenantId)!==null&&s!==void 0?s:void 0,v=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,x=(u=n.createdAt)!==null&&u!==void 0?u:void 0,y=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:_,emailVerified:E,isAnonymous:T,providerData:O,stsTokenManager:k}=n;pe(_&&k,e,"internal-error");const S=Ws.fromJSON(this.name,k);pe(typeof _=="string",e,"internal-error"),Yi(f,e.name),Yi(h,e.name),pe(typeof E=="boolean",e,"internal-error"),pe(typeof T=="boolean",e,"internal-error"),Yi(p,e.name),Yi(g,e.name),Yi(m,e.name),Yi(v,e.name),Yi(x,e.name),Yi(y,e.name);const C=new vi({uid:_,auth:e,email:h,emailVerified:E,displayName:f,isAnonymous:T,photoURL:g,phoneNumber:p,tenantId:m,stsTokenManager:S,createdAt:x,lastLoginAt:y});return O&&Array.isArray(O)&&(C.providerData=O.map(R=>Object.assign({},R))),v&&(C._redirectEventId=v),C}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ws;i.updateFromServerResponse(n);const a=new vi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await up(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];pe(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?JR(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),s=new Ws;s.updateFromIdToken(r);const l=new vi({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new A0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk=new Map;function bi(t){ji(t instanceof Function,"Expected a class definition");let e=tk.get(t);return e?(ji(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,tk.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ZR.type="NONE";const nk=ZR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sh(t,e,n){return`firebase:${t}:${e}:${n}`}class qs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Sh(this.userKey,i.apiKey,a),this.fullPersistenceKey=Sh("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?vi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new qs(bi(nk),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||bi(nk);const o=Sh(r,e.config.apiKey,e.name);let s=null;for(const u of n)try{const c=await u._get(o);if(c){const f=vi._fromJSON(e,c);u!==a&&(s=f),a=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new qs(a,e,r):(a=l[0],s&&await a._set(o,s.toJSON()),await Promise.all(n.map(async u=>{if(u!==a)try{await u._remove(o)}catch{}})),new qs(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rk(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aN(e))return"Blackberry";if(oN(e))return"Webos";if(tN(e))return"Safari";if((e.includes("chrome/")||nN(e))&&!e.includes("edge/"))return"Chrome";if(iN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function eN(t=Sn()){return/firefox\//i.test(t)}function tN(t=Sn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nN(t=Sn()){return/crios\//i.test(t)}function rN(t=Sn()){return/iemobile/i.test(t)}function iN(t=Sn()){return/android/i.test(t)}function aN(t=Sn()){return/blackberry/i.test(t)}function oN(t=Sn()){return/webos/i.test(t)}function kw(t=Sn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function QU(t=Sn()){var e;return kw(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function JU(){return mF()&&document.documentMode===10}function sN(t=Sn()){return kw(t)||iN(t)||oN(t)||aN(t)||/windows phone/i.test(t)||rN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(t,e=[]){let n;switch(t){case"Browser":n=rk(Sn());break;case"Worker":n=`${rk(Sn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ko}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((o,s)=>{try{const l=e(a);o(l)}catch(l){s(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e6(t,e={}){return Ba(t,"GET","/v2/passwordPolicy",Ua(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t6=6;class n6{constructor(e){var n,r,i,a;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:t6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,a,o,s;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(a=l.containsUppercaseLetter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ik(this),this.idTokenSubscription=new ik(this),this.beforeStateQueue=new ZU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=HR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=bi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await qs.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await QR(this,{idToken:e}),r=await vi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(zr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,s=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===s)&&(l!=null&&l.user)&&(i=l.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await up(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=MU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zr(this.app))return Promise.reject(Si(this));const n=e?kt(e):null;return n&&pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zr(this.app)?Promise.reject(Si(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zr(this.app)?Promise.reject(Si(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(bi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await e6(this),n=new n6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new $f("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await YU(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&bi(e)||this._popupRedirectResolver;pe(n,this,"argument-error"),this.redirectPersistenceManager=await qs.create(this,[bi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(s,this,"internal-error"),s.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&NU(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Go(t){return kt(t)}class ik{constructor(e){this.auth=e,this.observer=null,this.addObserver=EF(n=>this.observer=n)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function i6(t){jm=t}function uN(t){return jm.loadJS(t)}function a6(){return jm.recaptchaEnterpriseScript}function o6(){return jm.gapiScript}function s6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const l6="recaptcha-enterprise",u6="NO_RECAPTCHA";class c6{constructor(e){this.type=l6,this.auth=Go(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,s)=>{BU(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const u=new UU(l);return a.tenantId==null?a._agentRecaptchaConfig=u:a._tenantRecaptchaConfigs[a.tenantId]=u,o(u.siteKey)}}).catch(l=>{s(l)})})}function i(a,o,s){const l=window.grecaptcha;ZS(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(u=>{o(u)}).catch(()=>{o(u6)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,o)=>{r(this.auth).then(s=>{if(!n&&ZS(window.grecaptcha))i(s,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=a6();l.length!==0&&(l+=s),uN(l).then(()=>{i(s,a,o)}).catch(u=>{o(u)})}}).catch(s=>{o(s)})})}}async function ak(t,e,n,r=!1){const i=new c6(t);let a;try{a=await i.verify(n)}catch{a=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function P0(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await ak(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await ak(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f6(t,e){const n=Nm(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(op(a,e??{}))return i;jr(i,"already-initialized")}return n.initialize({options:e})}function d6(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(bi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function h6(t,e,n){const r=Go(t);pe(r._canInitEmulator,r,"emulator-config-failed"),pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=cN(e),{host:o,port:s}=p6(e),l=s===null?"":`:${s}`;r.config.emulator={url:`${a}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),m6()}function cN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function p6(t){const e=cN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:ok(r.substr(a.length+1))}}else{const[a,o]=r.split(":");return{host:a,port:ok(o)}}}function ok(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function m6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return yi("not implemented")}_getIdTokenResponse(e){return yi("not implemented")}_linkToIdToken(e,n){return yi("not implemented")}_getReauthenticationResolver(e){return yi("not implemented")}}async function g6(t,e){return Ba(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y6(t,e){return Ff(t,"POST","/v1/accounts:signInWithPassword",Ua(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v6(t,e){return Ff(t,"POST","/v1/accounts:signInWithEmailLink",Ua(t,e))}async function b6(t,e){return Ff(t,"POST","/v1/accounts:signInWithEmailLink",Ua(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc extends Tw{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Lc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Lc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return P0(e,n,"signInWithPassword",y6);case"emailLink":return v6(e,{email:this._email,oobCode:this._password});default:jr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return P0(e,r,"signUpPassword",g6);case"emailLink":return b6(e,{idToken:n,email:this._email,oobCode:this._password});default:jr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hs(t,e){return Ff(t,"POST","/v1/accounts:signInWithIdp",Ua(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _6="http://localhost";class Ro extends Tw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ro(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):jr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,a=ww(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ro(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Hs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Hs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Hs(e,n)}buildRequest(){const e={requestUri:_6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Lf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function x6(t){const e=$u(Lu(t)).link,n=e?$u(Lu(e)).deep_link_id:null,r=$u(Lu(t)).deep_link_id;return(r?$u(Lu(r)).link:null)||r||n||e||t}class Aw{constructor(e){var n,r,i,a,o,s;const l=$u(Lu(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,f=w6((i=l.mode)!==null&&i!==void 0?i:null);pe(u&&c&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=c,this.continueUrl=(a=l.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(s=l.tenantId)!==null&&s!==void 0?s:null}static parseLink(e){const n=x6(e);try{return new Aw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(){this.providerId=Dl.PROVIDER_ID}static credential(e,n){return Lc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Aw.parseLink(n);return pe(r,"argument-error"),Lc._fromEmailAndCode(e,r.code,r.tenantId)}}Dl.PROVIDER_ID="password";Dl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Dl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf extends fN{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia extends Uf{constructor(){super("facebook.com")}static credential(e){return Ro._fromParams({providerId:ia.PROVIDER_ID,signInMethod:ia.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ia.credentialFromTaggedObject(e)}static credentialFromError(e){return ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ia.credential(e.oauthAccessToken)}catch{return null}}}ia.FACEBOOK_SIGN_IN_METHOD="facebook.com";ia.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa extends Uf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ro._fromParams({providerId:aa.PROVIDER_ID,signInMethod:aa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return aa.credentialFromTaggedObject(e)}static credentialFromError(e){return aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return aa.credential(n,r)}catch{return null}}}aa.GOOGLE_SIGN_IN_METHOD="google.com";aa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa extends Uf{constructor(){super("github.com")}static credential(e){return Ro._fromParams({providerId:oa.PROVIDER_ID,signInMethod:oa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oa.credentialFromTaggedObject(e)}static credentialFromError(e){return oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oa.credential(e.oauthAccessToken)}catch{return null}}}oa.GITHUB_SIGN_IN_METHOD="github.com";oa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa extends Uf{constructor(){super("twitter.com")}static credential(e,n){return Ro._fromParams({providerId:sa.PROVIDER_ID,signInMethod:sa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return sa.credentialFromTaggedObject(e)}static credentialFromError(e){return sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return sa.credential(n,r)}catch{return null}}}sa.TWITTER_SIGN_IN_METHOD="twitter.com";sa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E6(t,e){return Ff(t,"POST","/v1/accounts:signUp",Ua(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await vi._fromIdTokenResponse(e,r,i),o=sk(r);return new No({user:a,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=sk(r);return new No({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function sk(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp extends ii{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,cp.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new cp(e,n,r,i)}}function dN(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?cp._fromErrorAndOperation(t,a,e,r):a})}async function S6(t,e,n=!1){const r=await $c(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return No._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k6(t,e,n=!1){const{auth:r}=t;if(zr(r.app))return Promise.reject(Si(r));const i="reauthenticate";try{const a=await $c(t,dN(r,i,e,t),n);pe(a.idToken,r,"internal-error");const o=Sw(a.idToken);pe(o,r,"internal-error");const{sub:s}=o;return pe(t.uid===s,r,"user-mismatch"),No._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&jr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hN(t,e,n=!1){if(zr(t.app))return Promise.reject(Si(t));const r="signIn",i=await dN(t,r,e),a=await No._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function T6(t,e){return hN(Go(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pN(t){const e=Go(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function A6(t,e,n){if(zr(t.app))return Promise.reject(Si(t));const r=Go(t),o=await P0(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",E6).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&pN(t),l}),s=await No._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(s.user),s}function P6(t,e,n){return zr(t.app)?Promise.reject(Si(t)):T6(kt(t),Dl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&pN(t),r})}function I6(t,e,n,r){return kt(t).onIdTokenChanged(e,n,r)}function O6(t,e,n){return kt(t).beforeAuthStateChanged(e,n)}function C6(t,e,n,r){return kt(t).onAuthStateChanged(e,n,r)}function R6(t){return kt(t).signOut()}const fp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(fp,"1"),this.storage.removeItem(fp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N6=1e3,j6=10;class gN extends mN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,s,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},a=this.storage.getItem(r);JU()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,j6):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},N6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}gN.type="LOCAL";const D6=gN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN extends mN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}yN.type="SESSION";const vN=yN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Dm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(o).map(async u=>u(n.origin,a)),l=await M6(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((s,l)=>{const u=Pw("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),s(h.data.response);break;default:clearTimeout(c),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(){return window}function L6(t){Yr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(){return typeof Yr().WorkerGlobalScope<"u"&&typeof Yr().importScripts=="function"}async function V6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function F6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function U6(){return bN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N="firebaseLocalStorageDb",B6=1,dp="firebaseLocalStorage",wN="fbase_key";class Bf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Mm(t,e){return t.transaction([dp],e?"readwrite":"readonly").objectStore(dp)}function z6(){const t=indexedDB.deleteDatabase(_N);return new Bf(t).toPromise()}function I0(){const t=indexedDB.open(_N,B6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(dp,{keyPath:wN})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(dp)?e(r):(r.close(),await z6(),e(await I0()))})})}async function lk(t,e,n){const r=Mm(t,!0).put({[wN]:e,value:n});return new Bf(r).toPromise()}async function W6(t,e){const n=Mm(t,!1).get(e),r=await new Bf(n).toPromise();return r===void 0?null:r.value}function uk(t,e){const n=Mm(t,!0).delete(e);return new Bf(n).toPromise()}const q6=800,H6=3;class xN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await I0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>H6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dm._getInstance(U6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await V6(),!this.activeServiceWorker)return;this.sender=new $6(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||F6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await I0();return await lk(e,fp,"1"),await uk(e,fp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>lk(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>W6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>uk(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Mm(i,!1).getAll();return new Bf(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),q6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xN.type="LOCAL";const K6=xN;new Vf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G6(t,e){return e?bi(e):(pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw extends Tw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Hs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Hs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Hs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function X6(t){return hN(t.auth,new Iw(t),t.bypassAuthState)}function Y6(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),k6(n,new Iw(t),t.bypassAuthState)}async function Q6(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),S6(n,new Iw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:o,type:s}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return X6;case"linkViaPopup":case"linkViaRedirect":return Q6;case"reauthViaPopup":case"reauthViaRedirect":return Y6;default:jr(this.auth,"internal-error")}}resolve(e){ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J6=new Vf(2e3,1e4);class Rs extends EN{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Rs.currentPopupAction&&Rs.currentPopupAction.cancel(),Rs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pe(e,this.auth,"internal-error"),e}async onExecution(){ji(this.filter.length===1,"Popup operations only handle one event");const e=Pw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Xr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Xr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Rs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,J6.get())};e()}}Rs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z6="pendingRedirect",kh=new Map;class eB extends EN{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=kh.get(this.auth._key());if(!e){try{const r=await tB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}kh.set(this.auth._key(),e)}return this.bypassAuthState||kh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tB(t,e){const n=iB(e),r=rB(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function nB(t,e){kh.set(t._key(),e)}function rB(t){return bi(t._redirectPersistence)}function iB(t){return Sh(Z6,t.config.apiKey,t.name)}async function aB(t,e,n=!1){if(zr(t.app))return Promise.reject(Si(t));const r=Go(t),i=G6(r,e),o=await new eB(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oB=10*60*1e3;class sB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!lB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!SN(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Xr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=oB&&this.cachedEventUids.clear(),this.cachedEventUids.has(ck(e))}saveEventToCache(e){this.cachedEventUids.add(ck(e)),this.lastProcessedEventTime=Date.now()}}function ck(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function SN({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function lB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return SN(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uB(t,e={}){return Ba(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fB=/^https?/;async function dB(t){if(t.config.emulator)return;const{authorizedDomains:e}=await uB(t);for(const n of e)try{if(hB(n))return}catch{}jr(t,"unauthorized-domain")}function hB(t){const e=T0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!fB.test(n))return!1;if(cB.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pB=new Vf(3e4,6e4);function fk(){const t=Yr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function mB(t){return new Promise((e,n)=>{var r,i,a;function o(){fk(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{fk(),n(Xr(t,"network-request-failed"))},timeout:pB.get()})}if(!((i=(r=Yr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Yr().gapi)===null||a===void 0)&&a.load)o();else{const s=s6("iframefcb");return Yr()[s]=()=>{gapi.load?o():n(Xr(t,"network-request-failed"))},uN(`${o6()}?onload=${s}`).catch(l=>n(l))}}).catch(e=>{throw Th=null,e})}let Th=null;function gB(t){return Th=Th||mB(t),Th}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yB=new Vf(5e3,15e3),vB="__/auth/iframe",bB="emulator/auth/iframe",_B={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xB(t){const e=t.config;pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ew(e,bB):`https://${t.config.authDomain}/${vB}`,r={apiKey:e.apiKey,appName:t.name,v:Ko},i=wB.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Lf(r).slice(1)}`}async function EB(t){const e=await gB(t),n=Yr().gapi;return pe(n,t,"internal-error"),e.open({where:document.body,url:xB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_B,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const o=Xr(t,"network-request-failed"),s=Yr().setTimeout(()=>{a(o)},yB.get());function l(){Yr().clearTimeout(s),i(r)}r.ping(l).then(l,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kB=500,TB=600,AB="_blank",PB="http://localhost";class dk{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function IB(t,e,n,r=kB,i=TB){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},SB),{width:r.toString(),height:i.toString(),top:a,left:o}),u=Sn().toLowerCase();n&&(s=nN(u)?AB:n),eN(u)&&(e=e||PB,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[p,g])=>`${h}${p}=${g},`,"");if(QU(u)&&s!=="_self")return OB(e||"",s),new dk(null);const f=window.open(e||"",s,c);pe(f,t,"popup-blocked");try{f.focus()}catch{}return new dk(f)}function OB(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CB="__/auth/handler",RB="emulator/auth/handler",NB=encodeURIComponent("fac");async function hk(t,e,n,r,i,a){pe(t.config.authDomain,t,"auth-domain-config-required"),pe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ko,eventId:i};if(e instanceof fN){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",xF(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries({}))o[c]=f}if(e instanceof Uf){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const s=o;for(const c of Object.keys(s))s[c]===void 0&&delete s[c];const l=await t._getAppCheckToken(),u=l?`#${NB}=${encodeURIComponent(l)}`:"";return`${jB(t)}?${Lf(s).slice(1)}${u}`}function jB({config:t}){return t.emulator?Ew(t,RB):`https://${t.authDomain}/${CB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy="webStorageSupport";class DB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vN,this._completeRedirectFn=aB,this._overrideRedirectResult=nB}async _openPopup(e,n,r,i){var a;ji((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await hk(e,n,r,T0(),i);return IB(e,o,Pw())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await hk(e,n,r,T0(),i);return L6(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(ji(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await EB(e),r=new sB(e);return n.register("authEvent",i=>(pe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(zy,{type:zy},i=>{var a;const o=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[zy];o!==void 0&&n(!!o),jr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=dB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return sN()||tN()||kw()}}const MB=DB;var pk="@firebase/auth",mk="1.7.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $B{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function VB(t){Co(new Ra("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=r.options;pe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lN(t)},u=new r6(r,i,a,l);return d6(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Co(new Ra("auth-internal",e=>{const n=Go(e.getProvider("auth").getImmediate());return(r=>new $B(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gr(pk,mk,LB(t)),Gr(pk,mk,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FB=5*60,UB=LR("authIdTokenMaxAge")||FB;let gk=null;const BB=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>UB)return;const i=n==null?void 0:n.token;gk!==i&&(gk=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Ow(t=_w()){const e=Nm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=f6(t,{popupRedirectResolver:MB,persistence:[K6,D6,vN]}),r=LR("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const o=BB(a.toString());O6(n,o,()=>o(n.currentUser)),I6(n,s=>o(s))}}const i=DR("auth");return i&&h6(n,`http://${i}`),n}function zB(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}i6({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Xr("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",zB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});VB("Browser");var WB="firebase",qB="10.13.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gr(WB,qB,"app");var yk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xo,kN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,S){function C(){}C.prototype=S.prototype,k.D=S.prototype,k.prototype=new C,k.prototype.constructor=k,k.C=function(R,N,I){for(var P=Array(arguments.length-2),$=2;$<arguments.length;$++)P[$-2]=arguments[$];return S.prototype[N].apply(R,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(k,S,C){C||(C=0);var R=Array(16);if(typeof S=="string")for(var N=0;16>N;++N)R[N]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(N=0;16>N;++N)R[N]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=k.g[0],C=k.g[1],N=k.g[2];var I=k.g[3],P=S+(I^C&(N^I))+R[0]+3614090360&4294967295;S=C+(P<<7&4294967295|P>>>25),P=I+(N^S&(C^N))+R[1]+3905402710&4294967295,I=S+(P<<12&4294967295|P>>>20),P=N+(C^I&(S^C))+R[2]+606105819&4294967295,N=I+(P<<17&4294967295|P>>>15),P=C+(S^N&(I^S))+R[3]+3250441966&4294967295,C=N+(P<<22&4294967295|P>>>10),P=S+(I^C&(N^I))+R[4]+4118548399&4294967295,S=C+(P<<7&4294967295|P>>>25),P=I+(N^S&(C^N))+R[5]+1200080426&4294967295,I=S+(P<<12&4294967295|P>>>20),P=N+(C^I&(S^C))+R[6]+2821735955&4294967295,N=I+(P<<17&4294967295|P>>>15),P=C+(S^N&(I^S))+R[7]+4249261313&4294967295,C=N+(P<<22&4294967295|P>>>10),P=S+(I^C&(N^I))+R[8]+1770035416&4294967295,S=C+(P<<7&4294967295|P>>>25),P=I+(N^S&(C^N))+R[9]+2336552879&4294967295,I=S+(P<<12&4294967295|P>>>20),P=N+(C^I&(S^C))+R[10]+4294925233&4294967295,N=I+(P<<17&4294967295|P>>>15),P=C+(S^N&(I^S))+R[11]+2304563134&4294967295,C=N+(P<<22&4294967295|P>>>10),P=S+(I^C&(N^I))+R[12]+1804603682&4294967295,S=C+(P<<7&4294967295|P>>>25),P=I+(N^S&(C^N))+R[13]+4254626195&4294967295,I=S+(P<<12&4294967295|P>>>20),P=N+(C^I&(S^C))+R[14]+2792965006&4294967295,N=I+(P<<17&4294967295|P>>>15),P=C+(S^N&(I^S))+R[15]+1236535329&4294967295,C=N+(P<<22&4294967295|P>>>10),P=S+(N^I&(C^N))+R[1]+4129170786&4294967295,S=C+(P<<5&4294967295|P>>>27),P=I+(C^N&(S^C))+R[6]+3225465664&4294967295,I=S+(P<<9&4294967295|P>>>23),P=N+(S^C&(I^S))+R[11]+643717713&4294967295,N=I+(P<<14&4294967295|P>>>18),P=C+(I^S&(N^I))+R[0]+3921069994&4294967295,C=N+(P<<20&4294967295|P>>>12),P=S+(N^I&(C^N))+R[5]+3593408605&4294967295,S=C+(P<<5&4294967295|P>>>27),P=I+(C^N&(S^C))+R[10]+38016083&4294967295,I=S+(P<<9&4294967295|P>>>23),P=N+(S^C&(I^S))+R[15]+3634488961&4294967295,N=I+(P<<14&4294967295|P>>>18),P=C+(I^S&(N^I))+R[4]+3889429448&4294967295,C=N+(P<<20&4294967295|P>>>12),P=S+(N^I&(C^N))+R[9]+568446438&4294967295,S=C+(P<<5&4294967295|P>>>27),P=I+(C^N&(S^C))+R[14]+3275163606&4294967295,I=S+(P<<9&4294967295|P>>>23),P=N+(S^C&(I^S))+R[3]+4107603335&4294967295,N=I+(P<<14&4294967295|P>>>18),P=C+(I^S&(N^I))+R[8]+1163531501&4294967295,C=N+(P<<20&4294967295|P>>>12),P=S+(N^I&(C^N))+R[13]+2850285829&4294967295,S=C+(P<<5&4294967295|P>>>27),P=I+(C^N&(S^C))+R[2]+4243563512&4294967295,I=S+(P<<9&4294967295|P>>>23),P=N+(S^C&(I^S))+R[7]+1735328473&4294967295,N=I+(P<<14&4294967295|P>>>18),P=C+(I^S&(N^I))+R[12]+2368359562&4294967295,C=N+(P<<20&4294967295|P>>>12),P=S+(C^N^I)+R[5]+4294588738&4294967295,S=C+(P<<4&4294967295|P>>>28),P=I+(S^C^N)+R[8]+2272392833&4294967295,I=S+(P<<11&4294967295|P>>>21),P=N+(I^S^C)+R[11]+1839030562&4294967295,N=I+(P<<16&4294967295|P>>>16),P=C+(N^I^S)+R[14]+4259657740&4294967295,C=N+(P<<23&4294967295|P>>>9),P=S+(C^N^I)+R[1]+2763975236&4294967295,S=C+(P<<4&4294967295|P>>>28),P=I+(S^C^N)+R[4]+1272893353&4294967295,I=S+(P<<11&4294967295|P>>>21),P=N+(I^S^C)+R[7]+4139469664&4294967295,N=I+(P<<16&4294967295|P>>>16),P=C+(N^I^S)+R[10]+3200236656&4294967295,C=N+(P<<23&4294967295|P>>>9),P=S+(C^N^I)+R[13]+681279174&4294967295,S=C+(P<<4&4294967295|P>>>28),P=I+(S^C^N)+R[0]+3936430074&4294967295,I=S+(P<<11&4294967295|P>>>21),P=N+(I^S^C)+R[3]+3572445317&4294967295,N=I+(P<<16&4294967295|P>>>16),P=C+(N^I^S)+R[6]+76029189&4294967295,C=N+(P<<23&4294967295|P>>>9),P=S+(C^N^I)+R[9]+3654602809&4294967295,S=C+(P<<4&4294967295|P>>>28),P=I+(S^C^N)+R[12]+3873151461&4294967295,I=S+(P<<11&4294967295|P>>>21),P=N+(I^S^C)+R[15]+530742520&4294967295,N=I+(P<<16&4294967295|P>>>16),P=C+(N^I^S)+R[2]+3299628645&4294967295,C=N+(P<<23&4294967295|P>>>9),P=S+(N^(C|~I))+R[0]+4096336452&4294967295,S=C+(P<<6&4294967295|P>>>26),P=I+(C^(S|~N))+R[7]+1126891415&4294967295,I=S+(P<<10&4294967295|P>>>22),P=N+(S^(I|~C))+R[14]+2878612391&4294967295,N=I+(P<<15&4294967295|P>>>17),P=C+(I^(N|~S))+R[5]+4237533241&4294967295,C=N+(P<<21&4294967295|P>>>11),P=S+(N^(C|~I))+R[12]+1700485571&4294967295,S=C+(P<<6&4294967295|P>>>26),P=I+(C^(S|~N))+R[3]+2399980690&4294967295,I=S+(P<<10&4294967295|P>>>22),P=N+(S^(I|~C))+R[10]+4293915773&4294967295,N=I+(P<<15&4294967295|P>>>17),P=C+(I^(N|~S))+R[1]+2240044497&4294967295,C=N+(P<<21&4294967295|P>>>11),P=S+(N^(C|~I))+R[8]+1873313359&4294967295,S=C+(P<<6&4294967295|P>>>26),P=I+(C^(S|~N))+R[15]+4264355552&4294967295,I=S+(P<<10&4294967295|P>>>22),P=N+(S^(I|~C))+R[6]+2734768916&4294967295,N=I+(P<<15&4294967295|P>>>17),P=C+(I^(N|~S))+R[13]+1309151649&4294967295,C=N+(P<<21&4294967295|P>>>11),P=S+(N^(C|~I))+R[4]+4149444226&4294967295,S=C+(P<<6&4294967295|P>>>26),P=I+(C^(S|~N))+R[11]+3174756917&4294967295,I=S+(P<<10&4294967295|P>>>22),P=N+(S^(I|~C))+R[2]+718787259&4294967295,N=I+(P<<15&4294967295|P>>>17),P=C+(I^(N|~S))+R[9]+3951481745&4294967295,k.g[0]=k.g[0]+S&4294967295,k.g[1]=k.g[1]+(N+(P<<21&4294967295|P>>>11))&4294967295,k.g[2]=k.g[2]+N&4294967295,k.g[3]=k.g[3]+I&4294967295}r.prototype.u=function(k,S){S===void 0&&(S=k.length);for(var C=S-this.blockSize,R=this.B,N=this.h,I=0;I<S;){if(N==0)for(;I<=C;)i(this,k,I),I+=this.blockSize;if(typeof k=="string"){for(;I<S;)if(R[N++]=k.charCodeAt(I++),N==this.blockSize){i(this,R),N=0;break}}else for(;I<S;)if(R[N++]=k[I++],N==this.blockSize){i(this,R),N=0;break}}this.h=N,this.o+=S},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var S=1;S<k.length-8;++S)k[S]=0;var C=8*this.o;for(S=k.length-8;S<k.length;++S)k[S]=C&255,C/=256;for(this.u(k),k=Array(16),S=C=0;4>S;++S)for(var R=0;32>R;R+=8)k[C++]=this.g[S]>>>R&255;return k};function a(k,S){var C=s;return Object.prototype.hasOwnProperty.call(C,k)?C[k]:C[k]=S(k)}function o(k,S){this.h=S;for(var C=[],R=!0,N=k.length-1;0<=N;N--){var I=k[N]|0;R&&I==S||(C[N]=I,R=!1)}this.g=C}var s={};function l(k){return-128<=k&&128>k?a(k,function(S){return new o([S|0],0>S?-1:0)}):new o([k|0],0>k?-1:0)}function u(k){if(isNaN(k)||!isFinite(k))return f;if(0>k)return v(u(-k));for(var S=[],C=1,R=0;k>=C;R++)S[R]=k/C|0,C*=4294967296;return new o(S,0)}function c(k,S){if(k.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(k.charAt(0)=="-")return v(c(k.substring(1),S));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=u(Math.pow(S,8)),R=f,N=0;N<k.length;N+=8){var I=Math.min(8,k.length-N),P=parseInt(k.substring(N,N+I),S);8>I?(I=u(Math.pow(S,I)),R=R.j(I).add(u(P))):(R=R.j(C),R=R.add(u(P)))}return R}var f=l(0),h=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(m(this))return-v(this).m();for(var k=0,S=1,C=0;C<this.g.length;C++){var R=this.i(C);k+=(0<=R?R:4294967296+R)*S,S*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(g(this))return"0";if(m(this))return"-"+v(this).toString(k);for(var S=u(Math.pow(k,6)),C=this,R="";;){var N=E(C,S).g;C=x(C,N.j(S));var I=((0<C.g.length?C.g[0]:C.h)>>>0).toString(k);if(C=N,g(C))return I+R;for(;6>I.length;)I="0"+I;R=I+R}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function g(k){if(k.h!=0)return!1;for(var S=0;S<k.g.length;S++)if(k.g[S]!=0)return!1;return!0}function m(k){return k.h==-1}t.l=function(k){return k=x(this,k),m(k)?-1:g(k)?0:1};function v(k){for(var S=k.g.length,C=[],R=0;R<S;R++)C[R]=~k.g[R];return new o(C,~k.h).add(h)}t.abs=function(){return m(this)?v(this):this},t.add=function(k){for(var S=Math.max(this.g.length,k.g.length),C=[],R=0,N=0;N<=S;N++){var I=R+(this.i(N)&65535)+(k.i(N)&65535),P=(I>>>16)+(this.i(N)>>>16)+(k.i(N)>>>16);R=P>>>16,I&=65535,P&=65535,C[N]=P<<16|I}return new o(C,C[C.length-1]&-2147483648?-1:0)};function x(k,S){return k.add(v(S))}t.j=function(k){if(g(this)||g(k))return f;if(m(this))return m(k)?v(this).j(v(k)):v(v(this).j(k));if(m(k))return v(this.j(v(k)));if(0>this.l(p)&&0>k.l(p))return u(this.m()*k.m());for(var S=this.g.length+k.g.length,C=[],R=0;R<2*S;R++)C[R]=0;for(R=0;R<this.g.length;R++)for(var N=0;N<k.g.length;N++){var I=this.i(R)>>>16,P=this.i(R)&65535,$=k.i(N)>>>16,F=k.i(N)&65535;C[2*R+2*N]+=P*F,y(C,2*R+2*N),C[2*R+2*N+1]+=I*F,y(C,2*R+2*N+1),C[2*R+2*N+1]+=P*$,y(C,2*R+2*N+1),C[2*R+2*N+2]+=I*$,y(C,2*R+2*N+2)}for(R=0;R<S;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=S;R<2*S;R++)C[R]=0;return new o(C,0)};function y(k,S){for(;(k[S]&65535)!=k[S];)k[S+1]+=k[S]>>>16,k[S]&=65535,S++}function _(k,S){this.g=k,this.h=S}function E(k,S){if(g(S))throw Error("division by zero");if(g(k))return new _(f,f);if(m(k))return S=E(v(k),S),new _(v(S.g),v(S.h));if(m(S))return S=E(k,v(S)),new _(v(S.g),S.h);if(30<k.g.length){if(m(k)||m(S))throw Error("slowDivide_ only works with positive integers.");for(var C=h,R=S;0>=R.l(k);)C=T(C),R=T(R);var N=O(C,1),I=O(R,1);for(R=O(R,2),C=O(C,2);!g(R);){var P=I.add(R);0>=P.l(k)&&(N=N.add(C),I=P),R=O(R,1),C=O(C,1)}return S=x(k,N.j(S)),new _(N,S)}for(N=f;0<=k.l(S);){for(C=Math.max(1,Math.floor(k.m()/S.m())),R=Math.ceil(Math.log(C)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),I=u(C),P=I.j(S);m(P)||0<P.l(k);)C-=R,I=u(C),P=I.j(S);g(I)&&(I=h),N=N.add(I),k=x(k,P)}return new _(N,k)}t.A=function(k){return E(this,k).h},t.and=function(k){for(var S=Math.max(this.g.length,k.g.length),C=[],R=0;R<S;R++)C[R]=this.i(R)&k.i(R);return new o(C,this.h&k.h)},t.or=function(k){for(var S=Math.max(this.g.length,k.g.length),C=[],R=0;R<S;R++)C[R]=this.i(R)|k.i(R);return new o(C,this.h|k.h)},t.xor=function(k){for(var S=Math.max(this.g.length,k.g.length),C=[],R=0;R<S;R++)C[R]=this.i(R)^k.i(R);return new o(C,this.h^k.h)};function T(k){for(var S=k.g.length+1,C=[],R=0;R<S;R++)C[R]=k.i(R)<<1|k.i(R-1)>>>31;return new o(C,k.h)}function O(k,S){var C=S>>5;S%=32;for(var R=k.g.length-C,N=[],I=0;I<R;I++)N[I]=0<S?k.i(I+C)>>>S|k.i(I+C+1)<<32-S:k.i(I+C);return new o(N,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,kN=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,xo=o}).apply(typeof yk<"u"?yk:typeof self<"u"?self:typeof window<"u"?window:{});var Wd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var TN,AN,Vu,PN,Ah,O0,IN,ON,CN;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,w,A){return d==Array.prototype||d==Object.prototype||(d[w]=A.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wd=="object"&&Wd];for(var w=0;w<d.length;++w){var A=d[w];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=n(this);function i(d,w){if(w)e:{var A=r;d=d.split(".");for(var j=0;j<d.length-1;j++){var V=d[j];if(!(V in A))break e;A=A[V]}d=d[d.length-1],j=A[d],w=w(j),w!=j&&w!=null&&e(A,d,{configurable:!0,writable:!0,value:w})}}function a(d,w){d instanceof String&&(d+="");var A=0,j=!1,V={next:function(){if(!j&&A<d.length){var W=A++;return{value:w(W,d[W]),done:!1}}return j=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(d){return d||function(){return a(this,function(w,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function l(d){var w=typeof d;return w=w!="object"?w:d?Array.isArray(d)?"array":w:"null",w=="array"||w=="object"&&typeof d.length=="number"}function u(d){var w=typeof d;return w=="object"&&d!=null||w=="function"}function c(d,w,A){return d.call.apply(d.bind,arguments)}function f(d,w,A){if(!d)throw Error();if(2<arguments.length){var j=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,j),d.apply(w,V)}}return function(){return d.apply(w,arguments)}}function h(d,w,A){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:f,h.apply(null,arguments)}function p(d,w){var A=Array.prototype.slice.call(arguments,1);return function(){var j=A.slice();return j.push.apply(j,arguments),d.apply(this,j)}}function g(d,w){function A(){}A.prototype=w.prototype,d.aa=w.prototype,d.prototype=new A,d.prototype.constructor=d,d.Qb=function(j,V,W){for(var ee=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)ee[nt-2]=arguments[nt];return w.prototype[V].apply(j,ee)}}function m(d){const w=d.length;if(0<w){const A=Array(w);for(let j=0;j<w;j++)A[j]=d[j];return A}return[]}function v(d,w){for(let A=1;A<arguments.length;A++){const j=arguments[A];if(l(j)){const V=d.length||0,W=j.length||0;d.length=V+W;for(let ee=0;ee<W;ee++)d[V+ee]=j[ee]}else d.push(j)}}class x{constructor(w,A){this.i=w,this.j=A,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function y(d){return/^[\s\xa0]*$/.test(d)}function _(){var d=s.navigator;return d&&(d=d.userAgent)?d:""}function E(d){return E[" "](d),d}E[" "]=function(){};var T=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function O(d,w,A){for(const j in d)w.call(A,d[j],j,d)}function k(d,w){for(const A in d)w.call(void 0,d[A],A,d)}function S(d){const w={};for(const A in d)w[A]=d[A];return w}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(d,w){let A,j;for(let V=1;V<arguments.length;V++){j=arguments[V];for(A in j)d[A]=j[A];for(let W=0;W<C.length;W++)A=C[W],Object.prototype.hasOwnProperty.call(j,A)&&(d[A]=j[A])}}function N(d){var w=1;d=d.split(":");const A=[];for(;0<w&&d.length;)A.push(d.shift()),w--;return d.length&&A.push(d.join(":")),A}function I(d){s.setTimeout(()=>{throw d},0)}function P(){var d=q;let w=null;return d.g&&(w=d.g,d.g=d.g.next,d.g||(d.h=null),w.next=null),w}class ${constructor(){this.h=this.g=null}add(w,A){const j=F.get();j.set(w,A),this.h?this.h.next=j:this.g=j,this.h=j}}var F=new x(()=>new U,d=>d.reset());class U{constructor(){this.next=this.g=this.h=null}set(w,A){this.h=w,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let B,L=!1,q=new $,Y=()=>{const d=s.Promise.resolve(void 0);B=()=>{d.then(re)}};var re=()=>{for(var d;d=P();){try{d.h.call(d.g)}catch(A){I(A)}var w=F;w.j(d),100>w.h&&(w.h++,d.next=w.g,w.g=d)}L=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ne(d,w){this.type=d,this.g=this.target=w,this.defaultPrevented=!1}ne.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var d=!1,w=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const A=()=>{};s.addEventListener("test",A,w),s.removeEventListener("test",A,w)}catch{}return d}();function Oe(d,w){if(ne.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var A=this.type=d.type,j=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=w,w=d.relatedTarget){if(T){e:{try{E(w.nodeName);var V=!0;break e}catch{}V=!1}V||(w=null)}}else A=="mouseover"?w=d.fromElement:A=="mouseout"&&(w=d.toElement);this.relatedTarget=w,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:at[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Oe.aa.h.call(this)}}g(Oe,ne);var at={2:"touch",3:"pen",4:"mouse"};Oe.prototype.h=function(){Oe.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Ye="closure_listenable_"+(1e6*Math.random()|0),cn=0;function ie(d,w,A,j,V){this.listener=d,this.proxy=null,this.src=w,this.type=A,this.capture=!!j,this.ha=V,this.key=++cn,this.da=this.fa=!1}function ce(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function de(d){this.src=d,this.g={},this.h=0}de.prototype.add=function(d,w,A,j,V){var W=d.toString();d=this.g[W],d||(d=this.g[W]=[],this.h++);var ee=Be(d,w,j,V);return-1<ee?(w=d[ee],A||(w.fa=!1)):(w=new ie(w,this.src,W,!!j,V),w.fa=A,d.push(w)),w};function G(d,w){var A=w.type;if(A in d.g){var j=d.g[A],V=Array.prototype.indexOf.call(j,w,void 0),W;(W=0<=V)&&Array.prototype.splice.call(j,V,1),W&&(ce(w),d.g[A].length==0&&(delete d.g[A],d.h--))}}function Be(d,w,A,j){for(var V=0;V<d.length;++V){var W=d[V];if(!W.da&&W.listener==w&&W.capture==!!A&&W.ha==j)return V}return-1}var we="closure_lm_"+(1e6*Math.random()|0),Ze={};function et(d,w,A,j,V){if(Array.isArray(w)){for(var W=0;W<w.length;W++)et(d,w[W],A,j,V);return null}return A=ar(A),d&&d[Ye]?d.K(w,A,u(j)?!!j.capture:!!j,V):Lt(d,w,A,!1,j,V)}function Lt(d,w,A,j,V,W){if(!w)throw Error("Invalid event type");var ee=u(V)?!!V.capture:!!V,nt=We(d);if(nt||(d[we]=nt=new de(d)),A=nt.add(w,A,j,ee,W),A.proxy)return A;if(j=te(),A.proxy=j,j.src=d,j.listener=A,d.addEventListener)ge||(V=ee),V===void 0&&(V=!1),d.addEventListener(w.toString(),j,V);else if(d.attachEvent)d.attachEvent(Ee(w.toString()),j);else if(d.addListener&&d.removeListener)d.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return A}function te(){function d(A){return w.call(d.src,d.listener,A)}const w=Re;return d}function xe(d,w,A,j,V){if(Array.isArray(w))for(var W=0;W<w.length;W++)xe(d,w[W],A,j,V);else j=u(j)?!!j.capture:!!j,A=ar(A),d&&d[Ye]?(d=d.i,w=String(w).toString(),w in d.g&&(W=d.g[w],A=Be(W,A,j,V),-1<A&&(ce(W[A]),Array.prototype.splice.call(W,A,1),W.length==0&&(delete d.g[w],d.h--)))):d&&(d=We(d))&&(w=d.g[w.toString()],d=-1,w&&(d=Be(w,A,j,V)),(A=-1<d?w[d]:null)&&Te(A))}function Te(d){if(typeof d!="number"&&d&&!d.da){var w=d.src;if(w&&w[Ye])G(w.i,d);else{var A=d.type,j=d.proxy;w.removeEventListener?w.removeEventListener(A,j,d.capture):w.detachEvent?w.detachEvent(Ee(A),j):w.addListener&&w.removeListener&&w.removeListener(j),(A=We(w))?(G(A,d),A.h==0&&(A.src=null,w[we]=null)):ce(d)}}}function Ee(d){return d in Ze?Ze[d]:Ze[d]="on"+d}function Re(d,w){if(d.da)d=!0;else{w=new Oe(w,this);var A=d.listener,j=d.ha||d.src;d.fa&&Te(d),d=A.call(j,w)}return d}function We(d){return d=d[we],d instanceof de?d:null}var qe="__closure_events_fn_"+(1e9*Math.random()>>>0);function ar(d){return typeof d=="function"?d:(d[qe]||(d[qe]=function(w){return d.handleEvent(w)}),d[qe])}function mt(){X.call(this),this.i=new de(this),this.M=this,this.F=null}g(mt,X),mt.prototype[Ye]=!0,mt.prototype.removeEventListener=function(d,w,A,j){xe(this,d,w,A,j)};function Zt(d,w){var A,j=d.F;if(j)for(A=[];j;j=j.F)A.push(j);if(d=d.M,j=w.type||w,typeof w=="string")w=new ne(w,d);else if(w instanceof ne)w.target=w.target||d;else{var V=w;w=new ne(j,d),R(w,V)}if(V=!0,A)for(var W=A.length-1;0<=W;W--){var ee=w.g=A[W];V=rs(ee,j,!0,w)&&V}if(ee=w.g=d,V=rs(ee,j,!0,w)&&V,V=rs(ee,j,!1,w)&&V,A)for(W=0;W<A.length;W++)ee=w.g=A[W],V=rs(ee,j,!1,w)&&V}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var d=this.i,w;for(w in d.g){for(var A=d.g[w],j=0;j<A.length;j++)ce(A[j]);delete d.g[w],d.h--}}this.F=null},mt.prototype.K=function(d,w,A,j){return this.i.add(String(d),w,!1,A,j)},mt.prototype.L=function(d,w,A,j){return this.i.add(String(d),w,!0,A,j)};function rs(d,w,A,j){if(w=d.i.g[String(w)],!w)return!0;w=w.concat();for(var V=!0,W=0;W<w.length;++W){var ee=w[W];if(ee&&!ee.da&&ee.capture==A){var nt=ee.listener,en=ee.ha||ee.src;ee.fa&&G(d.i,ee),V=nt.call(en,j)!==!1&&V}}return V&&!j.defaultPrevented}function is(d,w,A){if(typeof d=="function")A&&(d=h(d,A));else if(d&&typeof d.handleEvent=="function")d=h(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:s.setTimeout(d,w||0)}function ld(d){d.g=is(()=>{d.g=null,d.i&&(d.i=!1,ld(d))},d.l);const w=d.h;d.h=null,d.m.apply(null,w)}class Gg extends X{constructor(w,A){super(),this.m=w,this.l=A,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:ld(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qa(d){X.call(this),this.h=d,this.g={}}g(Qa,X);var ud=[];function cd(d){O(d.g,function(w,A){this.g.hasOwnProperty(A)&&Te(w)},d),d.g={}}Qa.prototype.N=function(){Qa.aa.N.call(this),cd(this)},Qa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zl=s.JSON.stringify,Xg=s.JSON.parse,Yg=class{stringify(d){return s.JSON.stringify(d,void 0)}parse(d){return s.JSON.parse(d,void 0)}};function fd(){}fd.prototype.h=null;function eu(d){return d.h||(d.h=d.i())}function Qg(){}var qi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function le(){ne.call(this,"d")}g(le,ne);function Se(){ne.call(this,"c")}g(Se,ne);var Ae={},Me=null;function tt(){return Me=Me||new mt}Ae.La="serverreachability";function Wt(d){ne.call(this,Ae.La,d)}g(Wt,ne);function gt(d){const w=tt();Zt(w,new Wt(w))}Ae.STAT_EVENT="statevent";function ui(d,w){ne.call(this,Ae.STAT_EVENT,d),this.stat=w}g(ui,ne);function yt(d){const w=tt();Zt(w,new ui(w,d))}Ae.Ma="timingevent";function V1(d,w){ne.call(this,Ae.Ma,d),this.size=w}g(V1,ne);function tu(d,w){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){d()},w)}function nu(){this.g=!0}nu.prototype.xa=function(){this.g=!1};function lL(d,w,A,j,V,W){d.info(function(){if(d.g)if(W)for(var ee="",nt=W.split("&"),en=0;en<nt.length;en++){var Ve=nt[en].split("=");if(1<Ve.length){var fn=Ve[0];Ve=Ve[1];var dn=fn.split("_");ee=2<=dn.length&&dn[1]=="type"?ee+(fn+"="+Ve+"&"):ee+(fn+"=redacted&")}}else ee=null;else ee=W;return"XMLHTTP REQ ("+j+") [attempt "+V+"]: "+w+`
`+A+`
`+ee})}function uL(d,w,A,j,V,W,ee){d.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+V+"]: "+w+`
`+A+`
`+W+" "+ee})}function as(d,w,A,j){d.info(function(){return"XMLHTTP TEXT ("+w+"): "+fL(d,A)+(j?" "+j:"")})}function cL(d,w){d.info(function(){return"TIMEOUT: "+w})}nu.prototype.info=function(){};function fL(d,w){if(!d.g)return w;if(!w)return null;try{var A=JSON.parse(w);if(A){for(d=0;d<A.length;d++)if(Array.isArray(A[d])){var j=A[d];if(!(2>j.length)){var V=j[1];if(Array.isArray(V)&&!(1>V.length)){var W=V[0];if(W!="noop"&&W!="stop"&&W!="close")for(var ee=1;ee<V.length;ee++)V[ee]=""}}}}return Zl(A)}catch{return w}}var dd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},F1={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Jg;function hd(){}g(hd,fd),hd.prototype.g=function(){return new XMLHttpRequest},hd.prototype.i=function(){return{}},Jg=new hd;function Hi(d,w,A,j){this.j=d,this.i=w,this.l=A,this.R=j||1,this.U=new Qa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new U1}function U1(){this.i=null,this.g="",this.h=!1}var B1={},Zg={};function ey(d,w,A){d.L=1,d.v=yd(ci(w)),d.m=A,d.P=!0,z1(d,null)}function z1(d,w){d.F=Date.now(),pd(d),d.A=ci(d.v);var A=d.A,j=d.R;Array.isArray(j)||(j=[String(j)]),rE(A.i,"t",j),d.C=0,A=d.j.J,d.h=new U1,d.g=wE(d.j,A?w:null,!d.m),0<d.O&&(d.M=new Gg(h(d.Y,d,d.g),d.O)),w=d.U,A=d.g,j=d.ca;var V="readystatechange";Array.isArray(V)||(V&&(ud[0]=V.toString()),V=ud);for(var W=0;W<V.length;W++){var ee=et(A,V[W],j||w.handleEvent,!1,w.h||w);if(!ee)break;w.g[ee.key]=ee}w=d.H?S(d.H):{},d.m?(d.u||(d.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,w)):(d.u="GET",d.g.ea(d.A,d.u,null,w)),gt(),lL(d.i,d.u,d.A,d.l,d.R,d.m)}Hi.prototype.ca=function(d){d=d.target;const w=this.M;w&&fi(d)==3?w.j():this.Y(d)},Hi.prototype.Y=function(d){try{if(d==this.g)e:{const dn=fi(this.g);var w=this.g.Ba();const ls=this.g.Z();if(!(3>dn)&&(dn!=3||this.g&&(this.h.h||this.g.oa()||cE(this.g)))){this.J||dn!=4||w==7||(w==8||0>=ls?gt(3):gt(2)),ty(this);var A=this.g.Z();this.X=A;t:if(W1(this)){var j=cE(this.g);d="";var V=j.length,W=fi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ja(this),ru(this);var ee="";break t}this.h.i=new s.TextDecoder}for(w=0;w<V;w++)this.h.h=!0,d+=this.h.i.decode(j[w],{stream:!(W&&w==V-1)});j.length=0,this.h.g+=d,this.C=0,ee=this.h.g}else ee=this.g.oa();if(this.o=A==200,uL(this.i,this.u,this.A,this.l,this.R,dn,A),this.o){if(this.T&&!this.K){t:{if(this.g){var nt,en=this.g;if((nt=en.g?en.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(nt)){var Ve=nt;break t}}Ve=null}if(A=Ve)as(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ny(this,A);else{this.o=!1,this.s=3,yt(12),Ja(this),ru(this);break e}}if(this.P){A=!0;let xr;for(;!this.J&&this.C<ee.length;)if(xr=dL(this,ee),xr==Zg){dn==4&&(this.s=4,yt(14),A=!1),as(this.i,this.l,null,"[Incomplete Response]");break}else if(xr==B1){this.s=4,yt(15),as(this.i,this.l,ee,"[Invalid Chunk]"),A=!1;break}else as(this.i,this.l,xr,null),ny(this,xr);if(W1(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),dn!=4||ee.length!=0||this.h.h||(this.s=1,yt(16),A=!1),this.o=this.o&&A,!A)as(this.i,this.l,ee,"[Invalid Chunked Response]"),Ja(this),ru(this);else if(0<ee.length&&!this.W){this.W=!0;var fn=this.j;fn.g==this&&fn.ba&&!fn.M&&(fn.j.info("Great, no buffering proxy detected. Bytes received: "+ee.length),ly(fn),fn.M=!0,yt(11))}}else as(this.i,this.l,ee,null),ny(this,ee);dn==4&&Ja(this),this.o&&!this.J&&(dn==4?yE(this.j,this):(this.o=!1,pd(this)))}else IL(this.g),A==400&&0<ee.indexOf("Unknown SID")?(this.s=3,yt(12)):(this.s=0,yt(13)),Ja(this),ru(this)}}}catch{}finally{}};function W1(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function dL(d,w){var A=d.C,j=w.indexOf(`
`,A);return j==-1?Zg:(A=Number(w.substring(A,j)),isNaN(A)?B1:(j+=1,j+A>w.length?Zg:(w=w.slice(j,j+A),d.C=j+A,w)))}Hi.prototype.cancel=function(){this.J=!0,Ja(this)};function pd(d){d.S=Date.now()+d.I,q1(d,d.I)}function q1(d,w){if(d.B!=null)throw Error("WatchDog timer not null");d.B=tu(h(d.ba,d),w)}function ty(d){d.B&&(s.clearTimeout(d.B),d.B=null)}Hi.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(cL(this.i,this.A),this.L!=2&&(gt(),yt(17)),Ja(this),this.s=2,ru(this)):q1(this,this.S-d)};function ru(d){d.j.G==0||d.J||yE(d.j,d)}function Ja(d){ty(d);var w=d.M;w&&typeof w.ma=="function"&&w.ma(),d.M=null,cd(d.U),d.g&&(w=d.g,d.g=null,w.abort(),w.ma())}function ny(d,w){try{var A=d.j;if(A.G!=0&&(A.g==d||ry(A.h,d))){if(!d.K&&ry(A.h,d)&&A.G==3){try{var j=A.Da.g.parse(w)}catch{j=null}if(Array.isArray(j)&&j.length==3){var V=j;if(V[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<d.F)xd(A),_d(A);else break e;sy(A),yt(18)}}else A.za=V[1],0<A.za-A.T&&37500>V[2]&&A.F&&A.v==0&&!A.C&&(A.C=tu(h(A.Za,A),6e3));if(1>=G1(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else eo(A,11)}else if((d.K||A.g==d)&&xd(A),!y(w))for(V=A.Da.g.parse(w),w=0;w<V.length;w++){let Ve=V[w];if(A.T=Ve[0],Ve=Ve[1],A.G==2)if(Ve[0]=="c"){A.K=Ve[1],A.ia=Ve[2];const fn=Ve[3];fn!=null&&(A.la=fn,A.j.info("VER="+A.la));const dn=Ve[4];dn!=null&&(A.Aa=dn,A.j.info("SVER="+A.Aa));const ls=Ve[5];ls!=null&&typeof ls=="number"&&0<ls&&(j=1.5*ls,A.L=j,A.j.info("backChannelRequestTimeoutMs_="+j)),j=A;const xr=d.g;if(xr){const Sd=xr.g?xr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sd){var W=j.h;W.g||Sd.indexOf("spdy")==-1&&Sd.indexOf("quic")==-1&&Sd.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(iy(W,W.h),W.h=null))}if(j.D){const uy=xr.g?xr.g.getResponseHeader("X-HTTP-Session-Id"):null;uy&&(j.ya=uy,ut(j.I,j.D,uy))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-d.F,A.j.info("Handshake RTT: "+A.R+"ms")),j=A;var ee=d;if(j.qa=_E(j,j.J?j.ia:null,j.W),ee.K){X1(j.h,ee);var nt=ee,en=j.L;en&&(nt.I=en),nt.B&&(ty(nt),pd(nt)),j.g=ee}else mE(j);0<A.i.length&&wd(A)}else Ve[0]!="stop"&&Ve[0]!="close"||eo(A,7);else A.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?eo(A,7):oy(A):Ve[0]!="noop"&&A.l&&A.l.ta(Ve),A.v=0)}}gt(4)}catch{}}var hL=class{constructor(d,w){this.g=d,this.map=w}};function H1(d){this.l=d||10,s.PerformanceNavigationTiming?(d=s.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function K1(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function G1(d){return d.h?1:d.g?d.g.size:0}function ry(d,w){return d.h?d.h==w:d.g?d.g.has(w):!1}function iy(d,w){d.g?d.g.add(w):d.h=w}function X1(d,w){d.h&&d.h==w?d.h=null:d.g&&d.g.has(w)&&d.g.delete(w)}H1.prototype.cancel=function(){if(this.i=Y1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Y1(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let w=d.i;for(const A of d.g.values())w=w.concat(A.D);return w}return m(d.i)}function pL(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var w=[],A=d.length,j=0;j<A;j++)w.push(d[j]);return w}w=[],A=0;for(j in d)w[A++]=d[j];return w}function mL(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var w=[];d=d.length;for(var A=0;A<d;A++)w.push(A);return w}w=[],A=0;for(const j in d)w[A++]=j;return w}}}function Q1(d,w){if(d.forEach&&typeof d.forEach=="function")d.forEach(w,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,w,void 0);else for(var A=mL(d),j=pL(d),V=j.length,W=0;W<V;W++)w.call(void 0,j[W],A&&A[W],d)}var J1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gL(d,w){if(d){d=d.split("&");for(var A=0;A<d.length;A++){var j=d[A].indexOf("="),V=null;if(0<=j){var W=d[A].substring(0,j);V=d[A].substring(j+1)}else W=d[A];w(W,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Za(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Za){this.h=d.h,md(this,d.j),this.o=d.o,this.g=d.g,gd(this,d.s),this.l=d.l;var w=d.i,A=new ou;A.i=w.i,w.g&&(A.g=new Map(w.g),A.h=w.h),Z1(this,A),this.m=d.m}else d&&(w=String(d).match(J1))?(this.h=!1,md(this,w[1]||"",!0),this.o=iu(w[2]||""),this.g=iu(w[3]||"",!0),gd(this,w[4]),this.l=iu(w[5]||"",!0),Z1(this,w[6]||"",!0),this.m=iu(w[7]||"")):(this.h=!1,this.i=new ou(null,this.h))}Za.prototype.toString=function(){var d=[],w=this.j;w&&d.push(au(w,eE,!0),":");var A=this.g;return(A||w=="file")&&(d.push("//"),(w=this.o)&&d.push(au(w,eE,!0),"@"),d.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&d.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&d.push("/"),d.push(au(A,A.charAt(0)=="/"?bL:vL,!0))),(A=this.i.toString())&&d.push("?",A),(A=this.m)&&d.push("#",au(A,wL)),d.join("")};function ci(d){return new Za(d)}function md(d,w,A){d.j=A?iu(w,!0):w,d.j&&(d.j=d.j.replace(/:$/,""))}function gd(d,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);d.s=w}else d.s=null}function Z1(d,w,A){w instanceof ou?(d.i=w,xL(d.i,d.h)):(A||(w=au(w,_L)),d.i=new ou(w,d.h))}function ut(d,w,A){d.i.set(w,A)}function yd(d){return ut(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function iu(d,w){return d?w?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function au(d,w,A){return typeof d=="string"?(d=encodeURI(d).replace(w,yL),A&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function yL(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var eE=/[#\/\?@]/g,vL=/[#\?:]/g,bL=/[#\?]/g,_L=/[#\?@]/g,wL=/#/g;function ou(d,w){this.h=this.g=null,this.i=d||null,this.j=!!w}function Ki(d){d.g||(d.g=new Map,d.h=0,d.i&&gL(d.i,function(w,A){d.add(decodeURIComponent(w.replace(/\+/g," ")),A)}))}t=ou.prototype,t.add=function(d,w){Ki(this),this.i=null,d=os(this,d);var A=this.g.get(d);return A||this.g.set(d,A=[]),A.push(w),this.h+=1,this};function tE(d,w){Ki(d),w=os(d,w),d.g.has(w)&&(d.i=null,d.h-=d.g.get(w).length,d.g.delete(w))}function nE(d,w){return Ki(d),w=os(d,w),d.g.has(w)}t.forEach=function(d,w){Ki(this),this.g.forEach(function(A,j){A.forEach(function(V){d.call(w,V,j,this)},this)},this)},t.na=function(){Ki(this);const d=Array.from(this.g.values()),w=Array.from(this.g.keys()),A=[];for(let j=0;j<w.length;j++){const V=d[j];for(let W=0;W<V.length;W++)A.push(w[j])}return A},t.V=function(d){Ki(this);let w=[];if(typeof d=="string")nE(this,d)&&(w=w.concat(this.g.get(os(this,d))));else{d=Array.from(this.g.values());for(let A=0;A<d.length;A++)w=w.concat(d[A])}return w},t.set=function(d,w){return Ki(this),this.i=null,d=os(this,d),nE(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[w]),this.h+=1,this},t.get=function(d,w){return d?(d=this.V(d),0<d.length?String(d[0]):w):w};function rE(d,w,A){tE(d,w),0<A.length&&(d.i=null,d.g.set(os(d,w),m(A)),d.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],w=Array.from(this.g.keys());for(var A=0;A<w.length;A++){var j=w[A];const W=encodeURIComponent(String(j)),ee=this.V(j);for(j=0;j<ee.length;j++){var V=W;ee[j]!==""&&(V+="="+encodeURIComponent(String(ee[j]))),d.push(V)}}return this.i=d.join("&")};function os(d,w){return w=String(w),d.j&&(w=w.toLowerCase()),w}function xL(d,w){w&&!d.j&&(Ki(d),d.i=null,d.g.forEach(function(A,j){var V=j.toLowerCase();j!=V&&(tE(this,j),rE(this,V,A))},d)),d.j=w}function EL(d,w){const A=new nu;if(s.Image){const j=new Image;j.onload=p(Gi,A,"TestLoadImage: loaded",!0,w,j),j.onerror=p(Gi,A,"TestLoadImage: error",!1,w,j),j.onabort=p(Gi,A,"TestLoadImage: abort",!1,w,j),j.ontimeout=p(Gi,A,"TestLoadImage: timeout",!1,w,j),s.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=d}else w(!1)}function SL(d,w){const A=new nu,j=new AbortController,V=setTimeout(()=>{j.abort(),Gi(A,"TestPingServer: timeout",!1,w)},1e4);fetch(d,{signal:j.signal}).then(W=>{clearTimeout(V),W.ok?Gi(A,"TestPingServer: ok",!0,w):Gi(A,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(V),Gi(A,"TestPingServer: error",!1,w)})}function Gi(d,w,A,j,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),j(A)}catch{}}function kL(){this.g=new Yg}function TL(d,w,A){const j=A||"";try{Q1(d,function(V,W){let ee=V;u(V)&&(ee=Zl(V)),w.push(j+W+"="+encodeURIComponent(ee))})}catch(V){throw w.push(j+"type="+encodeURIComponent("_badmap")),V}}function su(d){this.l=d.Ub||null,this.j=d.eb||!1}g(su,fd),su.prototype.g=function(){return new vd(this.l,this.j)},su.prototype.i=function(d){return function(){return d}}({});function vd(d,w){mt.call(this),this.D=d,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(vd,mt),t=vd.prototype,t.open=function(d,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=w,this.readyState=1,uu(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(w.body=d),(this.D||s).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,lu(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,uu(this)),this.g&&(this.readyState=3,uu(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;iE(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function iE(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var w=d.value?d.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!d.done}))&&(this.response=this.responseText+=w)}d.done?lu(this):uu(this),this.readyState==3&&iE(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,lu(this))},t.Qa=function(d){this.g&&(this.response=d,lu(this))},t.ga=function(){this.g&&lu(this)};function lu(d){d.readyState=4,d.l=null,d.j=null,d.v=null,uu(d)}t.setRequestHeader=function(d,w){this.u.append(d,w)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],w=this.h.entries();for(var A=w.next();!A.done;)A=A.value,d.push(A[0]+": "+A[1]),A=w.next();return d.join(`\r
`)};function uu(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(vd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function aE(d){let w="";return O(d,function(A,j){w+=j,w+=":",w+=A,w+=`\r
`}),w}function ay(d,w,A){e:{for(j in A){var j=!1;break e}j=!0}j||(A=aE(A),typeof d=="string"?A!=null&&encodeURIComponent(String(A)):ut(d,w,A))}function At(d){mt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(At,mt);var AL=/^https?$/i,PL=["POST","PUT"];t=At.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,w,A,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);w=w?w.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Jg.g(),this.v=this.o?eu(this.o):eu(Jg),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(w,String(d),!0),this.B=!1}catch(W){oE(this,W);return}if(d=A||"",A=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var V in j)A.set(V,j[V]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const W of j.keys())A.set(W,j.get(W));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(A.keys()).find(W=>W.toLowerCase()=="content-type"),V=s.FormData&&d instanceof s.FormData,!(0<=Array.prototype.indexOf.call(PL,w,void 0))||j||V||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,ee]of A)this.g.setRequestHeader(W,ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{uE(this),this.u=!0,this.g.send(d),this.u=!1}catch(W){oE(this,W)}};function oE(d,w){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=w,d.m=5,sE(d),bd(d)}function sE(d){d.A||(d.A=!0,Zt(d,"complete"),Zt(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Zt(this,"complete"),Zt(this,"abort"),bd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bd(this,!0)),At.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?lE(this):this.bb())},t.bb=function(){lE(this)};function lE(d){if(d.h&&typeof o<"u"&&(!d.v[1]||fi(d)!=4||d.Z()!=2)){if(d.u&&fi(d)==4)is(d.Ea,0,d);else if(Zt(d,"readystatechange"),fi(d)==4){d.h=!1;try{const ee=d.Z();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var A;if(!(A=w)){var j;if(j=ee===0){var V=String(d.D).match(J1)[1]||null;!V&&s.self&&s.self.location&&(V=s.self.location.protocol.slice(0,-1)),j=!AL.test(V?V.toLowerCase():"")}A=j}if(A)Zt(d,"complete"),Zt(d,"success");else{d.m=6;try{var W=2<fi(d)?d.g.statusText:""}catch{W=""}d.l=W+" ["+d.Z()+"]",sE(d)}}finally{bd(d)}}}}function bd(d,w){if(d.g){uE(d);const A=d.g,j=d.v[0]?()=>{}:null;d.g=null,d.v=null,w||Zt(d,"ready");try{A.onreadystatechange=j}catch{}}}function uE(d){d.I&&(s.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function fi(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<fi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var w=this.g.responseText;return d&&w.indexOf(d)==0&&(w=w.substring(d.length)),Xg(w)}};function cE(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function IL(d){const w={};d=(d.g&&2<=fi(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<d.length;j++){if(y(d[j]))continue;var A=N(d[j]);const V=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const W=w[V]||[];w[V]=W,W.push(A)}k(w,function(j){return j.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function cu(d,w,A){return A&&A.internalChannelParams&&A.internalChannelParams[d]||w}function fE(d){this.Aa=0,this.i=[],this.j=new nu,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=cu("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=cu("baseRetryDelayMs",5e3,d),this.cb=cu("retryDelaySeedMs",1e4,d),this.Wa=cu("forwardChannelMaxRetries",2,d),this.wa=cu("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new H1(d&&d.concurrentRequestLimit),this.Da=new kL,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=fE.prototype,t.la=8,t.G=1,t.connect=function(d,w,A,j){yt(0),this.W=d,this.H=w||{},A&&j!==void 0&&(this.H.OSID=A,this.H.OAID=j),this.F=this.X,this.I=_E(this,null,this.W),wd(this)};function oy(d){if(dE(d),d.G==3){var w=d.U++,A=ci(d.I);if(ut(A,"SID",d.K),ut(A,"RID",w),ut(A,"TYPE","terminate"),fu(d,A),w=new Hi(d,d.j,w),w.L=2,w.v=yd(ci(A)),A=!1,s.navigator&&s.navigator.sendBeacon)try{A=s.navigator.sendBeacon(w.v.toString(),"")}catch{}!A&&s.Image&&(new Image().src=w.v,A=!0),A||(w.g=wE(w.j,null),w.g.ea(w.v)),w.F=Date.now(),pd(w)}bE(d)}function _d(d){d.g&&(ly(d),d.g.cancel(),d.g=null)}function dE(d){_d(d),d.u&&(s.clearTimeout(d.u),d.u=null),xd(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&s.clearTimeout(d.s),d.s=null)}function wd(d){if(!K1(d.h)&&!d.s){d.s=!0;var w=d.Ga;B||Y(),L||(B(),L=!0),q.add(w,d),d.B=0}}function OL(d,w){return G1(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=w.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=tu(h(d.Ga,d,w),vE(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const V=new Hi(this,this.j,d);let W=this.o;if(this.S&&(W?(W=S(W),R(W,this.S)):W=this.S),this.m!==null||this.O||(V.H=W,W=null),this.P)e:{for(var w=0,A=0;A<this.i.length;A++){t:{var j=this.i[A];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(w+=j,4096<w){w=A;break e}if(w===4096||A===this.i.length-1){w=A+1;break e}}w=1e3}else w=1e3;w=pE(this,V,w),A=ci(this.I),ut(A,"RID",d),ut(A,"CVER",22),this.D&&ut(A,"X-HTTP-Session-Id",this.D),fu(this,A),W&&(this.O?w="headers="+encodeURIComponent(String(aE(W)))+"&"+w:this.m&&ay(A,this.m,W)),iy(this.h,V),this.Ua&&ut(A,"TYPE","init"),this.P?(ut(A,"$req",w),ut(A,"SID","null"),V.T=!0,ey(V,A,null)):ey(V,A,w),this.G=2}}else this.G==3&&(d?hE(this,d):this.i.length==0||K1(this.h)||hE(this))};function hE(d,w){var A;w?A=w.l:A=d.U++;const j=ci(d.I);ut(j,"SID",d.K),ut(j,"RID",A),ut(j,"AID",d.T),fu(d,j),d.m&&d.o&&ay(j,d.m,d.o),A=new Hi(d,d.j,A,d.B+1),d.m===null&&(A.H=d.o),w&&(d.i=w.D.concat(d.i)),w=pE(d,A,1e3),A.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),iy(d.h,A),ey(A,j,w)}function fu(d,w){d.H&&O(d.H,function(A,j){ut(w,j,A)}),d.l&&Q1({},function(A,j){ut(w,j,A)})}function pE(d,w,A){A=Math.min(d.i.length,A);var j=d.l?h(d.l.Na,d.l,d):null;e:{var V=d.i;let W=-1;for(;;){const ee=["count="+A];W==-1?0<A?(W=V[0].g,ee.push("ofs="+W)):W=0:ee.push("ofs="+W);let nt=!0;for(let en=0;en<A;en++){let Ve=V[en].g;const fn=V[en].map;if(Ve-=W,0>Ve)W=Math.max(0,V[en].g-100),nt=!1;else try{TL(fn,ee,"req"+Ve+"_")}catch{j&&j(fn)}}if(nt){j=ee.join("&");break e}}}return d=d.i.splice(0,A),w.D=d,j}function mE(d){if(!d.g&&!d.u){d.Y=1;var w=d.Fa;B||Y(),L||(B(),L=!0),q.add(w,d),d.v=0}}function sy(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=tu(h(d.Fa,d),vE(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,gE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=tu(h(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yt(10),_d(this),gE(this))};function ly(d){d.A!=null&&(s.clearTimeout(d.A),d.A=null)}function gE(d){d.g=new Hi(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var w=ci(d.qa);ut(w,"RID","rpc"),ut(w,"SID",d.K),ut(w,"AID",d.T),ut(w,"CI",d.F?"0":"1"),!d.F&&d.ja&&ut(w,"TO",d.ja),ut(w,"TYPE","xmlhttp"),fu(d,w),d.m&&d.o&&ay(w,d.m,d.o),d.L&&(d.g.I=d.L);var A=d.g;d=d.ia,A.L=1,A.v=yd(ci(w)),A.m=null,A.P=!0,z1(A,d)}t.Za=function(){this.C!=null&&(this.C=null,_d(this),sy(this),yt(19))};function xd(d){d.C!=null&&(s.clearTimeout(d.C),d.C=null)}function yE(d,w){var A=null;if(d.g==w){xd(d),ly(d),d.g=null;var j=2}else if(ry(d.h,w))A=w.D,X1(d.h,w),j=1;else return;if(d.G!=0){if(w.o)if(j==1){A=w.m?w.m.length:0,w=Date.now()-w.F;var V=d.B;j=tt(),Zt(j,new V1(j,A)),wd(d)}else mE(d);else if(V=w.s,V==3||V==0&&0<w.X||!(j==1&&OL(d,w)||j==2&&sy(d)))switch(A&&0<A.length&&(w=d.h,w.i=w.i.concat(A)),V){case 1:eo(d,5);break;case 4:eo(d,10);break;case 3:eo(d,6);break;default:eo(d,2)}}}function vE(d,w){let A=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(A*=2),A*w}function eo(d,w){if(d.j.info("Error code "+w),w==2){var A=h(d.fb,d),j=d.Xa;const V=!j;j=new Za(j||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||md(j,"https"),yd(j),V?EL(j.toString(),A):SL(j.toString(),A)}else yt(2);d.G=0,d.l&&d.l.sa(w),bE(d),dE(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function bE(d){if(d.G=0,d.ka=[],d.l){const w=Y1(d.h);(w.length!=0||d.i.length!=0)&&(v(d.ka,w),v(d.ka,d.i),d.h.i.length=0,m(d.i),d.i.length=0),d.l.ra()}}function _E(d,w,A){var j=A instanceof Za?ci(A):new Za(A);if(j.g!="")w&&(j.g=w+"."+j.g),gd(j,j.s);else{var V=s.location;j=V.protocol,w=w?w+"."+V.hostname:V.hostname,V=+V.port;var W=new Za(null);j&&md(W,j),w&&(W.g=w),V&&gd(W,V),A&&(W.l=A),j=W}return A=d.D,w=d.ya,A&&w&&ut(j,A,w),ut(j,"VER",d.la),fu(d,j),j}function wE(d,w,A){if(w&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=d.Ca&&!d.pa?new At(new su({eb:A})):new At(d.pa),w.Ha(d.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function xE(){}t=xE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ed(){}Ed.prototype.g=function(d,w){return new qn(d,w)};function qn(d,w){mt.call(this),this.g=new fE(w),this.l=d,this.h=w&&w.messageUrlParams||null,d=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(d?d["X-WebChannel-Content-Type"]=w.messageContentType:d={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(d?d["X-WebChannel-Client-Profile"]=w.va:d={"X-WebChannel-Client-Profile":w.va}),this.g.S=d,(d=w&&w.Sb)&&!y(d)&&(this.g.m=d),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!y(w)&&(this.g.D=w,d=this.h,d!==null&&w in d&&(d=this.h,w in d&&delete d[w])),this.j=new ss(this)}g(qn,mt),qn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qn.prototype.close=function(){oy(this.g)},qn.prototype.o=function(d){var w=this.g;if(typeof d=="string"){var A={};A.__data__=d,d=A}else this.u&&(A={},A.__data__=Zl(d),d=A);w.i.push(new hL(w.Ya++,d)),w.G==3&&wd(w)},qn.prototype.N=function(){this.g.l=null,delete this.j,oy(this.g),delete this.g,qn.aa.N.call(this)};function EE(d){le.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var w=d.__sm__;if(w){e:{for(const A in w){d=A;break e}d=void 0}(this.i=d)&&(d=this.i,w=w!==null&&d in w?w[d]:void 0),this.data=w}else this.data=d}g(EE,le);function SE(){Se.call(this),this.status=1}g(SE,Se);function ss(d){this.g=d}g(ss,xE),ss.prototype.ua=function(){Zt(this.g,"a")},ss.prototype.ta=function(d){Zt(this.g,new EE(d))},ss.prototype.sa=function(d){Zt(this.g,new SE)},ss.prototype.ra=function(){Zt(this.g,"b")},Ed.prototype.createWebChannel=Ed.prototype.g,qn.prototype.send=qn.prototype.o,qn.prototype.open=qn.prototype.m,qn.prototype.close=qn.prototype.close,CN=function(){return new Ed},ON=function(){return tt()},IN=Ae,O0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},dd.NO_ERROR=0,dd.TIMEOUT=8,dd.HTTP_ERROR=6,Ah=dd,F1.COMPLETE="complete",PN=F1,Qg.EventType=qi,qi.OPEN="a",qi.CLOSE="b",qi.ERROR="c",qi.MESSAGE="d",mt.prototype.listen=mt.prototype.K,Vu=Qg,AN=su,At.prototype.listenOnce=At.prototype.L,At.prototype.getLastError=At.prototype.Ka,At.prototype.getLastErrorCode=At.prototype.Ba,At.prototype.getStatus=At.prototype.Z,At.prototype.getResponseJson=At.prototype.Oa,At.prototype.getResponseText=At.prototype.oa,At.prototype.send=At.prototype.ea,At.prototype.setWithCredentials=At.prototype.Ha,TN=At}).apply(typeof Wd<"u"?Wd:typeof self<"u"?self:typeof window<"u"?window:{});const vk="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yn.UNAUTHENTICATED=new yn(null),yn.GOOGLE_CREDENTIALS=new yn("google-credentials-uid"),yn.FIRST_PARTY=new yn("first-party-uid"),yn.MOCK_USER=new yn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ml="10.13.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo=new vw("@firebase/firestore");function _u(){return jo.logLevel}function ue(t,...e){if(jo.logLevel<=Ne.DEBUG){const n=e.map(Cw);jo.debug(`Firestore (${Ml}): ${t}`,...n)}}function Di(t,...e){if(jo.logLevel<=Ne.ERROR){const n=e.map(Cw);jo.error(`Firestore (${Ml}): ${t}`,...n)}}function al(t,...e){if(jo.logLevel<=Ne.WARN){const n=e.map(Cw);jo.warn(`Firestore (${Ml}): ${t}`,...n)}}function Cw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(t="Unexpected state"){const e=`FIRESTORE (${Ml}) INTERNAL ASSERTION FAILED: `+t;throw Di(e),new Error(e)}function it(t,e){t||ye()}function _e(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends ii{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class HB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(yn.UNAUTHENTICATED))}shutdown(){}}class KB{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class GB{constructor(e){this.t=e,this.currentUser=yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let a=new ki;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ki,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ki)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(it(typeof r.accessToken=="string"),new RN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string"),new yn(e)}}class XB{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=yn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class YB{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new XB(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(yn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class QB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JB{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=a=>{a.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.R;return this.R=a.token,ue("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(it(typeof n.token=="string"),this.R=n.token,new QB(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZB(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=ZB(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%e.length))}return r}}function Fe(t,e){return t<e?-1:t>e?1:0}function ol(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ae(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ae(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ae(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Je.fromMillis(Date.now())}static fromDate(e){return Je.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Je(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ve(e)}static min(){return new ve(new Je(0,0))}static max(){return new ve(new Je(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,n,r){n===void 0?n=0:n>e.length&&ye(),r===void 0?r=e.length-n:r>e.length-n&&ye(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Vc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Vc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=e.get(i),o=n.get(i);if(a<o)return-1;if(a>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ht extends Vc{construct(e,n,r){return new ht(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ae(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ht(n)}static emptyPath(){return new ht([])}}const e5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends Vc{construct(e,n,r){return new an(e,n,r)}static isValidIdentifier(e){return e5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new an(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new ae(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new ae(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ae(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else s==="`"?(o=!o,i++):s!=="."||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new ae(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(n)}static emptyPath(){return new an([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.path=e}static fromPath(e){return new fe(ht.fromString(e))}static fromName(e){return new fe(ht.fromString(e).popFirst(5))}static empty(){return new fe(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ht.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new ht(e.slice()))}}function t5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ve.fromTimestamp(r===1e9?new Je(n+1,0):new Je(n,r));return new Na(i,fe.empty(),e)}function n5(t){return new Na(t.readTime,t.key,-1)}class Na{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Na(ve.min(),fe.empty(),-1)}static max(){return new Na(ve.max(),fe.empty(),-1)}}function r5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=fe.comparator(t.documentKey,e.documentKey),n!==0?n:Fe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class a5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zf(t){if(t.code!==K.FAILED_PRECONDITION||t.message!==i5)throw t;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ye(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.reject(n)}static resolve(e){return new Q((n,r)=>{n(e)})}static reject(e){return new Q((n,r)=>{r(e)})}static waitFor(e){return new Q((n,r)=>{let i=0,a=0,o=!1;e.forEach(s=>{++i,s.next(()=>{++a,o&&a===i&&n()},l=>r(l))}),o=!0,a===i&&n()})}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next(i=>i?Q.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new Q((r,i)=>{const a=e.length,o=new Array(a);let s=0;for(let l=0;l<a;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++s,s===a&&r(o)},c=>i(c))}})}static doWhile(e,n){return new Q((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function o5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Wf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Rw.oe=-1;function $m(t){return t==null}function hp(t){return t===0&&1/t==-1/0}function s5(t){return typeof t=="number"&&Number.isInteger(t)&&!hp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bk(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Xo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function jN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,n){this.comparator=e,this.root=n||rn.EMPTY}insert(e,n){return new Tt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(e){return new Tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qd(this.root,e,this.comparator,!1)}getReverseIterator(){return new qd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qd(this.root,e,this.comparator,!0)}}class qd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rn{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??rn.RED,this.left=i??rn.EMPTY,this.right=a??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new rn(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return rn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ye();const e=this.left.check();if(e!==this.right.check())throw ye();return e+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1;rn.EMPTY=new class{constructor(){this.size=0}get key(){throw ye()}get value(){throw ye()}get color(){throw ye()}get left(){throw ye()}get right(){throw ye()}copy(e,n,r,i,a){return this}insert(e,n,r){return new rn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.comparator=e,this.data=new Tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new _k(this.data.getIterator())}getIteratorFrom(e){return new _k(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof sn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new sn(this.comparator);return n.data=e,n}}class _k{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new Jn([])}unionWith(e){let n=new sn(an.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Jn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ol(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new DN("Invalid base64 string: "+a):a}}(e);return new un(n)}static fromUint8Array(e){const n=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new un(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const l5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ja(t){if(it(!!t),typeof t=="string"){let e=0;const n=l5.exec(t);if(it(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ct(t.seconds),nanos:Ct(t.nanos)}}function Ct(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Do(t){return typeof t=="string"?un.fromBase64String(t):un.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function jw(t){const e=t.mapValue.fields.__previous_value__;return Nw(e)?jw(e):e}function Fc(t){const e=ja(t.mapValue.fields.__local_write_time__.timestampValue);return new Je(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5{constructor(e,n,r,i,a,o,s,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u}}class Uc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Uc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Uc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Mo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Nw(t)?4:f5(t)?9007199254740991:c5(t)?10:11:ye()}function ti(t,e){if(t===e)return!0;const n=Mo(t);if(n!==Mo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Fc(t).isEqual(Fc(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=ja(i.timestampValue),s=ja(a.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Do(i.bytesValue).isEqual(Do(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return Ct(i.geoPointValue.latitude)===Ct(a.geoPointValue.latitude)&&Ct(i.geoPointValue.longitude)===Ct(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Ct(i.integerValue)===Ct(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=Ct(i.doubleValue),s=Ct(a.doubleValue);return o===s?hp(o)===hp(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return ol(t.arrayValue.values||[],e.arrayValue.values||[],ti);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},s=a.mapValue.fields||{};if(bk(o)!==bk(s))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(s[l]===void 0||!ti(o[l],s[l])))return!1;return!0}(t,e);default:return ye()}}function Bc(t,e){return(t.values||[]).find(n=>ti(n,e))!==void 0}function sl(t,e){if(t===e)return 0;const n=Mo(t),r=Mo(e);if(n!==r)return Fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fe(t.booleanValue,e.booleanValue);case 2:return function(a,o){const s=Ct(a.integerValue||a.doubleValue),l=Ct(o.integerValue||o.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return wk(t.timestampValue,e.timestampValue);case 4:return wk(Fc(t),Fc(e));case 5:return Fe(t.stringValue,e.stringValue);case 6:return function(a,o){const s=Do(a),l=Do(o);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const s=a.split("/"),l=o.split("/");for(let u=0;u<s.length&&u<l.length;u++){const c=Fe(s[u],l[u]);if(c!==0)return c}return Fe(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const s=Fe(Ct(a.latitude),Ct(o.latitude));return s!==0?s:Fe(Ct(a.longitude),Ct(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return xk(t.arrayValue,e.arrayValue);case 10:return function(a,o){var s,l,u,c;const f=a.fields||{},h=o.fields||{},p=(s=f.value)===null||s===void 0?void 0:s.arrayValue,g=(l=h.value)===null||l===void 0?void 0:l.arrayValue,m=Fe(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0);return m!==0?m:xk(p,g)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===Hd.mapValue&&o===Hd.mapValue)return 0;if(a===Hd.mapValue)return 1;if(o===Hd.mapValue)return-1;const s=a.fields||{},l=Object.keys(s),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const h=Fe(l[f],c[f]);if(h!==0)return h;const p=sl(s[l[f]],u[c[f]]);if(p!==0)return p}return Fe(l.length,c.length)}(t.mapValue,e.mapValue);default:throw ye()}}function wk(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Fe(t,e);const n=ja(t),r=ja(e),i=Fe(n.seconds,r.seconds);return i!==0?i:Fe(n.nanos,r.nanos)}function xk(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=sl(n[i],r[i]);if(a)return a}return Fe(n.length,r.length)}function ll(t){return C0(t)}function C0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ja(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Do(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return fe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=C0(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const o of r)a?a=!1:i+=",",i+=`${o}:${C0(n.fields[o])}`;return i+"}"}(t.mapValue):ye()}function Ek(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function R0(t){return!!t&&"integerValue"in t}function Dw(t){return!!t&&"arrayValue"in t}function Sk(t){return!!t&&"nullValue"in t}function kk(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ph(t){return!!t&&"mapValue"in t}function c5(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function nc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Xo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=nc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=nc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function f5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.value=e}static empty(){return new $n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ph(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=nc(n)}setAll(e){let n=an.emptyPath(),r={},i=[];e.forEach((o,s)=>{if(!n.isImmediateParentOf(s)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=s.popLast()}o?r[s.lastSegment()]=nc(o):i.push(s.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Ph(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ti(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ph(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Xo(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new $n(nc(this.value))}}function MN(t){const e=[];return Xo(t.fields,(n,r)=>{const i=new an([n]);if(Ph(r)){const a=MN(r.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)}),new Jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e,n,r,i,a,o,s){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}static newInvalidDocument(e){return new _n(e,0,ve.min(),ve.min(),ve.min(),$n.empty(),0)}static newFoundDocument(e,n,r,i){return new _n(e,1,n,ve.min(),r,i,0)}static newNoDocument(e,n){return new _n(e,2,n,ve.min(),ve.min(),$n.empty(),0)}static newUnknownDocument(e,n){return new _n(e,3,n,ve.min(),ve.min(),$n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e,n){this.position=e,this.inclusive=n}}function Tk(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?r=fe.comparator(fe.fromName(o.referenceValue),n.key):r=sl(o,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ak(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ti(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,n="asc"){this.field=e,this.dir=n}}function d5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{}class Mt extends $N{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new p5(e,n,r):n==="array-contains"?new y5(e,r):n==="in"?new v5(e,r):n==="not-in"?new b5(e,r):n==="array-contains-any"?new _5(e,r):new Mt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new m5(e,r):new g5(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(sl(n,this.value)):n!==null&&Mo(this.value)===Mo(n)&&this.matchesComparison(sl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Dr extends $N{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Dr(e,n)}matches(e){return LN(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function LN(t){return t.op==="and"}function VN(t){return h5(t)&&LN(t)}function h5(t){for(const e of t.filters)if(e instanceof Dr)return!1;return!0}function N0(t){if(t instanceof Mt)return t.field.canonicalString()+t.op.toString()+ll(t.value);if(VN(t))return t.filters.map(e=>N0(e)).join(",");{const e=t.filters.map(n=>N0(n)).join(",");return`${t.op}(${e})`}}function FN(t,e){return t instanceof Mt?function(r,i){return i instanceof Mt&&r.op===i.op&&r.field.isEqual(i.field)&&ti(r.value,i.value)}(t,e):t instanceof Dr?function(r,i){return i instanceof Dr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,o,s)=>a&&FN(o,i.filters[s]),!0):!1}(t,e):void ye()}function UN(t){return t instanceof Mt?function(n){return`${n.field.canonicalString()} ${n.op} ${ll(n.value)}`}(t):t instanceof Dr?function(n){return n.op.toString()+" {"+n.getFilters().map(UN).join(" ,")+"}"}(t):"Filter"}class p5 extends Mt{constructor(e,n,r){super(e,n,r),this.key=fe.fromName(r.referenceValue)}matches(e){const n=fe.comparator(e.key,this.key);return this.matchesComparison(n)}}class m5 extends Mt{constructor(e,n){super(e,"in",n),this.keys=BN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class g5 extends Mt{constructor(e,n){super(e,"not-in",n),this.keys=BN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function BN(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>fe.fromName(r.referenceValue))}class y5 extends Mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Dw(n)&&Bc(n.arrayValue,this.value)}}class v5 extends Mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Bc(this.value.arrayValue,n)}}class b5 extends Mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Bc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Bc(this.value.arrayValue,n)}}class _5 extends Mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Dw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Bc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(e,n=null,r=[],i=[],a=null,o=null,s=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ue=null}}function Pk(t,e=null,n=[],r=[],i=null,a=null,o=null){return new w5(t,e,n,r,i,a,o)}function Mw(t){const e=_e(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>N0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),$m(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ll(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ll(r)).join(",")),e.ue=n}return e.ue}function $w(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!d5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!FN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ak(t.startAt,e.startAt)&&Ak(t.endAt,e.endAt)}function j0(t){return fe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,n=null,r=[],i=[],a=null,o="F",s=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function x5(t,e,n,r,i,a,o,s){return new $l(t,e,n,r,i,a,o,s)}function Lw(t){return new $l(t)}function Ik(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function zN(t){return t.collectionGroup!==null}function rc(t){const e=_e(t);if(e.ce===null){e.ce=[];const n=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let s=new sn(an.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(s=s.add(u.field))})}),s})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.ce.push(new zc(a,r))}),n.has(an.keyField().canonicalString())||e.ce.push(new zc(an.keyField(),r))}return e.ce}function Qr(t){const e=_e(t);return e.le||(e.le=E5(e,rc(t))),e.le}function E5(t,e){if(t.limitType==="F")return Pk(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new zc(i.field,a)});const n=t.endAt?new pp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new pp(t.startAt.position,t.startAt.inclusive):null;return Pk(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function D0(t,e){const n=t.filters.concat([e]);return new $l(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function M0(t,e,n){return new $l(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Lm(t,e){return $w(Qr(t),Qr(e))&&t.limitType===e.limitType}function WN(t){return`${Mw(Qr(t))}|lt:${t.limitType}`}function gs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>UN(i)).join(", ")}]`),$m(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ll(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ll(i)).join(",")),`Target(${r})`}(Qr(t))}; limitType=${t.limitType})`}function Vm(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):fe.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of rc(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,s,l){const u=Tk(o,s,l);return o.inclusive?u<=0:u<0}(r.startAt,rc(r),i)||r.endAt&&!function(o,s,l){const u=Tk(o,s,l);return o.inclusive?u>=0:u>0}(r.endAt,rc(r),i))}(t,e)}function S5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function qN(t){return(e,n)=>{let r=!1;for(const i of rc(t)){const a=k5(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function k5(t,e,n){const r=t.field.isKeyField()?fe.comparator(e.key,n.key):function(a,o,s){const l=o.data.field(a),u=s.data.field(a);return l!==null&&u!==null?sl(l,u):ye()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ye()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Xo(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return jN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T5=new Tt(fe.comparator);function Mi(){return T5}const HN=new Tt(fe.comparator);function Fu(...t){let e=HN;for(const n of t)e=e.insert(n.key,n);return e}function KN(t){let e=HN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function mo(){return ic()}function GN(){return ic()}function ic(){return new Ll(t=>t.toString(),(t,e)=>t.isEqual(e))}const A5=new Tt(fe.comparator),P5=new sn(fe.comparator);function Ce(...t){let e=P5;for(const n of t)e=e.add(n);return e}const I5=new sn(Fe);function O5(){return I5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hp(e)?"-0":e}}function XN(t){return{integerValue:""+t}}function C5(t,e){return s5(e)?XN(e):Vw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(){this._=void 0}}function R5(t,e,n){return t instanceof mp?function(i,a){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Nw(a)&&(a=jw(a)),a&&(o.fields.__previous_value__=a),{mapValue:o}}(n,e):t instanceof Wc?QN(t,e):t instanceof qc?JN(t,e):function(i,a){const o=YN(i,a),s=Ok(o)+Ok(i.Pe);return R0(o)&&R0(i.Pe)?XN(s):Vw(i.serializer,s)}(t,e)}function N5(t,e,n){return t instanceof Wc?QN(t,e):t instanceof qc?JN(t,e):n}function YN(t,e){return t instanceof gp?function(r){return R0(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class mp extends Fm{}class Wc extends Fm{constructor(e){super(),this.elements=e}}function QN(t,e){const n=ZN(e);for(const r of t.elements)n.some(i=>ti(i,r))||n.push(r);return{arrayValue:{values:n}}}class qc extends Fm{constructor(e){super(),this.elements=e}}function JN(t,e){let n=ZN(e);for(const r of t.elements)n=n.filter(i=>!ti(i,r));return{arrayValue:{values:n}}}class gp extends Fm{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Ok(t){return Ct(t.integerValue||t.doubleValue)}function ZN(t){return Dw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function j5(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Wc&&i instanceof Wc||r instanceof qc&&i instanceof qc?ol(r.elements,i.elements,ti):r instanceof gp&&i instanceof gp?ti(r.Pe,i.Pe):r instanceof mp&&i instanceof mp}(t.transform,e.transform)}class D5{constructor(e,n){this.version=e,this.transformResults=n}}class gr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new gr}static exists(e){return new gr(void 0,e)}static updateTime(e){return new gr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ih(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Um{}function e2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Fw(t.key,gr.none()):new qf(t.key,t.data,gr.none());{const n=t.data,r=$n.empty();let i=new sn(an.comparator);for(let a of e.fields)if(!i.has(a)){let o=n.field(a);o===null&&a.length>1&&(a=a.popLast(),o=n.field(a)),o===null?r.delete(a):r.set(a,o),i=i.add(a)}return new za(t.key,r,new Jn(i.toArray()),gr.none())}}function M5(t,e,n){t instanceof qf?function(i,a,o){const s=i.value.clone(),l=Rk(i.fieldTransforms,a,o.transformResults);s.setAll(l),a.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,n):t instanceof za?function(i,a,o){if(!Ih(i.precondition,a))return void a.convertToUnknownDocument(o.version);const s=Rk(i.fieldTransforms,a,o.transformResults),l=a.data;l.setAll(t2(i)),l.setAll(s),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ac(t,e,n,r){return t instanceof qf?function(a,o,s,l){if(!Ih(a.precondition,o))return s;const u=a.value.clone(),c=Nk(a.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof za?function(a,o,s,l){if(!Ih(a.precondition,o))return s;const u=Nk(a.fieldTransforms,l,o),c=o.data;return c.setAll(t2(a)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),s===null?null:s.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(a,o,s){return Ih(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(t,e,n)}function $5(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=YN(r.transform,i||null);a!=null&&(n===null&&(n=$n.empty()),n.set(r.field,a))}return n||null}function Ck(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ol(r,i,(a,o)=>j5(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class qf extends Um{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class za extends Um{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function t2(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Rk(t,e,n){const r=new Map;it(t.length===n.length);for(let i=0;i<n.length;i++){const a=t[i],o=a.transform,s=e.data.field(a.field);r.set(a.field,N5(o,s,n[i]))}return r}function Nk(t,e,n){const r=new Map;for(const i of t){const a=i.transform,o=n.data.field(i.field);r.set(i.field,R5(a,o,e))}return r}class Fw extends Um{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class L5 extends Um{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&M5(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ac(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ac(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=GN();return this.mutations.forEach(i=>{const a=e.get(i.key),o=a.overlayedDocument;let s=this.applyToLocalView(o,a.mutatedFields);s=n.has(i.key)?null:s;const l=e2(o,s);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ve.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ce())}isEqual(e){return this.batchId===e.batchId&&ol(this.mutations,e.mutations,(n,r)=>Ck(n,r))&&ol(this.baseMutations,e.baseMutations,(n,r)=>Ck(n,r))}}class Uw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){it(e.mutations.length===r.length);let i=function(){return A5}();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new Uw(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt,je;function B5(t){switch(t){default:return ye();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0}}function n2(t){if(t===void 0)return Di("GRPC error has no .code"),K.UNKNOWN;switch(t){case jt.OK:return K.OK;case jt.CANCELLED:return K.CANCELLED;case jt.UNKNOWN:return K.UNKNOWN;case jt.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case jt.INTERNAL:return K.INTERNAL;case jt.UNAVAILABLE:return K.UNAVAILABLE;case jt.UNAUTHENTICATED:return K.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case jt.NOT_FOUND:return K.NOT_FOUND;case jt.ALREADY_EXISTS:return K.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return K.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case jt.ABORTED:return K.ABORTED;case jt.OUT_OF_RANGE:return K.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return K.UNIMPLEMENTED;case jt.DATA_LOSS:return K.DATA_LOSS;default:return ye()}}(je=jt||(jt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z5(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W5=new xo([4294967295,4294967295],0);function jk(t){const e=z5().encode(t),n=new kN;return n.update(e),new Uint8Array(n.digest())}function Dk(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new xo([n,r],0),new xo([i,a],0)]}class Bw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Uu(`Invalid padding: ${n}`);if(r<0)throw new Uu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Uu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Uu(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=xo.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(xo.fromNumber(r)));return i.compare(W5)===1&&(i=new xo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=jk(e),[r,i]=Dk(n);for(let a=0;a<this.hashCount;a++){const o=this.Ee(r,i,a);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new Bw(a,i,n);return r.forEach(s=>o.insert(s)),o}insert(e){if(this.Ie===0)return;const n=jk(e),[r,i]=Dk(n);for(let a=0;a<this.hashCount;a++){const o=this.Ee(r,i,a);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Uu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Hf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Bm(ve.min(),i,new Tt(Fe),Mi(),Ce())}}class Hf{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Hf(r,n,Ce(),Ce(),Ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class r2{constructor(e,n){this.targetId=e,this.me=n}}class i2{constructor(e,n,r=un.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Mk{constructor(){this.fe=0,this.ge=Lk(),this.pe=un.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ce(),n=Ce(),r=Ce();return this.ge.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ye()}}),new Hf(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Lk()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,it(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class q5{constructor(e){this.Le=e,this.Be=new Map,this.ke=Mi(),this.qe=$k(),this.Qe=new Tt(Fe)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ye()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const a=i.target;if(j0(a))if(r===0){const o=new fe(a.path);this.Ue(n,o,_n.newNoDocument(o,ve.min()))}else it(r===1);else{const o=this.Ye(n);if(o!==r){const s=this.Ze(e),l=s?this.Xe(s,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let o,s;try{o=Do(r).toUint8Array()}catch(l){if(l instanceof DN)return al("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new Bw(o,i,a)}catch(l){return al(l instanceof Uu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.Ie===0?null:s}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const o=this.Le.tt(),s=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(s)||(this.Ue(n,a,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((a,o)=>{const s=this.Je(o);if(s){if(a.current&&j0(s.target)){const l=new fe(s.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,_n.newNoDocument(l,e))}a.be&&(n.set(o,a.ve()),a.Ce())}});let r=Ce();this.qe.forEach((a,o)=>{let s=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(r=r.add(a))}),this.ke.forEach((a,o)=>o.setReadTime(e));const i=new Bm(e,n,this.Qe,this.ke,r);return this.ke=Mi(),this.qe=$k(),this.Qe=new Tt(Fe),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Mk,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new sn(Fe),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Mk),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function $k(){return new Tt(fe.comparator)}function Lk(){return new Tt(fe.comparator)}const H5={asc:"ASCENDING",desc:"DESCENDING"},K5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},G5={and:"AND",or:"OR"};class X5{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function $0(t,e){return t.useProto3Json||$m(e)?e:{value:e}}function yp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function a2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Y5(t,e){return yp(t,e.toTimestamp())}function Jr(t){return it(!!t),ve.fromTimestamp(function(n){const r=ja(n);return new Je(r.seconds,r.nanos)}(t))}function zw(t,e){return L0(t,e).canonicalString()}function L0(t,e){const n=function(i){return new ht(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function o2(t){const e=ht.fromString(t);return it(f2(e)),e}function V0(t,e){return zw(t.databaseId,e.path)}function Wy(t,e){const n=o2(e);if(n.get(1)!==t.databaseId.projectId)throw new ae(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ae(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new fe(l2(n))}function s2(t,e){return zw(t.databaseId,e)}function Q5(t){const e=o2(t);return e.length===4?ht.emptyPath():l2(e)}function F0(t){return new ht(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function l2(t){return it(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Vk(t,e,n){return{name:V0(t,e),fields:n.value.mapValue.fields}}function J5(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ye()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(u,c){return u.useProto3Json?(it(c===void 0||typeof c=="string"),un.fromBase64String(c||"")):(it(c===void 0||c instanceof Buffer||c instanceof Uint8Array),un.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,s=o&&function(u){const c=u.code===void 0?K.UNKNOWN:n2(u.code);return new ae(c,u.message||"")}(o);n=new i2(r,i,a,s||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Wy(t,r.document.name),a=Jr(r.document.updateTime),o=r.document.createTime?Jr(r.document.createTime):ve.min(),s=new $n({mapValue:{fields:r.document.fields}}),l=_n.newFoundDocument(i,a,o,s),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Oh(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Wy(t,r.document),a=r.readTime?Jr(r.readTime):ve.min(),o=_n.newNoDocument(i,a),s=r.removedTargetIds||[];n=new Oh([],s,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Wy(t,r.document),a=r.removedTargetIds||[];n=new Oh([],a,i,null)}else{if(!("filter"in e))return ye();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,o=new U5(i,a),s=r.targetId;n=new r2(s,o)}}return n}function Z5(t,e){let n;if(e instanceof qf)n={update:Vk(t,e.key,e.value)};else if(e instanceof Fw)n={delete:V0(t,e.key)};else if(e instanceof za)n={update:Vk(t,e.key,e.data),updateMask:l9(e.fieldMask)};else{if(!(e instanceof L5))return ye();n={verify:V0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,o){const s=o.transform;if(s instanceof mp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Wc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof qc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof gp)return{fieldPath:o.field.canonicalString(),increment:s.Pe};throw ye()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:Y5(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ye()}(t,e.precondition)),n}function e9(t,e){return t&&t.length>0?(it(e!==void 0),t.map(n=>function(i,a){let o=i.updateTime?Jr(i.updateTime):Jr(a);return o.isEqual(ve.min())&&(o=Jr(a)),new D5(o,i.transformResults||[])}(n,e))):[]}function t9(t,e){return{documents:[s2(t,e.path)]}}function n9(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=s2(t,i);const a=function(u){if(u.length!==0)return c2(Dr.create(u,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const o=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:ys(h.field),direction:a9(h.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=$0(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function r9(t){let e=Q5(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){it(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let a=[];n.where&&(a=function(f){const h=u2(f);return h instanceof Dr&&VN(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(h=>function(g){return new zc(vs(g.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let s=null;n.limit&&(s=function(f){let h;return h=typeof f=="object"?f.value:f,$m(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,p=f.values||[];return new pp(p,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,p=f.values||[];return new pp(p,h)}(n.endAt)),x5(e,i,o,a,s,"F",l,u)}function i9(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function u2(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=vs(n.unaryFilter.field);return Mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=vs(n.unaryFilter.field);return Mt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=vs(n.unaryFilter.field);return Mt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=vs(n.unaryFilter.field);return Mt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ye()}}(t):t.fieldFilter!==void 0?function(n){return Mt.create(vs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ye()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Dr.create(n.compositeFilter.filters.map(r=>u2(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ye()}}(n.compositeFilter.op))}(t):ye()}function a9(t){return H5[t]}function o9(t){return K5[t]}function s9(t){return G5[t]}function ys(t){return{fieldPath:t.canonicalString()}}function vs(t){return an.fromServerFormat(t.fieldPath)}function c2(t){return t instanceof Mt?function(n){if(n.op==="=="){if(kk(n.value))return{unaryFilter:{field:ys(n.field),op:"IS_NAN"}};if(Sk(n.value))return{unaryFilter:{field:ys(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(kk(n.value))return{unaryFilter:{field:ys(n.field),op:"IS_NOT_NAN"}};if(Sk(n.value))return{unaryFilter:{field:ys(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ys(n.field),op:o9(n.op),value:n.value}}}(t):t instanceof Dr?function(n){const r=n.getFilters().map(i=>c2(i));return r.length===1?r[0]:{compositeFilter:{op:s9(n.op),filters:r}}}(t):ye()}function l9(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function f2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,n,r,i,a=ve.min(),o=ve.min(),s=un.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new ha(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ha(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ha(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ha(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{constructor(e){this.ct=e}}function c9(t){const e=r9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?M0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f9{constructor(){this.un=new d9}addToCollectionParentIndex(e,n){return this.un.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(Na.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(Na.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class d9{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new sn(ht.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new sn(ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ul(0)}static kn(){return new ul(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h9{constructor(){this.changes=new Ll(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ac(r.mutation,i,Jn.empty(),Je.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ce()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ce()){const i=mo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let o=Fu();return a.forEach((s,l)=>{o=o.insert(s,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=mo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ce()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((o,s)=>{n.set(o,s)})})}computeViews(e,n,r,i){let a=Mi();const o=ic(),s=function(){return ic()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof za)?a=a.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),ac(c.mutation,u,c.mutation.getFieldMask(),Je.now())):o.set(u.key,Jn.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var f;return s.set(u,new p9(c,(f=o.get(u))!==null&&f!==void 0?f:null))}),s))}recalculateAndSaveOverlays(e,n){const r=ic();let i=new Tt((o,s)=>o-s),a=Ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const s of o)s.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Jn.empty();c=s.applyToLocalView(u,c),r.set(l,c);const f=(i.get(s.batchId)||Ce()).add(l);i=i.insert(s.batchId,f)})}).next(()=>{const o=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),u=l.key,c=l.value,f=GN();c.forEach(h=>{if(!a.has(h)){const p=e2(n.get(h),r.get(h));p!==null&&f.set(h,p),a=a.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return Q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return fe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):zN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):Q.resolve(mo());let s=-1,l=a;return o.next(u=>Q.forEach(u,(c,f)=>(s<f.largestBatchId&&(s=f.largestBatchId),a.get(c)?Q.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,a)).next(()=>this.computeViews(e,l,u,Ce())).next(c=>({batchId:s,changes:KN(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new fe(n)).next(r=>{let i=Fu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let o=Fu();return this.indexManager.getCollectionParents(e,a).next(s=>Q.forEach(s,l=>{const u=function(f,h){return new $l(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((f,h)=>{o=o.insert(f,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(o=>{a.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,_n.newInvalidDocument(c)))});let s=Fu();return o.forEach((l,u)=>{const c=a.get(l);c!==void 0&&ac(c.mutation,u,Jn.empty(),Je.now()),Vm(n,u)&&(s=s.insert(l,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Q.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Jr(i.createTime)}}(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:c9(i.bundledQuery),readTime:Jr(i.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(){this.overlays=new Tt(fe.comparator),this.Ir=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=mo();return Q.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.ht(e,n,a)}),Q.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const i=mo(),a=n.length+1,o=new fe(n.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const l=s.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===a&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Q.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new Tt((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=a.get(u.largestBatchId);c===null&&(c=mo(),a=a.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const s=mo(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>s.set(u,c)),!(s.size()>=i)););return Q.resolve(s)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new F5(n,r));let a=this.Ir.get(n);a===void 0&&(a=Ce(),this.Ir.set(n,a)),this.Ir.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(){this.Tr=new sn(Ht.Er),this.dr=new sn(Ht.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Ht(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Ht(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new fe(new ht([])),r=new Ht(n,e),i=new Ht(n,e+1),a=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),a.push(o.key)}),a}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new fe(new ht([])),r=new Ht(n,e),i=new Ht(n,e+1);let a=Ce();return this.dr.forEachInRange([r,i],o=>{a=a.add(o.key)}),a}containsKey(e){const n=new Ht(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ht{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return fe.comparator(e.key,n.key)||Fe(e.wr,n.wr)}static Ar(e,n){return Fe(e.wr,n.wr)||fe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new sn(Ht.Er)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new V5(a,n,r,i);this.mutationQueue.push(o);for(const s of i)this.br=this.br.add(new Ht(s.key,a)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Q.resolve(o)}lookupMutationBatch(e,n){return Q.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),a=i<0?0:i;return Q.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ht(n,0),i=new Ht(n,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([r,i],o=>{const s=this.Dr(o.wr);a.push(s)}),Q.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new sn(Fe);return n.forEach(i=>{const a=new Ht(i,0),o=new Ht(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,o],s=>{r=r.add(s.wr)})}),Q.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;fe.isDocumentKey(a)||(a=a.child(""));const o=new Ht(new fe(a),0);let s=new sn(Fe);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(s=s.add(l.wr)),!0)},o),Q.resolve(this.Cr(s))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){it(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Q.forEach(n.mutations,i=>{const a=new Ht(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Ht(n,0),i=this.br.firstAfterOrEqual(r);return Q.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(e){this.Mr=e,this.docs=function(){return new Tt(fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():_n.newInvalidDocument(n))}getEntries(e,n){let r=Mi();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():_n.newInvalidDocument(i))}),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Mi();const o=n.path,s=new fe(o.child("")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||r5(n5(c),r)<=0||(i.has(c.key)||Vm(n,c))&&(a=a.insert(c.key,c.mutableCopy()))}return Q.resolve(a)}getAllFromCollectionGroup(e,n,r,i){ye()}Or(e,n){return Q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new w9(this)}getSize(e){return Q.resolve(this.size)}}class w9 extends h9{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),Q.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x9{constructor(e){this.persistence=e,this.Nr=new Ll(n=>Mw(n),$w),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Ww,this.targetCount=0,this.kr=ul.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Q.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new ul(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Kn(n),Q.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.Nr.forEach((o,s)=>{s.sequenceNumber<=n&&r.get(s.targetId)===null&&(this.Nr.delete(o),a.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),Q.waitFor(a).next(()=>i)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(o=>{a.push(i.markPotentiallyOrphaned(e,o))}),Q.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Rw(0),this.Kr=!1,this.Kr=!0,this.$r=new v9,this.referenceDelegate=e(this),this.Ur=new x9(this),this.indexManager=new f9,this.remoteDocumentCache=function(i){return new _9(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new u9(n),this.Gr=new g9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new y9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new b9(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ue("MemoryPersistence","Starting transaction:",e);const i=new S9(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(a=>this.referenceDelegate.jr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Hr(e,n){return Q.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class S9 extends a5{constructor(e){super(),this.currentSequenceNumber=e}}class qw{constructor(e){this.persistence=e,this.Jr=new Ww,this.Yr=null}static Zr(e){return new qw(e)}get Xr(){if(this.Yr)return this.Yr;throw ye()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.Xr.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.Xr,r=>{const i=fe.fromPath(r);return this.ei(e,i).next(a=>{a||n.removeEntry(i,ve.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Q.or([()=>Q.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Ce(),i=Ce();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Hw(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return gF()?8:o5(Sn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.Yi(e,n).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.Zi(e,n,i,r).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new k9;return this.Xi(e,n,o).next(s=>{if(a.result=s,this.zi)return this.es(e,n,o,s.size)})}).next(()=>a.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(_u()<=Ne.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",gs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Q.resolve()):(_u()<=Ne.DEBUG&&ue("QueryEngine","Query:",gs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(_u()<=Ne.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",gs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qr(n))):Q.resolve())}Yi(e,n){if(Ik(n))return Q.resolve(null);let r=Qr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=M0(n,null,"F"),r=Qr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const o=Ce(...a);return this.Ji.getDocuments(e,o).next(s=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,s);return this.ns(n,u,o,l.readTime)?this.Yi(e,M0(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return Ik(n)||i.isEqual(ve.min())?Q.resolve(null):this.Ji.getDocuments(e,r).next(a=>{const o=this.ts(n,a);return this.ns(n,o,r,i)?Q.resolve(null):(_u()<=Ne.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),gs(n)),this.rs(e,o,n,t5(i,-1)).next(s=>s))})}ts(e,n){let r=new sn(qN(e));return n.forEach((i,a)=>{Vm(e,a)&&(r=r.add(a))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(e,n,r){return _u()<=Ne.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",gs(n)),this.Ji.getDocumentsMatchingQuery(e,n,Na.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Tt(Fe),this._s=new Ll(a=>Mw(a),$w),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new m9(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function P9(t,e,n,r){return new A9(t,e,n,r)}async function d2(t,e){const n=_e(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const o=[],s=[];let l=Ce();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of a){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:s}))})})}function I9(t,e){const n=_e(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.cs.newChangeBuffer({trackRemovals:!0});return function(s,l,u,c){const f=u.batch,h=f.keys();let p=Q.resolve();return h.forEach(g=>{p=p.next(()=>c.getEntry(l,g)).next(m=>{const v=u.docVersions.get(g);it(v!==null),m.version.compareTo(v)<0&&(f.applyToRemoteDocument(m,u),m.isValidDocument()&&(m.setReadTime(u.commitVersion),c.addEntry(m)))})}),p.next(()=>s.mutationQueue.removeMutationBatch(l,f))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let l=Ce();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(l=l.add(s.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function h2(t){const e=_e(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function O9(t,e){const n=_e(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const s=[];e.targetChanges.forEach((c,f)=>{const h=i.get(f);if(!h)return;s.push(n.Ur.removeMatchingKeys(a,c.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(a,c.addedDocuments,f)));let p=h.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(un.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(f,p),function(m,v,x){return m.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(h,p,c)&&s.push(n.Ur.updateTargetData(a,p))});let l=Mi(),u=Ce();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(a,c))}),s.push(C9(a,o,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(ve.min())){const c=n.Ur.getLastRemoteSnapshotVersion(a).next(f=>n.Ur.setTargetsMetadata(a,a.currentSequenceNumber,r));s.push(c)}return Q.waitFor(s).next(()=>o.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,l,u)).next(()=>l)}).then(a=>(n.os=i,a))}function C9(t,e,n){let r=Ce(),i=Ce();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let o=Mi();return n.forEach((s,l)=>{const u=a.get(s);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(ve.min())?(e.removeEntry(s,l.readTime),o=o.insert(s,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(s,l)):ue("LocalStore","Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function R9(t,e){const n=_e(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function N9(t,e){const n=_e(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(a=>a?(i=a,Q.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new ha(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function U0(t,e,n){const r=_e(t),i=r.os.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Wf(o))throw o;ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function Fk(t,e,n){const r=_e(t);let i=ve.min(),a=Ce();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const f=_e(l),h=f._s.get(c);return h!==void 0?Q.resolve(f.os.get(h)):f.Ur.getTargetData(u,c)}(r,o,Qr(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,s.targetId).next(l=>{a=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:ve.min(),n?a:Ce())).next(s=>(j9(r,S5(e),s),{documents:s,Ts:a})))}function j9(t,e,n){let r=t.us.get(e)||ve.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.us.set(e,r)}class Uk{constructor(){this.activeTargetIds=O5()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class D9{constructor(){this.so=new Uk,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Uk,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kd=null;function qy(){return Kd===null?Kd=function(){return 268435456+Math.round(2147483648*Math.random())}():Kd++,"0x"+Kd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn="WebChannelConnection";class V9 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(n,r,i,a,o){const s=qy(),l=this.xo(n,r.toUriEncodedString());ue("RestConnection",`Sending RPC '${n}' ${s}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,a,o),this.No(n,l,u,i).then(c=>(ue("RestConnection",`Received RPC '${n}' ${s}: `,c),c),c=>{throw al("RestConnection",`RPC '${n}' ${s} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,a,o,s){return this.Mo(n,r,i,a,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ml}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,o)=>n[o]=a),i&&i.headers.forEach((a,o)=>n[o]=a)}xo(n,r){const i=$9[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const a=qy();return new Promise((o,s)=>{const l=new TN;l.setWithCredentials(!0),l.listenOnce(PN.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ah.NO_ERROR:const c=l.getResponseJson();ue(mn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(c)),o(c);break;case Ah.TIMEOUT:ue(mn,`RPC '${e}' ${a} timed out`),s(new ae(K.DEADLINE_EXCEEDED,"Request time out"));break;case Ah.HTTP_ERROR:const f=l.getStatus();if(ue(mn,`RPC '${e}' ${a} failed with status:`,f,"response text:",l.getResponseText()),f>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const g=function(v){const x=v.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(x)>=0?x:K.UNKNOWN}(p.status);s(new ae(g,p.message))}else s(new ae(K.UNKNOWN,"Server responded with status "+l.getStatus()))}else s(new ae(K.UNAVAILABLE,"Connection failed."));break;default:ye()}}finally{ue(mn,`RPC '${e}' ${a} completed.`)}});const u=JSON.stringify(i);ue(mn,`RPC '${e}' ${a} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=qy(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=CN(),s=ON(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new AN({})),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=a.join("");ue(mn,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=o.createWebChannel(c,l);let h=!1,p=!1;const g=new L9({Io:v=>{p?ue(mn,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(h||(ue(mn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),ue(mn,`RPC '${e}' stream ${i} sending:`,v),f.send(v))},To:()=>f.close()}),m=(v,x,y)=>{v.listen(x,_=>{try{y(_)}catch(E){setTimeout(()=>{throw E},0)}})};return m(f,Vu.EventType.OPEN,()=>{p||(ue(mn,`RPC '${e}' stream ${i} transport opened.`),g.yo())}),m(f,Vu.EventType.CLOSE,()=>{p||(p=!0,ue(mn,`RPC '${e}' stream ${i} transport closed`),g.So())}),m(f,Vu.EventType.ERROR,v=>{p||(p=!0,al(mn,`RPC '${e}' stream ${i} transport errored:`,v),g.So(new ae(K.UNAVAILABLE,"The operation could not be completed")))}),m(f,Vu.EventType.MESSAGE,v=>{var x;if(!p){const y=v.data[0];it(!!y);const _=y,E=_.error||((x=_[0])===null||x===void 0?void 0:x.error);if(E){ue(mn,`RPC '${e}' stream ${i} received error:`,E);const T=E.status;let O=function(C){const R=jt[C];if(R!==void 0)return n2(R)}(T),k=E.message;O===void 0&&(O=K.INTERNAL,k="Unknown error status: "+T+" with message "+E.message),p=!0,g.So(new ae(O,k)),f.close()}else ue(mn,`RPC '${e}' stream ${i} received:`,y),g.bo(y)}}),m(s,IN.STAT_EVENT,v=>{v.stat===O0.PROXY?ue(mn,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===O0.NOPROXY&&ue(mn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.wo()},0),g}}function Hy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(t){return new X5(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e,n,r=1e3,i=1.5,a=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e,n,r,i,a,o,s,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new p2(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(Di(n.toString()),Di("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ae(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class F9 extends m2{constructor(e,n,r,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=J5(this.serializer,e),r=function(a){if(!("targetChange"in a))return ve.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?ve.min():o.readTime?Jr(o.readTime):ve.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=F0(this.serializer),n.addTarget=function(a,o){let s;const l=o.target;if(s=j0(l)?{documents:t9(a,l)}:{query:n9(a,l)._t},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=a2(a,o.resumeToken);const u=$0(a,o.expectedCount);u!==null&&(s.expectedCount=u)}else if(o.snapshotVersion.compareTo(ve.min())>0){s.readTime=yp(a,o.snapshotVersion.toTimestamp());const u=$0(a,o.expectedCount);u!==null&&(s.expectedCount=u)}return s}(this.serializer,e);const r=i9(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=F0(this.serializer),n.removeTarget=e,this.a_(n)}}class U9 extends m2{constructor(e,n,r,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return it(!!e.streamToken),this.lastStreamToken=e.streamToken,it(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){it(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=e9(e.writeResults,e.commitTime),r=Jr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=F0(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Z5(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ae(K.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Mo(e,L0(n,r),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ae(K.UNKNOWN,a.toString())})}Lo(e,n,r,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Lo(e,L0(n,r),i,o,s,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ae(K.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class z9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Di(n),this.D_=!1):ue("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W9{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(o=>{r.enqueueAndForget(async()=>{Yo(this)&&(ue("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=_e(l);u.L_.add(4),await Kf(u),u.q_.set("Unknown"),u.L_.delete(4),await Wm(u)}(this))})}),this.q_=new z9(r,i)}}async function Wm(t){if(Yo(t))for(const e of t.B_)await e(!0)}async function Kf(t){for(const e of t.B_)await e(!1)}function g2(t,e){const n=_e(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Yw(n)?Xw(n):Vl(n).r_()&&Gw(n,e))}function Kw(t,e){const n=_e(t),r=Vl(n);n.N_.delete(e),r.r_()&&y2(n,e),n.N_.size===0&&(r.r_()?r.o_():Yo(n)&&n.q_.set("Unknown"))}function Gw(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Vl(t).A_(e)}function y2(t,e){t.Q_.xe(e),Vl(t).R_(e)}function Xw(t){t.Q_=new q5({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Vl(t).start(),t.q_.v_()}function Yw(t){return Yo(t)&&!Vl(t).n_()&&t.N_.size>0}function Yo(t){return _e(t).L_.size===0}function v2(t){t.Q_=void 0}async function q9(t){t.q_.set("Online")}async function H9(t){t.N_.forEach((e,n)=>{Gw(t,e)})}async function K9(t,e){v2(t),Yw(t)?(t.q_.M_(e),Xw(t)):t.q_.set("Unknown")}async function G9(t,e,n){if(t.q_.set("Online"),e instanceof i2&&e.state===2&&e.cause)try{await async function(i,a){const o=a.cause;for(const s of a.targetIds)i.N_.has(s)&&(await i.remoteSyncer.rejectListen(s,o),i.N_.delete(s),i.Q_.removeTarget(s))}(t,e)}catch(r){ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await vp(t,r)}else if(e instanceof Oh?t.Q_.Ke(e):e instanceof r2?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ve.min()))try{const r=await h2(t.localStore);n.compareTo(r)>=0&&await function(a,o){const s=a.Q_.rt(o);return s.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=a.N_.get(u);c&&a.N_.set(u,c.withResumeToken(l.resumeToken,o))}}),s.targetMismatches.forEach((l,u)=>{const c=a.N_.get(l);if(!c)return;a.N_.set(l,c.withResumeToken(un.EMPTY_BYTE_STRING,c.snapshotVersion)),y2(a,l);const f=new ha(c.target,l,u,c.sequenceNumber);Gw(a,f)}),a.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){ue("RemoteStore","Failed to raise snapshot:",r),await vp(t,r)}}async function vp(t,e,n){if(!Wf(e))throw e;t.L_.add(1),await Kf(t),t.q_.set("Offline"),n||(n=()=>h2(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ue("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Wm(t)})}function b2(t,e){return e().catch(n=>vp(t,n,e))}async function qm(t){const e=_e(t),n=Da(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;X9(e);)try{const i=await R9(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,Y9(e,i)}catch(i){await vp(e,i)}_2(e)&&w2(e)}function X9(t){return Yo(t)&&t.O_.length<10}function Y9(t,e){t.O_.push(e);const n=Da(t);n.r_()&&n.V_&&n.m_(e.mutations)}function _2(t){return Yo(t)&&!Da(t).n_()&&t.O_.length>0}function w2(t){Da(t).start()}async function Q9(t){Da(t).p_()}async function J9(t){const e=Da(t);for(const n of t.O_)e.m_(n.mutations)}async function Z9(t,e,n){const r=t.O_.shift(),i=Uw.from(r,e,n);await b2(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await qm(t)}async function ez(t,e){e&&Da(t).V_&&await async function(r,i){if(function(o){return B5(o)&&o!==K.ABORTED}(i.code)){const a=r.O_.shift();Da(r).s_(),await b2(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await qm(r)}}(t,e),_2(t)&&w2(t)}async function zk(t,e){const n=_e(t);n.asyncQueue.verifyOperationInProgress(),ue("RemoteStore","RemoteStore received new credentials");const r=Yo(n);n.L_.add(3),await Kf(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Wm(n)}async function tz(t,e){const n=_e(t);e?(n.L_.delete(2),await Wm(n)):e||(n.L_.add(2),await Kf(n),n.q_.set("Unknown"))}function Vl(t){return t.K_||(t.K_=function(n,r,i){const a=_e(n);return a.w_(),new F9(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:q9.bind(null,t),Ro:H9.bind(null,t),mo:K9.bind(null,t),d_:G9.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Yw(t)?Xw(t):t.q_.set("Unknown")):(await t.K_.stop(),v2(t))})),t.K_}function Da(t){return t.U_||(t.U_=function(n,r,i){const a=_e(n);return a.w_(),new U9(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Q9.bind(null,t),mo:ez.bind(null,t),f_:J9.bind(null,t),g_:Z9.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await qm(t)):(await t.U_.stop(),t.O_.length>0&&(ue("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const o=Date.now()+r,s=new Qw(e,n,o,i,a);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jw(t,e){if(Di("AsyncQueue",`${e}: ${t}`),Wf(t))return new ae(K.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e){this.comparator=e?(n,r)=>e(n,r)||fe.comparator(n.key,r.key):(n,r)=>fe.comparator(n.key,r.key),this.keyedMap=Fu(),this.sortedSet=new Tt(this.comparator)}static emptySet(e){return new Ks(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ks)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ks;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(){this.W_=new Tt(fe.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ye():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class cl{constructor(e,n,r,i,a,o,s,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,a){const o=[];return n.forEach(s=>{o.push({type:0,doc:s})}),new cl(e,n,Ks.emptySet(n),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nz{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class rz{constructor(){this.queries=qk(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=_e(n),a=i.queries;i.queries=qk(),a.forEach((o,s)=>{for(const l of s.j_)l.onError(r)})})(this,new ae(K.ABORTED,"Firestore shutting down"))}}function qk(){return new Ll(t=>WN(t),Lm)}async function x2(t,e){const n=_e(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.H_()&&e.J_()&&(r=2):(a=new nz,r=e.J_()?0:1);try{switch(r){case 0:a.z_=await n.onListen(i,!0);break;case 1:a.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const s=Jw(o,`Initialization of query '${gs(e.query)}' failed`);return void e.onError(s)}n.queries.set(i,a),a.j_.push(e),e.Z_(n.onlineState),a.z_&&e.X_(a.z_)&&Zw(n)}async function E2(t,e){const n=_e(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const o=a.j_.indexOf(e);o>=0&&(a.j_.splice(o,1),a.j_.length===0?i=e.J_()?0:1:!a.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function iz(t,e){const n=_e(t);let r=!1;for(const i of e){const a=i.query,o=n.queries.get(a);if(o){for(const s of o.j_)s.X_(i)&&(r=!0);o.z_=i}}r&&Zw(n)}function az(t,e,n){const r=_e(t),i=r.queries.get(e);if(i)for(const a of i.j_)a.onError(n);r.queries.delete(e)}function Zw(t){t.Y_.forEach(e=>{e.next()})}var B0,Hk;(Hk=B0||(B0={})).ea="default",Hk.Cache="cache";class S2{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new cl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=cl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==B0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e){this.key=e}}class T2{constructor(e){this.key=e}}class oz{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ce(),this.mutatedKeys=Ce(),this.Aa=qN(e),this.Ra=new Ks(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Wk,i=n?n.Ra:this.Ra;let a=n?n.mutatedKeys:this.mutatedKeys,o=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const h=i.get(c),p=Vm(this.query,f)?f:null,g=!!h&&this.mutatedKeys.has(h.key),m=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let v=!1;h&&p?h.data.isEqual(p.data)?g!==m&&(r.track({type:3,doc:p}),v=!0):this.ga(h,p)||(r.track({type:2,doc:p}),v=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(s=!0)):!h&&p?(r.track({type:0,doc:p}),v=!0):h&&!p&&(r.track({type:1,doc:h}),v=!0,(l||u)&&(s=!0)),v&&(p?(o=o.add(p),a=m?a.add(c):a.delete(c)):(o=o.delete(c),a=a.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),a=a.delete(c.key),r.track({type:1,doc:c})}return{Ra:o,fa:r,ns:s,mutatedKeys:a}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((c,f)=>function(p,g){const m=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye()}};return m(p)-m(g)}(c.type,f.type)||this.Aa(c.doc,f.doc)),this.pa(r),i=i!=null&&i;const s=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new cl(this.query,e.Ra,a,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:s}:{wa:s}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Wk,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ce(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new T2(r))}),this.da.forEach(r=>{e.has(r)||n.push(new k2(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ce();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return cl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class sz{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class lz{constructor(e){this.key=e,this.va=!1}}class uz{constructor(e,n,r,i,a,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Ll(s=>WN(s),Lm),this.Ma=new Map,this.xa=new Set,this.Oa=new Tt(fe.comparator),this.Na=new Map,this.La=new Ww,this.Ba={},this.ka=new Map,this.qa=ul.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function cz(t,e,n=!0){const r=R2(t);let i;const a=r.Fa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await A2(r,e,n,!0),i}async function fz(t,e){const n=R2(t);await A2(n,e,!0,!1)}async function A2(t,e,n,r){const i=await N9(t.localStore,Qr(e)),a=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(a):"not-current";let s;return r&&(s=await dz(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&g2(t.remoteStore,i),s}async function dz(t,e,n,r,i){t.Ka=(f,h,p)=>async function(m,v,x,y){let _=v.view.ma(x);_.ns&&(_=await Fk(m.localStore,v.query,!1).then(({documents:k})=>v.view.ma(k,_)));const E=y&&y.targetChanges.get(v.targetId),T=y&&y.targetMismatches.get(v.targetId)!=null,O=v.view.applyChanges(_,m.isPrimaryClient,E,T);return Gk(m,v.targetId,O.wa),O.snapshot}(t,f,h,p);const a=await Fk(t.localStore,e,!0),o=new oz(e,a.Ts),s=o.ma(a.documents),l=Hf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(s,t.isPrimaryClient,l);Gk(t,n,u.wa);const c=new sz(e,n,o);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function hz(t,e,n){const r=_e(t),i=r.Fa.get(e),a=r.Ma.get(i.targetId);if(a.length>1)return r.Ma.set(i.targetId,a.filter(o=>!Lm(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await U0(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Kw(r.remoteStore,i.targetId),z0(r,i.targetId)}).catch(zf)):(z0(r,i.targetId),await U0(r.localStore,i.targetId,!0))}async function pz(t,e){const n=_e(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Kw(n.remoteStore,r.targetId))}async function mz(t,e,n){const r=xz(t);try{const i=await function(o,s){const l=_e(o),u=Je.now(),c=s.reduce((p,g)=>p.add(g.key),Ce());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=Mi(),m=Ce();return l.cs.getEntries(p,c).next(v=>{g=v,g.forEach((x,y)=>{y.isValidDocument()||(m=m.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(v=>{f=v;const x=[];for(const y of s){const _=$5(y,f.get(y.key).overlayedDocument);_!=null&&x.push(new za(y.key,_,MN(_.value.mapValue),gr.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,x,s)}).next(v=>{h=v;const x=v.applyToLocalDocumentSet(f,m);return l.documentOverlayCache.saveOverlays(p,v.batchId,x)})}).then(()=>({batchId:h.batchId,changes:KN(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,s,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new Tt(Fe)),u=u.insert(s,l),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await Gf(r,i.changes),await qm(r.remoteStore)}catch(i){const a=Jw(i,"Failed to persist write");n.reject(a)}}async function P2(t,e){const n=_e(t);try{const r=await O9(n.localStore,e);e.targetChanges.forEach((i,a)=>{const o=n.Na.get(a);o&&(it(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?it(o.va):i.removedDocuments.size>0&&(it(o.va),o.va=!1))}),await Gf(n,r,e)}catch(r){await zf(r)}}function Kk(t,e,n){const r=_e(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((a,o)=>{const s=o.view.Z_(e);s.snapshot&&i.push(s.snapshot)}),function(o,s){const l=_e(o);l.onlineState=s;let u=!1;l.queries.forEach((c,f)=>{for(const h of f.j_)h.Z_(s)&&(u=!0)}),u&&Zw(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function gz(t,e,n){const r=_e(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),a=i&&i.key;if(a){let o=new Tt(fe.comparator);o=o.insert(a,_n.newNoDocument(a,ve.min()));const s=Ce().add(a),l=new Bm(ve.min(),new Map,new Tt(Fe),o,s);await P2(r,l),r.Oa=r.Oa.remove(a),r.Na.delete(e),ex(r)}else await U0(r.localStore,e,!1).then(()=>z0(r,e,n)).catch(zf)}async function yz(t,e){const n=_e(t),r=e.batch.batchId;try{const i=await I9(n.localStore,e);O2(n,r,null),I2(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Gf(n,i)}catch(i){await zf(i)}}async function vz(t,e,n){const r=_e(t);try{const i=await function(o,s){const l=_e(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,s).next(f=>(it(f!==null),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);O2(r,e,n),I2(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Gf(r,i)}catch(i){await zf(i)}}function I2(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function O2(t,e,n){const r=_e(t);let i=r.Ba[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function z0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||C2(t,r)})}function C2(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Kw(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),ex(t))}function Gk(t,e,n){for(const r of n)r instanceof k2?(t.La.addReference(r.key,e),bz(t,r)):r instanceof T2?(ue("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||C2(t,r.key)):ye()}function bz(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ue("SyncEngine","New document in limbo: "+n),t.xa.add(r),ex(t))}function ex(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new fe(ht.fromString(e)),r=t.qa.next();t.Na.set(r,new lz(n)),t.Oa=t.Oa.insert(n,r),g2(t.remoteStore,new ha(Qr(Lw(n.path)),r,"TargetPurposeLimboResolution",Rw.oe))}}async function Gf(t,e,n){const r=_e(t),i=[],a=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((s,l)=>{o.push(r.Ka(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=Hw.Wi(l.targetId,u);a.push(f)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,u){const c=_e(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Q.forEach(u,h=>Q.forEach(h.$i,p=>c.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>Q.forEach(h.Ui,p=>c.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!Wf(f))throw f;ue("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const p=c.os.get(h),g=p.snapshotVersion,m=p.withLastLimboFreeSnapshotVersion(g);c.os=c.os.insert(h,m)}}}(r.localStore,a))}async function _z(t,e){const n=_e(t);if(!n.currentUser.isEqual(e)){ue("SyncEngine","User change. New user:",e.toKey());const r=await d2(n.localStore,e);n.currentUser=e,function(a,o){a.ka.forEach(s=>{s.forEach(l=>{l.reject(new ae(K.CANCELLED,o))})}),a.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Gf(n,r.hs)}}function wz(t,e){const n=_e(t),r=n.Na.get(e);if(r&&r.va)return Ce().add(r.key);{let i=Ce();const a=n.Ma.get(e);if(!a)return i;for(const o of a){const s=n.Fa.get(o);i=i.unionWith(s.view.Va)}return i}}function R2(t){const e=_e(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=P2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gz.bind(null,e),e.Ca.d_=iz.bind(null,e.eventManager),e.Ca.$a=az.bind(null,e.eventManager),e}function xz(t){const e=_e(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vz.bind(null,e),e}class Xk{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=zm(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return P9(this.persistence,new T9,e.initialUser,this.serializer)}createPersistence(e){return new E9(qw.Zr,this.serializer)}createSharedClientState(e){return new D9}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Ez{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Kk(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=_z.bind(null,this.syncEngine),await tz(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new rz}()}createDatastore(e){const n=zm(e.databaseInfo.databaseId),r=function(a){return new V9(a)}(e.databaseInfo);return function(a,o,s,l){return new B9(a,o,s,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,o,s){return new W9(r,i,a,o,s)}(this.localStore,this.datastore,e.asyncQueue,n=>Kk(this.syncEngine,n,0),function(){return Bk.D()?new Bk:new M9}())}createSyncEngine(e,n){return function(i,a,o,s,l,u,c){const f=new uz(i,a,o,s,l,u);return c&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=_e(i);ue("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await Kf(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):Di("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sz{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=yn.UNAUTHENTICATED,this.clientId=NN.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async a=>{ue("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(ue("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ae(K.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Jw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ky(t,e){t.asyncQueue.verifyOperationInProgress(),ue("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await d2(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Yk(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Tz(t);ue("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>zk(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>zk(e.remoteStore,i)),t._onlineComponents=e}function kz(t){return t.name==="FirebaseError"?t.code===K.FAILED_PRECONDITION||t.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function Tz(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ue("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ky(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!kz(n))throw n;al("Error using user provided cache. Falling back to memory cache: "+n),await Ky(t,new Xk)}}else ue("FirestoreClient","Using default OfflineComponentProvider"),await Ky(t,new Xk);return t._offlineComponents}async function j2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ue("FirestoreClient","Using user provided OnlineComponentProvider"),await Yk(t,t._uninitializedComponentsProvider._online)):(ue("FirestoreClient","Using default OnlineComponentProvider"),await Yk(t,new Ez))),t._onlineComponents}function Az(t){return j2(t).then(e=>e.syncEngine)}async function D2(t){const e=await j2(t),n=e.eventManager;return n.onListen=cz.bind(null,e.syncEngine),n.onUnlisten=hz.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=fz.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=pz.bind(null,e.syncEngine),n}function Pz(t,e,n={}){const r=new ki;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,u){const c=new N2({next:h=>{o.enqueueAndForget(()=>E2(a,f));const p=h.docs.has(s);!p&&h.fromCache?u.reject(new ae(K.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?u.reject(new ae(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new S2(Lw(s.path),c,{includeMetadataChanges:!0,_a:!0});return x2(a,f)}(await D2(t),t.asyncQueue,e,n,r)),r.promise}function Iz(t,e,n={}){const r=new ki;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,u){const c=new N2({next:h=>{o.enqueueAndForget(()=>E2(a,f)),h.fromCache&&l.source==="server"?u.reject(new ae(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new S2(s,c,{includeMetadataChanges:!0,_a:!0});return x2(a,f)}(await D2(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(t,e,n){if(!n)throw new ae(K.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Oz(t,e,n,r){if(e===!0&&r===!0)throw new ae(K.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Jk(t){if(!fe.isDocumentKey(t))throw new ae(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Zk(t){if(fe.isDocumentKey(t))throw new ae(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Hm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ye()}function Mr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ae(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hm(t);throw new ae(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ae(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ae(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Oz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=M2((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ae(K.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ae(K.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ae(K.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Km{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eT({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ae(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ae(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eT(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new HB;switch(r.type){case"firstParty":return new YB(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ae(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Qk.get(n);r&&(ue("ComponentProvider","Removing Datastore"),Qk.delete(n),r.terminate())}(this),Promise.resolve()}}function Cz(t,e,n,r={}){var i;const a=(t=Mr(t,Km))._getSettings(),o=`${e}:${n}`;if(a.host!=="firestore.googleapis.com"&&a.host!==o&&al("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),r.mockUserToken){let s,l;if(typeof r.mockUserToken=="string")s=r.mockUserToken,l=yn.MOCK_USER;else{s=VR(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ae(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new yn(u)}t._authCredentials=new KB(new RN(s,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Qo(this.firestore,e,this._query)}}class Nn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ta(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nn(this.firestore,e,this._key)}}class Ta extends Qo{constructor(e,n,r){super(e,n,Lw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nn(this.firestore,null,new fe(e))}withConverter(e){return new Ta(this.firestore,e,this._path)}}function zn(t,e,...n){if(t=kt(t),$2("collection","path",e),t instanceof Km){const r=ht.fromString(e,...n);return Zk(r),new Ta(t,null,r)}{if(!(t instanceof Nn||t instanceof Ta))throw new ae(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ht.fromString(e,...n));return Zk(r),new Ta(t.firestore,null,r)}}function wt(t,e,...n){if(t=kt(t),arguments.length===1&&(e=NN.newId()),$2("doc","path",e),t instanceof Km){const r=ht.fromString(e,...n);return Jk(r),new Nn(t,null,new fe(r))}{if(!(t instanceof Nn||t instanceof Ta))throw new ae(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ht.fromString(e,...n));return Jk(r),new Nn(t.firestore,t instanceof Ta?t.converter:null,new fe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rz{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new p2(this,"async_queue_retry"),this.Eu=()=>{const n=Hy();n&&ue("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=Hy();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=Hy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new ki;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Wf(e))throw e;ue("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const i=function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),s}(r);throw Di("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const i=Qw.createAndSchedule(this,e,n,r,a=>this.Vu(a));return this.lu.push(i),i}du(){this.hu&&ye()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}class Jo extends Km{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Rz}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||L2(this),this._firestoreClient.terminate()}}function Nz(t,e){const n=typeof t=="object"?t:_w(),r=typeof t=="string"?t:"(default)",i=Nm(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=MR("firestore");a&&Cz(i,...a)}return i}function tx(t){return t._firestoreClient||L2(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function L2(t){var e,n,r;const i=t._freezeSettings(),a=function(s,l,u,c){return new u5(s,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,M2(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Sz(t._authCredentials,t._appCheckCredentials,t._queue,a),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fl(un.fromBase64String(e))}catch(n){throw new ae(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new fl(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ae(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ae(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ae(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jz=/^__.*__$/;class Dz{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new za(e,this.data,this.fieldMask,n,this.fieldTransforms):new qf(e,this.data,n,this.fieldTransforms)}}class V2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new za(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function F2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye()}}class ax{constructor(e,n,r,i,a,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.yu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new ax(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return bp(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(F2(this.wu)&&jz.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class Mz{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||zm(e)}Nu(e,n,r,i=!1){return new ax({wu:e,methodName:n,Ou:r,path:an.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xm(t){const e=t._freezeSettings(),n=zm(t._databaseId);return new Mz(t._databaseId,!!e.ignoreUndefinedProperties,n)}function U2(t,e,n,r,i,a={}){const o=t.Nu(a.merge||a.mergeFields?2:0,e,n,i);ox("Data must be an object, but it was:",o,r);const s=B2(r,o);let l,u;if(a.merge)l=new Jn(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){const c=[];for(const f of a.mergeFields){const h=W0(e,f,n);if(!o.contains(h))throw new ae(K.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);W2(c,h)||c.push(h)}l=new Jn(c),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new Dz(new $n(s),l,u)}class Ym extends nx{_toFieldTransform(e){if(e.wu!==2)throw e.wu===1?e.Mu(`${this._methodName}() can only appear at the top level of your update data`):e.Mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ym}}function $z(t,e,n,r){const i=t.Nu(1,e,n);ox("Data must be an object, but it was:",i,r);const a=[],o=$n.empty();Xo(r,(l,u)=>{const c=sx(e,l,n);u=kt(u);const f=i.Cu(c);if(u instanceof Ym)a.push(c);else{const h=Xf(u,f);h!=null&&(a.push(c),o.set(c,h))}});const s=new Jn(a);return new V2(o,s,i.fieldTransforms)}function Lz(t,e,n,r,i,a){const o=t.Nu(1,e,n),s=[W0(e,r,n)],l=[i];if(a.length%2!=0)throw new ae(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<a.length;h+=2)s.push(W0(e,a[h])),l.push(a[h+1]);const u=[],c=$n.empty();for(let h=s.length-1;h>=0;--h)if(!W2(u,s[h])){const p=s[h];let g=l[h];g=kt(g);const m=o.Cu(p);if(g instanceof Ym)u.push(p);else{const v=Xf(g,m);v!=null&&(u.push(p),c.set(p,v))}}const f=new Jn(u);return new V2(c,f,o.fieldTransforms)}function Vz(t,e,n,r=!1){return Xf(n,t.Nu(r?4:3,e))}function Xf(t,e){if(z2(t=kt(t)))return ox("Unsupported field value:",e,t),B2(t,e);if(t instanceof nx)return function(r,i){if(!F2(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){const a=[];let o=0;for(const s of r){let l=Xf(s,i.Fu(o));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),o++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=kt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return C5(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Je.fromDate(r);return{timestampValue:yp(i.serializer,a)}}if(r instanceof Je){const a=new Je(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:yp(i.serializer,a)}}if(r instanceof rx)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof fl)return{bytesValue:a2(i.serializer,r._byteString)};if(r instanceof Nn){const a=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(a))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:zw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ix)return function(o,s){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw s.Mu("VectorValues must only contain numeric values.");return Vw(s.serializer,l)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${Hm(r)}`)}(t,e)}function B2(t,e){const n={};return jN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xo(t,(r,i)=>{const a=Xf(i,e.bu(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function z2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Je||t instanceof rx||t instanceof fl||t instanceof Nn||t instanceof nx||t instanceof ix)}function ox(t,e,n){if(!z2(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Hm(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function W0(t,e,n){if((e=kt(e))instanceof Gm)return e._internalPath;if(typeof e=="string")return sx(t,e);throw bp("Field path arguments must be of type string or ",t,!1,void 0,n)}const Fz=new RegExp("[~\\*/\\[\\]]");function sx(t,e,n){if(e.search(Fz)>=0)throw bp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Gm(...e.split("."))._internalPath}catch{throw bp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function bp(t,e,n,r,i){const a=r&&!r.isEmpty(),o=i!==void 0;let s=`Function ${e}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(a||o)&&(l+=" (found",a&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new ae(K.INVALID_ARGUMENT,s+t+l)}function W2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Uz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(lx("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Uz extends q2{data(){return super.data()}}function lx(t,e){return typeof e=="string"?sx(t,e):e instanceof Gm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bz(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ae(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ux{}class H2 extends ux{}function K2(t,e,...n){let r=[];e instanceof ux&&r.push(e),r=r.concat(n),function(a){const o=a.filter(l=>l instanceof fx).length,s=a.filter(l=>l instanceof cx).length;if(o>1||o>0&&s>0)throw new ae(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class cx extends H2{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new cx(e,n,r)}_apply(e){const n=this._parse(e);return X2(e._query,n),new Qo(e.firestore,e.converter,D0(e._query,n))}_parse(e){const n=Xm(e.firestore);return function(a,o,s,l,u,c,f){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ae(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){nT(f,c);const p=[];for(const g of f)p.push(tT(l,a,g));h={arrayValue:{values:p}}}else h=tT(l,a,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||nT(f,c),h=Vz(s,o,f,c==="in"||c==="not-in");return Mt.create(u,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class fx extends ux{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new fx(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Dr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let o=i;const s=a.getFlattenedFilters();for(const l of s)X2(o,l),o=D0(o,l)}(e._query,n),new Qo(e.firestore,e.converter,D0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class dx extends H2{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new dx(e,n)}_apply(e){const n=function(i,a,o){if(i.startAt!==null)throw new ae(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ae(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new zc(a,o)}(e._query,this._field,this._direction);return new Qo(e.firestore,e.converter,function(i,a){const o=i.explicitOrderBy.concat([a]);return new $l(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function G2(t,e="asc"){const n=e,r=lx("orderBy",t);return dx._create(r,n)}function tT(t,e,n){if(typeof(n=kt(n))=="string"){if(n==="")throw new ae(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zN(e)&&n.indexOf("/")!==-1)throw new ae(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ht.fromString(n));if(!fe.isDocumentKey(r))throw new ae(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ek(t,new fe(r))}if(n instanceof Nn)return Ek(t,n._key);throw new ae(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hm(n)}.`)}function nT(t,e){if(!Array.isArray(t)||t.length===0)throw new ae(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function X2(t,e){const n=function(i,a){for(const o of i)for(const s of o.getFlattenedFilters())if(a.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ae(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class zz{convertValue(e,n="none"){switch(Mo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Do(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ye()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Xo(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,i;const a=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Ct(o.doubleValue));return new ix(a)}convertGeoPoint(e){return new rx(Ct(e.latitude),Ct(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=jw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Fc(e));default:return null}}convertTimestamp(e){const n=ja(e);return new Je(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ht.fromString(e);it(f2(r));const i=new Uc(r.get(1),r.get(3)),a=new fe(r.popFirst(5));return i.isEqual(n)||Di(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Q2 extends q2{constructor(e,n,r,i,a,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ch(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(lx("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ch extends Q2{data(e={}){return super.data(e)}}class Wz{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Bu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ch(this._firestore,this._userDataWriter,r.key,r,new Bu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ae(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(s=>{const l=new Ch(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Bu(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>a||s.type!==3).map(s=>{const l=new Ch(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Bu(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return s.type!==0&&(u=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),c=o.indexOf(s.doc.key)),{type:qz(s.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function qz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wa(t){t=Mr(t,Nn);const e=Mr(t.firestore,Jo);return Pz(tx(e),t._key).then(n=>Hz(e,t,n))}class J2 extends zz{constructor(e){super(),this.firestore=e}convertBytes(e){return new fl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Nn(this.firestore,null,n)}}function ai(t){t=Mr(t,Qo);const e=Mr(t.firestore,Jo),n=tx(e),r=new J2(e);return Bz(t._query),Iz(n,t._query).then(i=>new Wz(e,r,t,i))}function Z2(t,e,n){t=Mr(t,Nn);const r=Mr(t.firestore,Jo),i=Y2(t.converter,e,n);return Jm(r,[U2(Xm(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,gr.none())])}function qa(t,e,n,...r){t=Mr(t,Nn);const i=Mr(t.firestore,Jo),a=Xm(i);let o;return o=typeof(e=kt(e))=="string"||e instanceof Gm?Lz(a,"updateDoc",t._key,e,n,r):$z(a,"updateDoc",t._key,e),Jm(i,[o.toMutation(t._key,gr.exists(!0))])}function Qm(t){return Jm(Mr(t.firestore,Jo),[new Fw(t._key,gr.none())])}function hx(t,e){const n=Mr(t.firestore,Jo),r=wt(t),i=Y2(t.converter,e);return Jm(n,[U2(Xm(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,gr.exists(!1))]).then(()=>r)}function Jm(t,e){return function(r,i){const a=new ki;return r.asyncQueue.enqueueAndForget(async()=>mz(await Az(r),i,a)),a.promise}(tx(t),e)}function Hz(t,e,n){const r=n.docs.get(e._key),i=new J2(t);return new Q2(t,i,e._key,r,new Bu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Ml=i})(Ko),Co(new Ra("firestore",(r,{instanceIdentifier:i,options:a})=>{const o=r.getProvider("app").getImmediate(),s=new Jo(new GB(r.getProvider("auth-internal")),new JB(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ae(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Uc(u.options.projectId,c)}(o,i),o);return a=Object.assign({useFetchStreams:n},a),s._setSettings(a),s},"PUBLIC").setMultipleInstances(!0)),Gr(vk,"4.7.1",e),Gr(vk,"4.7.1","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ej="firebasestorage.googleapis.com",tj="storageBucket",Kz=2*60*1e3,Gz=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot extends ii{constructor(e,n,r=0){super(Gy(e),`Firebase Storage: ${n} (${Gy(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ot.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Gy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var It;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(It||(It={}));function Gy(t){return"storage/"+t}function px(){const t="An unknown error occurred, please check the error payload for server response.";return new Ot(It.UNKNOWN,t)}function Xz(t){return new Ot(It.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Yz(t){return new Ot(It.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Qz(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ot(It.UNAUTHENTICATED,t)}function Jz(){return new Ot(It.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Zz(t){return new Ot(It.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function e8(){return new Ot(It.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function t8(){return new Ot(It.CANCELED,"User canceled the upload/download.")}function n8(t){return new Ot(It.INVALID_URL,"Invalid URL '"+t+"'.")}function r8(t){return new Ot(It.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function i8(){return new Ot(It.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+tj+"' property when initializing the app?")}function a8(){return new Ot(It.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function o8(){return new Ot(It.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function s8(t){return new Ot(It.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function q0(t){return new Ot(It.INVALID_ARGUMENT,t)}function nj(){return new Ot(It.APP_DELETED,"The Firebase app was deleted.")}function l8(t){return new Ot(It.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function oc(t,e){return new Ot(It.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function wu(t){throw new Ot(It.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Pn.makeFromUrl(e,n)}catch{return new Pn(e,"")}if(r.path==="")return r;throw r8(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}const o="(/(.*))?$",s=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(E){E.path_=decodeURIComponent(E.path)}const c="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${c}/b/${i}/o${h}`,"i"),g={bucket:1,path:3},m=n===ej?"(?:storage.googleapis.com|storage.cloud.google.com)":n,v="([^?#]*)",x=new RegExp(`^https?://${m}/${i}/${v}`,"i"),_=[{regex:s,indices:l,postModify:a},{regex:p,indices:g,postModify:u},{regex:x,indices:{bucket:1,path:2},postModify:u}];for(let E=0;E<_.length;E++){const T=_[E],O=T.regex.exec(e);if(O){const k=O[T.indices.bucket];let S=O[T.indices.path];S||(S=""),r=new Pn(k,S),T.postModify(r);break}}if(r==null)throw n8(e);return r}}class u8{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c8(t,e,n){let r=1,i=null,a=null,o=!1,s=0;function l(){return s===2}let u=!1;function c(...v){u||(u=!0,e.apply(null,v))}function f(v){i=setTimeout(()=>{i=null,t(p,l())},v)}function h(){a&&clearTimeout(a)}function p(v,...x){if(u){h();return}if(v){h(),c.call(null,v,...x);return}if(l()||o){h(),c.call(null,v,...x);return}r<64&&(r*=2);let _;s===1?(s=2,_=0):_=(r+Math.random())*1e3,f(_)}let g=!1;function m(v){g||(g=!0,h(),!u&&(i!==null?(v||(s=2),clearTimeout(i),f(0)):v||(s=1)))}return f(0),a=setTimeout(()=>{o=!0,m(!0)},n),m}function f8(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d8(t){return t!==void 0}function h8(t){return typeof t=="object"&&!Array.isArray(t)}function mx(t){return typeof t=="string"||t instanceof String}function rT(t){return gx()&&t instanceof Blob}function gx(){return typeof Blob<"u"}function H0(t,e,n,r){if(r<e)throw q0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw q0(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function rj(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Eo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Eo||(Eo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p8(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m8{constructor(e,n,r,i,a,o,s,l,u,c,f,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=f,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,g)=>{this.resolve_=p,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Gd(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=s=>{const l=s.loaded,u=s.lengthComputable?s.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const s=a.getErrorCode()===Eo.NO_ERROR,l=a.getStatus();if(!s||p8(l,this.additionalRetryCodes_)&&this.retry){const c=a.getErrorCode()===Eo.ABORT;r(!1,new Gd(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Gd(u,a))})},n=(r,i)=>{const a=this.resolve_,o=this.reject_,s=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(s,s.getResponse());d8(l)?a(l):a()}catch(l){o(l)}else if(s!==null){const l=px();l.serverResponse=s.getErrorText(),this.errorCallback_?o(this.errorCallback_(s,l)):o(l)}else if(i.canceled){const l=this.appDelete_?nj():t8();o(l)}else{const l=e8();o(l)}};this.canceled_?n(!1,new Gd(!1,null,!0)):this.backoffId_=c8(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&f8(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Gd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function g8(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function y8(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function v8(t,e){e&&(t["X-Firebase-GMPID"]=e)}function b8(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function _8(t,e,n,r,i,a,o=!0){const s=rj(t.urlParams),l=t.url+s,u=Object.assign({},t.headers);return v8(u,e),g8(u,n),y8(u,a),b8(u,r),new m8(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w8(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function x8(...t){const e=w8();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(gx())return new Blob(t);throw new Ot(It.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function E8(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S8(t){if(typeof atob>"u")throw s8("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Xy{constructor(e,n){this.data=e,this.contentType=n||null}}function k8(t,e){switch(t){case Wr.RAW:return new Xy(ij(e));case Wr.BASE64:case Wr.BASE64URL:return new Xy(aj(t,e));case Wr.DATA_URL:return new Xy(A8(e),P8(e))}throw px()}function ij(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,o=t.charCodeAt(++n);r=65536|(a&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function T8(t){let e;try{e=decodeURIComponent(t)}catch{throw oc(Wr.DATA_URL,"Malformed data URL.")}return ij(e)}function aj(t,e){switch(t){case Wr.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw oc(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Wr.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw oc(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=S8(e)}catch(i){throw i.message.includes("polyfill")?i:oc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class oj{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw oc(Wr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=I8(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function A8(t){const e=new oj(t);return e.base64?aj(Wr.BASE64,e.rest):T8(e.rest)}function P8(t){return new oj(t).contentType}function I8(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n){let r=0,i="";rT(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(rT(this.data_)){const r=this.data_,i=E8(r,e,n);return i===null?null:new la(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new la(r,!0)}}static getBlob(...e){if(gx()){const n=e.map(r=>r instanceof la?r.data_:r);return new la(x8.apply(null,n))}else{const n=e.map(o=>mx(o)?k8(Wr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let a=0;return n.forEach(o=>{for(let s=0;s<o.length;s++)i[a++]=o[s]}),new la(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yx(t){let e;try{e=JSON.parse(t)}catch{return null}return h8(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O8(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function C8(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function sj(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R8(t,e){return e}class kn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||R8}}let Xd=null;function N8(t){return!mx(t)||t.length<2?t:sj(t)}function lj(){if(Xd)return Xd;const t=[];t.push(new kn("bucket")),t.push(new kn("generation")),t.push(new kn("metageneration")),t.push(new kn("name","fullPath",!0));function e(a,o){return N8(o)}const n=new kn("name");n.xform=e,t.push(n);function r(a,o){return o!==void 0?Number(o):o}const i=new kn("size");return i.xform=r,t.push(i),t.push(new kn("timeCreated")),t.push(new kn("updated")),t.push(new kn("md5Hash",null,!0)),t.push(new kn("cacheControl",null,!0)),t.push(new kn("contentDisposition",null,!0)),t.push(new kn("contentEncoding",null,!0)),t.push(new kn("contentLanguage",null,!0)),t.push(new kn("contentType",null,!0)),t.push(new kn("metadata","customMetadata",!0)),Xd=t,Xd}function j8(t,e){function n(){const r=t.bucket,i=t.fullPath,a=new Pn(r,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function D8(t,e,n){const r={};r.type="file";const i=n.length;for(let a=0;a<i;a++){const o=n[a];r[o.local]=o.xform(r,e[o.server])}return j8(r,t),r}function uj(t,e,n){const r=yx(e);return r===null?null:D8(t,r,n)}function M8(t,e,n,r){const i=yx(e);if(i===null||!mx(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const o=encodeURIComponent;return a.split(",").map(u=>{const c=t.bucket,f=t.fullPath,h="/b/"+o(c)+"/o/"+o(f),p=Zm(h,n,r),g=rj({alt:"media",token:u});return p+g})[0]}function $8(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT="prefixes",aT="items";function L8(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[iT])for(const i of n[iT]){const a=i.replace(/\/$/,""),o=t._makeStorageReference(new Pn(e,a));r.prefixes.push(o)}if(n[aT])for(const i of n[aT]){const a=t._makeStorageReference(new Pn(e,i.name));r.items.push(a)}return r}function V8(t,e,n){const r=yx(n);return r===null?null:L8(t,e,r)}class vx{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(t){if(!t)throw px()}function F8(t,e){function n(r,i){const a=uj(t,i,e);return bx(a!==null),a}return n}function U8(t,e){function n(r,i){const a=V8(t,e,i);return bx(a!==null),a}return n}function B8(t,e){function n(r,i){const a=uj(t,i,e);return bx(a!==null),M8(a,i,t.host,t._protocol)}return n}function _x(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Jz():i=Qz():n.getStatus()===402?i=Yz(t.bucket):n.getStatus()===403?i=Zz(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function z8(t){const e=_x(t);function n(r,i){let a=e(r,i);return r.getStatus()===404&&(a=Xz(t.path)),a.serverResponse=i.serverResponse,a}return n}function W8(t,e,n,r,i){const a={};e.isRoot?a.prefix="":a.prefix=e.path+"/",n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);const o=e.bucketOnlyServerUrl(),s=Zm(o,t.host,t._protocol),l="GET",u=t.maxOperationRetryTime,c=new vx(s,l,U8(t,e.bucket),u);return c.urlParams=a,c.errorHandler=_x(e),c}function q8(t,e,n){const r=e.fullServerUrl(),i=Zm(r,t.host,t._protocol),a="GET",o=t.maxOperationRetryTime,s=new vx(i,a,B8(t,n),o);return s.errorHandler=z8(e),s}function H8(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function K8(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=H8(null,e)),r}function G8(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function s(){let _="";for(let E=0;E<2;E++)_=_+Math.random().toString().slice(2);return _}const l=s();o["Content-Type"]="multipart/related; boundary="+l;const u=K8(e,r,i),c=$8(u,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+l+"--",p=la.getBlob(f,r,h);if(p===null)throw a8();const g={name:u.fullPath},m=Zm(a,t.host,t._protocol),v="POST",x=t.maxUploadRetryTime,y=new vx(m,v,F8(t,n),x);return y.urlParams=g,y.headers=o,y.body=p.uploadData(),y.errorHandler=_x(e),y}class X8{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Eo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Eo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Eo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw wu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw wu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw wu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw wu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw wu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Y8 extends X8{initXhr(){this.xhr_.responseType="text"}}function wx(){return new Y8}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,n){this._service=e,n instanceof Pn?this._location=n:this._location=Pn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new $o(e,n)}get root(){const e=new Pn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return sj(this._location.path)}get storage(){return this._service}get parent(){const e=O8(this._location.path);if(e===null)return null;const n=new Pn(this._location.bucket,e);return new $o(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw l8(e)}}function Q8(t,e,n){t._throwIfRoot("uploadBytes");const r=G8(t.storage,t._location,lj(),new la(e,!0),n);return t.storage.makeRequestWithTokens(r,wx).then(i=>({metadata:i,ref:t}))}function J8(t){const e={prefixes:[],items:[]};return cj(t,e).then(()=>e)}async function cj(t,e,n){const i=await Z8(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&await cj(t,e,i.nextPageToken)}function Z8(t,e){e!=null&&typeof e.maxResults=="number"&&H0("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=W8(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,wx)}function eW(t){t._throwIfRoot("getDownloadURL");const e=q8(t.storage,t._location,lj());return t.storage.makeRequestWithTokens(e,wx).then(n=>{if(n===null)throw o8();return n})}function tW(t,e){const n=C8(t._location.path,e),r=new Pn(t._location.bucket,n);return new $o(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nW(t){return/^[A-Za-z]+:\/\//.test(t)}function rW(t,e){return new $o(t,e)}function fj(t,e){if(t instanceof xx){const n=t;if(n._bucket==null)throw i8();const r=new $o(n,n._bucket);return e!=null?fj(r,e):r}else return e!==void 0?tW(t,e):t}function iW(t,e){if(e&&nW(e)){if(t instanceof xx)return rW(t,e);throw q0("To use ref(service, url), the first argument must be a Storage instance.")}else return fj(t,e)}function oT(t,e){const n=e==null?void 0:e[tj];return n==null?null:Pn.makeFromBucketSpec(n,t)}function aW(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:VR(i,t.app.options.projectId))}class xx{constructor(e,n,r,i,a){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=ej,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Kz,this._maxUploadRetryTime=Gz,this._requests=new Set,i!=null?this._bucket=Pn.makeFromBucketSpec(i,this._host):this._bucket=oT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Pn.makeFromBucketSpec(this._url,e):this._bucket=oT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){H0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){H0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new $o(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new u8(nj());{const o=_8(e,this._appId,r,i,n,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const sT="@firebase/storage",lT="0.13.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj="storage";function oW(t,e,n){return t=kt(t),Q8(t,e,n)}function sW(t){return t=kt(t),J8(t)}function Ex(t){return t=kt(t),eW(t)}function Sx(t,e){return t=kt(t),iW(t,e)}function lW(t=_w(),e){t=kt(t);const r=Nm(t,dj).getImmediate({identifier:e}),i=MR("storage");return i&&uW(r,...i),r}function uW(t,e,n,r={}){aW(t,e,n,r)}function cW(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new xx(n,r,i,e,Ko)}function fW(){Co(new Ra(dj,cW,"PUBLIC").setMultipleInstances(!0)),Gr(sT,lT,""),Gr(sT,lT,"esm2017")}fW();const dW={apiKey:"AIzaSyAoA9vGq5gsjRVqngQcfX9wDHv03MFX8Mo",authDomain:"habit-piggy-project.firebaseapp.com",projectId:"habit-piggy-project",storageBucket:"habit-piggy-project.appspot.com",messagingSenderId:"230345565651",appId:"1:230345565651:web:4f5fae0a011a8a355cbb26",measurementId:"G-D5V6H13VEM"},hj=BR(dW),ze=Nz(hj),kx=lW(hj),pj=Ow();async function hW(t,e){try{const r=(await A6(pj,t,e)).user;console.log("User created: ",r);const i=wt(ze,"users",r.uid);await Z2(i,{uid:r.uid,email:r.email,name:"",introduction:"",avatar:"",createdTime:Je.now(),levelPoints:0,isAcceptReminder:!1,achievements:[],badges:[]}),console.log("User data created with ID: ",r.uid),zn(i,"habits"),console.log("Empty habits sub-collection created for user ID: ",r.uid)}catch(n){console.error("Error creating user: ",n.code,n.message)}}async function pW(){try{await R6(pj),console.log("User signed out")}catch(t){console.error("Error signing out: ",t.code,t.message)}}async function mW(t,e){try{const n=wt(ze,"users",t);await Z2(n,e,{merge:!0}),console.log("User profile updated with ID: ",t)}catch(n){console.error("Error updating user profile: ",n.code,n.message)}}async function Ns(t){try{const e=wt(ze,"users",t),n=await Wa(e);if(n.exists()){const r=n.data();if(!r.avatar){const i=await Yy("Piggy.png");r.avatar=i}return r}else return console.log("No such document!"),{name:"Unknown",levelPoints:0,avatar:await Yy("Piggy.png")}}catch(e){return console.error("Error getting user profile: ",e.code,e.message),{name:"Unknown",levelPoints:0,avatar:await Yy("Piggy.png")}}}async function uT(){try{const t=zn(ze,"users");return(await ai(t)).docs.map(r=>({id:r.id,...r.data()}))}catch(t){return console.error("Error getting users: ",t.code,t.message),[]}}async function gW(t,e){try{const n=wt(ze,"users",t),r=zn(n,"habits");await hx(r,{...e,createdTime:Je.now(),updatedTime:Je.now()}),console.log("Habit added for user ID: ",t)}catch(n){console.error("Error adding habit: ",n.code,n.message)}}async function Lo(t){try{const e=wt(ze,"users",t),n=zn(e,"habits"),r=K2(n,G2("updatedTime","desc"));return(await ai(r)).docs.map(o=>({id:o.id,...o.data()}))}catch(e){return console.error("Error getting habits: ",e.code,e.message),[]}}async function K0(t,e,n){try{const r=wt(ze,"users",t,"habits",e);await qa(r,{...n,updatedTime:Je.now()})}catch(r){console.error("Error updating habit: ",r.code,r.message)}}async function mj(t,e){try{const n=wt(ze,"users",t,"habits",e);await Qm(n),console.log("Habit deleted with ID: ",e)}catch(n){console.error("Error deleting habit: ",n.code,n.message)}}async function gj(t,e){try{const n=zn(ze,"posts"),r=await hx(n,{...e,userID:t,createdTime:Je.now(),updatedTime:Je.now()});return console.log("Post added with ID: ",r.id),r.id}catch(n){console.error("Error adding post: ",n.code,n.message)}}async function yW(t,e){try{const n=wt(ze,"posts",t);await qa(n,{...e,updatedTime:Je.now()}),console.log("Post updated with ID: ",t)}catch(n){console.error("Error updating post: ",n.code,n.message)}}async function vW(t){try{const e=wt(ze,"posts",t);await Qm(e),console.log("Post deleted with ID: ",t)}catch(e){console.error("Error deleting post: ",e.code,e.message)}}async function Yd(){try{const t=zn(ze,"posts"),e=K2(t,G2("createdTime","desc"));return(await ai(e)).docs.map(i=>({id:i.id,...i.data()}))}catch(t){return console.error("Error getting posts: ",t.code,t.message),[]}}async function bW(t,e){try{const n=Sx(kx,`avatars/${t}`),r=await oW(n,e),i=await Ex(r.ref);return console.log("Avatar uploaded: ",i),i}catch(n){return console.error("Error uploading avatar: ",n.code,n.message),null}}async function Yy(t){try{const e=Sx(kx,`default_avatars/${t}`),n=await Ex(e);return console.log("Default avatar URL: ",n),n}catch(e){return console.error("Error getting default avatar: ",e.code,e.message),"https://firebasestorage.googleapis.com/v0/b/habit-piggy-project.appspot.com/o/avatars%2FPiggy.png?alt=media&token=be62eb4e-44a3-46c5-ba6d-bba575da75a8"}}async function _W(t,e){try{const n=wt(ze,"posts",t),r=zn(n,"comments");await hx(r,{...e,createdTime:Je.now()}),console.log("Comment added to post ID: ",t)}catch(n){console.error("Error adding comment: ",n.code,n.message)}}async function fs(t){try{const e=wt(ze,"posts",t),n=zn(e,"comments");return(await ai(n)).docs.map(a=>({id:a.id,...a.data()}))}catch(e){return console.error("Error getting comments: ",e.code,e.message),[]}}async function wW(t,e,n){try{const r=wt(ze,"posts",t,"comments",e);await qa(r,{...n,updatedTime:Je.now()}),console.log("Comment updated with ID: ",e)}catch(r){console.error("Error updating comment: ",r.code,r.message)}}async function xW(t,e){try{const n=wt(ze,"posts",t,"comments",e);await Qm(n),console.log("Comment deleted with ID: ",e)}catch(n){console.error("Error deleting comment: ",n.code,n.message)}}async function EW(){try{const t=Sx(kx,"post_backgrounds"),n=(await sW(t)).items.map(i=>Ex(i));return await Promise.all(n)}catch(t){return console.error("Error getting post backgrounds: ",t.code,t.message),[]}}async function SW(t,e){try{const n=wt(ze,"posts",t),r=await Wa(n);if(r.exists()){const a=r.data().likes||[];a.includes(e)||(a.push(e),await qa(n,{likes:a}),console.log("Like added to post ID: ",t))}}catch(n){console.error("Error adding like: ",n.code,n.message)}}async function kW(t,e){try{const n=wt(ze,"posts",t),r=await Wa(n);if(r.exists()){const a=r.data().likes||[],o=a.indexOf(e);if(o>-1){a.splice(o,1),await qa(n,{likes:a}),console.log("Like removed from post ID: ",t);const s=wt(ze,"posts",t,"likes",e);await Qm(s),console.log("Like document removed for user ID: ",e)}}}catch(n){console.error("Error removing like: ",n.code,n.message)}}async function TW(){try{return(await ai(zn(ze,"achievements"))).docs.map(n=>({id:n.id,...n.data()}))}catch(t){return console.error("Error getting achievements: ",t.code,t.message),[]}}async function AW(t){try{const e=wt(ze,"users",t),n=await Wa(e);return n.exists()?n.data().achievements||[]:(console.log("No such document!"),[])}catch(e){return console.error("Error getting user achievements: ",e.code,e.message),[]}}async function sc(t,e){try{const n=wt(ze,"users",t),r=zn(n,"habits"),a=(await ai(r)).docs.map(u=>({id:u.id,...u.data()}));let o=0;const s=new Date,l=new Date(s.getFullYear(),s.getMonth(),s.getDate());switch(e){case"habit":o=a.reduce((u,c)=>{const f=c.status.filter(h=>h.completed&&new Date(h.date)<l).length;return u+f},0);break;case"savings":o=a.reduce((u,c)=>{const f=c.status.filter(h=>!h.completed&&new Date(h.date)<l).length;return u+c.amount*f},0);break;case"streak":o=a.reduce((u,c)=>{const f=c.status.filter(p=>p.completed&&new Date(p.date)<l).length,h=c.status.filter(p=>new Date(p.date)<l).length;return u+(h>0?f/h:0)},0)/a.length;break;default:throw new Error("Invalid task type")}return o}catch(n){return console.error("Error calculating task value: ",n.code,n.message),0}}async function lc(t,e,n){try{const r=await ai(zn(ze,"achievements")),i=wt(ze,"users",t),a=await Wa(i),o=a.exists()?a.data().achievements||[]:[];r.forEach(async s=>{const l=s.data(),u=l.condition;let c=!1;u.type===e&&(e==="habit"&&n>=u.count?c=!0:e==="savings"&&n>=u.amount||e==="streak"&&n>=u.count),c&&!o.includes(s.id)&&(o.push(s.id),await qa(i,{achievements:o}),console.log(`Achievement ${l.name} awarded to user ID: ${t}`))})}catch(r){console.error("Error checking and awarding achievements: ",r.code,r.message)}}async function PW(){try{const t=zn(ze,"badges");return(await ai(t)).docs.map(r=>({id:r.id,...r.data()}))}catch(t){return console.error("Error getting badges: ",t.code,t.message),[]}}async function IW(t){try{const e=wt(ze,"users",t),n=await Wa(e);return n.exists()?n.data().badges||[]:(console.log("No such document!"),[])}catch(e){return console.error("Error getting user badges: ",e.code,e.message),[]}}async function Gs(t){try{const e=wt(ze,"users",t),n=zn(e,"habits");return(await ai(n)).docs.map(o=>({id:o.id,...o.data()})).reduce((o,s)=>{const l=s.category;return o[l]||(o[l]=0),o[l]++,o},{})}catch(e){return console.error("Error calculating badges: ",e.code,e.message),{}}}async function uc(t){try{const e=await ai(zn(ze,"badges")),n=wt(ze,"users",t),r=await Wa(n),i=r.exists()?r.data().badges||[]:[],a=await Gs(t);e.forEach(async o=>{const s=o.data(),l=s.condition;let u=!1;a[l.category]&&a[l.category]>=l.times&&(u=!0),u&&!i.includes(o.id)&&(i.push(o.id),await qa(n,{badges:i}),console.log(`Badge ${s.description} awarded to user ID: ${t}`))})}catch(e){console.error("Error checking and awarding badges: ",e.code,e.message)}}async function yj(t,e){try{const n=wt(ze,"users",t),r=await Wa(n);if(r.exists()){const a=r.data().badges.filter(o=>o.category!==e);await qa(n,{badges:a}),console.log(`Badge for category ${e} removed for user ID: ${t}`)}}catch(n){console.error("Error removing badge: ",n.code,n.message)}}var vj={exports:{}},OW="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",CW=OW,RW=CW;function bj(){}function _j(){}_j.resetWarningCache=bj;var NW=function(){function t(r,i,a,o,s,l){if(l!==RW){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:_j,resetWarningCache:bj};return n.PropTypes=n,n};vj.exports=NW();var jW=vj.exports;const z=Ge(jW),Ha=D.createContext(),wj=({children:t})=>{const[e,n]=D.useState(null),r=Ow();return D.useEffect(()=>{const i=C6(r,a=>{n(a)});return()=>i()},[r]),b.jsx(Ha.Provider,{value:{user:e,setUser:n},children:t})};wj.propTypes={children:z.node};function DW(){const[t,e]=D.useState(""),[n,r]=D.useState(""),[i,a]=D.useState(!0),[o,s]=D.useState(!1),{setUser:l}=D.useContext(Ha),u=async()=>{await hW(t,n),alert("Registered successfully"),a(!0),e(""),r("")},c=async()=>{const f=Ow();try{const h=await P6(f,t,n);l(h.user),s(!0),console.log("Login with",t,n),e(""),r("")}catch(h){console.error("Error logging in: ",h.code,h.message)}};return o?b.jsx(yw,{to:"/home"}):b.jsxs("div",{className:"p-4 md:py-10 space-y-4",children:[b.jsxs("ul",{className:"grid grid-cols-2 w-full",children:[b.jsx("li",{className:`border border-black-500 rounded-s-full py-1 font-normal text-sm leading-5 text-center ${i?"bg-primary":"bg-black-50"}`,onClick:()=>a(!0),children:"Login"}),b.jsx("li",{className:`border-e border-y border-black-500 rounded-e-full py-1 font-normal text-sm leading-5 text-center ${i?"bg-black-50":"bg-primary"}`,onClick:()=>a(!1),children:"Register"})]}),i?b.jsxs("div",{className:"flex flex-col",children:[b.jsx("label",{htmlFor:"email",className:"font-bold text-base leading-6 mb-2 text-black dark:text-black-0",children:"Email"}),b.jsx("input",{type:"text",name:"email",id:"email",placeholder:"Email",className:"py-2 px-4 w-full rounded-xl border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-base leading-6 mb-4 dark:bg-black-100 placeholder-black",value:t,onChange:f=>e(f.target.value)}),b.jsx("label",{htmlFor:"password",className:"font-bold text-base leading-6 mb-2 text-black dark:text-black-0",children:"Password"}),b.jsx("input",{type:"password",name:"password",id:"password",placeholder:"Password",className:"py-2 px-4 w-full rounded-xl border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-base leading-6 mb-8 dark:bg-black-100 placeholder-black",value:n,onChange:f=>r(f.target.value)}),b.jsx("button",{className:"w-full rounded-lg bg-primary font-bold text-base leading-6 py-2 hover:bg-primary-dark",onClick:c,children:"Login"})]}):b.jsxs("div",{className:"flex flex-col",children:[b.jsx("label",{htmlFor:"email",className:"font-bold text-base leading-6 mb-2 text-black dark:text-black-0",children:"Email"}),b.jsx("input",{type:"text",name:"email",id:"email",placeholder:"Email",className:"py-2 px-4 w-full rounded-xl border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-base leading-6 mb-4 dark:bg-black-100 placeholder-black",value:t,onChange:f=>e(f.target.value)}),b.jsx("label",{htmlFor:"password",className:"font-bold text-base leading-6 mb-2 text-black dark:text-black-0",children:"Password"}),b.jsx("input",{type:"password",name:"password",id:"password",placeholder:"Password",className:"py-2 px-4 w-full rounded-xl border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-base leading-6 mb-8 dark:bg-black-100 placeholder-black",value:n,onChange:f=>r(f.target.value)}),b.jsx("button",{className:"w-full rounded-lg bg-primary font-bold text-base leading-6 py-2 hover:bg-primary-dark",onClick:u,children:"Register"})]})]})}var xj={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},cT=M.createContext&&M.createContext(xj),MW=["attr","size","title"];function $W(t,e){if(t==null)return{};var n=LW(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function LW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _p(){return _p=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_p.apply(this,arguments)}function fT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fT(Object(n),!0).forEach(function(r){VW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VW(t,e,n){return e=FW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FW(t){var e=UW(t,"string");return typeof e=="symbol"?e:e+""}function UW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ej(t){return t&&t.map((e,n)=>M.createElement(e.tag,wp({key:n},e.attr),Ej(e.child)))}function De(t){return e=>M.createElement(BW,_p({attr:wp({},t.attr)},e),Ej(t.child))}function BW(t){var e=n=>{var{attr:r,size:i,title:a}=t,o=$W(t,MW),s=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),M.createElement("svg",_p({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:wp(wp({color:t.color||n.color},n.style),t.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),a&&M.createElement("title",null,a),t.children)};return cT!==void 0?M.createElement(cT.Consumer,null,n=>e(n)):e(xj)}function zW(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-1.293 5.953a1 1 0 0 0 -1.32 -.083l-.094 .083l-3.293 3.292l-1.293 -1.292l-.094 -.083a1 1 0 0 0 -1.403 1.403l.083 .094l2 2l.094 .083a1 1 0 0 0 1.226 0l.094 -.083l4 -4l.083 -.094a1 1 0 0 0 -.083 -1.32z"},child:[]}]})(t)}function WW(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 3.34a10 10 0 1 1 -15 8.66l.005 -.324a10 10 0 0 1 14.995 -8.336zm-5 2.66a1 1 0 0 0 -1 1a3 3 0 1 0 0 6v2a1.024 1.024 0 0 1 -.866 -.398l-.068 -.101a1 1 0 0 0 -1.732 .998a3 3 0 0 0 2.505 1.5h.161a1 1 0 0 0 .883 .994l.117 .007a1 1 0 0 0 1 -1l.176 -.005a3 3 0 0 0 -.176 -5.995v-2c.358 -.012 .671 .14 .866 .398l.068 .101a1 1 0 0 0 1.732 -.998a3 3 0 0 0 -2.505 -1.501h-.161a1 1 0 0 0 -1 -1zm1 7a1 1 0 0 1 0 2v-2zm-2 -4v2a1 1 0 0 1 0 -2z"},child:[]}]})(t)}function qW(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M6.979 3.074a6 6 0 0 1 4.988 1.425l.037 .033l.034 -.03a6 6 0 0 1 4.733 -1.44l.246 .036a6 6 0 0 1 3.364 10.008l-.18 .185l-.048 .041l-7.45 7.379a1 1 0 0 1 -1.313 .082l-.094 -.082l-7.493 -7.422a6 6 0 0 1 3.176 -10.215z"},child:[]}]})(t)}function HW(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0"},child:[]},{tag:"path",attr:{d:"M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0"},child:[]},{tag:"path",attr:{d:"M3 6l0 13"},child:[]},{tag:"path",attr:{d:"M12 6l0 13"},child:[]},{tag:"path",attr:{d:"M21 6l0 13"},child:[]}]})(t)}function KW(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 11h16a1 1 0 0 1 1 1v.5c0 1.5 -2.517 5.573 -4 6.5v1a1 1 0 0 1 -1 1h-8a1 1 0 0 1 -1 -1v-1c-1.687 -1.054 -4 -5 -4 -6.5v-.5a1 1 0 0 1 1 -1z"},child:[]},{tag:"path",attr:{d:"M19 7l-14 1"},child:[]},{tag:"path",attr:{d:"M19 2l-14 3"},child:[]}]})(t)}function GW(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 7a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12zm12 -4v4m-8 -4v4m-4 4h16m-9.995 3h.01m3.99 0h.01"},child:[]},{tag:"path",attr:{d:"M10.005 17a3.5 3.5 0 0 0 4 0"},child:[]}]})(t)}function XW(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M7 9m0 2a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v6a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2z"},child:[]},{tag:"path",attr:{d:"M14 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"},child:[]},{tag:"path",attr:{d:"M17 9v-2a2 2 0 0 0 -2 -2h-10a2 2 0 0 0 -2 2v6a2 2 0 0 0 2 2h2"},child:[]}]})(t)}function YW(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12l5 5l10 -10"},child:[]}]})(t)}function QW(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 9l6 6l6 -6"},child:[]}]})(t)}function JW(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 6l-6 6l6 6"},child:[]}]})(t)}function ZW(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 6l6 6l-6 6"},child:[]}]})(t)}function eq(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"},child:[]},{tag:"path",attr:{d:"M9 12l2 2l4 -4"},child:[]}]})(t)}function Sj(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"},child:[]},{tag:"path",attr:{d:"M14.8 9a2 2 0 0 0 -1.8 -1h-2a2 2 0 1 0 0 4h2a2 2 0 1 1 0 4h-2a2 2 0 0 1 -1.8 -1"},child:[]},{tag:"path",attr:{d:"M12 7v10"},child:[]}]})(t)}function tq(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]}]})(t)}function nq(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 11v-3.5a1.5 1.5 0 0 1 3 0v2.5"},child:[]},{tag:"path",attr:{d:"M11 9.5v-3a1.5 1.5 0 0 1 3 0v3.5"},child:[]},{tag:"path",attr:{d:"M14 7.5a1.5 1.5 0 0 1 3 0v2.5"},child:[]},{tag:"path",attr:{d:"M17 9.5a1.5 1.5 0 0 1 3 0v4.5a6 6 0 0 1 -6 6h-2h.208a6 6 0 0 1 -5.012 -2.7l-.196 -.3c-.312 -.479 -1.407 -2.388 -3.286 -5.728a1.5 1.5 0 0 1 .536 -2.022a1.867 1.867 0 0 1 2.28 .28l1.47 1.47"},child:[]}]})(t)}function rq(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19.5 12.572l-7.5 7.428l-7.5 -7.428a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"},child:[]}]})(t)}function iq(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12l-2 0l9 -9l9 9l-2 0"},child:[]},{tag:"path",attr:{d:"M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7"},child:[]},{tag:"path",attr:{d:"M10 12h4v4h-4z"},child:[]}]})(t)}function aq(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z"},child:[]},{tag:"path",attr:{d:"M14 4m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z"},child:[]},{tag:"path",attr:{d:"M4 14m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z"},child:[]},{tag:"path",attr:{d:"M14 14m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z"},child:[]}]})(t)}function oq(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z"},child:[]},{tag:"path",attr:{d:"M15 4l0 16"},child:[]}]})(t)}function sq(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2"},child:[]},{tag:"path",attr:{d:"M9 12h12l-3 -3"},child:[]},{tag:"path",attr:{d:"M18 15l3 -3"},child:[]}]})(t)}function lq(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 3h6l3 7l-6 2l-6 -2z"},child:[]},{tag:"path",attr:{d:"M12 12l-3 -9"},child:[]},{tag:"path",attr:{d:"M15 11l-3 -8"},child:[]},{tag:"path",attr:{d:"M12 19.5l-3 1.5l.5 -3.5l-2 -2l3 -.5l1.5 -3l1.5 3l3 .5l-2 2l.5 3.5z"},child:[]}]})(t)}function uq(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 4a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-5l-5 3v-3h-2a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12z"},child:[]},{tag:"path",attr:{d:"M9.5 9h.01"},child:[]},{tag:"path",attr:{d:"M14.5 9h.01"},child:[]},{tag:"path",attr:{d:"M9.5 13a3.5 3.5 0 0 0 5 0"},child:[]}]})(t)}function cq(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 9h8"},child:[]},{tag:"path",attr:{d:"M8 13h6"},child:[]},{tag:"path",attr:{d:"M18 4a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-5l-5 3v-3h-2a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12z"},child:[]}]})(t)}function fq(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12a9 9 0 1 0 -8.012 8.946"},child:[]},{tag:"path",attr:{d:"M9 10h.01"},child:[]},{tag:"path",attr:{d:"M15 10h.01"},child:[]},{tag:"path",attr:{d:"M9.5 15a3.59 3.59 0 0 0 2.774 .99"},child:[]},{tag:"path",attr:{d:"M18.994 21.5l2.518 -2.58a1.74 1.74 0 0 0 .004 -2.413a1.627 1.627 0 0 0 -2.346 -.005l-.168 .172l-.168 -.172a1.627 1.627 0 0 0 -2.346 -.004a1.74 1.74 0 0 0 -.004 2.412l2.51 2.59z"},child:[]}]})(t)}function dq(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"},child:[]},{tag:"path",attr:{d:"M9 10l.01 0"},child:[]},{tag:"path",attr:{d:"M15 10l.01 0"},child:[]},{tag:"path",attr:{d:"M9.5 15a3.5 3.5 0 0 0 5 0"},child:[]}]})(t)}function hq(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4"},child:[]},{tag:"path",attr:{d:"M13.5 6.5l4 4"},child:[]}]})(t)}function pq(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 8h.01"},child:[]},{tag:"path",attr:{d:"M3 6a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v12a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3v-12z"},child:[]},{tag:"path",attr:{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l5 5"},child:[]},{tag:"path",attr:{d:"M14 14l1 -1c.928 -.893 2.072 -.893 3 0l3 3"},child:[]}]})(t)}function mq(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M7 15h10v4a2 2 0 0 1 -2 2h-6a2 2 0 0 1 -2 -2v-4z"},child:[]},{tag:"path",attr:{d:"M12 9a6 6 0 0 0 -6 -6h-3v2a6 6 0 0 0 6 6h3"},child:[]},{tag:"path",attr:{d:"M12 11a6 6 0 0 1 6 -6h3v1a6 6 0 0 1 -6 6h-3"},child:[]},{tag:"path",attr:{d:"M12 15l0 -6"},child:[]}]})(t)}function gq(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 5l0 14"},child:[]},{tag:"path",attr:{d:"M5 12l14 0"},child:[]}]})(t)}function yq(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 13a8 8 0 0 1 7 7a6 6 0 0 0 3 -5a9 9 0 0 0 6 -8a3 3 0 0 0 -3 -3a9 9 0 0 0 -8 6a6 6 0 0 0 -5 3"},child:[]},{tag:"path",attr:{d:"M7 14a6 6 0 0 0 -3 6a6 6 0 0 0 6 -3"},child:[]},{tag:"path",attr:{d:"M15 9m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]}]})(t)}function vq(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4.698 4.034l16.302 7.966l-16.302 7.966a.503 .503 0 0 1 -.546 -.124a.555 .555 0 0 1 -.12 -.568l2.468 -7.274l-2.468 -7.274a.555 .555 0 0 1 .12 -.568a.503 .503 0 0 1 .546 -.124z"},child:[]},{tag:"path",attr:{d:"M6.5 12h14.5"},child:[]}]})(t)}function bq(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z"},child:[]},{tag:"path",attr:{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0"},child:[]}]})(t)}function _q(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M13 4m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M7 21l3 -4"},child:[]},{tag:"path",attr:{d:"M16 21l-2 -4l-3 -3l1 -6"},child:[]},{tag:"path",attr:{d:"M6 12l2 -3l4 -1l3 3l3 1"},child:[]}]})(t)}function wq(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 6l-12 12"},child:[]},{tag:"path",attr:{d:"M6 6l12 12"},child:[]}]})(t)}const xu={TbHome2:iq,TbCoin:Sj,TbMedal2:lq,TbMessage:cq,TbMoodSmile:dq},vn={TbRocket:yq,TbBook:HW,TbWalk:_q,TbBowlChopsticks:KW,TbMoodHeart:fq,TbHandGrab:nq,TbCash:XW,TbPlant:mq},eg={TbCheck:YW},xp={TbChevronLeft:JW,TbChevronRight:ZW},xq={TbCalendarSmile:GW},Eq={TbPlus:gq},ni={TbX:wq,TbPencil:hq,TbLayoutGrid:aq},Sq={TbChevronDown:QW},zu={TbHeart:rq,TbHeartFilled:qW,TbMessageChatbot:uq,TbDots:tq,TbSend2:vq},ds={TbCircleCheck:eq,TbCircleCheckFilled:zW,TbCoin:Sj,TbCoinFilled:WW},kj={TbSettings:bq,TbPhoto:pq},dT={TbLogout:sq,TbLayoutSidebarRight:oq},Tj=({date:t,onSelect:e,onWeekChange:n})=>{const[r]=D.useState(["Sat","Sun","Mon","Tue","Wed","Thu","Fri"]),[i]=D.useState(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),[a,o]=D.useState(null),[s,l]=D.useState(null),[u,c]=D.useState(null);D.useEffect(()=>{const _=new Date;l({year:_.getFullYear(),month:_.getMonth(),day:_.getDate()}),o(t?{...t}:{year:_.getFullYear(),month:_.getMonth(),day:_.getDate()})},[t]),D.useEffect(()=>{if(a){const _=new Date(a.year,a.month,a.day-new Date(a.year,a.month,a.day).getDay()),E=[];for(let T=0;T<7;T++){const O=new Date(_);O.setDate(_.getDate()+T),E.push({year:O.getFullYear(),month:O.getMonth(),day:O.getDate()})}n(E)}},[a,n]);const f=()=>{if(!a)return[];const _=[],E=a.year,T=a.month,O=a.day,k=new Date(E,T,O-new Date(E,T,O).getDay());for(let S=0;S<7;S++){const C=new Date(k);C.setDate(k.getDate()+S),_.push({value:C.getDate(),year:C.getFullYear(),month:C.getMonth()})}return _},h=_=>{p(_)},p=_=>{o(E=>{const T=new Date(E.year,E.month,E.day+(_?7:-7)),O=new Date(T.getFullYear(),T.getMonth(),T.getDate()-T.getDay()),k={year:O.getFullYear(),month:O.getMonth(),day:O.getDate()};return c(k),e(k),{year:T.getFullYear(),month:T.getMonth(),day:T.getDate()}})},g=_=>{const E={...a,day:_.value,month:_.month,year:_.year};c(E),e(E)},m=_=>_.value===s.day&&s.year===_.year&&s.month===_.month,v=_=>u&&_.value===u.day&&u.year===_.year&&u.month===_.month;if(!a)return null;const x=new Date(a.year,a.month,a.day-new Date(a.year,a.month,a.day).getDay()),y=`${i[x.getMonth()]} ${x.getFullYear()}`;return b.jsxs("div",{className:"p-4 md:pt-6 bg-black-50 dark:bg-black-800 rounded-b-3xl",children:[b.jsxs("div",{className:"flex justify-between mb-3",children:[b.jsx("button",{onClick:()=>h(!1),children:b.jsx(xp.TbChevronLeft,{className:"w-6 h-6 text-black dark:text-black-0 hover:text-alert"})}),b.jsx("h1",{className:"font-bold text-lg leading-6 text-black dark:text-black-0",children:y}),b.jsx("button",{onClick:()=>h(!0),children:b.jsx(xp.TbChevronRight,{className:"w-6 h-6 text-black dark:text-black-0 hover:text-alert"})})]}),b.jsx("div",{className:"grid grid-cols-7 gap-y-1 gap-x-2 md:gap-x-4 text-center",children:f().map((_,E)=>b.jsxs("div",{className:`py-1 px-1 flex flex-col items-center gap-1 rounded-lg cursor-pointer ${m(_)?"bg-primary":v(_)?"bg-primary-light":"bg-transparent hover:bg-primary-light"}`,onClick:()=>g(_),children:[b.jsx("div",{className:`font-bold text-lg leading-6 ${m(_)?"text-black dark:text-black-0-0":v(_)?"text-black":"text-black dark:text-black-0"}`,children:_.value}),b.jsx("div",{className:`font-medium text-sm leading-5 ${m(_)?"text-black dark:text-black-0-0":v(_)?"text-black":"text-black dark:text-black-0"}`,children:r[_.value%7]})]},E))})]})};Tj.propTypes={date:z.object,onSelect:z.func,onWeekChange:z.func.isRequired};const Aa=({options:t,value:e,onChange:n})=>{const[r,i]=D.useState(!1),a=o=>{n(o),i(!1)};return b.jsxs("div",{className:"relative inline-block w-full",children:[b.jsxs("div",{className:"border border-black-500 rounded-2xl px-4 py-0.5 bg-white cursor-pointer flex justify-between items-center",onClick:()=>i(!r),children:[b.jsx("span",{children:t.find(o=>o.value===e).label}),b.jsx(Sq.TbChevronDown,{className:"w-6 h-6 text-black"})]}),r&&b.jsx("ul",{className:"absolute right-0 z-10 mt-1 min-w-fit w-full bg-white border border-black-500 rounded-2xl shadow-lg text-center overflow-hidden",children:t.map(o=>b.jsx("li",{className:"px-4 py-2 hover:bg-primary-light cursor-pointer",onClick:()=>a(o.value),children:o.label},o.value))})]})};Aa.propTypes={options:z.array.isRequired,value:z.string.isRequired,onChange:z.func.isRequired};const Tx=({profileData:t,handleSettingModal:e,handleChange:n,handleSaveAndClose:r})=>{const[i,a]=D.useState(t.theme||"light"),[o,s]=D.useState(t.isAcceptReminder?"true":"false"),l=[{value:"system",label:"依照系統設定"},{value:"light",label:"淺色"},{value:"dark",label:"深色"}],u=[{value:"false",label:"否"},{value:"true",label:"是"}];return b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("h3",{className:"font-bold text-lg leading-7 text-black dark:text-black-0",children:"設定"}),b.jsx(ni.TbX,{className:"w-8 h-8 cursor-pointer hover:text-alert text-black dark:text-black-0",onClick:e})]}),b.jsxs("div",{children:[b.jsx("p",{className:"mb-1 font-normal text-base leading-6 text-black dark:text-black-0",children:"會員頭像"}),b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("img",{src:t.avatar,alt:"user's avatar",className:"w-12 h-12 rounded-full"}),b.jsxs("div",{className:"space-y-1",children:[b.jsxs("div",{className:"relative inline-block",children:[b.jsx("input",{type:"file",name:"avatar",id:"profile",onChange:n,accept:"image/jpg,image/jpeg,image/png,image/gif",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer hidden"}),b.jsxs("label",{htmlFor:"profile",className:"cursor-pointer bg-primary text-black font-medium text-sm leading-5 py-1 px-2 rounded-lg flex items-center gap-2 hover:bg-primary-dark",children:[b.jsx(kj.TbPhoto,{className:"w-5 h-5"}),"更換頭像"]})]}),b.jsx("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:"您的頭像將會被公開。"})]})]})]}),b.jsxs("div",{className:"flex flex-col gap-1",children:[b.jsx("label",{htmlFor:"name",className:"mb-1 font-normal text-base leading-6 text-black dark:text-black-0",children:"會員名稱"}),b.jsx("input",{type:"text",name:"name",id:"name",placeholder:"會員名稱",className:"px-4 py-1 w-full rounded border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-base leading-6",value:t.name||"",onChange:n})]}),b.jsxs("div",{className:"flex flex-col gap-1",children:[b.jsx("label",{htmlFor:"introduction",className:"mb-1 font-normal text-base leading-6 text-black dark:text-black-0",children:"自我介紹"}),b.jsx("input",{type:"text",name:"introduction",id:"introduction",placeholder:"自我介紹",className:"px-4 py-1 w-full rounded border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-base leading-6",value:t.introduction||"",onChange:n})]}),b.jsx("div",{className:"border"}),b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:"主題色彩"}),b.jsx("div",{className:"relative w-fit text-nowrap",children:b.jsx(Aa,{options:l,value:i,onChange:a})})]}),b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:"接收 Email 提醒"}),b.jsx("div",{className:"relative w-fit",children:b.jsx(Aa,{options:u,value:o,onChange:s})})]}),b.jsx("button",{className:"text-center w-full bg-primary rounded-xl font-medium text-sm leading-5 py-1 hover:bg-primary-dark",onClick:r,children:"儲存"})]})};Tx.propTypes={profileData:z.object.isRequired,handleChange:z.func.isRequired,handleSaveAndClose:z.func.isRequired,handleSettingModal:z.func.isRequired};const Xn=({isOpen:t,children:e})=>{if(!t)return null;const n=M.isValidElement(e)&&e.type===Tx;return b.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:b.jsx("div",{className:"rounded-2xl py-6 px-4 w-11/12 md:w-1/3 h-fit bg-black-50 dark:bg-black-600 max-h-[80vh] overflow-auto space-y-4 ",children:e})})};Xn.propTypes={isOpen:z.bool.isRequired,children:z.node.isRequired};const Ax=({date:t,onSelect:e})=>{const[n]=D.useState(["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]),[r]=D.useState(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),[i,a]=D.useState(null),[o,s]=D.useState(null);D.useEffect(()=>{const g=new Date;s({year:g.getFullYear(),month:g.getMonth(),day:g.getDate()}),a(t?{...t}:{year:g.getFullYear(),month:g.getMonth(),day:g.getDate()})},[t]);const l=()=>{if(!i)return[];const g=[],m=i.year,v=i.month,x=new Date(m,v,1),y=new Date(m,v+1,0),_=x.getDay(),E=y.getDate();for(let T=0;T<_;T++)g.push(null);for(let T=1;T<=E;T++)g.push({value:T,year:m,month:v});return g},u=g=>{c(g)},c=g=>{a(m=>{const v=new Date(m.year,m.month+(g?1:-1),1);return{year:v.getFullYear(),month:v.getMonth(),day:v.getDate()}})},f=g=>{const m={...i,day:g.value,month:g.month,year:g.year};e(m)},h=g=>g&&g.value===o.day&&o.year===g.year&&o.month===g.month;if(!i)return null;const p=`${r[i.month]} ${i.year}`;return b.jsxs("div",{className:"p-4 bg-light dark:bg-black-800 rounded-2xl",children:[b.jsxs("div",{className:"flex justify-between mb-3",children:[b.jsx("button",{onClick:()=>u(!1),children:b.jsx(xp.TbChevronLeft,{className:"w-6 h-6 text-black dark:text-black-0 hover:text-alert"})}),b.jsx("h1",{className:"font-bold text-base leading-6 text-black dark:text-black-0",children:p}),b.jsx("button",{onClick:()=>u(!0),children:b.jsx(xp.TbChevronRight,{className:"w-6 h-6 text-black dark:text-black-0 hover:text-alert"})})]}),b.jsxs("div",{className:"grid grid-cols-7 text-center gap-1",children:[n.map((g,m)=>b.jsx("div",{className:"font-medium text-sm leading-5 text-black dark:text-black-0",children:g},m)),l().map((g,m)=>b.jsx("div",{className:`rounded-full aspect-square flex items-center justify-center cursor-pointer ${h(g)?"bg-primary":"bg-white hover:bg-primary-light"}`,onClick:()=>g&&f(g),children:g?g.value:""},m))]})]})};Ax.propTypes={date:z.object,onSelect:z.func};const tg=({options:t,value:e,onChange:n})=>{const[r,i]=D.useState(!1),a=s=>{n(s),i(!1)},o=t.find(s=>s.id===e);return b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"cursor-pointer",onClick:()=>i(!r),children:e===null?b.jsx("div",{className:"bg-black-200 dark:bg-black-400 border border-black-300 w-10 h-10 rounded-full flex justify-center items-center",children:b.jsx(eg.TbCheck,{className:"w-8 h-8 text-black-700 dark:text-black-0"})}):o&&b.jsx("div",{className:"bg-primary w-10 h-10 rounded-full flex justify-center items-center",children:b.jsx(o.icon,{className:"w-8 h-8"})})}),r&&b.jsx("div",{className:"absolute top-12 z-10 drop-shadow",children:b.jsx("ul",{className:"relative before:content-[''] before:absolute before:top-[-4px] before:left-4 before:w-4 before:h-4 before:bg-black-0 before:rotate-45 before:z-20 bg-black-0 p-4 grid grid-cols-4 min-w-max gap-3 rounded-xl",children:t.map(s=>b.jsxs("li",{className:"w-16 h-fit cursor-pointer flex flex-col items-center gap-1 text-nowrap font-normal text-xs leading-4",onClick:()=>a(s.id),children:[b.jsx("div",{className:"bg-black-200 w-10 h-10 rounded-full flex justify-center items-center hover:bg-primary",children:b.jsx(s.icon,{className:"w-8 h-8"})}),s.name]},s.id))})})]})};tg.propTypes={options:z.array.isRequired,value:z.any,onChange:z.func.isRequired};tg.defaultProps={value:null};const Aj=({habitData:t,handleHabitChange:e,handleAddHabit:n,handleFocus:r,showMonthCalendar:i,calendarRef:a,handleHabitModal:o,habitCategories:s,setHabitData:l,monthCalendarDate:u,handleMonthCalendarSelectDate:c,setCalendarTarget:f,setShowMonthCalendar:h})=>{const[p,g]=D.useState(t.frequency.days||[]);D.useEffect(()=>{g(t.frequency.days||[])},[t.frequency.days]);const m=E=>{const T=p.includes(E)?p.filter(O=>O!==E):[...p,E];g(T),l(O=>({...O,frequency:{...O.frequency,days:T}}))},v=D.useRef(null),x=D.useRef(null),y=()=>{f("startDate"),h(!0)},_=()=>{f("endDate"),h(!0)};return b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"flex justify-between items-center gap-4",children:[b.jsxs("div",{className:"flex items-center gap-4 w-full",children:[b.jsx(tg,{options:s,value:t.category,onChange:E=>e({target:{name:"category",value:E}})}),b.jsx("input",{type:"text",name:"title",placeholder:"輸入習慣名稱",className:"py-1.5 px-4 w-full rounded-xl border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-sm leading-5 dark:bg-black-100 placeholder-black",value:t.title,onChange:e})]}),b.jsx(ni.TbX,{className:"w-6 h-6 hover:text-alert cursor-pointer text-black dark:text-black-0",onClick:o})]}),b.jsxs("div",{className:"flex justify-between gap-4",children:[b.jsx("label",{htmlFor:"frequency",className:"text-nowrap text-black dark:text-black-0",children:"習慣頻率"}),b.jsxs("div",{className:"w-full grid grid-cols-3 gap-3",children:[b.jsxs("div",{children:[b.jsx("input",{type:"radio",name:"frequency",id:"daily",value:"daily",className:"appearance-none hidden",checked:t.frequency.type==="daily",onChange:e}),b.jsx("label",{htmlFor:"daily",className:`font-normal text-sm leading-5 block text-center py-px rounded border ${t.frequency.type==="daily"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"每日"})]}),b.jsxs("div",{children:[b.jsx("input",{type:"radio",name:"frequency",id:"weekly",value:"weekly",className:"appearance-none hidden",checked:t.frequency.type==="weekly",onChange:e}),b.jsx("label",{htmlFor:"weekly",className:`font-normal text-sm leading-5 block text-center py-px rounded border ${t.frequency.type==="weekly"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"每週"})]}),b.jsxs("div",{children:[b.jsx("input",{type:"radio",name:"frequency",id:"specificDays",value:"specificDays",className:"appearance-none hidden",checked:t.frequency.type==="specificDays",onChange:e}),b.jsx("label",{htmlFor:"specificDays",className:`font-normal text-sm leading-5 block text-center py-px rounded border ${t.frequency.type==="specificDays"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"特定日期"})]})]})]}),t.frequency.type==="specificDays"&&b.jsx("div",{className:"grid grid-cols-7 gap-2 md:gap-4",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((E,T)=>b.jsxs("div",{className:"text-center flex flex-col justify-center items-center gap-1 text-black dark:text-black-0",children:[E,b.jsx(eg.TbCheck,{className:`w-10 h-10 rounded-full p-1 border border-black-500 dark:border-black-300 ${p.includes(E)?"bg-primary text-white border-primary dark:border-primary":"text-black dark:text-black-0 hover:bg-primary-light"}`,onClick:()=>m(E)})]},T))}),b.jsxs("div",{className:"flex justify-between gap-4",children:[b.jsx("label",{htmlFor:"type",className:"text-nowrap text-black dark:text-black-0",children:"習慣類型"}),b.jsxs("div",{className:"w-full grid grid-cols-2 gap-3",children:[b.jsxs("div",{children:[b.jsx("input",{type:"radio",name:"type",id:"to-do",value:"to-do",className:"appearance-none hidden",checked:t.type==="to-do",onChange:e}),b.jsx("label",{htmlFor:"to-do",className:`font-normal text-sm leading-5 block text-center py-px rounded border ${t.type==="to-do"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"養成"})]}),b.jsxs("div",{children:[b.jsx("input",{type:"radio",name:"type",id:"not-to-do",value:"not-to-do",className:"appearance-none hidden",checked:t.type==="not-to-do",onChange:e}),b.jsx("label",{htmlFor:"not-to-do",className:`font-normal text-sm leading-5 block text-center py-px rounded border ${t.type==="not-to-do"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"戒除"})]})]})]}),b.jsxs("div",{className:"flex justify-between gap-4",children:[b.jsx("label",{htmlFor:"amount",className:"text-nowrap text-black dark:text-black-0",children:"習慣罰款"}),b.jsxs("div",{className:"flex gap-2 w-full",children:[b.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:"NT$"}),b.jsx("input",{type:"number",name:"amount",id:"amount",className:"px-4 text-end w-full rounded border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-sm leading-5 no-spinner dark:bg-black-100 dark:placeholder-black-400",placeholder:"請輸入未完成習慣的罰款",value:t.amount,onChange:e,min:0,onKeyDown:E=>E.key==="-"&&E.preventDefault()})]})]}),b.jsxs("div",{className:"flex justify-between gap-4 w-full",children:[b.jsx("p",{className:"text-nowrap text-black dark:text-black-0",children:"養成期間"}),b.jsxs("div",{className:"border border-black-300 w-full rounded py-0.5 px-4 flex justify-between items-center bg-black-0 dark:bg-black-100 relative",children:[b.jsx("button",{className:"text-center w-1/2 font-normal text-sm leading-5 text-black",onClick:y,children:t.startDate||"開始日期"}),b.jsx("p",{className:"px-2 text-black dark:text-black-0-300 font-normal text-sm leading-5",children:"-"}),b.jsx("button",{className:"text-center w-1/2 font-normal text-sm leading-5 text-black",onClick:_,children:t.endDate||"結束日期"})]}),b.jsx("input",{type:"text",name:"startDate",id:"startDate",className:"hidden",ref:v,placeholder:"開始日期",value:t.startDate,onFocus:()=>r("startDate"),onChange:e}),b.jsx("input",{type:"text",name:"endDate",id:"endDate",className:"hidden",ref:x,placeholder:"結束日期",value:t.endDate,onFocus:()=>r("endDate"),onChange:e}),i&&b.jsx("div",{ref:a,className:"w-3/5 md:w-1/6 absolute bottom-0 md:-bottom-12 2xl:-bottom-16 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-10",children:b.jsx(Ax,{date:u,onSelect:c})})]}),b.jsx("button",{className:"w-full rounded-lg bg-primary font-medium text-sm leading-5 py-1 hover:bg-primary-dark",onClick:n,children:"養成習慣"})]})};Aj.propTypes={habitData:z.object.isRequired,handleHabitChange:z.func.isRequired,handleAddHabit:z.func.isRequired,handleFocus:z.func.isRequired,showMonthCalendar:z.bool.isRequired,calendarTarget:z.string.isRequired,selectedDate:z.object.isRequired,handleSelectDate:z.func.isRequired,calendarRef:z.object.isRequired,handleHabitModal:z.func.isRequired,habitCategories:z.array.isRequired,setHabitData:z.func.isRequired,monthCalendarDate:z.object.isRequired,handleMonthCalendarSelectDate:z.func.isRequired,setCalendarTarget:z.func.isRequired,setShowMonthCalendar:z.func.isRequired};const Px=({selectedHabit:t,handleDetailModal:e,handlePostModal:n,uncompletedFine:r,handleEditModal:i,habitCategories:a})=>{const o=a.find(f=>f.id===t.category),s=o?o.icon:null,l=f=>{switch(f.type){case"daily":return"每日";case"weekly":return"每週";case"specificDays":return"特定日期";default:return""}},u=[{bottom:0,left:0},{bottom:2,left:-1},{bottom:-1,left:-2},{bottom:2,left:0},{bottom:1,left:-1},{bottom:2,left:-2},{bottom:-2,left:1},{bottom:2,left:1}],c=f=>{const h=f.bottom>=0?`bottom-${f.bottom}`:`-bottom-${Math.abs(f.bottom)}`,p=f.left>=0?`left-${f.left}`:`-left-${Math.abs(f.left)}`;return`${h} ${p}`};return b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsxs("div",{className:"flex gap-4 items-center",children:[b.jsx("div",{className:"w-10 h-10 bg-primary rounded-full flex items-center justify-center",children:s&&b.jsx(s,{className:"w-8 h-8"})}),b.jsx("div",{className:"flex flex-col",children:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("h3",{className:"font-bold text-lg leading-6 text-black dark:text-black-0",children:t.title}),b.jsx(ni.TbPencil,{className:"w-6 h-6 cursor-pointer hover:text-alert text-black dark:text-black-0",onClick:()=>i(t)})]})})]}),b.jsx(ni.TbX,{className:"w-6 h-6 hover:text-alert cursor-pointer text-black dark:text-black-0",onClick:e})]}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("h3",{className:"text-black dark:text-black-0",children:"養成頻率："}),b.jsx("p",{className:"text-black dark:text-black-0",children:l(t.frequency)})]}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("h3",{className:"text-black dark:text-black-0",children:"養成期間："}),b.jsxs("p",{className:"text-black dark:text-black-0",children:[t.startDate,"～",t.endDate]})]}),b.jsx("div",{className:"grid grid-cols-5 md:grid-cols-7 2xl:grid-cols-10 gap-2 md:gap-3 max-h-40 overflow-y-auto overflow-x-hidden",children:t.status.map((f,h)=>b.jsx("div",{className:"border border-black-500 dark:border-black-300 rounded aspect-square relative",children:f.completed&&b.jsx("div",{className:`border-2 border-alert rounded-full aspect-square flex justify-center items-center absolute ${c(u[h%u.length])}`,children:b.jsx("p",{className:"font-lobster font-normal text-sm leading-5 text-alert -rotate-[30deg] p-1 w-12 h-10 flex items-center justify-center",children:new Date(f.date).toLocaleDateString("zh-TW",{month:"2-digit",day:"2-digit"})})})},h))}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("p",{className:"text-black dark:text-black-0",children:"累積存款："}),b.jsxs("p",{className:"text-black dark:text-black-0",children:["NT$ ",r]})]}),b.jsx("button",{className:"py-1 w-full bg-primary hover:bg-primary-dark rounded-lg font-medium text-sm leading-5",onClick:n,children:"發佈貼文"})]})};Px.propTypes={selectedHabit:z.object.isRequired,handleDetailModal:z.func.isRequired,handlePostModal:z.func.isRequired,uncompletedFine:z.number.isRequired,handleEditModal:z.func.isRequired,habitCategories:z.array.isRequired};const Pj=({backgrounds:t,setPostBackground:e,isOpen:n,setIsOpen:r})=>b.jsx("div",{className:`absolute top-16 left-0 right-0 z-10 bg-black-0 border border-black-500 rounded-lg py-2 px-4 ${n?"block":"hidden"}`,children:b.jsx("div",{className:"flex gap-4 overflow-scroll",children:t.map((i,a)=>b.jsx("button",{className:"rounded w-6 h-6 flex-shrink-0 flex-grow-0",style:{backgroundImage:`url(${i})`,backgroundSize:"cover",backgroundPosition:"center"},onClick:()=>{e(i),r(!1)}},a))})});Pj.propTypes={backgrounds:z.array.isRequired,setPostBackground:z.func.isRequired,isOpen:z.bool.isRequired,setIsOpen:z.func.isRequired};const ng=({postContent:t,setPostContent:e,postBackground:n,setPostBackground:r,handleAddPost:i,handlePostModal:a,user:o,isEditMode:s,handleUpdatePost:l})=>{const[u,c]=D.useState([]),[f,h]=D.useState(!1),[p,g]=D.useState(null);return D.useEffect(()=>{(async()=>{const v=await EW();c(v)})()},[]),D.useEffect(()=>{(async()=>{if(o&&o.uid){const v=await Ns(o.uid);g(v)}})()},[o]),b.jsxs("div",{className:"space-y-4 relative",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"w-10 h-10",children:p&&p.avatar?b.jsx("img",{src:p.avatar,alt:"avatar",className:"w-full h-full object-cover rounded-full"}):b.jsx("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:"No Image"})}),b.jsx("h3",{className:"font-bold text-base leading-6 text-black dark:text-black-0",children:p&&p.name?p.name:"Unknown"})]}),b.jsx(ni.TbX,{className:"w-6 h-6 hover:text-alert cursor-pointer text-black dark:text-black-0",onClick:a})]}),b.jsxs("div",{className:"flex justify-between items-center gap-4",children:[b.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:"選擇背景顏色"}),b.jsx("div",{className:"flex gap-4 overflow-scroll",children:u.slice(0,6).map((m,v)=>b.jsx("button",{className:"rounded w-6 h-6 flex-shrink-0 flex-grow-0",style:{backgroundImage:`url(${m})`,backgroundSize:"cover",backgroundPosition:"center"},onClick:()=>r(m)},v))}),b.jsx(ni.TbLayoutGrid,{className:"w-6 h-6 hover:text-alert cursor-pointer text-black dark:text-black-0",onClick:()=>h(!f)})]}),b.jsx(Pj,{backgrounds:u,setPostBackground:r,isOpen:f,setIsOpen:h}),b.jsx("div",{className:"w-full min-h-40 h-fit border rounded-xl bg-black-100 p-2 overflow-auto flex justify-center items-center",style:{backgroundImage:`url(${n})`,backgroundSize:"cover",backgroundPosition:"center"},children:b.jsx("textarea",{className:"w-full h-full bg-transparent border-none resize-none outline-none text-center placeholder-black",placeholder:"輸入貼文內容...",value:t,onChange:m=>e(m.target.value)})}),b.jsxs("div",{className:"flex gap-4",children:[b.jsx("button",{className:"py-1 w-full bg-primary rounded-lg font-medium text-sm leading-5 hover:bg-primary-dark",onClick:s?l:i,children:s?"確認修改":"發佈貼文"}),s&&b.jsx("button",{className:"py-1 w-full bg-black-100 rounded-lg font-medium text-sm leading-5 hover:bg-black-300",onClick:a,children:"取消修改"})]})]})};ng.propTypes={postContent:z.string.isRequired,setPostContent:z.func.isRequired,postBackground:z.string.isRequired,setPostBackground:z.func.isRequired,handleAddPost:z.func.isRequired,handlePostModal:z.func.isRequired,user:z.object,isEditMode:z.bool,handleUpdatePost:z.func};const Ix=({habitData:t,handleHabitChange:e,handleUpdateHabit:n,handleDeleteHabit:r,handleFocus:i,showMonthCalendar:a,calendarRef:o,handleEditModal:s,habitCategories:l,setHabitData:u,monthCalendarDate:c,handleMonthCalendarSelectDate:f,setCalendarTarget:h,setShowMonthCalendar:p})=>{const[g,m]=D.useState(t.frequency.days||[]);D.useEffect(()=>{m(t.frequency.days||[])},[t.frequency.days]);const v=O=>{const k=g.includes(O)?g.filter(S=>S!==O):[...g,O];m(k),u(S=>{const C={...S.frequency,days:k},R=x(S.startDate,S.endDate,C);return{...S,frequency:C,status:R}})},x=(O,k,S)=>{const C=new Date(O),R=new Date(k),N=[];if(S.type==="daily")for(let I=C;I<=R;I.setDate(I.getDate()+1))N.push({date:new Date(I).toDateString(),completed:!1});else if(S.type==="weekly")for(let I=C;I<=R;I.setDate(I.getDate()+7))N.push({date:new Date(I).toDateString(),completed:!1});else if(S.type==="specificDays"){const I=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],P=S.days||[];for(let $=C;$<=R;$.setDate($.getDate()+1))P.includes(I[$.getDay()])&&N.push({date:new Date($).toDateString(),completed:!1})}return N},y=D.useRef(null),_=D.useRef(null),E=()=>{h("startDate"),p(!0)},T=()=>{h("endDate"),p(!0)};return b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"flex justify-between items-center gap-4",children:[b.jsxs("div",{className:"flex items-center gap-4 w-full",children:[b.jsx(tg,{options:l,value:t.category,onChange:O=>e({target:{name:"category",value:O}})}),b.jsx("input",{type:"text",name:"title",placeholder:"輸入習慣名稱",className:"py-1.5 px-4 w-full rounded-xl border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-sm leading-5 dark:bg-black-100 dark:placeholder-black",value:t.title,onChange:e})]}),b.jsx(ni.TbX,{className:"w-6 h-6 hover:text-alert cursor-pointer text-black dark:text-black-0",onClick:s})]}),b.jsxs("div",{className:"flex justify-between gap-4",children:[b.jsx("label",{htmlFor:"frequency",className:"text-nowrap text-black dark:text-black-0",children:"習慣頻率"}),b.jsxs("div",{className:"w-full grid grid-cols-3 gap-3",children:[b.jsxs("div",{children:[b.jsx("input",{type:"radio",name:"frequency",id:"daily",value:"daily",className:"appearance-none hidden",checked:t.frequency.type==="daily",onChange:e}),b.jsx("label",{htmlFor:"daily",className:`font-normal text-sm leading-5 block text-center py-px rounded border ${t.frequency.type==="daily"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"每日"})]}),b.jsxs("div",{children:[b.jsx("input",{type:"radio",name:"frequency",id:"weekly",value:"weekly",className:"appearance-none hidden",checked:t.frequency.type==="weekly",onChange:e}),b.jsx("label",{htmlFor:"weekly",className:`font-normal text-sm leading-5 block text-center py-px rounded border ${t.frequency.type==="weekly"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"每週"})]}),b.jsxs("div",{children:[b.jsx("input",{type:"radio",name:"frequency",id:"specificDays",value:"specificDays",className:"appearance-none hidden",checked:t.frequency.type==="specificDays",onChange:e}),b.jsx("label",{htmlFor:"specificDays",className:`font-normal text-sm leading-5 block text-center py-px rounded border ${t.frequency.type==="specificDays"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"特定日期"})]})]})]}),t.frequency.type==="specificDays"&&b.jsx("div",{className:"grid grid-cols-7 gap-2 md:gap-4",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((O,k)=>b.jsxs("div",{className:"text-center flex flex-col justify-center items-center gap-1 text-black dark:text-black-0",children:[O,b.jsx(eg.TbCheck,{className:`w-10 h-10 rounded-full p-1 border border-black-500 ${g.includes(O)?"bg-primary text-white border-primary":"text-black dark:text-black-0 hover:bg-primary-light"}`,onClick:()=>v(O)})]},k))}),b.jsxs("div",{className:"flex justify-between gap-4",children:[b.jsx("label",{htmlFor:"type",className:"text-nowrap text-black dark:text-black-0",children:"習慣類型"}),b.jsxs("div",{className:"w-full grid grid-cols-2 gap-3",children:[b.jsxs("div",{children:[b.jsx("input",{type:"radio",name:"type",id:"to-do",value:"to-do",className:"appearance-none hidden",checked:t.type==="to-do",onChange:e}),b.jsx("label",{htmlFor:"to-do",className:`font-normal text-sm leading-5 block text-center py-px rounded border ${t.type==="to-do"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"養成"})]}),b.jsxs("div",{children:[b.jsx("input",{type:"radio",name:"type",id:"not-to-do",value:"not-to-do",className:"appearance-none hidden",checked:t.type==="not-to-do",onChange:e}),b.jsx("label",{htmlFor:"not-to-do",className:`font-normal text-sm leading-5 block text-center py-px rounded border ${t.type==="not-to-do"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"戒除"})]})]})]}),b.jsxs("div",{className:"flex justify-between gap-4",children:[b.jsx("label",{htmlFor:"amount",className:"text-nowrap text-black dark:text-black-0",children:"習慣罰款"}),b.jsxs("div",{className:"flex gap-2 w-full",children:[b.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:"NT$"}),b.jsx("input",{type:"number",name:"amount",id:"amount",className:"px-4 text-end w-full rounded border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-sm leading-5 no-spinner dark:bg-black-100 dark:placeholder-black",placeholder:"請輸入未完成習慣的罰款金額",value:t.amount,onChange:e,min:0,onKeyDown:O=>O.key==="-"&&O.preventDefault()})]})]}),b.jsxs("div",{className:"flex justify-between gap-4 w-full",children:[b.jsx("p",{className:"text-nowrap text-black dark:text-black-0",children:"養成期間"}),b.jsxs("div",{className:"border border-black-300 w-full rounded py-0.5 px-4 flex justify-between items-center bg-black-0 dark:bg-black-100 relative",children:[b.jsx("button",{className:"text-center w-1/2 font-normal text-sm leading-5 text-black",onClick:E,children:t.startDate||"開始日期"}),b.jsx("p",{className:"px-2 text-black font-normal text-sm leading-5",children:"-"}),b.jsx("button",{className:"text-center w-1/2 font-normal text-sm leading-5 text-black",onClick:T,children:t.endDate||"結束日期"})]}),b.jsx("input",{type:"text",name:"startDate",id:"startDate",className:"hidden",ref:y,placeholder:"開始日期",value:t.startDate,onFocus:()=>i("startDate"),onChange:e}),b.jsx("input",{type:"text",name:"endDate",id:"endDate",className:"hidden",ref:_,placeholder:"結束日期",value:t.endDate,onFocus:()=>i("endDate"),onChange:e}),a&&b.jsx("div",{ref:o,className:"w-3/5 md:w-1/6 absolute bottom-0 md:-bottom-12 2xl:-bottom-16 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-10",children:b.jsx(Ax,{date:c,onSelect:f})})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsx("button",{className:"w-full py-1 font-normal text-sm leading-5 bg-alert text-white rounded-lg",onClick:r,children:"刪除習慣"}),b.jsx("button",{className:"w-full py-1 font-normal text-sm leading-5 bg-primary rounded-lg hover:bg-primary-dark",onClick:n,children:"更新習慣"})]})]})};Ix.propTypes={habitData:z.object.isRequired,handleHabitChange:z.func.isRequired,handleUpdateHabit:z.func.isRequired,handleDeleteHabit:z.func.isRequired,handleFocus:z.func.isRequired,showMonthCalendar:z.bool.isRequired,calendarTarget:z.string.isRequired,selectedDate:z.object.isRequired,handleSelectDate:z.func.isRequired,calendarRef:z.object.isRequired,handleEditModal:z.func.isRequired,habitCategories:z.array.isRequired,setHabitData:z.func.isRequired,monthCalendarDate:z.object.isRequired,handleMonthCalendarSelectDate:z.func.isRequired,setCalendarTarget:z.func.isRequired,setShowMonthCalendar:z.func.isRequired};const Ox=({habits:t,habitCategories:e,handleDetailClick:n,weekDates:r,handleCheck:i})=>{const a=Ho(),o=s=>{switch(s){case"to-do":return"養成";case"not-to-do":return"戒除";default:return""}};return b.jsx("ul",{className:`space-y-4 mt-2 ${a.pathname==="/home"?"p-4":""}`,children:Array.isArray(t)&&t.map(s=>{const l=new Date;l.setHours(0,0,0,0);const u=new Date(s.endDate);u.setHours(0,0,0,0);const c=u<l,f=e.find(p=>p.id===s.category),h=f?f.icon:null;return b.jsxs("li",{className:`p-4 rounded-2xl ${c?"bg-black-300 hover:bg-black-200 dark:bg-black-800 dark:hover:bg-black-900":"bg-black-50 dark:bg-black-500 hover:bg-black-0 dark:hover:bg-black-600"}`,children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"w-10 h-10 bg-primary rounded-full flex items-center justify-center",children:h&&b.jsx(h,{className:"w-8 h-8"})}),b.jsxs("div",{className:"flex flex-col",children:[b.jsx("h3",{className:"font-bold text-base leading-6 text-black dark:text-black-0",children:s.title}),b.jsxs("div",{className:"flex",children:[b.jsxs("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:[o(s.type),"｜罰款 $",s.amount,"｜已達成 ",s.status.filter(p=>p.completed).length]}),b.jsxs("p",{className:"text-black-500 dark:text-black-300 font-normal text-sm leading-5",children:["/",s.status.length]})]})]})]}),b.jsx("button",{className:"text-black dark:text-black-0 hover:text-alert",onClick:()=>n(s),children:b.jsx(xq.TbCalendarSmile,{className:"w-6 h-6 md:w-8 md:h-8"})})]}),r&&b.jsxs("div",{className:"grid grid-cols-7 gap-y-1",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((p,g)=>b.jsx("div",{className:"text-center text-sm leading-5 md:font-normal md:text-base md:leading-6 text-black dark:text-black-0",children:p},g)),r.map((p,g)=>{const m=s.status.find(v=>new Date(v.date).toDateString()===new Date(p.year,p.month,p.day).toDateString());return b.jsx("div",{className:"flex flex-col items-center",children:m?c&&!m.completed?b.jsx(ni.TbX,{className:"w-10 h-10 md:w-12 md:h-12 border-2 rounded-full bg-alert text-black-0 border-alert cursor-not-allowed"}):b.jsx(eg.TbCheck,{className:`w-10 h-10 md:w-12 md:h-12 border-2 rounded-full ${m.completed?"bg-primary text-black-0 border-primary":"text-black-500 dark:text-black-0 border-black-500 dark:border-black-300"} ${c?"cursor-not-allowed":"cursor-pointer hover:bg-primary-light"}`,onClick:()=>!c&&m&&i(s.id,m.date),disabled:!m}):b.jsx("div",{className:`w-10 h-10 md:w-12 md:h-12 rounded-full cursor-not-allowed border-2 border-dashed ${c?"bg-black-transparent border-black-500":"bg-transparent border-black-300"}`})},g)})]})]},s.id)})})};Ox.propTypes={habits:z.array.isRequired,habitCategories:z.array.isRequired,handleDetailClick:z.func.isRequired,weekDates:z.array,handleCheck:z.func};function kq(){const[t,e]=D.useState(!1),[n,r]=D.useState(!1),[i,a]=D.useState(!1),[o,s]=D.useState(!1),[l,u]=D.useState({category:null,title:"",frequency:{type:"daily"},amount:0,startDate:"",endDate:"",status:[],type:""}),[c,f]=D.useState([]),[h,p]=D.useState(null),[g,m]=D.useState(!1),[v,x]=D.useState(""),[y,_]=D.useState(null),[E,T]=D.useState(""),[O,k]=D.useState(""),[S,C]=D.useState([]),[R,N]=D.useState(0),[I,P]=D.useState(null),[$,F]=D.useState(!1),U=D.useRef(null),{user:B}=D.useContext(Ha),L=[{id:0,name:"生產力",icon:vn.TbRocket},{id:1,name:"個人成長",icon:vn.TbBook},{id:2,name:"運動健身",icon:vn.TbWalk},{id:3,name:"飲食健康",icon:vn.TbBowlChopsticks},{id:4,name:"心靈成長",icon:vn.TbMoodHeart},{id:5,name:"手作興趣",icon:vn.TbHandGrab},{id:6,name:"財務管理",icon:vn.TbCash},{id:7,name:"環境生活",icon:vn.TbPlant}];D.useEffect(()=>{B&&Y()},[B]),D.useEffect(()=>{const te=xe=>{U.current&&!U.current.contains(xe.target)&&m(!1)};return document.addEventListener("mousedown",te),()=>{document.removeEventListener("mousedown",te)}},[]),D.useEffect(()=>{const te=new Date;p({year:te.getFullYear(),month:te.getMonth(),day:te.getDate()}),P({year:te.getFullYear(),month:te.getMonth(),day:te.getDate()})},[]);const q=(te,xe,Te)=>{const Ee=new Date(te),Re=new Date(xe),We=new Date(Te);return Ee.setHours(0,0,0,0),Re.setHours(0,0,0,0),We.setHours(23,59,59,999),Ee>=Re&&Ee<=We},Y=async(te=null)=>{const xe=await Lo(B.uid),Te=te?new Date(te.year,te.month,te.day):new Date,Re=xe.sort((We,qe)=>new Date(qe.createdTime)-new Date(We.createdTime)).filter(We=>q(Te,We.startDate,We.endDate)).sort((We,qe)=>new Date(qe.endDate)-new Date(We.endDate));f(Re||[])},re=()=>{e(!t),u({category:null,title:"",frequency:"daily",amount:0,startDate:"",endDate:"",status:[],type:""})},X=()=>{r(!n)},ne=()=>{a(!i),r(!1)},ge=te=>{u({category:te.category,title:te.title,frequency:te.frequency,amount:te.amount,startDate:te.startDate,endDate:te.endDate,status:te.status,type:te.type}),r(!1),s(!o)},Oe=te=>{const{name:xe,value:Te}=te.target;if(xe==="frequency"){const Ee={type:Te},Re=at(l.startDate,l.endDate,Ee);u(We=>({...We,frequency:Ee,status:Re}))}else u(Ee=>({...Ee,[xe]:Te}))},at=(te,xe,Te)=>{const Ee=new Date(te),Re=new Date(xe),We=[];if(Te.type==="daily")for(let qe=Ee;qe<=Re;qe.setDate(qe.getDate()+1))We.push({date:new Date(qe).toDateString(),completed:!1});else if(Te.type==="weekly")for(let qe=new Date(Ee);qe<=Re;qe.setDate(qe.getDate()+7)){const ar=new Date(qe);ar.setDate(ar.getDate()+(6-ar.getDay())),ar<=Re&&We.push({date:ar.toDateString(),completed:!1})}else if(Te.type==="specificDays"){const qe=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ar=l.frequency.days||[];for(let mt=Ee;mt<=Re;mt.setDate(mt.getDate()+1))ar.includes(qe[mt.getDay()])&&We.push({date:new Date(mt).toDateString(),completed:!1})}return We},Ye=async()=>{if(B){const te=new Date(l.startDate);if(new Date(l.endDate)<=te){alert("結束日期必須晚於開始日期");return}const Te=at(l.startDate,l.endDate,l.frequency),Ee={...l,status:Te};await gW(B.uid,Ee),await Gs(B.uid),await uc(B.uid),Y(),re(),u({category:null,title:"",frequency:{type:"daily"},amount:0,startDate:"",endDate:"",status:[],type:""})}else console.error("User not authenticated")},cn=async()=>{if(B&&y){const te=new Date(l.startDate);if(new Date(l.endDate)<=te){alert("結束日期必須晚於開始日期");return}const Ee={...y,...l,id:y.id};await K0(B.uid,y.id,Ee),await Gs(B.uid),await uc(B.uid);const Re=await sc(B.uid,"habit");await lc(B.uid,"habit",Re),Y(),s(!1),r(!1)}else console.error("User not authenticated or habit not selected")},ie=async()=>{if(B&&y){await mj(B.uid,y.id),await Gs(B.uid),await uc(B.uid);const te=await sc(B.uid,"habit");await lc(B.uid,"habit",te);const xe=await Lo(B.uid);f(xe),xe.filter(Ee=>Ee.category===y.category).length===0&&await yj(B.uid,y.category),Y(),s(!1),r(!1)}else console.error("User not authenticated or habit not selected")},ce=async te=>{p(te),await Y(te),v&&(u(xe=>({...xe,[v]:`${te.year}-${String(te.month+1).padStart(2,"0")}-${String(te.day).padStart(2,"0")}`})),m(!1),x(""))},de=te=>{if(P(te),v){const xe=`${te.year}-${String(te.month+1).padStart(2,"0")}-${String(te.day).padStart(2,"0")}`;u(Te=>({...Te,[v]:xe})),m(!1),x("")}},G=te=>{x(te),m(!0)},Be=async(te,xe)=>{const Te=c.map(Re=>{if(Re.id===te){const We=Re.status.map(qe=>new Date(qe.date).toDateString()===new Date(xe).toDateString()?{...qe,completed:!qe.completed}:qe);return{...Re,status:We}}return Re});f(Te);const Ee=Te.find(Re=>Re.id===te);try{await K0(B.uid,te,Ee),await Lt("habit")}catch(Re){console.error("Error updating habit in Firestore: ",Re)}},we=te=>{const xe=new Date;return xe.setHours(0,0,0,0),te.status.filter(Ee=>{const Re=new Date(Ee.date);return Re.setHours(0,0,0,0),Re<xe&&!Ee.completed}).length*te.amount},Ze=te=>{_(te),N(we(te)),r(!0)},et=async()=>{if(!E.trim()){alert("請輸入貼文內容");return}if(B&&y){const te={content:E,background:O,habitId:y.id};await gj(B.uid,te),F(!0),ne(),T(""),k("")}};if($)return b.jsx(yw,{to:"/posts"});const Lt=async te=>{if(!(!B||!B.uid))try{const xe=await sc(B.uid,te);await lc(B.uid,te,xe)}catch(xe){console.error("Error handling achievements: ",xe)}};return b.jsxs("div",{className:"md:pb-6",children:[b.jsx(Tj,{date:h,onSelect:ce,onWeekChange:C}),b.jsx(Ox,{habits:c,habitCategories:L,handleDetailClick:Ze,weekDates:S,handleCheck:Be}),b.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-full flex items-center justify-center fixed right-4 bottom-20 md:bottom-10 bg-primary hover:bg-primary-dark cursor-pointer",onClick:re,children:b.jsx(Eq.TbPlus,{className:"w-8 h-8 md:w-10 md:h-10 text-black-0"})}),b.jsx(Xn,{isOpen:t,children:b.jsx(Aj,{habitData:l,handleHabitChange:Oe,handleAddHabit:Ye,handleFocus:G,showMonthCalendar:g,calendarRef:U,handleHabitModal:re,habitCategories:L,setHabitData:u,monthCalendarDate:I,handleMonthCalendarSelectDate:de,setCalendarTarget:x,setShowMonthCalendar:m})}),b.jsx(Xn,{isOpen:n,onClose:X,children:b.jsx(Px,{selectedHabit:y,handleDetailModal:X,handlePostModal:ne,uncompletedFine:R,handleEditModal:ge,habitCategories:L})}),b.jsx(Xn,{isOpen:i,onClose:ne,children:b.jsx(ng,{postContent:E,setPostContent:T,postBackground:O,setPostBackground:k,handleAddPost:et,handlePostModal:ne,user:B})}),b.jsx(Xn,{isOpen:o,onClose:ge,children:b.jsx(Ix,{habitData:l,handleHabitChange:Oe,handleUpdateHabit:cn,handleFocus:G,showMonthCalendar:g,calendarTarget:v,calendarRef:U,handleEditModal:ge,handleDeleteHabit:ie,habitCategories:L,setHabitData:u,monthCalendarDate:I,handleMonthCalendarSelectDate:de,setCalendarTarget:x,setShowMonthCalendar:m})})]})}function Ij(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Ij(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ke(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Ij(t))&&(r&&(r+=" "),r+=e);return r}var Tq=Array.isArray,Wn=Tq,Aq=typeof kd=="object"&&kd&&kd.Object===Object&&kd,Oj=Aq,Pq=Oj,Iq=typeof self=="object"&&self&&self.Object===Object&&self,Oq=Pq||Iq||Function("return this")(),oi=Oq,Cq=oi,Rq=Cq.Symbol,Yf=Rq,hT=Yf,Cj=Object.prototype,Nq=Cj.hasOwnProperty,jq=Cj.toString,Eu=hT?hT.toStringTag:void 0;function Dq(t){var e=Nq.call(t,Eu),n=t[Eu];try{t[Eu]=void 0;var r=!0}catch{}var i=jq.call(t);return r&&(e?t[Eu]=n:delete t[Eu]),i}var Mq=Dq,$q=Object.prototype,Lq=$q.toString;function Vq(t){return Lq.call(t)}var Fq=Vq,pT=Yf,Uq=Mq,Bq=Fq,zq="[object Null]",Wq="[object Undefined]",mT=pT?pT.toStringTag:void 0;function qq(t){return t==null?t===void 0?Wq:zq:mT&&mT in Object(t)?Uq(t):Bq(t)}var Bi=qq;function Hq(t){return t!=null&&typeof t=="object"}var zi=Hq,Kq=Bi,Gq=zi,Xq="[object Symbol]";function Yq(t){return typeof t=="symbol"||Gq(t)&&Kq(t)==Xq}var Fl=Yq,Qq=Wn,Jq=Fl,Zq=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,eH=/^\w*$/;function tH(t,e){if(Qq(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Jq(t)?!0:eH.test(t)||!Zq.test(t)||e!=null&&t in Object(e)}var Cx=tH;function nH(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ka=nH;const Ul=Ge(Ka);var rH=Bi,iH=Ka,aH="[object AsyncFunction]",oH="[object Function]",sH="[object GeneratorFunction]",lH="[object Proxy]";function uH(t){if(!iH(t))return!1;var e=rH(t);return e==oH||e==sH||e==aH||e==lH}var Rx=uH;const be=Ge(Rx);var cH=oi,fH=cH["__core-js_shared__"],dH=fH,Qy=dH,gT=function(){var t=/[^.]+$/.exec(Qy&&Qy.keys&&Qy.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function hH(t){return!!gT&&gT in t}var pH=hH,mH=Function.prototype,gH=mH.toString;function yH(t){if(t!=null){try{return gH.call(t)}catch{}try{return t+""}catch{}}return""}var Rj=yH,vH=Rx,bH=pH,_H=Ka,wH=Rj,xH=/[\\^$.*+?()[\]{}|]/g,EH=/^\[object .+?Constructor\]$/,SH=Function.prototype,kH=Object.prototype,TH=SH.toString,AH=kH.hasOwnProperty,PH=RegExp("^"+TH.call(AH).replace(xH,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function IH(t){if(!_H(t)||bH(t))return!1;var e=vH(t)?PH:EH;return e.test(wH(t))}var OH=IH;function CH(t,e){return t==null?void 0:t[e]}var RH=CH,NH=OH,jH=RH;function DH(t,e){var n=jH(t,e);return NH(n)?n:void 0}var Zo=DH,MH=Zo,$H=MH(Object,"create"),rg=$H,yT=rg;function LH(){this.__data__=yT?yT(null):{},this.size=0}var VH=LH;function FH(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var UH=FH,BH=rg,zH="__lodash_hash_undefined__",WH=Object.prototype,qH=WH.hasOwnProperty;function HH(t){var e=this.__data__;if(BH){var n=e[t];return n===zH?void 0:n}return qH.call(e,t)?e[t]:void 0}var KH=HH,GH=rg,XH=Object.prototype,YH=XH.hasOwnProperty;function QH(t){var e=this.__data__;return GH?e[t]!==void 0:YH.call(e,t)}var JH=QH,ZH=rg,e7="__lodash_hash_undefined__";function t7(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ZH&&e===void 0?e7:e,this}var n7=t7,r7=VH,i7=UH,a7=KH,o7=JH,s7=n7;function Bl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Bl.prototype.clear=r7;Bl.prototype.delete=i7;Bl.prototype.get=a7;Bl.prototype.has=o7;Bl.prototype.set=s7;var l7=Bl;function u7(){this.__data__=[],this.size=0}var c7=u7;function f7(t,e){return t===e||t!==t&&e!==e}var Nx=f7,d7=Nx;function h7(t,e){for(var n=t.length;n--;)if(d7(t[n][0],e))return n;return-1}var ig=h7,p7=ig,m7=Array.prototype,g7=m7.splice;function y7(t){var e=this.__data__,n=p7(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():g7.call(e,n,1),--this.size,!0}var v7=y7,b7=ig;function _7(t){var e=this.__data__,n=b7(e,t);return n<0?void 0:e[n][1]}var w7=_7,x7=ig;function E7(t){return x7(this.__data__,t)>-1}var S7=E7,k7=ig;function T7(t,e){var n=this.__data__,r=k7(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var A7=T7,P7=c7,I7=v7,O7=w7,C7=S7,R7=A7;function zl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}zl.prototype.clear=P7;zl.prototype.delete=I7;zl.prototype.get=O7;zl.prototype.has=C7;zl.prototype.set=R7;var ag=zl,N7=Zo,j7=oi,D7=N7(j7,"Map"),jx=D7,vT=l7,M7=ag,$7=jx;function L7(){this.size=0,this.__data__={hash:new vT,map:new($7||M7),string:new vT}}var V7=L7;function F7(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var U7=F7,B7=U7;function z7(t,e){var n=t.__data__;return B7(e)?n[typeof e=="string"?"string":"hash"]:n.map}var og=z7,W7=og;function q7(t){var e=W7(this,t).delete(t);return this.size-=e?1:0,e}var H7=q7,K7=og;function G7(t){return K7(this,t).get(t)}var X7=G7,Y7=og;function Q7(t){return Y7(this,t).has(t)}var J7=Q7,Z7=og;function eK(t,e){var n=Z7(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var tK=eK,nK=V7,rK=H7,iK=X7,aK=J7,oK=tK;function Wl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Wl.prototype.clear=nK;Wl.prototype.delete=rK;Wl.prototype.get=iK;Wl.prototype.has=aK;Wl.prototype.set=oK;var Dx=Wl,Nj=Dx,sK="Expected a function";function Mx(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(sK);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=t.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(Mx.Cache||Nj),n}Mx.Cache=Nj;var jj=Mx;const lK=Ge(jj);var uK=jj,cK=500;function fK(t){var e=uK(t,function(r){return n.size===cK&&n.clear(),r}),n=e.cache;return e}var dK=fK,hK=dK,pK=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,mK=/\\(\\)?/g,gK=hK(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(pK,function(n,r,i,a){e.push(i?a.replace(mK,"$1"):r||n)}),e}),yK=gK;function vK(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var $x=vK,bT=Yf,bK=$x,_K=Wn,wK=Fl,xK=1/0,_T=bT?bT.prototype:void 0,wT=_T?_T.toString:void 0;function Dj(t){if(typeof t=="string")return t;if(_K(t))return bK(t,Dj)+"";if(wK(t))return wT?wT.call(t):"";var e=t+"";return e=="0"&&1/t==-xK?"-0":e}var EK=Dj,SK=EK;function kK(t){return t==null?"":SK(t)}var Mj=kK,TK=Wn,AK=Cx,PK=yK,IK=Mj;function OK(t,e){return TK(t)?t:AK(t,e)?[t]:PK(IK(t))}var $j=OK,CK=Fl,RK=1/0;function NK(t){if(typeof t=="string"||CK(t))return t;var e=t+"";return e=="0"&&1/t==-RK?"-0":e}var sg=NK,jK=$j,DK=sg;function MK(t,e){e=jK(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[DK(e[n++])];return n&&n==r?t:void 0}var Lx=MK,$K=Lx;function LK(t,e,n){var r=t==null?void 0:$K(t,e);return r===void 0?n:r}var Lj=LK;const er=Ge(Lj);function VK(t){return t==null}var FK=VK;const Pe=Ge(FK);var UK=Bi,BK=Wn,zK=zi,WK="[object String]";function qK(t){return typeof t=="string"||!BK(t)&&zK(t)&&UK(t)==WK}var HK=qK;const Qf=Ge(HK);var Vj={exports:{}},Xe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qt=typeof Symbol=="function"&&Symbol.for,Vx=Qt?Symbol.for("react.element"):60103,Fx=Qt?Symbol.for("react.portal"):60106,lg=Qt?Symbol.for("react.fragment"):60107,ug=Qt?Symbol.for("react.strict_mode"):60108,cg=Qt?Symbol.for("react.profiler"):60114,fg=Qt?Symbol.for("react.provider"):60109,dg=Qt?Symbol.for("react.context"):60110,Ux=Qt?Symbol.for("react.async_mode"):60111,hg=Qt?Symbol.for("react.concurrent_mode"):60111,pg=Qt?Symbol.for("react.forward_ref"):60112,mg=Qt?Symbol.for("react.suspense"):60113,KK=Qt?Symbol.for("react.suspense_list"):60120,gg=Qt?Symbol.for("react.memo"):60115,yg=Qt?Symbol.for("react.lazy"):60116,GK=Qt?Symbol.for("react.block"):60121,XK=Qt?Symbol.for("react.fundamental"):60117,YK=Qt?Symbol.for("react.responder"):60118,QK=Qt?Symbol.for("react.scope"):60119;function ir(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Vx:switch(t=t.type,t){case Ux:case hg:case lg:case cg:case ug:case mg:return t;default:switch(t=t&&t.$$typeof,t){case dg:case pg:case yg:case gg:case fg:return t;default:return e}}case Fx:return e}}}function Fj(t){return ir(t)===hg}Xe.AsyncMode=Ux;Xe.ConcurrentMode=hg;Xe.ContextConsumer=dg;Xe.ContextProvider=fg;Xe.Element=Vx;Xe.ForwardRef=pg;Xe.Fragment=lg;Xe.Lazy=yg;Xe.Memo=gg;Xe.Portal=Fx;Xe.Profiler=cg;Xe.StrictMode=ug;Xe.Suspense=mg;Xe.isAsyncMode=function(t){return Fj(t)||ir(t)===Ux};Xe.isConcurrentMode=Fj;Xe.isContextConsumer=function(t){return ir(t)===dg};Xe.isContextProvider=function(t){return ir(t)===fg};Xe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Vx};Xe.isForwardRef=function(t){return ir(t)===pg};Xe.isFragment=function(t){return ir(t)===lg};Xe.isLazy=function(t){return ir(t)===yg};Xe.isMemo=function(t){return ir(t)===gg};Xe.isPortal=function(t){return ir(t)===Fx};Xe.isProfiler=function(t){return ir(t)===cg};Xe.isStrictMode=function(t){return ir(t)===ug};Xe.isSuspense=function(t){return ir(t)===mg};Xe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===lg||t===hg||t===cg||t===ug||t===mg||t===KK||typeof t=="object"&&t!==null&&(t.$$typeof===yg||t.$$typeof===gg||t.$$typeof===fg||t.$$typeof===dg||t.$$typeof===pg||t.$$typeof===XK||t.$$typeof===YK||t.$$typeof===QK||t.$$typeof===GK)};Xe.typeOf=ir;Vj.exports=Xe;var G0=Vj.exports,JK=Bi,ZK=zi,eG="[object Number]";function tG(t){return typeof t=="number"||ZK(t)&&JK(t)==eG}var Uj=tG;const nG=Ge(Uj);var rG=Uj;function iG(t){return rG(t)&&t!=+t}var aG=iG;const Jf=Ge(aG);var In=function(e){return e===0?0:e>0?1:-1},go=function(e){return Qf(e)&&e.indexOf("%")===e.length-1},Z=function(e){return nG(e)&&!Jf(e)},Bt=function(e){return Z(e)||Qf(e)},oG=0,Zf=function(e){var n=++oG;return"".concat(e||"").concat(n)},On=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Z(e)&&!Qf(e))return r;var a;if(go(e)){var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return Jf(a)&&(a=r),i&&a>n&&(a=n),a},ua=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},sG=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},ea=function(e,n){return Z(e)&&Z(n)?function(r){return e+r*(n-e)}:function(){return n}};function X0(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):er(r,e))===n})}function Xs(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Y0(t){"@babel/helpers - typeof";return Y0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y0(t)}var lG=["viewBox","children"],uG=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],xT=["points","pathLength"],Jy={svg:lG,polygon:xT,polyline:xT},Bx=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Ep=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(D.isValidElement(e)&&(r=e.props),!Ul(r))return null;var i={};return Object.keys(r).forEach(function(a){Bx.includes(a)&&(i[a]=n||function(o){return r[a](r,o)})}),i},cG=function(e,n,r){return function(i){return e(n,r,i),null}},Vo=function(e,n,r){if(!Ul(e)||Y0(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];Bx.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=cG(o,n,r))}),i},fG=["children"],dG=["children"];function ET(t,e){if(t==null)return{};var n=hG(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hG(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var ST={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},Ti=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},kT=null,Zy=null,zx=function t(e){if(e===kT&&Array.isArray(Zy))return Zy;var n=[];return D.Children.forEach(e,function(r){Pe(r)||(G0.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Zy=n,kT=e,n};function yr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Ti(i)}):r=[Ti(e)],zx(t).forEach(function(i){var a=er(i,"type.displayName")||er(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function Gn(t,e){var n=yr(t,e);return n&&n[0]}var TT=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Z(r)||r<=0||!Z(i)||i<=0)},pG=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],mG=function(e){return e&&e.type&&Qf(e.type)&&pG.indexOf(e.type)>=0},gG=function(e,n,r,i){var a,o=(a=Jy==null?void 0:Jy[i])!==null&&a!==void 0?a:[];return!be(e)&&(i&&o.includes(n)||uG.includes(n))||r&&Bx.includes(n)},me=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(D.isValidElement(e)&&(i=e.props),!Ul(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;gG((s=i)===null||s===void 0?void 0:s[o],o,n,r)&&(a[o]=i[o])}),a},Q0=function t(e,n){if(e===n)return!0;var r=D.Children.count(e);if(r!==D.Children.count(n))return!1;if(r===0)return!0;if(r===1)return AT(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!AT(a,o))return!1}return!0},AT=function(e,n){if(Pe(e)&&Pe(n))return!0;if(!Pe(e)&&!Pe(n)){var r=e.props||{},i=r.children,a=ET(r,fG),o=n.props||{},s=o.children,l=ET(o,dG);return i&&s?Xs(a,l)&&Q0(i,s):!i&&!s?Xs(a,l):!1}return!1},PT=function(e,n){var r=[],i={};return zx(e).forEach(function(a,o){if(mG(a))r.push(a);else if(a){var s=Ti(a.type),l=n[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var f=u(a,s,o);r.push(f),i[s]=!0}}}),r},yG=function(e){var n=e&&e.type;return n&&ST[n]?ST[n]:null},vG=function(e,n){return zx(n).indexOf(e)},bG=["children","width","height","viewBox","className","style","title","desc"];function J0(){return J0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},J0.apply(this,arguments)}function _G(t,e){if(t==null)return{};var n=wG(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wG(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Z0(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,o=t.style,s=t.title,l=t.desc,u=_G(t,bG),c=i||{width:n,height:r,x:0,y:0},f=ke("recharts-surface",a);return M.createElement("svg",J0({},me(u,!0,"svg"),{className:f,width:n,height:r,style:o,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),M.createElement("title",null,s),M.createElement("desc",null,l),e)}var xG=["children","className"];function eb(){return eb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eb.apply(this,arguments)}function EG(t,e){if(t==null)return{};var n=SG(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function SG(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var He=M.forwardRef(function(t,e){var n=t.children,r=t.className,i=EG(t,xG),a=ke("recharts-layer",r);return M.createElement("g",eb({className:a},me(i,!0),{ref:e}),n)}),Rr=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function kG(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var TG=kG,AG=TG;function PG(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:AG(t,e,n)}var IG=PG,OG="\\ud800-\\udfff",CG="\\u0300-\\u036f",RG="\\ufe20-\\ufe2f",NG="\\u20d0-\\u20ff",jG=CG+RG+NG,DG="\\ufe0e\\ufe0f",MG="\\u200d",$G=RegExp("["+MG+OG+jG+DG+"]");function LG(t){return $G.test(t)}var Bj=LG;function VG(t){return t.split("")}var FG=VG,zj="\\ud800-\\udfff",UG="\\u0300-\\u036f",BG="\\ufe20-\\ufe2f",zG="\\u20d0-\\u20ff",WG=UG+BG+zG,qG="\\ufe0e\\ufe0f",HG="["+zj+"]",tb="["+WG+"]",nb="\\ud83c[\\udffb-\\udfff]",KG="(?:"+tb+"|"+nb+")",Wj="[^"+zj+"]",qj="(?:\\ud83c[\\udde6-\\uddff]){2}",Hj="[\\ud800-\\udbff][\\udc00-\\udfff]",GG="\\u200d",Kj=KG+"?",Gj="["+qG+"]?",XG="(?:"+GG+"(?:"+[Wj,qj,Hj].join("|")+")"+Gj+Kj+")*",YG=Gj+Kj+XG,QG="(?:"+[Wj+tb+"?",tb,qj,Hj,HG].join("|")+")",JG=RegExp(nb+"(?="+nb+")|"+QG+YG,"g");function ZG(t){return t.match(JG)||[]}var eX=ZG,tX=FG,nX=Bj,rX=eX;function iX(t){return nX(t)?rX(t):tX(t)}var aX=iX,oX=IG,sX=Bj,lX=aX,uX=Mj;function cX(t){return function(e){e=uX(e);var n=sX(e)?lX(e):void 0,r=n?n[0]:e.charAt(0),i=n?oX(n,1).join(""):e.slice(1);return r[t]()+i}}var fX=cX,dX=fX,hX=dX("toUpperCase"),pX=hX;const vg=Ge(pX);function ot(t){return function(){return t}}const Xj=Math.cos,Sp=Math.sin,$r=Math.sqrt,kp=Math.PI,bg=2*kp,rb=Math.PI,ib=2*rb,so=1e-6,mX=ib-so;function Yj(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function gX(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Yj;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class yX{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Yj:gX(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=r-e,u=i-n,c=o-e,f=s-n,h=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>so)if(!(Math.abs(f*l-u*c)>so)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-o,g=i-s,m=l*l+u*u,v=p*p+g*g,x=Math.sqrt(m),y=Math.sqrt(h),_=a*Math.tan((rb-Math.acos((m+h-v)/(2*x*y)))/2),E=_/y,T=_/x;Math.abs(E-1)>so&&this._append`L${e+E*c},${n+E*f}`,this._append`A${a},${a},0,0,${+(f*p>c*g)},${this._x1=e+T*l},${this._y1=n+T*u}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,c=n+l,f=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>so||Math.abs(this._y1-c)>so)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%ib+ib),h>mX?this._append`A${r},${r},0,1,${f},${e-s},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:h>so&&this._append`A${r},${r},0,${+(h>=rb)},${f},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Wx(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new yX(e)}function qx(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Qj(t){this._context=t}Qj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function _g(t){return new Qj(t)}function Jj(t){return t[0]}function Zj(t){return t[1]}function eD(t,e){var n=ot(!0),r=null,i=_g,a=null,o=Wx(s);t=typeof t=="function"?t:t===void 0?Jj:ot(t),e=typeof e=="function"?e:e===void 0?Zj:ot(e);function s(l){var u,c=(l=qx(l)).length,f,h=!1,p;for(r==null&&(a=i(p=o())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(f,u,l),+e(f,u,l));if(p)return a=null,p+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:ot(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:ot(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:ot(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),s):r},s}function Qd(t,e,n){var r=null,i=ot(!0),a=null,o=_g,s=null,l=Wx(u);t=typeof t=="function"?t:t===void 0?Jj:ot(+t),e=typeof e=="function"?e:ot(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?Zj:ot(+n);function u(f){var h,p,g,m=(f=qx(f)).length,v,x=!1,y,_=new Array(m),E=new Array(m);for(a==null&&(s=o(y=l())),h=0;h<=m;++h){if(!(h<m&&i(v=f[h],h,f))===x)if(x=!x)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),g=h-1;g>=p;--g)s.point(_[g],E[g]);s.lineEnd(),s.areaEnd()}x&&(_[h]=+t(v,h,f),E[h]=+e(v,h,f),s.point(r?+r(v,h,f):_[h],n?+n(v,h,f):E[h]))}if(y)return s=null,y+""||null}function c(){return eD().defined(i).curve(o).context(a)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:ot(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:ot(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:ot(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:ot(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:ot(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:ot(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:ot(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,a!=null&&(s=o(a)),u):o},u.context=function(f){return arguments.length?(f==null?a=s=null:s=o(a=f),u):a},u}class tD{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function vX(t){return new tD(t,!0)}function bX(t){return new tD(t,!1)}const Hx={draw(t,e){const n=$r(e/kp);t.moveTo(n,0),t.arc(0,0,n,0,bg)}},_X={draw(t,e){const n=$r(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},nD=$r(1/3),wX=nD*2,xX={draw(t,e){const n=$r(e/wX),r=n*nD;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},EX={draw(t,e){const n=$r(e),r=-n/2;t.rect(r,r,n,n)}},SX=.8908130915292852,rD=Sp(kp/10)/Sp(7*kp/10),kX=Sp(bg/10)*rD,TX=-Xj(bg/10)*rD,AX={draw(t,e){const n=$r(e*SX),r=kX*n,i=TX*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=bg*a/5,s=Xj(o),l=Sp(o);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},ev=$r(3),PX={draw(t,e){const n=-$r(e/(ev*3));t.moveTo(0,n*2),t.lineTo(-ev*n,-n),t.lineTo(ev*n,-n),t.closePath()}},or=-.5,sr=$r(3)/2,ab=1/$r(12),IX=(ab/2+1)*3,OX={draw(t,e){const n=$r(e/IX),r=n/2,i=n*ab,a=r,o=n*ab+n,s=-a,l=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(or*r-sr*i,sr*r+or*i),t.lineTo(or*a-sr*o,sr*a+or*o),t.lineTo(or*s-sr*l,sr*s+or*l),t.lineTo(or*r+sr*i,or*i-sr*r),t.lineTo(or*a+sr*o,or*o-sr*a),t.lineTo(or*s+sr*l,or*l-sr*s),t.closePath()}};function CX(t,e){let n=null,r=Wx(i);t=typeof t=="function"?t:ot(t||Hx),e=typeof e=="function"?e:ot(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:ot(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:ot(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Tp(){}function Ap(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function iD(t){this._context=t}iD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ap(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ap(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function RX(t){return new iD(t)}function aD(t){this._context=t}aD.prototype={areaStart:Tp,areaEnd:Tp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Ap(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function NX(t){return new aD(t)}function oD(t){this._context=t}oD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Ap(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function jX(t){return new oD(t)}function sD(t){this._context=t}sD.prototype={areaStart:Tp,areaEnd:Tp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function DX(t){return new sD(t)}function IT(t){return t<0?-1:1}function OT(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(IT(a)+IT(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function CT(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function tv(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*n,a,o)}function Pp(t){this._context=t}Pp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:tv(this,this._t0,CT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,tv(this,CT(this,n=OT(this,t,e)),n);break;default:tv(this,this._t0,n=OT(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function lD(t){this._context=new uD(t)}(lD.prototype=Object.create(Pp.prototype)).point=function(t,e){Pp.prototype.point.call(this,e,t)};function uD(t){this._context=t}uD.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function MX(t){return new Pp(t)}function $X(t){return new lD(t)}function cD(t){this._context=t}cD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=RT(t),i=RT(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function RT(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function LX(t){return new cD(t)}function wg(t,e){this._context=t,this._t=e}wg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function VX(t){return new wg(t,.5)}function FX(t){return new wg(t,0)}function UX(t){return new wg(t,1)}function dl(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,s=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function ob(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function BX(t,e){return t[e]}function zX(t){const e=[];return e.key=t,e}function WX(){var t=ot([]),e=ob,n=dl,r=BX;function i(a){var o=Array.from(t.apply(this,arguments),zX),s,l=o.length,u=-1,c;for(const f of a)for(s=0,++u;s<l;++s)(o[s][u]=[0,+r(f,o[s].key,u,a)]).data=f;for(s=0,c=qx(e(o));s<l;++s)o[c[s]].index=s;return n(o,c),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:ot(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:ot(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?ob:typeof a=="function"?a:ot(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??dl,i):n},i}function qX(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}dl(t,e)}}function HX(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o)s+=t[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}dl(t,e)}}function KX(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,l=0,u=0;s<o;++s){for(var c=t[e[s]],f=c[r][1]||0,h=c[r-1][1]||0,p=(f-h)/2,g=0;g<s;++g){var m=t[e[g]],v=m[r][1]||0,x=m[r-1][1]||0;p+=v-x}l+=f,u+=p*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,dl(t,e)}}function Hc(t){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hc(t)}var GX=["type","size","sizeType"];function sb(){return sb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sb.apply(this,arguments)}function NT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NT(Object(n),!0).forEach(function(r){XX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XX(t,e,n){return e=YX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YX(t){var e=QX(t,"string");return Hc(e)=="symbol"?e:String(e)}function QX(t,e){if(Hc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Hc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JX(t,e){if(t==null)return{};var n=ZX(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ZX(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var fD={symbolCircle:Hx,symbolCross:_X,symbolDiamond:xX,symbolSquare:EX,symbolStar:AX,symbolTriangle:PX,symbolWye:OX},eY=Math.PI/180,tY=function(e){var n="symbol".concat(vg(e));return fD[n]||Hx},nY=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*eY;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},rY=function(e,n){fD["symbol".concat(vg(e))]=n},Kx=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,o=e.sizeType,s=o===void 0?"area":o,l=JX(e,GX),u=jT(jT({},l),{},{type:r,size:a,sizeType:s}),c=function(){var v=tY(r),x=CX().type(v).size(nY(a,s,r));return x()},f=u.className,h=u.cx,p=u.cy,g=me(u,!0);return h===+h&&p===+p&&a===+a?M.createElement("path",sb({},g,{className:ke("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:c()})):null};Kx.registerSymbol=rY;function hl(t){"@babel/helpers - typeof";return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hl(t)}function lb(){return lb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lb.apply(this,arguments)}function DT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DT(Object(n),!0).forEach(function(r){Kc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hD(r.key),r)}}function sY(t,e,n){return e&&oY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lY(t,e,n){return e=Ip(e),uY(t,dD()?Reflect.construct(e,n||[],Ip(t).constructor):e.apply(t,n))}function uY(t,e){if(e&&(hl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cY(t)}function cY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dD=function(){return!!t})()}function Ip(t){return Ip=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ip(t)}function fY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ub(t,e)}function ub(t,e){return ub=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ub(t,e)}function Kc(t,e,n){return e=hD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hD(t){var e=dY(t,"string");return hl(e)=="symbol"?e:String(e)}function dY(t,e){if(hl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lr=32,Gx=function(t){fY(e,t);function e(){return aY(this,e),lY(this,e,arguments)}return sY(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=lr/2,o=lr/6,s=lr/3,l=r.inactive?i:r.color;if(r.type==="plainline")return M.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:lr,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return M.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(lr,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return M.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(lr/8,"h").concat(lr,"v").concat(lr*3/4,"h").concat(-lr,"z"),className:"recharts-legend-icon"});if(M.isValidElement(r.legendIcon)){var u=iY({},r);return delete u.legendIcon,M.cloneElement(r.legendIcon,u)}return M.createElement(Kx,{fill:l,cx:a,cy:a,size:lr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:lr,height:lr},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,g){var m=p.formatter||l,v=ke(Kc(Kc({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var x=be(p.value)?null:p.value;Rr(!be(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=p.inactive?u:p.color;return M.createElement("li",lb({className:v,style:f,key:"legend-item-".concat(g)},Vo(r.props,p,g)),M.createElement(Z0,{width:o,height:o,viewBox:c,style:h},r.renderIcon(p)),M.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},m?m(x,p,g):x))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,o=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return M.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}]),e}(D.PureComponent);Kc(Gx,"displayName","Legend");Kc(Gx,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var hY=ag;function pY(){this.__data__=new hY,this.size=0}var mY=pY;function gY(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var yY=gY;function vY(t){return this.__data__.get(t)}var bY=vY;function _Y(t){return this.__data__.has(t)}var wY=_Y,xY=ag,EY=jx,SY=Dx,kY=200;function TY(t,e){var n=this.__data__;if(n instanceof xY){var r=n.__data__;if(!EY||r.length<kY-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new SY(r)}return n.set(t,e),this.size=n.size,this}var AY=TY,PY=ag,IY=mY,OY=yY,CY=bY,RY=wY,NY=AY;function ql(t){var e=this.__data__=new PY(t);this.size=e.size}ql.prototype.clear=IY;ql.prototype.delete=OY;ql.prototype.get=CY;ql.prototype.has=RY;ql.prototype.set=NY;var pD=ql,jY="__lodash_hash_undefined__";function DY(t){return this.__data__.set(t,jY),this}var MY=DY;function $Y(t){return this.__data__.has(t)}var LY=$Y,VY=Dx,FY=MY,UY=LY;function Op(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new VY;++e<n;)this.add(t[e])}Op.prototype.add=Op.prototype.push=FY;Op.prototype.has=UY;var mD=Op;function BY(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var gD=BY;function zY(t,e){return t.has(e)}var yD=zY,WY=mD,qY=gD,HY=yD,KY=1,GY=2;function XY(t,e,n,r,i,a){var o=n&KY,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(t),c=a.get(e);if(u&&c)return u==e&&c==t;var f=-1,h=!0,p=n&GY?new WY:void 0;for(a.set(t,e),a.set(e,t);++f<s;){var g=t[f],m=e[f];if(r)var v=o?r(m,g,f,e,t,a):r(g,m,f,t,e,a);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!qY(e,function(x,y){if(!HY(p,y)&&(g===x||i(g,x,n,r,a)))return p.push(y)})){h=!1;break}}else if(!(g===m||i(g,m,n,r,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var vD=XY,YY=oi,QY=YY.Uint8Array,JY=QY;function ZY(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var eQ=ZY;function tQ(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var Xx=tQ,MT=Yf,$T=JY,nQ=Nx,rQ=vD,iQ=eQ,aQ=Xx,oQ=1,sQ=2,lQ="[object Boolean]",uQ="[object Date]",cQ="[object Error]",fQ="[object Map]",dQ="[object Number]",hQ="[object RegExp]",pQ="[object Set]",mQ="[object String]",gQ="[object Symbol]",yQ="[object ArrayBuffer]",vQ="[object DataView]",LT=MT?MT.prototype:void 0,nv=LT?LT.valueOf:void 0;function bQ(t,e,n,r,i,a,o){switch(n){case vQ:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case yQ:return!(t.byteLength!=e.byteLength||!a(new $T(t),new $T(e)));case lQ:case uQ:case dQ:return nQ(+t,+e);case cQ:return t.name==e.name&&t.message==e.message;case hQ:case mQ:return t==e+"";case fQ:var s=iQ;case pQ:var l=r&oQ;if(s||(s=aQ),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=sQ,o.set(t,e);var c=rQ(s(t),s(e),r,i,a,o);return o.delete(t),c;case gQ:if(nv)return nv.call(t)==nv.call(e)}return!1}var _Q=bQ;function wQ(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var bD=wQ,xQ=bD,EQ=Wn;function SQ(t,e,n){var r=e(t);return EQ(t)?r:xQ(r,n(t))}var kQ=SQ;function TQ(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var o=t[n];e(o,n,t)&&(a[i++]=o)}return a}var AQ=TQ;function PQ(){return[]}var IQ=PQ,OQ=AQ,CQ=IQ,RQ=Object.prototype,NQ=RQ.propertyIsEnumerable,VT=Object.getOwnPropertySymbols,jQ=VT?function(t){return t==null?[]:(t=Object(t),OQ(VT(t),function(e){return NQ.call(t,e)}))}:CQ,DQ=jQ;function MQ(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var $Q=MQ,LQ=Bi,VQ=zi,FQ="[object Arguments]";function UQ(t){return VQ(t)&&LQ(t)==FQ}var BQ=UQ,FT=BQ,zQ=zi,_D=Object.prototype,WQ=_D.hasOwnProperty,qQ=_D.propertyIsEnumerable,HQ=FT(function(){return arguments}())?FT:function(t){return zQ(t)&&WQ.call(t,"callee")&&!qQ.call(t,"callee")},Yx=HQ,Cp={exports:{}};function KQ(){return!1}var GQ=KQ;Cp.exports;(function(t,e){var n=oi,r=GQ,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(Cp,Cp.exports);var wD=Cp.exports,XQ=9007199254740991,YQ=/^(?:0|[1-9]\d*)$/;function QQ(t,e){var n=typeof t;return e=e??XQ,!!e&&(n=="number"||n!="symbol"&&YQ.test(t))&&t>-1&&t%1==0&&t<e}var Qx=QQ,JQ=9007199254740991;function ZQ(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=JQ}var Jx=ZQ,eJ=Bi,tJ=Jx,nJ=zi,rJ="[object Arguments]",iJ="[object Array]",aJ="[object Boolean]",oJ="[object Date]",sJ="[object Error]",lJ="[object Function]",uJ="[object Map]",cJ="[object Number]",fJ="[object Object]",dJ="[object RegExp]",hJ="[object Set]",pJ="[object String]",mJ="[object WeakMap]",gJ="[object ArrayBuffer]",yJ="[object DataView]",vJ="[object Float32Array]",bJ="[object Float64Array]",_J="[object Int8Array]",wJ="[object Int16Array]",xJ="[object Int32Array]",EJ="[object Uint8Array]",SJ="[object Uint8ClampedArray]",kJ="[object Uint16Array]",TJ="[object Uint32Array]",ft={};ft[vJ]=ft[bJ]=ft[_J]=ft[wJ]=ft[xJ]=ft[EJ]=ft[SJ]=ft[kJ]=ft[TJ]=!0;ft[rJ]=ft[iJ]=ft[gJ]=ft[aJ]=ft[yJ]=ft[oJ]=ft[sJ]=ft[lJ]=ft[uJ]=ft[cJ]=ft[fJ]=ft[dJ]=ft[hJ]=ft[pJ]=ft[mJ]=!1;function AJ(t){return nJ(t)&&tJ(t.length)&&!!ft[eJ(t)]}var PJ=AJ;function IJ(t){return function(e){return t(e)}}var xD=IJ,Rp={exports:{}};Rp.exports;(function(t,e){var n=Oj,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,o=a&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(Rp,Rp.exports);var OJ=Rp.exports,CJ=PJ,RJ=xD,UT=OJ,BT=UT&&UT.isTypedArray,NJ=BT?RJ(BT):CJ,ED=NJ,jJ=$Q,DJ=Yx,MJ=Wn,$J=wD,LJ=Qx,VJ=ED,FJ=Object.prototype,UJ=FJ.hasOwnProperty;function BJ(t,e){var n=MJ(t),r=!n&&DJ(t),i=!n&&!r&&$J(t),a=!n&&!r&&!i&&VJ(t),o=n||r||i||a,s=o?jJ(t.length,String):[],l=s.length;for(var u in t)(e||UJ.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||LJ(u,l)))&&s.push(u);return s}var zJ=BJ,WJ=Object.prototype;function qJ(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||WJ;return t===n}var HJ=qJ;function KJ(t,e){return function(n){return t(e(n))}}var SD=KJ,GJ=SD,XJ=GJ(Object.keys,Object),YJ=XJ,QJ=HJ,JJ=YJ,ZJ=Object.prototype,eZ=ZJ.hasOwnProperty;function tZ(t){if(!QJ(t))return JJ(t);var e=[];for(var n in Object(t))eZ.call(t,n)&&n!="constructor"&&e.push(n);return e}var nZ=tZ,rZ=Rx,iZ=Jx;function aZ(t){return t!=null&&iZ(t.length)&&!rZ(t)}var ed=aZ,oZ=zJ,sZ=nZ,lZ=ed;function uZ(t){return lZ(t)?oZ(t):sZ(t)}var xg=uZ,cZ=kQ,fZ=DQ,dZ=xg;function hZ(t){return cZ(t,dZ,fZ)}var pZ=hZ,zT=pZ,mZ=1,gZ=Object.prototype,yZ=gZ.hasOwnProperty;function vZ(t,e,n,r,i,a){var o=n&mZ,s=zT(t),l=s.length,u=zT(e),c=u.length;if(l!=c&&!o)return!1;for(var f=l;f--;){var h=s[f];if(!(o?h in e:yZ.call(e,h)))return!1}var p=a.get(t),g=a.get(e);if(p&&g)return p==e&&g==t;var m=!0;a.set(t,e),a.set(e,t);for(var v=o;++f<l;){h=s[f];var x=t[h],y=e[h];if(r)var _=o?r(y,x,h,e,t,a):r(x,y,h,t,e,a);if(!(_===void 0?x===y||i(x,y,n,r,a):_)){m=!1;break}v||(v=h=="constructor")}if(m&&!v){var E=t.constructor,T=e.constructor;E!=T&&"constructor"in t&&"constructor"in e&&!(typeof E=="function"&&E instanceof E&&typeof T=="function"&&T instanceof T)&&(m=!1)}return a.delete(t),a.delete(e),m}var bZ=vZ,_Z=Zo,wZ=oi,xZ=_Z(wZ,"DataView"),EZ=xZ,SZ=Zo,kZ=oi,TZ=SZ(kZ,"Promise"),AZ=TZ,PZ=Zo,IZ=oi,OZ=PZ(IZ,"Set"),kD=OZ,CZ=Zo,RZ=oi,NZ=CZ(RZ,"WeakMap"),jZ=NZ,cb=EZ,fb=jx,db=AZ,hb=kD,pb=jZ,TD=Bi,Hl=Rj,WT="[object Map]",DZ="[object Object]",qT="[object Promise]",HT="[object Set]",KT="[object WeakMap]",GT="[object DataView]",MZ=Hl(cb),$Z=Hl(fb),LZ=Hl(db),VZ=Hl(hb),FZ=Hl(pb),lo=TD;(cb&&lo(new cb(new ArrayBuffer(1)))!=GT||fb&&lo(new fb)!=WT||db&&lo(db.resolve())!=qT||hb&&lo(new hb)!=HT||pb&&lo(new pb)!=KT)&&(lo=function(t){var e=TD(t),n=e==DZ?t.constructor:void 0,r=n?Hl(n):"";if(r)switch(r){case MZ:return GT;case $Z:return WT;case LZ:return qT;case VZ:return HT;case FZ:return KT}return e});var UZ=lo,rv=pD,BZ=vD,zZ=_Q,WZ=bZ,XT=UZ,YT=Wn,QT=wD,qZ=ED,HZ=1,JT="[object Arguments]",ZT="[object Array]",Jd="[object Object]",KZ=Object.prototype,eA=KZ.hasOwnProperty;function GZ(t,e,n,r,i,a){var o=YT(t),s=YT(e),l=o?ZT:XT(t),u=s?ZT:XT(e);l=l==JT?Jd:l,u=u==JT?Jd:u;var c=l==Jd,f=u==Jd,h=l==u;if(h&&QT(t)){if(!QT(e))return!1;o=!0,c=!1}if(h&&!c)return a||(a=new rv),o||qZ(t)?BZ(t,e,n,r,i,a):zZ(t,e,l,n,r,i,a);if(!(n&HZ)){var p=c&&eA.call(t,"__wrapped__"),g=f&&eA.call(e,"__wrapped__");if(p||g){var m=p?t.value():t,v=g?e.value():e;return a||(a=new rv),i(m,v,n,r,a)}}return h?(a||(a=new rv),WZ(t,e,n,r,i,a)):!1}var XZ=GZ,YZ=XZ,tA=zi;function AD(t,e,n,r,i){return t===e?!0:t==null||e==null||!tA(t)&&!tA(e)?t!==t&&e!==e:YZ(t,e,n,r,AD,i)}var Zx=AD,QZ=pD,JZ=Zx,ZZ=1,eee=2;function tee(t,e,n,r){var i=n.length,a=i,o=!r;if(t==null)return!a;for(t=Object(t);i--;){var s=n[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=n[i];var l=s[0],u=t[l],c=s[1];if(o&&s[2]){if(u===void 0&&!(l in t))return!1}else{var f=new QZ;if(r)var h=r(u,c,l,t,e,f);if(!(h===void 0?JZ(c,u,ZZ|eee,r,f):h))return!1}}return!0}var nee=tee,ree=Ka;function iee(t){return t===t&&!ree(t)}var PD=iee,aee=PD,oee=xg;function see(t){for(var e=oee(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,aee(i)]}return e}var lee=see;function uee(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var ID=uee,cee=nee,fee=lee,dee=ID;function hee(t){var e=fee(t);return e.length==1&&e[0][2]?dee(e[0][0],e[0][1]):function(n){return n===t||cee(n,t,e)}}var pee=hee;function mee(t,e){return t!=null&&e in Object(t)}var gee=mee,yee=$j,vee=Yx,bee=Wn,_ee=Qx,wee=Jx,xee=sg;function Eee(t,e,n){e=yee(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var o=xee(e[r]);if(!(a=t!=null&&n(t,o)))break;t=t[o]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&wee(i)&&_ee(o,i)&&(bee(t)||vee(t)))}var See=Eee,kee=gee,Tee=See;function Aee(t,e){return t!=null&&Tee(t,e,kee)}var Pee=Aee,Iee=Zx,Oee=Lj,Cee=Pee,Ree=Cx,Nee=PD,jee=ID,Dee=sg,Mee=1,$ee=2;function Lee(t,e){return Ree(t)&&Nee(e)?jee(Dee(t),e):function(n){var r=Oee(n,t);return r===void 0&&r===e?Cee(n,t):Iee(e,r,Mee|$ee)}}var Vee=Lee;function Fee(t){return t}var Kl=Fee;function Uee(t){return function(e){return e==null?void 0:e[t]}}var Bee=Uee,zee=Lx;function Wee(t){return function(e){return zee(e,t)}}var qee=Wee,Hee=Bee,Kee=qee,Gee=Cx,Xee=sg;function Yee(t){return Gee(t)?Hee(Xee(t)):Kee(t)}var Qee=Yee,Jee=pee,Zee=Vee,ete=Kl,tte=Wn,nte=Qee;function rte(t){return typeof t=="function"?t:t==null?ete:typeof t=="object"?tte(t)?Zee(t[0],t[1]):Jee(t):nte(t)}var si=rte;function ite(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var OD=ite;function ate(t){return t!==t}var ote=ate;function ste(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var lte=ste,ute=OD,cte=ote,fte=lte;function dte(t,e,n){return e===e?fte(t,e,n):ute(t,cte,n)}var hte=dte,pte=hte;function mte(t,e){var n=t==null?0:t.length;return!!n&&pte(t,e,0)>-1}var gte=mte;function yte(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var vte=yte;function bte(){}var _te=bte,iv=kD,wte=_te,xte=Xx,Ete=1/0,Ste=iv&&1/xte(new iv([,-0]))[1]==Ete?function(t){return new iv(t)}:wte,kte=Ste,Tte=mD,Ate=gte,Pte=vte,Ite=yD,Ote=kte,Cte=Xx,Rte=200;function Nte(t,e,n){var r=-1,i=Ate,a=t.length,o=!0,s=[],l=s;if(n)o=!1,i=Pte;else if(a>=Rte){var u=e?null:Ote(t);if(u)return Cte(u);o=!1,i=Ite,l=new Tte}else l=e?[]:s;e:for(;++r<a;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,o&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),s.push(c)}else i(l,f,n)||(l!==s&&l.push(f),s.push(c))}return s}var jte=Nte,Dte=si,Mte=jte;function $te(t,e){return t&&t.length?Mte(t,Dte(e)):[]}var Lte=$te;const nA=Ge(Lte);function CD(t,e,n){return e===!0?nA(t,n):be(e)?nA(t,e):t}function pl(t){"@babel/helpers - typeof";return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pl(t)}var Vte=["ref"];function rA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function to(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rA(Object(n),!0).forEach(function(r){Eg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jD(r.key),r)}}function Ute(t,e,n){return e&&iA(t.prototype,e),n&&iA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bte(t,e,n){return e=Np(e),zte(t,RD()?Reflect.construct(e,n||[],Np(t).constructor):e.apply(t,n))}function zte(t,e){if(e&&(pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ND(t)}function RD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RD=function(){return!!t})()}function Np(t){return Np=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Np(t)}function ND(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mb(t,e)}function mb(t,e){return mb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mb(t,e)}function Eg(t,e,n){return e=jD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jD(t){var e=qte(t,"string");return pl(e)=="symbol"?e:String(e)}function qte(t,e){if(pl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hte(t,e){if(t==null)return{};var n=Kte(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Kte(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Gte(t){return t.value}function Xte(t,e){if(M.isValidElement(t))return M.cloneElement(t,e);if(typeof t=="function")return M.createElement(t,e);e.ref;var n=Hte(e,Vte);return M.createElement(Gx,n)}var aA=1,Gc=function(t){Wte(e,t);function e(){var n;Fte(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Bte(this,e,[].concat(i)),Eg(ND(n),"lastBoundingBox",{width:-1,height:-1}),n}return Ute(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>aA||Math.abs(i.height-this.lastBoundingBox.height)>aA)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?to({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var g=this.getBBoxSnapshot();h={top:((c||0)-g.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return to(to({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,f=to(to({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return M.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){r.wrapperNode=p}},Xte(a,to(to({},this.props),{},{payload:CD(c,u,Gte)})))}}],[{key:"getWithHeight",value:function(r,i){var a=r.props.layout;return a==="vertical"&&Z(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}]),e}(D.PureComponent);Eg(Gc,"displayName","Legend");Eg(Gc,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var oA=Yf,Yte=Yx,Qte=Wn,sA=oA?oA.isConcatSpreadable:void 0;function Jte(t){return Qte(t)||Yte(t)||!!(sA&&t&&t[sA])}var Zte=Jte,ene=bD,tne=Zte;function DD(t,e,n,r,i){var a=-1,o=t.length;for(n||(n=tne),i||(i=[]);++a<o;){var s=t[a];e>0&&n(s)?e>1?DD(s,e-1,n,r,i):ene(i,s):r||(i[i.length]=s)}return i}var MD=DD;function nne(t){return function(e,n,r){for(var i=-1,a=Object(e),o=r(e),s=o.length;s--;){var l=o[t?s:++i];if(n(a[l],l,a)===!1)break}return e}}var rne=nne,ine=rne,ane=ine(),one=ane,sne=one,lne=xg;function une(t,e){return t&&sne(t,e,lne)}var $D=une,cne=ed;function fne(t,e){return function(n,r){if(n==null)return n;if(!cne(n))return t(n,r);for(var i=n.length,a=e?i:-1,o=Object(n);(e?a--:++a<i)&&r(o[a],a,o)!==!1;);return n}}var dne=fne,hne=$D,pne=dne,mne=pne(hne),e1=mne,gne=e1,yne=ed;function vne(t,e){var n=-1,r=yne(t)?Array(t.length):[];return gne(t,function(i,a,o){r[++n]=e(i,a,o)}),r}var LD=vne;function bne(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var _ne=bne,lA=Fl;function wne(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=lA(t),o=e!==void 0,s=e===null,l=e===e,u=lA(e);if(!s&&!u&&!a&&t>e||a&&o&&l&&!s&&!u||r&&o&&l||!n&&l||!i)return 1;if(!r&&!a&&!u&&t<e||u&&n&&i&&!r&&!a||s&&n&&i||!o&&i||!l)return-1}return 0}var xne=wne,Ene=xne;function Sne(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,o=i.length,s=n.length;++r<o;){var l=Ene(i[r],a[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var kne=Sne,av=$x,Tne=Lx,Ane=si,Pne=LD,Ine=_ne,One=xD,Cne=kne,Rne=Kl,Nne=Wn;function jne(t,e,n){e.length?e=av(e,function(a){return Nne(a)?function(o){return Tne(o,a.length===1?a[0]:a)}:a}):e=[Rne];var r=-1;e=av(e,One(Ane));var i=Pne(t,function(a,o,s){var l=av(e,function(u){return u(a)});return{criteria:l,index:++r,value:a}});return Ine(i,function(a,o){return Cne(a,o,n)})}var Dne=jne;function Mne(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var $ne=Mne,Lne=$ne,uA=Math.max;function Vne(t,e,n){return e=uA(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=uA(r.length-e,0),o=Array(a);++i<a;)o[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(o),Lne(t,this,s)}}var Fne=Vne;function Une(t){return function(){return t}}var Bne=Une,zne=Zo,Wne=function(){try{var t=zne(Object,"defineProperty");return t({},"",{}),t}catch{}}(),VD=Wne,qne=Bne,cA=VD,Hne=Kl,Kne=cA?function(t,e){return cA(t,"toString",{configurable:!0,enumerable:!1,value:qne(e),writable:!0})}:Hne,Gne=Kne,Xne=800,Yne=16,Qne=Date.now;function Jne(t){var e=0,n=0;return function(){var r=Qne(),i=Yne-(r-n);if(n=r,i>0){if(++e>=Xne)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Zne=Jne,ere=Gne,tre=Zne,nre=tre(ere),rre=nre,ire=Kl,are=Fne,ore=rre;function sre(t,e){return ore(are(t,e,ire),t+"")}var lre=sre,ure=Nx,cre=ed,fre=Qx,dre=Ka;function hre(t,e,n){if(!dre(n))return!1;var r=typeof e;return(r=="number"?cre(n)&&fre(e,n.length):r=="string"&&e in n)?ure(n[e],t):!1}var Sg=hre,pre=MD,mre=Dne,gre=lre,fA=Sg,yre=gre(function(t,e){if(t==null)return[];var n=e.length;return n>1&&fA(t,e[0],e[1])?e=[]:n>2&&fA(e[0],e[1],e[2])&&(e=[e[0]]),mre(t,pre(e,1),[])}),vre=yre;const t1=Ge(vre);function Xc(t){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xc(t)}function gb(){return gb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gb.apply(this,arguments)}function bre(t,e){return Ere(t)||xre(t,e)||wre(t,e)||_re()}function _re(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wre(t,e){if(t){if(typeof t=="string")return dA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dA(t,e)}}function dA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Ere(t){if(Array.isArray(t))return t}function hA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ov(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hA(Object(n),!0).forEach(function(r){Sre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sre(t,e,n){return e=kre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kre(t){var e=Tre(t,"string");return Xc(e)=="symbol"?e:String(e)}function Tre(t,e){if(Xc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Are(t){return Array.isArray(t)&&Bt(t[0])&&Bt(t[1])?t.join(" ~ "):t}var Pre=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,s=o===void 0?{}:o,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,f=e.formatter,h=e.itemSorter,p=e.wrapperClassName,g=e.labelClassName,m=e.label,v=e.labelFormatter,x=e.accessibilityLayer,y=x===void 0?!1:x,_=function(){if(c&&c.length){var I={padding:0,margin:0},P=(h?t1(c,h):c).map(function($,F){if($.type==="none")return null;var U=ov({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},s),B=$.formatter||f||Are,L=$.value,q=$.name,Y=L,re=q;if(B&&Y!=null&&re!=null){var X=B(L,q,$,F,c);if(Array.isArray(X)){var ne=bre(X,2);Y=ne[0],re=ne[1]}else Y=X}return M.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:U},Bt(re)?M.createElement("span",{className:"recharts-tooltip-item-name"},re):null,Bt(re)?M.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,M.createElement("span",{className:"recharts-tooltip-item-value"},Y),M.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return M.createElement("ul",{className:"recharts-tooltip-item-list",style:I},P)}return null},E=ov({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),T=ov({margin:0},u),O=!Pe(m),k=O?m:"",S=ke("recharts-default-tooltip",p),C=ke("recharts-tooltip-label",g);O&&v&&c!==void 0&&c!==null&&(k=v(m,c));var R=y?{role:"status","aria-live":"assertive"}:{};return M.createElement("div",gb({className:S,style:E},R),M.createElement("p",{className:C,style:T},M.isValidElement(k)?k:"".concat(k)),_())};function Yc(t){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yc(t)}function Zd(t,e,n){return e=Ire(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ire(t){var e=Ore(t,"string");return Yc(e)=="symbol"?e:String(e)}function Ore(t,e){if(Yc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Yc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Su="recharts-tooltip-wrapper",Cre={visibility:"hidden"};function Rre(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return ke(Su,Zd(Zd(Zd(Zd({},"".concat(Su,"-right"),Z(n)&&e&&Z(e.x)&&n>=e.x),"".concat(Su,"-left"),Z(n)&&e&&Z(e.x)&&n<e.x),"".concat(Su,"-bottom"),Z(r)&&e&&Z(e.y)&&r>=e.y),"".concat(Su,"-top"),Z(r)&&e&&Z(e.y)&&r<e.y))}function pA(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(a&&Z(a[r]))return a[r];var c=n[r]-s-i,f=n[r]+i;if(e[r])return o[r]?c:f;if(o[r]){var h=c,p=l[r];return h<p?Math.max(f,l[r]):Math.max(c,l[r])}var g=f+s,m=l[r]+u;return g>m?Math.max(c,l[r]):Math.max(f,l[r])}function Nre(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function jre(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,c,f;return o.height>0&&o.width>0&&n?(c=pA({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=pA({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=Nre({translateX:c,translateY:f,useTranslate3d:s})):u=Cre,{cssProperties:u,cssClasses:Rre({translateX:c,translateY:f,coordinate:n})}}function ml(t){"@babel/helpers - typeof";return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ml(t)}function mA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mA(Object(n),!0).forEach(function(r){bb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mre(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UD(r.key),r)}}function $re(t,e,n){return e&&Mre(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lre(t,e,n){return e=jp(e),Vre(t,FD()?Reflect.construct(e,n||[],jp(t).constructor):e.apply(t,n))}function Vre(t,e){if(e&&(ml(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yb(t)}function FD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FD=function(){return!!t})()}function jp(t){return jp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jp(t)}function yb(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vb(t,e)}function vb(t,e){return vb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vb(t,e)}function bb(t,e,n){return e=UD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UD(t){var e=Ure(t,"string");return ml(e)=="symbol"?e:String(e)}function Ure(t,e){if(ml(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ml(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yA=1,Bre=function(t){Fre(e,t);function e(){var n;Dre(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Lre(this,e,[].concat(i)),bb(yb(n),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),bb(yb(n),"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return $re(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>yA||Math.abs(r.height-this.state.lastBoundingBox.height)>yA)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,p=i.offset,g=i.position,m=i.reverseDirection,v=i.useTranslate3d,x=i.viewBox,y=i.wrapperStyle,_=jre({allowEscapeViewBox:o,coordinate:c,offsetTopLeft:p,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:x}),E=_.cssClasses,T=_.cssProperties,O=gA(gA({transition:h&&a?"transform ".concat(s,"ms ").concat(l):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},y);return M.createElement("div",{tabIndex:-1,className:E,style:O,ref:function(S){r.wrapperNode=S}},u)}}]),e}(D.PureComponent),zre=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ai={isSsr:zre(),get:function(e){return Ai[e]},set:function(e,n){if(typeof e=="string")Ai[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){Ai[i]=e[i]})}}};function gl(t){"@babel/helpers - typeof";return gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gl(t)}function vA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vA(Object(n),!0).forEach(function(r){n1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qre(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zD(r.key),r)}}function Hre(t,e,n){return e&&qre(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kre(t,e,n){return e=Dp(e),Gre(t,BD()?Reflect.construct(e,n||[],Dp(t).constructor):e.apply(t,n))}function Gre(t,e){if(e&&(gl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xre(t)}function Xre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BD=function(){return!!t})()}function Dp(t){return Dp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dp(t)}function Yre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_b(t,e)}function _b(t,e){return _b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_b(t,e)}function n1(t,e,n){return e=zD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zD(t){var e=Qre(t,"string");return gl(e)=="symbol"?e:String(e)}function Qre(t,e){if(gl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jre(t){return t.dataKey}function Zre(t,e){return M.isValidElement(t)?M.cloneElement(t,e):typeof t=="function"?M.createElement(t,e):M.createElement(Pre,e)}var Ur=function(t){Yre(e,t);function e(){return Wre(this,e),Kre(this,e,arguments)}return Hre(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,f=i.filterNull,h=i.isAnimationActive,p=i.offset,g=i.payload,m=i.payloadUniqBy,v=i.position,x=i.reverseDirection,y=i.useTranslate3d,_=i.viewBox,E=i.wrapperStyle,T=g??[];f&&T.length&&(T=CD(g.filter(function(k){return k.value!=null&&(k.hide!==!0||r.props.includeHidden)}),m,Jre));var O=T.length>0;return M.createElement(Bre,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:h,active:a,coordinate:c,hasPayload:O,offset:p,position:v,reverseDirection:x,useTranslate3d:y,viewBox:_,wrapperStyle:E},Zre(u,bA(bA({},this.props),{},{payload:T})))}}]),e}(D.PureComponent);n1(Ur,"displayName","Tooltip");n1(Ur,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ai.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var eie=oi,tie=function(){return eie.Date.now()},nie=tie,rie=/\s/;function iie(t){for(var e=t.length;e--&&rie.test(t.charAt(e)););return e}var aie=iie,oie=aie,sie=/^\s+/;function lie(t){return t&&t.slice(0,oie(t)+1).replace(sie,"")}var uie=lie,cie=uie,_A=Ka,fie=Fl,wA=NaN,die=/^[-+]0x[0-9a-f]+$/i,hie=/^0b[01]+$/i,pie=/^0o[0-7]+$/i,mie=parseInt;function gie(t){if(typeof t=="number")return t;if(fie(t))return wA;if(_A(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=_A(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=cie(t);var n=hie.test(t);return n||pie.test(t)?mie(t.slice(2),n?2:8):die.test(t)?wA:+t}var WD=gie,yie=Ka,sv=nie,xA=WD,vie="Expected a function",bie=Math.max,_ie=Math.min;function wie(t,e,n){var r,i,a,o,s,l,u=0,c=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(vie);e=xA(e)||0,yie(n)&&(c=!!n.leading,f="maxWait"in n,a=f?bie(xA(n.maxWait)||0,e):a,h="trailing"in n?!!n.trailing:h);function p(O){var k=r,S=i;return r=i=void 0,u=O,o=t.apply(S,k),o}function g(O){return u=O,s=setTimeout(x,e),c?p(O):o}function m(O){var k=O-l,S=O-u,C=e-k;return f?_ie(C,a-S):C}function v(O){var k=O-l,S=O-u;return l===void 0||k>=e||k<0||f&&S>=a}function x(){var O=sv();if(v(O))return y(O);s=setTimeout(x,m(O))}function y(O){return s=void 0,h&&r?p(O):(r=i=void 0,o)}function _(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function E(){return s===void 0?o:y(sv())}function T(){var O=sv(),k=v(O);if(r=arguments,i=this,l=O,k){if(s===void 0)return g(l);if(f)return clearTimeout(s),s=setTimeout(x,e),p(l)}return s===void 0&&(s=setTimeout(x,e)),o}return T.cancel=_,T.flush=E,T}var xie=wie,Eie=xie,Sie=Ka,kie="Expected a function";function Tie(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(kie);return Sie(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Eie(t,e,{leading:r,maxWait:e,trailing:i})}var Aie=Tie;const qD=Ge(Aie);function Qc(t){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qc(t)}function EA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EA(Object(n),!0).forEach(function(r){Pie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pie(t,e,n){return e=Iie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iie(t){var e=Oie(t,"string");return Qc(e)=="symbol"?e:String(e)}function Oie(t,e){if(Qc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Qc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cie(t,e){return Die(t)||jie(t,e)||Nie(t,e)||Rie()}function Rie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nie(t,e){if(t){if(typeof t=="string")return SA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SA(t,e)}}function SA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Die(t){if(Array.isArray(t))return t}var r1=D.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,o=a===void 0?"100%":a,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,c=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,p=t.children,g=t.debounce,m=g===void 0?0:g,v=t.id,x=t.className,y=t.onResize,_=t.style,E=_===void 0?{}:_,T=D.useRef(null),O=D.useRef();O.current=y,D.useImperativeHandle(e,function(){return Object.defineProperty(T.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),T.current},configurable:!0})});var k=D.useState({containerWidth:i.width,containerHeight:i.height}),S=Cie(k,2),C=S[0],R=S[1],N=D.useCallback(function(P,$){R(function(F){var U=Math.round(P),B=Math.round($);return F.containerWidth===U&&F.containerHeight===B?F:{containerWidth:U,containerHeight:B}})},[]);D.useEffect(function(){var P=function(q){var Y,re=q[0].contentRect,X=re.width,ne=re.height;N(X,ne),(Y=O.current)===null||Y===void 0||Y.call(O,X,ne)};m>0&&(P=qD(P,m,{trailing:!0,leading:!1}));var $=new ResizeObserver(P),F=T.current.getBoundingClientRect(),U=F.width,B=F.height;return N(U,B),$.observe(T.current),function(){$.disconnect()}},[N,m]);var I=D.useMemo(function(){var P=C.containerWidth,$=C.containerHeight;if(P<0||$<0)return null;Rr(go(o)||go(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),Rr(!n||n>0,"The aspect(%s) must be greater than zero.",n);var F=go(o)?P:o,U=go(l)?$:l;n&&n>0&&(F?U=F/n:U&&(F=U*n),h&&U>h&&(U=h)),Rr(F>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,U,o,l,c,f,n);var B=!Array.isArray(p)&&G0.isElement(p)&&Ti(p.type).endsWith("Chart");return M.Children.map(p,function(L){return G0.isElement(L)?D.cloneElement(L,eh({width:F,height:U},B?{style:eh({height:"100%",width:"100%",maxHeight:U,maxWidth:F},L.props.style)}:{})):L})},[n,p,l,h,f,c,C,o]);return M.createElement("div",{id:v?"".concat(v):void 0,className:ke("recharts-responsive-container",x),style:eh(eh({},E),{},{width:o,height:l,minWidth:c,minHeight:f,maxHeight:h}),ref:T},I)}),td=function(e){return null};td.displayName="Cell";function Jc(t){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(t)}function kA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kA(Object(n),!0).forEach(function(r){Mie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mie(t,e,n){return e=$ie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ie(t){var e=Lie(t,"string");return Jc(e)=="symbol"?e:String(e)}function Lie(t,e){if(Jc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Jc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hs={widthCache:{},cacheCount:0},Vie=2e3,Fie={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},TA="recharts_measurement_span";function Uie(t){var e=wb({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var cc=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ai.isSsr)return{width:0,height:0};var r=Uie(n),i=JSON.stringify({text:e,copyStyle:r});if(hs.widthCache[i])return hs.widthCache[i];try{var a=document.getElementById(TA);a||(a=document.createElement("span"),a.setAttribute("id",TA),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=wb(wb({},Fie),r);Object.assign(a.style,o),a.textContent="".concat(e);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return hs.widthCache[i]=l,++hs.cacheCount>Vie&&(hs.cacheCount=0,hs.widthCache={}),l}catch{return{width:0,height:0}}},Bie=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Zc(t){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(t)}function Mp(t,e){return Hie(t)||qie(t,e)||Wie(t,e)||zie()}function zie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wie(t,e){if(t){if(typeof t=="string")return AA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AA(t,e)}}function AA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Hie(t){if(Array.isArray(t))return t}function Kie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Xie(r.key),r)}}function Gie(t,e,n){return e&&PA(t.prototype,e),n&&PA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xie(t){var e=Yie(t,"string");return Zc(e)=="symbol"?e:String(e)}function Yie(t,e){if(Zc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var IA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,OA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Qie=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Jie=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,HD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Zie=Object.keys(HD),js="NaN";function eae(t,e){return t*HD[e]}var th=function(){function t(e,n){Kie(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Qie.test(n)&&(this.num=NaN,this.unit=""),Zie.includes(n)&&(this.num=eae(e,n),this.unit="px")}return Gie(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Jie.exec(n))!==null&&r!==void 0?r:[],a=Mp(i,3),o=a[1],s=a[2];return new t(parseFloat(o),s??"")}}]),t}();function KD(t){if(t.includes(js))return js;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=IA.exec(e))!==null&&n!==void 0?n:[],i=Mp(r,4),a=i[1],o=i[2],s=i[3],l=th.parse(a??""),u=th.parse(s??""),c=o==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return js;e=e.replace(IA,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=OA.exec(e))!==null&&f!==void 0?f:[],p=Mp(h,4),g=p[1],m=p[2],v=p[3],x=th.parse(g??""),y=th.parse(v??""),_=m==="+"?x.add(y):x.subtract(y);if(_.isNaN())return js;e=e.replace(OA,_.toString())}return e}var CA=/\(([^()]*)\)/;function tae(t){for(var e=t;e.includes("(");){var n=CA.exec(e),r=Mp(n,2),i=r[1];e=e.replace(CA,KD(i))}return e}function nae(t){var e=t.replace(/\s+/g,"");return e=tae(e),e=KD(e),e}function rae(t){try{return nae(t)}catch{return js}}function lv(t){var e=rae(t.slice(5,-1));return e===js?"":e}var iae=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],aae=["dx","dy","angle","className","breakAll"];function xb(){return xb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xb.apply(this,arguments)}function RA(t,e){if(t==null)return{};var n=oae(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function oae(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function NA(t,e){return cae(t)||uae(t,e)||lae(t,e)||sae()}function sae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lae(t,e){if(t){if(typeof t=="string")return jA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jA(t,e)}}function jA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function cae(t){if(Array.isArray(t))return t}var GD=/[ \f\n\r\t\v\u2028\u2029]+/,XD=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];Pe(n)||(r?a=n.toString().split(""):a=n.toString().split(GD));var o=a.map(function(l){return{word:l,width:cc(l,i).width}}),s=r?0:cc(" ",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},fae=function(e,n,r,i,a){var o=e.maxLines,s=e.children,l=e.style,u=e.breakAll,c=Z(o),f=s,h=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(function(U,B){var L=B.word,q=B.width,Y=U[U.length-1];if(Y&&(i==null||a||Y.width+q+r<Number(i)))Y.words.push(L),Y.width+=q+r;else{var re={words:[L],width:q};U.push(re)}return U},[])},p=h(n),g=function(F){return F.reduce(function(U,B){return U.width>B.width?U:B})};if(!c)return p;for(var m="…",v=function(F){var U=f.slice(0,F),B=XD({breakAll:u,style:l,children:U+m}).wordsWithComputedWidth,L=h(B),q=L.length>o||g(L).width>Number(i);return[q,L]},x=0,y=f.length-1,_=0,E;x<=y&&_<=f.length-1;){var T=Math.floor((x+y)/2),O=T-1,k=v(O),S=NA(k,2),C=S[0],R=S[1],N=v(T),I=NA(N,1),P=I[0];if(!C&&!P&&(x=T+1),C&&P&&(y=T-1),!C&&P){E=R;break}_++}return E||p},DA=function(e){var n=Pe(e)?[]:e.toString().split(GD);return[{words:n}]},dae=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,s=e.maxLines;if((n||r)&&!Ai.isSsr){var l,u,c=XD({breakAll:o,children:i,style:a});if(c){var f=c.wordsWithComputedWidth,h=c.spaceWidth;l=f,u=h}else return DA(i);return fae({breakAll:o,children:i,maxLines:s,style:a},l,u,n,r)}return DA(i)},MA="#808080",Fo=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.lineHeight,s=o===void 0?"1em":o,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,f=c===void 0?!1:c,h=e.textAnchor,p=h===void 0?"start":h,g=e.verticalAnchor,m=g===void 0?"end":g,v=e.fill,x=v===void 0?MA:v,y=RA(e,iae),_=D.useMemo(function(){return dae({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),E=y.dx,T=y.dy,O=y.angle,k=y.className,S=y.breakAll,C=RA(y,aae);if(!Bt(r)||!Bt(a))return null;var R=r+(Z(E)?E:0),N=a+(Z(T)?T:0),I;switch(m){case"start":I=lv("calc(".concat(u,")"));break;case"middle":I=lv("calc(".concat((_.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:I=lv("calc(".concat(_.length-1," * -").concat(s,")"));break}var P=[];if(f){var $=_[0].width,F=y.width;P.push("scale(".concat((Z(F)?F/$:1)/$,")"))}return O&&P.push("rotate(".concat(O,", ").concat(R,", ").concat(N,")")),P.length&&(C.transform=P.join(" ")),M.createElement("text",xb({},me(C,!0),{x:R,y:N,className:ke("recharts-text",k),textAnchor:p,fill:x.includes("url")?MA:x}),_.map(function(U,B){var L=U.words.join(S?"":" ");return M.createElement("tspan",{x:R,dy:B===0?I:s,key:L},L)}))};function Pa(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function hae(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function i1(t){let e,n,r;t.length!==2?(e=Pa,n=(s,l)=>Pa(t(s),l),r=(s,l)=>t(s)-l):(e=t===Pa||t===hae?t:pae,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<0?u=f+1:c=f}while(u<c)}return u}function a(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function o(s,l,u=0,c=s.length){const f=i(s,l,u,c-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:o,right:a}}function pae(){return 0}function YD(t){return t===null?NaN:+t}function*mae(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const gae=i1(Pa),nd=gae.right;i1(YD).center;class $A extends Map{constructor(e,n=bae){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(LA(this,e))}has(e){return super.has(LA(this,e))}set(e,n){return super.set(yae(this,e),n)}delete(e){return super.delete(vae(this,e))}}function LA({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function yae({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function vae({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function bae(t){return t!==null&&typeof t=="object"?t.valueOf():t}function _ae(t=Pa){if(t===Pa)return QD;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function QD(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const wae=Math.sqrt(50),xae=Math.sqrt(10),Eae=Math.sqrt(2);function $p(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=wae?10:a>=xae?5:a>=Eae?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?$p(t,e,n*2):[s,l,u]}function Eb(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?$p(e,t,n):$p(t,e,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function Sb(t,e,n){return e=+e,t=+t,n=+n,$p(t,e,n)[2]}function kb(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Sb(e,t,n):Sb(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function VA(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function FA(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function JD(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?QD:_ae(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(e-u*f/l+h)),g=Math.min(r,Math.floor(e+(l-u)*f/l+h));JD(t,e,p,g,i)}const a=t[e];let o=n,s=r;for(ku(t,n,e),i(t[r],a)>0&&ku(t,n,r);o<s;){for(ku(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[n],a)===0?ku(t,n,s):(++s,ku(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function ku(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Sae(t,e,n){if(t=Float64Array.from(mae(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return FA(t);if(e>=1)return VA(t);var r,i=(r-1)*e,a=Math.floor(i),o=VA(JD(t,a).subarray(0,a+1)),s=FA(t.subarray(a+1));return o+(s-o)*(i-a)}}function kae(t,e,n=YD){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),s=+n(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function Tae(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function wr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Wi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Tb=Symbol("implicit");function a1(){var t=new $A,e=[],n=[],r=Tb;function i(a){let o=t.get(a);if(o===void 0){if(r!==Tb)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new $A;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return a1(e,n).unknown(r)},wr.apply(i,arguments),i}function ef(){var t=a1().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,s=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var h=e().length,p=i<r,g=p?i:r,m=p?r:i;a=(m-g)/Math.max(1,h-l+u*2),s&&(a=Math.floor(a)),g+=(m-g-a*(h-l))*c,o=a*(1-l),s&&(g=Math.round(g),o=Math.round(o));var v=Tae(h).map(function(x){return g+a*x});return n(p?v.reverse():v)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,f()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(h){return arguments.length?(s=!!h,f()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),f()):c},t.copy=function(){return ef(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},wr.apply(f(),arguments)}function ZD(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return ZD(e())},t}function fc(){return ZD(ef.apply(null,arguments).paddingInner(1))}function o1(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function eM(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function rd(){}var tf=.7,Lp=1/tf,Ys="\\s*([+-]?\\d+)\\s*",nf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Zr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Aae=/^#([0-9a-f]{3,8})$/,Pae=new RegExp(`^rgb\\(${Ys},${Ys},${Ys}\\)$`),Iae=new RegExp(`^rgb\\(${Zr},${Zr},${Zr}\\)$`),Oae=new RegExp(`^rgba\\(${Ys},${Ys},${Ys},${nf}\\)$`),Cae=new RegExp(`^rgba\\(${Zr},${Zr},${Zr},${nf}\\)$`),Rae=new RegExp(`^hsl\\(${nf},${Zr},${Zr}\\)$`),Nae=new RegExp(`^hsla\\(${nf},${Zr},${Zr},${nf}\\)$`),UA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};o1(rd,rf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:BA,formatHex:BA,formatHex8:jae,formatHsl:Dae,formatRgb:zA,toString:zA});function BA(){return this.rgb().formatHex()}function jae(){return this.rgb().formatHex8()}function Dae(){return tM(this).formatHsl()}function zA(){return this.rgb().formatRgb()}function rf(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Aae.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?WA(e):n===3?new Vn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?nh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?nh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Pae.exec(t))?new Vn(e[1],e[2],e[3],1):(e=Iae.exec(t))?new Vn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Oae.exec(t))?nh(e[1],e[2],e[3],e[4]):(e=Cae.exec(t))?nh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Rae.exec(t))?KA(e[1],e[2]/100,e[3]/100,1):(e=Nae.exec(t))?KA(e[1],e[2]/100,e[3]/100,e[4]):UA.hasOwnProperty(t)?WA(UA[t]):t==="transparent"?new Vn(NaN,NaN,NaN,0):null}function WA(t){return new Vn(t>>16&255,t>>8&255,t&255,1)}function nh(t,e,n,r){return r<=0&&(t=e=n=NaN),new Vn(t,e,n,r)}function Mae(t){return t instanceof rd||(t=rf(t)),t?(t=t.rgb(),new Vn(t.r,t.g,t.b,t.opacity)):new Vn}function Ab(t,e,n,r){return arguments.length===1?Mae(t):new Vn(t,e,n,r??1)}function Vn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}o1(Vn,Ab,eM(rd,{brighter(t){return t=t==null?Lp:Math.pow(Lp,t),new Vn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?tf:Math.pow(tf,t),new Vn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Vn(So(this.r),So(this.g),So(this.b),Vp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qA,formatHex:qA,formatHex8:$ae,formatRgb:HA,toString:HA}));function qA(){return`#${yo(this.r)}${yo(this.g)}${yo(this.b)}`}function $ae(){return`#${yo(this.r)}${yo(this.g)}${yo(this.b)}${yo((isNaN(this.opacity)?1:this.opacity)*255)}`}function HA(){const t=Vp(this.opacity);return`${t===1?"rgb(":"rgba("}${So(this.r)}, ${So(this.g)}, ${So(this.b)}${t===1?")":`, ${t})`}`}function Vp(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function So(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function yo(t){return t=So(t),(t<16?"0":"")+t.toString(16)}function KA(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ir(t,e,n,r)}function tM(t){if(t instanceof Ir)return new Ir(t.h,t.s,t.l,t.opacity);if(t instanceof rd||(t=rf(t)),!t)return new Ir;if(t instanceof Ir)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-e)/s+2:o=(e-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Ir(o,s,l,t.opacity)}function Lae(t,e,n,r){return arguments.length===1?tM(t):new Ir(t,e,n,r??1)}function Ir(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}o1(Ir,Lae,eM(rd,{brighter(t){return t=t==null?Lp:Math.pow(Lp,t),new Ir(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?tf:Math.pow(tf,t),new Ir(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Vn(uv(t>=240?t-240:t+120,i,r),uv(t,i,r),uv(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ir(GA(this.h),rh(this.s),rh(this.l),Vp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Vp(this.opacity);return`${t===1?"hsl(":"hsla("}${GA(this.h)}, ${rh(this.s)*100}%, ${rh(this.l)*100}%${t===1?")":`, ${t})`}`}}));function GA(t){return t=(t||0)%360,t<0?t+360:t}function rh(t){return Math.max(0,Math.min(1,t||0))}function uv(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const s1=t=>()=>t;function Vae(t,e){return function(n){return t+n*e}}function Fae(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Uae(t){return(t=+t)==1?nM:function(e,n){return n-e?Fae(e,n,t):s1(isNaN(e)?n:e)}}function nM(t,e){var n=e-t;return n?Vae(t,n):s1(isNaN(t)?e:t)}const XA=function t(e){var n=Uae(e);function r(i,a){var o=n((i=Ab(i)).r,(a=Ab(a)).r),s=n(i.g,a.g),l=n(i.b,a.b),u=nM(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function Bae(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function zae(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Wae(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Gl(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function qae(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Fp(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Hae(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Gl(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Pb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,cv=new RegExp(Pb.source,"g");function Kae(t){return function(){return t}}function Gae(t){return function(e){return t(e)+""}}function Xae(t,e){var n=Pb.lastIndex=cv.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(r=Pb.exec(t))&&(i=cv.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:Fp(r,i)})),n=cv.lastIndex;return n<e.length&&(a=e.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?Gae(l[0].x):Kae(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}function Gl(t,e){var n=typeof e,r;return e==null||n==="boolean"?s1(e):(n==="number"?Fp:n==="string"?(r=rf(e))?(e=r,XA):Xae:e instanceof rf?XA:e instanceof Date?qae:zae(e)?Bae:Array.isArray(e)?Wae:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Hae:Fp)(t,e)}function l1(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Yae(t,e){e===void 0&&(e=t,t=Gl);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function Qae(t){return function(){return t}}function Up(t){return+t}var YA=[0,1];function Cn(t){return t}function Ib(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Qae(isNaN(e)?NaN:.5)}function Jae(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Zae(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=Ib(i,r),a=n(o,a)):(r=Ib(r,i),a=n(a,o)),function(s){return a(r(s))}}function eoe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=Ib(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(s){var l=nd(t,s,1,r)-1;return a[l](i[l](s))}}function id(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function kg(){var t=YA,e=YA,n=Gl,r,i,a,o=Cn,s,l,u;function c(){var h=Math.min(t.length,e.length);return o!==Cn&&(o=Jae(t[0],t[h-1])),s=h>2?eoe:Zae,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=s(t.map(r),e,n)))(r(o(h)))}return f.invert=function(h){return o(i((u||(u=s(e,t.map(r),Fp)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,Up),c()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=l1,c()},f.clamp=function(h){return arguments.length?(o=h?!0:Cn,c()):o!==Cn},f.interpolate=function(h){return arguments.length?(n=h,c()):n},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,p){return r=h,i=p,c()}}function u1(){return kg()(Cn,Cn)}function toe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Bp(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function yl(t){return t=Bp(Math.abs(t)),t?t[1]:NaN}function noe(t,e){return function(n,r){for(var i=n.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function roe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var ioe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function af(t){if(!(e=ioe.exec(t)))throw new Error("invalid format: "+t);var e;return new c1({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}af.prototype=c1.prototype;function c1(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}c1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function aoe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var rM;function ooe(t,e){var n=Bp(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(rM=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Bp(t,Math.max(0,e+a-1))[0]}function QA(t,e){var n=Bp(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const JA={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:toe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>QA(t*100,e),r:QA,s:ooe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function ZA(t){return t}var eP=Array.prototype.map,tP=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function soe(t){var e=t.grouping===void 0||t.thousands===void 0?ZA:noe(eP.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?ZA:roe(eP.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=af(f);var h=f.fill,p=f.align,g=f.sign,m=f.symbol,v=f.zero,x=f.width,y=f.comma,_=f.precision,E=f.trim,T=f.type;T==="n"?(y=!0,T="g"):JA[T]||(_===void 0&&(_=12),E=!0,T="g"),(v||h==="0"&&p==="=")&&(v=!0,h="0",p="=");var O=m==="$"?n:m==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",k=m==="$"?r:/[%p]/.test(T)?o:"",S=JA[T],C=/[defgprs%]/.test(T);_=_===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function R(N){var I=O,P=k,$,F,U;if(T==="c")P=S(N)+P,N="";else{N=+N;var B=N<0||1/N<0;if(N=isNaN(N)?l:S(Math.abs(N),_),E&&(N=aoe(N)),B&&+N==0&&g!=="+"&&(B=!1),I=(B?g==="("?g:s:g==="-"||g==="("?"":g)+I,P=(T==="s"?tP[8+rM/3]:"")+P+(B&&g==="("?")":""),C){for($=-1,F=N.length;++$<F;)if(U=N.charCodeAt($),48>U||U>57){P=(U===46?i+N.slice($+1):N.slice($))+P,N=N.slice(0,$);break}}}y&&!v&&(N=e(N,1/0));var L=I.length+N.length+P.length,q=L<x?new Array(x-L+1).join(h):"";switch(y&&v&&(N=e(q+N,q.length?x-P.length:1/0),q=""),p){case"<":N=I+N+P+q;break;case"=":N=I+q+N+P;break;case"^":N=q.slice(0,L=q.length>>1)+I+N+P+q.slice(L);break;default:N=q+I+N+P;break}return a(N)}return R.toString=function(){return f+""},R}function c(f,h){var p=u((f=af(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(yl(h)/3)))*3,m=Math.pow(10,-g),v=tP[8+g/3];return function(x){return p(m*x)+v}}return{format:u,formatPrefix:c}}var ih,f1,iM;loe({thousands:",",grouping:[3],currency:["$",""]});function loe(t){return ih=soe(t),f1=ih.format,iM=ih.formatPrefix,ih}function uoe(t){return Math.max(0,-yl(Math.abs(t)))}function coe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(yl(e)/3)))*3-yl(Math.abs(t)))}function foe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,yl(e)-yl(t))+1}function aM(t,e,n,r){var i=kb(t,e,n),a;switch(r=af(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=coe(i,o))&&(r.precision=a),iM(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=foe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=uoe(i))&&(r.precision=a-(r.type==="%")*2);break}}return f1(r)}function Ga(t){var e=t.domain;return t.ticks=function(n){var r=e();return Eb(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return aM(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],s=r[a],l,u,c=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);c-- >0;){if(u=Sb(o,s,n),u===l)return r[i]=o,r[a]=s,e(r);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function zp(){var t=u1();return t.copy=function(){return id(t,zp())},wr.apply(t,arguments),Ga(t)}function oM(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Up),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return oM(t).unknown(e)},t=arguments.length?Array.from(t,Up):[0,1],Ga(n)}function sM(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function nP(t){return Math.log(t)}function rP(t){return Math.exp(t)}function doe(t){return-Math.log(-t)}function hoe(t){return-Math.exp(-t)}function poe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function moe(t){return t===10?poe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function goe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function iP(t){return(e,n)=>-t(-e,n)}function d1(t){const e=t(nP,rP),n=e.domain;let r=10,i,a;function o(){return i=goe(r),a=moe(r),n()[0]<0?(i=iP(i),a=iP(a),t(doe,hoe)):t(nP,rP),e}return e.base=function(s){return arguments.length?(r=+s,o()):r},e.domain=function(s){return arguments.length?(n(s),o()):n()},e.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let h=i(u),p=i(c),g,m;const v=s==null?10:+s;let x=[];if(!(r%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(g=1;g<r;++g)if(m=h<0?g/a(-h):g*a(h),!(m<u)){if(m>c)break;x.push(m)}}else for(;h<=p;++h)for(g=r-1;g>=1;--g)if(m=h>0?g/a(-h):g*a(h),!(m<u)){if(m>c)break;x.push(m)}x.length*2<v&&(x=Eb(u,c,v))}else x=Eb(h,p,Math.min(p-h,v)).map(a);return f?x.reverse():x},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=af(l)).precision==null&&(l.trim=!0),l=f1(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return c=>{let f=c/a(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},e.nice=()=>n(sM(n(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function lM(){const t=d1(kg()).domain([1,10]);return t.copy=()=>id(t,lM()).base(t.base()),wr.apply(t,arguments),t}function aP(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function oP(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function h1(t){var e=1,n=t(aP(e),oP(e));return n.constant=function(r){return arguments.length?t(aP(e=+r),oP(e)):e},Ga(n)}function uM(){var t=h1(kg());return t.copy=function(){return id(t,uM()).constant(t.constant())},wr.apply(t,arguments)}function sP(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function yoe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function voe(t){return t<0?-t*t:t*t}function p1(t){var e=t(Cn,Cn),n=1;function r(){return n===1?t(Cn,Cn):n===.5?t(yoe,voe):t(sP(n),sP(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Ga(e)}function m1(){var t=p1(kg());return t.copy=function(){return id(t,m1()).exponent(t.exponent())},wr.apply(t,arguments),t}function boe(){return m1.apply(null,arguments).exponent(.5)}function lP(t){return Math.sign(t)*t*t}function _oe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function cM(){var t=u1(),e=[0,1],n=!1,r;function i(a){var o=_oe(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(lP(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Up)).map(lP)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return cM(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},wr.apply(i,arguments),Ga(i)}function fM(){var t=[],e=[],n=[],r;function i(){var o=0,s=Math.max(1,e.length);for(n=new Array(s-1);++o<s;)n[o-1]=kae(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:e[nd(n,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Pa),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return fM().domain(t).range(e).unknown(r)},wr.apply(a,arguments)}function dM(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[nd(r,l,0,n)]:a}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return dM().domain([t,e]).range(i).unknown(a)},wr.apply(Ga(o),arguments)}function hM(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[nd(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return hM().domain(t).range(e).unknown(n)},wr.apply(i,arguments)}const fv=new Date,dv=new Date;function zt(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let u;do l.push(u=new Date(+a)),e(a,s),t(a);while(u<a&&a<o);return l},i.filter=a=>zt(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(fv.setTime(+a),dv.setTime(+o),t(fv),t(dv),Math.floor(n(fv,dv))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Wp=zt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Wp.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?zt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Wp);Wp.range;const _i=1e3,pr=_i*60,wi=pr*60,$i=wi*24,g1=$i*7,uP=$i*30,hv=$i*365,vo=zt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*_i)},(t,e)=>(e-t)/_i,t=>t.getUTCSeconds());vo.range;const y1=zt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*_i)},(t,e)=>{t.setTime(+t+e*pr)},(t,e)=>(e-t)/pr,t=>t.getMinutes());y1.range;const v1=zt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*pr)},(t,e)=>(e-t)/pr,t=>t.getUTCMinutes());v1.range;const b1=zt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*_i-t.getMinutes()*pr)},(t,e)=>{t.setTime(+t+e*wi)},(t,e)=>(e-t)/wi,t=>t.getHours());b1.range;const _1=zt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*wi)},(t,e)=>(e-t)/wi,t=>t.getUTCHours());_1.range;const ad=zt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*pr)/$i,t=>t.getDate()-1);ad.range;const Tg=zt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/$i,t=>t.getUTCDate()-1);Tg.range;const pM=zt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/$i,t=>Math.floor(t/$i));pM.range;function es(t){return zt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*pr)/g1)}const Ag=es(0),qp=es(1),woe=es(2),xoe=es(3),vl=es(4),Eoe=es(5),Soe=es(6);Ag.range;qp.range;woe.range;xoe.range;vl.range;Eoe.range;Soe.range;function ts(t){return zt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/g1)}const Pg=ts(0),Hp=ts(1),koe=ts(2),Toe=ts(3),bl=ts(4),Aoe=ts(5),Poe=ts(6);Pg.range;Hp.range;koe.range;Toe.range;bl.range;Aoe.range;Poe.range;const w1=zt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());w1.range;const x1=zt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());x1.range;const Li=zt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Li.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:zt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Li.range;const Vi=zt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Vi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:zt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Vi.range;function mM(t,e,n,r,i,a){const o=[[vo,1,_i],[vo,5,5*_i],[vo,15,15*_i],[vo,30,30*_i],[a,1,pr],[a,5,5*pr],[a,15,15*pr],[a,30,30*pr],[i,1,wi],[i,3,3*wi],[i,6,6*wi],[i,12,12*wi],[r,1,$i],[r,2,2*$i],[n,1,g1],[e,1,uP],[e,3,3*uP],[t,1,hv]];function s(u,c,f){const h=c<u;h&&([u,c]=[c,u]);const p=f&&typeof f.range=="function"?f:l(u,c,f),g=p?p.range(u,+c+1):[];return h?g.reverse():g}function l(u,c,f){const h=Math.abs(c-u)/f,p=i1(([,,v])=>v).right(o,h);if(p===o.length)return t.every(kb(u/hv,c/hv,f));if(p===0)return Wp.every(Math.max(kb(u,c,f),1));const[g,m]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return g.every(m)}return[s,l]}const[Ioe,Ooe]=mM(Vi,x1,Pg,pM,_1,v1),[Coe,Roe]=mM(Li,w1,Ag,ad,b1,y1);function pv(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function mv(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Tu(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Noe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,u=Au(i),c=Pu(i),f=Au(a),h=Pu(a),p=Au(o),g=Pu(o),m=Au(s),v=Pu(s),x=Au(l),y=Pu(l),_={a:B,A:L,b:q,B:Y,c:null,d:mP,e:mP,f:nse,g:dse,G:pse,H:Zoe,I:ese,j:tse,L:gM,m:rse,M:ise,p:re,q:X,Q:vP,s:bP,S:ase,u:ose,U:sse,V:lse,w:use,W:cse,x:null,X:null,y:fse,Y:hse,Z:mse,"%":yP},E={a:ne,A:ge,b:Oe,B:at,c:null,d:gP,e:gP,f:bse,g:Ise,G:Cse,H:gse,I:yse,j:vse,L:vM,m:_se,M:wse,p:Ye,q:cn,Q:vP,s:bP,S:xse,u:Ese,U:Sse,V:kse,w:Tse,W:Ase,x:null,X:null,y:Pse,Y:Ose,Z:Rse,"%":yP},T={a:R,A:N,b:I,B:P,c:$,d:hP,e:hP,f:Xoe,g:dP,G:fP,H:pP,I:pP,j:qoe,L:Goe,m:Woe,M:Hoe,p:C,q:zoe,Q:Qoe,s:Joe,S:Koe,u:Loe,U:Voe,V:Foe,w:$oe,W:Uoe,x:F,X:U,y:dP,Y:fP,Z:Boe,"%":Yoe};_.x=O(n,_),_.X=O(r,_),_.c=O(e,_),E.x=O(n,E),E.X=O(r,E),E.c=O(e,E);function O(ie,ce){return function(de){var G=[],Be=-1,we=0,Ze=ie.length,et,Lt,te;for(de instanceof Date||(de=new Date(+de));++Be<Ze;)ie.charCodeAt(Be)===37&&(G.push(ie.slice(we,Be)),(Lt=cP[et=ie.charAt(++Be)])!=null?et=ie.charAt(++Be):Lt=et==="e"?" ":"0",(te=ce[et])&&(et=te(de,Lt)),G.push(et),we=Be+1);return G.push(ie.slice(we,Be)),G.join("")}}function k(ie,ce){return function(de){var G=Tu(1900,void 0,1),Be=S(G,ie,de+="",0),we,Ze;if(Be!=de.length)return null;if("Q"in G)return new Date(G.Q);if("s"in G)return new Date(G.s*1e3+("L"in G?G.L:0));if(ce&&!("Z"in G)&&(G.Z=0),"p"in G&&(G.H=G.H%12+G.p*12),G.m===void 0&&(G.m="q"in G?G.q:0),"V"in G){if(G.V<1||G.V>53)return null;"w"in G||(G.w=1),"Z"in G?(we=mv(Tu(G.y,0,1)),Ze=we.getUTCDay(),we=Ze>4||Ze===0?Hp.ceil(we):Hp(we),we=Tg.offset(we,(G.V-1)*7),G.y=we.getUTCFullYear(),G.m=we.getUTCMonth(),G.d=we.getUTCDate()+(G.w+6)%7):(we=pv(Tu(G.y,0,1)),Ze=we.getDay(),we=Ze>4||Ze===0?qp.ceil(we):qp(we),we=ad.offset(we,(G.V-1)*7),G.y=we.getFullYear(),G.m=we.getMonth(),G.d=we.getDate()+(G.w+6)%7)}else("W"in G||"U"in G)&&("w"in G||(G.w="u"in G?G.u%7:"W"in G?1:0),Ze="Z"in G?mv(Tu(G.y,0,1)).getUTCDay():pv(Tu(G.y,0,1)).getDay(),G.m=0,G.d="W"in G?(G.w+6)%7+G.W*7-(Ze+5)%7:G.w+G.U*7-(Ze+6)%7);return"Z"in G?(G.H+=G.Z/100|0,G.M+=G.Z%100,mv(G)):pv(G)}}function S(ie,ce,de,G){for(var Be=0,we=ce.length,Ze=de.length,et,Lt;Be<we;){if(G>=Ze)return-1;if(et=ce.charCodeAt(Be++),et===37){if(et=ce.charAt(Be++),Lt=T[et in cP?ce.charAt(Be++):et],!Lt||(G=Lt(ie,de,G))<0)return-1}else if(et!=de.charCodeAt(G++))return-1}return G}function C(ie,ce,de){var G=u.exec(ce.slice(de));return G?(ie.p=c.get(G[0].toLowerCase()),de+G[0].length):-1}function R(ie,ce,de){var G=p.exec(ce.slice(de));return G?(ie.w=g.get(G[0].toLowerCase()),de+G[0].length):-1}function N(ie,ce,de){var G=f.exec(ce.slice(de));return G?(ie.w=h.get(G[0].toLowerCase()),de+G[0].length):-1}function I(ie,ce,de){var G=x.exec(ce.slice(de));return G?(ie.m=y.get(G[0].toLowerCase()),de+G[0].length):-1}function P(ie,ce,de){var G=m.exec(ce.slice(de));return G?(ie.m=v.get(G[0].toLowerCase()),de+G[0].length):-1}function $(ie,ce,de){return S(ie,e,ce,de)}function F(ie,ce,de){return S(ie,n,ce,de)}function U(ie,ce,de){return S(ie,r,ce,de)}function B(ie){return o[ie.getDay()]}function L(ie){return a[ie.getDay()]}function q(ie){return l[ie.getMonth()]}function Y(ie){return s[ie.getMonth()]}function re(ie){return i[+(ie.getHours()>=12)]}function X(ie){return 1+~~(ie.getMonth()/3)}function ne(ie){return o[ie.getUTCDay()]}function ge(ie){return a[ie.getUTCDay()]}function Oe(ie){return l[ie.getUTCMonth()]}function at(ie){return s[ie.getUTCMonth()]}function Ye(ie){return i[+(ie.getUTCHours()>=12)]}function cn(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var ce=O(ie+="",_);return ce.toString=function(){return ie},ce},parse:function(ie){var ce=k(ie+="",!1);return ce.toString=function(){return ie},ce},utcFormat:function(ie){var ce=O(ie+="",E);return ce.toString=function(){return ie},ce},utcParse:function(ie){var ce=k(ie+="",!0);return ce.toString=function(){return ie},ce}}}var cP={"-":"",_:" ",0:"0"},Jt=/^\s*\d+/,joe=/^%/,Doe=/[\\^$*+?|[\]().{}]/g;function Ue(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function Moe(t){return t.replace(Doe,"\\$&")}function Au(t){return new RegExp("^(?:"+t.map(Moe).join("|")+")","i")}function Pu(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function $oe(t,e,n){var r=Jt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Loe(t,e,n){var r=Jt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Voe(t,e,n){var r=Jt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Foe(t,e,n){var r=Jt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Uoe(t,e,n){var r=Jt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function fP(t,e,n){var r=Jt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function dP(t,e,n){var r=Jt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Boe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function zoe(t,e,n){var r=Jt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Woe(t,e,n){var r=Jt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function hP(t,e,n){var r=Jt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function qoe(t,e,n){var r=Jt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function pP(t,e,n){var r=Jt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Hoe(t,e,n){var r=Jt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Koe(t,e,n){var r=Jt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Goe(t,e,n){var r=Jt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Xoe(t,e,n){var r=Jt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Yoe(t,e,n){var r=joe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Qoe(t,e,n){var r=Jt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Joe(t,e,n){var r=Jt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function mP(t,e){return Ue(t.getDate(),e,2)}function Zoe(t,e){return Ue(t.getHours(),e,2)}function ese(t,e){return Ue(t.getHours()%12||12,e,2)}function tse(t,e){return Ue(1+ad.count(Li(t),t),e,3)}function gM(t,e){return Ue(t.getMilliseconds(),e,3)}function nse(t,e){return gM(t,e)+"000"}function rse(t,e){return Ue(t.getMonth()+1,e,2)}function ise(t,e){return Ue(t.getMinutes(),e,2)}function ase(t,e){return Ue(t.getSeconds(),e,2)}function ose(t){var e=t.getDay();return e===0?7:e}function sse(t,e){return Ue(Ag.count(Li(t)-1,t),e,2)}function yM(t){var e=t.getDay();return e>=4||e===0?vl(t):vl.ceil(t)}function lse(t,e){return t=yM(t),Ue(vl.count(Li(t),t)+(Li(t).getDay()===4),e,2)}function use(t){return t.getDay()}function cse(t,e){return Ue(qp.count(Li(t)-1,t),e,2)}function fse(t,e){return Ue(t.getFullYear()%100,e,2)}function dse(t,e){return t=yM(t),Ue(t.getFullYear()%100,e,2)}function hse(t,e){return Ue(t.getFullYear()%1e4,e,4)}function pse(t,e){var n=t.getDay();return t=n>=4||n===0?vl(t):vl.ceil(t),Ue(t.getFullYear()%1e4,e,4)}function mse(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ue(e/60|0,"0",2)+Ue(e%60,"0",2)}function gP(t,e){return Ue(t.getUTCDate(),e,2)}function gse(t,e){return Ue(t.getUTCHours(),e,2)}function yse(t,e){return Ue(t.getUTCHours()%12||12,e,2)}function vse(t,e){return Ue(1+Tg.count(Vi(t),t),e,3)}function vM(t,e){return Ue(t.getUTCMilliseconds(),e,3)}function bse(t,e){return vM(t,e)+"000"}function _se(t,e){return Ue(t.getUTCMonth()+1,e,2)}function wse(t,e){return Ue(t.getUTCMinutes(),e,2)}function xse(t,e){return Ue(t.getUTCSeconds(),e,2)}function Ese(t){var e=t.getUTCDay();return e===0?7:e}function Sse(t,e){return Ue(Pg.count(Vi(t)-1,t),e,2)}function bM(t){var e=t.getUTCDay();return e>=4||e===0?bl(t):bl.ceil(t)}function kse(t,e){return t=bM(t),Ue(bl.count(Vi(t),t)+(Vi(t).getUTCDay()===4),e,2)}function Tse(t){return t.getUTCDay()}function Ase(t,e){return Ue(Hp.count(Vi(t)-1,t),e,2)}function Pse(t,e){return Ue(t.getUTCFullYear()%100,e,2)}function Ise(t,e){return t=bM(t),Ue(t.getUTCFullYear()%100,e,2)}function Ose(t,e){return Ue(t.getUTCFullYear()%1e4,e,4)}function Cse(t,e){var n=t.getUTCDay();return t=n>=4||n===0?bl(t):bl.ceil(t),Ue(t.getUTCFullYear()%1e4,e,4)}function Rse(){return"+0000"}function yP(){return"%"}function vP(t){return+t}function bP(t){return Math.floor(+t/1e3)}var ps,_M,wM;Nse({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Nse(t){return ps=Noe(t),_M=ps.format,ps.parse,wM=ps.utcFormat,ps.utcParse,ps}function jse(t){return new Date(t)}function Dse(t){return t instanceof Date?+t:+new Date(+t)}function E1(t,e,n,r,i,a,o,s,l,u){var c=u1(),f=c.invert,h=c.domain,p=u(".%L"),g=u(":%S"),m=u("%I:%M"),v=u("%I %p"),x=u("%a %d"),y=u("%b %d"),_=u("%B"),E=u("%Y");function T(O){return(l(O)<O?p:s(O)<O?g:o(O)<O?m:a(O)<O?v:r(O)<O?i(O)<O?x:y:n(O)<O?_:E)(O)}return c.invert=function(O){return new Date(f(O))},c.domain=function(O){return arguments.length?h(Array.from(O,Dse)):h().map(jse)},c.ticks=function(O){var k=h();return t(k[0],k[k.length-1],O??10)},c.tickFormat=function(O,k){return k==null?T:u(k)},c.nice=function(O){var k=h();return(!O||typeof O.range!="function")&&(O=e(k[0],k[k.length-1],O??10)),O?h(sM(k,O)):c},c.copy=function(){return id(c,E1(t,e,n,r,i,a,o,s,l,u))},c}function Mse(){return wr.apply(E1(Coe,Roe,Li,w1,Ag,ad,b1,y1,vo,_M).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function $se(){return wr.apply(E1(Ioe,Ooe,Vi,x1,Pg,Tg,_1,v1,vo,wM).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ig(){var t=0,e=1,n,r,i,a,o=Cn,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:o(i===0?.5:(f=(a(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(o=f,u):o};function c(f){return function(h){var p,g;return arguments.length?([p,g]=h,o=f(p,g),u):[o(0),o(1)]}}return u.range=c(Gl),u.rangeRound=c(l1),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return a=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function Xa(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function xM(){var t=Ga(Ig()(Cn));return t.copy=function(){return Xa(t,xM())},Wi.apply(t,arguments)}function EM(){var t=d1(Ig()).domain([1,10]);return t.copy=function(){return Xa(t,EM()).base(t.base())},Wi.apply(t,arguments)}function SM(){var t=h1(Ig());return t.copy=function(){return Xa(t,SM()).constant(t.constant())},Wi.apply(t,arguments)}function S1(){var t=p1(Ig());return t.copy=function(){return Xa(t,S1()).exponent(t.exponent())},Wi.apply(t,arguments)}function Lse(){return S1.apply(null,arguments).exponent(.5)}function kM(){var t=[],e=Cn;function n(r){if(r!=null&&!isNaN(r=+r))return e((nd(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Pa),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>Sae(t,a/r))},n.copy=function(){return kM(e).domain(t)},Wi.apply(n,arguments)}function Og(){var t=0,e=.5,n=1,r=1,i,a,o,s,l,u=Cn,c,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+c(m))-a)*(r*m<r*a?s:l),u(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([t,e,n]=m,i=c(t=+t),a=c(e=+e),o=c(n=+n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,p):[t,e,n]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(u=m,p):u};function g(m){return function(v){var x,y,_;return arguments.length?([x,y,_]=v,u=Yae(m,[x,y,_]),p):[u(0),u(.5),u(1)]}}return p.range=g(Gl),p.rangeRound=g(l1),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return c=m,i=m(t),a=m(e),o=m(n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,p}}function TM(){var t=Ga(Og()(Cn));return t.copy=function(){return Xa(t,TM())},Wi.apply(t,arguments)}function AM(){var t=d1(Og()).domain([.1,1,10]);return t.copy=function(){return Xa(t,AM()).base(t.base())},Wi.apply(t,arguments)}function PM(){var t=h1(Og());return t.copy=function(){return Xa(t,PM()).constant(t.constant())},Wi.apply(t,arguments)}function k1(){var t=p1(Og());return t.copy=function(){return Xa(t,k1()).exponent(t.exponent())},Wi.apply(t,arguments)}function Vse(){return k1.apply(null,arguments).exponent(.5)}const _P=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ef,scaleDiverging:TM,scaleDivergingLog:AM,scaleDivergingPow:k1,scaleDivergingSqrt:Vse,scaleDivergingSymlog:PM,scaleIdentity:oM,scaleImplicit:Tb,scaleLinear:zp,scaleLog:lM,scaleOrdinal:a1,scalePoint:fc,scalePow:m1,scaleQuantile:fM,scaleQuantize:dM,scaleRadial:cM,scaleSequential:xM,scaleSequentialLog:EM,scaleSequentialPow:S1,scaleSequentialQuantile:kM,scaleSequentialSqrt:Lse,scaleSequentialSymlog:SM,scaleSqrt:boe,scaleSymlog:uM,scaleThreshold:hM,scaleTime:Mse,scaleUtc:$se,tickFormat:aM},Symbol.toStringTag,{value:"Module"}));var Fse=Fl;function Use(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],o=e(a);if(o!=null&&(s===void 0?o===o&&!Fse(o):n(o,s)))var s=o,l=a}return l}var Cg=Use;function Bse(t,e){return t>e}var IM=Bse,zse=Cg,Wse=IM,qse=Kl;function Hse(t){return t&&t.length?zse(t,qse,Wse):void 0}var Kse=Hse;const Rg=Ge(Kse);function Gse(t,e){return t<e}var OM=Gse,Xse=Cg,Yse=OM,Qse=Kl;function Jse(t){return t&&t.length?Xse(t,Qse,Yse):void 0}var Zse=Jse;const Ng=Ge(Zse);var ele=$x,tle=si,nle=LD,rle=Wn;function ile(t,e){var n=rle(t)?ele:nle;return n(t,tle(e))}var ale=ile,ole=MD,sle=ale;function lle(t,e){return ole(sle(t,e),1)}var ule=lle;const cle=Ge(ule);var fle=Zx;function dle(t,e){return fle(t,e)}var hle=dle;const jg=Ge(hle);var Xl=1e9,ple={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},A1,_t=!0,_r="[DecimalError] ",ko=_r+"Invalid argument: ",T1=_r+"Exponent out of range: ",Yl=Math.floor,uo=Math.pow,mle=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Yn,Kt=1e7,dt=7,CM=9007199254740991,Kp=Yl(CM/dt),se={};se.absoluteValue=se.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};se.comparedTo=se.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};se.decimalPlaces=se.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*dt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};se.dividedBy=se.div=function(t){return Pi(this,new this.constructor(t))};se.dividedToIntegerBy=se.idiv=function(t){var e=this,n=e.constructor;return rt(Pi(e,new n(t),0,1),n.precision)};se.equals=se.eq=function(t){return!this.cmp(t)};se.exponent=function(){return $t(this)};se.greaterThan=se.gt=function(t){return this.cmp(t)>0};se.greaterThanOrEqualTo=se.gte=function(t){return this.cmp(t)>=0};se.isInteger=se.isint=function(){return this.e>this.d.length-2};se.isNegative=se.isneg=function(){return this.s<0};se.isPositive=se.ispos=function(){return this.s>0};se.isZero=function(){return this.s===0};se.lessThan=se.lt=function(t){return this.cmp(t)<0};se.lessThanOrEqualTo=se.lte=function(t){return this.cmp(t)<1};se.logarithm=se.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Yn))throw Error(_r+"NaN");if(n.s<1)throw Error(_r+(n.s?"NaN":"-Infinity"));return n.eq(Yn)?new r(0):(_t=!1,e=Pi(of(n,a),of(t,a),a),_t=!0,rt(e,i))};se.minus=se.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?jM(e,t):RM(e,(t.s=-t.s,t))};se.modulo=se.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(_r+"NaN");return n.s?(_t=!1,e=Pi(n,t,0,1).times(t),_t=!0,n.minus(e)):rt(new r(n),i)};se.naturalExponential=se.exp=function(){return NM(this)};se.naturalLogarithm=se.ln=function(){return of(this)};se.negated=se.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};se.plus=se.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?RM(e,t):jM(e,(t.s=-t.s,t))};se.precision=se.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ko+t);if(e=$t(i)+1,r=i.d.length-1,n=r*dt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};se.squareRoot=se.sqrt=function(){var t,e,n,r,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(_r+"NaN")}for(t=$t(s),_t=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=qr(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Yl((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(a=r,r=a.plus(Pi(s,a,o+2)).times(.5),qr(a.d).slice(0,o)===(e=qr(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(rt(a,n+1,0),a.times(a).eq(s)){r=a;break}}else if(e!="9999")break;o+=4}return _t=!0,rt(r,n)};se.times=se.mul=function(t){var e,n,r,i,a,o,s,l,u,c=this,f=c.constructor,h=c.d,p=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,n=c.e+t.e,l=h.length,u=p.length,l<u&&(a=h,h=p,p=a,o=l,l=u,u=o),a=[],o=l+u,r=o;r--;)a.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=a[i]+p[r]*h[i-r-1]+e,a[i--]=s%Kt|0,e=s/Kt|0;a[i]=(a[i]+e)%Kt|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,_t?rt(t,f.precision):t};se.toDecimalPlaces=se.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ri(t,0,Xl),e===void 0?e=r.rounding:ri(e,0,8),rt(n,t+$t(n)+1,e))};se.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Uo(r,!0):(ri(t,0,Xl),e===void 0?e=i.rounding:ri(e,0,8),r=rt(new i(r),t+1,e),n=Uo(r,!0,t+1)),n};se.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Uo(i):(ri(t,0,Xl),e===void 0?e=a.rounding:ri(e,0,8),r=rt(new a(i),t+$t(i)+1,e),n=Uo(r.abs(),!1,t+$t(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};se.toInteger=se.toint=function(){var t=this,e=t.constructor;return rt(new e(t),$t(t)+1,e.rounding)};se.toNumber=function(){return+this};se.toPower=se.pow=function(t){var e,n,r,i,a,o,s=this,l=s.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(Yn);if(s=new l(s),!s.s){if(t.s<1)throw Error(_r+"Infinity");return s}if(s.eq(Yn))return s;if(r=l.precision,t.eq(Yn))return rt(s,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=s.s,o){if((n=c<0?-c:c)<=CM){for(i=new l(Yn),e=Math.ceil(r/dt+4),_t=!1;n%2&&(i=i.times(s),xP(i.d,e)),n=Yl(n/2),n!==0;)s=s.times(s),xP(s.d,e);return _t=!0,t.s<0?new l(Yn).div(i):rt(i,r)}}else if(a<0)throw Error(_r+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,_t=!1,i=t.times(of(s,r+u)),_t=!0,i=NM(i),i.s=a,i};se.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=$t(i),r=Uo(i,n<=a.toExpNeg||n>=a.toExpPos)):(ri(t,1,Xl),e===void 0?e=a.rounding:ri(e,0,8),i=rt(new a(i),t,e),n=$t(i),r=Uo(i,t<=n||n<=a.toExpNeg,t)),r};se.toSignificantDigits=se.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ri(t,1,Xl),e===void 0?e=r.rounding:ri(e,0,8)),rt(new r(n),t,e)};se.toString=se.valueOf=se.val=se.toJSON=se[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=$t(t),n=t.constructor;return Uo(t,e<=n.toExpNeg||e>=n.toExpPos)};function RM(t,e){var n,r,i,a,o,s,l,u,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),_t?rt(e,f):e;if(l=t.d,u=e.d,o=t.e,i=e.e,l=l.slice(),a=o-i,a){for(a<0?(r=l,a=-a,s=u.length):(r=u,i=o,s=l.length),o=Math.ceil(f/dt),s=o>s?o+1:s+1,a>s&&(a=s,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(s=l.length,a=u.length,s-a<0&&(a=s,r=u,u=l,l=r),n=0;a;)n=(l[--a]=l[a]+u[a]+n)/Kt|0,l[a]%=Kt;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,_t?rt(e,f):e}function ri(t,e,n){if(t!==~~t||t<e||t>n)throw Error(ko+t)}function qr(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=dt-r.length,n&&(a+=ta(n)),a+=r;o=t[e],r=o+"",n=dt-r.length,n&&(a+=ta(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Pi=function(){function t(r,i){var a,o=0,s=r.length;for(r=r.slice();s--;)a=r[s]*i+o,r[s]=a%Kt|0,o=a/Kt|0;return o&&r.unshift(o),r}function e(r,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*Kt+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var s,l,u,c,f,h,p,g,m,v,x,y,_,E,T,O,k,S,C=r.constructor,R=r.s==i.s?1:-1,N=r.d,I=i.d;if(!r.s)return new C(r);if(!i.s)throw Error(_r+"Division by zero");for(l=r.e-i.e,k=I.length,T=N.length,p=new C(R),g=p.d=[],u=0;I[u]==(N[u]||0);)++u;if(I[u]>(N[u]||0)&&--l,a==null?y=a=C.precision:o?y=a+($t(r)-$t(i))+1:y=a,y<0)return new C(0);if(y=y/dt+2|0,u=0,k==1)for(c=0,I=I[0],y++;(u<T||c)&&y--;u++)_=c*Kt+(N[u]||0),g[u]=_/I|0,c=_%I|0;else{for(c=Kt/(I[0]+1)|0,c>1&&(I=t(I,c),N=t(N,c),k=I.length,T=N.length),E=k,m=N.slice(0,k),v=m.length;v<k;)m[v++]=0;S=I.slice(),S.unshift(0),O=I[0],I[1]>=Kt/2&&++O;do c=0,s=e(I,m,k,v),s<0?(x=m[0],k!=v&&(x=x*Kt+(m[1]||0)),c=x/O|0,c>1?(c>=Kt&&(c=Kt-1),f=t(I,c),h=f.length,v=m.length,s=e(f,m,h,v),s==1&&(c--,n(f,k<h?S:I,h))):(c==0&&(s=c=1),f=I.slice()),h=f.length,h<v&&f.unshift(0),n(m,f,v),s==-1&&(v=m.length,s=e(I,m,k,v),s<1&&(c++,n(m,k<v?S:I,v))),v=m.length):s===0&&(c++,m=[0]),g[u++]=c,s&&m[0]?m[v++]=N[E]||0:(m=[N[E]],v=1);while((E++<T||m[0]!==void 0)&&y--)}return g[0]||g.shift(),p.e=l,rt(p,o?a+$t(p)+1:a)}}();function NM(t,e){var n,r,i,a,o,s,l=0,u=0,c=t.constructor,f=c.precision;if($t(t)>16)throw Error(T1+$t(t));if(!t.s)return new c(Yn);for(e==null?(_t=!1,s=f):s=e,o=new c(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(r=Math.log(uo(2,u))/Math.LN10*2+5|0,s+=r,n=i=a=new c(Yn),c.precision=s;;){if(i=rt(i.times(t),s),n=n.times(++l),o=a.plus(Pi(i,n,s)),qr(o.d).slice(0,s)===qr(a.d).slice(0,s)){for(;u--;)a=rt(a.times(a),s);return c.precision=f,e==null?(_t=!0,rt(a,f)):a}a=o}}function $t(t){for(var e=t.e*dt,n=t.d[0];n>=10;n/=10)e++;return e}function gv(t,e,n){if(e>t.LN10.sd())throw _t=!0,n&&(t.precision=n),Error(_r+"LN10 precision limit exceeded");return rt(new t(t.LN10),e)}function ta(t){for(var e="";t--;)e+="0";return e}function of(t,e){var n,r,i,a,o,s,l,u,c,f=1,h=10,p=t,g=p.d,m=p.constructor,v=m.precision;if(p.s<1)throw Error(_r+(p.s?"NaN":"-Infinity"));if(p.eq(Yn))return new m(0);if(e==null?(_t=!1,u=v):u=e,p.eq(10))return e==null&&(_t=!0),gv(m,u);if(u+=h,m.precision=u,n=qr(g),r=n.charAt(0),a=$t(p),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=qr(p.d),r=n.charAt(0),f++;a=$t(p),r>1?(p=new m("0."+n),a++):p=new m(r+"."+n.slice(1))}else return l=gv(m,u+2,v).times(a+""),p=of(new m(r+"."+n.slice(1)),u-h).plus(l),m.precision=v,e==null?(_t=!0,rt(p,v)):p;for(s=o=p=Pi(p.minus(Yn),p.plus(Yn),u),c=rt(p.times(p),u),i=3;;){if(o=rt(o.times(c),u),l=s.plus(Pi(o,new m(i),u)),qr(l.d).slice(0,u)===qr(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(gv(m,u+2,v).times(a+""))),s=Pi(s,new m(f),u),m.precision=v,e==null?(_t=!0,rt(s,v)):s;s=l,i+=2}}function wP(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Yl(n/dt),t.d=[],r=(n+1)%dt,n<0&&(r+=dt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=dt;r<i;)t.d.push(+e.slice(r,r+=dt));e=e.slice(r),r=dt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),_t&&(t.e>Kp||t.e<-Kp))throw Error(T1+n)}else t.s=0,t.e=0,t.d=[0];return t}function rt(t,e,n){var r,i,a,o,s,l,u,c,f=t.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=dt,i=e,u=f[c=0];else{if(c=Math.ceil((r+1)/dt),a=f.length,c>=a)return t;for(u=a=f[c],o=1;a>=10;a/=10)o++;r%=dt,i=r-dt+o}if(n!==void 0&&(a=uo(10,o-i-1),s=u/a%10|0,l=e<0||f[c+1]!==void 0||u%a,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/uo(10,o-i):0:f[c-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(a=$t(t),f.length=1,e=e-a-1,f[0]=uo(10,(dt-e%dt)%dt),t.e=Yl(-e/dt)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=c,a=1,c--):(f.length=c+1,a=uo(10,dt-r),f[c]=i>0?(u/uo(10,o-i)%uo(10,i)|0)*a:0),l)for(;;)if(c==0){(f[0]+=a)==Kt&&(f[0]=1,++t.e);break}else{if(f[c]+=a,f[c]!=Kt)break;f[c--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(_t&&(t.e>Kp||t.e<-Kp))throw Error(T1+$t(t));return t}function jM(t,e){var n,r,i,a,o,s,l,u,c,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),_t?rt(e,p):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),o=u-r,o){for(c=o<0,c?(n=l,o=-o,s=f.length):(n=f,r=u,s=l.length),i=Math.max(Math.ceil(p/dt),s)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}o=0}for(c&&(n=l,l=f,f=n,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>o;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=Kt-1;--l[a],l[i]+=Kt}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,_t?rt(e,p):e):new h(0)}function Uo(t,e,n){var r,i=$t(t),a=qr(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+ta(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+ta(-i-1)+a,n&&(r=n-o)>0&&(a+=ta(r))):i>=o?(a+=ta(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+ta(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=ta(r))),t.s<0?"-"+a:a}function xP(t,e){if(t.length>e)return t.length=e,!0}function DM(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(ko+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return wP(o,a.toString())}else if(typeof a!="string")throw Error(ko+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,mle.test(a))wP(o,a);else throw Error(ko+a)}if(i.prototype=se,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=DM,i.config=i.set=gle,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function gle(t){if(!t||typeof t!="object")throw Error(_r+"Object expected");var e,n,r,i=["precision",1,Xl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Yl(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(ko+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ko+n+": "+r);return this}var A1=DM(ple);Yn=new A1(1);const Qe=A1;function yle(t){return wle(t)||_le(t)||ble(t)||vle()}function vle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ble(t,e){if(t){if(typeof t=="string")return Ob(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ob(t,e)}}function _le(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function wle(t){if(Array.isArray(t))return Ob(t)}function Ob(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var xle=function(e){return e},MM={"@@functional/placeholder":!0},$M=function(e){return e===MM},EP=function(e){return function n(){return arguments.length===0||arguments.length===1&&$M(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Ele=function t(e,n){return e===1?n:EP(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==MM}).length;return o>=e?n.apply(void 0,i):t(e-o,EP(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(f){return $M(f)?l.shift():f});return n.apply(void 0,yle(c).concat(l))}))})},Dg=function(e){return Ele(e.length,e)},Cb=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Sle=Dg(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),kle=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return xle;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},Rb=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},LM=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(s,l){return s===n[l]})||(n=a,r=e.apply(void 0,a)),r}};function Tle(t){var e;return t===0?e=1:e=Math.floor(new Qe(t).abs().log(10).toNumber())+1,e}function Ale(t,e,n){for(var r=new Qe(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var Ple=Dg(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Ile=Dg(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Ole=Dg(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Mg={rangeStep:Ale,getDigitCount:Tle,interpolateNumber:Ple,uninterpolateNumber:Ile,uninterpolateTruncation:Ole};function Nb(t){return Nle(t)||Rle(t)||VM(t)||Cle()}function Cle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rle(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Nle(t){if(Array.isArray(t))return jb(t)}function sf(t,e){return Mle(t)||Dle(t,e)||VM(t,e)||jle()}function jle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VM(t,e){if(t){if(typeof t=="string")return jb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jb(t,e)}}function jb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Dle(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function Mle(t){if(Array.isArray(t))return t}function FM(t){var e=sf(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function UM(t,e,n){if(t.lte(0))return new Qe(0);var r=Mg.getDigitCount(t.toNumber()),i=new Qe(10).pow(r),a=t.div(i),o=r!==1?.05:.1,s=new Qe(Math.ceil(a.div(o).toNumber())).add(n).mul(o),l=s.mul(i);return e?l:new Qe(Math.ceil(l))}function $le(t,e,n){var r=1,i=new Qe(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Qe(10).pow(Mg.getDigitCount(t)-1),i=new Qe(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Qe(Math.floor(t)))}else t===0?i=new Qe(Math.floor((e-1)/2)):n||(i=new Qe(Math.floor(t)));var o=Math.floor((e-1)/2),s=kle(Sle(function(l){return i.add(new Qe(l-o).mul(r)).toNumber()}),Cb);return s(0,e)}function BM(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Qe(0),tickMin:new Qe(0),tickMax:new Qe(0)};var a=UM(new Qe(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new Qe(0):(o=new Qe(t).add(e).div(2),o=o.sub(new Qe(o).mod(a)));var s=Math.ceil(o.sub(t).div(a).toNumber()),l=Math.ceil(new Qe(e).sub(o).div(a).toNumber()),u=s+l+1;return u>n?BM(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:a,tickMin:o.sub(new Qe(s).mul(a)),tickMax:o.add(new Qe(l).mul(a))})}function Lle(t){var e=sf(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=FM([n,r]),l=sf(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var f=c===1/0?[u].concat(Nb(Cb(0,i-1).map(function(){return 1/0}))):[].concat(Nb(Cb(0,i-1).map(function(){return-1/0})),[c]);return n>r?Rb(f):f}if(u===c)return $le(u,i,a);var h=BM(u,c,o,a),p=h.step,g=h.tickMin,m=h.tickMax,v=Mg.rangeStep(g,m.add(new Qe(.1).mul(p)),p);return n>r?Rb(v):v}function Vle(t,e){var n=sf(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=FM([r,i]),s=sf(o,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),f=UM(new Qe(u).sub(l).div(c-1),a,0),h=[].concat(Nb(Mg.rangeStep(new Qe(l),new Qe(u).sub(new Qe(.99).mul(f)),f)),[u]);return r>i?Rb(h):h}var Fle=LM(Lle),Ule=LM(Vle),Ble="Invariant failed";function Bo(t,e){throw new Error(Ble)}var zle=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Gp(){return Gp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gp.apply(this,arguments)}function Wle(t,e){return Gle(t)||Kle(t,e)||Hle(t,e)||qle()}function qle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hle(t,e){if(t){if(typeof t=="string")return SP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SP(t,e)}}function SP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Kle(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Gle(t){if(Array.isArray(t))return t}function Xle(t,e){if(t==null)return{};var n=Yle(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Yle(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function $g(t){var e=t.offset,n=t.layout,r=t.width,i=t.dataKey,a=t.data,o=t.dataPointFormatter,s=t.xAxis,l=t.yAxis,u=Xle(t,zle),c=me(u,!1);t.direction==="x"&&s.type!=="number"&&Bo();var f=a.map(function(h){var p=o(h,i),g=p.x,m=p.y,v=p.value,x=p.errorVal;if(!x)return null;var y=[],_,E;if(Array.isArray(x)){var T=Wle(x,2);_=T[0],E=T[1]}else _=E=x;if(n==="vertical"){var O=s.scale,k=m+e,S=k+r,C=k-r,R=O(v-_),N=O(v+E);y.push({x1:N,y1:S,x2:N,y2:C}),y.push({x1:R,y1:k,x2:N,y2:k}),y.push({x1:R,y1:S,x2:R,y2:C})}else if(n==="horizontal"){var I=l.scale,P=g+e,$=P-r,F=P+r,U=I(v-_),B=I(v+E);y.push({x1:$,y1:B,x2:F,y2:B}),y.push({x1:P,y1:U,x2:P,y2:B}),y.push({x1:$,y1:U,x2:F,y2:U})}return M.createElement(He,Gp({className:"recharts-errorBar",key:"bar-".concat(y.map(function(L){return"".concat(L.x1,"-").concat(L.x2,"-").concat(L.y1,"-").concat(L.y2)}))},c),y.map(function(L){return M.createElement("line",Gp({},L,{key:"line-".concat(L.x1,"-").concat(L.x2,"-").concat(L.y1,"-").concat(L.y2)}))}))});return M.createElement(He,{className:"recharts-errorBars"},f)}$g.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"};$g.displayName="ErrorBar";function lf(t){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lf(t)}function kP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kP(Object(n),!0).forEach(function(r){Qle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qle(t,e,n){return e=Jle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jle(t){var e=Zle(t,"string");return lf(e)=="symbol"?e:String(e)}function Zle(t,e){if(lf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zM=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=Gn(n,Gc);if(!o)return null;var s;return o.props&&o.props.payload?s=o.props&&o.props.payload:a==="children"?s=(r||[]).reduce(function(l,u){var c=u.item,f=u.props,h=f.sectors||f.data||[];return l.concat(h.map(function(p){return{type:o.props.iconType||c.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):s=(r||[]).map(function(l){var u=l.item,c=u.props,f=c.dataKey,h=c.name,p=c.legendType,g=c.hide;return{inactive:g,dataKey:f,type:o.props.iconType||p||"square",color:P1(u),value:h||f,payload:u.props}}),yv(yv(yv({},o.props),Gc.getWithHeight(o,i)),{},{payload:s,item:o})};function uf(t){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uf(t)}function TP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TP(Object(n),!0).forEach(function(r){Qs(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qs(t,e,n){return e=eue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eue(t){var e=tue(t,"string");return uf(e)=="symbol"?e:String(e)}function tue(t,e){if(uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AP(t){return aue(t)||iue(t)||rue(t)||nue()}function nue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rue(t,e){if(t){if(typeof t=="string")return Db(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Db(t,e)}}function iue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function aue(t){if(Array.isArray(t))return Db(t)}function Db(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xn(t,e,n){return Pe(t)||Pe(e)?n:Bt(e)?er(t,e,n):be(e)?e(t):n}function dc(t,e,n,r){var i=cle(t,function(s){return xn(s,e)});if(n==="number"){var a=i.filter(function(s){return Z(s)||parseFloat(s)});return a.length?[Ng(a),Rg(a)]:[1/0,-1/0]}var o=r?i.filter(function(s){return!Pe(s)}):i;return o.map(function(s){return Bt(s)||s instanceof Date?s:""})}var oue=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,f=i[u].coordinate,h=u>=s-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(In(f-c)!==In(h-f)){var g=[];if(In(h-f)===In(l[1]-l[0])){p=h;var m=f+l[1]-l[0];g[0]=Math.min(m,(m+c)/2),g[1]=Math.max(m,(m+c)/2)}else{p=c;var v=h+l[1]-l[0];g[0]=Math.min(f,(v+f)/2),g[1]=Math.max(f,(v+f)/2)}var x=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>x[0]&&e<=x[1]||e>=g[0]&&e<=g[1]){o=i[u].index;break}}else{var y=Math.min(c,h),_=Math.max(c,h);if(e>(y+f)/2&&e<=(_+f)/2){o=i[u].index;break}}}else for(var E=0;E<s;E++)if(E===0&&e<=(r[E].coordinate+r[E+1].coordinate)/2||E>0&&E<s-1&&e>(r[E].coordinate+r[E-1].coordinate)/2&&e<=(r[E].coordinate+r[E+1].coordinate)/2||E===s-1&&e>(r[E].coordinate+r[E-1].coordinate)/2){o=r[E].index;break}return o},P1=function(e){var n=e,r=n.type.displayName,i=e.props,a=i.stroke,o=i.fill,s;switch(r){case"Line":s=a;break;case"Area":case"Radar":s=a&&a!=="none"?a:o;break;default:s=o;break}return s},sue=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,u=s.length;l<u;l++)for(var c=a[s[l]].stackGroups,f=Object.keys(c),h=0,p=f.length;h<p;h++){var g=c[f[h]],m=g.items,v=g.cateAxisId,x=m.filter(function(T){return Ti(T.type).indexOf("Bar")>=0});if(x&&x.length){var y=x[0].props.barSize,_=x[0].props[v];o[_]||(o[_]=[]);var E=Pe(y)?n:y;o[_].push({item:x[0],stackList:x.slice(1),barSize:Pe(E)?void 0:On(E,r,0)})}}return o},lue=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,s=e.maxBarSize,l=o.length;if(l<1)return null;var u=On(n,i,0,!0),c,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=i/l,g=o.reduce(function(E,T){return E+T.barSize||0},0);g+=(l-1)*u,g>=i&&(g-=(l-1)*u,u=0),g>=i&&p>0&&(h=!0,p*=.9,g=l*p);var m=(i-g)/2>>0,v={offset:m-u,size:0};c=o.reduce(function(E,T){var O={item:T.item,position:{offset:v.offset+v.size+u,size:h?p:T.barSize}},k=[].concat(AP(E),[O]);return v=k[k.length-1].position,T.stackList&&T.stackList.length&&T.stackList.forEach(function(S){k.push({item:S,position:v})}),k},f)}else{var x=On(r,i,0,!0);i-2*x-(l-1)*u<=0&&(u=0);var y=(i-2*x-(l-1)*u)/l;y>1&&(y>>=0);var _=s===+s?Math.min(y,s):y;c=o.reduce(function(E,T,O){var k=[].concat(AP(E),[{item:T.item,position:{offset:x+(y+u)*O+(y-_)/2,size:_}}]);return T.stackList&&T.stackList.length&&T.stackList.forEach(function(S){k.push({item:S,position:k[k.length-1].position})}),k},f)}return c},uue=function(e,n,r,i){var a=r.children,o=r.width,s=r.margin,l=o-(s.left||0)-(s.right||0),u=zM({children:a,legendWidth:l});if(u){var c=i||{},f=c.width,h=c.height,p=u.align,g=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&p!=="center"&&Z(e[p]))return fr(fr({},e),{},Qs({},p,e[p]+(f||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&g!=="middle"&&Z(e[g]))return fr(fr({},e),{},Qs({},g,e[g]+(h||0)))}return e},cue=function(e,n,r){return Pe(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},WM=function(e,n,r,i,a){var o=n.props.children,s=yr(o,$g).filter(function(u){return cue(i,a,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var f=xn(c,r);if(Pe(f))return u;var h=Array.isArray(f)?[Ng(f),Rg(f)]:[f,f],p=l.reduce(function(g,m){var v=xn(c,m,0),x=h[0]-Math.abs(Array.isArray(v)?v[0]:v),y=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(x,g[0]),Math.max(y,g[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},fue=function(e,n,r,i,a){var o=n.map(function(s){return WM(e,s,r,a,i)}).filter(function(s){return!Pe(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},qM=function(e,n,r,i,a){var o=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&WM(e,l,u,i)||dc(e,u,r,a)});if(r==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,u){for(var c=0,f=u.length;c<f;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},HM=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},KM=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var a,o,s=e.map(function(l){return l.coordinate===n&&(a=!0),l.coordinate===r&&(o=!0),l.coordinate});return a||s.push(n),o||s.push(r),s},xi=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?In(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return c.filter(function(f){return!Jf(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:a?a[f]:f,index:h,offset:u}})},vv=new WeakMap,ah=function(e,n){if(typeof n!="function")return e;vv.has(e)||vv.set(e,new WeakMap);var r=vv.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},GM=function(e,n,r){var i=e.scale,a=e.type,o=e.layout,s=e.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:ef(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:zp(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:fc(),realScaleType:"point"}:a==="category"?{scale:ef(),realScaleType:"band"}:{scale:zp(),realScaleType:"linear"};if(Qf(i)){var l="scale".concat(vg(i));return{scale:(_P[l]||fc)(),realScaleType:_P[l]?l:"point"}}return be(i)?{scale:i}:{scale:fc(),realScaleType:"point"}},PP=1e-4,XM=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-PP,o=Math.max(i[0],i[1])+PP,s=e(n[0]),l=e(n[r-1]);(s<a||s>o||l<a||l>o)&&e.domain([n[0],n[r-1]])}},due=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},hue=function(e,n){if(!n||n.length!==2||!Z(n[0])||!Z(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!Z(e[0])||e[0]<r)&&(a[0]=r),(!Z(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},pue=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0,s=0;s<n;++s){var l=Jf(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1]):(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1])}},mue=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0;o<n;++o){var s=Jf(e[o][r][1])?e[o][r][0]:e[o][r][1];s>=0?(e[o][r][0]=a,e[o][r][1]=a+s,a=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},gue={sign:pue,expand:qX,none:dl,silhouette:HX,wiggle:KX,positive:mue},yue=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),a=gue[r],o=WX().keys(i).value(function(s,l){return+xn(s,l,0)}).order(ob).offset(a);return o(e)},vue=function(e,n,r,i,a,o){if(!e)return null;var s=o?n.reverse():n,l={},u=s.reduce(function(f,h){var p=h.props,g=p.stackId,m=p.hide;if(m)return f;var v=h.props[r],x=f[v]||{hasStack:!1,stackGroups:{}};if(Bt(g)){var y=x.stackGroups[g]||{numericAxisId:r,cateAxisId:i,items:[]};y.items.push(h),x.hasStack=!0,x.stackGroups[g]=y}else x.stackGroups[Zf("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return fr(fr({},f),{},Qs({},v,x))},l),c={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,v){var x=p.stackGroups[v];return fr(fr({},m),{},Qs({},v,{numericAxisId:r,cateAxisId:i,items:x.items,stackedData:yue(e,x.items,a)}))},g)}return fr(fr({},f),{},Qs({},h,p))},c)},YM=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=Fle(u,a,s);return e.domain([Ng(c),Rg(c)]),{niceTicks:c}}if(a&&i==="number"){var f=e.domain(),h=Ule(f,a,s);return{niceTicks:h}}return null},IP=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=xn(o,n.dataKey,n.domain[s]);return Pe(l)?null:n.scale(l)-a/2+i},bue=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},_ue=function(e,n){var r=e.props.stackId;if(Bt(r)){var i=n[r];if(i){var a=i.items.indexOf(e);return a>=0?i.stackedData[a]:null}}return null},wue=function(e){return e.reduce(function(n,r){return[Ng(r.concat([n[0]]).filter(Z)),Rg(r.concat([n[1]]).filter(Z))]},[1/0,-1/0])},QM=function(e,n,r){return Object.keys(e).reduce(function(i,a){var o=e[a],s=o.stackedData,l=s.reduce(function(u,c){var f=wue(c.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},OP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,CP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Mb=function(e,n,r){if(be(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Z(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(OP.test(e[0])){var a=+OP.exec(e[0])[1];i[0]=n[0]-a}else be(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Z(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(CP.test(e[1])){var o=+CP.exec(e[1])[1];i[1]=n[1]+o}else be(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Xp=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=t1(n,function(f){return f.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var u=a[s],c=a[s-1];o=Math.min((u.coordinate||0)-(c.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},RP=function(e,n,r){return!e||!e.length||jg(e,er(r,"type.defaultProps.domain"))?n:e},JM=function(e,n){var r=e.props,i=r.dataKey,a=r.name,o=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return fr(fr({},me(e,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:P1(e),value:xn(n,i),type:l,payload:n,chartType:u,hide:c})};function cf(t){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cf(t)}function NP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NP(Object(n),!0).forEach(function(r){ZM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZM(t,e,n){return e=xue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xue(t){var e=Eue(t,"string");return cf(e)=="symbol"?e:String(e)}function Eue(t,e){if(cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sue(t,e){return Pue(t)||Aue(t,e)||Tue(t,e)||kue()}function kue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tue(t,e){if(t){if(typeof t=="string")return jP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jP(t,e)}}function jP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Aue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Pue(t){if(Array.isArray(t))return t}var Yp=Math.PI/180,Iue=function(e){return e*180/Math.PI},lt=function(e,n,r,i){return{x:e+Math.cos(-Yp*i)*r,y:n+Math.sin(-Yp*i)*r}},e$=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Oue=function(e,n,r,i,a){var o=e.width,s=e.height,l=e.startAngle,u=e.endAngle,c=On(e.cx,o,o/2),f=On(e.cy,s,s/2),h=e$(o,s,r),p=On(e.innerRadius,h,0),g=On(e.outerRadius,h,h*.8),m=Object.keys(n);return m.reduce(function(v,x){var y=n[x],_=y.domain,E=y.reversed,T;if(Pe(y.range))i==="angleAxis"?T=[l,u]:i==="radiusAxis"&&(T=[p,g]),E&&(T=[T[1],T[0]]);else{T=y.range;var O=T,k=Sue(O,2);l=k[0],u=k[1]}var S=GM(y,a),C=S.realScaleType,R=S.scale;R.domain(_).range(T),XM(R);var N=YM(R,hi(hi({},y),{},{realScaleType:C})),I=hi(hi(hi({},y),N),{},{range:T,radius:g,realScaleType:C,scale:R,cx:c,cy:f,innerRadius:p,outerRadius:g,startAngle:l,endAngle:u});return hi(hi({},v),{},ZM({},x,I))},{})},Cue=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-o,2))},Rue=function(e,n){var r=e.x,i=e.y,a=n.cx,o=n.cy,s=Cue({x:r,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(r-a)/s,u=Math.acos(l);return i>o&&(u=2*Math.PI-u),{radius:s,angle:Iue(u),angleInRadian:u}},Nue=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:r-o*360}},jue=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),o=Math.floor(i/360),s=Math.min(a,o);return e+s*360},DP=function(e,n){var r=e.x,i=e.y,a=Rue({x:r,y:i},n),o=a.radius,s=a.angle,l=n.innerRadius,u=n.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var c=Nue(n),f=c.startAngle,h=c.endAngle,p=s,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?hi(hi({},n),{},{radius:o,angle:jue(p,n)}):null},t$=function(e){return!D.isValidElement(e)&&!be(e)&&typeof e!="boolean"?e.className:""};function ff(t){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ff(t)}var Due=["offset"];function Mue(t){return Fue(t)||Vue(t)||Lue(t)||$ue()}function $ue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lue(t,e){if(t){if(typeof t=="string")return $b(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $b(t,e)}}function Vue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Fue(t){if(Array.isArray(t))return $b(t)}function $b(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Uue(t,e){if(t==null)return{};var n=Bue(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Bue(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function MP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MP(Object(n),!0).forEach(function(r){zue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zue(t,e,n){return e=Wue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wue(t){var e=que(t,"string");return ff(e)=="symbol"?e:String(e)}function que(t,e){if(ff(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function df(){return df=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},df.apply(this,arguments)}var Hue=function(e){var n=e.value,r=e.formatter,i=Pe(e.children)?n:e.children;return be(r)?r(i):i},Kue=function(e,n){var r=In(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Gue=function(e,n,r){var i=e.position,a=e.viewBox,o=e.offset,s=e.className,l=a,u=l.cx,c=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,g=l.endAngle,m=l.clockWise,v=(f+h)/2,x=Kue(p,g),y=x>=0?1:-1,_,E;i==="insideStart"?(_=p+y*o,E=m):i==="insideEnd"?(_=g-y*o,E=!m):i==="end"&&(_=g+y*o,E=m),E=x<=0?E:!E;var T=lt(u,c,v,_),O=lt(u,c,v,_+(E?1:-1)*359),k="M".concat(T.x,",").concat(T.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(E?0:1,`,
    `).concat(O.x,",").concat(O.y),S=Pe(e.id)?Zf("recharts-radial-line-"):e.id;return M.createElement("text",df({},r,{dominantBaseline:"central",className:ke("recharts-radial-bar-label",s)}),M.createElement("defs",null,M.createElement("path",{id:S,d:k})),M.createElement("textPath",{xlinkHref:"#".concat(S)},n))},Xue=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,o=a.cx,s=a.cy,l=a.innerRadius,u=a.outerRadius,c=a.startAngle,f=a.endAngle,h=(c+f)/2;if(i==="outside"){var p=lt(o,s,u+r,h),g=p.x,m=p.y;return{x:g,y:m,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var v=(l+u)/2,x=lt(o,s,v,h),y=x.x,_=x.y;return{x:y,y:_,textAnchor:"middle",verticalAnchor:"middle"}},Yue=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,o=n,s=o.x,l=o.y,u=o.width,c=o.height,f=c>=0?1:-1,h=f*i,p=f>0?"end":"start",g=f>0?"start":"end",m=u>=0?1:-1,v=m*i,x=m>0?"end":"start",y=m>0?"start":"end";if(a==="top"){var _={x:s+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return Vt(Vt({},_),r?{height:Math.max(l-r.y,0),width:u}:{})}if(a==="bottom"){var E={x:s+u/2,y:l+c+h,textAnchor:"middle",verticalAnchor:g};return Vt(Vt({},E),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(a==="left"){var T={x:s-v,y:l+c/2,textAnchor:x,verticalAnchor:"middle"};return Vt(Vt({},T),r?{width:Math.max(T.x-r.x,0),height:c}:{})}if(a==="right"){var O={x:s+u+v,y:l+c/2,textAnchor:y,verticalAnchor:"middle"};return Vt(Vt({},O),r?{width:Math.max(r.x+r.width-O.x,0),height:c}:{})}var k=r?{width:u,height:c}:{};return a==="insideLeft"?Vt({x:s+v,y:l+c/2,textAnchor:y,verticalAnchor:"middle"},k):a==="insideRight"?Vt({x:s+u-v,y:l+c/2,textAnchor:x,verticalAnchor:"middle"},k):a==="insideTop"?Vt({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:g},k):a==="insideBottom"?Vt({x:s+u/2,y:l+c-h,textAnchor:"middle",verticalAnchor:p},k):a==="insideTopLeft"?Vt({x:s+v,y:l+h,textAnchor:y,verticalAnchor:g},k):a==="insideTopRight"?Vt({x:s+u-v,y:l+h,textAnchor:x,verticalAnchor:g},k):a==="insideBottomLeft"?Vt({x:s+v,y:l+c-h,textAnchor:y,verticalAnchor:p},k):a==="insideBottomRight"?Vt({x:s+u-v,y:l+c-h,textAnchor:x,verticalAnchor:p},k):Ul(a)&&(Z(a.x)||go(a.x))&&(Z(a.y)||go(a.y))?Vt({x:s+On(a.x,u),y:l+On(a.y,c),textAnchor:"end",verticalAnchor:"end"},k):Vt({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},k)},Que=function(e){return"cx"in e&&Z(e.cx)};function Xt(t){var e=t.offset,n=e===void 0?5:e,r=Uue(t,Due),i=Vt({offset:n},r),a=i.viewBox,o=i.position,s=i.value,l=i.children,u=i.content,c=i.className,f=c===void 0?"":c,h=i.textBreakAll;if(!a||Pe(s)&&Pe(l)&&!D.isValidElement(u)&&!be(u))return null;if(D.isValidElement(u))return D.cloneElement(u,i);var p;if(be(u)){if(p=D.createElement(u,i),D.isValidElement(p))return p}else p=Hue(i);var g=Que(a),m=me(i,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Gue(i,p,m);var v=g?Xue(i):Yue(i);return M.createElement(Fo,df({className:ke("recharts-label",f)},m,v,{breakAll:h}),p)}Xt.displayName="Label";var n$=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,f=e.x,h=e.y,p=e.top,g=e.left,m=e.width,v=e.height,x=e.clockWise,y=e.labelViewBox;if(y)return y;if(Z(m)&&Z(v)){if(Z(f)&&Z(h))return{x:f,y:h,width:m,height:v};if(Z(p)&&Z(g))return{x:p,y:g,width:m,height:v}}return Z(f)&&Z(h)?{x:f,y:h,width:0,height:0}:Z(n)&&Z(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:x}:e.viewBox?e.viewBox:{}},Jue=function(e,n){return e?e===!0?M.createElement(Xt,{key:"label-implicit",viewBox:n}):Bt(e)?M.createElement(Xt,{key:"label-implicit",viewBox:n,value:e}):D.isValidElement(e)?e.type===Xt?D.cloneElement(e,{key:"label-implicit",viewBox:n}):M.createElement(Xt,{key:"label-implicit",content:e,viewBox:n}):be(e)?M.createElement(Xt,{key:"label-implicit",content:e,viewBox:n}):Ul(e)?M.createElement(Xt,df({viewBox:n},e,{key:"label-implicit"})):null:null},Zue=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=n$(e),o=yr(i,Xt).map(function(l,u){return D.cloneElement(l,{viewBox:n||a,key:"label-".concat(u)})});if(!r)return o;var s=Jue(e.label,n||a);return[s].concat(Mue(o))};Xt.parseViewBox=n$;Xt.renderCallByParent=Zue;function ece(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var tce=ece;const nce=Ge(tce);function hf(t){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hf(t)}var rce=["valueAccessor"],ice=["data","dataKey","clockWise","id","textBreakAll"];function ace(t){return uce(t)||lce(t)||sce(t)||oce()}function oce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sce(t,e){if(t){if(typeof t=="string")return Lb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lb(t,e)}}function lce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uce(t){if(Array.isArray(t))return Lb(t)}function Lb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qp(){return Qp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qp.apply(this,arguments)}function $P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$P(Object(n),!0).forEach(function(r){cce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$P(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cce(t,e,n){return e=fce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fce(t){var e=dce(t,"string");return hf(e)=="symbol"?e:String(e)}function dce(t,e){if(hf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VP(t,e){if(t==null)return{};var n=hce(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hce(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var pce=function(e){return Array.isArray(e.value)?nce(e.value):e.value};function Ia(t){var e=t.valueAccessor,n=e===void 0?pce:e,r=VP(t,rce),i=r.data,a=r.dataKey,o=r.clockWise,s=r.id,l=r.textBreakAll,u=VP(r,ice);return!i||!i.length?null:M.createElement(He,{className:"recharts-label-list"},i.map(function(c,f){var h=Pe(a)?n(c,f):xn(c&&c.payload,a),p=Pe(s)?{}:{id:"".concat(s,"-").concat(f)};return M.createElement(Xt,Qp({},me(c,!0),u,p,{parentViewBox:c.parentViewBox,value:h,textBreakAll:l,viewBox:Xt.parseViewBox(Pe(o)?c:LP(LP({},c),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Ia.displayName="LabelList";function mce(t,e){return t?t===!0?M.createElement(Ia,{key:"labelList-implicit",data:e}):M.isValidElement(t)||be(t)?M.createElement(Ia,{key:"labelList-implicit",data:e,content:t}):Ul(t)?M.createElement(Ia,Qp({data:e},t,{key:"labelList-implicit"})):null:null}function gce(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=yr(r,Ia).map(function(o,s){return D.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var a=mce(t.label,e);return[a].concat(ace(i))}Ia.renderCallByParent=gce;function pf(t){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pf(t)}function Vb(){return Vb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vb.apply(this,arguments)}function FP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FP(Object(n),!0).forEach(function(r){yce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yce(t,e,n){return e=vce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vce(t){var e=bce(t,"string");return pf(e)=="symbol"?e:String(e)}function bce(t,e){if(pf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _ce=function(e,n){var r=In(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},oh=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,o=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(s?1:-1)+i,f=Math.asin(l/c)/Yp,h=u?a:a+o*f,p=lt(n,r,c,h),g=lt(n,r,i,h),m=u?a-o*f:a,v=lt(n,r,c*Math.cos(f*Yp),m);return{center:p,circleTangency:g,lineTangency:v,theta:f}},r$=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,s=e.endAngle,l=_ce(o,s),u=o+l,c=lt(n,r,a,o),f=lt(n,r,a,u),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=lt(n,r,i,o),g=lt(n,r,i,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},wce=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,f=In(c-u),h=oh({cx:n,cy:r,radius:a,angle:u,sign:f,cornerRadius:o,cornerIsExternal:l}),p=h.circleTangency,g=h.lineTangency,m=h.theta,v=oh({cx:n,cy:r,radius:a,angle:c,sign:-f,cornerRadius:o,cornerIsExternal:l}),x=v.circleTangency,y=v.lineTangency,_=v.theta,E=l?Math.abs(u-c):Math.abs(u-c)-m-_;if(E<0)return s?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):r$({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c});var T="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(E>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(i>0){var O=oh({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),k=O.circleTangency,S=O.lineTangency,C=O.theta,R=oh({cx:n,cy:r,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),N=R.circleTangency,I=R.lineTangency,P=R.theta,$=l?Math.abs(u-c):Math.abs(u-c)-C-P;if($<0&&o===0)return"".concat(T,"L").concat(n,",").concat(r,"Z");T+="L".concat(I.x,",").concat(I.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(i,",").concat(i,",0,").concat(+($>180),",").concat(+(f>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(S.x,",").concat(S.y,"Z")}else T+="L".concat(n,",").concat(r,"Z");return T},xce={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},i$=function(e){var n=UP(UP({},xce),e),r=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,f=n.endAngle,h=n.className;if(o<a||c===f)return null;var p=ke("recharts-sector",h),g=o-a,m=On(s,g,0,!0),v;return m>0&&Math.abs(c-f)<360?v=wce({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(m,g/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):v=r$({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:c,endAngle:f}),M.createElement("path",Vb({},me(n,!0),{className:p,d:v,role:"img"}))};function mf(t){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mf(t)}function Fb(){return Fb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fb.apply(this,arguments)}function BP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BP(Object(n),!0).forEach(function(r){Ece(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ece(t,e,n){return e=Sce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sce(t){var e=kce(t,"string");return mf(e)=="symbol"?e:String(e)}function kce(t,e){if(mf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(mf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WP={curveBasisClosed:NX,curveBasisOpen:jX,curveBasis:RX,curveBumpX:vX,curveBumpY:bX,curveLinearClosed:DX,curveLinear:_g,curveMonotoneX:MX,curveMonotoneY:$X,curveNatural:LX,curveStep:VX,curveStepAfter:UX,curveStepBefore:FX},sh=function(e){return e.x===+e.x&&e.y===+e.y},Iu=function(e){return e.x},Ou=function(e){return e.y},Tce=function(e,n){if(be(e))return e;var r="curve".concat(vg(e));return(r==="curveMonotone"||r==="curveBump")&&n?WP["".concat(r).concat(n==="vertical"?"Y":"X")]:WP[r]||_g},Ace=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,o=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=Tce(r,s),f=u?a.filter(function(m){return sh(m)}):a,h;if(Array.isArray(o)){var p=u?o.filter(function(m){return sh(m)}):o,g=f.map(function(m,v){return zP(zP({},m),{},{base:p[v]})});return s==="vertical"?h=Qd().y(Ou).x1(Iu).x0(function(m){return m.base.x}):h=Qd().x(Iu).y1(Ou).y0(function(m){return m.base.y}),h.defined(sh).curve(c),h(g)}return s==="vertical"&&Z(o)?h=Qd().y(Ou).x1(Iu).x0(o):Z(o)?h=Qd().x(Iu).y1(Ou).y0(o):h=eD().x(Iu).y(Ou),h.defined(sh).curve(c),h(f)},Ub=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?Ace(e):i;return M.createElement("path",Fb({},me(e,!1),Ep(e),{className:ke("recharts-curve",n),d:o,ref:a}))},Pce=Object.getOwnPropertyNames,Ice=Object.getOwnPropertySymbols,Oce=Object.prototype.hasOwnProperty;function qP(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function lh(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var a=i.cache,o=a.get(n),s=a.get(r);if(o&&s)return o===r&&s===n;a.set(n,r),a.set(r,n);var l=t(n,r,i);return a.delete(n),a.delete(r),l}}function HP(t){return Pce(t).concat(Ice(t))}var a$=Object.hasOwn||function(t,e){return Oce.call(t,e)};function Ql(t,e){return t||e?t===e:t===e||t!==t&&e!==e}var o$="_owner",KP=Object.getOwnPropertyDescriptor,GP=Object.keys;function Cce(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Rce(t,e){return Ql(t.getTime(),e.getTime())}function XP(t,e,n){if(t.size!==e.size)return!1;for(var r={},i=t.entries(),a=0,o,s;(o=i.next())&&!o.done;){for(var l=e.entries(),u=!1,c=0;(s=l.next())&&!s.done;){var f=o.value,h=f[0],p=f[1],g=s.value,m=g[0],v=g[1];!u&&!r[c]&&(u=n.equals(h,m,a,c,t,e,n)&&n.equals(p,v,h,m,t,e,n))&&(r[c]=!0),c++}if(!u)return!1;a++}return!0}function Nce(t,e,n){var r=GP(t),i=r.length;if(GP(e).length!==i)return!1;for(var a;i-- >0;)if(a=r[i],a===o$&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!a$(e,a)||!n.equals(t[a],e[a],a,a,t,e,n))return!1;return!0}function Cu(t,e,n){var r=HP(t),i=r.length;if(HP(e).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=r[i],a===o$&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!a$(e,a)||!n.equals(t[a],e[a],a,a,t,e,n)||(o=KP(t,a),s=KP(e,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function jce(t,e){return Ql(t.valueOf(),e.valueOf())}function Dce(t,e){return t.source===e.source&&t.flags===e.flags}function YP(t,e,n){if(t.size!==e.size)return!1;for(var r={},i=t.values(),a,o;(a=i.next())&&!a.done;){for(var s=e.values(),l=!1,u=0;(o=s.next())&&!o.done;)!l&&!r[u]&&(l=n.equals(a.value,o.value,a.value,o.value,t,e,n))&&(r[u]=!0),u++;if(!l)return!1}return!0}function Mce(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}var $ce="[object Arguments]",Lce="[object Boolean]",Vce="[object Date]",Fce="[object Map]",Uce="[object Number]",Bce="[object Object]",zce="[object RegExp]",Wce="[object Set]",qce="[object String]",Hce=Array.isArray,QP=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,JP=Object.assign,Kce=Object.prototype.toString.call.bind(Object.prototype.toString);function Gce(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areMapsEqual,i=t.areObjectsEqual,a=t.arePrimitiveWrappersEqual,o=t.areRegExpsEqual,s=t.areSetsEqual,l=t.areTypedArraysEqual;return function(c,f,h){if(c===f)return!0;if(c==null||f==null||typeof c!="object"||typeof f!="object")return c!==c&&f!==f;var p=c.constructor;if(p!==f.constructor)return!1;if(p===Object)return i(c,f,h);if(Hce(c))return e(c,f,h);if(QP!=null&&QP(c))return l(c,f,h);if(p===Date)return n(c,f,h);if(p===RegExp)return o(c,f,h);if(p===Map)return r(c,f,h);if(p===Set)return s(c,f,h);var g=Kce(c);return g===Vce?n(c,f,h):g===zce?o(c,f,h):g===Fce?r(c,f,h):g===Wce?s(c,f,h):g===Bce?typeof c.then!="function"&&typeof f.then!="function"&&i(c,f,h):g===$ce?i(c,f,h):g===Lce||g===Uce||g===qce?a(c,f,h):!1}}function Xce(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Cu:Cce,areDatesEqual:Rce,areMapsEqual:r?qP(XP,Cu):XP,areObjectsEqual:r?Cu:Nce,arePrimitiveWrappersEqual:jce,areRegExpsEqual:Dce,areSetsEqual:r?qP(YP,Cu):YP,areTypedArraysEqual:r?Cu:Mce};if(n&&(i=JP({},i,n(i))),e){var a=lh(i.areArraysEqual),o=lh(i.areMapsEqual),s=lh(i.areObjectsEqual),l=lh(i.areSetsEqual);i=JP({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return i}function Yce(t){return function(e,n,r,i,a,o,s){return t(e,n,s)}}function Qce(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,a=t.strict;if(r)return function(l,u){var c=r(),f=c.cache,h=f===void 0?e?new WeakMap:void 0:f,p=c.meta;return n(l,u,{cache:h,equals:i,meta:p,strict:a})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,u){return n(l,u,o)}}var Jce=Ya();Ya({strict:!0});Ya({circular:!0});Ya({circular:!0,strict:!0});Ya({createInternalComparator:function(){return Ql}});Ya({strict:!0,createInternalComparator:function(){return Ql}});Ya({circular:!0,createInternalComparator:function(){return Ql}});Ya({circular:!0,createInternalComparator:function(){return Ql},strict:!0});function Ya(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,s=Xce(t),l=Gce(s),u=r?r(l):Yce(l);return Qce({circular:n,comparator:l,createState:i,equals:u,strict:o})}function Zce(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function ZP(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):Zce(i)};requestAnimationFrame(r)}function Bb(t){"@babel/helpers - typeof";return Bb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bb(t)}function efe(t){return ife(t)||rfe(t)||nfe(t)||tfe()}function tfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nfe(t,e){if(t){if(typeof t=="string")return eI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eI(t,e)}}function eI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ife(t){if(Array.isArray(t))return t}function afe(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,s=efe(o),l=s[0],u=s.slice(1);if(typeof l=="number"){ZP(i.bind(null,u),l);return}i(l),ZP(i.bind(null,u));return}Bb(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function gf(t){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gf(t)}function tI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tI(Object(n),!0).forEach(function(r){s$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function s$(t,e,n){return e=ofe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ofe(t){var e=sfe(t,"string");return gf(e)==="symbol"?e:String(e)}function sfe(t,e){if(gf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lfe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},ufe=function(e){return e},cfe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},hc=function(e,n){return Object.keys(n).reduce(function(r,i){return nI(nI({},r),{},s$({},i,e(i,n[i])))},{})},rI=function(e,n,r){return e.map(function(i){return"".concat(cfe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function ffe(t,e){return pfe(t)||hfe(t,e)||l$(t,e)||dfe()}function dfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function pfe(t){if(Array.isArray(t))return t}function mfe(t){return vfe(t)||yfe(t)||l$(t)||gfe()}function gfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l$(t,e){if(t){if(typeof t=="string")return zb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zb(t,e)}}function yfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vfe(t){if(Array.isArray(t))return zb(t)}function zb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Jp=1e-4,u$=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},c$=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},iI=function(e,n){return function(r){var i=u$(e,n);return c$(i,r)}},bfe=function(e,n){return function(r){var i=u$(e,n),a=[].concat(mfe(i.map(function(o,s){return o*s}).slice(1)),[0]);return c$(a,r)}},aI=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),c=ffe(u,4);i=c[0],a=c[1],o=c[2],s=c[3]}}}var f=iI(i,o),h=iI(a,s),p=bfe(i,o),g=function(x){return x>1?1:x<0?0:x},m=function(x){for(var y=x>1?1:x,_=y,E=0;E<8;++E){var T=f(_)-y,O=p(_);if(Math.abs(T-y)<Jp||O<Jp)return h(_);_=g(_-T/O)}return h(_)};return m.isStepper=!1,m},_fe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,o=e.dt,s=o===void 0?17:o,l=function(c,f,h){var p=-(c-f)*r,g=h*a,m=h+(p-g)*s/1e3,v=h*s/1e3+c;return Math.abs(v-f)<Jp&&Math.abs(m)<Jp?[f,0]:[v,m]};return l.isStepper=!0,l.dt=s,l},wfe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return aI(i);case"spring":return _fe();default:if(i.split("(")[0]==="cubic-bezier")return aI(i)}return typeof i=="function"?i:null};function yf(t){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yf(t)}function oI(t){return Sfe(t)||Efe(t)||f$(t)||xfe()}function xfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Efe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Sfe(t){if(Array.isArray(t))return qb(t)}function sI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sI(Object(n),!0).forEach(function(r){Wb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wb(t,e,n){return e=kfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kfe(t){var e=Tfe(t,"string");return yf(e)==="symbol"?e:String(e)}function Tfe(t,e){if(yf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Afe(t,e){return Ofe(t)||Ife(t,e)||f$(t,e)||Pfe()}function Pfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f$(t,e){if(t){if(typeof t=="string")return qb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qb(t,e)}}function qb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ife(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Ofe(t){if(Array.isArray(t))return t}var Zp=function(e,n,r){return e+(n-e)*r},Hb=function(e){var n=e.from,r=e.to;return n!==r},Cfe=function t(e,n,r){var i=hc(function(a,o){if(Hb(o)){var s=e(o.from,o.to,o.velocity),l=Afe(s,2),u=l[0],c=l[1];return tn(tn({},o),{},{from:u,velocity:c})}return o},n);return r<1?hc(function(a,o){return Hb(o)?tn(tn({},o),{},{velocity:Zp(o.velocity,i[a].velocity,r),from:Zp(o.from,i[a].from,r)}):o},n):t(e,i,r-1)};const Rfe=function(t,e,n,r,i){var a=lfe(t,e),o=a.reduce(function(v,x){return tn(tn({},v),{},Wb({},x,[t[x],e[x]]))},{}),s=a.reduce(function(v,x){return tn(tn({},v),{},Wb({},x,{from:t[x],velocity:0,to:e[x]}))},{}),l=-1,u,c,f=function(){return null},h=function(){return hc(function(x,y){return y.from},s)},p=function(){return!Object.values(s).filter(Hb).length},g=function(x){u||(u=x);var y=x-u,_=y/n.dt;s=Cfe(n,s,_),i(tn(tn(tn({},t),e),h())),u=x,p()||(l=requestAnimationFrame(f))},m=function(x){c||(c=x);var y=(x-c)/r,_=hc(function(T,O){return Zp.apply(void 0,oI(O).concat([n(y)]))},o);if(i(tn(tn(tn({},t),e),_)),y<1)l=requestAnimationFrame(f);else{var E=hc(function(T,O){return Zp.apply(void 0,oI(O).concat([n(1)]))},o);i(tn(tn(tn({},t),e),E))}};return f=n.isStepper?g:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function _l(t){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_l(t)}var Nfe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function jfe(t,e){if(t==null)return{};var n=Dfe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Dfe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function bv(t){return Vfe(t)||Lfe(t)||$fe(t)||Mfe()}function Mfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $fe(t,e){if(t){if(typeof t=="string")return Kb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kb(t,e)}}function Lfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Vfe(t){if(Array.isArray(t))return Kb(t)}function Kb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lI(Object(n),!0).forEach(function(r){Wu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wu(t,e,n){return e=d$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ffe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ufe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,d$(r.key),r)}}function Bfe(t,e,n){return e&&Ufe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function d$(t){var e=zfe(t,"string");return _l(e)==="symbol"?e:String(e)}function zfe(t,e){if(_l(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_l(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gb(t,e)}function Gb(t,e){return Gb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Gb(t,e)}function qfe(t){var e=Hfe();return function(){var r=em(t),i;if(e){var a=em(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return Xb(this,i)}}function Xb(t,e){if(e&&(_l(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yb(t)}function Yb(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hfe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function em(t){return em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},em(t)}var Fi=function(t){Wfe(n,t);var e=qfe(n);function n(r,i){var a;Ffe(this,n),a=e.call(this,r,i);var o=a.props,s=o.isActive,l=o.attributeName,u=o.from,c=o.to,f=o.steps,h=o.children,p=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(Yb(a)),a.changeStyle=a.changeStyle.bind(Yb(a)),!s||p<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:c}),Xb(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof h=="function")return a.state={style:u},Xb(a);a.state={style:l?Wu({},l,u):u}}else a.state={style:{}};return a}return Bfe(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,u=a.shouldReAnimate,c=a.to,f=a.from,h=this.state.style;if(s){if(!o){var p={style:l?Wu({},l,c):c};this.state&&h&&(l&&h[l]!==c||!l&&h!==c)&&this.setState(p);return}if(!(Jce(i.to,c)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||u?f:i.to;if(this.state&&h){var v={style:l?Wu({},l,m):m};(l&&h[l]!==m||!l&&h!==m)&&this.setState(v)}this.runAnimation(Sr(Sr({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=Rfe(o,s,wfe(u),l,this.changeStyle),g=function(){a.stopJSAnimation=p()};this.manager.start([h,c,g,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,u=o[0],c=u.style,f=u.duration,h=f===void 0?0:f,p=function(m,v,x){if(x===0)return m;var y=v.duration,_=v.easing,E=_===void 0?"ease":_,T=v.style,O=v.properties,k=v.onAnimationEnd,S=x>0?o[x-1]:v,C=O||Object.keys(T);if(typeof E=="function"||E==="spring")return[].concat(bv(m),[a.runJSAnimation.bind(a,{from:S.style,to:T,duration:y,easing:E}),y]);var R=rI(C,y,E),N=Sr(Sr(Sr({},S.style),T),{},{transition:R});return[].concat(bv(m),[N,y,k]).filter(ufe)};return this.manager.start([l].concat(bv(o.reduce(p,[c,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=afe());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var m=s?Wu({},s,l):l,v=rI(Object.keys(m),o,u);g.start([c,a,Sr(Sr({},m),{},{transition:v}),o,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=jfe(i,Nfe),u=D.Children.count(a),c=this.state.style;if(typeof a=="function")return a(c);if(!s||u===0||o<=0)return a;var f=function(p){var g=p.props,m=g.style,v=m===void 0?{}:m,x=g.className,y=D.cloneElement(p,Sr(Sr({},l),{},{style:Sr(Sr({},v),c),className:x}));return y};return u===1?f(D.Children.only(a)):M.createElement("div",null,D.Children.map(a,function(h){return f(h)}))}}]),n}(D.PureComponent);Fi.displayName="Animate";Fi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Fi.propTypes={from:z.oneOfType([z.object,z.string]),to:z.oneOfType([z.object,z.string]),attributeName:z.string,duration:z.number,begin:z.number,easing:z.oneOfType([z.string,z.func]),steps:z.arrayOf(z.shape({duration:z.number.isRequired,style:z.object.isRequired,easing:z.oneOfType([z.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),z.func]),properties:z.arrayOf("string"),onAnimationEnd:z.func})),children:z.oneOfType([z.node,z.func]),isActive:z.bool,canBegin:z.bool,onAnimationEnd:z.func,shouldReAnimate:z.bool,onAnimationStart:z.func,onAnimationReStart:z.func};z.object,z.object,z.object,z.element;z.object,z.object,z.object,z.oneOfType([z.array,z.element]),z.any;function vf(t){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vf(t)}function tm(){return tm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tm.apply(this,arguments)}function Kfe(t,e){return Qfe(t)||Yfe(t,e)||Xfe(t,e)||Gfe()}function Gfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xfe(t,e){if(t){if(typeof t=="string")return uI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uI(t,e)}}function uI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Qfe(t){if(Array.isArray(t))return t}function cI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cI(Object(n),!0).forEach(function(r){Jfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jfe(t,e,n){return e=Zfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zfe(t){var e=ede(t,"string");return vf(e)=="symbol"?e:String(e)}function ede(t,e){if(vf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dI=function(e,n,r,i,a){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=a[h]>o?o:a[h];c="M".concat(e,",").concat(n+s*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),c+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*f[1])),c+="L ".concat(e+r,",").concat(n+i-s*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),c+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*f[3])),c+="Z"}else if(o>0&&a===+a&&a>0){var g=Math.min(o,a);c="M ".concat(e,",").concat(n+s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+l*g,",").concat(n,`
            L `).concat(e+r-l*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*g,`
            L `).concat(e+r,",").concat(n+i-s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r-l*g,",").concat(n+i,`
            L `).concat(e+l*g,",").concat(n+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*g," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},tde=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,o=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(a,a+s),c=Math.max(a,a+s),f=Math.min(o,o+l),h=Math.max(o,o+l);return r>=u&&r<=c&&i>=f&&i<=h}return!1},nde={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},I1=function(e){var n=fI(fI({},nde),e),r=D.useRef(),i=D.useState(-1),a=Kfe(i,2),o=a[0],s=a[1];D.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var E=r.current.getTotalLength();E&&s(E)}catch{}},[]);var l=n.x,u=n.y,c=n.width,f=n.height,h=n.radius,p=n.className,g=n.animationEasing,m=n.animationDuration,v=n.animationBegin,x=n.isAnimationActive,y=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||c===0||f===0)return null;var _=ke("recharts-rectangle",p);return y?M.createElement(Fi,{canBegin:o>0,from:{width:c,height:f,x:l,y:u},to:{width:c,height:f,x:l,y:u},duration:m,animationEasing:g,isActive:y},function(E){var T=E.width,O=E.height,k=E.x,S=E.y;return M.createElement(Fi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,isActive:x,easing:g},M.createElement("path",tm({},me(n,!0),{className:_,d:dI(k,S,T,O,h),ref:r})))}):M.createElement("path",tm({},me(n,!0),{className:_,d:dI(l,u,c,f,h)}))},rde=["points","className","baseLinePoints","connectNulls"];function Ds(){return Ds=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ds.apply(this,arguments)}function ide(t,e){if(t==null)return{};var n=ade(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ade(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function hI(t){return ude(t)||lde(t)||sde(t)||ode()}function ode(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sde(t,e){if(t){if(typeof t=="string")return Qb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qb(t,e)}}function lde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ude(t){if(Array.isArray(t))return Qb(t)}function Qb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var pI=function(e){return e&&e.x===+e.x&&e.y===+e.y},cde=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){pI(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),pI(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},pc=function(e,n){var r=cde(e);n&&(r=[r.reduce(function(a,o){return[].concat(hI(a),hI(o))},[])]);var i=r.map(function(a){return a.reduce(function(o,s,l){return"".concat(o).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},fde=function(e,n,r){var i=pc(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(pc(n.reverse(),r).slice(1))},dde=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,a=e.connectNulls,o=ide(e,rde);if(!n||!n.length)return null;var s=ke("recharts-polygon",r);if(i&&i.length){var l=o.stroke&&o.stroke!=="none",u=fde(n,i,a);return M.createElement("g",{className:s},M.createElement("path",Ds({},me(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),l?M.createElement("path",Ds({},me(o,!0),{fill:"none",d:pc(n,a)})):null,l?M.createElement("path",Ds({},me(o,!0),{fill:"none",d:pc(i,a)})):null)}var c=pc(n,a);return M.createElement("path",Ds({},me(o,!0),{fill:c.slice(-1)==="Z"?o.fill:"none",className:s,d:c}))};function Jb(){return Jb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jb.apply(this,arguments)}var O1=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,o=ke("recharts-dot",a);return n===+n&&r===+r&&i===+i?M.createElement("circle",Jb({},me(e,!1),Ep(e),{className:o,cx:n,cy:r,r:i})):null};function bf(t){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bf(t)}var hde=["x","y","top","left","width","height","className"];function Zb(){return Zb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zb.apply(this,arguments)}function mI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pde(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mI(Object(n),!0).forEach(function(r){mde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mde(t,e,n){return e=gde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gde(t){var e=yde(t,"string");return bf(e)=="symbol"?e:String(e)}function yde(t,e){if(bf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vde(t,e){if(t==null)return{};var n=bde(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bde(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var _de=function(e,n,r,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},wde=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.top,s=o===void 0?0:o,l=e.left,u=l===void 0?0:l,c=e.width,f=c===void 0?0:c,h=e.height,p=h===void 0?0:h,g=e.className,m=vde(e,hde),v=pde({x:r,y:a,top:s,left:u,width:f,height:p},m);return!Z(r)||!Z(a)||!Z(f)||!Z(p)||!Z(s)||!Z(u)?null:M.createElement("path",Zb({},me(v,!0),{className:ke("recharts-cross",g),d:_de(r,a,f,p,s,u)}))},xde=Cg,Ede=IM,Sde=si;function kde(t,e){return t&&t.length?xde(t,Sde(e),Ede):void 0}var Tde=kde;const Ade=Ge(Tde);var Pde=Cg,Ide=si,Ode=OM;function Cde(t,e){return t&&t.length?Pde(t,Ide(e),Ode):void 0}var Rde=Cde;const Nde=Ge(Rde);var jde=["cx","cy","angle","ticks","axisLine"],Dde=["ticks","tick","angle","tickFormatter","stroke"];function wl(t){"@babel/helpers - typeof";return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wl(t)}function mc(){return mc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mc.apply(this,arguments)}function gI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function no(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gI(Object(n),!0).forEach(function(r){Lg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yI(t,e){if(t==null)return{};var n=Mde(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Mde(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function $de(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,p$(r.key),r)}}function Lde(t,e,n){return e&&vI(t.prototype,e),n&&vI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vde(t,e,n){return e=nm(e),Fde(t,h$()?Reflect.construct(e,n||[],nm(t).constructor):e.apply(t,n))}function Fde(t,e){if(e&&(wl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ude(t)}function Ude(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h$=function(){return!!t})()}function nm(t){return nm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nm(t)}function Bde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&e_(t,e)}function e_(t,e){return e_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},e_(t,e)}function Lg(t,e,n){return e=p$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p$(t){var e=zde(t,"string");return wl(e)=="symbol"?e:String(e)}function zde(t,e){if(wl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vg=function(t){Bde(e,t);function e(){return $de(this,e),Vde(this,e,arguments)}return Lde(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,a=this.props,o=a.angle,s=a.cx,l=a.cy;return lt(s,l,i,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,s=r.ticks,l=Ade(s,function(c){return c.coordinate||0}),u=Nde(s,function(c){return c.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,s=r.ticks,l=r.axisLine,u=yI(r,jde),c=s.reduce(function(g,m){return[Math.min(g[0],m.coordinate),Math.max(g[1],m.coordinate)]},[1/0,-1/0]),f=lt(i,a,c[0],o),h=lt(i,a,c[1],o),p=no(no(no({},me(u,!1)),{},{fill:"none"},me(l,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return M.createElement("line",mc({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,s=i.angle,l=i.tickFormatter,u=i.stroke,c=yI(i,Dde),f=this.getTickTextAnchor(),h=me(c,!1),p=me(o,!1),g=a.map(function(m,v){var x=r.getTickValueCoord(m),y=no(no(no(no({textAnchor:f,transform:"rotate(".concat(90-s,", ").concat(x.x,", ").concat(x.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:v},x),{},{payload:m});return M.createElement(He,mc({className:ke("recharts-polar-radius-axis-tick",t$(o)),key:"tick-".concat(m.coordinate)},Vo(r.props,m,v)),e.renderTickItem(o,y,l?l(m.value,v):m.value))});return M.createElement(He,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.axisLine,o=r.tick;return!i||!i.length?null:M.createElement(He,{className:ke("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),Xt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,a){var o;return M.isValidElement(r)?o=M.cloneElement(r,i):be(r)?o=r(i):o=M.createElement(Fo,mc({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}]),e}(D.PureComponent);Lg(Vg,"displayName","PolarRadiusAxis");Lg(Vg,"axisType","radiusAxis");Lg(Vg,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function xl(t){"@babel/helpers - typeof";return xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xl(t)}function co(){return co=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},co.apply(this,arguments)}function bI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ro(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bI(Object(n),!0).forEach(function(r){Fg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _I(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,g$(r.key),r)}}function qde(t,e,n){return e&&_I(t.prototype,e),n&&_I(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hde(t,e,n){return e=rm(e),Kde(t,m$()?Reflect.construct(e,n||[],rm(t).constructor):e.apply(t,n))}function Kde(t,e){if(e&&(xl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gde(t)}function Gde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m$=function(){return!!t})()}function rm(t){return rm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rm(t)}function Xde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&t_(t,e)}function t_(t,e){return t_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},t_(t,e)}function Fg(t,e,n){return e=g$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g$(t){var e=Yde(t,"string");return xl(e)=="symbol"?e:String(e)}function Yde(t,e){if(xl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qde=Math.PI/180,wI=1e-5,Ug=function(t){Xde(e,t);function e(){return Wde(this,e),Hde(this,e,arguments)}return qde(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.cx,o=i.cy,s=i.radius,l=i.orientation,u=i.tickSize,c=u||8,f=lt(a,o,s,r.coordinate),h=lt(a,o,s+(l==="inner"?-1:1)*c,r.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,a=Math.cos(-r.coordinate*Qde),o;return a>wI?o=i==="outer"?"start":"end":a<-wI?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.radius,s=r.axisLine,l=r.axisLineType,u=ro(ro({},me(this.props,!1)),{},{fill:"none"},me(s,!1));if(l==="circle")return M.createElement(O1,co({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:o}));var c=this.props.ticks,f=c.map(function(h){return lt(i,a,o,h.coordinate)});return M.createElement(dde,co({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,s=i.tickLine,l=i.tickFormatter,u=i.stroke,c=me(this.props,!1),f=me(o,!1),h=ro(ro({},c),{},{fill:"none"},me(s,!1)),p=a.map(function(g,m){var v=r.getTickLineCoord(g),x=r.getTickTextAnchor(g),y=ro(ro(ro({textAnchor:x},c),{},{stroke:"none",fill:u},f),{},{index:m,payload:g,x:v.x2,y:v.y2});return M.createElement(He,co({className:ke("recharts-polar-angle-axis-tick",t$(o)),key:"tick-".concat(g.coordinate)},Vo(r.props,g,m)),s&&M.createElement("line",co({className:"recharts-polar-angle-axis-tick-line"},h,v)),o&&e.renderTickItem(o,y,l?l(g.value,m):g.value))});return M.createElement(He,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.radius,o=r.axisLine;return a<=0||!i||!i.length?null:M.createElement(He,{className:ke("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,a){var o;return M.isValidElement(r)?o=M.cloneElement(r,i):be(r)?o=r(i):o=M.createElement(Fo,co({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}]),e}(D.PureComponent);Fg(Ug,"displayName","PolarAngleAxis");Fg(Ug,"axisType","angleAxis");Fg(Ug,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Jde=SD,Zde=Jde(Object.getPrototypeOf,Object),ehe=Zde,the=Bi,nhe=ehe,rhe=zi,ihe="[object Object]",ahe=Function.prototype,ohe=Object.prototype,y$=ahe.toString,she=ohe.hasOwnProperty,lhe=y$.call(Object);function uhe(t){if(!rhe(t)||the(t)!=ihe)return!1;var e=nhe(t);if(e===null)return!0;var n=she.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&y$.call(n)==lhe}var che=uhe;const fhe=Ge(che);var dhe=Bi,hhe=zi,phe="[object Boolean]";function mhe(t){return t===!0||t===!1||hhe(t)&&dhe(t)==phe}var ghe=mhe;const yhe=Ge(ghe);function _f(t){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_f(t)}function im(){return im=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},im.apply(this,arguments)}function vhe(t,e){return xhe(t)||whe(t,e)||_he(t,e)||bhe()}function bhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _he(t,e){if(t){if(typeof t=="string")return xI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xI(t,e)}}function xI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function whe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function xhe(t){if(Array.isArray(t))return t}function EI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EI(Object(n),!0).forEach(function(r){Ehe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ehe(t,e,n){return e=She(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function She(t){var e=khe(t,"string");return _f(e)=="symbol"?e:String(e)}function khe(t,e){if(_f(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_f(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kI=function(e,n,r,i,a){var o=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-o/2,",").concat(n+a),s+="L ".concat(e+r-o/2-i,",").concat(n+a),s+="L ".concat(e,",").concat(n," Z"),s},The={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Ahe=function(e){var n=SI(SI({},The),e),r=D.useRef(),i=D.useState(-1),a=vhe(i,2),o=a[0],s=a[1];D.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&s(_)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,f=n.lowerWidth,h=n.height,p=n.className,g=n.animationEasing,m=n.animationDuration,v=n.animationBegin,x=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||h!==+h||c===0&&f===0||h===0)return null;var y=ke("recharts-trapezoid",p);return x?M.createElement(Fi,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:c,lowerWidth:f,height:h,x:l,y:u},duration:m,animationEasing:g,isActive:x},function(_){var E=_.upperWidth,T=_.lowerWidth,O=_.height,k=_.x,S=_.y;return M.createElement(Fi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,easing:g},M.createElement("path",im({},me(n,!0),{className:y,d:kI(k,S,E,T,O),ref:r})))}):M.createElement("g",null,M.createElement("path",im({},me(n,!0),{className:y,d:kI(l,u,c,f,h)})))},Phe=["option","shapeType","propTransformer","activeClassName","isActive"];function wf(t){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wf(t)}function Ihe(t,e){if(t==null)return{};var n=Ohe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ohe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function TI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function am(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TI(Object(n),!0).forEach(function(r){Che(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Che(t,e,n){return e=Rhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rhe(t){var e=Nhe(t,"string");return wf(e)=="symbol"?e:String(e)}function Nhe(t,e){if(wf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jhe(t,e){return am(am({},e),t)}function Dhe(t,e){return t==="symbols"}function AI(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return M.createElement(I1,n);case"trapezoid":return M.createElement(Ahe,n);case"sector":return M.createElement(i$,n);case"symbols":if(Dhe(e))return M.createElement(Kx,n);break;default:return null}}function Mhe(t){return D.isValidElement(t)?t.props:t}function v$(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?jhe:r,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,s=t.isActive,l=Ihe(t,Phe),u;if(D.isValidElement(e))u=D.cloneElement(e,am(am({},l),Mhe(e)));else if(be(e))u=e(l);else if(fhe(e)&&!yhe(e)){var c=i(e,l);u=M.createElement(AI,{shapeType:n,elementProps:c})}else{var f=l;u=M.createElement(AI,{shapeType:n,elementProps:f})}return s?M.createElement(He,{className:o},u):u}function Bg(t,e){return e!=null&&"trapezoids"in t.props}function zg(t,e){return e!=null&&"sectors"in t.props}function xf(t,e){return e!=null&&"points"in t.props}function $he(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function Lhe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Vhe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Fhe(t,e){var n;return Bg(t,e)?n=$he:zg(t,e)?n=Lhe:xf(t,e)&&(n=Vhe),n}function Uhe(t,e){var n;return Bg(t,e)?n="trapezoids":zg(t,e)?n="sectors":xf(t,e)&&(n="points"),n}function Bhe(t,e){if(Bg(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(zg(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return xf(t,e)?e.payload:{}}function zhe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Uhe(n,e),a=Bhe(n,e),o=r.filter(function(l,u){var c=jg(a,l),f=n.props[i].filter(function(g){var m=Fhe(n,e);return m(g,e)}),h=n.props[i].indexOf(f[f.length-1]),p=u===h;return c&&p}),s=r.indexOf(o[o.length-1]);return s}var Rh;function El(t){"@babel/helpers - typeof";return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},El(t)}function Ms(){return Ms=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ms.apply(this,arguments)}function PI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PI(Object(n),!0).forEach(function(r){dr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Whe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function II(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_$(r.key),r)}}function qhe(t,e,n){return e&&II(t.prototype,e),n&&II(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hhe(t,e,n){return e=om(e),Khe(t,b$()?Reflect.construct(e,n||[],om(t).constructor):e.apply(t,n))}function Khe(t,e){if(e&&(El(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bs(t)}function b$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b$=function(){return!!t})()}function om(t){return om=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},om(t)}function bs(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ghe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&n_(t,e)}function n_(t,e){return n_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},n_(t,e)}function dr(t,e,n){return e=_$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _$(t){var e=Xhe(t,"string");return El(e)=="symbol"?e:String(e)}function Xhe(t,e){if(El(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(El(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var li=function(t){Ghe(e,t);function e(n){var r;return Whe(this,e),r=Hhe(this,e,[n]),dr(bs(r),"pieRef",null),dr(bs(r),"sectorRefs",[]),dr(bs(r),"id",Zf("recharts-pie-")),dr(bs(r),"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),be(i)&&i()}),dr(bs(r),"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),be(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return qhe(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,s=a.labelLine,l=a.dataKey,u=a.valueKey,c=me(this.props,!1),f=me(o,!1),h=me(s,!1),p=o&&o.offsetRadius||20,g=r.map(function(m,v){var x=(m.startAngle+m.endAngle)/2,y=lt(m.cx,m.cy,m.outerRadius+p,x),_=vt(vt(vt(vt({},c),m),{},{stroke:"none"},f),{},{index:v,textAnchor:e.getTextAnchor(y.x,m.cx)},y),E=vt(vt(vt(vt({},c),m),{},{fill:"none",stroke:m.fill},h),{},{index:v,points:[lt(m.cx,m.cy,m.outerRadius,x),y],key:"line"}),T=l;return Pe(l)&&Pe(u)?T="value":Pe(l)&&(T=u),M.createElement(He,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(v)},s&&e.renderLabelLineItem(s,E),e.renderLabelItem(o,_,xn(m,T)))});return M.createElement(He,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(r){var i=this,a=this.props,o=a.activeShape,s=a.blendStroke,l=a.inactiveShape;return r.map(function(u,c){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var f=i.isActiveIndex(c),h=l&&i.hasActiveIndex()?l:null,p=f?o:h,g=vt(vt({},u),{},{stroke:s?u.fill:u.stroke,tabIndex:-1});return M.createElement(He,Ms({ref:function(v){v&&!i.sectorRefs.includes(v)&&i.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},Vo(i.props,u,c),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(c)}),M.createElement(v$,Ms({option:p,isActive:f,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,a=i.sectors,o=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,u=i.animationEasing,c=i.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return M.createElement(Fi,{begin:s,duration:l,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(c,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var m=g.t,v=[],x=a&&a[0],y=x.startAngle;return a.forEach(function(_,E){var T=h&&h[E],O=E>0?er(_,"paddingAngle",0):0;if(T){var k=ea(T.endAngle-T.startAngle,_.endAngle-_.startAngle),S=vt(vt({},_),{},{startAngle:y+O,endAngle:y+k(m)+O});v.push(S),y=S.endAngle}else{var C=_.endAngle,R=_.startAngle,N=ea(0,C-R),I=N(m),P=vt(vt({},_),{},{startAngle:y+O,endAngle:y+I+O});v.push(P),y=P.endAngle}}),M.createElement(He,null,r.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,a=r.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!jg(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,a=i.hide,o=i.sectors,s=i.className,l=i.label,u=i.cx,c=i.cy,f=i.innerRadius,h=i.outerRadius,p=i.isAnimationActive,g=this.state.isAnimationFinished;if(a||!o||!o.length||!Z(u)||!Z(c)||!Z(f)||!Z(h))return null;var m=ke("recharts-pie",s);return M.createElement(He,{tabIndex:this.props.rootTabIndex,className:m,ref:function(x){r.pieRef=x}},this.renderSectors(),l&&this.renderLabels(o),Xt.renderCallByParent(this.props,null,!1),(!p||g)&&Ia.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i){if(M.isValidElement(r))return M.cloneElement(r,i);if(be(r))return r(i);var a=ke("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return M.createElement(Ub,Ms({},i,{type:"linear",className:a}))}},{key:"renderLabelItem",value:function(r,i,a){if(M.isValidElement(r))return M.cloneElement(r,i);var o=a;if(be(r)&&(o=r(i),M.isValidElement(o)))return o;var s=ke("recharts-pie-label-text",typeof r!="boolean"&&!be(r)?r.className:"");return M.createElement(Fo,Ms({},i,{alignmentBaseline:"middle",className:s}),o)}}]),e}(D.PureComponent);Rh=li;dr(li,"displayName","Pie");dr(li,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ai.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});dr(li,"parseDeltaAngle",function(t,e){var n=In(e-t),r=Math.min(Math.abs(e-t),360);return n*r});dr(li,"getRealPieData",function(t){var e=t.props,n=e.data,r=e.children,i=me(t.props,!1),a=yr(r,td);return n&&n.length?n.map(function(o,s){return vt(vt(vt({payload:o},i),o),a&&a[s]&&a[s].props)}):a&&a.length?a.map(function(o){return vt(vt({},i),o.props)}):[]});dr(li,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,a=e.height,o=e$(i,a),s=r+On(t.props.cx,i,i/2),l=n+On(t.props.cy,a,a/2),u=On(t.props.innerRadius,o,0),c=On(t.props.outerRadius,o,o*.8),f=t.props.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:s,cy:l,innerRadius:u,outerRadius:c,maxRadius:f}});dr(li,"getComposedData",function(t){var e=t.item,n=t.offset,r=Rh.getRealPieData(e);if(!r||!r.length)return null;var i=e.props,a=i.cornerRadius,o=i.startAngle,s=i.endAngle,l=i.paddingAngle,u=i.dataKey,c=i.nameKey,f=i.valueKey,h=i.tooltipType,p=Math.abs(e.props.minAngle),g=Rh.parseCoordinateOfPie(e,n),m=Rh.parseDeltaAngle(o,s),v=Math.abs(m),x=u;Pe(u)&&Pe(f)?(Rr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):Pe(u)&&(Rr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=f);var y=r.filter(function(S){return xn(S,x,0)!==0}).length,_=(v>=360?y:y-1)*l,E=v-y*p-_,T=r.reduce(function(S,C){var R=xn(C,x,0);return S+(Z(R)?R:0)},0),O;if(T>0){var k;O=r.map(function(S,C){var R=xn(S,x,0),N=xn(S,c,C),I=(Z(R)?R:0)/T,P;C?P=k.endAngle+In(m)*l*(R!==0?1:0):P=o;var $=P+In(m)*((R!==0?p:0)+I*E),F=(P+$)/2,U=(g.innerRadius+g.outerRadius)/2,B=[{name:N,value:R,payload:S,dataKey:x,type:h}],L=lt(g.cx,g.cy,U,F);return k=vt(vt(vt({percent:I,cornerRadius:a,name:N,tooltipPayload:B,midAngle:F,middleRadius:U,tooltipPosition:L},S),g),{},{value:xn(S,x),startAngle:P,endAngle:$,payload:S,paddingAngle:In(m)*l}),k})}return vt(vt({},g),{},{sectors:O,data:r})});var Yhe=Math.ceil,Qhe=Math.max;function Jhe(t,e,n,r){for(var i=-1,a=Qhe(Yhe((e-t)/(n||1)),0),o=Array(a);a--;)o[r?a:++i]=t,t+=n;return o}var Zhe=Jhe,epe=WD,OI=1/0,tpe=17976931348623157e292;function npe(t){if(!t)return t===0?t:0;if(t=epe(t),t===OI||t===-OI){var e=t<0?-1:1;return e*tpe}return t===t?t:0}var w$=npe,rpe=Zhe,ipe=Sg,_v=w$;function ape(t){return function(e,n,r){return r&&typeof r!="number"&&ipe(e,n,r)&&(n=r=void 0),e=_v(e),n===void 0?(n=e,e=0):n=_v(n),r=r===void 0?e<n?1:-1:_v(r),rpe(e,n,r,t)}}var ope=ape,spe=ope,lpe=spe(),upe=lpe;const sm=Ge(upe);function Ef(t){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ef(t)}function CI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CI(Object(n),!0).forEach(function(r){x$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function x$(t,e,n){return e=cpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cpe(t){var e=fpe(t,"string");return Ef(e)=="symbol"?e:String(e)}function fpe(t,e){if(Ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dpe=["Webkit","Moz","O","ms"],hpe=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=dpe.reduce(function(a,o){return RI(RI({},a),{},x$({},o+r,n))},{});return i[e]=n,i};function Sl(t){"@babel/helpers - typeof";return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sl(t)}function lm(){return lm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lm.apply(this,arguments)}function NI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NI(Object(n),!0).forEach(function(r){Hn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ppe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,S$(r.key),r)}}function mpe(t,e,n){return e&&jI(t.prototype,e),n&&jI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gpe(t,e,n){return e=um(e),ype(t,E$()?Reflect.construct(e,n||[],um(t).constructor):e.apply(t,n))}function ype(t,e){if(e&&(Sl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vr(t)}function E$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E$=function(){return!!t})()}function um(t){return um=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},um(t)}function Vr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r_(t,e)}function r_(t,e){return r_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},r_(t,e)}function Hn(t,e,n){return e=S$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S$(t){var e=bpe(t,"string");return Sl(e)=="symbol"?e:String(e)}function bpe(t,e){if(Sl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _pe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,o=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=fc().domain(sm(0,l)).range([a,a+o-s]),c=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},DI=function(e){return e.changedTouches&&!!e.changedTouches.length},kl=function(t){vpe(e,t);function e(n){var r;return ppe(this,e),r=gpe(this,e,[n]),Hn(Vr(r),"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Hn(Vr(r),"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Hn(Vr(r),"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),r.detachDragEndListener()}),Hn(Vr(r),"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Hn(Vr(r),"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Hn(Vr(r),"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Hn(Vr(r),"handleSlideDragStart",function(i){var a=DI(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(Vr(r),"startX"),endX:r.handleTravellerDragStart.bind(Vr(r),"endX")},r.state={},r}return mpe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,o=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,f=Math.min(i,a),h=Math.max(i,a),p=e.getIndexInRange(o,f),g=e.getIndexInRange(o,h);return{startIndex:p-p%l,endIndex:g===c?c:g-g%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=xn(a[r],s,r);return be(o)?o(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,g=l.onChange,m=r.pageX-a;m>0?m=Math.min(m,u+c-f-s,u+c-f-o):m<0&&(m=Math.max(m,u-o,u-s));var v=this.getIndex({startX:o+m,endX:s+m});(v.startIndex!==h||v.endIndex!==p)&&g&&g(v),this.setState({startX:o+m,endX:s+m,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=DI(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[o],c=this.props,f=c.x,h=c.width,p=c.travellerWidth,g=c.onChange,m=c.gap,v=c.data,x={startX:this.state.startX,endX:this.state.endX},y=r.pageX-a;y>0?y=Math.min(y,f+h-p-u):y<0&&(y=Math.max(y,f-u)),x[o]=u+y;var _=this.getIndex(x),E=_.startIndex,T=_.endIndex,O=function(){var S=v.length-1;return o==="startX"&&(s>l?E%m===0:T%m===0)||s<l&&T===S||o==="endX"&&(s>l?T%m===0:E%m===0)||s>l&&T===S};this.setState(Hn(Hn({},o,u+y),"brushMoveStartX",r.pageX),function(){g&&O()&&g(_)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,u=o.endX,c=this.state[i],f=s.indexOf(c);if(f!==-1){var h=f+r;if(!(h===-1||h>=s.length)){var p=s[h];i==="startX"&&p>=u||i==="endX"&&p<=l||this.setState(Hn({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.fill,u=r.stroke;return M.createElement("rect",{stroke:u,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.data,u=r.children,c=r.padding,f=D.Children.only(u);return f?M.cloneElement(f,{x:i,y:a,width:o,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,o,s=this,l=this.props,u=l.y,c=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,g=l.data,m=l.startIndex,v=l.endIndex,x=Math.max(r,this.props.x),y=wv(wv({},me(this.props,!1)),{},{x,y:u,width:c,height:f}),_=p||"Min value: ".concat((a=g[m])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=g[v])===null||o===void 0?void 0:o.name);return M.createElement(He,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(T){["ArrowLeft","ArrowRight"].includes(T.key)&&(T.preventDefault(),T.stopPropagation(),s.handleTravellerMoveKeyboard(T.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,y))}},{key:"renderSlide",value:function(r,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,u=a.travellerWidth,c=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return M.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:o,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,o=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,f=c.startX,h=c.endX,p=5,g={pointerEvents:"none",fill:u};return M.createElement(He,{className:"recharts-brush-texts"},M.createElement(Fo,lm({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+s/2},g),this.getTextOfTick(i)),M.createElement(Fo,lm({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:o+s/2},g),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,o=r.children,s=r.x,l=r.y,u=r.width,c=r.height,f=r.alwaysShowText,h=this.state,p=h.startX,g=h.endX,m=h.isTextActive,v=h.isSlideMoving,x=h.isTravellerMoving,y=h.isTravellerFocused;if(!i||!i.length||!Z(s)||!Z(l)||!Z(u)||!Z(c)||u<=0||c<=0)return null;var _=ke("recharts-brush",a),E=M.Children.count(o)===1,T=hpe("userSelect","none");return M.createElement(He,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:T},this.renderBackground(),E&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(m||v||x||y||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,o=r.width,s=r.height,l=r.stroke,u=Math.floor(a+s/2)-1;return M.createElement(M.Fragment,null,M.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),M.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),M.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return M.isValidElement(r)?a=M.cloneElement(r,i):be(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,o=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,f=r.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return wv({prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o},a&&a.length?_pe({data:a,width:o,x:s,travellerWidth:l,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);r[l]>i?s=l:o=l}return i>=r[s]?s:o}}]),e}(D.PureComponent);Hn(kl,"displayName","Brush");Hn(kl,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var wpe=e1;function xpe(t,e){var n;return wpe(t,function(r,i,a){return n=e(r,i,a),!n}),!!n}var Epe=xpe,Spe=gD,kpe=si,Tpe=Epe,Ape=Wn,Ppe=Sg;function Ipe(t,e,n){var r=Ape(t)?Spe:Tpe;return n&&Ppe(t,e,n)&&(e=void 0),r(t,kpe(e))}var Ope=Ipe;const Cpe=Ge(Ope);var ei=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},MI=VD;function Rpe(t,e,n){e=="__proto__"&&MI?MI(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Npe=Rpe,jpe=Npe,Dpe=$D,Mpe=si;function $pe(t,e){var n={};return e=Mpe(e),Dpe(t,function(r,i,a){jpe(n,i,e(r,i,a))}),n}var Lpe=$pe;const Vpe=Ge(Lpe);function Fpe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var Upe=Fpe,Bpe=e1;function zpe(t,e){var n=!0;return Bpe(t,function(r,i,a){return n=!!e(r,i,a),n}),n}var Wpe=zpe,qpe=Upe,Hpe=Wpe,Kpe=si,Gpe=Wn,Xpe=Sg;function Ype(t,e,n){var r=Gpe(t)?qpe:Hpe;return n&&Xpe(t,e,n)&&(e=void 0),r(t,Kpe(e))}var Qpe=Ype;const k$=Ge(Qpe);var Jpe=["x","y"];function Sf(t){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sf(t)}function i_(){return i_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i_.apply(this,arguments)}function $I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ru(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$I(Object(n),!0).forEach(function(r){Zpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$I(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zpe(t,e,n){return e=eme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eme(t){var e=tme(t,"string");return Sf(e)=="symbol"?e:String(e)}function tme(t,e){if(Sf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nme(t,e){if(t==null)return{};var n=rme(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rme(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ime(t,e){var n=t.x,r=t.y,i=nme(t,Jpe),a="".concat(n),o=parseInt(a,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),c=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return Ru(Ru(Ru(Ru(Ru({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:c,width:h,name:e.name,radius:e.radius})}function LI(t){return M.createElement(v$,i_({shapeType:"rectangle",propTransformer:ime,activeClassName:"recharts-active-bar"},t))}var ame=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=typeof r=="number";return a?e(r,i):(a||Bo(),n)}},ome=["value","background"],T$;function Tl(t){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tl(t)}function sme(t,e){if(t==null)return{};var n=lme(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lme(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function cm(){return cm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cm.apply(this,arguments)}function VI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VI(Object(n),!0).forEach(function(r){pa(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ume(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,P$(r.key),r)}}function cme(t,e,n){return e&&FI(t.prototype,e),n&&FI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function fme(t,e,n){return e=fm(e),dme(t,A$()?Reflect.construct(e,n||[],fm(t).constructor):e.apply(t,n))}function dme(t,e){if(e&&(Tl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qu(t)}function A$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A$=function(){return!!t})()}function fm(t){return fm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fm(t)}function qu(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a_(t,e)}function a_(t,e){return a_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},a_(t,e)}function pa(t,e,n){return e=P$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P$(t){var e=pme(t,"string");return Tl(e)=="symbol"?e:String(e)}function pme(t,e){if(Tl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Tl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ns=function(t){hme(e,t);function e(){var n;ume(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=fme(this,e,[].concat(i)),pa(qu(n),"state",{isAnimationFinished:!1}),pa(qu(n),"id",Zf("recharts-bar-")),pa(qu(n),"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),pa(qu(n),"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return cme(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,u=a.activeBar,c=me(this.props,!1);return r&&r.map(function(f,h){var p=h===l,g=p?u:o,m=qt(qt(qt({},c),f),{},{isActive:p,option:g,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return M.createElement(He,cm({className:"recharts-bar-rectangle"},Vo(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value)}),M.createElement(LI,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,f=i.animationId,h=this.state.prevData;return M.createElement(Fi,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,m=a.map(function(v,x){var y=h&&h[x];if(y){var _=ea(y.x,v.x),E=ea(y.y,v.y),T=ea(y.width,v.width),O=ea(y.height,v.height);return qt(qt({},v),{},{x:_(g),y:E(g),width:T(g),height:O(g)})}if(o==="horizontal"){var k=ea(0,v.height),S=k(g);return qt(qt({},v),{},{y:v.y+v.height-S,height:S})}var C=ea(0,v.width),R=C(g);return qt(qt({},v),{},{width:R})});return M.createElement(He,null,r.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!jg(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=me(this.props.background,!1);return a.map(function(u,c){u.value;var f=u.background,h=sme(u,ome);if(!f)return null;var p=qt(qt(qt(qt(qt({},h),{},{fill:"#eee"},f),l),Vo(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:c,key:"background-bar-".concat(c),className:"recharts-bar-background-rectangle"});return M.createElement(LI,cm({option:r.props.background,isActive:c===s},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,u=a.layout,c=a.children,f=yr(c,$g);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,p=function(v,x){var y=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:y,errorVal:xn(v,x)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return M.createElement(He,g,f.map(function(m){return M.cloneElement(m,{key:"error-bar-".concat(i,"-").concat(m.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,o=r.className,s=r.xAxis,l=r.yAxis,u=r.left,c=r.top,f=r.width,h=r.height,p=r.isAnimationActive,g=r.background,m=r.id;if(i||!a||!a.length)return null;var v=this.state.isAnimationFinished,x=ke("recharts-bar",o),y=s&&s.allowDataOverflow,_=l&&l.allowDataOverflow,E=y||_,T=Pe(m)?this.id:m;return M.createElement(He,{className:x},y||_?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(T)},M.createElement("rect",{x:y?u:u-f/2,y:_?c:c-h/2,width:y?f:f*2,height:_?h:h*2}))):null,M.createElement(He,{className:"recharts-bar-rectangles",clipPath:E?"url(#clipPath-".concat(T,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(E,T),(!p||v)&&Ia.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}]),e}(D.PureComponent);T$=ns;pa(ns,"displayName","Bar");pa(ns,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ai.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});pa(ns,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,h=t.offset,p=due(r,n);if(!p)return null;var g=e.layout,m=n.props,v=m.dataKey,x=m.children,y=m.minPointSize,_=g==="horizontal"?o:a,E=u?_.scale.domain():null,T=bue({numericAxis:_}),O=yr(x,td),k=f.map(function(S,C){var R,N,I,P,$,F;u?R=hue(u[c+C],E):(R=xn(S,v),Array.isArray(R)||(R=[T,R]));var U=ame(y,T$.defaultProps.minPointSize)(R[1],C);if(g==="horizontal"){var B,L=[o.scale(R[0]),o.scale(R[1])],q=L[0],Y=L[1];N=IP({axis:a,ticks:s,bandSize:i,offset:p.offset,entry:S,index:C}),I=(B=Y??q)!==null&&B!==void 0?B:void 0,P=p.size;var re=q-Y;if($=Number.isNaN(re)?0:re,F={x:N,y:o.y,width:P,height:o.height},Math.abs(U)>0&&Math.abs($)<Math.abs(U)){var X=In($||U)*(Math.abs(U)-Math.abs($));I-=X,$+=X}}else{var ne=[a.scale(R[0]),a.scale(R[1])],ge=ne[0],Oe=ne[1];if(N=ge,I=IP({axis:o,ticks:l,bandSize:i,offset:p.offset,entry:S,index:C}),P=Oe-ge,$=p.size,F={x:a.x,y:I,width:a.width,height:$},Math.abs(U)>0&&Math.abs(P)<Math.abs(U)){var at=In(P||U)*(Math.abs(U)-Math.abs(P));P+=at}}return qt(qt(qt({},S),{},{x:N,y:I,width:P,height:$,value:u?R:R[1],payload:S,background:F},O&&O[C]&&O[C].props),{},{tooltipPayload:[JM(n,S)],tooltipPosition:{x:N+P/2,y:I+$/2}})});return qt({data:k,layout:g},h)});function kf(t){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(t)}function mme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,I$(r.key),r)}}function gme(t,e,n){return e&&UI(t.prototype,e),n&&UI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function BI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ar(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BI(Object(n),!0).forEach(function(r){Wg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wg(t,e,n){return e=I$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I$(t){var e=yme(t,"string");return kf(e)=="symbol"?e:String(e)}function yme(t,e){if(kf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(kf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vme=function(e,n,r,i,a){var o=e.width,s=e.height,l=e.layout,u=e.children,c=Object.keys(n),f={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!Gn(u,ns);return c.reduce(function(p,g){var m=n[g],v=m.orientation,x=m.domain,y=m.padding,_=y===void 0?{}:y,E=m.mirror,T=m.reversed,O="".concat(v).concat(E?"Mirror":""),k,S,C,R,N;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var I=x[1]-x[0],P=1/0,$=m.categoricalDomain.sort();if($.forEach(function(ge,Oe){Oe>0&&(P=Math.min((ge||0)-($[Oe-1]||0),P))}),Number.isFinite(P)){var F=P/I,U=m.layout==="vertical"?r.height:r.width;if(m.padding==="gap"&&(k=F*U/2),m.padding==="no-gap"){var B=On(e.barCategoryGap,F*U),L=F*U/2;k=L-B-(L-B)/U*B}}}i==="xAxis"?S=[r.left+(_.left||0)+(k||0),r.left+r.width-(_.right||0)-(k||0)]:i==="yAxis"?S=l==="horizontal"?[r.top+r.height-(_.bottom||0),r.top+(_.top||0)]:[r.top+(_.top||0)+(k||0),r.top+r.height-(_.bottom||0)-(k||0)]:S=m.range,T&&(S=[S[1],S[0]]);var q=GM(m,a,h),Y=q.scale,re=q.realScaleType;Y.domain(x).range(S),XM(Y);var X=YM(Y,Ar(Ar({},m),{},{realScaleType:re}));i==="xAxis"?(N=v==="top"&&!E||v==="bottom"&&E,C=r.left,R=f[O]-N*m.height):i==="yAxis"&&(N=v==="left"&&!E||v==="right"&&E,C=f[O]-N*m.width,R=r.top);var ne=Ar(Ar(Ar({},m),X),{},{realScaleType:re,x:C,y:R,scale:Y,width:i==="xAxis"?r.width:m.width,height:i==="yAxis"?r.height:m.height});return ne.bandSize=Xp(ne,X),!m.hide&&i==="xAxis"?f[O]+=(N?-1:1)*ne.height:m.hide||(f[O]+=(N?-1:1)*ne.width),Ar(Ar({},p),{},Wg({},g,ne))},{})},O$=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(i,o),width:Math.abs(a-r),height:Math.abs(o-i)}},bme=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return O$({x:n,y:r},{x:i,y:a})},C$=function(){function t(e){mme(this,t),this.scale=e}return gme(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}]),t}();Wg(C$,"EPS",1e-4);var C1=function(e){var n=Object.keys(e).reduce(function(r,i){return Ar(Ar({},r),{},Wg({},i,C$.create(e[i])))},{});return Ar(Ar({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return Vpe(i,function(l,u){return n[u].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return k$(i,function(a,o){return n[o].isInRange(a)})}})};function _me(t){return(t%180+180)%180}var wme=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=_me(i),o=a*Math.PI/180,s=Math.atan(r/n),l=o>s&&o<Math.PI-s?r/Math.sin(o):n/Math.cos(o);return Math.abs(l)},xme=si,Eme=ed,Sme=xg;function kme(t){return function(e,n,r){var i=Object(e);if(!Eme(e)){var a=xme(n);e=Sme(e),n=function(s){return a(i[s],s,i)}}var o=t(e,n,r);return o>-1?i[a?e[o]:o]:void 0}}var Tme=kme,Ame=w$;function Pme(t){var e=Ame(t),n=e%1;return e===e?n?e-n:e:0}var Ime=Pme,Ome=OD,Cme=si,Rme=Ime,Nme=Math.max;function jme(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:Rme(n);return i<0&&(i=Nme(r+i,0)),Ome(t,Cme(e),i)}var Dme=jme,Mme=Tme,$me=Dme,Lme=Mme($me),Vme=Lme;const Fme=Ge(Vme);var Ume=lK(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),R1=D.createContext(void 0),N1=D.createContext(void 0),R$=D.createContext(void 0),N$=D.createContext({}),j$=D.createContext(void 0),D$=D.createContext(0),M$=D.createContext(0),zI=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=e.clipPathId,s=e.children,l=e.width,u=e.height,c=Ume(a);return M.createElement(R1.Provider,{value:r},M.createElement(N1.Provider,{value:i},M.createElement(N$.Provider,{value:a},M.createElement(R$.Provider,{value:c},M.createElement(j$.Provider,{value:o},M.createElement(D$.Provider,{value:u},M.createElement(M$.Provider,{value:l},s)))))))},Bme=function(){return D.useContext(j$)},$$=function(e){var n=D.useContext(R1);n==null&&Bo();var r=n[e];return r==null&&Bo(),r},zme=function(){var e=D.useContext(R1);return ua(e)},Wme=function(){var e=D.useContext(N1),n=Fme(e,function(r){return k$(r.domain,Number.isFinite)});return n||ua(e)},L$=function(e){var n=D.useContext(N1);n==null&&Bo();var r=n[e];return r==null&&Bo(),r},qme=function(){var e=D.useContext(R$);return e},Hme=function(){return D.useContext(N$)},j1=function(){return D.useContext(M$)},D1=function(){return D.useContext(D$)};function Tf(t){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tf(t)}function WI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WI(Object(n),!0).forEach(function(r){Kme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kme(t,e,n){return e=Gme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gme(t){var e=Xme(t,"string");return Tf(e)=="symbol"?e:String(e)}function Xme(t,e){if(Tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yme(t,e){return ege(t)||Zme(t,e)||Jme(t,e)||Qme()}function Qme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jme(t,e){if(t){if(typeof t=="string")return HI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HI(t,e)}}function HI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zme(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function ege(t){if(Array.isArray(t))return t}function o_(){return o_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o_.apply(this,arguments)}var tge=function(e,n){var r;return M.isValidElement(e)?r=M.cloneElement(e,n):be(e)?r=e(n):r=M.createElement("line",o_({},n,{className:"recharts-reference-line-line"})),r},nge=function(e,n,r,i,a,o,s,l,u){var c=a.x,f=a.y,h=a.width,p=a.height;if(r){var g=u.y,m=e.y.apply(g,{position:o});if(ei(u,"discard")&&!e.y.isInRange(m))return null;var v=[{x:c+h,y:m},{x:c,y:m}];return l==="left"?v.reverse():v}if(n){var x=u.x,y=e.x.apply(x,{position:o});if(ei(u,"discard")&&!e.x.isInRange(y))return null;var _=[{x:y,y:f+p},{x:y,y:f}];return s==="top"?_.reverse():_}if(i){var E=u.segment,T=E.map(function(O){return e.apply(O,{position:o})});return ei(u,"discard")&&Cpe(T,function(O){return!e.isInRange(O)})?null:T}return null};function M1(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,s=t.className,l=t.alwaysShow,u=Bme(),c=$$(i),f=L$(a),h=qme();if(!u||!h)return null;Rr(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=C1({x:c.scale,y:f.scale}),g=Bt(e),m=Bt(n),v=r&&r.length===2,x=nge(p,g,m,v,h,t.position,c.orientation,f.orientation,t);if(!x)return null;var y=Yme(x,2),_=y[0],E=_.x,T=_.y,O=y[1],k=O.x,S=O.y,C=ei(t,"hidden")?"url(#".concat(u,")"):void 0,R=qI(qI({clipPath:C},me(t,!0)),{},{x1:E,y1:T,x2:k,y2:S});return M.createElement(He,{className:ke("recharts-reference-line",s)},tge(o,R),Xt.renderCallByParent(t,bme({x1:E,y1:T,x2:k,y2:S})))}M1.displayName="ReferenceLine";M1.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"};function Af(t){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Af(t)}function s_(){return s_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s_.apply(this,arguments)}function KI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KI(Object(n),!0).forEach(function(r){rge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rge(t,e,n){return e=ige(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ige(t){var e=age(t,"string");return Af(e)=="symbol"?e:String(e)}function age(t,e){if(Af(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Af(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oge=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,o=C1({x:i.scale,y:a.scale}),s=o.apply({x:n,y:r},{bandAware:!0});return ei(e,"discard")&&!o.isInRange(s)?null:s};function od(t){var e=t.x,n=t.y,r=t.r,i=t.alwaysShow,a=t.clipPathId,o=Bt(e),s=Bt(n);if(Rr(i===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!o||!s)return null;var l=oge(t);if(!l)return null;var u=l.x,c=l.y,f=t.shape,h=t.className,p=ei(t,"hidden")?"url(#".concat(a,")"):void 0,g=GI(GI({clipPath:p},me(t,!0)),{},{cx:u,cy:c});return M.createElement(He,{className:ke("recharts-reference-dot",h)},od.renderDot(f,g),Xt.renderCallByParent(t,{x:u-r,y:c-r,width:2*r,height:2*r}))}od.displayName="ReferenceDot";od.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1};od.renderDot=function(t,e){var n;return M.isValidElement(t)?n=M.cloneElement(t,e):be(t)?n=t(e):n=M.createElement(O1,s_({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n};function Pf(t){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pf(t)}function l_(){return l_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l_.apply(this,arguments)}function XI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XI(Object(n),!0).forEach(function(r){sge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sge(t,e,n){return e=lge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lge(t){var e=uge(t,"string");return Pf(e)=="symbol"?e:String(e)}function uge(t,e){if(Pf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Pf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cge=function(e,n,r,i,a){var o=a.x1,s=a.x2,l=a.y1,u=a.y2,c=a.xAxis,f=a.yAxis;if(!c||!f)return null;var h=C1({x:c.scale,y:f.scale}),p={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},g={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return ei(a,"discard")&&(!h.isInRange(p)||!h.isInRange(g))?null:O$(p,g)};function sd(t){var e=t.x1,n=t.x2,r=t.y1,i=t.y2,a=t.className,o=t.alwaysShow,s=t.clipPathId;Rr(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var l=Bt(e),u=Bt(n),c=Bt(r),f=Bt(i),h=t.shape;if(!l&&!u&&!c&&!f&&!h)return null;var p=cge(l,u,c,f,t);if(!p&&!h)return null;var g=ei(t,"hidden")?"url(#".concat(s,")"):void 0;return M.createElement(He,{className:ke("recharts-reference-area",a)},sd.renderRect(h,YI(YI({clipPath:g},me(t,!0)),p)),Xt.renderCallByParent(t,p))}sd.displayName="ReferenceArea";sd.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1};sd.renderRect=function(t,e){var n;return M.isValidElement(t)?n=M.cloneElement(t,e):be(t)?n=t(e):n=M.createElement(I1,l_({},e,{className:"recharts-reference-area-rect"})),n};function V$(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function fge(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return wme(r,n)}function dge(t,e,n){var r=n==="width",i=t.x,a=t.y,o=t.width,s=t.height;return e===1?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}function dm(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function hge(t,e){return V$(t,e+1)}function pge(t,e,n,r,i){for(var a=(r||[]).slice(),o=e.start,s=e.end,l=0,u=1,c=o,f=function(){var g=r==null?void 0:r[l];if(g===void 0)return{v:V$(r,u)};var m=l,v,x=function(){return v===void 0&&(v=n(g,m)),v},y=g.coordinate,_=l===0||dm(t,y,x,c,s);_||(l=0,c=o,u+=1),_&&(c=y+t*(x()/2+i),l+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function If(t){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},If(t)}function QI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QI(Object(n),!0).forEach(function(r){mge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mge(t,e,n){return e=gge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gge(t){var e=yge(t,"string");return If(e)=="symbol"?e:String(e)}function yge(t,e){if(If(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(If(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vge(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,s=e.start,l=e.end,u=function(h){var p=a[h],g,m=function(){return g===void 0&&(g=n(p,h)),g};if(h===o-1){var v=t*(p.coordinate+t*m()/2-l);a[h]=p=gn(gn({},p),{},{tickCoord:v>0?p.coordinate-v*t:p.coordinate})}else a[h]=p=gn(gn({},p),{},{tickCoord:p.coordinate});var x=dm(t,p.tickCoord,m,s,l);x&&(l=p.tickCoord-t*(m()/2+i),a[h]=gn(gn({},p),{},{isShow:!0}))},c=o-1;c>=0;c--)u(c);return a}function bge(t,e,n,r,i,a){var o=(r||[]).slice(),s=o.length,l=e.start,u=e.end;if(a){var c=r[s-1],f=n(c,s-1),h=t*(c.coordinate+t*f/2-u);o[s-1]=c=gn(gn({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate});var p=dm(t,c.tickCoord,function(){return f},l,u);p&&(u=c.tickCoord-t*(f/2+i),o[s-1]=gn(gn({},c),{},{isShow:!0}))}for(var g=a?s-1:s,m=function(y){var _=o[y],E,T=function(){return E===void 0&&(E=n(_,y)),E};if(y===0){var O=t*(_.coordinate-t*T()/2-l);o[y]=_=gn(gn({},_),{},{tickCoord:O<0?_.coordinate-O*t:_.coordinate})}else o[y]=_=gn(gn({},_),{},{tickCoord:_.coordinate});var k=dm(t,_.tickCoord,T,l,u);k&&(l=_.tickCoord+t*(T()/2+i),o[y]=gn(gn({},_),{},{isShow:!0}))},v=0;v<g;v++)m(v);return o}function $1(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(Z(l)||Ai.isSsr)return hge(i,typeof l=="number"&&Z(l)?l:0);var h=[],p=s==="top"||s==="bottom"?"width":"height",g=c&&p==="width"?cc(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},m=function(_,E){var T=be(u)?u(_.value,E):_.value;return p==="width"?fge(cc(T,{fontSize:e,letterSpacing:n}),g,f):cc(T,{fontSize:e,letterSpacing:n})[p]},v=i.length>=2?In(i[1].coordinate-i[0].coordinate):1,x=dge(a,v,p);return l==="equidistantPreserveStart"?pge(v,x,m,i,o):(l==="preserveStart"||l==="preserveStartEnd"?h=bge(v,x,m,i,o,l==="preserveStartEnd"):h=vge(v,x,m,i,o),h.filter(function(y){return y.isShow}))}var _ge=["viewBox"],wge=["viewBox"],xge=["ticks"];function Al(t){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Al(t)}function $s(){return $s=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$s.apply(this,arguments)}function JI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JI(Object(n),!0).forEach(function(r){L1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xv(t,e){if(t==null)return{};var n=Ege(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ege(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Sge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,U$(r.key),r)}}function kge(t,e,n){return e&&ZI(t.prototype,e),n&&ZI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tge(t,e,n){return e=hm(e),Age(t,F$()?Reflect.construct(e,n||[],hm(t).constructor):e.apply(t,n))}function Age(t,e){if(e&&(Al(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pge(t)}function Pge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function F$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F$=function(){return!!t})()}function hm(t){return hm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hm(t)}function Ige(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u_(t,e)}function u_(t,e){return u_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},u_(t,e)}function L1(t,e,n){return e=U$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U$(t){var e=Oge(t,"string");return Al(e)=="symbol"?e:String(e)}function Oge(t,e){if(Al(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Al(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jl=function(t){Ige(e,t);function e(n){var r;return Sge(this,e),r=Tge(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return kge(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,o=xv(r,_ge),s=this.props,l=s.viewBox,u=xv(s,wge);return!Xs(a,l)||!Xs(o,u)||!Xs(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,f=i.mirror,h=i.tickMargin,p,g,m,v,x,y,_=f?-1:1,E=r.tickSize||c,T=Z(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":p=g=r.coordinate,v=o+ +!f*l,m=v-_*E,y=m-_*h,x=T;break;case"left":m=v=r.coordinate,g=a+ +!f*s,p=g-_*E,x=p-_*h,y=T;break;case"right":m=v=r.coordinate,g=a+ +f*s,p=g+_*E,x=p+_*h,y=T;break;default:p=g=r.coordinate,v=o+ +f*l,m=v+_*E,y=m+_*h,x=T;break}return{line:{x1:p,y1:m,x2:g,y2:v},tick:{x,y}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,f=Tn(Tn(Tn({},me(this.props,!1)),me(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=Tn(Tn({},f),{},{x1:i,y1:a+h*s,x2:i+o,y2:a+h*s})}else{var p=+(l==="left"&&!u||l==="right"&&u);f=Tn(Tn({},f),{},{x1:i+p*o,y1:a,x2:i+p*o,y2:a+s})}return M.createElement("line",$s({},f,{className:ke("recharts-cartesian-axis-line",er(c,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var o=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,f=s.tickFormatter,h=s.unit,p=$1(Tn(Tn({},this.props),{},{ticks:r}),i,a),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),v=me(this.props,!1),x=me(c,!1),y=Tn(Tn({},v),{},{fill:"none"},me(l,!1)),_=p.map(function(E,T){var O=o.getTickLineCoord(E),k=O.line,S=O.tick,C=Tn(Tn(Tn(Tn({textAnchor:g,verticalAnchor:m},v),{},{stroke:"none",fill:u},x),S),{},{index:T,payload:E,visibleTicksCount:p.length,tickFormatter:f});return M.createElement(He,$s({className:"recharts-cartesian-axis-tick",key:"tick-".concat(E.value,"-").concat(E.coordinate,"-").concat(E.tickCoord)},Vo(o.props,E,T)),l&&M.createElement("line",$s({},y,k,{className:ke("recharts-cartesian-axis-tick-line",er(l,"className"))})),c&&e.renderTickItem(c,C,"".concat(be(f)?f(E.value,T):E.value).concat(h||"")))});return M.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var f=this.props,h=f.ticks,p=xv(f,xge),g=h;return be(l)&&(g=h&&h.length>0?l(this.props):l(p)),o<=0||s<=0||!g||!g.length?null:M.createElement(He,{className:ke("recharts-cartesian-axis",u),ref:function(v){r.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Xt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var o;return M.isValidElement(r)?o=M.cloneElement(r,i):be(r)?o=r(i):o=M.createElement(Fo,$s({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}]),e}(D.Component);L1(Jl,"displayName","CartesianAxis");L1(Jl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Cge=["x1","y1","x2","y2","key"],Rge=["offset"];function zo(t){"@babel/helpers - typeof";return zo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zo(t)}function eO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eO(Object(n),!0).forEach(function(r){Nge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nge(t,e,n){return e=jge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jge(t){var e=Dge(t,"string");return zo(e)=="symbol"?e:String(e)}function Dge(t,e){if(zo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(zo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bo(){return bo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bo.apply(this,arguments)}function tO(t,e){if(t==null)return{};var n=Mge(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Mge(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var $ge=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height;return M.createElement("rect",{x:i,y:a,width:o,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function B$(t,e){var n;if(M.isValidElement(t))n=M.cloneElement(t,e);else if(be(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,o=e.y2,s=e.key,l=tO(e,Cge),u=me(l,!1);u.offset;var c=tO(u,Rge);n=M.createElement("line",bo({},c,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:s}))}return n}function Lge(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=wn(wn({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return B$(i,u)});return M.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Vge(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=wn(wn({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return B$(i,u)});return M.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Fge(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,o=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==c[0]&&c.unshift(0);var f=c.map(function(h,p){var g=!c[p+1],m=g?i+o-h:c[p+1]-h;if(m<=0)return null;var v=p%e.length;return M.createElement("rect",{key:"react-".concat(p),y:h,x:r,height:m,width:a,stroke:"none",fill:e[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Uge(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==c[0]&&c.unshift(0);var f=c.map(function(h,p){var g=!c[p+1],m=g?a+s-h:c[p+1]-h;if(m<=0)return null;var v=p%r.length;return M.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:m,height:l,stroke:"none",fill:r[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Bge=function(e,n){var r=e.xAxis,i=e.width,a=e.height,o=e.offset;return KM($1(wn(wn(wn({},Jl.defaultProps),r),{},{ticks:xi(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,n)},zge=function(e,n){var r=e.yAxis,i=e.width,a=e.height,o=e.offset;return KM($1(wn(wn(wn({},Jl.defaultProps),r),{},{ticks:xi(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,n)},ms={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function z$(t){var e,n,r,i,a,o,s=j1(),l=D1(),u=Hme(),c=wn(wn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:ms.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:ms.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:ms.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:ms.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:ms.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:ms.verticalFill,x:Z(t.x)?t.x:u.left,y:Z(t.y)?t.y:u.top,width:Z(t.width)?t.width:u.width,height:Z(t.height)?t.height:u.height}),f=c.x,h=c.y,p=c.width,g=c.height,m=c.syncWithTicks,v=c.horizontalValues,x=c.verticalValues,y=zme(),_=Wme();if(!Z(p)||p<=0||!Z(g)||g<=0||!Z(f)||f!==+f||!Z(h)||h!==+h)return null;var E=c.verticalCoordinatesGenerator||Bge,T=c.horizontalCoordinatesGenerator||zge,O=c.horizontalPoints,k=c.verticalPoints;if((!O||!O.length)&&be(T)){var S=v&&v.length,C=T({yAxis:_?wn(wn({},_),{},{ticks:S?v:_.ticks}):void 0,width:s,height:l,offset:u},S?!0:m);Rr(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(zo(C),"]")),Array.isArray(C)&&(O=C)}if((!k||!k.length)&&be(E)){var R=x&&x.length,N=E({xAxis:y?wn(wn({},y),{},{ticks:R?x:y.ticks}):void 0,width:s,height:l,offset:u},R?!0:m);Rr(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(zo(N),"]")),Array.isArray(N)&&(k=N)}return M.createElement("g",{className:"recharts-cartesian-grid"},M.createElement($ge,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height}),M.createElement(Lge,bo({},c,{offset:u,horizontalPoints:O,xAxis:y,yAxis:_})),M.createElement(Vge,bo({},c,{offset:u,verticalPoints:k,xAxis:y,yAxis:_})),M.createElement(Fge,bo({},c,{horizontalPoints:O})),M.createElement(Uge,bo({},c,{verticalPoints:k})))}z$.displayName="CartesianGrid";function c_(){return c_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c_.apply(this,arguments)}var qg=function(e){var n=e.xAxisId,r=j1(),i=D1(),a=$$(n);return a==null?null:M.createElement(Jl,c_({},a,{className:ke("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return xi(s,!0)}}))};qg.displayName="XAxis";qg.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};function f_(){return f_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f_.apply(this,arguments)}var Hg=function(e){var n=e.yAxisId,r=j1(),i=D1(),a=L$(n);return a==null?null:M.createElement(Jl,f_({},a,{className:ke("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return xi(s,!0)}}))};Hg.displayName="YAxis";Hg.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};function nO(t){return Kge(t)||Hge(t)||qge(t)||Wge()}function Wge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qge(t,e){if(t){if(typeof t=="string")return d_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d_(t,e)}}function Hge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Kge(t){if(Array.isArray(t))return d_(t)}function d_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var h_=function(e,n,r,i,a){var o=yr(e,M1),s=yr(e,od),l=[].concat(nO(o),nO(s)),u=yr(e,sd),c="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(m,v){if(v.props[c]===r&&ei(v.props,"extendDomain")&&Z(v.props[f])){var x=v.props[f];return[Math.min(m[0],x),Math.max(m[1],x)]}return m},h)),u.length){var p="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(m,v){if(v.props[c]===r&&ei(v.props,"extendDomain")&&Z(v.props[p])&&Z(v.props[g])){var x=v.props[p],y=v.props[g];return[Math.min(m[0],x,y),Math.max(m[1],x,y)]}return m},h)}return a&&a.length&&(h=a.reduce(function(m,v){return Z(v)?[Math.min(m[0],v),Math.max(m[1],v)]:m},h)),h},W$={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,f,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,f||l,h),g=n?n+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,g=new Array(p);h<p;h++)g[h]=f[h].fn;return g},s.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,c,f,h,p,g){var m=n?n+u:u;if(!this._events[m])return!1;var v=this._events[m],x=arguments.length,y,_;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,c),!0;case 3:return v.fn.call(v.context,c,f),!0;case 4:return v.fn.call(v.context,c,f,h),!0;case 5:return v.fn.call(v.context,c,f,h,p),!0;case 6:return v.fn.call(v.context,c,f,h,p,g),!0}for(_=1,y=new Array(x-1);_<x;_++)y[_-1]=arguments[_];v.fn.apply(v.context,y)}else{var E=v.length,T;for(_=0;_<E;_++)switch(v[_].once&&this.removeListener(u,v[_].fn,void 0,!0),x){case 1:v[_].fn.call(v[_].context);break;case 2:v[_].fn.call(v[_].context,c);break;case 3:v[_].fn.call(v[_].context,c,f);break;case 4:v[_].fn.call(v[_].context,c,f,h);break;default:if(!y)for(T=1,y=new Array(x-1);T<x;T++)y[T-1]=arguments[T];v[_].fn.apply(v[_].context,y)}}return!0},s.prototype.on=function(u,c,f){return a(this,u,c,f,!1)},s.prototype.once=function(u,c,f){return a(this,u,c,f,!0)},s.prototype.removeListener=function(u,c,f,h){var p=n?n+u:u;if(!this._events[p])return this;if(!c)return o(this,p),this;var g=this._events[p];if(g.fn)g.fn===c&&(!h||g.once)&&(!f||g.context===f)&&o(this,p);else{for(var m=0,v=[],x=g.length;m<x;m++)(g[m].fn!==c||h&&!g[m].once||f&&g[m].context!==f)&&v.push(g[m]);v.length?this._events[p]=v.length===1?v[0]:v:o(this,p)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&o(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(W$);var Gge=W$.exports;const Xge=Ge(Gge);var Ev=new Xge,Sv="recharts.syncMouseEvents";function Of(t){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Of(t)}function Yge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,q$(r.key),r)}}function Jge(t,e,n){return e&&Qge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kv(t,e,n){return e=q$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q$(t){var e=Zge(t,"string");return Of(e)=="symbol"?e:String(e)}function Zge(t,e){if(Of(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eye=function(){function t(){Yge(this,t),kv(this,"activeIndex",0),kv(this,"coordinateList",[]),kv(this,"layout","horizontal")}return Jge(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,o=n.container,s=o===void 0?null:o,l=n.layout,u=l===void 0?null:l,c=n.offset,f=c===void 0?null:c,h=n.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=a+l+u,h=o+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:f,pageY:h})}}}]),t}();function tye(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&Z(r)&&Z(i))return!0}return!1}function nye(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function H$(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,o=lt(e,n,r,i),s=lt(e,n,r,a);return{points:[o,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function rye(t,e,n){var r,i,a,o;if(t==="horizontal")r=e.x,a=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,f=e.angle,h=lt(s,l,u,f),p=lt(s,l,c,f);r=h.x,i=h.y,a=p.x,o=p.y}else return H$(e);return[{x:r,y:i},{x:a,y:o}]}function Cf(t){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cf(t)}function rO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rO(Object(n),!0).forEach(function(r){iye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iye(t,e,n){return e=aye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aye(t){var e=oye(t,"string");return Cf(e)=="symbol"?e:String(e)}function oye(t,e){if(Cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sye(t){var e=t.element,n=t.tooltipEventType,r=t.isActive,i=t.activeCoordinate,a=t.activePayload,o=t.offset,s=t.activeTooltipIndex,l=t.tooltipAxisBandSize,u=t.layout,c=t.chartName;if(!e||!e.props.cursor||!r||!i||c!=="ScatterChart"&&n!=="axis")return null;var f,h=Ub;if(c==="ScatterChart")f=i,h=wde;else if(c==="BarChart")f=nye(u,i,o,l),h=I1;else if(u==="radial"){var p=H$(i),g=p.cx,m=p.cy,v=p.radius,x=p.startAngle,y=p.endAngle;f={cx:g,cy:m,startAngle:x,endAngle:y,innerRadius:v,outerRadius:v},h=i$}else f={points:rye(u,i,o)},h=Ub;var _=uh(uh(uh(uh({stroke:"#ccc",pointerEvents:"none"},o),f),me(e.props.cursor,!1)),{},{payload:a,payloadIndex:s,className:ke("recharts-tooltip-cursor",e.props.cursor.className)});return D.isValidElement(e.props.cursor)?D.cloneElement(e.props.cursor,_):D.createElement(h,_)}var lye=["item"],uye=["children","className","width","height","style","compact","title","desc"];function Pl(t){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pl(t)}function gc(){return gc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gc.apply(this,arguments)}function iO(t,e){return dye(t)||fye(t,e)||G$(t,e)||cye()}function cye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function dye(t){if(Array.isArray(t))return t}function aO(t,e){if(t==null)return{};var n=hye(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hye(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function pye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,X$(r.key),r)}}function gye(t,e,n){return e&&mye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yye(t,e,n){return e=pm(e),vye(t,K$()?Reflect.construct(e,n||[],pm(t).constructor):e.apply(t,n))}function vye(t,e){if(e&&(Pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $e(t)}function K$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K$=function(){return!!t})()}function pm(t){return pm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pm(t)}function $e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p_(t,e)}function p_(t,e){return p_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},p_(t,e)}function Il(t){return xye(t)||wye(t)||G$(t)||_ye()}function _ye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G$(t,e){if(t){if(typeof t=="string")return m_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m_(t,e)}}function wye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xye(t){if(Array.isArray(t))return m_(t)}function m_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function oO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function H(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oO(Object(n),!0).forEach(function(r){he(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function he(t,e,n){return e=X$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X$(t){var e=Eye(t,"string");return Pl(e)=="symbol"?e:String(e)}function Eye(t,e){if(Pl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sye={xAxis:["bottom","top"],yAxis:["left","right"]},kye={width:"100%",height:"100%"},Y$={x:0,y:0};function ch(t){return t}var Tye=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Aye=function(e,n,r,i){var a=n.find(function(c){return c&&c.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,s=i.radius;return H(H(H({},i),lt(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,u=i.angle;return H(H(H({},i),lt(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return Y$},Kg=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(Il(s),Il(u)):s},[]);return o.length>0?o:e&&e.length&&Z(i)&&Z(a)?e.slice(i,a+1):[]};function Q$(t){return t==="number"?[0,"auto"]:void 0}var g_=function(e,n,r,i){var a=e.graphicalItems,o=e.tooltipAxis,s=Kg(n,e);return r<0||!a||!a.length||r>=s.length?null:a.reduce(function(l,u){var c,f=(c=u.props.data)!==null&&c!==void 0?c:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?s:f;h=X0(p,o.dataKey,i)}else h=f&&f[r]||s[r];return h?[].concat(Il(l),[JM(u,h)]):l},[])},sO=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},o=Tye(a,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=oue(o,s,u,l);if(c>=0&&u){var f=u[c]&&u[c].value,h=g_(e,n,c,f),p=Aye(r,s,c,a);return{activeTooltipIndex:c,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},Pye=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,h=e.stackOffset,p=HM(c,a);return r.reduce(function(g,m){var v,x=m.props,y=x.type,_=x.dataKey,E=x.allowDataOverflow,T=x.allowDuplicatedCategory,O=x.scale,k=x.ticks,S=x.includeHidden,C=m.props[o];if(g[C])return g;var R=Kg(e.data,{graphicalItems:i.filter(function(X){return X.props[o]===C}),dataStartIndex:l,dataEndIndex:u}),N=R.length,I,P,$;tye(m.props.domain,E,y)&&(I=Mb(m.props.domain,null,E),p&&(y==="number"||O!=="auto")&&($=dc(R,_,"category")));var F=Q$(y);if(!I||I.length===0){var U,B=(U=m.props.domain)!==null&&U!==void 0?U:F;if(_){if(I=dc(R,_,y),y==="category"&&p){var L=sG(I);T&&L?(P=I,I=sm(0,N)):T||(I=RP(B,I,m).reduce(function(X,ne){return X.indexOf(ne)>=0?X:[].concat(Il(X),[ne])},[]))}else if(y==="category")T?I=I.filter(function(X){return X!==""&&!Pe(X)}):I=RP(B,I,m).reduce(function(X,ne){return X.indexOf(ne)>=0||ne===""||Pe(ne)?X:[].concat(Il(X),[ne])},[]);else if(y==="number"){var q=fue(R,i.filter(function(X){return X.props[o]===C&&(S||!X.props.hide)}),_,a,c);q&&(I=q)}p&&(y==="number"||O!=="auto")&&($=dc(R,_,"category"))}else p?I=sm(0,N):s&&s[C]&&s[C].hasStack&&y==="number"?I=h==="expand"?[0,1]:QM(s[C].stackGroups,l,u):I=qM(R,i.filter(function(X){return X.props[o]===C&&(S||!X.props.hide)}),y,c,!0);if(y==="number")I=h_(f,I,C,a,k),B&&(I=Mb(B,I,E));else if(y==="category"&&B){var Y=B,re=I.every(function(X){return Y.indexOf(X)>=0});re&&(I=Y)}}return H(H({},g),{},he({},C,H(H({},m.props),{},{axisType:a,domain:I,categoricalDomain:$,duplicateDomain:P,originalDomain:(v=m.props.domain)!==null&&v!==void 0?v:F,isCategorical:p,layout:c})))},{})},Iye=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,h=Kg(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),p=h.length,g=HM(c,a),m=-1;return r.reduce(function(v,x){var y=x.props[o],_=Q$("number");if(!v[y]){m++;var E;return g?E=sm(0,p):s&&s[y]&&s[y].hasStack?(E=QM(s[y].stackGroups,l,u),E=h_(f,E,y,a)):(E=Mb(_,qM(h,r.filter(function(T){return T.props[o]===y&&!T.props.hide}),"number",c),i.defaultProps.allowDataOverflow),E=h_(f,E,y,a)),H(H({},v),{},he({},y,H(H({axisType:a},i.defaultProps),{},{hide:!0,orientation:er(Sye,"".concat(a,".").concat(m%2),null),domain:E,originalDomain:_,isCategorical:g,layout:c})))}return v},{})},Oye=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,f="".concat(i,"Id"),h=yr(c,a),p={};return h&&h.length?p=Pye(e,{axes:h,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(p=Iye(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),p},Cye=function(e){var n=ua(e),r=xi(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:t1(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Xp(n,r)}},lO=function(e){var n=e.children,r=e.defaultShowTooltip,i=Gn(n,kl),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},Rye=function(e){return!e||!e.length?!1:e.some(function(n){var r=Ti(n&&n.type);return r&&r.indexOf("Bar")>=0})},uO=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Nye=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,c=r.height,f=r.children,h=r.margin||{},p=Gn(f,kl),g=Gn(f,Gc),m=Object.keys(l).reduce(function(T,O){var k=l[O],S=k.orientation;return!k.mirror&&!k.hide?H(H({},T),{},he({},S,T[S]+k.width)):T},{left:h.left||0,right:h.right||0}),v=Object.keys(o).reduce(function(T,O){var k=o[O],S=k.orientation;return!k.mirror&&!k.hide?H(H({},T),{},he({},S,er(T,"".concat(S))+k.height)):T},{top:h.top||0,bottom:h.bottom||0}),x=H(H({},v),m),y=x.bottom;p&&(x.bottom+=p.props.height||kl.defaultProps.height),g&&n&&(x=uue(x,i,r,n));var _=u-x.left-x.right,E=c-x.top-x.bottom;return H(H({brushBottom:y},x),{},{width:Math.max(_,0),height:Math.max(E,0)})},jye=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},J$=function(e){var n,r=e.chartName,i=e.GraphicalChild,a=e.defaultTooltipEventType,o=a===void 0?"axis":a,s=e.validateTooltipEventTypes,l=s===void 0?["axis"]:s,u=e.axisComponents,c=e.legendContent,f=e.formatAxisMap,h=e.defaultProps,p=function(v,x){var y=x.graphicalItems,_=x.stackGroups,E=x.offset,T=x.updateId,O=x.dataStartIndex,k=x.dataEndIndex,S=v.barSize,C=v.layout,R=v.barGap,N=v.barCategoryGap,I=v.maxBarSize,P=uO(C),$=P.numericAxisName,F=P.cateAxisName,U=Rye(y),B=[];return y.forEach(function(L,q){var Y=Kg(v.data,{graphicalItems:[L],dataStartIndex:O,dataEndIndex:k}),re=L.props,X=re.dataKey,ne=re.maxBarSize,ge=L.props["".concat($,"Id")],Oe=L.props["".concat(F,"Id")],at={},Ye=u.reduce(function(Te,Ee){var Re=x["".concat(Ee.axisType,"Map")],We=L.props["".concat(Ee.axisType,"Id")];Re&&Re[We]||Ee.axisType==="zAxis"||Bo();var qe=Re[We];return H(H({},Te),{},he(he({},Ee.axisType,qe),"".concat(Ee.axisType,"Ticks"),xi(qe)))},at),cn=Ye[F],ie=Ye["".concat(F,"Ticks")],ce=_&&_[ge]&&_[ge].hasStack&&_ue(L,_[ge].stackGroups),de=Ti(L.type).indexOf("Bar")>=0,G=Xp(cn,ie),Be=[],we=U&&sue({barSize:S,stackGroups:_,totalSize:jye(Ye,F)});if(de){var Ze,et,Lt=Pe(ne)?I:ne,te=(Ze=(et=Xp(cn,ie,!0))!==null&&et!==void 0?et:Lt)!==null&&Ze!==void 0?Ze:0;Be=lue({barGap:R,barCategoryGap:N,bandSize:te!==G?te:G,sizeList:we[Oe],maxBarSize:Lt}),te!==G&&(Be=Be.map(function(Te){return H(H({},Te),{},{position:H(H({},Te.position),{},{offset:Te.position.offset-te/2})})}))}var xe=L&&L.type&&L.type.getComposedData;xe&&B.push({props:H(H({},xe(H(H({},Ye),{},{displayedData:Y,props:v,dataKey:X,item:L,bandSize:G,barPosition:Be,offset:E,stackedData:ce,layout:C,dataStartIndex:O,dataEndIndex:k}))),{},he(he(he({key:L.key||"item-".concat(q)},$,Ye[$]),F,Ye[F]),"animationId",T)),childIndex:vG(L,v.children),item:L})}),B},g=function(v,x){var y=v.props,_=v.dataStartIndex,E=v.dataEndIndex,T=v.updateId;if(!TT({props:y}))return null;var O=y.children,k=y.layout,S=y.stackOffset,C=y.data,R=y.reverseStackOrder,N=uO(k),I=N.numericAxisName,P=N.cateAxisName,$=yr(O,i),F=vue(C,$,"".concat(I,"Id"),"".concat(P,"Id"),S,R),U=u.reduce(function(re,X){var ne="".concat(X.axisType,"Map");return H(H({},re),{},he({},ne,Oye(y,H(H({},X),{},{graphicalItems:$,stackGroups:X.axisType===I&&F,dataStartIndex:_,dataEndIndex:E}))))},{}),B=Nye(H(H({},U),{},{props:y,graphicalItems:$}),x==null?void 0:x.legendBBox);Object.keys(U).forEach(function(re){U[re]=f(y,U[re],B,re.replace("Map",""),r)});var L=U["".concat(P,"Map")],q=Cye(L),Y=p(y,H(H({},U),{},{dataStartIndex:_,dataEndIndex:E,updateId:T,graphicalItems:$,stackGroups:F,offset:B}));return H(H({formattedGraphicalItems:Y,graphicalItems:$,offset:B,stackGroups:F},q),U)};return n=function(m){bye(v,m);function v(x){var y,_,E;return pye(this,v),E=yye(this,v,[x]),he($e(E),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),he($e(E),"accessibilityManager",new eye),he($e(E),"handleLegendBBoxUpdate",function(T){if(T){var O=E.state,k=O.dataStartIndex,S=O.dataEndIndex,C=O.updateId;E.setState(H({legendBBox:T},g({props:E.props,dataStartIndex:k,dataEndIndex:S,updateId:C},H(H({},E.state),{},{legendBBox:T}))))}}),he($e(E),"handleReceiveSyncEvent",function(T,O,k){if(E.props.syncId===T){if(k===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(O)}}),he($e(E),"handleBrushChange",function(T){var O=T.startIndex,k=T.endIndex;if(O!==E.state.dataStartIndex||k!==E.state.dataEndIndex){var S=E.state.updateId;E.setState(function(){return H({dataStartIndex:O,dataEndIndex:k},g({props:E.props,dataStartIndex:O,dataEndIndex:k,updateId:S},E.state))}),E.triggerSyncEvent({dataStartIndex:O,dataEndIndex:k})}}),he($e(E),"handleMouseEnter",function(T){var O=E.getMouseInfo(T);if(O){var k=H(H({},O),{},{isTooltipActive:!0});E.setState(k),E.triggerSyncEvent(k);var S=E.props.onMouseEnter;be(S)&&S(k,T)}}),he($e(E),"triggeredAfterMouseMove",function(T){var O=E.getMouseInfo(T),k=O?H(H({},O),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(k),E.triggerSyncEvent(k);var S=E.props.onMouseMove;be(S)&&S(k,T)}),he($e(E),"handleItemMouseEnter",function(T){E.setState(function(){return{isTooltipActive:!0,activeItem:T,activePayload:T.tooltipPayload,activeCoordinate:T.tooltipPosition||{x:T.cx,y:T.cy}}})}),he($e(E),"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),he($e(E),"handleMouseMove",function(T){T.persist(),E.throttleTriggeredAfterMouseMove(T)}),he($e(E),"handleMouseLeave",function(T){E.throttleTriggeredAfterMouseMove.cancel();var O={isTooltipActive:!1};E.setState(O),E.triggerSyncEvent(O);var k=E.props.onMouseLeave;be(k)&&k(O,T)}),he($e(E),"handleOuterEvent",function(T){var O=yG(T),k=er(E.props,"".concat(O));if(O&&be(k)){var S,C;/.*touch.*/i.test(O)?C=E.getMouseInfo(T.changedTouches[0]):C=E.getMouseInfo(T),k((S=C)!==null&&S!==void 0?S:{},T)}}),he($e(E),"handleClick",function(T){var O=E.getMouseInfo(T);if(O){var k=H(H({},O),{},{isTooltipActive:!0});E.setState(k),E.triggerSyncEvent(k);var S=E.props.onClick;be(S)&&S(k,T)}}),he($e(E),"handleMouseDown",function(T){var O=E.props.onMouseDown;if(be(O)){var k=E.getMouseInfo(T);O(k,T)}}),he($e(E),"handleMouseUp",function(T){var O=E.props.onMouseUp;if(be(O)){var k=E.getMouseInfo(T);O(k,T)}}),he($e(E),"handleTouchMove",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(T.changedTouches[0])}),he($e(E),"handleTouchStart",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&E.handleMouseDown(T.changedTouches[0])}),he($e(E),"handleTouchEnd",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&E.handleMouseUp(T.changedTouches[0])}),he($e(E),"triggerSyncEvent",function(T){E.props.syncId!==void 0&&Ev.emit(Sv,E.props.syncId,T,E.eventEmitterSymbol)}),he($e(E),"applySyncEvent",function(T){var O=E.props,k=O.layout,S=O.syncMethod,C=E.state.updateId,R=T.dataStartIndex,N=T.dataEndIndex;if(T.dataStartIndex!==void 0||T.dataEndIndex!==void 0)E.setState(H({dataStartIndex:R,dataEndIndex:N},g({props:E.props,dataStartIndex:R,dataEndIndex:N,updateId:C},E.state)));else if(T.activeTooltipIndex!==void 0){var I=T.chartX,P=T.chartY,$=T.activeTooltipIndex,F=E.state,U=F.offset,B=F.tooltipTicks;if(!U)return;if(typeof S=="function")$=S(B,T);else if(S==="value"){$=-1;for(var L=0;L<B.length;L++)if(B[L].value===T.activeLabel){$=L;break}}var q=H(H({},U),{},{x:U.left,y:U.top}),Y=Math.min(I,q.x+q.width),re=Math.min(P,q.y+q.height),X=B[$]&&B[$].value,ne=g_(E.state,E.props.data,$),ge=B[$]?{x:k==="horizontal"?B[$].coordinate:Y,y:k==="horizontal"?re:B[$].coordinate}:Y$;E.setState(H(H({},T),{},{activeLabel:X,activeCoordinate:ge,activePayload:ne,activeTooltipIndex:$}))}else E.setState(T)}),he($e(E),"renderCursor",function(T){var O,k=E.state,S=k.isTooltipActive,C=k.activeCoordinate,R=k.activePayload,N=k.offset,I=k.activeTooltipIndex,P=k.tooltipAxisBandSize,$=E.getTooltipEventType(),F=(O=T.props.active)!==null&&O!==void 0?O:S,U=E.props.layout,B=T.key||"_recharts-cursor";return M.createElement(sye,{key:B,activeCoordinate:C,activePayload:R,activeTooltipIndex:I,chartName:r,element:T,isActive:F,layout:U,offset:N,tooltipAxisBandSize:P,tooltipEventType:$})}),he($e(E),"renderPolarAxis",function(T,O,k){var S=er(T,"type.axisType"),C=er(E.state,"".concat(S,"Map")),R=C&&C[T.props["".concat(S,"Id")]];return D.cloneElement(T,H(H({},R),{},{className:ke(S,R.className),key:T.key||"".concat(O,"-").concat(k),ticks:xi(R,!0)}))}),he($e(E),"renderPolarGrid",function(T){var O=T.props,k=O.radialLines,S=O.polarAngles,C=O.polarRadius,R=E.state,N=R.radiusAxisMap,I=R.angleAxisMap,P=ua(N),$=ua(I),F=$.cx,U=$.cy,B=$.innerRadius,L=$.outerRadius;return D.cloneElement(T,{polarAngles:Array.isArray(S)?S:xi($,!0).map(function(q){return q.coordinate}),polarRadius:Array.isArray(C)?C:xi(P,!0).map(function(q){return q.coordinate}),cx:F,cy:U,innerRadius:B,outerRadius:L,key:T.key||"polar-grid",radialLines:k})}),he($e(E),"renderLegend",function(){var T=E.state.formattedGraphicalItems,O=E.props,k=O.children,S=O.width,C=O.height,R=E.props.margin||{},N=S-(R.left||0)-(R.right||0),I=zM({children:k,formattedGraphicalItems:T,legendWidth:N,legendContent:c});if(!I)return null;var P=I.item,$=aO(I,lye);return D.cloneElement(P,H(H({},$),{},{chartWidth:S,chartHeight:C,margin:R,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),he($e(E),"renderTooltip",function(){var T,O=E.props,k=O.children,S=O.accessibilityLayer,C=Gn(k,Ur);if(!C)return null;var R=E.state,N=R.isTooltipActive,I=R.activeCoordinate,P=R.activePayload,$=R.activeLabel,F=R.offset,U=(T=C.props.active)!==null&&T!==void 0?T:N;return D.cloneElement(C,{viewBox:H(H({},F),{},{x:F.left,y:F.top}),active:U,label:$,payload:U?P:[],coordinate:I,accessibilityLayer:S})}),he($e(E),"renderBrush",function(T){var O=E.props,k=O.margin,S=O.data,C=E.state,R=C.offset,N=C.dataStartIndex,I=C.dataEndIndex,P=C.updateId;return D.cloneElement(T,{key:T.key||"_recharts-brush",onChange:ah(E.handleBrushChange,T.props.onChange),data:S,x:Z(T.props.x)?T.props.x:R.left,y:Z(T.props.y)?T.props.y:R.top+R.height+R.brushBottom-(k.bottom||0),width:Z(T.props.width)?T.props.width:R.width,startIndex:N,endIndex:I,updateId:"brush-".concat(P)})}),he($e(E),"renderReferenceElement",function(T,O,k){if(!T)return null;var S=$e(E),C=S.clipPathId,R=E.state,N=R.xAxisMap,I=R.yAxisMap,P=R.offset,$=T.props,F=$.xAxisId,U=$.yAxisId;return D.cloneElement(T,{key:T.key||"".concat(O,"-").concat(k),xAxis:N[F],yAxis:I[U],viewBox:{x:P.left,y:P.top,width:P.width,height:P.height},clipPathId:C})}),he($e(E),"renderActivePoints",function(T){var O=T.item,k=T.activePoint,S=T.basePoint,C=T.childIndex,R=T.isRange,N=[],I=O.props.key,P=O.item.props,$=P.activeDot,F=P.dataKey,U=H(H({index:C,dataKey:F,cx:k.x,cy:k.y,r:4,fill:P1(O.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value,key:"".concat(I,"-activePoint-").concat(C)},me($,!1)),Ep($));return N.push(v.renderActiveDot($,U)),S?N.push(v.renderActiveDot($,H(H({},U),{},{cx:S.x,cy:S.y,key:"".concat(I,"-basePoint-").concat(C)}))):R&&N.push(null),N}),he($e(E),"renderGraphicChild",function(T,O,k){var S=E.filterFormatItem(T,O,k);if(!S)return null;var C=E.getTooltipEventType(),R=E.state,N=R.isTooltipActive,I=R.tooltipAxis,P=R.activeTooltipIndex,$=R.activeLabel,F=E.props.children,U=Gn(F,Ur),B=S.props,L=B.points,q=B.isRange,Y=B.baseLine,re=S.item.props,X=re.activeDot,ne=re.hide,ge=re.activeBar,Oe=re.activeShape,at=!!(!ne&&N&&U&&(X||ge||Oe)),Ye={};C!=="axis"&&U&&U.props.trigger==="click"?Ye={onClick:ah(E.handleItemMouseEnter,T.props.onClick)}:C!=="axis"&&(Ye={onMouseLeave:ah(E.handleItemMouseLeave,T.props.onMouseLeave),onMouseEnter:ah(E.handleItemMouseEnter,T.props.onMouseEnter)});var cn=D.cloneElement(T,H(H({},S.props),Ye));function ie(Ee){return typeof I.dataKey=="function"?I.dataKey(Ee.payload):null}if(at)if(P>=0){var ce,de;if(I.dataKey&&!I.allowDuplicatedCategory){var G=typeof I.dataKey=="function"?ie:"payload.".concat(I.dataKey.toString());ce=X0(L,G,$),de=q&&Y&&X0(Y,G,$)}else ce=L==null?void 0:L[P],de=q&&Y&&Y[P];if(Oe||ge){var Be=T.props.activeIndex!==void 0?T.props.activeIndex:P;return[D.cloneElement(T,H(H(H({},S.props),Ye),{},{activeIndex:Be})),null,null]}if(!Pe(ce))return[cn].concat(Il(E.renderActivePoints({item:S,activePoint:ce,basePoint:de,childIndex:P,isRange:q})))}else{var we,Ze=(we=E.getItemByXY(E.state.activeCoordinate))!==null&&we!==void 0?we:{graphicalItem:cn},et=Ze.graphicalItem,Lt=et.item,te=Lt===void 0?T:Lt,xe=et.childIndex,Te=H(H(H({},S.props),Ye),{},{activeIndex:xe});return[D.cloneElement(te,Te),null,null]}return q?[cn,null,null]:[cn,null]}),he($e(E),"renderCustomized",function(T,O,k){return D.cloneElement(T,H(H({key:"recharts-customized-".concat(k)},E.props),E.state))}),he($e(E),"renderMap",{CartesianGrid:{handler:ch,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:ch},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:ch},YAxis:{handler:ch},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((y=x.id)!==null&&y!==void 0?y:Zf("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=qD(E.triggeredAfterMouseMove,(_=x.throttleDelay)!==null&&_!==void 0?_:1e3/60),E.state={},E}return gye(v,[{key:"componentDidMount",value:function(){var y,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(y=this.props.margin.left)!==null&&y!==void 0?y:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var y=this.props,_=y.children,E=y.data,T=y.height,O=y.layout,k=Gn(_,Ur);if(k){var S=k.props.defaultIndex;if(!(typeof S!="number"||S<0||S>this.state.tooltipTicks.length)){var C=this.state.tooltipTicks[S]&&this.state.tooltipTicks[S].value,R=g_(this.state,E,S,C),N=this.state.tooltipTicks[S].coordinate,I=(this.state.offset.top+T)/2,P=O==="horizontal",$=P?{x:N,y:I}:{y:N,x:I},F=this.state.formattedGraphicalItems.find(function(B){var L=B.item;return L.type.name==="Scatter"});F&&($=H(H({},$),F.props.points[S].tooltipPosition),R=F.props.points[S].tooltipPayload);var U={activeTooltipIndex:S,isTooltipActive:!0,activeLabel:C,activePayload:R,activeCoordinate:$};this.setState(U),this.renderCursor(k),this.accessibilityManager.setIndex(S)}}}},{key:"getSnapshotBeforeUpdate",value:function(y,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==y.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==y.margin){var E,T;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0}})}return null}},{key:"componentDidUpdate",value:function(y){Q0([Gn(y.children,Ur)],[Gn(this.props.children,Ur)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var y=Gn(this.props.children,Ur);if(y&&typeof y.props.shared=="boolean"){var _=y.props.shared?"axis":"item";return l.indexOf(_)>=0?_:o}return o}},{key:"getMouseInfo",value:function(y){if(!this.container)return null;var _=this.container,E=_.getBoundingClientRect(),T=Bie(E),O={chartX:Math.round(y.pageX-T.left),chartY:Math.round(y.pageY-T.top)},k=E.width/_.offsetWidth||1,S=this.inRange(O.chartX,O.chartY,k);if(!S)return null;var C=this.state,R=C.xAxisMap,N=C.yAxisMap,I=this.getTooltipEventType();if(I!=="axis"&&R&&N){var P=ua(R).scale,$=ua(N).scale,F=P&&P.invert?P.invert(O.chartX):null,U=$&&$.invert?$.invert(O.chartY):null;return H(H({},O),{},{xValue:F,yValue:U})}var B=sO(this.state,this.props.data,this.props.layout,S);return B?H(H({},O),B):null}},{key:"inRange",value:function(y,_){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,T=this.props.layout,O=y/E,k=_/E;if(T==="horizontal"||T==="vertical"){var S=this.state.offset,C=O>=S.left&&O<=S.left+S.width&&k>=S.top&&k<=S.top+S.height;return C?{x:O,y:k}:null}var R=this.state,N=R.angleAxisMap,I=R.radiusAxisMap;if(N&&I){var P=ua(N);return DP({x:O,y:k},P)}return null}},{key:"parseEventsOfWrapper",value:function(){var y=this.props.children,_=this.getTooltipEventType(),E=Gn(y,Ur),T={};E&&_==="axis"&&(E.props.trigger==="click"?T={onClick:this.handleClick}:T={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var O=Ep(this.props,this.handleOuterEvent);return H(H({},O),T)}},{key:"addListener",value:function(){Ev.on(Sv,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Ev.removeListener(Sv,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(y,_,E){for(var T=this.state.formattedGraphicalItems,O=0,k=T.length;O<k;O++){var S=T[O];if(S.item===y||S.props.key===y.key||_===Ti(S.item.type)&&E===S.childIndex)return S}return null}},{key:"renderClipPath",value:function(){var y=this.clipPathId,_=this.state.offset,E=_.left,T=_.top,O=_.height,k=_.width;return M.createElement("defs",null,M.createElement("clipPath",{id:y},M.createElement("rect",{x:E,y:T,height:O,width:k})))}},{key:"getXScales",value:function(){var y=this.state.xAxisMap;return y?Object.entries(y).reduce(function(_,E){var T=iO(E,2),O=T[0],k=T[1];return H(H({},_),{},he({},O,k.scale))},{}):null}},{key:"getYScales",value:function(){var y=this.state.yAxisMap;return y?Object.entries(y).reduce(function(_,E){var T=iO(E,2),O=T[0],k=T[1];return H(H({},_),{},he({},O,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(y){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[y])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(y){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[y])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(y){var _=this.state,E=_.formattedGraphicalItems,T=_.activeItem;if(E&&E.length)for(var O=0,k=E.length;O<k;O++){var S=E[O],C=S.props,R=S.item,N=Ti(R.type);if(N==="Bar"){var I=(C.data||[]).find(function(U){return tde(y,U)});if(I)return{graphicalItem:S,payload:I}}else if(N==="RadialBar"){var P=(C.data||[]).find(function(U){return DP(y,U)});if(P)return{graphicalItem:S,payload:P}}else if(Bg(S,T)||zg(S,T)||xf(S,T)){var $=zhe({graphicalItem:S,activeTooltipItem:T,itemData:R.props.data}),F=R.props.activeIndex===void 0?$:R.props.activeIndex;return{graphicalItem:H(H({},S),{},{childIndex:F}),payload:xf(S,T)?R.props.data[$]:S.props.data[$]}}}return null}},{key:"render",value:function(){var y=this;if(!TT(this))return null;var _=this.props,E=_.children,T=_.className,O=_.width,k=_.height,S=_.style,C=_.compact,R=_.title,N=_.desc,I=aO(_,uye),P=me(I,!1);if(C)return M.createElement(zI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement(Z0,gc({},P,{width:O,height:k,title:R,desc:N}),this.renderClipPath(),PT(E,this.renderMap)));if(this.props.accessibilityLayer){var $,F;P.tabIndex=($=this.props.tabIndex)!==null&&$!==void 0?$:0,P.role=(F=this.props.role)!==null&&F!==void 0?F:"application",P.onKeyDown=function(B){y.accessibilityManager.keyboardEvent(B)},P.onFocus=function(){y.accessibilityManager.focus()}}var U=this.parseEventsOfWrapper();return M.createElement(zI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement("div",gc({className:ke("recharts-wrapper",T),style:H({position:"relative",cursor:"default",width:O,height:k},S)},U,{ref:function(L){y.container=L}}),M.createElement(Z0,gc({},P,{width:O,height:k,title:R,desc:N,style:kye}),this.renderClipPath(),PT(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}]),v}(D.Component),he(n,"displayName",r),he(n,"defaultProps",H({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),he(n,"getDerivedStateFromProps",function(m,v){var x=m.dataKey,y=m.data,_=m.children,E=m.width,T=m.height,O=m.layout,k=m.stackOffset,S=m.margin,C=v.dataStartIndex,R=v.dataEndIndex;if(v.updateId===void 0){var N=lO(m);return H(H(H({},N),{},{updateId:0},g(H(H({props:m},N),{},{updateId:0}),v)),{},{prevDataKey:x,prevData:y,prevWidth:E,prevHeight:T,prevLayout:O,prevStackOffset:k,prevMargin:S,prevChildren:_})}if(x!==v.prevDataKey||y!==v.prevData||E!==v.prevWidth||T!==v.prevHeight||O!==v.prevLayout||k!==v.prevStackOffset||!Xs(S,v.prevMargin)){var I=lO(m),P={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},$=H(H({},sO(v,y,O)),{},{updateId:v.updateId+1}),F=H(H(H({},I),P),$);return H(H(H({},F),g(H({props:m},F),v)),{},{prevDataKey:x,prevData:y,prevWidth:E,prevHeight:T,prevLayout:O,prevStackOffset:k,prevMargin:S,prevChildren:_})}if(!Q0(_,v.prevChildren)){var U,B,L,q,Y=Gn(_,kl),re=Y&&(U=(B=Y.props)===null||B===void 0?void 0:B.startIndex)!==null&&U!==void 0?U:C,X=Y&&(L=(q=Y.props)===null||q===void 0?void 0:q.endIndex)!==null&&L!==void 0?L:R,ne=re!==C||X!==R,ge=!Pe(y),Oe=ge&&!ne?v.updateId:v.updateId+1;return H(H({updateId:Oe},g(H(H({props:m},v),{},{updateId:Oe,dataStartIndex:re,dataEndIndex:X}),v)),{},{prevChildren:_,dataStartIndex:re,dataEndIndex:X})}return null}),he(n,"renderActiveDot",function(m,v){var x;return D.isValidElement(m)?x=D.cloneElement(m,v):be(m)?x=m(v):x=M.createElement(O1,v),M.createElement(He,{className:"recharts-active-dot",key:v.key},x)}),n},Dye=J$({chartName:"BarChart",GraphicalChild:ns,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:qg},{axisType:"yAxis",AxisComp:Hg}],formatAxisMap:vme}),Z$=J$({chartName:"PieChart",GraphicalChild:li,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Ug},{axisType:"radiusAxis",AxisComp:Vg}],formatAxisMap:Oue,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const eL=({data:t})=>b.jsx(r1,{width:"100%",height:"100%",children:b.jsxs(Dye,{data:t,margin:{left:-24},children:[b.jsx(z$,{stroke:"#D1D1D1",strokeDasharray:"5 5"}),b.jsx(qg,{dataKey:"name"}),b.jsx(Hg,{}),b.jsx(Ur,{cursor:{fill:"#E7E7E7"}}),b.jsx(ns,{type:"monotone",dataKey:"存款金額",fill:"#FFC700"})]})});eL.propTypes={data:z.array.isRequired};const tL=({categoryData:t,habitCategories:e})=>{const n=Object.keys(t).map(r=>({name:e.find(i=>i.id===parseInt(r)).name,value:t[r]}));return b.jsx(r1,{width:"100%",height:"100%",children:b.jsx(Z$,{children:b.jsx(li,{data:n,cx:"50%",cy:"50%",innerRadius:80,outerRadius:160,fill:"#8884d8",dataKey:"value",label:!0,children:n.map((r,i)=>b.jsx(td,{fill:e.find(a=>a.name===r.name).color},`cell-${i}`))})})})};tL.propTypes={categoryData:z.object.isRequired,habitCategories:z.array.isRequired};const nL=({typeData:t,habitType:e})=>{const n=Object.keys(t).map(r=>{const i=e.find(a=>a.id===r);return i?{name:i.name,value:t[r]}:null}).filter(r=>r!==null);return b.jsx(r1,{width:"100%",height:"100%",children:b.jsx(Z$,{children:b.jsx(li,{data:n,cx:"50%",cy:"50%",innerRadius:80,outerRadius:160,fill:"#8884d8",dataKey:"value",label:!0,children:n.map((r,i)=>b.jsx(td,{fill:e.find(a=>a.name===r.name).color},`cell-${i}`))})})})};nL.propTypes={typeData:z.object.isRequired,habitType:z.array.isRequired};function Mye(){const[t,e]=D.useState("overview"),[n,r]=D.useState("week"),[i]=D.useState([{value:"week",label:"本週"},{value:"month",label:"本月"},{value:"year",label:"本年"}]),[a,o]=D.useState(0),[s,l]=D.useState(0),[u,c]=D.useState(0),[f,h]=D.useState([]),[p,g]=D.useState({}),[m,v]=D.useState({}),[x,y]=D.useState([]),{user:_}=D.useContext(Ha),E=[{id:0,name:"生產力",color:"#FF6961"},{id:1,name:"個人成長",color:"#FFB480"},{id:2,name:"運動健身",color:"#FFE552"},{id:3,name:"飲食健康",color:"#42D6A4"},{id:4,name:"心靈成長",color:"#08CAD1"},{id:5,name:"手作興趣",color:"#59ADF6"},{id:6,name:"財務管理",color:"#9D94FF"},{id:7,name:"環境生活",color:"#C780E8"}],T=[{id:"to-do",name:"養成",color:"#B2B814"},{id:"not-to-do",name:"戒除",color:"#D14D28"}];D.useEffect(()=>{(async()=>{if(_&&_.uid){const I=await Lo(_.uid);y(I);const{startOfPeriod:P,endOfPeriod:$}=O(n),{completed:F,savings:U,total:B,chartData:L,categoryData:q,typeData:Y}=k(I,P,$,n);o(F),l(U),c(B),h(L),g(q),v(Y)}})()},[_,n]);const O=N=>{const I=new Date;let P,$;return N==="week"?(P=new Date(I.setDate(I.getDate()-I.getDay())),$=new Date(I.setDate(I.getDate()-I.getDay()+6))):N==="month"?(P=new Date(I.getFullYear(),I.getMonth(),1),$=new Date(I.getFullYear(),I.getMonth()+1,0)):(P=new Date(I.getFullYear(),0,1),$=new Date(I.getFullYear(),11,31)),P.setHours(0,0,0,0),$.setHours(23,59,59,999),{startOfPeriod:P,endOfPeriod:$}},k=(N,I,P,$)=>{let F=0,U=0,B=0,L=[],q={},Y={};const re={};if($==="week")["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].forEach(ne=>{re[ne]=0});else if($==="month"){const X=Math.ceil((P.getDate()-I.getDate()+1)/7);for(let ne=1;ne<=X;ne++)re[`Week ${ne}`]=0}else["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].forEach(ne=>{re[ne]=0});return N.forEach(X=>{X.status.forEach(ne=>{const ge=new Date(ne.date);ge.setHours(0,0,0,0);const Oe=new Date;if(Oe.setHours(0,0,0,0),ge<Oe&&ge>=I&&ge<=P){const at=S(ge,$);ne.completed?F+=1:(re[at]+=Number(X.amount),U+=1,B+=Number(X.amount),q[X.category]||(q[X.category]=0),q[X.category]+=1,Y[X.type]||(Y[X.type]=0),Y[X.type]+=1)}})}),L=Object.keys(re).map(X=>({name:X,存款金額:re[X]})),L.sort((X,ne)=>{if($==="week"){const ge=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return ge.indexOf(X.name)-ge.indexOf(ne.name)}else if($==="month"){const ge=parseInt(X.name.split(" ")[1],10),Oe=parseInt(ne.name.split(" ")[1],10);return ge-Oe}else{const ge=new Date(Date.parse(X.name+" 1, 2022")).getMonth(),Oe=new Date(Date.parse(ne.name+" 1, 2022")).getMonth();return ge-Oe}}),{completed:F,savings:U,total:B,chartData:L,categoryData:q,typeData:Y}},S=(N,I)=>I==="week"?N.toLocaleDateString("en-US",{weekday:"short"}):I==="month"?`Week ${Math.ceil(N.getDate()/7)}`:N.toLocaleDateString("en-US",{month:"short"}),C=({completed:N,savings:I,total:P})=>b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"flex justify-end items-center gap-1",children:[b.jsx("p",{className:"font-bold text-base leading-6 text-black dark:text-black-0",children:N}),b.jsx("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:"次"})]}),b.jsx("p",{className:"font-normal text-xs leading-4 md:text-sm md:leading-5 text-black dark:text-black-0",children:"完成習慣次數"})]}),b.jsxs("div",{children:[b.jsxs("div",{className:"flex justify-end items-center gap-1",children:[b.jsx("p",{className:"font-bold text-base leading-6 text-black dark:text-black-0",children:I}),b.jsx("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:"次"})]}),b.jsx("p",{className:"font-normal text-xs leading-4 md:text-sm md:leading-5 text-black dark:text-black-0",children:"存款次數"})]}),b.jsxs("div",{children:[b.jsxs("div",{className:"flex justify-end items-center gap-1",children:[b.jsx("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:"NT$"}),b.jsx("p",{className:"font-bold text-base leading-6 text-black dark:text-black-0",children:P})]}),b.jsx("p",{className:"font-normal text-xs leading-4 md:text-sm md:leading-5 text-black dark:text-black-0",children:"存款金額"})]})]}),R=(N,I,P)=>{const $=[];return N.forEach(F=>{F.status.forEach(U=>{const B=new Date(U.date);B.setHours(0,0,0,0);const L=new Date;L.setHours(0,0,0,0),B<L&&!U.completed&&B>=I&&B<=P&&$.push({id:F.id,title:F.title,date:U.date,amount:F.amount})})}),$.sort((F,U)=>new Date(U.date)-new Date(F.date)),$.slice(0,50).map((F,U)=>b.jsxs("li",{className:"py-2 px-4 grid grid-cols-5 bg-black-50 dark:bg-black-800 rounded-lg font-normal text-sm leading-5 hover:bg-black-0 dark:hover:bg-black-600",children:[b.jsx("p",{className:"text-black dark:text-black-0",children:String(U+1).padStart(2,"0")}),b.jsx("p",{className:"text-center text-black dark:text-black-0",children:new Date(F.date).toLocaleDateString()}),b.jsx("p",{className:"text-center col-span-2 overflow-scroll text-black dark:text-black-0",children:F.title}),b.jsxs("p",{className:"text-center text-black dark:text-black-0",children:["NT$",F.amount]})]},F.id+F.date))};return b.jsxs("div",{className:"p-4 md:py-10 space-y-4",children:[b.jsxs("ul",{className:"grid grid-cols-3 w-full",children:[b.jsx("li",{className:`border border-black-500 rounded-s-full py-1 font-normal text-sm leading-5 text-center ${t==="overview"?"bg-primary":"bg-black-50"}`,onClick:()=>e("overview"),children:"存款總覽"}),b.jsx("li",{className:`border-e border-y border-black-500 py-1 font-normal text-sm leading-5 text-center ${t==="category"?"bg-primary":"bg-black-50"}`,onClick:()=>e("category"),children:"習慣類別總覽"}),b.jsx("li",{className:`border-e border-y border-black-500 rounded-e-full py-1 font-normal text-sm leading-5 text-center ${t==="type"?"bg-primary":"bg-black-50"}`,onClick:()=>e("type"),children:"習慣類型總覽"})]}),t==="overview"&&b.jsxs("div",{children:[b.jsxs("div",{className:"p-4 bg-black-50 dark:bg-black-800 rounded-xl space-y-4",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("h2",{className:"font-bold text-xl leading-7 text-black dark:text-black-0",children:"存款總覽"}),b.jsx("div",{className:"relative",children:b.jsx(Aa,{options:i,value:n,onChange:r})})]}),C({completed:a,savings:s,total:u}),b.jsx("div",{className:"w-full h-52",children:b.jsx(eL,{data:f})})]}),b.jsxs("ul",{className:"space-y-2 mt-4",children:[b.jsxs("li",{className:"py-2 px-4 grid grid-cols-5 border border-black-500 rounded-lg font-normal text-sm leading-5",children:[b.jsx("p",{className:"text-black dark:text-black-0",children:"編號"}),b.jsx("p",{className:"text-center text-black dark:text-black-0",children:"日期"}),b.jsx("p",{className:"text-center col-span-2 text-black dark:text-black-0",children:"習慣名稱"}),b.jsx("p",{className:"text-center text-black dark:text-black-0",children:"習慣存款"})]}),R(x,O(n).startOfPeriod,O(n).endOfPeriod)]}),b.jsx("p",{className:"text-center mt-2 font-normal text-xs leading-4 text-black dark:text-black-0",children:"僅顯示最新的 50 筆存款記錄"})]}),t==="category"&&b.jsxs("div",{className:"p-4 bg-black-50 dark:bg-black-800 rounded-xl space-y-4 min-h-screen",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("h2",{className:"font-bold text-xl leading-7 text-black dark:text-black-0",children:"習慣類別總覽"}),b.jsx("div",{className:"relative",children:b.jsx(Aa,{options:i,value:n,onChange:r})})]}),s===0?b.jsx("p",{className:"text-black dark:text-black-0",children:"查無資料"}):b.jsxs("div",{children:[b.jsx("div",{className:"w-full h-[400px]",children:b.jsx(tL,{categoryData:p,habitCategories:E})}),b.jsx("ul",{className:"space-y-2",children:E.map(N=>b.jsxs("li",{className:"p-2 rounded flex justify-between items-center hover:bg-black-0 dark:hover:bg-black-600",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"w-6 h-6 rounded-full",style:{backgroundColor:N.color}}),b.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:N.name})]}),b.jsxs("p",{className:"font-bold text-lg leading-6 text-black dark:text-black-0",children:[((p[N.id]||0)/Object.values(p).reduce((I,P)=>I+P,0)*100).toFixed(1),"%"]})]},N.id))})]})]}),t==="type"&&b.jsxs("div",{className:"p-4 bg-black-50 dark:bg-black-800 rounded-xl space-y-4 min-h-screen md:min-h-fit",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("h2",{className:"font-bold text-xl leading-7 text-black dark:text-black-0",children:"習慣類型總覽"}),b.jsx("div",{className:"relative",children:b.jsx(Aa,{options:i,value:n,onChange:r})})]}),s===0?b.jsx("p",{className:"text-black dark:text-black-0",children:"查無資料"}):b.jsxs("div",{children:[b.jsx("div",{className:"w-full h-[400px]",children:b.jsx(nL,{typeData:m,habitType:T})}),b.jsx("ul",{className:"space-y-2",children:T.map(N=>b.jsxs("li",{className:"p-2 rounded flex justify-between items-center hover:bg-black-0 dark:hover:bg-black-600",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"w-6 h-6 rounded-full",style:{backgroundColor:N.color}}),b.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:N.name})]}),b.jsxs("p",{className:"font-bold text-lg leading-6 text-black dark:text-black-0",children:[((m[N.id]||0)/Object.values(m).reduce((I,P)=>I+P,0)*100).toFixed(1),"%"]})]},N.id))})]})]})]})}function $ye(){var g,m;const[t,e]=D.useState("habit"),[n,r]=D.useState([]),[i,a]=D.useState([]),[o,s]=D.useState(!0),{user:l}=D.useContext(Ha);D.useEffect(()=>{(async()=>{s(!0);const{startOfWeek:x,endOfWeek:y}=u();if(t==="habit"){const _=await c(x,y);r(_)}else if(t==="savings"){const _=await f(x,y);a(_)}s(!1)})()},[t]);const u=()=>{const v=new Date,x=new Date(v.setDate(v.getDate()-v.getDay())),y=new Date(v.setDate(v.getDate()-v.getDay()+6));return x.setHours(0,0,0,0),y.setHours(23,59,59,999),{startOfWeek:x,endOfWeek:y}},c=async(v,x)=>{const y=await uT();return await Promise.all(y.map(async E=>{const O=(await Lo(E.uid)).reduce((k,S)=>k+S.status.filter(C=>{const R=new Date(C.date);return C.completed&&R>=v&&R<=x}).length,0);return{...E,completedCount:O}}))},f=async(v,x)=>{const y=await uT(),_=new Date;return _.setHours(0,0,0,0),await Promise.all(y.map(async T=>{const k=(await Lo(T.uid)).reduce((S,C)=>{const R=C.amount,N=C.status.filter(I=>{const P=new Date(I.date);return!I.completed&&P>=v&&P<=x&&P<_}).length;return S+N*R},0);return{...T,totalSavings:k}}))},h=(v,x)=>v.sort((_,E)=>x==="habit"?E.completedCount-_.completedCount:E.totalSavings-_.totalSavings).slice(0,10).map((_,E)=>b.jsxs("li",{className:"relative flex justify-between items-center py-2 px-4 bg-black-50 dark:bg-black-800 rounded-2xl hover:bg-black-0 dark:hover:bg-black-600",children:[b.jsx("div",{className:"flex items-center gap-3",children:E<3?b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"absolute top-[-4px]",children:b.jsxs("div",{className:"w-10 h-[68px] flex justify-center items-center bg-primary relative",children:[b.jsx("p",{className:"font-normal text-center text-3xl leading-9 font-lobster text-alert",children:E+1}),b.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-34px] before:right-0 before:w-0 before:h-0 before:border-l-[20px] before:border-r-0 before:border-b-[12px] before:border-l-transparent before:border-r-transparent before:border-b-black-50 dark:before:border-b-black-800 before:z-20"}),b.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-34px] before:left-0 before:w-0 before:h-0 before:border-l-0 before:border-r-[20px] before:border-b-[12px] before:border-l-transparent before:border-r-transparent before:border-b-black-50 dark:before:border-b-black-800 before:z-20"}),b.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[30px] before:left-5 before:w-0 before:h-0 before:border-l-0 before:border-r-[3px] before:border-b-[4px] before:border-l-transparent before:border-r-transparent before:border-b-primary-dark before:z-20"})]})}),b.jsx("img",{src:_.avatar,alt:"user's avatar",className:"w-12 h-12 rounded-full ml-14"}),b.jsx("div",{children:b.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:_.name})})]}):b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("p",{className:"w-10 h-auto font-normal text-center text-3xl leading-9 font-lobster text-black dark:text-black-0",children:E+1}),b.jsx("img",{src:_.avatar,alt:"user's avatar",className:"w-12 h-12 rounded-full"}),b.jsx("div",{children:b.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:_.name})})]})}),b.jsxs("div",{className:"flex flex-col items-end",children:[b.jsx("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:x==="habit"?"累積數量":"累積存款"}),x==="habit"?b.jsxs("div",{className:"flex items-center gap-1",children:[b.jsx("p",{className:"font-bold text-base leading-6 text-black dark:text-black-0",children:_.completedCount}),b.jsx("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:"次"})]}):b.jsxs("div",{className:"flex items-center gap-1",children:[b.jsx("p",{className:"font-bold text-base leading-6 text-black dark:text-black-0",children:_.totalSavings}),b.jsx("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:"元"})]})]})]},_.uid)),p=(v,x,y)=>{const _=v.find(T=>T.uid===x.uid);if(!_)return null;const E=v.findIndex(T=>T.uid===x.uid)+1;return b.jsxs("div",{className:"flex justify-between py-2 px-4 bg-black-500 dark:bg-black-50 rounded-2xl",children:[b.jsxs("div",{className:"flex items-center gap-3 text-black-0 dark:text-black",children:[b.jsx("p",{className:"w-10 h-auto font-normal text-center text-3xl leading-9 font-lobster text-black-0 dark:text-black",children:E}),b.jsx("img",{src:_.avatar,alt:"user's avatar",className:"w-12 h-12 rounded-full"}),b.jsx("div",{children:b.jsx("p",{className:"font-normal text-base leading-6 text-white dark:text-black",children:_.name})})]}),b.jsxs("div",{className:"flex flex-col items-end text-black-0 dark:text-black",children:[b.jsx("p",{className:"font-normal text-sm leading-5",children:y==="habit"?"累積數量":"累積存款"}),y==="habit"?b.jsxs("div",{className:"flex items-center gap-1",children:[b.jsx("p",{className:"font-bold text-base leading-6 text-black-0 dark:text-black",children:_.completedCount}),b.jsx("p",{className:"font-normal text-sm leading-5 text-black-0 dark:text-black",children:"次"})]}):b.jsxs("div",{className:"flex items-center gap-1",children:[b.jsx("p",{className:"font-bold text-base leading-6 text-black-0 dark:text-black",children:_.totalSavings}),b.jsx("p",{className:"font-normal text-sm leading-5 text-black-0 dark:text-black",children:"元"})]})]})]})};return b.jsxs("div",{className:"p-4 md:py-10 space-y-4",children:[b.jsxs("ul",{className:"grid grid-cols-2 w-full pb-3",children:[b.jsx("li",{className:`border border-black-500 rounded-s-full py-1 font-normal text-sm leading-5 text-center ${t==="habit"?"bg-primary":"bg-black-50"}`,onClick:()=>e("habit"),children:"習慣排行"}),b.jsx("li",{className:`border-e border-y border-black-500 rounded-e-full py-1 font-normal text-sm leading-5 text-center ${t==="savings"?"bg-primary":"bg-black-50"}`,onClick:()=>e("savings"),children:"存款排行"})]}),o?b.jsx("div",{className:"flex justify-center items-center h-64 text-black dark:text-black-0",children:b.jsx("p",{children:"加載中..."})}):b.jsxs(b.Fragment,{children:[t==="habit"&&b.jsxs("div",{className:"relative space-y-4",children:[b.jsxs("div",{className:"p-4 mt-4 bg-black-50 dark:bg-black-800 rounded-lg flex flex-col items-center",children:[b.jsxs("p",{className:"text-center font-normal text-base leading-6 text-black dark:text-black-0",children:["在 ",u().startOfWeek.toLocaleDateString(),"～",u().endOfWeek.toLocaleDateString()," 期間"]}),b.jsxs("div",{className:"flex justify-center items-center gap-x-1 flex-wrap",children:[b.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:"恭喜"}),b.jsx("p",{className:"font-bold text-xl leading-7 text-black dark:text-black-0",children:((g=n[0])==null?void 0:g.name)||"No.1"}),b.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:"成為累積最多次習慣的玩家"})]})]}),b.jsxs("div",{className:"absolute -top-8 inset-x-0 text-primary flex items-center justify-center",children:[b.jsx(ds.TbCircleCheck,{className:"w-8 h-8"}),b.jsx(ds.TbCircleCheckFilled,{className:"w-8 h-8"}),b.jsx(ds.TbCircleCheck,{className:"w-8 h-8"})]}),b.jsx("ul",{className:"space-y-4 pb-20",children:h(n,"habit")}),b.jsx("div",{className:"fixed bottom-0 left-0 md:left-auto w-full max-w-full md:max-w-[1128px] mx-auto p-4 pb-[88px] bg-light dark:bg-black-950 md:p-0 md:py-4",children:p(n,l,"habit")})]}),t==="savings"&&b.jsxs("div",{className:"relative space-y-4",children:[b.jsxs("div",{className:"p-4 mt-4 bg-black-50 dark:bg-black-800 rounded-lg flex flex-col items-center",children:[b.jsxs("p",{className:"text-center font-normal text-base leading-6 text-black dark:text-black-0",children:["在 ",u().startOfWeek.toLocaleDateString(),"～",u().endOfWeek.toLocaleDateString()," 期間"]}),b.jsxs("div",{className:"flex justify-center items-center gap-x-1 flex-wrap",children:[b.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:"恭喜"}),b.jsx("p",{className:"font-bold text-xl leading-7 text-black dark:text-black-0",children:((m=i[0])==null?void 0:m.name)||"No.1"}),b.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:"成為累積最多存款的玩家"})]})]}),b.jsxs("div",{className:"absolute -top-8 inset-x-0 text-primary flex items-center justify-center",children:[b.jsx(ds.TbCoin,{className:"w-8 h-8"}),b.jsx(ds.TbCoinFilled,{className:"w-8 h-8"}),b.jsx(ds.TbCoin,{className:"w-8 h-8"})]}),b.jsx("ul",{className:"space-y-4 pb-20",children:h(i,"savings")}),b.jsx("div",{className:"fixed bottom-0 left-0 md:left-auto w-full max-w-full md:max-w-[1128px] mx-auto p-4 pb-[88px] bg-light dark:bg-black-950 md:p-0 md:py-4",children:p(i,l,"savings")})]})]})]})}const y_=({options:t,onChange:e,theme:n})=>{const[r,i]=D.useState(!1),a=o=>{e(o),i(!1)};return b.jsxs("div",{className:"relative inline-block",children:[b.jsx(zu.TbDots,{className:`w-6 h-6 text-black ${n==="dark"?"dark:text-black-0":""} cursor-pointer hover:text-alert`,onClick:()=>i(!r)}),r&&b.jsx("ul",{className:"absolute z-10 mt-1 w-fit -right-4 bg-white border border-black-500 rounded-2xl shadow-lg text-center text-nowrap overflow-hidden",children:t.map(o=>b.jsx("li",{className:"px-4 py-2 hover:bg-primary-light cursor-pointer",onClick:()=>a(o.value),children:o.label},o.value))})]})};y_.propTypes={options:z.array.isRequired,value:z.string.isRequired,onChange:z.func.isRequired,theme:z.string.isRequired};function Lye(){const[t,e]=D.useState([]),[n,r]=D.useState("all"),[i]=D.useState([{label:"全部貼文",value:"all"},{label:"僅限自己",value:"personal"}]),[a,o]=D.useState({}),[s,l]=D.useState(""),[u,c]=D.useState({}),[f,h]=D.useState(!1),[p,g]=D.useState(null),{user:m}=D.useContext(Ha);D.useEffect(()=>{(async()=>{const P=await Yd(),$=await Promise.all(P.map(async F=>{const U=await Ns(F.userID),B=await fs(F.id);return{...F,user:U,comments:B}}));e($)})()},[]);const v=n==="personal"?t.filter(I=>I.userID===m.uid):t,x=I=>{o(P=>({...P,[I]:!P[I]}))},y=async I=>{if(!s.trim()){alert("請輸入留言內容");return}const P=await Ns(m.uid),$={content:s,userID:m.uid,userName:P.name,userAvatar:P.avatar};await _W(I,$),l("");const F=await fs(I);e(U=>U.map(B=>B.id===I?{...B,comments:F}:B))},_=I=>{c(P=>({...P,[I]:""}))},E=async(I,P)=>{await xW(I,P);const $=await fs(I);e(F=>F.map(U=>U.id===I?{...U,comments:$}:U))},T=async I=>{await vW(I),e(P=>P.filter($=>$.id!==I))},O=(I,P=null)=>{P?c($=>({...$,[P]:I.comments.find(F=>F.id===P).content})):(g(I),h(!0))},k=async(I,P,$=null)=>{if($){const F=u[$];if(!F.trim()){alert("請輸入留言內容");return}await wW(I,$,{content:F});const U=await fs(I);e(B=>B.map(L=>L.id===I?{...L,comments:U}:L)),c(B=>({...B,[$]:""}))}else{await yW(I,P);const F=await Yd();e(F),h(!1)}},S=(I,P,$)=>{$==="edit"?O(I,P):$==="delete"&&(P?E(I.id,P):T(I.id))},C=async I=>{try{await SW(I,m.uid);const P=await Yd(),$=await Promise.all(P.map(async F=>{const U=await Ns(F.userID),B=await fs(F.id);return{...F,user:U,comments:B}}));e($)}catch(P){console.error(P)}},R=async I=>{try{await kW(I,m.uid);const P=await Yd(),$=await Promise.all(P.map(async F=>{const U=await Ns(F.userID),B=await fs(F.id);return{...F,user:U,comments:B}}));e($)}catch(P){console.error(P)}},N=I=>{const P=new Date,$=new Date(I*1e3),F=Math.floor((P-$)/1e3);return F<3600?"剛剛":F<86400?`${Math.floor(F/3600)} 小時前`:F<259200?`${Math.floor(F/86400)} 天前`:$.toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit"})};return b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"p-4 md:py-10 space-y-4",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("h2",{className:"font-bold text-xl leading-7 text-black dark:text-black-0",children:"貼文總覽"}),b.jsx("div",{className:"relative",children:b.jsx(Aa,{options:i,value:n,onChange:r})})]}),b.jsx("ul",{className:"space-y-4",children:v.map(I=>b.jsxs("li",{className:"p-4 bg-black-50 dark:bg-black-800 rounded-2xl space-y-3 w-full",children:[b.jsxs("div",{className:"flex justify-between items-center w-full",children:[b.jsxs("div",{className:"flex gap-3 items-center",children:[b.jsx("div",{className:"w-12 h-12",children:I.user&&b.jsx("img",{src:I.user.avatar,alt:"avatar",className:"w-full h-full object-cover rounded-full"})}),b.jsxs("div",{className:"flex flex-col",children:[b.jsx("h3",{className:"font-bold text-lg leading-6 text-black dark:text-black-0",children:I.user?I.user.name:"Unknown"}),b.jsx("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:N(I.createdTime.seconds)})]})]}),b.jsx(y_,{options:[{value:"edit",label:"編輯貼文"},{value:"delete",label:"刪除貼文"}],onChange:P=>S(I,null,P),theme:"dark"})]}),b.jsx("div",{className:`w-full min-h-52 h-fit flex justify-center items-center p-4 rounded-xl ${I.background?"":"bg-slate-100"}`,style:I.background?{backgroundImage:`url(${I.background})`,backgroundSize:"cover",backgroundPosition:"center"}:{},children:b.jsx("p",{className:"font-normal text-base leading-6 md:text-xl md:leading-7 xl:text-2xl xl:leading-8",children:I.content})}),b.jsxs("div",{className:"flex gap-3",children:[b.jsxs("div",{className:"flex gap-1",children:[I.likes&&I.likes.includes(m.uid)?b.jsx(zu.TbHeartFilled,{className:"w-6 h-6 cursor-pointer text-alert",onClick:()=>R(I.id)}):b.jsx(zu.TbHeart,{className:"w-6 h-6 cursor-pointer text-black dark:text-black-0 hover:text-alert",onClick:()=>C(I.id)}),b.jsx("p",{className:"text-black dark:text-black-0 font-normal text-base leading-6",children:I.likes?I.likes.length:0})]}),b.jsxs("div",{className:"flex gap-1",children:[b.jsx(zu.TbMessageChatbot,{className:"w-6 h-6 cursor-pointer text-black dark:text-black-0 hover:text-black dark:hover:text-black-200",onClick:()=>x(I.id)}),b.jsx("p",{className:"text-black dark:text-black-0 font-normal text-base leading-6",children:I.comments?I.comments.length:0})]})]}),b.jsxs("ul",{className:`space-y-3 ${a[I.id]?"block":"hidden"}`,children:[I.comments&&I.comments.map(P=>b.jsxs("li",{className:"flex justify-between items-center gap-3",children:[b.jsx("img",{src:P.userAvatar,alt:"user's avatar",className:"w-12 h-12 rounded-full"}),b.jsxs("div",{className:"bg-black-200 rounded-xl px-4 py-1 w-full flex justify-between items-center",children:[b.jsxs("div",{className:"w-4/5",children:[b.jsxs("div",{className:"flex gap-2",children:[b.jsx("h3",{className:"font-medium text-sm leading-5 line-clamp-1",children:P.userName}),b.jsx("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0-700",children:N(P.updatedTime?P.updatedTime.seconds:P.createdTime.seconds)})]}),u[P.id]?b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("input",{type:"text",value:u[P.id],onChange:$=>c({...u,[P.id]:$.target.value}),className:"font-normal text-base leading-6 rounded px-2 py-1 w-full bg-black-0 text-black caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark my-1"}),b.jsx("button",{className:"text-nowrap font-medium text-sm leading-5 bg-primary py-1.5 px-2 rounded hover:bg-primary-dark",onClick:()=>k(I.id,null,P.id),children:"確認修改"}),b.jsx("button",{className:"text-nowrap font-medium text-sm leading-5 bg-black-100 py-1.5 px-2 rounded hover:bg-black-300",onClick:()=>_(P.id),children:"取消修改"})]}):b.jsx("p",{className:"font-normal text-base leading-6",children:P.content})]}),b.jsx("div",{className:"flex flex-col",children:b.jsx(y_,{options:[{value:"edit",label:"編輯留言"},{value:"delete",label:"刪除留言"}],onChange:$=>S(I,P.id,$),theme:"light"})})]})]},P.id)),b.jsxs("li",{className:"flex justify-between items-center gap-2",children:[b.jsx("input",{type:"text",placeholder:"請輸入留言",className:"bg-black-100 text-black py-2 px-4 w-full rounded-2xl placeholder:text-black dark:text-black-0-500  caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark focus:bg-black-0",value:s,onChange:P=>l(P.target.value)}),b.jsx("div",{className:"w-10 h-10 bg-primary flex justify-center items-center rounded-full aspect-square cursor-pointer hover:bg-primary-dark",onClick:()=>y(I.id),children:b.jsx(zu.TbSend2,{className:"w-6 h-6 text-black"})})]})]})]},I.id))})]}),b.jsx(Xn,{isOpen:f,onRequestClose:()=>h(!1),children:b.jsx(ng,{postContent:p?p.content:"",setPostContent:I=>g(P=>({...P,content:I})),postBackground:p?p.background:"",setPostBackground:I=>g(P=>({...P,background:I})),handlePostModal:()=>h(!1),user:m,isEditMode:!0,handleUpdatePost:()=>k(p.id,p)})})]})}const rL=({sortedAchievements:t,userAchievements:e,handleAchievementModal:n})=>b.jsxs("div",{className:"pt-9 pb-4 px-4 bg-black-50 dark:bg-black-800 space-y-4 rounded-2xl relative",children:[b.jsx("ul",{className:"grid grid-cols-2 gap-4 md:grid-cols-3",children:t.slice(0,6).map(r=>{const i=e.includes(r.id);return b.jsx("li",{className:`py-1 w-full flex justify-center items-center rounded-lg border-2 cursor-default ${i?"opacity-100 border-primary-dark bg-gradient-to-br from-primary via-primary-dark to-alert":"opacity-50 border-black-500 bg-black-100 dark:border-black-300"}`,children:b.jsx("p",{className:`font-normal text-base leading-6 md:text-xl md:leading-7 stroke-text ${i?"text-primary z-0":"text-black"}`,"data-stroke":i?r.name:"",children:r.name})},r.id)})}),b.jsx("button",{className:"text-center w-full bg-primary rounded-xl font-medium text-sm leading-5 py-1 hover:bg-primary-dark",onClick:n,children:"更多成就"}),b.jsxs("div",{className:"bg-primary py-1 px-4 w-fit absolute -top-12 left-1/2 transform -translate-x-1/2",children:[b.jsx("p",{className:"font-lobster font-normal text-2xl leading-8 text-alert",children:"Achievement"}),b.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[-16px] before:w-0 before:h-0 before:border-l-[20px] before:border-r-0 before:border-t-[12px] before:border-l-primary before:border-r-transparent before:border-t-primary-dark before:z-20"}),b.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[114px] before:w-0 before:h-0 before:border-r-[20px] before:border-l-0 before:border-t-[12px] before:border-r-primary before:border-l-transparent before:border-t-primary-dark before:z-20"}),b.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[-46px] before:w-8 before:h-10 before:bg-primary"}),b.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[134px] before:w-8 before:h-10 before:bg-primary"}),b.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[166px] before:w-0 before:h-0 before:border-l-0 before:border-r-[20px] before:border-b-[20px] before:border-l-transparent before:border-r-transparent before:border-b-primary before:z-20"}),b.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-1 before:left-[166px] before:w-0 before:h-0 before:border-l-0 before:border-r-[20px] before:border-t-[20px] before:border-l-transparent before:border-r-transparent before:border-t-primary before:z-20"}),b.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[-66px] before:w-0 before:h-0 before:border-l-[20px] before:border-r-0 before:border-b-[20px] before:border-l-transparent before:border-r-transparent before:border-b-primary before:z-20"}),b.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-1 before:left-[-66px] before:w-0 before:h-0 before:border-l-[20px] before:border-r-0 before:border-t-[20px] before:border-l-transparent before:border-r-transparent before:border-t-primary before:z-20"})]})]});rL.propTypes={sortedAchievements:z.array.isRequired,userAchievements:z.array.isRequired,handleAchievementModal:z.func.isRequired};const iL=({sortedBadges:t,userBadges:e,handleBadgeModal:n})=>b.jsxs("div",{className:"pt-9 pb-4 px-4 bg-black-50 dark:bg-black-800 space-y-4 rounded-2xl relative",children:[b.jsx("ul",{className:"grid grid-cols-3 gap-4 md:grid-cols-6",children:t.slice(0,6).map((r,i)=>b.jsx("li",{className:"relative w-full h-fit",children:b.jsx("img",{src:r.image,alt:`Badge ${i}`,className:`w-full h-full object-cover ${e.includes(r.id)?"opacity-100":"opacity-30"}`})},r.id))}),b.jsx("button",{className:"text-center w-full bg-primary rounded-xl font-medium text-sm leading-5 py-1 hover:bg-primary-dark",onClick:n,children:"更多獎勵徽章"}),b.jsxs("div",{className:"bg-primary py-1 px-4 w-[150px] absolute -top-12 left-1/2 transform -translate-x-1/2",children:[b.jsx("p",{className:"font-lobster font-normal text-2xl leading-8 text-alert text-center",children:"Badge"}),b.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[-16px] before:w-0 before:h-0 before:border-l-[20px] before:border-r-0 before:border-t-[13px] before:border-l-primary before:border-r-transparent before:border-t-primary-dark before:z-20"}),b.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[114px] before:w-0 before:h-0 before:border-r-[20px] before:border-l-0 before:border-t-[13px] before:border-r-primary before:border-l-transparent before:border-t-primary-dark before:z-20"}),b.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[-46px] before:w-8 before:h-10 before:bg-primary"}),b.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[134px] before:w-8 before:h-10 before:bg-primary"}),b.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[166px] before:w-0 before:h-0 before:border-l-0 before:border-r-[20px] before:border-b-[20px] before:border-l-transparent before:border-r-transparent before:border-b-primary before:z-20"}),b.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-1 before:left-[166px] before:w-0 before:h-0 before:border-l-0 before:border-r-[20px] before:border-t-[20px] before:border-l-transparent before:border-r-transparent before:border-t-primary before:z-20"}),b.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[-66px] before:w-0 before:h-0 before:border-l-[20px] before:border-r-0 before:border-b-[20px] before:border-l-transparent before:border-r-transparent before:border-b-primary before:z-20"}),b.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-1 before:left-[-66px] before:w-0 before:h-0 before:border-l-[20px] before:border-r-0 before:border-t-[20px] before:border-l-transparent before:border-r-transparent before:border-t-primary before:z-20"})]})]});iL.propTypes={sortedBadges:z.array.isRequired,userBadges:z.array.isRequired,handleBadgeModal:z.func.isRequired};const aL=({handleAchievementModal:t,userAchievements:e,sortedAchievements:n})=>b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("h3",{className:"font-bold text-lg leading-7 text-black dark:text-black-0",children:"你的成就"}),b.jsx(ni.TbX,{className:"w-8 h-8 cursor-pointer hover:text-alert text-black dark:text-black-0",onClick:t})]}),b.jsx("div",{className:"max-h-56 overflow-scroll",children:b.jsx("ul",{className:"grid grid-cols-2 gap-4",children:n.map(r=>{const i=e.includes(r.id);return b.jsxs("li",{children:[b.jsx("div",{className:`py-1 w-full flex justify-center items-center rounded-lg border-2 cursor-default ${i?"opacity-100 border-primary-dark bg-gradient-to-br from-primary via-primary-dark to-alert":"opacity-50 border-black-500 bg-black-100 text-black dark:border-black-300"}`,children:b.jsx("p",{className:`font-normal text-base leading-6 md:text-xl md:leading-7 stroke-text ${i?"text-primary z-0":"text-black"}`,"data-stroke":i?r.name:"",children:r.name})}),b.jsx("p",{className:"mt-1 text-black dark:text-black-0 text-center font-normal text-xs leading-4 md:text-sm md:leading-5",children:r.description})]},r.id)})})})]});aL.propTypes={handleAchievementModal:z.func.isRequired,achievements:z.array.isRequired,userAchievements:z.array.isRequired,sortedAchievements:z.array.isRequired};const oL=({handleBadgeModal:t,sortedBadges:e,userBadges:n})=>b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("h3",{className:"font-bold text-lg leading-7 text-black dark:text-black-0",children:"你的獎勵徽章"}),b.jsx(ni.TbX,{className:"w-8 h-8 cursor-pointer hover:text-alert text-black dark:text-black-0",onClick:t})]}),b.jsx("div",{className:"max-h-56 overflow-scroll",children:b.jsx("ul",{className:"grid grid-cols-3 gap-4",children:e.map((r,i)=>b.jsxs("li",{className:"relative w-full h-fit",children:[b.jsx("img",{src:r.image,alt:`Badge ${i}`,className:`w-full h-full object-cover ${n.includes(r.id)?"opacity-100":"opacity-30"}`}),b.jsx("div",{className:"mt-1 text-black dark:text-black-0 text-center font-normal text-xs leading-4 md:text-sm md:leading-5",children:r.description})]},r.id))})})]});oL.propTypes={handleBadgeModal:z.func.isRequired,sortedBadges:z.array.isRequired,userBadges:z.array.isRequired};function Vye(){const{user:t}=D.useContext(Ha),[e,n]=D.useState(!1),[r,i]=D.useState(!1),[a,o]=D.useState(!1),[s,l]=D.useState(!1),[u,c]=D.useState(!1),[f,h]=D.useState(!1),[p,g]=D.useState(!0),[m,v]=D.useState({uid:"",email:"",name:"",introduction:"",avatar:"",levelPoints:0,isAcceptReminder:!1,achievements:[],badges:[],habits:[]}),[x,y]=D.useState([]),[_,E]=D.useState(null),[T,O]=D.useState(""),[k,S]=D.useState(""),[C,R]=D.useState({category:0,title:"",frequency:"daily",amount:0,startDate:"",endDate:"",status:[]}),[N,I]=D.useState(0),[P,$]=D.useState(!1),[F,U]=D.useState(""),B=D.useRef(null),[L,q]=D.useState(null),[Y,re]=D.useState(!1),[X,ne]=D.useState("all"),[ge,Oe]=D.useState([]),[at,Ye]=D.useState([]),[cn,ie]=D.useState([]),[ce,de]=D.useState([]),[G]=D.useState([{label:"全部習慣",value:"all"},{label:"進行中",value:"in-progress"},{label:"已結束",value:"finished"}]),Be=[{id:0,name:"生產力",icon:vn.TbRocket},{id:1,name:"個人成長",icon:vn.TbBook},{id:2,name:"運動健身",icon:vn.TbWalk},{id:3,name:"飲食健康",icon:vn.TbBowlChopsticks},{id:4,name:"心靈成長",icon:vn.TbMoodHeart},{id:5,name:"手作興趣",icon:vn.TbHandGrab},{id:6,name:"財務管理",icon:vn.TbCash},{id:7,name:"環境生活",icon:vn.TbPlant}];D.useEffect(()=>{(async()=>{if(t){const Se=await Ns(t.uid);Se&&v(Se),is(),we(),Ze(t.uid),et(),Lt(t.uid)}})()},[t]),D.useEffect(()=>{const le=new Date;q({year:le.getFullYear(),month:le.getMonth(),day:le.getDate()})},[]);const we=async()=>{const le=await TW();Oe(le)},Ze=async le=>{const Se=await AW(le);Ye(Se)},et=async()=>{const le=await PW();ie(le)},Lt=async le=>{const Se=await IW(le);de(Se)},te=()=>{n(!e)},xe=()=>{i(!r)},Te=()=>{o(!a),i(!1)},Ee=le=>{R({category:le.category,title:le.title,frequency:le.frequency,amount:le.amount,startDate:le.startDate,endDate:le.endDate,status:le.status,type:le.type}),l(!s),i(!1)},Re=()=>{c(!u)},We=()=>{h(!f)},qe=async()=>{if(t&&t.uid)try{await mW(t.uid,m),console.log("Profile updated successfully")}catch(le){console.error("Error updating profile: ",le)}},ar=async()=>{await qe(),te()},mt=async le=>{const{name:Se,value:Ae,files:Me}=le.target;if(Se==="avatar"&&Me&&Me[0]){const tt=event.target.files[0],Wt=["image/jpeg","image/jpg","image/png","image/gif"];if(!tt||!Wt.includes(tt.type))return;try{const gt=await bW(t.uid,Me[0]);v(ui=>({...ui,avatar:gt}))}catch(gt){console.error("Error uploading avatar: ",gt)}}else v(tt=>({...tt,[Se]:Ae}))},Zt=le=>{const{name:Se,value:Ae}=le.target;if(Se==="frequency"){const Me={type:Ae},tt=rs(C.startDate,C.endDate,Me);R(Wt=>({...Wt,frequency:Me,status:tt}))}else R(Me=>({...Me,[Se]:Ae}))},rs=(le,Se,Ae)=>{const Me=new Date(le),tt=new Date(Se),Wt=[];if(Ae.type==="daily")for(let gt=Me;gt<=tt;gt.setDate(gt.getDate()+1))Wt.push({date:new Date(gt).toDateString(),completed:!1});else if(Ae.type==="weekly")for(let gt=Me;gt<=tt;gt.setDate(gt.getDate()+7))Wt.push({date:new Date(gt).toDateString(),completed:!1});else if(Ae.type==="specificDays"){const gt=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ui=Ae.days||[];for(let yt=Me;yt<=tt;yt.setDate(yt.getDate()+1))ui.includes(gt[yt.getDay()])&&Wt.push({date:new Date(yt).toDateString(),completed:!1})}return Wt},is=async()=>{if(t)try{const le=await Lo(t.uid);y(le)}catch(le){console.error("Error fetching habits: ",le)}},ld=async()=>{if(!T.trim()){alert("請輸入貼文內容");return}if(t&&_){const le={content:T,background:k,habitId:_.id};await gj(t.uid,le),re(!0),Te(),O(""),S("")}},Gg=le=>{U(le),$(!0)},Qa=async()=>{if(t&&_){const le=new Date(C.startDate);if(new Date(C.endDate)<=le){alert("結束日期必須晚於開始日期");return}const Me={..._,...C,id:_.id};await K0(t.uid,_.id,Me),await Gs(t.uid),await uc(t.uid);const tt=await sc(t.uid,"habit");await lc(t.uid,"habit",tt),is(),l(!1),i(!1)}else console.error("User not authenticated or habit not selected")},ud=async()=>{if(t&&_){await mj(t.uid,_.id),await Gs(t.uid),await uc(t.uid);const le=await sc(t.uid,"habit");await lc(t.uid,"habit",le);const Se=await Lo(t.uid);y(Se),Se.filter(Me=>Me.category===_.category).length===0&&await yj(t.uid,_.category),is(),l(!1),i(!1)}else console.error("User not authenticated or habit not selected")},cd=le=>{if(q(le),F){const Se=`${le.year}-${String(le.month+1).padStart(2,"0")}-${String(le.day).padStart(2,"0")}`;R(Ae=>({...Ae,[F]:Se})),$(!1),U("")}},Zl=le=>{const Se=new Date;return Se.setHours(0,0,0,0),le.status.filter(Me=>{const tt=new Date(Me.date);return tt.setHours(0,0,0,0),tt<Se&&!Me.completed}).length*le.amount},Xg=le=>{E(le),I(Zl(le)),i(!0)},Yg=x.filter(le=>{const Se=new Date;Se.setHours(0,0,0,0);const Ae=new Date(le.endDate);return Ae.setHours(0,0,0,0),X==="in-progress"?Ae>=Se:X==="finished"?Ae<Se:!0}).sort((le,Se)=>new Date(Se.endDate)-new Date(le.endDate));if(Y)return b.jsx(yw,{to:"/posts"});const eu=((le,Se)=>le.sort((Ae,Me)=>{const tt=Se.includes(Ae.id),Wt=Se.includes(Me.id);if(tt&&!Wt)return-1;if(!tt&&Wt)return 1;if(!tt&&!Wt){const gt={habit:1,savings:2,streak:3},ui=gt[Ae.condition.type]||4,yt=gt[Me.condition.type]||4;if(ui!==yt)return ui-yt;if(Ae.condition.count!==Me.condition.count)return(Ae.condition.count||0)-(Me.condition.count||0);if(Ae.condition.amount!==Me.condition.amount)return(Ae.condition.amount||0)-(Me.condition.amount||0);if(Ae.condition.percent!==Me.condition.percent)return(Ae.condition.percent||0)-(Me.condition.percent||0)}return 0}))(ge,at),qi=((le,Se)=>le.sort((Ae,Me)=>{const tt=Se.includes(Ae.id),Wt=Se.includes(Me.id);return tt&&!Wt?-1:!tt&&Wt?1:0}))(cn,ce);return b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"p-4 md:py-10 space-y-4",children:[b.jsxs("ul",{className:"grid grid-cols-2 w-full",children:[b.jsx("li",{className:`border border-black-500 rounded-s-full py-1 font-normal text-sm leading-5 text-center ${p?"bg-primary":"bg-black-50"}`,onClick:()=>g(!0),children:"會員管理"}),b.jsx("li",{className:`border-e border-y border-black-500 rounded-e-full py-1 font-normal text-sm leading-5 text-center ${p?"bg-black-50":"bg-primary"}`,onClick:()=>g(!1),children:"歷史習慣"})]}),p?b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("h2",{className:"font-bold text-xl leading-7 text-black dark:text-black-0",children:"會員管理"}),b.jsx(kj.TbSettings,{className:"w-8 h-8 cursor-pointer hover:text-alert text-black dark:text-black-0",onClick:te})]}):b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("h2",{className:"font-bold text-xl leading-7 text-black dark:text-black-0",children:"歷史習慣"}),b.jsx("div",{className:"relative",children:b.jsx(Aa,{options:G,value:X,onChange:ne})})]}),p?b.jsxs("div",{className:"space-y-14",children:[b.jsxs("div",{className:"p-4 bg-black-50 dark:bg-black-800 rounded-2xl space-y-2",children:[b.jsx("div",{className:"flex justify-between items-start",children:b.jsxs("div",{className:"flex gap-3",children:[b.jsx("img",{src:m.avatar,alt:"user's avatar",className:"w-12 h-12 rounded-full"}),b.jsxs("div",{className:"flex flex-col",children:[b.jsx("h3",{className:"font-bold text-base leading-6 text-black dark:text-black-0",children:m.name}),b.jsxs("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:["Lv.",m.levelPoints]})]})]})}),b.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:m.introduction}),b.jsxs("div",{className:"w-full bg-light dark:bg-black-950 text-center rounded-2xl text-black dark:text-black-0",children:[m.levelPoints,"%"]})]}),b.jsx(rL,{sortedAchievements:eu,userAchievements:at,handleAchievementModal:Re}),b.jsx(iL,{sortedBadges:qi,userBadges:ce,handleBadgeModal:We})]}):b.jsx(Ox,{habits:Yg,habitCategories:Be,handleDetailClick:Xg})]}),b.jsx(Xn,{isOpen:e,onClose:te,children:b.jsx(Tx,{profileData:m,handleChange:mt,handleSaveAndClose:ar,handleSettingModal:te})}),b.jsx(Xn,{isOpen:r,onClose:xe,children:b.jsx(Px,{selectedHabit:_,handleDetailModal:xe,handlePostModal:Te,uncompletedFine:N,handleEditModal:Ee,habitCategories:Be})}),b.jsx(Xn,{isOpen:a,onClose:Te,children:b.jsx(ng,{postContent:T,setPostContent:O,postBackground:k,setPostBackground:S,handleAddPost:ld,handlePostModal:Te,user:t})}),b.jsx(Xn,{isOpen:s,onClose:Ee,children:b.jsx(Ix,{habitData:C,handleHabitChange:Zt,handleUpdateHabit:Qa,handleFocus:Gg,showMonthCalendar:P,calendarTarget:F,calendarRef:B,handleEditModal:Ee,handleDeleteHabit:ud,habitCategories:Be,setHabitData:R,monthCalendarDate:L,handleMonthCalendarSelectDate:cd,setCalendarTarget:U,setShowMonthCalendar:$})}),b.jsx(Xn,{isOpen:u,onClose:Re,children:b.jsx(aL,{handleAchievementModal:Re,userAchievements:at,sortedAchievements:eu})}),b.jsx(Xn,{isOpen:f,onClose:We,children:b.jsx(oL,{handleBadgeModal:We,badges:cn,userBadges:ce,sortedBadges:qi})})]})}function Fye(){return b.jsx("div",{children:b.jsx("h1",{children:"Error"})})}function sL({children:t,isModalOpen:e,modalContent:n}){const r=Ho(),i=gw(),{setUser:a}=D.useContext(Ha),[o,s]=D.useState(!1),l=async()=>{await pW(),a(null),alert("Logged out successfully"),i("/")},u=()=>{s(!o)},c=()=>{window.innerWidth>=1536?s(!0):s(!1)};return D.useEffect(()=>(c(),window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)),[]),b.jsxs("div",{className:"font-huninn bg-light dark:bg-black-950 relative min-h-screen",children:[b.jsxs("nav",{className:`pt-2 pb-3 px-4 bg-black-50 dark:bg-black-800 fixed inset-x-0 bottom-0 flex gap-x-4 z-50 border-t border-primary md:p-4 md:flex-col md:justify-between md:border-t-0 md:border-r md:h-full ${o?"md:w-[240px]":"md:w-20"}`,children:[b.jsxs("div",{className:`hidden md:flex md:items-center ${o?"md:justify-between":"md:justify-center"}`,children:[b.jsx("p",{className:`text-black dark:text-black-0 font-lobster font-normal text-2xl leading-8 ml-6 hidden ${o?"md:block":""}`,children:"Habit Piggy"}),b.jsx(dT.TbLayoutSidebarRight,{className:"w-6 h-6 md:w-8 md:h-8 text-black dark:text-black-0 hover:text-alert cursor-pointer",onClick:u})]}),b.jsxs("ul",{className:"grid grid-cols-5 items-center w-full md:grid-cols-1 md:gap-4",children:[b.jsx(cs,{to:"/home",className:"block",children:b.jsxs("li",{className:`md:py-1 md:px-2 flex flex-col items-center gap-1 ${o?"md:rounded-full md:flex-row hover:md:bg-primary-light":""} ${r.pathname==="/home"&&o?"md:bg-primary":""}`,children:[b.jsx("div",{className:`flex justify-center items-center py-1 px-4 rounded-xl md:px-2 md:aspect-square ${o?"md:bg-transparent dark:bg-transparent":""} ${r.pathname==="/home"?"bg-light dark:bg-black-950":"hover:bg-primary-light"} ${r.pathname==="/home"&&o?"md:bg-transparent hover:bg-primary-light hover:md:bg-transparent":""}`,children:b.jsx(xu.TbHome2,{className:`w-6 h-6 md:w-8 md:h-8 ${o?"md:text-black dark:text-black-0":""} ${r.pathname==="/home"?"text-primary-dark":"text-black dark:text-black-0"} ${r.pathname==="/home"&&o?"":"md:text-black"} ${r.pathname==="/home"&&!o?"md:text-primary-dark":""}`})}),b.jsx("p",{className:"text-black dark:text-black-0 font-normal text-xs leading-4 text-nowrap md:text-base md:leading-6",children:"主頁"})]})}),b.jsx(cs,{to:"/savings",className:"block",children:b.jsxs("li",{className:`md:py-1 md:px-2 flex flex-col items-center gap-1 ${o?"md:rounded-full md:flex-row hover:md:bg-primary-light":""} ${r.pathname==="/savings"&&o?"md:bg-primary":""}`,children:[b.jsx("div",{className:`flex justify-center items-center py-1 px-4 rounded-xl md:px-2 md:aspect-square ${o?"md:bg-transparent dark:bg-transparent":""} ${r.pathname==="/savings"?"bg-light dark:bg-black-950":"hover:bg-primary-light"} ${r.pathname==="/savings"&&o?"md:bg-transparent hover:bg-primary-light hover:md:bg-transparent":""}`,children:b.jsx(xu.TbCoin,{className:`w-6 h-6 md:w-8 md:h-8 ${o?"md:text-black dark:text-black-0":""} ${r.pathname==="/savings"?"text-primary-dark":"text-black dark:text-black-0"} ${r.pathname==="/savings"&&o?"":"md:text-black"} ${r.pathname==="/savings"&&!o?"md:text-primary-dark":""}`})}),b.jsx("p",{className:"text-black dark:text-black-0 font-normal text-xs leading-4 text-nowrap md:text-base md:leading-6",children:"存款"})]})}),b.jsx(cs,{to:"/rank",className:"block",children:b.jsxs("li",{className:`md:py-1 md:px-2 flex flex-col items-center gap-1 ${o?"md:rounded-full md:flex-row hover:md:bg-primary-light":""} ${r.pathname==="/rank"&&o?"md:bg-primary":""}`,children:[b.jsx("div",{className:`flex justify-center items-center py-1 px-4 rounded-xl md:px-2 md:aspect-square ${o?"md:bg-transparent dark:bg-transparent":""} ${r.pathname==="/rank"?"bg-light dark:bg-black-950":"hover:bg-primary-light"} ${r.pathname==="/rank"&&o?"md:bg-transparent hover:bg-primary-light hover:md:bg-transparent":""}`,children:b.jsx(xu.TbMedal2,{className:`w-6 h-6 md:w-8 md:h-8 ${o?"md:text-black dark:text-black-0":""} ${r.pathname==="/rank"?"text-primary-dark":"text-black dark:text-black-0"} ${r.pathname==="/rank"&&o?"":"md:text-black"} ${r.pathname==="/rank"&&!o?"md:text-primary-dark":""}`})}),b.jsx("p",{className:"text-black dark:text-black-0 font-normal text-xs leading-4 text-nowrap md:text-base md:leading-6",children:"排行"})]})}),b.jsx(cs,{to:"/posts",className:"block",children:b.jsxs("li",{className:`md:py-1 md:px-2 flex flex-col items-center gap-1 ${o?"md:rounded-full md:flex-row hover:md:bg-primary-light":""} ${r.pathname==="/posts"&&o?"md:bg-primary":""}`,children:[b.jsx("div",{className:`flex justify-center items-center py-1 px-4 rounded-xl md:px-2 md:aspect-square ${o?"md:bg-transparent dark:bg-transparent":""} ${r.pathname==="/posts"?"bg-light dark:bg-black-950":"hover:bg-primary-light"} ${r.pathname==="/posts"&&o?"md:bg-transparent hover:bg-primary-light hover:md:bg-transparent":""}`,children:b.jsx(xu.TbMessage,{className:`w-6 h-6 md:w-8 md:h-8 ${o?"md:text-black dark:text-black-0":""} ${r.pathname==="/posts"?"text-primary-dark":"text-black dark:text-black-0"} ${r.pathname==="/posts"&&o?"":"md:text-black"} ${r.pathname==="/posts"&&!o?"md:text-primary-dark":""}`})}),b.jsx("p",{className:"text-black dark:text-black-0 font-normal text-xs leading-4 text-nowrap md:text-base md:leading-6",children:"貼文"})]})}),b.jsx(cs,{to:"/member",className:"block",children:b.jsxs("li",{className:`md:py-1 md:px-2 flex flex-col items-center gap-1 ${o?"md:rounded-full md:flex-row hover:md:bg-primary-light":""} ${r.pathname==="/member"&&o?"md:bg-primary":""}`,children:[b.jsx("div",{className:`flex justify-center items-center py-1 px-4 rounded-xl md:px-2 md:aspect-square ${o?"md:bg-transparent dark:bg-transparent":""} ${r.pathname==="/member"?"bg-light dark:bg-black-950":"hover:bg-primary-light"} ${r.pathname==="/member"&&o?"md:bg-transparent hover:bg-primary-light hover:md:bg-transparent":""}`,children:b.jsx(xu.TbMoodSmile,{className:`w-6 h-6 md:w-8 md:h-8 ${o?"md:text-black dark:text-black-0":""} ${r.pathname==="/member"?"text-primary-dark":"text-black dark:text-black-0"} ${r.pathname==="/member"&&o?"":"md:text-black"} ${r.pathname==="/member"&&!o?"md:text-primary-dark":""}`})}),b.jsx("p",{className:"text-black dark:text-black-0 font-normal text-xs leading-4 text-nowrap md:text-base md:leading-6",children:"會員"})]})})]}),b.jsx(cs,{to:"/",className:`hidden md:block ${r.pathname==="/"?"invisible":""}`,onClick:l,children:b.jsxs("div",{className:`md:py-1 md:px-2 flex flex-col items-center gap-1 ${o?"md:rounded-full md:flex-row hover:md:bg-primary-light":""}`,children:[b.jsx("div",{className:`flex justify-center items-center py-1 px-4 rounded-xl md:px-2 md:aspect-square ${o?"md:bg-transparent dark:bg-transparent":"hover:bg-primary-light"}`,children:b.jsx(dT.TbLogout,{className:`w-6 h-6 md:w-8 md:h-8 dark:text-black-0 ${o?"md:text-black":""}`})}),b.jsx("p",{className:`text-black dark:text-black-0 ${o?"text-base leading-6 text-nowrap":"hidden"}`,children:"登出"})]})})]}),b.jsx("div",{className:"md:max-w-screen-md xl:max-w-[1160px] my-0 mx-auto flex flex-col md:flex-row min-h-screen relative",children:b.jsx("div",{className:"mt-0 mb-[86px] md:mb-0 w-full p-0 relative",children:t})}),e&&b.jsx(Xn,{isOpen:e,children:n})]})}sL.propTypes={children:z.node,isModalOpen:z.bool.isRequired,modalContent:z.node};function Uye(){return b.jsx(wj,{children:b.jsx(Z3,{children:b.jsx(sL,{children:b.jsxs(H3,{children:[b.jsx(Qi,{path:"/",element:b.jsx(DW,{})}),b.jsx(Qi,{path:"/home",element:b.jsx(kq,{})}),b.jsx(Qi,{path:"/savings",element:b.jsx(Mye,{})}),b.jsx(Qi,{path:"/rank",element:b.jsx($ye,{})}),b.jsx(Qi,{path:"/posts",element:b.jsx(Lye,{})}),b.jsx(Qi,{path:"/member",element:b.jsx(Vye,{})}),b.jsx(Qi,{path:"*",element:b.jsx(Fye,{})})]})})})})}xR(document.getElementById("root")).render(b.jsx(D.StrictMode,{children:b.jsx(Uye,{})}));
