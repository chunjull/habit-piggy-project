function _mergeNamespaces(et,tt){for(var rt=0;rt<tt.length;rt++){const nt=tt[rt];if(typeof nt!="string"&&!Array.isArray(nt)){for(const it in nt)if(it!=="default"&&!(it in et)){const at=Object.getOwnPropertyDescriptor(nt,it);at&&Object.defineProperty(et,it,at.get?at:{enumerable:!0,get:()=>nt[it]})}}}return Object.freeze(Object.defineProperty(et,Symbol.toStringTag,{value:"Module"}))}(function(){const tt=document.createElement("link").relList;if(tt&&tt.supports&&tt.supports("modulepreload"))return;for(const it of document.querySelectorAll('link[rel="modulepreload"]'))nt(it);new MutationObserver(it=>{for(const at of it)if(at.type==="childList")for(const ot of at.addedNodes)ot.tagName==="LINK"&&ot.rel==="modulepreload"&&nt(ot)}).observe(document,{childList:!0,subtree:!0});function rt(it){const at={};return it.integrity&&(at.integrity=it.integrity),it.referrerPolicy&&(at.referrerPolicy=it.referrerPolicy),it.crossOrigin==="use-credentials"?at.credentials="include":it.crossOrigin==="anonymous"?at.credentials="omit":at.credentials="same-origin",at}function nt(it){if(it.ep)return;it.ep=!0;const at=rt(it);fetch(it.href,at)}})();var commonjsGlobal$2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(et){return et&&et.__esModule&&Object.prototype.hasOwnProperty.call(et,"default")?et.default:et}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$3=Symbol.for("react.element"),n$4=Symbol.for("react.portal"),p$4=Symbol.for("react.fragment"),q$2=Symbol.for("react.strict_mode"),r$2=Symbol.for("react.profiler"),t$2=Symbol.for("react.provider"),u$2=Symbol.for("react.context"),v$5=Symbol.for("react.forward_ref"),w$3=Symbol.for("react.suspense"),x$2=Symbol.for("react.memo"),y$2=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$3(et){return et===null||typeof et!="object"?null:(et=z$2&&et[z$2]||et["@@iterator"],typeof et=="function"?et:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$2=Object.assign,D$3={};function E$1(et,tt,rt){this.props=et,this.context=tt,this.refs=D$3,this.updater=rt||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(et,tt){if(typeof et!="object"&&typeof et!="function"&&et!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,et,tt,"setState")};E$1.prototype.forceUpdate=function(et){this.updater.enqueueForceUpdate(this,et,"forceUpdate")};function F$2(){}F$2.prototype=E$1.prototype;function G$2(et,tt,rt){this.props=et,this.context=tt,this.refs=D$3,this.updater=rt||B$1}var H$1=G$2.prototype=new F$2;H$1.constructor=G$2;C$2(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$2=Array.isArray,J$1=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$2(et,tt,rt){var nt,it={},at=null,ot=null;if(tt!=null)for(nt in tt.ref!==void 0&&(ot=tt.ref),tt.key!==void 0&&(at=""+tt.key),tt)J$1.call(tt,nt)&&!L$1.hasOwnProperty(nt)&&(it[nt]=tt[nt]);var st=arguments.length-2;if(st===1)it.children=rt;else if(1<st){for(var lt=Array(st),ct=0;ct<st;ct++)lt[ct]=arguments[ct+2];it.children=lt}if(et&&et.defaultProps)for(nt in st=et.defaultProps,st)it[nt]===void 0&&(it[nt]=st[nt]);return{$$typeof:l$3,type:et,key:at,ref:ot,props:it,_owner:K$1.current}}function N$1(et,tt){return{$$typeof:l$3,type:et.type,key:tt,ref:et.ref,props:et.props,_owner:et._owner}}function O$2(et){return typeof et=="object"&&et!==null&&et.$$typeof===l$3}function escape(et){var tt={"=":"=0",":":"=2"};return"$"+et.replace(/[=:]/g,function(rt){return tt[rt]})}var P$3=/\/+/g;function Q$2(et,tt){return typeof et=="object"&&et!==null&&et.key!=null?escape(""+et.key):tt.toString(36)}function R$1(et,tt,rt,nt,it){var at=typeof et;(at==="undefined"||at==="boolean")&&(et=null);var ot=!1;if(et===null)ot=!0;else switch(at){case"string":case"number":ot=!0;break;case"object":switch(et.$$typeof){case l$3:case n$4:ot=!0}}if(ot)return ot=et,it=it(ot),et=nt===""?"."+Q$2(ot,0):nt,I$2(it)?(rt="",et!=null&&(rt=et.replace(P$3,"$&/")+"/"),R$1(it,tt,rt,"",function(ct){return ct})):it!=null&&(O$2(it)&&(it=N$1(it,rt+(!it.key||ot&&ot.key===it.key?"":(""+it.key).replace(P$3,"$&/")+"/")+et)),tt.push(it)),1;if(ot=0,nt=nt===""?".":nt+":",I$2(et))for(var st=0;st<et.length;st++){at=et[st];var lt=nt+Q$2(at,st);ot+=R$1(at,tt,rt,lt,it)}else if(lt=A$3(et),typeof lt=="function")for(et=lt.call(et),st=0;!(at=et.next()).done;)at=at.value,lt=nt+Q$2(at,st++),ot+=R$1(at,tt,rt,lt,it);else if(at==="object")throw tt=String(et),Error("Objects are not valid as a React child (found: "+(tt==="[object Object]"?"object with keys {"+Object.keys(et).join(", ")+"}":tt)+"). If you meant to render a collection of children, use an array instead.");return ot}function S$3(et,tt,rt){if(et==null)return et;var nt=[],it=0;return R$1(et,nt,"","",function(at){return tt.call(rt,at,it++)}),nt}function T$2(et){if(et._status===-1){var tt=et._result;tt=tt(),tt.then(function(rt){(et._status===0||et._status===-1)&&(et._status=1,et._result=rt)},function(rt){(et._status===0||et._status===-1)&&(et._status=2,et._result=rt)}),et._status===-1&&(et._status=0,et._result=tt)}if(et._status===1)return et._result.default;throw et._result}var U$2={current:null},V$2={transition:null},W$2={ReactCurrentDispatcher:U$2,ReactCurrentBatchConfig:V$2,ReactCurrentOwner:K$1};function X$2(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$3,forEach:function(et,tt,rt){S$3(et,function(){tt.apply(this,arguments)},rt)},count:function(et){var tt=0;return S$3(et,function(){tt++}),tt},toArray:function(et){return S$3(et,function(tt){return tt})||[]},only:function(et){if(!O$2(et))throw Error("React.Children.only expected to receive a single React element child.");return et}};react_production_min.Component=E$1;react_production_min.Fragment=p$4;react_production_min.Profiler=r$2;react_production_min.PureComponent=G$2;react_production_min.StrictMode=q$2;react_production_min.Suspense=w$3;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$2;react_production_min.act=X$2;react_production_min.cloneElement=function(et,tt,rt){if(et==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+et+".");var nt=C$2({},et.props),it=et.key,at=et.ref,ot=et._owner;if(tt!=null){if(tt.ref!==void 0&&(at=tt.ref,ot=K$1.current),tt.key!==void 0&&(it=""+tt.key),et.type&&et.type.defaultProps)var st=et.type.defaultProps;for(lt in tt)J$1.call(tt,lt)&&!L$1.hasOwnProperty(lt)&&(nt[lt]=tt[lt]===void 0&&st!==void 0?st[lt]:tt[lt])}var lt=arguments.length-2;if(lt===1)nt.children=rt;else if(1<lt){st=Array(lt);for(var ct=0;ct<lt;ct++)st[ct]=arguments[ct+2];nt.children=st}return{$$typeof:l$3,type:et.type,key:it,ref:at,props:nt,_owner:ot}};react_production_min.createContext=function(et){return et={$$typeof:u$2,_currentValue:et,_currentValue2:et,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},et.Provider={$$typeof:t$2,_context:et},et.Consumer=et};react_production_min.createElement=M$2;react_production_min.createFactory=function(et){var tt=M$2.bind(null,et);return tt.type=et,tt};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(et){return{$$typeof:v$5,render:et}};react_production_min.isValidElement=O$2;react_production_min.lazy=function(et){return{$$typeof:y$2,_payload:{_status:-1,_result:et},_init:T$2}};react_production_min.memo=function(et,tt){return{$$typeof:x$2,type:et,compare:tt===void 0?null:tt}};react_production_min.startTransition=function(et){var tt=V$2.transition;V$2.transition={};try{et()}finally{V$2.transition=tt}};react_production_min.unstable_act=X$2;react_production_min.useCallback=function(et,tt){return U$2.current.useCallback(et,tt)};react_production_min.useContext=function(et){return U$2.current.useContext(et)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(et){return U$2.current.useDeferredValue(et)};react_production_min.useEffect=function(et,tt){return U$2.current.useEffect(et,tt)};react_production_min.useId=function(){return U$2.current.useId()};react_production_min.useImperativeHandle=function(et,tt,rt){return U$2.current.useImperativeHandle(et,tt,rt)};react_production_min.useInsertionEffect=function(et,tt){return U$2.current.useInsertionEffect(et,tt)};react_production_min.useLayoutEffect=function(et,tt){return U$2.current.useLayoutEffect(et,tt)};react_production_min.useMemo=function(et,tt){return U$2.current.useMemo(et,tt)};react_production_min.useReducer=function(et,tt,rt){return U$2.current.useReducer(et,tt,rt)};react_production_min.useRef=function(et){return U$2.current.useRef(et)};react_production_min.useState=function(et){return U$2.current.useState(et)};react_production_min.useSyncExternalStore=function(et,tt,rt){return U$2.current.useSyncExternalStore(et,tt,rt)};react_production_min.useTransition=function(){return U$2.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$2=reactExports,k$3=Symbol.for("react.element"),l$2=Symbol.for("react.fragment"),m$3=Object.prototype.hasOwnProperty,n$3=f$2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$3={key:!0,ref:!0,__self:!0,__source:!0};function q$1(et,tt,rt){var nt,it={},at=null,ot=null;rt!==void 0&&(at=""+rt),tt.key!==void 0&&(at=""+tt.key),tt.ref!==void 0&&(ot=tt.ref);for(nt in tt)m$3.call(tt,nt)&&!p$3.hasOwnProperty(nt)&&(it[nt]=tt[nt]);if(et&&et.defaultProps)for(nt in tt=et.defaultProps,tt)it[nt]===void 0&&(it[nt]=tt[nt]);return{$$typeof:k$3,type:et,key:at,ref:ot,props:it,_owner:n$3.current}}reactJsxRuntime_production_min.Fragment=l$2;reactJsxRuntime_production_min.jsx=q$1;reactJsxRuntime_production_min.jsxs=q$1;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(et){function tt(wt,Ot){var Lt=wt.length;wt.push(Ot);e:for(;0<Lt;){var Vt=Lt-1>>>1,zt=wt[Vt];if(0<it(zt,Ot))wt[Vt]=Ot,wt[Lt]=zt,Lt=Vt;else break e}}function rt(wt){return wt.length===0?null:wt[0]}function nt(wt){if(wt.length===0)return null;var Ot=wt[0],Lt=wt.pop();if(Lt!==Ot){wt[0]=Lt;e:for(var Vt=0,zt=wt.length,Yt=zt>>>1;Vt<Yt;){var nr=2*(Vt+1)-1,cr=wt[nr],hr=nr+1,Jt=wt[hr];if(0>it(cr,Lt))hr<zt&&0>it(Jt,cr)?(wt[Vt]=Jt,wt[hr]=Lt,Vt=hr):(wt[Vt]=cr,wt[nr]=Lt,Vt=nr);else if(hr<zt&&0>it(Jt,Lt))wt[Vt]=Jt,wt[hr]=Lt,Vt=hr;else break e}}return Ot}function it(wt,Ot){var Lt=wt.sortIndex-Ot.sortIndex;return Lt!==0?Lt:wt.id-Ot.id}if(typeof performance=="object"&&typeof performance.now=="function"){var at=performance;et.unstable_now=function(){return at.now()}}else{var ot=Date,st=ot.now();et.unstable_now=function(){return ot.now()-st}}var lt=[],ct=[],ut=1,ft=null,ht=3,dt=!1,vt=!1,yt=!1,xt=typeof setTimeout=="function"?setTimeout:null,_t=typeof clearTimeout=="function"?clearTimeout:null,mt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function pt(wt){for(var Ot=rt(ct);Ot!==null;){if(Ot.callback===null)nt(ct);else if(Ot.startTime<=wt)nt(ct),Ot.sortIndex=Ot.expirationTime,tt(lt,Ot);else break;Ot=rt(ct)}}function bt(wt){if(yt=!1,pt(wt),!vt)if(rt(lt)!==null)vt=!0,Dt(Et);else{var Ot=rt(ct);Ot!==null&&Mt(bt,Ot.startTime-wt)}}function Et(wt,Ot){vt=!1,yt&&(yt=!1,_t(Pt),Pt=-1),dt=!0;var Lt=ht;try{for(pt(Ot),ft=rt(lt);ft!==null&&(!(ft.expirationTime>Ot)||wt&&!$t());){var Vt=ft.callback;if(typeof Vt=="function"){ft.callback=null,ht=ft.priorityLevel;var zt=Vt(ft.expirationTime<=Ot);Ot=et.unstable_now(),typeof zt=="function"?ft.callback=zt:ft===rt(lt)&&nt(lt),pt(Ot)}else nt(lt);ft=rt(lt)}if(ft!==null)var Yt=!0;else{var nr=rt(ct);nr!==null&&Mt(bt,nr.startTime-Ot),Yt=!1}return Yt}finally{ft=null,ht=Lt,dt=!1}}var St=!1,Tt=null,Pt=-1,Rt=5,It=-1;function $t(){return!(et.unstable_now()-It<Rt)}function kt(){if(Tt!==null){var wt=et.unstable_now();It=wt;var Ot=!0;try{Ot=Tt(!0,wt)}finally{Ot?Ct():(St=!1,Tt=null)}}else St=!1}var Ct;if(typeof mt=="function")Ct=function(){mt(kt)};else if(typeof MessageChannel<"u"){var Bt=new MessageChannel,Ft=Bt.port2;Bt.port1.onmessage=kt,Ct=function(){Ft.postMessage(null)}}else Ct=function(){xt(kt,0)};function Dt(wt){Tt=wt,St||(St=!0,Ct())}function Mt(wt,Ot){Pt=xt(function(){wt(et.unstable_now())},Ot)}et.unstable_IdlePriority=5,et.unstable_ImmediatePriority=1,et.unstable_LowPriority=4,et.unstable_NormalPriority=3,et.unstable_Profiling=null,et.unstable_UserBlockingPriority=2,et.unstable_cancelCallback=function(wt){wt.callback=null},et.unstable_continueExecution=function(){vt||dt||(vt=!0,Dt(Et))},et.unstable_forceFrameRate=function(wt){0>wt||125<wt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Rt=0<wt?Math.floor(1e3/wt):5},et.unstable_getCurrentPriorityLevel=function(){return ht},et.unstable_getFirstCallbackNode=function(){return rt(lt)},et.unstable_next=function(wt){switch(ht){case 1:case 2:case 3:var Ot=3;break;default:Ot=ht}var Lt=ht;ht=Ot;try{return wt()}finally{ht=Lt}},et.unstable_pauseExecution=function(){},et.unstable_requestPaint=function(){},et.unstable_runWithPriority=function(wt,Ot){switch(wt){case 1:case 2:case 3:case 4:case 5:break;default:wt=3}var Lt=ht;ht=wt;try{return Ot()}finally{ht=Lt}},et.unstable_scheduleCallback=function(wt,Ot,Lt){var Vt=et.unstable_now();switch(typeof Lt=="object"&&Lt!==null?(Lt=Lt.delay,Lt=typeof Lt=="number"&&0<Lt?Vt+Lt:Vt):Lt=Vt,wt){case 1:var zt=-1;break;case 2:zt=250;break;case 5:zt=1073741823;break;case 4:zt=1e4;break;default:zt=5e3}return zt=Lt+zt,wt={id:ut++,callback:Ot,priorityLevel:wt,startTime:Lt,expirationTime:zt,sortIndex:-1},Lt>Vt?(wt.sortIndex=Lt,tt(ct,wt),rt(lt)===null&&wt===rt(ct)&&(yt?(_t(Pt),Pt=-1):yt=!0,Mt(bt,Lt-Vt))):(wt.sortIndex=zt,tt(lt,wt),vt||dt||(vt=!0,Dt(Et))),wt},et.unstable_shouldYield=$t,et.unstable_wrapCallback=function(wt){var Ot=ht;return function(){var Lt=ht;ht=Ot;try{return wt.apply(this,arguments)}finally{ht=Lt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$2(et){for(var tt="https://reactjs.org/docs/error-decoder.html?invariant="+et,rt=1;rt<arguments.length;rt++)tt+="&args[]="+encodeURIComponent(arguments[rt]);return"Minified React error #"+et+"; visit "+tt+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(et,tt){ha(et,tt),ha(et+"Capture",tt)}function ha(et,tt){for(ea[et]=tt,et=0;et<tt.length;et++)da.add(tt[et])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka$1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(et){return ja.call(ma,et)?!0:ja.call(la,et)?!1:ka$1.test(et)?ma[et]=!0:(la[et]=!0,!1)}function pa(et,tt,rt,nt){if(rt!==null&&rt.type===0)return!1;switch(typeof tt){case"function":case"symbol":return!0;case"boolean":return nt?!1:rt!==null?!rt.acceptsBooleans:(et=et.toLowerCase().slice(0,5),et!=="data-"&&et!=="aria-");default:return!1}}function qa(et,tt,rt,nt){if(tt===null||typeof tt>"u"||pa(et,tt,rt,nt))return!0;if(nt)return!1;if(rt!==null)switch(rt.type){case 3:return!tt;case 4:return tt===!1;case 5:return isNaN(tt);case 6:return isNaN(tt)||1>tt}return!1}function v$4(et,tt,rt,nt,it,at,ot){this.acceptsBooleans=tt===2||tt===3||tt===4,this.attributeName=nt,this.attributeNamespace=it,this.mustUseProperty=rt,this.propertyName=et,this.type=tt,this.sanitizeURL=at,this.removeEmptyString=ot}var z$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(et){z$1[et]=new v$4(et,0,!1,et,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(et){var tt=et[0];z$1[tt]=new v$4(tt,1,!1,et[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(et){z$1[et]=new v$4(et,2,!1,et.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(et){z$1[et]=new v$4(et,2,!1,et,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(et){z$1[et]=new v$4(et,3,!1,et.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(et){z$1[et]=new v$4(et,3,!0,et,null,!1,!1)});["capture","download"].forEach(function(et){z$1[et]=new v$4(et,4,!1,et,null,!1,!1)});["cols","rows","size","span"].forEach(function(et){z$1[et]=new v$4(et,6,!1,et,null,!1,!1)});["rowSpan","start"].forEach(function(et){z$1[et]=new v$4(et,5,!1,et.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(et){return et[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(et){var tt=et.replace(ra,sa);z$1[tt]=new v$4(tt,1,!1,et,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(et){var tt=et.replace(ra,sa);z$1[tt]=new v$4(tt,1,!1,et,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(et){var tt=et.replace(ra,sa);z$1[tt]=new v$4(tt,1,!1,et,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(et){z$1[et]=new v$4(et,1,!1,et.toLowerCase(),null,!1,!1)});z$1.xlinkHref=new v$4("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(et){z$1[et]=new v$4(et,1,!1,et.toLowerCase(),null,!0,!0)});function ta(et,tt,rt,nt){var it=z$1.hasOwnProperty(tt)?z$1[tt]:null;(it!==null?it.type!==0:nt||!(2<tt.length)||tt[0]!=="o"&&tt[0]!=="O"||tt[1]!=="n"&&tt[1]!=="N")&&(qa(tt,rt,it,nt)&&(rt=null),nt||it===null?oa(tt)&&(rt===null?et.removeAttribute(tt):et.setAttribute(tt,""+rt)):it.mustUseProperty?et[it.propertyName]=rt===null?it.type===3?!1:"":rt:(tt=it.attributeName,nt=it.attributeNamespace,rt===null?et.removeAttribute(tt):(it=it.type,rt=it===3||it===4&&rt===!0?"":""+rt,nt?et.setAttributeNS(nt,tt,rt):et.setAttribute(tt,rt))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(et){return et===null||typeof et!="object"?null:(et=Ja&&et[Ja]||et["@@iterator"],typeof et=="function"?et:null)}var A$2=Object.assign,La;function Ma(et){if(La===void 0)try{throw Error()}catch(rt){var tt=rt.stack.trim().match(/\n( *(at )?)/);La=tt&&tt[1]||""}return`
`+La+et}var Na=!1;function Oa(et,tt){if(!et||Na)return"";Na=!0;var rt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(tt)if(tt=function(){throw Error()},Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(ct){var nt=ct}Reflect.construct(et,[],tt)}else{try{tt.call()}catch(ct){nt=ct}et.call(tt.prototype)}else{try{throw Error()}catch(ct){nt=ct}et()}}catch(ct){if(ct&&nt&&typeof ct.stack=="string"){for(var it=ct.stack.split(`
`),at=nt.stack.split(`
`),ot=it.length-1,st=at.length-1;1<=ot&&0<=st&&it[ot]!==at[st];)st--;for(;1<=ot&&0<=st;ot--,st--)if(it[ot]!==at[st]){if(ot!==1||st!==1)do if(ot--,st--,0>st||it[ot]!==at[st]){var lt=`
`+it[ot].replace(" at new "," at ");return et.displayName&&lt.includes("<anonymous>")&&(lt=lt.replace("<anonymous>",et.displayName)),lt}while(1<=ot&&0<=st);break}}}finally{Na=!1,Error.prepareStackTrace=rt}return(et=et?et.displayName||et.name:"")?Ma(et):""}function Pa(et){switch(et.tag){case 5:return Ma(et.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return et=Oa(et.type,!1),et;case 11:return et=Oa(et.type.render,!1),et;case 1:return et=Oa(et.type,!0),et;default:return""}}function Qa(et){if(et==null)return null;if(typeof et=="function")return et.displayName||et.name||null;if(typeof et=="string")return et;switch(et){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof et=="object")switch(et.$$typeof){case Ca:return(et.displayName||"Context")+".Consumer";case Ba:return(et._context.displayName||"Context")+".Provider";case Da:var tt=et.render;return et=et.displayName,et||(et=tt.displayName||tt.name||"",et=et!==""?"ForwardRef("+et+")":"ForwardRef"),et;case Ga:return tt=et.displayName||null,tt!==null?tt:Qa(et.type)||"Memo";case Ha:tt=et._payload,et=et._init;try{return Qa(et(tt))}catch{}}return null}function Ra(et){var tt=et.type;switch(et.tag){case 24:return"Cache";case 9:return(tt.displayName||"Context")+".Consumer";case 10:return(tt._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return et=tt.render,et=et.displayName||et.name||"",tt.displayName||(et!==""?"ForwardRef("+et+")":"ForwardRef");case 7:return"Fragment";case 5:return tt;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(tt);case 8:return tt===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof tt=="function")return tt.displayName||tt.name||null;if(typeof tt=="string")return tt}return null}function Sa(et){switch(typeof et){case"boolean":case"number":case"string":case"undefined":return et;case"object":return et;default:return""}}function Ta(et){var tt=et.type;return(et=et.nodeName)&&et.toLowerCase()==="input"&&(tt==="checkbox"||tt==="radio")}function Ua(et){var tt=Ta(et)?"checked":"value",rt=Object.getOwnPropertyDescriptor(et.constructor.prototype,tt),nt=""+et[tt];if(!et.hasOwnProperty(tt)&&typeof rt<"u"&&typeof rt.get=="function"&&typeof rt.set=="function"){var it=rt.get,at=rt.set;return Object.defineProperty(et,tt,{configurable:!0,get:function(){return it.call(this)},set:function(ot){nt=""+ot,at.call(this,ot)}}),Object.defineProperty(et,tt,{enumerable:rt.enumerable}),{getValue:function(){return nt},setValue:function(ot){nt=""+ot},stopTracking:function(){et._valueTracker=null,delete et[tt]}}}}function Va(et){et._valueTracker||(et._valueTracker=Ua(et))}function Wa(et){if(!et)return!1;var tt=et._valueTracker;if(!tt)return!0;var rt=tt.getValue(),nt="";return et&&(nt=Ta(et)?et.checked?"true":"false":et.value),et=nt,et!==rt?(tt.setValue(et),!0):!1}function Xa(et){if(et=et||(typeof document<"u"?document:void 0),typeof et>"u")return null;try{return et.activeElement||et.body}catch{return et.body}}function Ya(et,tt){var rt=tt.checked;return A$2({},tt,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:rt??et._wrapperState.initialChecked})}function Za(et,tt){var rt=tt.defaultValue==null?"":tt.defaultValue,nt=tt.checked!=null?tt.checked:tt.defaultChecked;rt=Sa(tt.value!=null?tt.value:rt),et._wrapperState={initialChecked:nt,initialValue:rt,controlled:tt.type==="checkbox"||tt.type==="radio"?tt.checked!=null:tt.value!=null}}function ab(et,tt){tt=tt.checked,tt!=null&&ta(et,"checked",tt,!1)}function bb(et,tt){ab(et,tt);var rt=Sa(tt.value),nt=tt.type;if(rt!=null)nt==="number"?(rt===0&&et.value===""||et.value!=rt)&&(et.value=""+rt):et.value!==""+rt&&(et.value=""+rt);else if(nt==="submit"||nt==="reset"){et.removeAttribute("value");return}tt.hasOwnProperty("value")?cb(et,tt.type,rt):tt.hasOwnProperty("defaultValue")&&cb(et,tt.type,Sa(tt.defaultValue)),tt.checked==null&&tt.defaultChecked!=null&&(et.defaultChecked=!!tt.defaultChecked)}function db$1(et,tt,rt){if(tt.hasOwnProperty("value")||tt.hasOwnProperty("defaultValue")){var nt=tt.type;if(!(nt!=="submit"&&nt!=="reset"||tt.value!==void 0&&tt.value!==null))return;tt=""+et._wrapperState.initialValue,rt||tt===et.value||(et.value=tt),et.defaultValue=tt}rt=et.name,rt!==""&&(et.name=""),et.defaultChecked=!!et._wrapperState.initialChecked,rt!==""&&(et.name=rt)}function cb(et,tt,rt){(tt!=="number"||Xa(et.ownerDocument)!==et)&&(rt==null?et.defaultValue=""+et._wrapperState.initialValue:et.defaultValue!==""+rt&&(et.defaultValue=""+rt))}var eb=Array.isArray;function fb(et,tt,rt,nt){if(et=et.options,tt){tt={};for(var it=0;it<rt.length;it++)tt["$"+rt[it]]=!0;for(rt=0;rt<et.length;rt++)it=tt.hasOwnProperty("$"+et[rt].value),et[rt].selected!==it&&(et[rt].selected=it),it&&nt&&(et[rt].defaultSelected=!0)}else{for(rt=""+Sa(rt),tt=null,it=0;it<et.length;it++){if(et[it].value===rt){et[it].selected=!0,nt&&(et[it].defaultSelected=!0);return}tt!==null||et[it].disabled||(tt=et[it])}tt!==null&&(tt.selected=!0)}}function gb(et,tt){if(tt.dangerouslySetInnerHTML!=null)throw Error(p$2(91));return A$2({},tt,{value:void 0,defaultValue:void 0,children:""+et._wrapperState.initialValue})}function hb(et,tt){var rt=tt.value;if(rt==null){if(rt=tt.children,tt=tt.defaultValue,rt!=null){if(tt!=null)throw Error(p$2(92));if(eb(rt)){if(1<rt.length)throw Error(p$2(93));rt=rt[0]}tt=rt}tt==null&&(tt=""),rt=tt}et._wrapperState={initialValue:Sa(rt)}}function ib(et,tt){var rt=Sa(tt.value),nt=Sa(tt.defaultValue);rt!=null&&(rt=""+rt,rt!==et.value&&(et.value=rt),tt.defaultValue==null&&et.defaultValue!==rt&&(et.defaultValue=rt)),nt!=null&&(et.defaultValue=""+nt)}function jb(et){var tt=et.textContent;tt===et._wrapperState.initialValue&&tt!==""&&tt!==null&&(et.value=tt)}function kb(et){switch(et){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(et,tt){return et==null||et==="http://www.w3.org/1999/xhtml"?kb(tt):et==="http://www.w3.org/2000/svg"&&tt==="foreignObject"?"http://www.w3.org/1999/xhtml":et}var mb,nb=function(et){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(tt,rt,nt,it){MSApp.execUnsafeLocalFunction(function(){return et(tt,rt,nt,it)})}:et}(function(et,tt){if(et.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in et)et.innerHTML=tt;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+tt.valueOf().toString()+"</svg>",tt=mb.firstChild;et.firstChild;)et.removeChild(et.firstChild);for(;tt.firstChild;)et.appendChild(tt.firstChild)}});function ob(et,tt){if(tt){var rt=et.firstChild;if(rt&&rt===et.lastChild&&rt.nodeType===3){rt.nodeValue=tt;return}}et.textContent=tt}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(et){qb.forEach(function(tt){tt=tt+et.charAt(0).toUpperCase()+et.substring(1),pb[tt]=pb[et]})});function rb(et,tt,rt){return tt==null||typeof tt=="boolean"||tt===""?"":rt||typeof tt!="number"||tt===0||pb.hasOwnProperty(et)&&pb[et]?(""+tt).trim():tt+"px"}function sb(et,tt){et=et.style;for(var rt in tt)if(tt.hasOwnProperty(rt)){var nt=rt.indexOf("--")===0,it=rb(rt,tt[rt],nt);rt==="float"&&(rt="cssFloat"),nt?et.setProperty(rt,it):et[rt]=it}}var tb=A$2({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(et,tt){if(tt){if(tb[et]&&(tt.children!=null||tt.dangerouslySetInnerHTML!=null))throw Error(p$2(137,et));if(tt.dangerouslySetInnerHTML!=null){if(tt.children!=null)throw Error(p$2(60));if(typeof tt.dangerouslySetInnerHTML!="object"||!("__html"in tt.dangerouslySetInnerHTML))throw Error(p$2(61))}if(tt.style!=null&&typeof tt.style!="object")throw Error(p$2(62))}}function vb(et,tt){if(et.indexOf("-")===-1)return typeof tt.is=="string";switch(et){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(et){return et=et.target||et.srcElement||window,et.correspondingUseElement&&(et=et.correspondingUseElement),et.nodeType===3?et.parentNode:et}var yb=null,zb=null,Ab=null;function Bb(et){if(et=Cb(et)){if(typeof yb!="function")throw Error(p$2(280));var tt=et.stateNode;tt&&(tt=Db(tt),yb(et.stateNode,et.type,tt))}}function Eb(et){zb?Ab?Ab.push(et):Ab=[et]:zb=et}function Fb(){if(zb){var et=zb,tt=Ab;if(Ab=zb=null,Bb(et),tt)for(et=0;et<tt.length;et++)Bb(tt[et])}}function Gb(et,tt){return et(tt)}function Hb(){}var Ib=!1;function Jb(et,tt,rt){if(Ib)return et(tt,rt);Ib=!0;try{return Gb(et,tt,rt)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(et,tt){var rt=et.stateNode;if(rt===null)return null;var nt=Db(rt);if(nt===null)return null;rt=nt[tt];e:switch(tt){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(nt=!nt.disabled)||(et=et.type,nt=!(et==="button"||et==="input"||et==="select"||et==="textarea")),et=!nt;break e;default:et=!1}if(et)return null;if(rt&&typeof rt!="function")throw Error(p$2(231,tt,typeof rt));return rt}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(et,tt,rt,nt,it,at,ot,st,lt){var ct=Array.prototype.slice.call(arguments,3);try{tt.apply(rt,ct)}catch(ut){this.onError(ut)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(et){Ob=!0,Pb=et}};function Tb(et,tt,rt,nt,it,at,ot,st,lt){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(et,tt,rt,nt,it,at,ot,st,lt){if(Tb.apply(this,arguments),Ob){if(Ob){var ct=Pb;Ob=!1,Pb=null}else throw Error(p$2(198));Qb||(Qb=!0,Rb=ct)}}function Vb(et){var tt=et,rt=et;if(et.alternate)for(;tt.return;)tt=tt.return;else{et=tt;do tt=et,tt.flags&4098&&(rt=tt.return),et=tt.return;while(et)}return tt.tag===3?rt:null}function Wb(et){if(et.tag===13){var tt=et.memoizedState;if(tt===null&&(et=et.alternate,et!==null&&(tt=et.memoizedState)),tt!==null)return tt.dehydrated}return null}function Xb(et){if(Vb(et)!==et)throw Error(p$2(188))}function Yb(et){var tt=et.alternate;if(!tt){if(tt=Vb(et),tt===null)throw Error(p$2(188));return tt!==et?null:et}for(var rt=et,nt=tt;;){var it=rt.return;if(it===null)break;var at=it.alternate;if(at===null){if(nt=it.return,nt!==null){rt=nt;continue}break}if(it.child===at.child){for(at=it.child;at;){if(at===rt)return Xb(it),et;if(at===nt)return Xb(it),tt;at=at.sibling}throw Error(p$2(188))}if(rt.return!==nt.return)rt=it,nt=at;else{for(var ot=!1,st=it.child;st;){if(st===rt){ot=!0,rt=it,nt=at;break}if(st===nt){ot=!0,nt=it,rt=at;break}st=st.sibling}if(!ot){for(st=at.child;st;){if(st===rt){ot=!0,rt=at,nt=it;break}if(st===nt){ot=!0,nt=at,rt=it;break}st=st.sibling}if(!ot)throw Error(p$2(189))}}if(rt.alternate!==nt)throw Error(p$2(190))}if(rt.tag!==3)throw Error(p$2(188));return rt.stateNode.current===rt?et:tt}function Zb(et){return et=Yb(et),et!==null?$b(et):null}function $b(et){if(et.tag===5||et.tag===6)return et;for(et=et.child;et!==null;){var tt=$b(et);if(tt!==null)return tt;et=et.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(et){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,et,void 0,(et.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(et){return et>>>=0,et===0?32:31-(pc(et)/qc|0)|0}var rc=64,sc=4194304;function tc(et){switch(et&-et){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return et&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return et&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return et}}function uc(et,tt){var rt=et.pendingLanes;if(rt===0)return 0;var nt=0,it=et.suspendedLanes,at=et.pingedLanes,ot=rt&268435455;if(ot!==0){var st=ot&~it;st!==0?nt=tc(st):(at&=ot,at!==0&&(nt=tc(at)))}else ot=rt&~it,ot!==0?nt=tc(ot):at!==0&&(nt=tc(at));if(nt===0)return 0;if(tt!==0&&tt!==nt&&!(tt&it)&&(it=nt&-nt,at=tt&-tt,it>=at||it===16&&(at&4194240)!==0))return tt;if(nt&4&&(nt|=rt&16),tt=et.entangledLanes,tt!==0)for(et=et.entanglements,tt&=nt;0<tt;)rt=31-oc(tt),it=1<<rt,nt|=et[rt],tt&=~it;return nt}function vc(et,tt){switch(et){case 1:case 2:case 4:return tt+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return tt+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(et,tt){for(var rt=et.suspendedLanes,nt=et.pingedLanes,it=et.expirationTimes,at=et.pendingLanes;0<at;){var ot=31-oc(at),st=1<<ot,lt=it[ot];lt===-1?(!(st&rt)||st&nt)&&(it[ot]=vc(st,tt)):lt<=tt&&(et.expiredLanes|=st),at&=~st}}function xc(et){return et=et.pendingLanes&-1073741825,et!==0?et:et&1073741824?1073741824:0}function yc(){var et=rc;return rc<<=1,!(rc&4194240)&&(rc=64),et}function zc(et){for(var tt=[],rt=0;31>rt;rt++)tt.push(et);return tt}function Ac(et,tt,rt){et.pendingLanes|=tt,tt!==536870912&&(et.suspendedLanes=0,et.pingedLanes=0),et=et.eventTimes,tt=31-oc(tt),et[tt]=rt}function Bc(et,tt){var rt=et.pendingLanes&~tt;et.pendingLanes=tt,et.suspendedLanes=0,et.pingedLanes=0,et.expiredLanes&=tt,et.mutableReadLanes&=tt,et.entangledLanes&=tt,tt=et.entanglements;var nt=et.eventTimes;for(et=et.expirationTimes;0<rt;){var it=31-oc(rt),at=1<<it;tt[it]=0,nt[it]=-1,et[it]=-1,rt&=~at}}function Cc(et,tt){var rt=et.entangledLanes|=tt;for(et=et.entanglements;rt;){var nt=31-oc(rt),it=1<<nt;it&tt|et[nt]&tt&&(et[nt]|=tt),rt&=~it}}var C$1=0;function Dc(et){return et&=-et,1<et?4<et?et&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(et,tt){switch(et){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(tt.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(tt.pointerId)}}function Tc(et,tt,rt,nt,it,at){return et===null||et.nativeEvent!==at?(et={blockedOn:tt,domEventName:rt,eventSystemFlags:nt,nativeEvent:at,targetContainers:[it]},tt!==null&&(tt=Cb(tt),tt!==null&&Fc(tt)),et):(et.eventSystemFlags|=nt,tt=et.targetContainers,it!==null&&tt.indexOf(it)===-1&&tt.push(it),et)}function Uc(et,tt,rt,nt,it){switch(tt){case"focusin":return Lc=Tc(Lc,et,tt,rt,nt,it),!0;case"dragenter":return Mc=Tc(Mc,et,tt,rt,nt,it),!0;case"mouseover":return Nc=Tc(Nc,et,tt,rt,nt,it),!0;case"pointerover":var at=it.pointerId;return Oc.set(at,Tc(Oc.get(at)||null,et,tt,rt,nt,it)),!0;case"gotpointercapture":return at=it.pointerId,Pc.set(at,Tc(Pc.get(at)||null,et,tt,rt,nt,it)),!0}return!1}function Vc(et){var tt=Wc(et.target);if(tt!==null){var rt=Vb(tt);if(rt!==null){if(tt=rt.tag,tt===13){if(tt=Wb(rt),tt!==null){et.blockedOn=tt,Ic(et.priority,function(){Gc(rt)});return}}else if(tt===3&&rt.stateNode.current.memoizedState.isDehydrated){et.blockedOn=rt.tag===3?rt.stateNode.containerInfo:null;return}}}et.blockedOn=null}function Xc(et){if(et.blockedOn!==null)return!1;for(var tt=et.targetContainers;0<tt.length;){var rt=Yc(et.domEventName,et.eventSystemFlags,tt[0],et.nativeEvent);if(rt===null){rt=et.nativeEvent;var nt=new rt.constructor(rt.type,rt);wb=nt,rt.target.dispatchEvent(nt),wb=null}else return tt=Cb(rt),tt!==null&&Fc(tt),et.blockedOn=rt,!1;tt.shift()}return!0}function Zc(et,tt,rt){Xc(et)&&rt.delete(tt)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(et,tt){et.blockedOn===tt&&(et.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(et){function tt(it){return ad(it,et)}if(0<Kc.length){ad(Kc[0],et);for(var rt=1;rt<Kc.length;rt++){var nt=Kc[rt];nt.blockedOn===et&&(nt.blockedOn=null)}}for(Lc!==null&&ad(Lc,et),Mc!==null&&ad(Mc,et),Nc!==null&&ad(Nc,et),Oc.forEach(tt),Pc.forEach(tt),rt=0;rt<Qc.length;rt++)nt=Qc[rt],nt.blockedOn===et&&(nt.blockedOn=null);for(;0<Qc.length&&(rt=Qc[0],rt.blockedOn===null);)Vc(rt),rt.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(et,tt,rt,nt){var it=C$1,at=cd.transition;cd.transition=null;try{C$1=1,fd(et,tt,rt,nt)}finally{C$1=it,cd.transition=at}}function gd(et,tt,rt,nt){var it=C$1,at=cd.transition;cd.transition=null;try{C$1=4,fd(et,tt,rt,nt)}finally{C$1=it,cd.transition=at}}function fd(et,tt,rt,nt){if(dd){var it=Yc(et,tt,rt,nt);if(it===null)hd(et,tt,nt,id$2,rt),Sc(et,nt);else if(Uc(it,et,tt,rt,nt))nt.stopPropagation();else if(Sc(et,nt),tt&4&&-1<Rc.indexOf(et)){for(;it!==null;){var at=Cb(it);if(at!==null&&Ec(at),at=Yc(et,tt,rt,nt),at===null&&hd(et,tt,nt,id$2,rt),at===it)break;it=at}it!==null&&nt.stopPropagation()}else hd(et,tt,nt,null,rt)}}var id$2=null;function Yc(et,tt,rt,nt){if(id$2=null,et=xb(nt),et=Wc(et),et!==null)if(tt=Vb(et),tt===null)et=null;else if(rt=tt.tag,rt===13){if(et=Wb(tt),et!==null)return et;et=null}else if(rt===3){if(tt.stateNode.current.memoizedState.isDehydrated)return tt.tag===3?tt.stateNode.containerInfo:null;et=null}else tt!==et&&(et=null);return id$2=et,null}function jd(et){switch(et){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var et,tt=ld,rt=tt.length,nt,it="value"in kd?kd.value:kd.textContent,at=it.length;for(et=0;et<rt&&tt[et]===it[et];et++);var ot=rt-et;for(nt=1;nt<=ot&&tt[rt-nt]===it[at-nt];nt++);return md=it.slice(et,1<nt?1-nt:void 0)}function od(et){var tt=et.keyCode;return"charCode"in et?(et=et.charCode,et===0&&tt===13&&(et=13)):et=tt,et===10&&(et=13),32<=et||et===13?et:0}function pd(){return!0}function qd(){return!1}function rd(et){function tt(rt,nt,it,at,ot){this._reactName=rt,this._targetInst=it,this.type=nt,this.nativeEvent=at,this.target=ot,this.currentTarget=null;for(var st in et)et.hasOwnProperty(st)&&(rt=et[st],this[st]=rt?rt(at):at[st]);return this.isDefaultPrevented=(at.defaultPrevented!=null?at.defaultPrevented:at.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$2(tt.prototype,{preventDefault:function(){this.defaultPrevented=!0;var rt=this.nativeEvent;rt&&(rt.preventDefault?rt.preventDefault():typeof rt.returnValue!="unknown"&&(rt.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var rt=this.nativeEvent;rt&&(rt.stopPropagation?rt.stopPropagation():typeof rt.cancelBubble!="unknown"&&(rt.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),tt}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(et){return et.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$2({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$2({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(et){return et.relatedTarget===void 0?et.fromElement===et.srcElement?et.toElement:et.fromElement:et.relatedTarget},movementX:function(et){return"movementX"in et?et.movementX:(et!==yd&&(yd&&et.type==="mousemove"?(wd=et.screenX-yd.screenX,xd=et.screenY-yd.screenY):xd=wd=0,yd=et),wd)},movementY:function(et){return"movementY"in et?et.movementY:xd}}),Bd=rd(Ad),Cd=A$2({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$2({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$2({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$2({},sd,{clipboardData:function(et){return"clipboardData"in et?et.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$2({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(et){var tt=this.nativeEvent;return tt.getModifierState?tt.getModifierState(et):(et=Od[et])?!!tt[et]:!1}function zd(){return Pd}var Qd=A$2({},ud,{key:function(et){if(et.key){var tt=Md[et.key]||et.key;if(tt!=="Unidentified")return tt}return et.type==="keypress"?(et=od(et),et===13?"Enter":String.fromCharCode(et)):et.type==="keydown"||et.type==="keyup"?Nd[et.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(et){return et.type==="keypress"?od(et):0},keyCode:function(et){return et.type==="keydown"||et.type==="keyup"?et.keyCode:0},which:function(et){return et.type==="keypress"?od(et):et.type==="keydown"||et.type==="keyup"?et.keyCode:0}}),Rd=rd(Qd),Sd=A$2({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$2({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$2({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$2({},Ad,{deltaX:function(et){return"deltaX"in et?et.deltaX:"wheelDeltaX"in et?-et.wheelDeltaX:0},deltaY:function(et){return"deltaY"in et?et.deltaY:"wheelDeltaY"in et?-et.wheelDeltaY:"wheelDelta"in et?-et.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$1=ia&&"CompositionEvent"in window,be$1=null;ia&&"documentMode"in document&&(be$1=document.documentMode);var ce$1=ia&&"TextEvent"in window&&!be$1,de$2=ia&&(!ae$1||be$1&&8<be$1&&11>=be$1),ee$1=" ",fe$2=!1;function ge$2(et,tt){switch(et){case"keyup":return $d.indexOf(tt.keyCode)!==-1;case"keydown":return tt.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$2(et){return et=et.detail,typeof et=="object"&&"data"in et?et.data:null}var ie$1=!1;function je(et,tt){switch(et){case"compositionend":return he$2(tt);case"keypress":return tt.which!==32?null:(fe$2=!0,ee$1);case"textInput":return et=tt.data,et===ee$1&&fe$2?null:et;default:return null}}function ke(et,tt){if(ie$1)return et==="compositionend"||!ae$1&&ge$2(et,tt)?(et=nd(),md=ld=kd=null,ie$1=!1,et):null;switch(et){case"paste":return null;case"keypress":if(!(tt.ctrlKey||tt.altKey||tt.metaKey)||tt.ctrlKey&&tt.altKey){if(tt.char&&1<tt.char.length)return tt.char;if(tt.which)return String.fromCharCode(tt.which)}return null;case"compositionend":return de$2&&tt.locale!=="ko"?null:tt.data;default:return null}}var le$2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(et){var tt=et&&et.nodeName&&et.nodeName.toLowerCase();return tt==="input"?!!le$2[et.type]:tt==="textarea"}function ne$1(et,tt,rt,nt){Eb(nt),tt=oe$1(tt,"onChange"),0<tt.length&&(rt=new td("onChange","change",null,rt,nt),et.push({event:rt,listeners:tt}))}var pe$2=null,qe=null;function re$3(et){se$1(et,0)}function te(et){var tt=ue$2(et);if(Wa(tt))return et}function ve$2(et,tt){if(et==="change")return tt}var we$1=!1;if(ia){var xe$1;if(ia){var ye$2="oninput"in document;if(!ye$2){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye$2=typeof ze.oninput=="function"}xe$1=ye$2}else xe$1=!1;we$1=xe$1&&(!document.documentMode||9<document.documentMode)}function Ae$2(){pe$2&&(pe$2.detachEvent("onpropertychange",Be),qe=pe$2=null)}function Be(et){if(et.propertyName==="value"&&te(qe)){var tt=[];ne$1(tt,qe,et,xb(et)),Jb(re$3,tt)}}function Ce(et,tt,rt){et==="focusin"?(Ae$2(),pe$2=tt,qe=rt,pe$2.attachEvent("onpropertychange",Be)):et==="focusout"&&Ae$2()}function De$1(et){if(et==="selectionchange"||et==="keyup"||et==="keydown")return te(qe)}function Ee$2(et,tt){if(et==="click")return te(tt)}function Fe(et,tt){if(et==="input"||et==="change")return te(tt)}function Ge(et,tt){return et===tt&&(et!==0||1/et===1/tt)||et!==et&&tt!==tt}var He=typeof Object.is=="function"?Object.is:Ge;function Ie$1(et,tt){if(He(et,tt))return!0;if(typeof et!="object"||et===null||typeof tt!="object"||tt===null)return!1;var rt=Object.keys(et),nt=Object.keys(tt);if(rt.length!==nt.length)return!1;for(nt=0;nt<rt.length;nt++){var it=rt[nt];if(!ja.call(tt,it)||!He(et[it],tt[it]))return!1}return!0}function Je(et){for(;et&&et.firstChild;)et=et.firstChild;return et}function Ke(et,tt){var rt=Je(et);et=0;for(var nt;rt;){if(rt.nodeType===3){if(nt=et+rt.textContent.length,et<=tt&&nt>=tt)return{node:rt,offset:tt-et};et=nt}e:{for(;rt;){if(rt.nextSibling){rt=rt.nextSibling;break e}rt=rt.parentNode}rt=void 0}rt=Je(rt)}}function Le(et,tt){return et&&tt?et===tt?!0:et&&et.nodeType===3?!1:tt&&tt.nodeType===3?Le(et,tt.parentNode):"contains"in et?et.contains(tt):et.compareDocumentPosition?!!(et.compareDocumentPosition(tt)&16):!1:!1}function Me(){for(var et=window,tt=Xa();tt instanceof et.HTMLIFrameElement;){try{var rt=typeof tt.contentWindow.location.href=="string"}catch{rt=!1}if(rt)et=tt.contentWindow;else break;tt=Xa(et.document)}return tt}function Ne(et){var tt=et&&et.nodeName&&et.nodeName.toLowerCase();return tt&&(tt==="input"&&(et.type==="text"||et.type==="search"||et.type==="tel"||et.type==="url"||et.type==="password")||tt==="textarea"||et.contentEditable==="true")}function Oe(et){var tt=Me(),rt=et.focusedElem,nt=et.selectionRange;if(tt!==rt&&rt&&rt.ownerDocument&&Le(rt.ownerDocument.documentElement,rt)){if(nt!==null&&Ne(rt)){if(tt=nt.start,et=nt.end,et===void 0&&(et=tt),"selectionStart"in rt)rt.selectionStart=tt,rt.selectionEnd=Math.min(et,rt.value.length);else if(et=(tt=rt.ownerDocument||document)&&tt.defaultView||window,et.getSelection){et=et.getSelection();var it=rt.textContent.length,at=Math.min(nt.start,it);nt=nt.end===void 0?at:Math.min(nt.end,it),!et.extend&&at>nt&&(it=nt,nt=at,at=it),it=Ke(rt,at);var ot=Ke(rt,nt);it&&ot&&(et.rangeCount!==1||et.anchorNode!==it.node||et.anchorOffset!==it.offset||et.focusNode!==ot.node||et.focusOffset!==ot.offset)&&(tt=tt.createRange(),tt.setStart(it.node,it.offset),et.removeAllRanges(),at>nt?(et.addRange(tt),et.extend(ot.node,ot.offset)):(tt.setEnd(ot.node,ot.offset),et.addRange(tt)))}}for(tt=[],et=rt;et=et.parentNode;)et.nodeType===1&&tt.push({element:et,left:et.scrollLeft,top:et.scrollTop});for(typeof rt.focus=="function"&&rt.focus(),rt=0;rt<tt.length;rt++)et=tt[rt],et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}var Pe$1=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re$1=null,Se$2=null,Te$2=!1;function Ue(et,tt,rt){var nt=rt.window===rt?rt.document:rt.nodeType===9?rt:rt.ownerDocument;Te$2||Qe==null||Qe!==Xa(nt)||(nt=Qe,"selectionStart"in nt&&Ne(nt)?nt={start:nt.selectionStart,end:nt.selectionEnd}:(nt=(nt.ownerDocument&&nt.ownerDocument.defaultView||window).getSelection(),nt={anchorNode:nt.anchorNode,anchorOffset:nt.anchorOffset,focusNode:nt.focusNode,focusOffset:nt.focusOffset}),Se$2&&Ie$1(Se$2,nt)||(Se$2=nt,nt=oe$1(Re$1,"onSelect"),0<nt.length&&(tt=new td("onSelect","select",null,tt,rt),et.push({event:tt,listeners:nt}),tt.target=Qe)))}function Ve(et,tt){var rt={};return rt[et.toLowerCase()]=tt.toLowerCase(),rt["Webkit"+et]="webkit"+tt,rt["Moz"+et]="moz"+tt,rt}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(et){if(Xe[et])return Xe[et];if(!We[et])return et;var tt=We[et],rt;for(rt in tt)if(tt.hasOwnProperty(rt)&&rt in Ye)return Xe[et]=tt[rt];return et}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(et,tt){df.set(et,tt),fa(tt,[et])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(et,tt,rt){var nt=et.type||"unknown-event";et.currentTarget=rt,Ub(nt,tt,void 0,et),et.currentTarget=null}function se$1(et,tt){tt=(tt&4)!==0;for(var rt=0;rt<et.length;rt++){var nt=et[rt],it=nt.event;nt=nt.listeners;e:{var at=void 0;if(tt)for(var ot=nt.length-1;0<=ot;ot--){var st=nt[ot],lt=st.instance,ct=st.currentTarget;if(st=st.listener,lt!==at&&it.isPropagationStopped())break e;nf(it,st,ct),at=lt}else for(ot=0;ot<nt.length;ot++){if(st=nt[ot],lt=st.instance,ct=st.currentTarget,st=st.listener,lt!==at&&it.isPropagationStopped())break e;nf(it,st,ct),at=lt}}}if(Qb)throw et=Rb,Qb=!1,Rb=null,et}function D$2(et,tt){var rt=tt[of];rt===void 0&&(rt=tt[of]=new Set);var nt=et+"__bubble";rt.has(nt)||(pf(tt,et,2,!1),rt.add(nt))}function qf(et,tt,rt){var nt=0;tt&&(nt|=4),pf(rt,et,nt,tt)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(et){if(!et[rf]){et[rf]=!0,da.forEach(function(rt){rt!=="selectionchange"&&(mf.has(rt)||qf(rt,!1,et),qf(rt,!0,et))});var tt=et.nodeType===9?et:et.ownerDocument;tt===null||tt[rf]||(tt[rf]=!0,qf("selectionchange",!1,tt))}}function pf(et,tt,rt,nt){switch(jd(tt)){case 1:var it=ed;break;case 4:it=gd;break;default:it=fd}rt=it.bind(null,tt,rt,et),it=void 0,!Lb||tt!=="touchstart"&&tt!=="touchmove"&&tt!=="wheel"||(it=!0),nt?it!==void 0?et.addEventListener(tt,rt,{capture:!0,passive:it}):et.addEventListener(tt,rt,!0):it!==void 0?et.addEventListener(tt,rt,{passive:it}):et.addEventListener(tt,rt,!1)}function hd(et,tt,rt,nt,it){var at=nt;if(!(tt&1)&&!(tt&2)&&nt!==null)e:for(;;){if(nt===null)return;var ot=nt.tag;if(ot===3||ot===4){var st=nt.stateNode.containerInfo;if(st===it||st.nodeType===8&&st.parentNode===it)break;if(ot===4)for(ot=nt.return;ot!==null;){var lt=ot.tag;if((lt===3||lt===4)&&(lt=ot.stateNode.containerInfo,lt===it||lt.nodeType===8&&lt.parentNode===it))return;ot=ot.return}for(;st!==null;){if(ot=Wc(st),ot===null)return;if(lt=ot.tag,lt===5||lt===6){nt=at=ot;continue e}st=st.parentNode}}nt=nt.return}Jb(function(){var ct=at,ut=xb(rt),ft=[];e:{var ht=df.get(et);if(ht!==void 0){var dt=td,vt=et;switch(et){case"keypress":if(od(rt)===0)break e;case"keydown":case"keyup":dt=Rd;break;case"focusin":vt="focus",dt=Fd;break;case"focusout":vt="blur",dt=Fd;break;case"beforeblur":case"afterblur":dt=Fd;break;case"click":if(rt.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":dt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":dt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":dt=Vd;break;case $e:case af:case bf:dt=Hd;break;case cf:dt=Xd;break;case"scroll":dt=vd;break;case"wheel":dt=Zd;break;case"copy":case"cut":case"paste":dt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":dt=Td}var yt=(tt&4)!==0,xt=!yt&&et==="scroll",_t=yt?ht!==null?ht+"Capture":null:ht;yt=[];for(var mt=ct,pt;mt!==null;){pt=mt;var bt=pt.stateNode;if(pt.tag===5&&bt!==null&&(pt=bt,_t!==null&&(bt=Kb(mt,_t),bt!=null&&yt.push(tf(mt,bt,pt)))),xt)break;mt=mt.return}0<yt.length&&(ht=new dt(ht,vt,null,rt,ut),ft.push({event:ht,listeners:yt}))}}if(!(tt&7)){e:{if(ht=et==="mouseover"||et==="pointerover",dt=et==="mouseout"||et==="pointerout",ht&&rt!==wb&&(vt=rt.relatedTarget||rt.fromElement)&&(Wc(vt)||vt[uf]))break e;if((dt||ht)&&(ht=ut.window===ut?ut:(ht=ut.ownerDocument)?ht.defaultView||ht.parentWindow:window,dt?(vt=rt.relatedTarget||rt.toElement,dt=ct,vt=vt?Wc(vt):null,vt!==null&&(xt=Vb(vt),vt!==xt||vt.tag!==5&&vt.tag!==6)&&(vt=null)):(dt=null,vt=ct),dt!==vt)){if(yt=Bd,bt="onMouseLeave",_t="onMouseEnter",mt="mouse",(et==="pointerout"||et==="pointerover")&&(yt=Td,bt="onPointerLeave",_t="onPointerEnter",mt="pointer"),xt=dt==null?ht:ue$2(dt),pt=vt==null?ht:ue$2(vt),ht=new yt(bt,mt+"leave",dt,rt,ut),ht.target=xt,ht.relatedTarget=pt,bt=null,Wc(ut)===ct&&(yt=new yt(_t,mt+"enter",vt,rt,ut),yt.target=pt,yt.relatedTarget=xt,bt=yt),xt=bt,dt&&vt)t:{for(yt=dt,_t=vt,mt=0,pt=yt;pt;pt=vf(pt))mt++;for(pt=0,bt=_t;bt;bt=vf(bt))pt++;for(;0<mt-pt;)yt=vf(yt),mt--;for(;0<pt-mt;)_t=vf(_t),pt--;for(;mt--;){if(yt===_t||_t!==null&&yt===_t.alternate)break t;yt=vf(yt),_t=vf(_t)}yt=null}else yt=null;dt!==null&&wf(ft,ht,dt,yt,!1),vt!==null&&xt!==null&&wf(ft,xt,vt,yt,!0)}}e:{if(ht=ct?ue$2(ct):window,dt=ht.nodeName&&ht.nodeName.toLowerCase(),dt==="select"||dt==="input"&&ht.type==="file")var Et=ve$2;else if(me(ht))if(we$1)Et=Fe;else{Et=De$1;var St=Ce}else(dt=ht.nodeName)&&dt.toLowerCase()==="input"&&(ht.type==="checkbox"||ht.type==="radio")&&(Et=Ee$2);if(Et&&(Et=Et(et,ct))){ne$1(ft,Et,rt,ut);break e}St&&St(et,ht,ct),et==="focusout"&&(St=ht._wrapperState)&&St.controlled&&ht.type==="number"&&cb(ht,"number",ht.value)}switch(St=ct?ue$2(ct):window,et){case"focusin":(me(St)||St.contentEditable==="true")&&(Qe=St,Re$1=ct,Se$2=null);break;case"focusout":Se$2=Re$1=Qe=null;break;case"mousedown":Te$2=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$2=!1,Ue(ft,rt,ut);break;case"selectionchange":if(Pe$1)break;case"keydown":case"keyup":Ue(ft,rt,ut)}var Tt;if(ae$1)e:{switch(et){case"compositionstart":var Pt="onCompositionStart";break e;case"compositionend":Pt="onCompositionEnd";break e;case"compositionupdate":Pt="onCompositionUpdate";break e}Pt=void 0}else ie$1?ge$2(et,rt)&&(Pt="onCompositionEnd"):et==="keydown"&&rt.keyCode===229&&(Pt="onCompositionStart");Pt&&(de$2&&rt.locale!=="ko"&&(ie$1||Pt!=="onCompositionStart"?Pt==="onCompositionEnd"&&ie$1&&(Tt=nd()):(kd=ut,ld="value"in kd?kd.value:kd.textContent,ie$1=!0)),St=oe$1(ct,Pt),0<St.length&&(Pt=new Ld(Pt,et,null,rt,ut),ft.push({event:Pt,listeners:St}),Tt?Pt.data=Tt:(Tt=he$2(rt),Tt!==null&&(Pt.data=Tt)))),(Tt=ce$1?je(et,rt):ke(et,rt))&&(ct=oe$1(ct,"onBeforeInput"),0<ct.length&&(ut=new Ld("onBeforeInput","beforeinput",null,rt,ut),ft.push({event:ut,listeners:ct}),ut.data=Tt))}se$1(ft,tt)})}function tf(et,tt,rt){return{instance:et,listener:tt,currentTarget:rt}}function oe$1(et,tt){for(var rt=tt+"Capture",nt=[];et!==null;){var it=et,at=it.stateNode;it.tag===5&&at!==null&&(it=at,at=Kb(et,rt),at!=null&&nt.unshift(tf(et,at,it)),at=Kb(et,tt),at!=null&&nt.push(tf(et,at,it))),et=et.return}return nt}function vf(et){if(et===null)return null;do et=et.return;while(et&&et.tag!==5);return et||null}function wf(et,tt,rt,nt,it){for(var at=tt._reactName,ot=[];rt!==null&&rt!==nt;){var st=rt,lt=st.alternate,ct=st.stateNode;if(lt!==null&&lt===nt)break;st.tag===5&&ct!==null&&(st=ct,it?(lt=Kb(rt,at),lt!=null&&ot.unshift(tf(rt,lt,st))):it||(lt=Kb(rt,at),lt!=null&&ot.push(tf(rt,lt,st)))),rt=rt.return}ot.length!==0&&et.push({event:tt,listeners:ot})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(et){return(typeof et=="string"?et:""+et).replace(xf,`
`).replace(yf,"")}function Af(et,tt,rt){if(tt=zf(tt),zf(et)!==tt&&rt)throw Error(p$2(425))}function Bf(){}var Cf=null,Df=null;function Ef(et,tt){return et==="textarea"||et==="noscript"||typeof tt.children=="string"||typeof tt.children=="number"||typeof tt.dangerouslySetInnerHTML=="object"&&tt.dangerouslySetInnerHTML!==null&&tt.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(et){return Hf.resolve(null).then(et).catch(If)}:Ff;function If(et){setTimeout(function(){throw et})}function Kf(et,tt){var rt=tt,nt=0;do{var it=rt.nextSibling;if(et.removeChild(rt),it&&it.nodeType===8)if(rt=it.data,rt==="/$"){if(nt===0){et.removeChild(it),bd(tt);return}nt--}else rt!=="$"&&rt!=="$?"&&rt!=="$!"||nt++;rt=it}while(rt);bd(tt)}function Lf(et){for(;et!=null;et=et.nextSibling){var tt=et.nodeType;if(tt===1||tt===3)break;if(tt===8){if(tt=et.data,tt==="$"||tt==="$!"||tt==="$?")break;if(tt==="/$")return null}}return et}function Mf(et){et=et.previousSibling;for(var tt=0;et;){if(et.nodeType===8){var rt=et.data;if(rt==="$"||rt==="$!"||rt==="$?"){if(tt===0)return et;tt--}else rt==="/$"&&tt++}et=et.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(et){var tt=et[Of];if(tt)return tt;for(var rt=et.parentNode;rt;){if(tt=rt[uf]||rt[Of]){if(rt=tt.alternate,tt.child!==null||rt!==null&&rt.child!==null)for(et=Mf(et);et!==null;){if(rt=et[Of])return rt;et=Mf(et)}return tt}et=rt,rt=et.parentNode}return null}function Cb(et){return et=et[Of]||et[uf],!et||et.tag!==5&&et.tag!==6&&et.tag!==13&&et.tag!==3?null:et}function ue$2(et){if(et.tag===5||et.tag===6)return et.stateNode;throw Error(p$2(33))}function Db(et){return et[Pf]||null}var Sf=[],Tf=-1;function Uf(et){return{current:et}}function E(et){0>Tf||(et.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$1(et,tt){Tf++,Sf[Tf]=et.current,et.current=tt}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(et,tt){var rt=et.type.contextTypes;if(!rt)return Vf;var nt=et.stateNode;if(nt&&nt.__reactInternalMemoizedUnmaskedChildContext===tt)return nt.__reactInternalMemoizedMaskedChildContext;var it={},at;for(at in rt)it[at]=tt[at];return nt&&(et=et.stateNode,et.__reactInternalMemoizedUnmaskedChildContext=tt,et.__reactInternalMemoizedMaskedChildContext=it),it}function Zf(et){return et=et.childContextTypes,et!=null}function $f(){E(Wf),E(H)}function ag(et,tt,rt){if(H.current!==Vf)throw Error(p$2(168));G$1(H,tt),G$1(Wf,rt)}function bg(et,tt,rt){var nt=et.stateNode;if(tt=tt.childContextTypes,typeof nt.getChildContext!="function")return rt;nt=nt.getChildContext();for(var it in nt)if(!(it in tt))throw Error(p$2(108,Ra(et)||"Unknown",it));return A$2({},rt,nt)}function cg(et){return et=(et=et.stateNode)&&et.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G$1(H,et),G$1(Wf,Wf.current),!0}function dg(et,tt,rt){var nt=et.stateNode;if(!nt)throw Error(p$2(169));rt?(et=bg(et,tt,Xf),nt.__reactInternalMemoizedMergedChildContext=et,E(Wf),E(H),G$1(H,et)):E(Wf),G$1(Wf,rt)}var eg=null,fg=!1,gg=!1;function hg(et){eg===null?eg=[et]:eg.push(et)}function ig(et){fg=!0,hg(et)}function jg(){if(!gg&&eg!==null){gg=!0;var et=0,tt=C$1;try{var rt=eg;for(C$1=1;et<rt.length;et++){var nt=rt[et];do nt=nt(!0);while(nt!==null)}eg=null,fg=!1}catch(it){throw eg!==null&&(eg=eg.slice(et+1)),ac(fc,jg),it}finally{C$1=tt,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(et,tt){kg[lg++]=ng,kg[lg++]=mg,mg=et,ng=tt}function ug(et,tt,rt){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=et;var nt=rg;et=sg;var it=32-oc(nt)-1;nt&=~(1<<it),rt+=1;var at=32-oc(tt)+it;if(30<at){var ot=it-it%5;at=(nt&(1<<ot)-1).toString(32),nt>>=ot,it-=ot,rg=1<<32-oc(tt)+it|rt<<it|nt,sg=at+et}else rg=1<<at|rt<<it|nt,sg=et}function vg(et){et.return!==null&&(tg(et,1),ug(et,1,0))}function wg(et){for(;et===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;et===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$1=!1,zg=null;function Ag(et,tt){var rt=Bg(5,null,null,0);rt.elementType="DELETED",rt.stateNode=tt,rt.return=et,tt=et.deletions,tt===null?(et.deletions=[rt],et.flags|=16):tt.push(rt)}function Cg(et,tt){switch(et.tag){case 5:var rt=et.type;return tt=tt.nodeType!==1||rt.toLowerCase()!==tt.nodeName.toLowerCase()?null:tt,tt!==null?(et.stateNode=tt,xg=et,yg=Lf(tt.firstChild),!0):!1;case 6:return tt=et.pendingProps===""||tt.nodeType!==3?null:tt,tt!==null?(et.stateNode=tt,xg=et,yg=null,!0):!1;case 13:return tt=tt.nodeType!==8?null:tt,tt!==null?(rt=qg!==null?{id:rg,overflow:sg}:null,et.memoizedState={dehydrated:tt,treeContext:rt,retryLane:1073741824},rt=Bg(18,null,null,0),rt.stateNode=tt,rt.return=et,et.child=rt,xg=et,yg=null,!0):!1;default:return!1}}function Dg(et){return(et.mode&1)!==0&&(et.flags&128)===0}function Eg(et){if(I$1){var tt=yg;if(tt){var rt=tt;if(!Cg(et,tt)){if(Dg(et))throw Error(p$2(418));tt=Lf(rt.nextSibling);var nt=xg;tt&&Cg(et,tt)?Ag(nt,rt):(et.flags=et.flags&-4097|2,I$1=!1,xg=et)}}else{if(Dg(et))throw Error(p$2(418));et.flags=et.flags&-4097|2,I$1=!1,xg=et}}}function Fg(et){for(et=et.return;et!==null&&et.tag!==5&&et.tag!==3&&et.tag!==13;)et=et.return;xg=et}function Gg(et){if(et!==xg)return!1;if(!I$1)return Fg(et),I$1=!0,!1;var tt;if((tt=et.tag!==3)&&!(tt=et.tag!==5)&&(tt=et.type,tt=tt!=="head"&&tt!=="body"&&!Ef(et.type,et.memoizedProps)),tt&&(tt=yg)){if(Dg(et))throw Hg(),Error(p$2(418));for(;tt;)Ag(et,tt),tt=Lf(tt.nextSibling)}if(Fg(et),et.tag===13){if(et=et.memoizedState,et=et!==null?et.dehydrated:null,!et)throw Error(p$2(317));e:{for(et=et.nextSibling,tt=0;et;){if(et.nodeType===8){var rt=et.data;if(rt==="/$"){if(tt===0){yg=Lf(et.nextSibling);break e}tt--}else rt!=="$"&&rt!=="$!"&&rt!=="$?"||tt++}et=et.nextSibling}yg=null}}else yg=xg?Lf(et.stateNode.nextSibling):null;return!0}function Hg(){for(var et=yg;et;)et=Lf(et.nextSibling)}function Ig(){yg=xg=null,I$1=!1}function Jg(et){zg===null?zg=[et]:zg.push(et)}var Kg=ua.ReactCurrentBatchConfig;function Lg(et,tt,rt){if(et=rt.ref,et!==null&&typeof et!="function"&&typeof et!="object"){if(rt._owner){if(rt=rt._owner,rt){if(rt.tag!==1)throw Error(p$2(309));var nt=rt.stateNode}if(!nt)throw Error(p$2(147,et));var it=nt,at=""+et;return tt!==null&&tt.ref!==null&&typeof tt.ref=="function"&&tt.ref._stringRef===at?tt.ref:(tt=function(ot){var st=it.refs;ot===null?delete st[at]:st[at]=ot},tt._stringRef=at,tt)}if(typeof et!="string")throw Error(p$2(284));if(!rt._owner)throw Error(p$2(290,et))}return et}function Mg(et,tt){throw et=Object.prototype.toString.call(tt),Error(p$2(31,et==="[object Object]"?"object with keys {"+Object.keys(tt).join(", ")+"}":et))}function Ng(et){var tt=et._init;return tt(et._payload)}function Og(et){function tt(_t,mt){if(et){var pt=_t.deletions;pt===null?(_t.deletions=[mt],_t.flags|=16):pt.push(mt)}}function rt(_t,mt){if(!et)return null;for(;mt!==null;)tt(_t,mt),mt=mt.sibling;return null}function nt(_t,mt){for(_t=new Map;mt!==null;)mt.key!==null?_t.set(mt.key,mt):_t.set(mt.index,mt),mt=mt.sibling;return _t}function it(_t,mt){return _t=Pg(_t,mt),_t.index=0,_t.sibling=null,_t}function at(_t,mt,pt){return _t.index=pt,et?(pt=_t.alternate,pt!==null?(pt=pt.index,pt<mt?(_t.flags|=2,mt):pt):(_t.flags|=2,mt)):(_t.flags|=1048576,mt)}function ot(_t){return et&&_t.alternate===null&&(_t.flags|=2),_t}function st(_t,mt,pt,bt){return mt===null||mt.tag!==6?(mt=Qg(pt,_t.mode,bt),mt.return=_t,mt):(mt=it(mt,pt),mt.return=_t,mt)}function lt(_t,mt,pt,bt){var Et=pt.type;return Et===ya?ut(_t,mt,pt.props.children,bt,pt.key):mt!==null&&(mt.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===Ha&&Ng(Et)===mt.type)?(bt=it(mt,pt.props),bt.ref=Lg(_t,mt,pt),bt.return=_t,bt):(bt=Rg(pt.type,pt.key,pt.props,null,_t.mode,bt),bt.ref=Lg(_t,mt,pt),bt.return=_t,bt)}function ct(_t,mt,pt,bt){return mt===null||mt.tag!==4||mt.stateNode.containerInfo!==pt.containerInfo||mt.stateNode.implementation!==pt.implementation?(mt=Sg(pt,_t.mode,bt),mt.return=_t,mt):(mt=it(mt,pt.children||[]),mt.return=_t,mt)}function ut(_t,mt,pt,bt,Et){return mt===null||mt.tag!==7?(mt=Tg(pt,_t.mode,bt,Et),mt.return=_t,mt):(mt=it(mt,pt),mt.return=_t,mt)}function ft(_t,mt,pt){if(typeof mt=="string"&&mt!==""||typeof mt=="number")return mt=Qg(""+mt,_t.mode,pt),mt.return=_t,mt;if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case va:return pt=Rg(mt.type,mt.key,mt.props,null,_t.mode,pt),pt.ref=Lg(_t,null,mt),pt.return=_t,pt;case wa:return mt=Sg(mt,_t.mode,pt),mt.return=_t,mt;case Ha:var bt=mt._init;return ft(_t,bt(mt._payload),pt)}if(eb(mt)||Ka(mt))return mt=Tg(mt,_t.mode,pt,null),mt.return=_t,mt;Mg(_t,mt)}return null}function ht(_t,mt,pt,bt){var Et=mt!==null?mt.key:null;if(typeof pt=="string"&&pt!==""||typeof pt=="number")return Et!==null?null:st(_t,mt,""+pt,bt);if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case va:return pt.key===Et?lt(_t,mt,pt,bt):null;case wa:return pt.key===Et?ct(_t,mt,pt,bt):null;case Ha:return Et=pt._init,ht(_t,mt,Et(pt._payload),bt)}if(eb(pt)||Ka(pt))return Et!==null?null:ut(_t,mt,pt,bt,null);Mg(_t,pt)}return null}function dt(_t,mt,pt,bt,Et){if(typeof bt=="string"&&bt!==""||typeof bt=="number")return _t=_t.get(pt)||null,st(mt,_t,""+bt,Et);if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case va:return _t=_t.get(bt.key===null?pt:bt.key)||null,lt(mt,_t,bt,Et);case wa:return _t=_t.get(bt.key===null?pt:bt.key)||null,ct(mt,_t,bt,Et);case Ha:var St=bt._init;return dt(_t,mt,pt,St(bt._payload),Et)}if(eb(bt)||Ka(bt))return _t=_t.get(pt)||null,ut(mt,_t,bt,Et,null);Mg(mt,bt)}return null}function vt(_t,mt,pt,bt){for(var Et=null,St=null,Tt=mt,Pt=mt=0,Rt=null;Tt!==null&&Pt<pt.length;Pt++){Tt.index>Pt?(Rt=Tt,Tt=null):Rt=Tt.sibling;var It=ht(_t,Tt,pt[Pt],bt);if(It===null){Tt===null&&(Tt=Rt);break}et&&Tt&&It.alternate===null&&tt(_t,Tt),mt=at(It,mt,Pt),St===null?Et=It:St.sibling=It,St=It,Tt=Rt}if(Pt===pt.length)return rt(_t,Tt),I$1&&tg(_t,Pt),Et;if(Tt===null){for(;Pt<pt.length;Pt++)Tt=ft(_t,pt[Pt],bt),Tt!==null&&(mt=at(Tt,mt,Pt),St===null?Et=Tt:St.sibling=Tt,St=Tt);return I$1&&tg(_t,Pt),Et}for(Tt=nt(_t,Tt);Pt<pt.length;Pt++)Rt=dt(Tt,_t,Pt,pt[Pt],bt),Rt!==null&&(et&&Rt.alternate!==null&&Tt.delete(Rt.key===null?Pt:Rt.key),mt=at(Rt,mt,Pt),St===null?Et=Rt:St.sibling=Rt,St=Rt);return et&&Tt.forEach(function($t){return tt(_t,$t)}),I$1&&tg(_t,Pt),Et}function yt(_t,mt,pt,bt){var Et=Ka(pt);if(typeof Et!="function")throw Error(p$2(150));if(pt=Et.call(pt),pt==null)throw Error(p$2(151));for(var St=Et=null,Tt=mt,Pt=mt=0,Rt=null,It=pt.next();Tt!==null&&!It.done;Pt++,It=pt.next()){Tt.index>Pt?(Rt=Tt,Tt=null):Rt=Tt.sibling;var $t=ht(_t,Tt,It.value,bt);if($t===null){Tt===null&&(Tt=Rt);break}et&&Tt&&$t.alternate===null&&tt(_t,Tt),mt=at($t,mt,Pt),St===null?Et=$t:St.sibling=$t,St=$t,Tt=Rt}if(It.done)return rt(_t,Tt),I$1&&tg(_t,Pt),Et;if(Tt===null){for(;!It.done;Pt++,It=pt.next())It=ft(_t,It.value,bt),It!==null&&(mt=at(It,mt,Pt),St===null?Et=It:St.sibling=It,St=It);return I$1&&tg(_t,Pt),Et}for(Tt=nt(_t,Tt);!It.done;Pt++,It=pt.next())It=dt(Tt,_t,Pt,It.value,bt),It!==null&&(et&&It.alternate!==null&&Tt.delete(It.key===null?Pt:It.key),mt=at(It,mt,Pt),St===null?Et=It:St.sibling=It,St=It);return et&&Tt.forEach(function(kt){return tt(_t,kt)}),I$1&&tg(_t,Pt),Et}function xt(_t,mt,pt,bt){if(typeof pt=="object"&&pt!==null&&pt.type===ya&&pt.key===null&&(pt=pt.props.children),typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case va:e:{for(var Et=pt.key,St=mt;St!==null;){if(St.key===Et){if(Et=pt.type,Et===ya){if(St.tag===7){rt(_t,St.sibling),mt=it(St,pt.props.children),mt.return=_t,_t=mt;break e}}else if(St.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===Ha&&Ng(Et)===St.type){rt(_t,St.sibling),mt=it(St,pt.props),mt.ref=Lg(_t,St,pt),mt.return=_t,_t=mt;break e}rt(_t,St);break}else tt(_t,St);St=St.sibling}pt.type===ya?(mt=Tg(pt.props.children,_t.mode,bt,pt.key),mt.return=_t,_t=mt):(bt=Rg(pt.type,pt.key,pt.props,null,_t.mode,bt),bt.ref=Lg(_t,mt,pt),bt.return=_t,_t=bt)}return ot(_t);case wa:e:{for(St=pt.key;mt!==null;){if(mt.key===St)if(mt.tag===4&&mt.stateNode.containerInfo===pt.containerInfo&&mt.stateNode.implementation===pt.implementation){rt(_t,mt.sibling),mt=it(mt,pt.children||[]),mt.return=_t,_t=mt;break e}else{rt(_t,mt);break}else tt(_t,mt);mt=mt.sibling}mt=Sg(pt,_t.mode,bt),mt.return=_t,_t=mt}return ot(_t);case Ha:return St=pt._init,xt(_t,mt,St(pt._payload),bt)}if(eb(pt))return vt(_t,mt,pt,bt);if(Ka(pt))return yt(_t,mt,pt,bt);Mg(_t,pt)}return typeof pt=="string"&&pt!==""||typeof pt=="number"?(pt=""+pt,mt!==null&&mt.tag===6?(rt(_t,mt.sibling),mt=it(mt,pt),mt.return=_t,_t=mt):(rt(_t,mt),mt=Qg(pt,_t.mode,bt),mt.return=_t,_t=mt),ot(_t)):rt(_t,mt)}return xt}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(et){var tt=Wg.current;E(Wg),et._currentValue=tt}function bh(et,tt,rt){for(;et!==null;){var nt=et.alternate;if((et.childLanes&tt)!==tt?(et.childLanes|=tt,nt!==null&&(nt.childLanes|=tt)):nt!==null&&(nt.childLanes&tt)!==tt&&(nt.childLanes|=tt),et===rt)break;et=et.return}}function ch(et,tt){Xg=et,Zg=Yg=null,et=et.dependencies,et!==null&&et.firstContext!==null&&(et.lanes&tt&&(dh=!0),et.firstContext=null)}function eh(et){var tt=et._currentValue;if(Zg!==et)if(et={context:et,memoizedValue:tt,next:null},Yg===null){if(Xg===null)throw Error(p$2(308));Yg=et,Xg.dependencies={lanes:0,firstContext:et}}else Yg=Yg.next=et;return tt}var fh=null;function gh(et){fh===null?fh=[et]:fh.push(et)}function hh(et,tt,rt,nt){var it=tt.interleaved;return it===null?(rt.next=rt,gh(tt)):(rt.next=it.next,it.next=rt),tt.interleaved=rt,ih(et,nt)}function ih(et,tt){et.lanes|=tt;var rt=et.alternate;for(rt!==null&&(rt.lanes|=tt),rt=et,et=et.return;et!==null;)et.childLanes|=tt,rt=et.alternate,rt!==null&&(rt.childLanes|=tt),rt=et,et=et.return;return rt.tag===3?rt.stateNode:null}var jh=!1;function kh(et){et.updateQueue={baseState:et.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(et,tt){et=et.updateQueue,tt.updateQueue===et&&(tt.updateQueue={baseState:et.baseState,firstBaseUpdate:et.firstBaseUpdate,lastBaseUpdate:et.lastBaseUpdate,shared:et.shared,effects:et.effects})}function mh(et,tt){return{eventTime:et,lane:tt,tag:0,payload:null,callback:null,next:null}}function nh(et,tt,rt){var nt=et.updateQueue;if(nt===null)return null;if(nt=nt.shared,K&2){var it=nt.pending;return it===null?tt.next=tt:(tt.next=it.next,it.next=tt),nt.pending=tt,ih(et,rt)}return it=nt.interleaved,it===null?(tt.next=tt,gh(nt)):(tt.next=it.next,it.next=tt),nt.interleaved=tt,ih(et,rt)}function oh(et,tt,rt){if(tt=tt.updateQueue,tt!==null&&(tt=tt.shared,(rt&4194240)!==0)){var nt=tt.lanes;nt&=et.pendingLanes,rt|=nt,tt.lanes=rt,Cc(et,rt)}}function ph(et,tt){var rt=et.updateQueue,nt=et.alternate;if(nt!==null&&(nt=nt.updateQueue,rt===nt)){var it=null,at=null;if(rt=rt.firstBaseUpdate,rt!==null){do{var ot={eventTime:rt.eventTime,lane:rt.lane,tag:rt.tag,payload:rt.payload,callback:rt.callback,next:null};at===null?it=at=ot:at=at.next=ot,rt=rt.next}while(rt!==null);at===null?it=at=tt:at=at.next=tt}else it=at=tt;rt={baseState:nt.baseState,firstBaseUpdate:it,lastBaseUpdate:at,shared:nt.shared,effects:nt.effects},et.updateQueue=rt;return}et=rt.lastBaseUpdate,et===null?rt.firstBaseUpdate=tt:et.next=tt,rt.lastBaseUpdate=tt}function qh(et,tt,rt,nt){var it=et.updateQueue;jh=!1;var at=it.firstBaseUpdate,ot=it.lastBaseUpdate,st=it.shared.pending;if(st!==null){it.shared.pending=null;var lt=st,ct=lt.next;lt.next=null,ot===null?at=ct:ot.next=ct,ot=lt;var ut=et.alternate;ut!==null&&(ut=ut.updateQueue,st=ut.lastBaseUpdate,st!==ot&&(st===null?ut.firstBaseUpdate=ct:st.next=ct,ut.lastBaseUpdate=lt))}if(at!==null){var ft=it.baseState;ot=0,ut=ct=lt=null,st=at;do{var ht=st.lane,dt=st.eventTime;if((nt&ht)===ht){ut!==null&&(ut=ut.next={eventTime:dt,lane:0,tag:st.tag,payload:st.payload,callback:st.callback,next:null});e:{var vt=et,yt=st;switch(ht=tt,dt=rt,yt.tag){case 1:if(vt=yt.payload,typeof vt=="function"){ft=vt.call(dt,ft,ht);break e}ft=vt;break e;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=yt.payload,ht=typeof vt=="function"?vt.call(dt,ft,ht):vt,ht==null)break e;ft=A$2({},ft,ht);break e;case 2:jh=!0}}st.callback!==null&&st.lane!==0&&(et.flags|=64,ht=it.effects,ht===null?it.effects=[st]:ht.push(st))}else dt={eventTime:dt,lane:ht,tag:st.tag,payload:st.payload,callback:st.callback,next:null},ut===null?(ct=ut=dt,lt=ft):ut=ut.next=dt,ot|=ht;if(st=st.next,st===null){if(st=it.shared.pending,st===null)break;ht=st,st=ht.next,ht.next=null,it.lastBaseUpdate=ht,it.shared.pending=null}}while(!0);if(ut===null&&(lt=ft),it.baseState=lt,it.firstBaseUpdate=ct,it.lastBaseUpdate=ut,tt=it.shared.interleaved,tt!==null){it=tt;do ot|=it.lane,it=it.next;while(it!==tt)}else at===null&&(it.shared.lanes=0);rh|=ot,et.lanes=ot,et.memoizedState=ft}}function sh(et,tt,rt){if(et=tt.effects,tt.effects=null,et!==null)for(tt=0;tt<et.length;tt++){var nt=et[tt],it=nt.callback;if(it!==null){if(nt.callback=null,nt=rt,typeof it!="function")throw Error(p$2(191,it));it.call(nt)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(et){if(et===th)throw Error(p$2(174));return et}function yh(et,tt){switch(G$1(wh,tt),G$1(vh,et),G$1(uh,th),et=tt.nodeType,et){case 9:case 11:tt=(tt=tt.documentElement)?tt.namespaceURI:lb(null,"");break;default:et=et===8?tt.parentNode:tt,tt=et.namespaceURI||null,et=et.tagName,tt=lb(tt,et)}E(uh),G$1(uh,tt)}function zh(){E(uh),E(vh),E(wh)}function Ah(et){xh(wh.current);var tt=xh(uh.current),rt=lb(tt,et.type);tt!==rt&&(G$1(vh,et),G$1(uh,rt))}function Bh(et){vh.current===et&&(E(uh),E(vh))}var L=Uf(0);function Ch(et){for(var tt=et;tt!==null;){if(tt.tag===13){var rt=tt.memoizedState;if(rt!==null&&(rt=rt.dehydrated,rt===null||rt.data==="$?"||rt.data==="$!"))return tt}else if(tt.tag===19&&tt.memoizedProps.revealOrder!==void 0){if(tt.flags&128)return tt}else if(tt.child!==null){tt.child.return=tt,tt=tt.child;continue}if(tt===et)break;for(;tt.sibling===null;){if(tt.return===null||tt.return===et)return null;tt=tt.return}tt.sibling.return=tt.return,tt=tt.sibling}return null}var Dh=[];function Eh(){for(var et=0;et<Dh.length;et++)Dh[et]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M$1=null,N=null,O$1=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P$2(){throw Error(p$2(321))}function Mh(et,tt){if(tt===null)return!1;for(var rt=0;rt<tt.length&&rt<et.length;rt++)if(!He(et[rt],tt[rt]))return!1;return!0}function Nh(et,tt,rt,nt,it,at){if(Hh=at,M$1=tt,tt.memoizedState=null,tt.updateQueue=null,tt.lanes=0,Fh.current=et===null||et.memoizedState===null?Oh:Ph,et=rt(nt,it),Jh){at=0;do{if(Jh=!1,Kh=0,25<=at)throw Error(p$2(301));at+=1,O$1=N=null,tt.updateQueue=null,Fh.current=Qh,et=rt(nt,it)}while(Jh)}if(Fh.current=Rh,tt=N!==null&&N.next!==null,Hh=0,O$1=N=M$1=null,Ih=!1,tt)throw Error(p$2(300));return et}function Sh(){var et=Kh!==0;return Kh=0,et}function Th(){var et={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O$1===null?M$1.memoizedState=O$1=et:O$1=O$1.next=et,O$1}function Uh(){if(N===null){var et=M$1.alternate;et=et!==null?et.memoizedState:null}else et=N.next;var tt=O$1===null?M$1.memoizedState:O$1.next;if(tt!==null)O$1=tt,N=et;else{if(et===null)throw Error(p$2(310));N=et,et={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O$1===null?M$1.memoizedState=O$1=et:O$1=O$1.next=et}return O$1}function Vh(et,tt){return typeof tt=="function"?tt(et):tt}function Wh(et){var tt=Uh(),rt=tt.queue;if(rt===null)throw Error(p$2(311));rt.lastRenderedReducer=et;var nt=N,it=nt.baseQueue,at=rt.pending;if(at!==null){if(it!==null){var ot=it.next;it.next=at.next,at.next=ot}nt.baseQueue=it=at,rt.pending=null}if(it!==null){at=it.next,nt=nt.baseState;var st=ot=null,lt=null,ct=at;do{var ut=ct.lane;if((Hh&ut)===ut)lt!==null&&(lt=lt.next={lane:0,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null}),nt=ct.hasEagerState?ct.eagerState:et(nt,ct.action);else{var ft={lane:ut,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null};lt===null?(st=lt=ft,ot=nt):lt=lt.next=ft,M$1.lanes|=ut,rh|=ut}ct=ct.next}while(ct!==null&&ct!==at);lt===null?ot=nt:lt.next=st,He(nt,tt.memoizedState)||(dh=!0),tt.memoizedState=nt,tt.baseState=ot,tt.baseQueue=lt,rt.lastRenderedState=nt}if(et=rt.interleaved,et!==null){it=et;do at=it.lane,M$1.lanes|=at,rh|=at,it=it.next;while(it!==et)}else it===null&&(rt.lanes=0);return[tt.memoizedState,rt.dispatch]}function Xh(et){var tt=Uh(),rt=tt.queue;if(rt===null)throw Error(p$2(311));rt.lastRenderedReducer=et;var nt=rt.dispatch,it=rt.pending,at=tt.memoizedState;if(it!==null){rt.pending=null;var ot=it=it.next;do at=et(at,ot.action),ot=ot.next;while(ot!==it);He(at,tt.memoizedState)||(dh=!0),tt.memoizedState=at,tt.baseQueue===null&&(tt.baseState=at),rt.lastRenderedState=at}return[at,nt]}function Yh(){}function Zh(et,tt){var rt=M$1,nt=Uh(),it=tt(),at=!He(nt.memoizedState,it);if(at&&(nt.memoizedState=it,dh=!0),nt=nt.queue,$h(ai.bind(null,rt,nt,et),[et]),nt.getSnapshot!==tt||at||O$1!==null&&O$1.memoizedState.tag&1){if(rt.flags|=2048,bi(9,ci.bind(null,rt,nt,it,tt),void 0,null),Q$1===null)throw Error(p$2(349));Hh&30||di(rt,tt,it)}return it}function di(et,tt,rt){et.flags|=16384,et={getSnapshot:tt,value:rt},tt=M$1.updateQueue,tt===null?(tt={lastEffect:null,stores:null},M$1.updateQueue=tt,tt.stores=[et]):(rt=tt.stores,rt===null?tt.stores=[et]:rt.push(et))}function ci(et,tt,rt,nt){tt.value=rt,tt.getSnapshot=nt,ei(tt)&&fi(et)}function ai(et,tt,rt){return rt(function(){ei(tt)&&fi(et)})}function ei(et){var tt=et.getSnapshot;et=et.value;try{var rt=tt();return!He(et,rt)}catch{return!0}}function fi(et){var tt=ih(et,1);tt!==null&&gi(tt,et,1,-1)}function hi(et){var tt=Th();return typeof et=="function"&&(et=et()),tt.memoizedState=tt.baseState=et,et={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:et},tt.queue=et,et=et.dispatch=ii.bind(null,M$1,et),[tt.memoizedState,et]}function bi(et,tt,rt,nt){return et={tag:et,create:tt,destroy:rt,deps:nt,next:null},tt=M$1.updateQueue,tt===null?(tt={lastEffect:null,stores:null},M$1.updateQueue=tt,tt.lastEffect=et.next=et):(rt=tt.lastEffect,rt===null?tt.lastEffect=et.next=et:(nt=rt.next,rt.next=et,et.next=nt,tt.lastEffect=et)),et}function ji(){return Uh().memoizedState}function ki(et,tt,rt,nt){var it=Th();M$1.flags|=et,it.memoizedState=bi(1|tt,rt,void 0,nt===void 0?null:nt)}function li(et,tt,rt,nt){var it=Uh();nt=nt===void 0?null:nt;var at=void 0;if(N!==null){var ot=N.memoizedState;if(at=ot.destroy,nt!==null&&Mh(nt,ot.deps)){it.memoizedState=bi(tt,rt,at,nt);return}}M$1.flags|=et,it.memoizedState=bi(1|tt,rt,at,nt)}function mi(et,tt){return ki(8390656,8,et,tt)}function $h(et,tt){return li(2048,8,et,tt)}function ni(et,tt){return li(4,2,et,tt)}function oi(et,tt){return li(4,4,et,tt)}function pi$2(et,tt){if(typeof tt=="function")return et=et(),tt(et),function(){tt(null)};if(tt!=null)return et=et(),tt.current=et,function(){tt.current=null}}function qi(et,tt,rt){return rt=rt!=null?rt.concat([et]):null,li(4,4,pi$2.bind(null,tt,et),rt)}function ri(){}function si(et,tt){var rt=Uh();tt=tt===void 0?null:tt;var nt=rt.memoizedState;return nt!==null&&tt!==null&&Mh(tt,nt[1])?nt[0]:(rt.memoizedState=[et,tt],et)}function ti(et,tt){var rt=Uh();tt=tt===void 0?null:tt;var nt=rt.memoizedState;return nt!==null&&tt!==null&&Mh(tt,nt[1])?nt[0]:(et=et(),rt.memoizedState=[et,tt],et)}function ui(et,tt,rt){return Hh&21?(He(rt,tt)||(rt=yc(),M$1.lanes|=rt,rh|=rt,et.baseState=!0),tt):(et.baseState&&(et.baseState=!1,dh=!0),et.memoizedState=rt)}function vi(et,tt){var rt=C$1;C$1=rt!==0&&4>rt?rt:4,et(!0);var nt=Gh.transition;Gh.transition={};try{et(!1),tt()}finally{C$1=rt,Gh.transition=nt}}function wi(){return Uh().memoizedState}function xi(et,tt,rt){var nt=yi(et);if(rt={lane:nt,action:rt,hasEagerState:!1,eagerState:null,next:null},zi(et))Ai(tt,rt);else if(rt=hh(et,tt,rt,nt),rt!==null){var it=R();gi(rt,et,nt,it),Bi(rt,tt,nt)}}function ii(et,tt,rt){var nt=yi(et),it={lane:nt,action:rt,hasEagerState:!1,eagerState:null,next:null};if(zi(et))Ai(tt,it);else{var at=et.alternate;if(et.lanes===0&&(at===null||at.lanes===0)&&(at=tt.lastRenderedReducer,at!==null))try{var ot=tt.lastRenderedState,st=at(ot,rt);if(it.hasEagerState=!0,it.eagerState=st,He(st,ot)){var lt=tt.interleaved;lt===null?(it.next=it,gh(tt)):(it.next=lt.next,lt.next=it),tt.interleaved=it;return}}catch{}finally{}rt=hh(et,tt,it,nt),rt!==null&&(it=R(),gi(rt,et,nt,it),Bi(rt,tt,nt))}}function zi(et){var tt=et.alternate;return et===M$1||tt!==null&&tt===M$1}function Ai(et,tt){Jh=Ih=!0;var rt=et.pending;rt===null?tt.next=tt:(tt.next=rt.next,rt.next=tt),et.pending=tt}function Bi(et,tt,rt){if(rt&4194240){var nt=tt.lanes;nt&=et.pendingLanes,rt|=nt,tt.lanes=rt,Cc(et,rt)}}var Rh={readContext:eh,useCallback:P$2,useContext:P$2,useEffect:P$2,useImperativeHandle:P$2,useInsertionEffect:P$2,useLayoutEffect:P$2,useMemo:P$2,useReducer:P$2,useRef:P$2,useState:P$2,useDebugValue:P$2,useDeferredValue:P$2,useTransition:P$2,useMutableSource:P$2,useSyncExternalStore:P$2,useId:P$2,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(et,tt){return Th().memoizedState=[et,tt===void 0?null:tt],et},useContext:eh,useEffect:mi,useImperativeHandle:function(et,tt,rt){return rt=rt!=null?rt.concat([et]):null,ki(4194308,4,pi$2.bind(null,tt,et),rt)},useLayoutEffect:function(et,tt){return ki(4194308,4,et,tt)},useInsertionEffect:function(et,tt){return ki(4,2,et,tt)},useMemo:function(et,tt){var rt=Th();return tt=tt===void 0?null:tt,et=et(),rt.memoizedState=[et,tt],et},useReducer:function(et,tt,rt){var nt=Th();return tt=rt!==void 0?rt(tt):tt,nt.memoizedState=nt.baseState=tt,et={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:et,lastRenderedState:tt},nt.queue=et,et=et.dispatch=xi.bind(null,M$1,et),[nt.memoizedState,et]},useRef:function(et){var tt=Th();return et={current:et},tt.memoizedState=et},useState:hi,useDebugValue:ri,useDeferredValue:function(et){return Th().memoizedState=et},useTransition:function(){var et=hi(!1),tt=et[0];return et=vi.bind(null,et[1]),Th().memoizedState=et,[tt,et]},useMutableSource:function(){},useSyncExternalStore:function(et,tt,rt){var nt=M$1,it=Th();if(I$1){if(rt===void 0)throw Error(p$2(407));rt=rt()}else{if(rt=tt(),Q$1===null)throw Error(p$2(349));Hh&30||di(nt,tt,rt)}it.memoizedState=rt;var at={value:rt,getSnapshot:tt};return it.queue=at,mi(ai.bind(null,nt,at,et),[et]),nt.flags|=2048,bi(9,ci.bind(null,nt,at,rt,tt),void 0,null),rt},useId:function(){var et=Th(),tt=Q$1.identifierPrefix;if(I$1){var rt=sg,nt=rg;rt=(nt&~(1<<32-oc(nt)-1)).toString(32)+rt,tt=":"+tt+"R"+rt,rt=Kh++,0<rt&&(tt+="H"+rt.toString(32)),tt+=":"}else rt=Lh++,tt=":"+tt+"r"+rt.toString(32)+":";return et.memoizedState=tt},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(et){var tt=Uh();return ui(tt,N.memoizedState,et)},useTransition:function(){var et=Wh(Vh)[0],tt=Uh().memoizedState;return[et,tt]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(et){var tt=Uh();return N===null?tt.memoizedState=et:ui(tt,N.memoizedState,et)},useTransition:function(){var et=Xh(Vh)[0],tt=Uh().memoizedState;return[et,tt]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(et,tt){if(et&&et.defaultProps){tt=A$2({},tt),et=et.defaultProps;for(var rt in et)tt[rt]===void 0&&(tt[rt]=et[rt]);return tt}return tt}function Di(et,tt,rt,nt){tt=et.memoizedState,rt=rt(nt,tt),rt=rt==null?tt:A$2({},tt,rt),et.memoizedState=rt,et.lanes===0&&(et.updateQueue.baseState=rt)}var Ei={isMounted:function(et){return(et=et._reactInternals)?Vb(et)===et:!1},enqueueSetState:function(et,tt,rt){et=et._reactInternals;var nt=R(),it=yi(et),at=mh(nt,it);at.payload=tt,rt!=null&&(at.callback=rt),tt=nh(et,at,it),tt!==null&&(gi(tt,et,it,nt),oh(tt,et,it))},enqueueReplaceState:function(et,tt,rt){et=et._reactInternals;var nt=R(),it=yi(et),at=mh(nt,it);at.tag=1,at.payload=tt,rt!=null&&(at.callback=rt),tt=nh(et,at,it),tt!==null&&(gi(tt,et,it,nt),oh(tt,et,it))},enqueueForceUpdate:function(et,tt){et=et._reactInternals;var rt=R(),nt=yi(et),it=mh(rt,nt);it.tag=2,tt!=null&&(it.callback=tt),tt=nh(et,it,nt),tt!==null&&(gi(tt,et,nt,rt),oh(tt,et,nt))}};function Fi(et,tt,rt,nt,it,at,ot){return et=et.stateNode,typeof et.shouldComponentUpdate=="function"?et.shouldComponentUpdate(nt,at,ot):tt.prototype&&tt.prototype.isPureReactComponent?!Ie$1(rt,nt)||!Ie$1(it,at):!0}function Gi(et,tt,rt){var nt=!1,it=Vf,at=tt.contextType;return typeof at=="object"&&at!==null?at=eh(at):(it=Zf(tt)?Xf:H.current,nt=tt.contextTypes,at=(nt=nt!=null)?Yf(et,it):Vf),tt=new tt(rt,at),et.memoizedState=tt.state!==null&&tt.state!==void 0?tt.state:null,tt.updater=Ei,et.stateNode=tt,tt._reactInternals=et,nt&&(et=et.stateNode,et.__reactInternalMemoizedUnmaskedChildContext=it,et.__reactInternalMemoizedMaskedChildContext=at),tt}function Hi(et,tt,rt,nt){et=tt.state,typeof tt.componentWillReceiveProps=="function"&&tt.componentWillReceiveProps(rt,nt),typeof tt.UNSAFE_componentWillReceiveProps=="function"&&tt.UNSAFE_componentWillReceiveProps(rt,nt),tt.state!==et&&Ei.enqueueReplaceState(tt,tt.state,null)}function Ii(et,tt,rt,nt){var it=et.stateNode;it.props=rt,it.state=et.memoizedState,it.refs={},kh(et);var at=tt.contextType;typeof at=="object"&&at!==null?it.context=eh(at):(at=Zf(tt)?Xf:H.current,it.context=Yf(et,at)),it.state=et.memoizedState,at=tt.getDerivedStateFromProps,typeof at=="function"&&(Di(et,tt,at,rt),it.state=et.memoizedState),typeof tt.getDerivedStateFromProps=="function"||typeof it.getSnapshotBeforeUpdate=="function"||typeof it.UNSAFE_componentWillMount!="function"&&typeof it.componentWillMount!="function"||(tt=it.state,typeof it.componentWillMount=="function"&&it.componentWillMount(),typeof it.UNSAFE_componentWillMount=="function"&&it.UNSAFE_componentWillMount(),tt!==it.state&&Ei.enqueueReplaceState(it,it.state,null),qh(et,rt,it,nt),it.state=et.memoizedState),typeof it.componentDidMount=="function"&&(et.flags|=4194308)}function Ji(et,tt){try{var rt="",nt=tt;do rt+=Pa(nt),nt=nt.return;while(nt);var it=rt}catch(at){it=`
Error generating stack: `+at.message+`
`+at.stack}return{value:et,source:tt,stack:it,digest:null}}function Ki(et,tt,rt){return{value:et,source:null,stack:rt??null,digest:tt??null}}function Li(et,tt){try{console.error(tt.value)}catch(rt){setTimeout(function(){throw rt})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(et,tt,rt){rt=mh(-1,rt),rt.tag=3,rt.payload={element:null};var nt=tt.value;return rt.callback=function(){Oi||(Oi=!0,Pi=nt),Li(et,tt)},rt}function Qi(et,tt,rt){rt=mh(-1,rt),rt.tag=3;var nt=et.type.getDerivedStateFromError;if(typeof nt=="function"){var it=tt.value;rt.payload=function(){return nt(it)},rt.callback=function(){Li(et,tt)}}var at=et.stateNode;return at!==null&&typeof at.componentDidCatch=="function"&&(rt.callback=function(){Li(et,tt),typeof nt!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var ot=tt.stack;this.componentDidCatch(tt.value,{componentStack:ot!==null?ot:""})}),rt}function Si(et,tt,rt){var nt=et.pingCache;if(nt===null){nt=et.pingCache=new Mi;var it=new Set;nt.set(tt,it)}else it=nt.get(tt),it===void 0&&(it=new Set,nt.set(tt,it));it.has(rt)||(it.add(rt),et=Ti.bind(null,et,tt,rt),tt.then(et,et))}function Ui(et){do{var tt;if((tt=et.tag===13)&&(tt=et.memoizedState,tt=tt!==null?tt.dehydrated!==null:!0),tt)return et;et=et.return}while(et!==null);return null}function Vi(et,tt,rt,nt,it){return et.mode&1?(et.flags|=65536,et.lanes=it,et):(et===tt?et.flags|=65536:(et.flags|=128,rt.flags|=131072,rt.flags&=-52805,rt.tag===1&&(rt.alternate===null?rt.tag=17:(tt=mh(-1,1),tt.tag=2,nh(rt,tt,1))),rt.lanes|=1),et)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(et,tt,rt,nt){tt.child=et===null?Vg(tt,null,rt,nt):Ug(tt,et.child,rt,nt)}function Yi(et,tt,rt,nt,it){rt=rt.render;var at=tt.ref;return ch(tt,it),nt=Nh(et,tt,rt,nt,at,it),rt=Sh(),et!==null&&!dh?(tt.updateQueue=et.updateQueue,tt.flags&=-2053,et.lanes&=~it,Zi(et,tt,it)):(I$1&&rt&&vg(tt),tt.flags|=1,Xi(et,tt,nt,it),tt.child)}function $i(et,tt,rt,nt,it){if(et===null){var at=rt.type;return typeof at=="function"&&!aj(at)&&at.defaultProps===void 0&&rt.compare===null&&rt.defaultProps===void 0?(tt.tag=15,tt.type=at,bj(et,tt,at,nt,it)):(et=Rg(rt.type,null,nt,tt,tt.mode,it),et.ref=tt.ref,et.return=tt,tt.child=et)}if(at=et.child,!(et.lanes&it)){var ot=at.memoizedProps;if(rt=rt.compare,rt=rt!==null?rt:Ie$1,rt(ot,nt)&&et.ref===tt.ref)return Zi(et,tt,it)}return tt.flags|=1,et=Pg(at,nt),et.ref=tt.ref,et.return=tt,tt.child=et}function bj(et,tt,rt,nt,it){if(et!==null){var at=et.memoizedProps;if(Ie$1(at,nt)&&et.ref===tt.ref)if(dh=!1,tt.pendingProps=nt=at,(et.lanes&it)!==0)et.flags&131072&&(dh=!0);else return tt.lanes=et.lanes,Zi(et,tt,it)}return cj(et,tt,rt,nt,it)}function dj(et,tt,rt){var nt=tt.pendingProps,it=nt.children,at=et!==null?et.memoizedState:null;if(nt.mode==="hidden")if(!(tt.mode&1))tt.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$1(ej,fj),fj|=rt;else{if(!(rt&1073741824))return et=at!==null?at.baseLanes|rt:rt,tt.lanes=tt.childLanes=1073741824,tt.memoizedState={baseLanes:et,cachePool:null,transitions:null},tt.updateQueue=null,G$1(ej,fj),fj|=et,null;tt.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt=at!==null?at.baseLanes:rt,G$1(ej,fj),fj|=nt}else at!==null?(nt=at.baseLanes|rt,tt.memoizedState=null):nt=rt,G$1(ej,fj),fj|=nt;return Xi(et,tt,it,rt),tt.child}function gj(et,tt){var rt=tt.ref;(et===null&&rt!==null||et!==null&&et.ref!==rt)&&(tt.flags|=512,tt.flags|=2097152)}function cj(et,tt,rt,nt,it){var at=Zf(rt)?Xf:H.current;return at=Yf(tt,at),ch(tt,it),rt=Nh(et,tt,rt,nt,at,it),nt=Sh(),et!==null&&!dh?(tt.updateQueue=et.updateQueue,tt.flags&=-2053,et.lanes&=~it,Zi(et,tt,it)):(I$1&&nt&&vg(tt),tt.flags|=1,Xi(et,tt,rt,it),tt.child)}function hj(et,tt,rt,nt,it){if(Zf(rt)){var at=!0;cg(tt)}else at=!1;if(ch(tt,it),tt.stateNode===null)ij(et,tt),Gi(tt,rt,nt),Ii(tt,rt,nt,it),nt=!0;else if(et===null){var ot=tt.stateNode,st=tt.memoizedProps;ot.props=st;var lt=ot.context,ct=rt.contextType;typeof ct=="object"&&ct!==null?ct=eh(ct):(ct=Zf(rt)?Xf:H.current,ct=Yf(tt,ct));var ut=rt.getDerivedStateFromProps,ft=typeof ut=="function"||typeof ot.getSnapshotBeforeUpdate=="function";ft||typeof ot.UNSAFE_componentWillReceiveProps!="function"&&typeof ot.componentWillReceiveProps!="function"||(st!==nt||lt!==ct)&&Hi(tt,ot,nt,ct),jh=!1;var ht=tt.memoizedState;ot.state=ht,qh(tt,nt,ot,it),lt=tt.memoizedState,st!==nt||ht!==lt||Wf.current||jh?(typeof ut=="function"&&(Di(tt,rt,ut,nt),lt=tt.memoizedState),(st=jh||Fi(tt,rt,st,nt,ht,lt,ct))?(ft||typeof ot.UNSAFE_componentWillMount!="function"&&typeof ot.componentWillMount!="function"||(typeof ot.componentWillMount=="function"&&ot.componentWillMount(),typeof ot.UNSAFE_componentWillMount=="function"&&ot.UNSAFE_componentWillMount()),typeof ot.componentDidMount=="function"&&(tt.flags|=4194308)):(typeof ot.componentDidMount=="function"&&(tt.flags|=4194308),tt.memoizedProps=nt,tt.memoizedState=lt),ot.props=nt,ot.state=lt,ot.context=ct,nt=st):(typeof ot.componentDidMount=="function"&&(tt.flags|=4194308),nt=!1)}else{ot=tt.stateNode,lh(et,tt),st=tt.memoizedProps,ct=tt.type===tt.elementType?st:Ci(tt.type,st),ot.props=ct,ft=tt.pendingProps,ht=ot.context,lt=rt.contextType,typeof lt=="object"&&lt!==null?lt=eh(lt):(lt=Zf(rt)?Xf:H.current,lt=Yf(tt,lt));var dt=rt.getDerivedStateFromProps;(ut=typeof dt=="function"||typeof ot.getSnapshotBeforeUpdate=="function")||typeof ot.UNSAFE_componentWillReceiveProps!="function"&&typeof ot.componentWillReceiveProps!="function"||(st!==ft||ht!==lt)&&Hi(tt,ot,nt,lt),jh=!1,ht=tt.memoizedState,ot.state=ht,qh(tt,nt,ot,it);var vt=tt.memoizedState;st!==ft||ht!==vt||Wf.current||jh?(typeof dt=="function"&&(Di(tt,rt,dt,nt),vt=tt.memoizedState),(ct=jh||Fi(tt,rt,ct,nt,ht,vt,lt)||!1)?(ut||typeof ot.UNSAFE_componentWillUpdate!="function"&&typeof ot.componentWillUpdate!="function"||(typeof ot.componentWillUpdate=="function"&&ot.componentWillUpdate(nt,vt,lt),typeof ot.UNSAFE_componentWillUpdate=="function"&&ot.UNSAFE_componentWillUpdate(nt,vt,lt)),typeof ot.componentDidUpdate=="function"&&(tt.flags|=4),typeof ot.getSnapshotBeforeUpdate=="function"&&(tt.flags|=1024)):(typeof ot.componentDidUpdate!="function"||st===et.memoizedProps&&ht===et.memoizedState||(tt.flags|=4),typeof ot.getSnapshotBeforeUpdate!="function"||st===et.memoizedProps&&ht===et.memoizedState||(tt.flags|=1024),tt.memoizedProps=nt,tt.memoizedState=vt),ot.props=nt,ot.state=vt,ot.context=lt,nt=ct):(typeof ot.componentDidUpdate!="function"||st===et.memoizedProps&&ht===et.memoizedState||(tt.flags|=4),typeof ot.getSnapshotBeforeUpdate!="function"||st===et.memoizedProps&&ht===et.memoizedState||(tt.flags|=1024),nt=!1)}return jj(et,tt,rt,nt,at,it)}function jj(et,tt,rt,nt,it,at){gj(et,tt);var ot=(tt.flags&128)!==0;if(!nt&&!ot)return it&&dg(tt,rt,!1),Zi(et,tt,at);nt=tt.stateNode,Wi.current=tt;var st=ot&&typeof rt.getDerivedStateFromError!="function"?null:nt.render();return tt.flags|=1,et!==null&&ot?(tt.child=Ug(tt,et.child,null,at),tt.child=Ug(tt,null,st,at)):Xi(et,tt,st,at),tt.memoizedState=nt.state,it&&dg(tt,rt,!0),tt.child}function kj(et){var tt=et.stateNode;tt.pendingContext?ag(et,tt.pendingContext,tt.pendingContext!==tt.context):tt.context&&ag(et,tt.context,!1),yh(et,tt.containerInfo)}function lj(et,tt,rt,nt,it){return Ig(),Jg(it),tt.flags|=256,Xi(et,tt,rt,nt),tt.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(et){return{baseLanes:et,cachePool:null,transitions:null}}function oj(et,tt,rt){var nt=tt.pendingProps,it=L.current,at=!1,ot=(tt.flags&128)!==0,st;if((st=ot)||(st=et!==null&&et.memoizedState===null?!1:(it&2)!==0),st?(at=!0,tt.flags&=-129):(et===null||et.memoizedState!==null)&&(it|=1),G$1(L,it&1),et===null)return Eg(tt),et=tt.memoizedState,et!==null&&(et=et.dehydrated,et!==null)?(tt.mode&1?et.data==="$!"?tt.lanes=8:tt.lanes=1073741824:tt.lanes=1,null):(ot=nt.children,et=nt.fallback,at?(nt=tt.mode,at=tt.child,ot={mode:"hidden",children:ot},!(nt&1)&&at!==null?(at.childLanes=0,at.pendingProps=ot):at=pj(ot,nt,0,null),et=Tg(et,nt,rt,null),at.return=tt,et.return=tt,at.sibling=et,tt.child=at,tt.child.memoizedState=nj(rt),tt.memoizedState=mj,et):qj(tt,ot));if(it=et.memoizedState,it!==null&&(st=it.dehydrated,st!==null))return rj(et,tt,ot,nt,st,it,rt);if(at){at=nt.fallback,ot=tt.mode,it=et.child,st=it.sibling;var lt={mode:"hidden",children:nt.children};return!(ot&1)&&tt.child!==it?(nt=tt.child,nt.childLanes=0,nt.pendingProps=lt,tt.deletions=null):(nt=Pg(it,lt),nt.subtreeFlags=it.subtreeFlags&14680064),st!==null?at=Pg(st,at):(at=Tg(at,ot,rt,null),at.flags|=2),at.return=tt,nt.return=tt,nt.sibling=at,tt.child=nt,nt=at,at=tt.child,ot=et.child.memoizedState,ot=ot===null?nj(rt):{baseLanes:ot.baseLanes|rt,cachePool:null,transitions:ot.transitions},at.memoizedState=ot,at.childLanes=et.childLanes&~rt,tt.memoizedState=mj,nt}return at=et.child,et=at.sibling,nt=Pg(at,{mode:"visible",children:nt.children}),!(tt.mode&1)&&(nt.lanes=rt),nt.return=tt,nt.sibling=null,et!==null&&(rt=tt.deletions,rt===null?(tt.deletions=[et],tt.flags|=16):rt.push(et)),tt.child=nt,tt.memoizedState=null,nt}function qj(et,tt){return tt=pj({mode:"visible",children:tt},et.mode,0,null),tt.return=et,et.child=tt}function sj(et,tt,rt,nt){return nt!==null&&Jg(nt),Ug(tt,et.child,null,rt),et=qj(tt,tt.pendingProps.children),et.flags|=2,tt.memoizedState=null,et}function rj(et,tt,rt,nt,it,at,ot){if(rt)return tt.flags&256?(tt.flags&=-257,nt=Ki(Error(p$2(422))),sj(et,tt,ot,nt)):tt.memoizedState!==null?(tt.child=et.child,tt.flags|=128,null):(at=nt.fallback,it=tt.mode,nt=pj({mode:"visible",children:nt.children},it,0,null),at=Tg(at,it,ot,null),at.flags|=2,nt.return=tt,at.return=tt,nt.sibling=at,tt.child=nt,tt.mode&1&&Ug(tt,et.child,null,ot),tt.child.memoizedState=nj(ot),tt.memoizedState=mj,at);if(!(tt.mode&1))return sj(et,tt,ot,null);if(it.data==="$!"){if(nt=it.nextSibling&&it.nextSibling.dataset,nt)var st=nt.dgst;return nt=st,at=Error(p$2(419)),nt=Ki(at,nt,void 0),sj(et,tt,ot,nt)}if(st=(ot&et.childLanes)!==0,dh||st){if(nt=Q$1,nt!==null){switch(ot&-ot){case 4:it=2;break;case 16:it=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:it=32;break;case 536870912:it=268435456;break;default:it=0}it=it&(nt.suspendedLanes|ot)?0:it,it!==0&&it!==at.retryLane&&(at.retryLane=it,ih(et,it),gi(nt,et,it,-1))}return tj(),nt=Ki(Error(p$2(421))),sj(et,tt,ot,nt)}return it.data==="$?"?(tt.flags|=128,tt.child=et.child,tt=uj.bind(null,et),it._reactRetry=tt,null):(et=at.treeContext,yg=Lf(it.nextSibling),xg=tt,I$1=!0,zg=null,et!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=et.id,sg=et.overflow,qg=tt),tt=qj(tt,nt.children),tt.flags|=4096,tt)}function vj(et,tt,rt){et.lanes|=tt;var nt=et.alternate;nt!==null&&(nt.lanes|=tt),bh(et.return,tt,rt)}function wj(et,tt,rt,nt,it){var at=et.memoizedState;at===null?et.memoizedState={isBackwards:tt,rendering:null,renderingStartTime:0,last:nt,tail:rt,tailMode:it}:(at.isBackwards=tt,at.rendering=null,at.renderingStartTime=0,at.last=nt,at.tail=rt,at.tailMode=it)}function xj(et,tt,rt){var nt=tt.pendingProps,it=nt.revealOrder,at=nt.tail;if(Xi(et,tt,nt.children,rt),nt=L.current,nt&2)nt=nt&1|2,tt.flags|=128;else{if(et!==null&&et.flags&128)e:for(et=tt.child;et!==null;){if(et.tag===13)et.memoizedState!==null&&vj(et,rt,tt);else if(et.tag===19)vj(et,rt,tt);else if(et.child!==null){et.child.return=et,et=et.child;continue}if(et===tt)break e;for(;et.sibling===null;){if(et.return===null||et.return===tt)break e;et=et.return}et.sibling.return=et.return,et=et.sibling}nt&=1}if(G$1(L,nt),!(tt.mode&1))tt.memoizedState=null;else switch(it){case"forwards":for(rt=tt.child,it=null;rt!==null;)et=rt.alternate,et!==null&&Ch(et)===null&&(it=rt),rt=rt.sibling;rt=it,rt===null?(it=tt.child,tt.child=null):(it=rt.sibling,rt.sibling=null),wj(tt,!1,it,rt,at);break;case"backwards":for(rt=null,it=tt.child,tt.child=null;it!==null;){if(et=it.alternate,et!==null&&Ch(et)===null){tt.child=it;break}et=it.sibling,it.sibling=rt,rt=it,it=et}wj(tt,!0,rt,null,at);break;case"together":wj(tt,!1,null,null,void 0);break;default:tt.memoizedState=null}return tt.child}function ij(et,tt){!(tt.mode&1)&&et!==null&&(et.alternate=null,tt.alternate=null,tt.flags|=2)}function Zi(et,tt,rt){if(et!==null&&(tt.dependencies=et.dependencies),rh|=tt.lanes,!(rt&tt.childLanes))return null;if(et!==null&&tt.child!==et.child)throw Error(p$2(153));if(tt.child!==null){for(et=tt.child,rt=Pg(et,et.pendingProps),tt.child=rt,rt.return=tt;et.sibling!==null;)et=et.sibling,rt=rt.sibling=Pg(et,et.pendingProps),rt.return=tt;rt.sibling=null}return tt.child}function yj(et,tt,rt){switch(tt.tag){case 3:kj(tt),Ig();break;case 5:Ah(tt);break;case 1:Zf(tt.type)&&cg(tt);break;case 4:yh(tt,tt.stateNode.containerInfo);break;case 10:var nt=tt.type._context,it=tt.memoizedProps.value;G$1(Wg,nt._currentValue),nt._currentValue=it;break;case 13:if(nt=tt.memoizedState,nt!==null)return nt.dehydrated!==null?(G$1(L,L.current&1),tt.flags|=128,null):rt&tt.child.childLanes?oj(et,tt,rt):(G$1(L,L.current&1),et=Zi(et,tt,rt),et!==null?et.sibling:null);G$1(L,L.current&1);break;case 19:if(nt=(rt&tt.childLanes)!==0,et.flags&128){if(nt)return xj(et,tt,rt);tt.flags|=128}if(it=tt.memoizedState,it!==null&&(it.rendering=null,it.tail=null,it.lastEffect=null),G$1(L,L.current),nt)break;return null;case 22:case 23:return tt.lanes=0,dj(et,tt,rt)}return Zi(et,tt,rt)}var zj,Aj,Bj,Cj;zj=function(et,tt){for(var rt=tt.child;rt!==null;){if(rt.tag===5||rt.tag===6)et.appendChild(rt.stateNode);else if(rt.tag!==4&&rt.child!==null){rt.child.return=rt,rt=rt.child;continue}if(rt===tt)break;for(;rt.sibling===null;){if(rt.return===null||rt.return===tt)return;rt=rt.return}rt.sibling.return=rt.return,rt=rt.sibling}};Aj=function(){};Bj=function(et,tt,rt,nt){var it=et.memoizedProps;if(it!==nt){et=tt.stateNode,xh(uh.current);var at=null;switch(rt){case"input":it=Ya(et,it),nt=Ya(et,nt),at=[];break;case"select":it=A$2({},it,{value:void 0}),nt=A$2({},nt,{value:void 0}),at=[];break;case"textarea":it=gb(et,it),nt=gb(et,nt),at=[];break;default:typeof it.onClick!="function"&&typeof nt.onClick=="function"&&(et.onclick=Bf)}ub(rt,nt);var ot;rt=null;for(ct in it)if(!nt.hasOwnProperty(ct)&&it.hasOwnProperty(ct)&&it[ct]!=null)if(ct==="style"){var st=it[ct];for(ot in st)st.hasOwnProperty(ot)&&(rt||(rt={}),rt[ot]="")}else ct!=="dangerouslySetInnerHTML"&&ct!=="children"&&ct!=="suppressContentEditableWarning"&&ct!=="suppressHydrationWarning"&&ct!=="autoFocus"&&(ea.hasOwnProperty(ct)?at||(at=[]):(at=at||[]).push(ct,null));for(ct in nt){var lt=nt[ct];if(st=it!=null?it[ct]:void 0,nt.hasOwnProperty(ct)&&lt!==st&&(lt!=null||st!=null))if(ct==="style")if(st){for(ot in st)!st.hasOwnProperty(ot)||lt&&lt.hasOwnProperty(ot)||(rt||(rt={}),rt[ot]="");for(ot in lt)lt.hasOwnProperty(ot)&&st[ot]!==lt[ot]&&(rt||(rt={}),rt[ot]=lt[ot])}else rt||(at||(at=[]),at.push(ct,rt)),rt=lt;else ct==="dangerouslySetInnerHTML"?(lt=lt?lt.__html:void 0,st=st?st.__html:void 0,lt!=null&&st!==lt&&(at=at||[]).push(ct,lt)):ct==="children"?typeof lt!="string"&&typeof lt!="number"||(at=at||[]).push(ct,""+lt):ct!=="suppressContentEditableWarning"&&ct!=="suppressHydrationWarning"&&(ea.hasOwnProperty(ct)?(lt!=null&&ct==="onScroll"&&D$2("scroll",et),at||st===lt||(at=[])):(at=at||[]).push(ct,lt))}rt&&(at=at||[]).push("style",rt);var ct=at;(tt.updateQueue=ct)&&(tt.flags|=4)}};Cj=function(et,tt,rt,nt){rt!==nt&&(tt.flags|=4)};function Dj(et,tt){if(!I$1)switch(et.tailMode){case"hidden":tt=et.tail;for(var rt=null;tt!==null;)tt.alternate!==null&&(rt=tt),tt=tt.sibling;rt===null?et.tail=null:rt.sibling=null;break;case"collapsed":rt=et.tail;for(var nt=null;rt!==null;)rt.alternate!==null&&(nt=rt),rt=rt.sibling;nt===null?tt||et.tail===null?et.tail=null:et.tail.sibling=null:nt.sibling=null}}function S$2(et){var tt=et.alternate!==null&&et.alternate.child===et.child,rt=0,nt=0;if(tt)for(var it=et.child;it!==null;)rt|=it.lanes|it.childLanes,nt|=it.subtreeFlags&14680064,nt|=it.flags&14680064,it.return=et,it=it.sibling;else for(it=et.child;it!==null;)rt|=it.lanes|it.childLanes,nt|=it.subtreeFlags,nt|=it.flags,it.return=et,it=it.sibling;return et.subtreeFlags|=nt,et.childLanes=rt,tt}function Ej(et,tt,rt){var nt=tt.pendingProps;switch(wg(tt),tt.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$2(tt),null;case 1:return Zf(tt.type)&&$f(),S$2(tt),null;case 3:return nt=tt.stateNode,zh(),E(Wf),E(H),Eh(),nt.pendingContext&&(nt.context=nt.pendingContext,nt.pendingContext=null),(et===null||et.child===null)&&(Gg(tt)?tt.flags|=4:et===null||et.memoizedState.isDehydrated&&!(tt.flags&256)||(tt.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(et,tt),S$2(tt),null;case 5:Bh(tt);var it=xh(wh.current);if(rt=tt.type,et!==null&&tt.stateNode!=null)Bj(et,tt,rt,nt,it),et.ref!==tt.ref&&(tt.flags|=512,tt.flags|=2097152);else{if(!nt){if(tt.stateNode===null)throw Error(p$2(166));return S$2(tt),null}if(et=xh(uh.current),Gg(tt)){nt=tt.stateNode,rt=tt.type;var at=tt.memoizedProps;switch(nt[Of]=tt,nt[Pf]=at,et=(tt.mode&1)!==0,rt){case"dialog":D$2("cancel",nt),D$2("close",nt);break;case"iframe":case"object":case"embed":D$2("load",nt);break;case"video":case"audio":for(it=0;it<lf.length;it++)D$2(lf[it],nt);break;case"source":D$2("error",nt);break;case"img":case"image":case"link":D$2("error",nt),D$2("load",nt);break;case"details":D$2("toggle",nt);break;case"input":Za(nt,at),D$2("invalid",nt);break;case"select":nt._wrapperState={wasMultiple:!!at.multiple},D$2("invalid",nt);break;case"textarea":hb(nt,at),D$2("invalid",nt)}ub(rt,at),it=null;for(var ot in at)if(at.hasOwnProperty(ot)){var st=at[ot];ot==="children"?typeof st=="string"?nt.textContent!==st&&(at.suppressHydrationWarning!==!0&&Af(nt.textContent,st,et),it=["children",st]):typeof st=="number"&&nt.textContent!==""+st&&(at.suppressHydrationWarning!==!0&&Af(nt.textContent,st,et),it=["children",""+st]):ea.hasOwnProperty(ot)&&st!=null&&ot==="onScroll"&&D$2("scroll",nt)}switch(rt){case"input":Va(nt),db$1(nt,at,!0);break;case"textarea":Va(nt),jb(nt);break;case"select":case"option":break;default:typeof at.onClick=="function"&&(nt.onclick=Bf)}nt=it,tt.updateQueue=nt,nt!==null&&(tt.flags|=4)}else{ot=it.nodeType===9?it:it.ownerDocument,et==="http://www.w3.org/1999/xhtml"&&(et=kb(rt)),et==="http://www.w3.org/1999/xhtml"?rt==="script"?(et=ot.createElement("div"),et.innerHTML="<script><\/script>",et=et.removeChild(et.firstChild)):typeof nt.is=="string"?et=ot.createElement(rt,{is:nt.is}):(et=ot.createElement(rt),rt==="select"&&(ot=et,nt.multiple?ot.multiple=!0:nt.size&&(ot.size=nt.size))):et=ot.createElementNS(et,rt),et[Of]=tt,et[Pf]=nt,zj(et,tt,!1,!1),tt.stateNode=et;e:{switch(ot=vb(rt,nt),rt){case"dialog":D$2("cancel",et),D$2("close",et),it=nt;break;case"iframe":case"object":case"embed":D$2("load",et),it=nt;break;case"video":case"audio":for(it=0;it<lf.length;it++)D$2(lf[it],et);it=nt;break;case"source":D$2("error",et),it=nt;break;case"img":case"image":case"link":D$2("error",et),D$2("load",et),it=nt;break;case"details":D$2("toggle",et),it=nt;break;case"input":Za(et,nt),it=Ya(et,nt),D$2("invalid",et);break;case"option":it=nt;break;case"select":et._wrapperState={wasMultiple:!!nt.multiple},it=A$2({},nt,{value:void 0}),D$2("invalid",et);break;case"textarea":hb(et,nt),it=gb(et,nt),D$2("invalid",et);break;default:it=nt}ub(rt,it),st=it;for(at in st)if(st.hasOwnProperty(at)){var lt=st[at];at==="style"?sb(et,lt):at==="dangerouslySetInnerHTML"?(lt=lt?lt.__html:void 0,lt!=null&&nb(et,lt)):at==="children"?typeof lt=="string"?(rt!=="textarea"||lt!=="")&&ob(et,lt):typeof lt=="number"&&ob(et,""+lt):at!=="suppressContentEditableWarning"&&at!=="suppressHydrationWarning"&&at!=="autoFocus"&&(ea.hasOwnProperty(at)?lt!=null&&at==="onScroll"&&D$2("scroll",et):lt!=null&&ta(et,at,lt,ot))}switch(rt){case"input":Va(et),db$1(et,nt,!1);break;case"textarea":Va(et),jb(et);break;case"option":nt.value!=null&&et.setAttribute("value",""+Sa(nt.value));break;case"select":et.multiple=!!nt.multiple,at=nt.value,at!=null?fb(et,!!nt.multiple,at,!1):nt.defaultValue!=null&&fb(et,!!nt.multiple,nt.defaultValue,!0);break;default:typeof it.onClick=="function"&&(et.onclick=Bf)}switch(rt){case"button":case"input":case"select":case"textarea":nt=!!nt.autoFocus;break e;case"img":nt=!0;break e;default:nt=!1}}nt&&(tt.flags|=4)}tt.ref!==null&&(tt.flags|=512,tt.flags|=2097152)}return S$2(tt),null;case 6:if(et&&tt.stateNode!=null)Cj(et,tt,et.memoizedProps,nt);else{if(typeof nt!="string"&&tt.stateNode===null)throw Error(p$2(166));if(rt=xh(wh.current),xh(uh.current),Gg(tt)){if(nt=tt.stateNode,rt=tt.memoizedProps,nt[Of]=tt,(at=nt.nodeValue!==rt)&&(et=xg,et!==null))switch(et.tag){case 3:Af(nt.nodeValue,rt,(et.mode&1)!==0);break;case 5:et.memoizedProps.suppressHydrationWarning!==!0&&Af(nt.nodeValue,rt,(et.mode&1)!==0)}at&&(tt.flags|=4)}else nt=(rt.nodeType===9?rt:rt.ownerDocument).createTextNode(nt),nt[Of]=tt,tt.stateNode=nt}return S$2(tt),null;case 13:if(E(L),nt=tt.memoizedState,et===null||et.memoizedState!==null&&et.memoizedState.dehydrated!==null){if(I$1&&yg!==null&&tt.mode&1&&!(tt.flags&128))Hg(),Ig(),tt.flags|=98560,at=!1;else if(at=Gg(tt),nt!==null&&nt.dehydrated!==null){if(et===null){if(!at)throw Error(p$2(318));if(at=tt.memoizedState,at=at!==null?at.dehydrated:null,!at)throw Error(p$2(317));at[Of]=tt}else Ig(),!(tt.flags&128)&&(tt.memoizedState=null),tt.flags|=4;S$2(tt),at=!1}else zg!==null&&(Fj(zg),zg=null),at=!0;if(!at)return tt.flags&65536?tt:null}return tt.flags&128?(tt.lanes=rt,tt):(nt=nt!==null,nt!==(et!==null&&et.memoizedState!==null)&&nt&&(tt.child.flags|=8192,tt.mode&1&&(et===null||L.current&1?T$1===0&&(T$1=3):tj())),tt.updateQueue!==null&&(tt.flags|=4),S$2(tt),null);case 4:return zh(),Aj(et,tt),et===null&&sf(tt.stateNode.containerInfo),S$2(tt),null;case 10:return ah(tt.type._context),S$2(tt),null;case 17:return Zf(tt.type)&&$f(),S$2(tt),null;case 19:if(E(L),at=tt.memoizedState,at===null)return S$2(tt),null;if(nt=(tt.flags&128)!==0,ot=at.rendering,ot===null)if(nt)Dj(at,!1);else{if(T$1!==0||et!==null&&et.flags&128)for(et=tt.child;et!==null;){if(ot=Ch(et),ot!==null){for(tt.flags|=128,Dj(at,!1),nt=ot.updateQueue,nt!==null&&(tt.updateQueue=nt,tt.flags|=4),tt.subtreeFlags=0,nt=rt,rt=tt.child;rt!==null;)at=rt,et=nt,at.flags&=14680066,ot=at.alternate,ot===null?(at.childLanes=0,at.lanes=et,at.child=null,at.subtreeFlags=0,at.memoizedProps=null,at.memoizedState=null,at.updateQueue=null,at.dependencies=null,at.stateNode=null):(at.childLanes=ot.childLanes,at.lanes=ot.lanes,at.child=ot.child,at.subtreeFlags=0,at.deletions=null,at.memoizedProps=ot.memoizedProps,at.memoizedState=ot.memoizedState,at.updateQueue=ot.updateQueue,at.type=ot.type,et=ot.dependencies,at.dependencies=et===null?null:{lanes:et.lanes,firstContext:et.firstContext}),rt=rt.sibling;return G$1(L,L.current&1|2),tt.child}et=et.sibling}at.tail!==null&&B()>Gj&&(tt.flags|=128,nt=!0,Dj(at,!1),tt.lanes=4194304)}else{if(!nt)if(et=Ch(ot),et!==null){if(tt.flags|=128,nt=!0,rt=et.updateQueue,rt!==null&&(tt.updateQueue=rt,tt.flags|=4),Dj(at,!0),at.tail===null&&at.tailMode==="hidden"&&!ot.alternate&&!I$1)return S$2(tt),null}else 2*B()-at.renderingStartTime>Gj&&rt!==1073741824&&(tt.flags|=128,nt=!0,Dj(at,!1),tt.lanes=4194304);at.isBackwards?(ot.sibling=tt.child,tt.child=ot):(rt=at.last,rt!==null?rt.sibling=ot:tt.child=ot,at.last=ot)}return at.tail!==null?(tt=at.tail,at.rendering=tt,at.tail=tt.sibling,at.renderingStartTime=B(),tt.sibling=null,rt=L.current,G$1(L,nt?rt&1|2:rt&1),tt):(S$2(tt),null);case 22:case 23:return Hj(),nt=tt.memoizedState!==null,et!==null&&et.memoizedState!==null!==nt&&(tt.flags|=8192),nt&&tt.mode&1?fj&1073741824&&(S$2(tt),tt.subtreeFlags&6&&(tt.flags|=8192)):S$2(tt),null;case 24:return null;case 25:return null}throw Error(p$2(156,tt.tag))}function Ij(et,tt){switch(wg(tt),tt.tag){case 1:return Zf(tt.type)&&$f(),et=tt.flags,et&65536?(tt.flags=et&-65537|128,tt):null;case 3:return zh(),E(Wf),E(H),Eh(),et=tt.flags,et&65536&&!(et&128)?(tt.flags=et&-65537|128,tt):null;case 5:return Bh(tt),null;case 13:if(E(L),et=tt.memoizedState,et!==null&&et.dehydrated!==null){if(tt.alternate===null)throw Error(p$2(340));Ig()}return et=tt.flags,et&65536?(tt.flags=et&-65537|128,tt):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah(tt.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U$1=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Lj(et,tt){var rt=et.ref;if(rt!==null)if(typeof rt=="function")try{rt(null)}catch(nt){W$1(et,tt,nt)}else rt.current=null}function Mj(et,tt,rt){try{rt()}catch(nt){W$1(et,tt,nt)}}var Nj=!1;function Oj(et,tt){if(Cf=dd,et=Me(),Ne(et)){if("selectionStart"in et)var rt={start:et.selectionStart,end:et.selectionEnd};else e:{rt=(rt=et.ownerDocument)&&rt.defaultView||window;var nt=rt.getSelection&&rt.getSelection();if(nt&&nt.rangeCount!==0){rt=nt.anchorNode;var it=nt.anchorOffset,at=nt.focusNode;nt=nt.focusOffset;try{rt.nodeType,at.nodeType}catch{rt=null;break e}var ot=0,st=-1,lt=-1,ct=0,ut=0,ft=et,ht=null;t:for(;;){for(var dt;ft!==rt||it!==0&&ft.nodeType!==3||(st=ot+it),ft!==at||nt!==0&&ft.nodeType!==3||(lt=ot+nt),ft.nodeType===3&&(ot+=ft.nodeValue.length),(dt=ft.firstChild)!==null;)ht=ft,ft=dt;for(;;){if(ft===et)break t;if(ht===rt&&++ct===it&&(st=ot),ht===at&&++ut===nt&&(lt=ot),(dt=ft.nextSibling)!==null)break;ft=ht,ht=ft.parentNode}ft=dt}rt=st===-1||lt===-1?null:{start:st,end:lt}}else rt=null}rt=rt||{start:0,end:0}}else rt=null;for(Df={focusedElem:et,selectionRange:rt},dd=!1,V$1=tt;V$1!==null;)if(tt=V$1,et=tt.child,(tt.subtreeFlags&1028)!==0&&et!==null)et.return=tt,V$1=et;else for(;V$1!==null;){tt=V$1;try{var vt=tt.alternate;if(tt.flags&1024)switch(tt.tag){case 0:case 11:case 15:break;case 1:if(vt!==null){var yt=vt.memoizedProps,xt=vt.memoizedState,_t=tt.stateNode,mt=_t.getSnapshotBeforeUpdate(tt.elementType===tt.type?yt:Ci(tt.type,yt),xt);_t.__reactInternalSnapshotBeforeUpdate=mt}break;case 3:var pt=tt.stateNode.containerInfo;pt.nodeType===1?pt.textContent="":pt.nodeType===9&&pt.documentElement&&pt.removeChild(pt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$2(163))}}catch(bt){W$1(tt,tt.return,bt)}if(et=tt.sibling,et!==null){et.return=tt.return,V$1=et;break}V$1=tt.return}return vt=Nj,Nj=!1,vt}function Pj(et,tt,rt){var nt=tt.updateQueue;if(nt=nt!==null?nt.lastEffect:null,nt!==null){var it=nt=nt.next;do{if((it.tag&et)===et){var at=it.destroy;it.destroy=void 0,at!==void 0&&Mj(tt,rt,at)}it=it.next}while(it!==nt)}}function Qj(et,tt){if(tt=tt.updateQueue,tt=tt!==null?tt.lastEffect:null,tt!==null){var rt=tt=tt.next;do{if((rt.tag&et)===et){var nt=rt.create;rt.destroy=nt()}rt=rt.next}while(rt!==tt)}}function Rj(et){var tt=et.ref;if(tt!==null){var rt=et.stateNode;switch(et.tag){case 5:et=rt;break;default:et=rt}typeof tt=="function"?tt(et):tt.current=et}}function Sj(et){var tt=et.alternate;tt!==null&&(et.alternate=null,Sj(tt)),et.child=null,et.deletions=null,et.sibling=null,et.tag===5&&(tt=et.stateNode,tt!==null&&(delete tt[Of],delete tt[Pf],delete tt[of],delete tt[Qf],delete tt[Rf])),et.stateNode=null,et.return=null,et.dependencies=null,et.memoizedProps=null,et.memoizedState=null,et.pendingProps=null,et.stateNode=null,et.updateQueue=null}function Tj(et){return et.tag===5||et.tag===3||et.tag===4}function Uj(et){e:for(;;){for(;et.sibling===null;){if(et.return===null||Tj(et.return))return null;et=et.return}for(et.sibling.return=et.return,et=et.sibling;et.tag!==5&&et.tag!==6&&et.tag!==18;){if(et.flags&2||et.child===null||et.tag===4)continue e;et.child.return=et,et=et.child}if(!(et.flags&2))return et.stateNode}}function Vj(et,tt,rt){var nt=et.tag;if(nt===5||nt===6)et=et.stateNode,tt?rt.nodeType===8?rt.parentNode.insertBefore(et,tt):rt.insertBefore(et,tt):(rt.nodeType===8?(tt=rt.parentNode,tt.insertBefore(et,rt)):(tt=rt,tt.appendChild(et)),rt=rt._reactRootContainer,rt!=null||tt.onclick!==null||(tt.onclick=Bf));else if(nt!==4&&(et=et.child,et!==null))for(Vj(et,tt,rt),et=et.sibling;et!==null;)Vj(et,tt,rt),et=et.sibling}function Wj(et,tt,rt){var nt=et.tag;if(nt===5||nt===6)et=et.stateNode,tt?rt.insertBefore(et,tt):rt.appendChild(et);else if(nt!==4&&(et=et.child,et!==null))for(Wj(et,tt,rt),et=et.sibling;et!==null;)Wj(et,tt,rt),et=et.sibling}var X$1=null,Xj=!1;function Yj(et,tt,rt){for(rt=rt.child;rt!==null;)Zj(et,tt,rt),rt=rt.sibling}function Zj(et,tt,rt){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,rt)}catch{}switch(rt.tag){case 5:U$1||Lj(rt,tt);case 6:var nt=X$1,it=Xj;X$1=null,Yj(et,tt,rt),X$1=nt,Xj=it,X$1!==null&&(Xj?(et=X$1,rt=rt.stateNode,et.nodeType===8?et.parentNode.removeChild(rt):et.removeChild(rt)):X$1.removeChild(rt.stateNode));break;case 18:X$1!==null&&(Xj?(et=X$1,rt=rt.stateNode,et.nodeType===8?Kf(et.parentNode,rt):et.nodeType===1&&Kf(et,rt),bd(et)):Kf(X$1,rt.stateNode));break;case 4:nt=X$1,it=Xj,X$1=rt.stateNode.containerInfo,Xj=!0,Yj(et,tt,rt),X$1=nt,Xj=it;break;case 0:case 11:case 14:case 15:if(!U$1&&(nt=rt.updateQueue,nt!==null&&(nt=nt.lastEffect,nt!==null))){it=nt=nt.next;do{var at=it,ot=at.destroy;at=at.tag,ot!==void 0&&(at&2||at&4)&&Mj(rt,tt,ot),it=it.next}while(it!==nt)}Yj(et,tt,rt);break;case 1:if(!U$1&&(Lj(rt,tt),nt=rt.stateNode,typeof nt.componentWillUnmount=="function"))try{nt.props=rt.memoizedProps,nt.state=rt.memoizedState,nt.componentWillUnmount()}catch(st){W$1(rt,tt,st)}Yj(et,tt,rt);break;case 21:Yj(et,tt,rt);break;case 22:rt.mode&1?(U$1=(nt=U$1)||rt.memoizedState!==null,Yj(et,tt,rt),U$1=nt):Yj(et,tt,rt);break;default:Yj(et,tt,rt)}}function ak(et){var tt=et.updateQueue;if(tt!==null){et.updateQueue=null;var rt=et.stateNode;rt===null&&(rt=et.stateNode=new Kj),tt.forEach(function(nt){var it=bk.bind(null,et,nt);rt.has(nt)||(rt.add(nt),nt.then(it,it))})}}function ck(et,tt){var rt=tt.deletions;if(rt!==null)for(var nt=0;nt<rt.length;nt++){var it=rt[nt];try{var at=et,ot=tt,st=ot;e:for(;st!==null;){switch(st.tag){case 5:X$1=st.stateNode,Xj=!1;break e;case 3:X$1=st.stateNode.containerInfo,Xj=!0;break e;case 4:X$1=st.stateNode.containerInfo,Xj=!0;break e}st=st.return}if(X$1===null)throw Error(p$2(160));Zj(at,ot,it),X$1=null,Xj=!1;var lt=it.alternate;lt!==null&&(lt.return=null),it.return=null}catch(ct){W$1(it,tt,ct)}}if(tt.subtreeFlags&12854)for(tt=tt.child;tt!==null;)dk(tt,et),tt=tt.sibling}function dk(et,tt){var rt=et.alternate,nt=et.flags;switch(et.tag){case 0:case 11:case 14:case 15:if(ck(tt,et),ek(et),nt&4){try{Pj(3,et,et.return),Qj(3,et)}catch(yt){W$1(et,et.return,yt)}try{Pj(5,et,et.return)}catch(yt){W$1(et,et.return,yt)}}break;case 1:ck(tt,et),ek(et),nt&512&&rt!==null&&Lj(rt,rt.return);break;case 5:if(ck(tt,et),ek(et),nt&512&&rt!==null&&Lj(rt,rt.return),et.flags&32){var it=et.stateNode;try{ob(it,"")}catch(yt){W$1(et,et.return,yt)}}if(nt&4&&(it=et.stateNode,it!=null)){var at=et.memoizedProps,ot=rt!==null?rt.memoizedProps:at,st=et.type,lt=et.updateQueue;if(et.updateQueue=null,lt!==null)try{st==="input"&&at.type==="radio"&&at.name!=null&&ab(it,at),vb(st,ot);var ct=vb(st,at);for(ot=0;ot<lt.length;ot+=2){var ut=lt[ot],ft=lt[ot+1];ut==="style"?sb(it,ft):ut==="dangerouslySetInnerHTML"?nb(it,ft):ut==="children"?ob(it,ft):ta(it,ut,ft,ct)}switch(st){case"input":bb(it,at);break;case"textarea":ib(it,at);break;case"select":var ht=it._wrapperState.wasMultiple;it._wrapperState.wasMultiple=!!at.multiple;var dt=at.value;dt!=null?fb(it,!!at.multiple,dt,!1):ht!==!!at.multiple&&(at.defaultValue!=null?fb(it,!!at.multiple,at.defaultValue,!0):fb(it,!!at.multiple,at.multiple?[]:"",!1))}it[Pf]=at}catch(yt){W$1(et,et.return,yt)}}break;case 6:if(ck(tt,et),ek(et),nt&4){if(et.stateNode===null)throw Error(p$2(162));it=et.stateNode,at=et.memoizedProps;try{it.nodeValue=at}catch(yt){W$1(et,et.return,yt)}}break;case 3:if(ck(tt,et),ek(et),nt&4&&rt!==null&&rt.memoizedState.isDehydrated)try{bd(tt.containerInfo)}catch(yt){W$1(et,et.return,yt)}break;case 4:ck(tt,et),ek(et);break;case 13:ck(tt,et),ek(et),it=et.child,it.flags&8192&&(at=it.memoizedState!==null,it.stateNode.isHidden=at,!at||it.alternate!==null&&it.alternate.memoizedState!==null||(fk=B())),nt&4&&ak(et);break;case 22:if(ut=rt!==null&&rt.memoizedState!==null,et.mode&1?(U$1=(ct=U$1)||ut,ck(tt,et),U$1=ct):ck(tt,et),ek(et),nt&8192){if(ct=et.memoizedState!==null,(et.stateNode.isHidden=ct)&&!ut&&et.mode&1)for(V$1=et,ut=et.child;ut!==null;){for(ft=V$1=ut;V$1!==null;){switch(ht=V$1,dt=ht.child,ht.tag){case 0:case 11:case 14:case 15:Pj(4,ht,ht.return);break;case 1:Lj(ht,ht.return);var vt=ht.stateNode;if(typeof vt.componentWillUnmount=="function"){nt=ht,rt=ht.return;try{tt=nt,vt.props=tt.memoizedProps,vt.state=tt.memoizedState,vt.componentWillUnmount()}catch(yt){W$1(nt,rt,yt)}}break;case 5:Lj(ht,ht.return);break;case 22:if(ht.memoizedState!==null){gk(ft);continue}}dt!==null?(dt.return=ht,V$1=dt):gk(ft)}ut=ut.sibling}e:for(ut=null,ft=et;;){if(ft.tag===5){if(ut===null){ut=ft;try{it=ft.stateNode,ct?(at=it.style,typeof at.setProperty=="function"?at.setProperty("display","none","important"):at.display="none"):(st=ft.stateNode,lt=ft.memoizedProps.style,ot=lt!=null&&lt.hasOwnProperty("display")?lt.display:null,st.style.display=rb("display",ot))}catch(yt){W$1(et,et.return,yt)}}}else if(ft.tag===6){if(ut===null)try{ft.stateNode.nodeValue=ct?"":ft.memoizedProps}catch(yt){W$1(et,et.return,yt)}}else if((ft.tag!==22&&ft.tag!==23||ft.memoizedState===null||ft===et)&&ft.child!==null){ft.child.return=ft,ft=ft.child;continue}if(ft===et)break e;for(;ft.sibling===null;){if(ft.return===null||ft.return===et)break e;ut===ft&&(ut=null),ft=ft.return}ut===ft&&(ut=null),ft.sibling.return=ft.return,ft=ft.sibling}}break;case 19:ck(tt,et),ek(et),nt&4&&ak(et);break;case 21:break;default:ck(tt,et),ek(et)}}function ek(et){var tt=et.flags;if(tt&2){try{e:{for(var rt=et.return;rt!==null;){if(Tj(rt)){var nt=rt;break e}rt=rt.return}throw Error(p$2(160))}switch(nt.tag){case 5:var it=nt.stateNode;nt.flags&32&&(ob(it,""),nt.flags&=-33);var at=Uj(et);Wj(et,at,it);break;case 3:case 4:var ot=nt.stateNode.containerInfo,st=Uj(et);Vj(et,st,ot);break;default:throw Error(p$2(161))}}catch(lt){W$1(et,et.return,lt)}et.flags&=-3}tt&4096&&(et.flags&=-4097)}function hk(et,tt,rt){V$1=et,ik(et)}function ik(et,tt,rt){for(var nt=(et.mode&1)!==0;V$1!==null;){var it=V$1,at=it.child;if(it.tag===22&&nt){var ot=it.memoizedState!==null||Jj;if(!ot){var st=it.alternate,lt=st!==null&&st.memoizedState!==null||U$1;st=Jj;var ct=U$1;if(Jj=ot,(U$1=lt)&&!ct)for(V$1=it;V$1!==null;)ot=V$1,lt=ot.child,ot.tag===22&&ot.memoizedState!==null?jk(it):lt!==null?(lt.return=ot,V$1=lt):jk(it);for(;at!==null;)V$1=at,ik(at),at=at.sibling;V$1=it,Jj=st,U$1=ct}kk(et)}else it.subtreeFlags&8772&&at!==null?(at.return=it,V$1=at):kk(et)}}function kk(et){for(;V$1!==null;){var tt=V$1;if(tt.flags&8772){var rt=tt.alternate;try{if(tt.flags&8772)switch(tt.tag){case 0:case 11:case 15:U$1||Qj(5,tt);break;case 1:var nt=tt.stateNode;if(tt.flags&4&&!U$1)if(rt===null)nt.componentDidMount();else{var it=tt.elementType===tt.type?rt.memoizedProps:Ci(tt.type,rt.memoizedProps);nt.componentDidUpdate(it,rt.memoizedState,nt.__reactInternalSnapshotBeforeUpdate)}var at=tt.updateQueue;at!==null&&sh(tt,at,nt);break;case 3:var ot=tt.updateQueue;if(ot!==null){if(rt=null,tt.child!==null)switch(tt.child.tag){case 5:rt=tt.child.stateNode;break;case 1:rt=tt.child.stateNode}sh(tt,ot,rt)}break;case 5:var st=tt.stateNode;if(rt===null&&tt.flags&4){rt=st;var lt=tt.memoizedProps;switch(tt.type){case"button":case"input":case"select":case"textarea":lt.autoFocus&&rt.focus();break;case"img":lt.src&&(rt.src=lt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(tt.memoizedState===null){var ct=tt.alternate;if(ct!==null){var ut=ct.memoizedState;if(ut!==null){var ft=ut.dehydrated;ft!==null&&bd(ft)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$2(163))}U$1||tt.flags&512&&Rj(tt)}catch(ht){W$1(tt,tt.return,ht)}}if(tt===et){V$1=null;break}if(rt=tt.sibling,rt!==null){rt.return=tt.return,V$1=rt;break}V$1=tt.return}}function gk(et){for(;V$1!==null;){var tt=V$1;if(tt===et){V$1=null;break}var rt=tt.sibling;if(rt!==null){rt.return=tt.return,V$1=rt;break}V$1=tt.return}}function jk(et){for(;V$1!==null;){var tt=V$1;try{switch(tt.tag){case 0:case 11:case 15:var rt=tt.return;try{Qj(4,tt)}catch(lt){W$1(tt,rt,lt)}break;case 1:var nt=tt.stateNode;if(typeof nt.componentDidMount=="function"){var it=tt.return;try{nt.componentDidMount()}catch(lt){W$1(tt,it,lt)}}var at=tt.return;try{Rj(tt)}catch(lt){W$1(tt,at,lt)}break;case 5:var ot=tt.return;try{Rj(tt)}catch(lt){W$1(tt,ot,lt)}}}catch(lt){W$1(tt,tt.return,lt)}if(tt===et){V$1=null;break}var st=tt.sibling;if(st!==null){st.return=tt.return,V$1=st;break}V$1=tt.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q$1=null,Y$1=null,Z$1=0,fj=0,ej=Uf(0),T$1=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K&6?B():Ak!==-1?Ak:Ak=B()}function yi(et){return et.mode&1?K&2&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(et=C$1,et!==0||(et=window.event,et=et===void 0?16:jd(et.type)),et):1}function gi(et,tt,rt,nt){if(50<yk)throw yk=0,zk=null,Error(p$2(185));Ac(et,rt,nt),(!(K&2)||et!==Q$1)&&(et===Q$1&&(!(K&2)&&(qk|=rt),T$1===4&&Ck(et,Z$1)),Dk(et,nt),rt===1&&K===0&&!(tt.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(et,tt){var rt=et.callbackNode;wc(et,tt);var nt=uc(et,et===Q$1?Z$1:0);if(nt===0)rt!==null&&bc(rt),et.callbackNode=null,et.callbackPriority=0;else if(tt=nt&-nt,et.callbackPriority!==tt){if(rt!=null&&bc(rt),tt===1)et.tag===0?ig(Ek.bind(null,et)):hg(Ek.bind(null,et)),Jf(function(){!(K&6)&&jg()}),rt=null;else{switch(Dc(nt)){case 1:rt=fc;break;case 4:rt=gc;break;case 16:rt=hc;break;case 536870912:rt=jc;break;default:rt=hc}rt=Fk(rt,Gk.bind(null,et))}et.callbackPriority=tt,et.callbackNode=rt}}function Gk(et,tt){if(Ak=-1,Bk=0,K&6)throw Error(p$2(327));var rt=et.callbackNode;if(Hk()&&et.callbackNode!==rt)return null;var nt=uc(et,et===Q$1?Z$1:0);if(nt===0)return null;if(nt&30||nt&et.expiredLanes||tt)tt=Ik(et,nt);else{tt=nt;var it=K;K|=2;var at=Jk();(Q$1!==et||Z$1!==tt)&&(uk=null,Gj=B()+500,Kk(et,tt));do try{Lk();break}catch(st){Mk(et,st)}while(!0);$g(),mk.current=at,K=it,Y$1!==null?tt=0:(Q$1=null,Z$1=0,tt=T$1)}if(tt!==0){if(tt===2&&(it=xc(et),it!==0&&(nt=it,tt=Nk(et,it))),tt===1)throw rt=pk,Kk(et,0),Ck(et,nt),Dk(et,B()),rt;if(tt===6)Ck(et,nt);else{if(it=et.current.alternate,!(nt&30)&&!Ok(it)&&(tt=Ik(et,nt),tt===2&&(at=xc(et),at!==0&&(nt=at,tt=Nk(et,at))),tt===1))throw rt=pk,Kk(et,0),Ck(et,nt),Dk(et,B()),rt;switch(et.finishedWork=it,et.finishedLanes=nt,tt){case 0:case 1:throw Error(p$2(345));case 2:Pk(et,tk,uk);break;case 3:if(Ck(et,nt),(nt&130023424)===nt&&(tt=fk+500-B(),10<tt)){if(uc(et,0)!==0)break;if(it=et.suspendedLanes,(it&nt)!==nt){R(),et.pingedLanes|=et.suspendedLanes&it;break}et.timeoutHandle=Ff(Pk.bind(null,et,tk,uk),tt);break}Pk(et,tk,uk);break;case 4:if(Ck(et,nt),(nt&4194240)===nt)break;for(tt=et.eventTimes,it=-1;0<nt;){var ot=31-oc(nt);at=1<<ot,ot=tt[ot],ot>it&&(it=ot),nt&=~at}if(nt=it,nt=B()-nt,nt=(120>nt?120:480>nt?480:1080>nt?1080:1920>nt?1920:3e3>nt?3e3:4320>nt?4320:1960*lk(nt/1960))-nt,10<nt){et.timeoutHandle=Ff(Pk.bind(null,et,tk,uk),nt);break}Pk(et,tk,uk);break;case 5:Pk(et,tk,uk);break;default:throw Error(p$2(329))}}}return Dk(et,B()),et.callbackNode===rt?Gk.bind(null,et):null}function Nk(et,tt){var rt=sk;return et.current.memoizedState.isDehydrated&&(Kk(et,tt).flags|=256),et=Ik(et,tt),et!==2&&(tt=tk,tk=rt,tt!==null&&Fj(tt)),et}function Fj(et){tk===null?tk=et:tk.push.apply(tk,et)}function Ok(et){for(var tt=et;;){if(tt.flags&16384){var rt=tt.updateQueue;if(rt!==null&&(rt=rt.stores,rt!==null))for(var nt=0;nt<rt.length;nt++){var it=rt[nt],at=it.getSnapshot;it=it.value;try{if(!He(at(),it))return!1}catch{return!1}}}if(rt=tt.child,tt.subtreeFlags&16384&&rt!==null)rt.return=tt,tt=rt;else{if(tt===et)break;for(;tt.sibling===null;){if(tt.return===null||tt.return===et)return!0;tt=tt.return}tt.sibling.return=tt.return,tt=tt.sibling}}return!0}function Ck(et,tt){for(tt&=~rk,tt&=~qk,et.suspendedLanes|=tt,et.pingedLanes&=~tt,et=et.expirationTimes;0<tt;){var rt=31-oc(tt),nt=1<<rt;et[rt]=-1,tt&=~nt}}function Ek(et){if(K&6)throw Error(p$2(327));Hk();var tt=uc(et,0);if(!(tt&1))return Dk(et,B()),null;var rt=Ik(et,tt);if(et.tag!==0&&rt===2){var nt=xc(et);nt!==0&&(tt=nt,rt=Nk(et,nt))}if(rt===1)throw rt=pk,Kk(et,0),Ck(et,tt),Dk(et,B()),rt;if(rt===6)throw Error(p$2(345));return et.finishedWork=et.current.alternate,et.finishedLanes=tt,Pk(et,tk,uk),Dk(et,B()),null}function Qk(et,tt){var rt=K;K|=1;try{return et(tt)}finally{K=rt,K===0&&(Gj=B()+500,fg&&jg())}}function Rk(et){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var tt=K;K|=1;var rt=ok.transition,nt=C$1;try{if(ok.transition=null,C$1=1,et)return et()}finally{C$1=nt,ok.transition=rt,K=tt,!(K&6)&&jg()}}function Hj(){fj=ej.current,E(ej)}function Kk(et,tt){et.finishedWork=null,et.finishedLanes=0;var rt=et.timeoutHandle;if(rt!==-1&&(et.timeoutHandle=-1,Gf(rt)),Y$1!==null)for(rt=Y$1.return;rt!==null;){var nt=rt;switch(wg(nt),nt.tag){case 1:nt=nt.type.childContextTypes,nt!=null&&$f();break;case 3:zh(),E(Wf),E(H),Eh();break;case 5:Bh(nt);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(nt.type._context);break;case 22:case 23:Hj()}rt=rt.return}if(Q$1=et,Y$1=et=Pg(et.current,null),Z$1=fj=tt,T$1=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(tt=0;tt<fh.length;tt++)if(rt=fh[tt],nt=rt.interleaved,nt!==null){rt.interleaved=null;var it=nt.next,at=rt.pending;if(at!==null){var ot=at.next;at.next=it,nt.next=ot}rt.pending=nt}fh=null}return et}function Mk(et,tt){do{var rt=Y$1;try{if($g(),Fh.current=Rh,Ih){for(var nt=M$1.memoizedState;nt!==null;){var it=nt.queue;it!==null&&(it.pending=null),nt=nt.next}Ih=!1}if(Hh=0,O$1=N=M$1=null,Jh=!1,Kh=0,nk.current=null,rt===null||rt.return===null){T$1=1,pk=tt,Y$1=null;break}e:{var at=et,ot=rt.return,st=rt,lt=tt;if(tt=Z$1,st.flags|=32768,lt!==null&&typeof lt=="object"&&typeof lt.then=="function"){var ct=lt,ut=st,ft=ut.tag;if(!(ut.mode&1)&&(ft===0||ft===11||ft===15)){var ht=ut.alternate;ht?(ut.updateQueue=ht.updateQueue,ut.memoizedState=ht.memoizedState,ut.lanes=ht.lanes):(ut.updateQueue=null,ut.memoizedState=null)}var dt=Ui(ot);if(dt!==null){dt.flags&=-257,Vi(dt,ot,st,at,tt),dt.mode&1&&Si(at,ct,tt),tt=dt,lt=ct;var vt=tt.updateQueue;if(vt===null){var yt=new Set;yt.add(lt),tt.updateQueue=yt}else vt.add(lt);break e}else{if(!(tt&1)){Si(at,ct,tt),tj();break e}lt=Error(p$2(426))}}else if(I$1&&st.mode&1){var xt=Ui(ot);if(xt!==null){!(xt.flags&65536)&&(xt.flags|=256),Vi(xt,ot,st,at,tt),Jg(Ji(lt,st));break e}}at=lt=Ji(lt,st),T$1!==4&&(T$1=2),sk===null?sk=[at]:sk.push(at),at=ot;do{switch(at.tag){case 3:at.flags|=65536,tt&=-tt,at.lanes|=tt;var _t=Ni(at,lt,tt);ph(at,_t);break e;case 1:st=lt;var mt=at.type,pt=at.stateNode;if(!(at.flags&128)&&(typeof mt.getDerivedStateFromError=="function"||pt!==null&&typeof pt.componentDidCatch=="function"&&(Ri===null||!Ri.has(pt)))){at.flags|=65536,tt&=-tt,at.lanes|=tt;var bt=Qi(at,st,tt);ph(at,bt);break e}}at=at.return}while(at!==null)}Sk(rt)}catch(Et){tt=Et,Y$1===rt&&rt!==null&&(Y$1=rt=rt.return);continue}break}while(!0)}function Jk(){var et=mk.current;return mk.current=Rh,et===null?Rh:et}function tj(){(T$1===0||T$1===3||T$1===2)&&(T$1=4),Q$1===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q$1,Z$1)}function Ik(et,tt){var rt=K;K|=2;var nt=Jk();(Q$1!==et||Z$1!==tt)&&(uk=null,Kk(et,tt));do try{Tk();break}catch(it){Mk(et,it)}while(!0);if($g(),K=rt,mk.current=nt,Y$1!==null)throw Error(p$2(261));return Q$1=null,Z$1=0,T$1}function Tk(){for(;Y$1!==null;)Uk(Y$1)}function Lk(){for(;Y$1!==null&&!cc();)Uk(Y$1)}function Uk(et){var tt=Vk(et.alternate,et,fj);et.memoizedProps=et.pendingProps,tt===null?Sk(et):Y$1=tt,nk.current=null}function Sk(et){var tt=et;do{var rt=tt.alternate;if(et=tt.return,tt.flags&32768){if(rt=Ij(rt,tt),rt!==null){rt.flags&=32767,Y$1=rt;return}if(et!==null)et.flags|=32768,et.subtreeFlags=0,et.deletions=null;else{T$1=6,Y$1=null;return}}else if(rt=Ej(rt,tt,fj),rt!==null){Y$1=rt;return}if(tt=tt.sibling,tt!==null){Y$1=tt;return}Y$1=tt=et}while(tt!==null);T$1===0&&(T$1=5)}function Pk(et,tt,rt){var nt=C$1,it=ok.transition;try{ok.transition=null,C$1=1,Wk(et,tt,rt,nt)}finally{ok.transition=it,C$1=nt}return null}function Wk(et,tt,rt,nt){do Hk();while(wk!==null);if(K&6)throw Error(p$2(327));rt=et.finishedWork;var it=et.finishedLanes;if(rt===null)return null;if(et.finishedWork=null,et.finishedLanes=0,rt===et.current)throw Error(p$2(177));et.callbackNode=null,et.callbackPriority=0;var at=rt.lanes|rt.childLanes;if(Bc(et,at),et===Q$1&&(Y$1=Q$1=null,Z$1=0),!(rt.subtreeFlags&2064)&&!(rt.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),at=(rt.flags&15990)!==0,rt.subtreeFlags&15990||at){at=ok.transition,ok.transition=null;var ot=C$1;C$1=1;var st=K;K|=4,nk.current=null,Oj(et,rt),dk(rt,et),Oe(Df),dd=!!Cf,Df=Cf=null,et.current=rt,hk(rt),dc(),K=st,C$1=ot,ok.transition=at}else et.current=rt;if(vk&&(vk=!1,wk=et,xk=it),at=et.pendingLanes,at===0&&(Ri=null),mc(rt.stateNode),Dk(et,B()),tt!==null)for(nt=et.onRecoverableError,rt=0;rt<tt.length;rt++)it=tt[rt],nt(it.value,{componentStack:it.stack,digest:it.digest});if(Oi)throw Oi=!1,et=Pi,Pi=null,et;return xk&1&&et.tag!==0&&Hk(),at=et.pendingLanes,at&1?et===zk?yk++:(yk=0,zk=et):yk=0,jg(),null}function Hk(){if(wk!==null){var et=Dc(xk),tt=ok.transition,rt=C$1;try{if(ok.transition=null,C$1=16>et?16:et,wk===null)var nt=!1;else{if(et=wk,wk=null,xk=0,K&6)throw Error(p$2(331));var it=K;for(K|=4,V$1=et.current;V$1!==null;){var at=V$1,ot=at.child;if(V$1.flags&16){var st=at.deletions;if(st!==null){for(var lt=0;lt<st.length;lt++){var ct=st[lt];for(V$1=ct;V$1!==null;){var ut=V$1;switch(ut.tag){case 0:case 11:case 15:Pj(8,ut,at)}var ft=ut.child;if(ft!==null)ft.return=ut,V$1=ft;else for(;V$1!==null;){ut=V$1;var ht=ut.sibling,dt=ut.return;if(Sj(ut),ut===ct){V$1=null;break}if(ht!==null){ht.return=dt,V$1=ht;break}V$1=dt}}}var vt=at.alternate;if(vt!==null){var yt=vt.child;if(yt!==null){vt.child=null;do{var xt=yt.sibling;yt.sibling=null,yt=xt}while(yt!==null)}}V$1=at}}if(at.subtreeFlags&2064&&ot!==null)ot.return=at,V$1=ot;else e:for(;V$1!==null;){if(at=V$1,at.flags&2048)switch(at.tag){case 0:case 11:case 15:Pj(9,at,at.return)}var _t=at.sibling;if(_t!==null){_t.return=at.return,V$1=_t;break e}V$1=at.return}}var mt=et.current;for(V$1=mt;V$1!==null;){ot=V$1;var pt=ot.child;if(ot.subtreeFlags&2064&&pt!==null)pt.return=ot,V$1=pt;else e:for(ot=mt;V$1!==null;){if(st=V$1,st.flags&2048)try{switch(st.tag){case 0:case 11:case 15:Qj(9,st)}}catch(Et){W$1(st,st.return,Et)}if(st===ot){V$1=null;break e}var bt=st.sibling;if(bt!==null){bt.return=st.return,V$1=bt;break e}V$1=st.return}}if(K=it,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,et)}catch{}nt=!0}return nt}finally{C$1=rt,ok.transition=tt}}return!1}function Xk(et,tt,rt){tt=Ji(rt,tt),tt=Ni(et,tt,1),et=nh(et,tt,1),tt=R(),et!==null&&(Ac(et,1,tt),Dk(et,tt))}function W$1(et,tt,rt){if(et.tag===3)Xk(et,et,rt);else for(;tt!==null;){if(tt.tag===3){Xk(tt,et,rt);break}else if(tt.tag===1){var nt=tt.stateNode;if(typeof tt.type.getDerivedStateFromError=="function"||typeof nt.componentDidCatch=="function"&&(Ri===null||!Ri.has(nt))){et=Ji(rt,et),et=Qi(tt,et,1),tt=nh(tt,et,1),et=R(),tt!==null&&(Ac(tt,1,et),Dk(tt,et));break}}tt=tt.return}}function Ti(et,tt,rt){var nt=et.pingCache;nt!==null&&nt.delete(tt),tt=R(),et.pingedLanes|=et.suspendedLanes&rt,Q$1===et&&(Z$1&rt)===rt&&(T$1===4||T$1===3&&(Z$1&130023424)===Z$1&&500>B()-fk?Kk(et,0):rk|=rt),Dk(et,tt)}function Yk(et,tt){tt===0&&(et.mode&1?(tt=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):tt=1);var rt=R();et=ih(et,tt),et!==null&&(Ac(et,tt,rt),Dk(et,rt))}function uj(et){var tt=et.memoizedState,rt=0;tt!==null&&(rt=tt.retryLane),Yk(et,rt)}function bk(et,tt){var rt=0;switch(et.tag){case 13:var nt=et.stateNode,it=et.memoizedState;it!==null&&(rt=it.retryLane);break;case 19:nt=et.stateNode;break;default:throw Error(p$2(314))}nt!==null&&nt.delete(tt),Yk(et,rt)}var Vk;Vk=function(et,tt,rt){if(et!==null)if(et.memoizedProps!==tt.pendingProps||Wf.current)dh=!0;else{if(!(et.lanes&rt)&&!(tt.flags&128))return dh=!1,yj(et,tt,rt);dh=!!(et.flags&131072)}else dh=!1,I$1&&tt.flags&1048576&&ug(tt,ng,tt.index);switch(tt.lanes=0,tt.tag){case 2:var nt=tt.type;ij(et,tt),et=tt.pendingProps;var it=Yf(tt,H.current);ch(tt,rt),it=Nh(null,tt,nt,et,it,rt);var at=Sh();return tt.flags|=1,typeof it=="object"&&it!==null&&typeof it.render=="function"&&it.$$typeof===void 0?(tt.tag=1,tt.memoizedState=null,tt.updateQueue=null,Zf(nt)?(at=!0,cg(tt)):at=!1,tt.memoizedState=it.state!==null&&it.state!==void 0?it.state:null,kh(tt),it.updater=Ei,tt.stateNode=it,it._reactInternals=tt,Ii(tt,nt,et,rt),tt=jj(null,tt,nt,!0,at,rt)):(tt.tag=0,I$1&&at&&vg(tt),Xi(null,tt,it,rt),tt=tt.child),tt;case 16:nt=tt.elementType;e:{switch(ij(et,tt),et=tt.pendingProps,it=nt._init,nt=it(nt._payload),tt.type=nt,it=tt.tag=Zk(nt),et=Ci(nt,et),it){case 0:tt=cj(null,tt,nt,et,rt);break e;case 1:tt=hj(null,tt,nt,et,rt);break e;case 11:tt=Yi(null,tt,nt,et,rt);break e;case 14:tt=$i(null,tt,nt,Ci(nt.type,et),rt);break e}throw Error(p$2(306,nt,""))}return tt;case 0:return nt=tt.type,it=tt.pendingProps,it=tt.elementType===nt?it:Ci(nt,it),cj(et,tt,nt,it,rt);case 1:return nt=tt.type,it=tt.pendingProps,it=tt.elementType===nt?it:Ci(nt,it),hj(et,tt,nt,it,rt);case 3:e:{if(kj(tt),et===null)throw Error(p$2(387));nt=tt.pendingProps,at=tt.memoizedState,it=at.element,lh(et,tt),qh(tt,nt,null,rt);var ot=tt.memoizedState;if(nt=ot.element,at.isDehydrated)if(at={element:nt,isDehydrated:!1,cache:ot.cache,pendingSuspenseBoundaries:ot.pendingSuspenseBoundaries,transitions:ot.transitions},tt.updateQueue.baseState=at,tt.memoizedState=at,tt.flags&256){it=Ji(Error(p$2(423)),tt),tt=lj(et,tt,nt,rt,it);break e}else if(nt!==it){it=Ji(Error(p$2(424)),tt),tt=lj(et,tt,nt,rt,it);break e}else for(yg=Lf(tt.stateNode.containerInfo.firstChild),xg=tt,I$1=!0,zg=null,rt=Vg(tt,null,nt,rt),tt.child=rt;rt;)rt.flags=rt.flags&-3|4096,rt=rt.sibling;else{if(Ig(),nt===it){tt=Zi(et,tt,rt);break e}Xi(et,tt,nt,rt)}tt=tt.child}return tt;case 5:return Ah(tt),et===null&&Eg(tt),nt=tt.type,it=tt.pendingProps,at=et!==null?et.memoizedProps:null,ot=it.children,Ef(nt,it)?ot=null:at!==null&&Ef(nt,at)&&(tt.flags|=32),gj(et,tt),Xi(et,tt,ot,rt),tt.child;case 6:return et===null&&Eg(tt),null;case 13:return oj(et,tt,rt);case 4:return yh(tt,tt.stateNode.containerInfo),nt=tt.pendingProps,et===null?tt.child=Ug(tt,null,nt,rt):Xi(et,tt,nt,rt),tt.child;case 11:return nt=tt.type,it=tt.pendingProps,it=tt.elementType===nt?it:Ci(nt,it),Yi(et,tt,nt,it,rt);case 7:return Xi(et,tt,tt.pendingProps,rt),tt.child;case 8:return Xi(et,tt,tt.pendingProps.children,rt),tt.child;case 12:return Xi(et,tt,tt.pendingProps.children,rt),tt.child;case 10:e:{if(nt=tt.type._context,it=tt.pendingProps,at=tt.memoizedProps,ot=it.value,G$1(Wg,nt._currentValue),nt._currentValue=ot,at!==null)if(He(at.value,ot)){if(at.children===it.children&&!Wf.current){tt=Zi(et,tt,rt);break e}}else for(at=tt.child,at!==null&&(at.return=tt);at!==null;){var st=at.dependencies;if(st!==null){ot=at.child;for(var lt=st.firstContext;lt!==null;){if(lt.context===nt){if(at.tag===1){lt=mh(-1,rt&-rt),lt.tag=2;var ct=at.updateQueue;if(ct!==null){ct=ct.shared;var ut=ct.pending;ut===null?lt.next=lt:(lt.next=ut.next,ut.next=lt),ct.pending=lt}}at.lanes|=rt,lt=at.alternate,lt!==null&&(lt.lanes|=rt),bh(at.return,rt,tt),st.lanes|=rt;break}lt=lt.next}}else if(at.tag===10)ot=at.type===tt.type?null:at.child;else if(at.tag===18){if(ot=at.return,ot===null)throw Error(p$2(341));ot.lanes|=rt,st=ot.alternate,st!==null&&(st.lanes|=rt),bh(ot,rt,tt),ot=at.sibling}else ot=at.child;if(ot!==null)ot.return=at;else for(ot=at;ot!==null;){if(ot===tt){ot=null;break}if(at=ot.sibling,at!==null){at.return=ot.return,ot=at;break}ot=ot.return}at=ot}Xi(et,tt,it.children,rt),tt=tt.child}return tt;case 9:return it=tt.type,nt=tt.pendingProps.children,ch(tt,rt),it=eh(it),nt=nt(it),tt.flags|=1,Xi(et,tt,nt,rt),tt.child;case 14:return nt=tt.type,it=Ci(nt,tt.pendingProps),it=Ci(nt.type,it),$i(et,tt,nt,it,rt);case 15:return bj(et,tt,tt.type,tt.pendingProps,rt);case 17:return nt=tt.type,it=tt.pendingProps,it=tt.elementType===nt?it:Ci(nt,it),ij(et,tt),tt.tag=1,Zf(nt)?(et=!0,cg(tt)):et=!1,ch(tt,rt),Gi(tt,nt,it),Ii(tt,nt,it,rt),jj(null,tt,nt,!0,et,rt);case 19:return xj(et,tt,rt);case 22:return dj(et,tt,rt)}throw Error(p$2(156,tt.tag))};function Fk(et,tt){return ac(et,tt)}function $k(et,tt,rt,nt){this.tag=et,this.key=rt,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=tt,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=nt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(et,tt,rt,nt){return new $k(et,tt,rt,nt)}function aj(et){return et=et.prototype,!(!et||!et.isReactComponent)}function Zk(et){if(typeof et=="function")return aj(et)?1:0;if(et!=null){if(et=et.$$typeof,et===Da)return 11;if(et===Ga)return 14}return 2}function Pg(et,tt){var rt=et.alternate;return rt===null?(rt=Bg(et.tag,tt,et.key,et.mode),rt.elementType=et.elementType,rt.type=et.type,rt.stateNode=et.stateNode,rt.alternate=et,et.alternate=rt):(rt.pendingProps=tt,rt.type=et.type,rt.flags=0,rt.subtreeFlags=0,rt.deletions=null),rt.flags=et.flags&14680064,rt.childLanes=et.childLanes,rt.lanes=et.lanes,rt.child=et.child,rt.memoizedProps=et.memoizedProps,rt.memoizedState=et.memoizedState,rt.updateQueue=et.updateQueue,tt=et.dependencies,rt.dependencies=tt===null?null:{lanes:tt.lanes,firstContext:tt.firstContext},rt.sibling=et.sibling,rt.index=et.index,rt.ref=et.ref,rt}function Rg(et,tt,rt,nt,it,at){var ot=2;if(nt=et,typeof et=="function")aj(et)&&(ot=1);else if(typeof et=="string")ot=5;else e:switch(et){case ya:return Tg(rt.children,it,at,tt);case za:ot=8,it|=8;break;case Aa:return et=Bg(12,rt,tt,it|2),et.elementType=Aa,et.lanes=at,et;case Ea:return et=Bg(13,rt,tt,it),et.elementType=Ea,et.lanes=at,et;case Fa:return et=Bg(19,rt,tt,it),et.elementType=Fa,et.lanes=at,et;case Ia:return pj(rt,it,at,tt);default:if(typeof et=="object"&&et!==null)switch(et.$$typeof){case Ba:ot=10;break e;case Ca:ot=9;break e;case Da:ot=11;break e;case Ga:ot=14;break e;case Ha:ot=16,nt=null;break e}throw Error(p$2(130,et==null?et:typeof et,""))}return tt=Bg(ot,rt,tt,it),tt.elementType=et,tt.type=nt,tt.lanes=at,tt}function Tg(et,tt,rt,nt){return et=Bg(7,et,nt,tt),et.lanes=rt,et}function pj(et,tt,rt,nt){return et=Bg(22,et,nt,tt),et.elementType=Ia,et.lanes=rt,et.stateNode={isHidden:!1},et}function Qg(et,tt,rt){return et=Bg(6,et,null,tt),et.lanes=rt,et}function Sg(et,tt,rt){return tt=Bg(4,et.children!==null?et.children:[],et.key,tt),tt.lanes=rt,tt.stateNode={containerInfo:et.containerInfo,pendingChildren:null,implementation:et.implementation},tt}function al(et,tt,rt,nt,it){this.tag=tt,this.containerInfo=et,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=nt,this.onRecoverableError=it,this.mutableSourceEagerHydrationData=null}function bl(et,tt,rt,nt,it,at,ot,st,lt){return et=new al(et,tt,rt,st,lt),tt===1?(tt=1,at===!0&&(tt|=8)):tt=0,at=Bg(3,null,null,tt),et.current=at,at.stateNode=et,at.memoizedState={element:nt,isDehydrated:rt,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(at),et}function cl(et,tt,rt){var nt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:nt==null?null:""+nt,children:et,containerInfo:tt,implementation:rt}}function dl(et){if(!et)return Vf;et=et._reactInternals;e:{if(Vb(et)!==et||et.tag!==1)throw Error(p$2(170));var tt=et;do{switch(tt.tag){case 3:tt=tt.stateNode.context;break e;case 1:if(Zf(tt.type)){tt=tt.stateNode.__reactInternalMemoizedMergedChildContext;break e}}tt=tt.return}while(tt!==null);throw Error(p$2(171))}if(et.tag===1){var rt=et.type;if(Zf(rt))return bg(et,rt,tt)}return tt}function el(et,tt,rt,nt,it,at,ot,st,lt){return et=bl(rt,nt,!0,et,it,at,ot,st,lt),et.context=dl(null),rt=et.current,nt=R(),it=yi(rt),at=mh(nt,it),at.callback=tt??null,nh(rt,at,it),et.current.lanes=it,Ac(et,it,nt),Dk(et,nt),et}function fl(et,tt,rt,nt){var it=tt.current,at=R(),ot=yi(it);return rt=dl(rt),tt.context===null?tt.context=rt:tt.pendingContext=rt,tt=mh(at,ot),tt.payload={element:et},nt=nt===void 0?null:nt,nt!==null&&(tt.callback=nt),et=nh(it,tt,ot),et!==null&&(gi(et,it,ot,at),oh(et,it,ot)),ot}function gl(et){if(et=et.current,!et.child)return null;switch(et.child.tag){case 5:return et.child.stateNode;default:return et.child.stateNode}}function hl(et,tt){if(et=et.memoizedState,et!==null&&et.dehydrated!==null){var rt=et.retryLane;et.retryLane=rt!==0&&rt<tt?rt:tt}}function il(et,tt){hl(et,tt),(et=et.alternate)&&hl(et,tt)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(et){console.error(et)};function ll(et){this._internalRoot=et}ml.prototype.render=ll.prototype.render=function(et){var tt=this._internalRoot;if(tt===null)throw Error(p$2(409));fl(et,tt,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var et=this._internalRoot;if(et!==null){this._internalRoot=null;var tt=et.containerInfo;Rk(function(){fl(null,et,null,null)}),tt[uf]=null}};function ml(et){this._internalRoot=et}ml.prototype.unstable_scheduleHydration=function(et){if(et){var tt=Hc();et={blockedOn:null,target:et,priority:tt};for(var rt=0;rt<Qc.length&&tt!==0&&tt<Qc[rt].priority;rt++);Qc.splice(rt,0,et),rt===0&&Vc(et)}};function nl(et){return!(!et||et.nodeType!==1&&et.nodeType!==9&&et.nodeType!==11)}function ol(et){return!(!et||et.nodeType!==1&&et.nodeType!==9&&et.nodeType!==11&&(et.nodeType!==8||et.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(et,tt,rt,nt,it){if(it){if(typeof nt=="function"){var at=nt;nt=function(){var ct=gl(ot);at.call(ct)}}var ot=el(tt,nt,et,0,null,!1,!1,"",pl);return et._reactRootContainer=ot,et[uf]=ot.current,sf(et.nodeType===8?et.parentNode:et),Rk(),ot}for(;it=et.lastChild;)et.removeChild(it);if(typeof nt=="function"){var st=nt;nt=function(){var ct=gl(lt);st.call(ct)}}var lt=bl(et,0,!1,null,null,!1,!1,"",pl);return et._reactRootContainer=lt,et[uf]=lt.current,sf(et.nodeType===8?et.parentNode:et),Rk(function(){fl(tt,lt,rt,nt)}),lt}function rl(et,tt,rt,nt,it){var at=rt._reactRootContainer;if(at){var ot=at;if(typeof it=="function"){var st=it;it=function(){var lt=gl(ot);st.call(lt)}}fl(tt,ot,et,it)}else ot=ql(rt,tt,et,it,nt);return gl(ot)}Ec=function(et){switch(et.tag){case 3:var tt=et.stateNode;if(tt.current.memoizedState.isDehydrated){var rt=tc(tt.pendingLanes);rt!==0&&(Cc(tt,rt|1),Dk(tt,B()),!(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var nt=ih(et,1);if(nt!==null){var it=R();gi(nt,et,1,it)}}),il(et,1)}};Fc=function(et){if(et.tag===13){var tt=ih(et,134217728);if(tt!==null){var rt=R();gi(tt,et,134217728,rt)}il(et,134217728)}};Gc=function(et){if(et.tag===13){var tt=yi(et),rt=ih(et,tt);if(rt!==null){var nt=R();gi(rt,et,tt,nt)}il(et,tt)}};Hc=function(){return C$1};Ic=function(et,tt){var rt=C$1;try{return C$1=et,tt()}finally{C$1=rt}};yb=function(et,tt,rt){switch(tt){case"input":if(bb(et,rt),tt=rt.name,rt.type==="radio"&&tt!=null){for(rt=et;rt.parentNode;)rt=rt.parentNode;for(rt=rt.querySelectorAll("input[name="+JSON.stringify(""+tt)+'][type="radio"]'),tt=0;tt<rt.length;tt++){var nt=rt[tt];if(nt!==et&&nt.form===et.form){var it=Db(nt);if(!it)throw Error(p$2(90));Wa(nt),bb(nt,it)}}}break;case"textarea":ib(et,rt);break;case"select":tt=rt.value,tt!=null&&fb(et,!!rt.multiple,tt,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue$2,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(et){return et=Zb(et),et===null?null:et.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(et,tt){var rt=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(tt))throw Error(p$2(200));return cl(et,tt,null,rt)};reactDom_production_min.createRoot=function(et,tt){if(!nl(et))throw Error(p$2(299));var rt=!1,nt="",it=kl;return tt!=null&&(tt.unstable_strictMode===!0&&(rt=!0),tt.identifierPrefix!==void 0&&(nt=tt.identifierPrefix),tt.onRecoverableError!==void 0&&(it=tt.onRecoverableError)),tt=bl(et,1,!1,null,null,rt,!1,nt,it),et[uf]=tt.current,sf(et.nodeType===8?et.parentNode:et),new ll(tt)};reactDom_production_min.findDOMNode=function(et){if(et==null)return null;if(et.nodeType===1)return et;var tt=et._reactInternals;if(tt===void 0)throw typeof et.render=="function"?Error(p$2(188)):(et=Object.keys(et).join(","),Error(p$2(268,et)));return et=Zb(tt),et=et===null?null:et.stateNode,et};reactDom_production_min.flushSync=function(et){return Rk(et)};reactDom_production_min.hydrate=function(et,tt,rt){if(!ol(tt))throw Error(p$2(200));return rl(null,et,tt,!0,rt)};reactDom_production_min.hydrateRoot=function(et,tt,rt){if(!nl(et))throw Error(p$2(405));var nt=rt!=null&&rt.hydratedSources||null,it=!1,at="",ot=kl;if(rt!=null&&(rt.unstable_strictMode===!0&&(it=!0),rt.identifierPrefix!==void 0&&(at=rt.identifierPrefix),rt.onRecoverableError!==void 0&&(ot=rt.onRecoverableError)),tt=el(tt,null,et,1,rt??null,it,!1,at,ot),et[uf]=tt.current,sf(et),nt)for(et=0;et<nt.length;et++)rt=nt[et],it=rt._getVersion,it=it(rt._source),tt.mutableSourceEagerHydrationData==null?tt.mutableSourceEagerHydrationData=[rt,it]:tt.mutableSourceEagerHydrationData.push(rt,it);return new ml(tt)};reactDom_production_min.render=function(et,tt,rt){if(!ol(tt))throw Error(p$2(200));return rl(null,et,tt,!1,rt)};reactDom_production_min.unmountComponentAtNode=function(et){if(!ol(et))throw Error(p$2(40));return et._reactRootContainer?(Rk(function(){rl(null,null,et,!1,function(){et._reactRootContainer=null,et[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(et,tt,rt,nt){if(!ol(rt))throw Error(p$2(200));if(et==null||et._reactInternals===void 0)throw Error(p$2(38));return rl(et,tt,rt,!1,nt)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(et){console.error(et)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,createRoot,m$2=reactDomExports;createRoot=m$2.createRoot,m$2.hydrateRoot;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$y(){return _extends$y=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$y.apply(this,arguments)}var Action;(function(et){et.Pop="POP",et.Push="PUSH",et.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(et){et===void 0&&(et={});function tt(nt,it){let{pathname:at,search:ot,hash:st}=nt.location;return createLocation("",{pathname:at,search:ot,hash:st},it.state&&it.state.usr||null,it.state&&it.state.key||"default")}function rt(nt,it){return typeof it=="string"?it:createPath(it)}return getUrlBasedHistory(tt,rt,null,et)}function invariant$1(et,tt){if(et===!1||et===null||typeof et>"u")throw new Error(tt)}function warning(et,tt){if(!et){typeof console<"u"&&console.warn(tt);try{throw new Error(tt)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(et,tt){return{usr:et.state,key:et.key,idx:tt}}function createLocation(et,tt,rt,nt){return rt===void 0&&(rt=null),_extends$y({pathname:typeof et=="string"?et:et.pathname,search:"",hash:""},typeof tt=="string"?parsePath(tt):tt,{state:rt,key:tt&&tt.key||nt||createKey()})}function createPath(et){let{pathname:tt="/",search:rt="",hash:nt=""}=et;return rt&&rt!=="?"&&(tt+=rt.charAt(0)==="?"?rt:"?"+rt),nt&&nt!=="#"&&(tt+=nt.charAt(0)==="#"?nt:"#"+nt),tt}function parsePath(et){let tt={};if(et){let rt=et.indexOf("#");rt>=0&&(tt.hash=et.substr(rt),et=et.substr(0,rt));let nt=et.indexOf("?");nt>=0&&(tt.search=et.substr(nt),et=et.substr(0,nt)),et&&(tt.pathname=et)}return tt}function getUrlBasedHistory(et,tt,rt,nt){nt===void 0&&(nt={});let{window:it=document.defaultView,v5Compat:at=!1}=nt,ot=it.history,st=Action.Pop,lt=null,ct=ut();ct==null&&(ct=0,ot.replaceState(_extends$y({},ot.state,{idx:ct}),""));function ut(){return(ot.state||{idx:null}).idx}function ft(){st=Action.Pop;let xt=ut(),_t=xt==null?null:xt-ct;ct=xt,lt&&lt({action:st,location:yt.location,delta:_t})}function ht(xt,_t){st=Action.Push;let mt=createLocation(yt.location,xt,_t);ct=ut()+1;let pt=getHistoryState(mt,ct),bt=yt.createHref(mt);try{ot.pushState(pt,"",bt)}catch(Et){if(Et instanceof DOMException&&Et.name==="DataCloneError")throw Et;it.location.assign(bt)}at&&lt&&lt({action:st,location:yt.location,delta:1})}function dt(xt,_t){st=Action.Replace;let mt=createLocation(yt.location,xt,_t);ct=ut();let pt=getHistoryState(mt,ct),bt=yt.createHref(mt);ot.replaceState(pt,"",bt),at&&lt&&lt({action:st,location:yt.location,delta:0})}function vt(xt){let _t=it.location.origin!=="null"?it.location.origin:it.location.href,mt=typeof xt=="string"?xt:createPath(xt);return mt=mt.replace(/ $/,"%20"),invariant$1(_t,"No window.location.(origin|href) available to create URL for href: "+mt),new URL(mt,_t)}let yt={get action(){return st},get location(){return et(it,ot)},listen(xt){if(lt)throw new Error("A history only accepts one active listener");return it.addEventListener(PopStateEventType,ft),lt=xt,()=>{it.removeEventListener(PopStateEventType,ft),lt=null}},createHref(xt){return tt(it,xt)},createURL:vt,encodeLocation(xt){let _t=vt(xt);return{pathname:_t.pathname,search:_t.search,hash:_t.hash}},push:ht,replace:dt,go(xt){return ot.go(xt)}};return yt}var ResultType;(function(et){et.data="data",et.deferred="deferred",et.redirect="redirect",et.error="error"})(ResultType||(ResultType={}));function matchRoutes(et,tt,rt){return rt===void 0&&(rt="/"),matchRoutesImpl(et,tt,rt,!1)}function matchRoutesImpl(et,tt,rt,nt){let it=typeof tt=="string"?parsePath(tt):tt,at=stripBasename(it.pathname||"/",rt);if(at==null)return null;let ot=flattenRoutes(et);rankRouteBranches(ot);let st=null;for(let lt=0;st==null&&lt<ot.length;++lt){let ct=decodePath(at);st=matchRouteBranch(ot[lt],ct,nt)}return st}function flattenRoutes(et,tt,rt,nt){tt===void 0&&(tt=[]),rt===void 0&&(rt=[]),nt===void 0&&(nt="");let it=(at,ot,st)=>{let lt={relativePath:st===void 0?at.path||"":st,caseSensitive:at.caseSensitive===!0,childrenIndex:ot,route:at};lt.relativePath.startsWith("/")&&(invariant$1(lt.relativePath.startsWith(nt),'Absolute route path "'+lt.relativePath+'" nested under path '+('"'+nt+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),lt.relativePath=lt.relativePath.slice(nt.length));let ct=joinPaths([nt,lt.relativePath]),ut=rt.concat(lt);at.children&&at.children.length>0&&(invariant$1(at.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+ct+'".')),flattenRoutes(at.children,tt,ut,ct)),!(at.path==null&&!at.index)&&tt.push({path:ct,score:computeScore(ct,at.index),routesMeta:ut})};return et.forEach((at,ot)=>{var st;if(at.path===""||!((st=at.path)!=null&&st.includes("?")))it(at,ot);else for(let lt of explodeOptionalSegments(at.path))it(at,ot,lt)}),tt}function explodeOptionalSegments(et){let tt=et.split("/");if(tt.length===0)return[];let[rt,...nt]=tt,it=rt.endsWith("?"),at=rt.replace(/\?$/,"");if(nt.length===0)return it?[at,""]:[at];let ot=explodeOptionalSegments(nt.join("/")),st=[];return st.push(...ot.map(lt=>lt===""?at:[at,lt].join("/"))),it&&st.push(...ot),st.map(lt=>et.startsWith("/")&&lt===""?"/":lt)}function rankRouteBranches(et){et.sort((tt,rt)=>tt.score!==rt.score?rt.score-tt.score:compareIndexes(tt.routesMeta.map(nt=>nt.childrenIndex),rt.routesMeta.map(nt=>nt.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=et=>et==="*";function computeScore(et,tt){let rt=et.split("/"),nt=rt.length;return rt.some(isSplat)&&(nt+=splatPenalty),tt&&(nt+=indexRouteValue),rt.filter(it=>!isSplat(it)).reduce((it,at)=>it+(paramRe.test(at)?dynamicSegmentValue:at===""?emptySegmentValue:staticSegmentValue),nt)}function compareIndexes(et,tt){return et.length===tt.length&&et.slice(0,-1).every((nt,it)=>nt===tt[it])?et[et.length-1]-tt[tt.length-1]:0}function matchRouteBranch(et,tt,rt){let{routesMeta:nt}=et,it={},at="/",ot=[];for(let st=0;st<nt.length;++st){let lt=nt[st],ct=st===nt.length-1,ut=at==="/"?tt:tt.slice(at.length)||"/",ft=matchPath({path:lt.relativePath,caseSensitive:lt.caseSensitive,end:ct},ut),ht=lt.route;if(!ft&&ct&&rt&&!nt[nt.length-1].route.index&&(ft=matchPath({path:lt.relativePath,caseSensitive:lt.caseSensitive,end:!1},ut)),!ft)return null;Object.assign(it,ft.params),ot.push({params:it,pathname:joinPaths([at,ft.pathname]),pathnameBase:normalizePathname(joinPaths([at,ft.pathnameBase])),route:ht}),ft.pathnameBase!=="/"&&(at=joinPaths([at,ft.pathnameBase]))}return ot}function matchPath(et,tt){typeof et=="string"&&(et={path:et,caseSensitive:!1,end:!0});let[rt,nt]=compilePath(et.path,et.caseSensitive,et.end),it=tt.match(rt);if(!it)return null;let at=it[0],ot=at.replace(/(.)\/+$/,"$1"),st=it.slice(1);return{params:nt.reduce((ct,ut,ft)=>{let{paramName:ht,isOptional:dt}=ut;if(ht==="*"){let yt=st[ft]||"";ot=at.slice(0,at.length-yt.length).replace(/(.)\/+$/,"$1")}const vt=st[ft];return dt&&!vt?ct[ht]=void 0:ct[ht]=(vt||"").replace(/%2F/g,"/"),ct},{}),pathname:at,pathnameBase:ot,pattern:et}}function compilePath(et,tt,rt){tt===void 0&&(tt=!1),rt===void 0&&(rt=!0),warning(et==="*"||!et.endsWith("*")||et.endsWith("/*"),'Route path "'+et+'" will be treated as if it were '+('"'+et.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+et.replace(/\*$/,"/*")+'".'));let nt=[],it="^"+et.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(ot,st,lt)=>(nt.push({paramName:st,isOptional:lt!=null}),lt?"/?([^\\/]+)?":"/([^\\/]+)"));return et.endsWith("*")?(nt.push({paramName:"*"}),it+=et==="*"||et==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):rt?it+="\\/*$":et!==""&&et!=="/"&&(it+="(?:(?=\\/|$))"),[new RegExp(it,tt?void 0:"i"),nt]}function decodePath(et){try{return et.split("/").map(tt=>decodeURIComponent(tt).replace(/\//g,"%2F")).join("/")}catch(tt){return warning(!1,'The URL path "'+et+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+tt+").")),et}}function stripBasename(et,tt){if(tt==="/")return et;if(!et.toLowerCase().startsWith(tt.toLowerCase()))return null;let rt=tt.endsWith("/")?tt.length-1:tt.length,nt=et.charAt(rt);return nt&&nt!=="/"?null:et.slice(rt)||"/"}function resolvePath(et,tt){tt===void 0&&(tt="/");let{pathname:rt,search:nt="",hash:it=""}=typeof et=="string"?parsePath(et):et;return{pathname:rt?rt.startsWith("/")?rt:resolvePathname(rt,tt):tt,search:normalizeSearch(nt),hash:normalizeHash(it)}}function resolvePathname(et,tt){let rt=tt.replace(/\/+$/,"").split("/");return et.split("/").forEach(it=>{it===".."?rt.length>1&&rt.pop():it!=="."&&rt.push(it)}),rt.length>1?rt.join("/"):"/"}function getInvalidPathError(et,tt,rt,nt){return"Cannot include a '"+et+"' character in a manually specified "+("`to."+tt+"` field ["+JSON.stringify(nt)+"].  Please separate it out to the ")+("`to."+rt+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(et){return et.filter((tt,rt)=>rt===0||tt.route.path&&tt.route.path.length>0)}function getResolveToMatches(et,tt){let rt=getPathContributingMatches(et);return tt?rt.map((nt,it)=>it===rt.length-1?nt.pathname:nt.pathnameBase):rt.map(nt=>nt.pathnameBase)}function resolveTo(et,tt,rt,nt){nt===void 0&&(nt=!1);let it;typeof et=="string"?it=parsePath(et):(it=_extends$y({},et),invariant$1(!it.pathname||!it.pathname.includes("?"),getInvalidPathError("?","pathname","search",it)),invariant$1(!it.pathname||!it.pathname.includes("#"),getInvalidPathError("#","pathname","hash",it)),invariant$1(!it.search||!it.search.includes("#"),getInvalidPathError("#","search","hash",it)));let at=et===""||it.pathname==="",ot=at?"/":it.pathname,st;if(ot==null)st=rt;else{let ft=tt.length-1;if(!nt&&ot.startsWith("..")){let ht=ot.split("/");for(;ht[0]==="..";)ht.shift(),ft-=1;it.pathname=ht.join("/")}st=ft>=0?tt[ft]:"/"}let lt=resolvePath(it,st),ct=ot&&ot!=="/"&&ot.endsWith("/"),ut=(at||ot===".")&&rt.endsWith("/");return!lt.pathname.endsWith("/")&&(ct||ut)&&(lt.pathname+="/"),lt}const joinPaths=et=>et.join("/").replace(/\/\/+/g,"/"),normalizePathname=et=>et.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=et=>!et||et==="?"?"":et.startsWith("?")?et:"?"+et,normalizeHash=et=>!et||et==="#"?"":et.startsWith("#")?et:"#"+et;function isRouteErrorResponse(et){return et!=null&&typeof et.status=="number"&&typeof et.statusText=="string"&&typeof et.internal=="boolean"&&"data"in et}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$x(){return _extends$x=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$x.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(et,tt){let{relative:rt}=tt===void 0?{}:tt;useInRouterContext()||invariant$1(!1);let{basename:nt,navigator:it}=reactExports.useContext(NavigationContext),{hash:at,pathname:ot,search:st}=useResolvedPath(et,{relative:rt}),lt=ot;return nt!=="/"&&(lt=ot==="/"?nt:joinPaths([nt,ot])),it.createHref({pathname:lt,search:st,hash:at})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant$1(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect(et){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(et)}function useNavigate(){let{isDataRoute:et}=reactExports.useContext(RouteContext);return et?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant$1(!1);let et=reactExports.useContext(DataRouterContext),{basename:tt,future:rt,navigator:nt}=reactExports.useContext(NavigationContext),{matches:it}=reactExports.useContext(RouteContext),{pathname:at}=useLocation(),ot=JSON.stringify(getResolveToMatches(it,rt.v7_relativeSplatPath)),st=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{st.current=!0}),reactExports.useCallback(function(ct,ut){if(ut===void 0&&(ut={}),!st.current)return;if(typeof ct=="number"){nt.go(ct);return}let ft=resolveTo(ct,JSON.parse(ot),at,ut.relative==="path");et==null&&tt!=="/"&&(ft.pathname=ft.pathname==="/"?tt:joinPaths([tt,ft.pathname])),(ut.replace?nt.replace:nt.push)(ft,ut.state,ut)},[tt,nt,ot,at,et])}function useResolvedPath(et,tt){let{relative:rt}=tt===void 0?{}:tt,{future:nt}=reactExports.useContext(NavigationContext),{matches:it}=reactExports.useContext(RouteContext),{pathname:at}=useLocation(),ot=JSON.stringify(getResolveToMatches(it,nt.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(et,JSON.parse(ot),at,rt==="path"),[et,ot,at,rt])}function useRoutes(et,tt){return useRoutesImpl(et,tt)}function useRoutesImpl(et,tt,rt,nt){useInRouterContext()||invariant$1(!1);let{navigator:it}=reactExports.useContext(NavigationContext),{matches:at}=reactExports.useContext(RouteContext),ot=at[at.length-1],st=ot?ot.params:{};ot&&ot.pathname;let lt=ot?ot.pathnameBase:"/";ot&&ot.route;let ct=useLocation(),ut;if(tt){var ft;let xt=typeof tt=="string"?parsePath(tt):tt;lt==="/"||(ft=xt.pathname)!=null&&ft.startsWith(lt)||invariant$1(!1),ut=xt}else ut=ct;let ht=ut.pathname||"/",dt=ht;if(lt!=="/"){let xt=lt.replace(/^\//,"").split("/");dt="/"+ht.replace(/^\//,"").split("/").slice(xt.length).join("/")}let vt=matchRoutes(et,{pathname:dt}),yt=_renderMatches(vt&&vt.map(xt=>Object.assign({},xt,{params:Object.assign({},st,xt.params),pathname:joinPaths([lt,it.encodeLocation?it.encodeLocation(xt.pathname).pathname:xt.pathname]),pathnameBase:xt.pathnameBase==="/"?lt:joinPaths([lt,it.encodeLocation?it.encodeLocation(xt.pathnameBase).pathname:xt.pathnameBase])})),at,rt,nt);return tt&&yt?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$x({pathname:"/",search:"",hash:"",state:null,key:"default"},ut),navigationType:Action.Pop}},yt):yt}function DefaultErrorComponent(){let et=useRouteError(),tt=isRouteErrorResponse(et)?et.status+" "+et.statusText:et instanceof Error?et.message:JSON.stringify(et),rt=et instanceof Error?et.stack:null,it={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},tt),rt?reactExports.createElement("pre",{style:it},rt):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(tt){super(tt),this.state={location:tt.location,revalidation:tt.revalidation,error:tt.error}}static getDerivedStateFromError(tt){return{error:tt}}static getDerivedStateFromProps(tt,rt){return rt.location!==tt.location||rt.revalidation!=="idle"&&tt.revalidation==="idle"?{error:tt.error,location:tt.location,revalidation:tt.revalidation}:{error:tt.error!==void 0?tt.error:rt.error,location:rt.location,revalidation:tt.revalidation||rt.revalidation}}componentDidCatch(tt,rt){console.error("React Router caught the following error during render",tt,rt)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(et){let{routeContext:tt,match:rt,children:nt}=et,it=reactExports.useContext(DataRouterContext);return it&&it.static&&it.staticContext&&(rt.route.errorElement||rt.route.ErrorBoundary)&&(it.staticContext._deepestRenderedBoundaryId=rt.route.id),reactExports.createElement(RouteContext.Provider,{value:tt},nt)}function _renderMatches(et,tt,rt,nt){var it;if(tt===void 0&&(tt=[]),rt===void 0&&(rt=null),nt===void 0&&(nt=null),et==null){var at;if(!rt)return null;if(rt.errors)et=rt.matches;else if((at=nt)!=null&&at.v7_partialHydration&&tt.length===0&&!rt.initialized&&rt.matches.length>0)et=rt.matches;else return null}let ot=et,st=(it=rt)==null?void 0:it.errors;if(st!=null){let ut=ot.findIndex(ft=>ft.route.id&&(st==null?void 0:st[ft.route.id])!==void 0);ut>=0||invariant$1(!1),ot=ot.slice(0,Math.min(ot.length,ut+1))}let lt=!1,ct=-1;if(rt&&nt&&nt.v7_partialHydration)for(let ut=0;ut<ot.length;ut++){let ft=ot[ut];if((ft.route.HydrateFallback||ft.route.hydrateFallbackElement)&&(ct=ut),ft.route.id){let{loaderData:ht,errors:dt}=rt,vt=ft.route.loader&&ht[ft.route.id]===void 0&&(!dt||dt[ft.route.id]===void 0);if(ft.route.lazy||vt){lt=!0,ct>=0?ot=ot.slice(0,ct+1):ot=[ot[0]];break}}}return ot.reduceRight((ut,ft,ht)=>{let dt,vt=!1,yt=null,xt=null;rt&&(dt=st&&ft.route.id?st[ft.route.id]:void 0,yt=ft.route.errorElement||defaultErrorElement,lt&&(ct<0&&ht===0?(vt=!0,xt=null):ct===ht&&(vt=!0,xt=ft.route.hydrateFallbackElement||null)));let _t=tt.concat(ot.slice(0,ht+1)),mt=()=>{let pt;return dt?pt=yt:vt?pt=xt:ft.route.Component?pt=reactExports.createElement(ft.route.Component,null):ft.route.element?pt=ft.route.element:pt=ut,reactExports.createElement(RenderedRoute,{match:ft,routeContext:{outlet:ut,matches:_t,isDataRoute:rt!=null},children:pt})};return rt&&(ft.route.ErrorBoundary||ft.route.errorElement||ht===0)?reactExports.createElement(RenderErrorBoundary,{location:rt.location,revalidation:rt.revalidation,component:yt,error:dt,children:mt(),routeContext:{outlet:null,matches:_t,isDataRoute:!0}}):mt()},null)}var DataRouterHook$1=function(et){return et.UseBlocker="useBlocker",et.UseRevalidator="useRevalidator",et.UseNavigateStable="useNavigate",et}(DataRouterHook$1||{}),DataRouterStateHook$1=function(et){return et.UseBlocker="useBlocker",et.UseLoaderData="useLoaderData",et.UseActionData="useActionData",et.UseRouteError="useRouteError",et.UseNavigation="useNavigation",et.UseRouteLoaderData="useRouteLoaderData",et.UseMatches="useMatches",et.UseRevalidator="useRevalidator",et.UseNavigateStable="useNavigate",et.UseRouteId="useRouteId",et}(DataRouterStateHook$1||{});function useDataRouterContext(et){let tt=reactExports.useContext(DataRouterContext);return tt||invariant$1(!1),tt}function useDataRouterState(et){let tt=reactExports.useContext(DataRouterStateContext);return tt||invariant$1(!1),tt}function useRouteContext(et){let tt=reactExports.useContext(RouteContext);return tt||invariant$1(!1),tt}function useCurrentRouteId(et){let tt=useRouteContext(),rt=tt.matches[tt.matches.length-1];return rt.route.id||invariant$1(!1),rt.route.id}function useRouteError(){var et;let tt=reactExports.useContext(RouteErrorContext),rt=useDataRouterState(DataRouterStateHook$1.UseRouteError),nt=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return tt!==void 0?tt:(et=rt.errors)==null?void 0:et[nt]}function useNavigateStable(){let{router:et}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),tt=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),rt=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{rt.current=!0}),reactExports.useCallback(function(it,at){at===void 0&&(at={}),rt.current&&(typeof it=="number"?et.navigate(it):et.navigate(it,_extends$x({fromRouteId:tt},at)))},[et,tt])}function Navigate(et){let{to:tt,replace:rt,state:nt,relative:it}=et;useInRouterContext()||invariant$1(!1);let{future:at,static:ot}=reactExports.useContext(NavigationContext),{matches:st}=reactExports.useContext(RouteContext),{pathname:lt}=useLocation(),ct=useNavigate(),ut=resolveTo(tt,getResolveToMatches(st,at.v7_relativeSplatPath),lt,it==="path"),ft=JSON.stringify(ut);return reactExports.useEffect(()=>ct(JSON.parse(ft),{replace:rt,state:nt,relative:it}),[ct,ft,it,rt,nt]),null}function Route(et){invariant$1(!1)}function Router(et){let{basename:tt="/",children:rt=null,location:nt,navigationType:it=Action.Pop,navigator:at,static:ot=!1,future:st}=et;useInRouterContext()&&invariant$1(!1);let lt=tt.replace(/^\/*/,"/"),ct=reactExports.useMemo(()=>({basename:lt,navigator:at,static:ot,future:_extends$x({v7_relativeSplatPath:!1},st)}),[lt,st,at,ot]);typeof nt=="string"&&(nt=parsePath(nt));let{pathname:ut="/",search:ft="",hash:ht="",state:dt=null,key:vt="default"}=nt,yt=reactExports.useMemo(()=>{let xt=stripBasename(ut,lt);return xt==null?null:{location:{pathname:xt,search:ft,hash:ht,state:dt,key:vt},navigationType:it}},[lt,ut,ft,ht,dt,vt,it]);return yt==null?null:reactExports.createElement(NavigationContext.Provider,{value:ct},reactExports.createElement(LocationContext.Provider,{children:rt,value:yt}))}function Routes(et){let{children:tt,location:rt}=et;return useRoutes(createRoutesFromChildren(tt),rt)}new Promise(()=>{});function createRoutesFromChildren(et,tt){tt===void 0&&(tt=[]);let rt=[];return reactExports.Children.forEach(et,(nt,it)=>{if(!reactExports.isValidElement(nt))return;let at=[...tt,it];if(nt.type===reactExports.Fragment){rt.push.apply(rt,createRoutesFromChildren(nt.props.children,at));return}nt.type!==Route&&invariant$1(!1),!nt.props.index||!nt.props.children||invariant$1(!1);let ot={id:nt.props.id||at.join("-"),caseSensitive:nt.props.caseSensitive,element:nt.props.element,Component:nt.props.Component,index:nt.props.index,path:nt.props.path,loader:nt.props.loader,action:nt.props.action,errorElement:nt.props.errorElement,ErrorBoundary:nt.props.ErrorBoundary,hasErrorBoundary:nt.props.ErrorBoundary!=null||nt.props.errorElement!=null,shouldRevalidate:nt.props.shouldRevalidate,handle:nt.props.handle,lazy:nt.props.lazy};nt.props.children&&(ot.children=createRoutesFromChildren(nt.props.children,at)),rt.push(ot)}),rt}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$w(){return _extends$w=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$w.apply(this,arguments)}function _objectWithoutPropertiesLoose$k(et,tt){if(et==null)return{};var rt={},nt=Object.keys(et),it,at;for(at=0;at<nt.length;at++)it=nt[at],!(tt.indexOf(it)>=0)&&(rt[it]=et[it]);return rt}function isModifiedEvent(et){return!!(et.metaKey||et.altKey||et.ctrlKey||et.shiftKey)}function shouldProcessLinkClick(et,tt){return et.button===0&&(!tt||tt==="_self")&&!isModifiedEvent(et)}const _excluded$k=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=React$1[START_TRANSITION];function BrowserRouter(et){let{basename:tt,children:rt,future:nt,window:it}=et,at=reactExports.useRef();at.current==null&&(at.current=createBrowserHistory({window:it,v5Compat:!0}));let ot=at.current,[st,lt]=reactExports.useState({action:ot.action,location:ot.location}),{v7_startTransition:ct}=nt||{},ut=reactExports.useCallback(ft=>{ct&&startTransitionImpl?startTransitionImpl(()=>lt(ft)):lt(ft)},[lt,ct]);return reactExports.useLayoutEffect(()=>ot.listen(ut),[ot,ut]),reactExports.createElement(Router,{basename:tt,children:rt,location:st.location,navigationType:st.action,navigator:ot,future:nt})}const isBrowser=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function(tt,rt){let{onClick:nt,relative:it,reloadDocument:at,replace:ot,state:st,target:lt,to:ct,preventScrollReset:ut,unstable_viewTransition:ft}=tt,ht=_objectWithoutPropertiesLoose$k(tt,_excluded$k),{basename:dt}=reactExports.useContext(NavigationContext),vt,yt=!1;if(typeof ct=="string"&&ABSOLUTE_URL_REGEX.test(ct)&&(vt=ct,isBrowser))try{let pt=new URL(window.location.href),bt=ct.startsWith("//")?new URL(pt.protocol+ct):new URL(ct),Et=stripBasename(bt.pathname,dt);bt.origin===pt.origin&&Et!=null?ct=Et+bt.search+bt.hash:yt=!0}catch{}let xt=useHref(ct,{relative:it}),_t=useLinkClickHandler(ct,{replace:ot,state:st,target:lt,preventScrollReset:ut,relative:it,unstable_viewTransition:ft});function mt(pt){nt&&nt(pt),pt.defaultPrevented||_t(pt)}return reactExports.createElement("a",_extends$w({},ht,{href:vt||xt,onClick:yt||at?nt:mt,ref:rt,target:lt}))});var DataRouterHook;(function(et){et.UseScrollRestoration="useScrollRestoration",et.UseSubmit="useSubmit",et.UseSubmitFetcher="useSubmitFetcher",et.UseFetcher="useFetcher",et.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(et){et.UseFetcher="useFetcher",et.UseFetchers="useFetchers",et.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler(et,tt){let{target:rt,replace:nt,state:it,preventScrollReset:at,relative:ot,unstable_viewTransition:st}=tt===void 0?{}:tt,lt=useNavigate(),ct=useLocation(),ut=useResolvedPath(et,{relative:ot});return reactExports.useCallback(ft=>{if(shouldProcessLinkClick(ft,rt)){ft.preventDefault();let ht=nt!==void 0?nt:createPath(ct)===createPath(ut);lt(et,{replace:ht,state:it,preventScrollReset:at,relative:ot,unstable_viewTransition:st})}},[ct,lt,ut,nt,it,rt,et,at,ot,st])}var define_process_env_default={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray$1=function(et){const tt=[];let rt=0;for(let nt=0;nt<et.length;nt++){let it=et.charCodeAt(nt);it<128?tt[rt++]=it:it<2048?(tt[rt++]=it>>6|192,tt[rt++]=it&63|128):(it&64512)===55296&&nt+1<et.length&&(et.charCodeAt(nt+1)&64512)===56320?(it=65536+((it&1023)<<10)+(et.charCodeAt(++nt)&1023),tt[rt++]=it>>18|240,tt[rt++]=it>>12&63|128,tt[rt++]=it>>6&63|128,tt[rt++]=it&63|128):(tt[rt++]=it>>12|224,tt[rt++]=it>>6&63|128,tt[rt++]=it&63|128)}return tt},byteArrayToString=function(et){const tt=[];let rt=0,nt=0;for(;rt<et.length;){const it=et[rt++];if(it<128)tt[nt++]=String.fromCharCode(it);else if(it>191&&it<224){const at=et[rt++];tt[nt++]=String.fromCharCode((it&31)<<6|at&63)}else if(it>239&&it<365){const at=et[rt++],ot=et[rt++],st=et[rt++],lt=((it&7)<<18|(at&63)<<12|(ot&63)<<6|st&63)-65536;tt[nt++]=String.fromCharCode(55296+(lt>>10)),tt[nt++]=String.fromCharCode(56320+(lt&1023))}else{const at=et[rt++],ot=et[rt++];tt[nt++]=String.fromCharCode((it&15)<<12|(at&63)<<6|ot&63)}}return tt.join("")},base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(et,tt){if(!Array.isArray(et))throw Error("encodeByteArray takes an array as a parameter");this.init_();const rt=tt?this.byteToCharMapWebSafe_:this.byteToCharMap_,nt=[];for(let it=0;it<et.length;it+=3){const at=et[it],ot=it+1<et.length,st=ot?et[it+1]:0,lt=it+2<et.length,ct=lt?et[it+2]:0,ut=at>>2,ft=(at&3)<<4|st>>4;let ht=(st&15)<<2|ct>>6,dt=ct&63;lt||(dt=64,ot||(ht=64)),nt.push(rt[ut],rt[ft],rt[ht],rt[dt])}return nt.join("")},encodeString(et,tt){return this.HAS_NATIVE_SUPPORT&&!tt?btoa(et):this.encodeByteArray(stringToByteArray$1(et),tt)},decodeString(et,tt){return this.HAS_NATIVE_SUPPORT&&!tt?atob(et):byteArrayToString(this.decodeStringToByteArray(et,tt))},decodeStringToByteArray(et,tt){this.init_();const rt=tt?this.charToByteMapWebSafe_:this.charToByteMap_,nt=[];for(let it=0;it<et.length;){const at=rt[et.charAt(it++)],st=it<et.length?rt[et.charAt(it)]:0;++it;const ct=it<et.length?rt[et.charAt(it)]:64;++it;const ft=it<et.length?rt[et.charAt(it)]:64;if(++it,at==null||st==null||ct==null||ft==null)throw new DecodeBase64StringError;const ht=at<<2|st>>4;if(nt.push(ht),ct!==64){const dt=st<<4&240|ct>>2;if(nt.push(dt),ft!==64){const vt=ct<<6&192|ft;nt.push(vt)}}}return nt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let et=0;et<this.ENCODED_VALS.length;et++)this.byteToCharMap_[et]=this.ENCODED_VALS.charAt(et),this.charToByteMap_[this.byteToCharMap_[et]]=et,this.byteToCharMapWebSafe_[et]=this.ENCODED_VALS_WEBSAFE.charAt(et),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[et]]=et,et>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(et)]=et,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(et)]=et)}}};class DecodeBase64StringError extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const base64Encode=function(et){const tt=stringToByteArray$1(et);return base64.encodeByteArray(tt,!0)},base64urlEncodeWithoutPadding=function(et){return base64Encode(et).replace(/\./g,"")},base64Decode=function(et){try{return base64.decodeString(et,!0)}catch(tt){console.error("base64Decode failed: ",tt)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getGlobal(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const getDefaultsFromGlobal=()=>getGlobal().__FIREBASE_DEFAULTS__,getDefaultsFromEnvVariable=()=>{if(typeof process>"u"||typeof define_process_env_default>"u")return;const et=define_process_env_default.__FIREBASE_DEFAULTS__;if(et)return JSON.parse(et)},getDefaultsFromCookie=()=>{if(typeof document>"u")return;let et;try{et=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const tt=et&&base64Decode(et[1]);return tt&&JSON.parse(tt)},getDefaults=()=>{try{return getDefaultsFromGlobal()||getDefaultsFromEnvVariable()||getDefaultsFromCookie()}catch(et){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${et}`);return}},getDefaultEmulatorHost=et=>{var tt,rt;return(rt=(tt=getDefaults())===null||tt===void 0?void 0:tt.emulatorHosts)===null||rt===void 0?void 0:rt[et]},getDefaultEmulatorHostnameAndPort=et=>{const tt=getDefaultEmulatorHost(et);if(!tt)return;const rt=tt.lastIndexOf(":");if(rt<=0||rt+1===tt.length)throw new Error(`Invalid host ${tt} with no separate hostname and port!`);const nt=parseInt(tt.substring(rt+1),10);return tt[0]==="["?[tt.substring(1,rt-1),nt]:[tt.substring(0,rt),nt]},getDefaultAppConfig=()=>{var et;return(et=getDefaults())===null||et===void 0?void 0:et.config},getExperimentalSetting=et=>{var tt;return(tt=getDefaults())===null||tt===void 0?void 0:tt[`_${et}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((tt,rt)=>{this.resolve=tt,this.reject=rt})}wrapCallback(tt){return(rt,nt)=>{rt?this.reject(rt):this.resolve(nt),typeof tt=="function"&&(this.promise.catch(()=>{}),tt.length===1?tt(rt):tt(rt,nt))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createMockUserToken(et,tt){if(et.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const rt={alg:"none",type:"JWT"},nt=tt||"demo-project",it=et.iat||0,at=et.sub||et.user_id;if(!at)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ot=Object.assign({iss:`https://securetoken.google.com/${nt}`,aud:nt,iat:it,exp:it+3600,auth_time:it,sub:at,user_id:at,firebase:{sign_in_provider:"custom",identities:{}}},et);return[base64urlEncodeWithoutPadding(JSON.stringify(rt)),base64urlEncodeWithoutPadding(JSON.stringify(ot)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getUA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function isMobileCordova(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA())}function isNode(){var et;const tt=(et=getDefaults())===null||et===void 0?void 0:et.forceEnvironment;if(tt==="node")return!0;if(tt==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function isBrowserExtension(){const et=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof et=="object"&&et.id!==void 0}function isReactNative(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function isIE(){const et=getUA();return et.indexOf("MSIE ")>=0||et.indexOf("Trident/")>=0}function isSafari(){return!isNode()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function isIndexedDBAvailable(){try{return typeof indexedDB=="object"}catch{return!1}}function validateIndexedDBOpenable(){return new Promise((et,tt)=>{try{let rt=!0;const nt="validate-browser-context-for-indexeddb-analytics-module",it=self.indexedDB.open(nt);it.onsuccess=()=>{it.result.close(),rt||self.indexedDB.deleteDatabase(nt),et(!0)},it.onupgradeneeded=()=>{rt=!1},it.onerror=()=>{var at;tt(((at=it.error)===null||at===void 0?void 0:at.message)||"")}}catch(rt){tt(rt)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_NAME="FirebaseError";class FirebaseError extends Error{constructor(tt,rt,nt){super(rt),this.code=tt,this.customData=nt,this.name=ERROR_NAME,Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}class ErrorFactory{constructor(tt,rt,nt){this.service=tt,this.serviceName=rt,this.errors=nt}create(tt,...rt){const nt=rt[0]||{},it=`${this.service}/${tt}`,at=this.errors[tt],ot=at?replaceTemplate(at,nt):"Error",st=`${this.serviceName}: ${ot} (${it}).`;return new FirebaseError(it,st,nt)}}function replaceTemplate(et,tt){return et.replace(PATTERN,(rt,nt)=>{const it=tt[nt];return it!=null?String(it):`<${nt}?>`})}const PATTERN=/\{\$([^}]+)}/g;function isEmpty$1(et){for(const tt in et)if(Object.prototype.hasOwnProperty.call(et,tt))return!1;return!0}function deepEqual$2(et,tt){if(et===tt)return!0;const rt=Object.keys(et),nt=Object.keys(tt);for(const it of rt){if(!nt.includes(it))return!1;const at=et[it],ot=tt[it];if(isObject$e(at)&&isObject$e(ot)){if(!deepEqual$2(at,ot))return!1}else if(at!==ot)return!1}for(const it of nt)if(!rt.includes(it))return!1;return!0}function isObject$e(et){return et!==null&&typeof et=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function querystring(et){const tt=[];for(const[rt,nt]of Object.entries(et))Array.isArray(nt)?nt.forEach(it=>{tt.push(encodeURIComponent(rt)+"="+encodeURIComponent(it))}):tt.push(encodeURIComponent(rt)+"="+encodeURIComponent(nt));return tt.length?"&"+tt.join("&"):""}function querystringDecode(et){const tt={};return et.replace(/^\?/,"").split("&").forEach(nt=>{if(nt){const[it,at]=nt.split("=");tt[decodeURIComponent(it)]=decodeURIComponent(at)}}),tt}function extractQuerystring(et){const tt=et.indexOf("?");if(!tt)return"";const rt=et.indexOf("#",tt);return et.substring(tt,rt>0?rt:void 0)}function createSubscribe(et,tt){const rt=new ObserverProxy(et,tt);return rt.subscribe.bind(rt)}class ObserverProxy{constructor(tt,rt){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=rt,this.task.then(()=>{tt(this)}).catch(nt=>{this.error(nt)})}next(tt){this.forEachObserver(rt=>{rt.next(tt)})}error(tt){this.forEachObserver(rt=>{rt.error(tt)}),this.close(tt)}complete(){this.forEachObserver(tt=>{tt.complete()}),this.close()}subscribe(tt,rt,nt){let it;if(tt===void 0&&rt===void 0&&nt===void 0)throw new Error("Missing Observer.");implementsAnyMethods(tt,["next","error","complete"])?it=tt:it={next:tt,error:rt,complete:nt},it.next===void 0&&(it.next=noop$3),it.error===void 0&&(it.error=noop$3),it.complete===void 0&&(it.complete=noop$3);const at=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?it.error(this.finalError):it.complete()}catch{}}),this.observers.push(it),at}unsubscribeOne(tt){this.observers===void 0||this.observers[tt]===void 0||(delete this.observers[tt],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(tt){if(!this.finalized)for(let rt=0;rt<this.observers.length;rt++)this.sendOne(rt,tt)}sendOne(tt,rt){this.task.then(()=>{if(this.observers!==void 0&&this.observers[tt]!==void 0)try{rt(this.observers[tt])}catch(nt){typeof console<"u"&&console.error&&console.error(nt)}})}close(tt){this.finalized||(this.finalized=!0,tt!==void 0&&(this.finalError=tt),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function implementsAnyMethods(et,tt){if(typeof et!="object"||et===null)return!1;for(const rt of tt)if(rt in et&&typeof et[rt]=="function")return!0;return!1}function noop$3(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getModularInstance(et){return et&&et._delegate?et._delegate:et}class Component{constructor(tt,rt,nt){this.name=tt,this.instanceFactory=rt,this.type=nt,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(tt){return this.instantiationMode=tt,this}setMultipleInstances(tt){return this.multipleInstances=tt,this}setServiceProps(tt){return this.serviceProps=tt,this}setInstanceCreatedCallback(tt){return this.onInstanceCreated=tt,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME$1="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Provider{constructor(tt,rt){this.name=tt,this.container=rt,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(tt){const rt=this.normalizeInstanceIdentifier(tt);if(!this.instancesDeferred.has(rt)){const nt=new Deferred;if(this.instancesDeferred.set(rt,nt),this.isInitialized(rt)||this.shouldAutoInitialize())try{const it=this.getOrInitializeService({instanceIdentifier:rt});it&&nt.resolve(it)}catch{}}return this.instancesDeferred.get(rt).promise}getImmediate(tt){var rt;const nt=this.normalizeInstanceIdentifier(tt==null?void 0:tt.identifier),it=(rt=tt==null?void 0:tt.optional)!==null&&rt!==void 0?rt:!1;if(this.isInitialized(nt)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:nt})}catch(at){if(it)return null;throw at}else{if(it)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(tt){if(tt.name!==this.name)throw Error(`Mismatching Component ${tt.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=tt,!!this.shouldAutoInitialize()){if(isComponentEager(tt))try{this.getOrInitializeService({instanceIdentifier:DEFAULT_ENTRY_NAME$1})}catch{}for(const[rt,nt]of this.instancesDeferred.entries()){const it=this.normalizeInstanceIdentifier(rt);try{const at=this.getOrInitializeService({instanceIdentifier:it});nt.resolve(at)}catch{}}}}clearInstance(tt=DEFAULT_ENTRY_NAME$1){this.instancesDeferred.delete(tt),this.instancesOptions.delete(tt),this.instances.delete(tt)}async delete(){const tt=Array.from(this.instances.values());await Promise.all([...tt.filter(rt=>"INTERNAL"in rt).map(rt=>rt.INTERNAL.delete()),...tt.filter(rt=>"_delete"in rt).map(rt=>rt._delete())])}isComponentSet(){return this.component!=null}isInitialized(tt=DEFAULT_ENTRY_NAME$1){return this.instances.has(tt)}getOptions(tt=DEFAULT_ENTRY_NAME$1){return this.instancesOptions.get(tt)||{}}initialize(tt={}){const{options:rt={}}=tt,nt=this.normalizeInstanceIdentifier(tt.instanceIdentifier);if(this.isInitialized(nt))throw Error(`${this.name}(${nt}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const it=this.getOrInitializeService({instanceIdentifier:nt,options:rt});for(const[at,ot]of this.instancesDeferred.entries()){const st=this.normalizeInstanceIdentifier(at);nt===st&&ot.resolve(it)}return it}onInit(tt,rt){var nt;const it=this.normalizeInstanceIdentifier(rt),at=(nt=this.onInitCallbacks.get(it))!==null&&nt!==void 0?nt:new Set;at.add(tt),this.onInitCallbacks.set(it,at);const ot=this.instances.get(it);return ot&&tt(ot,it),()=>{at.delete(tt)}}invokeOnInitCallbacks(tt,rt){const nt=this.onInitCallbacks.get(rt);if(nt)for(const it of nt)try{it(tt,rt)}catch{}}getOrInitializeService({instanceIdentifier:tt,options:rt={}}){let nt=this.instances.get(tt);if(!nt&&this.component&&(nt=this.component.instanceFactory(this.container,{instanceIdentifier:normalizeIdentifierForFactory(tt),options:rt}),this.instances.set(tt,nt),this.instancesOptions.set(tt,rt),this.invokeOnInitCallbacks(nt,tt),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,tt,nt)}catch{}return nt||null}normalizeInstanceIdentifier(tt=DEFAULT_ENTRY_NAME$1){return this.component?this.component.multipleInstances?tt:DEFAULT_ENTRY_NAME$1:tt}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function normalizeIdentifierForFactory(et){return et===DEFAULT_ENTRY_NAME$1?void 0:et}function isComponentEager(et){return et.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ComponentContainer{constructor(tt){this.name=tt,this.providers=new Map}addComponent(tt){const rt=this.getProvider(tt.name);if(rt.isComponentSet())throw new Error(`Component ${tt.name} has already been registered with ${this.name}`);rt.setComponent(tt)}addOrOverwriteComponent(tt){this.getProvider(tt.name).isComponentSet()&&this.providers.delete(tt.name),this.addComponent(tt)}getProvider(tt){if(this.providers.has(tt))return this.providers.get(tt);const rt=new Provider(tt,this);return this.providers.set(tt,rt),rt}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LogLevel;(function(et){et[et.DEBUG=0]="DEBUG",et[et.VERBOSE=1]="VERBOSE",et[et.INFO=2]="INFO",et[et.WARN=3]="WARN",et[et.ERROR=4]="ERROR",et[et.SILENT=5]="SILENT"})(LogLevel||(LogLevel={}));const levelStringToEnum={debug:LogLevel.DEBUG,verbose:LogLevel.VERBOSE,info:LogLevel.INFO,warn:LogLevel.WARN,error:LogLevel.ERROR,silent:LogLevel.SILENT},defaultLogLevel=LogLevel.INFO,ConsoleMethod={[LogLevel.DEBUG]:"log",[LogLevel.VERBOSE]:"log",[LogLevel.INFO]:"info",[LogLevel.WARN]:"warn",[LogLevel.ERROR]:"error"},defaultLogHandler=(et,tt,...rt)=>{if(tt<et.logLevel)return;const nt=new Date().toISOString(),it=ConsoleMethod[tt];if(it)console[it](`[${nt}]  ${et.name}:`,...rt);else throw new Error(`Attempted to log a message with an invalid logType (value: ${tt})`)};class Logger{constructor(tt){this.name=tt,this._logLevel=defaultLogLevel,this._logHandler=defaultLogHandler,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(tt){if(!(tt in LogLevel))throw new TypeError(`Invalid value "${tt}" assigned to \`logLevel\``);this._logLevel=tt}setLogLevel(tt){this._logLevel=typeof tt=="string"?levelStringToEnum[tt]:tt}get logHandler(){return this._logHandler}set logHandler(tt){if(typeof tt!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=tt}get userLogHandler(){return this._userLogHandler}set userLogHandler(tt){this._userLogHandler=tt}debug(...tt){this._userLogHandler&&this._userLogHandler(this,LogLevel.DEBUG,...tt),this._logHandler(this,LogLevel.DEBUG,...tt)}log(...tt){this._userLogHandler&&this._userLogHandler(this,LogLevel.VERBOSE,...tt),this._logHandler(this,LogLevel.VERBOSE,...tt)}info(...tt){this._userLogHandler&&this._userLogHandler(this,LogLevel.INFO,...tt),this._logHandler(this,LogLevel.INFO,...tt)}warn(...tt){this._userLogHandler&&this._userLogHandler(this,LogLevel.WARN,...tt),this._logHandler(this,LogLevel.WARN,...tt)}error(...tt){this._userLogHandler&&this._userLogHandler(this,LogLevel.ERROR,...tt),this._logHandler(this,LogLevel.ERROR,...tt)}}const instanceOfAny=(et,tt)=>tt.some(rt=>et instanceof rt);let idbProxyableTypes,cursorAdvanceMethods;function getIdbProxyableTypes(){return idbProxyableTypes||(idbProxyableTypes=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function getCursorAdvanceMethods(){return cursorAdvanceMethods||(cursorAdvanceMethods=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cursorRequestMap=new WeakMap,transactionDoneMap=new WeakMap,transactionStoreNamesMap=new WeakMap,transformCache=new WeakMap,reverseTransformCache=new WeakMap;function promisifyRequest(et){const tt=new Promise((rt,nt)=>{const it=()=>{et.removeEventListener("success",at),et.removeEventListener("error",ot)},at=()=>{rt(wrap$1(et.result)),it()},ot=()=>{nt(et.error),it()};et.addEventListener("success",at),et.addEventListener("error",ot)});return tt.then(rt=>{rt instanceof IDBCursor&&cursorRequestMap.set(rt,et)}).catch(()=>{}),reverseTransformCache.set(tt,et),tt}function cacheDonePromiseForTransaction(et){if(transactionDoneMap.has(et))return;const tt=new Promise((rt,nt)=>{const it=()=>{et.removeEventListener("complete",at),et.removeEventListener("error",ot),et.removeEventListener("abort",ot)},at=()=>{rt(),it()},ot=()=>{nt(et.error||new DOMException("AbortError","AbortError")),it()};et.addEventListener("complete",at),et.addEventListener("error",ot),et.addEventListener("abort",ot)});transactionDoneMap.set(et,tt)}let idbProxyTraps={get(et,tt,rt){if(et instanceof IDBTransaction){if(tt==="done")return transactionDoneMap.get(et);if(tt==="objectStoreNames")return et.objectStoreNames||transactionStoreNamesMap.get(et);if(tt==="store")return rt.objectStoreNames[1]?void 0:rt.objectStore(rt.objectStoreNames[0])}return wrap$1(et[tt])},set(et,tt,rt){return et[tt]=rt,!0},has(et,tt){return et instanceof IDBTransaction&&(tt==="done"||tt==="store")?!0:tt in et}};function replaceTraps(et){idbProxyTraps=et(idbProxyTraps)}function wrapFunction(et){return et===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(tt,...rt){const nt=et.call(unwrap(this),tt,...rt);return transactionStoreNamesMap.set(nt,tt.sort?tt.sort():[tt]),wrap$1(nt)}:getCursorAdvanceMethods().includes(et)?function(...tt){return et.apply(unwrap(this),tt),wrap$1(cursorRequestMap.get(this))}:function(...tt){return wrap$1(et.apply(unwrap(this),tt))}}function transformCachableValue(et){return typeof et=="function"?wrapFunction(et):(et instanceof IDBTransaction&&cacheDonePromiseForTransaction(et),instanceOfAny(et,getIdbProxyableTypes())?new Proxy(et,idbProxyTraps):et)}function wrap$1(et){if(et instanceof IDBRequest)return promisifyRequest(et);if(transformCache.has(et))return transformCache.get(et);const tt=transformCachableValue(et);return tt!==et&&(transformCache.set(et,tt),reverseTransformCache.set(tt,et)),tt}const unwrap=et=>reverseTransformCache.get(et);function openDB(et,tt,{blocked:rt,upgrade:nt,blocking:it,terminated:at}={}){const ot=indexedDB.open(et,tt),st=wrap$1(ot);return nt&&ot.addEventListener("upgradeneeded",lt=>{nt(wrap$1(ot.result),lt.oldVersion,lt.newVersion,wrap$1(ot.transaction),lt)}),rt&&ot.addEventListener("blocked",lt=>rt(lt.oldVersion,lt.newVersion,lt)),st.then(lt=>{at&&lt.addEventListener("close",()=>at()),it&&lt.addEventListener("versionchange",ct=>it(ct.oldVersion,ct.newVersion,ct))}).catch(()=>{}),st}const readMethods=["get","getKey","getAll","getAllKeys","count"],writeMethods=["put","add","delete","clear"],cachedMethods=new Map;function getMethod(et,tt){if(!(et instanceof IDBDatabase&&!(tt in et)&&typeof tt=="string"))return;if(cachedMethods.get(tt))return cachedMethods.get(tt);const rt=tt.replace(/FromIndex$/,""),nt=tt!==rt,it=writeMethods.includes(rt);if(!(rt in(nt?IDBIndex:IDBObjectStore).prototype)||!(it||readMethods.includes(rt)))return;const at=async function(ot,...st){const lt=this.transaction(ot,it?"readwrite":"readonly");let ct=lt.store;return nt&&(ct=ct.index(st.shift())),(await Promise.all([ct[rt](...st),it&&lt.done]))[0]};return cachedMethods.set(tt,at),at}replaceTraps(et=>({...et,get:(tt,rt,nt)=>getMethod(tt,rt)||et.get(tt,rt,nt),has:(tt,rt)=>!!getMethod(tt,rt)||et.has(tt,rt)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PlatformLoggerServiceImpl{constructor(tt){this.container=tt}getPlatformInfoString(){return this.container.getProviders().map(rt=>{if(isVersionServiceProvider(rt)){const nt=rt.getImmediate();return`${nt.library}/${nt.version}`}else return null}).filter(rt=>rt).join(" ")}}function isVersionServiceProvider(et){const tt=et.getComponent();return(tt==null?void 0:tt.type)==="VERSION"}const name$p="@firebase/app",version$1$1="0.10.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger=new Logger("@firebase/app"),name$o="@firebase/app-compat",name$n="@firebase/analytics-compat",name$m="@firebase/analytics",name$l="@firebase/app-check-compat",name$k="@firebase/app-check",name$j="@firebase/auth",name$i="@firebase/auth-compat",name$h="@firebase/database",name$g="@firebase/database-compat",name$f="@firebase/functions",name$e="@firebase/functions-compat",name$d="@firebase/installations",name$c="@firebase/installations-compat",name$b="@firebase/messaging",name$a="@firebase/messaging-compat",name$9="@firebase/performance",name$8="@firebase/performance-compat",name$7="@firebase/remote-config",name$6="@firebase/remote-config-compat",name$5="@firebase/storage",name$4="@firebase/storage-compat",name$3="@firebase/firestore",name$2$1="@firebase/vertexai-preview",name$1$1="@firebase/firestore-compat",name$q="firebase",version$3="10.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME="[DEFAULT]",PLATFORM_LOG_STRING={[name$p]:"fire-core",[name$o]:"fire-core-compat",[name$m]:"fire-analytics",[name$n]:"fire-analytics-compat",[name$k]:"fire-app-check",[name$l]:"fire-app-check-compat",[name$j]:"fire-auth",[name$i]:"fire-auth-compat",[name$h]:"fire-rtdb",[name$g]:"fire-rtdb-compat",[name$f]:"fire-fn",[name$e]:"fire-fn-compat",[name$d]:"fire-iid",[name$c]:"fire-iid-compat",[name$b]:"fire-fcm",[name$a]:"fire-fcm-compat",[name$9]:"fire-perf",[name$8]:"fire-perf-compat",[name$7]:"fire-rc",[name$6]:"fire-rc-compat",[name$5]:"fire-gcs",[name$4]:"fire-gcs-compat",[name$3]:"fire-fst",[name$1$1]:"fire-fst-compat",[name$2$1]:"fire-vertex","fire-js":"fire-js",[name$q]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _apps=new Map,_serverApps=new Map,_components=new Map;function _addComponent(et,tt){try{et.container.addComponent(tt)}catch(rt){logger.debug(`Component ${tt.name} failed to register with FirebaseApp ${et.name}`,rt)}}function _registerComponent(et){const tt=et.name;if(_components.has(tt))return logger.debug(`There were multiple attempts to register component ${tt}.`),!1;_components.set(tt,et);for(const rt of _apps.values())_addComponent(rt,et);for(const rt of _serverApps.values())_addComponent(rt,et);return!0}function _getProvider(et,tt){const rt=et.container.getProvider("heartbeat").getImmediate({optional:!0});return rt&&rt.triggerHeartbeat(),et.container.getProvider(tt)}function _isFirebaseServerApp(et){return et.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ERROR_FACTORY=new ErrorFactory("app","Firebase",ERRORS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAppImpl{constructor(tt,rt,nt){this._isDeleted=!1,this._options=Object.assign({},tt),this._config=Object.assign({},rt),this._name=rt.name,this._automaticDataCollectionEnabled=rt.automaticDataCollectionEnabled,this._container=nt,this.container.addComponent(new Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(tt){this.checkDestroyed(),this._automaticDataCollectionEnabled=tt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(tt){this._isDeleted=tt}checkDestroyed(){if(this.isDeleted)throw ERROR_FACTORY.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SDK_VERSION=version$3;function initializeApp(et,tt={}){let rt=et;typeof tt!="object"&&(tt={name:tt});const nt=Object.assign({name:DEFAULT_ENTRY_NAME,automaticDataCollectionEnabled:!1},tt),it=nt.name;if(typeof it!="string"||!it)throw ERROR_FACTORY.create("bad-app-name",{appName:String(it)});if(rt||(rt=getDefaultAppConfig()),!rt)throw ERROR_FACTORY.create("no-options");const at=_apps.get(it);if(at){if(deepEqual$2(rt,at.options)&&deepEqual$2(nt,at.config))return at;throw ERROR_FACTORY.create("duplicate-app",{appName:it})}const ot=new ComponentContainer(it);for(const lt of _components.values())ot.addComponent(lt);const st=new FirebaseAppImpl(rt,nt,ot);return _apps.set(it,st),st}function getApp(et=DEFAULT_ENTRY_NAME){const tt=_apps.get(et);if(!tt&&et===DEFAULT_ENTRY_NAME&&getDefaultAppConfig())return initializeApp();if(!tt)throw ERROR_FACTORY.create("no-app",{appName:et});return tt}function registerVersion(et,tt,rt){var nt;let it=(nt=PLATFORM_LOG_STRING[et])!==null&&nt!==void 0?nt:et;rt&&(it+=`-${rt}`);const at=it.match(/\s|\//),ot=tt.match(/\s|\//);if(at||ot){const st=[`Unable to register library "${it}" with version "${tt}":`];at&&st.push(`library name "${it}" contains illegal characters (whitespace or "/")`),at&&ot&&st.push("and"),ot&&st.push(`version name "${tt}" contains illegal characters (whitespace or "/")`),logger.warn(st.join(" "));return}_registerComponent(new Component(`${it}-version`,()=>({library:it,version:tt}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME$1="firebase-heartbeat-database",DB_VERSION$1=1,STORE_NAME="firebase-heartbeat-store";let dbPromise=null;function getDbPromise(){return dbPromise||(dbPromise=openDB(DB_NAME$1,DB_VERSION$1,{upgrade:(et,tt)=>{switch(tt){case 0:try{et.createObjectStore(STORE_NAME)}catch(rt){console.warn(rt)}}}}).catch(et=>{throw ERROR_FACTORY.create("idb-open",{originalErrorMessage:et.message})})),dbPromise}async function readHeartbeatsFromIndexedDB(et){try{const rt=(await getDbPromise()).transaction(STORE_NAME),nt=await rt.objectStore(STORE_NAME).get(computeKey(et));return await rt.done,nt}catch(tt){if(tt instanceof FirebaseError)logger.warn(tt.message);else{const rt=ERROR_FACTORY.create("idb-get",{originalErrorMessage:tt==null?void 0:tt.message});logger.warn(rt.message)}}}async function writeHeartbeatsToIndexedDB(et,tt){try{const nt=(await getDbPromise()).transaction(STORE_NAME,"readwrite");await nt.objectStore(STORE_NAME).put(tt,computeKey(et)),await nt.done}catch(rt){if(rt instanceof FirebaseError)logger.warn(rt.message);else{const nt=ERROR_FACTORY.create("idb-set",{originalErrorMessage:rt==null?void 0:rt.message});logger.warn(nt.message)}}}function computeKey(et){return`${et.name}!${et.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_HEADER_BYTES=1024,STORED_HEARTBEAT_RETENTION_MAX_MILLIS=30*24*60*60*1e3;class HeartbeatServiceImpl{constructor(tt){this.container=tt,this._heartbeatsCache=null;const rt=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(rt),this._heartbeatsCachePromise=this._storage.read().then(nt=>(this._heartbeatsCache=nt,nt))}async triggerHeartbeat(){var tt,rt;try{const it=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),at=getUTCDateString();return((tt=this._heartbeatsCache)===null||tt===void 0?void 0:tt.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((rt=this._heartbeatsCache)===null||rt===void 0?void 0:rt.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===at||this._heartbeatsCache.heartbeats.some(ot=>ot.date===at)?void 0:(this._heartbeatsCache.heartbeats.push({date:at,agent:it}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(ot=>{const st=new Date(ot.date).valueOf();return Date.now()-st<=STORED_HEARTBEAT_RETENTION_MAX_MILLIS}),this._storage.overwrite(this._heartbeatsCache))}catch(nt){logger.warn(nt)}}async getHeartbeatsHeader(){var tt;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((tt=this._heartbeatsCache)===null||tt===void 0?void 0:tt.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const rt=getUTCDateString(),{heartbeatsToSend:nt,unsentEntries:it}=extractHeartbeatsForHeader(this._heartbeatsCache.heartbeats),at=base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:nt}));return this._heartbeatsCache.lastSentHeartbeatDate=rt,it.length>0?(this._heartbeatsCache.heartbeats=it,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),at}catch(rt){return logger.warn(rt),""}}}function getUTCDateString(){return new Date().toISOString().substring(0,10)}function extractHeartbeatsForHeader(et,tt=MAX_HEADER_BYTES){const rt=[];let nt=et.slice();for(const it of et){const at=rt.find(ot=>ot.agent===it.agent);if(at){if(at.dates.push(it.date),countBytes(rt)>tt){at.dates.pop();break}}else if(rt.push({agent:it.agent,dates:[it.date]}),countBytes(rt)>tt){rt.pop();break}nt=nt.slice(1)}return{heartbeatsToSend:rt,unsentEntries:nt}}class HeartbeatStorageImpl{constructor(tt){this.app=tt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return isIndexedDBAvailable()?validateIndexedDBOpenable().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const rt=await readHeartbeatsFromIndexedDB(this.app);return rt!=null&&rt.heartbeats?rt:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(tt){var rt;if(await this._canUseIndexedDBPromise){const it=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(rt=tt.lastSentHeartbeatDate)!==null&&rt!==void 0?rt:it.lastSentHeartbeatDate,heartbeats:tt.heartbeats})}else return}async add(tt){var rt;if(await this._canUseIndexedDBPromise){const it=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(rt=tt.lastSentHeartbeatDate)!==null&&rt!==void 0?rt:it.lastSentHeartbeatDate,heartbeats:[...it.heartbeats,...tt.heartbeats]})}else return}}function countBytes(et){return base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:et})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerCoreComponents(et){_registerComponent(new Component("platform-logger",tt=>new PlatformLoggerServiceImpl(tt),"PRIVATE")),_registerComponent(new Component("heartbeat",tt=>new HeartbeatServiceImpl(tt),"PRIVATE")),registerVersion(name$p,version$1$1,et),registerVersion(name$p,version$1$1,"esm2017"),registerVersion("fire-js","")}registerCoreComponents("");function __rest(et,tt){var rt={};for(var nt in et)Object.prototype.hasOwnProperty.call(et,nt)&&tt.indexOf(nt)<0&&(rt[nt]=et[nt]);if(et!=null&&typeof Object.getOwnPropertySymbols=="function")for(var it=0,nt=Object.getOwnPropertySymbols(et);it<nt.length;it++)tt.indexOf(nt[it])<0&&Object.prototype.propertyIsEnumerable.call(et,nt[it])&&(rt[nt[it]]=et[nt[it]]);return rt}typeof SuppressedError=="function"&&SuppressedError;function _prodErrorMap(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const prodErrorMap=_prodErrorMap,_DEFAULT_AUTH_ERROR_FACTORY=new ErrorFactory("auth","Firebase",_prodErrorMap());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logClient=new Logger("@firebase/auth");function _logWarn(et,...tt){logClient.logLevel<=LogLevel.WARN&&logClient.warn(`Auth (${SDK_VERSION}): ${et}`,...tt)}function _logError(et,...tt){logClient.logLevel<=LogLevel.ERROR&&logClient.error(`Auth (${SDK_VERSION}): ${et}`,...tt)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _fail(et,...tt){throw createErrorInternal(et,...tt)}function _createError(et,...tt){return createErrorInternal(et,...tt)}function _errorWithCustomMessage(et,tt,rt){const nt=Object.assign(Object.assign({},prodErrorMap()),{[tt]:rt});return new ErrorFactory("auth","Firebase",nt).create(tt,{appName:et.name})}function _serverAppCurrentUserOperationNotSupportedError(et){return _errorWithCustomMessage(et,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function createErrorInternal(et,...tt){if(typeof et!="string"){const rt=tt[0],nt=[...tt.slice(1)];return nt[0]&&(nt[0].appName=et.name),et._errorFactory.create(rt,...nt)}return _DEFAULT_AUTH_ERROR_FACTORY.create(et,...tt)}function _assert(et,tt,...rt){if(!et)throw createErrorInternal(tt,...rt)}function debugFail(et){const tt="INTERNAL ASSERTION FAILED: "+et;throw _logError(tt),new Error(tt)}function debugAssert(et,tt){et||debugFail(tt)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getCurrentUrl(){var et;return typeof self<"u"&&((et=self.location)===null||et===void 0?void 0:et.href)||""}function _isHttpOrHttps(){return _getCurrentScheme()==="http:"||_getCurrentScheme()==="https:"}function _getCurrentScheme(){var et;return typeof self<"u"&&((et=self.location)===null||et===void 0?void 0:et.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isOnline(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_isHttpOrHttps()||isBrowserExtension()||"connection"in navigator)?navigator.onLine:!0}function _getUserLanguage(){if(typeof navigator>"u")return null;const et=navigator;return et.languages&&et.languages[0]||et.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Delay{constructor(tt,rt){this.shortDelay=tt,this.longDelay=rt,debugAssert(rt>tt,"Short delay should be less than long delay!"),this.isMobile=isMobileCordova()||isReactNative()}get(){return _isOnline()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _emulatorUrl(et,tt){debugAssert(et.emulator,"Emulator should always be set here");const{url:rt}=et.emulator;return tt?`${rt}${tt.startsWith("/")?tt.slice(1):tt}`:rt}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FetchProvider{static initialize(tt,rt,nt){this.fetchImpl=tt,rt&&(this.headersImpl=rt),nt&&(this.responseImpl=nt)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;debugFail("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;debugFail("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;debugFail("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SERVER_ERROR_MAP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_API_TIMEOUT_MS=new Delay(3e4,6e4);function _addTidIfNecessary(et,tt){return et.tenantId&&!tt.tenantId?Object.assign(Object.assign({},tt),{tenantId:et.tenantId}):tt}async function _performApiRequest(et,tt,rt,nt,it={}){return _performFetchWithErrorHandling(et,it,async()=>{let at={},ot={};nt&&(tt==="GET"?ot=nt:at={body:JSON.stringify(nt)});const st=querystring(Object.assign({key:et.config.apiKey},ot)).slice(1),lt=await et._getAdditionalHeaders();return lt["Content-Type"]="application/json",et.languageCode&&(lt["X-Firebase-Locale"]=et.languageCode),FetchProvider.fetch()(_getFinalTarget(et,et.config.apiHost,rt,st),Object.assign({method:tt,headers:lt,referrerPolicy:"no-referrer"},at))})}async function _performFetchWithErrorHandling(et,tt,rt){et._canInitEmulator=!1;const nt=Object.assign(Object.assign({},SERVER_ERROR_MAP),tt);try{const it=new NetworkTimeout(et),at=await Promise.race([rt(),it.promise]);it.clearNetworkTimeout();const ot=await at.json();if("needConfirmation"in ot)throw _makeTaggedError(et,"account-exists-with-different-credential",ot);if(at.ok&&!("errorMessage"in ot))return ot;{const st=at.ok?ot.errorMessage:ot.error.message,[lt,ct]=st.split(" : ");if(lt==="FEDERATED_USER_ID_ALREADY_LINKED")throw _makeTaggedError(et,"credential-already-in-use",ot);if(lt==="EMAIL_EXISTS")throw _makeTaggedError(et,"email-already-in-use",ot);if(lt==="USER_DISABLED")throw _makeTaggedError(et,"user-disabled",ot);const ut=nt[lt]||lt.toLowerCase().replace(/[_\s]+/g,"-");if(ct)throw _errorWithCustomMessage(et,ut,ct);_fail(et,ut)}}catch(it){if(it instanceof FirebaseError)throw it;_fail(et,"network-request-failed",{message:String(it)})}}async function _performSignInRequest(et,tt,rt,nt,it={}){const at=await _performApiRequest(et,tt,rt,nt,it);return"mfaPendingCredential"in at&&_fail(et,"multi-factor-auth-required",{_serverResponse:at}),at}function _getFinalTarget(et,tt,rt,nt){const it=`${tt}${rt}?${nt}`;return et.config.emulator?_emulatorUrl(et.config,it):`${et.config.apiScheme}://${it}`}function _parseEnforcementState(et){switch(et){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class NetworkTimeout{constructor(tt){this.auth=tt,this.timer=null,this.promise=new Promise((rt,nt)=>{this.timer=setTimeout(()=>nt(_createError(this.auth,"network-request-failed")),DEFAULT_API_TIMEOUT_MS.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _makeTaggedError(et,tt,rt){const nt={appName:et.name};rt.email&&(nt.email=rt.email),rt.phoneNumber&&(nt.phoneNumber=rt.phoneNumber);const it=_createError(et,tt,nt);return it.customData._tokenResponse=rt,it}function isEnterprise(et){return et!==void 0&&et.enterprise!==void 0}class RecaptchaConfig{constructor(tt){if(this.siteKey="",this.recaptchaEnforcementState=[],tt.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=tt.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=tt.recaptchaEnforcementState}getProviderEnforcementState(tt){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const rt of this.recaptchaEnforcementState)if(rt.provider&&rt.provider===tt)return _parseEnforcementState(rt.enforcementState);return null}isProviderEnabled(tt){return this.getProviderEnforcementState(tt)==="ENFORCE"||this.getProviderEnforcementState(tt)==="AUDIT"}}async function getRecaptchaConfig(et,tt){return _performApiRequest(et,"GET","/v2/recaptchaConfig",_addTidIfNecessary(et,tt))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function deleteAccount(et,tt){return _performApiRequest(et,"POST","/v1/accounts:delete",tt)}async function getAccountInfo(et,tt){return _performApiRequest(et,"POST","/v1/accounts:lookup",tt)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function utcTimestampToDateString(et){if(et)try{const tt=new Date(Number(et));if(!isNaN(tt.getTime()))return tt.toUTCString()}catch{}}async function getIdTokenResult(et,tt=!1){const rt=getModularInstance(et),nt=await rt.getIdToken(tt),it=_parseToken(nt);_assert(it&&it.exp&&it.auth_time&&it.iat,rt.auth,"internal-error");const at=typeof it.firebase=="object"?it.firebase:void 0,ot=at==null?void 0:at.sign_in_provider;return{claims:it,token:nt,authTime:utcTimestampToDateString(secondsStringToMilliseconds(it.auth_time)),issuedAtTime:utcTimestampToDateString(secondsStringToMilliseconds(it.iat)),expirationTime:utcTimestampToDateString(secondsStringToMilliseconds(it.exp)),signInProvider:ot||null,signInSecondFactor:(at==null?void 0:at.sign_in_second_factor)||null}}function secondsStringToMilliseconds(et){return Number(et)*1e3}function _parseToken(et){const[tt,rt,nt]=et.split(".");if(tt===void 0||rt===void 0||nt===void 0)return _logError("JWT malformed, contained fewer than 3 sections"),null;try{const it=base64Decode(rt);return it?JSON.parse(it):(_logError("Failed to decode base64 JWT payload"),null)}catch(it){return _logError("Caught error parsing JWT payload as JSON",it==null?void 0:it.toString()),null}}function _tokenExpiresIn(et){const tt=_parseToken(et);return _assert(tt,"internal-error"),_assert(typeof tt.exp<"u","internal-error"),_assert(typeof tt.iat<"u","internal-error"),Number(tt.exp)-Number(tt.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _logoutIfInvalidated(et,tt,rt=!1){if(rt)return tt;try{return await tt}catch(nt){throw nt instanceof FirebaseError&&isUserInvalidated(nt)&&et.auth.currentUser===et&&await et.auth.signOut(),nt}}function isUserInvalidated({code:et}){return et==="auth/user-disabled"||et==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ProactiveRefresh{constructor(tt){this.user=tt,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(tt){var rt;if(tt){const nt=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),nt}else{this.errorBackoff=3e4;const it=((rt=this.user.stsTokenManager.expirationTime)!==null&&rt!==void 0?rt:0)-Date.now()-3e5;return Math.max(0,it)}}schedule(tt=!1){if(!this.isRunning)return;const rt=this.getInterval(tt);this.timerId=setTimeout(async()=>{await this.iteration()},rt)}async iteration(){try{await this.user.getIdToken(!0)}catch(tt){(tt==null?void 0:tt.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserMetadata{constructor(tt,rt){this.createdAt=tt,this.lastLoginAt=rt,this._initializeTime()}_initializeTime(){this.lastSignInTime=utcTimestampToDateString(this.lastLoginAt),this.creationTime=utcTimestampToDateString(this.createdAt)}_copy(tt){this.createdAt=tt.createdAt,this.lastLoginAt=tt.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reloadWithoutSaving(et){var tt;const rt=et.auth,nt=await et.getIdToken(),it=await _logoutIfInvalidated(et,getAccountInfo(rt,{idToken:nt}));_assert(it==null?void 0:it.users.length,rt,"internal-error");const at=it.users[0];et._notifyReloadListener(at);const ot=!((tt=at.providerUserInfo)===null||tt===void 0)&&tt.length?extractProviderData(at.providerUserInfo):[],st=mergeProviderData(et.providerData,ot),lt=et.isAnonymous,ct=!(et.email&&at.passwordHash)&&!(st!=null&&st.length),ut=lt?ct:!1,ft={uid:at.localId,displayName:at.displayName||null,photoURL:at.photoUrl||null,email:at.email||null,emailVerified:at.emailVerified||!1,phoneNumber:at.phoneNumber||null,tenantId:at.tenantId||null,providerData:st,metadata:new UserMetadata(at.createdAt,at.lastLoginAt),isAnonymous:ut};Object.assign(et,ft)}async function reload(et){const tt=getModularInstance(et);await _reloadWithoutSaving(tt),await tt.auth._persistUserIfCurrent(tt),tt.auth._notifyListenersIfCurrent(tt)}function mergeProviderData(et,tt){return[...et.filter(nt=>!tt.some(it=>it.providerId===nt.providerId)),...tt]}function extractProviderData(et){return et.map(tt=>{var{providerId:rt}=tt,nt=__rest(tt,["providerId"]);return{providerId:rt,uid:nt.rawId||"",displayName:nt.displayName||null,email:nt.email||null,phoneNumber:nt.phoneNumber||null,photoURL:nt.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function requestStsToken(et,tt){const rt=await _performFetchWithErrorHandling(et,{},async()=>{const nt=querystring({grant_type:"refresh_token",refresh_token:tt}).slice(1),{tokenApiHost:it,apiKey:at}=et.config,ot=_getFinalTarget(et,it,"/v1/token",`key=${at}`),st=await et._getAdditionalHeaders();return st["Content-Type"]="application/x-www-form-urlencoded",FetchProvider.fetch()(ot,{method:"POST",headers:st,body:nt})});return{accessToken:rt.access_token,expiresIn:rt.expires_in,refreshToken:rt.refresh_token}}async function revokeToken(et,tt){return _performApiRequest(et,"POST","/v2/accounts:revokeToken",_addTidIfNecessary(et,tt))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StsTokenManager{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(tt){_assert(tt.idToken,"internal-error"),_assert(typeof tt.idToken<"u","internal-error"),_assert(typeof tt.refreshToken<"u","internal-error");const rt="expiresIn"in tt&&typeof tt.expiresIn<"u"?Number(tt.expiresIn):_tokenExpiresIn(tt.idToken);this.updateTokensAndExpiration(tt.idToken,tt.refreshToken,rt)}updateFromIdToken(tt){_assert(tt.length!==0,"internal-error");const rt=_tokenExpiresIn(tt);this.updateTokensAndExpiration(tt,null,rt)}async getToken(tt,rt=!1){return!rt&&this.accessToken&&!this.isExpired?this.accessToken:(_assert(this.refreshToken,tt,"user-token-expired"),this.refreshToken?(await this.refresh(tt,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(tt,rt){const{accessToken:nt,refreshToken:it,expiresIn:at}=await requestStsToken(tt,rt);this.updateTokensAndExpiration(nt,it,Number(at))}updateTokensAndExpiration(tt,rt,nt){this.refreshToken=rt||null,this.accessToken=tt||null,this.expirationTime=Date.now()+nt*1e3}static fromJSON(tt,rt){const{refreshToken:nt,accessToken:it,expirationTime:at}=rt,ot=new StsTokenManager;return nt&&(_assert(typeof nt=="string","internal-error",{appName:tt}),ot.refreshToken=nt),it&&(_assert(typeof it=="string","internal-error",{appName:tt}),ot.accessToken=it),at&&(_assert(typeof at=="number","internal-error",{appName:tt}),ot.expirationTime=at),ot}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(tt){this.accessToken=tt.accessToken,this.refreshToken=tt.refreshToken,this.expirationTime=tt.expirationTime}_clone(){return Object.assign(new StsTokenManager,this.toJSON())}_performRefresh(){return debugFail("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function assertStringOrUndefined(et,tt){_assert(typeof et=="string"||typeof et>"u","internal-error",{appName:tt})}class UserImpl{constructor(tt){var{uid:rt,auth:nt,stsTokenManager:it}=tt,at=__rest(tt,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ProactiveRefresh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=rt,this.auth=nt,this.stsTokenManager=it,this.accessToken=it.accessToken,this.displayName=at.displayName||null,this.email=at.email||null,this.emailVerified=at.emailVerified||!1,this.phoneNumber=at.phoneNumber||null,this.photoURL=at.photoURL||null,this.isAnonymous=at.isAnonymous||!1,this.tenantId=at.tenantId||null,this.providerData=at.providerData?[...at.providerData]:[],this.metadata=new UserMetadata(at.createdAt||void 0,at.lastLoginAt||void 0)}async getIdToken(tt){const rt=await _logoutIfInvalidated(this,this.stsTokenManager.getToken(this.auth,tt));return _assert(rt,this.auth,"internal-error"),this.accessToken!==rt&&(this.accessToken=rt,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),rt}getIdTokenResult(tt){return getIdTokenResult(this,tt)}reload(){return reload(this)}_assign(tt){this!==tt&&(_assert(this.uid===tt.uid,this.auth,"internal-error"),this.displayName=tt.displayName,this.photoURL=tt.photoURL,this.email=tt.email,this.emailVerified=tt.emailVerified,this.phoneNumber=tt.phoneNumber,this.isAnonymous=tt.isAnonymous,this.tenantId=tt.tenantId,this.providerData=tt.providerData.map(rt=>Object.assign({},rt)),this.metadata._copy(tt.metadata),this.stsTokenManager._assign(tt.stsTokenManager))}_clone(tt){const rt=new UserImpl(Object.assign(Object.assign({},this),{auth:tt,stsTokenManager:this.stsTokenManager._clone()}));return rt.metadata._copy(this.metadata),rt}_onReload(tt){_assert(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=tt,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(tt){this.reloadListener?this.reloadListener(tt):this.reloadUserInfo=tt}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(tt,rt=!1){let nt=!1;tt.idToken&&tt.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(tt),nt=!0),rt&&await _reloadWithoutSaving(this),await this.auth._persistUserIfCurrent(this),nt&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_isFirebaseServerApp(this.auth.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this.auth));const tt=await this.getIdToken();return await _logoutIfInvalidated(this,deleteAccount(this.auth,{idToken:tt})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(tt=>Object.assign({},tt)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(tt,rt){var nt,it,at,ot,st,lt,ct,ut;const ft=(nt=rt.displayName)!==null&&nt!==void 0?nt:void 0,ht=(it=rt.email)!==null&&it!==void 0?it:void 0,dt=(at=rt.phoneNumber)!==null&&at!==void 0?at:void 0,vt=(ot=rt.photoURL)!==null&&ot!==void 0?ot:void 0,yt=(st=rt.tenantId)!==null&&st!==void 0?st:void 0,xt=(lt=rt._redirectEventId)!==null&&lt!==void 0?lt:void 0,_t=(ct=rt.createdAt)!==null&&ct!==void 0?ct:void 0,mt=(ut=rt.lastLoginAt)!==null&&ut!==void 0?ut:void 0,{uid:pt,emailVerified:bt,isAnonymous:Et,providerData:St,stsTokenManager:Tt}=rt;_assert(pt&&Tt,tt,"internal-error");const Pt=StsTokenManager.fromJSON(this.name,Tt);_assert(typeof pt=="string",tt,"internal-error"),assertStringOrUndefined(ft,tt.name),assertStringOrUndefined(ht,tt.name),_assert(typeof bt=="boolean",tt,"internal-error"),_assert(typeof Et=="boolean",tt,"internal-error"),assertStringOrUndefined(dt,tt.name),assertStringOrUndefined(vt,tt.name),assertStringOrUndefined(yt,tt.name),assertStringOrUndefined(xt,tt.name),assertStringOrUndefined(_t,tt.name),assertStringOrUndefined(mt,tt.name);const Rt=new UserImpl({uid:pt,auth:tt,email:ht,emailVerified:bt,displayName:ft,isAnonymous:Et,photoURL:vt,phoneNumber:dt,tenantId:yt,stsTokenManager:Pt,createdAt:_t,lastLoginAt:mt});return St&&Array.isArray(St)&&(Rt.providerData=St.map(It=>Object.assign({},It))),xt&&(Rt._redirectEventId=xt),Rt}static async _fromIdTokenResponse(tt,rt,nt=!1){const it=new StsTokenManager;it.updateFromServerResponse(rt);const at=new UserImpl({uid:rt.localId,auth:tt,stsTokenManager:it,isAnonymous:nt});return await _reloadWithoutSaving(at),at}static async _fromGetAccountInfoResponse(tt,rt,nt){const it=rt.users[0];_assert(it.localId!==void 0,"internal-error");const at=it.providerUserInfo!==void 0?extractProviderData(it.providerUserInfo):[],ot=!(it.email&&it.passwordHash)&&!(at!=null&&at.length),st=new StsTokenManager;st.updateFromIdToken(nt);const lt=new UserImpl({uid:it.localId,auth:tt,stsTokenManager:st,isAnonymous:ot}),ct={uid:it.localId,displayName:it.displayName||null,photoURL:it.photoUrl||null,email:it.email||null,emailVerified:it.emailVerified||!1,phoneNumber:it.phoneNumber||null,tenantId:it.tenantId||null,providerData:at,metadata:new UserMetadata(it.createdAt,it.lastLoginAt),isAnonymous:!(it.email&&it.passwordHash)&&!(at!=null&&at.length)};return Object.assign(lt,ct),lt}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const instanceCache=new Map;function _getInstance(et){debugAssert(et instanceof Function,"Expected a class definition");let tt=instanceCache.get(et);return tt?(debugAssert(tt instanceof et,"Instance stored in cache mismatched with class"),tt):(tt=new et,instanceCache.set(et,tt),tt)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class InMemoryPersistence{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(tt,rt){this.storage[tt]=rt}async _get(tt){const rt=this.storage[tt];return rt===void 0?null:rt}async _remove(tt){delete this.storage[tt]}_addListener(tt,rt){}_removeListener(tt,rt){}}InMemoryPersistence.type="NONE";const inMemoryPersistence=InMemoryPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _persistenceKeyName(et,tt,rt){return`firebase:${et}:${tt}:${rt}`}class PersistenceUserManager{constructor(tt,rt,nt){this.persistence=tt,this.auth=rt,this.userKey=nt;const{config:it,name:at}=this.auth;this.fullUserKey=_persistenceKeyName(this.userKey,it.apiKey,at),this.fullPersistenceKey=_persistenceKeyName("persistence",it.apiKey,at),this.boundEventHandler=rt._onStorageEvent.bind(rt),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(tt){return this.persistence._set(this.fullUserKey,tt.toJSON())}async getCurrentUser(){const tt=await this.persistence._get(this.fullUserKey);return tt?UserImpl._fromJSON(this.auth,tt):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(tt){if(this.persistence===tt)return;const rt=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=tt,rt)return this.setCurrentUser(rt)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(tt,rt,nt="authUser"){if(!rt.length)return new PersistenceUserManager(_getInstance(inMemoryPersistence),tt,nt);const it=(await Promise.all(rt.map(async ct=>{if(await ct._isAvailable())return ct}))).filter(ct=>ct);let at=it[0]||_getInstance(inMemoryPersistence);const ot=_persistenceKeyName(nt,tt.config.apiKey,tt.name);let st=null;for(const ct of rt)try{const ut=await ct._get(ot);if(ut){const ft=UserImpl._fromJSON(tt,ut);ct!==at&&(st=ft),at=ct;break}}catch{}const lt=it.filter(ct=>ct._shouldAllowMigration);return!at._shouldAllowMigration||!lt.length?new PersistenceUserManager(at,tt,nt):(at=lt[0],st&&await at._set(ot,st.toJSON()),await Promise.all(rt.map(async ct=>{if(ct!==at)try{await ct._remove(ot)}catch{}})),new PersistenceUserManager(at,tt,nt))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getBrowserName(et){const tt=et.toLowerCase();if(tt.includes("opera/")||tt.includes("opr/")||tt.includes("opios/"))return"Opera";if(_isIEMobile(tt))return"IEMobile";if(tt.includes("msie")||tt.includes("trident/"))return"IE";if(tt.includes("edge/"))return"Edge";if(_isFirefox(tt))return"Firefox";if(tt.includes("silk/"))return"Silk";if(_isBlackBerry(tt))return"Blackberry";if(_isWebOS(tt))return"Webos";if(_isSafari(tt))return"Safari";if((tt.includes("chrome/")||_isChromeIOS(tt))&&!tt.includes("edge/"))return"Chrome";if(_isAndroid(tt))return"Android";{const rt=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,nt=et.match(rt);if((nt==null?void 0:nt.length)===2)return nt[1]}return"Other"}function _isFirefox(et=getUA()){return/firefox\//i.test(et)}function _isSafari(et=getUA()){const tt=et.toLowerCase();return tt.includes("safari/")&&!tt.includes("chrome/")&&!tt.includes("crios/")&&!tt.includes("android")}function _isChromeIOS(et=getUA()){return/crios\//i.test(et)}function _isIEMobile(et=getUA()){return/iemobile/i.test(et)}function _isAndroid(et=getUA()){return/android/i.test(et)}function _isBlackBerry(et=getUA()){return/blackberry/i.test(et)}function _isWebOS(et=getUA()){return/webos/i.test(et)}function _isIOS(et=getUA()){return/iphone|ipad|ipod/i.test(et)||/macintosh/i.test(et)&&/mobile/i.test(et)}function _isIOSStandalone(et=getUA()){var tt;return _isIOS(et)&&!!(!((tt=window.navigator)===null||tt===void 0)&&tt.standalone)}function _isIE10(){return isIE()&&document.documentMode===10}function _isMobileBrowser(et=getUA()){return _isIOS(et)||_isAndroid(et)||_isWebOS(et)||_isBlackBerry(et)||/windows phone/i.test(et)||_isIEMobile(et)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getClientVersion(et,tt=[]){let rt;switch(et){case"Browser":rt=_getBrowserName(getUA());break;case"Worker":rt=`${_getBrowserName(getUA())}-${et}`;break;default:rt=et}const nt=tt.length?tt.join(","):"FirebaseCore-web";return`${rt}/JsCore/${SDK_VERSION}/${nt}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthMiddlewareQueue{constructor(tt){this.auth=tt,this.queue=[]}pushCallback(tt,rt){const nt=at=>new Promise((ot,st)=>{try{const lt=tt(at);ot(lt)}catch(lt){st(lt)}});nt.onAbort=rt,this.queue.push(nt);const it=this.queue.length-1;return()=>{this.queue[it]=()=>Promise.resolve()}}async runMiddleware(tt){if(this.auth.currentUser===tt)return;const rt=[];try{for(const nt of this.queue)await nt(tt),nt.onAbort&&rt.push(nt.onAbort)}catch(nt){rt.reverse();for(const it of rt)try{it()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:nt==null?void 0:nt.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getPasswordPolicy(et,tt={}){return _performApiRequest(et,"GET","/v2/passwordPolicy",_addTidIfNecessary(et,tt))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MINIMUM_MIN_PASSWORD_LENGTH=6;class PasswordPolicyImpl{constructor(tt){var rt,nt,it,at;const ot=tt.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(rt=ot.minPasswordLength)!==null&&rt!==void 0?rt:MINIMUM_MIN_PASSWORD_LENGTH,ot.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=ot.maxPasswordLength),ot.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=ot.containsLowercaseCharacter),ot.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=ot.containsUppercaseCharacter),ot.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=ot.containsNumericCharacter),ot.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=ot.containsNonAlphanumericCharacter),this.enforcementState=tt.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(it=(nt=tt.allowedNonAlphanumericCharacters)===null||nt===void 0?void 0:nt.join(""))!==null&&it!==void 0?it:"",this.forceUpgradeOnSignin=(at=tt.forceUpgradeOnSignin)!==null&&at!==void 0?at:!1,this.schemaVersion=tt.schemaVersion}validatePassword(tt){var rt,nt,it,at,ot,st;const lt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(tt,lt),this.validatePasswordCharacterOptions(tt,lt),lt.isValid&&(lt.isValid=(rt=lt.meetsMinPasswordLength)!==null&&rt!==void 0?rt:!0),lt.isValid&&(lt.isValid=(nt=lt.meetsMaxPasswordLength)!==null&&nt!==void 0?nt:!0),lt.isValid&&(lt.isValid=(it=lt.containsLowercaseLetter)!==null&&it!==void 0?it:!0),lt.isValid&&(lt.isValid=(at=lt.containsUppercaseLetter)!==null&&at!==void 0?at:!0),lt.isValid&&(lt.isValid=(ot=lt.containsNumericCharacter)!==null&&ot!==void 0?ot:!0),lt.isValid&&(lt.isValid=(st=lt.containsNonAlphanumericCharacter)!==null&&st!==void 0?st:!0),lt}validatePasswordLengthOptions(tt,rt){const nt=this.customStrengthOptions.minPasswordLength,it=this.customStrengthOptions.maxPasswordLength;nt&&(rt.meetsMinPasswordLength=tt.length>=nt),it&&(rt.meetsMaxPasswordLength=tt.length<=it)}validatePasswordCharacterOptions(tt,rt){this.updatePasswordCharacterOptionsStatuses(rt,!1,!1,!1,!1);let nt;for(let it=0;it<tt.length;it++)nt=tt.charAt(it),this.updatePasswordCharacterOptionsStatuses(rt,nt>="a"&&nt<="z",nt>="A"&&nt<="Z",nt>="0"&&nt<="9",this.allowedNonAlphanumericCharacters.includes(nt))}updatePasswordCharacterOptionsStatuses(tt,rt,nt,it,at){this.customStrengthOptions.containsLowercaseLetter&&(tt.containsLowercaseLetter||(tt.containsLowercaseLetter=rt)),this.customStrengthOptions.containsUppercaseLetter&&(tt.containsUppercaseLetter||(tt.containsUppercaseLetter=nt)),this.customStrengthOptions.containsNumericCharacter&&(tt.containsNumericCharacter||(tt.containsNumericCharacter=it)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(tt.containsNonAlphanumericCharacter||(tt.containsNonAlphanumericCharacter=at))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthImpl{constructor(tt,rt,nt,it){this.app=tt,this.heartbeatServiceProvider=rt,this.appCheckServiceProvider=nt,this.config=it,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Subscription(this),this.idTokenSubscription=new Subscription(this),this.beforeStateQueue=new AuthMiddlewareQueue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_DEFAULT_AUTH_ERROR_FACTORY,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=tt.name,this.clientVersion=it.sdkClientVersion}_initializeWithPersistence(tt,rt){return rt&&(this._popupRedirectResolver=_getInstance(rt)),this._initializationPromise=this.queue(async()=>{var nt,it;if(!this._deleted&&(this.persistenceManager=await PersistenceUserManager.create(this,tt),!this._deleted)){if(!((nt=this._popupRedirectResolver)===null||nt===void 0)&&nt._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(rt),this.lastNotifiedUid=((it=this.currentUser)===null||it===void 0?void 0:it.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const tt=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!tt)){if(this.currentUser&&tt&&this.currentUser.uid===tt.uid){this._currentUser._assign(tt),await this.currentUser.getIdToken();return}await this._updateCurrentUser(tt,!0)}}async initializeCurrentUserFromIdToken(tt){try{const rt=await getAccountInfo(this,{idToken:tt}),nt=await UserImpl._fromGetAccountInfoResponse(this,rt,tt);await this.directlySetCurrentUser(nt)}catch(rt){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",rt),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(tt){var rt;if(_isFirebaseServerApp(this.app)){const ot=this.app.settings.authIdToken;return ot?new Promise(st=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(ot).then(st,st))}):this.directlySetCurrentUser(null)}const nt=await this.assertedPersistence.getCurrentUser();let it=nt,at=!1;if(tt&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const ot=(rt=this.redirectUser)===null||rt===void 0?void 0:rt._redirectEventId,st=it==null?void 0:it._redirectEventId,lt=await this.tryRedirectSignIn(tt);(!ot||ot===st)&&(lt!=null&&lt.user)&&(it=lt.user,at=!0)}if(!it)return this.directlySetCurrentUser(null);if(!it._redirectEventId){if(at)try{await this.beforeStateQueue.runMiddleware(it)}catch(ot){it=nt,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(ot))}return it?this.reloadAndSetCurrentUserOrClear(it):this.directlySetCurrentUser(null)}return _assert(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===it._redirectEventId?this.directlySetCurrentUser(it):this.reloadAndSetCurrentUserOrClear(it)}async tryRedirectSignIn(tt){let rt=null;try{rt=await this._popupRedirectResolver._completeRedirectFn(this,tt,!0)}catch{await this._setRedirectUser(null)}return rt}async reloadAndSetCurrentUserOrClear(tt){try{await _reloadWithoutSaving(tt)}catch(rt){if((rt==null?void 0:rt.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(tt)}useDeviceLanguage(){this.languageCode=_getUserLanguage()}async _delete(){this._deleted=!0}async updateCurrentUser(tt){if(_isFirebaseServerApp(this.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this));const rt=tt?getModularInstance(tt):null;return rt&&_assert(rt.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(rt&&rt._clone(this))}async _updateCurrentUser(tt,rt=!1){if(!this._deleted)return tt&&_assert(this.tenantId===tt.tenantId,this,"tenant-id-mismatch"),rt||await this.beforeStateQueue.runMiddleware(tt),this.queue(async()=>{await this.directlySetCurrentUser(tt),this.notifyAuthListeners()})}async signOut(){return _isFirebaseServerApp(this.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(tt){return _isFirebaseServerApp(this.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_getInstance(tt))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(tt){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const rt=this._getPasswordPolicyInternal();return rt.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):rt.validatePassword(tt)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const tt=await _getPasswordPolicy(this),rt=new PasswordPolicyImpl(tt);this.tenantId===null?this._projectPasswordPolicy=rt:this._tenantPasswordPolicies[this.tenantId]=rt}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(tt){this._errorFactory=new ErrorFactory("auth","Firebase",tt())}onAuthStateChanged(tt,rt,nt){return this.registerStateListener(this.authStateSubscription,tt,rt,nt)}beforeAuthStateChanged(tt,rt){return this.beforeStateQueue.pushCallback(tt,rt)}onIdTokenChanged(tt,rt,nt){return this.registerStateListener(this.idTokenSubscription,tt,rt,nt)}authStateReady(){return new Promise((tt,rt)=>{if(this.currentUser)tt();else{const nt=this.onAuthStateChanged(()=>{nt(),tt()},rt)}})}async revokeAccessToken(tt){if(this.currentUser){const rt=await this.currentUser.getIdToken(),nt={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:tt,idToken:rt};this.tenantId!=null&&(nt.tenantId=this.tenantId),await revokeToken(this,nt)}}toJSON(){var tt;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(tt=this._currentUser)===null||tt===void 0?void 0:tt.toJSON()}}async _setRedirectUser(tt,rt){const nt=await this.getOrInitRedirectPersistenceManager(rt);return tt===null?nt.removeCurrentUser():nt.setCurrentUser(tt)}async getOrInitRedirectPersistenceManager(tt){if(!this.redirectPersistenceManager){const rt=tt&&_getInstance(tt)||this._popupRedirectResolver;_assert(rt,this,"argument-error"),this.redirectPersistenceManager=await PersistenceUserManager.create(this,[_getInstance(rt._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(tt){var rt,nt;return this._isInitialized&&await this.queue(async()=>{}),((rt=this._currentUser)===null||rt===void 0?void 0:rt._redirectEventId)===tt?this._currentUser:((nt=this.redirectUser)===null||nt===void 0?void 0:nt._redirectEventId)===tt?this.redirectUser:null}async _persistUserIfCurrent(tt){if(tt===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(tt))}_notifyListenersIfCurrent(tt){tt===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var tt,rt;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const nt=(rt=(tt=this.currentUser)===null||tt===void 0?void 0:tt.uid)!==null&&rt!==void 0?rt:null;this.lastNotifiedUid!==nt&&(this.lastNotifiedUid=nt,this.authStateSubscription.next(this.currentUser))}registerStateListener(tt,rt,nt,it){if(this._deleted)return()=>{};const at=typeof rt=="function"?rt:rt.next.bind(rt);let ot=!1;const st=this._isInitialized?Promise.resolve():this._initializationPromise;if(_assert(st,this,"internal-error"),st.then(()=>{ot||at(this.currentUser)}),typeof rt=="function"){const lt=tt.addObserver(rt,nt,it);return()=>{ot=!0,lt()}}else{const lt=tt.addObserver(rt);return()=>{ot=!0,lt()}}}async directlySetCurrentUser(tt){this.currentUser&&this.currentUser!==tt&&this._currentUser._stopProactiveRefresh(),tt&&this.isProactiveRefreshEnabled&&tt._startProactiveRefresh(),this.currentUser=tt,tt?await this.assertedPersistence.setCurrentUser(tt):await this.assertedPersistence.removeCurrentUser()}queue(tt){return this.operations=this.operations.then(tt,tt),this.operations}get assertedPersistence(){return _assert(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(tt){!tt||this.frameworks.includes(tt)||(this.frameworks.push(tt),this.frameworks.sort(),this.clientVersion=_getClientVersion(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var tt;const rt={"X-Client-Version":this.clientVersion};this.app.options.appId&&(rt["X-Firebase-gmpid"]=this.app.options.appId);const nt=await((tt=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||tt===void 0?void 0:tt.getHeartbeatsHeader());nt&&(rt["X-Firebase-Client"]=nt);const it=await this._getAppCheckToken();return it&&(rt["X-Firebase-AppCheck"]=it),rt}async _getAppCheckToken(){var tt;const rt=await((tt=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||tt===void 0?void 0:tt.getToken());return rt!=null&&rt.error&&_logWarn(`Error while retrieving App Check token: ${rt.error}`),rt==null?void 0:rt.token}}function _castAuth(et){return getModularInstance(et)}class Subscription{constructor(tt){this.auth=tt,this.observer=null,this.addObserver=createSubscribe(rt=>this.observer=rt)}get next(){return _assert(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let externalJSProvider={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _setExternalJSProvider(et){externalJSProvider=et}function _loadJS(et){return externalJSProvider.loadJS(et)}function _recaptchaEnterpriseScriptUrl(){return externalJSProvider.recaptchaEnterpriseScript}function _gapiScriptUrl(){return externalJSProvider.gapiScript}function _generateCallbackName(et){return`__${et}${Math.floor(Math.random()*1e6)}`}const RECAPTCHA_ENTERPRISE_VERIFIER_TYPE="recaptcha-enterprise",FAKE_TOKEN="NO_RECAPTCHA";class RecaptchaEnterpriseVerifier{constructor(tt){this.type=RECAPTCHA_ENTERPRISE_VERIFIER_TYPE,this.auth=_castAuth(tt)}async verify(tt="verify",rt=!1){async function nt(at){if(!rt){if(at.tenantId==null&&at._agentRecaptchaConfig!=null)return at._agentRecaptchaConfig.siteKey;if(at.tenantId!=null&&at._tenantRecaptchaConfigs[at.tenantId]!==void 0)return at._tenantRecaptchaConfigs[at.tenantId].siteKey}return new Promise(async(ot,st)=>{getRecaptchaConfig(at,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(lt=>{if(lt.recaptchaKey===void 0)st(new Error("recaptcha Enterprise site key undefined"));else{const ct=new RecaptchaConfig(lt);return at.tenantId==null?at._agentRecaptchaConfig=ct:at._tenantRecaptchaConfigs[at.tenantId]=ct,ot(ct.siteKey)}}).catch(lt=>{st(lt)})})}function it(at,ot,st){const lt=window.grecaptcha;isEnterprise(lt)?lt.enterprise.ready(()=>{lt.enterprise.execute(at,{action:tt}).then(ct=>{ot(ct)}).catch(()=>{ot(FAKE_TOKEN)})}):st(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((at,ot)=>{nt(this.auth).then(st=>{if(!rt&&isEnterprise(window.grecaptcha))it(st,at,ot);else{if(typeof window>"u"){ot(new Error("RecaptchaVerifier is only supported in browser"));return}let lt=_recaptchaEnterpriseScriptUrl();lt.length!==0&&(lt+=st),_loadJS(lt).then(()=>{it(st,at,ot)}).catch(ct=>{ot(ct)})}}).catch(st=>{ot(st)})})}}async function injectRecaptchaFields(et,tt,rt,nt=!1){const it=new RecaptchaEnterpriseVerifier(et);let at;try{at=await it.verify(rt)}catch{at=await it.verify(rt,!0)}const ot=Object.assign({},tt);return nt?Object.assign(ot,{captchaResp:at}):Object.assign(ot,{captchaResponse:at}),Object.assign(ot,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(ot,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),ot}async function handleRecaptchaFlow(et,tt,rt,nt){var it;if(!((it=et._getRecaptchaConfig())===null||it===void 0)&&it.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const at=await injectRecaptchaFields(et,tt,rt,rt==="getOobCode");return nt(et,at)}else return nt(et,tt).catch(async at=>{if(at.code==="auth/missing-recaptcha-token"){console.log(`${rt} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const ot=await injectRecaptchaFields(et,tt,rt,rt==="getOobCode");return nt(et,ot)}else return Promise.reject(at)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function initializeAuth(et,tt){const rt=_getProvider(et,"auth");if(rt.isInitialized()){const it=rt.getImmediate(),at=rt.getOptions();if(deepEqual$2(at,tt??{}))return it;_fail(it,"already-initialized")}return rt.initialize({options:tt})}function _initializeAuthInstance(et,tt){const rt=(tt==null?void 0:tt.persistence)||[],nt=(Array.isArray(rt)?rt:[rt]).map(_getInstance);tt!=null&&tt.errorMap&&et._updateErrorMap(tt.errorMap),et._initializeWithPersistence(nt,tt==null?void 0:tt.popupRedirectResolver)}function connectAuthEmulator(et,tt,rt){const nt=_castAuth(et);_assert(nt._canInitEmulator,nt,"emulator-config-failed"),_assert(/^https?:\/\//.test(tt),nt,"invalid-emulator-scheme");const it=!1,at=extractProtocol(tt),{host:ot,port:st}=extractHostAndPort(tt),lt=st===null?"":`:${st}`;nt.config.emulator={url:`${at}//${ot}${lt}/`},nt.settings.appVerificationDisabledForTesting=!0,nt.emulatorConfig=Object.freeze({host:ot,port:st,protocol:at.replace(":",""),options:Object.freeze({disableWarnings:it})}),emitEmulatorWarning()}function extractProtocol(et){const tt=et.indexOf(":");return tt<0?"":et.substr(0,tt+1)}function extractHostAndPort(et){const tt=extractProtocol(et),rt=/(\/\/)?([^?#/]+)/.exec(et.substr(tt.length));if(!rt)return{host:"",port:null};const nt=rt[2].split("@").pop()||"",it=/^(\[[^\]]+\])(:|$)/.exec(nt);if(it){const at=it[1];return{host:at,port:parsePort(nt.substr(at.length+1))}}else{const[at,ot]=nt.split(":");return{host:at,port:parsePort(ot)}}}function parsePort(et){if(!et)return null;const tt=Number(et);return isNaN(tt)?null:tt}function emitEmulatorWarning(){function et(){const tt=document.createElement("p"),rt=tt.style;tt.innerText="Running in emulator mode. Do not use with production credentials.",rt.position="fixed",rt.width="100%",rt.backgroundColor="#ffffff",rt.border=".1em solid #000000",rt.color="#b50000",rt.bottom="0px",rt.left="0px",rt.margin="0px",rt.zIndex="10000",rt.textAlign="center",tt.classList.add("firebase-emulator-warning"),document.body.appendChild(tt)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",et):et())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthCredential{constructor(tt,rt){this.providerId=tt,this.signInMethod=rt}toJSON(){return debugFail("not implemented")}_getIdTokenResponse(tt){return debugFail("not implemented")}_linkToIdToken(tt,rt){return debugFail("not implemented")}_getReauthenticationResolver(tt){return debugFail("not implemented")}}async function linkEmailPassword(et,tt){return _performApiRequest(et,"POST","/v1/accounts:signUp",tt)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithPassword(et,tt){return _performSignInRequest(et,"POST","/v1/accounts:signInWithPassword",_addTidIfNecessary(et,tt))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithEmailLink$1(et,tt){return _performSignInRequest(et,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(et,tt))}async function signInWithEmailLinkForLinking(et,tt){return _performSignInRequest(et,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(et,tt))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EmailAuthCredential extends AuthCredential{constructor(tt,rt,nt,it=null){super("password",nt),this._email=tt,this._password=rt,this._tenantId=it}static _fromEmailAndPassword(tt,rt){return new EmailAuthCredential(tt,rt,"password")}static _fromEmailAndCode(tt,rt,nt=null){return new EmailAuthCredential(tt,rt,"emailLink",nt)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(tt){const rt=typeof tt=="string"?JSON.parse(tt):tt;if(rt!=null&&rt.email&&(rt!=null&&rt.password)){if(rt.signInMethod==="password")return this._fromEmailAndPassword(rt.email,rt.password);if(rt.signInMethod==="emailLink")return this._fromEmailAndCode(rt.email,rt.password,rt.tenantId)}return null}async _getIdTokenResponse(tt){switch(this.signInMethod){case"password":const rt={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return handleRecaptchaFlow(tt,rt,"signInWithPassword",signInWithPassword);case"emailLink":return signInWithEmailLink$1(tt,{email:this._email,oobCode:this._password});default:_fail(tt,"internal-error")}}async _linkToIdToken(tt,rt){switch(this.signInMethod){case"password":const nt={idToken:rt,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return handleRecaptchaFlow(tt,nt,"signUpPassword",linkEmailPassword);case"emailLink":return signInWithEmailLinkForLinking(tt,{idToken:rt,email:this._email,oobCode:this._password});default:_fail(tt,"internal-error")}}_getReauthenticationResolver(tt){return this._getIdTokenResponse(tt)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithIdp(et,tt){return _performSignInRequest(et,"POST","/v1/accounts:signInWithIdp",_addTidIfNecessary(et,tt))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IDP_REQUEST_URI$1="http://localhost";class OAuthCredential extends AuthCredential{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(tt){const rt=new OAuthCredential(tt.providerId,tt.signInMethod);return tt.idToken||tt.accessToken?(tt.idToken&&(rt.idToken=tt.idToken),tt.accessToken&&(rt.accessToken=tt.accessToken),tt.nonce&&!tt.pendingToken&&(rt.nonce=tt.nonce),tt.pendingToken&&(rt.pendingToken=tt.pendingToken)):tt.oauthToken&&tt.oauthTokenSecret?(rt.accessToken=tt.oauthToken,rt.secret=tt.oauthTokenSecret):_fail("argument-error"),rt}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(tt){const rt=typeof tt=="string"?JSON.parse(tt):tt,{providerId:nt,signInMethod:it}=rt,at=__rest(rt,["providerId","signInMethod"]);if(!nt||!it)return null;const ot=new OAuthCredential(nt,it);return ot.idToken=at.idToken||void 0,ot.accessToken=at.accessToken||void 0,ot.secret=at.secret,ot.nonce=at.nonce,ot.pendingToken=at.pendingToken||null,ot}_getIdTokenResponse(tt){const rt=this.buildRequest();return signInWithIdp(tt,rt)}_linkToIdToken(tt,rt){const nt=this.buildRequest();return nt.idToken=rt,signInWithIdp(tt,nt)}_getReauthenticationResolver(tt){const rt=this.buildRequest();return rt.autoCreate=!1,signInWithIdp(tt,rt)}buildRequest(){const tt={requestUri:IDP_REQUEST_URI$1,returnSecureToken:!0};if(this.pendingToken)tt.pendingToken=this.pendingToken;else{const rt={};this.idToken&&(rt.id_token=this.idToken),this.accessToken&&(rt.access_token=this.accessToken),this.secret&&(rt.oauth_token_secret=this.secret),rt.providerId=this.providerId,this.nonce&&!this.pendingToken&&(rt.nonce=this.nonce),tt.postBody=querystring(rt)}return tt}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function parseMode(et){switch(et){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function parseDeepLink(et){const tt=querystringDecode(extractQuerystring(et)).link,rt=tt?querystringDecode(extractQuerystring(tt)).deep_link_id:null,nt=querystringDecode(extractQuerystring(et)).deep_link_id;return(nt?querystringDecode(extractQuerystring(nt)).link:null)||nt||rt||tt||et}class ActionCodeURL{constructor(tt){var rt,nt,it,at,ot,st;const lt=querystringDecode(extractQuerystring(tt)),ct=(rt=lt.apiKey)!==null&&rt!==void 0?rt:null,ut=(nt=lt.oobCode)!==null&&nt!==void 0?nt:null,ft=parseMode((it=lt.mode)!==null&&it!==void 0?it:null);_assert(ct&&ut&&ft,"argument-error"),this.apiKey=ct,this.operation=ft,this.code=ut,this.continueUrl=(at=lt.continueUrl)!==null&&at!==void 0?at:null,this.languageCode=(ot=lt.languageCode)!==null&&ot!==void 0?ot:null,this.tenantId=(st=lt.tenantId)!==null&&st!==void 0?st:null}static parseLink(tt){const rt=parseDeepLink(tt);try{return new ActionCodeURL(rt)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EmailAuthProvider{constructor(){this.providerId=EmailAuthProvider.PROVIDER_ID}static credential(tt,rt){return EmailAuthCredential._fromEmailAndPassword(tt,rt)}static credentialWithLink(tt,rt){const nt=ActionCodeURL.parseLink(rt);return _assert(nt,"argument-error"),EmailAuthCredential._fromEmailAndCode(tt,nt.code,nt.tenantId)}}EmailAuthProvider.PROVIDER_ID="password";EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD="password";EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FederatedAuthProvider{constructor(tt){this.providerId=tt,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(tt){this.defaultLanguageCode=tt}setCustomParameters(tt){return this.customParameters=tt,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BaseOAuthProvider extends FederatedAuthProvider{constructor(){super(...arguments),this.scopes=[]}addScope(tt){return this.scopes.includes(tt)||this.scopes.push(tt),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FacebookAuthProvider extends BaseOAuthProvider{constructor(){super("facebook.com")}static credential(tt){return OAuthCredential._fromParams({providerId:FacebookAuthProvider.PROVIDER_ID,signInMethod:FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD,accessToken:tt})}static credentialFromResult(tt){return FacebookAuthProvider.credentialFromTaggedObject(tt)}static credentialFromError(tt){return FacebookAuthProvider.credentialFromTaggedObject(tt.customData||{})}static credentialFromTaggedObject({_tokenResponse:tt}){if(!tt||!("oauthAccessToken"in tt)||!tt.oauthAccessToken)return null;try{return FacebookAuthProvider.credential(tt.oauthAccessToken)}catch{return null}}}FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD="facebook.com";FacebookAuthProvider.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GoogleAuthProvider extends BaseOAuthProvider{constructor(){super("google.com"),this.addScope("profile")}static credential(tt,rt){return OAuthCredential._fromParams({providerId:GoogleAuthProvider.PROVIDER_ID,signInMethod:GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD,idToken:tt,accessToken:rt})}static credentialFromResult(tt){return GoogleAuthProvider.credentialFromTaggedObject(tt)}static credentialFromError(tt){return GoogleAuthProvider.credentialFromTaggedObject(tt.customData||{})}static credentialFromTaggedObject({_tokenResponse:tt}){if(!tt)return null;const{oauthIdToken:rt,oauthAccessToken:nt}=tt;if(!rt&&!nt)return null;try{return GoogleAuthProvider.credential(rt,nt)}catch{return null}}}GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD="google.com";GoogleAuthProvider.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GithubAuthProvider extends BaseOAuthProvider{constructor(){super("github.com")}static credential(tt){return OAuthCredential._fromParams({providerId:GithubAuthProvider.PROVIDER_ID,signInMethod:GithubAuthProvider.GITHUB_SIGN_IN_METHOD,accessToken:tt})}static credentialFromResult(tt){return GithubAuthProvider.credentialFromTaggedObject(tt)}static credentialFromError(tt){return GithubAuthProvider.credentialFromTaggedObject(tt.customData||{})}static credentialFromTaggedObject({_tokenResponse:tt}){if(!tt||!("oauthAccessToken"in tt)||!tt.oauthAccessToken)return null;try{return GithubAuthProvider.credential(tt.oauthAccessToken)}catch{return null}}}GithubAuthProvider.GITHUB_SIGN_IN_METHOD="github.com";GithubAuthProvider.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TwitterAuthProvider extends BaseOAuthProvider{constructor(){super("twitter.com")}static credential(tt,rt){return OAuthCredential._fromParams({providerId:TwitterAuthProvider.PROVIDER_ID,signInMethod:TwitterAuthProvider.TWITTER_SIGN_IN_METHOD,oauthToken:tt,oauthTokenSecret:rt})}static credentialFromResult(tt){return TwitterAuthProvider.credentialFromTaggedObject(tt)}static credentialFromError(tt){return TwitterAuthProvider.credentialFromTaggedObject(tt.customData||{})}static credentialFromTaggedObject({_tokenResponse:tt}){if(!tt)return null;const{oauthAccessToken:rt,oauthTokenSecret:nt}=tt;if(!rt||!nt)return null;try{return TwitterAuthProvider.credential(rt,nt)}catch{return null}}}TwitterAuthProvider.TWITTER_SIGN_IN_METHOD="twitter.com";TwitterAuthProvider.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signUp(et,tt){return _performSignInRequest(et,"POST","/v1/accounts:signUp",_addTidIfNecessary(et,tt))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserCredentialImpl{constructor(tt){this.user=tt.user,this.providerId=tt.providerId,this._tokenResponse=tt._tokenResponse,this.operationType=tt.operationType}static async _fromIdTokenResponse(tt,rt,nt,it=!1){const at=await UserImpl._fromIdTokenResponse(tt,nt,it),ot=providerIdForResponse(nt);return new UserCredentialImpl({user:at,providerId:ot,_tokenResponse:nt,operationType:rt})}static async _forOperation(tt,rt,nt){await tt._updateTokensIfNecessary(nt,!0);const it=providerIdForResponse(nt);return new UserCredentialImpl({user:tt,providerId:it,_tokenResponse:nt,operationType:rt})}}function providerIdForResponse(et){return et.providerId?et.providerId:"phoneNumber"in et?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MultiFactorError extends FirebaseError{constructor(tt,rt,nt,it){var at;super(rt.code,rt.message),this.operationType=nt,this.user=it,Object.setPrototypeOf(this,MultiFactorError.prototype),this.customData={appName:tt.name,tenantId:(at=tt.tenantId)!==null&&at!==void 0?at:void 0,_serverResponse:rt.customData._serverResponse,operationType:nt}}static _fromErrorAndOperation(tt,rt,nt,it){return new MultiFactorError(tt,rt,nt,it)}}function _processCredentialSavingMfaContextIfNecessary(et,tt,rt,nt){return(tt==="reauthenticate"?rt._getReauthenticationResolver(et):rt._getIdTokenResponse(et)).catch(at=>{throw at.code==="auth/multi-factor-auth-required"?MultiFactorError._fromErrorAndOperation(et,at,tt,nt):at})}async function _link$1(et,tt,rt=!1){const nt=await _logoutIfInvalidated(et,tt._linkToIdToken(et.auth,await et.getIdToken()),rt);return UserCredentialImpl._forOperation(et,"link",nt)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reauthenticate(et,tt,rt=!1){const{auth:nt}=et;if(_isFirebaseServerApp(nt.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(nt));const it="reauthenticate";try{const at=await _logoutIfInvalidated(et,_processCredentialSavingMfaContextIfNecessary(nt,it,tt,et),rt);_assert(at.idToken,nt,"internal-error");const ot=_parseToken(at.idToken);_assert(ot,nt,"internal-error");const{sub:st}=ot;return _assert(et.uid===st,nt,"user-mismatch"),UserCredentialImpl._forOperation(et,it,at)}catch(at){throw(at==null?void 0:at.code)==="auth/user-not-found"&&_fail(nt,"user-mismatch"),at}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _signInWithCredential(et,tt,rt=!1){if(_isFirebaseServerApp(et.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(et));const nt="signIn",it=await _processCredentialSavingMfaContextIfNecessary(et,nt,tt),at=await UserCredentialImpl._fromIdTokenResponse(et,nt,it);return rt||await et._updateCurrentUser(at.user),at}async function signInWithCredential(et,tt){return _signInWithCredential(_castAuth(et),tt)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function recachePasswordPolicy(et){const tt=_castAuth(et);tt._getPasswordPolicyInternal()&&await tt._updatePasswordPolicy()}async function createUserWithEmailAndPassword(et,tt,rt){if(_isFirebaseServerApp(et.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(et));const nt=_castAuth(et),ot=await handleRecaptchaFlow(nt,{returnSecureToken:!0,email:tt,password:rt,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",signUp).catch(lt=>{throw lt.code==="auth/password-does-not-meet-requirements"&&recachePasswordPolicy(et),lt}),st=await UserCredentialImpl._fromIdTokenResponse(nt,"signIn",ot);return await nt._updateCurrentUser(st.user),st}function signInWithEmailAndPassword(et,tt,rt){return _isFirebaseServerApp(et.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(et)):signInWithCredential(getModularInstance(et),EmailAuthProvider.credential(tt,rt)).catch(async nt=>{throw nt.code==="auth/password-does-not-meet-requirements"&&recachePasswordPolicy(et),nt})}function onIdTokenChanged(et,tt,rt,nt){return getModularInstance(et).onIdTokenChanged(tt,rt,nt)}function beforeAuthStateChanged(et,tt,rt){return getModularInstance(et).beforeAuthStateChanged(tt,rt)}function onAuthStateChanged(et,tt,rt,nt){return getModularInstance(et).onAuthStateChanged(tt,rt,nt)}function signOut(et){return getModularInstance(et).signOut()}const STORAGE_AVAILABLE_KEY="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserPersistenceClass{constructor(tt,rt){this.storageRetriever=tt,this.type=rt}_isAvailable(){try{return this.storage?(this.storage.setItem(STORAGE_AVAILABLE_KEY,"1"),this.storage.removeItem(STORAGE_AVAILABLE_KEY),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(tt,rt){return this.storage.setItem(tt,JSON.stringify(rt)),Promise.resolve()}_get(tt){const rt=this.storage.getItem(tt);return Promise.resolve(rt?JSON.parse(rt):null)}_remove(tt){return this.storage.removeItem(tt),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _POLLING_INTERVAL_MS$1=1e3,IE10_LOCAL_STORAGE_SYNC_DELAY=10;class BrowserLocalPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(tt,rt)=>this.onStorageEvent(tt,rt),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_isMobileBrowser(),this._shouldAllowMigration=!0}forAllChangedKeys(tt){for(const rt of Object.keys(this.listeners)){const nt=this.storage.getItem(rt),it=this.localCache[rt];nt!==it&&tt(rt,it,nt)}}onStorageEvent(tt,rt=!1){if(!tt.key){this.forAllChangedKeys((ot,st,lt)=>{this.notifyListeners(ot,lt)});return}const nt=tt.key;rt?this.detachListener():this.stopPolling();const it=()=>{const ot=this.storage.getItem(nt);!rt&&this.localCache[nt]===ot||this.notifyListeners(nt,ot)},at=this.storage.getItem(nt);_isIE10()&&at!==tt.newValue&&tt.newValue!==tt.oldValue?setTimeout(it,IE10_LOCAL_STORAGE_SYNC_DELAY):it()}notifyListeners(tt,rt){this.localCache[tt]=rt;const nt=this.listeners[tt];if(nt)for(const it of Array.from(nt))it(rt&&JSON.parse(rt))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((tt,rt,nt)=>{this.onStorageEvent(new StorageEvent("storage",{key:tt,oldValue:rt,newValue:nt}),!0)})},_POLLING_INTERVAL_MS$1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(tt,rt){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[tt]||(this.listeners[tt]=new Set,this.localCache[tt]=this.storage.getItem(tt)),this.listeners[tt].add(rt)}_removeListener(tt,rt){this.listeners[tt]&&(this.listeners[tt].delete(rt),this.listeners[tt].size===0&&delete this.listeners[tt]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(tt,rt){await super._set(tt,rt),this.localCache[tt]=JSON.stringify(rt)}async _get(tt){const rt=await super._get(tt);return this.localCache[tt]=JSON.stringify(rt),rt}async _remove(tt){await super._remove(tt),delete this.localCache[tt]}}BrowserLocalPersistence.type="LOCAL";const browserLocalPersistence=BrowserLocalPersistence;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserSessionPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(tt,rt){}_removeListener(tt,rt){}}BrowserSessionPersistence.type="SESSION";const browserSessionPersistence=BrowserSessionPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _allSettled(et){return Promise.all(et.map(async tt=>{try{return{fulfilled:!0,value:await tt}}catch(rt){return{fulfilled:!1,reason:rt}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Receiver{constructor(tt){this.eventTarget=tt,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(tt){const rt=this.receivers.find(it=>it.isListeningto(tt));if(rt)return rt;const nt=new Receiver(tt);return this.receivers.push(nt),nt}isListeningto(tt){return this.eventTarget===tt}async handleEvent(tt){const rt=tt,{eventId:nt,eventType:it,data:at}=rt.data,ot=this.handlersMap[it];if(!(ot!=null&&ot.size))return;rt.ports[0].postMessage({status:"ack",eventId:nt,eventType:it});const st=Array.from(ot).map(async ct=>ct(rt.origin,at)),lt=await _allSettled(st);rt.ports[0].postMessage({status:"done",eventId:nt,eventType:it,response:lt})}_subscribe(tt,rt){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[tt]||(this.handlersMap[tt]=new Set),this.handlersMap[tt].add(rt)}_unsubscribe(tt,rt){this.handlersMap[tt]&&rt&&this.handlersMap[tt].delete(rt),(!rt||this.handlersMap[tt].size===0)&&delete this.handlersMap[tt],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Receiver.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _generateEventId(et="",tt=10){let rt="";for(let nt=0;nt<tt;nt++)rt+=Math.floor(Math.random()*10);return et+rt}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sender{constructor(tt){this.target=tt,this.handlers=new Set}removeMessageHandler(tt){tt.messageChannel&&(tt.messageChannel.port1.removeEventListener("message",tt.onMessage),tt.messageChannel.port1.close()),this.handlers.delete(tt)}async _send(tt,rt,nt=50){const it=typeof MessageChannel<"u"?new MessageChannel:null;if(!it)throw new Error("connection_unavailable");let at,ot;return new Promise((st,lt)=>{const ct=_generateEventId("",20);it.port1.start();const ut=setTimeout(()=>{lt(new Error("unsupported_event"))},nt);ot={messageChannel:it,onMessage(ft){const ht=ft;if(ht.data.eventId===ct)switch(ht.data.status){case"ack":clearTimeout(ut),at=setTimeout(()=>{lt(new Error("timeout"))},3e3);break;case"done":clearTimeout(at),st(ht.data.response);break;default:clearTimeout(ut),clearTimeout(at),lt(new Error("invalid_response"));break}}},this.handlers.add(ot),it.port1.addEventListener("message",ot.onMessage),this.target.postMessage({eventType:tt,eventId:ct,data:rt},[it.port2])}).finally(()=>{ot&&this.removeMessageHandler(ot)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _window(){return window}function _setWindowLocation(et){_window().location.href=et}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isWorker(){return typeof _window().WorkerGlobalScope<"u"&&typeof _window().importScripts=="function"}async function _getActiveServiceWorker(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _getServiceWorkerController(){var et;return((et=navigator==null?void 0:navigator.serviceWorker)===null||et===void 0?void 0:et.controller)||null}function _getWorkerGlobalScope(){return _isWorker()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME="firebaseLocalStorageDb",DB_VERSION=1,DB_OBJECTSTORE_NAME="firebaseLocalStorage",DB_DATA_KEYPATH="fbase_key";class DBPromise{constructor(tt){this.request=tt}toPromise(){return new Promise((tt,rt)=>{this.request.addEventListener("success",()=>{tt(this.request.result)}),this.request.addEventListener("error",()=>{rt(this.request.error)})})}}function getObjectStore(et,tt){return et.transaction([DB_OBJECTSTORE_NAME],tt?"readwrite":"readonly").objectStore(DB_OBJECTSTORE_NAME)}function _deleteDatabase(){const et=indexedDB.deleteDatabase(DB_NAME);return new DBPromise(et).toPromise()}function _openDatabase(){const et=indexedDB.open(DB_NAME,DB_VERSION);return new Promise((tt,rt)=>{et.addEventListener("error",()=>{rt(et.error)}),et.addEventListener("upgradeneeded",()=>{const nt=et.result;try{nt.createObjectStore(DB_OBJECTSTORE_NAME,{keyPath:DB_DATA_KEYPATH})}catch(it){rt(it)}}),et.addEventListener("success",async()=>{const nt=et.result;nt.objectStoreNames.contains(DB_OBJECTSTORE_NAME)?tt(nt):(nt.close(),await _deleteDatabase(),tt(await _openDatabase()))})})}async function _putObject(et,tt,rt){const nt=getObjectStore(et,!0).put({[DB_DATA_KEYPATH]:tt,value:rt});return new DBPromise(nt).toPromise()}async function getObject(et,tt){const rt=getObjectStore(et,!1).get(tt),nt=await new DBPromise(rt).toPromise();return nt===void 0?null:nt.value}function _deleteObject(et,tt){const rt=getObjectStore(et,!0).delete(tt);return new DBPromise(rt).toPromise()}const _POLLING_INTERVAL_MS=800,_TRANSACTION_RETRY_COUNT=3;class IndexedDBLocalPersistence{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _openDatabase(),this.db)}async _withRetries(tt){let rt=0;for(;;)try{const nt=await this._openDb();return await tt(nt)}catch(nt){if(rt++>_TRANSACTION_RETRY_COUNT)throw nt;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _isWorker()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Receiver._getInstance(_getWorkerGlobalScope()),this.receiver._subscribe("keyChanged",async(tt,rt)=>({keyProcessed:(await this._poll()).includes(rt.key)})),this.receiver._subscribe("ping",async(tt,rt)=>["keyChanged"])}async initializeSender(){var tt,rt;if(this.activeServiceWorker=await _getActiveServiceWorker(),!this.activeServiceWorker)return;this.sender=new Sender(this.activeServiceWorker);const nt=await this.sender._send("ping",{},800);nt&&!((tt=nt[0])===null||tt===void 0)&&tt.fulfilled&&!((rt=nt[0])===null||rt===void 0)&&rt.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(tt){if(!(!this.sender||!this.activeServiceWorker||_getServiceWorkerController()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:tt},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const tt=await _openDatabase();return await _putObject(tt,STORAGE_AVAILABLE_KEY,"1"),await _deleteObject(tt,STORAGE_AVAILABLE_KEY),!0}catch{}return!1}async _withPendingWrite(tt){this.pendingWrites++;try{await tt()}finally{this.pendingWrites--}}async _set(tt,rt){return this._withPendingWrite(async()=>(await this._withRetries(nt=>_putObject(nt,tt,rt)),this.localCache[tt]=rt,this.notifyServiceWorker(tt)))}async _get(tt){const rt=await this._withRetries(nt=>getObject(nt,tt));return this.localCache[tt]=rt,rt}async _remove(tt){return this._withPendingWrite(async()=>(await this._withRetries(rt=>_deleteObject(rt,tt)),delete this.localCache[tt],this.notifyServiceWorker(tt)))}async _poll(){const tt=await this._withRetries(it=>{const at=getObjectStore(it,!1).getAll();return new DBPromise(at).toPromise()});if(!tt)return[];if(this.pendingWrites!==0)return[];const rt=[],nt=new Set;if(tt.length!==0)for(const{fbase_key:it,value:at}of tt)nt.add(it),JSON.stringify(this.localCache[it])!==JSON.stringify(at)&&(this.notifyListeners(it,at),rt.push(it));for(const it of Object.keys(this.localCache))this.localCache[it]&&!nt.has(it)&&(this.notifyListeners(it,null),rt.push(it));return rt}notifyListeners(tt,rt){this.localCache[tt]=rt;const nt=this.listeners[tt];if(nt)for(const it of Array.from(nt))it(rt)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_POLLING_INTERVAL_MS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(tt,rt){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[tt]||(this.listeners[tt]=new Set,this._get(tt)),this.listeners[tt].add(rt)}_removeListener(tt,rt){this.listeners[tt]&&(this.listeners[tt].delete(rt),this.listeners[tt].size===0&&delete this.listeners[tt]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IndexedDBLocalPersistence.type="LOCAL";const indexedDBLocalPersistence=IndexedDBLocalPersistence;new Delay(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _withDefaultResolver(et,tt){return tt?_getInstance(tt):(_assert(et._popupRedirectResolver,et,"argument-error"),et._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IdpCredential extends AuthCredential{constructor(tt){super("custom","custom"),this.params=tt}_getIdTokenResponse(tt){return signInWithIdp(tt,this._buildIdpRequest())}_linkToIdToken(tt,rt){return signInWithIdp(tt,this._buildIdpRequest(rt))}_getReauthenticationResolver(tt){return signInWithIdp(tt,this._buildIdpRequest())}_buildIdpRequest(tt){const rt={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return tt&&(rt.idToken=tt),rt}}function _signIn(et){return _signInWithCredential(et.auth,new IdpCredential(et),et.bypassAuthState)}function _reauth(et){const{auth:tt,user:rt}=et;return _assert(rt,tt,"internal-error"),_reauthenticate(rt,new IdpCredential(et),et.bypassAuthState)}async function _link(et){const{auth:tt,user:rt}=et;return _assert(rt,tt,"internal-error"),_link$1(rt,new IdpCredential(et),et.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AbstractPopupRedirectOperation{constructor(tt,rt,nt,it,at=!1){this.auth=tt,this.resolver=nt,this.user=it,this.bypassAuthState=at,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(rt)?rt:[rt]}execute(){return new Promise(async(tt,rt)=>{this.pendingPromise={resolve:tt,reject:rt};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(nt){this.reject(nt)}})}async onAuthEvent(tt){const{urlResponse:rt,sessionId:nt,postBody:it,tenantId:at,error:ot,type:st}=tt;if(ot){this.reject(ot);return}const lt={auth:this.auth,requestUri:rt,sessionId:nt,tenantId:at||void 0,postBody:it||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(st)(lt))}catch(ct){this.reject(ct)}}onError(tt){this.reject(tt)}getIdpTask(tt){switch(tt){case"signInViaPopup":case"signInViaRedirect":return _signIn;case"linkViaPopup":case"linkViaRedirect":return _link;case"reauthViaPopup":case"reauthViaRedirect":return _reauth;default:_fail(this.auth,"internal-error")}}resolve(tt){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(tt),this.unregisterAndCleanUp()}reject(tt){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(tt),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _POLL_WINDOW_CLOSE_TIMEOUT=new Delay(2e3,1e4);class PopupOperation extends AbstractPopupRedirectOperation{constructor(tt,rt,nt,it,at){super(tt,rt,it,at),this.provider=nt,this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction&&PopupOperation.currentPopupAction.cancel(),PopupOperation.currentPopupAction=this}async executeNotNull(){const tt=await this.execute();return _assert(tt,this.auth,"internal-error"),tt}async onExecution(){debugAssert(this.filter.length===1,"Popup operations only handle one event");const tt=_generateEventId();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],tt),this.authWindow.associatedEvent=tt,this.resolver._originValidation(this.auth).catch(rt=>{this.reject(rt)}),this.resolver._isIframeWebStorageSupported(this.auth,rt=>{rt||this.reject(_createError(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var tt;return((tt=this.authWindow)===null||tt===void 0?void 0:tt.associatedEvent)||null}cancel(){this.reject(_createError(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction=null}pollUserCancellation(){const tt=()=>{var rt,nt;if(!((nt=(rt=this.authWindow)===null||rt===void 0?void 0:rt.window)===null||nt===void 0)&&nt.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_createError(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(tt,_POLL_WINDOW_CLOSE_TIMEOUT.get())};tt()}}PopupOperation.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PENDING_REDIRECT_KEY="pendingRedirect",redirectOutcomeMap=new Map;class RedirectAction extends AbstractPopupRedirectOperation{constructor(tt,rt,nt=!1){super(tt,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],rt,void 0,nt),this.eventId=null}async execute(){let tt=redirectOutcomeMap.get(this.auth._key());if(!tt){try{const nt=await _getAndClearPendingRedirectStatus(this.resolver,this.auth)?await super.execute():null;tt=()=>Promise.resolve(nt)}catch(rt){tt=()=>Promise.reject(rt)}redirectOutcomeMap.set(this.auth._key(),tt)}return this.bypassAuthState||redirectOutcomeMap.set(this.auth._key(),()=>Promise.resolve(null)),tt()}async onAuthEvent(tt){if(tt.type==="signInViaRedirect")return super.onAuthEvent(tt);if(tt.type==="unknown"){this.resolve(null);return}if(tt.eventId){const rt=await this.auth._redirectUserForId(tt.eventId);if(rt)return this.user=rt,super.onAuthEvent(tt);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _getAndClearPendingRedirectStatus(et,tt){const rt=pendingRedirectKey(tt),nt=resolverPersistence(et);if(!await nt._isAvailable())return!1;const it=await nt._get(rt)==="true";return await nt._remove(rt),it}function _overrideRedirectResult(et,tt){redirectOutcomeMap.set(et._key(),tt)}function resolverPersistence(et){return _getInstance(et._redirectPersistence)}function pendingRedirectKey(et){return _persistenceKeyName(PENDING_REDIRECT_KEY,et.config.apiKey,et.name)}async function _getRedirectResult(et,tt,rt=!1){if(_isFirebaseServerApp(et.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(et));const nt=_castAuth(et),it=_withDefaultResolver(nt,tt),ot=await new RedirectAction(nt,it,rt).execute();return ot&&!rt&&(delete ot.user._redirectEventId,await nt._persistUserIfCurrent(ot.user),await nt._setRedirectUser(null,tt)),ot}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EVENT_DUPLICATION_CACHE_DURATION_MS=10*60*1e3;class AuthEventManager{constructor(tt){this.auth=tt,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(tt){this.consumers.add(tt),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,tt)&&(this.sendToConsumer(this.queuedRedirectEvent,tt),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(tt){this.consumers.delete(tt)}onEvent(tt){if(this.hasEventBeenHandled(tt))return!1;let rt=!1;return this.consumers.forEach(nt=>{this.isEventForConsumer(tt,nt)&&(rt=!0,this.sendToConsumer(tt,nt),this.saveEventToCache(tt))}),this.hasHandledPotentialRedirect||!isRedirectEvent(tt)||(this.hasHandledPotentialRedirect=!0,rt||(this.queuedRedirectEvent=tt,rt=!0)),rt}sendToConsumer(tt,rt){var nt;if(tt.error&&!isNullRedirectEvent(tt)){const it=((nt=tt.error.code)===null||nt===void 0?void 0:nt.split("auth/")[1])||"internal-error";rt.onError(_createError(this.auth,it))}else rt.onAuthEvent(tt)}isEventForConsumer(tt,rt){const nt=rt.eventId===null||!!tt.eventId&&tt.eventId===rt.eventId;return rt.filter.includes(tt.type)&&nt}hasEventBeenHandled(tt){return Date.now()-this.lastProcessedEventTime>=EVENT_DUPLICATION_CACHE_DURATION_MS&&this.cachedEventUids.clear(),this.cachedEventUids.has(eventUid(tt))}saveEventToCache(tt){this.cachedEventUids.add(eventUid(tt)),this.lastProcessedEventTime=Date.now()}}function eventUid(et){return[et.type,et.eventId,et.sessionId,et.tenantId].filter(tt=>tt).join("-")}function isNullRedirectEvent({type:et,error:tt}){return et==="unknown"&&(tt==null?void 0:tt.code)==="auth/no-auth-event"}function isRedirectEvent(et){switch(et.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return isNullRedirectEvent(et);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getProjectConfig(et,tt={}){return _performApiRequest(et,"GET","/v1/projects",tt)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP_ADDRESS_REGEX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HTTP_REGEX=/^https?/;async function _validateOrigin(et){if(et.config.emulator)return;const{authorizedDomains:tt}=await _getProjectConfig(et);for(const rt of tt)try{if(matchDomain(rt))return}catch{}_fail(et,"unauthorized-domain")}function matchDomain(et){const tt=_getCurrentUrl(),{protocol:rt,hostname:nt}=new URL(tt);if(et.startsWith("chrome-extension://")){const ot=new URL(et);return ot.hostname===""&&nt===""?rt==="chrome-extension:"&&et.replace("chrome-extension://","")===tt.replace("chrome-extension://",""):rt==="chrome-extension:"&&ot.hostname===nt}if(!HTTP_REGEX.test(rt))return!1;if(IP_ADDRESS_REGEX.test(et))return nt===et;const it=et.replace(/\./g,"\\.");return new RegExp("^(.+\\."+it+"|"+it+")$","i").test(nt)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NETWORK_TIMEOUT=new Delay(3e4,6e4);function resetUnloadedGapiModules(){const et=_window().___jsl;if(et!=null&&et.H){for(const tt of Object.keys(et.H))if(et.H[tt].r=et.H[tt].r||[],et.H[tt].L=et.H[tt].L||[],et.H[tt].r=[...et.H[tt].L],et.CP)for(let rt=0;rt<et.CP.length;rt++)et.CP[rt]=null}}function loadGapi(et){return new Promise((tt,rt)=>{var nt,it,at;function ot(){resetUnloadedGapiModules(),gapi.load("gapi.iframes",{callback:()=>{tt(gapi.iframes.getContext())},ontimeout:()=>{resetUnloadedGapiModules(),rt(_createError(et,"network-request-failed"))},timeout:NETWORK_TIMEOUT.get()})}if(!((it=(nt=_window().gapi)===null||nt===void 0?void 0:nt.iframes)===null||it===void 0)&&it.Iframe)tt(gapi.iframes.getContext());else if(!((at=_window().gapi)===null||at===void 0)&&at.load)ot();else{const st=_generateCallbackName("iframefcb");return _window()[st]=()=>{gapi.load?ot():rt(_createError(et,"network-request-failed"))},_loadJS(`${_gapiScriptUrl()}?onload=${st}`).catch(lt=>rt(lt))}}).catch(tt=>{throw cachedGApiLoader=null,tt})}let cachedGApiLoader=null;function _loadGapi(et){return cachedGApiLoader=cachedGApiLoader||loadGapi(et),cachedGApiLoader}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PING_TIMEOUT=new Delay(5e3,15e3),IFRAME_PATH="__/auth/iframe",EMULATED_IFRAME_PATH="emulator/auth/iframe",IFRAME_ATTRIBUTES={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EID_FROM_APIHOST=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function getIframeUrl(et){const tt=et.config;_assert(tt.authDomain,et,"auth-domain-config-required");const rt=tt.emulator?_emulatorUrl(tt,EMULATED_IFRAME_PATH):`https://${et.config.authDomain}/${IFRAME_PATH}`,nt={apiKey:tt.apiKey,appName:et.name,v:SDK_VERSION},it=EID_FROM_APIHOST.get(et.config.apiHost);it&&(nt.eid=it);const at=et._getFrameworks();return at.length&&(nt.fw=at.join(",")),`${rt}?${querystring(nt).slice(1)}`}async function _openIframe(et){const tt=await _loadGapi(et),rt=_window().gapi;return _assert(rt,et,"internal-error"),tt.open({where:document.body,url:getIframeUrl(et),messageHandlersFilter:rt.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IFRAME_ATTRIBUTES,dontclear:!0},nt=>new Promise(async(it,at)=>{await nt.restyle({setHideOnLeave:!1});const ot=_createError(et,"network-request-failed"),st=_window().setTimeout(()=>{at(ot)},PING_TIMEOUT.get());function lt(){_window().clearTimeout(st),it(nt)}nt.ping(lt).then(lt,()=>{at(ot)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BASE_POPUP_OPTIONS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DEFAULT_WIDTH=500,DEFAULT_HEIGHT=600,TARGET_BLANK="_blank",FIREFOX_EMPTY_URL="http://localhost";class AuthPopup{constructor(tt){this.window=tt,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _open(et,tt,rt,nt=DEFAULT_WIDTH,it=DEFAULT_HEIGHT){const at=Math.max((window.screen.availHeight-it)/2,0).toString(),ot=Math.max((window.screen.availWidth-nt)/2,0).toString();let st="";const lt=Object.assign(Object.assign({},BASE_POPUP_OPTIONS),{width:nt.toString(),height:it.toString(),top:at,left:ot}),ct=getUA().toLowerCase();rt&&(st=_isChromeIOS(ct)?TARGET_BLANK:rt),_isFirefox(ct)&&(tt=tt||FIREFOX_EMPTY_URL,lt.scrollbars="yes");const ut=Object.entries(lt).reduce((ht,[dt,vt])=>`${ht}${dt}=${vt},`,"");if(_isIOSStandalone(ct)&&st!=="_self")return openAsNewWindowIOS(tt||"",st),new AuthPopup(null);const ft=window.open(tt||"",st,ut);_assert(ft,et,"popup-blocked");try{ft.focus()}catch{}return new AuthPopup(ft)}function openAsNewWindowIOS(et,tt){const rt=document.createElement("a");rt.href=et,rt.target=tt;const nt=document.createEvent("MouseEvent");nt.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),rt.dispatchEvent(nt)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WIDGET_PATH="__/auth/handler",EMULATOR_WIDGET_PATH="emulator/auth/handler",FIREBASE_APP_CHECK_FRAGMENT_ID=encodeURIComponent("fac");async function _getRedirectUrl(et,tt,rt,nt,it,at){_assert(et.config.authDomain,et,"auth-domain-config-required"),_assert(et.config.apiKey,et,"invalid-api-key");const ot={apiKey:et.config.apiKey,appName:et.name,authType:rt,redirectUrl:nt,v:SDK_VERSION,eventId:it};if(tt instanceof FederatedAuthProvider){tt.setDefaultLanguage(et.languageCode),ot.providerId=tt.providerId||"",isEmpty$1(tt.getCustomParameters())||(ot.customParameters=JSON.stringify(tt.getCustomParameters()));for(const[ut,ft]of Object.entries({}))ot[ut]=ft}if(tt instanceof BaseOAuthProvider){const ut=tt.getScopes().filter(ft=>ft!=="");ut.length>0&&(ot.scopes=ut.join(","))}et.tenantId&&(ot.tid=et.tenantId);const st=ot;for(const ut of Object.keys(st))st[ut]===void 0&&delete st[ut];const lt=await et._getAppCheckToken(),ct=lt?`#${FIREBASE_APP_CHECK_FRAGMENT_ID}=${encodeURIComponent(lt)}`:"";return`${getHandlerBase(et)}?${querystring(st).slice(1)}${ct}`}function getHandlerBase({config:et}){return et.emulator?_emulatorUrl(et,EMULATOR_WIDGET_PATH):`https://${et.authDomain}/${WIDGET_PATH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WEB_STORAGE_SUPPORT_KEY="webStorageSupport";class BrowserPopupRedirectResolver{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=browserSessionPersistence,this._completeRedirectFn=_getRedirectResult,this._overrideRedirectResult=_overrideRedirectResult}async _openPopup(tt,rt,nt,it){var at;debugAssert((at=this.eventManagers[tt._key()])===null||at===void 0?void 0:at.manager,"_initialize() not called before _openPopup()");const ot=await _getRedirectUrl(tt,rt,nt,_getCurrentUrl(),it);return _open(tt,ot,_generateEventId())}async _openRedirect(tt,rt,nt,it){await this._originValidation(tt);const at=await _getRedirectUrl(tt,rt,nt,_getCurrentUrl(),it);return _setWindowLocation(at),new Promise(()=>{})}_initialize(tt){const rt=tt._key();if(this.eventManagers[rt]){const{manager:it,promise:at}=this.eventManagers[rt];return it?Promise.resolve(it):(debugAssert(at,"If manager is not set, promise should be"),at)}const nt=this.initAndGetManager(tt);return this.eventManagers[rt]={promise:nt},nt.catch(()=>{delete this.eventManagers[rt]}),nt}async initAndGetManager(tt){const rt=await _openIframe(tt),nt=new AuthEventManager(tt);return rt.register("authEvent",it=>(_assert(it==null?void 0:it.authEvent,tt,"invalid-auth-event"),{status:nt.onEvent(it.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[tt._key()]={manager:nt},this.iframes[tt._key()]=rt,nt}_isIframeWebStorageSupported(tt,rt){this.iframes[tt._key()].send(WEB_STORAGE_SUPPORT_KEY,{type:WEB_STORAGE_SUPPORT_KEY},it=>{var at;const ot=(at=it==null?void 0:it[0])===null||at===void 0?void 0:at[WEB_STORAGE_SUPPORT_KEY];ot!==void 0&&rt(!!ot),_fail(tt,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(tt){const rt=tt._key();return this.originValidationPromises[rt]||(this.originValidationPromises[rt]=_validateOrigin(tt)),this.originValidationPromises[rt]}get _shouldInitProactively(){return _isMobileBrowser()||_isSafari()||_isIOS()}}const browserPopupRedirectResolver=BrowserPopupRedirectResolver;var name$2="@firebase/auth",version$2="1.7.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthInterop{constructor(tt){this.auth=tt,this.internalListeners=new Map}getUid(){var tt;return this.assertAuthConfigured(),((tt=this.auth.currentUser)===null||tt===void 0?void 0:tt.uid)||null}async getToken(tt){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(tt)}:null}addAuthTokenListener(tt){if(this.assertAuthConfigured(),this.internalListeners.has(tt))return;const rt=this.auth.onIdTokenChanged(nt=>{tt((nt==null?void 0:nt.stsTokenManager.accessToken)||null)});this.internalListeners.set(tt,rt),this.updateProactiveRefresh()}removeAuthTokenListener(tt){this.assertAuthConfigured();const rt=this.internalListeners.get(tt);rt&&(this.internalListeners.delete(tt),rt(),this.updateProactiveRefresh())}assertAuthConfigured(){_assert(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getVersionForPlatform(et){switch(et){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function registerAuth(et){_registerComponent(new Component("auth",(tt,{options:rt})=>{const nt=tt.getProvider("app").getImmediate(),it=tt.getProvider("heartbeat"),at=tt.getProvider("app-check-internal"),{apiKey:ot,authDomain:st}=nt.options;_assert(ot&&!ot.includes(":"),"invalid-api-key",{appName:nt.name});const lt={apiKey:ot,authDomain:st,clientPlatform:et,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_getClientVersion(et)},ct=new AuthImpl(nt,it,at,lt);return _initializeAuthInstance(ct,rt),ct},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((tt,rt,nt)=>{tt.getProvider("auth-internal").initialize()})),_registerComponent(new Component("auth-internal",tt=>{const rt=_castAuth(tt.getProvider("auth").getImmediate());return(nt=>new AuthInterop(nt))(rt)},"PRIVATE").setInstantiationMode("EXPLICIT")),registerVersion(name$2,version$2,getVersionForPlatform(et)),registerVersion(name$2,version$2,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ID_TOKEN_MAX_AGE=5*60,authIdTokenMaxAge=getExperimentalSetting("authIdTokenMaxAge")||DEFAULT_ID_TOKEN_MAX_AGE;let lastPostedIdToken=null;const mintCookieFactory=et=>async tt=>{const rt=tt&&await tt.getIdTokenResult(),nt=rt&&(new Date().getTime()-Date.parse(rt.issuedAtTime))/1e3;if(nt&&nt>authIdTokenMaxAge)return;const it=rt==null?void 0:rt.token;lastPostedIdToken!==it&&(lastPostedIdToken=it,await fetch(et,{method:it?"POST":"DELETE",headers:it?{Authorization:`Bearer ${it}`}:{}}))};function getAuth(et=getApp()){const tt=_getProvider(et,"auth");if(tt.isInitialized())return tt.getImmediate();const rt=initializeAuth(et,{popupRedirectResolver:browserPopupRedirectResolver,persistence:[indexedDBLocalPersistence,browserLocalPersistence,browserSessionPersistence]}),nt=getExperimentalSetting("authTokenSyncURL");if(nt&&typeof isSecureContext=="boolean"&&isSecureContext){const at=new URL(nt,location.origin);if(location.origin===at.origin){const ot=mintCookieFactory(at.toString());beforeAuthStateChanged(rt,ot,()=>ot(rt.currentUser)),onIdTokenChanged(rt,st=>ot(st))}}const it=getDefaultEmulatorHost("auth");return it&&connectAuthEmulator(rt,`http://${it}`),rt}function getScriptParentElement(){var et,tt;return(tt=(et=document.getElementsByTagName("head"))===null||et===void 0?void 0:et[0])!==null&&tt!==void 0?tt:document}_setExternalJSProvider({loadJS(et){return new Promise((tt,rt)=>{const nt=document.createElement("script");nt.setAttribute("src",et),nt.onload=tt,nt.onerror=it=>{const at=_createError("internal-error");at.customData=it,rt(at)},nt.type="text/javascript",nt.charset="UTF-8",getScriptParentElement().appendChild(nt)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});registerAuth("Browser");var name$1="firebase",version$1="10.13.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */registerVersion(name$1,version$1,"app");var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Integer,Md5;(function(){var et;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function tt(Tt,Pt){function Rt(){}Rt.prototype=Pt.prototype,Tt.D=Pt.prototype,Tt.prototype=new Rt,Tt.prototype.constructor=Tt,Tt.C=function(It,$t,kt){for(var Ct=Array(arguments.length-2),Bt=2;Bt<arguments.length;Bt++)Ct[Bt-2]=arguments[Bt];return Pt.prototype[$t].apply(It,Ct)}}function rt(){this.blockSize=-1}function nt(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}tt(nt,rt),nt.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function it(Tt,Pt,Rt){Rt||(Rt=0);var It=Array(16);if(typeof Pt=="string")for(var $t=0;16>$t;++$t)It[$t]=Pt.charCodeAt(Rt++)|Pt.charCodeAt(Rt++)<<8|Pt.charCodeAt(Rt++)<<16|Pt.charCodeAt(Rt++)<<24;else for($t=0;16>$t;++$t)It[$t]=Pt[Rt++]|Pt[Rt++]<<8|Pt[Rt++]<<16|Pt[Rt++]<<24;Pt=Tt.g[0],Rt=Tt.g[1],$t=Tt.g[2];var kt=Tt.g[3],Ct=Pt+(kt^Rt&($t^kt))+It[0]+3614090360&4294967295;Pt=Rt+(Ct<<7&4294967295|Ct>>>25),Ct=kt+($t^Pt&(Rt^$t))+It[1]+3905402710&4294967295,kt=Pt+(Ct<<12&4294967295|Ct>>>20),Ct=$t+(Rt^kt&(Pt^Rt))+It[2]+606105819&4294967295,$t=kt+(Ct<<17&4294967295|Ct>>>15),Ct=Rt+(Pt^$t&(kt^Pt))+It[3]+3250441966&4294967295,Rt=$t+(Ct<<22&4294967295|Ct>>>10),Ct=Pt+(kt^Rt&($t^kt))+It[4]+4118548399&4294967295,Pt=Rt+(Ct<<7&4294967295|Ct>>>25),Ct=kt+($t^Pt&(Rt^$t))+It[5]+1200080426&4294967295,kt=Pt+(Ct<<12&4294967295|Ct>>>20),Ct=$t+(Rt^kt&(Pt^Rt))+It[6]+2821735955&4294967295,$t=kt+(Ct<<17&4294967295|Ct>>>15),Ct=Rt+(Pt^$t&(kt^Pt))+It[7]+4249261313&4294967295,Rt=$t+(Ct<<22&4294967295|Ct>>>10),Ct=Pt+(kt^Rt&($t^kt))+It[8]+1770035416&4294967295,Pt=Rt+(Ct<<7&4294967295|Ct>>>25),Ct=kt+($t^Pt&(Rt^$t))+It[9]+2336552879&4294967295,kt=Pt+(Ct<<12&4294967295|Ct>>>20),Ct=$t+(Rt^kt&(Pt^Rt))+It[10]+4294925233&4294967295,$t=kt+(Ct<<17&4294967295|Ct>>>15),Ct=Rt+(Pt^$t&(kt^Pt))+It[11]+2304563134&4294967295,Rt=$t+(Ct<<22&4294967295|Ct>>>10),Ct=Pt+(kt^Rt&($t^kt))+It[12]+1804603682&4294967295,Pt=Rt+(Ct<<7&4294967295|Ct>>>25),Ct=kt+($t^Pt&(Rt^$t))+It[13]+4254626195&4294967295,kt=Pt+(Ct<<12&4294967295|Ct>>>20),Ct=$t+(Rt^kt&(Pt^Rt))+It[14]+2792965006&4294967295,$t=kt+(Ct<<17&4294967295|Ct>>>15),Ct=Rt+(Pt^$t&(kt^Pt))+It[15]+1236535329&4294967295,Rt=$t+(Ct<<22&4294967295|Ct>>>10),Ct=Pt+($t^kt&(Rt^$t))+It[1]+4129170786&4294967295,Pt=Rt+(Ct<<5&4294967295|Ct>>>27),Ct=kt+(Rt^$t&(Pt^Rt))+It[6]+3225465664&4294967295,kt=Pt+(Ct<<9&4294967295|Ct>>>23),Ct=$t+(Pt^Rt&(kt^Pt))+It[11]+643717713&4294967295,$t=kt+(Ct<<14&4294967295|Ct>>>18),Ct=Rt+(kt^Pt&($t^kt))+It[0]+3921069994&4294967295,Rt=$t+(Ct<<20&4294967295|Ct>>>12),Ct=Pt+($t^kt&(Rt^$t))+It[5]+3593408605&4294967295,Pt=Rt+(Ct<<5&4294967295|Ct>>>27),Ct=kt+(Rt^$t&(Pt^Rt))+It[10]+38016083&4294967295,kt=Pt+(Ct<<9&4294967295|Ct>>>23),Ct=$t+(Pt^Rt&(kt^Pt))+It[15]+3634488961&4294967295,$t=kt+(Ct<<14&4294967295|Ct>>>18),Ct=Rt+(kt^Pt&($t^kt))+It[4]+3889429448&4294967295,Rt=$t+(Ct<<20&4294967295|Ct>>>12),Ct=Pt+($t^kt&(Rt^$t))+It[9]+568446438&4294967295,Pt=Rt+(Ct<<5&4294967295|Ct>>>27),Ct=kt+(Rt^$t&(Pt^Rt))+It[14]+3275163606&4294967295,kt=Pt+(Ct<<9&4294967295|Ct>>>23),Ct=$t+(Pt^Rt&(kt^Pt))+It[3]+4107603335&4294967295,$t=kt+(Ct<<14&4294967295|Ct>>>18),Ct=Rt+(kt^Pt&($t^kt))+It[8]+1163531501&4294967295,Rt=$t+(Ct<<20&4294967295|Ct>>>12),Ct=Pt+($t^kt&(Rt^$t))+It[13]+2850285829&4294967295,Pt=Rt+(Ct<<5&4294967295|Ct>>>27),Ct=kt+(Rt^$t&(Pt^Rt))+It[2]+4243563512&4294967295,kt=Pt+(Ct<<9&4294967295|Ct>>>23),Ct=$t+(Pt^Rt&(kt^Pt))+It[7]+1735328473&4294967295,$t=kt+(Ct<<14&4294967295|Ct>>>18),Ct=Rt+(kt^Pt&($t^kt))+It[12]+2368359562&4294967295,Rt=$t+(Ct<<20&4294967295|Ct>>>12),Ct=Pt+(Rt^$t^kt)+It[5]+4294588738&4294967295,Pt=Rt+(Ct<<4&4294967295|Ct>>>28),Ct=kt+(Pt^Rt^$t)+It[8]+2272392833&4294967295,kt=Pt+(Ct<<11&4294967295|Ct>>>21),Ct=$t+(kt^Pt^Rt)+It[11]+1839030562&4294967295,$t=kt+(Ct<<16&4294967295|Ct>>>16),Ct=Rt+($t^kt^Pt)+It[14]+4259657740&4294967295,Rt=$t+(Ct<<23&4294967295|Ct>>>9),Ct=Pt+(Rt^$t^kt)+It[1]+2763975236&4294967295,Pt=Rt+(Ct<<4&4294967295|Ct>>>28),Ct=kt+(Pt^Rt^$t)+It[4]+1272893353&4294967295,kt=Pt+(Ct<<11&4294967295|Ct>>>21),Ct=$t+(kt^Pt^Rt)+It[7]+4139469664&4294967295,$t=kt+(Ct<<16&4294967295|Ct>>>16),Ct=Rt+($t^kt^Pt)+It[10]+3200236656&4294967295,Rt=$t+(Ct<<23&4294967295|Ct>>>9),Ct=Pt+(Rt^$t^kt)+It[13]+681279174&4294967295,Pt=Rt+(Ct<<4&4294967295|Ct>>>28),Ct=kt+(Pt^Rt^$t)+It[0]+3936430074&4294967295,kt=Pt+(Ct<<11&4294967295|Ct>>>21),Ct=$t+(kt^Pt^Rt)+It[3]+3572445317&4294967295,$t=kt+(Ct<<16&4294967295|Ct>>>16),Ct=Rt+($t^kt^Pt)+It[6]+76029189&4294967295,Rt=$t+(Ct<<23&4294967295|Ct>>>9),Ct=Pt+(Rt^$t^kt)+It[9]+3654602809&4294967295,Pt=Rt+(Ct<<4&4294967295|Ct>>>28),Ct=kt+(Pt^Rt^$t)+It[12]+3873151461&4294967295,kt=Pt+(Ct<<11&4294967295|Ct>>>21),Ct=$t+(kt^Pt^Rt)+It[15]+530742520&4294967295,$t=kt+(Ct<<16&4294967295|Ct>>>16),Ct=Rt+($t^kt^Pt)+It[2]+3299628645&4294967295,Rt=$t+(Ct<<23&4294967295|Ct>>>9),Ct=Pt+($t^(Rt|~kt))+It[0]+4096336452&4294967295,Pt=Rt+(Ct<<6&4294967295|Ct>>>26),Ct=kt+(Rt^(Pt|~$t))+It[7]+1126891415&4294967295,kt=Pt+(Ct<<10&4294967295|Ct>>>22),Ct=$t+(Pt^(kt|~Rt))+It[14]+2878612391&4294967295,$t=kt+(Ct<<15&4294967295|Ct>>>17),Ct=Rt+(kt^($t|~Pt))+It[5]+4237533241&4294967295,Rt=$t+(Ct<<21&4294967295|Ct>>>11),Ct=Pt+($t^(Rt|~kt))+It[12]+1700485571&4294967295,Pt=Rt+(Ct<<6&4294967295|Ct>>>26),Ct=kt+(Rt^(Pt|~$t))+It[3]+2399980690&4294967295,kt=Pt+(Ct<<10&4294967295|Ct>>>22),Ct=$t+(Pt^(kt|~Rt))+It[10]+4293915773&4294967295,$t=kt+(Ct<<15&4294967295|Ct>>>17),Ct=Rt+(kt^($t|~Pt))+It[1]+2240044497&4294967295,Rt=$t+(Ct<<21&4294967295|Ct>>>11),Ct=Pt+($t^(Rt|~kt))+It[8]+1873313359&4294967295,Pt=Rt+(Ct<<6&4294967295|Ct>>>26),Ct=kt+(Rt^(Pt|~$t))+It[15]+4264355552&4294967295,kt=Pt+(Ct<<10&4294967295|Ct>>>22),Ct=$t+(Pt^(kt|~Rt))+It[6]+2734768916&4294967295,$t=kt+(Ct<<15&4294967295|Ct>>>17),Ct=Rt+(kt^($t|~Pt))+It[13]+1309151649&4294967295,Rt=$t+(Ct<<21&4294967295|Ct>>>11),Ct=Pt+($t^(Rt|~kt))+It[4]+4149444226&4294967295,Pt=Rt+(Ct<<6&4294967295|Ct>>>26),Ct=kt+(Rt^(Pt|~$t))+It[11]+3174756917&4294967295,kt=Pt+(Ct<<10&4294967295|Ct>>>22),Ct=$t+(Pt^(kt|~Rt))+It[2]+718787259&4294967295,$t=kt+(Ct<<15&4294967295|Ct>>>17),Ct=Rt+(kt^($t|~Pt))+It[9]+3951481745&4294967295,Tt.g[0]=Tt.g[0]+Pt&4294967295,Tt.g[1]=Tt.g[1]+($t+(Ct<<21&4294967295|Ct>>>11))&4294967295,Tt.g[2]=Tt.g[2]+$t&4294967295,Tt.g[3]=Tt.g[3]+kt&4294967295}nt.prototype.u=function(Tt,Pt){Pt===void 0&&(Pt=Tt.length);for(var Rt=Pt-this.blockSize,It=this.B,$t=this.h,kt=0;kt<Pt;){if($t==0)for(;kt<=Rt;)it(this,Tt,kt),kt+=this.blockSize;if(typeof Tt=="string"){for(;kt<Pt;)if(It[$t++]=Tt.charCodeAt(kt++),$t==this.blockSize){it(this,It),$t=0;break}}else for(;kt<Pt;)if(It[$t++]=Tt[kt++],$t==this.blockSize){it(this,It),$t=0;break}}this.h=$t,this.o+=Pt},nt.prototype.v=function(){var Tt=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Tt[0]=128;for(var Pt=1;Pt<Tt.length-8;++Pt)Tt[Pt]=0;var Rt=8*this.o;for(Pt=Tt.length-8;Pt<Tt.length;++Pt)Tt[Pt]=Rt&255,Rt/=256;for(this.u(Tt),Tt=Array(16),Pt=Rt=0;4>Pt;++Pt)for(var It=0;32>It;It+=8)Tt[Rt++]=this.g[Pt]>>>It&255;return Tt};function at(Tt,Pt){var Rt=st;return Object.prototype.hasOwnProperty.call(Rt,Tt)?Rt[Tt]:Rt[Tt]=Pt(Tt)}function ot(Tt,Pt){this.h=Pt;for(var Rt=[],It=!0,$t=Tt.length-1;0<=$t;$t--){var kt=Tt[$t]|0;It&&kt==Pt||(Rt[$t]=kt,It=!1)}this.g=Rt}var st={};function lt(Tt){return-128<=Tt&&128>Tt?at(Tt,function(Pt){return new ot([Pt|0],0>Pt?-1:0)}):new ot([Tt|0],0>Tt?-1:0)}function ct(Tt){if(isNaN(Tt)||!isFinite(Tt))return ft;if(0>Tt)return xt(ct(-Tt));for(var Pt=[],Rt=1,It=0;Tt>=Rt;It++)Pt[It]=Tt/Rt|0,Rt*=4294967296;return new ot(Pt,0)}function ut(Tt,Pt){if(Tt.length==0)throw Error("number format error: empty string");if(Pt=Pt||10,2>Pt||36<Pt)throw Error("radix out of range: "+Pt);if(Tt.charAt(0)=="-")return xt(ut(Tt.substring(1),Pt));if(0<=Tt.indexOf("-"))throw Error('number format error: interior "-" character');for(var Rt=ct(Math.pow(Pt,8)),It=ft,$t=0;$t<Tt.length;$t+=8){var kt=Math.min(8,Tt.length-$t),Ct=parseInt(Tt.substring($t,$t+kt),Pt);8>kt?(kt=ct(Math.pow(Pt,kt)),It=It.j(kt).add(ct(Ct))):(It=It.j(Rt),It=It.add(ct(Ct)))}return It}var ft=lt(0),ht=lt(1),dt=lt(16777216);et=ot.prototype,et.m=function(){if(yt(this))return-xt(this).m();for(var Tt=0,Pt=1,Rt=0;Rt<this.g.length;Rt++){var It=this.i(Rt);Tt+=(0<=It?It:4294967296+It)*Pt,Pt*=4294967296}return Tt},et.toString=function(Tt){if(Tt=Tt||10,2>Tt||36<Tt)throw Error("radix out of range: "+Tt);if(vt(this))return"0";if(yt(this))return"-"+xt(this).toString(Tt);for(var Pt=ct(Math.pow(Tt,6)),Rt=this,It="";;){var $t=bt(Rt,Pt).g;Rt=_t(Rt,$t.j(Pt));var kt=((0<Rt.g.length?Rt.g[0]:Rt.h)>>>0).toString(Tt);if(Rt=$t,vt(Rt))return kt+It;for(;6>kt.length;)kt="0"+kt;It=kt+It}},et.i=function(Tt){return 0>Tt?0:Tt<this.g.length?this.g[Tt]:this.h};function vt(Tt){if(Tt.h!=0)return!1;for(var Pt=0;Pt<Tt.g.length;Pt++)if(Tt.g[Pt]!=0)return!1;return!0}function yt(Tt){return Tt.h==-1}et.l=function(Tt){return Tt=_t(this,Tt),yt(Tt)?-1:vt(Tt)?0:1};function xt(Tt){for(var Pt=Tt.g.length,Rt=[],It=0;It<Pt;It++)Rt[It]=~Tt.g[It];return new ot(Rt,~Tt.h).add(ht)}et.abs=function(){return yt(this)?xt(this):this},et.add=function(Tt){for(var Pt=Math.max(this.g.length,Tt.g.length),Rt=[],It=0,$t=0;$t<=Pt;$t++){var kt=It+(this.i($t)&65535)+(Tt.i($t)&65535),Ct=(kt>>>16)+(this.i($t)>>>16)+(Tt.i($t)>>>16);It=Ct>>>16,kt&=65535,Ct&=65535,Rt[$t]=Ct<<16|kt}return new ot(Rt,Rt[Rt.length-1]&-2147483648?-1:0)};function _t(Tt,Pt){return Tt.add(xt(Pt))}et.j=function(Tt){if(vt(this)||vt(Tt))return ft;if(yt(this))return yt(Tt)?xt(this).j(xt(Tt)):xt(xt(this).j(Tt));if(yt(Tt))return xt(this.j(xt(Tt)));if(0>this.l(dt)&&0>Tt.l(dt))return ct(this.m()*Tt.m());for(var Pt=this.g.length+Tt.g.length,Rt=[],It=0;It<2*Pt;It++)Rt[It]=0;for(It=0;It<this.g.length;It++)for(var $t=0;$t<Tt.g.length;$t++){var kt=this.i(It)>>>16,Ct=this.i(It)&65535,Bt=Tt.i($t)>>>16,Ft=Tt.i($t)&65535;Rt[2*It+2*$t]+=Ct*Ft,mt(Rt,2*It+2*$t),Rt[2*It+2*$t+1]+=kt*Ft,mt(Rt,2*It+2*$t+1),Rt[2*It+2*$t+1]+=Ct*Bt,mt(Rt,2*It+2*$t+1),Rt[2*It+2*$t+2]+=kt*Bt,mt(Rt,2*It+2*$t+2)}for(It=0;It<Pt;It++)Rt[It]=Rt[2*It+1]<<16|Rt[2*It];for(It=Pt;It<2*Pt;It++)Rt[It]=0;return new ot(Rt,0)};function mt(Tt,Pt){for(;(Tt[Pt]&65535)!=Tt[Pt];)Tt[Pt+1]+=Tt[Pt]>>>16,Tt[Pt]&=65535,Pt++}function pt(Tt,Pt){this.g=Tt,this.h=Pt}function bt(Tt,Pt){if(vt(Pt))throw Error("division by zero");if(vt(Tt))return new pt(ft,ft);if(yt(Tt))return Pt=bt(xt(Tt),Pt),new pt(xt(Pt.g),xt(Pt.h));if(yt(Pt))return Pt=bt(Tt,xt(Pt)),new pt(xt(Pt.g),Pt.h);if(30<Tt.g.length){if(yt(Tt)||yt(Pt))throw Error("slowDivide_ only works with positive integers.");for(var Rt=ht,It=Pt;0>=It.l(Tt);)Rt=Et(Rt),It=Et(It);var $t=St(Rt,1),kt=St(It,1);for(It=St(It,2),Rt=St(Rt,2);!vt(It);){var Ct=kt.add(It);0>=Ct.l(Tt)&&($t=$t.add(Rt),kt=Ct),It=St(It,1),Rt=St(Rt,1)}return Pt=_t(Tt,$t.j(Pt)),new pt($t,Pt)}for($t=ft;0<=Tt.l(Pt);){for(Rt=Math.max(1,Math.floor(Tt.m()/Pt.m())),It=Math.ceil(Math.log(Rt)/Math.LN2),It=48>=It?1:Math.pow(2,It-48),kt=ct(Rt),Ct=kt.j(Pt);yt(Ct)||0<Ct.l(Tt);)Rt-=It,kt=ct(Rt),Ct=kt.j(Pt);vt(kt)&&(kt=ht),$t=$t.add(kt),Tt=_t(Tt,Ct)}return new pt($t,Tt)}et.A=function(Tt){return bt(this,Tt).h},et.and=function(Tt){for(var Pt=Math.max(this.g.length,Tt.g.length),Rt=[],It=0;It<Pt;It++)Rt[It]=this.i(It)&Tt.i(It);return new ot(Rt,this.h&Tt.h)},et.or=function(Tt){for(var Pt=Math.max(this.g.length,Tt.g.length),Rt=[],It=0;It<Pt;It++)Rt[It]=this.i(It)|Tt.i(It);return new ot(Rt,this.h|Tt.h)},et.xor=function(Tt){for(var Pt=Math.max(this.g.length,Tt.g.length),Rt=[],It=0;It<Pt;It++)Rt[It]=this.i(It)^Tt.i(It);return new ot(Rt,this.h^Tt.h)};function Et(Tt){for(var Pt=Tt.g.length+1,Rt=[],It=0;It<Pt;It++)Rt[It]=Tt.i(It)<<1|Tt.i(It-1)>>>31;return new ot(Rt,Tt.h)}function St(Tt,Pt){var Rt=Pt>>5;Pt%=32;for(var It=Tt.g.length-Rt,$t=[],kt=0;kt<It;kt++)$t[kt]=0<Pt?Tt.i(kt+Rt)>>>Pt|Tt.i(kt+Rt+1)<<32-Pt:Tt.i(kt+Rt);return new ot($t,Tt.h)}nt.prototype.digest=nt.prototype.v,nt.prototype.reset=nt.prototype.s,nt.prototype.update=nt.prototype.u,Md5=nt,ot.prototype.add=ot.prototype.add,ot.prototype.multiply=ot.prototype.j,ot.prototype.modulo=ot.prototype.A,ot.prototype.compare=ot.prototype.l,ot.prototype.toNumber=ot.prototype.m,ot.prototype.toString=ot.prototype.toString,ot.prototype.getBits=ot.prototype.i,ot.fromNumber=ct,ot.fromString=ut,Integer=ot}).apply(typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:typeof window<"u"?window:{});var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XhrIo,FetchXmlHttpFactory,WebChannel,EventType,ErrorCode$1,Stat,Event,getStatEventTarget,createWebChannelTransport;(function(){var et,tt=typeof Object.defineProperties=="function"?Object.defineProperty:function(gt,At,jt){return gt==Array.prototype||gt==Object.prototype||(gt[At]=jt.value),gt};function rt(gt){gt=[typeof globalThis=="object"&&globalThis,gt,typeof window=="object"&&window,typeof self=="object"&&self,typeof commonjsGlobal=="object"&&commonjsGlobal];for(var At=0;At<gt.length;++At){var jt=gt[At];if(jt&&jt.Math==Math)return jt}throw Error("Cannot find global object")}var nt=rt(this);function it(gt,At){if(At)e:{var jt=nt;gt=gt.split(".");for(var Nt=0;Nt<gt.length-1;Nt++){var Gt=gt[Nt];if(!(Gt in jt))break e;jt=jt[Gt]}gt=gt[gt.length-1],Nt=jt[gt],At=At(Nt),At!=Nt&&At!=null&&tt(jt,gt,{configurable:!0,writable:!0,value:At})}}function at(gt,At){gt instanceof String&&(gt+="");var jt=0,Nt=!1,Gt={next:function(){if(!Nt&&jt<gt.length){var Kt=jt++;return{value:At(Kt,gt[Kt]),done:!1}}return Nt=!0,{done:!0,value:void 0}}};return Gt[Symbol.iterator]=function(){return Gt},Gt}it("Array.prototype.values",function(gt){return gt||function(){return at(this,function(At,jt){return jt})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var ot=ot||{},st=this||self;function lt(gt){var At=typeof gt;return At=At!="object"?At:gt?Array.isArray(gt)?"array":At:"null",At=="array"||At=="object"&&typeof gt.length=="number"}function ct(gt){var At=typeof gt;return At=="object"&&gt!=null||At=="function"}function ut(gt,At,jt){return gt.call.apply(gt.bind,arguments)}function ft(gt,At,jt){if(!gt)throw Error();if(2<arguments.length){var Nt=Array.prototype.slice.call(arguments,2);return function(){var Gt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Gt,Nt),gt.apply(At,Gt)}}return function(){return gt.apply(At,arguments)}}function ht(gt,At,jt){return ht=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ut:ft,ht.apply(null,arguments)}function dt(gt,At){var jt=Array.prototype.slice.call(arguments,1);return function(){var Nt=jt.slice();return Nt.push.apply(Nt,arguments),gt.apply(this,Nt)}}function vt(gt,At){function jt(){}jt.prototype=At.prototype,gt.aa=At.prototype,gt.prototype=new jt,gt.prototype.constructor=gt,gt.Qb=function(Nt,Gt,Kt){for(var ar=Array(arguments.length-2),Pr=2;Pr<arguments.length;Pr++)ar[Pr-2]=arguments[Pr];return At.prototype[Gt].apply(Nt,ar)}}function yt(gt){const At=gt.length;if(0<At){const jt=Array(At);for(let Nt=0;Nt<At;Nt++)jt[Nt]=gt[Nt];return jt}return[]}function xt(gt,At){for(let jt=1;jt<arguments.length;jt++){const Nt=arguments[jt];if(lt(Nt)){const Gt=gt.length||0,Kt=Nt.length||0;gt.length=Gt+Kt;for(let ar=0;ar<Kt;ar++)gt[Gt+ar]=Nt[ar]}else gt.push(Nt)}}class _t{constructor(At,jt){this.i=At,this.j=jt,this.h=0,this.g=null}get(){let At;return 0<this.h?(this.h--,At=this.g,this.g=At.next,At.next=null):At=this.i(),At}}function mt(gt){return/^[\s\xa0]*$/.test(gt)}function pt(){var gt=st.navigator;return gt&&(gt=gt.userAgent)?gt:""}function bt(gt){return bt[" "](gt),gt}bt[" "]=function(){};var Et=pt().indexOf("Gecko")!=-1&&!(pt().toLowerCase().indexOf("webkit")!=-1&&pt().indexOf("Edge")==-1)&&!(pt().indexOf("Trident")!=-1||pt().indexOf("MSIE")!=-1)&&pt().indexOf("Edge")==-1;function St(gt,At,jt){for(const Nt in gt)At.call(jt,gt[Nt],Nt,gt)}function Tt(gt,At){for(const jt in gt)At.call(void 0,gt[jt],jt,gt)}function Pt(gt){const At={};for(const jt in gt)At[jt]=gt[jt];return At}const Rt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function It(gt,At){let jt,Nt;for(let Gt=1;Gt<arguments.length;Gt++){Nt=arguments[Gt];for(jt in Nt)gt[jt]=Nt[jt];for(let Kt=0;Kt<Rt.length;Kt++)jt=Rt[Kt],Object.prototype.hasOwnProperty.call(Nt,jt)&&(gt[jt]=Nt[jt])}}function $t(gt){var At=1;gt=gt.split(":");const jt=[];for(;0<At&&gt.length;)jt.push(gt.shift()),At--;return gt.length&&jt.push(gt.join(":")),jt}function kt(gt){st.setTimeout(()=>{throw gt},0)}function Ct(){var gt=Ot;let At=null;return gt.g&&(At=gt.g,gt.g=gt.g.next,gt.g||(gt.h=null),At.next=null),At}class Bt{constructor(){this.h=this.g=null}add(At,jt){const Nt=Ft.get();Nt.set(At,jt),this.h?this.h.next=Nt:this.g=Nt,this.h=Nt}}var Ft=new _t(()=>new Dt,gt=>gt.reset());class Dt{constructor(){this.next=this.g=this.h=null}set(At,jt){this.h=At,this.g=jt,this.next=null}reset(){this.next=this.g=this.h=null}}let Mt,wt=!1,Ot=new Bt,Lt=()=>{const gt=st.Promise.resolve(void 0);Mt=()=>{gt.then(Vt)}};var Vt=()=>{for(var gt;gt=Ct();){try{gt.h.call(gt.g)}catch(jt){kt(jt)}var At=Ft;At.j(gt),100>At.h&&(At.h++,gt.next=At.g,At.g=gt)}wt=!1};function zt(){this.s=this.s,this.C=this.C}zt.prototype.s=!1,zt.prototype.ma=function(){this.s||(this.s=!0,this.N())},zt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Yt(gt,At){this.type=gt,this.g=this.target=At,this.defaultPrevented=!1}Yt.prototype.h=function(){this.defaultPrevented=!0};var nr=function(){if(!st.addEventListener||!Object.defineProperty)return!1;var gt=!1,At=Object.defineProperty({},"passive",{get:function(){gt=!0}});try{const jt=()=>{};st.addEventListener("test",jt,At),st.removeEventListener("test",jt,At)}catch{}return gt}();function cr(gt,At){if(Yt.call(this,gt?gt.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,gt){var jt=this.type=gt.type,Nt=gt.changedTouches&&gt.changedTouches.length?gt.changedTouches[0]:null;if(this.target=gt.target||gt.srcElement,this.g=At,At=gt.relatedTarget){if(Et){e:{try{bt(At.nodeName);var Gt=!0;break e}catch{}Gt=!1}Gt||(At=null)}}else jt=="mouseover"?At=gt.fromElement:jt=="mouseout"&&(At=gt.toElement);this.relatedTarget=At,Nt?(this.clientX=Nt.clientX!==void 0?Nt.clientX:Nt.pageX,this.clientY=Nt.clientY!==void 0?Nt.clientY:Nt.pageY,this.screenX=Nt.screenX||0,this.screenY=Nt.screenY||0):(this.clientX=gt.clientX!==void 0?gt.clientX:gt.pageX,this.clientY=gt.clientY!==void 0?gt.clientY:gt.pageY,this.screenX=gt.screenX||0,this.screenY=gt.screenY||0),this.button=gt.button,this.key=gt.key||"",this.ctrlKey=gt.ctrlKey,this.altKey=gt.altKey,this.shiftKey=gt.shiftKey,this.metaKey=gt.metaKey,this.pointerId=gt.pointerId||0,this.pointerType=typeof gt.pointerType=="string"?gt.pointerType:hr[gt.pointerType]||"",this.state=gt.state,this.i=gt,gt.defaultPrevented&&cr.aa.h.call(this)}}vt(cr,Yt);var hr={2:"touch",3:"pen",4:"mouse"};cr.prototype.h=function(){cr.aa.h.call(this);var gt=this.i;gt.preventDefault?gt.preventDefault():gt.returnValue=!1};var Jt="closure_listenable_"+(1e6*Math.random()|0),ur=0;function Xt(gt,At,jt,Nt,Gt){this.listener=gt,this.proxy=null,this.src=At,this.type=jt,this.capture=!!Nt,this.ha=Gt,this.key=++ur,this.da=this.fa=!1}function Zt(gt){gt.da=!0,gt.listener=null,gt.proxy=null,gt.src=null,gt.ha=null}function ir(gt){this.src=gt,this.g={},this.h=0}ir.prototype.add=function(gt,At,jt,Nt,Gt){var Kt=gt.toString();gt=this.g[Kt],gt||(gt=this.g[Kt]=[],this.h++);var ar=sr(gt,At,Nt,Gt);return-1<ar?(At=gt[ar],jt||(At.fa=!1)):(At=new Xt(At,this.src,Kt,!!Nt,Gt),At.fa=jt,gt.push(At)),At};function Wt(gt,At){var jt=At.type;if(jt in gt.g){var Nt=gt.g[jt],Gt=Array.prototype.indexOf.call(Nt,At,void 0),Kt;(Kt=0<=Gt)&&Array.prototype.splice.call(Nt,Gt,1),Kt&&(Zt(At),gt.g[jt].length==0&&(delete gt.g[jt],gt.h--))}}function sr(gt,At,jt,Nt){for(var Gt=0;Gt<gt.length;++Gt){var Kt=gt[Gt];if(!Kt.da&&Kt.listener==At&&Kt.capture==!!jt&&Kt.ha==Nt)return Gt}return-1}var Qt="closure_lm_"+(1e6*Math.random()|0),_r={};function br(gt,At,jt,Nt,Gt){if(Array.isArray(At)){for(var Kt=0;Kt<At.length;Kt++)br(gt,At[Kt],jt,Nt,Gt);return null}return jt=mr(jt),gt&&gt[Jt]?gt.K(At,jt,ct(Nt)?!!Nt.capture:!!Nt,Gt):Er(gt,At,jt,!1,Nt,Gt)}function Er(gt,At,jt,Nt,Gt,Kt){if(!At)throw Error("Invalid event type");var ar=ct(Gt)?!!Gt.capture:!!Gt,Pr=er(gt);if(Pr||(gt[Qt]=Pr=new ir(gt)),jt=Pr.add(At,jt,Nt,ar,Kt),jt.proxy)return jt;if(Nt=Ut(),jt.proxy=Nt,Nt.src=gt,Nt.listener=jt,gt.addEventListener)nr||(Gt=ar),Gt===void 0&&(Gt=!1),gt.addEventListener(At.toString(),Nt,Gt);else if(gt.attachEvent)gt.attachEvent(tr(At.toString()),Nt);else if(gt.addListener&&gt.removeListener)gt.addListener(Nt);else throw Error("addEventListener and attachEvent are unavailable.");return jt}function Ut(){function gt(jt){return At.call(gt.src,gt.listener,jt)}const At=rr;return gt}function qt(gt,At,jt,Nt,Gt){if(Array.isArray(At))for(var Kt=0;Kt<At.length;Kt++)qt(gt,At[Kt],jt,Nt,Gt);else Nt=ct(Nt)?!!Nt.capture:!!Nt,jt=mr(jt),gt&&gt[Jt]?(gt=gt.i,At=String(At).toString(),At in gt.g&&(Kt=gt.g[At],jt=sr(Kt,jt,Nt,Gt),-1<jt&&(Zt(Kt[jt]),Array.prototype.splice.call(Kt,jt,1),Kt.length==0&&(delete gt.g[At],gt.h--)))):gt&&(gt=er(gt))&&(At=gt.g[At.toString()],gt=-1,At&&(gt=sr(At,jt,Nt,Gt)),(jt=-1<gt?At[gt]:null)&&Ht(jt))}function Ht(gt){if(typeof gt!="number"&&gt&&!gt.da){var At=gt.src;if(At&&At[Jt])Wt(At.i,gt);else{var jt=gt.type,Nt=gt.proxy;At.removeEventListener?At.removeEventListener(jt,Nt,gt.capture):At.detachEvent?At.detachEvent(tr(jt),Nt):At.addListener&&At.removeListener&&At.removeListener(Nt),(jt=er(At))?(Wt(jt,gt),jt.h==0&&(jt.src=null,At[Qt]=null)):Zt(gt)}}}function tr(gt){return gt in _r?_r[gt]:_r[gt]="on"+gt}function rr(gt,At){if(gt.da)gt=!0;else{At=new cr(At,this);var jt=gt.listener,Nt=gt.ha||gt.src;gt.fa&&Ht(gt),gt=jt.call(Nt,At)}return gt}function er(gt){return gt=gt[Qt],gt instanceof ir?gt:null}var lr="__closure_events_fn_"+(1e9*Math.random()>>>0);function mr(gt){return typeof gt=="function"?gt:(gt[lr]||(gt[lr]=function(At){return gt.handleEvent(At)}),gt[lr])}function pr(){zt.call(this),this.i=new ir(this),this.M=this,this.F=null}vt(pr,zt),pr.prototype[Jt]=!0,pr.prototype.removeEventListener=function(gt,At,jt,Nt){qt(this,gt,At,jt,Nt)};function yr(gt,At){var jt,Nt=gt.F;if(Nt)for(jt=[];Nt;Nt=Nt.F)jt.push(Nt);if(gt=gt.M,Nt=At.type||At,typeof At=="string")At=new Yt(At,gt);else if(At instanceof Yt)At.target=At.target||gt;else{var Gt=At;At=new Yt(Nt,gt),It(At,Gt)}if(Gt=!0,jt)for(var Kt=jt.length-1;0<=Kt;Kt--){var ar=At.g=jt[Kt];Gt=Ir(ar,Nt,!0,At)&&Gt}if(ar=At.g=gt,Gt=Ir(ar,Nt,!0,At)&&Gt,Gt=Ir(ar,Nt,!1,At)&&Gt,jt)for(Kt=0;Kt<jt.length;Kt++)ar=At.g=jt[Kt],Gt=Ir(ar,Nt,!1,At)&&Gt}pr.prototype.N=function(){if(pr.aa.N.call(this),this.i){var gt=this.i,At;for(At in gt.g){for(var jt=gt.g[At],Nt=0;Nt<jt.length;Nt++)Zt(jt[Nt]);delete gt.g[At],gt.h--}}this.F=null},pr.prototype.K=function(gt,At,jt,Nt){return this.i.add(String(gt),At,!1,jt,Nt)},pr.prototype.L=function(gt,At,jt,Nt){return this.i.add(String(gt),At,!0,jt,Nt)};function Ir(gt,At,jt,Nt){if(At=gt.i.g[String(At)],!At)return!0;At=At.concat();for(var Gt=!0,Kt=0;Kt<At.length;++Kt){var ar=At[Kt];if(ar&&!ar.da&&ar.capture==jt){var Pr=ar.listener,Cr=ar.ha||ar.src;ar.fa&&Wt(gt.i,ar),Gt=Pr.call(Cr,Nt)!==!1&&Gt}}return Gt&&!Nt.defaultPrevented}function Vr(gt,At,jt){if(typeof gt=="function")jt&&(gt=ht(gt,jt));else if(gt&&typeof gt.handleEvent=="function")gt=ht(gt.handleEvent,gt);else throw Error("Invalid listener argument");return 2147483647<Number(At)?-1:st.setTimeout(gt,At||0)}function Mr(gt){gt.g=Vr(()=>{gt.g=null,gt.i&&(gt.i=!1,Mr(gt))},gt.l);const At=gt.h;gt.h=null,gt.m.apply(null,At)}class Wr extends zt{constructor(At,jt){super(),this.m=At,this.l=jt,this.h=null,this.i=!1,this.g=null}j(At){this.h=arguments,this.g?this.i=!0:Mr(this)}N(){super.N(),this.g&&(st.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fr(gt){zt.call(this),this.h=gt,this.g={}}vt(Fr,zt);var Kr=[];function rn(gt){St(gt.g,function(At,jt){this.g.hasOwnProperty(jt)&&Ht(At)},gt),gt.g={}}Fr.prototype.N=function(){Fr.aa.N.call(this),rn(this)},Fr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Br=st.JSON.stringify,Hn=st.JSON.parse,vn=class{stringify(gt){return st.JSON.stringify(gt,void 0)}parse(gt){return st.JSON.parse(gt,void 0)}};function nn(){}nn.prototype.h=null;function _n(gt){return gt.h||(gt.h=gt.i())}function bn(){}var or={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function dr(){Yt.call(this,"d")}vt(dr,Yt);function gr(){Yt.call(this,"c")}vt(gr,Yt);var vr={},Tr=null;function Ar(){return Tr=Tr||new pr}vr.La="serverreachability";function $r(gt){Yt.call(this,vr.La,gt)}vt($r,Yt);function wr(gt){const At=Ar();yr(At,new $r(At))}vr.STAT_EVENT="statevent";function an(gt,At){Yt.call(this,vr.STAT_EVENT,gt),this.stat=At}vt(an,Yt);function Dr(gt){const At=Ar();yr(At,new an(At,gt))}vr.Ma="timingevent";function Wn(gt,At){Yt.call(this,vr.Ma,gt),this.size=At}vt(Wn,Yt);function on(gt,At){if(typeof gt!="function")throw Error("Fn must not be null and must be a function");return st.setTimeout(function(){gt()},At)}function sn(){this.g=!0}sn.prototype.xa=function(){this.g=!1};function wo(gt,At,jt,Nt,Gt,Kt){gt.info(function(){if(gt.g)if(Kt)for(var ar="",Pr=Kt.split("&"),Cr=0;Cr<Pr.length;Cr++){var xr=Pr[Cr].split("=");if(1<xr.length){var Or=xr[0];xr=xr[1];var jr=Or.split("_");ar=2<=jr.length&&jr[1]=="type"?ar+(Or+"="+xr+"&"):ar+(Or+"=redacted&")}}else ar=null;else ar=Kt;return"XMLHTTP REQ ("+Nt+") [attempt "+Gt+"]: "+At+`
`+jt+`
`+ar})}function Ro(gt,At,jt,Nt,Gt,Kt,ar){gt.info(function(){return"XMLHTTP RESP ("+Nt+") [ attempt "+Gt+"]: "+At+`
`+jt+`
`+Kt+" "+ar})}function Jr(gt,At,jt,Nt){gt.info(function(){return"XMLHTTP TEXT ("+At+"): "+ko(gt,jt)+(Nt?" "+Nt:"")})}function Io(gt,At){gt.info(function(){return"TIMEOUT: "+At})}sn.prototype.info=function(){};function ko(gt,At){if(!gt.g)return At;if(!At)return null;try{var jt=JSON.parse(At);if(jt){for(gt=0;gt<jt.length;gt++)if(Array.isArray(jt[gt])){var Nt=jt[gt];if(!(2>Nt.length)){var Gt=Nt[1];if(Array.isArray(Gt)&&!(1>Gt.length)){var Kt=Gt[0];if(Kt!="noop"&&Kt!="stop"&&Kt!="close")for(var ar=1;ar<Gt.length;ar++)Gt[ar]=""}}}}return Br(jt)}catch{return At}}var xn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Kn={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},jn;function En(){}vt(En,nn),En.prototype.g=function(){return new XMLHttpRequest},En.prototype.i=function(){return{}},jn=new En;function qr(gt,At,jt,Nt){this.j=gt,this.i=At,this.l=jt,this.R=Nt||1,this.U=new Fr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Yn}function Yn(){this.i=null,this.g="",this.h=!1}var Xn={},Dn={};function Mn(gt,At,jt){gt.L=1,gt.v=An(Ur(At)),gt.m=jt,gt.P=!0,Qn(gt,null)}function Qn(gt,At){gt.F=Date.now(),Tn(gt),gt.A=Ur(gt.v);var jt=gt.A,Nt=gt.R;Array.isArray(Nt)||(Nt=[String(Nt)]),io(jt.i,"t",Nt),gt.C=0,jt=gt.j.J,gt.h=new Yn,gt.g=To(gt.j,jt?At:null,!gt.m),0<gt.O&&(gt.M=new Wr(ht(gt.Y,gt,gt.g),gt.O)),At=gt.U,jt=gt.g,Nt=gt.ca;var Gt="readystatechange";Array.isArray(Gt)||(Gt&&(Kr[0]=Gt.toString()),Gt=Kr);for(var Kt=0;Kt<Gt.length;Kt++){var ar=br(jt,Gt[Kt],Nt||At.handleEvent,!1,At.h||At);if(!ar)break;At.g[ar.key]=ar}At=gt.H?Pt(gt.H):{},gt.m?(gt.u||(gt.u="POST"),At["Content-Type"]="application/x-www-form-urlencoded",gt.g.ea(gt.A,gt.u,gt.m,At)):(gt.u="GET",gt.g.ea(gt.A,gt.u,null,At)),wr(),wo(gt.i,gt.u,gt.A,gt.l,gt.R,gt.m)}qr.prototype.ca=function(gt){gt=gt.target;const At=this.M;At&&zr(gt)==3?At.j():this.Y(gt)},qr.prototype.Y=function(gt){try{if(gt==this.g)e:{const jr=zr(this.g);var At=this.g.Ba();const tn=this.g.Z();if(!(3>jr)&&(jr!=3||this.g&&(this.h.h||this.g.oa()||fo(this.g)))){this.J||jr!=4||At==7||(At==8||0>=tn?wr(3):wr(2)),Nn(this);var jt=this.g.Z();this.X=jt;t:if(Jn(this)){var Nt=fo(this.g);gt="";var Gt=Nt.length,Kt=zr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Yr(this),cn(this);var ar="";break t}this.h.i=new st.TextDecoder}for(At=0;At<Gt;At++)this.h.h=!0,gt+=this.h.i.decode(Nt[At],{stream:!(Kt&&At==Gt-1)});Nt.length=0,this.h.g+=gt,this.C=0,ar=this.h.g}else ar=this.g.oa();if(this.o=jt==200,Ro(this.i,this.u,this.A,this.l,this.R,jr,jt),this.o){if(this.T&&!this.K){t:{if(this.g){var Pr,Cr=this.g;if((Pr=Cr.g?Cr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!mt(Pr)){var xr=Pr;break t}}xr=null}if(jt=xr)Jr(this.i,this.l,jt,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Vn(this,jt);else{this.o=!1,this.s=3,Dr(12),Yr(this),cn(this);break e}}if(this.P){jt=!0;let Lr;for(;!this.J&&this.C<ar.length;)if(Lr=$o(this,ar),Lr==Dn){jr==4&&(this.s=4,Dr(14),jt=!1),Jr(this.i,this.l,null,"[Incomplete Response]");break}else if(Lr==Xn){this.s=4,Dr(15),Jr(this.i,this.l,ar,"[Invalid Chunk]"),jt=!1;break}else Jr(this.i,this.l,Lr,null),Vn(this,Lr);if(Jn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),jr!=4||ar.length!=0||this.h.h||(this.s=1,Dr(16),jt=!1),this.o=this.o&&jt,!jt)Jr(this.i,this.l,ar,"[Invalid Chunked Response]"),Yr(this),cn(this);else if(0<ar.length&&!this.W){this.W=!0;var Or=this.j;Or.g==this&&Or.ba&&!Or.M&&(Or.j.info("Great, no buffering proxy detected. Bytes received: "+ar.length),qn(Or),Or.M=!0,Dr(11))}}else Jr(this.i,this.l,ar,null),Vn(this,ar);jr==4&&Yr(this),this.o&&!this.J&&(jr==4?_o(this.j,this):(this.o=!1,Tn(this)))}else Ko(this.g),jt==400&&0<ar.indexOf("Unknown SID")?(this.s=3,Dr(12)):(this.s=0,Dr(13)),Yr(this),cn(this)}}}catch{}finally{}};function Jn(gt){return gt.g?gt.u=="GET"&&gt.L!=2&&gt.j.Ca:!1}function $o(gt,At){var jt=gt.C,Nt=At.indexOf(`
`,jt);return Nt==-1?Dn:(jt=Number(At.substring(jt,Nt)),isNaN(jt)?Xn:(Nt+=1,Nt+jt>At.length?Dn:(At=At.slice(Nt,Nt+jt),gt.C=Nt+jt,At)))}qr.prototype.cancel=function(){this.J=!0,Yr(this)};function Tn(gt){gt.S=Date.now()+gt.I,Zn(gt,gt.I)}function Zn(gt,At){if(gt.B!=null)throw Error("WatchDog timer not null");gt.B=on(ht(gt.ba,gt),At)}function Nn(gt){gt.B&&(st.clearTimeout(gt.B),gt.B=null)}qr.prototype.ba=function(){this.B=null;const gt=Date.now();0<=gt-this.S?(Io(this.i,this.A),this.L!=2&&(wr(),Dr(17)),Yr(this),this.s=2,cn(this)):Zn(this,this.S-gt)};function cn(gt){gt.j.G==0||gt.J||_o(gt.j,gt)}function Yr(gt){Nn(gt);var At=gt.M;At&&typeof At.ma=="function"&&At.ma(),gt.M=null,rn(gt.U),gt.g&&(At=gt.g,gt.g=null,At.abort(),At.ma())}function Vn(gt,At){try{var jt=gt.j;if(jt.G!=0&&(jt.g==gt||Ln(jt.h,gt))){if(!gt.K&&Ln(jt.h,gt)&&jt.G==3){try{var Nt=jt.Da.g.parse(At)}catch{Nt=null}if(Array.isArray(Nt)&&Nt.length==3){var Gt=Nt;if(Gt[0]==0){e:if(!jt.u){if(jt.g)if(jt.g.F+3e3<gt.F)$n(jt),In(jt);else break e;zn(jt),Dr(18)}}else jt.za=Gt[1],0<jt.za-jt.T&&37500>Gt[2]&&jt.F&&jt.v==0&&!jt.C&&(jt.C=on(ht(jt.Za,jt),6e3));if(1>=ga(jt.h)&&jt.ca){try{jt.ca()}catch{}jt.ca=void 0}}else Qr(jt,11)}else if((gt.K||jt.g==gt)&&$n(jt),!mt(At))for(Gt=jt.Da.g.parse(At),At=0;At<Gt.length;At++){let xr=Gt[At];if(jt.T=xr[0],xr=xr[1],jt.G==2)if(xr[0]=="c"){jt.K=xr[1],jt.ia=xr[2];const Or=xr[3];Or!=null&&(jt.la=Or,jt.j.info("VER="+jt.la));const jr=xr[4];jr!=null&&(jt.Aa=jr,jt.j.info("SVER="+jt.Aa));const tn=xr[5];tn!=null&&typeof tn=="number"&&0<tn&&(Nt=1.5*tn,jt.L=Nt,jt.j.info("backChannelRequestTimeoutMs_="+Nt)),Nt=jt;const Lr=gt.g;if(Lr){const On=Lr.g?Lr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(On){var Kt=Nt.h;Kt.g||On.indexOf("spdy")==-1&&On.indexOf("quic")==-1&&On.indexOf("h2")==-1||(Kt.j=Kt.l,Kt.g=new Set,Kt.h&&(Fn(Kt,Kt.h),Kt.h=null))}if(Nt.D){const Gn=Lr.g?Lr.g.getResponseHeader("X-HTTP-Session-Id"):null;Gn&&(Nt.ya=Gn,Sr(Nt.I,Nt.D,Gn))}}jt.G=3,jt.l&&jt.l.ua(),jt.ba&&(jt.R=Date.now()-gt.F,jt.j.info("Handshake RTT: "+jt.R+"ms")),Nt=jt;var ar=gt;if(Nt.qa=Eo(Nt,Nt.J?Nt.ia:null,Nt.W),ar.K){_a(Nt.h,ar);var Pr=ar,Cr=Nt.L;Cr&&(Pr.I=Cr),Pr.B&&(Nn(Pr),Tn(Pr)),Nt.g=ar}else yo(Nt);0<jt.i.length&&kn(jt)}else xr[0]!="stop"&&xr[0]!="close"||Qr(jt,7);else jt.G==3&&(xr[0]=="stop"||xr[0]=="close"?xr[0]=="stop"?Qr(jt,7):Un(jt):xr[0]!="noop"&&jt.l&&jt.l.ta(xr),jt.v=0)}}wr(4)}catch{}}var Co=class{constructor(gt,At){this.g=gt,this.map=At}};function _i(gt){this.l=gt||10,st.PerformanceNavigationTiming?(gt=st.performance.getEntriesByType("navigation"),gt=0<gt.length&&(gt[0].nextHopProtocol=="hq"||gt[0].nextHopProtocol=="h2")):gt=!!(st.chrome&&st.chrome.loadTimes&&st.chrome.loadTimes()&&st.chrome.loadTimes().wasFetchedViaSpdy),this.j=gt?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function na(gt){return gt.h?!0:gt.g?gt.g.size>=gt.j:!1}function ga(gt){return gt.h?1:gt.g?gt.g.size:0}function Ln(gt,At){return gt.h?gt.h==At:gt.g?gt.g.has(At):!1}function Fn(gt,At){gt.g?gt.g.add(At):gt.h=At}function _a(gt,At){gt.h&&gt.h==At?gt.h=null:gt.g&&gt.g.has(At)&&gt.g.delete(At)}_i.prototype.cancel=function(){if(this.i=ba(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const gt of this.g.values())gt.cancel();this.g.clear()}};function ba(gt){if(gt.h!=null)return gt.i.concat(gt.h.D);if(gt.g!=null&&gt.g.size!==0){let At=gt.i;for(const jt of gt.g.values())At=At.concat(jt.D);return At}return yt(gt.i)}function Oo(gt){if(gt.V&&typeof gt.V=="function")return gt.V();if(typeof Map<"u"&&gt instanceof Map||typeof Set<"u"&&gt instanceof Set)return Array.from(gt.values());if(typeof gt=="string")return gt.split("");if(lt(gt)){for(var At=[],jt=gt.length,Nt=0;Nt<jt;Nt++)At.push(gt[Nt]);return At}At=[],jt=0;for(Nt in gt)At[jt++]=gt[Nt];return At}function jo(gt){if(gt.na&&typeof gt.na=="function")return gt.na();if(!gt.V||typeof gt.V!="function"){if(typeof Map<"u"&&gt instanceof Map)return Array.from(gt.keys());if(!(typeof Set<"u"&&gt instanceof Set)){if(lt(gt)||typeof gt=="string"){var At=[];gt=gt.length;for(var jt=0;jt<gt;jt++)At.push(jt);return At}At=[],jt=0;for(const Nt in gt)At[jt++]=Nt;return At}}}function xa(gt,At){if(gt.forEach&&typeof gt.forEach=="function")gt.forEach(At,void 0);else if(lt(gt)||typeof gt=="string")Array.prototype.forEach.call(gt,At,void 0);else for(var jt=jo(gt),Nt=Oo(gt),Gt=Nt.length,Kt=0;Kt<Gt;Kt++)At.call(void 0,Nt[Kt],jt&&jt[Kt],gt)}var $a=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Do(gt,At){if(gt){gt=gt.split("&");for(var jt=0;jt<gt.length;jt++){var Nt=gt[jt].indexOf("="),Gt=null;if(0<=Nt){var Kt=gt[jt].substring(0,Nt);Gt=gt[jt].substring(Nt+1)}else Kt=gt[jt];At(Kt,Gt?decodeURIComponent(Gt.replace(/\+/g," ")):"")}}}function Xr(gt){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,gt instanceof Xr){this.h=gt.h,Pn(this,gt.j),this.o=gt.o,this.g=gt.g,Sn(this,gt.s),this.l=gt.l;var At=gt.i,jt=new hn;jt.i=At.i,At.g&&(jt.g=new Map(At.g),jt.h=At.h),eo(this,jt),this.m=gt.m}else gt&&(At=String(gt).match($a))?(this.h=!1,Pn(this,At[1]||"",!0),this.o=un(At[2]||""),this.g=un(At[3]||"",!0),Sn(this,At[4]),this.l=un(At[5]||"",!0),eo(this,At[6]||"",!0),this.m=un(At[7]||"")):(this.h=!1,this.i=new hn(null,this.h))}Xr.prototype.toString=function(){var gt=[],At=this.j;At&&gt.push(fn(At,to,!0),":");var jt=this.g;return(jt||At=="file")&&(gt.push("//"),(At=this.o)&&gt.push(fn(At,to,!0),"@"),gt.push(encodeURIComponent(String(jt)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),jt=this.s,jt!=null&&gt.push(":",String(jt))),(jt=this.l)&&(this.g&&jt.charAt(0)!="/"&&gt.push("/"),gt.push(fn(jt,jt.charAt(0)=="/"?Vo:No,!0))),(jt=this.i.toString())&&gt.push("?",jt),(jt=this.m)&&gt.push("#",fn(jt,Fo)),gt.join("")};function Ur(gt){return new Xr(gt)}function Pn(gt,At,jt){gt.j=jt?un(At,!0):At,gt.j&&(gt.j=gt.j.replace(/:$/,""))}function Sn(gt,At){if(At){if(At=Number(At),isNaN(At)||0>At)throw Error("Bad port number "+At);gt.s=At}else gt.s=null}function eo(gt,At,jt){At instanceof hn?(gt.i=At,Bo(gt.i,gt.h)):(jt||(At=fn(At,Lo)),gt.i=new hn(At,gt.h))}function Sr(gt,At,jt){gt.i.set(At,jt)}function An(gt){return Sr(gt,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),gt}function un(gt,At){return gt?At?decodeURI(gt.replace(/%25/g,"%2525")):decodeURIComponent(gt):""}function fn(gt,At,jt){return typeof gt=="string"?(gt=encodeURI(gt).replace(At,Mo),jt&&(gt=gt.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),gt):null}function Mo(gt){return gt=gt.charCodeAt(0),"%"+(gt>>4&15).toString(16)+(gt&15).toString(16)}var to=/[#\/\?@]/g,No=/[#\?:]/g,Vo=/[#\?]/g,Lo=/[#\?@]/g,Fo=/#/g;function hn(gt,At){this.h=this.g=null,this.i=gt||null,this.j=!!At}function Gr(gt){gt.g||(gt.g=new Map,gt.h=0,gt.i&&Do(gt.i,function(At,jt){gt.add(decodeURIComponent(At.replace(/\+/g," ")),jt)}))}et=hn.prototype,et.add=function(gt,At){Gr(this),this.i=null,gt=Zr(this,gt);var jt=this.g.get(gt);return jt||this.g.set(gt,jt=[]),jt.push(At),this.h+=1,this};function ro(gt,At){Gr(gt),At=Zr(gt,At),gt.g.has(At)&&(gt.i=null,gt.h-=gt.g.get(At).length,gt.g.delete(At))}function no(gt,At){return Gr(gt),At=Zr(gt,At),gt.g.has(At)}et.forEach=function(gt,At){Gr(this),this.g.forEach(function(jt,Nt){jt.forEach(function(Gt){gt.call(At,Gt,Nt,this)},this)},this)},et.na=function(){Gr(this);const gt=Array.from(this.g.values()),At=Array.from(this.g.keys()),jt=[];for(let Nt=0;Nt<At.length;Nt++){const Gt=gt[Nt];for(let Kt=0;Kt<Gt.length;Kt++)jt.push(At[Nt])}return jt},et.V=function(gt){Gr(this);let At=[];if(typeof gt=="string")no(this,gt)&&(At=At.concat(this.g.get(Zr(this,gt))));else{gt=Array.from(this.g.values());for(let jt=0;jt<gt.length;jt++)At=At.concat(gt[jt])}return At},et.set=function(gt,At){return Gr(this),this.i=null,gt=Zr(this,gt),no(this,gt)&&(this.h-=this.g.get(gt).length),this.g.set(gt,[At]),this.h+=1,this},et.get=function(gt,At){return gt?(gt=this.V(gt),0<gt.length?String(gt[0]):At):At};function io(gt,At,jt){ro(gt,At),0<jt.length&&(gt.i=null,gt.g.set(Zr(gt,At),yt(jt)),gt.h+=jt.length)}et.toString=function(){if(this.i)return this.i;if(!this.g)return"";const gt=[],At=Array.from(this.g.keys());for(var jt=0;jt<At.length;jt++){var Nt=At[jt];const Kt=encodeURIComponent(String(Nt)),ar=this.V(Nt);for(Nt=0;Nt<ar.length;Nt++){var Gt=Kt;ar[Nt]!==""&&(Gt+="="+encodeURIComponent(String(ar[Nt]))),gt.push(Gt)}}return this.i=gt.join("&")};function Zr(gt,At){return At=String(At),gt.j&&(At=At.toLowerCase()),At}function Bo(gt,At){At&&!gt.j&&(Gr(gt),gt.i=null,gt.g.forEach(function(jt,Nt){var Gt=Nt.toLowerCase();Nt!=Gt&&(ro(this,Nt),io(this,Gt,jt))},gt)),gt.j=At}function Uo(gt,At){const jt=new sn;if(st.Image){const Nt=new Image;Nt.onload=dt(Hr,jt,"TestLoadImage: loaded",!0,At,Nt),Nt.onerror=dt(Hr,jt,"TestLoadImage: error",!1,At,Nt),Nt.onabort=dt(Hr,jt,"TestLoadImage: abort",!1,At,Nt),Nt.ontimeout=dt(Hr,jt,"TestLoadImage: timeout",!1,At,Nt),st.setTimeout(function(){Nt.ontimeout&&Nt.ontimeout()},1e4),Nt.src=gt}else At(!1)}function zo(gt,At){const jt=new sn,Nt=new AbortController,Gt=setTimeout(()=>{Nt.abort(),Hr(jt,"TestPingServer: timeout",!1,At)},1e4);fetch(gt,{signal:Nt.signal}).then(Kt=>{clearTimeout(Gt),Kt.ok?Hr(jt,"TestPingServer: ok",!0,At):Hr(jt,"TestPingServer: server error",!1,At)}).catch(()=>{clearTimeout(Gt),Hr(jt,"TestPingServer: error",!1,At)})}function Hr(gt,At,jt,Nt,Gt){try{Gt&&(Gt.onload=null,Gt.onerror=null,Gt.onabort=null,Gt.ontimeout=null),Nt(jt)}catch{}}function qo(){this.g=new vn}function Go(gt,At,jt){const Nt=jt||"";try{xa(gt,function(Gt,Kt){let ar=Gt;ct(Gt)&&(ar=Br(Gt)),At.push(Nt+Kt+"="+encodeURIComponent(ar))})}catch(Gt){throw At.push(Nt+"type="+encodeURIComponent("_badmap")),Gt}}function dn(gt){this.l=gt.Ub||null,this.j=gt.eb||!1}vt(dn,nn),dn.prototype.g=function(){return new wn(this.l,this.j)},dn.prototype.i=function(gt){return function(){return gt}}({});function wn(gt,At){pr.call(this),this.D=gt,this.o=At,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}vt(wn,pr),et=wn.prototype,et.open=function(gt,At){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=gt,this.A=At,this.readyState=1,mn(this)},et.send=function(gt){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const At={headers:this.u,method:this.B,credentials:this.m,cache:void 0};gt&&(At.body=gt),(this.D||st).fetch(new Request(this.A,At)).then(this.Sa.bind(this),this.ga.bind(this))},et.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pn(this)),this.readyState=0},et.Sa=function(gt){if(this.g&&(this.l=gt,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=gt.headers,this.readyState=2,mn(this)),this.g&&(this.readyState=3,mn(this),this.g)))if(this.responseType==="arraybuffer")gt.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof st.ReadableStream<"u"&&"body"in gt){if(this.j=gt.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ao(this)}else gt.text().then(this.Ra.bind(this),this.ga.bind(this))};function ao(gt){gt.j.read().then(gt.Pa.bind(gt)).catch(gt.ga.bind(gt))}et.Pa=function(gt){if(this.g){if(this.o&&gt.value)this.response.push(gt.value);else if(!this.o){var At=gt.value?gt.value:new Uint8Array(0);(At=this.v.decode(At,{stream:!gt.done}))&&(this.response=this.responseText+=At)}gt.done?pn(this):mn(this),this.readyState==3&&ao(this)}},et.Ra=function(gt){this.g&&(this.response=this.responseText=gt,pn(this))},et.Qa=function(gt){this.g&&(this.response=gt,pn(this))},et.ga=function(){this.g&&pn(this)};function pn(gt){gt.readyState=4,gt.l=null,gt.j=null,gt.v=null,mn(gt)}et.setRequestHeader=function(gt,At){this.u.append(gt,At)},et.getResponseHeader=function(gt){return this.h&&this.h.get(gt.toLowerCase())||""},et.getAllResponseHeaders=function(){if(!this.h)return"";const gt=[],At=this.h.entries();for(var jt=At.next();!jt.done;)jt=jt.value,gt.push(jt[0]+": "+jt[1]),jt=At.next();return gt.join(`\r
`)};function mn(gt){gt.onreadystatechange&&gt.onreadystatechange.call(gt)}Object.defineProperty(wn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(gt){this.m=gt?"include":"same-origin"}});function oo(gt){let At="";return St(gt,function(jt,Nt){At+=Nt,At+=":",At+=jt,At+=`\r
`}),At}function Bn(gt,At,jt){e:{for(Nt in jt){var Nt=!1;break e}Nt=!0}Nt||(jt=oo(jt),typeof gt=="string"?jt!=null&&encodeURIComponent(String(jt)):Sr(gt,At,jt))}function Rr(gt){pr.call(this),this.headers=new Map,this.o=gt||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}vt(Rr,pr);var Ho=/^https?$/i,Wo=["POST","PUT"];et=Rr.prototype,et.Ha=function(gt){this.J=gt},et.ea=function(gt,At,jt,Nt){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+gt);At=At?At.toUpperCase():"GET",this.D=gt,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():jn.g(),this.v=this.o?_n(this.o):_n(jn),this.g.onreadystatechange=ht(this.Ea,this);try{this.B=!0,this.g.open(At,String(gt),!0),this.B=!1}catch(Kt){so(this,Kt);return}if(gt=jt||"",jt=new Map(this.headers),Nt)if(Object.getPrototypeOf(Nt)===Object.prototype)for(var Gt in Nt)jt.set(Gt,Nt[Gt]);else if(typeof Nt.keys=="function"&&typeof Nt.get=="function")for(const Kt of Nt.keys())jt.set(Kt,Nt.get(Kt));else throw Error("Unknown input type for opt_headers: "+String(Nt));Nt=Array.from(jt.keys()).find(Kt=>Kt.toLowerCase()=="content-type"),Gt=st.FormData&&gt instanceof st.FormData,!(0<=Array.prototype.indexOf.call(Wo,At,void 0))||Nt||Gt||jt.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Kt,ar]of jt)this.g.setRequestHeader(Kt,ar);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{uo(this),this.u=!0,this.g.send(gt),this.u=!1}catch(Kt){so(this,Kt)}};function so(gt,At){gt.h=!1,gt.g&&(gt.j=!0,gt.g.abort(),gt.j=!1),gt.l=At,gt.m=5,lo(gt),Rn(gt)}function lo(gt){gt.A||(gt.A=!0,yr(gt,"complete"),yr(gt,"error"))}et.abort=function(gt){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=gt||7,yr(this,"complete"),yr(this,"abort"),Rn(this))},et.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Rn(this,!0)),Rr.aa.N.call(this)},et.Ea=function(){this.s||(this.B||this.u||this.j?co(this):this.bb())},et.bb=function(){co(this)};function co(gt){if(gt.h&&typeof ot<"u"&&(!gt.v[1]||zr(gt)!=4||gt.Z()!=2)){if(gt.u&&zr(gt)==4)Vr(gt.Ea,0,gt);else if(yr(gt,"readystatechange"),zr(gt)==4){gt.h=!1;try{const ar=gt.Z();e:switch(ar){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var At=!0;break e;default:At=!1}var jt;if(!(jt=At)){var Nt;if(Nt=ar===0){var Gt=String(gt.D).match($a)[1]||null;!Gt&&st.self&&st.self.location&&(Gt=st.self.location.protocol.slice(0,-1)),Nt=!Ho.test(Gt?Gt.toLowerCase():"")}jt=Nt}if(jt)yr(gt,"complete"),yr(gt,"success");else{gt.m=6;try{var Kt=2<zr(gt)?gt.g.statusText:""}catch{Kt=""}gt.l=Kt+" ["+gt.Z()+"]",lo(gt)}}finally{Rn(gt)}}}}function Rn(gt,At){if(gt.g){uo(gt);const jt=gt.g,Nt=gt.v[0]?()=>{}:null;gt.g=null,gt.v=null,At||yr(gt,"ready");try{jt.onreadystatechange=Nt}catch{}}}function uo(gt){gt.I&&(st.clearTimeout(gt.I),gt.I=null)}et.isActive=function(){return!!this.g};function zr(gt){return gt.g?gt.g.readyState:0}et.Z=function(){try{return 2<zr(this)?this.g.status:-1}catch{return-1}},et.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},et.Oa=function(gt){if(this.g){var At=this.g.responseText;return gt&&At.indexOf(gt)==0&&(At=At.substring(gt.length)),Hn(At)}};function fo(gt){try{if(!gt.g)return null;if("response"in gt.g)return gt.g.response;switch(gt.H){case"":case"text":return gt.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in gt.g)return gt.g.mozResponseArrayBuffer}return null}catch{return null}}function Ko(gt){const At={};gt=(gt.g&&2<=zr(gt)&&gt.g.getAllResponseHeaders()||"").split(`\r
`);for(let Nt=0;Nt<gt.length;Nt++){if(mt(gt[Nt]))continue;var jt=$t(gt[Nt]);const Gt=jt[0];if(jt=jt[1],typeof jt!="string")continue;jt=jt.trim();const Kt=At[Gt]||[];At[Gt]=Kt,Kt.push(jt)}Tt(At,function(Nt){return Nt.join(", ")})}et.Ba=function(){return this.m},et.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function gn(gt,At,jt){return jt&&jt.internalChannelParams&&jt.internalChannelParams[gt]||At}function ho(gt){this.Aa=0,this.i=[],this.j=new sn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=gn("failFast",!1,gt),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=gn("baseRetryDelayMs",5e3,gt),this.cb=gn("retryDelaySeedMs",1e4,gt),this.Wa=gn("forwardChannelMaxRetries",2,gt),this.wa=gn("forwardChannelRequestTimeoutMs",2e4,gt),this.pa=gt&&gt.xmlHttpFactory||void 0,this.Xa=gt&&gt.Tb||void 0,this.Ca=gt&&gt.useFetchStreams||!1,this.L=void 0,this.J=gt&&gt.supportsCrossDomainXhr||!1,this.K="",this.h=new _i(gt&&gt.concurrentRequestLimit),this.Da=new qo,this.P=gt&&gt.fastHandshake||!1,this.O=gt&&gt.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=gt&&gt.Rb||!1,gt&&gt.xa&&this.j.xa(),gt&&gt.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&gt&&gt.detectBufferingProxy||!1,this.ja=void 0,gt&&gt.longPollingTimeout&&0<gt.longPollingTimeout&&(this.ja=gt.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}et=ho.prototype,et.la=8,et.G=1,et.connect=function(gt,At,jt,Nt){Dr(0),this.W=gt,this.H=At||{},jt&&Nt!==void 0&&(this.H.OSID=jt,this.H.OAID=Nt),this.F=this.X,this.I=Eo(this,null,this.W),kn(this)};function Un(gt){if(po(gt),gt.G==3){var At=gt.U++,jt=Ur(gt.I);if(Sr(jt,"SID",gt.K),Sr(jt,"RID",At),Sr(jt,"TYPE","terminate"),yn(gt,jt),At=new qr(gt,gt.j,At),At.L=2,At.v=An(Ur(jt)),jt=!1,st.navigator&&st.navigator.sendBeacon)try{jt=st.navigator.sendBeacon(At.v.toString(),"")}catch{}!jt&&st.Image&&(new Image().src=At.v,jt=!0),jt||(At.g=To(At.j,null),At.g.ea(At.v)),At.F=Date.now(),Tn(At)}xo(gt)}function In(gt){gt.g&&(qn(gt),gt.g.cancel(),gt.g=null)}function po(gt){In(gt),gt.u&&(st.clearTimeout(gt.u),gt.u=null),$n(gt),gt.h.cancel(),gt.s&&(typeof gt.s=="number"&&st.clearTimeout(gt.s),gt.s=null)}function kn(gt){if(!na(gt.h)&&!gt.s){gt.s=!0;var At=gt.Ga;Mt||Lt(),wt||(Mt(),wt=!0),Ot.add(At,gt),gt.B=0}}function Yo(gt,At){return ga(gt.h)>=gt.h.j-(gt.s?1:0)?!1:gt.s?(gt.i=At.D.concat(gt.i),!0):gt.G==1||gt.G==2||gt.B>=(gt.Va?0:gt.Wa)?!1:(gt.s=on(ht(gt.Ga,gt,At),bo(gt,gt.B)),gt.B++,!0)}et.Ga=function(gt){if(this.s)if(this.s=null,this.G==1){if(!gt){this.U=Math.floor(1e5*Math.random()),gt=this.U++;const Gt=new qr(this,this.j,gt);let Kt=this.o;if(this.S&&(Kt?(Kt=Pt(Kt),It(Kt,this.S)):Kt=this.S),this.m!==null||this.O||(Gt.H=Kt,Kt=null),this.P)e:{for(var At=0,jt=0;jt<this.i.length;jt++){t:{var Nt=this.i[jt];if("__data__"in Nt.map&&(Nt=Nt.map.__data__,typeof Nt=="string")){Nt=Nt.length;break t}Nt=void 0}if(Nt===void 0)break;if(At+=Nt,4096<At){At=jt;break e}if(At===4096||jt===this.i.length-1){At=jt+1;break e}}At=1e3}else At=1e3;At=go(this,Gt,At),jt=Ur(this.I),Sr(jt,"RID",gt),Sr(jt,"CVER",22),this.D&&Sr(jt,"X-HTTP-Session-Id",this.D),yn(this,jt),Kt&&(this.O?At="headers="+encodeURIComponent(String(oo(Kt)))+"&"+At:this.m&&Bn(jt,this.m,Kt)),Fn(this.h,Gt),this.Ua&&Sr(jt,"TYPE","init"),this.P?(Sr(jt,"$req",At),Sr(jt,"SID","null"),Gt.T=!0,Mn(Gt,jt,null)):Mn(Gt,jt,At),this.G=2}}else this.G==3&&(gt?mo(this,gt):this.i.length==0||na(this.h)||mo(this))};function mo(gt,At){var jt;At?jt=At.l:jt=gt.U++;const Nt=Ur(gt.I);Sr(Nt,"SID",gt.K),Sr(Nt,"RID",jt),Sr(Nt,"AID",gt.T),yn(gt,Nt),gt.m&&gt.o&&Bn(Nt,gt.m,gt.o),jt=new qr(gt,gt.j,jt,gt.B+1),gt.m===null&&(jt.H=gt.o),At&&(gt.i=At.D.concat(gt.i)),At=go(gt,jt,1e3),jt.I=Math.round(.5*gt.wa)+Math.round(.5*gt.wa*Math.random()),Fn(gt.h,jt),Mn(jt,Nt,At)}function yn(gt,At){gt.H&&St(gt.H,function(jt,Nt){Sr(At,Nt,jt)}),gt.l&&xa({},function(jt,Nt){Sr(At,Nt,jt)})}function go(gt,At,jt){jt=Math.min(gt.i.length,jt);var Nt=gt.l?ht(gt.l.Na,gt.l,gt):null;e:{var Gt=gt.i;let Kt=-1;for(;;){const ar=["count="+jt];Kt==-1?0<jt?(Kt=Gt[0].g,ar.push("ofs="+Kt)):Kt=0:ar.push("ofs="+Kt);let Pr=!0;for(let Cr=0;Cr<jt;Cr++){let xr=Gt[Cr].g;const Or=Gt[Cr].map;if(xr-=Kt,0>xr)Kt=Math.max(0,Gt[Cr].g-100),Pr=!1;else try{Go(Or,ar,"req"+xr+"_")}catch{Nt&&Nt(Or)}}if(Pr){Nt=ar.join("&");break e}}}return gt=gt.i.splice(0,jt),At.D=gt,Nt}function yo(gt){if(!gt.g&&!gt.u){gt.Y=1;var At=gt.Fa;Mt||Lt(),wt||(Mt(),wt=!0),Ot.add(At,gt),gt.v=0}}function zn(gt){return gt.g||gt.u||3<=gt.v?!1:(gt.Y++,gt.u=on(ht(gt.Fa,gt),bo(gt,gt.v)),gt.v++,!0)}et.Fa=function(){if(this.u=null,vo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var gt=2*this.R;this.j.info("BP detection timer enabled: "+gt),this.A=on(ht(this.ab,this),gt)}},et.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Dr(10),In(this),vo(this))};function qn(gt){gt.A!=null&&(st.clearTimeout(gt.A),gt.A=null)}function vo(gt){gt.g=new qr(gt,gt.j,"rpc",gt.Y),gt.m===null&&(gt.g.H=gt.o),gt.g.O=0;var At=Ur(gt.qa);Sr(At,"RID","rpc"),Sr(At,"SID",gt.K),Sr(At,"AID",gt.T),Sr(At,"CI",gt.F?"0":"1"),!gt.F&&gt.ja&&Sr(At,"TO",gt.ja),Sr(At,"TYPE","xmlhttp"),yn(gt,At),gt.m&&gt.o&&Bn(At,gt.m,gt.o),gt.L&&(gt.g.I=gt.L);var jt=gt.g;gt=gt.ia,jt.L=1,jt.v=An(Ur(At)),jt.m=null,jt.P=!0,Qn(jt,gt)}et.Za=function(){this.C!=null&&(this.C=null,In(this),zn(this),Dr(19))};function $n(gt){gt.C!=null&&(st.clearTimeout(gt.C),gt.C=null)}function _o(gt,At){var jt=null;if(gt.g==At){$n(gt),qn(gt),gt.g=null;var Nt=2}else if(Ln(gt.h,At))jt=At.D,_a(gt.h,At),Nt=1;else return;if(gt.G!=0){if(At.o)if(Nt==1){jt=At.m?At.m.length:0,At=Date.now()-At.F;var Gt=gt.B;Nt=Ar(),yr(Nt,new Wn(Nt,jt)),kn(gt)}else yo(gt);else if(Gt=At.s,Gt==3||Gt==0&&0<At.X||!(Nt==1&&Yo(gt,At)||Nt==2&&zn(gt)))switch(jt&&0<jt.length&&(At=gt.h,At.i=At.i.concat(jt)),Gt){case 1:Qr(gt,5);break;case 4:Qr(gt,10);break;case 3:Qr(gt,6);break;default:Qr(gt,2)}}}function bo(gt,At){let jt=gt.Ta+Math.floor(Math.random()*gt.cb);return gt.isActive()||(jt*=2),jt*At}function Qr(gt,At){if(gt.j.info("Error code "+At),At==2){var jt=ht(gt.fb,gt),Nt=gt.Xa;const Gt=!Nt;Nt=new Xr(Nt||"//www.google.com/images/cleardot.gif"),st.location&&st.location.protocol=="http"||Pn(Nt,"https"),An(Nt),Gt?Uo(Nt.toString(),jt):zo(Nt.toString(),jt)}else Dr(2);gt.G=0,gt.l&&gt.l.sa(At),xo(gt),po(gt)}et.fb=function(gt){gt?(this.j.info("Successfully pinged google.com"),Dr(2)):(this.j.info("Failed to ping google.com"),Dr(1))};function xo(gt){if(gt.G=0,gt.ka=[],gt.l){const At=ba(gt.h);(At.length!=0||gt.i.length!=0)&&(xt(gt.ka,At),xt(gt.ka,gt.i),gt.h.i.length=0,yt(gt.i),gt.i.length=0),gt.l.ra()}}function Eo(gt,At,jt){var Nt=jt instanceof Xr?Ur(jt):new Xr(jt);if(Nt.g!="")At&&(Nt.g=At+"."+Nt.g),Sn(Nt,Nt.s);else{var Gt=st.location;Nt=Gt.protocol,At=At?At+"."+Gt.hostname:Gt.hostname,Gt=+Gt.port;var Kt=new Xr(null);Nt&&Pn(Kt,Nt),At&&(Kt.g=At),Gt&&Sn(Kt,Gt),jt&&(Kt.l=jt),Nt=Kt}return jt=gt.D,At=gt.ya,jt&&At&&Sr(Nt,jt,At),Sr(Nt,"VER",gt.la),yn(gt,Nt),Nt}function To(gt,At,jt){if(At&&!gt.J)throw Error("Can't create secondary domain capable XhrIo object.");return At=gt.Ca&&!gt.pa?new Rr(new dn({eb:jt})):new Rr(gt.pa),At.Ha(gt.J),At}et.isActive=function(){return!!this.l&&this.l.isActive(this)};function Po(){}et=Po.prototype,et.ua=function(){},et.ta=function(){},et.sa=function(){},et.ra=function(){},et.isActive=function(){return!0},et.Na=function(){};function Cn(){}Cn.prototype.g=function(gt,At){return new Nr(gt,At)};function Nr(gt,At){pr.call(this),this.g=new ho(At),this.l=gt,this.h=At&&At.messageUrlParams||null,gt=At&&At.messageHeaders||null,At&&At.clientProtocolHeaderRequired&&(gt?gt["X-Client-Protocol"]="webchannel":gt={"X-Client-Protocol":"webchannel"}),this.g.o=gt,gt=At&&At.initMessageHeaders||null,At&&At.messageContentType&&(gt?gt["X-WebChannel-Content-Type"]=At.messageContentType:gt={"X-WebChannel-Content-Type":At.messageContentType}),At&&At.va&&(gt?gt["X-WebChannel-Client-Profile"]=At.va:gt={"X-WebChannel-Client-Profile":At.va}),this.g.S=gt,(gt=At&&At.Sb)&&!mt(gt)&&(this.g.m=gt),this.v=At&&At.supportsCrossDomainXhr||!1,this.u=At&&At.sendRawJson||!1,(At=At&&At.httpSessionIdParam)&&!mt(At)&&(this.g.D=At,gt=this.h,gt!==null&&At in gt&&(gt=this.h,At in gt&&delete gt[At])),this.j=new en(this)}vt(Nr,pr),Nr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Nr.prototype.close=function(){Un(this.g)},Nr.prototype.o=function(gt){var At=this.g;if(typeof gt=="string"){var jt={};jt.__data__=gt,gt=jt}else this.u&&(jt={},jt.__data__=Br(gt),gt=jt);At.i.push(new Co(At.Ya++,gt)),At.G==3&&kn(At)},Nr.prototype.N=function(){this.g.l=null,delete this.j,Un(this.g),delete this.g,Nr.aa.N.call(this)};function So(gt){dr.call(this),gt.__headers__&&(this.headers=gt.__headers__,this.statusCode=gt.__status__,delete gt.__headers__,delete gt.__status__);var At=gt.__sm__;if(At){e:{for(const jt in At){gt=jt;break e}gt=void 0}(this.i=gt)&&(gt=this.i,At=At!==null&&gt in At?At[gt]:void 0),this.data=At}else this.data=gt}vt(So,dr);function Ao(){gr.call(this),this.status=1}vt(Ao,gr);function en(gt){this.g=gt}vt(en,Po),en.prototype.ua=function(){yr(this.g,"a")},en.prototype.ta=function(gt){yr(this.g,new So(gt))},en.prototype.sa=function(gt){yr(this.g,new Ao)},en.prototype.ra=function(){yr(this.g,"b")},Cn.prototype.createWebChannel=Cn.prototype.g,Nr.prototype.send=Nr.prototype.o,Nr.prototype.open=Nr.prototype.m,Nr.prototype.close=Nr.prototype.close,createWebChannelTransport=function(){return new Cn},getStatEventTarget=function(){return Ar()},Event=vr,Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xn.NO_ERROR=0,xn.TIMEOUT=8,xn.HTTP_ERROR=6,ErrorCode$1=xn,Kn.COMPLETE="complete",EventType=Kn,bn.EventType=or,or.OPEN="a",or.CLOSE="b",or.ERROR="c",or.MESSAGE="d",pr.prototype.listen=pr.prototype.K,WebChannel=bn,FetchXmlHttpFactory=dn,Rr.prototype.listenOnce=Rr.prototype.L,Rr.prototype.getLastError=Rr.prototype.Ka,Rr.prototype.getLastErrorCode=Rr.prototype.Ba,Rr.prototype.getStatus=Rr.prototype.Z,Rr.prototype.getResponseJson=Rr.prototype.Oa,Rr.prototype.getResponseText=Rr.prototype.oa,Rr.prototype.send=Rr.prototype.ea,Rr.prototype.setWithCredentials=Rr.prototype.Ha,XhrIo=Rr}).apply(typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{});const S$1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class User{constructor(tt){this.uid=tt}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(tt){return tt.uid===this.uid}}User.UNAUTHENTICATED=new User(null),User.GOOGLE_CREDENTIALS=new User("google-credentials-uid"),User.FIRST_PARTY=new User("first-party-uid"),User.MOCK_USER=new User("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let b$2="10.13.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D$1=new Logger("@firebase/firestore");function __PRIVATE_getLogLevel(){return D$1.logLevel}function __PRIVATE_logDebug(et,...tt){if(D$1.logLevel<=LogLevel.DEBUG){const rt=tt.map(__PRIVATE_argToString);D$1.debug(`Firestore (${b$2}): ${et}`,...rt)}}function __PRIVATE_logError(et,...tt){if(D$1.logLevel<=LogLevel.ERROR){const rt=tt.map(__PRIVATE_argToString);D$1.error(`Firestore (${b$2}): ${et}`,...rt)}}function __PRIVATE_logWarn(et,...tt){if(D$1.logLevel<=LogLevel.WARN){const rt=tt.map(__PRIVATE_argToString);D$1.warn(`Firestore (${b$2}): ${et}`,...rt)}}function __PRIVATE_argToString(et){if(typeof et=="string")return et;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(rt){return JSON.stringify(rt)}(et)}catch{return et}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fail(et="Unexpected state"){const tt=`FIRESTORE (${b$2}) INTERNAL ASSERTION FAILED: `+et;throw __PRIVATE_logError(tt),new Error(tt)}function __PRIVATE_hardAssert(et,tt){et||fail()}function __PRIVATE_debugCast(et,tt){return et}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v$3={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class FirestoreError extends FirebaseError{constructor(tt,rt){super(tt,rt),this.code=tt,this.message=rt,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_Deferred{constructor(){this.promise=new Promise((tt,rt)=>{this.resolve=tt,this.reject=rt})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_OAuthToken{constructor(tt,rt){this.user=rt,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${tt}`)}}class __PRIVATE_EmptyAuthCredentialsProvider{getToken(){return Promise.resolve(null)}invalidateToken(){}start(tt,rt){tt.enqueueRetryable(()=>rt(User.UNAUTHENTICATED))}shutdown(){}}class __PRIVATE_EmulatorAuthCredentialsProvider{constructor(tt){this.token=tt,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(tt,rt){this.changeListener=rt,tt.enqueueRetryable(()=>rt(this.token.user))}shutdown(){this.changeListener=null}}class __PRIVATE_FirebaseAuthCredentialsProvider{constructor(tt){this.t=tt,this.currentUser=User.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(tt,rt){let nt=this.i;const it=lt=>this.i!==nt?(nt=this.i,rt(lt)):Promise.resolve();let at=new __PRIVATE_Deferred;this.o=()=>{this.i++,this.currentUser=this.u(),at.resolve(),at=new __PRIVATE_Deferred,tt.enqueueRetryable(()=>it(this.currentUser))};const ot=()=>{const lt=at;tt.enqueueRetryable(async()=>{await lt.promise,await it(this.currentUser)})},st=lt=>{__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=lt,this.auth.addAuthTokenListener(this.o),ot()};this.t.onInit(lt=>st(lt)),setTimeout(()=>{if(!this.auth){const lt=this.t.getImmediate({optional:!0});lt?st(lt):(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth not yet detected"),at.resolve(),at=new __PRIVATE_Deferred)}},0),ot()}getToken(){const tt=this.i,rt=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(rt).then(nt=>this.i!==tt?(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):nt?(__PRIVATE_hardAssert(typeof nt.accessToken=="string"),new __PRIVATE_OAuthToken(nt.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const tt=this.auth&&this.auth.getUid();return __PRIVATE_hardAssert(tt===null||typeof tt=="string"),new User(tt)}}class __PRIVATE_FirstPartyToken{constructor(tt,rt,nt){this.l=tt,this.h=rt,this.P=nt,this.type="FirstParty",this.user=User.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const tt=this.T();return tt&&this.I.set("Authorization",tt),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class __PRIVATE_FirstPartyAuthCredentialsProvider{constructor(tt,rt,nt){this.l=tt,this.h=rt,this.P=nt}getToken(){return Promise.resolve(new __PRIVATE_FirstPartyToken(this.l,this.h,this.P))}start(tt,rt){tt.enqueueRetryable(()=>rt(User.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class AppCheckToken{constructor(tt){this.value=tt,this.type="AppCheck",this.headers=new Map,tt&&tt.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class __PRIVATE_FirebaseAppCheckTokenProvider{constructor(tt){this.A=tt,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(tt,rt){const nt=at=>{at.error!=null&&__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${at.error.message}`);const ot=at.token!==this.R;return this.R=at.token,__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Received ${ot?"new":"existing"} token.`),ot?rt(at.token):Promise.resolve()};this.o=at=>{tt.enqueueRetryable(()=>nt(at))};const it=at=>{__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=at,this.appCheck.addTokenListener(this.o)};this.A.onInit(at=>it(at)),setTimeout(()=>{if(!this.appCheck){const at=this.A.getImmediate({optional:!0});at?it(at):__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const tt=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(tt).then(rt=>rt?(__PRIVATE_hardAssert(typeof rt.token=="string"),this.R=rt.token,new AppCheckToken(rt.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_randomBytes(et){const tt=typeof self<"u"&&(self.crypto||self.msCrypto),rt=new Uint8Array(et);if(tt&&typeof tt.getRandomValues=="function")tt.getRandomValues(rt);else for(let nt=0;nt<et;nt++)rt[nt]=Math.floor(256*Math.random());return rt}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AutoId{static newId(){const tt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",rt=Math.floor(256/tt.length)*tt.length;let nt="";for(;nt.length<20;){const it=__PRIVATE_randomBytes(40);for(let at=0;at<it.length;++at)nt.length<20&&it[at]<rt&&(nt+=tt.charAt(it[at]%tt.length))}return nt}}function __PRIVATE_primitiveComparator(et,tt){return et<tt?-1:et>tt?1:0}function __PRIVATE_arrayEquals(et,tt,rt){return et.length===tt.length&&et.every((nt,it)=>rt(nt,tt[it]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Timestamp{constructor(tt,rt){if(this.seconds=tt,this.nanoseconds=rt,rt<0)throw new FirestoreError(v$3.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+rt);if(rt>=1e9)throw new FirestoreError(v$3.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+rt);if(tt<-62135596800)throw new FirestoreError(v$3.INVALID_ARGUMENT,"Timestamp seconds out of range: "+tt);if(tt>=253402300800)throw new FirestoreError(v$3.INVALID_ARGUMENT,"Timestamp seconds out of range: "+tt)}static now(){return Timestamp.fromMillis(Date.now())}static fromDate(tt){return Timestamp.fromMillis(tt.getTime())}static fromMillis(tt){const rt=Math.floor(tt/1e3),nt=Math.floor(1e6*(tt-1e3*rt));return new Timestamp(rt,nt)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(tt){return this.seconds===tt.seconds?__PRIVATE_primitiveComparator(this.nanoseconds,tt.nanoseconds):__PRIVATE_primitiveComparator(this.seconds,tt.seconds)}isEqual(tt){return tt.seconds===this.seconds&&tt.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const tt=this.seconds- -62135596800;return String(tt).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SnapshotVersion{constructor(tt){this.timestamp=tt}static fromTimestamp(tt){return new SnapshotVersion(tt)}static min(){return new SnapshotVersion(new Timestamp(0,0))}static max(){return new SnapshotVersion(new Timestamp(253402300799,999999999))}compareTo(tt){return this.timestamp._compareTo(tt.timestamp)}isEqual(tt){return this.timestamp.isEqual(tt.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BasePath{constructor(tt,rt,nt){rt===void 0?rt=0:rt>tt.length&&fail(),nt===void 0?nt=tt.length-rt:nt>tt.length-rt&&fail(),this.segments=tt,this.offset=rt,this.len=nt}get length(){return this.len}isEqual(tt){return BasePath.comparator(this,tt)===0}child(tt){const rt=this.segments.slice(this.offset,this.limit());return tt instanceof BasePath?tt.forEach(nt=>{rt.push(nt)}):rt.push(tt),this.construct(rt)}limit(){return this.offset+this.length}popFirst(tt){return tt=tt===void 0?1:tt,this.construct(this.segments,this.offset+tt,this.length-tt)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(tt){return this.segments[this.offset+tt]}isEmpty(){return this.length===0}isPrefixOf(tt){if(tt.length<this.length)return!1;for(let rt=0;rt<this.length;rt++)if(this.get(rt)!==tt.get(rt))return!1;return!0}isImmediateParentOf(tt){if(this.length+1!==tt.length)return!1;for(let rt=0;rt<this.length;rt++)if(this.get(rt)!==tt.get(rt))return!1;return!0}forEach(tt){for(let rt=this.offset,nt=this.limit();rt<nt;rt++)tt(this.segments[rt])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(tt,rt){const nt=Math.min(tt.length,rt.length);for(let it=0;it<nt;it++){const at=tt.get(it),ot=rt.get(it);if(at<ot)return-1;if(at>ot)return 1}return tt.length<rt.length?-1:tt.length>rt.length?1:0}}class ResourcePath extends BasePath{construct(tt,rt,nt){return new ResourcePath(tt,rt,nt)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...tt){const rt=[];for(const nt of tt){if(nt.indexOf("//")>=0)throw new FirestoreError(v$3.INVALID_ARGUMENT,`Invalid segment (${nt}). Paths must not contain // in them.`);rt.push(...nt.split("/").filter(it=>it.length>0))}return new ResourcePath(rt)}static emptyPath(){return new ResourcePath([])}}const C=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class FieldPath$1 extends BasePath{construct(tt,rt,nt){return new FieldPath$1(tt,rt,nt)}static isValidIdentifier(tt){return C.test(tt)}canonicalString(){return this.toArray().map(tt=>(tt=tt.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),FieldPath$1.isValidIdentifier(tt)||(tt="`"+tt+"`"),tt)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new FieldPath$1(["__name__"])}static fromServerFormat(tt){const rt=[];let nt="",it=0;const at=()=>{if(nt.length===0)throw new FirestoreError(v$3.INVALID_ARGUMENT,`Invalid field path (${tt}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);rt.push(nt),nt=""};let ot=!1;for(;it<tt.length;){const st=tt[it];if(st==="\\"){if(it+1===tt.length)throw new FirestoreError(v$3.INVALID_ARGUMENT,"Path has trailing escape character: "+tt);const lt=tt[it+1];if(lt!=="\\"&&lt!=="."&&lt!=="`")throw new FirestoreError(v$3.INVALID_ARGUMENT,"Path has invalid escape sequence: "+tt);nt+=lt,it+=2}else st==="`"?(ot=!ot,it++):st!=="."||ot?(nt+=st,it++):(at(),it++)}if(at(),ot)throw new FirestoreError(v$3.INVALID_ARGUMENT,"Unterminated ` in path: "+tt);return new FieldPath$1(rt)}static emptyPath(){return new FieldPath$1([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentKey{constructor(tt){this.path=tt}static fromPath(tt){return new DocumentKey(ResourcePath.fromString(tt))}static fromName(tt){return new DocumentKey(ResourcePath.fromString(tt).popFirst(5))}static empty(){return new DocumentKey(ResourcePath.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(tt){return this.path.length>=2&&this.path.get(this.path.length-2)===tt}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(tt){return tt!==null&&ResourcePath.comparator(this.path,tt.path)===0}toString(){return this.path.toString()}static comparator(tt,rt){return ResourcePath.comparator(tt.path,rt.path)}static isDocumentKey(tt){return tt.length%2==0}static fromSegments(tt){return new DocumentKey(new ResourcePath(tt.slice()))}}function __PRIVATE_newIndexOffsetSuccessorFromReadTime(et,tt){const rt=et.toTimestamp().seconds,nt=et.toTimestamp().nanoseconds+1,it=SnapshotVersion.fromTimestamp(nt===1e9?new Timestamp(rt+1,0):new Timestamp(rt,nt));return new IndexOffset(it,DocumentKey.empty(),tt)}function __PRIVATE_newIndexOffsetFromDocument(et){return new IndexOffset(et.readTime,et.key,-1)}class IndexOffset{constructor(tt,rt,nt){this.readTime=tt,this.documentKey=rt,this.largestBatchId=nt}static min(){return new IndexOffset(SnapshotVersion.min(),DocumentKey.empty(),-1)}static max(){return new IndexOffset(SnapshotVersion.max(),DocumentKey.empty(),-1)}}function __PRIVATE_indexOffsetComparator(et,tt){let rt=et.readTime.compareTo(tt.readTime);return rt!==0?rt:(rt=DocumentKey.comparator(et.documentKey,tt.documentKey),rt!==0?rt:__PRIVATE_primitiveComparator(et.largestBatchId,tt.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F$1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PersistenceTransaction{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(tt){this.onCommittedListeners.push(tt)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(tt=>tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function __PRIVATE_ignoreIfPrimaryLeaseLoss(et){if(et.code!==v$3.FAILED_PRECONDITION||et.message!==F$1)throw et;__PRIVATE_logDebug("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PersistencePromise{constructor(tt){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,tt(rt=>{this.isDone=!0,this.result=rt,this.nextCallback&&this.nextCallback(rt)},rt=>{this.isDone=!0,this.error=rt,this.catchCallback&&this.catchCallback(rt)})}catch(tt){return this.next(void 0,tt)}next(tt,rt){return this.callbackAttached&&fail(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(rt,this.error):this.wrapSuccess(tt,this.result):new PersistencePromise((nt,it)=>{this.nextCallback=at=>{this.wrapSuccess(tt,at).next(nt,it)},this.catchCallback=at=>{this.wrapFailure(rt,at).next(nt,it)}})}toPromise(){return new Promise((tt,rt)=>{this.next(tt,rt)})}wrapUserFunction(tt){try{const rt=tt();return rt instanceof PersistencePromise?rt:PersistencePromise.resolve(rt)}catch(rt){return PersistencePromise.reject(rt)}}wrapSuccess(tt,rt){return tt?this.wrapUserFunction(()=>tt(rt)):PersistencePromise.resolve(rt)}wrapFailure(tt,rt){return tt?this.wrapUserFunction(()=>tt(rt)):PersistencePromise.reject(rt)}static resolve(tt){return new PersistencePromise((rt,nt)=>{rt(tt)})}static reject(tt){return new PersistencePromise((rt,nt)=>{nt(tt)})}static waitFor(tt){return new PersistencePromise((rt,nt)=>{let it=0,at=0,ot=!1;tt.forEach(st=>{++it,st.next(()=>{++at,ot&&at===it&&rt()},lt=>nt(lt))}),ot=!0,at===it&&rt()})}static or(tt){let rt=PersistencePromise.resolve(!1);for(const nt of tt)rt=rt.next(it=>it?PersistencePromise.resolve(it):nt());return rt}static forEach(tt,rt){const nt=[];return tt.forEach((it,at)=>{nt.push(rt.call(this,it,at))}),this.waitFor(nt)}static mapArray(tt,rt){return new PersistencePromise((nt,it)=>{const at=tt.length,ot=new Array(at);let st=0;for(let lt=0;lt<at;lt++){const ct=lt;rt(tt[ct]).next(ut=>{ot[ct]=ut,++st,st===at&&nt(ot)},ut=>it(ut))}})}static doWhile(tt,rt){return new PersistencePromise((nt,it)=>{const at=()=>{tt()===!0?rt().next(()=>{at()},it):nt()};at()})}}function __PRIVATE_getAndroidVersion(et){const tt=et.match(/Android ([\d.]+)/i),rt=tt?tt[1].split(".").slice(0,2).join("."):"-1";return Number(rt)}function __PRIVATE_isIndexedDbTransactionError(et){return et.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ListenSequence{constructor(tt,rt){this.previousValue=tt,rt&&(rt.sequenceNumberHandler=nt=>this.ie(nt),this.se=nt=>rt.writeSequenceNumber(nt))}ie(tt){return this.previousValue=Math.max(tt,this.previousValue),this.previousValue}next(){const tt=++this.previousValue;return this.se&&this.se(tt),tt}}__PRIVATE_ListenSequence.oe=-1;function __PRIVATE_isNullOrUndefined(et){return et==null}function __PRIVATE_isNegativeZero(et){return et===0&&1/et==-1/0}function isSafeInteger(et){return typeof et=="number"&&Number.isInteger(et)&&!__PRIVATE_isNegativeZero(et)&&et<=Number.MAX_SAFE_INTEGER&&et>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_objectSize(et){let tt=0;for(const rt in et)Object.prototype.hasOwnProperty.call(et,rt)&&tt++;return tt}function forEach(et,tt){for(const rt in et)Object.prototype.hasOwnProperty.call(et,rt)&&tt(rt,et[rt])}function isEmpty(et){for(const tt in et)if(Object.prototype.hasOwnProperty.call(et,tt))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedMap{constructor(tt,rt){this.comparator=tt,this.root=rt||LLRBNode.EMPTY}insert(tt,rt){return new SortedMap(this.comparator,this.root.insert(tt,rt,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}remove(tt){return new SortedMap(this.comparator,this.root.remove(tt,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}get(tt){let rt=this.root;for(;!rt.isEmpty();){const nt=this.comparator(tt,rt.key);if(nt===0)return rt.value;nt<0?rt=rt.left:nt>0&&(rt=rt.right)}return null}indexOf(tt){let rt=0,nt=this.root;for(;!nt.isEmpty();){const it=this.comparator(tt,nt.key);if(it===0)return rt+nt.left.size;it<0?nt=nt.left:(rt+=nt.left.size+1,nt=nt.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(tt){return this.root.inorderTraversal(tt)}forEach(tt){this.inorderTraversal((rt,nt)=>(tt(rt,nt),!1))}toString(){const tt=[];return this.inorderTraversal((rt,nt)=>(tt.push(`${rt}:${nt}`),!1)),`{${tt.join(", ")}}`}reverseTraversal(tt){return this.root.reverseTraversal(tt)}getIterator(){return new SortedMapIterator(this.root,null,this.comparator,!1)}getIteratorFrom(tt){return new SortedMapIterator(this.root,tt,this.comparator,!1)}getReverseIterator(){return new SortedMapIterator(this.root,null,this.comparator,!0)}getReverseIteratorFrom(tt){return new SortedMapIterator(this.root,tt,this.comparator,!0)}}class SortedMapIterator{constructor(tt,rt,nt,it){this.isReverse=it,this.nodeStack=[];let at=1;for(;!tt.isEmpty();)if(at=rt?nt(tt.key,rt):1,rt&&it&&(at*=-1),at<0)tt=this.isReverse?tt.left:tt.right;else{if(at===0){this.nodeStack.push(tt);break}this.nodeStack.push(tt),tt=this.isReverse?tt.right:tt.left}}getNext(){let tt=this.nodeStack.pop();const rt={key:tt.key,value:tt.value};if(this.isReverse)for(tt=tt.left;!tt.isEmpty();)this.nodeStack.push(tt),tt=tt.right;else for(tt=tt.right;!tt.isEmpty();)this.nodeStack.push(tt),tt=tt.left;return rt}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const tt=this.nodeStack[this.nodeStack.length-1];return{key:tt.key,value:tt.value}}}class LLRBNode{constructor(tt,rt,nt,it,at){this.key=tt,this.value=rt,this.color=nt??LLRBNode.RED,this.left=it??LLRBNode.EMPTY,this.right=at??LLRBNode.EMPTY,this.size=this.left.size+1+this.right.size}copy(tt,rt,nt,it,at){return new LLRBNode(tt??this.key,rt??this.value,nt??this.color,it??this.left,at??this.right)}isEmpty(){return!1}inorderTraversal(tt){return this.left.inorderTraversal(tt)||tt(this.key,this.value)||this.right.inorderTraversal(tt)}reverseTraversal(tt){return this.right.reverseTraversal(tt)||tt(this.key,this.value)||this.left.reverseTraversal(tt)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(tt,rt,nt){let it=this;const at=nt(tt,it.key);return it=at<0?it.copy(null,null,null,it.left.insert(tt,rt,nt),null):at===0?it.copy(null,rt,null,null,null):it.copy(null,null,null,null,it.right.insert(tt,rt,nt)),it.fixUp()}removeMin(){if(this.left.isEmpty())return LLRBNode.EMPTY;let tt=this;return tt.left.isRed()||tt.left.left.isRed()||(tt=tt.moveRedLeft()),tt=tt.copy(null,null,null,tt.left.removeMin(),null),tt.fixUp()}remove(tt,rt){let nt,it=this;if(rt(tt,it.key)<0)it.left.isEmpty()||it.left.isRed()||it.left.left.isRed()||(it=it.moveRedLeft()),it=it.copy(null,null,null,it.left.remove(tt,rt),null);else{if(it.left.isRed()&&(it=it.rotateRight()),it.right.isEmpty()||it.right.isRed()||it.right.left.isRed()||(it=it.moveRedRight()),rt(tt,it.key)===0){if(it.right.isEmpty())return LLRBNode.EMPTY;nt=it.right.min(),it=it.copy(nt.key,nt.value,null,null,it.right.removeMin())}it=it.copy(null,null,null,null,it.right.remove(tt,rt))}return it.fixUp()}isRed(){return this.color}fixUp(){let tt=this;return tt.right.isRed()&&!tt.left.isRed()&&(tt=tt.rotateLeft()),tt.left.isRed()&&tt.left.left.isRed()&&(tt=tt.rotateRight()),tt.left.isRed()&&tt.right.isRed()&&(tt=tt.colorFlip()),tt}moveRedLeft(){let tt=this.colorFlip();return tt.right.left.isRed()&&(tt=tt.copy(null,null,null,null,tt.right.rotateRight()),tt=tt.rotateLeft(),tt=tt.colorFlip()),tt}moveRedRight(){let tt=this.colorFlip();return tt.left.left.isRed()&&(tt=tt.rotateRight(),tt=tt.colorFlip()),tt}rotateLeft(){const tt=this.copy(null,null,LLRBNode.RED,null,this.right.left);return this.right.copy(null,null,this.color,tt,null)}rotateRight(){const tt=this.copy(null,null,LLRBNode.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,tt)}colorFlip(){const tt=this.left.copy(null,null,!this.left.color,null,null),rt=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,tt,rt)}checkMaxDepth(){const tt=this.check();return Math.pow(2,tt)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fail();const tt=this.left.check();if(tt!==this.right.check())throw fail();return tt+(this.isRed()?0:1)}}LLRBNode.EMPTY=null,LLRBNode.RED=!0,LLRBNode.BLACK=!1;LLRBNode.EMPTY=new class{constructor(){this.size=0}get key(){throw fail()}get value(){throw fail()}get color(){throw fail()}get left(){throw fail()}get right(){throw fail()}copy(tt,rt,nt,it,at){return this}insert(tt,rt,nt){return new LLRBNode(tt,rt)}remove(tt,rt){return this}isEmpty(){return!0}inorderTraversal(tt){return!1}reverseTraversal(tt){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedSet{constructor(tt){this.comparator=tt,this.data=new SortedMap(this.comparator)}has(tt){return this.data.get(tt)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(tt){return this.data.indexOf(tt)}forEach(tt){this.data.inorderTraversal((rt,nt)=>(tt(rt),!1))}forEachInRange(tt,rt){const nt=this.data.getIteratorFrom(tt[0]);for(;nt.hasNext();){const it=nt.getNext();if(this.comparator(it.key,tt[1])>=0)return;rt(it.key)}}forEachWhile(tt,rt){let nt;for(nt=rt!==void 0?this.data.getIteratorFrom(rt):this.data.getIterator();nt.hasNext();)if(!tt(nt.getNext().key))return}firstAfterOrEqual(tt){const rt=this.data.getIteratorFrom(tt);return rt.hasNext()?rt.getNext().key:null}getIterator(){return new SortedSetIterator(this.data.getIterator())}getIteratorFrom(tt){return new SortedSetIterator(this.data.getIteratorFrom(tt))}add(tt){return this.copy(this.data.remove(tt).insert(tt,!0))}delete(tt){return this.has(tt)?this.copy(this.data.remove(tt)):this}isEmpty(){return this.data.isEmpty()}unionWith(tt){let rt=this;return rt.size<tt.size&&(rt=tt,tt=this),tt.forEach(nt=>{rt=rt.add(nt)}),rt}isEqual(tt){if(!(tt instanceof SortedSet)||this.size!==tt.size)return!1;const rt=this.data.getIterator(),nt=tt.data.getIterator();for(;rt.hasNext();){const it=rt.getNext().key,at=nt.getNext().key;if(this.comparator(it,at)!==0)return!1}return!0}toArray(){const tt=[];return this.forEach(rt=>{tt.push(rt)}),tt}toString(){const tt=[];return this.forEach(rt=>tt.push(rt)),"SortedSet("+tt.toString()+")"}copy(tt){const rt=new SortedSet(this.comparator);return rt.data=tt,rt}}class SortedSetIterator{constructor(tt){this.iter=tt}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldMask{constructor(tt){this.fields=tt,tt.sort(FieldPath$1.comparator)}static empty(){return new FieldMask([])}unionWith(tt){let rt=new SortedSet(FieldPath$1.comparator);for(const nt of this.fields)rt=rt.add(nt);for(const nt of tt)rt=rt.add(nt);return new FieldMask(rt.toArray())}covers(tt){for(const rt of this.fields)if(rt.isPrefixOf(tt))return!0;return!1}isEqual(tt){return __PRIVATE_arrayEquals(this.fields,tt.fields,(rt,nt)=>rt.isEqual(nt))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_Base64DecodeError extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ByteString{constructor(tt){this.binaryString=tt}static fromBase64String(tt){const rt=function(it){try{return atob(it)}catch(at){throw typeof DOMException<"u"&&at instanceof DOMException?new __PRIVATE_Base64DecodeError("Invalid base64 string: "+at):at}}(tt);return new ByteString(rt)}static fromUint8Array(tt){const rt=function(it){let at="";for(let ot=0;ot<it.length;++ot)at+=String.fromCharCode(it[ot]);return at}(tt);return new ByteString(rt)}[Symbol.iterator](){let tt=0;return{next:()=>tt<this.binaryString.length?{value:this.binaryString.charCodeAt(tt++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(rt){return btoa(rt)}(this.binaryString)}toUint8Array(){return function(rt){const nt=new Uint8Array(rt.length);for(let it=0;it<rt.length;it++)nt[it]=rt.charCodeAt(it);return nt}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(tt){return __PRIVATE_primitiveComparator(this.binaryString,tt.binaryString)}isEqual(tt){return this.binaryString===tt.binaryString}}ByteString.EMPTY_BYTE_STRING=new ByteString("");const re$2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function __PRIVATE_normalizeTimestamp(et){if(__PRIVATE_hardAssert(!!et),typeof et=="string"){let tt=0;const rt=re$2.exec(et);if(__PRIVATE_hardAssert(!!rt),rt[1]){let it=rt[1];it=(it+"000000000").substr(0,9),tt=Number(it)}const nt=new Date(et);return{seconds:Math.floor(nt.getTime()/1e3),nanos:tt}}return{seconds:__PRIVATE_normalizeNumber(et.seconds),nanos:__PRIVATE_normalizeNumber(et.nanos)}}function __PRIVATE_normalizeNumber(et){return typeof et=="number"?et:typeof et=="string"?Number(et):0}function __PRIVATE_normalizeByteString(et){return typeof et=="string"?ByteString.fromBase64String(et):ByteString.fromUint8Array(et)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_isServerTimestamp(et){var tt,rt;return((rt=(((tt=et==null?void 0:et.mapValue)===null||tt===void 0?void 0:tt.fields)||{}).__type__)===null||rt===void 0?void 0:rt.stringValue)==="server_timestamp"}function __PRIVATE_getPreviousValue(et){const tt=et.mapValue.fields.__previous_value__;return __PRIVATE_isServerTimestamp(tt)?__PRIVATE_getPreviousValue(tt):tt}function __PRIVATE_getLocalWriteTime(et){const tt=__PRIVATE_normalizeTimestamp(et.mapValue.fields.__local_write_time__.timestampValue);return new Timestamp(tt.seconds,tt.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DatabaseInfo{constructor(tt,rt,nt,it,at,ot,st,lt,ct){this.databaseId=tt,this.appId=rt,this.persistenceKey=nt,this.host=it,this.ssl=at,this.forceLongPolling=ot,this.autoDetectLongPolling=st,this.longPollingOptions=lt,this.useFetchStreams=ct}}class DatabaseId{constructor(tt,rt){this.projectId=tt,this.database=rt||"(default)"}static empty(){return new DatabaseId("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(tt){return tt instanceof DatabaseId&&tt.projectId===this.projectId&&tt.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function __PRIVATE_typeOrder(et){return"nullValue"in et?0:"booleanValue"in et?1:"integerValue"in et||"doubleValue"in et?2:"timestampValue"in et?3:"stringValue"in et?5:"bytesValue"in et?6:"referenceValue"in et?7:"geoPointValue"in et?8:"arrayValue"in et?9:"mapValue"in et?__PRIVATE_isServerTimestamp(et)?4:__PRIVATE_isMaxValue(et)?9007199254740991:__PRIVATE_isVectorValue(et)?10:11:fail()}function __PRIVATE_valueEquals(et,tt){if(et===tt)return!0;const rt=__PRIVATE_typeOrder(et);if(rt!==__PRIVATE_typeOrder(tt))return!1;switch(rt){case 0:case 9007199254740991:return!0;case 1:return et.booleanValue===tt.booleanValue;case 4:return __PRIVATE_getLocalWriteTime(et).isEqual(__PRIVATE_getLocalWriteTime(tt));case 3:return function(it,at){if(typeof it.timestampValue=="string"&&typeof at.timestampValue=="string"&&it.timestampValue.length===at.timestampValue.length)return it.timestampValue===at.timestampValue;const ot=__PRIVATE_normalizeTimestamp(it.timestampValue),st=__PRIVATE_normalizeTimestamp(at.timestampValue);return ot.seconds===st.seconds&&ot.nanos===st.nanos}(et,tt);case 5:return et.stringValue===tt.stringValue;case 6:return function(it,at){return __PRIVATE_normalizeByteString(it.bytesValue).isEqual(__PRIVATE_normalizeByteString(at.bytesValue))}(et,tt);case 7:return et.referenceValue===tt.referenceValue;case 8:return function(it,at){return __PRIVATE_normalizeNumber(it.geoPointValue.latitude)===__PRIVATE_normalizeNumber(at.geoPointValue.latitude)&&__PRIVATE_normalizeNumber(it.geoPointValue.longitude)===__PRIVATE_normalizeNumber(at.geoPointValue.longitude)}(et,tt);case 2:return function(it,at){if("integerValue"in it&&"integerValue"in at)return __PRIVATE_normalizeNumber(it.integerValue)===__PRIVATE_normalizeNumber(at.integerValue);if("doubleValue"in it&&"doubleValue"in at){const ot=__PRIVATE_normalizeNumber(it.doubleValue),st=__PRIVATE_normalizeNumber(at.doubleValue);return ot===st?__PRIVATE_isNegativeZero(ot)===__PRIVATE_isNegativeZero(st):isNaN(ot)&&isNaN(st)}return!1}(et,tt);case 9:return __PRIVATE_arrayEquals(et.arrayValue.values||[],tt.arrayValue.values||[],__PRIVATE_valueEquals);case 10:case 11:return function(it,at){const ot=it.mapValue.fields||{},st=at.mapValue.fields||{};if(__PRIVATE_objectSize(ot)!==__PRIVATE_objectSize(st))return!1;for(const lt in ot)if(ot.hasOwnProperty(lt)&&(st[lt]===void 0||!__PRIVATE_valueEquals(ot[lt],st[lt])))return!1;return!0}(et,tt);default:return fail()}}function __PRIVATE_arrayValueContains(et,tt){return(et.values||[]).find(rt=>__PRIVATE_valueEquals(rt,tt))!==void 0}function __PRIVATE_valueCompare(et,tt){if(et===tt)return 0;const rt=__PRIVATE_typeOrder(et),nt=__PRIVATE_typeOrder(tt);if(rt!==nt)return __PRIVATE_primitiveComparator(rt,nt);switch(rt){case 0:case 9007199254740991:return 0;case 1:return __PRIVATE_primitiveComparator(et.booleanValue,tt.booleanValue);case 2:return function(at,ot){const st=__PRIVATE_normalizeNumber(at.integerValue||at.doubleValue),lt=__PRIVATE_normalizeNumber(ot.integerValue||ot.doubleValue);return st<lt?-1:st>lt?1:st===lt?0:isNaN(st)?isNaN(lt)?0:-1:1}(et,tt);case 3:return __PRIVATE_compareTimestamps(et.timestampValue,tt.timestampValue);case 4:return __PRIVATE_compareTimestamps(__PRIVATE_getLocalWriteTime(et),__PRIVATE_getLocalWriteTime(tt));case 5:return __PRIVATE_primitiveComparator(et.stringValue,tt.stringValue);case 6:return function(at,ot){const st=__PRIVATE_normalizeByteString(at),lt=__PRIVATE_normalizeByteString(ot);return st.compareTo(lt)}(et.bytesValue,tt.bytesValue);case 7:return function(at,ot){const st=at.split("/"),lt=ot.split("/");for(let ct=0;ct<st.length&&ct<lt.length;ct++){const ut=__PRIVATE_primitiveComparator(st[ct],lt[ct]);if(ut!==0)return ut}return __PRIVATE_primitiveComparator(st.length,lt.length)}(et.referenceValue,tt.referenceValue);case 8:return function(at,ot){const st=__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(at.latitude),__PRIVATE_normalizeNumber(ot.latitude));return st!==0?st:__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(at.longitude),__PRIVATE_normalizeNumber(ot.longitude))}(et.geoPointValue,tt.geoPointValue);case 9:return __PRIVATE_compareArrays(et.arrayValue,tt.arrayValue);case 10:return function(at,ot){var st,lt,ct,ut;const ft=at.fields||{},ht=ot.fields||{},dt=(st=ft.value)===null||st===void 0?void 0:st.arrayValue,vt=(lt=ht.value)===null||lt===void 0?void 0:lt.arrayValue,yt=__PRIVATE_primitiveComparator(((ct=dt==null?void 0:dt.values)===null||ct===void 0?void 0:ct.length)||0,((ut=vt==null?void 0:vt.values)===null||ut===void 0?void 0:ut.length)||0);return yt!==0?yt:__PRIVATE_compareArrays(dt,vt)}(et.mapValue,tt.mapValue);case 11:return function(at,ot){if(at===ie.mapValue&&ot===ie.mapValue)return 0;if(at===ie.mapValue)return 1;if(ot===ie.mapValue)return-1;const st=at.fields||{},lt=Object.keys(st),ct=ot.fields||{},ut=Object.keys(ct);lt.sort(),ut.sort();for(let ft=0;ft<lt.length&&ft<ut.length;++ft){const ht=__PRIVATE_primitiveComparator(lt[ft],ut[ft]);if(ht!==0)return ht;const dt=__PRIVATE_valueCompare(st[lt[ft]],ct[ut[ft]]);if(dt!==0)return dt}return __PRIVATE_primitiveComparator(lt.length,ut.length)}(et.mapValue,tt.mapValue);default:throw fail()}}function __PRIVATE_compareTimestamps(et,tt){if(typeof et=="string"&&typeof tt=="string"&&et.length===tt.length)return __PRIVATE_primitiveComparator(et,tt);const rt=__PRIVATE_normalizeTimestamp(et),nt=__PRIVATE_normalizeTimestamp(tt),it=__PRIVATE_primitiveComparator(rt.seconds,nt.seconds);return it!==0?it:__PRIVATE_primitiveComparator(rt.nanos,nt.nanos)}function __PRIVATE_compareArrays(et,tt){const rt=et.values||[],nt=tt.values||[];for(let it=0;it<rt.length&&it<nt.length;++it){const at=__PRIVATE_valueCompare(rt[it],nt[it]);if(at)return at}return __PRIVATE_primitiveComparator(rt.length,nt.length)}function canonicalId(et){return __PRIVATE_canonifyValue(et)}function __PRIVATE_canonifyValue(et){return"nullValue"in et?"null":"booleanValue"in et?""+et.booleanValue:"integerValue"in et?""+et.integerValue:"doubleValue"in et?""+et.doubleValue:"timestampValue"in et?function(rt){const nt=__PRIVATE_normalizeTimestamp(rt);return`time(${nt.seconds},${nt.nanos})`}(et.timestampValue):"stringValue"in et?et.stringValue:"bytesValue"in et?function(rt){return __PRIVATE_normalizeByteString(rt).toBase64()}(et.bytesValue):"referenceValue"in et?function(rt){return DocumentKey.fromName(rt).toString()}(et.referenceValue):"geoPointValue"in et?function(rt){return`geo(${rt.latitude},${rt.longitude})`}(et.geoPointValue):"arrayValue"in et?function(rt){let nt="[",it=!0;for(const at of rt.values||[])it?it=!1:nt+=",",nt+=__PRIVATE_canonifyValue(at);return nt+"]"}(et.arrayValue):"mapValue"in et?function(rt){const nt=Object.keys(rt.fields||{}).sort();let it="{",at=!0;for(const ot of nt)at?at=!1:it+=",",it+=`${ot}:${__PRIVATE_canonifyValue(rt.fields[ot])}`;return it+"}"}(et.mapValue):fail()}function __PRIVATE_refValue(et,tt){return{referenceValue:`projects/${et.projectId}/databases/${et.database}/documents/${tt.path.canonicalString()}`}}function isInteger(et){return!!et&&"integerValue"in et}function isArray$h(et){return!!et&&"arrayValue"in et}function __PRIVATE_isNullValue(et){return!!et&&"nullValue"in et}function __PRIVATE_isNanValue(et){return!!et&&"doubleValue"in et&&isNaN(Number(et.doubleValue))}function __PRIVATE_isMapValue(et){return!!et&&"mapValue"in et}function __PRIVATE_isVectorValue(et){var tt,rt;return((rt=(((tt=et==null?void 0:et.mapValue)===null||tt===void 0?void 0:tt.fields)||{}).__type__)===null||rt===void 0?void 0:rt.stringValue)==="__vector__"}function __PRIVATE_deepClone(et){if(et.geoPointValue)return{geoPointValue:Object.assign({},et.geoPointValue)};if(et.timestampValue&&typeof et.timestampValue=="object")return{timestampValue:Object.assign({},et.timestampValue)};if(et.mapValue){const tt={mapValue:{fields:{}}};return forEach(et.mapValue.fields,(rt,nt)=>tt.mapValue.fields[rt]=__PRIVATE_deepClone(nt)),tt}if(et.arrayValue){const tt={arrayValue:{values:[]}};for(let rt=0;rt<(et.arrayValue.values||[]).length;++rt)tt.arrayValue.values[rt]=__PRIVATE_deepClone(et.arrayValue.values[rt]);return tt}return Object.assign({},et)}function __PRIVATE_isMaxValue(et){return(((et.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ObjectValue{constructor(tt){this.value=tt}static empty(){return new ObjectValue({mapValue:{}})}field(tt){if(tt.isEmpty())return this.value;{let rt=this.value;for(let nt=0;nt<tt.length-1;++nt)if(rt=(rt.mapValue.fields||{})[tt.get(nt)],!__PRIVATE_isMapValue(rt))return null;return rt=(rt.mapValue.fields||{})[tt.lastSegment()],rt||null}}set(tt,rt){this.getFieldsMap(tt.popLast())[tt.lastSegment()]=__PRIVATE_deepClone(rt)}setAll(tt){let rt=FieldPath$1.emptyPath(),nt={},it=[];tt.forEach((ot,st)=>{if(!rt.isImmediateParentOf(st)){const lt=this.getFieldsMap(rt);this.applyChanges(lt,nt,it),nt={},it=[],rt=st.popLast()}ot?nt[st.lastSegment()]=__PRIVATE_deepClone(ot):it.push(st.lastSegment())});const at=this.getFieldsMap(rt);this.applyChanges(at,nt,it)}delete(tt){const rt=this.field(tt.popLast());__PRIVATE_isMapValue(rt)&&rt.mapValue.fields&&delete rt.mapValue.fields[tt.lastSegment()]}isEqual(tt){return __PRIVATE_valueEquals(this.value,tt.value)}getFieldsMap(tt){let rt=this.value;rt.mapValue.fields||(rt.mapValue={fields:{}});for(let nt=0;nt<tt.length;++nt){let it=rt.mapValue.fields[tt.get(nt)];__PRIVATE_isMapValue(it)&&it.mapValue.fields||(it={mapValue:{fields:{}}},rt.mapValue.fields[tt.get(nt)]=it),rt=it}return rt.mapValue.fields}applyChanges(tt,rt,nt){forEach(rt,(it,at)=>tt[it]=at);for(const it of nt)delete tt[it]}clone(){return new ObjectValue(__PRIVATE_deepClone(this.value))}}function __PRIVATE_extractFieldMask(et){const tt=[];return forEach(et.fields,(rt,nt)=>{const it=new FieldPath$1([rt]);if(__PRIVATE_isMapValue(nt)){const at=__PRIVATE_extractFieldMask(nt.mapValue).fields;if(at.length===0)tt.push(it);else for(const ot of at)tt.push(it.child(ot))}else tt.push(it)}),new FieldMask(tt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MutableDocument{constructor(tt,rt,nt,it,at,ot,st){this.key=tt,this.documentType=rt,this.version=nt,this.readTime=it,this.createTime=at,this.data=ot,this.documentState=st}static newInvalidDocument(tt){return new MutableDocument(tt,0,SnapshotVersion.min(),SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newFoundDocument(tt,rt,nt,it){return new MutableDocument(tt,1,rt,SnapshotVersion.min(),nt,it,0)}static newNoDocument(tt,rt){return new MutableDocument(tt,2,rt,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newUnknownDocument(tt,rt){return new MutableDocument(tt,3,rt,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),2)}convertToFoundDocument(tt,rt){return!this.createTime.isEqual(SnapshotVersion.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=tt),this.version=tt,this.documentType=1,this.data=rt,this.documentState=0,this}convertToNoDocument(tt){return this.version=tt,this.documentType=2,this.data=ObjectValue.empty(),this.documentState=0,this}convertToUnknownDocument(tt){return this.version=tt,this.documentType=3,this.data=ObjectValue.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=SnapshotVersion.min(),this}setReadTime(tt){return this.readTime=tt,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(tt){return tt instanceof MutableDocument&&this.key.isEqual(tt.key)&&this.version.isEqual(tt.version)&&this.documentType===tt.documentType&&this.documentState===tt.documentState&&this.data.isEqual(tt.data)}mutableCopy(){return new MutableDocument(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bound{constructor(tt,rt){this.position=tt,this.inclusive=rt}}function __PRIVATE_boundCompareToDocument(et,tt,rt){let nt=0;for(let it=0;it<et.position.length;it++){const at=tt[it],ot=et.position[it];if(at.field.isKeyField()?nt=DocumentKey.comparator(DocumentKey.fromName(ot.referenceValue),rt.key):nt=__PRIVATE_valueCompare(ot,rt.data.field(at.field)),at.dir==="desc"&&(nt*=-1),nt!==0)break}return nt}function __PRIVATE_boundEquals(et,tt){if(et===null)return tt===null;if(tt===null||et.inclusive!==tt.inclusive||et.position.length!==tt.position.length)return!1;for(let rt=0;rt<et.position.length;rt++)if(!__PRIVATE_valueEquals(et.position[rt],tt.position[rt]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OrderBy{constructor(tt,rt="asc"){this.field=tt,this.dir=rt}}function __PRIVATE_orderByEquals(et,tt){return et.dir===tt.dir&&et.field.isEqual(tt.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Filter{}class FieldFilter extends Filter{constructor(tt,rt,nt){super(),this.field=tt,this.op=rt,this.value=nt}static create(tt,rt,nt){return tt.isKeyField()?rt==="in"||rt==="not-in"?this.createKeyFieldInFilter(tt,rt,nt):new __PRIVATE_KeyFieldFilter(tt,rt,nt):rt==="array-contains"?new __PRIVATE_ArrayContainsFilter(tt,nt):rt==="in"?new __PRIVATE_InFilter(tt,nt):rt==="not-in"?new __PRIVATE_NotInFilter(tt,nt):rt==="array-contains-any"?new __PRIVATE_ArrayContainsAnyFilter(tt,nt):new FieldFilter(tt,rt,nt)}static createKeyFieldInFilter(tt,rt,nt){return rt==="in"?new __PRIVATE_KeyFieldInFilter(tt,nt):new __PRIVATE_KeyFieldNotInFilter(tt,nt)}matches(tt){const rt=tt.data.field(this.field);return this.op==="!="?rt!==null&&this.matchesComparison(__PRIVATE_valueCompare(rt,this.value)):rt!==null&&__PRIVATE_typeOrder(this.value)===__PRIVATE_typeOrder(rt)&&this.matchesComparison(__PRIVATE_valueCompare(rt,this.value))}matchesComparison(tt){switch(this.op){case"<":return tt<0;case"<=":return tt<=0;case"==":return tt===0;case"!=":return tt!==0;case">":return tt>0;case">=":return tt>=0;default:return fail()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class CompositeFilter extends Filter{constructor(tt,rt){super(),this.filters=tt,this.op=rt,this.ae=null}static create(tt,rt){return new CompositeFilter(tt,rt)}matches(tt){return __PRIVATE_compositeFilterIsConjunction(this)?this.filters.find(rt=>!rt.matches(tt))===void 0:this.filters.find(rt=>rt.matches(tt))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((tt,rt)=>tt.concat(rt.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function __PRIVATE_compositeFilterIsConjunction(et){return et.op==="and"}function __PRIVATE_compositeFilterIsFlatConjunction(et){return __PRIVATE_compositeFilterIsFlat(et)&&__PRIVATE_compositeFilterIsConjunction(et)}function __PRIVATE_compositeFilterIsFlat(et){for(const tt of et.filters)if(tt instanceof CompositeFilter)return!1;return!0}function __PRIVATE_canonifyFilter(et){if(et instanceof FieldFilter)return et.field.canonicalString()+et.op.toString()+canonicalId(et.value);if(__PRIVATE_compositeFilterIsFlatConjunction(et))return et.filters.map(tt=>__PRIVATE_canonifyFilter(tt)).join(",");{const tt=et.filters.map(rt=>__PRIVATE_canonifyFilter(rt)).join(",");return`${et.op}(${tt})`}}function __PRIVATE_filterEquals(et,tt){return et instanceof FieldFilter?function(nt,it){return it instanceof FieldFilter&&nt.op===it.op&&nt.field.isEqual(it.field)&&__PRIVATE_valueEquals(nt.value,it.value)}(et,tt):et instanceof CompositeFilter?function(nt,it){return it instanceof CompositeFilter&&nt.op===it.op&&nt.filters.length===it.filters.length?nt.filters.reduce((at,ot,st)=>at&&__PRIVATE_filterEquals(ot,it.filters[st]),!0):!1}(et,tt):void fail()}function __PRIVATE_stringifyFilter(et){return et instanceof FieldFilter?function(rt){return`${rt.field.canonicalString()} ${rt.op} ${canonicalId(rt.value)}`}(et):et instanceof CompositeFilter?function(rt){return rt.op.toString()+" {"+rt.getFilters().map(__PRIVATE_stringifyFilter).join(" ,")+"}"}(et):"Filter"}class __PRIVATE_KeyFieldFilter extends FieldFilter{constructor(tt,rt,nt){super(tt,rt,nt),this.key=DocumentKey.fromName(nt.referenceValue)}matches(tt){const rt=DocumentKey.comparator(tt.key,this.key);return this.matchesComparison(rt)}}class __PRIVATE_KeyFieldInFilter extends FieldFilter{constructor(tt,rt){super(tt,"in",rt),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("in",rt)}matches(tt){return this.keys.some(rt=>rt.isEqual(tt.key))}}class __PRIVATE_KeyFieldNotInFilter extends FieldFilter{constructor(tt,rt){super(tt,"not-in",rt),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("not-in",rt)}matches(tt){return!this.keys.some(rt=>rt.isEqual(tt.key))}}function __PRIVATE_extractDocumentKeysFromArrayValue(et,tt){var rt;return(((rt=tt.arrayValue)===null||rt===void 0?void 0:rt.values)||[]).map(nt=>DocumentKey.fromName(nt.referenceValue))}class __PRIVATE_ArrayContainsFilter extends FieldFilter{constructor(tt,rt){super(tt,"array-contains",rt)}matches(tt){const rt=tt.data.field(this.field);return isArray$h(rt)&&__PRIVATE_arrayValueContains(rt.arrayValue,this.value)}}class __PRIVATE_InFilter extends FieldFilter{constructor(tt,rt){super(tt,"in",rt)}matches(tt){const rt=tt.data.field(this.field);return rt!==null&&__PRIVATE_arrayValueContains(this.value.arrayValue,rt)}}class __PRIVATE_NotInFilter extends FieldFilter{constructor(tt,rt){super(tt,"not-in",rt)}matches(tt){if(__PRIVATE_arrayValueContains(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const rt=tt.data.field(this.field);return rt!==null&&!__PRIVATE_arrayValueContains(this.value.arrayValue,rt)}}class __PRIVATE_ArrayContainsAnyFilter extends FieldFilter{constructor(tt,rt){super(tt,"array-contains-any",rt)}matches(tt){const rt=tt.data.field(this.field);return!(!isArray$h(rt)||!rt.arrayValue.values)&&rt.arrayValue.values.some(nt=>__PRIVATE_arrayValueContains(this.value.arrayValue,nt))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TargetImpl{constructor(tt,rt=null,nt=[],it=[],at=null,ot=null,st=null){this.path=tt,this.collectionGroup=rt,this.orderBy=nt,this.filters=it,this.limit=at,this.startAt=ot,this.endAt=st,this.ue=null}}function __PRIVATE_newTarget(et,tt=null,rt=[],nt=[],it=null,at=null,ot=null){return new __PRIVATE_TargetImpl(et,tt,rt,nt,it,at,ot)}function __PRIVATE_canonifyTarget(et){const tt=__PRIVATE_debugCast(et);if(tt.ue===null){let rt=tt.path.canonicalString();tt.collectionGroup!==null&&(rt+="|cg:"+tt.collectionGroup),rt+="|f:",rt+=tt.filters.map(nt=>__PRIVATE_canonifyFilter(nt)).join(","),rt+="|ob:",rt+=tt.orderBy.map(nt=>function(at){return at.field.canonicalString()+at.dir}(nt)).join(","),__PRIVATE_isNullOrUndefined(tt.limit)||(rt+="|l:",rt+=tt.limit),tt.startAt&&(rt+="|lb:",rt+=tt.startAt.inclusive?"b:":"a:",rt+=tt.startAt.position.map(nt=>canonicalId(nt)).join(",")),tt.endAt&&(rt+="|ub:",rt+=tt.endAt.inclusive?"a:":"b:",rt+=tt.endAt.position.map(nt=>canonicalId(nt)).join(",")),tt.ue=rt}return tt.ue}function __PRIVATE_targetEquals(et,tt){if(et.limit!==tt.limit||et.orderBy.length!==tt.orderBy.length)return!1;for(let rt=0;rt<et.orderBy.length;rt++)if(!__PRIVATE_orderByEquals(et.orderBy[rt],tt.orderBy[rt]))return!1;if(et.filters.length!==tt.filters.length)return!1;for(let rt=0;rt<et.filters.length;rt++)if(!__PRIVATE_filterEquals(et.filters[rt],tt.filters[rt]))return!1;return et.collectionGroup===tt.collectionGroup&&!!et.path.isEqual(tt.path)&&!!__PRIVATE_boundEquals(et.startAt,tt.startAt)&&__PRIVATE_boundEquals(et.endAt,tt.endAt)}function __PRIVATE_targetIsDocumentTarget(et){return DocumentKey.isDocumentKey(et.path)&&et.collectionGroup===null&&et.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryImpl{constructor(tt,rt=null,nt=[],it=[],at=null,ot="F",st=null,lt=null){this.path=tt,this.collectionGroup=rt,this.explicitOrderBy=nt,this.filters=it,this.limit=at,this.limitType=ot,this.startAt=st,this.endAt=lt,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function __PRIVATE_newQuery(et,tt,rt,nt,it,at,ot,st){return new __PRIVATE_QueryImpl(et,tt,rt,nt,it,at,ot,st)}function __PRIVATE_newQueryForPath(et){return new __PRIVATE_QueryImpl(et)}function __PRIVATE_queryMatchesAllDocuments(et){return et.filters.length===0&&et.limit===null&&et.startAt==null&&et.endAt==null&&(et.explicitOrderBy.length===0||et.explicitOrderBy.length===1&&et.explicitOrderBy[0].field.isKeyField())}function __PRIVATE_isCollectionGroupQuery(et){return et.collectionGroup!==null}function __PRIVATE_queryNormalizedOrderBy(et){const tt=__PRIVATE_debugCast(et);if(tt.ce===null){tt.ce=[];const rt=new Set;for(const at of tt.explicitOrderBy)tt.ce.push(at),rt.add(at.field.canonicalString());const nt=tt.explicitOrderBy.length>0?tt.explicitOrderBy[tt.explicitOrderBy.length-1].dir:"asc";(function(ot){let st=new SortedSet(FieldPath$1.comparator);return ot.filters.forEach(lt=>{lt.getFlattenedFilters().forEach(ct=>{ct.isInequality()&&(st=st.add(ct.field))})}),st})(tt).forEach(at=>{rt.has(at.canonicalString())||at.isKeyField()||tt.ce.push(new OrderBy(at,nt))}),rt.has(FieldPath$1.keyField().canonicalString())||tt.ce.push(new OrderBy(FieldPath$1.keyField(),nt))}return tt.ce}function __PRIVATE_queryToTarget(et){const tt=__PRIVATE_debugCast(et);return tt.le||(tt.le=__PRIVATE__queryToTarget(tt,__PRIVATE_queryNormalizedOrderBy(et))),tt.le}function __PRIVATE__queryToTarget(et,tt){if(et.limitType==="F")return __PRIVATE_newTarget(et.path,et.collectionGroup,tt,et.filters,et.limit,et.startAt,et.endAt);{tt=tt.map(it=>{const at=it.dir==="desc"?"asc":"desc";return new OrderBy(it.field,at)});const rt=et.endAt?new Bound(et.endAt.position,et.endAt.inclusive):null,nt=et.startAt?new Bound(et.startAt.position,et.startAt.inclusive):null;return __PRIVATE_newTarget(et.path,et.collectionGroup,tt,et.filters,et.limit,rt,nt)}}function __PRIVATE_queryWithAddedFilter(et,tt){const rt=et.filters.concat([tt]);return new __PRIVATE_QueryImpl(et.path,et.collectionGroup,et.explicitOrderBy.slice(),rt,et.limit,et.limitType,et.startAt,et.endAt)}function __PRIVATE_queryWithLimit(et,tt,rt){return new __PRIVATE_QueryImpl(et.path,et.collectionGroup,et.explicitOrderBy.slice(),et.filters.slice(),tt,rt,et.startAt,et.endAt)}function __PRIVATE_queryEquals(et,tt){return __PRIVATE_targetEquals(__PRIVATE_queryToTarget(et),__PRIVATE_queryToTarget(tt))&&et.limitType===tt.limitType}function __PRIVATE_canonifyQuery(et){return`${__PRIVATE_canonifyTarget(__PRIVATE_queryToTarget(et))}|lt:${et.limitType}`}function __PRIVATE_stringifyQuery(et){return`Query(target=${function(rt){let nt=rt.path.canonicalString();return rt.collectionGroup!==null&&(nt+=" collectionGroup="+rt.collectionGroup),rt.filters.length>0&&(nt+=`, filters: [${rt.filters.map(it=>__PRIVATE_stringifyFilter(it)).join(", ")}]`),__PRIVATE_isNullOrUndefined(rt.limit)||(nt+=", limit: "+rt.limit),rt.orderBy.length>0&&(nt+=`, orderBy: [${rt.orderBy.map(it=>function(ot){return`${ot.field.canonicalString()} (${ot.dir})`}(it)).join(", ")}]`),rt.startAt&&(nt+=", startAt: ",nt+=rt.startAt.inclusive?"b:":"a:",nt+=rt.startAt.position.map(it=>canonicalId(it)).join(",")),rt.endAt&&(nt+=", endAt: ",nt+=rt.endAt.inclusive?"a:":"b:",nt+=rt.endAt.position.map(it=>canonicalId(it)).join(",")),`Target(${nt})`}(__PRIVATE_queryToTarget(et))}; limitType=${et.limitType})`}function __PRIVATE_queryMatches(et,tt){return tt.isFoundDocument()&&function(nt,it){const at=it.key.path;return nt.collectionGroup!==null?it.key.hasCollectionId(nt.collectionGroup)&&nt.path.isPrefixOf(at):DocumentKey.isDocumentKey(nt.path)?nt.path.isEqual(at):nt.path.isImmediateParentOf(at)}(et,tt)&&function(nt,it){for(const at of __PRIVATE_queryNormalizedOrderBy(nt))if(!at.field.isKeyField()&&it.data.field(at.field)===null)return!1;return!0}(et,tt)&&function(nt,it){for(const at of nt.filters)if(!at.matches(it))return!1;return!0}(et,tt)&&function(nt,it){return!(nt.startAt&&!function(ot,st,lt){const ct=__PRIVATE_boundCompareToDocument(ot,st,lt);return ot.inclusive?ct<=0:ct<0}(nt.startAt,__PRIVATE_queryNormalizedOrderBy(nt),it)||nt.endAt&&!function(ot,st,lt){const ct=__PRIVATE_boundCompareToDocument(ot,st,lt);return ot.inclusive?ct>=0:ct>0}(nt.endAt,__PRIVATE_queryNormalizedOrderBy(nt),it))}(et,tt)}function __PRIVATE_queryCollectionGroup(et){return et.collectionGroup||(et.path.length%2==1?et.path.lastSegment():et.path.get(et.path.length-2))}function __PRIVATE_newQueryComparator(et){return(tt,rt)=>{let nt=!1;for(const it of __PRIVATE_queryNormalizedOrderBy(et)){const at=__PRIVATE_compareDocs(it,tt,rt);if(at!==0)return at;nt=nt||it.field.isKeyField()}return 0}}function __PRIVATE_compareDocs(et,tt,rt){const nt=et.field.isKeyField()?DocumentKey.comparator(tt.key,rt.key):function(at,ot,st){const lt=ot.data.field(at),ct=st.data.field(at);return lt!==null&&ct!==null?__PRIVATE_valueCompare(lt,ct):fail()}(et.field,tt,rt);switch(et.dir){case"asc":return nt;case"desc":return-1*nt;default:return fail()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ObjectMap{constructor(tt,rt){this.mapKeyFn=tt,this.equalsFn=rt,this.inner={},this.innerSize=0}get(tt){const rt=this.mapKeyFn(tt),nt=this.inner[rt];if(nt!==void 0){for(const[it,at]of nt)if(this.equalsFn(it,tt))return at}}has(tt){return this.get(tt)!==void 0}set(tt,rt){const nt=this.mapKeyFn(tt),it=this.inner[nt];if(it===void 0)return this.inner[nt]=[[tt,rt]],void this.innerSize++;for(let at=0;at<it.length;at++)if(this.equalsFn(it[at][0],tt))return void(it[at]=[tt,rt]);it.push([tt,rt]),this.innerSize++}delete(tt){const rt=this.mapKeyFn(tt),nt=this.inner[rt];if(nt===void 0)return!1;for(let it=0;it<nt.length;it++)if(this.equalsFn(nt[it][0],tt))return nt.length===1?delete this.inner[rt]:nt.splice(it,1),this.innerSize--,!0;return!1}forEach(tt){forEach(this.inner,(rt,nt)=>{for(const[it,at]of nt)tt(it,at)})}isEmpty(){return isEmpty(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _e=new SortedMap(DocumentKey.comparator);function __PRIVATE_mutableDocumentMap(){return _e}const ae=new SortedMap(DocumentKey.comparator);function documentMap(...et){let tt=ae;for(const rt of et)tt=tt.insert(rt.key,rt);return tt}function __PRIVATE_convertOverlayedDocumentMapToDocumentMap(et){let tt=ae;return et.forEach((rt,nt)=>tt=tt.insert(rt,nt.overlayedDocument)),tt}function __PRIVATE_newOverlayMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newMutationMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newDocumentKeyMap(){return new ObjectMap(et=>et.toString(),(et,tt)=>et.isEqual(tt))}const ue$1=new SortedMap(DocumentKey.comparator),ce=new SortedSet(DocumentKey.comparator);function __PRIVATE_documentKeySet(...et){let tt=ce;for(const rt of et)tt=tt.add(rt);return tt}const le$1=new SortedSet(__PRIVATE_primitiveComparator);function __PRIVATE_targetIdSet(){return le$1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_toDouble(et,tt){if(et.useProto3Json){if(isNaN(tt))return{doubleValue:"NaN"};if(tt===1/0)return{doubleValue:"Infinity"};if(tt===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:__PRIVATE_isNegativeZero(tt)?"-0":tt}}function __PRIVATE_toInteger(et){return{integerValue:""+et}}function toNumber$3(et,tt){return isSafeInteger(tt)?__PRIVATE_toInteger(tt):__PRIVATE_toDouble(et,tt)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TransformOperation{constructor(){this._=void 0}}function __PRIVATE_applyTransformOperationToLocalView(et,tt,rt){return et instanceof __PRIVATE_ServerTimestampTransform?function(it,at){const ot={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:it.seconds,nanos:it.nanoseconds}}}};return at&&__PRIVATE_isServerTimestamp(at)&&(at=__PRIVATE_getPreviousValue(at)),at&&(ot.fields.__previous_value__=at),{mapValue:ot}}(rt,tt):et instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation(et,tt):et instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation(et,tt):function(it,at){const ot=__PRIVATE_computeTransformOperationBaseValue(it,at),st=asNumber(ot)+asNumber(it.Pe);return isInteger(ot)&&isInteger(it.Pe)?__PRIVATE_toInteger(st):__PRIVATE_toDouble(it.serializer,st)}(et,tt)}function __PRIVATE_applyTransformOperationToRemoteDocument(et,tt,rt){return et instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation(et,tt):et instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation(et,tt):rt}function __PRIVATE_computeTransformOperationBaseValue(et,tt){return et instanceof __PRIVATE_NumericIncrementTransformOperation?function(nt){return isInteger(nt)||function(at){return!!at&&"doubleValue"in at}(nt)}(tt)?tt:{integerValue:0}:null}class __PRIVATE_ServerTimestampTransform extends TransformOperation{}class __PRIVATE_ArrayUnionTransformOperation extends TransformOperation{constructor(tt){super(),this.elements=tt}}function __PRIVATE_applyArrayUnionTransformOperation(et,tt){const rt=__PRIVATE_coercedFieldValuesArray(tt);for(const nt of et.elements)rt.some(it=>__PRIVATE_valueEquals(it,nt))||rt.push(nt);return{arrayValue:{values:rt}}}class __PRIVATE_ArrayRemoveTransformOperation extends TransformOperation{constructor(tt){super(),this.elements=tt}}function __PRIVATE_applyArrayRemoveTransformOperation(et,tt){let rt=__PRIVATE_coercedFieldValuesArray(tt);for(const nt of et.elements)rt=rt.filter(it=>!__PRIVATE_valueEquals(it,nt));return{arrayValue:{values:rt}}}class __PRIVATE_NumericIncrementTransformOperation extends TransformOperation{constructor(tt,rt){super(),this.serializer=tt,this.Pe=rt}}function asNumber(et){return __PRIVATE_normalizeNumber(et.integerValue||et.doubleValue)}function __PRIVATE_coercedFieldValuesArray(et){return isArray$h(et)&&et.arrayValue.values?et.arrayValue.values.slice():[]}function __PRIVATE_fieldTransformEquals(et,tt){return et.field.isEqual(tt.field)&&function(nt,it){return nt instanceof __PRIVATE_ArrayUnionTransformOperation&&it instanceof __PRIVATE_ArrayUnionTransformOperation||nt instanceof __PRIVATE_ArrayRemoveTransformOperation&&it instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_arrayEquals(nt.elements,it.elements,__PRIVATE_valueEquals):nt instanceof __PRIVATE_NumericIncrementTransformOperation&&it instanceof __PRIVATE_NumericIncrementTransformOperation?__PRIVATE_valueEquals(nt.Pe,it.Pe):nt instanceof __PRIVATE_ServerTimestampTransform&&it instanceof __PRIVATE_ServerTimestampTransform}(et.transform,tt.transform)}class MutationResult{constructor(tt,rt){this.version=tt,this.transformResults=rt}}class Precondition{constructor(tt,rt){this.updateTime=tt,this.exists=rt}static none(){return new Precondition}static exists(tt){return new Precondition(void 0,tt)}static updateTime(tt){return new Precondition(tt)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(tt){return this.exists===tt.exists&&(this.updateTime?!!tt.updateTime&&this.updateTime.isEqual(tt.updateTime):!tt.updateTime)}}function __PRIVATE_preconditionIsValidForDocument(et,tt){return et.updateTime!==void 0?tt.isFoundDocument()&&tt.version.isEqual(et.updateTime):et.exists===void 0||et.exists===tt.isFoundDocument()}class Mutation{}function __PRIVATE_calculateOverlayMutation(et,tt){if(!et.hasLocalMutations||tt&&tt.fields.length===0)return null;if(tt===null)return et.isNoDocument()?new __PRIVATE_DeleteMutation(et.key,Precondition.none()):new __PRIVATE_SetMutation(et.key,et.data,Precondition.none());{const rt=et.data,nt=ObjectValue.empty();let it=new SortedSet(FieldPath$1.comparator);for(let at of tt.fields)if(!it.has(at)){let ot=rt.field(at);ot===null&&at.length>1&&(at=at.popLast(),ot=rt.field(at)),ot===null?nt.delete(at):nt.set(at,ot),it=it.add(at)}return new __PRIVATE_PatchMutation(et.key,nt,new FieldMask(it.toArray()),Precondition.none())}}function __PRIVATE_mutationApplyToRemoteDocument(et,tt,rt){et instanceof __PRIVATE_SetMutation?function(it,at,ot){const st=it.value.clone(),lt=__PRIVATE_serverTransformResults(it.fieldTransforms,at,ot.transformResults);st.setAll(lt),at.convertToFoundDocument(ot.version,st).setHasCommittedMutations()}(et,tt,rt):et instanceof __PRIVATE_PatchMutation?function(it,at,ot){if(!__PRIVATE_preconditionIsValidForDocument(it.precondition,at))return void at.convertToUnknownDocument(ot.version);const st=__PRIVATE_serverTransformResults(it.fieldTransforms,at,ot.transformResults),lt=at.data;lt.setAll(__PRIVATE_getPatch(it)),lt.setAll(st),at.convertToFoundDocument(ot.version,lt).setHasCommittedMutations()}(et,tt,rt):function(it,at,ot){at.convertToNoDocument(ot.version).setHasCommittedMutations()}(0,tt,rt)}function __PRIVATE_mutationApplyToLocalView(et,tt,rt,nt){return et instanceof __PRIVATE_SetMutation?function(at,ot,st,lt){if(!__PRIVATE_preconditionIsValidForDocument(at.precondition,ot))return st;const ct=at.value.clone(),ut=__PRIVATE_localTransformResults(at.fieldTransforms,lt,ot);return ct.setAll(ut),ot.convertToFoundDocument(ot.version,ct).setHasLocalMutations(),null}(et,tt,rt,nt):et instanceof __PRIVATE_PatchMutation?function(at,ot,st,lt){if(!__PRIVATE_preconditionIsValidForDocument(at.precondition,ot))return st;const ct=__PRIVATE_localTransformResults(at.fieldTransforms,lt,ot),ut=ot.data;return ut.setAll(__PRIVATE_getPatch(at)),ut.setAll(ct),ot.convertToFoundDocument(ot.version,ut).setHasLocalMutations(),st===null?null:st.unionWith(at.fieldMask.fields).unionWith(at.fieldTransforms.map(ft=>ft.field))}(et,tt,rt,nt):function(at,ot,st){return __PRIVATE_preconditionIsValidForDocument(at.precondition,ot)?(ot.convertToNoDocument(ot.version).setHasLocalMutations(),null):st}(et,tt,rt)}function __PRIVATE_mutationExtractBaseValue(et,tt){let rt=null;for(const nt of et.fieldTransforms){const it=tt.data.field(nt.field),at=__PRIVATE_computeTransformOperationBaseValue(nt.transform,it||null);at!=null&&(rt===null&&(rt=ObjectValue.empty()),rt.set(nt.field,at))}return rt||null}function __PRIVATE_mutationEquals(et,tt){return et.type===tt.type&&!!et.key.isEqual(tt.key)&&!!et.precondition.isEqual(tt.precondition)&&!!function(nt,it){return nt===void 0&&it===void 0||!(!nt||!it)&&__PRIVATE_arrayEquals(nt,it,(at,ot)=>__PRIVATE_fieldTransformEquals(at,ot))}(et.fieldTransforms,tt.fieldTransforms)&&(et.type===0?et.value.isEqual(tt.value):et.type!==1||et.data.isEqual(tt.data)&&et.fieldMask.isEqual(tt.fieldMask))}class __PRIVATE_SetMutation extends Mutation{constructor(tt,rt,nt,it=[]){super(),this.key=tt,this.value=rt,this.precondition=nt,this.fieldTransforms=it,this.type=0}getFieldMask(){return null}}class __PRIVATE_PatchMutation extends Mutation{constructor(tt,rt,nt,it,at=[]){super(),this.key=tt,this.data=rt,this.fieldMask=nt,this.precondition=it,this.fieldTransforms=at,this.type=1}getFieldMask(){return this.fieldMask}}function __PRIVATE_getPatch(et){const tt=new Map;return et.fieldMask.fields.forEach(rt=>{if(!rt.isEmpty()){const nt=et.data.field(rt);tt.set(rt,nt)}}),tt}function __PRIVATE_serverTransformResults(et,tt,rt){const nt=new Map;__PRIVATE_hardAssert(et.length===rt.length);for(let it=0;it<rt.length;it++){const at=et[it],ot=at.transform,st=tt.data.field(at.field);nt.set(at.field,__PRIVATE_applyTransformOperationToRemoteDocument(ot,st,rt[it]))}return nt}function __PRIVATE_localTransformResults(et,tt,rt){const nt=new Map;for(const it of et){const at=it.transform,ot=rt.data.field(it.field);nt.set(it.field,__PRIVATE_applyTransformOperationToLocalView(at,ot,tt))}return nt}class __PRIVATE_DeleteMutation extends Mutation{constructor(tt,rt){super(),this.key=tt,this.precondition=rt,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class __PRIVATE_VerifyMutation extends Mutation{constructor(tt,rt){super(),this.key=tt,this.precondition=rt,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MutationBatch{constructor(tt,rt,nt,it){this.batchId=tt,this.localWriteTime=rt,this.baseMutations=nt,this.mutations=it}applyToRemoteDocument(tt,rt){const nt=rt.mutationResults;for(let it=0;it<this.mutations.length;it++){const at=this.mutations[it];at.key.isEqual(tt.key)&&__PRIVATE_mutationApplyToRemoteDocument(at,tt,nt[it])}}applyToLocalView(tt,rt){for(const nt of this.baseMutations)nt.key.isEqual(tt.key)&&(rt=__PRIVATE_mutationApplyToLocalView(nt,tt,rt,this.localWriteTime));for(const nt of this.mutations)nt.key.isEqual(tt.key)&&(rt=__PRIVATE_mutationApplyToLocalView(nt,tt,rt,this.localWriteTime));return rt}applyToLocalDocumentSet(tt,rt){const nt=__PRIVATE_newMutationMap();return this.mutations.forEach(it=>{const at=tt.get(it.key),ot=at.overlayedDocument;let st=this.applyToLocalView(ot,at.mutatedFields);st=rt.has(it.key)?null:st;const lt=__PRIVATE_calculateOverlayMutation(ot,st);lt!==null&&nt.set(it.key,lt),ot.isValidDocument()||ot.convertToNoDocument(SnapshotVersion.min())}),nt}keys(){return this.mutations.reduce((tt,rt)=>tt.add(rt.key),__PRIVATE_documentKeySet())}isEqual(tt){return this.batchId===tt.batchId&&__PRIVATE_arrayEquals(this.mutations,tt.mutations,(rt,nt)=>__PRIVATE_mutationEquals(rt,nt))&&__PRIVATE_arrayEquals(this.baseMutations,tt.baseMutations,(rt,nt)=>__PRIVATE_mutationEquals(rt,nt))}}class MutationBatchResult{constructor(tt,rt,nt,it){this.batch=tt,this.commitVersion=rt,this.mutationResults=nt,this.docVersions=it}static from(tt,rt,nt){__PRIVATE_hardAssert(tt.mutations.length===nt.length);let it=function(){return ue$1}();const at=tt.mutations;for(let ot=0;ot<at.length;ot++)it=it.insert(at[ot].key,nt[ot].version);return new MutationBatchResult(tt,rt,nt,it)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Overlay{constructor(tt,rt){this.largestBatchId=tt,this.mutation=rt}getKey(){return this.mutation.key}isEqual(tt){return tt!==null&&this.mutation===tt.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ExistenceFilter{constructor(tt,rt){this.count=tt,this.unchangedNames=rt}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var he$1,Pe;function __PRIVATE_isPermanentError(et){switch(et){default:return fail();case v$3.CANCELLED:case v$3.UNKNOWN:case v$3.DEADLINE_EXCEEDED:case v$3.RESOURCE_EXHAUSTED:case v$3.INTERNAL:case v$3.UNAVAILABLE:case v$3.UNAUTHENTICATED:return!1;case v$3.INVALID_ARGUMENT:case v$3.NOT_FOUND:case v$3.ALREADY_EXISTS:case v$3.PERMISSION_DENIED:case v$3.FAILED_PRECONDITION:case v$3.ABORTED:case v$3.OUT_OF_RANGE:case v$3.UNIMPLEMENTED:case v$3.DATA_LOSS:return!0}}function __PRIVATE_mapCodeFromRpcCode(et){if(et===void 0)return __PRIVATE_logError("GRPC error has no .code"),v$3.UNKNOWN;switch(et){case he$1.OK:return v$3.OK;case he$1.CANCELLED:return v$3.CANCELLED;case he$1.UNKNOWN:return v$3.UNKNOWN;case he$1.DEADLINE_EXCEEDED:return v$3.DEADLINE_EXCEEDED;case he$1.RESOURCE_EXHAUSTED:return v$3.RESOURCE_EXHAUSTED;case he$1.INTERNAL:return v$3.INTERNAL;case he$1.UNAVAILABLE:return v$3.UNAVAILABLE;case he$1.UNAUTHENTICATED:return v$3.UNAUTHENTICATED;case he$1.INVALID_ARGUMENT:return v$3.INVALID_ARGUMENT;case he$1.NOT_FOUND:return v$3.NOT_FOUND;case he$1.ALREADY_EXISTS:return v$3.ALREADY_EXISTS;case he$1.PERMISSION_DENIED:return v$3.PERMISSION_DENIED;case he$1.FAILED_PRECONDITION:return v$3.FAILED_PRECONDITION;case he$1.ABORTED:return v$3.ABORTED;case he$1.OUT_OF_RANGE:return v$3.OUT_OF_RANGE;case he$1.UNIMPLEMENTED:return v$3.UNIMPLEMENTED;case he$1.DATA_LOSS:return v$3.DATA_LOSS;default:return fail()}}(Pe=he$1||(he$1={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_newTextEncoder(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Te$1=new Integer([4294967295,4294967295],0);function __PRIVATE_getMd5HashValue(et){const tt=__PRIVATE_newTextEncoder().encode(et),rt=new Md5;return rt.update(tt),new Uint8Array(rt.digest())}function __PRIVATE_get64BitUints(et){const tt=new DataView(et.buffer),rt=tt.getUint32(0,!0),nt=tt.getUint32(4,!0),it=tt.getUint32(8,!0),at=tt.getUint32(12,!0);return[new Integer([rt,nt],0),new Integer([it,at],0)]}class BloomFilter{constructor(tt,rt,nt){if(this.bitmap=tt,this.padding=rt,this.hashCount=nt,rt<0||rt>=8)throw new __PRIVATE_BloomFilterError(`Invalid padding: ${rt}`);if(nt<0)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${nt}`);if(tt.length>0&&this.hashCount===0)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${nt}`);if(tt.length===0&&rt!==0)throw new __PRIVATE_BloomFilterError(`Invalid padding when bitmap length is 0: ${rt}`);this.Ie=8*tt.length-rt,this.Te=Integer.fromNumber(this.Ie)}Ee(tt,rt,nt){let it=tt.add(rt.multiply(Integer.fromNumber(nt)));return it.compare(Te$1)===1&&(it=new Integer([it.getBits(0),it.getBits(1)],0)),it.modulo(this.Te).toNumber()}de(tt){return(this.bitmap[Math.floor(tt/8)]&1<<tt%8)!=0}mightContain(tt){if(this.Ie===0)return!1;const rt=__PRIVATE_getMd5HashValue(tt),[nt,it]=__PRIVATE_get64BitUints(rt);for(let at=0;at<this.hashCount;at++){const ot=this.Ee(nt,it,at);if(!this.de(ot))return!1}return!0}static create(tt,rt,nt){const it=tt%8==0?0:8-tt%8,at=new Uint8Array(Math.ceil(tt/8)),ot=new BloomFilter(at,it,rt);return nt.forEach(st=>ot.insert(st)),ot}insert(tt){if(this.Ie===0)return;const rt=__PRIVATE_getMd5HashValue(tt),[nt,it]=__PRIVATE_get64BitUints(rt);for(let at=0;at<this.hashCount;at++){const ot=this.Ee(nt,it,at);this.Ae(ot)}}Ae(tt){const rt=Math.floor(tt/8),nt=tt%8;this.bitmap[rt]|=1<<nt}}class __PRIVATE_BloomFilterError extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RemoteEvent{constructor(tt,rt,nt,it,at){this.snapshotVersion=tt,this.targetChanges=rt,this.targetMismatches=nt,this.documentUpdates=it,this.resolvedLimboDocuments=at}static createSynthesizedRemoteEventForCurrentChange(tt,rt,nt){const it=new Map;return it.set(tt,TargetChange.createSynthesizedTargetChangeForCurrentChange(tt,rt,nt)),new RemoteEvent(SnapshotVersion.min(),it,new SortedMap(__PRIVATE_primitiveComparator),__PRIVATE_mutableDocumentMap(),__PRIVATE_documentKeySet())}}class TargetChange{constructor(tt,rt,nt,it,at){this.resumeToken=tt,this.current=rt,this.addedDocuments=nt,this.modifiedDocuments=it,this.removedDocuments=at}static createSynthesizedTargetChangeForCurrentChange(tt,rt,nt){return new TargetChange(nt,rt,__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DocumentWatchChange{constructor(tt,rt,nt,it){this.Re=tt,this.removedTargetIds=rt,this.key=nt,this.Ve=it}}class __PRIVATE_ExistenceFilterChange{constructor(tt,rt){this.targetId=tt,this.me=rt}}class __PRIVATE_WatchTargetChange{constructor(tt,rt,nt=ByteString.EMPTY_BYTE_STRING,it=null){this.state=tt,this.targetIds=rt,this.resumeToken=nt,this.cause=it}}class __PRIVATE_TargetState{constructor(){this.fe=0,this.ge=__PRIVATE_snapshotChangesMap(),this.pe=ByteString.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(tt){tt.approximateByteSize()>0&&(this.we=!0,this.pe=tt)}ve(){let tt=__PRIVATE_documentKeySet(),rt=__PRIVATE_documentKeySet(),nt=__PRIVATE_documentKeySet();return this.ge.forEach((it,at)=>{switch(at){case 0:tt=tt.add(it);break;case 2:rt=rt.add(it);break;case 1:nt=nt.add(it);break;default:fail()}}),new TargetChange(this.pe,this.ye,tt,rt,nt)}Ce(){this.we=!1,this.ge=__PRIVATE_snapshotChangesMap()}Fe(tt,rt){this.we=!0,this.ge=this.ge.insert(tt,rt)}Me(tt){this.we=!0,this.ge=this.ge.remove(tt)}xe(){this.fe+=1}Oe(){this.fe-=1,__PRIVATE_hardAssert(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class __PRIVATE_WatchChangeAggregator{constructor(tt){this.Le=tt,this.Be=new Map,this.ke=__PRIVATE_mutableDocumentMap(),this.qe=__PRIVATE_documentTargetMap(),this.Qe=new SortedMap(__PRIVATE_primitiveComparator)}Ke(tt){for(const rt of tt.Re)tt.Ve&&tt.Ve.isFoundDocument()?this.$e(rt,tt.Ve):this.Ue(rt,tt.key,tt.Ve);for(const rt of tt.removedTargetIds)this.Ue(rt,tt.key,tt.Ve)}We(tt){this.forEachTarget(tt,rt=>{const nt=this.Ge(rt);switch(tt.state){case 0:this.ze(rt)&&nt.De(tt.resumeToken);break;case 1:nt.Oe(),nt.Se||nt.Ce(),nt.De(tt.resumeToken);break;case 2:nt.Oe(),nt.Se||this.removeTarget(rt);break;case 3:this.ze(rt)&&(nt.Ne(),nt.De(tt.resumeToken));break;case 4:this.ze(rt)&&(this.je(rt),nt.De(tt.resumeToken));break;default:fail()}})}forEachTarget(tt,rt){tt.targetIds.length>0?tt.targetIds.forEach(rt):this.Be.forEach((nt,it)=>{this.ze(it)&&rt(it)})}He(tt){const rt=tt.targetId,nt=tt.me.count,it=this.Je(rt);if(it){const at=it.target;if(__PRIVATE_targetIsDocumentTarget(at))if(nt===0){const ot=new DocumentKey(at.path);this.Ue(rt,ot,MutableDocument.newNoDocument(ot,SnapshotVersion.min()))}else __PRIVATE_hardAssert(nt===1);else{const ot=this.Ye(rt);if(ot!==nt){const st=this.Ze(tt),lt=st?this.Xe(st,tt,ot):1;if(lt!==0){this.je(rt);const ct=lt===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(rt,ct)}}}}}Ze(tt){const rt=tt.me.unchangedNames;if(!rt||!rt.bits)return null;const{bits:{bitmap:nt="",padding:it=0},hashCount:at=0}=rt;let ot,st;try{ot=__PRIVATE_normalizeByteString(nt).toUint8Array()}catch(lt){if(lt instanceof __PRIVATE_Base64DecodeError)return __PRIVATE_logWarn("Decoding the base64 bloom filter in existence filter failed ("+lt.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw lt}try{st=new BloomFilter(ot,it,at)}catch(lt){return __PRIVATE_logWarn(lt instanceof __PRIVATE_BloomFilterError?"BloomFilter error: ":"Applying bloom filter failed: ",lt),null}return st.Ie===0?null:st}Xe(tt,rt,nt){return rt.me.count===nt-this.nt(tt,rt.targetId)?0:2}nt(tt,rt){const nt=this.Le.getRemoteKeysForTarget(rt);let it=0;return nt.forEach(at=>{const ot=this.Le.tt(),st=`projects/${ot.projectId}/databases/${ot.database}/documents/${at.path.canonicalString()}`;tt.mightContain(st)||(this.Ue(rt,at,null),it++)}),it}rt(tt){const rt=new Map;this.Be.forEach((at,ot)=>{const st=this.Je(ot);if(st){if(at.current&&__PRIVATE_targetIsDocumentTarget(st.target)){const lt=new DocumentKey(st.target.path);this.ke.get(lt)!==null||this.it(ot,lt)||this.Ue(ot,lt,MutableDocument.newNoDocument(lt,tt))}at.be&&(rt.set(ot,at.ve()),at.Ce())}});let nt=__PRIVATE_documentKeySet();this.qe.forEach((at,ot)=>{let st=!0;ot.forEachWhile(lt=>{const ct=this.Je(lt);return!ct||ct.purpose==="TargetPurposeLimboResolution"||(st=!1,!1)}),st&&(nt=nt.add(at))}),this.ke.forEach((at,ot)=>ot.setReadTime(tt));const it=new RemoteEvent(tt,rt,this.Qe,this.ke,nt);return this.ke=__PRIVATE_mutableDocumentMap(),this.qe=__PRIVATE_documentTargetMap(),this.Qe=new SortedMap(__PRIVATE_primitiveComparator),it}$e(tt,rt){if(!this.ze(tt))return;const nt=this.it(tt,rt.key)?2:0;this.Ge(tt).Fe(rt.key,nt),this.ke=this.ke.insert(rt.key,rt),this.qe=this.qe.insert(rt.key,this.st(rt.key).add(tt))}Ue(tt,rt,nt){if(!this.ze(tt))return;const it=this.Ge(tt);this.it(tt,rt)?it.Fe(rt,1):it.Me(rt),this.qe=this.qe.insert(rt,this.st(rt).delete(tt)),nt&&(this.ke=this.ke.insert(rt,nt))}removeTarget(tt){this.Be.delete(tt)}Ye(tt){const rt=this.Ge(tt).ve();return this.Le.getRemoteKeysForTarget(tt).size+rt.addedDocuments.size-rt.removedDocuments.size}xe(tt){this.Ge(tt).xe()}Ge(tt){let rt=this.Be.get(tt);return rt||(rt=new __PRIVATE_TargetState,this.Be.set(tt,rt)),rt}st(tt){let rt=this.qe.get(tt);return rt||(rt=new SortedSet(__PRIVATE_primitiveComparator),this.qe=this.qe.insert(tt,rt)),rt}ze(tt){const rt=this.Je(tt)!==null;return rt||__PRIVATE_logDebug("WatchChangeAggregator","Detected inactive target",tt),rt}Je(tt){const rt=this.Be.get(tt);return rt&&rt.Se?null:this.Le.ot(tt)}je(tt){this.Be.set(tt,new __PRIVATE_TargetState),this.Le.getRemoteKeysForTarget(tt).forEach(rt=>{this.Ue(tt,rt,null)})}it(tt,rt){return this.Le.getRemoteKeysForTarget(tt).has(rt)}}function __PRIVATE_documentTargetMap(){return new SortedMap(DocumentKey.comparator)}function __PRIVATE_snapshotChangesMap(){return new SortedMap(DocumentKey.comparator)}const Ee$1={asc:"ASCENDING",desc:"DESCENDING"},de$1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ae$1={and:"AND",or:"OR"};class JsonProtoSerializer{constructor(tt,rt){this.databaseId=tt,this.useProto3Json=rt}}function __PRIVATE_toInt32Proto(et,tt){return et.useProto3Json||__PRIVATE_isNullOrUndefined(tt)?tt:{value:tt}}function toTimestamp(et,tt){return et.useProto3Json?`${new Date(1e3*tt.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+tt.nanoseconds).slice(-9)}Z`:{seconds:""+tt.seconds,nanos:tt.nanoseconds}}function __PRIVATE_toBytes(et,tt){return et.useProto3Json?tt.toBase64():tt.toUint8Array()}function __PRIVATE_toVersion(et,tt){return toTimestamp(et,tt.toTimestamp())}function __PRIVATE_fromVersion(et){return __PRIVATE_hardAssert(!!et),SnapshotVersion.fromTimestamp(function(rt){const nt=__PRIVATE_normalizeTimestamp(rt);return new Timestamp(nt.seconds,nt.nanos)}(et))}function __PRIVATE_toResourceName(et,tt){return __PRIVATE_toResourcePath(et,tt).canonicalString()}function __PRIVATE_toResourcePath(et,tt){const rt=function(it){return new ResourcePath(["projects",it.projectId,"databases",it.database])}(et).child("documents");return tt===void 0?rt:rt.child(tt)}function __PRIVATE_fromResourceName(et){const tt=ResourcePath.fromString(et);return __PRIVATE_hardAssert(__PRIVATE_isValidResourceName(tt)),tt}function __PRIVATE_toName(et,tt){return __PRIVATE_toResourceName(et.databaseId,tt.path)}function fromName(et,tt){const rt=__PRIVATE_fromResourceName(tt);if(rt.get(1)!==et.databaseId.projectId)throw new FirestoreError(v$3.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+rt.get(1)+" vs "+et.databaseId.projectId);if(rt.get(3)!==et.databaseId.database)throw new FirestoreError(v$3.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+rt.get(3)+" vs "+et.databaseId.database);return new DocumentKey(__PRIVATE_extractLocalPathFromResourceName(rt))}function __PRIVATE_toQueryPath(et,tt){return __PRIVATE_toResourceName(et.databaseId,tt)}function __PRIVATE_fromQueryPath(et){const tt=__PRIVATE_fromResourceName(et);return tt.length===4?ResourcePath.emptyPath():__PRIVATE_extractLocalPathFromResourceName(tt)}function __PRIVATE_getEncodedDatabaseId(et){return new ResourcePath(["projects",et.databaseId.projectId,"databases",et.databaseId.database]).canonicalString()}function __PRIVATE_extractLocalPathFromResourceName(et){return __PRIVATE_hardAssert(et.length>4&&et.get(4)==="documents"),et.popFirst(5)}function __PRIVATE_toMutationDocument(et,tt,rt){return{name:__PRIVATE_toName(et,tt),fields:rt.value.mapValue.fields}}function __PRIVATE_fromWatchChange(et,tt){let rt;if("targetChange"in tt){tt.targetChange;const nt=function(ct){return ct==="NO_CHANGE"?0:ct==="ADD"?1:ct==="REMOVE"?2:ct==="CURRENT"?3:ct==="RESET"?4:fail()}(tt.targetChange.targetChangeType||"NO_CHANGE"),it=tt.targetChange.targetIds||[],at=function(ct,ut){return ct.useProto3Json?(__PRIVATE_hardAssert(ut===void 0||typeof ut=="string"),ByteString.fromBase64String(ut||"")):(__PRIVATE_hardAssert(ut===void 0||ut instanceof Buffer||ut instanceof Uint8Array),ByteString.fromUint8Array(ut||new Uint8Array))}(et,tt.targetChange.resumeToken),ot=tt.targetChange.cause,st=ot&&function(ct){const ut=ct.code===void 0?v$3.UNKNOWN:__PRIVATE_mapCodeFromRpcCode(ct.code);return new FirestoreError(ut,ct.message||"")}(ot);rt=new __PRIVATE_WatchTargetChange(nt,it,at,st||null)}else if("documentChange"in tt){tt.documentChange;const nt=tt.documentChange;nt.document,nt.document.name,nt.document.updateTime;const it=fromName(et,nt.document.name),at=__PRIVATE_fromVersion(nt.document.updateTime),ot=nt.document.createTime?__PRIVATE_fromVersion(nt.document.createTime):SnapshotVersion.min(),st=new ObjectValue({mapValue:{fields:nt.document.fields}}),lt=MutableDocument.newFoundDocument(it,at,ot,st),ct=nt.targetIds||[],ut=nt.removedTargetIds||[];rt=new __PRIVATE_DocumentWatchChange(ct,ut,lt.key,lt)}else if("documentDelete"in tt){tt.documentDelete;const nt=tt.documentDelete;nt.document;const it=fromName(et,nt.document),at=nt.readTime?__PRIVATE_fromVersion(nt.readTime):SnapshotVersion.min(),ot=MutableDocument.newNoDocument(it,at),st=nt.removedTargetIds||[];rt=new __PRIVATE_DocumentWatchChange([],st,ot.key,ot)}else if("documentRemove"in tt){tt.documentRemove;const nt=tt.documentRemove;nt.document;const it=fromName(et,nt.document),at=nt.removedTargetIds||[];rt=new __PRIVATE_DocumentWatchChange([],at,it,null)}else{if(!("filter"in tt))return fail();{tt.filter;const nt=tt.filter;nt.targetId;const{count:it=0,unchangedNames:at}=nt,ot=new ExistenceFilter(it,at),st=nt.targetId;rt=new __PRIVATE_ExistenceFilterChange(st,ot)}}return rt}function toMutation(et,tt){let rt;if(tt instanceof __PRIVATE_SetMutation)rt={update:__PRIVATE_toMutationDocument(et,tt.key,tt.value)};else if(tt instanceof __PRIVATE_DeleteMutation)rt={delete:__PRIVATE_toName(et,tt.key)};else if(tt instanceof __PRIVATE_PatchMutation)rt={update:__PRIVATE_toMutationDocument(et,tt.key,tt.data),updateMask:__PRIVATE_toDocumentMask(tt.fieldMask)};else{if(!(tt instanceof __PRIVATE_VerifyMutation))return fail();rt={verify:__PRIVATE_toName(et,tt.key)}}return tt.fieldTransforms.length>0&&(rt.updateTransforms=tt.fieldTransforms.map(nt=>function(at,ot){const st=ot.transform;if(st instanceof __PRIVATE_ServerTimestampTransform)return{fieldPath:ot.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(st instanceof __PRIVATE_ArrayUnionTransformOperation)return{fieldPath:ot.field.canonicalString(),appendMissingElements:{values:st.elements}};if(st instanceof __PRIVATE_ArrayRemoveTransformOperation)return{fieldPath:ot.field.canonicalString(),removeAllFromArray:{values:st.elements}};if(st instanceof __PRIVATE_NumericIncrementTransformOperation)return{fieldPath:ot.field.canonicalString(),increment:st.Pe};throw fail()}(0,nt))),tt.precondition.isNone||(rt.currentDocument=function(it,at){return at.updateTime!==void 0?{updateTime:__PRIVATE_toVersion(it,at.updateTime)}:at.exists!==void 0?{exists:at.exists}:fail()}(et,tt.precondition)),rt}function __PRIVATE_fromWriteResults(et,tt){return et&&et.length>0?(__PRIVATE_hardAssert(tt!==void 0),et.map(rt=>function(it,at){let ot=it.updateTime?__PRIVATE_fromVersion(it.updateTime):__PRIVATE_fromVersion(at);return ot.isEqual(SnapshotVersion.min())&&(ot=__PRIVATE_fromVersion(at)),new MutationResult(ot,it.transformResults||[])}(rt,tt))):[]}function __PRIVATE_toDocumentsTarget(et,tt){return{documents:[__PRIVATE_toQueryPath(et,tt.path)]}}function __PRIVATE_toQueryTarget(et,tt){const rt={structuredQuery:{}},nt=tt.path;let it;tt.collectionGroup!==null?(it=nt,rt.structuredQuery.from=[{collectionId:tt.collectionGroup,allDescendants:!0}]):(it=nt.popLast(),rt.structuredQuery.from=[{collectionId:nt.lastSegment()}]),rt.parent=__PRIVATE_toQueryPath(et,it);const at=function(ct){if(ct.length!==0)return __PRIVATE_toFilter(CompositeFilter.create(ct,"and"))}(tt.filters);at&&(rt.structuredQuery.where=at);const ot=function(ct){if(ct.length!==0)return ct.map(ut=>function(ht){return{field:__PRIVATE_toFieldPathReference(ht.field),direction:__PRIVATE_toDirection(ht.dir)}}(ut))}(tt.orderBy);ot&&(rt.structuredQuery.orderBy=ot);const st=__PRIVATE_toInt32Proto(et,tt.limit);return st!==null&&(rt.structuredQuery.limit=st),tt.startAt&&(rt.structuredQuery.startAt=function(ct){return{before:ct.inclusive,values:ct.position}}(tt.startAt)),tt.endAt&&(rt.structuredQuery.endAt=function(ct){return{before:!ct.inclusive,values:ct.position}}(tt.endAt)),{_t:rt,parent:it}}function __PRIVATE_convertQueryTargetToQuery(et){let tt=__PRIVATE_fromQueryPath(et.parent);const rt=et.structuredQuery,nt=rt.from?rt.from.length:0;let it=null;if(nt>0){__PRIVATE_hardAssert(nt===1);const ut=rt.from[0];ut.allDescendants?it=ut.collectionId:tt=tt.child(ut.collectionId)}let at=[];rt.where&&(at=function(ft){const ht=__PRIVATE_fromFilter(ft);return ht instanceof CompositeFilter&&__PRIVATE_compositeFilterIsFlatConjunction(ht)?ht.getFilters():[ht]}(rt.where));let ot=[];rt.orderBy&&(ot=function(ft){return ft.map(ht=>function(vt){return new OrderBy(__PRIVATE_fromFieldPathReference(vt.field),function(xt){switch(xt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(vt.direction))}(ht))}(rt.orderBy));let st=null;rt.limit&&(st=function(ft){let ht;return ht=typeof ft=="object"?ft.value:ft,__PRIVATE_isNullOrUndefined(ht)?null:ht}(rt.limit));let lt=null;rt.startAt&&(lt=function(ft){const ht=!!ft.before,dt=ft.values||[];return new Bound(dt,ht)}(rt.startAt));let ct=null;return rt.endAt&&(ct=function(ft){const ht=!ft.before,dt=ft.values||[];return new Bound(dt,ht)}(rt.endAt)),__PRIVATE_newQuery(tt,it,ot,at,st,"F",lt,ct)}function __PRIVATE_toListenRequestLabels(et,tt){const rt=function(it){switch(it){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fail()}}(tt.purpose);return rt==null?null:{"goog-listen-tags":rt}}function __PRIVATE_fromFilter(et){return et.unaryFilter!==void 0?function(rt){switch(rt.unaryFilter.op){case"IS_NAN":const nt=__PRIVATE_fromFieldPathReference(rt.unaryFilter.field);return FieldFilter.create(nt,"==",{doubleValue:NaN});case"IS_NULL":const it=__PRIVATE_fromFieldPathReference(rt.unaryFilter.field);return FieldFilter.create(it,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const at=__PRIVATE_fromFieldPathReference(rt.unaryFilter.field);return FieldFilter.create(at,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const ot=__PRIVATE_fromFieldPathReference(rt.unaryFilter.field);return FieldFilter.create(ot,"!=",{nullValue:"NULL_VALUE"});default:return fail()}}(et):et.fieldFilter!==void 0?function(rt){return FieldFilter.create(__PRIVATE_fromFieldPathReference(rt.fieldFilter.field),function(it){switch(it){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fail()}}(rt.fieldFilter.op),rt.fieldFilter.value)}(et):et.compositeFilter!==void 0?function(rt){return CompositeFilter.create(rt.compositeFilter.filters.map(nt=>__PRIVATE_fromFilter(nt)),function(it){switch(it){case"AND":return"and";case"OR":return"or";default:return fail()}}(rt.compositeFilter.op))}(et):fail()}function __PRIVATE_toDirection(et){return Ee$1[et]}function __PRIVATE_toOperatorName(et){return de$1[et]}function __PRIVATE_toCompositeOperatorName(et){return Ae$1[et]}function __PRIVATE_toFieldPathReference(et){return{fieldPath:et.canonicalString()}}function __PRIVATE_fromFieldPathReference(et){return FieldPath$1.fromServerFormat(et.fieldPath)}function __PRIVATE_toFilter(et){return et instanceof FieldFilter?function(rt){if(rt.op==="=="){if(__PRIVATE_isNanValue(rt.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(rt.field),op:"IS_NAN"}};if(__PRIVATE_isNullValue(rt.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(rt.field),op:"IS_NULL"}}}else if(rt.op==="!="){if(__PRIVATE_isNanValue(rt.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(rt.field),op:"IS_NOT_NAN"}};if(__PRIVATE_isNullValue(rt.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(rt.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:__PRIVATE_toFieldPathReference(rt.field),op:__PRIVATE_toOperatorName(rt.op),value:rt.value}}}(et):et instanceof CompositeFilter?function(rt){const nt=rt.getFilters().map(it=>__PRIVATE_toFilter(it));return nt.length===1?nt[0]:{compositeFilter:{op:__PRIVATE_toCompositeOperatorName(rt.op),filters:nt}}}(et):fail()}function __PRIVATE_toDocumentMask(et){const tt=[];return et.fields.forEach(rt=>tt.push(rt.canonicalString())),{fieldPaths:tt}}function __PRIVATE_isValidResourceName(et){return et.length>=4&&et.get(0)==="projects"&&et.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TargetData{constructor(tt,rt,nt,it,at=SnapshotVersion.min(),ot=SnapshotVersion.min(),st=ByteString.EMPTY_BYTE_STRING,lt=null){this.target=tt,this.targetId=rt,this.purpose=nt,this.sequenceNumber=it,this.snapshotVersion=at,this.lastLimboFreeSnapshotVersion=ot,this.resumeToken=st,this.expectedCount=lt}withSequenceNumber(tt){return new TargetData(this.target,this.targetId,this.purpose,tt,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(tt,rt){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,rt,this.lastLimboFreeSnapshotVersion,tt,null)}withExpectedCount(tt){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,tt)}withLastLimboFreeSnapshotVersion(tt){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,tt,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalSerializer{constructor(tt){this.ct=tt}}function __PRIVATE_fromBundledQuery(et){const tt=__PRIVATE_convertQueryTargetToQuery({parent:et.parent,structuredQuery:et.structuredQuery});return et.limitType==="LAST"?__PRIVATE_queryWithLimit(tt,tt.limit,"L"):tt}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryIndexManager{constructor(){this.un=new __PRIVATE_MemoryCollectionParentIndex}addToCollectionParentIndex(tt,rt){return this.un.add(rt),PersistencePromise.resolve()}getCollectionParents(tt,rt){return PersistencePromise.resolve(this.un.getEntries(rt))}addFieldIndex(tt,rt){return PersistencePromise.resolve()}deleteFieldIndex(tt,rt){return PersistencePromise.resolve()}deleteAllFieldIndexes(tt){return PersistencePromise.resolve()}createTargetIndexes(tt,rt){return PersistencePromise.resolve()}getDocumentsMatchingTarget(tt,rt){return PersistencePromise.resolve(null)}getIndexType(tt,rt){return PersistencePromise.resolve(0)}getFieldIndexes(tt,rt){return PersistencePromise.resolve([])}getNextCollectionGroupToUpdate(tt){return PersistencePromise.resolve(null)}getMinOffset(tt,rt){return PersistencePromise.resolve(IndexOffset.min())}getMinOffsetFromCollectionGroup(tt,rt){return PersistencePromise.resolve(IndexOffset.min())}updateCollectionGroup(tt,rt,nt){return PersistencePromise.resolve()}updateIndexEntries(tt,rt){return PersistencePromise.resolve()}}class __PRIVATE_MemoryCollectionParentIndex{constructor(){this.index={}}add(tt){const rt=tt.lastSegment(),nt=tt.popLast(),it=this.index[rt]||new SortedSet(ResourcePath.comparator),at=!it.has(nt);return this.index[rt]=it.add(nt),at}has(tt){const rt=tt.lastSegment(),nt=tt.popLast(),it=this.index[rt];return it&&it.has(nt)}getEntries(tt){return(this.index[tt]||new SortedSet(ResourcePath.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TargetIdGenerator{constructor(tt){this.Ln=tt}next(){return this.Ln+=2,this.Ln}static Bn(){return new __PRIVATE_TargetIdGenerator(0)}static kn(){return new __PRIVATE_TargetIdGenerator(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RemoteDocumentChangeBuffer{constructor(){this.changes=new ObjectMap(tt=>tt.toString(),(tt,rt)=>tt.isEqual(rt)),this.changesApplied=!1}addEntry(tt){this.assertNotApplied(),this.changes.set(tt.key,tt)}removeEntry(tt,rt){this.assertNotApplied(),this.changes.set(tt,MutableDocument.newInvalidDocument(tt).setReadTime(rt))}getEntry(tt,rt){this.assertNotApplied();const nt=this.changes.get(rt);return nt!==void 0?PersistencePromise.resolve(nt):this.getFromCache(tt,rt)}getEntries(tt,rt){return this.getAllFromCache(tt,rt)}apply(tt){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(tt)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OverlayedDocument{constructor(tt,rt){this.overlayedDocument=tt,this.mutatedFields=rt}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LocalDocumentsView{constructor(tt,rt,nt,it){this.remoteDocumentCache=tt,this.mutationQueue=rt,this.documentOverlayCache=nt,this.indexManager=it}getDocument(tt,rt){let nt=null;return this.documentOverlayCache.getOverlay(tt,rt).next(it=>(nt=it,this.remoteDocumentCache.getEntry(tt,rt))).next(it=>(nt!==null&&__PRIVATE_mutationApplyToLocalView(nt.mutation,it,FieldMask.empty(),Timestamp.now()),it))}getDocuments(tt,rt){return this.remoteDocumentCache.getEntries(tt,rt).next(nt=>this.getLocalViewOfDocuments(tt,nt,__PRIVATE_documentKeySet()).next(()=>nt))}getLocalViewOfDocuments(tt,rt,nt=__PRIVATE_documentKeySet()){const it=__PRIVATE_newOverlayMap();return this.populateOverlays(tt,it,rt).next(()=>this.computeViews(tt,rt,it,nt).next(at=>{let ot=documentMap();return at.forEach((st,lt)=>{ot=ot.insert(st,lt.overlayedDocument)}),ot}))}getOverlayedDocuments(tt,rt){const nt=__PRIVATE_newOverlayMap();return this.populateOverlays(tt,nt,rt).next(()=>this.computeViews(tt,rt,nt,__PRIVATE_documentKeySet()))}populateOverlays(tt,rt,nt){const it=[];return nt.forEach(at=>{rt.has(at)||it.push(at)}),this.documentOverlayCache.getOverlays(tt,it).next(at=>{at.forEach((ot,st)=>{rt.set(ot,st)})})}computeViews(tt,rt,nt,it){let at=__PRIVATE_mutableDocumentMap();const ot=__PRIVATE_newDocumentKeyMap(),st=function(){return __PRIVATE_newDocumentKeyMap()}();return rt.forEach((lt,ct)=>{const ut=nt.get(ct.key);it.has(ct.key)&&(ut===void 0||ut.mutation instanceof __PRIVATE_PatchMutation)?at=at.insert(ct.key,ct):ut!==void 0?(ot.set(ct.key,ut.mutation.getFieldMask()),__PRIVATE_mutationApplyToLocalView(ut.mutation,ct,ut.mutation.getFieldMask(),Timestamp.now())):ot.set(ct.key,FieldMask.empty())}),this.recalculateAndSaveOverlays(tt,at).next(lt=>(lt.forEach((ct,ut)=>ot.set(ct,ut)),rt.forEach((ct,ut)=>{var ft;return st.set(ct,new OverlayedDocument(ut,(ft=ot.get(ct))!==null&&ft!==void 0?ft:null))}),st))}recalculateAndSaveOverlays(tt,rt){const nt=__PRIVATE_newDocumentKeyMap();let it=new SortedMap((ot,st)=>ot-st),at=__PRIVATE_documentKeySet();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(tt,rt).next(ot=>{for(const st of ot)st.keys().forEach(lt=>{const ct=rt.get(lt);if(ct===null)return;let ut=nt.get(lt)||FieldMask.empty();ut=st.applyToLocalView(ct,ut),nt.set(lt,ut);const ft=(it.get(st.batchId)||__PRIVATE_documentKeySet()).add(lt);it=it.insert(st.batchId,ft)})}).next(()=>{const ot=[],st=it.getReverseIterator();for(;st.hasNext();){const lt=st.getNext(),ct=lt.key,ut=lt.value,ft=__PRIVATE_newMutationMap();ut.forEach(ht=>{if(!at.has(ht)){const dt=__PRIVATE_calculateOverlayMutation(rt.get(ht),nt.get(ht));dt!==null&&ft.set(ht,dt),at=at.add(ht)}}),ot.push(this.documentOverlayCache.saveOverlays(tt,ct,ft))}return PersistencePromise.waitFor(ot)}).next(()=>nt)}recalculateAndSaveOverlaysForDocumentKeys(tt,rt){return this.remoteDocumentCache.getEntries(tt,rt).next(nt=>this.recalculateAndSaveOverlays(tt,nt))}getDocumentsMatchingQuery(tt,rt,nt,it){return function(ot){return DocumentKey.isDocumentKey(ot.path)&&ot.collectionGroup===null&&ot.filters.length===0}(rt)?this.getDocumentsMatchingDocumentQuery(tt,rt.path):__PRIVATE_isCollectionGroupQuery(rt)?this.getDocumentsMatchingCollectionGroupQuery(tt,rt,nt,it):this.getDocumentsMatchingCollectionQuery(tt,rt,nt,it)}getNextDocuments(tt,rt,nt,it){return this.remoteDocumentCache.getAllFromCollectionGroup(tt,rt,nt,it).next(at=>{const ot=it-at.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(tt,rt,nt.largestBatchId,it-at.size):PersistencePromise.resolve(__PRIVATE_newOverlayMap());let st=-1,lt=at;return ot.next(ct=>PersistencePromise.forEach(ct,(ut,ft)=>(st<ft.largestBatchId&&(st=ft.largestBatchId),at.get(ut)?PersistencePromise.resolve():this.remoteDocumentCache.getEntry(tt,ut).next(ht=>{lt=lt.insert(ut,ht)}))).next(()=>this.populateOverlays(tt,ct,at)).next(()=>this.computeViews(tt,lt,ct,__PRIVATE_documentKeySet())).next(ut=>({batchId:st,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap(ut)})))})}getDocumentsMatchingDocumentQuery(tt,rt){return this.getDocument(tt,new DocumentKey(rt)).next(nt=>{let it=documentMap();return nt.isFoundDocument()&&(it=it.insert(nt.key,nt)),it})}getDocumentsMatchingCollectionGroupQuery(tt,rt,nt,it){const at=rt.collectionGroup;let ot=documentMap();return this.indexManager.getCollectionParents(tt,at).next(st=>PersistencePromise.forEach(st,lt=>{const ct=function(ft,ht){return new __PRIVATE_QueryImpl(ht,null,ft.explicitOrderBy.slice(),ft.filters.slice(),ft.limit,ft.limitType,ft.startAt,ft.endAt)}(rt,lt.child(at));return this.getDocumentsMatchingCollectionQuery(tt,ct,nt,it).next(ut=>{ut.forEach((ft,ht)=>{ot=ot.insert(ft,ht)})})}).next(()=>ot))}getDocumentsMatchingCollectionQuery(tt,rt,nt,it){let at;return this.documentOverlayCache.getOverlaysForCollection(tt,rt.path,nt.largestBatchId).next(ot=>(at=ot,this.remoteDocumentCache.getDocumentsMatchingQuery(tt,rt,nt,at,it))).next(ot=>{at.forEach((lt,ct)=>{const ut=ct.getKey();ot.get(ut)===null&&(ot=ot.insert(ut,MutableDocument.newInvalidDocument(ut)))});let st=documentMap();return ot.forEach((lt,ct)=>{const ut=at.get(lt);ut!==void 0&&__PRIVATE_mutationApplyToLocalView(ut.mutation,ct,FieldMask.empty(),Timestamp.now()),__PRIVATE_queryMatches(rt,ct)&&(st=st.insert(lt,ct))}),st})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryBundleCache{constructor(tt){this.serializer=tt,this.hr=new Map,this.Pr=new Map}getBundleMetadata(tt,rt){return PersistencePromise.resolve(this.hr.get(rt))}saveBundleMetadata(tt,rt){return this.hr.set(rt.id,function(it){return{id:it.id,version:it.version,createTime:__PRIVATE_fromVersion(it.createTime)}}(rt)),PersistencePromise.resolve()}getNamedQuery(tt,rt){return PersistencePromise.resolve(this.Pr.get(rt))}saveNamedQuery(tt,rt){return this.Pr.set(rt.name,function(it){return{name:it.name,query:__PRIVATE_fromBundledQuery(it.bundledQuery),readTime:__PRIVATE_fromVersion(it.readTime)}}(rt)),PersistencePromise.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryDocumentOverlayCache{constructor(){this.overlays=new SortedMap(DocumentKey.comparator),this.Ir=new Map}getOverlay(tt,rt){return PersistencePromise.resolve(this.overlays.get(rt))}getOverlays(tt,rt){const nt=__PRIVATE_newOverlayMap();return PersistencePromise.forEach(rt,it=>this.getOverlay(tt,it).next(at=>{at!==null&&nt.set(it,at)})).next(()=>nt)}saveOverlays(tt,rt,nt){return nt.forEach((it,at)=>{this.ht(tt,rt,at)}),PersistencePromise.resolve()}removeOverlaysForBatchId(tt,rt,nt){const it=this.Ir.get(nt);return it!==void 0&&(it.forEach(at=>this.overlays=this.overlays.remove(at)),this.Ir.delete(nt)),PersistencePromise.resolve()}getOverlaysForCollection(tt,rt,nt){const it=__PRIVATE_newOverlayMap(),at=rt.length+1,ot=new DocumentKey(rt.child("")),st=this.overlays.getIteratorFrom(ot);for(;st.hasNext();){const lt=st.getNext().value,ct=lt.getKey();if(!rt.isPrefixOf(ct.path))break;ct.path.length===at&&lt.largestBatchId>nt&&it.set(lt.getKey(),lt)}return PersistencePromise.resolve(it)}getOverlaysForCollectionGroup(tt,rt,nt,it){let at=new SortedMap((ct,ut)=>ct-ut);const ot=this.overlays.getIterator();for(;ot.hasNext();){const ct=ot.getNext().value;if(ct.getKey().getCollectionGroup()===rt&&ct.largestBatchId>nt){let ut=at.get(ct.largestBatchId);ut===null&&(ut=__PRIVATE_newOverlayMap(),at=at.insert(ct.largestBatchId,ut)),ut.set(ct.getKey(),ct)}}const st=__PRIVATE_newOverlayMap(),lt=at.getIterator();for(;lt.hasNext()&&(lt.getNext().value.forEach((ct,ut)=>st.set(ct,ut)),!(st.size()>=it)););return PersistencePromise.resolve(st)}ht(tt,rt,nt){const it=this.overlays.get(nt.key);if(it!==null){const ot=this.Ir.get(it.largestBatchId).delete(nt.key);this.Ir.set(it.largestBatchId,ot)}this.overlays=this.overlays.insert(nt.key,new Overlay(rt,nt));let at=this.Ir.get(rt);at===void 0&&(at=__PRIVATE_documentKeySet(),this.Ir.set(rt,at)),this.Ir.set(rt,at.add(nt.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryGlobalsCache{constructor(){this.sessionToken=ByteString.EMPTY_BYTE_STRING}getSessionToken(tt){return PersistencePromise.resolve(this.sessionToken)}setSessionToken(tt,rt){return this.sessionToken=rt,PersistencePromise.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ReferenceSet{constructor(){this.Tr=new SortedSet(__PRIVATE_DocReference.Er),this.dr=new SortedSet(__PRIVATE_DocReference.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(tt,rt){const nt=new __PRIVATE_DocReference(tt,rt);this.Tr=this.Tr.add(nt),this.dr=this.dr.add(nt)}Rr(tt,rt){tt.forEach(nt=>this.addReference(nt,rt))}removeReference(tt,rt){this.Vr(new __PRIVATE_DocReference(tt,rt))}mr(tt,rt){tt.forEach(nt=>this.removeReference(nt,rt))}gr(tt){const rt=new DocumentKey(new ResourcePath([])),nt=new __PRIVATE_DocReference(rt,tt),it=new __PRIVATE_DocReference(rt,tt+1),at=[];return this.dr.forEachInRange([nt,it],ot=>{this.Vr(ot),at.push(ot.key)}),at}pr(){this.Tr.forEach(tt=>this.Vr(tt))}Vr(tt){this.Tr=this.Tr.delete(tt),this.dr=this.dr.delete(tt)}yr(tt){const rt=new DocumentKey(new ResourcePath([])),nt=new __PRIVATE_DocReference(rt,tt),it=new __PRIVATE_DocReference(rt,tt+1);let at=__PRIVATE_documentKeySet();return this.dr.forEachInRange([nt,it],ot=>{at=at.add(ot.key)}),at}containsKey(tt){const rt=new __PRIVATE_DocReference(tt,0),nt=this.Tr.firstAfterOrEqual(rt);return nt!==null&&tt.isEqual(nt.key)}}class __PRIVATE_DocReference{constructor(tt,rt){this.key=tt,this.wr=rt}static Er(tt,rt){return DocumentKey.comparator(tt.key,rt.key)||__PRIVATE_primitiveComparator(tt.wr,rt.wr)}static Ar(tt,rt){return __PRIVATE_primitiveComparator(tt.wr,rt.wr)||DocumentKey.comparator(tt.key,rt.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryMutationQueue{constructor(tt,rt){this.indexManager=tt,this.referenceDelegate=rt,this.mutationQueue=[],this.Sr=1,this.br=new SortedSet(__PRIVATE_DocReference.Er)}checkEmpty(tt){return PersistencePromise.resolve(this.mutationQueue.length===0)}addMutationBatch(tt,rt,nt,it){const at=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const ot=new MutationBatch(at,rt,nt,it);this.mutationQueue.push(ot);for(const st of it)this.br=this.br.add(new __PRIVATE_DocReference(st.key,at)),this.indexManager.addToCollectionParentIndex(tt,st.key.path.popLast());return PersistencePromise.resolve(ot)}lookupMutationBatch(tt,rt){return PersistencePromise.resolve(this.Dr(rt))}getNextMutationBatchAfterBatchId(tt,rt){const nt=rt+1,it=this.vr(nt),at=it<0?0:it;return PersistencePromise.resolve(this.mutationQueue.length>at?this.mutationQueue[at]:null)}getHighestUnacknowledgedBatchId(){return PersistencePromise.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(tt){return PersistencePromise.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(tt,rt){const nt=new __PRIVATE_DocReference(rt,0),it=new __PRIVATE_DocReference(rt,Number.POSITIVE_INFINITY),at=[];return this.br.forEachInRange([nt,it],ot=>{const st=this.Dr(ot.wr);at.push(st)}),PersistencePromise.resolve(at)}getAllMutationBatchesAffectingDocumentKeys(tt,rt){let nt=new SortedSet(__PRIVATE_primitiveComparator);return rt.forEach(it=>{const at=new __PRIVATE_DocReference(it,0),ot=new __PRIVATE_DocReference(it,Number.POSITIVE_INFINITY);this.br.forEachInRange([at,ot],st=>{nt=nt.add(st.wr)})}),PersistencePromise.resolve(this.Cr(nt))}getAllMutationBatchesAffectingQuery(tt,rt){const nt=rt.path,it=nt.length+1;let at=nt;DocumentKey.isDocumentKey(at)||(at=at.child(""));const ot=new __PRIVATE_DocReference(new DocumentKey(at),0);let st=new SortedSet(__PRIVATE_primitiveComparator);return this.br.forEachWhile(lt=>{const ct=lt.key.path;return!!nt.isPrefixOf(ct)&&(ct.length===it&&(st=st.add(lt.wr)),!0)},ot),PersistencePromise.resolve(this.Cr(st))}Cr(tt){const rt=[];return tt.forEach(nt=>{const it=this.Dr(nt);it!==null&&rt.push(it)}),rt}removeMutationBatch(tt,rt){__PRIVATE_hardAssert(this.Fr(rt.batchId,"removed")===0),this.mutationQueue.shift();let nt=this.br;return PersistencePromise.forEach(rt.mutations,it=>{const at=new __PRIVATE_DocReference(it.key,rt.batchId);return nt=nt.delete(at),this.referenceDelegate.markPotentiallyOrphaned(tt,it.key)}).next(()=>{this.br=nt})}On(tt){}containsKey(tt,rt){const nt=new __PRIVATE_DocReference(rt,0),it=this.br.firstAfterOrEqual(nt);return PersistencePromise.resolve(rt.isEqual(it&&it.key))}performConsistencyCheck(tt){return this.mutationQueue.length,PersistencePromise.resolve()}Fr(tt,rt){return this.vr(tt)}vr(tt){return this.mutationQueue.length===0?0:tt-this.mutationQueue[0].batchId}Dr(tt){const rt=this.vr(tt);return rt<0||rt>=this.mutationQueue.length?null:this.mutationQueue[rt]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryRemoteDocumentCacheImpl{constructor(tt){this.Mr=tt,this.docs=function(){return new SortedMap(DocumentKey.comparator)}(),this.size=0}setIndexManager(tt){this.indexManager=tt}addEntry(tt,rt){const nt=rt.key,it=this.docs.get(nt),at=it?it.size:0,ot=this.Mr(rt);return this.docs=this.docs.insert(nt,{document:rt.mutableCopy(),size:ot}),this.size+=ot-at,this.indexManager.addToCollectionParentIndex(tt,nt.path.popLast())}removeEntry(tt){const rt=this.docs.get(tt);rt&&(this.docs=this.docs.remove(tt),this.size-=rt.size)}getEntry(tt,rt){const nt=this.docs.get(rt);return PersistencePromise.resolve(nt?nt.document.mutableCopy():MutableDocument.newInvalidDocument(rt))}getEntries(tt,rt){let nt=__PRIVATE_mutableDocumentMap();return rt.forEach(it=>{const at=this.docs.get(it);nt=nt.insert(it,at?at.document.mutableCopy():MutableDocument.newInvalidDocument(it))}),PersistencePromise.resolve(nt)}getDocumentsMatchingQuery(tt,rt,nt,it){let at=__PRIVATE_mutableDocumentMap();const ot=rt.path,st=new DocumentKey(ot.child("")),lt=this.docs.getIteratorFrom(st);for(;lt.hasNext();){const{key:ct,value:{document:ut}}=lt.getNext();if(!ot.isPrefixOf(ct.path))break;ct.path.length>ot.length+1||__PRIVATE_indexOffsetComparator(__PRIVATE_newIndexOffsetFromDocument(ut),nt)<=0||(it.has(ut.key)||__PRIVATE_queryMatches(rt,ut))&&(at=at.insert(ut.key,ut.mutableCopy()))}return PersistencePromise.resolve(at)}getAllFromCollectionGroup(tt,rt,nt,it){fail()}Or(tt,rt){return PersistencePromise.forEach(this.docs,nt=>rt(nt))}newChangeBuffer(tt){return new __PRIVATE_MemoryRemoteDocumentChangeBuffer(this)}getSize(tt){return PersistencePromise.resolve(this.size)}}class __PRIVATE_MemoryRemoteDocumentChangeBuffer extends RemoteDocumentChangeBuffer{constructor(tt){super(),this.cr=tt}applyChanges(tt){const rt=[];return this.changes.forEach((nt,it)=>{it.isValidDocument()?rt.push(this.cr.addEntry(tt,it)):this.cr.removeEntry(nt)}),PersistencePromise.waitFor(rt)}getFromCache(tt,rt){return this.cr.getEntry(tt,rt)}getAllFromCache(tt,rt){return this.cr.getEntries(tt,rt)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryTargetCache{constructor(tt){this.persistence=tt,this.Nr=new ObjectMap(rt=>__PRIVATE_canonifyTarget(rt),__PRIVATE_targetEquals),this.lastRemoteSnapshotVersion=SnapshotVersion.min(),this.highestTargetId=0,this.Lr=0,this.Br=new __PRIVATE_ReferenceSet,this.targetCount=0,this.kr=__PRIVATE_TargetIdGenerator.Bn()}forEachTarget(tt,rt){return this.Nr.forEach((nt,it)=>rt(it)),PersistencePromise.resolve()}getLastRemoteSnapshotVersion(tt){return PersistencePromise.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(tt){return PersistencePromise.resolve(this.Lr)}allocateTargetId(tt){return this.highestTargetId=this.kr.next(),PersistencePromise.resolve(this.highestTargetId)}setTargetsMetadata(tt,rt,nt){return nt&&(this.lastRemoteSnapshotVersion=nt),rt>this.Lr&&(this.Lr=rt),PersistencePromise.resolve()}Kn(tt){this.Nr.set(tt.target,tt);const rt=tt.targetId;rt>this.highestTargetId&&(this.kr=new __PRIVATE_TargetIdGenerator(rt),this.highestTargetId=rt),tt.sequenceNumber>this.Lr&&(this.Lr=tt.sequenceNumber)}addTargetData(tt,rt){return this.Kn(rt),this.targetCount+=1,PersistencePromise.resolve()}updateTargetData(tt,rt){return this.Kn(rt),PersistencePromise.resolve()}removeTargetData(tt,rt){return this.Nr.delete(rt.target),this.Br.gr(rt.targetId),this.targetCount-=1,PersistencePromise.resolve()}removeTargets(tt,rt,nt){let it=0;const at=[];return this.Nr.forEach((ot,st)=>{st.sequenceNumber<=rt&&nt.get(st.targetId)===null&&(this.Nr.delete(ot),at.push(this.removeMatchingKeysForTargetId(tt,st.targetId)),it++)}),PersistencePromise.waitFor(at).next(()=>it)}getTargetCount(tt){return PersistencePromise.resolve(this.targetCount)}getTargetData(tt,rt){const nt=this.Nr.get(rt)||null;return PersistencePromise.resolve(nt)}addMatchingKeys(tt,rt,nt){return this.Br.Rr(rt,nt),PersistencePromise.resolve()}removeMatchingKeys(tt,rt,nt){this.Br.mr(rt,nt);const it=this.persistence.referenceDelegate,at=[];return it&&rt.forEach(ot=>{at.push(it.markPotentiallyOrphaned(tt,ot))}),PersistencePromise.waitFor(at)}removeMatchingKeysForTargetId(tt,rt){return this.Br.gr(rt),PersistencePromise.resolve()}getMatchingKeysForTargetId(tt,rt){const nt=this.Br.yr(rt);return PersistencePromise.resolve(nt)}containsKey(tt,rt){return PersistencePromise.resolve(this.Br.containsKey(rt))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryPersistence{constructor(tt,rt){this.qr={},this.overlays={},this.Qr=new __PRIVATE_ListenSequence(0),this.Kr=!1,this.Kr=!0,this.$r=new __PRIVATE_MemoryGlobalsCache,this.referenceDelegate=tt(this),this.Ur=new __PRIVATE_MemoryTargetCache(this),this.indexManager=new __PRIVATE_MemoryIndexManager,this.remoteDocumentCache=function(it){return new __PRIVATE_MemoryRemoteDocumentCacheImpl(it)}(nt=>this.referenceDelegate.Wr(nt)),this.serializer=new __PRIVATE_LocalSerializer(rt),this.Gr=new __PRIVATE_MemoryBundleCache(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(tt){return this.indexManager}getDocumentOverlayCache(tt){let rt=this.overlays[tt.toKey()];return rt||(rt=new __PRIVATE_MemoryDocumentOverlayCache,this.overlays[tt.toKey()]=rt),rt}getMutationQueue(tt,rt){let nt=this.qr[tt.toKey()];return nt||(nt=new __PRIVATE_MemoryMutationQueue(rt,this.referenceDelegate),this.qr[tt.toKey()]=nt),nt}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(tt,rt,nt){__PRIVATE_logDebug("MemoryPersistence","Starting transaction:",tt);const it=new __PRIVATE_MemoryTransaction(this.Qr.next());return this.referenceDelegate.zr(),nt(it).next(at=>this.referenceDelegate.jr(it).next(()=>at)).toPromise().then(at=>(it.raiseOnCommittedEvent(),at))}Hr(tt,rt){return PersistencePromise.or(Object.values(this.qr).map(nt=>()=>nt.containsKey(tt,rt)))}}class __PRIVATE_MemoryTransaction extends PersistenceTransaction{constructor(tt){super(),this.currentSequenceNumber=tt}}class __PRIVATE_MemoryEagerDelegate{constructor(tt){this.persistence=tt,this.Jr=new __PRIVATE_ReferenceSet,this.Yr=null}static Zr(tt){return new __PRIVATE_MemoryEagerDelegate(tt)}get Xr(){if(this.Yr)return this.Yr;throw fail()}addReference(tt,rt,nt){return this.Jr.addReference(nt,rt),this.Xr.delete(nt.toString()),PersistencePromise.resolve()}removeReference(tt,rt,nt){return this.Jr.removeReference(nt,rt),this.Xr.add(nt.toString()),PersistencePromise.resolve()}markPotentiallyOrphaned(tt,rt){return this.Xr.add(rt.toString()),PersistencePromise.resolve()}removeTarget(tt,rt){this.Jr.gr(rt.targetId).forEach(it=>this.Xr.add(it.toString()));const nt=this.persistence.getTargetCache();return nt.getMatchingKeysForTargetId(tt,rt.targetId).next(it=>{it.forEach(at=>this.Xr.add(at.toString()))}).next(()=>nt.removeTargetData(tt,rt))}zr(){this.Yr=new Set}jr(tt){const rt=this.persistence.getRemoteDocumentCache().newChangeBuffer();return PersistencePromise.forEach(this.Xr,nt=>{const it=DocumentKey.fromPath(nt);return this.ei(tt,it).next(at=>{at||rt.removeEntry(it,SnapshotVersion.min())})}).next(()=>(this.Yr=null,rt.apply(tt)))}updateLimboDocument(tt,rt){return this.ei(tt,rt).next(nt=>{nt?this.Xr.delete(rt.toString()):this.Xr.add(rt.toString())})}Wr(tt){return 0}ei(tt,rt){return PersistencePromise.or([()=>PersistencePromise.resolve(this.Jr.containsKey(rt)),()=>this.persistence.getTargetCache().containsKey(tt,rt),()=>this.persistence.Hr(tt,rt)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalViewChanges{constructor(tt,rt,nt,it){this.targetId=tt,this.fromCache=rt,this.$i=nt,this.Ui=it}static Wi(tt,rt){let nt=__PRIVATE_documentKeySet(),it=__PRIVATE_documentKeySet();for(const at of rt.docChanges)switch(at.type){case 0:nt=nt.add(at.doc.key);break;case 1:it=it.add(at.doc.key)}return new __PRIVATE_LocalViewChanges(tt,rt.fromCache,nt,it)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QueryContext{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(tt){this._documentReadCount+=tt}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryEngine{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return isSafari()?8:__PRIVATE_getAndroidVersion(getUA())>0?6:4}()}initialize(tt,rt){this.Ji=tt,this.indexManager=rt,this.Gi=!0}getDocumentsMatchingQuery(tt,rt,nt,it){const at={result:null};return this.Yi(tt,rt).next(ot=>{at.result=ot}).next(()=>{if(!at.result)return this.Zi(tt,rt,it,nt).next(ot=>{at.result=ot})}).next(()=>{if(at.result)return;const ot=new QueryContext;return this.Xi(tt,rt,ot).next(st=>{if(at.result=st,this.zi)return this.es(tt,rt,ot,st.size)})}).next(()=>at.result)}es(tt,rt,nt,it){return nt.documentReadCount<this.ji?(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","SDK will not create cache indexes for query:",__PRIVATE_stringifyQuery(rt),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),PersistencePromise.resolve()):(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Query:",__PRIVATE_stringifyQuery(rt),"scans",nt.documentReadCount,"local documents and returns",it,"documents as results."),nt.documentReadCount>this.Hi*it?(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","The SDK decides to create cache indexes for query:",__PRIVATE_stringifyQuery(rt),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(tt,__PRIVATE_queryToTarget(rt))):PersistencePromise.resolve())}Yi(tt,rt){if(__PRIVATE_queryMatchesAllDocuments(rt))return PersistencePromise.resolve(null);let nt=__PRIVATE_queryToTarget(rt);return this.indexManager.getIndexType(tt,nt).next(it=>it===0?null:(rt.limit!==null&&it===1&&(rt=__PRIVATE_queryWithLimit(rt,null,"F"),nt=__PRIVATE_queryToTarget(rt)),this.indexManager.getDocumentsMatchingTarget(tt,nt).next(at=>{const ot=__PRIVATE_documentKeySet(...at);return this.Ji.getDocuments(tt,ot).next(st=>this.indexManager.getMinOffset(tt,nt).next(lt=>{const ct=this.ts(rt,st);return this.ns(rt,ct,ot,lt.readTime)?this.Yi(tt,__PRIVATE_queryWithLimit(rt,null,"F")):this.rs(tt,ct,rt,lt)}))})))}Zi(tt,rt,nt,it){return __PRIVATE_queryMatchesAllDocuments(rt)||it.isEqual(SnapshotVersion.min())?PersistencePromise.resolve(null):this.Ji.getDocuments(tt,nt).next(at=>{const ot=this.ts(rt,at);return this.ns(rt,ot,nt,it)?PersistencePromise.resolve(null):(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Re-using previous result from %s to execute query: %s",it.toString(),__PRIVATE_stringifyQuery(rt)),this.rs(tt,ot,rt,__PRIVATE_newIndexOffsetSuccessorFromReadTime(it,-1)).next(st=>st))})}ts(tt,rt){let nt=new SortedSet(__PRIVATE_newQueryComparator(tt));return rt.forEach((it,at)=>{__PRIVATE_queryMatches(tt,at)&&(nt=nt.add(at))}),nt}ns(tt,rt,nt,it){if(tt.limit===null)return!1;if(nt.size!==rt.size)return!0;const at=tt.limitType==="F"?rt.last():rt.first();return!!at&&(at.hasPendingWrites||at.version.compareTo(it)>0)}Xi(tt,rt,nt){return __PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Using full collection scan to execute query:",__PRIVATE_stringifyQuery(rt)),this.Ji.getDocumentsMatchingQuery(tt,rt,IndexOffset.min(),nt)}rs(tt,rt,nt,it){return this.Ji.getDocumentsMatchingQuery(tt,nt,it).next(at=>(rt.forEach(ot=>{at=at.insert(ot.key,ot)}),at))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalStoreImpl{constructor(tt,rt,nt,it){this.persistence=tt,this.ss=rt,this.serializer=it,this.os=new SortedMap(__PRIVATE_primitiveComparator),this._s=new ObjectMap(at=>__PRIVATE_canonifyTarget(at),__PRIVATE_targetEquals),this.us=new Map,this.cs=tt.getRemoteDocumentCache(),this.Ur=tt.getTargetCache(),this.Gr=tt.getBundleCache(),this.ls(nt)}ls(tt){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(tt),this.indexManager=this.persistence.getIndexManager(tt),this.mutationQueue=this.persistence.getMutationQueue(tt,this.indexManager),this.localDocuments=new LocalDocumentsView(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(tt){return this.persistence.runTransaction("Collect garbage","readwrite-primary",rt=>tt.collect(rt,this.os))}}function __PRIVATE_newLocalStore(et,tt,rt,nt){return new __PRIVATE_LocalStoreImpl(et,tt,rt,nt)}async function __PRIVATE_localStoreHandleUserChange(et,tt){const rt=__PRIVATE_debugCast(et);return await rt.persistence.runTransaction("Handle user change","readonly",nt=>{let it;return rt.mutationQueue.getAllMutationBatches(nt).next(at=>(it=at,rt.ls(tt),rt.mutationQueue.getAllMutationBatches(nt))).next(at=>{const ot=[],st=[];let lt=__PRIVATE_documentKeySet();for(const ct of it){ot.push(ct.batchId);for(const ut of ct.mutations)lt=lt.add(ut.key)}for(const ct of at){st.push(ct.batchId);for(const ut of ct.mutations)lt=lt.add(ut.key)}return rt.localDocuments.getDocuments(nt,lt).next(ct=>({hs:ct,removedBatchIds:ot,addedBatchIds:st}))})})}function __PRIVATE_localStoreAcknowledgeBatch(et,tt){const rt=__PRIVATE_debugCast(et);return rt.persistence.runTransaction("Acknowledge batch","readwrite-primary",nt=>{const it=tt.batch.keys(),at=rt.cs.newChangeBuffer({trackRemovals:!0});return function(st,lt,ct,ut){const ft=ct.batch,ht=ft.keys();let dt=PersistencePromise.resolve();return ht.forEach(vt=>{dt=dt.next(()=>ut.getEntry(lt,vt)).next(yt=>{const xt=ct.docVersions.get(vt);__PRIVATE_hardAssert(xt!==null),yt.version.compareTo(xt)<0&&(ft.applyToRemoteDocument(yt,ct),yt.isValidDocument()&&(yt.setReadTime(ct.commitVersion),ut.addEntry(yt)))})}),dt.next(()=>st.mutationQueue.removeMutationBatch(lt,ft))}(rt,nt,tt,at).next(()=>at.apply(nt)).next(()=>rt.mutationQueue.performConsistencyCheck(nt)).next(()=>rt.documentOverlayCache.removeOverlaysForBatchId(nt,it,tt.batch.batchId)).next(()=>rt.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(nt,function(st){let lt=__PRIVATE_documentKeySet();for(let ct=0;ct<st.mutationResults.length;++ct)st.mutationResults[ct].transformResults.length>0&&(lt=lt.add(st.batch.mutations[ct].key));return lt}(tt))).next(()=>rt.localDocuments.getDocuments(nt,it))})}function __PRIVATE_localStoreGetLastRemoteSnapshotVersion(et){const tt=__PRIVATE_debugCast(et);return tt.persistence.runTransaction("Get last remote snapshot version","readonly",rt=>tt.Ur.getLastRemoteSnapshotVersion(rt))}function __PRIVATE_localStoreApplyRemoteEventToLocalCache(et,tt){const rt=__PRIVATE_debugCast(et),nt=tt.snapshotVersion;let it=rt.os;return rt.persistence.runTransaction("Apply remote event","readwrite-primary",at=>{const ot=rt.cs.newChangeBuffer({trackRemovals:!0});it=rt.os;const st=[];tt.targetChanges.forEach((ut,ft)=>{const ht=it.get(ft);if(!ht)return;st.push(rt.Ur.removeMatchingKeys(at,ut.removedDocuments,ft).next(()=>rt.Ur.addMatchingKeys(at,ut.addedDocuments,ft)));let dt=ht.withSequenceNumber(at.currentSequenceNumber);tt.targetMismatches.get(ft)!==null?dt=dt.withResumeToken(ByteString.EMPTY_BYTE_STRING,SnapshotVersion.min()).withLastLimboFreeSnapshotVersion(SnapshotVersion.min()):ut.resumeToken.approximateByteSize()>0&&(dt=dt.withResumeToken(ut.resumeToken,nt)),it=it.insert(ft,dt),function(yt,xt,_t){return yt.resumeToken.approximateByteSize()===0||xt.snapshotVersion.toMicroseconds()-yt.snapshotVersion.toMicroseconds()>=3e8?!0:_t.addedDocuments.size+_t.modifiedDocuments.size+_t.removedDocuments.size>0}(ht,dt,ut)&&st.push(rt.Ur.updateTargetData(at,dt))});let lt=__PRIVATE_mutableDocumentMap(),ct=__PRIVATE_documentKeySet();if(tt.documentUpdates.forEach(ut=>{tt.resolvedLimboDocuments.has(ut)&&st.push(rt.persistence.referenceDelegate.updateLimboDocument(at,ut))}),st.push(__PRIVATE_populateDocumentChangeBuffer(at,ot,tt.documentUpdates).next(ut=>{lt=ut.Ps,ct=ut.Is})),!nt.isEqual(SnapshotVersion.min())){const ut=rt.Ur.getLastRemoteSnapshotVersion(at).next(ft=>rt.Ur.setTargetsMetadata(at,at.currentSequenceNumber,nt));st.push(ut)}return PersistencePromise.waitFor(st).next(()=>ot.apply(at)).next(()=>rt.localDocuments.getLocalViewOfDocuments(at,lt,ct)).next(()=>lt)}).then(at=>(rt.os=it,at))}function __PRIVATE_populateDocumentChangeBuffer(et,tt,rt){let nt=__PRIVATE_documentKeySet(),it=__PRIVATE_documentKeySet();return rt.forEach(at=>nt=nt.add(at)),tt.getEntries(et,nt).next(at=>{let ot=__PRIVATE_mutableDocumentMap();return rt.forEach((st,lt)=>{const ct=at.get(st);lt.isFoundDocument()!==ct.isFoundDocument()&&(it=it.add(st)),lt.isNoDocument()&&lt.version.isEqual(SnapshotVersion.min())?(tt.removeEntry(st,lt.readTime),ot=ot.insert(st,lt)):!ct.isValidDocument()||lt.version.compareTo(ct.version)>0||lt.version.compareTo(ct.version)===0&&ct.hasPendingWrites?(tt.addEntry(lt),ot=ot.insert(st,lt)):__PRIVATE_logDebug("LocalStore","Ignoring outdated watch update for ",st,". Current version:",ct.version," Watch version:",lt.version)}),{Ps:ot,Is:it}})}function __PRIVATE_localStoreGetNextMutationBatch(et,tt){const rt=__PRIVATE_debugCast(et);return rt.persistence.runTransaction("Get next mutation batch","readonly",nt=>(tt===void 0&&(tt=-1),rt.mutationQueue.getNextMutationBatchAfterBatchId(nt,tt)))}function __PRIVATE_localStoreAllocateTarget(et,tt){const rt=__PRIVATE_debugCast(et);return rt.persistence.runTransaction("Allocate target","readwrite",nt=>{let it;return rt.Ur.getTargetData(nt,tt).next(at=>at?(it=at,PersistencePromise.resolve(it)):rt.Ur.allocateTargetId(nt).next(ot=>(it=new TargetData(tt,ot,"TargetPurposeListen",nt.currentSequenceNumber),rt.Ur.addTargetData(nt,it).next(()=>it))))}).then(nt=>{const it=rt.os.get(nt.targetId);return(it===null||nt.snapshotVersion.compareTo(it.snapshotVersion)>0)&&(rt.os=rt.os.insert(nt.targetId,nt),rt._s.set(tt,nt.targetId)),nt})}async function __PRIVATE_localStoreReleaseTarget(et,tt,rt){const nt=__PRIVATE_debugCast(et),it=nt.os.get(tt),at=rt?"readwrite":"readwrite-primary";try{rt||await nt.persistence.runTransaction("Release target",at,ot=>nt.persistence.referenceDelegate.removeTarget(ot,it))}catch(ot){if(!__PRIVATE_isIndexedDbTransactionError(ot))throw ot;__PRIVATE_logDebug("LocalStore",`Failed to update sequence numbers for target ${tt}: ${ot}`)}nt.os=nt.os.remove(tt),nt._s.delete(it.target)}function __PRIVATE_localStoreExecuteQuery(et,tt,rt){const nt=__PRIVATE_debugCast(et);let it=SnapshotVersion.min(),at=__PRIVATE_documentKeySet();return nt.persistence.runTransaction("Execute query","readwrite",ot=>function(lt,ct,ut){const ft=__PRIVATE_debugCast(lt),ht=ft._s.get(ut);return ht!==void 0?PersistencePromise.resolve(ft.os.get(ht)):ft.Ur.getTargetData(ct,ut)}(nt,ot,__PRIVATE_queryToTarget(tt)).next(st=>{if(st)return it=st.lastLimboFreeSnapshotVersion,nt.Ur.getMatchingKeysForTargetId(ot,st.targetId).next(lt=>{at=lt})}).next(()=>nt.ss.getDocumentsMatchingQuery(ot,tt,rt?it:SnapshotVersion.min(),rt?at:__PRIVATE_documentKeySet())).next(st=>(__PRIVATE_setMaxReadTime(nt,__PRIVATE_queryCollectionGroup(tt),st),{documents:st,Ts:at})))}function __PRIVATE_setMaxReadTime(et,tt,rt){let nt=et.us.get(tt)||SnapshotVersion.min();rt.forEach((it,at)=>{at.readTime.compareTo(nt)>0&&(nt=at.readTime)}),et.us.set(tt,nt)}class __PRIVATE_LocalClientState{constructor(){this.activeTargetIds=__PRIVATE_targetIdSet()}fs(tt){this.activeTargetIds=this.activeTargetIds.add(tt)}gs(tt){this.activeTargetIds=this.activeTargetIds.delete(tt)}Vs(){const tt={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(tt)}}class __PRIVATE_MemorySharedClientState{constructor(){this.so=new __PRIVATE_LocalClientState,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(tt){}updateMutationState(tt,rt,nt){}addLocalQueryTarget(tt){return this.so.fs(tt),this.oo[tt]||"not-current"}updateQueryState(tt,rt,nt){this.oo[tt]=rt}removeLocalQueryTarget(tt){this.so.gs(tt)}isLocalQueryTarget(tt){return this.so.activeTargetIds.has(tt)}clearQueryState(tt){delete this.oo[tt]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(tt){return this.so.activeTargetIds.has(tt)}start(){return this.so=new __PRIVATE_LocalClientState,Promise.resolve()}handleUserChange(tt,rt,nt){}setOnlineState(tt){}shutdown(){}writeSequenceNumber(tt){}notifyBundleLoaded(tt){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_NoopConnectivityMonitor{_o(tt){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_BrowserConnectivityMonitor{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(tt){this.ho.push(tt)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){__PRIVATE_logDebug("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const tt of this.ho)tt(0)}lo(){__PRIVATE_logDebug("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const tt of this.ho)tt(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fe$1=null;function __PRIVATE_generateUniqueDebugId(){return fe$1===null?fe$1=function(){return 268435456+Math.round(2147483648*Math.random())}():fe$1++,"0x"+fe$1.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ge$1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_StreamBridge{constructor(tt){this.Io=tt.Io,this.To=tt.To}Eo(tt){this.Ao=tt}Ro(tt){this.Vo=tt}mo(tt){this.fo=tt}onMessage(tt){this.po=tt}close(){this.To()}send(tt){this.Io(tt)}yo(){this.Ao()}wo(){this.Vo()}So(tt){this.fo(tt)}bo(tt){this.po(tt)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pe$1="WebChannelConnection";class __PRIVATE_WebChannelConnection extends class{constructor(rt){this.databaseInfo=rt,this.databaseId=rt.databaseId;const nt=rt.ssl?"https":"http",it=encodeURIComponent(this.databaseId.projectId),at=encodeURIComponent(this.databaseId.database);this.Do=nt+"://"+rt.host,this.vo=`projects/${it}/databases/${at}`,this.Co=this.databaseId.database==="(default)"?`project_id=${it}`:`project_id=${it}&database_id=${at}`}get Fo(){return!1}Mo(rt,nt,it,at,ot){const st=__PRIVATE_generateUniqueDebugId(),lt=this.xo(rt,nt.toUriEncodedString());__PRIVATE_logDebug("RestConnection",`Sending RPC '${rt}' ${st}:`,lt,it);const ct={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(ct,at,ot),this.No(rt,lt,ct,it).then(ut=>(__PRIVATE_logDebug("RestConnection",`Received RPC '${rt}' ${st}: `,ut),ut),ut=>{throw __PRIVATE_logWarn("RestConnection",`RPC '${rt}' ${st} failed with error: `,ut,"url: ",lt,"request:",it),ut})}Lo(rt,nt,it,at,ot,st){return this.Mo(rt,nt,it,at,ot)}Oo(rt,nt,it){rt["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+b$2}(),rt["Content-Type"]="text/plain",this.databaseInfo.appId&&(rt["X-Firebase-GMPID"]=this.databaseInfo.appId),nt&&nt.headers.forEach((at,ot)=>rt[ot]=at),it&&it.headers.forEach((at,ot)=>rt[ot]=at)}xo(rt,nt){const it=ge$1[rt];return`${this.Do}/v1/${nt}:${it}`}terminate(){}}{constructor(tt){super(tt),this.forceLongPolling=tt.forceLongPolling,this.autoDetectLongPolling=tt.autoDetectLongPolling,this.useFetchStreams=tt.useFetchStreams,this.longPollingOptions=tt.longPollingOptions}No(tt,rt,nt,it){const at=__PRIVATE_generateUniqueDebugId();return new Promise((ot,st)=>{const lt=new XhrIo;lt.setWithCredentials(!0),lt.listenOnce(EventType.COMPLETE,()=>{try{switch(lt.getLastErrorCode()){case ErrorCode$1.NO_ERROR:const ut=lt.getResponseJson();__PRIVATE_logDebug(pe$1,`XHR for RPC '${tt}' ${at} received:`,JSON.stringify(ut)),ot(ut);break;case ErrorCode$1.TIMEOUT:__PRIVATE_logDebug(pe$1,`RPC '${tt}' ${at} timed out`),st(new FirestoreError(v$3.DEADLINE_EXCEEDED,"Request time out"));break;case ErrorCode$1.HTTP_ERROR:const ft=lt.getStatus();if(__PRIVATE_logDebug(pe$1,`RPC '${tt}' ${at} failed with status:`,ft,"response text:",lt.getResponseText()),ft>0){let ht=lt.getResponseJson();Array.isArray(ht)&&(ht=ht[0]);const dt=ht==null?void 0:ht.error;if(dt&&dt.status&&dt.message){const vt=function(xt){const _t=xt.toLowerCase().replace(/_/g,"-");return Object.values(v$3).indexOf(_t)>=0?_t:v$3.UNKNOWN}(dt.status);st(new FirestoreError(vt,dt.message))}else st(new FirestoreError(v$3.UNKNOWN,"Server responded with status "+lt.getStatus()))}else st(new FirestoreError(v$3.UNAVAILABLE,"Connection failed."));break;default:fail()}}finally{__PRIVATE_logDebug(pe$1,`RPC '${tt}' ${at} completed.`)}});const ct=JSON.stringify(it);__PRIVATE_logDebug(pe$1,`RPC '${tt}' ${at} sending request:`,it),lt.send(rt,"POST",ct,nt,15)})}Bo(tt,rt,nt){const it=__PRIVATE_generateUniqueDebugId(),at=[this.Do,"/","google.firestore.v1.Firestore","/",tt,"/channel"],ot=createWebChannelTransport(),st=getStatEventTarget(),lt={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},ct=this.longPollingOptions.timeoutSeconds;ct!==void 0&&(lt.longPollingTimeout=Math.round(1e3*ct)),this.useFetchStreams&&(lt.xmlHttpFactory=new FetchXmlHttpFactory({})),this.Oo(lt.initMessageHeaders,rt,nt),lt.encodeInitMessageHeaders=!0;const ut=at.join("");__PRIVATE_logDebug(pe$1,`Creating RPC '${tt}' stream ${it}: ${ut}`,lt);const ft=ot.createWebChannel(ut,lt);let ht=!1,dt=!1;const vt=new __PRIVATE_StreamBridge({Io:xt=>{dt?__PRIVATE_logDebug(pe$1,`Not sending because RPC '${tt}' stream ${it} is closed:`,xt):(ht||(__PRIVATE_logDebug(pe$1,`Opening RPC '${tt}' stream ${it} transport.`),ft.open(),ht=!0),__PRIVATE_logDebug(pe$1,`RPC '${tt}' stream ${it} sending:`,xt),ft.send(xt))},To:()=>ft.close()}),yt=(xt,_t,mt)=>{xt.listen(_t,pt=>{try{mt(pt)}catch(bt){setTimeout(()=>{throw bt},0)}})};return yt(ft,WebChannel.EventType.OPEN,()=>{dt||(__PRIVATE_logDebug(pe$1,`RPC '${tt}' stream ${it} transport opened.`),vt.yo())}),yt(ft,WebChannel.EventType.CLOSE,()=>{dt||(dt=!0,__PRIVATE_logDebug(pe$1,`RPC '${tt}' stream ${it} transport closed`),vt.So())}),yt(ft,WebChannel.EventType.ERROR,xt=>{dt||(dt=!0,__PRIVATE_logWarn(pe$1,`RPC '${tt}' stream ${it} transport errored:`,xt),vt.So(new FirestoreError(v$3.UNAVAILABLE,"The operation could not be completed")))}),yt(ft,WebChannel.EventType.MESSAGE,xt=>{var _t;if(!dt){const mt=xt.data[0];__PRIVATE_hardAssert(!!mt);const pt=mt,bt=pt.error||((_t=pt[0])===null||_t===void 0?void 0:_t.error);if(bt){__PRIVATE_logDebug(pe$1,`RPC '${tt}' stream ${it} received error:`,bt);const Et=bt.status;let St=function(Rt){const It=he$1[Rt];if(It!==void 0)return __PRIVATE_mapCodeFromRpcCode(It)}(Et),Tt=bt.message;St===void 0&&(St=v$3.INTERNAL,Tt="Unknown error status: "+Et+" with message "+bt.message),dt=!0,vt.So(new FirestoreError(St,Tt)),ft.close()}else __PRIVATE_logDebug(pe$1,`RPC '${tt}' stream ${it} received:`,mt),vt.bo(mt)}}),yt(st,Event.STAT_EVENT,xt=>{xt.stat===Stat.PROXY?__PRIVATE_logDebug(pe$1,`RPC '${tt}' stream ${it} detected buffering proxy`):xt.stat===Stat.NOPROXY&&__PRIVATE_logDebug(pe$1,`RPC '${tt}' stream ${it} detected no buffering proxy`)}),setTimeout(()=>{vt.wo()},0),vt}}function getDocument(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_newSerializer(et){return new JsonProtoSerializer(et,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ExponentialBackoff{constructor(tt,rt,nt=1e3,it=1.5,at=6e4){this.ui=tt,this.timerId=rt,this.ko=nt,this.qo=it,this.Qo=at,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(tt){this.cancel();const rt=Math.floor(this.Ko+this.zo()),nt=Math.max(0,Date.now()-this.Uo),it=Math.max(0,rt-nt);it>0&&__PRIVATE_logDebug("ExponentialBackoff",`Backing off for ${it} ms (base delay: ${this.Ko} ms, delay with jitter: ${rt} ms, last attempt: ${nt} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,it,()=>(this.Uo=Date.now(),tt())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_PersistentStream{constructor(tt,rt,nt,it,at,ot,st,lt){this.ui=tt,this.Ho=nt,this.Jo=it,this.connection=at,this.authCredentialsProvider=ot,this.appCheckCredentialsProvider=st,this.listener=lt,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new __PRIVATE_ExponentialBackoff(tt,rt)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(tt){this.u_(),this.stream.send(tt)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(tt,rt){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,tt!==4?this.t_.reset():rt&&rt.code===v$3.RESOURCE_EXHAUSTED?(__PRIVATE_logError(rt.toString()),__PRIVATE_logError("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):rt&&rt.code===v$3.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=tt,await this.listener.mo(rt)}l_(){}auth(){this.state=1;const tt=this.h_(this.Yo),rt=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([nt,it])=>{this.Yo===rt&&this.P_(nt,it)},nt=>{tt(()=>{const it=new FirestoreError(v$3.UNKNOWN,"Fetching auth token failed: "+nt.message);return this.I_(it)})})}P_(tt,rt){const nt=this.h_(this.Yo);this.stream=this.T_(tt,rt),this.stream.Eo(()=>{nt(()=>this.listener.Eo())}),this.stream.Ro(()=>{nt(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(it=>{nt(()=>this.I_(it))}),this.stream.onMessage(it=>{nt(()=>++this.e_==1?this.E_(it):this.onNext(it))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(tt){return __PRIVATE_logDebug("PersistentStream",`close with error: ${tt}`),this.stream=null,this.close(4,tt)}h_(tt){return rt=>{this.ui.enqueueAndForget(()=>this.Yo===tt?rt():(__PRIVATE_logDebug("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class __PRIVATE_PersistentListenStream extends __PRIVATE_PersistentStream{constructor(tt,rt,nt,it,at,ot){super(tt,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",rt,nt,it,ot),this.serializer=at}T_(tt,rt){return this.connection.Bo("Listen",tt,rt)}E_(tt){return this.onNext(tt)}onNext(tt){this.t_.reset();const rt=__PRIVATE_fromWatchChange(this.serializer,tt),nt=function(at){if(!("targetChange"in at))return SnapshotVersion.min();const ot=at.targetChange;return ot.targetIds&&ot.targetIds.length?SnapshotVersion.min():ot.readTime?__PRIVATE_fromVersion(ot.readTime):SnapshotVersion.min()}(tt);return this.listener.d_(rt,nt)}A_(tt){const rt={};rt.database=__PRIVATE_getEncodedDatabaseId(this.serializer),rt.addTarget=function(at,ot){let st;const lt=ot.target;if(st=__PRIVATE_targetIsDocumentTarget(lt)?{documents:__PRIVATE_toDocumentsTarget(at,lt)}:{query:__PRIVATE_toQueryTarget(at,lt)._t},st.targetId=ot.targetId,ot.resumeToken.approximateByteSize()>0){st.resumeToken=__PRIVATE_toBytes(at,ot.resumeToken);const ct=__PRIVATE_toInt32Proto(at,ot.expectedCount);ct!==null&&(st.expectedCount=ct)}else if(ot.snapshotVersion.compareTo(SnapshotVersion.min())>0){st.readTime=toTimestamp(at,ot.snapshotVersion.toTimestamp());const ct=__PRIVATE_toInt32Proto(at,ot.expectedCount);ct!==null&&(st.expectedCount=ct)}return st}(this.serializer,tt);const nt=__PRIVATE_toListenRequestLabels(this.serializer,tt);nt&&(rt.labels=nt),this.a_(rt)}R_(tt){const rt={};rt.database=__PRIVATE_getEncodedDatabaseId(this.serializer),rt.removeTarget=tt,this.a_(rt)}}class __PRIVATE_PersistentWriteStream extends __PRIVATE_PersistentStream{constructor(tt,rt,nt,it,at,ot){super(tt,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",rt,nt,it,ot),this.serializer=at}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(tt,rt){return this.connection.Bo("Write",tt,rt)}E_(tt){return __PRIVATE_hardAssert(!!tt.streamToken),this.lastStreamToken=tt.streamToken,__PRIVATE_hardAssert(!tt.writeResults||tt.writeResults.length===0),this.listener.f_()}onNext(tt){__PRIVATE_hardAssert(!!tt.streamToken),this.lastStreamToken=tt.streamToken,this.t_.reset();const rt=__PRIVATE_fromWriteResults(tt.writeResults,tt.commitTime),nt=__PRIVATE_fromVersion(tt.commitTime);return this.listener.g_(nt,rt)}p_(){const tt={};tt.database=__PRIVATE_getEncodedDatabaseId(this.serializer),this.a_(tt)}m_(tt){const rt={streamToken:this.lastStreamToken,writes:tt.map(nt=>toMutation(this.serializer,nt))};this.a_(rt)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DatastoreImpl extends class{}{constructor(tt,rt,nt,it){super(),this.authCredentials=tt,this.appCheckCredentials=rt,this.connection=nt,this.serializer=it,this.y_=!1}w_(){if(this.y_)throw new FirestoreError(v$3.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(tt,rt,nt,it){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([at,ot])=>this.connection.Mo(tt,__PRIVATE_toResourcePath(rt,nt),it,at,ot)).catch(at=>{throw at.name==="FirebaseError"?(at.code===v$3.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),at):new FirestoreError(v$3.UNKNOWN,at.toString())})}Lo(tt,rt,nt,it,at){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([ot,st])=>this.connection.Lo(tt,__PRIVATE_toResourcePath(rt,nt),it,ot,st,at)).catch(ot=>{throw ot.name==="FirebaseError"?(ot.code===v$3.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),ot):new FirestoreError(v$3.UNKNOWN,ot.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class __PRIVATE_OnlineStateTracker{constructor(tt,rt){this.asyncQueue=tt,this.onlineStateHandler=rt,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(tt){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${tt.toString()}`),this.C_("Offline")))}set(tt){this.x_(),this.S_=0,tt==="Online"&&(this.D_=!1),this.C_(tt)}C_(tt){tt!==this.state&&(this.state=tt,this.onlineStateHandler(tt))}F_(tt){const rt=`Could not reach Cloud Firestore backend. ${tt}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(__PRIVATE_logError(rt),this.D_=!1):__PRIVATE_logDebug("OnlineStateTracker",rt)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_RemoteStoreImpl{constructor(tt,rt,nt,it,at){this.localStore=tt,this.datastore=rt,this.asyncQueue=nt,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=at,this.k_._o(ot=>{nt.enqueueAndForget(async()=>{__PRIVATE_canUseNetwork(this)&&(__PRIVATE_logDebug("RemoteStore","Restarting streams for network reachability change."),await async function(lt){const ct=__PRIVATE_debugCast(lt);ct.L_.add(4),await __PRIVATE_disableNetworkInternal(ct),ct.q_.set("Unknown"),ct.L_.delete(4),await __PRIVATE_enableNetworkInternal(ct)}(this))})}),this.q_=new __PRIVATE_OnlineStateTracker(nt,it)}}async function __PRIVATE_enableNetworkInternal(et){if(__PRIVATE_canUseNetwork(et))for(const tt of et.B_)await tt(!0)}async function __PRIVATE_disableNetworkInternal(et){for(const tt of et.B_)await tt(!1)}function __PRIVATE_remoteStoreListen(et,tt){const rt=__PRIVATE_debugCast(et);rt.N_.has(tt.targetId)||(rt.N_.set(tt.targetId,tt),__PRIVATE_shouldStartWatchStream(rt)?__PRIVATE_startWatchStream(rt):__PRIVATE_ensureWatchStream(rt).r_()&&__PRIVATE_sendWatchRequest(rt,tt))}function __PRIVATE_remoteStoreUnlisten(et,tt){const rt=__PRIVATE_debugCast(et),nt=__PRIVATE_ensureWatchStream(rt);rt.N_.delete(tt),nt.r_()&&__PRIVATE_sendUnwatchRequest(rt,tt),rt.N_.size===0&&(nt.r_()?nt.o_():__PRIVATE_canUseNetwork(rt)&&rt.q_.set("Unknown"))}function __PRIVATE_sendWatchRequest(et,tt){if(et.Q_.xe(tt.targetId),tt.resumeToken.approximateByteSize()>0||tt.snapshotVersion.compareTo(SnapshotVersion.min())>0){const rt=et.remoteSyncer.getRemoteKeysForTarget(tt.targetId).size;tt=tt.withExpectedCount(rt)}__PRIVATE_ensureWatchStream(et).A_(tt)}function __PRIVATE_sendUnwatchRequest(et,tt){et.Q_.xe(tt),__PRIVATE_ensureWatchStream(et).R_(tt)}function __PRIVATE_startWatchStream(et){et.Q_=new __PRIVATE_WatchChangeAggregator({getRemoteKeysForTarget:tt=>et.remoteSyncer.getRemoteKeysForTarget(tt),ot:tt=>et.N_.get(tt)||null,tt:()=>et.datastore.serializer.databaseId}),__PRIVATE_ensureWatchStream(et).start(),et.q_.v_()}function __PRIVATE_shouldStartWatchStream(et){return __PRIVATE_canUseNetwork(et)&&!__PRIVATE_ensureWatchStream(et).n_()&&et.N_.size>0}function __PRIVATE_canUseNetwork(et){return __PRIVATE_debugCast(et).L_.size===0}function __PRIVATE_cleanUpWatchStreamState(et){et.Q_=void 0}async function __PRIVATE_onWatchStreamConnected(et){et.q_.set("Online")}async function __PRIVATE_onWatchStreamOpen(et){et.N_.forEach((tt,rt)=>{__PRIVATE_sendWatchRequest(et,tt)})}async function __PRIVATE_onWatchStreamClose(et,tt){__PRIVATE_cleanUpWatchStreamState(et),__PRIVATE_shouldStartWatchStream(et)?(et.q_.M_(tt),__PRIVATE_startWatchStream(et)):et.q_.set("Unknown")}async function __PRIVATE_onWatchStreamChange(et,tt,rt){if(et.q_.set("Online"),tt instanceof __PRIVATE_WatchTargetChange&&tt.state===2&&tt.cause)try{await async function(it,at){const ot=at.cause;for(const st of at.targetIds)it.N_.has(st)&&(await it.remoteSyncer.rejectListen(st,ot),it.N_.delete(st),it.Q_.removeTarget(st))}(et,tt)}catch(nt){__PRIVATE_logDebug("RemoteStore","Failed to remove targets %s: %s ",tt.targetIds.join(","),nt),await __PRIVATE_disableNetworkUntilRecovery(et,nt)}else if(tt instanceof __PRIVATE_DocumentWatchChange?et.Q_.Ke(tt):tt instanceof __PRIVATE_ExistenceFilterChange?et.Q_.He(tt):et.Q_.We(tt),!rt.isEqual(SnapshotVersion.min()))try{const nt=await __PRIVATE_localStoreGetLastRemoteSnapshotVersion(et.localStore);rt.compareTo(nt)>=0&&await function(at,ot){const st=at.Q_.rt(ot);return st.targetChanges.forEach((lt,ct)=>{if(lt.resumeToken.approximateByteSize()>0){const ut=at.N_.get(ct);ut&&at.N_.set(ct,ut.withResumeToken(lt.resumeToken,ot))}}),st.targetMismatches.forEach((lt,ct)=>{const ut=at.N_.get(lt);if(!ut)return;at.N_.set(lt,ut.withResumeToken(ByteString.EMPTY_BYTE_STRING,ut.snapshotVersion)),__PRIVATE_sendUnwatchRequest(at,lt);const ft=new TargetData(ut.target,lt,ct,ut.sequenceNumber);__PRIVATE_sendWatchRequest(at,ft)}),at.remoteSyncer.applyRemoteEvent(st)}(et,rt)}catch(nt){__PRIVATE_logDebug("RemoteStore","Failed to raise snapshot:",nt),await __PRIVATE_disableNetworkUntilRecovery(et,nt)}}async function __PRIVATE_disableNetworkUntilRecovery(et,tt,rt){if(!__PRIVATE_isIndexedDbTransactionError(tt))throw tt;et.L_.add(1),await __PRIVATE_disableNetworkInternal(et),et.q_.set("Offline"),rt||(rt=()=>__PRIVATE_localStoreGetLastRemoteSnapshotVersion(et.localStore)),et.asyncQueue.enqueueRetryable(async()=>{__PRIVATE_logDebug("RemoteStore","Retrying IndexedDB access"),await rt(),et.L_.delete(1),await __PRIVATE_enableNetworkInternal(et)})}function __PRIVATE_executeWithRecovery(et,tt){return tt().catch(rt=>__PRIVATE_disableNetworkUntilRecovery(et,rt,tt))}async function __PRIVATE_fillWritePipeline(et){const tt=__PRIVATE_debugCast(et),rt=__PRIVATE_ensureWriteStream(tt);let nt=tt.O_.length>0?tt.O_[tt.O_.length-1].batchId:-1;for(;__PRIVATE_canAddToWritePipeline(tt);)try{const it=await __PRIVATE_localStoreGetNextMutationBatch(tt.localStore,nt);if(it===null){tt.O_.length===0&&rt.o_();break}nt=it.batchId,__PRIVATE_addToWritePipeline(tt,it)}catch(it){await __PRIVATE_disableNetworkUntilRecovery(tt,it)}__PRIVATE_shouldStartWriteStream(tt)&&__PRIVATE_startWriteStream(tt)}function __PRIVATE_canAddToWritePipeline(et){return __PRIVATE_canUseNetwork(et)&&et.O_.length<10}function __PRIVATE_addToWritePipeline(et,tt){et.O_.push(tt);const rt=__PRIVATE_ensureWriteStream(et);rt.r_()&&rt.V_&&rt.m_(tt.mutations)}function __PRIVATE_shouldStartWriteStream(et){return __PRIVATE_canUseNetwork(et)&&!__PRIVATE_ensureWriteStream(et).n_()&&et.O_.length>0}function __PRIVATE_startWriteStream(et){__PRIVATE_ensureWriteStream(et).start()}async function __PRIVATE_onWriteStreamOpen(et){__PRIVATE_ensureWriteStream(et).p_()}async function __PRIVATE_onWriteHandshakeComplete(et){const tt=__PRIVATE_ensureWriteStream(et);for(const rt of et.O_)tt.m_(rt.mutations)}async function __PRIVATE_onMutationResult(et,tt,rt){const nt=et.O_.shift(),it=MutationBatchResult.from(nt,tt,rt);await __PRIVATE_executeWithRecovery(et,()=>et.remoteSyncer.applySuccessfulWrite(it)),await __PRIVATE_fillWritePipeline(et)}async function __PRIVATE_onWriteStreamClose(et,tt){tt&&__PRIVATE_ensureWriteStream(et).V_&&await async function(nt,it){if(function(ot){return __PRIVATE_isPermanentError(ot)&&ot!==v$3.ABORTED}(it.code)){const at=nt.O_.shift();__PRIVATE_ensureWriteStream(nt).s_(),await __PRIVATE_executeWithRecovery(nt,()=>nt.remoteSyncer.rejectFailedWrite(at.batchId,it)),await __PRIVATE_fillWritePipeline(nt)}}(et,tt),__PRIVATE_shouldStartWriteStream(et)&&__PRIVATE_startWriteStream(et)}async function __PRIVATE_remoteStoreHandleCredentialChange(et,tt){const rt=__PRIVATE_debugCast(et);rt.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug("RemoteStore","RemoteStore received new credentials");const nt=__PRIVATE_canUseNetwork(rt);rt.L_.add(3),await __PRIVATE_disableNetworkInternal(rt),nt&&rt.q_.set("Unknown"),await rt.remoteSyncer.handleCredentialChange(tt),rt.L_.delete(3),await __PRIVATE_enableNetworkInternal(rt)}async function __PRIVATE_remoteStoreApplyPrimaryState(et,tt){const rt=__PRIVATE_debugCast(et);tt?(rt.L_.delete(2),await __PRIVATE_enableNetworkInternal(rt)):tt||(rt.L_.add(2),await __PRIVATE_disableNetworkInternal(rt),rt.q_.set("Unknown"))}function __PRIVATE_ensureWatchStream(et){return et.K_||(et.K_=function(rt,nt,it){const at=__PRIVATE_debugCast(rt);return at.w_(),new __PRIVATE_PersistentListenStream(nt,at.connection,at.authCredentials,at.appCheckCredentials,at.serializer,it)}(et.datastore,et.asyncQueue,{Eo:__PRIVATE_onWatchStreamConnected.bind(null,et),Ro:__PRIVATE_onWatchStreamOpen.bind(null,et),mo:__PRIVATE_onWatchStreamClose.bind(null,et),d_:__PRIVATE_onWatchStreamChange.bind(null,et)}),et.B_.push(async tt=>{tt?(et.K_.s_(),__PRIVATE_shouldStartWatchStream(et)?__PRIVATE_startWatchStream(et):et.q_.set("Unknown")):(await et.K_.stop(),__PRIVATE_cleanUpWatchStreamState(et))})),et.K_}function __PRIVATE_ensureWriteStream(et){return et.U_||(et.U_=function(rt,nt,it){const at=__PRIVATE_debugCast(rt);return at.w_(),new __PRIVATE_PersistentWriteStream(nt,at.connection,at.authCredentials,at.appCheckCredentials,at.serializer,it)}(et.datastore,et.asyncQueue,{Eo:()=>Promise.resolve(),Ro:__PRIVATE_onWriteStreamOpen.bind(null,et),mo:__PRIVATE_onWriteStreamClose.bind(null,et),f_:__PRIVATE_onWriteHandshakeComplete.bind(null,et),g_:__PRIVATE_onMutationResult.bind(null,et)}),et.B_.push(async tt=>{tt?(et.U_.s_(),await __PRIVATE_fillWritePipeline(et)):(await et.U_.stop(),et.O_.length>0&&(__PRIVATE_logDebug("RemoteStore",`Stopping write stream with ${et.O_.length} pending writes`),et.O_=[]))})),et.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DelayedOperation{constructor(tt,rt,nt,it,at){this.asyncQueue=tt,this.timerId=rt,this.targetTimeMs=nt,this.op=it,this.removalCallback=at,this.deferred=new __PRIVATE_Deferred,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(ot=>{})}get promise(){return this.deferred.promise}static createAndSchedule(tt,rt,nt,it,at){const ot=Date.now()+nt,st=new DelayedOperation(tt,rt,ot,it,at);return st.start(nt),st}start(tt){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),tt)}skipDelay(){return this.handleDelayElapsed()}cancel(tt){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new FirestoreError(v$3.CANCELLED,"Operation cancelled"+(tt?": "+tt:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(tt=>this.deferred.resolve(tt))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function __PRIVATE_wrapInUserErrorIfRecoverable(et,tt){if(__PRIVATE_logError("AsyncQueue",`${tt}: ${et}`),__PRIVATE_isIndexedDbTransactionError(et))return new FirestoreError(v$3.UNAVAILABLE,`${tt}: ${et}`);throw et}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentSet{constructor(tt){this.comparator=tt?(rt,nt)=>tt(rt,nt)||DocumentKey.comparator(rt.key,nt.key):(rt,nt)=>DocumentKey.comparator(rt.key,nt.key),this.keyedMap=documentMap(),this.sortedSet=new SortedMap(this.comparator)}static emptySet(tt){return new DocumentSet(tt.comparator)}has(tt){return this.keyedMap.get(tt)!=null}get(tt){return this.keyedMap.get(tt)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(tt){const rt=this.keyedMap.get(tt);return rt?this.sortedSet.indexOf(rt):-1}get size(){return this.sortedSet.size}forEach(tt){this.sortedSet.inorderTraversal((rt,nt)=>(tt(rt),!1))}add(tt){const rt=this.delete(tt.key);return rt.copy(rt.keyedMap.insert(tt.key,tt),rt.sortedSet.insert(tt,null))}delete(tt){const rt=this.get(tt);return rt?this.copy(this.keyedMap.remove(tt),this.sortedSet.remove(rt)):this}isEqual(tt){if(!(tt instanceof DocumentSet)||this.size!==tt.size)return!1;const rt=this.sortedSet.getIterator(),nt=tt.sortedSet.getIterator();for(;rt.hasNext();){const it=rt.getNext().key,at=nt.getNext().key;if(!it.isEqual(at))return!1}return!0}toString(){const tt=[];return this.forEach(rt=>{tt.push(rt.toString())}),tt.length===0?"DocumentSet ()":`DocumentSet (
  `+tt.join(`  
`)+`
)`}copy(tt,rt){const nt=new DocumentSet;return nt.comparator=this.comparator,nt.keyedMap=tt,nt.sortedSet=rt,nt}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DocumentChangeSet{constructor(){this.W_=new SortedMap(DocumentKey.comparator)}track(tt){const rt=tt.doc.key,nt=this.W_.get(rt);nt?tt.type!==0&&nt.type===3?this.W_=this.W_.insert(rt,tt):tt.type===3&&nt.type!==1?this.W_=this.W_.insert(rt,{type:nt.type,doc:tt.doc}):tt.type===2&&nt.type===2?this.W_=this.W_.insert(rt,{type:2,doc:tt.doc}):tt.type===2&&nt.type===0?this.W_=this.W_.insert(rt,{type:0,doc:tt.doc}):tt.type===1&&nt.type===0?this.W_=this.W_.remove(rt):tt.type===1&&nt.type===2?this.W_=this.W_.insert(rt,{type:1,doc:nt.doc}):tt.type===0&&nt.type===1?this.W_=this.W_.insert(rt,{type:2,doc:tt.doc}):fail():this.W_=this.W_.insert(rt,tt)}G_(){const tt=[];return this.W_.inorderTraversal((rt,nt)=>{tt.push(nt)}),tt}}class ViewSnapshot{constructor(tt,rt,nt,it,at,ot,st,lt,ct){this.query=tt,this.docs=rt,this.oldDocs=nt,this.docChanges=it,this.mutatedKeys=at,this.fromCache=ot,this.syncStateChanged=st,this.excludesMetadataChanges=lt,this.hasCachedResults=ct}static fromInitialDocuments(tt,rt,nt,it,at){const ot=[];return rt.forEach(st=>{ot.push({type:0,doc:st})}),new ViewSnapshot(tt,rt,DocumentSet.emptySet(rt),ot,nt,it,!0,!1,at)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(tt){if(!(this.fromCache===tt.fromCache&&this.hasCachedResults===tt.hasCachedResults&&this.syncStateChanged===tt.syncStateChanged&&this.mutatedKeys.isEqual(tt.mutatedKeys)&&__PRIVATE_queryEquals(this.query,tt.query)&&this.docs.isEqual(tt.docs)&&this.oldDocs.isEqual(tt.oldDocs)))return!1;const rt=this.docChanges,nt=tt.docChanges;if(rt.length!==nt.length)return!1;for(let it=0;it<rt.length;it++)if(rt[it].type!==nt[it].type||!rt[it].doc.isEqual(nt[it].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryListenersInfo{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(tt=>tt.J_())}}class __PRIVATE_EventManagerImpl{constructor(){this.queries=__PRIVATE_newQueriesObjectMap(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(rt,nt){const it=__PRIVATE_debugCast(rt),at=it.queries;it.queries=__PRIVATE_newQueriesObjectMap(),at.forEach((ot,st)=>{for(const lt of st.j_)lt.onError(nt)})})(this,new FirestoreError(v$3.ABORTED,"Firestore shutting down"))}}function __PRIVATE_newQueriesObjectMap(){return new ObjectMap(et=>__PRIVATE_canonifyQuery(et),__PRIVATE_queryEquals)}async function __PRIVATE_eventManagerListen(et,tt){const rt=__PRIVATE_debugCast(et);let nt=3;const it=tt.query;let at=rt.queries.get(it);at?!at.H_()&&tt.J_()&&(nt=2):(at=new __PRIVATE_QueryListenersInfo,nt=tt.J_()?0:1);try{switch(nt){case 0:at.z_=await rt.onListen(it,!0);break;case 1:at.z_=await rt.onListen(it,!1);break;case 2:await rt.onFirstRemoteStoreListen(it)}}catch(ot){const st=__PRIVATE_wrapInUserErrorIfRecoverable(ot,`Initialization of query '${__PRIVATE_stringifyQuery(tt.query)}' failed`);return void tt.onError(st)}rt.queries.set(it,at),at.j_.push(tt),tt.Z_(rt.onlineState),at.z_&&tt.X_(at.z_)&&__PRIVATE_raiseSnapshotsInSyncEvent(rt)}async function __PRIVATE_eventManagerUnlisten(et,tt){const rt=__PRIVATE_debugCast(et),nt=tt.query;let it=3;const at=rt.queries.get(nt);if(at){const ot=at.j_.indexOf(tt);ot>=0&&(at.j_.splice(ot,1),at.j_.length===0?it=tt.J_()?0:1:!at.H_()&&tt.J_()&&(it=2))}switch(it){case 0:return rt.queries.delete(nt),rt.onUnlisten(nt,!0);case 1:return rt.queries.delete(nt),rt.onUnlisten(nt,!1);case 2:return rt.onLastRemoteStoreUnlisten(nt);default:return}}function __PRIVATE_eventManagerOnWatchChange(et,tt){const rt=__PRIVATE_debugCast(et);let nt=!1;for(const it of tt){const at=it.query,ot=rt.queries.get(at);if(ot){for(const st of ot.j_)st.X_(it)&&(nt=!0);ot.z_=it}}nt&&__PRIVATE_raiseSnapshotsInSyncEvent(rt)}function __PRIVATE_eventManagerOnWatchError(et,tt,rt){const nt=__PRIVATE_debugCast(et),it=nt.queries.get(tt);if(it)for(const at of it.j_)at.onError(rt);nt.queries.delete(tt)}function __PRIVATE_raiseSnapshotsInSyncEvent(et){et.Y_.forEach(tt=>{tt.next()})}var ye$1,we;(we=ye$1||(ye$1={})).ea="default",we.Cache="cache";class __PRIVATE_QueryListener{constructor(tt,rt,nt){this.query=tt,this.ta=rt,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=nt||{}}X_(tt){if(!this.options.includeMetadataChanges){const nt=[];for(const it of tt.docChanges)it.type!==3&&nt.push(it);tt=new ViewSnapshot(tt.query,tt.docs,tt.oldDocs,nt,tt.mutatedKeys,tt.fromCache,tt.syncStateChanged,!0,tt.hasCachedResults)}let rt=!1;return this.na?this.ia(tt)&&(this.ta.next(tt),rt=!0):this.sa(tt,this.onlineState)&&(this.oa(tt),rt=!0),this.ra=tt,rt}onError(tt){this.ta.error(tt)}Z_(tt){this.onlineState=tt;let rt=!1;return this.ra&&!this.na&&this.sa(this.ra,tt)&&(this.oa(this.ra),rt=!0),rt}sa(tt,rt){if(!tt.fromCache||!this.J_())return!0;const nt=rt!=="Offline";return(!this.options._a||!nt)&&(!tt.docs.isEmpty()||tt.hasCachedResults||rt==="Offline")}ia(tt){if(tt.docChanges.length>0)return!0;const rt=this.ra&&this.ra.hasPendingWrites!==tt.hasPendingWrites;return!(!tt.syncStateChanged&&!rt)&&this.options.includeMetadataChanges===!0}oa(tt){tt=ViewSnapshot.fromInitialDocuments(tt.query,tt.docs,tt.mutatedKeys,tt.fromCache,tt.hasCachedResults),this.na=!0,this.ta.next(tt)}J_(){return this.options.source!==ye$1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AddedLimboDocument{constructor(tt){this.key=tt}}class __PRIVATE_RemovedLimboDocument{constructor(tt){this.key=tt}}class __PRIVATE_View{constructor(tt,rt){this.query=tt,this.Ta=rt,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=__PRIVATE_documentKeySet(),this.mutatedKeys=__PRIVATE_documentKeySet(),this.Aa=__PRIVATE_newQueryComparator(tt),this.Ra=new DocumentSet(this.Aa)}get Va(){return this.Ta}ma(tt,rt){const nt=rt?rt.fa:new __PRIVATE_DocumentChangeSet,it=rt?rt.Ra:this.Ra;let at=rt?rt.mutatedKeys:this.mutatedKeys,ot=it,st=!1;const lt=this.query.limitType==="F"&&it.size===this.query.limit?it.last():null,ct=this.query.limitType==="L"&&it.size===this.query.limit?it.first():null;if(tt.inorderTraversal((ut,ft)=>{const ht=it.get(ut),dt=__PRIVATE_queryMatches(this.query,ft)?ft:null,vt=!!ht&&this.mutatedKeys.has(ht.key),yt=!!dt&&(dt.hasLocalMutations||this.mutatedKeys.has(dt.key)&&dt.hasCommittedMutations);let xt=!1;ht&&dt?ht.data.isEqual(dt.data)?vt!==yt&&(nt.track({type:3,doc:dt}),xt=!0):this.ga(ht,dt)||(nt.track({type:2,doc:dt}),xt=!0,(lt&&this.Aa(dt,lt)>0||ct&&this.Aa(dt,ct)<0)&&(st=!0)):!ht&&dt?(nt.track({type:0,doc:dt}),xt=!0):ht&&!dt&&(nt.track({type:1,doc:ht}),xt=!0,(lt||ct)&&(st=!0)),xt&&(dt?(ot=ot.add(dt),at=yt?at.add(ut):at.delete(ut)):(ot=ot.delete(ut),at=at.delete(ut)))}),this.query.limit!==null)for(;ot.size>this.query.limit;){const ut=this.query.limitType==="F"?ot.last():ot.first();ot=ot.delete(ut.key),at=at.delete(ut.key),nt.track({type:1,doc:ut})}return{Ra:ot,fa:nt,ns:st,mutatedKeys:at}}ga(tt,rt){return tt.hasLocalMutations&&rt.hasCommittedMutations&&!rt.hasLocalMutations}applyChanges(tt,rt,nt,it){const at=this.Ra;this.Ra=tt.Ra,this.mutatedKeys=tt.mutatedKeys;const ot=tt.fa.G_();ot.sort((ut,ft)=>function(dt,vt){const yt=xt=>{switch(xt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fail()}};return yt(dt)-yt(vt)}(ut.type,ft.type)||this.Aa(ut.doc,ft.doc)),this.pa(nt),it=it!=null&&it;const st=rt&&!it?this.ya():[],lt=this.da.size===0&&this.current&&!it?1:0,ct=lt!==this.Ea;return this.Ea=lt,ot.length!==0||ct?{snapshot:new ViewSnapshot(this.query,tt.Ra,at,ot,tt.mutatedKeys,lt===0,ct,!1,!!nt&&nt.resumeToken.approximateByteSize()>0),wa:st}:{wa:st}}Z_(tt){return this.current&&tt==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new __PRIVATE_DocumentChangeSet,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(tt){return!this.Ta.has(tt)&&!!this.Ra.has(tt)&&!this.Ra.get(tt).hasLocalMutations}pa(tt){tt&&(tt.addedDocuments.forEach(rt=>this.Ta=this.Ta.add(rt)),tt.modifiedDocuments.forEach(rt=>{}),tt.removedDocuments.forEach(rt=>this.Ta=this.Ta.delete(rt)),this.current=tt.current)}ya(){if(!this.current)return[];const tt=this.da;this.da=__PRIVATE_documentKeySet(),this.Ra.forEach(nt=>{this.Sa(nt.key)&&(this.da=this.da.add(nt.key))});const rt=[];return tt.forEach(nt=>{this.da.has(nt)||rt.push(new __PRIVATE_RemovedLimboDocument(nt))}),this.da.forEach(nt=>{tt.has(nt)||rt.push(new __PRIVATE_AddedLimboDocument(nt))}),rt}ba(tt){this.Ta=tt.Ts,this.da=__PRIVATE_documentKeySet();const rt=this.ma(tt.documents);return this.applyChanges(rt,!0)}Da(){return ViewSnapshot.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class __PRIVATE_QueryView{constructor(tt,rt,nt){this.query=tt,this.targetId=rt,this.view=nt}}class LimboResolution{constructor(tt){this.key=tt,this.va=!1}}class __PRIVATE_SyncEngineImpl{constructor(tt,rt,nt,it,at,ot){this.localStore=tt,this.remoteStore=rt,this.eventManager=nt,this.sharedClientState=it,this.currentUser=at,this.maxConcurrentLimboResolutions=ot,this.Ca={},this.Fa=new ObjectMap(st=>__PRIVATE_canonifyQuery(st),__PRIVATE_queryEquals),this.Ma=new Map,this.xa=new Set,this.Oa=new SortedMap(DocumentKey.comparator),this.Na=new Map,this.La=new __PRIVATE_ReferenceSet,this.Ba={},this.ka=new Map,this.qa=__PRIVATE_TargetIdGenerator.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function __PRIVATE_syncEngineListen(et,tt,rt=!0){const nt=__PRIVATE_ensureWatchCallbacks(et);let it;const at=nt.Fa.get(tt);return at?(nt.sharedClientState.addLocalQueryTarget(at.targetId),it=at.view.Da()):it=await __PRIVATE_allocateTargetAndMaybeListen(nt,tt,rt,!0),it}async function __PRIVATE_triggerRemoteStoreListen(et,tt){const rt=__PRIVATE_ensureWatchCallbacks(et);await __PRIVATE_allocateTargetAndMaybeListen(rt,tt,!0,!1)}async function __PRIVATE_allocateTargetAndMaybeListen(et,tt,rt,nt){const it=await __PRIVATE_localStoreAllocateTarget(et.localStore,__PRIVATE_queryToTarget(tt)),at=it.targetId,ot=rt?et.sharedClientState.addLocalQueryTarget(at):"not-current";let st;return nt&&(st=await __PRIVATE_initializeViewAndComputeSnapshot(et,tt,at,ot==="current",it.resumeToken)),et.isPrimaryClient&&rt&&__PRIVATE_remoteStoreListen(et.remoteStore,it),st}async function __PRIVATE_initializeViewAndComputeSnapshot(et,tt,rt,nt,it){et.Ka=(ft,ht,dt)=>async function(yt,xt,_t,mt){let pt=xt.view.ma(_t);pt.ns&&(pt=await __PRIVATE_localStoreExecuteQuery(yt.localStore,xt.query,!1).then(({documents:Tt})=>xt.view.ma(Tt,pt)));const bt=mt&&mt.targetChanges.get(xt.targetId),Et=mt&&mt.targetMismatches.get(xt.targetId)!=null,St=xt.view.applyChanges(pt,yt.isPrimaryClient,bt,Et);return __PRIVATE_updateTrackedLimbos(yt,xt.targetId,St.wa),St.snapshot}(et,ft,ht,dt);const at=await __PRIVATE_localStoreExecuteQuery(et.localStore,tt,!0),ot=new __PRIVATE_View(tt,at.Ts),st=ot.ma(at.documents),lt=TargetChange.createSynthesizedTargetChangeForCurrentChange(rt,nt&&et.onlineState!=="Offline",it),ct=ot.applyChanges(st,et.isPrimaryClient,lt);__PRIVATE_updateTrackedLimbos(et,rt,ct.wa);const ut=new __PRIVATE_QueryView(tt,rt,ot);return et.Fa.set(tt,ut),et.Ma.has(rt)?et.Ma.get(rt).push(tt):et.Ma.set(rt,[tt]),ct.snapshot}async function __PRIVATE_syncEngineUnlisten(et,tt,rt){const nt=__PRIVATE_debugCast(et),it=nt.Fa.get(tt),at=nt.Ma.get(it.targetId);if(at.length>1)return nt.Ma.set(it.targetId,at.filter(ot=>!__PRIVATE_queryEquals(ot,tt))),void nt.Fa.delete(tt);nt.isPrimaryClient?(nt.sharedClientState.removeLocalQueryTarget(it.targetId),nt.sharedClientState.isActiveQueryTarget(it.targetId)||await __PRIVATE_localStoreReleaseTarget(nt.localStore,it.targetId,!1).then(()=>{nt.sharedClientState.clearQueryState(it.targetId),rt&&__PRIVATE_remoteStoreUnlisten(nt.remoteStore,it.targetId),__PRIVATE_removeAndCleanupTarget(nt,it.targetId)}).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)):(__PRIVATE_removeAndCleanupTarget(nt,it.targetId),await __PRIVATE_localStoreReleaseTarget(nt.localStore,it.targetId,!0))}async function __PRIVATE_triggerRemoteStoreUnlisten(et,tt){const rt=__PRIVATE_debugCast(et),nt=rt.Fa.get(tt),it=rt.Ma.get(nt.targetId);rt.isPrimaryClient&&it.length===1&&(rt.sharedClientState.removeLocalQueryTarget(nt.targetId),__PRIVATE_remoteStoreUnlisten(rt.remoteStore,nt.targetId))}async function __PRIVATE_syncEngineWrite(et,tt,rt){const nt=__PRIVATE_syncEngineEnsureWriteCallbacks(et);try{const it=await function(ot,st){const lt=__PRIVATE_debugCast(ot),ct=Timestamp.now(),ut=st.reduce((dt,vt)=>dt.add(vt.key),__PRIVATE_documentKeySet());let ft,ht;return lt.persistence.runTransaction("Locally write mutations","readwrite",dt=>{let vt=__PRIVATE_mutableDocumentMap(),yt=__PRIVATE_documentKeySet();return lt.cs.getEntries(dt,ut).next(xt=>{vt=xt,vt.forEach((_t,mt)=>{mt.isValidDocument()||(yt=yt.add(_t))})}).next(()=>lt.localDocuments.getOverlayedDocuments(dt,vt)).next(xt=>{ft=xt;const _t=[];for(const mt of st){const pt=__PRIVATE_mutationExtractBaseValue(mt,ft.get(mt.key).overlayedDocument);pt!=null&&_t.push(new __PRIVATE_PatchMutation(mt.key,pt,__PRIVATE_extractFieldMask(pt.value.mapValue),Precondition.exists(!0)))}return lt.mutationQueue.addMutationBatch(dt,ct,_t,st)}).next(xt=>{ht=xt;const _t=xt.applyToLocalDocumentSet(ft,yt);return lt.documentOverlayCache.saveOverlays(dt,xt.batchId,_t)})}).then(()=>({batchId:ht.batchId,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap(ft)}))}(nt.localStore,tt);nt.sharedClientState.addPendingMutation(it.batchId),function(ot,st,lt){let ct=ot.Ba[ot.currentUser.toKey()];ct||(ct=new SortedMap(__PRIVATE_primitiveComparator)),ct=ct.insert(st,lt),ot.Ba[ot.currentUser.toKey()]=ct}(nt,it.batchId,rt),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(nt,it.changes),await __PRIVATE_fillWritePipeline(nt.remoteStore)}catch(it){const at=__PRIVATE_wrapInUserErrorIfRecoverable(it,"Failed to persist write");rt.reject(at)}}async function __PRIVATE_syncEngineApplyRemoteEvent(et,tt){const rt=__PRIVATE_debugCast(et);try{const nt=await __PRIVATE_localStoreApplyRemoteEventToLocalCache(rt.localStore,tt);tt.targetChanges.forEach((it,at)=>{const ot=rt.Na.get(at);ot&&(__PRIVATE_hardAssert(it.addedDocuments.size+it.modifiedDocuments.size+it.removedDocuments.size<=1),it.addedDocuments.size>0?ot.va=!0:it.modifiedDocuments.size>0?__PRIVATE_hardAssert(ot.va):it.removedDocuments.size>0&&(__PRIVATE_hardAssert(ot.va),ot.va=!1))}),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(rt,nt,tt)}catch(nt){await __PRIVATE_ignoreIfPrimaryLeaseLoss(nt)}}function __PRIVATE_syncEngineApplyOnlineStateChange(et,tt,rt){const nt=__PRIVATE_debugCast(et);if(nt.isPrimaryClient&&rt===0||!nt.isPrimaryClient&&rt===1){const it=[];nt.Fa.forEach((at,ot)=>{const st=ot.view.Z_(tt);st.snapshot&&it.push(st.snapshot)}),function(ot,st){const lt=__PRIVATE_debugCast(ot);lt.onlineState=st;let ct=!1;lt.queries.forEach((ut,ft)=>{for(const ht of ft.j_)ht.Z_(st)&&(ct=!0)}),ct&&__PRIVATE_raiseSnapshotsInSyncEvent(lt)}(nt.eventManager,tt),it.length&&nt.Ca.d_(it),nt.onlineState=tt,nt.isPrimaryClient&&nt.sharedClientState.setOnlineState(tt)}}async function __PRIVATE_syncEngineRejectListen(et,tt,rt){const nt=__PRIVATE_debugCast(et);nt.sharedClientState.updateQueryState(tt,"rejected",rt);const it=nt.Na.get(tt),at=it&&it.key;if(at){let ot=new SortedMap(DocumentKey.comparator);ot=ot.insert(at,MutableDocument.newNoDocument(at,SnapshotVersion.min()));const st=__PRIVATE_documentKeySet().add(at),lt=new RemoteEvent(SnapshotVersion.min(),new Map,new SortedMap(__PRIVATE_primitiveComparator),ot,st);await __PRIVATE_syncEngineApplyRemoteEvent(nt,lt),nt.Oa=nt.Oa.remove(at),nt.Na.delete(tt),__PRIVATE_pumpEnqueuedLimboResolutions(nt)}else await __PRIVATE_localStoreReleaseTarget(nt.localStore,tt,!1).then(()=>__PRIVATE_removeAndCleanupTarget(nt,tt,rt)).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)}async function __PRIVATE_syncEngineApplySuccessfulWrite(et,tt){const rt=__PRIVATE_debugCast(et),nt=tt.batch.batchId;try{const it=await __PRIVATE_localStoreAcknowledgeBatch(rt.localStore,tt);__PRIVATE_processUserCallback(rt,nt,null),__PRIVATE_triggerPendingWritesCallbacks(rt,nt),rt.sharedClientState.updateMutationState(nt,"acknowledged"),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(rt,it)}catch(it){await __PRIVATE_ignoreIfPrimaryLeaseLoss(it)}}async function __PRIVATE_syncEngineRejectFailedWrite(et,tt,rt){const nt=__PRIVATE_debugCast(et);try{const it=await function(ot,st){const lt=__PRIVATE_debugCast(ot);return lt.persistence.runTransaction("Reject batch","readwrite-primary",ct=>{let ut;return lt.mutationQueue.lookupMutationBatch(ct,st).next(ft=>(__PRIVATE_hardAssert(ft!==null),ut=ft.keys(),lt.mutationQueue.removeMutationBatch(ct,ft))).next(()=>lt.mutationQueue.performConsistencyCheck(ct)).next(()=>lt.documentOverlayCache.removeOverlaysForBatchId(ct,ut,st)).next(()=>lt.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(ct,ut)).next(()=>lt.localDocuments.getDocuments(ct,ut))})}(nt.localStore,tt);__PRIVATE_processUserCallback(nt,tt,rt),__PRIVATE_triggerPendingWritesCallbacks(nt,tt),nt.sharedClientState.updateMutationState(tt,"rejected",rt),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(nt,it)}catch(it){await __PRIVATE_ignoreIfPrimaryLeaseLoss(it)}}function __PRIVATE_triggerPendingWritesCallbacks(et,tt){(et.ka.get(tt)||[]).forEach(rt=>{rt.resolve()}),et.ka.delete(tt)}function __PRIVATE_processUserCallback(et,tt,rt){const nt=__PRIVATE_debugCast(et);let it=nt.Ba[nt.currentUser.toKey()];if(it){const at=it.get(tt);at&&(rt?at.reject(rt):at.resolve(),it=it.remove(tt)),nt.Ba[nt.currentUser.toKey()]=it}}function __PRIVATE_removeAndCleanupTarget(et,tt,rt=null){et.sharedClientState.removeLocalQueryTarget(tt);for(const nt of et.Ma.get(tt))et.Fa.delete(nt),rt&&et.Ca.$a(nt,rt);et.Ma.delete(tt),et.isPrimaryClient&&et.La.gr(tt).forEach(nt=>{et.La.containsKey(nt)||__PRIVATE_removeLimboTarget(et,nt)})}function __PRIVATE_removeLimboTarget(et,tt){et.xa.delete(tt.path.canonicalString());const rt=et.Oa.get(tt);rt!==null&&(__PRIVATE_remoteStoreUnlisten(et.remoteStore,rt),et.Oa=et.Oa.remove(tt),et.Na.delete(rt),__PRIVATE_pumpEnqueuedLimboResolutions(et))}function __PRIVATE_updateTrackedLimbos(et,tt,rt){for(const nt of rt)nt instanceof __PRIVATE_AddedLimboDocument?(et.La.addReference(nt.key,tt),__PRIVATE_trackLimboChange(et,nt)):nt instanceof __PRIVATE_RemovedLimboDocument?(__PRIVATE_logDebug("SyncEngine","Document no longer in limbo: "+nt.key),et.La.removeReference(nt.key,tt),et.La.containsKey(nt.key)||__PRIVATE_removeLimboTarget(et,nt.key)):fail()}function __PRIVATE_trackLimboChange(et,tt){const rt=tt.key,nt=rt.path.canonicalString();et.Oa.get(rt)||et.xa.has(nt)||(__PRIVATE_logDebug("SyncEngine","New document in limbo: "+rt),et.xa.add(nt),__PRIVATE_pumpEnqueuedLimboResolutions(et))}function __PRIVATE_pumpEnqueuedLimboResolutions(et){for(;et.xa.size>0&&et.Oa.size<et.maxConcurrentLimboResolutions;){const tt=et.xa.values().next().value;et.xa.delete(tt);const rt=new DocumentKey(ResourcePath.fromString(tt)),nt=et.qa.next();et.Na.set(nt,new LimboResolution(rt)),et.Oa=et.Oa.insert(rt,nt),__PRIVATE_remoteStoreListen(et.remoteStore,new TargetData(__PRIVATE_queryToTarget(__PRIVATE_newQueryForPath(rt.path)),nt,"TargetPurposeLimboResolution",__PRIVATE_ListenSequence.oe))}}async function __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(et,tt,rt){const nt=__PRIVATE_debugCast(et),it=[],at=[],ot=[];nt.Fa.isEmpty()||(nt.Fa.forEach((st,lt)=>{ot.push(nt.Ka(lt,tt,rt).then(ct=>{var ut;if((ct||rt)&&nt.isPrimaryClient){const ft=ct?!ct.fromCache:(ut=rt==null?void 0:rt.targetChanges.get(lt.targetId))===null||ut===void 0?void 0:ut.current;nt.sharedClientState.updateQueryState(lt.targetId,ft?"current":"not-current")}if(ct){it.push(ct);const ft=__PRIVATE_LocalViewChanges.Wi(lt.targetId,ct);at.push(ft)}}))}),await Promise.all(ot),nt.Ca.d_(it),await async function(lt,ct){const ut=__PRIVATE_debugCast(lt);try{await ut.persistence.runTransaction("notifyLocalViewChanges","readwrite",ft=>PersistencePromise.forEach(ct,ht=>PersistencePromise.forEach(ht.$i,dt=>ut.persistence.referenceDelegate.addReference(ft,ht.targetId,dt)).next(()=>PersistencePromise.forEach(ht.Ui,dt=>ut.persistence.referenceDelegate.removeReference(ft,ht.targetId,dt)))))}catch(ft){if(!__PRIVATE_isIndexedDbTransactionError(ft))throw ft;__PRIVATE_logDebug("LocalStore","Failed to update sequence numbers: "+ft)}for(const ft of ct){const ht=ft.targetId;if(!ft.fromCache){const dt=ut.os.get(ht),vt=dt.snapshotVersion,yt=dt.withLastLimboFreeSnapshotVersion(vt);ut.os=ut.os.insert(ht,yt)}}}(nt.localStore,at))}async function __PRIVATE_syncEngineHandleCredentialChange(et,tt){const rt=__PRIVATE_debugCast(et);if(!rt.currentUser.isEqual(tt)){__PRIVATE_logDebug("SyncEngine","User change. New user:",tt.toKey());const nt=await __PRIVATE_localStoreHandleUserChange(rt.localStore,tt);rt.currentUser=tt,function(at,ot){at.ka.forEach(st=>{st.forEach(lt=>{lt.reject(new FirestoreError(v$3.CANCELLED,ot))})}),at.ka.clear()}(rt,"'waitForPendingWrites' promise is rejected due to a user change."),rt.sharedClientState.handleUserChange(tt,nt.removedBatchIds,nt.addedBatchIds),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(rt,nt.hs)}}function __PRIVATE_syncEngineGetRemoteKeysForTarget(et,tt){const rt=__PRIVATE_debugCast(et),nt=rt.Na.get(tt);if(nt&&nt.va)return __PRIVATE_documentKeySet().add(nt.key);{let it=__PRIVATE_documentKeySet();const at=rt.Ma.get(tt);if(!at)return it;for(const ot of at){const st=rt.Fa.get(ot);it=it.unionWith(st.view.Va)}return it}}function __PRIVATE_ensureWatchCallbacks(et){const tt=__PRIVATE_debugCast(et);return tt.remoteStore.remoteSyncer.applyRemoteEvent=__PRIVATE_syncEngineApplyRemoteEvent.bind(null,tt),tt.remoteStore.remoteSyncer.getRemoteKeysForTarget=__PRIVATE_syncEngineGetRemoteKeysForTarget.bind(null,tt),tt.remoteStore.remoteSyncer.rejectListen=__PRIVATE_syncEngineRejectListen.bind(null,tt),tt.Ca.d_=__PRIVATE_eventManagerOnWatchChange.bind(null,tt.eventManager),tt.Ca.$a=__PRIVATE_eventManagerOnWatchError.bind(null,tt.eventManager),tt}function __PRIVATE_syncEngineEnsureWriteCallbacks(et){const tt=__PRIVATE_debugCast(et);return tt.remoteStore.remoteSyncer.applySuccessfulWrite=__PRIVATE_syncEngineApplySuccessfulWrite.bind(null,tt),tt.remoteStore.remoteSyncer.rejectFailedWrite=__PRIVATE_syncEngineRejectFailedWrite.bind(null,tt),tt}class MemoryOfflineComponentProvider{constructor(){this.synchronizeTabs=!1}async initialize(tt){this.serializer=__PRIVATE_newSerializer(tt.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(tt),this.persistence=this.createPersistence(tt),await this.persistence.start(),this.localStore=this.createLocalStore(tt),this.gcScheduler=this.createGarbageCollectionScheduler(tt,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(tt,this.localStore)}createGarbageCollectionScheduler(tt,rt){return null}createIndexBackfillerScheduler(tt,rt){return null}createLocalStore(tt){return __PRIVATE_newLocalStore(this.persistence,new __PRIVATE_QueryEngine,tt.initialUser,this.serializer)}createPersistence(tt){return new __PRIVATE_MemoryPersistence(__PRIVATE_MemoryEagerDelegate.Zr,this.serializer)}createSharedClientState(tt){return new __PRIVATE_MemorySharedClientState}async terminate(){var tt,rt;(tt=this.gcScheduler)===null||tt===void 0||tt.stop(),(rt=this.indexBackfillerScheduler)===null||rt===void 0||rt.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class OnlineComponentProvider{async initialize(tt,rt){this.localStore||(this.localStore=tt.localStore,this.sharedClientState=tt.sharedClientState,this.datastore=this.createDatastore(rt),this.remoteStore=this.createRemoteStore(rt),this.eventManager=this.createEventManager(rt),this.syncEngine=this.createSyncEngine(rt,!tt.synchronizeTabs),this.sharedClientState.onlineStateHandler=nt=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,nt,1),this.remoteStore.remoteSyncer.handleCredentialChange=__PRIVATE_syncEngineHandleCredentialChange.bind(null,this.syncEngine),await __PRIVATE_remoteStoreApplyPrimaryState(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(tt){return function(){return new __PRIVATE_EventManagerImpl}()}createDatastore(tt){const rt=__PRIVATE_newSerializer(tt.databaseInfo.databaseId),nt=function(at){return new __PRIVATE_WebChannelConnection(at)}(tt.databaseInfo);return function(at,ot,st,lt){return new __PRIVATE_DatastoreImpl(at,ot,st,lt)}(tt.authCredentials,tt.appCheckCredentials,nt,rt)}createRemoteStore(tt){return function(nt,it,at,ot,st){return new __PRIVATE_RemoteStoreImpl(nt,it,at,ot,st)}(this.localStore,this.datastore,tt.asyncQueue,rt=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,rt,0),function(){return __PRIVATE_BrowserConnectivityMonitor.D()?new __PRIVATE_BrowserConnectivityMonitor:new __PRIVATE_NoopConnectivityMonitor}())}createSyncEngine(tt,rt){return function(it,at,ot,st,lt,ct,ut){const ft=new __PRIVATE_SyncEngineImpl(it,at,ot,st,lt,ct);return ut&&(ft.Qa=!0),ft}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,tt.initialUser,tt.maxConcurrentLimboResolutions,rt)}async terminate(){var tt,rt;await async function(it){const at=__PRIVATE_debugCast(it);__PRIVATE_logDebug("RemoteStore","RemoteStore shutting down."),at.L_.add(5),await __PRIVATE_disableNetworkInternal(at),at.k_.shutdown(),at.q_.set("Unknown")}(this.remoteStore),(tt=this.datastore)===null||tt===void 0||tt.terminate(),(rt=this.eventManager)===null||rt===void 0||rt.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AsyncObserver{constructor(tt){this.observer=tt,this.muted=!1}next(tt){this.observer.next&&this.Ga(this.observer.next,tt)}error(tt){this.observer.error?this.Ga(this.observer.error,tt):__PRIVATE_logError("Uncaught Error in snapshot listener:",tt.toString())}za(){this.muted=!0}Ga(tt,rt){this.muted||setTimeout(()=>{this.muted||tt(rt)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirestoreClient{constructor(tt,rt,nt,it){this.authCredentials=tt,this.appCheckCredentials=rt,this.asyncQueue=nt,this.databaseInfo=it,this.user=User.UNAUTHENTICATED,this.clientId=__PRIVATE_AutoId.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(nt,async at=>{__PRIVATE_logDebug("FirestoreClient","Received user=",at.uid),await this.authCredentialListener(at),this.user=at}),this.appCheckCredentials.start(nt,at=>(__PRIVATE_logDebug("FirestoreClient","Received new app check token=",at),this.appCheckCredentialListener(at,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(tt){this.authCredentialListener=tt}setAppCheckTokenChangeListener(tt){this.appCheckCredentialListener=tt}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new FirestoreError(v$3.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const tt=new __PRIVATE_Deferred;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),tt.resolve()}catch(rt){const nt=__PRIVATE_wrapInUserErrorIfRecoverable(rt,"Failed to shutdown persistence");tt.reject(nt)}}),tt.promise}}async function __PRIVATE_setOfflineComponentProvider(et,tt){et.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug("FirestoreClient","Initializing OfflineComponentProvider");const rt=et.configuration;await tt.initialize(rt);let nt=rt.initialUser;et.setCredentialChangeListener(async it=>{nt.isEqual(it)||(await __PRIVATE_localStoreHandleUserChange(tt.localStore,it),nt=it)}),tt.persistence.setDatabaseDeletedListener(()=>et.terminate()),et._offlineComponents=tt}async function __PRIVATE_setOnlineComponentProvider(et,tt){et.asyncQueue.verifyOperationInProgress();const rt=await __PRIVATE_ensureOfflineComponents(et);__PRIVATE_logDebug("FirestoreClient","Initializing OnlineComponentProvider"),await tt.initialize(rt,et.configuration),et.setCredentialChangeListener(nt=>__PRIVATE_remoteStoreHandleCredentialChange(tt.remoteStore,nt)),et.setAppCheckTokenChangeListener((nt,it)=>__PRIVATE_remoteStoreHandleCredentialChange(tt.remoteStore,it)),et._onlineComponents=tt}function __PRIVATE_canFallbackFromIndexedDbError(et){return et.name==="FirebaseError"?et.code===v$3.FAILED_PRECONDITION||et.code===v$3.UNIMPLEMENTED:!(typeof DOMException<"u"&&et instanceof DOMException)||et.code===22||et.code===20||et.code===11}async function __PRIVATE_ensureOfflineComponents(et){if(!et._offlineComponents)if(et._uninitializedComponentsProvider){__PRIVATE_logDebug("FirestoreClient","Using user provided OfflineComponentProvider");try{await __PRIVATE_setOfflineComponentProvider(et,et._uninitializedComponentsProvider._offline)}catch(tt){const rt=tt;if(!__PRIVATE_canFallbackFromIndexedDbError(rt))throw rt;__PRIVATE_logWarn("Error using user provided cache. Falling back to memory cache: "+rt),await __PRIVATE_setOfflineComponentProvider(et,new MemoryOfflineComponentProvider)}}else __PRIVATE_logDebug("FirestoreClient","Using default OfflineComponentProvider"),await __PRIVATE_setOfflineComponentProvider(et,new MemoryOfflineComponentProvider);return et._offlineComponents}async function __PRIVATE_ensureOnlineComponents(et){return et._onlineComponents||(et._uninitializedComponentsProvider?(__PRIVATE_logDebug("FirestoreClient","Using user provided OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider(et,et._uninitializedComponentsProvider._online)):(__PRIVATE_logDebug("FirestoreClient","Using default OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider(et,new OnlineComponentProvider))),et._onlineComponents}function __PRIVATE_getSyncEngine(et){return __PRIVATE_ensureOnlineComponents(et).then(tt=>tt.syncEngine)}async function __PRIVATE_getEventManager(et){const tt=await __PRIVATE_ensureOnlineComponents(et),rt=tt.eventManager;return rt.onListen=__PRIVATE_syncEngineListen.bind(null,tt.syncEngine),rt.onUnlisten=__PRIVATE_syncEngineUnlisten.bind(null,tt.syncEngine),rt.onFirstRemoteStoreListen=__PRIVATE_triggerRemoteStoreListen.bind(null,tt.syncEngine),rt.onLastRemoteStoreUnlisten=__PRIVATE_triggerRemoteStoreUnlisten.bind(null,tt.syncEngine),rt}function __PRIVATE_firestoreClientGetDocumentViaSnapshotListener(et,tt,rt={}){const nt=new __PRIVATE_Deferred;return et.asyncQueue.enqueueAndForget(async()=>function(at,ot,st,lt,ct){const ut=new __PRIVATE_AsyncObserver({next:ht=>{ot.enqueueAndForget(()=>__PRIVATE_eventManagerUnlisten(at,ft));const dt=ht.docs.has(st);!dt&&ht.fromCache?ct.reject(new FirestoreError(v$3.UNAVAILABLE,"Failed to get document because the client is offline.")):dt&&ht.fromCache&&lt&&lt.source==="server"?ct.reject(new FirestoreError(v$3.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):ct.resolve(ht)},error:ht=>ct.reject(ht)}),ft=new __PRIVATE_QueryListener(__PRIVATE_newQueryForPath(st.path),ut,{includeMetadataChanges:!0,_a:!0});return __PRIVATE_eventManagerListen(at,ft)}(await __PRIVATE_getEventManager(et),et.asyncQueue,tt,rt,nt)),nt.promise}function __PRIVATE_firestoreClientGetDocumentsViaSnapshotListener(et,tt,rt={}){const nt=new __PRIVATE_Deferred;return et.asyncQueue.enqueueAndForget(async()=>function(at,ot,st,lt,ct){const ut=new __PRIVATE_AsyncObserver({next:ht=>{ot.enqueueAndForget(()=>__PRIVATE_eventManagerUnlisten(at,ft)),ht.fromCache&&lt.source==="server"?ct.reject(new FirestoreError(v$3.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):ct.resolve(ht)},error:ht=>ct.reject(ht)}),ft=new __PRIVATE_QueryListener(st,ut,{includeMetadataChanges:!0,_a:!0});return __PRIVATE_eventManagerListen(at,ft)}(await __PRIVATE_getEventManager(et),et.asyncQueue,tt,rt,nt)),nt.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_cloneLongPollingOptions(et){const tt={};return et.timeoutSeconds!==void 0&&(tt.timeoutSeconds=et.timeoutSeconds),tt}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Se$1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_validateNonEmptyArgument(et,tt,rt){if(!rt)throw new FirestoreError(v$3.INVALID_ARGUMENT,`Function ${et}() cannot be called with an empty ${tt}.`)}function __PRIVATE_validateIsNotUsedTogether(et,tt,rt,nt){if(tt===!0&&nt===!0)throw new FirestoreError(v$3.INVALID_ARGUMENT,`${et} and ${rt} cannot be used together.`)}function __PRIVATE_validateDocumentPath(et){if(!DocumentKey.isDocumentKey(et))throw new FirestoreError(v$3.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${et} has ${et.length}.`)}function __PRIVATE_validateCollectionPath(et){if(DocumentKey.isDocumentKey(et))throw new FirestoreError(v$3.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${et} has ${et.length}.`)}function __PRIVATE_valueDescription(et){if(et===void 0)return"undefined";if(et===null)return"null";if(typeof et=="string")return et.length>20&&(et=`${et.substring(0,20)}...`),JSON.stringify(et);if(typeof et=="number"||typeof et=="boolean")return""+et;if(typeof et=="object"){if(et instanceof Array)return"an array";{const tt=function(nt){return nt.constructor?nt.constructor.name:null}(et);return tt?`a custom ${tt} object`:"an object"}}return typeof et=="function"?"a function":fail()}function __PRIVATE_cast(et,tt){if("_delegate"in et&&(et=et._delegate),!(et instanceof tt)){if(tt.name===et.constructor.name)throw new FirestoreError(v$3.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const rt=__PRIVATE_valueDescription(et);throw new FirestoreError(v$3.INVALID_ARGUMENT,`Expected type '${tt.name}', but it was: ${rt}`)}}return et}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirestoreSettingsImpl{constructor(tt){var rt,nt;if(tt.host===void 0){if(tt.ssl!==void 0)throw new FirestoreError(v$3.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=tt.host,this.ssl=(rt=tt.ssl)===null||rt===void 0||rt;if(this.credentials=tt.credentials,this.ignoreUndefinedProperties=!!tt.ignoreUndefinedProperties,this.localCache=tt.localCache,tt.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(tt.cacheSizeBytes!==-1&&tt.cacheSizeBytes<1048576)throw new FirestoreError(v$3.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=tt.cacheSizeBytes}__PRIVATE_validateIsNotUsedTogether("experimentalForceLongPolling",tt.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",tt.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!tt.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:tt.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!tt.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=__PRIVATE_cloneLongPollingOptions((nt=tt.experimentalLongPollingOptions)!==null&&nt!==void 0?nt:{}),function(at){if(at.timeoutSeconds!==void 0){if(isNaN(at.timeoutSeconds))throw new FirestoreError(v$3.INVALID_ARGUMENT,`invalid long polling timeout: ${at.timeoutSeconds} (must not be NaN)`);if(at.timeoutSeconds<5)throw new FirestoreError(v$3.INVALID_ARGUMENT,`invalid long polling timeout: ${at.timeoutSeconds} (minimum allowed value is 5)`);if(at.timeoutSeconds>30)throw new FirestoreError(v$3.INVALID_ARGUMENT,`invalid long polling timeout: ${at.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!tt.useFetchStreams}isEqual(tt){return this.host===tt.host&&this.ssl===tt.ssl&&this.credentials===tt.credentials&&this.cacheSizeBytes===tt.cacheSizeBytes&&this.experimentalForceLongPolling===tt.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===tt.experimentalAutoDetectLongPolling&&function(nt,it){return nt.timeoutSeconds===it.timeoutSeconds}(this.experimentalLongPollingOptions,tt.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===tt.ignoreUndefinedProperties&&this.useFetchStreams===tt.useFetchStreams}}class Firestore$1{constructor(tt,rt,nt,it){this._authCredentials=tt,this._appCheckCredentials=rt,this._databaseId=nt,this._app=it,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FirestoreSettingsImpl({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new FirestoreError(v$3.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(tt){if(this._settingsFrozen)throw new FirestoreError(v$3.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FirestoreSettingsImpl(tt),tt.credentials!==void 0&&(this._authCredentials=function(nt){if(!nt)return new __PRIVATE_EmptyAuthCredentialsProvider;switch(nt.type){case"firstParty":return new __PRIVATE_FirstPartyAuthCredentialsProvider(nt.sessionIndex||"0",nt.iamToken||null,nt.authTokenFactory||null);case"provider":return nt.client;default:throw new FirestoreError(v$3.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(tt.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(rt){const nt=Se$1.get(rt);nt&&(__PRIVATE_logDebug("ComponentProvider","Removing Datastore"),Se$1.delete(rt),nt.terminate())}(this),Promise.resolve()}}function connectFirestoreEmulator(et,tt,rt,nt={}){var it;const at=(et=__PRIVATE_cast(et,Firestore$1))._getSettings(),ot=`${tt}:${rt}`;if(at.host!=="firestore.googleapis.com"&&at.host!==ot&&__PRIVATE_logWarn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),et._setSettings(Object.assign(Object.assign({},at),{host:ot,ssl:!1})),nt.mockUserToken){let st,lt;if(typeof nt.mockUserToken=="string")st=nt.mockUserToken,lt=User.MOCK_USER;else{st=createMockUserToken(nt.mockUserToken,(it=et._app)===null||it===void 0?void 0:it.options.projectId);const ct=nt.mockUserToken.sub||nt.mockUserToken.user_id;if(!ct)throw new FirestoreError(v$3.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");lt=new User(ct)}et._authCredentials=new __PRIVATE_EmulatorAuthCredentialsProvider(new __PRIVATE_OAuthToken(st,lt))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Query{constructor(tt,rt,nt){this.converter=rt,this._query=nt,this.type="query",this.firestore=tt}withConverter(tt){return new Query(this.firestore,tt,this._query)}}class DocumentReference{constructor(tt,rt,nt){this.converter=rt,this._key=nt,this.type="document",this.firestore=tt}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new CollectionReference(this.firestore,this.converter,this._key.path.popLast())}withConverter(tt){return new DocumentReference(this.firestore,tt,this._key)}}class CollectionReference extends Query{constructor(tt,rt,nt){super(tt,rt,__PRIVATE_newQueryForPath(nt)),this._path=nt,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const tt=this._path.popLast();return tt.isEmpty()?null:new DocumentReference(this.firestore,null,new DocumentKey(tt))}withConverter(tt){return new CollectionReference(this.firestore,tt,this._path)}}function collection(et,tt,...rt){if(et=getModularInstance(et),__PRIVATE_validateNonEmptyArgument("collection","path",tt),et instanceof Firestore$1){const nt=ResourcePath.fromString(tt,...rt);return __PRIVATE_validateCollectionPath(nt),new CollectionReference(et,null,nt)}{if(!(et instanceof DocumentReference||et instanceof CollectionReference))throw new FirestoreError(v$3.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const nt=et._path.child(ResourcePath.fromString(tt,...rt));return __PRIVATE_validateCollectionPath(nt),new CollectionReference(et.firestore,null,nt)}}function doc(et,tt,...rt){if(et=getModularInstance(et),arguments.length===1&&(tt=__PRIVATE_AutoId.newId()),__PRIVATE_validateNonEmptyArgument("doc","path",tt),et instanceof Firestore$1){const nt=ResourcePath.fromString(tt,...rt);return __PRIVATE_validateDocumentPath(nt),new DocumentReference(et,null,new DocumentKey(nt))}{if(!(et instanceof DocumentReference||et instanceof CollectionReference))throw new FirestoreError(v$3.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const nt=et._path.child(ResourcePath.fromString(tt,...rt));return __PRIVATE_validateDocumentPath(nt),new DocumentReference(et.firestore,et instanceof CollectionReference?et.converter:null,new DocumentKey(nt))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AsyncQueueImpl{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new __PRIVATE_ExponentialBackoff(this,"async_queue_retry"),this.Eu=()=>{const rt=getDocument();rt&&__PRIVATE_logDebug("AsyncQueue","Visibility state changed to "+rt.visibilityState),this.t_.jo()};const tt=getDocument();tt&&typeof tt.addEventListener=="function"&&tt.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(tt){this.enqueue(tt)}enqueueAndForgetEvenWhileRestricted(tt){this.du(),this.Au(tt)}enterRestrictedMode(tt){if(!this.cu){this.cu=!0,this.Iu=tt||!1;const rt=getDocument();rt&&typeof rt.removeEventListener=="function"&&rt.removeEventListener("visibilitychange",this.Eu)}}enqueue(tt){if(this.du(),this.cu)return new Promise(()=>{});const rt=new __PRIVATE_Deferred;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(tt().then(rt.resolve,rt.reject),rt.promise)).then(()=>rt.promise)}enqueueRetryable(tt){this.enqueueAndForget(()=>(this.uu.push(tt),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(tt){if(!__PRIVATE_isIndexedDbTransactionError(tt))throw tt;__PRIVATE_logDebug("AsyncQueue","Operation failed with retryable error: "+tt)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(tt){const rt=this.au.then(()=>(this.Pu=!0,tt().catch(nt=>{this.hu=nt,this.Pu=!1;const it=function(ot){let st=ot.message||"";return ot.stack&&(st=ot.stack.includes(ot.message)?ot.stack:ot.message+`
`+ot.stack),st}(nt);throw __PRIVATE_logError("INTERNAL UNHANDLED ERROR: ",it),nt}).then(nt=>(this.Pu=!1,nt))));return this.au=rt,rt}enqueueAfterDelay(tt,rt,nt){this.du(),this.Tu.indexOf(tt)>-1&&(rt=0);const it=DelayedOperation.createAndSchedule(this,tt,rt,nt,at=>this.Vu(at));return this.lu.push(it),it}du(){this.hu&&fail()}verifyOperationInProgress(){}async mu(){let tt;do tt=this.au,await tt;while(tt!==this.au)}fu(tt){for(const rt of this.lu)if(rt.timerId===tt)return!0;return!1}gu(tt){return this.mu().then(()=>{this.lu.sort((rt,nt)=>rt.targetTimeMs-nt.targetTimeMs);for(const rt of this.lu)if(rt.skipDelay(),tt!=="all"&&rt.timerId===tt)break;return this.mu()})}pu(tt){this.Tu.push(tt)}Vu(tt){const rt=this.lu.indexOf(tt);this.lu.splice(rt,1)}}class Firestore extends Firestore$1{constructor(tt,rt,nt,it){super(tt,rt,nt,it),this.type="firestore",this._queue=function(){return new __PRIVATE_AsyncQueueImpl}(),this._persistenceKey=(it==null?void 0:it.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||__PRIVATE_configureFirestore(this),this._firestoreClient.terminate()}}function getFirestore(et,tt){const rt=typeof et=="object"?et:getApp(),nt=typeof et=="string"?et:"(default)",it=_getProvider(rt,"firestore").getImmediate({identifier:nt});if(!it._initialized){const at=getDefaultEmulatorHostnameAndPort("firestore");at&&connectFirestoreEmulator(it,...at)}return it}function ensureFirestoreConfigured(et){return et._firestoreClient||__PRIVATE_configureFirestore(et),et._firestoreClient.verifyNotTerminated(),et._firestoreClient}function __PRIVATE_configureFirestore(et){var tt,rt,nt;const it=et._freezeSettings(),at=function(st,lt,ct,ut){return new DatabaseInfo(st,lt,ct,ut.host,ut.ssl,ut.experimentalForceLongPolling,ut.experimentalAutoDetectLongPolling,__PRIVATE_cloneLongPollingOptions(ut.experimentalLongPollingOptions),ut.useFetchStreams)}(et._databaseId,((tt=et._app)===null||tt===void 0?void 0:tt.options.appId)||"",et._persistenceKey,it);et._firestoreClient=new FirestoreClient(et._authCredentials,et._appCheckCredentials,et._queue,at),!((rt=it.localCache)===null||rt===void 0)&&rt._offlineComponentProvider&&(!((nt=it.localCache)===null||nt===void 0)&&nt._onlineComponentProvider)&&(et._firestoreClient._uninitializedComponentsProvider={_offlineKind:it.localCache.kind,_offline:it.localCache._offlineComponentProvider,_online:it.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bytes{constructor(tt){this._byteString=tt}static fromBase64String(tt){try{return new Bytes(ByteString.fromBase64String(tt))}catch(rt){throw new FirestoreError(v$3.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+rt)}}static fromUint8Array(tt){return new Bytes(ByteString.fromUint8Array(tt))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(tt){return this._byteString.isEqual(tt._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldPath{constructor(...tt){for(let rt=0;rt<tt.length;++rt)if(tt[rt].length===0)throw new FirestoreError(v$3.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new FieldPath$1(tt)}isEqual(tt){return this._internalPath.isEqual(tt._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldValue{constructor(tt){this._methodName=tt}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GeoPoint{constructor(tt,rt){if(!isFinite(tt)||tt<-90||tt>90)throw new FirestoreError(v$3.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+tt);if(!isFinite(rt)||rt<-180||rt>180)throw new FirestoreError(v$3.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+rt);this._lat=tt,this._long=rt}get latitude(){return this._lat}get longitude(){return this._long}isEqual(tt){return this._lat===tt._lat&&this._long===tt._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(tt){return __PRIVATE_primitiveComparator(this._lat,tt._lat)||__PRIVATE_primitiveComparator(this._long,tt._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VectorValue{constructor(tt){this._values=(tt||[]).map(rt=>rt)}toArray(){return this._values.map(tt=>tt)}isEqual(tt){return function(nt,it){if(nt.length!==it.length)return!1;for(let at=0;at<nt.length;++at)if(nt[at]!==it[at])return!1;return!0}(this._values,tt._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const De=/^__.*__$/;class ParsedSetData{constructor(tt,rt,nt){this.data=tt,this.fieldMask=rt,this.fieldTransforms=nt}toMutation(tt,rt){return this.fieldMask!==null?new __PRIVATE_PatchMutation(tt,this.data,this.fieldMask,rt,this.fieldTransforms):new __PRIVATE_SetMutation(tt,this.data,rt,this.fieldTransforms)}}class ParsedUpdateData{constructor(tt,rt,nt){this.data=tt,this.fieldMask=rt,this.fieldTransforms=nt}toMutation(tt,rt){return new __PRIVATE_PatchMutation(tt,this.data,this.fieldMask,rt,this.fieldTransforms)}}function __PRIVATE_isWrite(et){switch(et){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fail()}}class __PRIVATE_ParseContextImpl{constructor(tt,rt,nt,it,at,ot){this.settings=tt,this.databaseId=rt,this.serializer=nt,this.ignoreUndefinedProperties=it,at===void 0&&this.yu(),this.fieldTransforms=at||[],this.fieldMask=ot||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(tt){return new __PRIVATE_ParseContextImpl(Object.assign(Object.assign({},this.settings),tt),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(tt){var rt;const nt=(rt=this.path)===null||rt===void 0?void 0:rt.child(tt),it=this.Su({path:nt,Du:!1});return it.vu(tt),it}Cu(tt){var rt;const nt=(rt=this.path)===null||rt===void 0?void 0:rt.child(tt),it=this.Su({path:nt,Du:!1});return it.yu(),it}Fu(tt){return this.Su({path:void 0,Du:!0})}Mu(tt){return __PRIVATE_createError(tt,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(tt){return this.fieldMask.find(rt=>tt.isPrefixOf(rt))!==void 0||this.fieldTransforms.find(rt=>tt.isPrefixOf(rt.field))!==void 0}yu(){if(this.path)for(let tt=0;tt<this.path.length;tt++)this.vu(this.path.get(tt))}vu(tt){if(tt.length===0)throw this.Mu("Document fields must not be empty");if(__PRIVATE_isWrite(this.wu)&&De.test(tt))throw this.Mu('Document fields cannot begin and end with "__"')}}class __PRIVATE_UserDataReader{constructor(tt,rt,nt){this.databaseId=tt,this.ignoreUndefinedProperties=rt,this.serializer=nt||__PRIVATE_newSerializer(tt)}Nu(tt,rt,nt,it=!1){return new __PRIVATE_ParseContextImpl({wu:tt,methodName:rt,Ou:nt,path:FieldPath$1.emptyPath(),Du:!1,xu:it},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function __PRIVATE_newUserDataReader(et){const tt=et._freezeSettings(),rt=__PRIVATE_newSerializer(et._databaseId);return new __PRIVATE_UserDataReader(et._databaseId,!!tt.ignoreUndefinedProperties,rt)}function __PRIVATE_parseSetData(et,tt,rt,nt,it,at={}){const ot=et.Nu(at.merge||at.mergeFields?2:0,tt,rt,it);__PRIVATE_validatePlainObject("Data must be an object, but it was:",ot,nt);const st=__PRIVATE_parseObject(nt,ot);let lt,ct;if(at.merge)lt=new FieldMask(ot.fieldMask),ct=ot.fieldTransforms;else if(at.mergeFields){const ut=[];for(const ft of at.mergeFields){const ht=__PRIVATE_fieldPathFromArgument$1(tt,ft,rt);if(!ot.contains(ht))throw new FirestoreError(v$3.INVALID_ARGUMENT,`Field '${ht}' is specified in your field mask but missing from your input data.`);__PRIVATE_fieldMaskContains(ut,ht)||ut.push(ht)}lt=new FieldMask(ut),ct=ot.fieldTransforms.filter(ft=>lt.covers(ft.field))}else lt=null,ct=ot.fieldTransforms;return new ParsedSetData(new ObjectValue(st),lt,ct)}class __PRIVATE_DeleteFieldValueImpl extends FieldValue{_toFieldTransform(tt){if(tt.wu!==2)throw tt.wu===1?tt.Mu(`${this._methodName}() can only appear at the top level of your update data`):tt.Mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return tt.fieldMask.push(tt.path),null}isEqual(tt){return tt instanceof __PRIVATE_DeleteFieldValueImpl}}function __PRIVATE_parseUpdateData(et,tt,rt,nt){const it=et.Nu(1,tt,rt);__PRIVATE_validatePlainObject("Data must be an object, but it was:",it,nt);const at=[],ot=ObjectValue.empty();forEach(nt,(lt,ct)=>{const ut=__PRIVATE_fieldPathFromDotSeparatedString(tt,lt,rt);ct=getModularInstance(ct);const ft=it.Cu(ut);if(ct instanceof __PRIVATE_DeleteFieldValueImpl)at.push(ut);else{const ht=__PRIVATE_parseData(ct,ft);ht!=null&&(at.push(ut),ot.set(ut,ht))}});const st=new FieldMask(at);return new ParsedUpdateData(ot,st,it.fieldTransforms)}function __PRIVATE_parseUpdateVarargs(et,tt,rt,nt,it,at){const ot=et.Nu(1,tt,rt),st=[__PRIVATE_fieldPathFromArgument$1(tt,nt,rt)],lt=[it];if(at.length%2!=0)throw new FirestoreError(v$3.INVALID_ARGUMENT,`Function ${tt}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ht=0;ht<at.length;ht+=2)st.push(__PRIVATE_fieldPathFromArgument$1(tt,at[ht])),lt.push(at[ht+1]);const ct=[],ut=ObjectValue.empty();for(let ht=st.length-1;ht>=0;--ht)if(!__PRIVATE_fieldMaskContains(ct,st[ht])){const dt=st[ht];let vt=lt[ht];vt=getModularInstance(vt);const yt=ot.Cu(dt);if(vt instanceof __PRIVATE_DeleteFieldValueImpl)ct.push(dt);else{const xt=__PRIVATE_parseData(vt,yt);xt!=null&&(ct.push(dt),ut.set(dt,xt))}}const ft=new FieldMask(ct);return new ParsedUpdateData(ut,ft,ot.fieldTransforms)}function __PRIVATE_parseQueryValue(et,tt,rt,nt=!1){return __PRIVATE_parseData(rt,et.Nu(nt?4:3,tt))}function __PRIVATE_parseData(et,tt){if(__PRIVATE_looksLikeJsonObject(et=getModularInstance(et)))return __PRIVATE_validatePlainObject("Unsupported field value:",tt,et),__PRIVATE_parseObject(et,tt);if(et instanceof FieldValue)return function(nt,it){if(!__PRIVATE_isWrite(it.wu))throw it.Mu(`${nt._methodName}() can only be used with update() and set()`);if(!it.path)throw it.Mu(`${nt._methodName}() is not currently supported inside arrays`);const at=nt._toFieldTransform(it);at&&it.fieldTransforms.push(at)}(et,tt),null;if(et===void 0&&tt.ignoreUndefinedProperties)return null;if(tt.path&&tt.fieldMask.push(tt.path),et instanceof Array){if(tt.settings.Du&&tt.wu!==4)throw tt.Mu("Nested arrays are not supported");return function(nt,it){const at=[];let ot=0;for(const st of nt){let lt=__PRIVATE_parseData(st,it.Fu(ot));lt==null&&(lt={nullValue:"NULL_VALUE"}),at.push(lt),ot++}return{arrayValue:{values:at}}}(et,tt)}return function(nt,it){if((nt=getModularInstance(nt))===null)return{nullValue:"NULL_VALUE"};if(typeof nt=="number")return toNumber$3(it.serializer,nt);if(typeof nt=="boolean")return{booleanValue:nt};if(typeof nt=="string")return{stringValue:nt};if(nt instanceof Date){const at=Timestamp.fromDate(nt);return{timestampValue:toTimestamp(it.serializer,at)}}if(nt instanceof Timestamp){const at=new Timestamp(nt.seconds,1e3*Math.floor(nt.nanoseconds/1e3));return{timestampValue:toTimestamp(it.serializer,at)}}if(nt instanceof GeoPoint)return{geoPointValue:{latitude:nt.latitude,longitude:nt.longitude}};if(nt instanceof Bytes)return{bytesValue:__PRIVATE_toBytes(it.serializer,nt._byteString)};if(nt instanceof DocumentReference){const at=it.databaseId,ot=nt.firestore._databaseId;if(!ot.isEqual(at))throw it.Mu(`Document reference is for database ${ot.projectId}/${ot.database} but should be for database ${at.projectId}/${at.database}`);return{referenceValue:__PRIVATE_toResourceName(nt.firestore._databaseId||it.databaseId,nt._key.path)}}if(nt instanceof VectorValue)return function(ot,st){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:ot.toArray().map(lt=>{if(typeof lt!="number")throw st.Mu("VectorValues must only contain numeric values.");return __PRIVATE_toDouble(st.serializer,lt)})}}}}}}(nt,it);throw it.Mu(`Unsupported field value: ${__PRIVATE_valueDescription(nt)}`)}(et,tt)}function __PRIVATE_parseObject(et,tt){const rt={};return isEmpty(et)?tt.path&&tt.path.length>0&&tt.fieldMask.push(tt.path):forEach(et,(nt,it)=>{const at=__PRIVATE_parseData(it,tt.bu(nt));at!=null&&(rt[nt]=at)}),{mapValue:{fields:rt}}}function __PRIVATE_looksLikeJsonObject(et){return!(typeof et!="object"||et===null||et instanceof Array||et instanceof Date||et instanceof Timestamp||et instanceof GeoPoint||et instanceof Bytes||et instanceof DocumentReference||et instanceof FieldValue||et instanceof VectorValue)}function __PRIVATE_validatePlainObject(et,tt,rt){if(!__PRIVATE_looksLikeJsonObject(rt)||!function(it){return typeof it=="object"&&it!==null&&(Object.getPrototypeOf(it)===Object.prototype||Object.getPrototypeOf(it)===null)}(rt)){const nt=__PRIVATE_valueDescription(rt);throw nt==="an object"?tt.Mu(et+" a custom object"):tt.Mu(et+" "+nt)}}function __PRIVATE_fieldPathFromArgument$1(et,tt,rt){if((tt=getModularInstance(tt))instanceof FieldPath)return tt._internalPath;if(typeof tt=="string")return __PRIVATE_fieldPathFromDotSeparatedString(et,tt);throw __PRIVATE_createError("Field path arguments must be of type string or ",et,!1,void 0,rt)}const ve$1=new RegExp("[~\\*/\\[\\]]");function __PRIVATE_fieldPathFromDotSeparatedString(et,tt,rt){if(tt.search(ve$1)>=0)throw __PRIVATE_createError(`Invalid field path (${tt}). Paths must not contain '~', '*', '/', '[', or ']'`,et,!1,void 0,rt);try{return new FieldPath(...tt.split("."))._internalPath}catch{throw __PRIVATE_createError(`Invalid field path (${tt}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,et,!1,void 0,rt)}}function __PRIVATE_createError(et,tt,rt,nt,it){const at=nt&&!nt.isEmpty(),ot=it!==void 0;let st=`Function ${tt}() called with invalid data`;rt&&(st+=" (via `toFirestore()`)"),st+=". ";let lt="";return(at||ot)&&(lt+=" (found",at&&(lt+=` in field ${nt}`),ot&&(lt+=` in document ${it}`),lt+=")"),new FirestoreError(v$3.INVALID_ARGUMENT,st+et+lt)}function __PRIVATE_fieldMaskContains(et,tt){return et.some(rt=>rt.isEqual(tt))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentSnapshot$1{constructor(tt,rt,nt,it,at){this._firestore=tt,this._userDataWriter=rt,this._key=nt,this._document=it,this._converter=at}get id(){return this._key.path.lastSegment()}get ref(){return new DocumentReference(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const tt=new QueryDocumentSnapshot$1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(tt)}return this._userDataWriter.convertValue(this._document.data.value)}}get(tt){if(this._document){const rt=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",tt));if(rt!==null)return this._userDataWriter.convertValue(rt)}}}class QueryDocumentSnapshot$1 extends DocumentSnapshot$1{data(){return super.data()}}function __PRIVATE_fieldPathFromArgument(et,tt){return typeof tt=="string"?__PRIVATE_fieldPathFromDotSeparatedString(et,tt):tt instanceof FieldPath?tt._internalPath:tt._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_validateHasExplicitOrderByForLimitToLast(et){if(et.limitType==="L"&&et.explicitOrderBy.length===0)throw new FirestoreError(v$3.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class AppliableConstraint{}class QueryConstraint extends AppliableConstraint{}function query(et,tt,...rt){let nt=[];tt instanceof AppliableConstraint&&nt.push(tt),nt=nt.concat(rt),function(at){const ot=at.filter(lt=>lt instanceof QueryCompositeFilterConstraint).length,st=at.filter(lt=>lt instanceof QueryFieldFilterConstraint).length;if(ot>1||ot>0&&st>0)throw new FirestoreError(v$3.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(nt);for(const it of nt)et=it._apply(et);return et}class QueryFieldFilterConstraint extends QueryConstraint{constructor(tt,rt,nt){super(),this._field=tt,this._op=rt,this._value=nt,this.type="where"}static _create(tt,rt,nt){return new QueryFieldFilterConstraint(tt,rt,nt)}_apply(tt){const rt=this._parse(tt);return __PRIVATE_validateNewFieldFilter(tt._query,rt),new Query(tt.firestore,tt.converter,__PRIVATE_queryWithAddedFilter(tt._query,rt))}_parse(tt){const rt=__PRIVATE_newUserDataReader(tt.firestore);return function(at,ot,st,lt,ct,ut,ft){let ht;if(ct.isKeyField()){if(ut==="array-contains"||ut==="array-contains-any")throw new FirestoreError(v$3.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ut}' queries on documentId().`);if(ut==="in"||ut==="not-in"){__PRIVATE_validateDisjunctiveFilterElements(ft,ut);const dt=[];for(const vt of ft)dt.push(__PRIVATE_parseDocumentIdValue(lt,at,vt));ht={arrayValue:{values:dt}}}else ht=__PRIVATE_parseDocumentIdValue(lt,at,ft)}else ut!=="in"&&ut!=="not-in"&&ut!=="array-contains-any"||__PRIVATE_validateDisjunctiveFilterElements(ft,ut),ht=__PRIVATE_parseQueryValue(st,ot,ft,ut==="in"||ut==="not-in");return FieldFilter.create(ct,ut,ht)}(tt._query,"where",rt,tt.firestore._databaseId,this._field,this._op,this._value)}}function where(et,tt,rt){const nt=tt,it=__PRIVATE_fieldPathFromArgument("where",et);return QueryFieldFilterConstraint._create(it,nt,rt)}class QueryCompositeFilterConstraint extends AppliableConstraint{constructor(tt,rt){super(),this.type=tt,this._queryConstraints=rt}static _create(tt,rt){return new QueryCompositeFilterConstraint(tt,rt)}_parse(tt){const rt=this._queryConstraints.map(nt=>nt._parse(tt)).filter(nt=>nt.getFilters().length>0);return rt.length===1?rt[0]:CompositeFilter.create(rt,this._getOperator())}_apply(tt){const rt=this._parse(tt);return rt.getFilters().length===0?tt:(function(it,at){let ot=it;const st=at.getFlattenedFilters();for(const lt of st)__PRIVATE_validateNewFieldFilter(ot,lt),ot=__PRIVATE_queryWithAddedFilter(ot,lt)}(tt._query,rt),new Query(tt.firestore,tt.converter,__PRIVATE_queryWithAddedFilter(tt._query,rt)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class QueryOrderByConstraint extends QueryConstraint{constructor(tt,rt){super(),this._field=tt,this._direction=rt,this.type="orderBy"}static _create(tt,rt){return new QueryOrderByConstraint(tt,rt)}_apply(tt){const rt=function(it,at,ot){if(it.startAt!==null)throw new FirestoreError(v$3.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(it.endAt!==null)throw new FirestoreError(v$3.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new OrderBy(at,ot)}(tt._query,this._field,this._direction);return new Query(tt.firestore,tt.converter,function(it,at){const ot=it.explicitOrderBy.concat([at]);return new __PRIVATE_QueryImpl(it.path,it.collectionGroup,ot,it.filters.slice(),it.limit,it.limitType,it.startAt,it.endAt)}(tt._query,rt))}}function orderBy(et,tt="asc"){const rt=tt,nt=__PRIVATE_fieldPathFromArgument("orderBy",et);return QueryOrderByConstraint._create(nt,rt)}function __PRIVATE_parseDocumentIdValue(et,tt,rt){if(typeof(rt=getModularInstance(rt))=="string"){if(rt==="")throw new FirestoreError(v$3.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!__PRIVATE_isCollectionGroupQuery(tt)&&rt.indexOf("/")!==-1)throw new FirestoreError(v$3.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${rt}' contains a '/' character.`);const nt=tt.path.child(ResourcePath.fromString(rt));if(!DocumentKey.isDocumentKey(nt))throw new FirestoreError(v$3.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${nt}' is not because it has an odd number of segments (${nt.length}).`);return __PRIVATE_refValue(et,new DocumentKey(nt))}if(rt instanceof DocumentReference)return __PRIVATE_refValue(et,rt._key);throw new FirestoreError(v$3.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${__PRIVATE_valueDescription(rt)}.`)}function __PRIVATE_validateDisjunctiveFilterElements(et,tt){if(!Array.isArray(et)||et.length===0)throw new FirestoreError(v$3.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${tt.toString()}' filters.`)}function __PRIVATE_validateNewFieldFilter(et,tt){const rt=function(it,at){for(const ot of it)for(const st of ot.getFlattenedFilters())if(at.indexOf(st.op)>=0)return st.op;return null}(et.filters,function(it){switch(it){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(tt.op));if(rt!==null)throw rt===tt.op?new FirestoreError(v$3.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${tt.op.toString()}' filter.`):new FirestoreError(v$3.INVALID_ARGUMENT,`Invalid query. You cannot use '${tt.op.toString()}' filters with '${rt.toString()}' filters.`)}class AbstractUserDataWriter{convertValue(tt,rt="none"){switch(__PRIVATE_typeOrder(tt)){case 0:return null;case 1:return tt.booleanValue;case 2:return __PRIVATE_normalizeNumber(tt.integerValue||tt.doubleValue);case 3:return this.convertTimestamp(tt.timestampValue);case 4:return this.convertServerTimestamp(tt,rt);case 5:return tt.stringValue;case 6:return this.convertBytes(__PRIVATE_normalizeByteString(tt.bytesValue));case 7:return this.convertReference(tt.referenceValue);case 8:return this.convertGeoPoint(tt.geoPointValue);case 9:return this.convertArray(tt.arrayValue,rt);case 11:return this.convertObject(tt.mapValue,rt);case 10:return this.convertVectorValue(tt.mapValue);default:throw fail()}}convertObject(tt,rt){return this.convertObjectMap(tt.fields,rt)}convertObjectMap(tt,rt="none"){const nt={};return forEach(tt,(it,at)=>{nt[it]=this.convertValue(at,rt)}),nt}convertVectorValue(tt){var rt,nt,it;const at=(it=(nt=(rt=tt.fields)===null||rt===void 0?void 0:rt.value.arrayValue)===null||nt===void 0?void 0:nt.values)===null||it===void 0?void 0:it.map(ot=>__PRIVATE_normalizeNumber(ot.doubleValue));return new VectorValue(at)}convertGeoPoint(tt){return new GeoPoint(__PRIVATE_normalizeNumber(tt.latitude),__PRIVATE_normalizeNumber(tt.longitude))}convertArray(tt,rt){return(tt.values||[]).map(nt=>this.convertValue(nt,rt))}convertServerTimestamp(tt,rt){switch(rt){case"previous":const nt=__PRIVATE_getPreviousValue(tt);return nt==null?null:this.convertValue(nt,rt);case"estimate":return this.convertTimestamp(__PRIVATE_getLocalWriteTime(tt));default:return null}}convertTimestamp(tt){const rt=__PRIVATE_normalizeTimestamp(tt);return new Timestamp(rt.seconds,rt.nanos)}convertDocumentKey(tt,rt){const nt=ResourcePath.fromString(tt);__PRIVATE_hardAssert(__PRIVATE_isValidResourceName(nt));const it=new DatabaseId(nt.get(1),nt.get(3)),at=new DocumentKey(nt.popFirst(5));return it.isEqual(rt)||__PRIVATE_logError(`Document ${at} contains a document reference within a different database (${it.projectId}/${it.database}) which is not supported. It will be treated as a reference in the current database (${rt.projectId}/${rt.database}) instead.`),at}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_applyFirestoreDataConverter(et,tt,rt){let nt;return nt=et?rt&&(rt.merge||rt.mergeFields)?et.toFirestore(tt,rt):et.toFirestore(tt):tt,nt}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SnapshotMetadata{constructor(tt,rt){this.hasPendingWrites=tt,this.fromCache=rt}isEqual(tt){return this.hasPendingWrites===tt.hasPendingWrites&&this.fromCache===tt.fromCache}}class DocumentSnapshot extends DocumentSnapshot$1{constructor(tt,rt,nt,it,at,ot){super(tt,rt,nt,it,ot),this._firestore=tt,this._firestoreImpl=tt,this.metadata=at}exists(){return super.exists()}data(tt={}){if(this._document){if(this._converter){const rt=new QueryDocumentSnapshot(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(rt,tt)}return this._userDataWriter.convertValue(this._document.data.value,tt.serverTimestamps)}}get(tt,rt={}){if(this._document){const nt=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",tt));if(nt!==null)return this._userDataWriter.convertValue(nt,rt.serverTimestamps)}}}class QueryDocumentSnapshot extends DocumentSnapshot{data(tt={}){return super.data(tt)}}class QuerySnapshot{constructor(tt,rt,nt,it){this._firestore=tt,this._userDataWriter=rt,this._snapshot=it,this.metadata=new SnapshotMetadata(it.hasPendingWrites,it.fromCache),this.query=nt}get docs(){const tt=[];return this.forEach(rt=>tt.push(rt)),tt}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(tt,rt){this._snapshot.docs.forEach(nt=>{tt.call(rt,new QueryDocumentSnapshot(this._firestore,this._userDataWriter,nt.key,nt,new SnapshotMetadata(this._snapshot.mutatedKeys.has(nt.key),this._snapshot.fromCache),this.query.converter))})}docChanges(tt={}){const rt=!!tt.includeMetadataChanges;if(rt&&this._snapshot.excludesMetadataChanges)throw new FirestoreError(v$3.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===rt||(this._cachedChanges=function(it,at){if(it._snapshot.oldDocs.isEmpty()){let ot=0;return it._snapshot.docChanges.map(st=>{const lt=new QueryDocumentSnapshot(it._firestore,it._userDataWriter,st.doc.key,st.doc,new SnapshotMetadata(it._snapshot.mutatedKeys.has(st.doc.key),it._snapshot.fromCache),it.query.converter);return st.doc,{type:"added",doc:lt,oldIndex:-1,newIndex:ot++}})}{let ot=it._snapshot.oldDocs;return it._snapshot.docChanges.filter(st=>at||st.type!==3).map(st=>{const lt=new QueryDocumentSnapshot(it._firestore,it._userDataWriter,st.doc.key,st.doc,new SnapshotMetadata(it._snapshot.mutatedKeys.has(st.doc.key),it._snapshot.fromCache),it.query.converter);let ct=-1,ut=-1;return st.type!==0&&(ct=ot.indexOf(st.doc.key),ot=ot.delete(st.doc.key)),st.type!==1&&(ot=ot.add(st.doc),ut=ot.indexOf(st.doc.key)),{type:__PRIVATE_resultChangeType(st.type),doc:lt,oldIndex:ct,newIndex:ut}})}}(this,rt),this._cachedChangesIncludeMetadataChanges=rt),this._cachedChanges}}function __PRIVATE_resultChangeType(et){switch(et){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fail()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getDoc(et){et=__PRIVATE_cast(et,DocumentReference);const tt=__PRIVATE_cast(et.firestore,Firestore);return __PRIVATE_firestoreClientGetDocumentViaSnapshotListener(ensureFirestoreConfigured(tt),et._key).then(rt=>__PRIVATE_convertToDocSnapshot(tt,et,rt))}class __PRIVATE_ExpUserDataWriter extends AbstractUserDataWriter{constructor(tt){super(),this.firestore=tt}convertBytes(tt){return new Bytes(tt)}convertReference(tt){const rt=this.convertDocumentKey(tt,this.firestore._databaseId);return new DocumentReference(this.firestore,null,rt)}}function getDocs(et){et=__PRIVATE_cast(et,Query);const tt=__PRIVATE_cast(et.firestore,Firestore),rt=ensureFirestoreConfigured(tt),nt=new __PRIVATE_ExpUserDataWriter(tt);return __PRIVATE_validateHasExplicitOrderByForLimitToLast(et._query),__PRIVATE_firestoreClientGetDocumentsViaSnapshotListener(rt,et._query).then(it=>new QuerySnapshot(tt,nt,et,it))}function setDoc(et,tt,rt){et=__PRIVATE_cast(et,DocumentReference);const nt=__PRIVATE_cast(et.firestore,Firestore),it=__PRIVATE_applyFirestoreDataConverter(et.converter,tt,rt);return executeWrite(nt,[__PRIVATE_parseSetData(__PRIVATE_newUserDataReader(nt),"setDoc",et._key,it,et.converter!==null,rt).toMutation(et._key,Precondition.none())])}function updateDoc(et,tt,rt,...nt){et=__PRIVATE_cast(et,DocumentReference);const it=__PRIVATE_cast(et.firestore,Firestore),at=__PRIVATE_newUserDataReader(it);let ot;return ot=typeof(tt=getModularInstance(tt))=="string"||tt instanceof FieldPath?__PRIVATE_parseUpdateVarargs(at,"updateDoc",et._key,tt,rt,nt):__PRIVATE_parseUpdateData(at,"updateDoc",et._key,tt),executeWrite(it,[ot.toMutation(et._key,Precondition.exists(!0))])}function deleteDoc(et){return executeWrite(__PRIVATE_cast(et.firestore,Firestore),[new __PRIVATE_DeleteMutation(et._key,Precondition.none())])}function addDoc(et,tt){const rt=__PRIVATE_cast(et.firestore,Firestore),nt=doc(et),it=__PRIVATE_applyFirestoreDataConverter(et.converter,tt);return executeWrite(rt,[__PRIVATE_parseSetData(__PRIVATE_newUserDataReader(et.firestore),"addDoc",nt._key,it,et.converter!==null,{}).toMutation(nt._key,Precondition.exists(!1))]).then(()=>nt)}function executeWrite(et,tt){return function(nt,it){const at=new __PRIVATE_Deferred;return nt.asyncQueue.enqueueAndForget(async()=>__PRIVATE_syncEngineWrite(await __PRIVATE_getSyncEngine(nt),it,at)),at.promise}(ensureFirestoreConfigured(et),tt)}function __PRIVATE_convertToDocSnapshot(et,tt,rt){const nt=rt.docs.get(tt._key),it=new __PRIVATE_ExpUserDataWriter(et);return new DocumentSnapshot(et,it,tt._key,nt,new SnapshotMetadata(rt.hasPendingWrites,rt.fromCache),tt.converter)}(function(tt,rt=!0){(function(it){b$2=it})(SDK_VERSION),_registerComponent(new Component("firestore",(nt,{instanceIdentifier:it,options:at})=>{const ot=nt.getProvider("app").getImmediate(),st=new Firestore(new __PRIVATE_FirebaseAuthCredentialsProvider(nt.getProvider("auth-internal")),new __PRIVATE_FirebaseAppCheckTokenProvider(nt.getProvider("app-check-internal")),function(ct,ut){if(!Object.prototype.hasOwnProperty.apply(ct.options,["projectId"]))throw new FirestoreError(v$3.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new DatabaseId(ct.options.projectId,ut)}(ot,it),ot);return at=Object.assign({useFetchStreams:rt},at),st._setSettings(at),st},"PUBLIC").setMultipleInstances(!0)),registerVersion(S$1,"4.7.1",tt),registerVersion(S$1,"4.7.1","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_HOST="firebasestorage.googleapis.com",CONFIG_STORAGE_BUCKET_KEY="storageBucket",DEFAULT_MAX_OPERATION_RETRY_TIME=2*60*1e3,DEFAULT_MAX_UPLOAD_RETRY_TIME=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StorageError extends FirebaseError{constructor(tt,rt,nt=0){super(prependCode(tt),`Firebase Storage: ${rt} (${prependCode(tt)})`),this.status_=nt,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,StorageError.prototype)}get status(){return this.status_}set status(tt){this.status_=tt}_codeEquals(tt){return prependCode(tt)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(tt){this.customData.serverResponse=tt,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var StorageErrorCode;(function(et){et.UNKNOWN="unknown",et.OBJECT_NOT_FOUND="object-not-found",et.BUCKET_NOT_FOUND="bucket-not-found",et.PROJECT_NOT_FOUND="project-not-found",et.QUOTA_EXCEEDED="quota-exceeded",et.UNAUTHENTICATED="unauthenticated",et.UNAUTHORIZED="unauthorized",et.UNAUTHORIZED_APP="unauthorized-app",et.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",et.INVALID_CHECKSUM="invalid-checksum",et.CANCELED="canceled",et.INVALID_EVENT_NAME="invalid-event-name",et.INVALID_URL="invalid-url",et.INVALID_DEFAULT_BUCKET="invalid-default-bucket",et.NO_DEFAULT_BUCKET="no-default-bucket",et.CANNOT_SLICE_BLOB="cannot-slice-blob",et.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",et.NO_DOWNLOAD_URL="no-download-url",et.INVALID_ARGUMENT="invalid-argument",et.INVALID_ARGUMENT_COUNT="invalid-argument-count",et.APP_DELETED="app-deleted",et.INVALID_ROOT_OPERATION="invalid-root-operation",et.INVALID_FORMAT="invalid-format",et.INTERNAL_ERROR="internal-error",et.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(StorageErrorCode||(StorageErrorCode={}));function prependCode(et){return"storage/"+et}function unknown(){const et="An unknown error occurred, please check the error payload for server response.";return new StorageError(StorageErrorCode.UNKNOWN,et)}function objectNotFound(et){return new StorageError(StorageErrorCode.OBJECT_NOT_FOUND,"Object '"+et+"' does not exist.")}function quotaExceeded(et){return new StorageError(StorageErrorCode.QUOTA_EXCEEDED,"Quota for bucket '"+et+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function unauthenticated(){const et="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new StorageError(StorageErrorCode.UNAUTHENTICATED,et)}function unauthorizedApp(){return new StorageError(StorageErrorCode.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function unauthorized(et){return new StorageError(StorageErrorCode.UNAUTHORIZED,"User does not have permission to access '"+et+"'.")}function retryLimitExceeded(){return new StorageError(StorageErrorCode.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function canceled(){return new StorageError(StorageErrorCode.CANCELED,"User canceled the upload/download.")}function invalidUrl(et){return new StorageError(StorageErrorCode.INVALID_URL,"Invalid URL '"+et+"'.")}function invalidDefaultBucket(et){return new StorageError(StorageErrorCode.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+et+"'.")}function noDefaultBucket(){return new StorageError(StorageErrorCode.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+CONFIG_STORAGE_BUCKET_KEY+"' property when initializing the app?")}function cannotSliceBlob(){return new StorageError(StorageErrorCode.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function noDownloadURL(){return new StorageError(StorageErrorCode.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function missingPolyFill(et){return new StorageError(StorageErrorCode.UNSUPPORTED_ENVIRONMENT,`${et} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function invalidArgument$1(et){return new StorageError(StorageErrorCode.INVALID_ARGUMENT,et)}function appDeleted(){return new StorageError(StorageErrorCode.APP_DELETED,"The Firebase app was deleted.")}function invalidRootOperation(et){return new StorageError(StorageErrorCode.INVALID_ROOT_OPERATION,"The operation '"+et+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function invalidFormat(et,tt){return new StorageError(StorageErrorCode.INVALID_FORMAT,"String does not match format '"+et+"': "+tt)}function internalError(et){throw new StorageError(StorageErrorCode.INTERNAL_ERROR,"Internal error: "+et)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Location{constructor(tt,rt){this.bucket=tt,this.path_=rt}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const tt=encodeURIComponent;return"/b/"+tt(this.bucket)+"/o/"+tt(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(tt,rt){let nt;try{nt=Location.makeFromUrl(tt,rt)}catch{return new Location(tt,"")}if(nt.path==="")return nt;throw invalidDefaultBucket(tt)}static makeFromUrl(tt,rt){let nt=null;const it="([A-Za-z0-9.\\-_]+)";function at(bt){bt.path.charAt(bt.path.length-1)==="/"&&(bt.path_=bt.path_.slice(0,-1))}const ot="(/(.*))?$",st=new RegExp("^gs://"+it+ot,"i"),lt={bucket:1,path:3};function ct(bt){bt.path_=decodeURIComponent(bt.path)}const ut="v[A-Za-z0-9_]+",ft=rt.replace(/[.]/g,"\\."),ht="(/([^?#]*).*)?$",dt=new RegExp(`^https?://${ft}/${ut}/b/${it}/o${ht}`,"i"),vt={bucket:1,path:3},yt=rt===DEFAULT_HOST?"(?:storage.googleapis.com|storage.cloud.google.com)":rt,xt="([^?#]*)",_t=new RegExp(`^https?://${yt}/${it}/${xt}`,"i"),pt=[{regex:st,indices:lt,postModify:at},{regex:dt,indices:vt,postModify:ct},{regex:_t,indices:{bucket:1,path:2},postModify:ct}];for(let bt=0;bt<pt.length;bt++){const Et=pt[bt],St=Et.regex.exec(tt);if(St){const Tt=St[Et.indices.bucket];let Pt=St[Et.indices.path];Pt||(Pt=""),nt=new Location(Tt,Pt),Et.postModify(nt);break}}if(nt==null)throw invalidUrl(tt);return nt}}class FailRequest{constructor(tt){this.promise_=Promise.reject(tt)}getPromise(){return this.promise_}cancel(tt=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function start(et,tt,rt){let nt=1,it=null,at=null,ot=!1,st=0;function lt(){return st===2}let ct=!1;function ut(...xt){ct||(ct=!0,tt.apply(null,xt))}function ft(xt){it=setTimeout(()=>{it=null,et(dt,lt())},xt)}function ht(){at&&clearTimeout(at)}function dt(xt,..._t){if(ct){ht();return}if(xt){ht(),ut.call(null,xt,..._t);return}if(lt()||ot){ht(),ut.call(null,xt,..._t);return}nt<64&&(nt*=2);let pt;st===1?(st=2,pt=0):pt=(nt+Math.random())*1e3,ft(pt)}let vt=!1;function yt(xt){vt||(vt=!0,ht(),!ct&&(it!==null?(xt||(st=2),clearTimeout(it),ft(0)):xt||(st=1)))}return ft(0),at=setTimeout(()=>{ot=!0,yt(!0)},rt),yt}function stop(et){et(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isJustDef(et){return et!==void 0}function isNonArrayObject(et){return typeof et=="object"&&!Array.isArray(et)}function isString$3(et){return typeof et=="string"||et instanceof String}function isNativeBlob(et){return isNativeBlobDefined()&&et instanceof Blob}function isNativeBlobDefined(){return typeof Blob<"u"}function validateNumber(et,tt,rt,nt){if(nt<tt)throw invalidArgument$1(`Invalid value for '${et}'. Expected ${tt} or greater.`);if(nt>rt)throw invalidArgument$1(`Invalid value for '${et}'. Expected ${rt} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function makeUrl(et,tt,rt){let nt=tt;return rt==null&&(nt=`https://${tt}`),`${rt}://${nt}/v0${et}`}function makeQueryString(et){const tt=encodeURIComponent;let rt="?";for(const nt in et)if(et.hasOwnProperty(nt)){const it=tt(nt)+"="+tt(et[nt]);rt=rt+it+"&"}return rt=rt.slice(0,-1),rt}var ErrorCode;(function(et){et[et.NO_ERROR=0]="NO_ERROR",et[et.NETWORK_ERROR=1]="NETWORK_ERROR",et[et.ABORT=2]="ABORT"})(ErrorCode||(ErrorCode={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isRetryStatusCode(et,tt){const rt=et>=500&&et<600,it=[408,429].indexOf(et)!==-1,at=tt.indexOf(et)!==-1;return rt||it||at}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NetworkRequest{constructor(tt,rt,nt,it,at,ot,st,lt,ct,ut,ft,ht=!0){this.url_=tt,this.method_=rt,this.headers_=nt,this.body_=it,this.successCodes_=at,this.additionalRetryCodes_=ot,this.callback_=st,this.errorCallback_=lt,this.timeout_=ct,this.progressCallback_=ut,this.connectionFactory_=ft,this.retry=ht,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((dt,vt)=>{this.resolve_=dt,this.reject_=vt,this.start_()})}start_(){const tt=(nt,it)=>{if(it){nt(!1,new RequestEndStatus(!1,null,!0));return}const at=this.connectionFactory_();this.pendingConnection_=at;const ot=st=>{const lt=st.loaded,ct=st.lengthComputable?st.total:-1;this.progressCallback_!==null&&this.progressCallback_(lt,ct)};this.progressCallback_!==null&&at.addUploadProgressListener(ot),at.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&at.removeUploadProgressListener(ot),this.pendingConnection_=null;const st=at.getErrorCode()===ErrorCode.NO_ERROR,lt=at.getStatus();if(!st||isRetryStatusCode(lt,this.additionalRetryCodes_)&&this.retry){const ut=at.getErrorCode()===ErrorCode.ABORT;nt(!1,new RequestEndStatus(!1,null,ut));return}const ct=this.successCodes_.indexOf(lt)!==-1;nt(!0,new RequestEndStatus(ct,at))})},rt=(nt,it)=>{const at=this.resolve_,ot=this.reject_,st=it.connection;if(it.wasSuccessCode)try{const lt=this.callback_(st,st.getResponse());isJustDef(lt)?at(lt):at()}catch(lt){ot(lt)}else if(st!==null){const lt=unknown();lt.serverResponse=st.getErrorText(),this.errorCallback_?ot(this.errorCallback_(st,lt)):ot(lt)}else if(it.canceled){const lt=this.appDelete_?appDeleted():canceled();ot(lt)}else{const lt=retryLimitExceeded();ot(lt)}};this.canceled_?rt(!1,new RequestEndStatus(!1,null,!0)):this.backoffId_=start(tt,rt,this.timeout_)}getPromise(){return this.promise_}cancel(tt){this.canceled_=!0,this.appDelete_=tt||!1,this.backoffId_!==null&&stop(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class RequestEndStatus{constructor(tt,rt,nt){this.wasSuccessCode=tt,this.connection=rt,this.canceled=!!nt}}function addAuthHeader_(et,tt){tt!==null&&tt.length>0&&(et.Authorization="Firebase "+tt)}function addVersionHeader_(et,tt){et["X-Firebase-Storage-Version"]="webjs/"+(tt??"AppManager")}function addGmpidHeader_(et,tt){tt&&(et["X-Firebase-GMPID"]=tt)}function addAppCheckHeader_(et,tt){tt!==null&&(et["X-Firebase-AppCheck"]=tt)}function makeRequest(et,tt,rt,nt,it,at,ot=!0){const st=makeQueryString(et.urlParams),lt=et.url+st,ct=Object.assign({},et.headers);return addGmpidHeader_(ct,tt),addAuthHeader_(ct,rt),addVersionHeader_(ct,at),addAppCheckHeader_(ct,nt),new NetworkRequest(lt,et.method,ct,et.body,et.successCodes,et.additionalRetryCodes,et.handler,et.errorHandler,et.timeout,et.progressCallback,it,ot)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getBlobBuilder(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function getBlob$1(...et){const tt=getBlobBuilder();if(tt!==void 0){const rt=new tt;for(let nt=0;nt<et.length;nt++)rt.append(et[nt]);return rt.getBlob()}else{if(isNativeBlobDefined())return new Blob(et);throw new StorageError(StorageErrorCode.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function sliceBlob(et,tt,rt){return et.webkitSlice?et.webkitSlice(tt,rt):et.mozSlice?et.mozSlice(tt,rt):et.slice?et.slice(tt,rt):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function decodeBase64(et){if(typeof atob>"u")throw missingPolyFill("base-64");return atob(et)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const StringFormat={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class StringData{constructor(tt,rt){this.data=tt,this.contentType=rt||null}}function dataFromString(et,tt){switch(et){case StringFormat.RAW:return new StringData(utf8Bytes_(tt));case StringFormat.BASE64:case StringFormat.BASE64URL:return new StringData(base64Bytes_(et,tt));case StringFormat.DATA_URL:return new StringData(dataURLBytes_(tt),dataURLContentType_(tt))}throw unknown()}function utf8Bytes_(et){const tt=[];for(let rt=0;rt<et.length;rt++){let nt=et.charCodeAt(rt);if(nt<=127)tt.push(nt);else if(nt<=2047)tt.push(192|nt>>6,128|nt&63);else if((nt&64512)===55296)if(!(rt<et.length-1&&(et.charCodeAt(rt+1)&64512)===56320))tt.push(239,191,189);else{const at=nt,ot=et.charCodeAt(++rt);nt=65536|(at&1023)<<10|ot&1023,tt.push(240|nt>>18,128|nt>>12&63,128|nt>>6&63,128|nt&63)}else(nt&64512)===56320?tt.push(239,191,189):tt.push(224|nt>>12,128|nt>>6&63,128|nt&63)}return new Uint8Array(tt)}function percentEncodedBytes_(et){let tt;try{tt=decodeURIComponent(et)}catch{throw invalidFormat(StringFormat.DATA_URL,"Malformed data URL.")}return utf8Bytes_(tt)}function base64Bytes_(et,tt){switch(et){case StringFormat.BASE64:{const it=tt.indexOf("-")!==-1,at=tt.indexOf("_")!==-1;if(it||at)throw invalidFormat(et,"Invalid character '"+(it?"-":"_")+"' found: is it base64url encoded?");break}case StringFormat.BASE64URL:{const it=tt.indexOf("+")!==-1,at=tt.indexOf("/")!==-1;if(it||at)throw invalidFormat(et,"Invalid character '"+(it?"+":"/")+"' found: is it base64 encoded?");tt=tt.replace(/-/g,"+").replace(/_/g,"/");break}}let rt;try{rt=decodeBase64(tt)}catch(it){throw it.message.includes("polyfill")?it:invalidFormat(et,"Invalid character found")}const nt=new Uint8Array(rt.length);for(let it=0;it<rt.length;it++)nt[it]=rt.charCodeAt(it);return nt}class DataURLParts{constructor(tt){this.base64=!1,this.contentType=null;const rt=tt.match(/^data:([^,]+)?,/);if(rt===null)throw invalidFormat(StringFormat.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const nt=rt[1]||null;nt!=null&&(this.base64=endsWith(nt,";base64"),this.contentType=this.base64?nt.substring(0,nt.length-7):nt),this.rest=tt.substring(tt.indexOf(",")+1)}}function dataURLBytes_(et){const tt=new DataURLParts(et);return tt.base64?base64Bytes_(StringFormat.BASE64,tt.rest):percentEncodedBytes_(tt.rest)}function dataURLContentType_(et){return new DataURLParts(et).contentType}function endsWith(et,tt){return et.length>=tt.length?et.substring(et.length-tt.length)===tt:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FbsBlob{constructor(tt,rt){let nt=0,it="";isNativeBlob(tt)?(this.data_=tt,nt=tt.size,it=tt.type):tt instanceof ArrayBuffer?(rt?this.data_=new Uint8Array(tt):(this.data_=new Uint8Array(tt.byteLength),this.data_.set(new Uint8Array(tt))),nt=this.data_.length):tt instanceof Uint8Array&&(rt?this.data_=tt:(this.data_=new Uint8Array(tt.length),this.data_.set(tt)),nt=tt.length),this.size_=nt,this.type_=it}size(){return this.size_}type(){return this.type_}slice(tt,rt){if(isNativeBlob(this.data_)){const nt=this.data_,it=sliceBlob(nt,tt,rt);return it===null?null:new FbsBlob(it)}else{const nt=new Uint8Array(this.data_.buffer,tt,rt-tt);return new FbsBlob(nt,!0)}}static getBlob(...tt){if(isNativeBlobDefined()){const rt=tt.map(nt=>nt instanceof FbsBlob?nt.data_:nt);return new FbsBlob(getBlob$1.apply(null,rt))}else{const rt=tt.map(ot=>isString$3(ot)?dataFromString(StringFormat.RAW,ot).data:ot.data_);let nt=0;rt.forEach(ot=>{nt+=ot.byteLength});const it=new Uint8Array(nt);let at=0;return rt.forEach(ot=>{for(let st=0;st<ot.length;st++)it[at++]=ot[st]}),new FbsBlob(it,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jsonObjectOrNull(et){let tt;try{tt=JSON.parse(et)}catch{return null}return isNonArrayObject(tt)?tt:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function parent(et){if(et.length===0)return null;const tt=et.lastIndexOf("/");return tt===-1?"":et.slice(0,tt)}function child(et,tt){const rt=tt.split("/").filter(nt=>nt.length>0).join("/");return et.length===0?rt:et+"/"+rt}function lastComponent(et){const tt=et.lastIndexOf("/",et.length-2);return tt===-1?et:et.slice(tt+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function noXform_(et,tt){return tt}class Mapping{constructor(tt,rt,nt,it){this.server=tt,this.local=rt||tt,this.writable=!!nt,this.xform=it||noXform_}}let mappings_=null;function xformPath(et){return!isString$3(et)||et.length<2?et:lastComponent(et)}function getMappings(){if(mappings_)return mappings_;const et=[];et.push(new Mapping("bucket")),et.push(new Mapping("generation")),et.push(new Mapping("metageneration")),et.push(new Mapping("name","fullPath",!0));function tt(at,ot){return xformPath(ot)}const rt=new Mapping("name");rt.xform=tt,et.push(rt);function nt(at,ot){return ot!==void 0?Number(ot):ot}const it=new Mapping("size");return it.xform=nt,et.push(it),et.push(new Mapping("timeCreated")),et.push(new Mapping("updated")),et.push(new Mapping("md5Hash",null,!0)),et.push(new Mapping("cacheControl",null,!0)),et.push(new Mapping("contentDisposition",null,!0)),et.push(new Mapping("contentEncoding",null,!0)),et.push(new Mapping("contentLanguage",null,!0)),et.push(new Mapping("contentType",null,!0)),et.push(new Mapping("metadata","customMetadata",!0)),mappings_=et,mappings_}function addRef(et,tt){function rt(){const nt=et.bucket,it=et.fullPath,at=new Location(nt,it);return tt._makeStorageReference(at)}Object.defineProperty(et,"ref",{get:rt})}function fromResource(et,tt,rt){const nt={};nt.type="file";const it=rt.length;for(let at=0;at<it;at++){const ot=rt[at];nt[ot.local]=ot.xform(nt,tt[ot.server])}return addRef(nt,et),nt}function fromResourceString(et,tt,rt){const nt=jsonObjectOrNull(tt);return nt===null?null:fromResource(et,nt,rt)}function downloadUrlFromResourceString(et,tt,rt,nt){const it=jsonObjectOrNull(tt);if(it===null||!isString$3(it.downloadTokens))return null;const at=it.downloadTokens;if(at.length===0)return null;const ot=encodeURIComponent;return at.split(",").map(ct=>{const ut=et.bucket,ft=et.fullPath,ht="/b/"+ot(ut)+"/o/"+ot(ft),dt=makeUrl(ht,rt,nt),vt=makeQueryString({alt:"media",token:ct});return dt+vt})[0]}function toResourceString(et,tt){const rt={},nt=tt.length;for(let it=0;it<nt;it++){const at=tt[it];at.writable&&(rt[at.server]=et[at.local])}return JSON.stringify(rt)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PREFIXES_KEY="prefixes",ITEMS_KEY="items";function fromBackendResponse(et,tt,rt){const nt={prefixes:[],items:[],nextPageToken:rt.nextPageToken};if(rt[PREFIXES_KEY])for(const it of rt[PREFIXES_KEY]){const at=it.replace(/\/$/,""),ot=et._makeStorageReference(new Location(tt,at));nt.prefixes.push(ot)}if(rt[ITEMS_KEY])for(const it of rt[ITEMS_KEY]){const at=et._makeStorageReference(new Location(tt,it.name));nt.items.push(at)}return nt}function fromResponseString(et,tt,rt){const nt=jsonObjectOrNull(rt);return nt===null?null:fromBackendResponse(et,tt,nt)}class RequestInfo{constructor(tt,rt,nt,it){this.url=tt,this.method=rt,this.handler=nt,this.timeout=it,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function handlerCheck(et){if(!et)throw unknown()}function metadataHandler(et,tt){function rt(nt,it){const at=fromResourceString(et,it,tt);return handlerCheck(at!==null),at}return rt}function listHandler(et,tt){function rt(nt,it){const at=fromResponseString(et,tt,it);return handlerCheck(at!==null),at}return rt}function downloadUrlHandler(et,tt){function rt(nt,it){const at=fromResourceString(et,it,tt);return handlerCheck(at!==null),downloadUrlFromResourceString(at,it,et.host,et._protocol)}return rt}function sharedErrorHandler(et){function tt(rt,nt){let it;return rt.getStatus()===401?rt.getErrorText().includes("Firebase App Check token is invalid")?it=unauthorizedApp():it=unauthenticated():rt.getStatus()===402?it=quotaExceeded(et.bucket):rt.getStatus()===403?it=unauthorized(et.path):it=nt,it.status=rt.getStatus(),it.serverResponse=nt.serverResponse,it}return tt}function objectErrorHandler(et){const tt=sharedErrorHandler(et);function rt(nt,it){let at=tt(nt,it);return nt.getStatus()===404&&(at=objectNotFound(et.path)),at.serverResponse=it.serverResponse,at}return rt}function list$2(et,tt,rt,nt,it){const at={};tt.isRoot?at.prefix="":at.prefix=tt.path+"/",rt.length>0&&(at.delimiter=rt),nt&&(at.pageToken=nt),it&&(at.maxResults=it);const ot=tt.bucketOnlyServerUrl(),st=makeUrl(ot,et.host,et._protocol),lt="GET",ct=et.maxOperationRetryTime,ut=new RequestInfo(st,lt,listHandler(et,tt.bucket),ct);return ut.urlParams=at,ut.errorHandler=sharedErrorHandler(tt),ut}function getDownloadUrl(et,tt,rt){const nt=tt.fullServerUrl(),it=makeUrl(nt,et.host,et._protocol),at="GET",ot=et.maxOperationRetryTime,st=new RequestInfo(it,at,downloadUrlHandler(et,rt),ot);return st.errorHandler=objectErrorHandler(tt),st}function determineContentType_(et,tt){return et&&et.contentType||tt&&tt.type()||"application/octet-stream"}function metadataForUpload_(et,tt,rt){const nt=Object.assign({},rt);return nt.fullPath=et.path,nt.size=tt.size(),nt.contentType||(nt.contentType=determineContentType_(null,tt)),nt}function multipartUpload(et,tt,rt,nt,it){const at=tt.bucketOnlyServerUrl(),ot={"X-Goog-Upload-Protocol":"multipart"};function st(){let pt="";for(let bt=0;bt<2;bt++)pt=pt+Math.random().toString().slice(2);return pt}const lt=st();ot["Content-Type"]="multipart/related; boundary="+lt;const ct=metadataForUpload_(tt,nt,it),ut=toResourceString(ct,rt),ft="--"+lt+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+ut+`\r
--`+lt+`\r
Content-Type: `+ct.contentType+`\r
\r
`,ht=`\r
--`+lt+"--",dt=FbsBlob.getBlob(ft,nt,ht);if(dt===null)throw cannotSliceBlob();const vt={name:ct.fullPath},yt=makeUrl(at,et.host,et._protocol),xt="POST",_t=et.maxUploadRetryTime,mt=new RequestInfo(yt,xt,metadataHandler(et,rt),_t);return mt.urlParams=vt,mt.headers=ot,mt.body=dt.uploadData(),mt.errorHandler=sharedErrorHandler(tt),mt}class XhrConnection{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ErrorCode.NO_ERROR,this.sendPromise_=new Promise(tt=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ErrorCode.ABORT,tt()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ErrorCode.NETWORK_ERROR,tt()}),this.xhr_.addEventListener("load",()=>{tt()})})}send(tt,rt,nt,it){if(this.sent_)throw internalError("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(rt,tt,!0),it!==void 0)for(const at in it)it.hasOwnProperty(at)&&this.xhr_.setRequestHeader(at,it[at].toString());return nt!==void 0?this.xhr_.send(nt):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw internalError("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw internalError("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw internalError("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw internalError("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(tt){return this.xhr_.getResponseHeader(tt)}addUploadProgressListener(tt){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",tt)}removeUploadProgressListener(tt){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",tt)}}class XhrTextConnection extends XhrConnection{initXhr(){this.xhr_.responseType="text"}}function newTextConnection(){return new XhrTextConnection}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Reference{constructor(tt,rt){this._service=tt,rt instanceof Location?this._location=rt:this._location=Location.makeFromUrl(rt,tt.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(tt,rt){return new Reference(tt,rt)}get root(){const tt=new Location(this._location.bucket,"");return this._newRef(this._service,tt)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lastComponent(this._location.path)}get storage(){return this._service}get parent(){const tt=parent(this._location.path);if(tt===null)return null;const rt=new Location(this._location.bucket,tt);return new Reference(this._service,rt)}_throwIfRoot(tt){if(this._location.path==="")throw invalidRootOperation(tt)}}function uploadBytes$1(et,tt,rt){et._throwIfRoot("uploadBytes");const nt=multipartUpload(et.storage,et._location,getMappings(),new FbsBlob(tt,!0),rt);return et.storage.makeRequestWithTokens(nt,newTextConnection).then(it=>({metadata:it,ref:et}))}function listAll$1(et){const tt={prefixes:[],items:[]};return listAllHelper(et,tt).then(()=>tt)}async function listAllHelper(et,tt,rt){const it=await list$1(et,{pageToken:rt});tt.prefixes.push(...it.prefixes),tt.items.push(...it.items),it.nextPageToken!=null&&await listAllHelper(et,tt,it.nextPageToken)}function list$1(et,tt){tt!=null&&typeof tt.maxResults=="number"&&validateNumber("options.maxResults",1,1e3,tt.maxResults);const rt=tt||{},nt=list$2(et.storage,et._location,"/",rt.pageToken,rt.maxResults);return et.storage.makeRequestWithTokens(nt,newTextConnection)}function getDownloadURL$1(et){et._throwIfRoot("getDownloadURL");const tt=getDownloadUrl(et.storage,et._location,getMappings());return et.storage.makeRequestWithTokens(tt,newTextConnection).then(rt=>{if(rt===null)throw noDownloadURL();return rt})}function _getChild$1(et,tt){const rt=child(et._location.path,tt),nt=new Location(et._location.bucket,rt);return new Reference(et.storage,nt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isUrl(et){return/^[A-Za-z]+:\/\//.test(et)}function refFromURL(et,tt){return new Reference(et,tt)}function refFromPath(et,tt){if(et instanceof FirebaseStorageImpl){const rt=et;if(rt._bucket==null)throw noDefaultBucket();const nt=new Reference(rt,rt._bucket);return tt!=null?refFromPath(nt,tt):nt}else return tt!==void 0?_getChild$1(et,tt):et}function ref$1(et,tt){if(tt&&isUrl(tt)){if(et instanceof FirebaseStorageImpl)return refFromURL(et,tt);throw invalidArgument$1("To use ref(service, url), the first argument must be a Storage instance.")}else return refFromPath(et,tt)}function extractBucket(et,tt){const rt=tt==null?void 0:tt[CONFIG_STORAGE_BUCKET_KEY];return rt==null?null:Location.makeFromBucketSpec(rt,et)}function connectStorageEmulator$1(et,tt,rt,nt={}){et.host=`${tt}:${rt}`,et._protocol="http";const{mockUserToken:it}=nt;it&&(et._overrideAuthToken=typeof it=="string"?it:createMockUserToken(it,et.app.options.projectId))}class FirebaseStorageImpl{constructor(tt,rt,nt,it,at){this.app=tt,this._authProvider=rt,this._appCheckProvider=nt,this._url=it,this._firebaseVersion=at,this._bucket=null,this._host=DEFAULT_HOST,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=DEFAULT_MAX_OPERATION_RETRY_TIME,this._maxUploadRetryTime=DEFAULT_MAX_UPLOAD_RETRY_TIME,this._requests=new Set,it!=null?this._bucket=Location.makeFromBucketSpec(it,this._host):this._bucket=extractBucket(this._host,this.app.options)}get host(){return this._host}set host(tt){this._host=tt,this._url!=null?this._bucket=Location.makeFromBucketSpec(this._url,tt):this._bucket=extractBucket(tt,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(tt){validateNumber("time",0,Number.POSITIVE_INFINITY,tt),this._maxUploadRetryTime=tt}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(tt){validateNumber("time",0,Number.POSITIVE_INFINITY,tt),this._maxOperationRetryTime=tt}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const tt=this._authProvider.getImmediate({optional:!0});if(tt){const rt=await tt.getToken();if(rt!==null)return rt.accessToken}return null}async _getAppCheckToken(){const tt=this._appCheckProvider.getImmediate({optional:!0});return tt?(await tt.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(tt=>tt.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(tt){return new Reference(this,tt)}_makeRequest(tt,rt,nt,it,at=!0){if(this._deleted)return new FailRequest(appDeleted());{const ot=makeRequest(tt,this._appId,nt,it,rt,this._firebaseVersion,at);return this._requests.add(ot),ot.getPromise().then(()=>this._requests.delete(ot),()=>this._requests.delete(ot)),ot}}async makeRequestWithTokens(tt,rt){const[nt,it]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(tt,rt,nt,it).getPromise()}}const name="@firebase/storage",version="0.13.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const STORAGE_TYPE="storage";function uploadBytes(et,tt,rt){return et=getModularInstance(et),uploadBytes$1(et,tt,rt)}function listAll(et){return et=getModularInstance(et),listAll$1(et)}function getDownloadURL(et){return et=getModularInstance(et),getDownloadURL$1(et)}function ref(et,tt){return et=getModularInstance(et),ref$1(et,tt)}function getStorage(et=getApp(),tt){et=getModularInstance(et);const nt=_getProvider(et,STORAGE_TYPE).getImmediate({identifier:tt}),it=getDefaultEmulatorHostnameAndPort("storage");return it&&connectStorageEmulator(nt,...it),nt}function connectStorageEmulator(et,tt,rt,nt={}){connectStorageEmulator$1(et,tt,rt,nt)}function factory(et,{instanceIdentifier:tt}){const rt=et.getProvider("app").getImmediate(),nt=et.getProvider("auth-internal"),it=et.getProvider("app-check-internal");return new FirebaseStorageImpl(rt,nt,it,tt,SDK_VERSION)}function registerStorage(){_registerComponent(new Component(STORAGE_TYPE,factory,"PUBLIC").setMultipleInstances(!0)),registerVersion(name,version,""),registerVersion(name,version,"esm2017")}registerStorage();const firebaseConfig={apiKey:"AIzaSyAoA9vGq5gsjRVqngQcfX9wDHv03MFX8Mo",authDomain:"habit-piggy-project.firebaseapp.com",projectId:"habit-piggy-project",storageBucket:"habit-piggy-project.appspot.com",messagingSenderId:"230345565651",appId:"1:230345565651:web:4f5fae0a011a8a355cbb26",measurementId:"G-D5V6H13VEM"},app=initializeApp(firebaseConfig),db=getFirestore(app),storage=getStorage(app),auth=getAuth();async function registerUser(et,tt,rt,nt){try{const at=(await createUserWithEmailAndPassword(auth,et,tt)).user;console.log("User created: ",at);const ot=await getDefaultAvatar("Piggy.png"),st=doc(db,"users",at.uid);await setDoc(st,{uid:at.uid,email:at.email,account:rt,name:nt,introduction:"我要養成好習慣！",avatar:ot,createdTime:Timestamp.now(),levelPoints:0,isAcceptReminder:!1,isDarkMode:!1,achievements:[],badges:[]}),console.log("User data created with ID: ",at.uid),collection(st,"habits"),console.log("Empty habits sub-collection created for user ID: ",at.uid)}catch(it){console.error("Error creating user: ",it.code,it.message)}}async function getEmailByAccount(et){try{const tt=collection(db,"users"),rt=query(tt,where("account","==",et)),nt=await getDocs(rt);if(nt.empty)throw new Error("No user found with this account");return nt.docs[0].data().email}catch(tt){throw console.error("Error getting email by account: ",tt.code,tt.message),tt}}async function logoutUser(){try{await signOut(auth),console.log("User signed out")}catch(et){console.error("Error signing out: ",et.code,et.message)}}async function updateUserProfile(et,tt){try{const rt=doc(db,"users",et);if(tt.avatarFile){const nt=tt.avatarFile,it=ref(storage,`avatars/${et}`),at=await uploadBytes(it,nt),ot=await getDownloadURL(at.ref);tt.avatar=ot,delete tt.avatarFile}await setDoc(rt,tt,{merge:!0}),console.log("User profile updated with ID: ",et)}catch(rt){console.error("Error updating user profile: ",rt.code,rt.message)}}async function getUserProfile(et){try{const tt=doc(db,"users",et),rt=await getDoc(tt);return rt.exists()?rt.data():(console.log("No such document!"),{name:"Unknown",levelPoints:0,avatar:await getDefaultAvatar("Piggy.png")})}catch(tt){return console.error("Error getting user profile: ",tt.code,tt.message),{name:"Unknown",levelPoints:0,avatar:await getDefaultAvatar("Piggy.png")}}}async function getAllUsers(){try{const et=collection(db,"users");return(await getDocs(et)).docs.map(nt=>({id:nt.id,...nt.data()}))}catch(et){return console.error("Error getting users: ",et.code,et.message),[]}}async function addHabit(et,tt){try{const rt=doc(db,"users",et),nt=collection(rt,"habits");await addDoc(nt,{...tt,createdTime:Timestamp.now(),updatedTime:Timestamp.now()}),console.log("Habit added for user ID: ",et)}catch(rt){console.error("Error adding habit: ",rt.code,rt.message)}}async function getHabits(et){try{const tt=doc(db,"users",et),rt=collection(tt,"habits"),nt=query(rt,orderBy("updatedTime","desc"));return(await getDocs(nt)).docs.map(ot=>({id:ot.id,...ot.data()}))}catch(tt){return console.error("Error getting habits: ",tt.code,tt.message),[]}}async function updateHabit(et,tt,rt){try{const nt=doc(db,"users",et,"habits",tt);await updateDoc(nt,{...rt,updatedTime:Timestamp.now()})}catch(nt){console.error("Error updating habit: ",nt.code,nt.message)}}async function deleteHabit(et,tt){try{const rt=doc(db,"users",et,"habits",tt);await deleteDoc(rt),console.log("Habit deleted with ID: ",tt)}catch(rt){console.error("Error deleting habit: ",rt.code,rt.message)}}async function addPost(et,tt){try{const rt=collection(db,"posts"),nt=await addDoc(rt,{...tt,userID:et,createdTime:Timestamp.now(),updatedTime:Timestamp.now()});return console.log("Post added with ID: ",nt.id),nt.id}catch(rt){console.error("Error adding post: ",rt.code,rt.message)}}async function updatePost(et,tt){try{const rt=doc(db,"posts",et);await updateDoc(rt,{...tt,updatedTime:Timestamp.now()}),console.log("Post updated with ID: ",et)}catch(rt){console.error("Error updating post: ",rt.code,rt.message)}}async function deletePost(et){try{const tt=doc(db,"posts",et),rt=collection(tt,"comments"),it=(await getDocs(rt)).docs.map(at=>deleteDoc(at.ref));await Promise.all(it),await deleteDoc(tt),console.log("Post and its comments deleted with ID: ",et)}catch(tt){console.error("Error deleting post and its comments: ",tt.code,tt.message)}}async function getAllPosts(){try{const et=collection(db,"posts"),tt=query(et,orderBy("createdTime","desc"));return(await getDocs(tt)).docs.map(it=>({id:it.id,...it.data()}))}catch(et){return console.error("Error getting posts: ",et.code,et.message),[]}}async function uploadAvatar(et,tt){try{const rt=ref(storage,`avatars/${et}`),nt=await uploadBytes(rt,tt),it=await getDownloadURL(nt.ref);return console.log("Avatar uploaded: ",it),it}catch(rt){return console.error("Error uploading avatar: ",rt.code,rt.message),null}}async function getDefaultAvatar(et){try{const tt=ref(storage,`default_avatars/${et}`),rt=await getDownloadURL(tt);return console.log("Default avatar URL: ",rt),rt}catch(tt){return console.error("Error getting default avatar: ",tt.code,tt.message),"https://firebasestorage.googleapis.com/v0/b/habit-piggy-project.appspot.com/o/avatars%2FPiggy.png?alt=media&token=be62eb4e-44a3-46c5-ba6d-bba575da75a8"}}async function addComment(et,tt){try{const rt=doc(db,"posts",et),nt=collection(rt,"comments");await addDoc(nt,{...tt,createdTime:Timestamp.now()}),console.log("Comment added to post ID: ",et)}catch(rt){console.error("Error adding comment: ",rt.code,rt.message)}}async function getComments(et){try{const tt=doc(db,"posts",et),rt=collection(tt,"comments");return(await getDocs(rt)).docs.map(at=>({id:at.id,...at.data()}))}catch(tt){return console.error("Error getting comments: ",tt.code,tt.message),[]}}async function updateComment(et,tt,rt){try{const nt=doc(db,"posts",et,"comments",tt);await updateDoc(nt,{...rt,updatedTime:Timestamp.now()}),console.log("Comment updated with ID: ",tt)}catch(nt){console.error("Error updating comment: ",nt.code,nt.message)}}async function deleteComment(et,tt){try{const rt=doc(db,"posts",et,"comments",tt);await deleteDoc(rt),console.log("Comment deleted with ID: ",tt)}catch(rt){console.error("Error deleting comment: ",rt.code,rt.message)}}async function getPostBackgrounds(){try{const et=ref(storage,"post_backgrounds"),rt=(await listAll(et)).items.map(it=>getDownloadURL(it));return await Promise.all(rt)}catch(et){return console.error("Error getting post backgrounds: ",et.code,et.message),[]}}async function addLike(et,tt){try{const rt=doc(db,"posts",et),nt=await getDoc(rt);if(nt.exists()){const at=nt.data().likes||[];at.includes(tt)||(at.push(tt),await updateDoc(rt,{likes:at}),console.log("Like added to post ID: ",et))}}catch(rt){console.error("Error adding like: ",rt.code,rt.message)}}async function removeLike(et,tt){try{const rt=doc(db,"posts",et),nt=await getDoc(rt);if(nt.exists()){const at=nt.data().likes||[],ot=at.indexOf(tt);if(ot>-1){at.splice(ot,1),await updateDoc(rt,{likes:at}),console.log("Like removed from post ID: ",et);const st=doc(db,"posts",et,"likes",tt);await deleteDoc(st),console.log("Like document removed for user ID: ",tt)}}}catch(rt){console.error("Error removing like: ",rt.code,rt.message)}}async function getAchievements(){try{return(await getDocs(collection(db,"achievements"))).docs.map(rt=>({id:rt.id,...rt.data()}))}catch(et){return console.error("Error getting achievements: ",et.code,et.message),[]}}async function getUserAchievements(et){try{const tt=doc(db,"users",et),rt=await getDoc(tt);return rt.exists()?rt.data().achievements||[]:(console.log("No such document!"),[])}catch(tt){return console.error("Error getting user achievements: ",tt.code,tt.message),[]}}async function calculateTaskValue(et,tt){try{const rt=doc(db,"users",et),it=(await getDoc(rt)).data(),at=collection(rt,"habits"),st=(await getDocs(at)).docs.map(ft=>({id:ft.id,...ft.data()}));let lt=0;const ct=new Date,ut=new Date(ct.getFullYear(),ct.getMonth(),ct.getDate());switch(tt){case"habit":lt=st.reduce((ft,ht)=>{const dt=ht.status.filter(vt=>vt.completed&&new Date(vt.date)<ut).length;return ft+dt},0);break;case"savings":lt=st.reduce((ft,ht)=>{const dt=ht.status.filter(vt=>!vt.completed&&new Date(vt.date)<ut).length;return ft+ht.amount*dt},0);break;case"level":lt=Math.floor(it.levelPoints/100);break;default:throw new Error("Invalid task type")}return lt}catch(rt){return console.error("Error calculating task value: ",rt.code,rt.message),0}}async function checkAndAwardAchievements(et,tt,rt){try{const nt=await getDocs(collection(db,"achievements")),it=doc(db,"users",et),at=await getDoc(it),ot=at.exists()?at.data().achievements||[]:[];nt.forEach(async st=>{const lt=st.data(),ct=lt.condition;ct.type===tt&&rt>=ct.amount&&(ot.includes(st.id)||(ot.push(st.id),await updateDoc(it,{achievements:ot}),console.log(`Achievement ${lt.name} awarded to user ${et}`)))})}catch(nt){console.error("Error checking and awarding achievements: ",nt.code,nt.message)}}async function getBadges(){try{const et=collection(db,"badges");return(await getDocs(et)).docs.map(nt=>({id:nt.id,...nt.data()}))}catch(et){return console.error("Error getting badges: ",et.code,et.message),[]}}async function getUserBadges(et){try{const tt=doc(db,"users",et),rt=await getDoc(tt);return rt.exists()?rt.data().badges||[]:(console.log("No such document!"),[])}catch(tt){return console.error("Error getting user badges: ",tt.code,tt.message),[]}}async function calculateBadges(et){try{const tt=doc(db,"users",et),rt=collection(tt,"habits");return(await getDocs(rt)).docs.map(ot=>({id:ot.id,...ot.data()})).reduce((ot,st)=>{const lt=st.category;return ot[lt]||(ot[lt]=0),ot[lt]++,ot},{})}catch(tt){return console.error("Error calculating badges: ",tt.code,tt.message),{}}}async function checkAndAwardBadges(et){try{const tt=await getDocs(collection(db,"badges")),rt=doc(db,"users",et),nt=await getDoc(rt),it=nt.exists()?nt.data().badges||[]:[],at=await calculateBadges(et);tt.forEach(async ot=>{const st=ot.data(),lt=st.condition;let ct=!1;at[lt.category]&&at[lt.category]>=lt.times&&(ct=!0),ct&&!it.includes(ot.id)&&(it.push(ot.id),await updateDoc(rt,{badges:it}),console.log(`Badge ${st.description} awarded to user ID: ${et}`))})}catch(tt){console.error("Error checking and awarding badges: ",tt.code,tt.message)}}async function removeBadge(et,tt){try{const rt=doc(db,"users",et),nt=await getDoc(rt);if(nt.exists()){const at=nt.data().badges.filter(ot=>ot.category!==tt);await updateDoc(rt,{badges:at}),console.log(`Badge for category ${tt} removed for user ID: ${et}`)}}catch(rt){console.error("Error removing badge: ",rt.code,rt.message)}}var propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function et(nt,it,at,ot,st,lt){if(lt!==ReactPropTypesSecret){var ct=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw ct.name="Invariant Violation",ct}}et.isRequired=et;function tt(){return et}var rt={array:et,bigint:et,bool:et,func:et,number:et,object:et,string:et,symbol:et,any:et,arrayOf:tt,element:et,elementType:et,instanceOf:tt,node:et,objectOf:tt,oneOf:tt,oneOfType:tt,shape:tt,exact:tt,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return rt.PropTypes=rt,rt};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports;const PropTypes=getDefaultExportFromCjs(propTypesExports),AuthContext=reactExports.createContext(),AuthProvider=({children:et})=>{const[tt,rt]=reactExports.useState(null),[nt,it]=reactExports.useState(!1),[at,ot]=reactExports.useState(!0),st=getAuth();return reactExports.useEffect(()=>{const lt=onAuthStateChanged(st,async ct=>{if(ct){const ut=await getUserProfile(ct.uid);rt({...ct,...ut}),it(ut.isDarkMode||!1)}else rt(null),it(!1);ot(!1)});return()=>lt()},[st]),reactExports.useEffect(()=>{nt?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[nt]),jsxRuntimeExports.jsx(AuthContext.Provider,{value:{user:tt,setUser:rt,isDarkMode:nt,setIsDarkMode:it,loading:at},children:et})};AuthProvider.propTypes={children:PropTypes.node};const initialState$2={isLogin:!0,isLoggedIn:!1,isLoading:!1,loginError:""},actionTypes$2={SET_IS_LOGIN:"SET_IS_LOGIN",SET_IS_LOGGED_IN:"SET_IS_LOGGED_IN",SET_IS_LOADING:"SET_IS_LOADING",SET_LOGIN_ERROR:"SET_LOGIN_ERROR"};function reducer$2(et,tt){switch(tt.type){case actionTypes$2.SET_IS_LOGIN:return{...et,isLogin:tt.payload};case actionTypes$2.SET_IS_LOGGED_IN:return{...et,isLoggedIn:tt.payload};case actionTypes$2.SET_IS_LOADING:return{...et,isLoading:tt.payload};case actionTypes$2.SET_LOGIN_ERROR:return{...et,loginError:tt.payload};default:return et}}const TabNavigation$3=({isLogin:et,setIsLogin:tt})=>jsxRuntimeExports.jsxs("ul",{className:"grid grid-cols-2 w-full",children:[jsxRuntimeExports.jsx("li",{className:`border border-black-500 rounded-s-full py-1 font-normal text-sm leading-5 text-center cursor-pointer ${et?"bg-primary":"bg-black-50"}`,onClick:()=>tt(!0),children:"登入帳號"}),jsxRuntimeExports.jsx("li",{className:`border-e border-y border-black-500 rounded-e-full py-1 font-normal text-sm leading-5 text-center cursor-pointer ${et?"bg-black-50":"bg-primary"}`,onClick:()=>tt(!1),children:"註冊帳號"})]});TabNavigation$3.propTypes={isLogin:PropTypes.bool.isRequired,setIsLogin:PropTypes.func.isRequired};var isCheckBoxInput=et=>et.type==="checkbox",isDateObject=et=>et instanceof Date,isNullOrUndefined=et=>et==null;const isObjectType=et=>typeof et=="object";var isObject$d=et=>!isNullOrUndefined(et)&&!Array.isArray(et)&&isObjectType(et)&&!isDateObject(et),getEventValue=et=>isObject$d(et)&&et.target?isCheckBoxInput(et.target)?et.target.checked:et.target.value:et,getNodeParentName=et=>et.substring(0,et.search(/\.\d+(\.|$)/))||et,isNameInFieldArray=(et,tt)=>et.has(getNodeParentName(tt)),isPlainObject$2=et=>{const tt=et.constructor&&et.constructor.prototype;return isObject$d(tt)&&tt.hasOwnProperty("isPrototypeOf")},isWeb=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function cloneObject(et){let tt;const rt=Array.isArray(et);if(et instanceof Date)tt=new Date(et);else if(et instanceof Set)tt=new Set(et);else if(!(isWeb&&(et instanceof Blob||et instanceof FileList))&&(rt||isObject$d(et)))if(tt=rt?[]:{},!rt&&!isPlainObject$2(et))tt=et;else for(const nt in et)et.hasOwnProperty(nt)&&(tt[nt]=cloneObject(et[nt]));else return et;return tt}var compact=et=>Array.isArray(et)?et.filter(Boolean):[],isUndefined=et=>et===void 0,get$3=(et,tt,rt)=>{if(!tt||!isObject$d(et))return rt;const nt=compact(tt.split(/[,[\].]+?/)).reduce((it,at)=>isNullOrUndefined(it)?it:it[at],et);return isUndefined(nt)||nt===et?isUndefined(et[tt])?rt:et[tt]:nt},isBoolean$2=et=>typeof et=="boolean",isKey$4=et=>/^\w*$/.test(et),stringToPath$2=et=>compact(et.replace(/["|']|\]/g,"").split(/\.|\[/)),set=(et,tt,rt)=>{let nt=-1;const it=isKey$4(tt)?[tt]:stringToPath$2(tt),at=it.length,ot=at-1;for(;++nt<at;){const st=it[nt];let lt=rt;if(nt!==ot){const ct=et[st];lt=isObject$d(ct)||Array.isArray(ct)?ct:isNaN(+it[nt+1])?{}:[]}if(st==="__proto__")return;et[st]=lt,et=et[st]}return et};const EVENTS={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},VALIDATION_MODE={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},INPUT_VALIDATION_RULES={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};React.createContext(null);var getProxyFormState=(et,tt,rt,nt=!0)=>{const it={defaultValues:tt._defaultValues};for(const at in et)Object.defineProperty(it,at,{get:()=>{const ot=at;return tt._proxyFormState[ot]!==VALIDATION_MODE.all&&(tt._proxyFormState[ot]=!nt||VALIDATION_MODE.all),et[ot]}});return it},isEmptyObject=et=>isObject$d(et)&&!Object.keys(et).length,shouldRenderFormState=(et,tt,rt,nt)=>{rt(et);const{name:it,...at}=et;return isEmptyObject(at)||Object.keys(at).length>=Object.keys(tt).length||Object.keys(at).find(ot=>tt[ot]===VALIDATION_MODE.all)},convertToArrayPayload=et=>Array.isArray(et)?et:[et];function useSubscribe(et){const tt=React.useRef(et);tt.current=et,React.useEffect(()=>{const rt=!et.disabled&&tt.current.subject&&tt.current.subject.subscribe({next:tt.current.next});return()=>{rt&&rt.unsubscribe()}},[et.disabled])}var isString$2=et=>typeof et=="string",generateWatchOutput=(et,tt,rt,nt,it)=>isString$2(et)?(nt&&tt.watch.add(et),get$3(rt,et,it)):Array.isArray(et)?et.map(at=>(nt&&tt.watch.add(at),get$3(rt,at))):(nt&&(tt.watchAll=!0),rt),appendErrors=(et,tt,rt,nt,it)=>tt?{...rt[et],types:{...rt[et]&&rt[et].types?rt[et].types:{},[nt]:it||!0}}:{},getValidationModes=et=>({isOnSubmit:!et||et===VALIDATION_MODE.onSubmit,isOnBlur:et===VALIDATION_MODE.onBlur,isOnChange:et===VALIDATION_MODE.onChange,isOnAll:et===VALIDATION_MODE.all,isOnTouch:et===VALIDATION_MODE.onTouched}),isWatched=(et,tt,rt)=>!rt&&(tt.watchAll||tt.watch.has(et)||[...tt.watch].some(nt=>et.startsWith(nt)&&/^\.\w+/.test(et.slice(nt.length))));const iterateFieldsByAction=(et,tt,rt,nt)=>{for(const it of rt||Object.keys(et)){const at=get$3(et,it);if(at){const{_f:ot,...st}=at;if(ot){if(ot.refs&&ot.refs[0]&&tt(ot.refs[0],it)&&!nt)return!0;if(ot.ref&&tt(ot.ref,ot.name)&&!nt)return!0;if(iterateFieldsByAction(st,tt))break}else if(isObject$d(st)&&iterateFieldsByAction(st,tt))break}}};var updateFieldArrayRootError=(et,tt,rt)=>{const nt=convertToArrayPayload(get$3(et,rt));return set(nt,"root",tt[rt]),set(et,rt,nt),et},isFileInput=et=>et.type==="file",isFunction$4=et=>typeof et=="function",isHTMLElement=et=>{if(!isWeb)return!1;const tt=et?et.ownerDocument:0;return et instanceof(tt&&tt.defaultView?tt.defaultView.HTMLElement:HTMLElement)},isMessage=et=>isString$2(et),isRadioInput=et=>et.type==="radio",isRegex=et=>et instanceof RegExp;const defaultResult={value:!1,isValid:!1},validResult={value:!0,isValid:!0};var getCheckboxValue=et=>{if(Array.isArray(et)){if(et.length>1){const tt=et.filter(rt=>rt&&rt.checked&&!rt.disabled).map(rt=>rt.value);return{value:tt,isValid:!!tt.length}}return et[0].checked&&!et[0].disabled?et[0].attributes&&!isUndefined(et[0].attributes.value)?isUndefined(et[0].value)||et[0].value===""?validResult:{value:et[0].value,isValid:!0}:validResult:defaultResult}return defaultResult};const defaultReturn={isValid:!1,value:null};var getRadioValue=et=>Array.isArray(et)?et.reduce((tt,rt)=>rt&&rt.checked&&!rt.disabled?{isValid:!0,value:rt.value}:tt,defaultReturn):defaultReturn;function getValidateError(et,tt,rt="validate"){if(isMessage(et)||Array.isArray(et)&&et.every(isMessage)||isBoolean$2(et)&&!et)return{type:rt,message:isMessage(et)?et:"",ref:tt}}var getValueAndMessage=et=>isObject$d(et)&&!isRegex(et)?et:{value:et,message:""},validateField=async(et,tt,rt,nt,it)=>{const{ref:at,refs:ot,required:st,maxLength:lt,minLength:ct,min:ut,max:ft,pattern:ht,validate:dt,name:vt,valueAsNumber:yt,mount:xt,disabled:_t}=et._f,mt=get$3(tt,vt);if(!xt||_t)return{};const pt=ot?ot[0]:at,bt=kt=>{nt&&pt.reportValidity&&(pt.setCustomValidity(isBoolean$2(kt)?"":kt||""),pt.reportValidity())},Et={},St=isRadioInput(at),Tt=isCheckBoxInput(at),Pt=St||Tt,Rt=(yt||isFileInput(at))&&isUndefined(at.value)&&isUndefined(mt)||isHTMLElement(at)&&at.value===""||mt===""||Array.isArray(mt)&&!mt.length,It=appendErrors.bind(null,vt,rt,Et),$t=(kt,Ct,Bt,Ft=INPUT_VALIDATION_RULES.maxLength,Dt=INPUT_VALIDATION_RULES.minLength)=>{const Mt=kt?Ct:Bt;Et[vt]={type:kt?Ft:Dt,message:Mt,ref:at,...It(kt?Ft:Dt,Mt)}};if(it?!Array.isArray(mt)||!mt.length:st&&(!Pt&&(Rt||isNullOrUndefined(mt))||isBoolean$2(mt)&&!mt||Tt&&!getCheckboxValue(ot).isValid||St&&!getRadioValue(ot).isValid)){const{value:kt,message:Ct}=isMessage(st)?{value:!!st,message:st}:getValueAndMessage(st);if(kt&&(Et[vt]={type:INPUT_VALIDATION_RULES.required,message:Ct,ref:pt,...It(INPUT_VALIDATION_RULES.required,Ct)},!rt))return bt(Ct),Et}if(!Rt&&(!isNullOrUndefined(ut)||!isNullOrUndefined(ft))){let kt,Ct;const Bt=getValueAndMessage(ft),Ft=getValueAndMessage(ut);if(!isNullOrUndefined(mt)&&!isNaN(mt)){const Dt=at.valueAsNumber||mt&&+mt;isNullOrUndefined(Bt.value)||(kt=Dt>Bt.value),isNullOrUndefined(Ft.value)||(Ct=Dt<Ft.value)}else{const Dt=at.valueAsDate||new Date(mt),Mt=Lt=>new Date(new Date().toDateString()+" "+Lt),wt=at.type=="time",Ot=at.type=="week";isString$2(Bt.value)&&mt&&(kt=wt?Mt(mt)>Mt(Bt.value):Ot?mt>Bt.value:Dt>new Date(Bt.value)),isString$2(Ft.value)&&mt&&(Ct=wt?Mt(mt)<Mt(Ft.value):Ot?mt<Ft.value:Dt<new Date(Ft.value))}if((kt||Ct)&&($t(!!kt,Bt.message,Ft.message,INPUT_VALIDATION_RULES.max,INPUT_VALIDATION_RULES.min),!rt))return bt(Et[vt].message),Et}if((lt||ct)&&!Rt&&(isString$2(mt)||it&&Array.isArray(mt))){const kt=getValueAndMessage(lt),Ct=getValueAndMessage(ct),Bt=!isNullOrUndefined(kt.value)&&mt.length>+kt.value,Ft=!isNullOrUndefined(Ct.value)&&mt.length<+Ct.value;if((Bt||Ft)&&($t(Bt,kt.message,Ct.message),!rt))return bt(Et[vt].message),Et}if(ht&&!Rt&&isString$2(mt)){const{value:kt,message:Ct}=getValueAndMessage(ht);if(isRegex(kt)&&!mt.match(kt)&&(Et[vt]={type:INPUT_VALIDATION_RULES.pattern,message:Ct,ref:at,...It(INPUT_VALIDATION_RULES.pattern,Ct)},!rt))return bt(Ct),Et}if(dt){if(isFunction$4(dt)){const kt=await dt(mt,tt),Ct=getValidateError(kt,pt);if(Ct&&(Et[vt]={...Ct,...It(INPUT_VALIDATION_RULES.validate,Ct.message)},!rt))return bt(Ct.message),Et}else if(isObject$d(dt)){let kt={};for(const Ct in dt){if(!isEmptyObject(kt)&&!rt)break;const Bt=getValidateError(await dt[Ct](mt,tt),pt,Ct);Bt&&(kt={...Bt,...It(Ct,Bt.message)},bt(Bt.message),rt&&(Et[vt]=kt))}if(!isEmptyObject(kt)&&(Et[vt]={ref:pt,...kt},!rt))return Et}}return bt(!0),Et};function baseGet$4(et,tt){const rt=tt.slice(0,-1).length;let nt=0;for(;nt<rt;)et=isUndefined(et)?nt++:et[tt[nt++]];return et}function isEmptyArray(et){for(const tt in et)if(et.hasOwnProperty(tt)&&!isUndefined(et[tt]))return!1;return!0}function unset(et,tt){const rt=Array.isArray(tt)?tt:isKey$4(tt)?[tt]:stringToPath$2(tt),nt=rt.length===1?et:baseGet$4(et,rt),it=rt.length-1,at=rt[it];return nt&&delete nt[at],it!==0&&(isObject$d(nt)&&isEmptyObject(nt)||Array.isArray(nt)&&isEmptyArray(nt))&&unset(et,rt.slice(0,-1)),et}var createSubject=()=>{let et=[];return{get observers(){return et},next:it=>{for(const at of et)at.next&&at.next(it)},subscribe:it=>(et.push(it),{unsubscribe:()=>{et=et.filter(at=>at!==it)}}),unsubscribe:()=>{et=[]}}},isPrimitive=et=>isNullOrUndefined(et)||!isObjectType(et);function deepEqual$1(et,tt){if(isPrimitive(et)||isPrimitive(tt))return et===tt;if(isDateObject(et)&&isDateObject(tt))return et.getTime()===tt.getTime();const rt=Object.keys(et),nt=Object.keys(tt);if(rt.length!==nt.length)return!1;for(const it of rt){const at=et[it];if(!nt.includes(it))return!1;if(it!=="ref"){const ot=tt[it];if(isDateObject(at)&&isDateObject(ot)||isObject$d(at)&&isObject$d(ot)||Array.isArray(at)&&Array.isArray(ot)?!deepEqual$1(at,ot):at!==ot)return!1}}return!0}var isMultipleSelect=et=>et.type==="select-multiple",isRadioOrCheckbox=et=>isRadioInput(et)||isCheckBoxInput(et),live=et=>isHTMLElement(et)&&et.isConnected,objectHasFunction=et=>{for(const tt in et)if(isFunction$4(et[tt]))return!0;return!1};function markFieldsDirty(et,tt={}){const rt=Array.isArray(et);if(isObject$d(et)||rt)for(const nt in et)Array.isArray(et[nt])||isObject$d(et[nt])&&!objectHasFunction(et[nt])?(tt[nt]=Array.isArray(et[nt])?[]:{},markFieldsDirty(et[nt],tt[nt])):isNullOrUndefined(et[nt])||(tt[nt]=!0);return tt}function getDirtyFieldsFromDefaultValues(et,tt,rt){const nt=Array.isArray(et);if(isObject$d(et)||nt)for(const it in et)Array.isArray(et[it])||isObject$d(et[it])&&!objectHasFunction(et[it])?isUndefined(tt)||isPrimitive(rt[it])?rt[it]=Array.isArray(et[it])?markFieldsDirty(et[it],[]):{...markFieldsDirty(et[it])}:getDirtyFieldsFromDefaultValues(et[it],isNullOrUndefined(tt)?{}:tt[it],rt[it]):rt[it]=!deepEqual$1(et[it],tt[it]);return rt}var getDirtyFields=(et,tt)=>getDirtyFieldsFromDefaultValues(et,tt,markFieldsDirty(tt)),getFieldValueAs=(et,{valueAsNumber:tt,valueAsDate:rt,setValueAs:nt})=>isUndefined(et)?et:tt?et===""?NaN:et&&+et:rt&&isString$2(et)?new Date(et):nt?nt(et):et;function getFieldValue(et){const tt=et.ref;if(!(et.refs?et.refs.every(rt=>rt.disabled):tt.disabled))return isFileInput(tt)?tt.files:isRadioInput(tt)?getRadioValue(et.refs).value:isMultipleSelect(tt)?[...tt.selectedOptions].map(({value:rt})=>rt):isCheckBoxInput(tt)?getCheckboxValue(et.refs).value:getFieldValueAs(isUndefined(tt.value)?et.ref.value:tt.value,et)}var getResolverOptions=(et,tt,rt,nt)=>{const it={};for(const at of et){const ot=get$3(tt,at);ot&&set(it,at,ot._f)}return{criteriaMode:rt,names:[...et],fields:it,shouldUseNativeValidation:nt}},getRuleValue=et=>isUndefined(et)?et:isRegex(et)?et.source:isObject$d(et)?isRegex(et.value)?et.value.source:et.value:et;const ASYNC_FUNCTION="AsyncFunction";var hasPromiseValidation=et=>(!et||!et.validate)&&!!(isFunction$4(et.validate)&&et.validate.constructor.name===ASYNC_FUNCTION||isObject$d(et.validate)&&Object.values(et.validate).find(tt=>tt.constructor.name===ASYNC_FUNCTION)),hasValidation=et=>et.mount&&(et.required||et.min||et.max||et.maxLength||et.minLength||et.pattern||et.validate);function schemaErrorLookup(et,tt,rt){const nt=get$3(et,rt);if(nt||isKey$4(rt))return{error:nt,name:rt};const it=rt.split(".");for(;it.length;){const at=it.join("."),ot=get$3(tt,at),st=get$3(et,at);if(ot&&!Array.isArray(ot)&&rt!==at)return{name:rt};if(st&&st.type)return{name:at,error:st};it.pop()}return{name:rt}}var skipValidation=(et,tt,rt,nt,it)=>it.isOnAll?!1:!rt&&it.isOnTouch?!(tt||et):(rt?nt.isOnBlur:it.isOnBlur)?!et:(rt?nt.isOnChange:it.isOnChange)?et:!0,unsetEmptyArray=(et,tt)=>!compact(get$3(et,tt)).length&&unset(et,tt);const defaultOptions={mode:VALIDATION_MODE.onSubmit,reValidateMode:VALIDATION_MODE.onChange,shouldFocusError:!0};function createFormControl(et={}){let tt={...defaultOptions,...et},rt={submitCount:0,isDirty:!1,isLoading:isFunction$4(tt.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:tt.errors||{},disabled:tt.disabled||!1},nt={},it=isObject$d(tt.defaultValues)||isObject$d(tt.values)?cloneObject(tt.defaultValues||tt.values)||{}:{},at=tt.shouldUnregister?{}:cloneObject(it),ot={action:!1,mount:!1,watch:!1},st={mount:new Set,unMount:new Set,array:new Set,watch:new Set},lt,ct=0;const ut={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},ft={values:createSubject(),array:createSubject(),state:createSubject()},ht=getValidationModes(tt.mode),dt=getValidationModes(tt.reValidateMode),vt=tt.criteriaMode===VALIDATION_MODE.all,yt=Ut=>qt=>{clearTimeout(ct),ct=setTimeout(Ut,qt)},xt=async Ut=>{if(ut.isValid||Ut){const qt=tt.resolver?isEmptyObject((await Pt()).errors):await It(nt,!0);qt!==rt.isValid&&ft.state.next({isValid:qt})}},_t=(Ut,qt)=>{(ut.isValidating||ut.validatingFields)&&((Ut||Array.from(st.mount)).forEach(Ht=>{Ht&&(qt?set(rt.validatingFields,Ht,qt):unset(rt.validatingFields,Ht))}),ft.state.next({validatingFields:rt.validatingFields,isValidating:!isEmptyObject(rt.validatingFields)}))},mt=(Ut,qt=[],Ht,tr,rr=!0,er=!0)=>{if(tr&&Ht){if(ot.action=!0,er&&Array.isArray(get$3(nt,Ut))){const lr=Ht(get$3(nt,Ut),tr.argA,tr.argB);rr&&set(nt,Ut,lr)}if(er&&Array.isArray(get$3(rt.errors,Ut))){const lr=Ht(get$3(rt.errors,Ut),tr.argA,tr.argB);rr&&set(rt.errors,Ut,lr),unsetEmptyArray(rt.errors,Ut)}if(ut.touchedFields&&er&&Array.isArray(get$3(rt.touchedFields,Ut))){const lr=Ht(get$3(rt.touchedFields,Ut),tr.argA,tr.argB);rr&&set(rt.touchedFields,Ut,lr)}ut.dirtyFields&&(rt.dirtyFields=getDirtyFields(it,at)),ft.state.next({name:Ut,isDirty:kt(Ut,qt),dirtyFields:rt.dirtyFields,errors:rt.errors,isValid:rt.isValid})}else set(at,Ut,qt)},pt=(Ut,qt)=>{set(rt.errors,Ut,qt),ft.state.next({errors:rt.errors})},bt=Ut=>{rt.errors=Ut,ft.state.next({errors:rt.errors,isValid:!1})},Et=(Ut,qt,Ht,tr)=>{const rr=get$3(nt,Ut);if(rr){const er=get$3(at,Ut,isUndefined(Ht)?get$3(it,Ut):Ht);isUndefined(er)||tr&&tr.defaultChecked||qt?set(at,Ut,qt?er:getFieldValue(rr._f)):Ft(Ut,er),ot.mount&&xt()}},St=(Ut,qt,Ht,tr,rr)=>{let er=!1,lr=!1;const mr={name:Ut},pr=!!(get$3(nt,Ut)&&get$3(nt,Ut)._f&&get$3(nt,Ut)._f.disabled);if(!Ht||tr){ut.isDirty&&(lr=rt.isDirty,rt.isDirty=mr.isDirty=kt(),er=lr!==mr.isDirty);const yr=pr||deepEqual$1(get$3(it,Ut),qt);lr=!!(!pr&&get$3(rt.dirtyFields,Ut)),yr||pr?unset(rt.dirtyFields,Ut):set(rt.dirtyFields,Ut,!0),mr.dirtyFields=rt.dirtyFields,er=er||ut.dirtyFields&&lr!==!yr}if(Ht){const yr=get$3(rt.touchedFields,Ut);yr||(set(rt.touchedFields,Ut,Ht),mr.touchedFields=rt.touchedFields,er=er||ut.touchedFields&&yr!==Ht)}return er&&rr&&ft.state.next(mr),er?mr:{}},Tt=(Ut,qt,Ht,tr)=>{const rr=get$3(rt.errors,Ut),er=ut.isValid&&isBoolean$2(qt)&&rt.isValid!==qt;if(et.delayError&&Ht?(lt=yt(()=>pt(Ut,Ht)),lt(et.delayError)):(clearTimeout(ct),lt=null,Ht?set(rt.errors,Ut,Ht):unset(rt.errors,Ut)),(Ht?!deepEqual$1(rr,Ht):rr)||!isEmptyObject(tr)||er){const lr={...tr,...er&&isBoolean$2(qt)?{isValid:qt}:{},errors:rt.errors,name:Ut};rt={...rt,...lr},ft.state.next(lr)}},Pt=async Ut=>{_t(Ut,!0);const qt=await tt.resolver(at,tt.context,getResolverOptions(Ut||st.mount,nt,tt.criteriaMode,tt.shouldUseNativeValidation));return _t(Ut),qt},Rt=async Ut=>{const{errors:qt}=await Pt(Ut);if(Ut)for(const Ht of Ut){const tr=get$3(qt,Ht);tr?set(rt.errors,Ht,tr):unset(rt.errors,Ht)}else rt.errors=qt;return qt},It=async(Ut,qt,Ht={valid:!0})=>{for(const tr in Ut){const rr=Ut[tr];if(rr){const{_f:er,...lr}=rr;if(er){const mr=st.array.has(er.name),pr=rr._f&&hasPromiseValidation(rr._f);pr&&ut.validatingFields&&_t([tr],!0);const yr=await validateField(rr,at,vt,tt.shouldUseNativeValidation&&!qt,mr);if(pr&&ut.validatingFields&&_t([tr]),yr[er.name]&&(Ht.valid=!1,qt))break;!qt&&(get$3(yr,er.name)?mr?updateFieldArrayRootError(rt.errors,yr,er.name):set(rt.errors,er.name,yr[er.name]):unset(rt.errors,er.name))}!isEmptyObject(lr)&&await It(lr,qt,Ht)}}return Ht.valid},$t=()=>{for(const Ut of st.unMount){const qt=get$3(nt,Ut);qt&&(qt._f.refs?qt._f.refs.every(Ht=>!live(Ht)):!live(qt._f.ref))&&hr(Ut)}st.unMount=new Set},kt=(Ut,qt)=>(Ut&&qt&&set(at,Ut,qt),!deepEqual$1(Vt(),it)),Ct=(Ut,qt,Ht)=>generateWatchOutput(Ut,st,{...ot.mount?at:isUndefined(qt)?it:isString$2(Ut)?{[Ut]:qt}:qt},Ht,qt),Bt=Ut=>compact(get$3(ot.mount?at:it,Ut,et.shouldUnregister?get$3(it,Ut,[]):[])),Ft=(Ut,qt,Ht={})=>{const tr=get$3(nt,Ut);let rr=qt;if(tr){const er=tr._f;er&&(!er.disabled&&set(at,Ut,getFieldValueAs(qt,er)),rr=isHTMLElement(er.ref)&&isNullOrUndefined(qt)?"":qt,isMultipleSelect(er.ref)?[...er.ref.options].forEach(lr=>lr.selected=rr.includes(lr.value)):er.refs?isCheckBoxInput(er.ref)?er.refs.length>1?er.refs.forEach(lr=>(!lr.defaultChecked||!lr.disabled)&&(lr.checked=Array.isArray(rr)?!!rr.find(mr=>mr===lr.value):rr===lr.value)):er.refs[0]&&(er.refs[0].checked=!!rr):er.refs.forEach(lr=>lr.checked=lr.value===rr):isFileInput(er.ref)?er.ref.value="":(er.ref.value=rr,er.ref.type||ft.values.next({name:Ut,values:{...at}})))}(Ht.shouldDirty||Ht.shouldTouch)&&St(Ut,rr,Ht.shouldTouch,Ht.shouldDirty,!0),Ht.shouldValidate&&Lt(Ut)},Dt=(Ut,qt,Ht)=>{for(const tr in qt){const rr=qt[tr],er=`${Ut}.${tr}`,lr=get$3(nt,er);(st.array.has(Ut)||!isPrimitive(rr)||lr&&!lr._f)&&!isDateObject(rr)?Dt(er,rr,Ht):Ft(er,rr,Ht)}},Mt=(Ut,qt,Ht={})=>{const tr=get$3(nt,Ut),rr=st.array.has(Ut),er=cloneObject(qt);set(at,Ut,er),rr?(ft.array.next({name:Ut,values:{...at}}),(ut.isDirty||ut.dirtyFields)&&Ht.shouldDirty&&ft.state.next({name:Ut,dirtyFields:getDirtyFields(it,at),isDirty:kt(Ut,er)})):tr&&!tr._f&&!isNullOrUndefined(er)?Dt(Ut,er,Ht):Ft(Ut,er,Ht),isWatched(Ut,st)&&ft.state.next({...rt}),ft.values.next({name:ot.mount?Ut:void 0,values:{...at}})},wt=async Ut=>{ot.mount=!0;const qt=Ut.target;let Ht=qt.name,tr=!0;const rr=get$3(nt,Ht),er=()=>qt.type?getFieldValue(rr._f):getEventValue(Ut),lr=mr=>{tr=Number.isNaN(mr)||deepEqual$1(mr,get$3(at,Ht,mr))};if(rr){let mr,pr;const yr=er(),Ir=Ut.type===EVENTS.BLUR||Ut.type===EVENTS.FOCUS_OUT,Vr=!hasValidation(rr._f)&&!tt.resolver&&!get$3(rt.errors,Ht)&&!rr._f.deps||skipValidation(Ir,get$3(rt.touchedFields,Ht),rt.isSubmitted,dt,ht),Mr=isWatched(Ht,st,Ir);set(at,Ht,yr),Ir?(rr._f.onBlur&&rr._f.onBlur(Ut),lt&&lt(0)):rr._f.onChange&&rr._f.onChange(Ut);const Wr=St(Ht,yr,Ir,!1),Fr=!isEmptyObject(Wr)||Mr;if(!Ir&&ft.values.next({name:Ht,type:Ut.type,values:{...at}}),Vr)return ut.isValid&&(et.mode==="onBlur"?Ir&&xt():xt()),Fr&&ft.state.next({name:Ht,...Mr?{}:Wr});if(!Ir&&Mr&&ft.state.next({...rt}),tt.resolver){const{errors:Kr}=await Pt([Ht]);if(lr(yr),tr){const rn=schemaErrorLookup(rt.errors,nt,Ht),Br=schemaErrorLookup(Kr,nt,rn.name||Ht);mr=Br.error,Ht=Br.name,pr=isEmptyObject(Kr)}}else _t([Ht],!0),mr=(await validateField(rr,at,vt,tt.shouldUseNativeValidation))[Ht],_t([Ht]),lr(yr),tr&&(mr?pr=!1:ut.isValid&&(pr=await It(nt,!0)));tr&&(rr._f.deps&&Lt(rr._f.deps),Tt(Ht,pr,mr,Wr))}},Ot=(Ut,qt)=>{if(get$3(rt.errors,qt)&&Ut.focus)return Ut.focus(),1},Lt=async(Ut,qt={})=>{let Ht,tr;const rr=convertToArrayPayload(Ut);if(tt.resolver){const er=await Rt(isUndefined(Ut)?Ut:rr);Ht=isEmptyObject(er),tr=Ut?!rr.some(lr=>get$3(er,lr)):Ht}else Ut?(tr=(await Promise.all(rr.map(async er=>{const lr=get$3(nt,er);return await It(lr&&lr._f?{[er]:lr}:lr)}))).every(Boolean),!(!tr&&!rt.isValid)&&xt()):tr=Ht=await It(nt);return ft.state.next({...!isString$2(Ut)||ut.isValid&&Ht!==rt.isValid?{}:{name:Ut},...tt.resolver||!Ut?{isValid:Ht}:{},errors:rt.errors}),qt.shouldFocus&&!tr&&iterateFieldsByAction(nt,Ot,Ut?rr:st.mount),tr},Vt=Ut=>{const qt={...ot.mount?at:it};return isUndefined(Ut)?qt:isString$2(Ut)?get$3(qt,Ut):Ut.map(Ht=>get$3(qt,Ht))},zt=(Ut,qt)=>({invalid:!!get$3((qt||rt).errors,Ut),isDirty:!!get$3((qt||rt).dirtyFields,Ut),error:get$3((qt||rt).errors,Ut),isValidating:!!get$3(rt.validatingFields,Ut),isTouched:!!get$3((qt||rt).touchedFields,Ut)}),Yt=Ut=>{Ut&&convertToArrayPayload(Ut).forEach(qt=>unset(rt.errors,qt)),ft.state.next({errors:Ut?rt.errors:{}})},nr=(Ut,qt,Ht)=>{const tr=(get$3(nt,Ut,{_f:{}})._f||{}).ref,rr=get$3(rt.errors,Ut)||{},{ref:er,message:lr,type:mr,...pr}=rr;set(rt.errors,Ut,{...pr,...qt,ref:tr}),ft.state.next({name:Ut,errors:rt.errors,isValid:!1}),Ht&&Ht.shouldFocus&&tr&&tr.focus&&tr.focus()},cr=(Ut,qt)=>isFunction$4(Ut)?ft.values.subscribe({next:Ht=>Ut(Ct(void 0,qt),Ht)}):Ct(Ut,qt,!0),hr=(Ut,qt={})=>{for(const Ht of Ut?convertToArrayPayload(Ut):st.mount)st.mount.delete(Ht),st.array.delete(Ht),qt.keepValue||(unset(nt,Ht),unset(at,Ht)),!qt.keepError&&unset(rt.errors,Ht),!qt.keepDirty&&unset(rt.dirtyFields,Ht),!qt.keepTouched&&unset(rt.touchedFields,Ht),!qt.keepIsValidating&&unset(rt.validatingFields,Ht),!tt.shouldUnregister&&!qt.keepDefaultValue&&unset(it,Ht);ft.values.next({values:{...at}}),ft.state.next({...rt,...qt.keepDirty?{isDirty:kt()}:{}}),!qt.keepIsValid&&xt()},Jt=({disabled:Ut,name:qt,field:Ht,fields:tr,value:rr})=>{if(isBoolean$2(Ut)&&ot.mount||Ut){const er=Ut?void 0:isUndefined(rr)?getFieldValue(Ht?Ht._f:get$3(tr,qt)._f):rr;set(at,qt,er),St(qt,er,!1,!1,!0)}},ur=(Ut,qt={})=>{let Ht=get$3(nt,Ut);const tr=isBoolean$2(qt.disabled)||isBoolean$2(et.disabled);return set(nt,Ut,{...Ht||{},_f:{...Ht&&Ht._f?Ht._f:{ref:{name:Ut}},name:Ut,mount:!0,...qt}}),st.mount.add(Ut),Ht?Jt({field:Ht,disabled:isBoolean$2(qt.disabled)?qt.disabled:et.disabled,name:Ut,value:qt.value}):Et(Ut,!0,qt.value),{...tr?{disabled:qt.disabled||et.disabled}:{},...tt.progressive?{required:!!qt.required,min:getRuleValue(qt.min),max:getRuleValue(qt.max),minLength:getRuleValue(qt.minLength),maxLength:getRuleValue(qt.maxLength),pattern:getRuleValue(qt.pattern)}:{},name:Ut,onChange:wt,onBlur:wt,ref:rr=>{if(rr){ur(Ut,qt),Ht=get$3(nt,Ut);const er=isUndefined(rr.value)&&rr.querySelectorAll&&rr.querySelectorAll("input,select,textarea")[0]||rr,lr=isRadioOrCheckbox(er),mr=Ht._f.refs||[];if(lr?mr.find(pr=>pr===er):er===Ht._f.ref)return;set(nt,Ut,{_f:{...Ht._f,...lr?{refs:[...mr.filter(live),er,...Array.isArray(get$3(it,Ut))?[{}]:[]],ref:{type:er.type,name:Ut}}:{ref:er}}}),Et(Ut,!1,void 0,er)}else Ht=get$3(nt,Ut,{}),Ht._f&&(Ht._f.mount=!1),(tt.shouldUnregister||qt.shouldUnregister)&&!(isNameInFieldArray(st.array,Ut)&&ot.action)&&st.unMount.add(Ut)}}},Xt=()=>tt.shouldFocusError&&iterateFieldsByAction(nt,Ot,st.mount),Zt=Ut=>{isBoolean$2(Ut)&&(ft.state.next({disabled:Ut}),iterateFieldsByAction(nt,(qt,Ht)=>{const tr=get$3(nt,Ht);tr&&(qt.disabled=tr._f.disabled||Ut,Array.isArray(tr._f.refs)&&tr._f.refs.forEach(rr=>{rr.disabled=tr._f.disabled||Ut}))},0,!1))},ir=(Ut,qt)=>async Ht=>{let tr;Ht&&(Ht.preventDefault&&Ht.preventDefault(),Ht.persist&&Ht.persist());let rr=cloneObject(at);if(ft.state.next({isSubmitting:!0}),tt.resolver){const{errors:er,values:lr}=await Pt();rt.errors=er,rr=lr}else await It(nt);if(unset(rt.errors,"root"),isEmptyObject(rt.errors)){ft.state.next({errors:{}});try{await Ut(rr,Ht)}catch(er){tr=er}}else qt&&await qt({...rt.errors},Ht),Xt(),setTimeout(Xt);if(ft.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:isEmptyObject(rt.errors)&&!tr,submitCount:rt.submitCount+1,errors:rt.errors}),tr)throw tr},Wt=(Ut,qt={})=>{get$3(nt,Ut)&&(isUndefined(qt.defaultValue)?Mt(Ut,cloneObject(get$3(it,Ut))):(Mt(Ut,qt.defaultValue),set(it,Ut,cloneObject(qt.defaultValue))),qt.keepTouched||unset(rt.touchedFields,Ut),qt.keepDirty||(unset(rt.dirtyFields,Ut),rt.isDirty=qt.defaultValue?kt(Ut,cloneObject(get$3(it,Ut))):kt()),qt.keepError||(unset(rt.errors,Ut),ut.isValid&&xt()),ft.state.next({...rt}))},sr=(Ut,qt={})=>{const Ht=Ut?cloneObject(Ut):it,tr=cloneObject(Ht),rr=isEmptyObject(Ut),er=rr?it:tr;if(qt.keepDefaultValues||(it=Ht),!qt.keepValues){if(qt.keepDirtyValues)for(const lr of st.mount)get$3(rt.dirtyFields,lr)?set(er,lr,get$3(at,lr)):Mt(lr,get$3(er,lr));else{if(isWeb&&isUndefined(Ut))for(const lr of st.mount){const mr=get$3(nt,lr);if(mr&&mr._f){const pr=Array.isArray(mr._f.refs)?mr._f.refs[0]:mr._f.ref;if(isHTMLElement(pr)){const yr=pr.closest("form");if(yr){yr.reset();break}}}}nt={}}at=et.shouldUnregister?qt.keepDefaultValues?cloneObject(it):{}:cloneObject(er),ft.array.next({values:{...er}}),ft.values.next({values:{...er}})}st={mount:qt.keepDirtyValues?st.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},ot.mount=!ut.isValid||!!qt.keepIsValid||!!qt.keepDirtyValues,ot.watch=!!et.shouldUnregister,ft.state.next({submitCount:qt.keepSubmitCount?rt.submitCount:0,isDirty:rr?!1:qt.keepDirty?rt.isDirty:!!(qt.keepDefaultValues&&!deepEqual$1(Ut,it)),isSubmitted:qt.keepIsSubmitted?rt.isSubmitted:!1,dirtyFields:rr?{}:qt.keepDirtyValues?qt.keepDefaultValues&&at?getDirtyFields(it,at):rt.dirtyFields:qt.keepDefaultValues&&Ut?getDirtyFields(it,Ut):qt.keepDirty?rt.dirtyFields:{},touchedFields:qt.keepTouched?rt.touchedFields:{},errors:qt.keepErrors?rt.errors:{},isSubmitSuccessful:qt.keepIsSubmitSuccessful?rt.isSubmitSuccessful:!1,isSubmitting:!1})},Qt=(Ut,qt)=>sr(isFunction$4(Ut)?Ut(at):Ut,qt);return{control:{register:ur,unregister:hr,getFieldState:zt,handleSubmit:ir,setError:nr,_executeSchema:Pt,_getWatch:Ct,_getDirty:kt,_updateValid:xt,_removeUnmounted:$t,_updateFieldArray:mt,_updateDisabledField:Jt,_getFieldArray:Bt,_reset:sr,_resetDefaultValues:()=>isFunction$4(tt.defaultValues)&&tt.defaultValues().then(Ut=>{Qt(Ut,tt.resetOptions),ft.state.next({isLoading:!1})}),_updateFormState:Ut=>{rt={...rt,...Ut}},_disableForm:Zt,_subjects:ft,_proxyFormState:ut,_setErrors:bt,get _fields(){return nt},get _formValues(){return at},get _state(){return ot},set _state(Ut){ot=Ut},get _defaultValues(){return it},get _names(){return st},set _names(Ut){st=Ut},get _formState(){return rt},set _formState(Ut){rt=Ut},get _options(){return tt},set _options(Ut){tt={...tt,...Ut}}},trigger:Lt,register:ur,handleSubmit:ir,watch:cr,setValue:Mt,getValues:Vt,reset:Qt,resetField:Wt,clearErrors:Yt,unregister:hr,setError:nr,setFocus:(Ut,qt={})=>{const Ht=get$3(nt,Ut),tr=Ht&&Ht._f;if(tr){const rr=tr.refs?tr.refs[0]:tr.ref;rr.focus&&(rr.focus(),qt.shouldSelect&&rr.select())}},getFieldState:zt}}function useForm(et={}){const tt=React.useRef(),rt=React.useRef(),[nt,it]=React.useState({isDirty:!1,isValidating:!1,isLoading:isFunction$4(et.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:et.errors||{},disabled:et.disabled||!1,defaultValues:isFunction$4(et.defaultValues)?void 0:et.defaultValues});tt.current||(tt.current={...createFormControl(et),formState:nt});const at=tt.current.control;return at._options=et,useSubscribe({subject:at._subjects.state,next:ot=>{shouldRenderFormState(ot,at._proxyFormState,at._updateFormState)&&it({...at._formState})}}),React.useEffect(()=>at._disableForm(et.disabled),[at,et.disabled]),React.useEffect(()=>{if(at._proxyFormState.isDirty){const ot=at._getDirty();ot!==nt.isDirty&&at._subjects.state.next({isDirty:ot})}},[at,nt.isDirty]),React.useEffect(()=>{et.values&&!deepEqual$1(et.values,rt.current)?(at._reset(et.values,at._options.resetOptions),rt.current=et.values,it(ot=>({...ot}))):at._resetDefaultValues()},[et.values,at]),React.useEffect(()=>{et.errors&&at._setErrors(et.errors)},[et.errors,at]),React.useEffect(()=>{at._state.mount||(at._updateValid(),at._state.mount=!0),at._state.watch&&(at._state.watch=!1,at._subjects.state.next({...at._formState})),at._removeUnmounted()}),React.useEffect(()=>{et.shouldUnregister&&at._subjects.values.next({values:at._getWatch()})},[et.shouldUnregister,at]),tt.current.formState=getProxyFormState(nt,at),tt.current}const LoginForm=({handleLogin:et,loginError:tt})=>{const{register:rt,handleSubmit:nt,formState:{errors:it}}=useForm();return jsxRuntimeExports.jsxs("form",{onSubmit:nt(et),className:"flex flex-col",children:[jsxRuntimeExports.jsx("label",{htmlFor:"loginAccount",className:"font-bold text-base leading-6 mb-2 text-black dark:text-black-0",children:"帳號"}),jsxRuntimeExports.jsx("input",{type:"text",name:"loginAccount",id:"loginAccount",placeholder:"請輸入帳號",className:`py-2 px-4 w-full rounded-xl border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-base leading-6 dark:bg-black-100 placeholder-black ${it.loginAccount?"":"mb-4"}`,...rt("loginAccount",{required:"Email 是必填項目"})}),it.loginAccount&&jsxRuntimeExports.jsx("p",{className:"text-alert pl-4 mt-1 mb-3",children:it.loginAccount.message}),jsxRuntimeExports.jsx("label",{htmlFor:"loginPassword",className:"font-bold text-base leading-6 mb-2 text-black dark:text-black-0",children:"密碼"}),jsxRuntimeExports.jsx("input",{type:"password",name:"loginPassword",id:"loginPassword",placeholder:"請輸入密碼",className:`py-2 px-4 w-full rounded-xl border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-base leading-6 dark:bg-black-100 placeholder-black ${it.loginPassword?"":"mb-8"}`,...rt("loginPassword",{required:"密碼是必填項目"})}),it.loginPassword&&jsxRuntimeExports.jsx("p",{className:"text-alert pl-4 mt-1 mb-3",children:it.loginPassword.message}),tt&&jsxRuntimeExports.jsx("p",{className:"text-alert",children:tt}),jsxRuntimeExports.jsx("button",{type:"submit",className:"w-full rounded-lg bg-primary font-bold text-base leading-6 py-2 hover:bg-primary-dark",children:"登入帳號"})]})};LoginForm.propTypes={handleLogin:PropTypes.func.isRequired,loginError:PropTypes.string};var DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IconContext=React.createContext&&React.createContext(DefaultContext),_excluded$j=["attr","size","title"];function _objectWithoutProperties$j(et,tt){if(et==null)return{};var rt=_objectWithoutPropertiesLoose$j(et,tt),nt,it;if(Object.getOwnPropertySymbols){var at=Object.getOwnPropertySymbols(et);for(it=0;it<at.length;it++)nt=at[it],!(tt.indexOf(nt)>=0)&&Object.prototype.propertyIsEnumerable.call(et,nt)&&(rt[nt]=et[nt])}return rt}function _objectWithoutPropertiesLoose$j(et,tt){if(et==null)return{};var rt={};for(var nt in et)if(Object.prototype.hasOwnProperty.call(et,nt)){if(tt.indexOf(nt)>=0)continue;rt[nt]=et[nt]}return rt}function _extends$v(){return _extends$v=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$v.apply(this,arguments)}function ownKeys$C(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(it){return Object.getOwnPropertyDescriptor(et,it).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$C(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$C(Object(rt),!0).forEach(function(nt){_defineProperty$G(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$C(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$G(et,tt,rt){return tt=_toPropertyKey$F(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$F(et){var tt=_toPrimitive$G(et,"string");return typeof tt=="symbol"?tt:tt+""}function _toPrimitive$G(et,tt){if(typeof et!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(typeof nt!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}function Tree2Element(et){return et&&et.map((tt,rt)=>React.createElement(tt.tag,_objectSpread$C({key:rt},tt.attr),Tree2Element(tt.child)))}function GenIcon(et){return tt=>React.createElement(IconBase,_extends$v({attr:_objectSpread$C({},et.attr)},tt),Tree2Element(et.child))}function IconBase(et){var tt=rt=>{var{attr:nt,size:it,title:at}=et,ot=_objectWithoutProperties$j(et,_excluded$j),st=it||rt.size||"1em",lt;return rt.className&&(lt=rt.className),et.className&&(lt=(lt?lt+" ":"")+et.className),React.createElement("svg",_extends$v({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},rt.attr,nt,ot,{className:lt,style:_objectSpread$C(_objectSpread$C({color:et.color||rt.color},rt.style),et.style),height:st,width:st,xmlns:"http://www.w3.org/2000/svg"}),at&&React.createElement("title",null,at),et.children)};return IconContext!==void 0?React.createElement(IconContext.Consumer,null,rt=>tt(rt)):tt(DefaultContext)}function TbCircleCheckFilled(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-1.293 5.953a1 1 0 0 0 -1.32 -.083l-.094 .083l-3.293 3.292l-1.293 -1.292l-.094 -.083a1 1 0 0 0 -1.403 1.403l.083 .094l2 2l.094 .083a1 1 0 0 0 1.226 0l.094 -.083l4 -4l.083 -.094a1 1 0 0 0 -.083 -1.32z"},child:[]}]})(et)}function TbCoinFilled(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 3.34a10 10 0 1 1 -15 8.66l.005 -.324a10 10 0 0 1 14.995 -8.336zm-5 2.66a1 1 0 0 0 -1 1a3 3 0 1 0 0 6v2a1.024 1.024 0 0 1 -.866 -.398l-.068 -.101a1 1 0 0 0 -1.732 .998a3 3 0 0 0 2.505 1.5h.161a1 1 0 0 0 .883 .994l.117 .007a1 1 0 0 0 1 -1l.176 -.005a3 3 0 0 0 -.176 -5.995v-2c.358 -.012 .671 .14 .866 .398l.068 .101a1 1 0 0 0 1.732 -.998a3 3 0 0 0 -2.505 -1.501h-.161a1 1 0 0 0 -1 -1zm1 7a1 1 0 0 1 0 2v-2zm-2 -4v2a1 1 0 0 1 0 -2z"},child:[]}]})(et)}function TbHeartFilled(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M6.979 3.074a6 6 0 0 1 4.988 1.425l.037 .033l.034 -.03a6 6 0 0 1 4.733 -1.44l.246 .036a6 6 0 0 1 3.364 10.008l-.18 .185l-.048 .041l-7.45 7.379a1 1 0 0 1 -1.313 .082l-.094 -.082l-7.493 -7.422a6 6 0 0 1 3.176 -10.215z"},child:[]}]})(et)}function TbAlertCircle(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"},child:[]},{tag:"path",attr:{d:"M12 8v4"},child:[]},{tag:"path",attr:{d:"M12 16h.01"},child:[]}]})(et)}function TbBook(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0"},child:[]},{tag:"path",attr:{d:"M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0"},child:[]},{tag:"path",attr:{d:"M3 6l0 13"},child:[]},{tag:"path",attr:{d:"M12 6l0 13"},child:[]},{tag:"path",attr:{d:"M21 6l0 13"},child:[]}]})(et)}function TbBowlChopsticks(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 11h16a1 1 0 0 1 1 1v.5c0 1.5 -2.517 5.573 -4 6.5v1a1 1 0 0 1 -1 1h-8a1 1 0 0 1 -1 -1v-1c-1.687 -1.054 -4 -5 -4 -6.5v-.5a1 1 0 0 1 1 -1z"},child:[]},{tag:"path",attr:{d:"M19 7l-14 1"},child:[]},{tag:"path",attr:{d:"M19 2l-14 3"},child:[]}]})(et)}function TbCalendarSmile(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 7a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12zm12 -4v4m-8 -4v4m-4 4h16m-9.995 3h.01m3.99 0h.01"},child:[]},{tag:"path",attr:{d:"M10.005 17a3.5 3.5 0 0 0 4 0"},child:[]}]})(et)}function TbCash(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M7 9m0 2a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v6a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2z"},child:[]},{tag:"path",attr:{d:"M14 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"},child:[]},{tag:"path",attr:{d:"M17 9v-2a2 2 0 0 0 -2 -2h-10a2 2 0 0 0 -2 2v6a2 2 0 0 0 2 2h2"},child:[]}]})(et)}function TbCheck(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12l5 5l10 -10"},child:[]}]})(et)}function TbChevronDown(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 9l6 6l6 -6"},child:[]}]})(et)}function TbChevronLeft(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 6l-6 6l6 6"},child:[]}]})(et)}function TbChevronRight(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 6l6 6l-6 6"},child:[]}]})(et)}function TbCircleCheck(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"},child:[]},{tag:"path",attr:{d:"M9 12l2 2l4 -4"},child:[]}]})(et)}function TbCoin(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"},child:[]},{tag:"path",attr:{d:"M14.8 9a2 2 0 0 0 -1.8 -1h-2a2 2 0 1 0 0 4h2a2 2 0 1 1 0 4h-2a2 2 0 0 1 -1.8 -1"},child:[]},{tag:"path",attr:{d:"M12 7v10"},child:[]}]})(et)}function TbDots(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]}]})(et)}function TbHandGrab(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 11v-3.5a1.5 1.5 0 0 1 3 0v2.5"},child:[]},{tag:"path",attr:{d:"M11 9.5v-3a1.5 1.5 0 0 1 3 0v3.5"},child:[]},{tag:"path",attr:{d:"M14 7.5a1.5 1.5 0 0 1 3 0v2.5"},child:[]},{tag:"path",attr:{d:"M17 9.5a1.5 1.5 0 0 1 3 0v4.5a6 6 0 0 1 -6 6h-2h.208a6 6 0 0 1 -5.012 -2.7l-.196 -.3c-.312 -.479 -1.407 -2.388 -3.286 -5.728a1.5 1.5 0 0 1 .536 -2.022a1.867 1.867 0 0 1 2.28 .28l1.47 1.47"},child:[]}]})(et)}function TbHeart(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19.5 12.572l-7.5 7.428l-7.5 -7.428a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"},child:[]}]})(et)}function TbHome2(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12l-2 0l9 -9l9 9l-2 0"},child:[]},{tag:"path",attr:{d:"M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7"},child:[]},{tag:"path",attr:{d:"M10 12h4v4h-4z"},child:[]}]})(et)}function TbInfoCircle(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"},child:[]},{tag:"path",attr:{d:"M12 9h.01"},child:[]},{tag:"path",attr:{d:"M11 12h1v4h1"},child:[]}]})(et)}function TbLayoutSidebarRight(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z"},child:[]},{tag:"path",attr:{d:"M15 4l0 16"},child:[]}]})(et)}function TbLogout(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2"},child:[]},{tag:"path",attr:{d:"M9 12h12l-3 -3"},child:[]},{tag:"path",attr:{d:"M18 15l3 -3"},child:[]}]})(et)}function TbMedal2(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 3h6l3 7l-6 2l-6 -2z"},child:[]},{tag:"path",attr:{d:"M12 12l-3 -9"},child:[]},{tag:"path",attr:{d:"M15 11l-3 -8"},child:[]},{tag:"path",attr:{d:"M12 19.5l-3 1.5l.5 -3.5l-2 -2l3 -.5l1.5 -3l1.5 3l3 .5l-2 2l.5 3.5z"},child:[]}]})(et)}function TbMessageChatbot(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 4a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-5l-5 3v-3h-2a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12z"},child:[]},{tag:"path",attr:{d:"M9.5 9h.01"},child:[]},{tag:"path",attr:{d:"M14.5 9h.01"},child:[]},{tag:"path",attr:{d:"M9.5 13a3.5 3.5 0 0 0 5 0"},child:[]}]})(et)}function TbMessage(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 9h8"},child:[]},{tag:"path",attr:{d:"M8 13h6"},child:[]},{tag:"path",attr:{d:"M18 4a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-5l-5 3v-3h-2a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12z"},child:[]}]})(et)}function TbMinus(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12l14 0"},child:[]}]})(et)}function TbMoodHeart(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12a9 9 0 1 0 -8.012 8.946"},child:[]},{tag:"path",attr:{d:"M9 10h.01"},child:[]},{tag:"path",attr:{d:"M15 10h.01"},child:[]},{tag:"path",attr:{d:"M9.5 15a3.59 3.59 0 0 0 2.774 .99"},child:[]},{tag:"path",attr:{d:"M18.994 21.5l2.518 -2.58a1.74 1.74 0 0 0 .004 -2.413a1.627 1.627 0 0 0 -2.346 -.005l-.168 .172l-.168 -.172a1.627 1.627 0 0 0 -2.346 -.004a1.74 1.74 0 0 0 -.004 2.412l2.51 2.59z"},child:[]}]})(et)}function TbMoodSmile(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"},child:[]},{tag:"path",attr:{d:"M9 10l.01 0"},child:[]},{tag:"path",attr:{d:"M15 10l.01 0"},child:[]},{tag:"path",attr:{d:"M9.5 15a3.5 3.5 0 0 0 5 0"},child:[]}]})(et)}function TbPhoto(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 8h.01"},child:[]},{tag:"path",attr:{d:"M3 6a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v12a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3v-12z"},child:[]},{tag:"path",attr:{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l5 5"},child:[]},{tag:"path",attr:{d:"M14 14l1 -1c.928 -.893 2.072 -.893 3 0l3 3"},child:[]}]})(et)}function TbPlant(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M7 15h10v4a2 2 0 0 1 -2 2h-6a2 2 0 0 1 -2 -2v-4z"},child:[]},{tag:"path",attr:{d:"M12 9a6 6 0 0 0 -6 -6h-3v2a6 6 0 0 0 6 6h3"},child:[]},{tag:"path",attr:{d:"M12 11a6 6 0 0 1 6 -6h3v1a6 6 0 0 1 -6 6h-3"},child:[]},{tag:"path",attr:{d:"M12 15l0 -6"},child:[]}]})(et)}function TbPlus(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 5l0 14"},child:[]},{tag:"path",attr:{d:"M5 12l14 0"},child:[]}]})(et)}function TbRocket(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 13a8 8 0 0 1 7 7a6 6 0 0 0 3 -5a9 9 0 0 0 6 -8a3 3 0 0 0 -3 -3a9 9 0 0 0 -8 6a6 6 0 0 0 -5 3"},child:[]},{tag:"path",attr:{d:"M7 14a6 6 0 0 0 -3 6a6 6 0 0 0 6 -3"},child:[]},{tag:"path",attr:{d:"M15 9m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]}]})(et)}function TbSend2(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4.698 4.034l16.302 7.966l-16.302 7.966a.503 .503 0 0 1 -.546 -.124a.555 .555 0 0 1 -.12 -.568l2.468 -7.274l-2.468 -7.274a.555 .555 0 0 1 .12 -.568a.503 .503 0 0 1 .546 -.124z"},child:[]},{tag:"path",attr:{d:"M6.5 12h14.5"},child:[]}]})(et)}function TbSettings(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z"},child:[]},{tag:"path",attr:{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0"},child:[]}]})(et)}function TbWalk(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M13 4m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M7 21l3 -4"},child:[]},{tag:"path",attr:{d:"M16 21l-2 -4l-3 -3l1 -6"},child:[]},{tag:"path",attr:{d:"M6 12l2 -3l4 -1l3 3l3 1"},child:[]}]})(et)}function TbX(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 6l-12 12"},child:[]},{tag:"path",attr:{d:"M6 6l12 12"},child:[]}]})(et)}const layoutIcons={TbHome2,TbCoin,TbMedal2,TbMessage,TbMoodSmile},habitIcons={TbRocket,TbBook,TbWalk,TbBowlChopsticks,TbMoodHeart,TbHandGrab,TbCash,TbPlant},checkIcon={TbCheck},weekCalendarIcons={TbChevronLeft,TbChevronRight},habitDetailIcon={TbCalendarSmile},habitAddIcon={TbPlus,TbMinus},modalIcons={TbX,TbInfoCircle,TbAlertCircle},dropdownIcon={TbChevronDown},postIcons={TbHeart,TbHeartFilled,TbMessageChatbot,TbDots,TbSend2},rankIcons={TbCircleCheck,TbCircleCheckFilled,TbCoin,TbCoinFilled},settingIcons={TbSettings,TbPhoto},generalIcons={TbLogout,TbLayoutSidebarRight},RegisterForm=({handleRegister:et})=>{const{register:tt,handleSubmit:rt,watch:nt,formState:{errors:it}}=useForm();return jsxRuntimeExports.jsxs("form",{onSubmit:rt(et),className:"flex flex-col",children:[jsxRuntimeExports.jsx("label",{htmlFor:"email",className:"font-bold text-base leading-6 mb-2 text-black dark:text-black-0",children:"Email"}),jsxRuntimeExports.jsx("input",{type:"email",name:"email",id:"email",placeholder:"請輸入 Email",className:`py-2 px-4 w-full rounded-xl border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-base leading-6 dark:bg-black-100 placeholder-black ${it.email?"":"mb-4"}`,...tt("email",{required:"Email 是必填項目"})}),it.email&&jsxRuntimeExports.jsx("p",{className:"text-alert pl-4 mt-1 mb-3",children:it.email.message}),jsxRuntimeExports.jsxs("div",{className:"relative group flex items-center mb-2",children:[jsxRuntimeExports.jsx("label",{htmlFor:"account",className:"font-bold text-base leading-6 text-black dark:text-black-0",children:"帳號"}),jsxRuntimeExports.jsx(modalIcons.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200 ml-2 inline-block cursor-help"}),jsxRuntimeExports.jsx("span",{className:"absolute -bottom-1 left-[72px] transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto z-50 before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark whitespace-normal break-words",children:"帳號可以是英文、數字或符號的組合"})]}),jsxRuntimeExports.jsx("input",{type:"text",name:"account",id:"account",placeholder:"請輸入帳號",className:`py-2 px-4 w-full rounded-xl border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-base leading-6 dark:bg-black-100 placeholder-black ${it.account?"":"mb-4"}`,...tt("account",{required:"帳號是必填項目"})}),it.account&&jsxRuntimeExports.jsx("p",{className:"text-alert pl-4 mt-1 mb-3",children:it.account.message}),jsxRuntimeExports.jsxs("div",{className:"relative group flex items-center mb-2",children:[jsxRuntimeExports.jsx("label",{htmlFor:"registerPassword",className:"font-bold text-base leading-6 text-black dark:text-black-0",children:"密碼"}),jsxRuntimeExports.jsx(modalIcons.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200 ml-2 inline-block cursor-help"}),jsxRuntimeExports.jsx("span",{className:"absolute -bottom-1 left-[72px] transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto z-50 before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark whitespace-normal break-words",children:"密碼可以是英文、數字或符號的組合，至少需要 6 個字符"})]}),jsxRuntimeExports.jsx("input",{type:"password",name:"registerPassword",id:"registerPassword",placeholder:"請輸入密碼",className:`py-2 px-4 w-full rounded-xl border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-base leading-6 dark:bg-black-100 placeholder-black ${it.registerPassword?"":"mb-4"}`,...tt("registerPassword",{required:"密碼是必填項目",minLength:{value:6,message:"密碼至少需要 6 個字符"}})}),it.registerPassword&&jsxRuntimeExports.jsx("p",{className:"text-alert pl-4 mt-1 mb-3",children:it.registerPassword.message}),jsxRuntimeExports.jsx("label",{htmlFor:"registerCheckPassword",className:"font-bold text-base leading-6 mb-2 text-black dark:text-black-0",children:"確認密碼"}),jsxRuntimeExports.jsx("input",{type:"password",name:"registerCheckPassword",id:"registerCheckPassword",placeholder:"請再次輸入密碼",className:`py-2 px-4 w-full rounded-xl border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-base leading-6 dark:bg-black-100 placeholder-black ${it.registerCheckPassword?"":"mb-4"}`,...tt("registerCheckPassword",{required:"確認密碼是必填項目",validate:at=>at===nt("registerPassword")||"密碼不一致",minLength:{value:6,message:"密碼至少需要 6 個字符"}})}),it.registerCheckPassword&&jsxRuntimeExports.jsx("p",{className:"text-alert pl-4 mt-1 mb-3",children:it.registerCheckPassword.message}),jsxRuntimeExports.jsxs("div",{className:"relative group flex items-center mb-2",children:[jsxRuntimeExports.jsx("label",{htmlFor:"name",className:"font-bold text-base leading-6 text-black dark:text-black-0",children:"會員名稱"}),jsxRuntimeExports.jsx(modalIcons.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200 ml-2 inline-block cursor-help"}),jsxRuntimeExports.jsx("span",{className:"absolute -bottom-1 left-[104px] transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto z-50 before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark whitespace-normal break-words",children:"會員名稱可以是中文、英文、數字或符號，但不得超過 9 個字符"})]}),jsxRuntimeExports.jsx("input",{type:"text",name:"name",id:"name",placeholder:"請輸入會員名稱",className:`py-2 px-4 w-full rounded-xl border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-base leading-6 dark:bg-black-100 placeholder-black ${it.name?"":"mb-8"}`,...tt("name",{required:"會員名稱是必填項目",maxLength:{value:9,message:"會員名稱不得超過 9 個字符"}})}),it.name&&jsxRuntimeExports.jsx("p",{className:"text-alert pl-4 mt-1 mb-3",children:it.name.message}),jsxRuntimeExports.jsx("button",{type:"submit",className:"w-full rounded-lg bg-primary font-bold text-base leading-6 py-2 hover:bg-primary-dark",children:"註冊帳號"})]})};RegisterForm.propTypes={handleRegister:PropTypes.func.isRequired};const habitPiggyLoading1="/assets/habit-piggy-loading-1-B5_9kssG.svg",habitPiggyLoading2="data:image/svg+xml,%3csvg%20width='400'%20height='400'%20viewBox='0%200%20400%20400'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_621_231)'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M71.3763%20235.358C60.4405%20237.822%2050.0101%20240.148%2039.1823%20243.038C34.0177%20244.417%2028.3404%20246.414%2023.2452%20248.048C28.0237%20252.579%2031.2249%20254.302%2035.9444%20258.874C35.9464%20258.875%2025.2946%20268.037%2017.9071%20274.836C31.5676%20273.098%2048.0961%20264.815%2056.949%20259.742C53.5028%20256.663%2049.934%20253.573%2046.2392%20250.794C54.5474%20245.55%2063.0089%20240.496%2071.3763%20235.358Z'%20fill='%23FFDE6A'%20stroke='%23FFDE6A'%20stroke-width='3.94849'%20stroke-miterlimit='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M323.975%2087.699C329.923%2086.1051%20335.366%2091.5484%20333.772%2097.497L321.22%20144.342C319.627%20150.29%20312.191%20152.283%20307.836%20147.928L273.543%20113.635C269.189%20109.281%20271.181%20101.845%20277.13%20100.251L323.975%2087.699Z'%20fill='%23FFC700'/%3e%3cpath%20d='M240.41%20320.176C238.827%20315.772%20241.347%20310.955%20245.868%20309.744L267.709%20303.892C272.23%20302.68%20276.82%20305.592%20277.652%20310.197L283.358%20341.797C284.098%20345.892%20281.575%20349.869%20277.556%20350.946L260.867%20355.418C256.848%20356.495%20252.675%20354.311%20251.268%20350.396L240.41%20320.176Z'%20fill='%23FFC700'/%3e%3cpath%20d='M201.348%20310.197C202.18%20305.592%20206.77%20302.68%20211.291%20303.892L233.132%20309.744C237.653%20310.955%20240.173%20315.772%20238.59%20320.176L227.732%20350.396C226.325%20354.311%20222.152%20356.495%20218.133%20355.418L201.444%20350.946C197.425%20349.869%20194.902%20345.892%20195.642%20341.797L201.348%20310.197Z'%20fill='%23FFC700'/%3e%3ccircle%20cx='191'%20cy='206'%20r='140'%20fill='%23FFDE6A'/%3e%3cpath%20d='M246.5%20182.125C246.5%20193.554%20237.956%20202.75%20227.5%20202.75C217.044%20202.75%20208.5%20193.554%20208.5%20182.125C208.5%20170.696%20217.044%20161.5%20227.5%20161.5C237.956%20161.5%20246.5%20170.696%20246.5%20182.125Z'%20fill='%23F6F6F6'%20stroke='%23454545'/%3e%3cellipse%20cx='232.375'%20cy='182.125'%20rx='14.625'%20ry='16.25'%20fill='%23454545'/%3e%3cpath%20d='M325.5%20182.125C325.5%20193.554%20316.956%20202.75%20306.5%20202.75C296.043%20202.75%20287.5%20193.554%20287.5%20182.125C287.5%20170.696%20296.043%20161.5%20306.5%20161.5C316.956%20161.5%20325.5%20170.696%20325.5%20182.125Z'%20fill='%23F6F6F6'%20stroke='%23454545'/%3e%3cellipse%20cx='311.375'%20cy='182.125'%20rx='14.625'%20ry='16.25'%20fill='%23454545'/%3e%3cpath%20d='M106.348%20310.197C107.18%20305.592%20111.77%20302.68%20116.291%20303.892L138.132%20309.744C142.653%20310.955%20145.173%20315.772%20143.59%20320.176L132.732%20350.396C131.325%20354.311%20127.152%20356.495%20123.133%20355.418L106.444%20350.946C102.425%20349.869%2099.9021%20345.892%20100.641%20341.797L106.348%20310.197Z'%20fill='%23FFC700'/%3e%3cpath%20d='M145.41%20320.176C143.827%20315.772%20146.347%20310.955%20150.868%20309.744L172.709%20303.892C177.23%20302.68%20181.82%20305.592%20182.652%20310.197L188.358%20341.797C189.098%20345.892%20186.575%20349.869%20182.556%20350.946L165.867%20355.418C161.848%20356.495%20157.675%20354.311%20156.268%20350.396L145.41%20320.176Z'%20fill='%23FFC700'/%3e%3cpath%20d='M135.527%20100.443C133.934%2094.4946%20139.377%2089.0513%20145.325%2090.6452L198.862%20104.99C204.811%20106.584%20206.803%20114.02%20202.449%20118.375L163.257%20157.566C158.902%20161.921%20151.467%20159.929%20149.873%20153.98L135.527%20100.443Z'%20fill='%23FFC700'/%3e%3cellipse%20cx='234.471'%20cy='267.604'%20rx='12'%20ry='16'%20transform='rotate(45%20234.471%20267.604)'%20fill='%23E17F63'/%3e%3cpath%20d='M254%20259.132C254%20266.588%20251.127%20271.132%20244.5%20271.132C237.873%20271.132%20231.5%20264.088%20231.5%20256.632C231.5%20249.177%20235.373%20245.632%20242%20245.632C248.627%20245.632%20254%20251.677%20254%20259.132Z'%20fill='%23FFDE6A'/%3e%3cpath%20d='M230%20256C238.182%20270.711%20245.81%20275.071%20264.641%20276'%20stroke='%23454545'%20stroke-width='4'%20stroke-linecap='round'/%3e%3cpath%20d='M315%20226.599C315%20252.984%20297.091%20268.8%20275%20268.8C252.909%20268.8%20235%20252.984%20235%20226.599C235%20200.214%20252.909%20184%20275%20184C297.091%20184%20315%20200.214%20315%20226.599Z'%20fill='%23FFC700'/%3e%3cpath%20d='M279.4%20226C279.4%20230.418%20276.618%20234%20272.2%20234C267.782%20234%20265%20230.418%20265%20226C265%20221.582%20267.782%20218%20272.2%20218C276.618%20218%20279.4%20221.582%20279.4%20226Z'%20fill='%23454545'/%3e%3cpath%20d='M301.8%20226C301.8%20230.418%20299.018%20234%20294.6%20234C290.182%20234%20287.4%20230.418%20287.4%20226C287.4%20221.582%20290.182%20218%20294.6%20218C299.018%20218%20301.8%20221.582%20301.8%20226Z'%20fill='%23454545'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_621_231'%3e%3crect%20width='400'%20height='400'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",LoadingScreen=({isLoading:et})=>{const[tt,rt]=reactExports.useState(habitPiggyLoading1);return reactExports.useEffect(()=>{let nt;return et&&(nt=setInterval(()=>{rt(it=>it===habitPiggyLoading1?habitPiggyLoading2:habitPiggyLoading1)},250)),()=>clearInterval(nt)},[et]),et?jsxRuntimeExports.jsxs("div",{className:"flex flex-col justify-center items-center h-screen gap-4",children:[jsxRuntimeExports.jsx("img",{src:tt,alt:"loading",className:"w-60 h-60 object-cover"}),jsxRuntimeExports.jsx("p",{className:"font-normal text-lg leading-6 text-black dark:text-black-0",children:"準備好培養習慣了嗎？"})]}):null};LoadingScreen.propTypes={isLoading:PropTypes.bool.isRequired};const HabitPiggyLogo="/assets/habit-piggy-logo-Bg83H3Q_.svg",Header=()=>jsxRuntimeExports.jsxs("header",{className:"py-1 px-4 mt-4 flex justify-between items-center border border-black-950 rounded",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("img",{src:HabitPiggyLogo,alt:"Habit Piggy Logo",className:"w-12 h-12 cursor-pointer"}),jsxRuntimeExports.jsx("h1",{className:"font-lobster text-2xl leading-8 cursor-pointer",children:"Habit Piggy"})]}),jsxRuntimeExports.jsxs("nav",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Link,{to:"#",className:"font-normal text-sm leading-5 py-2 px-4 cursor-pointer",children:"How to Use?"}),jsxRuntimeExports.jsx(Link,{to:"/",className:"bg-primary font-normal text-sm leading-5 py-2 px-4 rounded hover:bg-primary-dark cursor-pointer",children:"Login"})]})]}),Footer=()=>jsxRuntimeExports.jsx("footer",{className:"py-4 text-center",children:jsxRuntimeExports.jsx("p",{className:"font-normal text-sm leading-5",children:"Copyright © 2024 Habit Piggy"})}),letters={F:[[1,1,1,1],[1,0,0,0],[1,1,1,1],[1,0,0,0],[1,0,0,0]],E:[[1,1,1,1],[1,0,0,0],[1,1,1,1],[1,0,0,0],[1,1,1,1]],D:[[1,1,1,0],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,1,1,0]],M:[[1,0,0,0,1],[1,1,0,1,1],[1,0,1,0,1],[1,0,0,0,1],[1,0,0,0,1]],"!":{0:[1],1:[1],2:[1],3:[0],4:[1]}},combineLetters=et=>{let rt=0;et.split("").forEach(at=>{const ot=letters[at];ot&&(rt+=ot[0].length+1)}),rt-=1;const nt=Array.from({length:5},()=>Array(rt).fill(0));let it=0;return et.split("").forEach(at=>{const ot=letters[at];if(ot){const st=ot[0].length;for(let lt=0;lt<5;lt++)for(let ct=0;ct<st;ct++)nt[lt][it+ct]=ot[lt][ct];it+=st+1}}),nt},LoginBanner=()=>{const et=combineLetters("FEEDME!"),tt=()=>{const rt=["bg-primary","bg-primary-light","bg-primary-dark"];return rt[Math.floor(Math.random()*rt.length)]};return jsxRuntimeExports.jsx("div",{className:"hidden md:block mx-2 md:mx-0 relative",children:jsxRuntimeExports.jsx("div",{className:"grid grid-cols-32 md:gap-1",children:et.map((rt,nt)=>rt.map((it,at)=>jsxRuntimeExports.jsx("div",{className:`w-4 h-4 md:w-7 md:h-7 rounded ${it?`${tt()} border border-black-400 hover:animate-ping`:"border border-black-200"}`},`${nt}-${at}`)))})})};function Login(){const[et,tt]=reactExports.useReducer(reducer$2,initialState$2),{setUser:rt}=reactExports.useContext(AuthContext),nt=async at=>{const{email:ot,registerPassword:st,account:lt,name:ct}=at;try{await registerUser(ot,st,lt,ct);const ut=getAuth(),ft=await signInWithEmailAndPassword(ut,ot,st);rt(ft.user),tt({type:actionTypes$2.SET_IS_LOADING,payload:!0}),setTimeout(()=>{tt({type:actionTypes$2.SET_IS_LOGGED_IN,payload:!0})},2e3)}catch(ut){console.error("Error registering user: ",ut.code,ut.message)}},it=async at=>{const{loginAccount:ot,loginPassword:st}=at,lt=getAuth();try{const ct=await getEmailByAccount(ot);if(!ct){tt({type:actionTypes$2.SET_LOGIN_ERROR,payload:"帳號或密碼錯誤"});return}const ut=await signInWithEmailAndPassword(lt,ct,st);rt(ut.user),tt({type:actionTypes$2.SET_IS_LOADING,payload:!0}),setTimeout(()=>{tt({type:actionTypes$2.SET_IS_LOGGED_IN,payload:!0})},2e3)}catch(ct){tt({type:actionTypes$2.SET_LOGIN_ERROR,payload:"帳號或密碼錯誤"}),console.error("Error logging in: ",ct.code,ct.message)}};return et.isLoggedIn?jsxRuntimeExports.jsx(Navigate,{to:"/home"}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:et.isLoading?jsxRuntimeExports.jsx(LoadingScreen,{isLoading:et.isLoading}):jsxRuntimeExports.jsxs("div",{className:"flex flex-col justify-between h-full",children:[jsxRuntimeExports.jsx(Header,{}),jsxRuntimeExports.jsxs("div",{className:"p-4 md:py-8 space-y-4 w-full md:w-1/2 h-fit md:bg-black-50 md:mx-auto rounded-2xl",children:[jsxRuntimeExports.jsx(TabNavigation$3,{isLogin:et.isLogin,setIsLogin:at=>tt({type:actionTypes$2.SET_IS_LOGIN,payload:at})}),et.isLogin?jsxRuntimeExports.jsx(LoginForm,{handleLogin:it,loginError:et.loginError}):jsxRuntimeExports.jsx(RegisterForm,{handleRegister:nt})]}),et.isLogin&&jsxRuntimeExports.jsx(LoginBanner,{}),jsxRuntimeExports.jsx(Footer,{})]})})}const WeekCalendar=({date:et,onSelect:tt,onWeekChange:rt})=>{const[nt]=reactExports.useState(["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]),[it]=reactExports.useState(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),[at,ot]=reactExports.useState(null),[st,lt]=reactExports.useState(null),[ct,ut]=reactExports.useState(null);reactExports.useEffect(()=>{const pt=new Date;lt({year:pt.getFullYear(),month:pt.getMonth(),day:pt.getDate()}),ot(et?{...et}:{year:pt.getFullYear(),month:pt.getMonth(),day:pt.getDate()})},[et]),reactExports.useEffect(()=>{if(at){const pt=new Date(at.year,at.month,at.day-new Date(at.year,at.month,at.day).getDay()),bt=[];for(let Et=0;Et<7;Et++){const St=new Date(pt);St.setDate(pt.getDate()+Et),bt.push({year:St.getFullYear(),month:St.getMonth(),day:St.getDate()})}rt(bt)}},[at]);const ft=()=>{if(!at)return[];const pt=[],bt=at.year,Et=at.month,St=at.day,Tt=new Date(bt,Et,St-new Date(bt,Et,St).getDay());for(let Pt=0;Pt<7;Pt++){const Rt=new Date(Tt);Rt.setDate(Tt.getDate()+Pt),pt.push({value:Rt.getDate(),year:Rt.getFullYear(),month:Rt.getMonth()})}return pt},ht=pt=>{dt(pt)},dt=pt=>{ot(bt=>{const Et=new Date(bt.year,bt.month,bt.day+(pt?7:-7)),St=new Date(Et.getFullYear(),Et.getMonth(),Et.getDate()-Et.getDay()),Tt={year:St.getFullYear(),month:St.getMonth(),day:St.getDate()};return ut(Tt),tt(Tt),{year:Et.getFullYear(),month:Et.getMonth(),day:Et.getDate()}})},vt=pt=>{const bt={...at,day:pt.value,month:pt.month,year:pt.year};ut(bt),tt(bt)},yt=pt=>pt.value===st.day&&st.year===pt.year&&st.month===pt.month,xt=pt=>ct&&pt.value===ct.day&&ct.year===pt.year&&ct.month===pt.month;if(!at)return null;const _t=new Date(at.year,at.month,at.day-new Date(at.year,at.month,at.day).getDay()),mt=`${it[_t.getMonth()]} ${_t.getFullYear()}`;return jsxRuntimeExports.jsxs("div",{className:"p-4 md:pt-6 bg-black-50 dark:bg-black-800 rounded-b-3xl",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between mb-3",children:[jsxRuntimeExports.jsx("button",{onClick:()=>ht(!1),children:jsxRuntimeExports.jsx(weekCalendarIcons.TbChevronLeft,{className:"w-6 h-6 text-black dark:text-black-0 hover:text-alert"})}),jsxRuntimeExports.jsx("h1",{className:"font-bold text-lg leading-6 text-black dark:text-black-0",children:mt}),jsxRuntimeExports.jsx("button",{onClick:()=>ht(!0),children:jsxRuntimeExports.jsx(weekCalendarIcons.TbChevronRight,{className:"w-6 h-6 text-black dark:text-black-0 hover:text-alert"})})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-7 gap-y-1 gap-x-2 md:gap-x-4 text-center",children:ft().map((pt,bt)=>jsxRuntimeExports.jsxs("div",{className:`py-1 px-1 flex flex-col items-center gap-1 rounded-lg cursor-pointer ${yt(pt)?"bg-primary":xt(pt)?"outline outline-primary-dark bg-primary-light":"bg-transparent hover:bg-primary-light"}`,onClick:()=>vt(pt),children:[jsxRuntimeExports.jsx("div",{className:`font-bold text-lg leading-6 ${yt(pt)?"text-black dark:text-black-0-0":xt(pt)?"text-black":"text-black dark:text-black-0"}`,children:pt.value}),jsxRuntimeExports.jsx("div",{className:`font-medium text-sm leading-5 ${yt(pt)?"text-black dark:text-black-0-0":xt(pt)?"text-black":"text-black dark:text-black-0"}`,children:nt[new Date(pt.year,pt.month,pt.value).getDay()]})]},bt))})]})};WeekCalendar.propTypes={date:PropTypes.object,onSelect:PropTypes.func,onWeekChange:PropTypes.func.isRequired};const SwitchButton=({isOn:et,handleToggle:tt})=>jsxRuntimeExports.jsx("div",{className:`relative inline-block w-12 h-6 transition duration-200 ease-linear rounded-full ${et?"bg-primary":"bg-black-300"}`,onClick:tt,children:jsxRuntimeExports.jsx("label",{htmlFor:"toggle",className:`absolute left-0 inline-block w-6 h-6 transition duration-100 ease-linear transform bg-white rounded-full cursor-pointer ${et?"translate-x-full":"translate-x-0"}`})});SwitchButton.propTypes={isOn:PropTypes.bool.isRequired,handleToggle:PropTypes.func.isRequired};const SettingModal=({profileData:et,handleSettingModal:tt,handleSaveAndClose:rt})=>{const{setIsDarkMode:nt,user:it}=reactExports.useContext(AuthContext),[at,ot]=reactExports.useState(et),st=useNavigate();reactExports.useEffect(()=>{ot(et)},[et]);const{register:lt,handleSubmit:ct,formState:{errors:ut},watch:ft}=useForm({defaultValues:{name:at.name||"",introduction:at.introduction||""}}),ht=async()=>{await logoutUser(),it(null),st("/")},dt=ft("name"),vt=at.isDarkMode,yt=()=>{ot(mt=>({...mt,isDarkMode:!mt.isDarkMode})),nt(!at.isDarkMode)},xt=mt=>{const{name:pt,value:bt,files:Et}=mt.target;if(pt==="avatar"&&Et&&Et[0]){const St=mt.target.files[0],Tt=["image/jpeg","image/jpg","image/png","image/gif"];if(!St||!Tt.includes(St.type))return;ot(Pt=>({...Pt,avatar:URL.createObjectURL(St),avatarFile:St}))}else ot(St=>({...St,[pt]:bt}))},_t=async mt=>{try{if(at.avatarFile){const pt=await uploadAvatar(it.uid,at.avatarFile);at.avatar=pt}await updateUserProfile(it.uid,{...at,...mt}),rt({...at,...mt})}catch(pt){console.error("更新資料失敗",pt)}};return jsxRuntimeExports.jsxs("form",{onSubmit:ct(_t),className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("h3",{className:"font-bold text-lg leading-7 text-black dark:text-black-0",children:"設定"}),jsxRuntimeExports.jsx(modalIcons.TbX,{className:"w-8 h-8 cursor-pointer hover:text-alert text-black dark:text-black-0",onClick:tt})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"mb-1 font-normal text-base leading-6 text-black dark:text-black-0",children:"會員頭像"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("img",{src:at.avatar,alt:"user's avatar",className:"w-12 h-12 rounded-full object-cover outline outline-primary-dark dark:outline-primary"}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsxs("div",{className:"relative inline-block",children:[jsxRuntimeExports.jsx("input",{type:"file",name:"avatar",id:"profile",onChange:xt,accept:"image/jpg,image/jpeg,image/png,image/gif",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer hidden"}),jsxRuntimeExports.jsxs("label",{htmlFor:"profile",className:"cursor-pointer bg-primary text-black font-medium text-sm leading-5 py-1 px-2 rounded-lg flex items-center gap-2 hover:bg-primary-dark",children:[jsxRuntimeExports.jsx(settingIcons.TbPhoto,{className:"w-5 h-5"}),"更換頭像"]})]}),jsxRuntimeExports.jsx("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:"您的頭像將會被公開。"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"relative group flex items-center mb-2",children:[jsxRuntimeExports.jsx("label",{htmlFor:"name",className:"font-bold text-base leading-6 text-black dark:text-black-0",children:"會員名稱"}),jsxRuntimeExports.jsx(modalIcons.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200 ml-2 inline-block"}),jsxRuntimeExports.jsx("span",{className:"absolute -bottom-1 left-[104px] transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto z-50 before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark whitespace-normal break-words",children:"會員名稱可以是中文、英文、數字或符號，但不得超過 9 個字符"})]}),jsxRuntimeExports.jsx("input",{type:"text",name:"name",id:"name",placeholder:"請輸入會員名稱",className:`px-4 py-1 w-full rounded border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-base leading-6 ${ut.name||dt.length>9?"mb-1":"mb-4"}`,...lt("name",{required:"會員名稱是必填項目",maxLength:{value:9,message:"會員名稱不得超過 9 個字符"}})}),(ut.name||dt.length>9)&&jsxRuntimeExports.jsx("p",{className:"text-alert dark:text-red-500 mt-1 mb-3",children:ut.name?ut.name.message:"會員名稱不得超過 9 個字符"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsx("label",{htmlFor:"introduction",className:"mb-1 font-normal text-base leading-6 text-black dark:text-black-0",children:"自我介紹"}),jsxRuntimeExports.jsx("input",{type:"text",name:"introduction",id:"introduction",placeholder:"自我介紹",className:"px-4 py-1 w-full rounded border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-base leading-6",...lt("introduction")})]}),jsxRuntimeExports.jsx("div",{className:"border"}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:"深色模式"}),jsxRuntimeExports.jsx("div",{className:"relative w-fit text-nowrap",children:jsxRuntimeExports.jsx(SwitchButton,{isOn:vt,handleToggle:yt})})]}),jsxRuntimeExports.jsx("button",{type:"submit",className:"text-center w-full bg-primary rounded-xl font-medium text-sm leading-5 py-1 hover:bg-primary-dark",children:"儲存"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:ht,className:"md:hidden text-center w-full bg-black-700 dark:bg-black-200 rounded-xl font-medium text-sm leading-5 py-1 text-black-0 dark:text-black hover:bg-alert hover:dark:bg-alert",children:"登出"})]})};SettingModal.propTypes={profileData:PropTypes.object.isRequired,handleSaveAndClose:PropTypes.func.isRequired,handleSettingModal:PropTypes.func.isRequired};const Modal=({isOpen:et,children:tt})=>{if(!et)return null;const rt=React.isValidElement(tt)&&tt.type===SettingModal;return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:jsxRuntimeExports.jsx("div",{className:"rounded-2xl py-6 px-4 w-11/12 md:w-1/3 h-fit bg-black-50 dark:bg-black-600 max-h-[80vh] overflow-auto space-y-4 ",children:tt})})};Modal.propTypes={isOpen:PropTypes.bool.isRequired,children:PropTypes.node.isRequired};const MonthCalendar=({date:et,onSelect:tt})=>{const[rt]=reactExports.useState(["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]),[nt]=reactExports.useState(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),[it,at]=reactExports.useState(null),[ot,st]=reactExports.useState({start:null,end:null}),[lt,ct]=reactExports.useState(null);reactExports.useEffect(()=>{const pt=new Date;at(et?{...et}:{year:pt.getFullYear(),month:pt.getMonth(),day:pt.getDate()})},[et]);const ut=()=>{if(!it)return[];const pt=[],bt=it.year,Et=it.month,St=new Date(bt,Et,1),Tt=new Date(bt,Et+1,0),Pt=St.getDay(),Rt=Tt.getDate();for(let It=0;It<Pt;It++)pt.push(null);for(let It=1;It<=Rt;It++)pt.push({value:It,year:bt,month:Et});return pt},ft=pt=>{ht(pt)},ht=pt=>{at(bt=>{const Et=new Date(bt.year,bt.month+(pt?1:-1),1);return{year:Et.getFullYear(),month:Et.getMonth(),day:Et.getDate()}})};if(!it)return null;const dt=`${nt[it.month]} ${it.year}`,vt=pt=>{const bt=new Date;bt.setHours(0,0,0,0);const Et=new Date(pt.year,pt.month,pt.value);if(Et.setHours(0,0,0,0),!(Et<bt))if(!ot.start||ot.start&&ot.end)st({start:pt,end:null});else{const St=new Date(ot.start.year,ot.start.month,ot.start.value);if(St.setHours(0,0,0,0),St.getTime()===Et.getTime())return;st(Tt=>({start:Tt.start,end:pt})),tt({start:ot.start,end:pt})}},yt=pt=>{if(!pt||!ot.start||!ot.end)return!1;const bt=new Date(pt.year,pt.month,pt.value),Et=new Date(ot.start.year,ot.start.month,ot.start.value),St=new Date(ot.end.year,ot.end.month,ot.end.value);return bt>=Et&&bt<=St},xt=pt=>{if(!pt)return!1;const bt=new Date;bt.setHours(0,0,0,0);const Et=new Date(pt.year,pt.month,pt.value);return Et.setHours(0,0,0,0),Et<bt},_t=pt=>{if(!pt)return!1;const bt=new Date(pt.year,pt.month,pt.value),Et=ot.start?new Date(ot.start.year,ot.start.month,ot.start.value):null,St=ot.end?new Date(ot.end.year,ot.end.month,ot.end.value):null;return Et&&bt.getTime()===Et.getTime()||St&&bt.getTime()===St.getTime()},mt=pt=>{if(!pt||!ot.start||!lt)return!1;const bt=new Date(pt.year,pt.month,pt.value),Et=new Date(ot.start.year,ot.start.month,ot.start.value),St=new Date(lt.year,lt.month,lt.value);return bt>Et&&bt<St};return jsxRuntimeExports.jsxs("div",{className:"p-4 bg-light dark:bg-black-800 rounded-2xl",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between mb-3",children:[jsxRuntimeExports.jsx("button",{onClick:()=>ft(!1),children:jsxRuntimeExports.jsx(weekCalendarIcons.TbChevronLeft,{className:"w-6 h-6 text-black dark:text-black-0 hover:text-alert"})}),jsxRuntimeExports.jsx("h1",{className:"font-bold text-base leading-6 text-black dark:text-black-0",children:dt}),jsxRuntimeExports.jsx("button",{onClick:()=>ft(!0),children:jsxRuntimeExports.jsx(weekCalendarIcons.TbChevronRight,{className:"w-6 h-6 text-black dark:text-black-0 hover:text-alert"})})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-7 text-center gap-1",children:[rt.map((pt,bt)=>jsxRuntimeExports.jsx("div",{className:"font-medium text-sm leading-5 text-black dark:text-black-0",children:pt},bt)),ut().map((pt,bt)=>jsxRuntimeExports.jsx("div",{className:`rounded-full aspect-square flex items-center justify-center cursor-pointer ${pt?xt(pt)?"bg-black-200 cursor-not-allowed":_t(pt)?"bg-primary":mt(pt)?"bg-primary-light":yt(pt)?"bg-primary-dark text-black-0":"bg-white hover:bg-primary-light hover:outline hover:outline-2 hover:outline-primary-dark":"invisible"}`,onClick:()=>pt&&!xt(pt)&&vt(pt),onMouseEnter:()=>pt&&ct(pt),onMouseLeave:()=>ct(null),children:pt?pt.value:""},bt))]})]})};MonthCalendar.propTypes={date:PropTypes.object,onSelect:PropTypes.func};const CategorySelect=({options:et,value:tt,onChange:rt})=>{const nt=at=>{rt(at)},it=et.find(at=>at.id===tt);return jsxRuntimeExports.jsx("div",{className:"w-full",children:jsxRuntimeExports.jsx("ul",{className:"grid grid-cols-4 gap-2",children:et.map(at=>jsxRuntimeExports.jsxs("li",{className:"w-16 h-fit cursor-pointer flex flex-col items-center gap-1 text-nowrap font-normal text-xs leading-4",onClick:()=>nt(at.id),children:[jsxRuntimeExports.jsx("div",{className:`w-10 h-10 rounded-full flex justify-center items-center ${it&&it.id===at.id?"bg-primary":"bg-black-200 hover:bg-primary"}`,children:jsxRuntimeExports.jsx(at.icon,{className:"w-8 h-8"})}),jsxRuntimeExports.jsx("p",{className:"text-black dark:text-black-0",children:at.name})]},at.id))})})};CategorySelect.propTypes={options:PropTypes.array.isRequired,value:PropTypes.any,onChange:PropTypes.func.isRequired};CategorySelect.defaultProps={value:null};let e$1={data:""},t$1=et=>typeof window=="object"?((et?et.querySelector("#_goober"):window._goober)||Object.assign((et||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:et||e$1,l$1=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,a$1=/\/\*[^]*?\*\/|  +/g,n$2=/\n+/g,o=(et,tt)=>{let rt="",nt="",it="";for(let at in et){let ot=et[at];at[0]=="@"?at[1]=="i"?rt=at+" "+ot+";":nt+=at[1]=="f"?o(ot,at):at+"{"+o(ot,at[1]=="k"?"":tt)+"}":typeof ot=="object"?nt+=o(ot,tt?tt.replace(/([^,])+/g,st=>at.replace(/(^:.*)|([^,])+/g,lt=>/&/.test(lt)?lt.replace(/&/g,st):st?st+" "+lt:lt)):at):ot!=null&&(at=/^--/.test(at)?at:at.replace(/[A-Z]/g,"-$&").toLowerCase(),it+=o.p?o.p(at,ot):at+":"+ot+";")}return rt+(tt&&it?tt+"{"+it+"}":it)+nt},c$2={},s$1=et=>{if(typeof et=="object"){let tt="";for(let rt in et)tt+=rt+s$1(et[rt]);return tt}return et},i$1=(et,tt,rt,nt,it)=>{let at=s$1(et),ot=c$2[at]||(c$2[at]=(lt=>{let ct=0,ut=11;for(;ct<lt.length;)ut=101*ut+lt.charCodeAt(ct++)>>>0;return"go"+ut})(at));if(!c$2[ot]){let lt=at!==et?et:(ct=>{let ut,ft,ht=[{}];for(;ut=l$1.exec(ct.replace(a$1,""));)ut[4]?ht.shift():ut[3]?(ft=ut[3].replace(n$2," ").trim(),ht.unshift(ht[0][ft]=ht[0][ft]||{})):ht[0][ut[1]]=ut[2].replace(n$2," ").trim();return ht[0]})(et);c$2[ot]=o(it?{["@keyframes "+ot]:lt}:lt,rt?"":"."+ot)}let st=rt&&c$2.g?c$2.g:null;return rt&&(c$2.g=c$2[ot]),((lt,ct,ut,ft)=>{ft?ct.data=ct.data.replace(ft,lt):ct.data.indexOf(lt)===-1&&(ct.data=ut?lt+ct.data:ct.data+lt)})(c$2[ot],tt,nt,st),ot},p$1=(et,tt,rt)=>et.reduce((nt,it,at)=>{let ot=tt[at];if(ot&&ot.call){let st=ot(rt),lt=st&&st.props&&st.props.className||/^go/.test(st)&&st;ot=lt?"."+lt:st&&typeof st=="object"?st.props?"":o(st,""):st===!1?"":st}return nt+it+(ot??"")},"");function u$1(et){let tt=this||{},rt=et.call?et(tt.p):et;return i$1(rt.unshift?rt.raw?p$1(rt,[].slice.call(arguments,1),tt.p):rt.reduce((nt,it)=>Object.assign(nt,it&&it.call?it(tt.p):it),{}):rt,t$1(tt.target),tt.g,tt.o,tt.k)}let d$1,f$1,g$1;u$1.bind({g:1});let h$3=u$1.bind({k:1});function m$1(et,tt,rt,nt){o.p=tt,d$1=et,f$1=rt,g$1=nt}function j$1(et,tt){let rt=this||{};return function(){let nt=arguments;function it(at,ot){let st=Object.assign({},at),lt=st.className||it.className;rt.p=Object.assign({theme:f$1&&f$1()},st),rt.o=/ *go\d+/.test(lt),st.className=u$1.apply(rt,nt)+(lt?" "+lt:"");let ct=et;return et[0]&&(ct=st.as||et,delete st.as),g$1&&ct[0]&&g$1(st),d$1(ct,st)}return it}}var W=et=>typeof et=="function",T=(et,tt)=>W(et)?et(tt):et,U=(()=>{let et=0;return()=>(++et).toString()})(),b$1=(()=>{let et;return()=>{if(et===void 0&&typeof window<"u"){let tt=matchMedia("(prefers-reduced-motion: reduce)");et=!tt||tt.matches}return et}})(),Q=20,S=new Map,X=1e3,$=et=>{if(S.has(et))return;let tt=setTimeout(()=>{S.delete(et),u({type:4,toastId:et})},X);S.set(et,tt)},J=et=>{let tt=S.get(et);tt&&clearTimeout(tt)},v$2=(et,tt)=>{switch(tt.type){case 0:return{...et,toasts:[tt.toast,...et.toasts].slice(0,Q)};case 1:return tt.toast.id&&J(tt.toast.id),{...et,toasts:et.toasts.map(at=>at.id===tt.toast.id?{...at,...tt.toast}:at)};case 2:let{toast:rt}=tt;return et.toasts.find(at=>at.id===rt.id)?v$2(et,{type:1,toast:rt}):v$2(et,{type:0,toast:rt});case 3:let{toastId:nt}=tt;return nt?$(nt):et.toasts.forEach(at=>{$(at.id)}),{...et,toasts:et.toasts.map(at=>at.id===nt||nt===void 0?{...at,visible:!1}:at)};case 4:return tt.toastId===void 0?{...et,toasts:[]}:{...et,toasts:et.toasts.filter(at=>at.id!==tt.toastId)};case 5:return{...et,pausedAt:tt.time};case 6:let it=tt.time-(et.pausedAt||0);return{...et,pausedAt:void 0,toasts:et.toasts.map(at=>({...at,pauseDuration:at.pauseDuration+it}))}}},A$1=[],P$1={toasts:[],pausedAt:void 0},u=et=>{P$1=v$2(P$1,et),A$1.forEach(tt=>{tt(P$1)})},Y={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},I=(et={})=>{let[tt,rt]=reactExports.useState(P$1);reactExports.useEffect(()=>(A$1.push(rt),()=>{let it=A$1.indexOf(rt);it>-1&&A$1.splice(it,1)}),[tt]);let nt=tt.toasts.map(it=>{var at,ot;return{...et,...et[it.type],...it,duration:it.duration||((at=et[it.type])==null?void 0:at.duration)||(et==null?void 0:et.duration)||Y[it.type],style:{...et.style,...(ot=et[it.type])==null?void 0:ot.style,...it.style}}});return{...tt,toasts:nt}},G=(et,tt="blank",rt)=>({createdAt:Date.now(),visible:!0,type:tt,ariaProps:{role:"status","aria-live":"polite"},message:et,pauseDuration:0,...rt,id:(rt==null?void 0:rt.id)||U()}),h$2=et=>(tt,rt)=>{let nt=G(tt,et,rt);return u({type:2,toast:nt}),nt.id},n$1=(et,tt)=>h$2("blank")(et,tt);n$1.error=h$2("error");n$1.success=h$2("success");n$1.loading=h$2("loading");n$1.custom=h$2("custom");n$1.dismiss=et=>{u({type:3,toastId:et})};n$1.remove=et=>u({type:4,toastId:et});n$1.promise=(et,tt,rt)=>{let nt=n$1.loading(tt.loading,{...rt,...rt==null?void 0:rt.loading});return et.then(it=>(n$1.success(T(tt.success,it),{id:nt,...rt,...rt==null?void 0:rt.success}),it)).catch(it=>{n$1.error(T(tt.error,it),{id:nt,...rt,...rt==null?void 0:rt.error})}),et};var Z=(et,tt)=>{u({type:1,toast:{id:et,height:tt}})},ee=()=>{u({type:5,time:Date.now()})},D=et=>{let{toasts:tt,pausedAt:rt}=I(et);reactExports.useEffect(()=>{if(rt)return;let at=Date.now(),ot=tt.map(st=>{if(st.duration===1/0)return;let lt=(st.duration||0)+st.pauseDuration-(at-st.createdAt);if(lt<0){st.visible&&n$1.dismiss(st.id);return}return setTimeout(()=>n$1.dismiss(st.id),lt)});return()=>{ot.forEach(st=>st&&clearTimeout(st))}},[tt,rt]);let nt=reactExports.useCallback(()=>{rt&&u({type:6,time:Date.now()})},[rt]),it=reactExports.useCallback((at,ot)=>{let{reverseOrder:st=!1,gutter:lt=8,defaultPosition:ct}=ot||{},ut=tt.filter(dt=>(dt.position||ct)===(at.position||ct)&&dt.height),ft=ut.findIndex(dt=>dt.id===at.id),ht=ut.filter((dt,vt)=>vt<ft&&dt.visible).length;return ut.filter(dt=>dt.visible).slice(...st?[ht+1]:[0,ht]).reduce((dt,vt)=>dt+(vt.height||0)+lt,0)},[tt]);return{toasts:tt,handlers:{updateHeight:Z,startPause:ee,endPause:nt,calculateOffset:it}}},oe=h$3`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,re$1=h$3`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,se=h$3`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,_=j$1("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${et=>et.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${oe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${re$1} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${et=>et.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${se} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,ne=h$3`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,V=j$1("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${et=>et.secondary||"#e0e0e0"};
  border-right-color: ${et=>et.primary||"#616161"};
  animation: ${ne} 1s linear infinite;
`,pe=h$3`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,de=h$3`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,w$2=j$1("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${et=>et.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${pe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${de} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${et=>et.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,ue=j$1("div")`
  position: absolute;
`,le=j$1("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Te=h$3`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,fe=j$1("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Te} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,M=({toast:et})=>{let{icon:tt,type:rt,iconTheme:nt}=et;return tt!==void 0?typeof tt=="string"?reactExports.createElement(fe,null,tt):tt:rt==="blank"?null:reactExports.createElement(le,null,reactExports.createElement(V,{...nt}),rt!=="loading"&&reactExports.createElement(ue,null,rt==="error"?reactExports.createElement(_,{...nt}):reactExports.createElement(w$2,{...nt})))},ye=et=>`
0% {transform: translate3d(0,${et*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,ge=et=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${et*-150}%,-1px) scale(.6); opacity:0;}
`,he="0%{opacity:0;} 100%{opacity:1;}",xe="0%{opacity:1;} 100%{opacity:0;}",be=j$1("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Se=j$1("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Ae=(et,tt)=>{let rt=et.includes("top")?1:-1,[nt,it]=b$1()?[he,xe]:[ye(rt),ge(rt)];return{animation:tt?`${h$3(nt)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${h$3(it)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},F=reactExports.memo(({toast:et,position:tt,style:rt,children:nt})=>{let it=et.height?Ae(et.position||tt||"top-center",et.visible):{opacity:0},at=reactExports.createElement(M,{toast:et}),ot=reactExports.createElement(Se,{...et.ariaProps},T(et.message,et));return reactExports.createElement(be,{className:et.className,style:{...it,...rt,...et.style}},typeof nt=="function"?nt({icon:at,message:ot}):reactExports.createElement(reactExports.Fragment,null,at,ot))});m$1(reactExports.createElement);var Ee=({id:et,className:tt,style:rt,onHeightUpdate:nt,children:it})=>{let at=reactExports.useCallback(ot=>{if(ot){let st=()=>{let lt=ot.getBoundingClientRect().height;nt(et,lt)};st(),new MutationObserver(st).observe(ot,{subtree:!0,childList:!0,characterData:!0})}},[et,nt]);return reactExports.createElement("div",{ref:at,className:tt,style:rt},it)},Re=(et,tt)=>{let rt=et.includes("top"),nt=rt?{top:0}:{bottom:0},it=et.includes("center")?{justifyContent:"center"}:et.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:b$1()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${tt*(rt?1:-1)}px)`,...nt,...it}},ve=u$1`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,O=16,Ie=({reverseOrder:et,position:tt="top-center",toastOptions:rt,gutter:nt,children:it,containerStyle:at,containerClassName:ot})=>{let{toasts:st,handlers:lt}=D(rt);return reactExports.createElement("div",{style:{position:"fixed",zIndex:9999,top:O,left:O,right:O,bottom:O,pointerEvents:"none",...at},className:ot,onMouseEnter:lt.startPause,onMouseLeave:lt.endPause},st.map(ct=>{let ut=ct.position||tt,ft=lt.calculateOffset(ct,{reverseOrder:et,gutter:nt,defaultPosition:tt}),ht=Re(ut,ft);return reactExports.createElement(Ee,{id:ct.id,key:ct.id,onHeightUpdate:lt.updateHeight,className:ct.visible?ve:"",style:ht},ct.type==="custom"?T(ct.message,ct):it?it(ct):reactExports.createElement(F,{toast:ct,position:ut}))}))};const SuccessToast=et=>{n$1(et,{icon:jsxRuntimeExports.jsx("img",{src:HabitPiggyLogo,alt:"Habit Piggy Logo",style:{width:"40px",height:"40px"}}),style:{borderRadius:"16px",background:"#212121",color:"#fff"},duration:3e3})},AlertToast=et=>{n$1(et,{icon:jsxRuntimeExports.jsx("img",{src:HabitPiggyLogo,alt:"Habit Piggy Logo",style:{width:"40px",height:"40px"}}),style:{borderRadius:"16px",background:"#D14D28",color:"#fff"},duration:3e3})},addHabitNotify=()=>SuccessToast("從今天開始培養習慣吧！"),updateHabitNotify=()=>SuccessToast("人要時時刻刻做好準備！"),deleteHabitNotify=()=>SuccessToast("這段感情只有我在付出🥲"),checkHabitNotify=()=>SuccessToast("給你一個乖寶寶印章"),unCheckHabitNotify=()=>SuccessToast("要記得回來完成喔！"),dateErrorNotify=()=>AlertToast("結束日期必須晚於開始日期喔！"),checkErrorNotify=()=>AlertToast("只能在今天之前打卡喔！"),habitTitleErrorNotify=()=>AlertToast("習慣名稱不能為空或僅包含空格！"),addHabitErrorNotify=()=>AlertToast("沒有完整填寫資料的話，沒辦法送出喔！"),SuccessNotify$1={addHabitNotify,updateHabitNotify,deleteHabitNotify,checkHabitNotify,unCheckHabitNotify},AlertNotify$1={dateErrorNotify,checkErrorNotify,habitTitleErrorNotify,addHabitErrorNotify},AmountCounter=({value:et,onChange:tt,min:rt=10,max:nt=100,step:it=10})=>{const[at,ot]=reactExports.useState(et||0),st=()=>{if(at+it<=nt){const ct=at+it;ot(ct),tt({target:{name:"amount",value:ct}})}},lt=()=>{if(at-it>=rt){const ct=at-it;ot(ct),tt({target:{name:"amount",value:ct}})}};return jsxRuntimeExports.jsxs("div",{className:"flex items-center w-full border border-black-300 rounded overflow-hidden",children:[jsxRuntimeExports.jsx("button",{type:"button",className:"py-1 px-4 bg-black-200 hover:bg-primary cursor-pointer",onClick:lt,disabled:at<=rt,children:jsxRuntimeExports.jsx(habitAddIcon.TbMinus,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("input",{type:"number",name:"amount",id:"amount",className:"px-4 text-center w-full h-6 font-normal text-sm leading-5 no-spinner dark:bg-black-100 dark:placeholder-black-400 focus:outline-none focus:border-none",value:at,readOnly:!0}),jsxRuntimeExports.jsx("button",{type:"button",className:"py-1 px-4 bg-black-200 hover:bg-primary cursor-pointer",onClick:st,disabled:at>=nt,children:jsxRuntimeExports.jsx(habitAddIcon.TbPlus,{className:"w-4 h-4"})})]})};AmountCounter.propTypes={value:PropTypes.number,onChange:PropTypes.func.isRequired,min:PropTypes.number,max:PropTypes.number,step:PropTypes.number};const HabitModal=({habitData:et,handleHabitChange:tt,handleAddHabit:rt,showMonthCalendar:nt,calendarRef:it,handleHabitModal:at,habitCategories:ot,setHabitData:st,monthCalendarDate:lt,handleMonthCalendarSelectDate:ct,setShowMonthCalendar:ut})=>{const[ft,ht]=reactExports.useState(et.frequency.days||[]),[dt,vt]=reactExports.useState({});reactExports.useEffect(()=>{ht(et.frequency.days||[])},[et.frequency.days]);const yt=bt=>{const Et=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].indexOf(bt),St=ft.includes(Et)?ft.filter(Tt=>Tt!==Et):[...ft,Et];ht(St),st(Tt=>({...Tt,frequency:{...Tt.frequency,days:St}}))},xt=bt=>{const Et=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].indexOf(bt);ht([Et]),st(St=>({...St,frequency:{...St.frequency,day:Et}}))},_t=()=>{const bt={};return et.title||(bt.title="請輸入習慣名稱"),!et.category&&et.category!==0&&(bt.category="請選擇習慣類別"),et.frequency.type||(bt.frequency="請選擇習慣頻率"),et.frequency.type==="specificDays"&&ft.length===0&&(bt.days="請選擇至少一天"),et.type||(bt.type="請選擇習慣類型"),et.amount||(bt.amount="請輸入罰款金額"),et.startDate||(bt.startDate="請選擇開始日期"),et.endDate||(bt.endDate="請選擇結束日期"),vt(bt),Object.keys(bt).length===0},mt=bt=>{if(bt.preventDefault(),!et.title.trim()){AlertNotify$1.habitTitleErrorNotify();return}if(!_t()){AlertNotify$1.addHabitErrorNotify();return}rt()},pt=bt=>{const{name:Et,value:St}=bt.target;tt(bt),vt(Tt=>{const Pt={...Tt};return St&&delete Pt[Et],Pt}),Et==="frequency"&&(St==="weekly"?(ht([]),st(Tt=>({...Tt,frequency:{type:St,day:null}}))):St==="specificDays"?(ht([]),st(Tt=>({...Tt,frequency:{type:St,days:[]}}))):st(Tt=>({...Tt,frequency:{type:St}})))};return jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-4 w-full",children:jsxRuntimeExports.jsx("input",{type:"text",name:"title",placeholder:"輸入習慣名稱",className:"py-1.5 px-4 w-full rounded-xl border caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-sm leading-5 dark:bg-black-100 placeholder-black",value:et.title,onChange:pt})}),jsxRuntimeExports.jsx(modalIcons.TbX,{className:"w-6 h-6 hover:text-alert cursor-pointer text-black dark:text-black-0",onClick:at})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex items-center gap-1 group",children:[jsxRuntimeExports.jsxs("label",{htmlFor:"category",className:"text-nowrap text-black dark:text-black-0 group-hover:relative",children:["習慣類別",jsxRuntimeExports.jsx("span",{className:"absolute -bottom-1 left-24 transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto z-50 before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"你想要培養什麼類別的習慣呢？"})]}),jsxRuntimeExports.jsx(modalIcons.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200"})]}),jsxRuntimeExports.jsx(CategorySelect,{options:ot,value:et.category,onChange:bt=>pt({target:{name:"category",value:bt}})})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex items-center gap-1 group",children:[jsxRuntimeExports.jsxs("label",{htmlFor:"frequency",className:"text-nowrap text-black dark:text-black-0 group-hover:relative",children:["習慣頻率",jsxRuntimeExports.jsx("span",{className:"absolute -bottom-1 left-24 transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"你想要怎麼安排習慣頻率呢？"})]}),jsxRuntimeExports.jsx(modalIcons.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200"})]}),jsxRuntimeExports.jsxs("div",{className:"w-full grid grid-cols-3 gap-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("input",{type:"radio",name:"frequency",id:"daily",value:"daily",className:"appearance-none hidden",checked:et.frequency.type==="daily",onChange:pt}),jsxRuntimeExports.jsx("label",{htmlFor:"daily",className:`font-normal text-sm leading-5 block text-center py-px rounded border cursor-pointer ${et.frequency.type==="daily"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"每日"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("input",{type:"radio",name:"frequency",id:"weekly",value:"weekly",className:"appearance-none hidden",checked:et.frequency.type==="weekly",onChange:pt}),jsxRuntimeExports.jsx("label",{htmlFor:"weekly",className:`font-normal text-sm leading-5 block text-center py-px rounded border cursor-pointer ${et.frequency.type==="weekly"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"每週"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("input",{type:"radio",name:"frequency",id:"specificDays",value:"specificDays",className:"appearance-none hidden",checked:et.frequency.type==="specificDays",onChange:pt}),jsxRuntimeExports.jsx("label",{htmlFor:"specificDays",className:`font-normal text-sm leading-5 block text-center py-px rounded border cursor-pointer ${et.frequency.type==="specificDays"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"特定日期"})]})]})]}),et.frequency.type==="weekly"&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-normal text-sm text-black-500 mb-1",children:"選擇一天作為「是否完成習慣」的確認時間吧！"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-7 gap-2 md:gap-4",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((bt,Et)=>jsxRuntimeExports.jsxs("div",{className:"text-center flex flex-col justify-center items-center gap-1 text-black dark:text-black-0",children:[bt,jsxRuntimeExports.jsx(checkIcon.TbCheck,{className:`w-10 h-10 rounded-full p-1 border border-black-500 dark:border-black-300 cursor-pointer ${ft.includes(Et)?"bg-primary text-white border-primary dark:border-primary":"text-black dark:text-black-0 hover:bg-primary-light"}`,onClick:()=>xt(bt)})]},Et))})]}),et.frequency.type==="specificDays"&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-normal text-sm text-black-500 mb-1",children:"選擇想要培養習慣的時間吧！"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-7 gap-2 md:gap-4",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((bt,Et)=>jsxRuntimeExports.jsxs("div",{className:"text-center flex flex-col justify-center items-center gap-1 text-black dark:text-black-0",children:[bt,jsxRuntimeExports.jsx(checkIcon.TbCheck,{className:`w-10 h-10 rounded-full p-1 border border-black-500 dark:border-black-300 cursor-pointer ${ft.includes(Et)?"bg-primary text-white border-primary dark:border-primary":"text-black dark:text-black-0 hover:bg-primary-light"}`,onClick:()=>yt(bt)})]},Et))})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex items-center gap-1 group",children:[jsxRuntimeExports.jsxs("label",{htmlFor:"type",className:"text-nowrap text-black dark:text-black-0 group-hover:relative",children:["習慣類型",jsxRuntimeExports.jsx("span",{className:"absolute -bottom-1 left-24 transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"你想要養成還是戒除呢？"})]}),jsxRuntimeExports.jsx(modalIcons.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200"})]}),jsxRuntimeExports.jsxs("div",{className:"w-full grid grid-cols-2 gap-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("input",{type:"radio",name:"type",id:"to-do",value:"to-do",className:"appearance-none hidden",checked:et.type==="to-do",onChange:pt}),jsxRuntimeExports.jsx("label",{htmlFor:"to-do",className:`font-normal text-sm leading-5 block text-center py-px rounded border cursor-pointer ${et.type==="to-do"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"養成"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("input",{type:"radio",name:"type",id:"not-to-do",value:"not-to-do",className:"appearance-none hidden",checked:et.type==="not-to-do",onChange:pt}),jsxRuntimeExports.jsx("label",{htmlFor:"not-to-do",className:`font-normal text-sm leading-5 block text-center py-px rounded border cursor-pointer ${et.type==="not-to-do"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"戒除"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex items-center gap-1 group",children:[jsxRuntimeExports.jsxs("label",{htmlFor:"amount",className:"text-nowrap text-black dark:text-black-0 group-hover:relative",children:["習慣罰款",jsxRuntimeExports.jsx("span",{className:"absolute -bottom-1 left-24 transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"如果沒完成習慣，你想支付多少罰款呢？"})]}),jsxRuntimeExports.jsx(modalIcons.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200"})]}),jsxRuntimeExports.jsx(AmountCounter,{value:et.amount,onChange:pt})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between gap-4 w-full",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex items-center gap-1 group",children:[jsxRuntimeExports.jsxs("label",{htmlFor:"time",className:"text-nowrap text-black dark:text-black-0 group-hover:relative",children:["養成期間",jsxRuntimeExports.jsx("span",{className:"absolute -bottom-1 left-24 transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto z-50 before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"你想要在什麼時候培養這個習慣呢？"})]}),jsxRuntimeExports.jsx(modalIcons.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200"})]}),jsxRuntimeExports.jsx("div",{className:"border border-black-300 w-full rounded py-0.5 px-4 flex justify-between items-center bg-black-0 dark:bg-black-100 relative",children:jsxRuntimeExports.jsx("button",{className:"text-center w-full font-normal text-sm leading-5 text-black",onClick:()=>ut(!nt),children:et.startDate&&et.endDate?`${et.startDate} - ${et.endDate}`:"選擇日期範圍"})}),nt&&jsxRuntimeExports.jsx("div",{ref:it,className:"w-3/5 md:w-1/6 absolute bottom-0 md:-bottom-12 2xl:-bottom-16 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-10",children:jsxRuntimeExports.jsx(MonthCalendar,{date:lt,onSelect:ct})})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[dt.title&&jsxRuntimeExports.jsx("p",{className:"text-alert text-sm leading-5",children:dt.title}),dt.category&&jsxRuntimeExports.jsx("p",{className:"text-alert text-sm leading-5",children:dt.category}),dt.frequency&&jsxRuntimeExports.jsx("p",{className:"text-alert text-sm leading-5",children:dt.frequency}),dt.days&&jsxRuntimeExports.jsx("p",{className:"text-alert text-sm leading-5",children:dt.days}),dt.type&&jsxRuntimeExports.jsx("p",{className:"text-alert text-sm leading-5",children:dt.type}),dt.amount&&jsxRuntimeExports.jsx("p",{className:"text-alert text-sm leading-5",children:dt.amount}),dt.startDate&&jsxRuntimeExports.jsx("p",{className:"text-alert text-sm leading-5",children:dt.startDate}),dt.endDate&&jsxRuntimeExports.jsx("p",{className:"text-alert text-sm leading-5",children:dt.endDate}),jsxRuntimeExports.jsx("button",{className:"w-full rounded-lg bg-primary font-medium text-sm leading-5 py-1 hover:bg-primary-dark",onClick:mt,children:"養成習慣"})]})]})};HabitModal.propTypes={habitData:PropTypes.object.isRequired,handleHabitChange:PropTypes.func.isRequired,handleAddHabit:PropTypes.func.isRequired,showMonthCalendar:PropTypes.bool.isRequired,calendarRef:PropTypes.object.isRequired,handleHabitModal:PropTypes.func.isRequired,habitCategories:PropTypes.array.isRequired,setHabitData:PropTypes.func.isRequired,monthCalendarDate:PropTypes.object.isRequired,handleMonthCalendarSelectDate:PropTypes.func.isRequired,setCalendarTarget:PropTypes.func.isRequired,setShowMonthCalendar:PropTypes.func.isRequired};var dist={},_extends$u={},_global={exports:{}},global$5=_global.exports=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=global$5);var _globalExports=_global.exports,_core={exports:{}},core$4=_core.exports={version:"2.6.12"};typeof __e=="number"&&(__e=core$4);var _coreExports=_core.exports,_aFunction=function(et){if(typeof et!="function")throw TypeError(et+" is not a function!");return et},aFunction=_aFunction,_ctx=function(et,tt,rt){if(aFunction(et),tt===void 0)return et;switch(rt){case 1:return function(nt){return et.call(tt,nt)};case 2:return function(nt,it){return et.call(tt,nt,it)};case 3:return function(nt,it,at){return et.call(tt,nt,it,at)}}return function(){return et.apply(tt,arguments)}},_objectDp={},_isObject=function(et){return typeof et=="object"?et!==null:typeof et=="function"},isObject$c=_isObject,_anObject=function(et){if(!isObject$c(et))throw TypeError(et+" is not an object!");return et},_fails=function(et){try{return!!et()}catch{return!0}},_descriptors,hasRequired_descriptors;function require_descriptors(){return hasRequired_descriptors||(hasRequired_descriptors=1,_descriptors=!_fails(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})),_descriptors}var _domCreate,hasRequired_domCreate;function require_domCreate(){if(hasRequired_domCreate)return _domCreate;hasRequired_domCreate=1;var et=_isObject,tt=_globalExports.document,rt=et(tt)&&et(tt.createElement);return _domCreate=function(nt){return rt?tt.createElement(nt):{}},_domCreate}var _ie8DomDefine,hasRequired_ie8DomDefine;function require_ie8DomDefine(){return hasRequired_ie8DomDefine||(hasRequired_ie8DomDefine=1,_ie8DomDefine=!require_descriptors()&&!_fails(function(){return Object.defineProperty(require_domCreate()("div"),"a",{get:function(){return 7}}).a!=7})),_ie8DomDefine}var isObject$b=_isObject,_toPrimitive$F=function(et,tt){if(!isObject$b(et))return et;var rt,nt;if(tt&&typeof(rt=et.toString)=="function"&&!isObject$b(nt=rt.call(et))||typeof(rt=et.valueOf)=="function"&&!isObject$b(nt=rt.call(et))||!tt&&typeof(rt=et.toString)=="function"&&!isObject$b(nt=rt.call(et)))return nt;throw TypeError("Can't convert object to primitive value")},hasRequired_objectDp;function require_objectDp(){if(hasRequired_objectDp)return _objectDp;hasRequired_objectDp=1;var et=_anObject,tt=require_ie8DomDefine(),rt=_toPrimitive$F,nt=Object.defineProperty;return _objectDp.f=require_descriptors()?Object.defineProperty:function(at,ot,st){if(et(at),ot=rt(ot,!0),et(st),tt)try{return nt(at,ot,st)}catch{}if("get"in st||"set"in st)throw TypeError("Accessors not supported!");return"value"in st&&(at[ot]=st.value),at},_objectDp}var _propertyDesc=function(et,tt){return{enumerable:!(et&1),configurable:!(et&2),writable:!(et&4),value:tt}},dP$2=require_objectDp(),createDesc$2=_propertyDesc,_hide=require_descriptors()?function(et,tt,rt){return dP$2.f(et,tt,createDesc$2(1,rt))}:function(et,tt,rt){return et[tt]=rt,et},hasOwnProperty$b={}.hasOwnProperty,_has=function(et,tt){return hasOwnProperty$b.call(et,tt)},global$4=_globalExports,core$3=_coreExports,ctx=_ctx,hide$2=_hide,has$6=_has,PROTOTYPE$2="prototype",$export$7=function(et,tt,rt){var nt=et&$export$7.F,it=et&$export$7.G,at=et&$export$7.S,ot=et&$export$7.P,st=et&$export$7.B,lt=et&$export$7.W,ct=it?core$3:core$3[tt]||(core$3[tt]={}),ut=ct[PROTOTYPE$2],ft=it?global$4:at?global$4[tt]:(global$4[tt]||{})[PROTOTYPE$2],ht,dt,vt;it&&(rt=tt);for(ht in rt)dt=!nt&&ft&&ft[ht]!==void 0,!(dt&&has$6(ct,ht))&&(vt=dt?ft[ht]:rt[ht],ct[ht]=it&&typeof ft[ht]!="function"?rt[ht]:st&&dt?ctx(vt,global$4):lt&&ft[ht]==vt?function(yt){var xt=function(_t,mt,pt){if(this instanceof yt){switch(arguments.length){case 0:return new yt;case 1:return new yt(_t);case 2:return new yt(_t,mt)}return new yt(_t,mt,pt)}return yt.apply(this,arguments)};return xt[PROTOTYPE$2]=yt[PROTOTYPE$2],xt}(vt):ot&&typeof vt=="function"?ctx(Function.call,vt):vt,ot&&((ct.virtual||(ct.virtual={}))[ht]=vt,et&$export$7.R&&ut&&!ut[ht]&&hide$2(ut,ht,vt)))};$export$7.F=1;$export$7.G=2;$export$7.S=4;$export$7.P=8;$export$7.B=16;$export$7.W=32;$export$7.U=64;$export$7.R=128;var _export=$export$7,toString$5={}.toString,_cof=function(et){return toString$5.call(et).slice(8,-1)},_iobject,hasRequired_iobject;function require_iobject(){if(hasRequired_iobject)return _iobject;hasRequired_iobject=1;var et=_cof;return _iobject=Object("z").propertyIsEnumerable(0)?Object:function(tt){return et(tt)=="String"?tt.split(""):Object(tt)},_iobject}var _defined=function(et){if(et==null)throw TypeError("Can't call method on  "+et);return et},IObject=require_iobject(),defined$3=_defined,_toIobject=function(et){return IObject(defined$3(et))},ceil=Math.ceil,floor=Math.floor,_toInteger=function(et){return isNaN(et=+et)?0:(et>0?floor:ceil)(et)},toInteger$4=_toInteger,min$4=Math.min,_toLength=function(et){return et>0?min$4(toInteger$4(et),9007199254740991):0},toInteger$3=_toInteger,max$3=Math.max,min$3=Math.min,_toAbsoluteIndex=function(et,tt){return et=toInteger$3(et),et<0?max$3(et+tt,0):min$3(et,tt)},toIObject$5=_toIobject,toLength=_toLength,toAbsoluteIndex=_toAbsoluteIndex,_arrayIncludes$1=function(et){return function(tt,rt,nt){var it=toIObject$5(tt),at=toLength(it.length),ot=toAbsoluteIndex(nt,at),st;if(et&&rt!=rt){for(;at>ot;)if(st=it[ot++],st!=st)return!0}else for(;at>ot;ot++)if((et||ot in it)&&it[ot]===rt)return et||ot||0;return!et&&-1}},_shared={exports:{}},_library=!0,core$2=_coreExports,global$3=_globalExports,SHARED="__core-js_shared__",store$1=global$3[SHARED]||(global$3[SHARED]={});(_shared.exports=function(et,tt){return store$1[et]||(store$1[et]=tt!==void 0?tt:{})})("versions",[]).push({version:core$2.version,mode:"pure",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"});var _sharedExports=_shared.exports,id$1=0,px=Math.random(),_uid=function(et){return"Symbol(".concat(et===void 0?"":et,")_",(++id$1+px).toString(36))},shared$1=_sharedExports("keys"),uid$2=_uid,_sharedKey=function(et){return shared$1[et]||(shared$1[et]=uid$2(et))},has$5=_has,toIObject$4=_toIobject,arrayIndexOf=_arrayIncludes$1(!1),IE_PROTO$2=_sharedKey("IE_PROTO"),_objectKeysInternal=function(et,tt){var rt=toIObject$4(et),nt=0,it=[],at;for(at in rt)at!=IE_PROTO$2&&has$5(rt,at)&&it.push(at);for(;tt.length>nt;)has$5(rt,at=tt[nt++])&&(~arrayIndexOf(it,at)||it.push(at));return it},_enumBugKeys="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),$keys$2=_objectKeysInternal,enumBugKeys$1=_enumBugKeys,_objectKeys=Object.keys||function(tt){return $keys$2(tt,enumBugKeys$1)},_objectGops={};_objectGops.f=Object.getOwnPropertySymbols;var _objectPie={},hasRequired_objectPie;function require_objectPie(){return hasRequired_objectPie||(hasRequired_objectPie=1,_objectPie.f={}.propertyIsEnumerable),_objectPie}var defined$2=_defined,_toObject=function(et){return Object(defined$2(et))},_objectAssign,hasRequired_objectAssign;function require_objectAssign(){if(hasRequired_objectAssign)return _objectAssign;hasRequired_objectAssign=1;var et=require_descriptors(),tt=_objectKeys,rt=_objectGops,nt=require_objectPie(),it=_toObject,at=require_iobject(),ot=Object.assign;return _objectAssign=!ot||_fails(function(){var st={},lt={},ct=Symbol(),ut="abcdefghijklmnopqrst";return st[ct]=7,ut.split("").forEach(function(ft){lt[ft]=ft}),ot({},st)[ct]!=7||Object.keys(ot({},lt)).join("")!=ut})?function(lt,ct){for(var ut=it(lt),ft=arguments.length,ht=1,dt=rt.f,vt=nt.f;ft>ht;)for(var yt=at(arguments[ht++]),xt=dt?tt(yt).concat(dt(yt)):tt(yt),_t=xt.length,mt=0,pt;_t>mt;)pt=xt[mt++],(!et||vt.call(yt,pt))&&(ut[pt]=yt[pt]);return ut}:ot,_objectAssign}var $export$6=_export;$export$6($export$6.S+$export$6.F,"Object",{assign:require_objectAssign()});var assign$2=_coreExports.Object.assign,assign$1={default:assign$2,__esModule:!0};_extends$u.__esModule=!0;var _assign=assign$1,_assign2=_interopRequireDefault$5(_assign);function _interopRequireDefault$5(et){return et&&et.__esModule?et:{default:et}}_extends$u.default=_assign2.default||function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et};var has$4=_has,toObject$2=_toObject,IE_PROTO$1=_sharedKey("IE_PROTO"),ObjectProto$1=Object.prototype,_objectGpo=Object.getPrototypeOf||function(et){return et=toObject$2(et),has$4(et,IE_PROTO$1)?et[IE_PROTO$1]:typeof et.constructor=="function"&&et instanceof et.constructor?et.constructor.prototype:et instanceof Object?ObjectProto$1:null},$export$5=_export,core$1=_coreExports,fails=_fails,_objectSap=function(et,tt){var rt=(core$1.Object||{})[et]||Object[et],nt={};nt[et]=tt(rt),$export$5($export$5.S+$export$5.F*fails(function(){rt(1)}),"Object",nt)},toObject$1=_toObject,$getPrototypeOf=_objectGpo;_objectSap("getPrototypeOf",function(){return function(tt){return $getPrototypeOf(toObject$1(tt))}});var getPrototypeOf$2=_coreExports.Object.getPrototypeOf,getPrototypeOf$1={default:getPrototypeOf$2,__esModule:!0},classCallCheck={};classCallCheck.__esModule=!0;classCallCheck.default=function(et,tt){if(!(et instanceof tt))throw new TypeError("Cannot call a class as a function")};var createClass={},$export$4=_export;$export$4($export$4.S+$export$4.F*!require_descriptors(),"Object",{defineProperty:require_objectDp().f});var $Object$1=_coreExports.Object,defineProperty$5=function(tt,rt,nt){return $Object$1.defineProperty(tt,rt,nt)},defineProperty$4={default:defineProperty$5,__esModule:!0};createClass.__esModule=!0;var _defineProperty$F=defineProperty$4,_defineProperty2=_interopRequireDefault$4(_defineProperty$F);function _interopRequireDefault$4(et){return et&&et.__esModule?et:{default:et}}createClass.default=function(){function et(tt,rt){for(var nt=0;nt<rt.length;nt++){var it=rt[nt];it.enumerable=it.enumerable||!1,it.configurable=!0,"value"in it&&(it.writable=!0),(0,_defineProperty2.default)(tt,it.key,it)}}return function(tt,rt,nt){return rt&&et(tt.prototype,rt),nt&&et(tt,nt),tt}}();var possibleConstructorReturn={},_typeof$I={},toInteger$2=_toInteger,defined$1=_defined,_stringAt=function(et){return function(tt,rt){var nt=String(defined$1(tt)),it=toInteger$2(rt),at=nt.length,ot,st;return it<0||it>=at?et?"":void 0:(ot=nt.charCodeAt(it),ot<55296||ot>56319||it+1===at||(st=nt.charCodeAt(it+1))<56320||st>57343?et?nt.charAt(it):ot:et?nt.slice(it,it+2):(ot-55296<<10)+(st-56320)+65536)}},_redefine=_hide,_iterators={},dP$1=require_objectDp(),anObject$2=_anObject,getKeys$1=_objectKeys,_objectDps=require_descriptors()?Object.defineProperties:function(tt,rt){anObject$2(tt);for(var nt=getKeys$1(rt),it=nt.length,at=0,ot;it>at;)dP$1.f(tt,ot=nt[at++],rt[ot]);return tt},_html,hasRequired_html;function require_html(){if(hasRequired_html)return _html;hasRequired_html=1;var et=_globalExports.document;return _html=et&&et.documentElement,_html}var anObject$1=_anObject,dPs=_objectDps,enumBugKeys=_enumBugKeys,IE_PROTO=_sharedKey("IE_PROTO"),Empty=function(){},PROTOTYPE$1="prototype",createDict=function(){var et=require_domCreate()("iframe"),tt=enumBugKeys.length,rt="<",nt=">",it;for(et.style.display="none",require_html().appendChild(et),et.src="javascript:",it=et.contentWindow.document,it.open(),it.write(rt+"script"+nt+"document.F=Object"+rt+"/script"+nt),it.close(),createDict=it.F;tt--;)delete createDict[PROTOTYPE$1][enumBugKeys[tt]];return createDict()},_objectCreate=Object.create||function(tt,rt){var nt;return tt!==null?(Empty[PROTOTYPE$1]=anObject$1(tt),nt=new Empty,Empty[PROTOTYPE$1]=null,nt[IE_PROTO]=tt):nt=createDict(),rt===void 0?nt:dPs(nt,rt)},_wks={exports:{}},store=_sharedExports("wks"),uid$1=_uid,Symbol$8=_globalExports.Symbol,USE_SYMBOL=typeof Symbol$8=="function",$exports=_wks.exports=function(et){return store[et]||(store[et]=USE_SYMBOL&&Symbol$8[et]||(USE_SYMBOL?Symbol$8:uid$1)("Symbol."+et))};$exports.store=store;var _wksExports=_wks.exports,def=require_objectDp().f,has$3=_has,TAG=_wksExports("toStringTag"),_setToStringTag=function(et,tt,rt){et&&!has$3(et=rt?et:et.prototype,TAG)&&def(et,TAG,{configurable:!0,value:tt})},create$2=_objectCreate,descriptor=_propertyDesc,setToStringTag$2=_setToStringTag,IteratorPrototype={};_hide(IteratorPrototype,_wksExports("iterator"),function(){return this});var _iterCreate=function(et,tt,rt){et.prototype=create$2(IteratorPrototype,{next:descriptor(1,rt)}),setToStringTag$2(et,tt+" Iterator")},$export$3=_export,redefine$1=_redefine,hide$1=_hide,Iterators$2=_iterators,$iterCreate=_iterCreate,setToStringTag$1=_setToStringTag,getPrototypeOf=_objectGpo,ITERATOR=_wksExports("iterator"),BUGGY=!([].keys&&"next"in[].keys()),FF_ITERATOR="@@iterator",KEYS="keys",VALUES="values",returnThis=function(){return this},_iterDefine=function(et,tt,rt,nt,it,at,ot){$iterCreate(rt,tt,nt);var st=function(pt){if(!BUGGY&&pt in ft)return ft[pt];switch(pt){case KEYS:return function(){return new rt(this,pt)};case VALUES:return function(){return new rt(this,pt)}}return function(){return new rt(this,pt)}},lt=tt+" Iterator",ct=it==VALUES,ut=!1,ft=et.prototype,ht=ft[ITERATOR]||ft[FF_ITERATOR]||it&&ft[it],dt=ht||st(it),vt=it?ct?st("entries"):dt:void 0,yt=tt=="Array"&&ft.entries||ht,xt,_t,mt;if(yt&&(mt=getPrototypeOf(yt.call(new et)),mt!==Object.prototype&&mt.next&&setToStringTag$1(mt,lt,!0)),ct&&ht&&ht.name!==VALUES&&(ut=!0,dt=function(){return ht.call(this)}),ot&&(BUGGY||ut||!ft[ITERATOR])&&hide$1(ft,ITERATOR,dt),Iterators$2[tt]=dt,Iterators$2[lt]=returnThis,it)if(xt={values:ct?dt:st(VALUES),keys:at?dt:st(KEYS),entries:vt},ot)for(_t in xt)_t in ft||redefine$1(ft,_t,xt[_t]);else $export$3($export$3.P+$export$3.F*(BUGGY||ut),tt,xt);return xt},$at=_stringAt(!0);_iterDefine(String,"String",function(et){this._t=String(et),this._i=0},function(){var et=this._t,tt=this._i,rt;return tt>=et.length?{value:void 0,done:!0}:(rt=$at(et,tt),this._i+=rt.length,{value:rt,done:!1})});var _iterStep=function(et,tt){return{value:tt,done:!!et}},step=_iterStep,Iterators$1=_iterators,toIObject$3=_toIobject;_iterDefine(Array,"Array",function(et,tt){this._t=toIObject$3(et),this._i=0,this._k=tt},function(){var et=this._t,tt=this._k,rt=this._i++;return!et||rt>=et.length?(this._t=void 0,step(1)):tt=="keys"?step(0,rt):tt=="values"?step(0,et[rt]):step(0,[rt,et[rt]])},"values");Iterators$1.Arguments=Iterators$1.Array;var global$2=_globalExports,hide=_hide,Iterators=_iterators,TO_STRING_TAG=_wksExports("toStringTag"),DOMIterables="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(",");for(var i=0;i<DOMIterables.length;i++){var NAME=DOMIterables[i],Collection=global$2[NAME],proto=Collection&&Collection.prototype;proto&&!proto[TO_STRING_TAG]&&hide(proto,TO_STRING_TAG,NAME),Iterators[NAME]=Iterators.Array}var _wksExt={};_wksExt.f=_wksExports;var iterator$1=_wksExt.f("iterator"),iterator={default:iterator$1,__esModule:!0},_meta={exports:{}},META$1=_uid("meta"),isObject$a=_isObject,has$2=_has,setDesc=require_objectDp().f,id=0,isExtensible=Object.isExtensible||function(){return!0},FREEZE=!_fails(function(){return isExtensible(Object.preventExtensions({}))}),setMeta=function(et){setDesc(et,META$1,{value:{i:"O"+ ++id,w:{}}})},fastKey=function(et,tt){if(!isObject$a(et))return typeof et=="symbol"?et:(typeof et=="string"?"S":"P")+et;if(!has$2(et,META$1)){if(!isExtensible(et))return"F";if(!tt)return"E";setMeta(et)}return et[META$1].i},getWeak=function(et,tt){if(!has$2(et,META$1)){if(!isExtensible(et))return!0;if(!tt)return!1;setMeta(et)}return et[META$1].w},onFreeze=function(et){return FREEZE&&meta.NEED&&isExtensible(et)&&!has$2(et,META$1)&&setMeta(et),et},meta=_meta.exports={KEY:META$1,NEED:!1,fastKey,getWeak,onFreeze},_metaExports=_meta.exports,core=_coreExports,wksExt$1=_wksExt,defineProperty$3=require_objectDp().f,_wksDefine=function(et){var tt=core.Symbol||(core.Symbol={});et.charAt(0)!="_"&&!(et in tt)&&defineProperty$3(tt,et,{value:wksExt$1.f(et)})},getKeys=_objectKeys,gOPS=_objectGops,pIE$1=require_objectPie(),_enumKeys=function(et){var tt=getKeys(et),rt=gOPS.f;if(rt)for(var nt=rt(et),it=pIE$1.f,at=0,ot;nt.length>at;)it.call(et,ot=nt[at++])&&tt.push(ot);return tt},cof=_cof,_isArray=Array.isArray||function(tt){return cof(tt)=="Array"},_objectGopnExt={},_objectGopn={},$keys$1=_objectKeysInternal,hiddenKeys=_enumBugKeys.concat("length","prototype");_objectGopn.f=Object.getOwnPropertyNames||function(tt){return $keys$1(tt,hiddenKeys)};var toIObject$2=_toIobject,gOPN$1=_objectGopn.f,toString$4={}.toString,windowNames=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],getWindowNames=function(et){try{return gOPN$1(et)}catch{return windowNames.slice()}};_objectGopnExt.f=function(tt){return windowNames&&toString$4.call(tt)=="[object Window]"?getWindowNames(tt):gOPN$1(toIObject$2(tt))};var _objectGopd={},pIE=require_objectPie(),createDesc$1=_propertyDesc,toIObject$1=_toIobject,toPrimitive$1=_toPrimitive$F,has$1=_has,IE8_DOM_DEFINE=require_ie8DomDefine(),gOPD$1=Object.getOwnPropertyDescriptor;_objectGopd.f=require_descriptors()?gOPD$1:function(tt,rt){if(tt=toIObject$1(tt),rt=toPrimitive$1(rt,!0),IE8_DOM_DEFINE)try{return gOPD$1(tt,rt)}catch{}if(has$1(tt,rt))return createDesc$1(!pIE.f.call(tt,rt),tt[rt])};var global$1=_globalExports,has=_has,DESCRIPTORS=require_descriptors(),$export$2=_export,redefine=_redefine,META=_metaExports.KEY,$fails=_fails,shared=_sharedExports,setToStringTag=_setToStringTag,uid=_uid,wks=_wksExports,wksExt=_wksExt,wksDefine=_wksDefine,enumKeys=_enumKeys,isArray$g=_isArray,anObject=_anObject,isObject$9=_isObject,toObject=_toObject,toIObject=_toIobject,toPrimitive=_toPrimitive$F,createDesc=_propertyDesc,_create$1=_objectCreate,gOPNExt=_objectGopnExt,$GOPD=_objectGopd,$GOPS=_objectGops,$DP=require_objectDp(),$keys=_objectKeys,gOPD=$GOPD.f,dP=$DP.f,gOPN=gOPNExt.f,$Symbol=global$1.Symbol,$JSON=global$1.JSON,_stringify=$JSON&&$JSON.stringify,PROTOTYPE="prototype",HIDDEN=wks("_hidden"),TO_PRIMITIVE=wks("toPrimitive"),isEnum={}.propertyIsEnumerable,SymbolRegistry=shared("symbol-registry"),AllSymbols=shared("symbols"),OPSymbols=shared("op-symbols"),ObjectProto=Object[PROTOTYPE],USE_NATIVE=typeof $Symbol=="function"&&!!$GOPS.f,QObject=global$1.QObject,setter=!QObject||!QObject[PROTOTYPE]||!QObject[PROTOTYPE].findChild,setSymbolDesc=DESCRIPTORS&&$fails(function(){return _create$1(dP({},"a",{get:function(){return dP(this,"a",{value:7}).a}})).a!=7})?function(et,tt,rt){var nt=gOPD(ObjectProto,tt);nt&&delete ObjectProto[tt],dP(et,tt,rt),nt&&et!==ObjectProto&&dP(ObjectProto,tt,nt)}:dP,wrap=function(et){var tt=AllSymbols[et]=_create$1($Symbol[PROTOTYPE]);return tt._k=et,tt},isSymbol$7=USE_NATIVE&&typeof $Symbol.iterator=="symbol"?function(et){return typeof et=="symbol"}:function(et){return et instanceof $Symbol},$defineProperty=function(tt,rt,nt){return tt===ObjectProto&&$defineProperty(OPSymbols,rt,nt),anObject(tt),rt=toPrimitive(rt,!0),anObject(nt),has(AllSymbols,rt)?(nt.enumerable?(has(tt,HIDDEN)&&tt[HIDDEN][rt]&&(tt[HIDDEN][rt]=!1),nt=_create$1(nt,{enumerable:createDesc(0,!1)})):(has(tt,HIDDEN)||dP(tt,HIDDEN,createDesc(1,{})),tt[HIDDEN][rt]=!0),setSymbolDesc(tt,rt,nt)):dP(tt,rt,nt)},$defineProperties=function(tt,rt){anObject(tt);for(var nt=enumKeys(rt=toIObject(rt)),it=0,at=nt.length,ot;at>it;)$defineProperty(tt,ot=nt[it++],rt[ot]);return tt},$create=function(tt,rt){return rt===void 0?_create$1(tt):$defineProperties(_create$1(tt),rt)},$propertyIsEnumerable=function(tt){var rt=isEnum.call(this,tt=toPrimitive(tt,!0));return this===ObjectProto&&has(AllSymbols,tt)&&!has(OPSymbols,tt)?!1:rt||!has(this,tt)||!has(AllSymbols,tt)||has(this,HIDDEN)&&this[HIDDEN][tt]?rt:!0},$getOwnPropertyDescriptor=function(tt,rt){if(tt=toIObject(tt),rt=toPrimitive(rt,!0),!(tt===ObjectProto&&has(AllSymbols,rt)&&!has(OPSymbols,rt))){var nt=gOPD(tt,rt);return nt&&has(AllSymbols,rt)&&!(has(tt,HIDDEN)&&tt[HIDDEN][rt])&&(nt.enumerable=!0),nt}},$getOwnPropertyNames=function(tt){for(var rt=gOPN(toIObject(tt)),nt=[],it=0,at;rt.length>it;)!has(AllSymbols,at=rt[it++])&&at!=HIDDEN&&at!=META&&nt.push(at);return nt},$getOwnPropertySymbols=function(tt){for(var rt=tt===ObjectProto,nt=gOPN(rt?OPSymbols:toIObject(tt)),it=[],at=0,ot;nt.length>at;)has(AllSymbols,ot=nt[at++])&&(!rt||has(ObjectProto,ot))&&it.push(AllSymbols[ot]);return it};USE_NATIVE||($Symbol=function(){if(this instanceof $Symbol)throw TypeError("Symbol is not a constructor!");var tt=uid(arguments.length>0?arguments[0]:void 0),rt=function(nt){this===ObjectProto&&rt.call(OPSymbols,nt),has(this,HIDDEN)&&has(this[HIDDEN],tt)&&(this[HIDDEN][tt]=!1),setSymbolDesc(this,tt,createDesc(1,nt))};return DESCRIPTORS&&setter&&setSymbolDesc(ObjectProto,tt,{configurable:!0,set:rt}),wrap(tt)},redefine($Symbol[PROTOTYPE],"toString",function(){return this._k}),$GOPD.f=$getOwnPropertyDescriptor,$DP.f=$defineProperty,_objectGopn.f=gOPNExt.f=$getOwnPropertyNames,require_objectPie().f=$propertyIsEnumerable,$GOPS.f=$getOwnPropertySymbols,DESCRIPTORS&&!_library&&redefine(ObjectProto,"propertyIsEnumerable",$propertyIsEnumerable),wksExt.f=function(et){return wrap(wks(et))});$export$2($export$2.G+$export$2.W+$export$2.F*!USE_NATIVE,{Symbol:$Symbol});for(var es6Symbols="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),j=0;es6Symbols.length>j;)wks(es6Symbols[j++]);for(var wellKnownSymbols=$keys(wks.store),k$2=0;wellKnownSymbols.length>k$2;)wksDefine(wellKnownSymbols[k$2++]);$export$2($export$2.S+$export$2.F*!USE_NATIVE,"Symbol",{for:function(et){return has(SymbolRegistry,et+="")?SymbolRegistry[et]:SymbolRegistry[et]=$Symbol(et)},keyFor:function(tt){if(!isSymbol$7(tt))throw TypeError(tt+" is not a symbol!");for(var rt in SymbolRegistry)if(SymbolRegistry[rt]===tt)return rt},useSetter:function(){setter=!0},useSimple:function(){setter=!1}});$export$2($export$2.S+$export$2.F*!USE_NATIVE,"Object",{create:$create,defineProperty:$defineProperty,defineProperties:$defineProperties,getOwnPropertyDescriptor:$getOwnPropertyDescriptor,getOwnPropertyNames:$getOwnPropertyNames,getOwnPropertySymbols:$getOwnPropertySymbols});var FAILS_ON_PRIMITIVES=$fails(function(){$GOPS.f(1)});$export$2($export$2.S+$export$2.F*FAILS_ON_PRIMITIVES,"Object",{getOwnPropertySymbols:function(tt){return $GOPS.f(toObject(tt))}});$JSON&&$export$2($export$2.S+$export$2.F*(!USE_NATIVE||$fails(function(){var et=$Symbol();return _stringify([et])!="[null]"||_stringify({a:et})!="{}"||_stringify(Object(et))!="{}"})),"JSON",{stringify:function(tt){for(var rt=[tt],nt=1,it,at;arguments.length>nt;)rt.push(arguments[nt++]);if(at=it=rt[1],!(!isObject$9(it)&&tt===void 0||isSymbol$7(tt)))return isArray$g(it)||(it=function(ot,st){if(typeof at=="function"&&(st=at.call(this,ot,st)),!isSymbol$7(st))return st}),rt[1]=it,_stringify.apply($JSON,rt)}});$Symbol[PROTOTYPE][TO_PRIMITIVE]||_hide($Symbol[PROTOTYPE],TO_PRIMITIVE,$Symbol[PROTOTYPE].valueOf);setToStringTag($Symbol,"Symbol");setToStringTag(Math,"Math",!0);setToStringTag(global$1.JSON,"JSON",!0);_wksDefine("asyncIterator");_wksDefine("observable");var symbol$1=_coreExports.Symbol,symbol={default:symbol$1,__esModule:!0};_typeof$I.__esModule=!0;var _iterator=iterator,_iterator2=_interopRequireDefault$3(_iterator),_symbol=symbol,_symbol2=_interopRequireDefault$3(_symbol),_typeof$H=typeof _symbol2.default=="function"&&typeof _iterator2.default=="symbol"?function(et){return typeof et}:function(et){return et&&typeof _symbol2.default=="function"&&et.constructor===_symbol2.default&&et!==_symbol2.default.prototype?"symbol":typeof et};function _interopRequireDefault$3(et){return et&&et.__esModule?et:{default:et}}_typeof$I.default=typeof _symbol2.default=="function"&&_typeof$H(_iterator2.default)==="symbol"?function(et){return typeof et>"u"?"undefined":_typeof$H(et)}:function(et){return et&&typeof _symbol2.default=="function"&&et.constructor===_symbol2.default&&et!==_symbol2.default.prototype?"symbol":typeof et>"u"?"undefined":_typeof$H(et)};possibleConstructorReturn.__esModule=!0;var _typeof2$1=_typeof$I,_typeof3$1=_interopRequireDefault$2(_typeof2$1);function _interopRequireDefault$2(et){return et&&et.__esModule?et:{default:et}}possibleConstructorReturn.default=function(et,tt){if(!et)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tt&&((typeof tt>"u"?"undefined":(0,_typeof3$1.default)(tt))==="object"||typeof tt=="function")?tt:et};var inherits={},_setProto,hasRequired_setProto;function require_setProto(){if(hasRequired_setProto)return _setProto;hasRequired_setProto=1;var et=_isObject,tt=_anObject,rt=function(nt,it){if(tt(nt),!et(it)&&it!==null)throw TypeError(it+": can't set as prototype!")};return _setProto={set:Object.setPrototypeOf||("__proto__"in{}?function(nt,it,at){try{at=_ctx(Function.call,_objectGopd.f(Object.prototype,"__proto__").set,2),at(nt,[]),it=!(nt instanceof Array)}catch{it=!0}return function(st,lt){return rt(st,lt),it?st.__proto__=lt:at(st,lt),st}}({},!1):void 0),check:rt},_setProto}var $export$1=_export;$export$1($export$1.S,"Object",{setPrototypeOf:require_setProto().set});var setPrototypeOf$1=_coreExports.Object.setPrototypeOf,setPrototypeOf={default:setPrototypeOf$1,__esModule:!0},$export=_export;$export($export.S,"Object",{create:_objectCreate});var $Object=_coreExports.Object,create$1=function(tt,rt){return $Object.create(tt,rt)},create={default:create$1,__esModule:!0};inherits.__esModule=!0;var _setPrototypeOf$c=setPrototypeOf,_setPrototypeOf2=_interopRequireDefault$1(_setPrototypeOf$c),_create=create,_create2=_interopRequireDefault$1(_create),_typeof2=_typeof$I,_typeof3=_interopRequireDefault$1(_typeof2);function _interopRequireDefault$1(et){return et&&et.__esModule?et:{default:et}}inherits.default=function(et,tt){if(typeof tt!="function"&&tt!==null)throw new TypeError("Super expression must either be null or a function, not "+(typeof tt>"u"?"undefined":(0,_typeof3.default)(tt)));et.prototype=(0,_create2.default)(tt&&tt.prototype,{constructor:{value:et,enumerable:!1,writable:!0,configurable:!0}}),tt&&(_setPrototypeOf2.default?(0,_setPrototypeOf2.default)(et,tt):et.__proto__=tt)};var lottie={exports:{}};(function(module,exports){typeof navigator<"u"&&function(et,tt){module.exports=tt()}(commonjsGlobal$2,function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(tt){_useWebWorker=!!tt},getWebWorker=function(){return _useWebWorker},setLocationHref=function(tt){locationHref=tt},getLocationHref=function(){return locationHref};function createTag(et){return document.createElement(et)}function extendPrototype(et,tt){var rt,nt=et.length,it;for(rt=0;rt<nt;rt+=1){it=et[rt].prototype;for(var at in it)Object.prototype.hasOwnProperty.call(it,at)&&(tt.prototype[at]=it[at])}}function getDescriptor(et,tt){return Object.getOwnPropertyDescriptor(et,tt)}function createProxyFunction(et){function tt(){}return tt.prototype=et,tt}var audioControllerFactory=function(){function et(tt){this.audios=[],this.audioFactory=tt,this._volume=1,this._isMuted=!1}return et.prototype={addAudio:function(rt){this.audios.push(rt)},pause:function(){var rt,nt=this.audios.length;for(rt=0;rt<nt;rt+=1)this.audios[rt].pause()},resume:function(){var rt,nt=this.audios.length;for(rt=0;rt<nt;rt+=1)this.audios[rt].resume()},setRate:function(rt){var nt,it=this.audios.length;for(nt=0;nt<it;nt+=1)this.audios[nt].setRate(rt)},createAudio:function(rt){return this.audioFactory?this.audioFactory(rt):window.Howl?new window.Howl({src:[rt]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(rt){this.audioFactory=rt},setVolume:function(rt){this._volume=rt,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var rt,nt=this.audios.length;for(rt=0;rt<nt;rt+=1)this.audios[rt].volume(this._volume*(this._isMuted?0:1))}},function(){return new et}}(),createTypedArray=function(){function et(rt,nt){var it=0,at=[],ot;switch(rt){case"int16":case"uint8c":ot=1;break;default:ot=1.1;break}for(it=0;it<nt;it+=1)at.push(ot);return at}function tt(rt,nt){return rt==="float32"?new Float32Array(nt):rt==="int16"?new Int16Array(nt):rt==="uint8c"?new Uint8ClampedArray(nt):et(rt,nt)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?tt:et}();function createSizedArray(et){return Array.apply(null,{length:et})}function _typeof$6(et){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$6=function(rt){return typeof rt}:_typeof$6=function(rt){return rt&&typeof Symbol=="function"&&rt.constructor===Symbol&&rt!==Symbol.prototype?"symbol":typeof rt},_typeof$6(et)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var et=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],tt,rt=et.length;for(tt=0;tt<rt;tt+=1)BMMath[et[tt]]=Math[et[tt]]})(),BMMath.random=Math.random,BMMath.abs=function(et){var tt=_typeof$6(et);if(tt==="object"&&et.length){var rt=createSizedArray(et.length),nt,it=et.length;for(nt=0;nt<it;nt+=1)rt[nt]=Math.abs(et[nt]);return rt}return Math.abs(et)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(et){et.style.position="absolute",et.style.top=0,et.style.left=0,et.style.display="block",et.style.transformOrigin="0 0",et.style.webkitTransformOrigin="0 0",et.style.backfaceVisibility="visible",et.style.webkitBackfaceVisibility="visible",et.style.transformStyle="preserve-3d",et.style.webkitTransformStyle="preserve-3d",et.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(et,tt,rt,nt){this.type=et,this.currentTime=tt,this.totalTime=rt,this.direction=nt<0?-1:1}function BMCompleteEvent(et,tt){this.type=et,this.direction=tt<0?-1:1}function BMCompleteLoopEvent(et,tt,rt,nt){this.type=et,this.currentLoop=rt,this.totalLoops=tt,this.direction=nt<0?-1:1}function BMSegmentStartEvent(et,tt,rt){this.type=et,this.firstFrame=tt,this.totalFrames=rt}function BMDestroyEvent(et,tt){this.type=et,this.target=tt}function BMRenderFrameErrorEvent(et,tt){this.type="renderFrameError",this.nativeError=et,this.currentTime=tt}function BMConfigErrorEvent(et){this.type="configError",this.nativeError=et}var createElementID=function(){var et=0;return function(){return et+=1,idPrefix$1+"__lottie_element_"+et}}();function HSVtoRGB(et,tt,rt){var nt,it,at,ot,st,lt,ct,ut;switch(ot=Math.floor(et*6),st=et*6-ot,lt=rt*(1-tt),ct=rt*(1-st*tt),ut=rt*(1-(1-st)*tt),ot%6){case 0:nt=rt,it=ut,at=lt;break;case 1:nt=ct,it=rt,at=lt;break;case 2:nt=lt,it=rt,at=ut;break;case 3:nt=lt,it=ct,at=rt;break;case 4:nt=ut,it=lt,at=rt;break;case 5:nt=rt,it=lt,at=ct;break}return[nt,it,at]}function RGBtoHSV(et,tt,rt){var nt=Math.max(et,tt,rt),it=Math.min(et,tt,rt),at=nt-it,ot,st=nt===0?0:at/nt,lt=nt/255;switch(nt){case it:ot=0;break;case et:ot=tt-rt+at*(tt<rt?6:0),ot/=6*at;break;case tt:ot=rt-et+at*2,ot/=6*at;break;case rt:ot=et-tt+at*4,ot/=6*at;break}return[ot,st,lt]}function addSaturationToRGB(et,tt){var rt=RGBtoHSV(et[0]*255,et[1]*255,et[2]*255);return rt[1]+=tt,rt[1]>1?rt[1]=1:rt[1]<=0&&(rt[1]=0),HSVtoRGB(rt[0],rt[1],rt[2])}function addBrightnessToRGB(et,tt){var rt=RGBtoHSV(et[0]*255,et[1]*255,et[2]*255);return rt[2]+=tt,rt[2]>1?rt[2]=1:rt[2]<0&&(rt[2]=0),HSVtoRGB(rt[0],rt[1],rt[2])}function addHueToRGB(et,tt){var rt=RGBtoHSV(et[0]*255,et[1]*255,et[2]*255);return rt[0]+=tt/360,rt[0]>1?rt[0]-=1:rt[0]<0&&(rt[0]+=1),HSVtoRGB(rt[0],rt[1],rt[2])}var rgbToHex=function(){var et=[],tt,rt;for(tt=0;tt<256;tt+=1)rt=tt.toString(16),et[tt]=rt.length===1?"0"+rt:rt;return function(nt,it,at){return nt<0&&(nt=0),it<0&&(it=0),at<0&&(at=0),"#"+et[nt]+et[it]+et[at]}}(),setSubframeEnabled=function(tt){subframeEnabled=!!tt},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(tt){expressionsPlugin=tt},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(tt){expressionsInterfaces=tt},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(tt){defaultCurveSegments=tt},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(tt){idPrefix$1=tt};function createNS(et){return document.createElementNS(svgNS,et)}function _typeof$5(et){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$5=function(rt){return typeof rt}:_typeof$5=function(rt){return rt&&typeof Symbol=="function"&&rt.constructor===Symbol&&rt!==Symbol.prototype?"symbol":typeof rt},_typeof$5(et)}var dataManager=function(){var et=1,tt=[],rt,nt,it={onmessage:function(){},postMessage:function(dt){rt({data:dt})}},at={postMessage:function(dt){it.onmessage({data:dt})}};function ot(ht){if(window.Worker&&window.Blob&&getWebWorker()){var dt=new Blob(["var _workerSelf = self; self.onmessage = ",ht.toString()],{type:"text/javascript"}),vt=URL.createObjectURL(dt);return new Worker(vt)}return rt=ht,it}function st(){nt||(nt=ot(function(dt){function vt(){function xt(Ft,Dt){var Mt,wt,Ot=Ft.length,Lt,Vt,zt,Yt;for(wt=0;wt<Ot;wt+=1)if(Mt=Ft[wt],"ks"in Mt&&!Mt.completed){if(Mt.completed=!0,Mt.hasMask){var nr=Mt.masksProperties;for(Vt=nr.length,Lt=0;Lt<Vt;Lt+=1)if(nr[Lt].pt.k.i)Et(nr[Lt].pt.k);else for(Yt=nr[Lt].pt.k.length,zt=0;zt<Yt;zt+=1)nr[Lt].pt.k[zt].s&&Et(nr[Lt].pt.k[zt].s[0]),nr[Lt].pt.k[zt].e&&Et(nr[Lt].pt.k[zt].e[0])}Mt.ty===0?(Mt.layers=pt(Mt.refId,Dt),xt(Mt.layers,Dt)):Mt.ty===4?bt(Mt.shapes):Mt.ty===5&&Ct(Mt)}}function _t(Ft,Dt){if(Ft){var Mt=0,wt=Ft.length;for(Mt=0;Mt<wt;Mt+=1)Ft[Mt].t===1&&(Ft[Mt].data.layers=pt(Ft[Mt].data.refId,Dt),xt(Ft[Mt].data.layers,Dt))}}function mt(Ft,Dt){for(var Mt=0,wt=Dt.length;Mt<wt;){if(Dt[Mt].id===Ft)return Dt[Mt];Mt+=1}return null}function pt(Ft,Dt){var Mt=mt(Ft,Dt);return Mt?Mt.layers.__used?JSON.parse(JSON.stringify(Mt.layers)):(Mt.layers.__used=!0,Mt.layers):null}function bt(Ft){var Dt,Mt=Ft.length,wt,Ot;for(Dt=Mt-1;Dt>=0;Dt-=1)if(Ft[Dt].ty==="sh")if(Ft[Dt].ks.k.i)Et(Ft[Dt].ks.k);else for(Ot=Ft[Dt].ks.k.length,wt=0;wt<Ot;wt+=1)Ft[Dt].ks.k[wt].s&&Et(Ft[Dt].ks.k[wt].s[0]),Ft[Dt].ks.k[wt].e&&Et(Ft[Dt].ks.k[wt].e[0]);else Ft[Dt].ty==="gr"&&bt(Ft[Dt].it)}function Et(Ft){var Dt,Mt=Ft.i.length;for(Dt=0;Dt<Mt;Dt+=1)Ft.i[Dt][0]+=Ft.v[Dt][0],Ft.i[Dt][1]+=Ft.v[Dt][1],Ft.o[Dt][0]+=Ft.v[Dt][0],Ft.o[Dt][1]+=Ft.v[Dt][1]}function St(Ft,Dt){var Mt=Dt?Dt.split("."):[100,100,100];return Ft[0]>Mt[0]?!0:Mt[0]>Ft[0]?!1:Ft[1]>Mt[1]?!0:Mt[1]>Ft[1]?!1:Ft[2]>Mt[2]?!0:Mt[2]>Ft[2]?!1:null}var Tt=function(){var Ft=[4,4,14];function Dt(wt){var Ot=wt.t.d;wt.t.d={k:[{s:Ot,t:0}]}}function Mt(wt){var Ot,Lt=wt.length;for(Ot=0;Ot<Lt;Ot+=1)wt[Ot].ty===5&&Dt(wt[Ot])}return function(wt){if(St(Ft,wt.v)&&(Mt(wt.layers),wt.assets)){var Ot,Lt=wt.assets.length;for(Ot=0;Ot<Lt;Ot+=1)wt.assets[Ot].layers&&Mt(wt.assets[Ot].layers)}}}(),Pt=function(){var Ft=[4,7,99];return function(Dt){if(Dt.chars&&!St(Ft,Dt.v)){var Mt,wt=Dt.chars.length;for(Mt=0;Mt<wt;Mt+=1){var Ot=Dt.chars[Mt];Ot.data&&Ot.data.shapes&&(bt(Ot.data.shapes),Ot.data.ip=0,Ot.data.op=99999,Ot.data.st=0,Ot.data.sr=1,Ot.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},Dt.chars[Mt].t||(Ot.data.shapes.push({ty:"no"}),Ot.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}}(),Rt=function(){var Ft=[5,7,15];function Dt(wt){var Ot=wt.t.p;typeof Ot.a=="number"&&(Ot.a={a:0,k:Ot.a}),typeof Ot.p=="number"&&(Ot.p={a:0,k:Ot.p}),typeof Ot.r=="number"&&(Ot.r={a:0,k:Ot.r})}function Mt(wt){var Ot,Lt=wt.length;for(Ot=0;Ot<Lt;Ot+=1)wt[Ot].ty===5&&Dt(wt[Ot])}return function(wt){if(St(Ft,wt.v)&&(Mt(wt.layers),wt.assets)){var Ot,Lt=wt.assets.length;for(Ot=0;Ot<Lt;Ot+=1)wt.assets[Ot].layers&&Mt(wt.assets[Ot].layers)}}}(),It=function(){var Ft=[4,1,9];function Dt(wt){var Ot,Lt=wt.length,Vt,zt;for(Ot=0;Ot<Lt;Ot+=1)if(wt[Ot].ty==="gr")Dt(wt[Ot].it);else if(wt[Ot].ty==="fl"||wt[Ot].ty==="st")if(wt[Ot].c.k&&wt[Ot].c.k[0].i)for(zt=wt[Ot].c.k.length,Vt=0;Vt<zt;Vt+=1)wt[Ot].c.k[Vt].s&&(wt[Ot].c.k[Vt].s[0]/=255,wt[Ot].c.k[Vt].s[1]/=255,wt[Ot].c.k[Vt].s[2]/=255,wt[Ot].c.k[Vt].s[3]/=255),wt[Ot].c.k[Vt].e&&(wt[Ot].c.k[Vt].e[0]/=255,wt[Ot].c.k[Vt].e[1]/=255,wt[Ot].c.k[Vt].e[2]/=255,wt[Ot].c.k[Vt].e[3]/=255);else wt[Ot].c.k[0]/=255,wt[Ot].c.k[1]/=255,wt[Ot].c.k[2]/=255,wt[Ot].c.k[3]/=255}function Mt(wt){var Ot,Lt=wt.length;for(Ot=0;Ot<Lt;Ot+=1)wt[Ot].ty===4&&Dt(wt[Ot].shapes)}return function(wt){if(St(Ft,wt.v)&&(Mt(wt.layers),wt.assets)){var Ot,Lt=wt.assets.length;for(Ot=0;Ot<Lt;Ot+=1)wt.assets[Ot].layers&&Mt(wt.assets[Ot].layers)}}}(),$t=function(){var Ft=[4,4,18];function Dt(wt){var Ot,Lt=wt.length,Vt,zt;for(Ot=Lt-1;Ot>=0;Ot-=1)if(wt[Ot].ty==="sh")if(wt[Ot].ks.k.i)wt[Ot].ks.k.c=wt[Ot].closed;else for(zt=wt[Ot].ks.k.length,Vt=0;Vt<zt;Vt+=1)wt[Ot].ks.k[Vt].s&&(wt[Ot].ks.k[Vt].s[0].c=wt[Ot].closed),wt[Ot].ks.k[Vt].e&&(wt[Ot].ks.k[Vt].e[0].c=wt[Ot].closed);else wt[Ot].ty==="gr"&&Dt(wt[Ot].it)}function Mt(wt){var Ot,Lt,Vt=wt.length,zt,Yt,nr,cr;for(Lt=0;Lt<Vt;Lt+=1){if(Ot=wt[Lt],Ot.hasMask){var hr=Ot.masksProperties;for(Yt=hr.length,zt=0;zt<Yt;zt+=1)if(hr[zt].pt.k.i)hr[zt].pt.k.c=hr[zt].cl;else for(cr=hr[zt].pt.k.length,nr=0;nr<cr;nr+=1)hr[zt].pt.k[nr].s&&(hr[zt].pt.k[nr].s[0].c=hr[zt].cl),hr[zt].pt.k[nr].e&&(hr[zt].pt.k[nr].e[0].c=hr[zt].cl)}Ot.ty===4&&Dt(Ot.shapes)}}return function(wt){if(St(Ft,wt.v)&&(Mt(wt.layers),wt.assets)){var Ot,Lt=wt.assets.length;for(Ot=0;Ot<Lt;Ot+=1)wt.assets[Ot].layers&&Mt(wt.assets[Ot].layers)}}}();function kt(Ft){Ft.__complete||(It(Ft),Tt(Ft),Pt(Ft),Rt(Ft),$t(Ft),xt(Ft.layers,Ft.assets),_t(Ft.chars,Ft.assets),Ft.__complete=!0)}function Ct(Ft){Ft.t.a.length===0&&"m"in Ft.t.p}var Bt={};return Bt.completeData=kt,Bt.checkColors=It,Bt.checkChars=Pt,Bt.checkPathProperties=Rt,Bt.checkShapes=$t,Bt.completeLayers=xt,Bt}if(at.dataManager||(at.dataManager=vt()),at.assetLoader||(at.assetLoader=function(){function xt(mt){var pt=mt.getResponseHeader("content-type");return pt&&mt.responseType==="json"&&pt.indexOf("json")!==-1||mt.response&&_typeof$5(mt.response)==="object"?mt.response:mt.response&&typeof mt.response=="string"?JSON.parse(mt.response):mt.responseText?JSON.parse(mt.responseText):null}function _t(mt,pt,bt,Et){var St,Tt=new XMLHttpRequest;try{Tt.responseType="json"}catch{}Tt.onreadystatechange=function(){if(Tt.readyState===4)if(Tt.status===200)St=xt(Tt),bt(St);else try{St=xt(Tt),bt(St)}catch(Pt){Et&&Et(Pt)}};try{Tt.open(["G","E","T"].join(""),mt,!0)}catch{Tt.open(["G","E","T"].join(""),pt+"/"+mt,!0)}Tt.send()}return{load:_t}}()),dt.data.type==="loadAnimation")at.assetLoader.load(dt.data.path,dt.data.fullPath,function(xt){at.dataManager.completeData(xt),at.postMessage({id:dt.data.id,payload:xt,status:"success"})},function(){at.postMessage({id:dt.data.id,status:"error"})});else if(dt.data.type==="complete"){var yt=dt.data.animation;at.dataManager.completeData(yt),at.postMessage({id:dt.data.id,payload:yt,status:"success"})}else dt.data.type==="loadData"&&at.assetLoader.load(dt.data.path,dt.data.fullPath,function(xt){at.postMessage({id:dt.data.id,payload:xt,status:"success"})},function(){at.postMessage({id:dt.data.id,status:"error"})})}),nt.onmessage=function(ht){var dt=ht.data,vt=dt.id,yt=tt[vt];tt[vt]=null,dt.status==="success"?yt.onComplete(dt.payload):yt.onError&&yt.onError()})}function lt(ht,dt){et+=1;var vt="processId_"+et;return tt[vt]={onComplete:ht,onError:dt},vt}function ct(ht,dt,vt){st();var yt=lt(dt,vt);nt.postMessage({type:"loadAnimation",path:ht,fullPath:window.location.origin+window.location.pathname,id:yt})}function ut(ht,dt,vt){st();var yt=lt(dt,vt);nt.postMessage({type:"loadData",path:ht,fullPath:window.location.origin+window.location.pathname,id:yt})}function ft(ht,dt,vt){st();var yt=lt(dt,vt);nt.postMessage({type:"complete",animation:ht,id:yt})}return{loadAnimation:ct,loadData:ut,completeAnimation:ft}}(),ImagePreloader=function(){var et=function(){var _t=createTag("canvas");_t.width=1,_t.height=1;var mt=_t.getContext("2d");return mt.fillStyle="rgba(0,0,0,0)",mt.fillRect(0,0,1,1),_t}();function tt(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function rt(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function nt(_t,mt,pt){var bt="";if(_t.e)bt=_t.p;else if(mt){var Et=_t.p;Et.indexOf("images/")!==-1&&(Et=Et.split("/")[1]),bt=mt+Et}else bt=pt,bt+=_t.u?_t.u:"",bt+=_t.p;return bt}function it(_t){var mt=0,pt=setInterval((function(){var bt=_t.getBBox();(bt.width||mt>500)&&(this._imageLoaded(),clearInterval(pt)),mt+=1}).bind(this),50)}function at(_t){var mt=nt(_t,this.assetsPath,this.path),pt=createNS("image");isSafari?this.testImageLoaded(pt):pt.addEventListener("load",this._imageLoaded,!1),pt.addEventListener("error",(function(){bt.img=et,this._imageLoaded()}).bind(this),!1),pt.setAttributeNS("http://www.w3.org/1999/xlink","href",mt),this._elementHelper.append?this._elementHelper.append(pt):this._elementHelper.appendChild(pt);var bt={img:pt,assetData:_t};return bt}function ot(_t){var mt=nt(_t,this.assetsPath,this.path),pt=createTag("img");pt.crossOrigin="anonymous",pt.addEventListener("load",this._imageLoaded,!1),pt.addEventListener("error",(function(){bt.img=et,this._imageLoaded()}).bind(this),!1),pt.src=mt;var bt={img:pt,assetData:_t};return bt}function st(_t){var mt={assetData:_t},pt=nt(_t,this.assetsPath,this.path);return dataManager.loadData(pt,(function(bt){mt.img=bt,this._footageLoaded()}).bind(this),(function(){mt.img={},this._footageLoaded()}).bind(this)),mt}function lt(_t,mt){this.imagesLoadedCb=mt;var pt,bt=_t.length;for(pt=0;pt<bt;pt+=1)_t[pt].layers||(!_t[pt].t||_t[pt].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(_t[pt]))):_t[pt].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(_t[pt]))))}function ct(_t){this.path=_t||""}function ut(_t){this.assetsPath=_t||""}function ft(_t){for(var mt=0,pt=this.images.length;mt<pt;){if(this.images[mt].assetData===_t)return this.images[mt].img;mt+=1}return null}function ht(){this.imagesLoadedCb=null,this.images.length=0}function dt(){return this.totalImages===this.loadedAssets}function vt(){return this.totalFootages===this.loadedFootagesCount}function yt(_t,mt){_t==="svg"?(this._elementHelper=mt,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function xt(){this._imageLoaded=tt.bind(this),this._footageLoaded=rt.bind(this),this.testImageLoaded=it.bind(this),this.createFootageData=st.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return xt.prototype={loadAssets:lt,setAssetsPath:ut,setPath:ct,loadedImages:dt,loadedFootages:vt,destroy:ht,getAsset:ft,createImgData:ot,createImageData:at,imageLoaded:tt,footageLoaded:rt,setCacheType:yt},xt}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(tt,rt){if(this._cbs[tt])for(var nt=this._cbs[tt],it=0;it<nt.length;it+=1)nt[it](rt)},addEventListener:function(tt,rt){return this._cbs[tt]||(this._cbs[tt]=[]),this._cbs[tt].push(rt),(function(){this.removeEventListener(tt,rt)}).bind(this)},removeEventListener:function(tt,rt){if(!rt)this._cbs[tt]=null;else if(this._cbs[tt]){for(var nt=0,it=this._cbs[tt].length;nt<it;)this._cbs[tt][nt]===rt&&(this._cbs[tt].splice(nt,1),nt-=1,it-=1),nt+=1;this._cbs[tt].length||(this._cbs[tt]=null)}}};var markerParser=function(){function et(tt){for(var rt=tt.split(`\r
`),nt={},it,at=0,ot=0;ot<rt.length;ot+=1)it=rt[ot].split(":"),it.length===2&&(nt[it[0]]=it[1].trim(),at+=1);if(at===0)throw new Error;return nt}return function(tt){for(var rt=[],nt=0;nt<tt.length;nt+=1){var it=tt[nt],at={time:it.tm,duration:it.dr};try{at.payload=JSON.parse(tt[nt].cm)}catch{try{at.payload=et(tt[nt].cm)}catch{at.payload={name:tt[nt].cm}}}rt.push(at)}return rt}}(),ProjectInterface=function(){function et(tt){this.compositions.push(tt)}return function(){function tt(rt){for(var nt=0,it=this.compositions.length;nt<it;){if(this.compositions[nt].data&&this.compositions[nt].data.nm===rt)return this.compositions[nt].prepareFrame&&this.compositions[nt].data.xt&&this.compositions[nt].prepareFrame(this.currentFrame),this.compositions[nt].compInterface;nt+=1}return null}return tt.compositions=[],tt.currentFrame=0,tt.registerComposition=et,tt}}(),renderers={},registerRenderer=function(tt,rt){renderers[tt]=rt};function getRenderer(et){return renderers[et]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var et in renderers)if(renderers[et])return et;return""}function _typeof$4(et){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$4=function(rt){return typeof rt}:_typeof$4=function(rt){return rt&&typeof Symbol=="function"&&rt.constructor===Symbol&&rt!==Symbol.prototype?"symbol":typeof rt},_typeof$4(et)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(et){(et.wrapper||et.container)&&(this.wrapper=et.wrapper||et.container);var tt="svg";et.animType?tt=et.animType:et.renderer&&(tt=et.renderer);var rt=getRenderer(tt);this.renderer=new rt(this,et.rendererSettings),this.imagePreloader.setCacheType(tt,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=tt,et.loop===""||et.loop===null||et.loop===void 0||et.loop===!0?this.loop=!0:et.loop===!1?this.loop=!1:this.loop=parseInt(et.loop,10),this.autoplay="autoplay"in et?et.autoplay:!0,this.name=et.name?et.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(et,"autoloadSegments")?et.autoloadSegments:!0,this.assetsPath=et.assetsPath,this.initialSegment=et.initialSegment,et.audioFactory&&this.audioController.setAudioFactory(et.audioFactory),et.animationData?this.setupAnimation(et.animationData):et.path&&(et.path.lastIndexOf("\\")!==-1?this.path=et.path.substr(0,et.path.lastIndexOf("\\")+1):this.path=et.path.substr(0,et.path.lastIndexOf("/")+1),this.fileName=et.path.substr(et.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(et.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(et){dataManager.completeAnimation(et,this.configAnimation)},AnimationItem.prototype.setData=function(et,tt){tt&&_typeof$4(tt)!=="object"&&(tt=JSON.parse(tt));var rt={wrapper:et,animationData:tt},nt=et.attributes;rt.path=nt.getNamedItem("data-animation-path")?nt.getNamedItem("data-animation-path").value:nt.getNamedItem("data-bm-path")?nt.getNamedItem("data-bm-path").value:nt.getNamedItem("bm-path")?nt.getNamedItem("bm-path").value:"",rt.animType=nt.getNamedItem("data-anim-type")?nt.getNamedItem("data-anim-type").value:nt.getNamedItem("data-bm-type")?nt.getNamedItem("data-bm-type").value:nt.getNamedItem("bm-type")?nt.getNamedItem("bm-type").value:nt.getNamedItem("data-bm-renderer")?nt.getNamedItem("data-bm-renderer").value:nt.getNamedItem("bm-renderer")?nt.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var it=nt.getNamedItem("data-anim-loop")?nt.getNamedItem("data-anim-loop").value:nt.getNamedItem("data-bm-loop")?nt.getNamedItem("data-bm-loop").value:nt.getNamedItem("bm-loop")?nt.getNamedItem("bm-loop").value:"";it==="false"?rt.loop=!1:it==="true"?rt.loop=!0:it!==""&&(rt.loop=parseInt(it,10));var at=nt.getNamedItem("data-anim-autoplay")?nt.getNamedItem("data-anim-autoplay").value:nt.getNamedItem("data-bm-autoplay")?nt.getNamedItem("data-bm-autoplay").value:nt.getNamedItem("bm-autoplay")?nt.getNamedItem("bm-autoplay").value:!0;rt.autoplay=at!=="false",rt.name=nt.getNamedItem("data-name")?nt.getNamedItem("data-name").value:nt.getNamedItem("data-bm-name")?nt.getNamedItem("data-bm-name").value:nt.getNamedItem("bm-name")?nt.getNamedItem("bm-name").value:"";var ot=nt.getNamedItem("data-anim-prerender")?nt.getNamedItem("data-anim-prerender").value:nt.getNamedItem("data-bm-prerender")?nt.getNamedItem("data-bm-prerender").value:nt.getNamedItem("bm-prerender")?nt.getNamedItem("bm-prerender").value:"";ot==="false"&&(rt.prerender=!1),rt.path?this.setParams(rt):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(et){et.op>this.animationData.op&&(this.animationData.op=et.op,this.totalFrames=Math.floor(et.op-this.animationData.ip));var tt=this.animationData.layers,rt,nt=tt.length,it=et.layers,at,ot=it.length;for(at=0;at<ot;at+=1)for(rt=0;rt<nt;){if(tt[rt].id===it[at].id){tt[rt]=it[at];break}rt+=1}if((et.chars||et.fonts)&&(this.renderer.globalData.fontManager.addChars(et.chars),this.renderer.globalData.fontManager.addFonts(et.fonts,this.renderer.globalData.defs)),et.assets)for(nt=et.assets.length,rt=0;rt<nt;rt+=1)this.animationData.assets.push(et.assets[rt]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(et){this.animationData=et;var tt=getExpressionsPlugin();tt&&tt.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var et=this.animationData.segments;if(!et||et.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var tt=et.shift();this.timeCompleted=tt.time*this.frameRate;var rt=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(rt,this.includeLayers.bind(this),(function(){this.trigger("data_failed")}).bind(this))},AnimationItem.prototype.loadSegments=function(){var et=this.animationData.segments;et||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(et){if(this.renderer)try{this.animationData=et,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(et),et.assets||(et.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(et.assets),this.markers=markerParser(et.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(tt){this.triggerConfigError(tt)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var et=getExpressionsPlugin();et&&et.initExpressions(this),this.renderer.initItems(),setTimeout((function(){this.trigger("DOMLoaded")}).bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(et,tt){var rt=typeof et=="number"?et:void 0,nt=typeof tt=="number"?tt:void 0;this.renderer.updateContainerSize(rt,nt)},AnimationItem.prototype.setSubframe=function(et){this.isSubframeEnabled=!!et},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(et){this.triggerRenderFrameError(et)}},AnimationItem.prototype.play=function(et){et&&this.name!==et||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(et){et&&this.name!==et||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(et){et&&this.name!==et||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(et){et&&this.name!==et||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(et){for(var tt,rt=0;rt<this.markers.length;rt+=1)if(tt=this.markers[rt],tt.payload&&tt.payload.name===et)return tt;return null},AnimationItem.prototype.goToAndStop=function(et,tt,rt){if(!(rt&&this.name!==rt)){var nt=Number(et);if(isNaN(nt)){var it=this.getMarkerData(et);it&&this.goToAndStop(it.time,!0)}else tt?this.setCurrentRawFrameValue(et):this.setCurrentRawFrameValue(et*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(et,tt,rt){if(!(rt&&this.name!==rt)){var nt=Number(et);if(isNaN(nt)){var it=this.getMarkerData(et);it&&(it.duration?this.playSegments([it.time,it.time+it.duration],!0):this.goToAndStop(it.time,!0))}else this.goToAndStop(nt,tt,rt);this.play()}},AnimationItem.prototype.advanceTime=function(et){if(!(this.isPaused===!0||this.isLoaded===!1)){var tt=this.currentRawFrame+et*this.frameModifier,rt=!1;tt>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(tt>this.totalFrames?tt%this.totalFrames:0)||(rt=!0,tt=this.totalFrames-1):tt>=this.totalFrames?(this.playCount+=1,this.checkSegments(tt%this.totalFrames)||(this.setCurrentRawFrameValue(tt%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(tt):tt<0?this.checkSegments(tt%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+tt%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(rt=!0,tt=0)):this.setCurrentRawFrameValue(tt),rt&&(this.setCurrentRawFrameValue(tt),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(et,tt){this.playCount=0,et[1]<et[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=et[0]-et[1],this.timeCompleted=this.totalFrames,this.firstFrame=et[1],this.setCurrentRawFrameValue(this.totalFrames-.001-tt)):et[1]>et[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=et[1]-et[0],this.timeCompleted=this.totalFrames,this.firstFrame=et[0],this.setCurrentRawFrameValue(.001+tt)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(et,tt){var rt=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<et?rt=et:this.currentRawFrame+this.firstFrame>tt&&(rt=tt-et)),this.firstFrame=et,this.totalFrames=tt-et,this.timeCompleted=this.totalFrames,rt!==-1&&this.goToAndStop(rt,!0)},AnimationItem.prototype.playSegments=function(et,tt){if(tt&&(this.segments.length=0),_typeof$4(et[0])==="object"){var rt,nt=et.length;for(rt=0;rt<nt;rt+=1)this.segments.push(et[rt])}else this.segments.push(et);this.segments.length&&tt&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(et){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),et&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(et){return this.segments.length?(this.adjustSegment(this.segments.shift(),et),!0):!1},AnimationItem.prototype.destroy=function(et){et&&this.name!==et||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(et){this.currentRawFrame=et,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(et){this.playSpeed=et,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(et){this.playDirection=et<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(et){this.loop=et},AnimationItem.prototype.setVolume=function(et,tt){tt&&this.name!==tt||this.audioController.setVolume(et)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(et){et&&this.name!==et||this.audioController.mute()},AnimationItem.prototype.unmute=function(et){et&&this.name!==et||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(et){var tt="";if(et.e)tt=et.p;else if(this.assetsPath){var rt=et.p;rt.indexOf("images/")!==-1&&(rt=rt.split("/")[1]),tt=this.assetsPath+rt}else tt=this.path,tt+=et.u?et.u:"",tt+=et.p;return tt},AnimationItem.prototype.getAssetData=function(et){for(var tt=0,rt=this.assets.length;tt<rt;){if(et===this.assets[tt].id)return this.assets[tt];tt+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(et){return et?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(et,tt,rt){try{var nt=this.renderer.getElementByPath(et);nt.updateDocumentData(tt,rt)}catch{}},AnimationItem.prototype.trigger=function(et){if(this._cbs&&this._cbs[et])switch(et){case"enterFrame":this.triggerEvent(et,new BMEnterFrameEvent(et,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(et,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(et,new BMCompleteLoopEvent(et,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(et,new BMCompleteEvent(et,this.frameMult));break;case"segmentStart":this.triggerEvent(et,new BMSegmentStartEvent(et,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(et,new BMDestroyEvent(et,this));break;default:this.triggerEvent(et)}et==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(et,this.currentFrame,this.totalFrames,this.frameMult)),et==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(et,this.loop,this.playCount,this.frameMult)),et==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(et,this.frameMult)),et==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(et,this.firstFrame,this.totalFrames)),et==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(et,this))},AnimationItem.prototype.triggerRenderFrameError=function(et){var tt=new BMRenderFrameErrorEvent(et,this.currentFrame);this.triggerEvent("error",tt),this.onError&&this.onError.call(this,tt)},AnimationItem.prototype.triggerConfigError=function(et){var tt=new BMConfigErrorEvent(et,this.currentFrame);this.triggerEvent("error",tt),this.onError&&this.onError.call(this,tt)};var animationManager=function(){var et={},tt=[],rt=0,nt=0,it=0,at=!0,ot=!1;function st(Dt){for(var Mt=0,wt=Dt.target;Mt<nt;)tt[Mt].animation===wt&&(tt.splice(Mt,1),Mt-=1,nt-=1,wt.isPaused||ft()),Mt+=1}function lt(Dt,Mt){if(!Dt)return null;for(var wt=0;wt<nt;){if(tt[wt].elem===Dt&&tt[wt].elem!==null)return tt[wt].animation;wt+=1}var Ot=new AnimationItem;return ht(Ot,Dt),Ot.setData(Dt,Mt),Ot}function ct(){var Dt,Mt=tt.length,wt=[];for(Dt=0;Dt<Mt;Dt+=1)wt.push(tt[Dt].animation);return wt}function ut(){it+=1,It()}function ft(){it-=1}function ht(Dt,Mt){Dt.addEventListener("destroy",st),Dt.addEventListener("_active",ut),Dt.addEventListener("_idle",ft),tt.push({elem:Mt,animation:Dt}),nt+=1}function dt(Dt){var Mt=new AnimationItem;return ht(Mt,null),Mt.setParams(Dt),Mt}function vt(Dt,Mt){var wt;for(wt=0;wt<nt;wt+=1)tt[wt].animation.setSpeed(Dt,Mt)}function yt(Dt,Mt){var wt;for(wt=0;wt<nt;wt+=1)tt[wt].animation.setDirection(Dt,Mt)}function xt(Dt){var Mt;for(Mt=0;Mt<nt;Mt+=1)tt[Mt].animation.play(Dt)}function _t(Dt){var Mt=Dt-rt,wt;for(wt=0;wt<nt;wt+=1)tt[wt].animation.advanceTime(Mt);rt=Dt,it&&!ot?window.requestAnimationFrame(_t):at=!0}function mt(Dt){rt=Dt,window.requestAnimationFrame(_t)}function pt(Dt){var Mt;for(Mt=0;Mt<nt;Mt+=1)tt[Mt].animation.pause(Dt)}function bt(Dt,Mt,wt){var Ot;for(Ot=0;Ot<nt;Ot+=1)tt[Ot].animation.goToAndStop(Dt,Mt,wt)}function Et(Dt){var Mt;for(Mt=0;Mt<nt;Mt+=1)tt[Mt].animation.stop(Dt)}function St(Dt){var Mt;for(Mt=0;Mt<nt;Mt+=1)tt[Mt].animation.togglePause(Dt)}function Tt(Dt){var Mt;for(Mt=nt-1;Mt>=0;Mt-=1)tt[Mt].animation.destroy(Dt)}function Pt(Dt,Mt,wt){var Ot=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),Lt,Vt=Ot.length;for(Lt=0;Lt<Vt;Lt+=1)wt&&Ot[Lt].setAttribute("data-bm-type",wt),lt(Ot[Lt],Dt);if(Mt&&Vt===0){wt||(wt="svg");var zt=document.getElementsByTagName("body")[0];zt.innerText="";var Yt=createTag("div");Yt.style.width="100%",Yt.style.height="100%",Yt.setAttribute("data-bm-type",wt),zt.appendChild(Yt),lt(Yt,Dt)}}function Rt(){var Dt;for(Dt=0;Dt<nt;Dt+=1)tt[Dt].animation.resize()}function It(){!ot&&it&&at&&(window.requestAnimationFrame(mt),at=!1)}function $t(){ot=!0}function kt(){ot=!1,It()}function Ct(Dt,Mt){var wt;for(wt=0;wt<nt;wt+=1)tt[wt].animation.setVolume(Dt,Mt)}function Bt(Dt){var Mt;for(Mt=0;Mt<nt;Mt+=1)tt[Mt].animation.mute(Dt)}function Ft(Dt){var Mt;for(Mt=0;Mt<nt;Mt+=1)tt[Mt].animation.unmute(Dt)}return et.registerAnimation=lt,et.loadAnimation=dt,et.setSpeed=vt,et.setDirection=yt,et.play=xt,et.pause=pt,et.stop=Et,et.togglePause=St,et.searchAnimations=Pt,et.resize=Rt,et.goToAndStop=bt,et.destroy=Tt,et.freeze=$t,et.unfreeze=kt,et.setVolume=Ct,et.mute=Bt,et.unmute=Ft,et.getRegisteredAnimations=ct,et}(),BezierFactory=function(){var et={};et.getBezierEasing=rt;var tt={};function rt(mt,pt,bt,Et,St){var Tt=St||("bez_"+mt+"_"+pt+"_"+bt+"_"+Et).replace(/\./g,"p");if(tt[Tt])return tt[Tt];var Pt=new _t([mt,pt,bt,Et]);return tt[Tt]=Pt,Pt}var nt=4,it=.001,at=1e-7,ot=10,st=11,lt=1/(st-1),ct=typeof Float32Array=="function";function ut(mt,pt){return 1-3*pt+3*mt}function ft(mt,pt){return 3*pt-6*mt}function ht(mt){return 3*mt}function dt(mt,pt,bt){return((ut(pt,bt)*mt+ft(pt,bt))*mt+ht(pt))*mt}function vt(mt,pt,bt){return 3*ut(pt,bt)*mt*mt+2*ft(pt,bt)*mt+ht(pt)}function yt(mt,pt,bt,Et,St){var Tt,Pt,Rt=0;do Pt=pt+(bt-pt)/2,Tt=dt(Pt,Et,St)-mt,Tt>0?bt=Pt:pt=Pt;while(Math.abs(Tt)>at&&++Rt<ot);return Pt}function xt(mt,pt,bt,Et){for(var St=0;St<nt;++St){var Tt=vt(pt,bt,Et);if(Tt===0)return pt;var Pt=dt(pt,bt,Et)-mt;pt-=Pt/Tt}return pt}function _t(mt){this._p=mt,this._mSampleValues=ct?new Float32Array(st):new Array(st),this._precomputed=!1,this.get=this.get.bind(this)}return _t.prototype={get:function(pt){var bt=this._p[0],Et=this._p[1],St=this._p[2],Tt=this._p[3];return this._precomputed||this._precompute(),bt===Et&&St===Tt?pt:pt===0?0:pt===1?1:dt(this._getTForX(pt),Et,Tt)},_precompute:function(){var pt=this._p[0],bt=this._p[1],Et=this._p[2],St=this._p[3];this._precomputed=!0,(pt!==bt||Et!==St)&&this._calcSampleValues()},_calcSampleValues:function(){for(var pt=this._p[0],bt=this._p[2],Et=0;Et<st;++Et)this._mSampleValues[Et]=dt(Et*lt,pt,bt)},_getTForX:function(pt){for(var bt=this._p[0],Et=this._p[2],St=this._mSampleValues,Tt=0,Pt=1,Rt=st-1;Pt!==Rt&&St[Pt]<=pt;++Pt)Tt+=lt;--Pt;var It=(pt-St[Pt])/(St[Pt+1]-St[Pt]),$t=Tt+It*lt,kt=vt($t,bt,Et);return kt>=it?xt(pt,$t,bt,Et):kt===0?$t:yt(pt,Tt,Tt+lt,bt,Et)}},et}(),pooling=function(){function et(tt){return tt.concat(createSizedArray(tt.length))}return{double:et}}(),poolFactory=function(){return function(et,tt,rt){var nt=0,it=et,at=createSizedArray(it),ot={newElement:st,release:lt};function st(){var ct;return nt?(nt-=1,ct=at[nt]):ct=tt(),ct}function lt(ct){nt===it&&(at=pooling.double(at),it*=2),rt&&rt(ct),at[nt]=ct,nt+=1}return ot}}(),bezierLengthPool=function(){function et(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,et)}(),segmentsLengthPool=function(){function et(){return{lengths:[],totalLength:0}}function tt(rt){var nt,it=rt.lengths.length;for(nt=0;nt<it;nt+=1)bezierLengthPool.release(rt.lengths[nt]);rt.lengths.length=0}return poolFactory(8,et,tt)}();function bezFunction(){var et=Math;function tt(ht,dt,vt,yt,xt,_t){var mt=ht*yt+dt*xt+vt*_t-xt*yt-_t*ht-vt*dt;return mt>-.001&&mt<.001}function rt(ht,dt,vt,yt,xt,_t,mt,pt,bt){if(vt===0&&_t===0&&bt===0)return tt(ht,dt,yt,xt,mt,pt);var Et=et.sqrt(et.pow(yt-ht,2)+et.pow(xt-dt,2)+et.pow(_t-vt,2)),St=et.sqrt(et.pow(mt-ht,2)+et.pow(pt-dt,2)+et.pow(bt-vt,2)),Tt=et.sqrt(et.pow(mt-yt,2)+et.pow(pt-xt,2)+et.pow(bt-_t,2)),Pt;return Et>St?Et>Tt?Pt=Et-St-Tt:Pt=Tt-St-Et:Tt>St?Pt=Tt-St-Et:Pt=St-Et-Tt,Pt>-1e-4&&Pt<1e-4}var nt=function(){return function(ht,dt,vt,yt){var xt=getDefaultCurveSegments(),_t,mt,pt,bt,Et,St=0,Tt,Pt=[],Rt=[],It=bezierLengthPool.newElement();for(pt=vt.length,_t=0;_t<xt;_t+=1){for(Et=_t/(xt-1),Tt=0,mt=0;mt<pt;mt+=1)bt=bmPow(1-Et,3)*ht[mt]+3*bmPow(1-Et,2)*Et*vt[mt]+3*(1-Et)*bmPow(Et,2)*yt[mt]+bmPow(Et,3)*dt[mt],Pt[mt]=bt,Rt[mt]!==null&&(Tt+=bmPow(Pt[mt]-Rt[mt],2)),Rt[mt]=Pt[mt];Tt&&(Tt=bmSqrt(Tt),St+=Tt),It.percents[_t]=Et,It.lengths[_t]=St}return It.addedLength=St,It}}();function it(ht){var dt=segmentsLengthPool.newElement(),vt=ht.c,yt=ht.v,xt=ht.o,_t=ht.i,mt,pt=ht._length,bt=dt.lengths,Et=0;for(mt=0;mt<pt-1;mt+=1)bt[mt]=nt(yt[mt],yt[mt+1],xt[mt],_t[mt+1]),Et+=bt[mt].addedLength;return vt&&pt&&(bt[mt]=nt(yt[mt],yt[0],xt[mt],_t[0]),Et+=bt[mt].addedLength),dt.totalLength=Et,dt}function at(ht){this.segmentLength=0,this.points=new Array(ht)}function ot(ht,dt){this.partialLength=ht,this.point=dt}var st=function(){var ht={};return function(dt,vt,yt,xt){var _t=(dt[0]+"_"+dt[1]+"_"+vt[0]+"_"+vt[1]+"_"+yt[0]+"_"+yt[1]+"_"+xt[0]+"_"+xt[1]).replace(/\./g,"p");if(!ht[_t]){var mt=getDefaultCurveSegments(),pt,bt,Et,St,Tt,Pt=0,Rt,It,$t=null;dt.length===2&&(dt[0]!==vt[0]||dt[1]!==vt[1])&&tt(dt[0],dt[1],vt[0],vt[1],dt[0]+yt[0],dt[1]+yt[1])&&tt(dt[0],dt[1],vt[0],vt[1],vt[0]+xt[0],vt[1]+xt[1])&&(mt=2);var kt=new at(mt);for(Et=yt.length,pt=0;pt<mt;pt+=1){for(It=createSizedArray(Et),Tt=pt/(mt-1),Rt=0,bt=0;bt<Et;bt+=1)St=bmPow(1-Tt,3)*dt[bt]+3*bmPow(1-Tt,2)*Tt*(dt[bt]+yt[bt])+3*(1-Tt)*bmPow(Tt,2)*(vt[bt]+xt[bt])+bmPow(Tt,3)*vt[bt],It[bt]=St,$t!==null&&(Rt+=bmPow(It[bt]-$t[bt],2));Rt=bmSqrt(Rt),Pt+=Rt,kt.points[pt]=new ot(Rt,It),$t=It}kt.segmentLength=Pt,ht[_t]=kt}return ht[_t]}}();function lt(ht,dt){var vt=dt.percents,yt=dt.lengths,xt=vt.length,_t=bmFloor((xt-1)*ht),mt=ht*dt.addedLength,pt=0;if(_t===xt-1||_t===0||mt===yt[_t])return vt[_t];for(var bt=yt[_t]>mt?-1:1,Et=!0;Et;)if(yt[_t]<=mt&&yt[_t+1]>mt?(pt=(mt-yt[_t])/(yt[_t+1]-yt[_t]),Et=!1):_t+=bt,_t<0||_t>=xt-1){if(_t===xt-1)return vt[_t];Et=!1}return vt[_t]+(vt[_t+1]-vt[_t])*pt}function ct(ht,dt,vt,yt,xt,_t){var mt=lt(xt,_t),pt=1-mt,bt=et.round((pt*pt*pt*ht[0]+(mt*pt*pt+pt*mt*pt+pt*pt*mt)*vt[0]+(mt*mt*pt+pt*mt*mt+mt*pt*mt)*yt[0]+mt*mt*mt*dt[0])*1e3)/1e3,Et=et.round((pt*pt*pt*ht[1]+(mt*pt*pt+pt*mt*pt+pt*pt*mt)*vt[1]+(mt*mt*pt+pt*mt*mt+mt*pt*mt)*yt[1]+mt*mt*mt*dt[1])*1e3)/1e3;return[bt,Et]}var ut=createTypedArray("float32",8);function ft(ht,dt,vt,yt,xt,_t,mt){xt<0?xt=0:xt>1&&(xt=1);var pt=lt(xt,mt);_t=_t>1?1:_t;var bt=lt(_t,mt),Et,St=ht.length,Tt=1-pt,Pt=1-bt,Rt=Tt*Tt*Tt,It=pt*Tt*Tt*3,$t=pt*pt*Tt*3,kt=pt*pt*pt,Ct=Tt*Tt*Pt,Bt=pt*Tt*Pt+Tt*pt*Pt+Tt*Tt*bt,Ft=pt*pt*Pt+Tt*pt*bt+pt*Tt*bt,Dt=pt*pt*bt,Mt=Tt*Pt*Pt,wt=pt*Pt*Pt+Tt*bt*Pt+Tt*Pt*bt,Ot=pt*bt*Pt+Tt*bt*bt+pt*Pt*bt,Lt=pt*bt*bt,Vt=Pt*Pt*Pt,zt=bt*Pt*Pt+Pt*bt*Pt+Pt*Pt*bt,Yt=bt*bt*Pt+Pt*bt*bt+bt*Pt*bt,nr=bt*bt*bt;for(Et=0;Et<St;Et+=1)ut[Et*4]=et.round((Rt*ht[Et]+It*vt[Et]+$t*yt[Et]+kt*dt[Et])*1e3)/1e3,ut[Et*4+1]=et.round((Ct*ht[Et]+Bt*vt[Et]+Ft*yt[Et]+Dt*dt[Et])*1e3)/1e3,ut[Et*4+2]=et.round((Mt*ht[Et]+wt*vt[Et]+Ot*yt[Et]+Lt*dt[Et])*1e3)/1e3,ut[Et*4+3]=et.round((Vt*ht[Et]+zt*vt[Et]+Yt*yt[Et]+nr*dt[Et])*1e3)/1e3;return ut}return{getSegmentsLength:it,getNewSegment:ft,getPointInSegment:ct,buildBezierData:st,pointOnLine2D:tt,pointOnLine3D:rt}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(et,tt){var rt=this.offsetTime,nt;this.propType==="multidimensional"&&(nt=createTypedArray("float32",this.pv.length));for(var it=tt.lastIndex,at=it,ot=this.keyframes.length-1,st=!0,lt,ct,ut;st;){if(lt=this.keyframes[at],ct=this.keyframes[at+1],at===ot-1&&et>=ct.t-rt){lt.h&&(lt=ct),it=0;break}if(ct.t-rt>et){it=at;break}at<ot-1?at+=1:(it=0,st=!1)}ut=this.keyframesMetadata[at]||{};var ft,ht,dt,vt,yt,xt,_t=ct.t-rt,mt=lt.t-rt,pt;if(lt.to){ut.bezierData||(ut.bezierData=bez.buildBezierData(lt.s,ct.s||lt.e,lt.to,lt.ti));var bt=ut.bezierData;if(et>=_t||et<mt){var Et=et>=_t?bt.points.length-1:0;for(ht=bt.points[Et].point.length,ft=0;ft<ht;ft+=1)nt[ft]=bt.points[Et].point[ft]}else{ut.__fnct?xt=ut.__fnct:(xt=BezierFactory.getBezierEasing(lt.o.x,lt.o.y,lt.i.x,lt.i.y,lt.n).get,ut.__fnct=xt),dt=xt((et-mt)/(_t-mt));var St=bt.segmentLength*dt,Tt,Pt=tt.lastFrame<et&&tt._lastKeyframeIndex===at?tt._lastAddedLength:0;for(yt=tt.lastFrame<et&&tt._lastKeyframeIndex===at?tt._lastPoint:0,st=!0,vt=bt.points.length;st;){if(Pt+=bt.points[yt].partialLength,St===0||dt===0||yt===bt.points.length-1){for(ht=bt.points[yt].point.length,ft=0;ft<ht;ft+=1)nt[ft]=bt.points[yt].point[ft];break}else if(St>=Pt&&St<Pt+bt.points[yt+1].partialLength){for(Tt=(St-Pt)/bt.points[yt+1].partialLength,ht=bt.points[yt].point.length,ft=0;ft<ht;ft+=1)nt[ft]=bt.points[yt].point[ft]+(bt.points[yt+1].point[ft]-bt.points[yt].point[ft])*Tt;break}yt<vt-1?yt+=1:st=!1}tt._lastPoint=yt,tt._lastAddedLength=Pt-bt.points[yt].partialLength,tt._lastKeyframeIndex=at}}else{var Rt,It,$t,kt,Ct;if(ot=lt.s.length,pt=ct.s||lt.e,this.sh&&lt.h!==1)if(et>=_t)nt[0]=pt[0],nt[1]=pt[1],nt[2]=pt[2];else if(et<=mt)nt[0]=lt.s[0],nt[1]=lt.s[1],nt[2]=lt.s[2];else{var Bt=createQuaternion(lt.s),Ft=createQuaternion(pt),Dt=(et-mt)/(_t-mt);quaternionToEuler(nt,slerp(Bt,Ft,Dt))}else for(at=0;at<ot;at+=1)lt.h!==1&&(et>=_t?dt=1:et<mt?dt=0:(lt.o.x.constructor===Array?(ut.__fnct||(ut.__fnct=[]),ut.__fnct[at]?xt=ut.__fnct[at]:(Rt=lt.o.x[at]===void 0?lt.o.x[0]:lt.o.x[at],It=lt.o.y[at]===void 0?lt.o.y[0]:lt.o.y[at],$t=lt.i.x[at]===void 0?lt.i.x[0]:lt.i.x[at],kt=lt.i.y[at]===void 0?lt.i.y[0]:lt.i.y[at],xt=BezierFactory.getBezierEasing(Rt,It,$t,kt).get,ut.__fnct[at]=xt)):ut.__fnct?xt=ut.__fnct:(Rt=lt.o.x,It=lt.o.y,$t=lt.i.x,kt=lt.i.y,xt=BezierFactory.getBezierEasing(Rt,It,$t,kt).get,lt.keyframeMetadata=xt),dt=xt((et-mt)/(_t-mt)))),pt=ct.s||lt.e,Ct=lt.h===1?lt.s[at]:lt.s[at]+(pt[at]-lt.s[at])*dt,this.propType==="multidimensional"?nt[at]=Ct:nt=Ct}return tt.lastIndex=it,nt}function slerp(et,tt,rt){var nt=[],it=et[0],at=et[1],ot=et[2],st=et[3],lt=tt[0],ct=tt[1],ut=tt[2],ft=tt[3],ht,dt,vt,yt,xt;return dt=it*lt+at*ct+ot*ut+st*ft,dt<0&&(dt=-dt,lt=-lt,ct=-ct,ut=-ut,ft=-ft),1-dt>1e-6?(ht=Math.acos(dt),vt=Math.sin(ht),yt=Math.sin((1-rt)*ht)/vt,xt=Math.sin(rt*ht)/vt):(yt=1-rt,xt=rt),nt[0]=yt*it+xt*lt,nt[1]=yt*at+xt*ct,nt[2]=yt*ot+xt*ut,nt[3]=yt*st+xt*ft,nt}function quaternionToEuler(et,tt){var rt=tt[0],nt=tt[1],it=tt[2],at=tt[3],ot=Math.atan2(2*nt*at-2*rt*it,1-2*nt*nt-2*it*it),st=Math.asin(2*rt*nt+2*it*at),lt=Math.atan2(2*rt*at-2*nt*it,1-2*rt*rt-2*it*it);et[0]=ot/degToRads,et[1]=st/degToRads,et[2]=lt/degToRads}function createQuaternion(et){var tt=et[0]*degToRads,rt=et[1]*degToRads,nt=et[2]*degToRads,it=Math.cos(tt/2),at=Math.cos(rt/2),ot=Math.cos(nt/2),st=Math.sin(tt/2),lt=Math.sin(rt/2),ct=Math.sin(nt/2),ut=it*at*ot-st*lt*ct,ft=st*lt*ot+it*at*ct,ht=st*at*ot+it*lt*ct,dt=it*lt*ot-st*at*ct;return[ft,ht,dt,ut]}function getValueAtCurrentTime(){var et=this.comp.renderedFrame-this.offsetTime,tt=this.keyframes[0].t-this.offsetTime,rt=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(et===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=rt&&et>=rt||this._caching.lastFrame<tt&&et<tt))){this._caching.lastFrame>=et&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var nt=this.interpolateValue(et,this._caching);this.pv=nt}return this._caching.lastFrame=et,this.pv}function setVValue(et){var tt;if(this.propType==="unidimensional")tt=et*this.mult,mathAbs(this.v-tt)>1e-5&&(this.v=tt,this._mdf=!0);else for(var rt=0,nt=this.v.length;rt<nt;)tt=et[rt]*this.mult,mathAbs(this.v[rt]-tt)>1e-5&&(this.v[rt]=tt,this._mdf=!0),rt+=1}function processEffectsSequence(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var et,tt=this.effectsSequence.length,rt=this.kf?this.pv:this.data.k;for(et=0;et<tt;et+=1)rt=this.effectsSequence[et](rt);this.setVValue(rt),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(et){this.effectsSequence.push(et),this.container.addDynamicProperty(this)}function ValueProperty(et,tt,rt,nt){this.propType="unidimensional",this.mult=rt||1,this.data=tt,this.v=rt?tt.k*rt:tt.k,this.pv=tt.k,this._mdf=!1,this.elem=et,this.container=nt,this.comp=et.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(et,tt,rt,nt){this.propType="multidimensional",this.mult=rt||1,this.data=tt,this._mdf=!1,this.elem=et,this.container=nt,this.comp=et.comp,this.k=!1,this.kf=!1,this.frameId=-1;var it,at=tt.k.length;for(this.v=createTypedArray("float32",at),this.pv=createTypedArray("float32",at),this.vel=createTypedArray("float32",at),it=0;it<at;it+=1)this.v[it]=tt.k[it]*this.mult,this.pv[it]=tt.k[it];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(et,tt,rt,nt){this.propType="unidimensional",this.keyframes=tt.k,this.keyframesMetadata=[],this.offsetTime=et.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=tt,this.mult=rt||1,this.elem=et,this.container=nt,this.comp=et.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(et,tt,rt,nt){this.propType="multidimensional";var it,at=tt.k.length,ot,st,lt,ct;for(it=0;it<at-1;it+=1)tt.k[it].to&&tt.k[it].s&&tt.k[it+1]&&tt.k[it+1].s&&(ot=tt.k[it].s,st=tt.k[it+1].s,lt=tt.k[it].to,ct=tt.k[it].ti,(ot.length===2&&!(ot[0]===st[0]&&ot[1]===st[1])&&bez.pointOnLine2D(ot[0],ot[1],st[0],st[1],ot[0]+lt[0],ot[1]+lt[1])&&bez.pointOnLine2D(ot[0],ot[1],st[0],st[1],st[0]+ct[0],st[1]+ct[1])||ot.length===3&&!(ot[0]===st[0]&&ot[1]===st[1]&&ot[2]===st[2])&&bez.pointOnLine3D(ot[0],ot[1],ot[2],st[0],st[1],st[2],ot[0]+lt[0],ot[1]+lt[1],ot[2]+lt[2])&&bez.pointOnLine3D(ot[0],ot[1],ot[2],st[0],st[1],st[2],st[0]+ct[0],st[1]+ct[1],st[2]+ct[2]))&&(tt.k[it].to=null,tt.k[it].ti=null),ot[0]===st[0]&&ot[1]===st[1]&&lt[0]===0&&lt[1]===0&&ct[0]===0&&ct[1]===0&&(ot.length===2||ot[2]===st[2]&&lt[2]===0&&ct[2]===0)&&(tt.k[it].to=null,tt.k[it].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=tt,this.keyframes=tt.k,this.keyframesMetadata=[],this.offsetTime=et.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=rt||1,this.elem=et,this.container=nt,this.comp=et.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var ut=tt.k[0].s.length;for(this.v=createTypedArray("float32",ut),this.pv=createTypedArray("float32",ut),it=0;it<ut;it+=1)this.v[it]=initFrame,this.pv[it]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",ut)},this.addEffect=addEffect}var PropertyFactory=function(){function et(rt,nt,it,at,ot){nt.sid&&(nt=rt.globalData.slotManager.getProp(nt));var st;if(!nt.k.length)st=new ValueProperty(rt,nt,at,ot);else if(typeof nt.k[0]=="number")st=new MultiDimensionalProperty(rt,nt,at,ot);else switch(it){case 0:st=new KeyframedValueProperty(rt,nt,at,ot);break;case 1:st=new KeyframedMultidimensionalProperty(rt,nt,at,ot);break}return st.effectsSequence.length&&ot.addDynamicProperty(st),st}var tt={getProp:et};return tt}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(tt){this.dynamicProperties.indexOf(tt)===-1&&(this.dynamicProperties.push(tt),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var tt,rt=this.dynamicProperties.length;for(tt=0;tt<rt;tt+=1)this.dynamicProperties[tt].getValue(),this.dynamicProperties[tt]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(tt){this.container=tt,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=function(){function et(){return createTypedArray("float32",2)}return poolFactory(8,et)}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(et,tt){this.c=et,this.setLength(tt);for(var rt=0;rt<tt;)this.v[rt]=pointPool.newElement(),this.o[rt]=pointPool.newElement(),this.i[rt]=pointPool.newElement(),rt+=1},ShapePath.prototype.setLength=function(et){for(;this._maxLength<et;)this.doubleArrayLength();this._length=et},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(et,tt,rt,nt,it){var at;switch(this._length=Math.max(this._length,nt+1),this._length>=this._maxLength&&this.doubleArrayLength(),rt){case"v":at=this.v;break;case"i":at=this.i;break;case"o":at=this.o;break;default:at=[];break}(!at[nt]||at[nt]&&!it)&&(at[nt]=pointPool.newElement()),at[nt][0]=et,at[nt][1]=tt},ShapePath.prototype.setTripleAt=function(et,tt,rt,nt,it,at,ot,st){this.setXYAt(et,tt,"v",ot,st),this.setXYAt(rt,nt,"o",ot,st),this.setXYAt(it,at,"i",ot,st)},ShapePath.prototype.reverse=function(){var et=new ShapePath;et.setPathData(this.c,this._length);var tt=this.v,rt=this.o,nt=this.i,it=0;this.c&&(et.setTripleAt(tt[0][0],tt[0][1],nt[0][0],nt[0][1],rt[0][0],rt[0][1],0,!1),it=1);var at=this._length-1,ot=this._length,st;for(st=it;st<ot;st+=1)et.setTripleAt(tt[at][0],tt[at][1],nt[at][0],nt[at][1],rt[at][0],rt[at][1],st,!1),at-=1;return et},ShapePath.prototype.length=function(){return this._length};var shapePool=function(){function et(){return new ShapePath}function tt(it){var at=it._length,ot;for(ot=0;ot<at;ot+=1)pointPool.release(it.v[ot]),pointPool.release(it.i[ot]),pointPool.release(it.o[ot]),it.v[ot]=null,it.i[ot]=null,it.o[ot]=null;it._length=0,it.c=!1}function rt(it){var at=nt.newElement(),ot,st=it._length===void 0?it.v.length:it._length;for(at.setLength(st),at.c=it.c,ot=0;ot<st;ot+=1)at.setTripleAt(it.v[ot][0],it.v[ot][1],it.o[ot][0],it.o[ot][1],it.i[ot][0],it.i[ot][1],ot);return at}var nt=poolFactory(4,et,tt);return nt.clone=rt,nt}();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(et){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=et,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var et;for(et=0;et<this._length;et+=1)shapePool.release(this.shapes[et]);this._length=0};var shapeCollectionPool=function(){var et={newShapeCollection:it,release:at},tt=0,rt=4,nt=createSizedArray(rt);function it(){var ot;return tt?(tt-=1,ot=nt[tt]):ot=new ShapeCollection,ot}function at(ot){var st,lt=ot._length;for(st=0;st<lt;st+=1)shapePool.release(ot.shapes[st]);ot._length=0,tt===rt&&(nt=pooling.double(nt),rt*=2),nt[tt]=ot,tt+=1}return et}(),ShapePropertyFactory=function(){var et=-999999;function tt(_t,mt,pt){var bt=pt.lastIndex,Et,St,Tt,Pt,Rt,It,$t,kt,Ct,Bt=this.keyframes;if(_t<Bt[0].t-this.offsetTime)Et=Bt[0].s[0],Tt=!0,bt=0;else if(_t>=Bt[Bt.length-1].t-this.offsetTime)Et=Bt[Bt.length-1].s?Bt[Bt.length-1].s[0]:Bt[Bt.length-2].e[0],Tt=!0;else{for(var Ft=bt,Dt=Bt.length-1,Mt=!0,wt,Ot,Lt;Mt&&(wt=Bt[Ft],Ot=Bt[Ft+1],!(Ot.t-this.offsetTime>_t));)Ft<Dt-1?Ft+=1:Mt=!1;if(Lt=this.keyframesMetadata[Ft]||{},Tt=wt.h===1,bt=Ft,!Tt){if(_t>=Ot.t-this.offsetTime)kt=1;else if(_t<wt.t-this.offsetTime)kt=0;else{var Vt;Lt.__fnct?Vt=Lt.__fnct:(Vt=BezierFactory.getBezierEasing(wt.o.x,wt.o.y,wt.i.x,wt.i.y).get,Lt.__fnct=Vt),kt=Vt((_t-(wt.t-this.offsetTime))/(Ot.t-this.offsetTime-(wt.t-this.offsetTime)))}St=Ot.s?Ot.s[0]:wt.e[0]}Et=wt.s[0]}for(It=mt._length,$t=Et.i[0].length,pt.lastIndex=bt,Pt=0;Pt<It;Pt+=1)for(Rt=0;Rt<$t;Rt+=1)Ct=Tt?Et.i[Pt][Rt]:Et.i[Pt][Rt]+(St.i[Pt][Rt]-Et.i[Pt][Rt])*kt,mt.i[Pt][Rt]=Ct,Ct=Tt?Et.o[Pt][Rt]:Et.o[Pt][Rt]+(St.o[Pt][Rt]-Et.o[Pt][Rt])*kt,mt.o[Pt][Rt]=Ct,Ct=Tt?Et.v[Pt][Rt]:Et.v[Pt][Rt]+(St.v[Pt][Rt]-Et.v[Pt][Rt])*kt,mt.v[Pt][Rt]=Ct}function rt(){var _t=this.comp.renderedFrame-this.offsetTime,mt=this.keyframes[0].t-this.offsetTime,pt=this.keyframes[this.keyframes.length-1].t-this.offsetTime,bt=this._caching.lastFrame;return bt!==et&&(bt<mt&&_t<mt||bt>pt&&_t>pt)||(this._caching.lastIndex=bt<_t?this._caching.lastIndex:0,this.interpolateShape(_t,this.pv,this._caching)),this._caching.lastFrame=_t,this.pv}function nt(){this.paths=this.localShapeCollection}function it(_t,mt){if(_t._length!==mt._length||_t.c!==mt.c)return!1;var pt,bt=_t._length;for(pt=0;pt<bt;pt+=1)if(_t.v[pt][0]!==mt.v[pt][0]||_t.v[pt][1]!==mt.v[pt][1]||_t.o[pt][0]!==mt.o[pt][0]||_t.o[pt][1]!==mt.o[pt][1]||_t.i[pt][0]!==mt.i[pt][0]||_t.i[pt][1]!==mt.i[pt][1])return!1;return!0}function at(_t){it(this.v,_t)||(this.v=shapePool.clone(_t),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function ot(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var _t;this.kf?_t=this.pv:this.data.ks?_t=this.data.ks.k:_t=this.data.pt.k;var mt,pt=this.effectsSequence.length;for(mt=0;mt<pt;mt+=1)_t=this.effectsSequence[mt](_t);this.setVValue(_t),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function st(_t,mt,pt){this.propType="shape",this.comp=_t.comp,this.container=_t,this.elem=_t,this.data=mt,this.k=!1,this.kf=!1,this._mdf=!1;var bt=pt===3?mt.pt.k:mt.ks.k;this.v=shapePool.clone(bt),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=nt,this.effectsSequence=[]}function lt(_t){this.effectsSequence.push(_t),this.container.addDynamicProperty(this)}st.prototype.interpolateShape=tt,st.prototype.getValue=ot,st.prototype.setVValue=at,st.prototype.addEffect=lt;function ct(_t,mt,pt){this.propType="shape",this.comp=_t.comp,this.elem=_t,this.container=_t,this.offsetTime=_t.data.st,this.keyframes=pt===3?mt.pt.k:mt.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var bt=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,bt),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=et,this.reset=nt,this._caching={lastFrame:et,lastIndex:0},this.effectsSequence=[rt.bind(this)]}ct.prototype.getValue=ot,ct.prototype.interpolateShape=tt,ct.prototype.setVValue=at,ct.prototype.addEffect=lt;var ut=function(){var _t=roundCorner;function mt(pt,bt){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=bt.d,this.elem=pt,this.comp=pt.comp,this.frameId=-1,this.initDynamicPropertyContainer(pt),this.p=PropertyFactory.getProp(pt,bt.p,1,0,this),this.s=PropertyFactory.getProp(pt,bt.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return mt.prototype={reset:nt,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var bt=this.p.v[0],Et=this.p.v[1],St=this.s.v[0]/2,Tt=this.s.v[1]/2,Pt=this.d!==3,Rt=this.v;Rt.v[0][0]=bt,Rt.v[0][1]=Et-Tt,Rt.v[1][0]=Pt?bt+St:bt-St,Rt.v[1][1]=Et,Rt.v[2][0]=bt,Rt.v[2][1]=Et+Tt,Rt.v[3][0]=Pt?bt-St:bt+St,Rt.v[3][1]=Et,Rt.i[0][0]=Pt?bt-St*_t:bt+St*_t,Rt.i[0][1]=Et-Tt,Rt.i[1][0]=Pt?bt+St:bt-St,Rt.i[1][1]=Et-Tt*_t,Rt.i[2][0]=Pt?bt+St*_t:bt-St*_t,Rt.i[2][1]=Et+Tt,Rt.i[3][0]=Pt?bt-St:bt+St,Rt.i[3][1]=Et+Tt*_t,Rt.o[0][0]=Pt?bt+St*_t:bt-St*_t,Rt.o[0][1]=Et-Tt,Rt.o[1][0]=Pt?bt+St:bt-St,Rt.o[1][1]=Et+Tt*_t,Rt.o[2][0]=Pt?bt-St*_t:bt+St*_t,Rt.o[2][1]=Et+Tt,Rt.o[3][0]=Pt?bt-St:bt+St,Rt.o[3][1]=Et-Tt*_t}},extendPrototype([DynamicPropertyContainer],mt),mt}(),ft=function(){function _t(mt,pt){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=mt,this.comp=mt.comp,this.data=pt,this.frameId=-1,this.d=pt.d,this.initDynamicPropertyContainer(mt),pt.sy===1?(this.ir=PropertyFactory.getProp(mt,pt.ir,0,0,this),this.is=PropertyFactory.getProp(mt,pt.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(mt,pt.pt,0,0,this),this.p=PropertyFactory.getProp(mt,pt.p,1,0,this),this.r=PropertyFactory.getProp(mt,pt.r,0,degToRads,this),this.or=PropertyFactory.getProp(mt,pt.or,0,0,this),this.os=PropertyFactory.getProp(mt,pt.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return _t.prototype={reset:nt,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var pt=Math.floor(this.pt.v)*2,bt=Math.PI*2/pt,Et=!0,St=this.or.v,Tt=this.ir.v,Pt=this.os.v,Rt=this.is.v,It=2*Math.PI*St/(pt*2),$t=2*Math.PI*Tt/(pt*2),kt,Ct,Bt,Ft,Dt=-Math.PI/2;Dt+=this.r.v;var Mt=this.data.d===3?-1:1;for(this.v._length=0,kt=0;kt<pt;kt+=1){Ct=Et?St:Tt,Bt=Et?Pt:Rt,Ft=Et?It:$t;var wt=Ct*Math.cos(Dt),Ot=Ct*Math.sin(Dt),Lt=wt===0&&Ot===0?0:Ot/Math.sqrt(wt*wt+Ot*Ot),Vt=wt===0&&Ot===0?0:-wt/Math.sqrt(wt*wt+Ot*Ot);wt+=+this.p.v[0],Ot+=+this.p.v[1],this.v.setTripleAt(wt,Ot,wt-Lt*Ft*Bt*Mt,Ot-Vt*Ft*Bt*Mt,wt+Lt*Ft*Bt*Mt,Ot+Vt*Ft*Bt*Mt,kt,!0),Et=!Et,Dt+=bt*Mt}},convertPolygonToPath:function(){var pt=Math.floor(this.pt.v),bt=Math.PI*2/pt,Et=this.or.v,St=this.os.v,Tt=2*Math.PI*Et/(pt*4),Pt,Rt=-Math.PI*.5,It=this.data.d===3?-1:1;for(Rt+=this.r.v,this.v._length=0,Pt=0;Pt<pt;Pt+=1){var $t=Et*Math.cos(Rt),kt=Et*Math.sin(Rt),Ct=$t===0&&kt===0?0:kt/Math.sqrt($t*$t+kt*kt),Bt=$t===0&&kt===0?0:-$t/Math.sqrt($t*$t+kt*kt);$t+=+this.p.v[0],kt+=+this.p.v[1],this.v.setTripleAt($t,kt,$t-Ct*Tt*St*It,kt-Bt*Tt*St*It,$t+Ct*Tt*St*It,kt+Bt*Tt*St*It,Pt,!0),Rt+=bt*It}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],_t),_t}(),ht=function(){function _t(mt,pt){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=mt,this.comp=mt.comp,this.frameId=-1,this.d=pt.d,this.initDynamicPropertyContainer(mt),this.p=PropertyFactory.getProp(mt,pt.p,1,0,this),this.s=PropertyFactory.getProp(mt,pt.s,1,0,this),this.r=PropertyFactory.getProp(mt,pt.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return _t.prototype={convertRectToPath:function(){var pt=this.p.v[0],bt=this.p.v[1],Et=this.s.v[0]/2,St=this.s.v[1]/2,Tt=bmMin(Et,St,this.r.v),Pt=Tt*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(pt+Et,bt-St+Tt,pt+Et,bt-St+Tt,pt+Et,bt-St+Pt,0,!0),this.v.setTripleAt(pt+Et,bt+St-Tt,pt+Et,bt+St-Pt,pt+Et,bt+St-Tt,1,!0),Tt!==0?(this.v.setTripleAt(pt+Et-Tt,bt+St,pt+Et-Tt,bt+St,pt+Et-Pt,bt+St,2,!0),this.v.setTripleAt(pt-Et+Tt,bt+St,pt-Et+Pt,bt+St,pt-Et+Tt,bt+St,3,!0),this.v.setTripleAt(pt-Et,bt+St-Tt,pt-Et,bt+St-Tt,pt-Et,bt+St-Pt,4,!0),this.v.setTripleAt(pt-Et,bt-St+Tt,pt-Et,bt-St+Pt,pt-Et,bt-St+Tt,5,!0),this.v.setTripleAt(pt-Et+Tt,bt-St,pt-Et+Tt,bt-St,pt-Et+Pt,bt-St,6,!0),this.v.setTripleAt(pt+Et-Tt,bt-St,pt+Et-Pt,bt-St,pt+Et-Tt,bt-St,7,!0)):(this.v.setTripleAt(pt-Et,bt+St,pt-Et+Pt,bt+St,pt-Et,bt+St,2),this.v.setTripleAt(pt-Et,bt-St,pt-Et,bt-St+Pt,pt-Et,bt-St,3))):(this.v.setTripleAt(pt+Et,bt-St+Tt,pt+Et,bt-St+Pt,pt+Et,bt-St+Tt,0,!0),Tt!==0?(this.v.setTripleAt(pt+Et-Tt,bt-St,pt+Et-Tt,bt-St,pt+Et-Pt,bt-St,1,!0),this.v.setTripleAt(pt-Et+Tt,bt-St,pt-Et+Pt,bt-St,pt-Et+Tt,bt-St,2,!0),this.v.setTripleAt(pt-Et,bt-St+Tt,pt-Et,bt-St+Tt,pt-Et,bt-St+Pt,3,!0),this.v.setTripleAt(pt-Et,bt+St-Tt,pt-Et,bt+St-Pt,pt-Et,bt+St-Tt,4,!0),this.v.setTripleAt(pt-Et+Tt,bt+St,pt-Et+Tt,bt+St,pt-Et+Pt,bt+St,5,!0),this.v.setTripleAt(pt+Et-Tt,bt+St,pt+Et-Pt,bt+St,pt+Et-Tt,bt+St,6,!0),this.v.setTripleAt(pt+Et,bt+St-Tt,pt+Et,bt+St-Tt,pt+Et,bt+St-Pt,7,!0)):(this.v.setTripleAt(pt-Et,bt-St,pt-Et+Pt,bt-St,pt-Et,bt-St,1,!0),this.v.setTripleAt(pt-Et,bt+St,pt-Et,bt+St-Pt,pt-Et,bt+St,2,!0),this.v.setTripleAt(pt+Et,bt+St,pt+Et-Pt,bt+St,pt+Et,bt+St,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:nt},extendPrototype([DynamicPropertyContainer],_t),_t}();function dt(_t,mt,pt){var bt;if(pt===3||pt===4){var Et=pt===3?mt.pt:mt.ks,St=Et.k;St.length?bt=new ct(_t,mt,pt):bt=new st(_t,mt,pt)}else pt===5?bt=new ht(_t,mt):pt===6?bt=new ut(_t,mt):pt===7&&(bt=new ft(_t,mt));return bt.k&&_t.addDynamicProperty(bt),bt}function vt(){return st}function yt(){return ct}var xt={};return xt.getShapeProp=dt,xt.getConstructorFunction=vt,xt.getKeyframedConstructorFunction=yt,xt}();/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */var Matrix=function(){var et=Math.cos,tt=Math.sin,rt=Math.tan,nt=Math.round;function it(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function at(wt){if(wt===0)return this;var Ot=et(wt),Lt=tt(wt);return this._t(Ot,-Lt,0,0,Lt,Ot,0,0,0,0,1,0,0,0,0,1)}function ot(wt){if(wt===0)return this;var Ot=et(wt),Lt=tt(wt);return this._t(1,0,0,0,0,Ot,-Lt,0,0,Lt,Ot,0,0,0,0,1)}function st(wt){if(wt===0)return this;var Ot=et(wt),Lt=tt(wt);return this._t(Ot,0,Lt,0,0,1,0,0,-Lt,0,Ot,0,0,0,0,1)}function lt(wt){if(wt===0)return this;var Ot=et(wt),Lt=tt(wt);return this._t(Ot,-Lt,0,0,Lt,Ot,0,0,0,0,1,0,0,0,0,1)}function ct(wt,Ot){return this._t(1,Ot,wt,1,0,0)}function ut(wt,Ot){return this.shear(rt(wt),rt(Ot))}function ft(wt,Ot){var Lt=et(Ot),Vt=tt(Ot);return this._t(Lt,Vt,0,0,-Vt,Lt,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,rt(wt),1,0,0,0,0,1,0,0,0,0,1)._t(Lt,-Vt,0,0,Vt,Lt,0,0,0,0,1,0,0,0,0,1)}function ht(wt,Ot,Lt){return!Lt&&Lt!==0&&(Lt=1),wt===1&&Ot===1&&Lt===1?this:this._t(wt,0,0,0,0,Ot,0,0,0,0,Lt,0,0,0,0,1)}function dt(wt,Ot,Lt,Vt,zt,Yt,nr,cr,hr,Jt,ur,Xt,Zt,ir,Wt,sr){return this.props[0]=wt,this.props[1]=Ot,this.props[2]=Lt,this.props[3]=Vt,this.props[4]=zt,this.props[5]=Yt,this.props[6]=nr,this.props[7]=cr,this.props[8]=hr,this.props[9]=Jt,this.props[10]=ur,this.props[11]=Xt,this.props[12]=Zt,this.props[13]=ir,this.props[14]=Wt,this.props[15]=sr,this}function vt(wt,Ot,Lt){return Lt=Lt||0,wt!==0||Ot!==0||Lt!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,wt,Ot,Lt,1):this}function yt(wt,Ot,Lt,Vt,zt,Yt,nr,cr,hr,Jt,ur,Xt,Zt,ir,Wt,sr){var Qt=this.props;if(wt===1&&Ot===0&&Lt===0&&Vt===0&&zt===0&&Yt===1&&nr===0&&cr===0&&hr===0&&Jt===0&&ur===1&&Xt===0)return Qt[12]=Qt[12]*wt+Qt[15]*Zt,Qt[13]=Qt[13]*Yt+Qt[15]*ir,Qt[14]=Qt[14]*ur+Qt[15]*Wt,Qt[15]*=sr,this._identityCalculated=!1,this;var _r=Qt[0],br=Qt[1],Er=Qt[2],Ut=Qt[3],qt=Qt[4],Ht=Qt[5],tr=Qt[6],rr=Qt[7],er=Qt[8],lr=Qt[9],mr=Qt[10],pr=Qt[11],yr=Qt[12],Ir=Qt[13],Vr=Qt[14],Mr=Qt[15];return Qt[0]=_r*wt+br*zt+Er*hr+Ut*Zt,Qt[1]=_r*Ot+br*Yt+Er*Jt+Ut*ir,Qt[2]=_r*Lt+br*nr+Er*ur+Ut*Wt,Qt[3]=_r*Vt+br*cr+Er*Xt+Ut*sr,Qt[4]=qt*wt+Ht*zt+tr*hr+rr*Zt,Qt[5]=qt*Ot+Ht*Yt+tr*Jt+rr*ir,Qt[6]=qt*Lt+Ht*nr+tr*ur+rr*Wt,Qt[7]=qt*Vt+Ht*cr+tr*Xt+rr*sr,Qt[8]=er*wt+lr*zt+mr*hr+pr*Zt,Qt[9]=er*Ot+lr*Yt+mr*Jt+pr*ir,Qt[10]=er*Lt+lr*nr+mr*ur+pr*Wt,Qt[11]=er*Vt+lr*cr+mr*Xt+pr*sr,Qt[12]=yr*wt+Ir*zt+Vr*hr+Mr*Zt,Qt[13]=yr*Ot+Ir*Yt+Vr*Jt+Mr*ir,Qt[14]=yr*Lt+Ir*nr+Vr*ur+Mr*Wt,Qt[15]=yr*Vt+Ir*cr+Vr*Xt+Mr*sr,this._identityCalculated=!1,this}function xt(wt){var Ot=wt.props;return this.transform(Ot[0],Ot[1],Ot[2],Ot[3],Ot[4],Ot[5],Ot[6],Ot[7],Ot[8],Ot[9],Ot[10],Ot[11],Ot[12],Ot[13],Ot[14],Ot[15])}function _t(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function mt(wt){for(var Ot=0;Ot<16;){if(wt.props[Ot]!==this.props[Ot])return!1;Ot+=1}return!0}function pt(wt){var Ot;for(Ot=0;Ot<16;Ot+=1)wt.props[Ot]=this.props[Ot];return wt}function bt(wt){var Ot;for(Ot=0;Ot<16;Ot+=1)this.props[Ot]=wt[Ot]}function Et(wt,Ot,Lt){return{x:wt*this.props[0]+Ot*this.props[4]+Lt*this.props[8]+this.props[12],y:wt*this.props[1]+Ot*this.props[5]+Lt*this.props[9]+this.props[13],z:wt*this.props[2]+Ot*this.props[6]+Lt*this.props[10]+this.props[14]}}function St(wt,Ot,Lt){return wt*this.props[0]+Ot*this.props[4]+Lt*this.props[8]+this.props[12]}function Tt(wt,Ot,Lt){return wt*this.props[1]+Ot*this.props[5]+Lt*this.props[9]+this.props[13]}function Pt(wt,Ot,Lt){return wt*this.props[2]+Ot*this.props[6]+Lt*this.props[10]+this.props[14]}function Rt(){var wt=this.props[0]*this.props[5]-this.props[1]*this.props[4],Ot=this.props[5]/wt,Lt=-this.props[1]/wt,Vt=-this.props[4]/wt,zt=this.props[0]/wt,Yt=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/wt,nr=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/wt,cr=new Matrix;return cr.props[0]=Ot,cr.props[1]=Lt,cr.props[4]=Vt,cr.props[5]=zt,cr.props[12]=Yt,cr.props[13]=nr,cr}function It(wt){var Ot=this.getInverseMatrix();return Ot.applyToPointArray(wt[0],wt[1],wt[2]||0)}function $t(wt){var Ot,Lt=wt.length,Vt=[];for(Ot=0;Ot<Lt;Ot+=1)Vt[Ot]=It(wt[Ot]);return Vt}function kt(wt,Ot,Lt){var Vt=createTypedArray("float32",6);if(this.isIdentity())Vt[0]=wt[0],Vt[1]=wt[1],Vt[2]=Ot[0],Vt[3]=Ot[1],Vt[4]=Lt[0],Vt[5]=Lt[1];else{var zt=this.props[0],Yt=this.props[1],nr=this.props[4],cr=this.props[5],hr=this.props[12],Jt=this.props[13];Vt[0]=wt[0]*zt+wt[1]*nr+hr,Vt[1]=wt[0]*Yt+wt[1]*cr+Jt,Vt[2]=Ot[0]*zt+Ot[1]*nr+hr,Vt[3]=Ot[0]*Yt+Ot[1]*cr+Jt,Vt[4]=Lt[0]*zt+Lt[1]*nr+hr,Vt[5]=Lt[0]*Yt+Lt[1]*cr+Jt}return Vt}function Ct(wt,Ot,Lt){var Vt;return this.isIdentity()?Vt=[wt,Ot,Lt]:Vt=[wt*this.props[0]+Ot*this.props[4]+Lt*this.props[8]+this.props[12],wt*this.props[1]+Ot*this.props[5]+Lt*this.props[9]+this.props[13],wt*this.props[2]+Ot*this.props[6]+Lt*this.props[10]+this.props[14]],Vt}function Bt(wt,Ot){if(this.isIdentity())return wt+","+Ot;var Lt=this.props;return Math.round((wt*Lt[0]+Ot*Lt[4]+Lt[12])*100)/100+","+Math.round((wt*Lt[1]+Ot*Lt[5]+Lt[13])*100)/100}function Ft(){for(var wt=0,Ot=this.props,Lt="matrix3d(",Vt=1e4;wt<16;)Lt+=nt(Ot[wt]*Vt)/Vt,Lt+=wt===15?")":",",wt+=1;return Lt}function Dt(wt){var Ot=1e4;return wt<1e-6&&wt>0||wt>-1e-6&&wt<0?nt(wt*Ot)/Ot:wt}function Mt(){var wt=this.props,Ot=Dt(wt[0]),Lt=Dt(wt[1]),Vt=Dt(wt[4]),zt=Dt(wt[5]),Yt=Dt(wt[12]),nr=Dt(wt[13]);return"matrix("+Ot+","+Lt+","+Vt+","+zt+","+Yt+","+nr+")"}return function(){this.reset=it,this.rotate=at,this.rotateX=ot,this.rotateY=st,this.rotateZ=lt,this.skew=ut,this.skewFromAxis=ft,this.shear=ct,this.scale=ht,this.setTransform=dt,this.translate=vt,this.transform=yt,this.multiply=xt,this.applyToPoint=Et,this.applyToX=St,this.applyToY=Tt,this.applyToZ=Pt,this.applyToPointArray=Ct,this.applyToTriplePoints=kt,this.applyToPointStringified=Bt,this.toCSS=Ft,this.to2dCSS=Mt,this.clone=pt,this.cloneFromProps=bt,this.equals=mt,this.inversePoints=$t,this.inversePoint=It,this.getInverseMatrix=Rt,this._t=this.transform,this.isIdentity=_t,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(et){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$3=function(rt){return typeof rt}:_typeof$3=function(rt){return rt&&typeof Symbol=="function"&&rt.constructor===Symbol&&rt!==Symbol.prototype?"symbol":typeof rt},_typeof$3(et)}var lottie={};function setLocation(et){setLocationHref(et)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(et){setSubframeEnabled(et)}function setPrefix(et){setIdPrefix(et)}function loadAnimation(et){return animationManager.loadAnimation(et)}function setQuality(et){if(typeof et=="string")switch(et){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else!isNaN(et)&&et>1&&setDefaultCurveSegments(et)}function inBrowser(){return typeof navigator<"u"}function installPlugin(et,tt){et==="expressions"&&setExpressionsPlugin(tt)}function getFactory(et){switch(et){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.12.2";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(et){for(var tt=queryString.split("&"),rt=0;rt<tt.length;rt+=1){var nt=tt[rt].split("=");if(decodeURIComponent(nt[0])==et)return decodeURIComponent(nt[1])}return null}var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)!=="object"&&(window.bodymovin=lottie)}catch(et){}var ShapeModifiers=function(){var et={},tt={};et.registerModifier=rt,et.getModifier=nt;function rt(it,at){tt[it]||(tt[it]=at)}function nt(it,at,ot){return new tt[it](at,ot)}return et}();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(et){if(!this.closed){et.sh.container.addDynamicProperty(et.sh);var tt={shape:et.sh,data:et,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(tt),this.addShapeToModifier(tt),this._isAnimated&&et.setAsAnimated()}},ShapeModifier.prototype.init=function(et,tt){this.shapes=[],this.elem=et,this.initDynamicPropertyContainer(et),this.initModifierProperties(et,tt),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(et,tt){this.s=PropertyFactory.getProp(et,tt.s,0,.01,this),this.e=PropertyFactory.getProp(et,tt.e,0,.01,this),this.o=PropertyFactory.getProp(et,tt.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=tt.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(et){et.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(et,tt,rt,nt,it){var at=[];tt<=1?at.push({s:et,e:tt}):et>=1?at.push({s:et-1,e:tt-1}):(at.push({s:et,e:1}),at.push({s:0,e:tt-1}));var ot=[],st,lt=at.length,ct;for(st=0;st<lt;st+=1)if(ct=at[st],!(ct.e*it<nt||ct.s*it>nt+rt)){var ut,ft;ct.s*it<=nt?ut=0:ut=(ct.s*it-nt)/rt,ct.e*it>=nt+rt?ft=1:ft=(ct.e*it-nt)/rt,ot.push([ut,ft])}return ot.length||ot.push([0,0]),ot},TrimModifier.prototype.releasePathsData=function(et){var tt,rt=et.length;for(tt=0;tt<rt;tt+=1)segmentsLengthPool.release(et[tt]);return et.length=0,et},TrimModifier.prototype.processShapes=function(et){var tt,rt;if(this._mdf||et){var nt=this.o.v%360/360;if(nt<0&&(nt+=1),this.s.v>1?tt=1+nt:this.s.v<0?tt=0+nt:tt=this.s.v+nt,this.e.v>1?rt=1+nt:this.e.v<0?rt=0+nt:rt=this.e.v+nt,tt>rt){var it=tt;tt=rt,rt=it}tt=Math.round(tt*1e4)*1e-4,rt=Math.round(rt*1e4)*1e-4,this.sValue=tt,this.eValue=rt}else tt=this.sValue,rt=this.eValue;var at,ot,st=this.shapes.length,lt,ct,ut,ft,ht,dt=0;if(rt===tt)for(ot=0;ot<st;ot+=1)this.shapes[ot].localShapeCollection.releaseShapes(),this.shapes[ot].shape._mdf=!0,this.shapes[ot].shape.paths=this.shapes[ot].localShapeCollection,this._mdf&&(this.shapes[ot].pathsData.length=0);else if(rt===1&&tt===0||rt===0&&tt===1){if(this._mdf)for(ot=0;ot<st;ot+=1)this.shapes[ot].pathsData.length=0,this.shapes[ot].shape._mdf=!0}else{var vt=[],yt,xt;for(ot=0;ot<st;ot+=1)if(yt=this.shapes[ot],!yt.shape._mdf&&!this._mdf&&!et&&this.m!==2)yt.shape.paths=yt.localShapeCollection;else{if(at=yt.shape.paths,ct=at._length,ht=0,!yt.shape._mdf&&yt.pathsData.length)ht=yt.totalShapeLength;else{for(ut=this.releasePathsData(yt.pathsData),lt=0;lt<ct;lt+=1)ft=bez.getSegmentsLength(at.shapes[lt]),ut.push(ft),ht+=ft.totalLength;yt.totalShapeLength=ht,yt.pathsData=ut}dt+=ht,yt.shape._mdf=!0}var _t=tt,mt=rt,pt=0,bt;for(ot=st-1;ot>=0;ot-=1)if(yt=this.shapes[ot],yt.shape._mdf){for(xt=yt.localShapeCollection,xt.releaseShapes(),this.m===2&&st>1?(bt=this.calculateShapeEdges(tt,rt,yt.totalShapeLength,pt,dt),pt+=yt.totalShapeLength):bt=[[_t,mt]],ct=bt.length,lt=0;lt<ct;lt+=1){_t=bt[lt][0],mt=bt[lt][1],vt.length=0,mt<=1?vt.push({s:yt.totalShapeLength*_t,e:yt.totalShapeLength*mt}):_t>=1?vt.push({s:yt.totalShapeLength*(_t-1),e:yt.totalShapeLength*(mt-1)}):(vt.push({s:yt.totalShapeLength*_t,e:yt.totalShapeLength}),vt.push({s:0,e:yt.totalShapeLength*(mt-1)}));var Et=this.addShapes(yt,vt[0]);if(vt[0].s!==vt[0].e){if(vt.length>1){var St=yt.shape.paths.shapes[yt.shape.paths._length-1];if(St.c){var Tt=Et.pop();this.addPaths(Et,xt),Et=this.addShapes(yt,vt[1],Tt)}else this.addPaths(Et,xt),Et=this.addShapes(yt,vt[1])}this.addPaths(Et,xt)}}yt.shape.paths=xt}}},TrimModifier.prototype.addPaths=function(et,tt){var rt,nt=et.length;for(rt=0;rt<nt;rt+=1)tt.addShape(et[rt])},TrimModifier.prototype.addSegment=function(et,tt,rt,nt,it,at,ot){it.setXYAt(tt[0],tt[1],"o",at),it.setXYAt(rt[0],rt[1],"i",at+1),ot&&it.setXYAt(et[0],et[1],"v",at),it.setXYAt(nt[0],nt[1],"v",at+1)},TrimModifier.prototype.addSegmentFromArray=function(et,tt,rt,nt){tt.setXYAt(et[1],et[5],"o",rt),tt.setXYAt(et[2],et[6],"i",rt+1),nt&&tt.setXYAt(et[0],et[4],"v",rt),tt.setXYAt(et[3],et[7],"v",rt+1)},TrimModifier.prototype.addShapes=function(et,tt,rt){var nt=et.pathsData,it=et.shape.paths.shapes,at,ot=et.shape.paths._length,st,lt,ct=0,ut,ft,ht,dt,vt=[],yt,xt=!0;for(rt?(ft=rt._length,yt=rt._length):(rt=shapePool.newElement(),ft=0,yt=0),vt.push(rt),at=0;at<ot;at+=1){for(ht=nt[at].lengths,rt.c=it[at].c,lt=it[at].c?ht.length:ht.length+1,st=1;st<lt;st+=1)if(ut=ht[st-1],ct+ut.addedLength<tt.s)ct+=ut.addedLength,rt.c=!1;else if(ct>tt.e){rt.c=!1;break}else tt.s<=ct&&tt.e>=ct+ut.addedLength?(this.addSegment(it[at].v[st-1],it[at].o[st-1],it[at].i[st],it[at].v[st],rt,ft,xt),xt=!1):(dt=bez.getNewSegment(it[at].v[st-1],it[at].v[st],it[at].o[st-1],it[at].i[st],(tt.s-ct)/ut.addedLength,(tt.e-ct)/ut.addedLength,ht[st-1]),this.addSegmentFromArray(dt,rt,ft,xt),xt=!1,rt.c=!1),ct+=ut.addedLength,ft+=1;if(it[at].c&&ht.length){if(ut=ht[st-1],ct<=tt.e){var _t=ht[st-1].addedLength;tt.s<=ct&&tt.e>=ct+_t?(this.addSegment(it[at].v[st-1],it[at].o[st-1],it[at].i[0],it[at].v[0],rt,ft,xt),xt=!1):(dt=bez.getNewSegment(it[at].v[st-1],it[at].v[0],it[at].o[st-1],it[at].i[0],(tt.s-ct)/_t,(tt.e-ct)/_t,ht[st-1]),this.addSegmentFromArray(dt,rt,ft,xt),xt=!1,rt.c=!1)}else rt.c=!1;ct+=ut.addedLength,ft+=1}if(rt._length&&(rt.setXYAt(rt.v[yt][0],rt.v[yt][1],"i",yt),rt.setXYAt(rt.v[rt._length-1][0],rt.v[rt._length-1][1],"o",rt._length-1)),ct>tt.e)break;at<ot-1&&(rt=shapePool.newElement(),xt=!0,vt.push(rt),ft=0)}return vt};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(et,tt){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(et,tt.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(et,tt){var rt=tt/100,nt=[0,0],it=et._length,at=0;for(at=0;at<it;at+=1)nt[0]+=et.v[at][0],nt[1]+=et.v[at][1];nt[0]/=it,nt[1]/=it;var ot=shapePool.newElement();ot.c=et.c;var st,lt,ct,ut,ft,ht;for(at=0;at<it;at+=1)st=et.v[at][0]+(nt[0]-et.v[at][0])*rt,lt=et.v[at][1]+(nt[1]-et.v[at][1])*rt,ct=et.o[at][0]+(nt[0]-et.o[at][0])*-rt,ut=et.o[at][1]+(nt[1]-et.o[at][1])*-rt,ft=et.i[at][0]+(nt[0]-et.i[at][0])*-rt,ht=et.i[at][1]+(nt[1]-et.i[at][1])*-rt,ot.setTripleAt(st,lt,ct,ut,ft,ht,at);return ot},PuckerAndBloatModifier.prototype.processShapes=function(et){var tt,rt,nt=this.shapes.length,it,at,ot=this.amount.v;if(ot!==0){var st,lt;for(rt=0;rt<nt;rt+=1){if(st=this.shapes[rt],lt=st.localShapeCollection,!(!st.shape._mdf&&!this._mdf&&!et))for(lt.releaseShapes(),st.shape._mdf=!0,tt=st.shape.paths.shapes,at=st.shape.paths._length,it=0;it<at;it+=1)lt.addShape(this.processPath(tt[it],ot));st.shape.paths=st.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var et=[0,0];function tt(lt){var ct=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||ct,this.a&&lt.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&lt.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&lt.skewFromAxis(-this.sk.v,this.sa.v),this.r?lt.rotate(-this.r.v):lt.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?lt.translate(this.px.v,this.py.v,-this.pz.v):lt.translate(this.px.v,this.py.v,0):lt.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function rt(lt){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||lt){var ct;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var ut,ft;if(ct=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(ut=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/ct,0),ft=this.p.getValueAtTime(this.p.keyframes[0].t/ct,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(ut=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/ct,0),ft=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/ct,0)):(ut=this.p.pv,ft=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/ct,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){ut=[],ft=[];var ht=this.px,dt=this.py;ht._caching.lastFrame+ht.offsetTime<=ht.keyframes[0].t?(ut[0]=ht.getValueAtTime((ht.keyframes[0].t+.01)/ct,0),ut[1]=dt.getValueAtTime((dt.keyframes[0].t+.01)/ct,0),ft[0]=ht.getValueAtTime(ht.keyframes[0].t/ct,0),ft[1]=dt.getValueAtTime(dt.keyframes[0].t/ct,0)):ht._caching.lastFrame+ht.offsetTime>=ht.keyframes[ht.keyframes.length-1].t?(ut[0]=ht.getValueAtTime(ht.keyframes[ht.keyframes.length-1].t/ct,0),ut[1]=dt.getValueAtTime(dt.keyframes[dt.keyframes.length-1].t/ct,0),ft[0]=ht.getValueAtTime((ht.keyframes[ht.keyframes.length-1].t-.01)/ct,0),ft[1]=dt.getValueAtTime((dt.keyframes[dt.keyframes.length-1].t-.01)/ct,0)):(ut=[ht.pv,dt.pv],ft[0]=ht.getValueAtTime((ht._caching.lastFrame+ht.offsetTime-.01)/ct,ht.offsetTime),ft[1]=dt.getValueAtTime((dt._caching.lastFrame+dt.offsetTime-.01)/ct,dt.offsetTime))}else ft=et,ut=ft;this.v.rotate(-Math.atan2(ut[1]-ft[1],ut[0]-ft[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function nt(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function it(){}function at(lt){this._addDynamicProperty(lt),this.elem.addDynamicProperty(lt),this._isDirty=!0}function ot(lt,ct,ut){if(this.elem=lt,this.frameId=-1,this.propType="transform",this.data=ct,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(ut||lt),ct.p&&ct.p.s?(this.px=PropertyFactory.getProp(lt,ct.p.x,0,0,this),this.py=PropertyFactory.getProp(lt,ct.p.y,0,0,this),ct.p.z&&(this.pz=PropertyFactory.getProp(lt,ct.p.z,0,0,this))):this.p=PropertyFactory.getProp(lt,ct.p||{k:[0,0,0]},1,0,this),ct.rx){if(this.rx=PropertyFactory.getProp(lt,ct.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(lt,ct.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(lt,ct.rz,0,degToRads,this),ct.or.k[0].ti){var ft,ht=ct.or.k.length;for(ft=0;ft<ht;ft+=1)ct.or.k[ft].to=null,ct.or.k[ft].ti=null}this.or=PropertyFactory.getProp(lt,ct.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(lt,ct.r||{k:0},0,degToRads,this);ct.sk&&(this.sk=PropertyFactory.getProp(lt,ct.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(lt,ct.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(lt,ct.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(lt,ct.s||{k:[100,100,100]},1,.01,this),ct.o?this.o=PropertyFactory.getProp(lt,ct.o,0,.01,lt):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}ot.prototype={applyToMatrix:tt,getValue:rt,precalculateMatrix:nt,autoOrient:it},extendPrototype([DynamicPropertyContainer],ot),ot.prototype.addDynamicProperty=at,ot.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function st(lt,ct,ut){return new ot(lt,ct,ut)}return{getTransformProperty:st}}();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(et,tt){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(et,tt.c,0,null,this),this.o=PropertyFactory.getProp(et,tt.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(et,tt.tr,this),this.so=PropertyFactory.getProp(et,tt.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(et,tt.tr.eo,0,.01,this),this.data=tt,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(et,tt,rt,nt,it,at){var ot=at?-1:1,st=nt.s.v[0]+(1-nt.s.v[0])*(1-it),lt=nt.s.v[1]+(1-nt.s.v[1])*(1-it);et.translate(nt.p.v[0]*ot*it,nt.p.v[1]*ot*it,nt.p.v[2]),tt.translate(-nt.a.v[0],-nt.a.v[1],nt.a.v[2]),tt.rotate(-nt.r.v*ot*it),tt.translate(nt.a.v[0],nt.a.v[1],nt.a.v[2]),rt.translate(-nt.a.v[0],-nt.a.v[1],nt.a.v[2]),rt.scale(at?1/st:st,at?1/lt:lt),rt.translate(nt.a.v[0],nt.a.v[1],nt.a.v[2])},RepeaterModifier.prototype.init=function(et,tt,rt,nt){for(this.elem=et,this.arr=tt,this.pos=rt,this.elemsData=nt,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(et),this.initModifierProperties(et,tt[rt]);rt>0;)rt-=1,this._elements.unshift(tt[rt]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(et){var tt,rt=et.length;for(tt=0;tt<rt;tt+=1)et[tt]._processed=!1,et[tt].ty==="gr"&&this.resetElements(et[tt].it)},RepeaterModifier.prototype.cloneElements=function(et){var tt=JSON.parse(JSON.stringify(et));return this.resetElements(tt),tt},RepeaterModifier.prototype.changeGroupRender=function(et,tt){var rt,nt=et.length;for(rt=0;rt<nt;rt+=1)et[rt]._render=tt,et[rt].ty==="gr"&&this.changeGroupRender(et[rt].it,tt)},RepeaterModifier.prototype.processShapes=function(et){var tt,rt,nt,it,at,ot=!1;if(this._mdf||et){var st=Math.ceil(this.c.v);if(this._groups.length<st){for(;this._groups.length<st;){var lt={it:this.cloneElements(this._elements),ty:"gr"};lt.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,lt),this._groups.splice(0,0,lt),this._currentCopies+=1}this.elem.reloadShapes(),ot=!0}at=0;var ct;for(nt=0;nt<=this._groups.length-1;nt+=1){if(ct=at<st,this._groups[nt]._render=ct,this.changeGroupRender(this._groups[nt].it,ct),!ct){var ut=this.elemsData[nt].it,ft=ut[ut.length-1];ft.transform.op.v!==0?(ft.transform.op._mdf=!0,ft.transform.op.v=0):ft.transform.op._mdf=!1}at+=1}this._currentCopies=st;var ht=this.o.v,dt=ht%1,vt=ht>0?Math.floor(ht):Math.ceil(ht),yt=this.pMatrix.props,xt=this.rMatrix.props,_t=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var mt=0;if(ht>0){for(;mt<vt;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),mt+=1;dt&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,dt,!1),mt+=dt)}else if(ht<0){for(;mt>vt;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),mt-=1;dt&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-dt,!0),mt-=dt)}nt=this.data.m===1?0:this._currentCopies-1,it=this.data.m===1?1:-1,at=this._currentCopies;for(var pt,bt;at;){if(tt=this.elemsData[nt].it,rt=tt[tt.length-1].transform.mProps.v.props,bt=rt.length,tt[tt.length-1].transform.mProps._mdf=!0,tt[tt.length-1].transform.op._mdf=!0,tt[tt.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(nt/(this._currentCopies-1)),mt!==0){for((nt!==0&&it===1||nt!==this._currentCopies-1&&it===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(xt[0],xt[1],xt[2],xt[3],xt[4],xt[5],xt[6],xt[7],xt[8],xt[9],xt[10],xt[11],xt[12],xt[13],xt[14],xt[15]),this.matrix.transform(_t[0],_t[1],_t[2],_t[3],_t[4],_t[5],_t[6],_t[7],_t[8],_t[9],_t[10],_t[11],_t[12],_t[13],_t[14],_t[15]),this.matrix.transform(yt[0],yt[1],yt[2],yt[3],yt[4],yt[5],yt[6],yt[7],yt[8],yt[9],yt[10],yt[11],yt[12],yt[13],yt[14],yt[15]),pt=0;pt<bt;pt+=1)rt[pt]=this.matrix.props[pt];this.matrix.reset()}else for(this.matrix.reset(),pt=0;pt<bt;pt+=1)rt[pt]=this.matrix.props[pt];mt+=1,at-=1,nt+=it}}else for(at=this._currentCopies,nt=0,it=1;at;)tt=this.elemsData[nt].it,rt=tt[tt.length-1].transform.mProps.v.props,tt[tt.length-1].transform.mProps._mdf=!1,tt[tt.length-1].transform.op._mdf=!1,at-=1,nt+=it;return ot},RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(et,tt){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(et,tt.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(et,tt){var rt=shapePool.newElement();rt.c=et.c;var nt,it=et._length,at,ot,st,lt,ct,ut,ft=0,ht,dt,vt,yt,xt,_t;for(nt=0;nt<it;nt+=1)at=et.v[nt],st=et.o[nt],ot=et.i[nt],at[0]===st[0]&&at[1]===st[1]&&at[0]===ot[0]&&at[1]===ot[1]?(nt===0||nt===it-1)&&!et.c?(rt.setTripleAt(at[0],at[1],st[0],st[1],ot[0],ot[1],ft),ft+=1):(nt===0?lt=et.v[it-1]:lt=et.v[nt-1],ct=Math.sqrt(Math.pow(at[0]-lt[0],2)+Math.pow(at[1]-lt[1],2)),ut=ct?Math.min(ct/2,tt)/ct:0,xt=at[0]+(lt[0]-at[0])*ut,ht=xt,_t=at[1]-(at[1]-lt[1])*ut,dt=_t,vt=ht-(ht-at[0])*roundCorner,yt=dt-(dt-at[1])*roundCorner,rt.setTripleAt(ht,dt,vt,yt,xt,_t,ft),ft+=1,nt===it-1?lt=et.v[0]:lt=et.v[nt+1],ct=Math.sqrt(Math.pow(at[0]-lt[0],2)+Math.pow(at[1]-lt[1],2)),ut=ct?Math.min(ct/2,tt)/ct:0,vt=at[0]+(lt[0]-at[0])*ut,ht=vt,yt=at[1]+(lt[1]-at[1])*ut,dt=yt,xt=ht-(ht-at[0])*roundCorner,_t=dt-(dt-at[1])*roundCorner,rt.setTripleAt(ht,dt,vt,yt,xt,_t,ft),ft+=1):(rt.setTripleAt(et.v[nt][0],et.v[nt][1],et.o[nt][0],et.o[nt][1],et.i[nt][0],et.i[nt][1],ft),ft+=1);return rt},RoundCornersModifier.prototype.processShapes=function(et){var tt,rt,nt=this.shapes.length,it,at,ot=this.rd.v;if(ot!==0){var st,lt;for(rt=0;rt<nt;rt+=1){if(st=this.shapes[rt],lt=st.localShapeCollection,!(!st.shape._mdf&&!this._mdf&&!et))for(lt.releaseShapes(),st.shape._mdf=!0,tt=st.shape.paths.shapes,at=st.shape.paths._length,it=0;it<at;it+=1)lt.addShape(this.processPath(tt[it],ot));st.shape.paths=st.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function floatEqual(et,tt){return Math.abs(et-tt)*1e5<=Math.min(Math.abs(et),Math.abs(tt))}function floatZero(et){return Math.abs(et)<=1e-5}function lerp(et,tt,rt){return et*(1-rt)+tt*rt}function lerpPoint(et,tt,rt){return[lerp(et[0],tt[0],rt),lerp(et[1],tt[1],rt)]}function quadRoots(et,tt,rt){if(et===0)return[];var nt=tt*tt-4*et*rt;if(nt<0)return[];var it=-tt/(2*et);if(nt===0)return[it];var at=Math.sqrt(nt)/(2*et);return[it-at,it+at]}function polynomialCoefficients(et,tt,rt,nt){return[-et+3*tt-3*rt+nt,3*et-6*tt+3*rt,-3*et+3*tt,et]}function singlePoint(et){return new PolynomialBezier(et,et,et,et,!1)}function PolynomialBezier(et,tt,rt,nt,it){it&&pointEqual(et,tt)&&(tt=lerpPoint(et,nt,1/3)),it&&pointEqual(rt,nt)&&(rt=lerpPoint(et,nt,2/3));var at=polynomialCoefficients(et[0],tt[0],rt[0],nt[0]),ot=polynomialCoefficients(et[1],tt[1],rt[1],nt[1]);this.a=[at[0],ot[0]],this.b=[at[1],ot[1]],this.c=[at[2],ot[2]],this.d=[at[3],ot[3]],this.points=[et,tt,rt,nt]}PolynomialBezier.prototype.point=function(et){return[((this.a[0]*et+this.b[0])*et+this.c[0])*et+this.d[0],((this.a[1]*et+this.b[1])*et+this.c[1])*et+this.d[1]]},PolynomialBezier.prototype.derivative=function(et){return[(3*et*this.a[0]+2*this.b[0])*et+this.c[0],(3*et*this.a[1]+2*this.b[1])*et+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(et){var tt=this.derivative(et);return Math.atan2(tt[1],tt[0])},PolynomialBezier.prototype.normalAngle=function(et){var tt=this.derivative(et);return Math.atan2(tt[0],tt[1])},PolynomialBezier.prototype.inflectionPoints=function(){var et=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(et))return[];var tt=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/et,rt=tt*tt-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/et;if(rt<0)return[];var nt=Math.sqrt(rt);return floatZero(nt)?nt>0&&nt<1?[tt]:[]:[tt-nt,tt+nt].filter(function(it){return it>0&&it<1})},PolynomialBezier.prototype.split=function(et){if(et<=0)return[singlePoint(this.points[0]),this];if(et>=1)return[this,singlePoint(this.points[this.points.length-1])];var tt=lerpPoint(this.points[0],this.points[1],et),rt=lerpPoint(this.points[1],this.points[2],et),nt=lerpPoint(this.points[2],this.points[3],et),it=lerpPoint(tt,rt,et),at=lerpPoint(rt,nt,et),ot=lerpPoint(it,at,et);return[new PolynomialBezier(this.points[0],tt,it,ot,!0),new PolynomialBezier(ot,at,nt,this.points[3],!0)]};function extrema(et,tt){var rt=et.points[0][tt],nt=et.points[et.points.length-1][tt];if(rt>nt){var it=nt;nt=rt,rt=it}for(var at=quadRoots(3*et.a[tt],2*et.b[tt],et.c[tt]),ot=0;ot<at.length;ot+=1)if(at[ot]>0&&at[ot]<1){var st=et.point(at[ot])[tt];st<rt?rt=st:st>nt&&(nt=st)}return{min:rt,max:nt}}PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var et=this.bounds();return{left:et.x.min,right:et.x.max,top:et.y.min,bottom:et.y.max,width:et.x.max-et.x.min,height:et.y.max-et.y.min,cx:(et.x.max+et.x.min)/2,cy:(et.y.max+et.y.min)/2}};function intersectData(et,tt,rt){var nt=et.boundingBox();return{cx:nt.cx,cy:nt.cy,width:nt.width,height:nt.height,bez:et,t:(tt+rt)/2,t1:tt,t2:rt}}function splitData(et){var tt=et.bez.split(.5);return[intersectData(tt[0],et.t1,et.t),intersectData(tt[1],et.t,et.t2)]}function boxIntersect(et,tt){return Math.abs(et.cx-tt.cx)*2<et.width+tt.width&&Math.abs(et.cy-tt.cy)*2<et.height+tt.height}function intersectsImpl(et,tt,rt,nt,it,at){if(boxIntersect(et,tt)){if(rt>=at||et.width<=nt&&et.height<=nt&&tt.width<=nt&&tt.height<=nt){it.push([et.t,tt.t]);return}var ot=splitData(et),st=splitData(tt);intersectsImpl(ot[0],st[0],rt+1,nt,it,at),intersectsImpl(ot[0],st[1],rt+1,nt,it,at),intersectsImpl(ot[1],st[0],rt+1,nt,it,at),intersectsImpl(ot[1],st[1],rt+1,nt,it,at)}}PolynomialBezier.prototype.intersections=function(et,tt,rt){tt===void 0&&(tt=2),rt===void 0&&(rt=7);var nt=[];return intersectsImpl(intersectData(this,0,1),intersectData(et,0,1),0,tt,nt,rt),nt},PolynomialBezier.shapeSegment=function(et,tt){var rt=(tt+1)%et.length();return new PolynomialBezier(et.v[tt],et.o[tt],et.i[rt],et.v[rt],!0)},PolynomialBezier.shapeSegmentInverted=function(et,tt){var rt=(tt+1)%et.length();return new PolynomialBezier(et.v[rt],et.i[rt],et.o[tt],et.v[tt],!0)};function crossProduct(et,tt){return[et[1]*tt[2]-et[2]*tt[1],et[2]*tt[0]-et[0]*tt[2],et[0]*tt[1]-et[1]*tt[0]]}function lineIntersection(et,tt,rt,nt){var it=[et[0],et[1],1],at=[tt[0],tt[1],1],ot=[rt[0],rt[1],1],st=[nt[0],nt[1],1],lt=crossProduct(crossProduct(it,at),crossProduct(ot,st));return floatZero(lt[2])?null:[lt[0]/lt[2],lt[1]/lt[2]]}function polarOffset(et,tt,rt){return[et[0]+Math.cos(tt)*rt,et[1]-Math.sin(tt)*rt]}function pointDistance(et,tt){return Math.hypot(et[0]-tt[0],et[1]-tt[1])}function pointEqual(et,tt){return floatEqual(et[0],tt[0])&&floatEqual(et[1],tt[1])}function ZigZagModifier(){}extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(et,tt){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(et,tt.s,0,null,this),this.frequency=PropertyFactory.getProp(et,tt.r,0,null,this),this.pointsType=PropertyFactory.getProp(et,tt.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0};function setPoint(et,tt,rt,nt,it,at,ot){var st=rt-Math.PI/2,lt=rt+Math.PI/2,ct=tt[0]+Math.cos(rt)*nt*it,ut=tt[1]-Math.sin(rt)*nt*it;et.setTripleAt(ct,ut,ct+Math.cos(st)*at,ut-Math.sin(st)*at,ct+Math.cos(lt)*ot,ut-Math.sin(lt)*ot,et.length())}function getPerpendicularVector(et,tt){var rt=[tt[0]-et[0],tt[1]-et[1]],nt=-Math.PI*.5,it=[Math.cos(nt)*rt[0]-Math.sin(nt)*rt[1],Math.sin(nt)*rt[0]+Math.cos(nt)*rt[1]];return it}function getProjectingAngle(et,tt){var rt=tt===0?et.length()-1:tt-1,nt=(tt+1)%et.length(),it=et.v[rt],at=et.v[nt],ot=getPerpendicularVector(it,at);return Math.atan2(0,1)-Math.atan2(ot[1],ot[0])}function zigZagCorner(et,tt,rt,nt,it,at,ot){var st=getProjectingAngle(tt,rt),lt=tt.v[rt%tt._length],ct=tt.v[rt===0?tt._length-1:rt-1],ut=tt.v[(rt+1)%tt._length],ft=at===2?Math.sqrt(Math.pow(lt[0]-ct[0],2)+Math.pow(lt[1]-ct[1],2)):0,ht=at===2?Math.sqrt(Math.pow(lt[0]-ut[0],2)+Math.pow(lt[1]-ut[1],2)):0;setPoint(et,tt.v[rt%tt._length],st,ot,nt,ht/((it+1)*2),ft/((it+1)*2))}function zigZagSegment(et,tt,rt,nt,it,at){for(var ot=0;ot<nt;ot+=1){var st=(ot+1)/(nt+1),lt=it===2?Math.sqrt(Math.pow(tt.points[3][0]-tt.points[0][0],2)+Math.pow(tt.points[3][1]-tt.points[0][1],2)):0,ct=tt.normalAngle(st),ut=tt.point(st);setPoint(et,ut,ct,at,rt,lt/((nt+1)*2),lt/((nt+1)*2)),at=-at}return at}ZigZagModifier.prototype.processPath=function(et,tt,rt,nt){var it=et._length,at=shapePool.newElement();if(at.c=et.c,et.c||(it-=1),it===0)return at;var ot=-1,st=PolynomialBezier.shapeSegment(et,0);zigZagCorner(at,et,0,tt,rt,nt,ot);for(var lt=0;lt<it;lt+=1)ot=zigZagSegment(at,st,tt,rt,nt,-ot),lt===it-1&&!et.c?st=null:st=PolynomialBezier.shapeSegment(et,(lt+1)%it),zigZagCorner(at,et,lt+1,tt,rt,nt,ot);return at},ZigZagModifier.prototype.processShapes=function(et){var tt,rt,nt=this.shapes.length,it,at,ot=this.amplitude.v,st=Math.max(0,Math.round(this.frequency.v)),lt=this.pointsType.v;if(ot!==0){var ct,ut;for(rt=0;rt<nt;rt+=1){if(ct=this.shapes[rt],ut=ct.localShapeCollection,!(!ct.shape._mdf&&!this._mdf&&!et))for(ut.releaseShapes(),ct.shape._mdf=!0,tt=ct.shape.paths.shapes,at=ct.shape.paths._length,it=0;it<at;it+=1)ut.addShape(this.processPath(tt[it],ot,st,lt));ct.shape.paths=ct.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function linearOffset(et,tt,rt){var nt=Math.atan2(tt[0]-et[0],tt[1]-et[1]);return[polarOffset(et,nt,rt),polarOffset(tt,nt,rt)]}function offsetSegment(et,tt){var rt,nt,it,at,ot,st,lt;lt=linearOffset(et.points[0],et.points[1],tt),rt=lt[0],nt=lt[1],lt=linearOffset(et.points[1],et.points[2],tt),it=lt[0],at=lt[1],lt=linearOffset(et.points[2],et.points[3],tt),ot=lt[0],st=lt[1];var ct=lineIntersection(rt,nt,it,at);ct===null&&(ct=nt);var ut=lineIntersection(ot,st,it,at);return ut===null&&(ut=ot),new PolynomialBezier(rt,ct,ut,st)}function joinLines(et,tt,rt,nt,it){var at=tt.points[3],ot=rt.points[0];if(nt===3||pointEqual(at,ot))return at;if(nt===2){var st=-tt.tangentAngle(1),lt=-rt.tangentAngle(0)+Math.PI,ct=lineIntersection(at,polarOffset(at,st+Math.PI/2,100),ot,polarOffset(ot,st+Math.PI/2,100)),ut=ct?pointDistance(ct,at):pointDistance(at,ot)/2,ft=polarOffset(at,st,2*ut*roundCorner);return et.setXYAt(ft[0],ft[1],"o",et.length()-1),ft=polarOffset(ot,lt,2*ut*roundCorner),et.setTripleAt(ot[0],ot[1],ot[0],ot[1],ft[0],ft[1],et.length()),ot}var ht=pointEqual(at,tt.points[2])?tt.points[0]:tt.points[2],dt=pointEqual(ot,rt.points[1])?rt.points[3]:rt.points[1],vt=lineIntersection(ht,at,ot,dt);return vt&&pointDistance(vt,at)<it?(et.setTripleAt(vt[0],vt[1],vt[0],vt[1],vt[0],vt[1],et.length()),vt):at}function getIntersection(et,tt){var rt=et.intersections(tt);return rt.length&&floatEqual(rt[0][0],1)&&rt.shift(),rt.length?rt[0]:null}function pruneSegmentIntersection(et,tt){var rt=et.slice(),nt=tt.slice(),it=getIntersection(et[et.length-1],tt[0]);return it&&(rt[et.length-1]=et[et.length-1].split(it[0])[0],nt[0]=tt[0].split(it[1])[1]),et.length>1&&tt.length>1&&(it=getIntersection(et[0],tt[tt.length-1]),it)?[[et[0].split(it[0])[0]],[tt[tt.length-1].split(it[1])[1]]]:[rt,nt]}function pruneIntersections(et){for(var tt,rt=1;rt<et.length;rt+=1)tt=pruneSegmentIntersection(et[rt-1],et[rt]),et[rt-1]=tt[0],et[rt]=tt[1];return et.length>1&&(tt=pruneSegmentIntersection(et[et.length-1],et[0]),et[et.length-1]=tt[0],et[0]=tt[1]),et}function offsetSegmentSplit(et,tt){var rt=et.inflectionPoints(),nt,it,at,ot;if(rt.length===0)return[offsetSegment(et,tt)];if(rt.length===1||floatEqual(rt[1],1))return at=et.split(rt[0]),nt=at[0],it=at[1],[offsetSegment(nt,tt),offsetSegment(it,tt)];at=et.split(rt[0]),nt=at[0];var st=(rt[1]-rt[0])/(1-rt[0]);return at=at[1].split(st),ot=at[0],it=at[1],[offsetSegment(nt,tt),offsetSegment(ot,tt),offsetSegment(it,tt)]}function OffsetPathModifier(){}extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(et,tt){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(et,tt.a,0,null,this),this.miterLimit=PropertyFactory.getProp(et,tt.ml,0,null,this),this.lineJoin=tt.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function(et,tt,rt,nt){var it=shapePool.newElement();it.c=et.c;var at=et.length();et.c||(at-=1);var ot,st,lt,ct=[];for(ot=0;ot<at;ot+=1)lt=PolynomialBezier.shapeSegment(et,ot),ct.push(offsetSegmentSplit(lt,tt));if(!et.c)for(ot=at-1;ot>=0;ot-=1)lt=PolynomialBezier.shapeSegmentInverted(et,ot),ct.push(offsetSegmentSplit(lt,tt));ct=pruneIntersections(ct);var ut=null,ft=null;for(ot=0;ot<ct.length;ot+=1){var ht=ct[ot];for(ft&&(ut=joinLines(it,ft,ht[0],rt,nt)),ft=ht[ht.length-1],st=0;st<ht.length;st+=1)lt=ht[st],ut&&pointEqual(lt.points[0],ut)?it.setXYAt(lt.points[1][0],lt.points[1][1],"o",it.length()-1):it.setTripleAt(lt.points[0][0],lt.points[0][1],lt.points[1][0],lt.points[1][1],lt.points[0][0],lt.points[0][1],it.length()),it.setTripleAt(lt.points[3][0],lt.points[3][1],lt.points[3][0],lt.points[3][1],lt.points[2][0],lt.points[2][1],it.length()),ut=lt.points[3]}return ct.length&&joinLines(it,ft,ct[0][0],rt,nt),it},OffsetPathModifier.prototype.processShapes=function(et){var tt,rt,nt=this.shapes.length,it,at,ot=this.amount.v,st=this.miterLimit.v,lt=this.lineJoin;if(ot!==0){var ct,ut;for(rt=0;rt<nt;rt+=1){if(ct=this.shapes[rt],ut=ct.localShapeCollection,!(!ct.shape._mdf&&!this._mdf&&!et))for(ut.releaseShapes(),ct.shape._mdf=!0,tt=ct.shape.paths.shapes,at=ct.shape.paths._length,it=0;it<at;it+=1)ut.addShape(this.processPath(tt[it],ot,lt,st));ct.shape.paths=ct.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function getFontProperties(et){for(var tt=et.fStyle?et.fStyle.split(" "):[],rt="normal",nt="normal",it=tt.length,at,ot=0;ot<it;ot+=1)switch(at=tt[ot].toLowerCase(),at){case"italic":nt="italic";break;case"bold":rt="700";break;case"black":rt="900";break;case"medium":rt="500";break;case"regular":case"normal":rt="400";break;case"light":case"thin":rt="200";break}return{style:nt,weight:et.fWeight||rt}}var FontManager=function(){var et=5e3,tt={w:0,size:0,shapes:[],data:{shapes:[]}},rt=[];rt=rt.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var nt=127988,it=917631,at=917601,ot=917626,st=65039,lt=8205,ct=127462,ut=127487,ft=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function ht(Dt){var Mt=Dt.split(","),wt,Ot=Mt.length,Lt=[];for(wt=0;wt<Ot;wt+=1)Mt[wt]!=="sans-serif"&&Mt[wt]!=="monospace"&&Lt.push(Mt[wt]);return Lt.join(",")}function dt(Dt,Mt){var wt=createTag("span");wt.setAttribute("aria-hidden",!0),wt.style.fontFamily=Mt;var Ot=createTag("span");Ot.innerText="giItT1WQy@!-/#",wt.style.position="absolute",wt.style.left="-10000px",wt.style.top="-10000px",wt.style.fontSize="300px",wt.style.fontVariant="normal",wt.style.fontStyle="normal",wt.style.fontWeight="normal",wt.style.letterSpacing="0",wt.appendChild(Ot),document.body.appendChild(wt);var Lt=Ot.offsetWidth;return Ot.style.fontFamily=ht(Dt)+", "+Mt,{node:Ot,w:Lt,parent:wt}}function vt(){var Dt,Mt=this.fonts.length,wt,Ot,Lt=Mt;for(Dt=0;Dt<Mt;Dt+=1)this.fonts[Dt].loaded?Lt-=1:this.fonts[Dt].fOrigin==="n"||this.fonts[Dt].origin===0?this.fonts[Dt].loaded=!0:(wt=this.fonts[Dt].monoCase.node,Ot=this.fonts[Dt].monoCase.w,wt.offsetWidth!==Ot?(Lt-=1,this.fonts[Dt].loaded=!0):(wt=this.fonts[Dt].sansCase.node,Ot=this.fonts[Dt].sansCase.w,wt.offsetWidth!==Ot&&(Lt-=1,this.fonts[Dt].loaded=!0)),this.fonts[Dt].loaded&&(this.fonts[Dt].sansCase.parent.parentNode.removeChild(this.fonts[Dt].sansCase.parent),this.fonts[Dt].monoCase.parent.parentNode.removeChild(this.fonts[Dt].monoCase.parent)));Lt!==0&&Date.now()-this.initTime<et?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function yt(Dt,Mt){var wt=document.body&&Mt?"svg":"canvas",Ot,Lt=getFontProperties(Dt);if(wt==="svg"){var Vt=createNS("text");Vt.style.fontSize="100px",Vt.setAttribute("font-family",Dt.fFamily),Vt.setAttribute("font-style",Lt.style),Vt.setAttribute("font-weight",Lt.weight),Vt.textContent="1",Dt.fClass?(Vt.style.fontFamily="inherit",Vt.setAttribute("class",Dt.fClass)):Vt.style.fontFamily=Dt.fFamily,Mt.appendChild(Vt),Ot=Vt}else{var zt=new OffscreenCanvas(500,500).getContext("2d");zt.font=Lt.style+" "+Lt.weight+" 100px "+Dt.fFamily,Ot=zt}function Yt(nr){return wt==="svg"?(Ot.textContent=nr,Ot.getComputedTextLength()):Ot.measureText(nr).width}return{measureText:Yt}}function xt(Dt,Mt){if(!Dt){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=Dt.list;return}if(!document.body){this.isLoaded=!0,Dt.list.forEach(function(ur){ur.helper=yt(ur),ur.cache={}}),this.fonts=Dt.list;return}var wt=Dt.list,Ot,Lt=wt.length,Vt=Lt;for(Ot=0;Ot<Lt;Ot+=1){var zt=!0,Yt,nr;if(wt[Ot].loaded=!1,wt[Ot].monoCase=dt(wt[Ot].fFamily,"monospace"),wt[Ot].sansCase=dt(wt[Ot].fFamily,"sans-serif"),!wt[Ot].fPath)wt[Ot].loaded=!0,Vt-=1;else if(wt[Ot].fOrigin==="p"||wt[Ot].origin===3){if(Yt=document.querySelectorAll('style[f-forigin="p"][f-family="'+wt[Ot].fFamily+'"], style[f-origin="3"][f-family="'+wt[Ot].fFamily+'"]'),Yt.length>0&&(zt=!1),zt){var cr=createTag("style");cr.setAttribute("f-forigin",wt[Ot].fOrigin),cr.setAttribute("f-origin",wt[Ot].origin),cr.setAttribute("f-family",wt[Ot].fFamily),cr.type="text/css",cr.innerText="@font-face {font-family: "+wt[Ot].fFamily+"; font-style: normal; src: url('"+wt[Ot].fPath+"');}",Mt.appendChild(cr)}}else if(wt[Ot].fOrigin==="g"||wt[Ot].origin===1){for(Yt=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),nr=0;nr<Yt.length;nr+=1)Yt[nr].href.indexOf(wt[Ot].fPath)!==-1&&(zt=!1);if(zt){var hr=createTag("link");hr.setAttribute("f-forigin",wt[Ot].fOrigin),hr.setAttribute("f-origin",wt[Ot].origin),hr.type="text/css",hr.rel="stylesheet",hr.href=wt[Ot].fPath,document.body.appendChild(hr)}}else if(wt[Ot].fOrigin==="t"||wt[Ot].origin===2){for(Yt=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),nr=0;nr<Yt.length;nr+=1)wt[Ot].fPath===Yt[nr].src&&(zt=!1);if(zt){var Jt=createTag("link");Jt.setAttribute("f-forigin",wt[Ot].fOrigin),Jt.setAttribute("f-origin",wt[Ot].origin),Jt.setAttribute("rel","stylesheet"),Jt.setAttribute("href",wt[Ot].fPath),Mt.appendChild(Jt)}}wt[Ot].helper=yt(wt[Ot],Mt),wt[Ot].cache={},this.fonts.push(wt[Ot])}Vt===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function _t(Dt){if(Dt){this.chars||(this.chars=[]);var Mt,wt=Dt.length,Ot,Lt=this.chars.length,Vt;for(Mt=0;Mt<wt;Mt+=1){for(Ot=0,Vt=!1;Ot<Lt;)this.chars[Ot].style===Dt[Mt].style&&this.chars[Ot].fFamily===Dt[Mt].fFamily&&this.chars[Ot].ch===Dt[Mt].ch&&(Vt=!0),Ot+=1;Vt||(this.chars.push(Dt[Mt]),Lt+=1)}}}function mt(Dt,Mt,wt){for(var Ot=0,Lt=this.chars.length;Ot<Lt;){if(this.chars[Ot].ch===Dt&&this.chars[Ot].style===Mt&&this.chars[Ot].fFamily===wt)return this.chars[Ot];Ot+=1}return(typeof Dt=="string"&&Dt.charCodeAt(0)!==13||!Dt)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",Dt,Mt,wt)),tt}function pt(Dt,Mt,wt){var Ot=this.getFontByName(Mt),Lt=Dt;if(!Ot.cache[Lt]){var Vt=Ot.helper;if(Dt===" "){var zt=Vt.measureText("|"+Dt+"|"),Yt=Vt.measureText("||");Ot.cache[Lt]=(zt-Yt)/100}else Ot.cache[Lt]=Vt.measureText(Dt)/100}return Ot.cache[Lt]*wt}function bt(Dt){for(var Mt=0,wt=this.fonts.length;Mt<wt;){if(this.fonts[Mt].fName===Dt)return this.fonts[Mt];Mt+=1}return this.fonts[0]}function Et(Dt){var Mt=0,wt=Dt.charCodeAt(0);if(wt>=55296&&wt<=56319){var Ot=Dt.charCodeAt(1);Ot>=56320&&Ot<=57343&&(Mt=(wt-55296)*1024+Ot-56320+65536)}return Mt}function St(Dt,Mt){var wt=Dt.toString(16)+Mt.toString(16);return ft.indexOf(wt)!==-1}function Tt(Dt){return Dt===lt}function Pt(Dt){return Dt===st}function Rt(Dt){var Mt=Et(Dt);return Mt>=ct&&Mt<=ut}function It(Dt){return Rt(Dt.substr(0,2))&&Rt(Dt.substr(2,2))}function $t(Dt){return rt.indexOf(Dt)!==-1}function kt(Dt,Mt){var wt=Et(Dt.substr(Mt,2));if(wt!==nt)return!1;var Ot=0;for(Mt+=2;Ot<5;){if(wt=Et(Dt.substr(Mt,2)),wt<at||wt>ot)return!1;Ot+=1,Mt+=2}return Et(Dt.substr(Mt,2))===it}function Ct(){this.isLoaded=!0}var Bt=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};Bt.isModifier=St,Bt.isZeroWidthJoiner=Tt,Bt.isFlagEmoji=It,Bt.isRegionalCode=Rt,Bt.isCombinedCharacter=$t,Bt.isRegionalFlag=kt,Bt.isVariationSelector=Pt,Bt.BLACK_FLAG_CODE_POINT=nt;var Ft={addChars:_t,addFonts:xt,getCharData:mt,getFontByName:bt,measureText:pt,checkLoadedFonts:vt,setIsLoaded:Ct};return Bt.prototype=Ft,Bt}();function SlotManager(et){this.animationData=et}SlotManager.prototype.getProp=function(et){return this.animationData.slots&&this.animationData.slots[et.sid]?Object.assign(et,this.animationData.slots[et.sid].p):et};function slotFactory(et){return new SlotManager(et)}function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(tt){this.renderableComponents.indexOf(tt)===-1&&this.renderableComponents.push(tt)},removeRenderableComponent:function(tt){this.renderableComponents.indexOf(tt)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(tt),1)},prepareRenderableFrame:function(tt){this.checkLayerLimits(tt)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(tt){this.data.ip-this.data.st<=tt&&this.data.op-this.data.st>tt?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var tt,rt=this.renderableComponents.length;for(tt=0;tt<rt;tt+=1)this.renderableComponents[tt].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=function(){var et={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(tt){return et[tt]||""}}();function SliderEffect(et,tt,rt){this.p=PropertyFactory.getProp(tt,et.v,0,0,rt)}function AngleEffect(et,tt,rt){this.p=PropertyFactory.getProp(tt,et.v,0,0,rt)}function ColorEffect(et,tt,rt){this.p=PropertyFactory.getProp(tt,et.v,1,0,rt)}function PointEffect(et,tt,rt){this.p=PropertyFactory.getProp(tt,et.v,1,0,rt)}function LayerIndexEffect(et,tt,rt){this.p=PropertyFactory.getProp(tt,et.v,0,0,rt)}function MaskIndexEffect(et,tt,rt){this.p=PropertyFactory.getProp(tt,et.v,0,0,rt)}function CheckboxEffect(et,tt,rt){this.p=PropertyFactory.getProp(tt,et.v,0,0,rt)}function NoValueEffect(){this.p={}}function EffectsManager(et,tt){var rt=et.ef||[];this.effectElements=[];var nt,it=rt.length,at;for(nt=0;nt<it;nt+=1)at=new GroupEffect(rt[nt],tt),this.effectElements.push(at)}function GroupEffect(et,tt){this.init(et,tt)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(et,tt){this.data=et,this.effectElements=[],this.initDynamicPropertyContainer(tt);var rt,nt=this.data.ef.length,it,at=this.data.ef;for(rt=0;rt<nt;rt+=1){switch(it=null,at[rt].ty){case 0:it=new SliderEffect(at[rt],tt,this);break;case 1:it=new AngleEffect(at[rt],tt,this);break;case 2:it=new ColorEffect(at[rt],tt,this);break;case 3:it=new PointEffect(at[rt],tt,this);break;case 4:case 7:it=new CheckboxEffect(at[rt],tt,this);break;case 10:it=new LayerIndexEffect(at[rt],tt,this);break;case 11:it=new MaskIndexEffect(at[rt],tt,this);break;case 5:it=new EffectsManager(at[rt],tt);break;default:it=new NoValueEffect(at[rt]);break}it&&this.effectElements.push(it)}};function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var tt=0,rt=this.data.masksProperties.length;tt<rt;){if(this.data.masksProperties[tt].mode!=="n"&&this.data.masksProperties[tt].cl!==!1)return!0;tt+=1}return!1},initExpressions:function(){var tt=getExpressionInterfaces();if(tt){var rt=tt("layer"),nt=tt("effects"),it=tt("shape"),at=tt("text"),ot=tt("comp");this.layerInterface=rt(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var st=nt.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(st),this.data.ty===0||this.data.xt?this.compInterface=ot(this):this.data.ty===4?(this.layerInterface.shapeInterface=it(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=at(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var tt=getBlendMode(this.data.bm),rt=this.baseElement||this.layerElement;rt.style["mix-blend-mode"]=tt},initBaseData:function(tt,rt,nt){this.globalData=rt,this.comp=nt,this.data=tt,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(tt,rt){var nt,it=this.dynamicProperties.length;for(nt=0;nt<it;nt+=1)(rt||this._isParent&&this.dynamicProperties[nt].propType==="transform")&&(this.dynamicProperties[nt].getValue(),this.dynamicProperties[nt]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(tt){this.dynamicProperties.indexOf(tt)===-1&&this.dynamicProperties.push(tt)}};function FootageElement(et,tt,rt){this.initFrame(),this.initRenderable(),this.assetData=tt.getAssetData(et.refId),this.footageData=tt.imageLoader.getAsset(this.assetData),this.initBaseData(et,tt,rt)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var et=getExpressionInterfaces();if(et){var tt=et("footage");this.layerInterface=tt(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData};function AudioElement(et,tt,rt){this.initFrame(),this.initRenderable(),this.assetData=tt.getAssetData(et.refId),this.initBaseData(et,tt,rt),this._isPlaying=!1,this._canPlay=!1;var nt=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(nt),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=et.tm?PropertyFactory.getProp(this,et.tm,0,tt.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,et.au&&et.au.lv?et.au.lv:{k:[100]},1,.01,this)}AudioElement.prototype.prepareFrame=function(et){if(this.prepareRenderableFrame(et,!0),this.prepareProperties(et,!0),this.tm._placeholder)this._currentTime=et/this.data.sr;else{var tt=this.tm.v;this._currentTime=tt}this._volume=this.lv.v[0];var rt=this._volume*this._volumeMultiplier;this._previousVolume!==rt&&(this._previousVolume=rt,this.audio.volume(rt))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(et){this.audio.rate(et)},AudioElement.prototype.volume=function(et){this._volumeMultiplier=et,this._previousVolume=et*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(et){var tt,rt=this.layers.length,nt;for(this.completeLayers=!0,tt=rt-1;tt>=0;tt-=1)this.elements[tt]||(nt=this.layers[tt],nt.ip-nt.st<=et-this.layers[tt].st&&nt.op-nt.st>et-this.layers[tt].st&&this.buildItem(tt)),this.completeLayers=this.elements[tt]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(et){switch(et.ty){case 2:return this.createImage(et);case 0:return this.createComp(et);case 1:return this.createSolid(et);case 3:return this.createNull(et);case 4:return this.createShape(et);case 5:return this.createText(et);case 6:return this.createAudio(et);case 13:return this.createCamera(et);case 15:return this.createFootage(et);default:return this.createNull(et)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(et){return new AudioElement(et,this.globalData,this)},BaseRenderer.prototype.createFootage=function(et){return new FootageElement(et,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var et,tt=this.layers.length;for(et=0;et<tt;et+=1)this.buildItem(et);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(et){this.completeLayers=!1;var tt,rt=et.length,nt,it=this.layers.length;for(tt=0;tt<rt;tt+=1)for(nt=0;nt<it;){if(this.layers[nt].id===et[tt].id){this.layers[nt]=et[tt];break}nt+=1}},BaseRenderer.prototype.setProjectInterface=function(et){this.globalData.projectInterface=et},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(et,tt,rt){for(var nt=this.elements,it=this.layers,at=0,ot=it.length;at<ot;)it[at].ind==tt&&(!nt[at]||nt[at]===!0?(this.buildItem(at),this.addPendingElement(et)):(rt.push(nt[at]),nt[at].setAsParent(),it[at].parent!==void 0?this.buildElementParenting(et,it[at].parent,rt):et.setHierarchy(rt))),at+=1},BaseRenderer.prototype.addPendingElement=function(et){this.pendingElements.push(et)},BaseRenderer.prototype.searchExtraCompositions=function(et){var tt,rt=et.length;for(tt=0;tt<rt;tt+=1)if(et[tt].xt){var nt=this.createComp(et[tt]);nt.initExpressions(),this.globalData.projectInterface.registerComposition(nt)}},BaseRenderer.prototype.getElementById=function(et){var tt,rt=this.elements.length;for(tt=0;tt<rt;tt+=1)if(this.elements[tt].data.ind===et)return this.elements[tt];return null},BaseRenderer.prototype.getElementByPath=function(et){var tt=et.shift(),rt;if(typeof tt=="number")rt=this.elements[tt];else{var nt,it=this.elements.length;for(nt=0;nt<it;nt+=1)if(this.elements[nt].data.nm===tt){rt=this.elements[nt];break}}return et.length===0?rt:rt.getElementByPath(et)},BaseRenderer.prototype.setupGlobalData=function(et,tt){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(et),this.globalData.fontManager.addChars(et.chars),this.globalData.fontManager.addFonts(et.fonts,tt),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=et.fr,this.globalData.nm=et.nm,this.globalData.compSize={w:et.w,h:et.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}TransformElement.prototype={initTransform:function(){var tt=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:tt,localMat:tt,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var tt,rt=this.finalTransform.mat,nt=0,it=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;nt<it;){if(this.hierarchy[nt].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}nt+=1}if(this.finalTransform._matMdf)for(tt=this.finalTransform.mProp.v.props,rt.cloneFromProps(tt),nt=0;nt<it;nt+=1)rt.multiply(this.hierarchy[nt].finalTransform.mProp.v)}this.finalTransform._matMdf&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var tt=0,rt=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;tt<rt;)this.localTransforms[tt]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[tt]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),tt+=1;if(this.finalTransform._localMatMdf){var nt=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(nt),tt=1;tt<rt;tt+=1){var it=this.localTransforms[tt].matrix;nt.multiply(it)}nt.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var at=this.finalTransform.localOpacity;for(tt=0;tt<rt;tt+=1)at*=this.localTransforms[tt].opacity*.01;this.finalTransform.localOpacity=at}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var tt=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(tt.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var rt=0,nt=tt.length;for(rt=0;rt<nt;rt+=1)this.localTransforms.push(tt[rt])}}},globalToLocal:function(tt){var rt=[];rt.push(this.finalTransform);for(var nt=!0,it=this.comp;nt;)it.finalTransform?(it.data.hasMask&&rt.splice(0,0,it.finalTransform),it=it.comp):nt=!1;var at,ot=rt.length,st;for(at=0;at<ot;at+=1)st=rt[at].mat.applyToPointArray(0,0,0),tt=[tt[0]-st[0],tt[1]-st[1],0];return tt},mHelper:new Matrix};function MaskElement(et,tt,rt){this.data=et,this.element=tt,this.globalData=rt,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var nt=this.globalData.defs,it,at=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(at),this.solidPath="";var ot,st=this.masksProperties,lt=0,ct=[],ut,ft,ht=createElementID(),dt,vt,yt,xt,_t="clipPath",mt="clip-path";for(it=0;it<at;it+=1)if((st[it].mode!=="a"&&st[it].mode!=="n"||st[it].inv||st[it].o.k!==100||st[it].o.x)&&(_t="mask",mt="mask"),(st[it].mode==="s"||st[it].mode==="i")&&lt===0?(dt=createNS("rect"),dt.setAttribute("fill","#ffffff"),dt.setAttribute("width",this.element.comp.data.w||0),dt.setAttribute("height",this.element.comp.data.h||0),ct.push(dt)):dt=null,ot=createNS("path"),st[it].mode==="n")this.viewData[it]={op:PropertyFactory.getProp(this.element,st[it].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,st[it],3),elem:ot,lastPath:""},nt.appendChild(ot);else{lt+=1,ot.setAttribute("fill",st[it].mode==="s"?"#000000":"#ffffff"),ot.setAttribute("clip-rule","nonzero");var pt;if(st[it].x.k!==0?(_t="mask",mt="mask",xt=PropertyFactory.getProp(this.element,st[it].x,0,null,this.element),pt=createElementID(),vt=createNS("filter"),vt.setAttribute("id",pt),yt=createNS("feMorphology"),yt.setAttribute("operator","erode"),yt.setAttribute("in","SourceGraphic"),yt.setAttribute("radius","0"),vt.appendChild(yt),nt.appendChild(vt),ot.setAttribute("stroke",st[it].mode==="s"?"#000000":"#ffffff")):(yt=null,xt=null),this.storedData[it]={elem:ot,x:xt,expan:yt,lastPath:"",lastOperator:"",filterId:pt,lastRadius:0},st[it].mode==="i"){ft=ct.length;var bt=createNS("g");for(ut=0;ut<ft;ut+=1)bt.appendChild(ct[ut]);var Et=createNS("mask");Et.setAttribute("mask-type","alpha"),Et.setAttribute("id",ht+"_"+lt),Et.appendChild(ot),nt.appendChild(Et),bt.setAttribute("mask","url("+getLocationHref()+"#"+ht+"_"+lt+")"),ct.length=0,ct.push(bt)}else ct.push(ot);st[it].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[it]={elem:ot,lastPath:"",op:PropertyFactory.getProp(this.element,st[it].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,st[it],3),invRect:dt},this.viewData[it].prop.k||this.drawPath(st[it],this.viewData[it].prop.v,this.viewData[it])}for(this.maskElement=createNS(_t),at=ct.length,it=0;it<at;it+=1)this.maskElement.appendChild(ct[it]);lt>0&&(this.maskElement.setAttribute("id",ht),this.element.maskedElement.setAttribute(mt,"url("+getLocationHref()+"#"+ht+")"),nt.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function(et){return this.viewData[et].prop},MaskElement.prototype.renderFrame=function(et){var tt=this.element.finalTransform.mat,rt,nt=this.masksProperties.length;for(rt=0;rt<nt;rt+=1)if((this.viewData[rt].prop._mdf||et)&&this.drawPath(this.masksProperties[rt],this.viewData[rt].prop.v,this.viewData[rt]),(this.viewData[rt].op._mdf||et)&&this.viewData[rt].elem.setAttribute("fill-opacity",this.viewData[rt].op.v),this.masksProperties[rt].mode!=="n"&&(this.viewData[rt].invRect&&(this.element.finalTransform.mProp._mdf||et)&&this.viewData[rt].invRect.setAttribute("transform",tt.getInverseMatrix().to2dCSS()),this.storedData[rt].x&&(this.storedData[rt].x._mdf||et))){var it=this.storedData[rt].expan;this.storedData[rt].x.v<0?(this.storedData[rt].lastOperator!=="erode"&&(this.storedData[rt].lastOperator="erode",this.storedData[rt].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[rt].filterId+")")),it.setAttribute("radius",-this.storedData[rt].x.v)):(this.storedData[rt].lastOperator!=="dilate"&&(this.storedData[rt].lastOperator="dilate",this.storedData[rt].elem.setAttribute("filter",null)),this.storedData[rt].elem.setAttribute("stroke-width",this.storedData[rt].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var et="M0,0 ";return et+=" h"+this.globalData.compSize.w,et+=" v"+this.globalData.compSize.h,et+=" h-"+this.globalData.compSize.w,et+=" v-"+this.globalData.compSize.h+" ",et},MaskElement.prototype.drawPath=function(et,tt,rt){var nt=" M"+tt.v[0][0]+","+tt.v[0][1],it,at;for(at=tt._length,it=1;it<at;it+=1)nt+=" C"+tt.o[it-1][0]+","+tt.o[it-1][1]+" "+tt.i[it][0]+","+tt.i[it][1]+" "+tt.v[it][0]+","+tt.v[it][1];if(tt.c&&at>1&&(nt+=" C"+tt.o[it-1][0]+","+tt.o[it-1][1]+" "+tt.i[0][0]+","+tt.i[0][1]+" "+tt.v[0][0]+","+tt.v[0][1]),rt.lastPath!==nt){var ot="";rt.elem&&(tt.c&&(ot=et.inv?this.solidPath+nt:nt),rt.elem.setAttribute("d",ot)),rt.lastPath=nt}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var et={};et.createFilter=tt,et.createAlphaToLuminanceFilter=rt;function tt(nt,it){var at=createNS("filter");return at.setAttribute("id",nt),it!==!0&&(at.setAttribute("filterUnits","objectBoundingBox"),at.setAttribute("x","0%"),at.setAttribute("y","0%"),at.setAttribute("width","100%"),at.setAttribute("height","100%")),at}function rt(){var nt=createNS("feColorMatrix");return nt.setAttribute("type","matrix"),nt.setAttribute("color-interpolation-filters","sRGB"),nt.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),nt}return et}(),featureSupport=function(){var et={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(et.maskType=!1),/firefox/i.test(navigator.userAgent)&&(et.svgLumaHidden=!1),et}(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(et){var tt,rt="SourceGraphic",nt=et.data.ef?et.data.ef.length:0,it=createElementID(),at=filtersFactory.createFilter(it,!0),ot=0;this.filters=[];var st;for(tt=0;tt<nt;tt+=1){st=null;var lt=et.data.ef[tt].ty;if(registeredEffects$1[lt]){var ct=registeredEffects$1[lt].effect;st=new ct(at,et.effectsManager.effectElements[tt],et,idPrefix+ot,rt),rt=idPrefix+ot,registeredEffects$1[lt].countsAsEffect&&(ot+=1)}st&&this.filters.push(st)}ot&&(et.globalData.defs.appendChild(at),et.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+it+")")),this.filters.length&&et.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function(et){var tt,rt=this.filters.length;for(tt=0;tt<rt;tt+=1)this.filters[tt].renderFrame(et)},SVGEffects.prototype.getEffects=function(et){var tt,rt=this.filters.length,nt=[];for(tt=0;tt<rt;tt+=1)this.filters[tt].type===et&&nt.push(this.filters[tt]);return nt};function registerEffect$1(et,tt,rt){registeredEffects$1[et]={effect:tt,countsAsEffect:rt}}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var tt=null;if(this.data.td){this.matteMasks={};var rt=createNS("g");rt.setAttribute("id",this.layerId),rt.appendChild(this.layerElement),tt=rt,this.globalData.defs.appendChild(rt)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),tt=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var nt=createNS("clipPath"),it=createNS("path");it.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var at=createElementID();if(nt.setAttribute("id",at),nt.appendChild(it),this.globalData.defs.appendChild(nt),this.checkMasks()){var ot=createNS("g");ot.setAttribute("clip-path","url("+getLocationHref()+"#"+at+")"),ot.appendChild(this.layerElement),this.transformedElement=ot,tt?tt.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+at+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(tt){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[tt]){var rt=this.layerId+"_"+tt,nt,it,at,ot;if(tt===1||tt===3){var st=createNS("mask");st.setAttribute("id",rt),st.setAttribute("mask-type",tt===3?"luminance":"alpha"),at=createNS("use"),at.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),st.appendChild(at),this.globalData.defs.appendChild(st),!featureSupport.maskType&&tt===1&&(st.setAttribute("mask-type","luminance"),nt=createElementID(),it=filtersFactory.createFilter(nt),this.globalData.defs.appendChild(it),it.appendChild(filtersFactory.createAlphaToLuminanceFilter()),ot=createNS("g"),ot.appendChild(at),st.appendChild(ot),ot.setAttribute("filter","url("+getLocationHref()+"#"+nt+")"))}else if(tt===2){var lt=createNS("mask");lt.setAttribute("id",rt),lt.setAttribute("mask-type","alpha");var ct=createNS("g");lt.appendChild(ct),nt=createElementID(),it=filtersFactory.createFilter(nt);var ut=createNS("feComponentTransfer");ut.setAttribute("in","SourceGraphic"),it.appendChild(ut);var ft=createNS("feFuncA");ft.setAttribute("type","table"),ft.setAttribute("tableValues","1.0 0.0"),ut.appendChild(ft),this.globalData.defs.appendChild(it);var ht=createNS("rect");ht.setAttribute("width",this.comp.data.w),ht.setAttribute("height",this.comp.data.h),ht.setAttribute("x","0"),ht.setAttribute("y","0"),ht.setAttribute("fill","#ffffff"),ht.setAttribute("opacity","0"),ct.setAttribute("filter","url("+getLocationHref()+"#"+nt+")"),ct.appendChild(ht),at=createNS("use"),at.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),ct.appendChild(at),featureSupport.maskType||(lt.setAttribute("mask-type","luminance"),it.appendChild(filtersFactory.createAlphaToLuminanceFilter()),ot=createNS("g"),ct.appendChild(ht),ot.appendChild(this.layerElement),ct.appendChild(ot)),this.globalData.defs.appendChild(lt)}this.matteMasks[tt]=rt}return this.matteMasks[tt]},setMatte:function(tt){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+tt+")")}};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(tt){this.hierarchy=tt},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function RenderableDOMElement(){}(function(){var et={initElement:function(rt,nt,it){this.initFrame(),this.initBaseData(rt,nt,it),this.initTransform(rt,nt,it),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var rt=this.baseElement||this.layerElement;rt.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var rt=this.baseElement||this.layerElement;rt.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(rt){this._mdf=!1,this.prepareRenderableFrame(rt),this.prepareProperties(rt,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(et)],RenderableDOMElement)})();function IImageElement(et,tt,rt){this.assetData=tt.getAssetData(et.refId),this.assetData&&this.assetData.sid&&(this.assetData=tt.slotManager.getProp(this.assetData)),this.initElement(et,tt,rt),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var et=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",et),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ProcessedElement(et,tt){this.elem=et,this.pos=tt}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function(tt){var rt,nt=this.shapeModifiers.length;for(rt=0;rt<nt;rt+=1)this.shapeModifiers[rt].addShape(tt)},isShapeInAnimatedModifiers:function(tt){for(var rt=0,nt=this.shapeModifiers.length;rt<nt;)if(this.shapeModifiers[rt].isAnimatedWithShape(tt))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var tt,rt=this.shapes.length;for(tt=0;tt<rt;tt+=1)this.shapes[tt].sh.reset();rt=this.shapeModifiers.length;var nt;for(tt=rt-1;tt>=0&&(nt=this.shapeModifiers[tt].processShapes(this._isFirstFrame),!nt);tt-=1);}},searchProcessedElement:function(tt){for(var rt=this.processedElements,nt=0,it=rt.length;nt<it;){if(rt[nt].elem===tt)return rt[nt].pos;nt+=1}return 0},addProcessedElement:function(tt,rt){for(var nt=this.processedElements,it=nt.length;it;)if(it-=1,nt[it].elem===tt){nt[it].pos=rt;return}nt.push(new ProcessedElement(tt,rt))},prepareFrame:function(tt){this.prepareRenderableFrame(tt),this.prepareProperties(tt,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(et,tt,rt){this.caches=[],this.styles=[],this.transformers=et,this.lStr="",this.sh=rt,this.lvl=tt,this._isAnimated=!!rt.k;for(var nt=0,it=et.length;nt<it;){if(et[nt].mProps.dynamicProperties.length){this._isAnimated=!0;break}nt+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGStyleData(et,tt){this.data=et,this.type=et.ty,this.d="",this.lvl=tt,this._mdf=!1,this.closed=et.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function DashProperty(et,tt,rt,nt){this.elem=et,this.frameId=-1,this.dataProps=createSizedArray(tt.length),this.renderer=rt,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",tt.length?tt.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(nt);var it,at=tt.length||0,ot;for(it=0;it<at;it+=1)ot=PropertyFactory.getProp(et,tt[it].v,0,0,this),this.k=ot.k||this.k,this.dataProps[it]={n:tt[it].n,p:ot};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function(et){if(!(this.elem.globalData.frameId===this.frameId&&!et)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||et,this._mdf)){var tt=0,rt=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),tt=0;tt<rt;tt+=1)this.dataProps[tt].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[tt].p.v:this.dashArray[tt]=this.dataProps[tt].p.v:this.dashoffset[0]=this.dataProps[tt].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(et,tt,rt){this.initDynamicPropertyContainer(et),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(et,tt.o,0,.01,this),this.w=PropertyFactory.getProp(et,tt.w,0,null,this),this.d=new DashProperty(et,tt.d||{},"svg",this),this.c=PropertyFactory.getProp(et,tt.c,1,255,this),this.style=rt,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(et,tt,rt){this.initDynamicPropertyContainer(et),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(et,tt.o,0,.01,this),this.c=PropertyFactory.getProp(et,tt.c,1,255,this),this.style=rt}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(et,tt,rt){this.initDynamicPropertyContainer(et),this.getValue=this.iterateDynamicProperties,this.style=rt}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(et,tt,rt){this.data=tt,this.c=createTypedArray("uint8c",tt.p*4);var nt=tt.k.k[0].s?tt.k.k[0].s.length-tt.p*4:tt.k.k.length-tt.p*4;this.o=createTypedArray("float32",nt),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=nt,this.initDynamicPropertyContainer(rt),this.prop=PropertyFactory.getProp(et,tt.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function(et,tt){for(var rt=0,nt=this.o.length/2,it;rt<nt;){if(it=Math.abs(et[rt*4]-et[tt*4+rt*2]),it>.01)return!1;rt+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var et=0,tt=this.data.k.k.length;et<tt;){if(!this.comparePoints(this.data.k.k[et].s,this.data.p))return!1;et+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(et){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||et){var tt,rt=this.data.p*4,nt,it;for(tt=0;tt<rt;tt+=1)nt=tt%4===0?100:255,it=Math.round(this.prop.v[tt]*nt),this.c[tt]!==it&&(this.c[tt]=it,this._cmdf=!et);if(this.o.length)for(rt=this.prop.v.length,tt=this.data.p*4;tt<rt;tt+=1)nt=tt%2===0?100:1,it=tt%2===0?Math.round(this.prop.v[tt]*100):this.prop.v[tt],this.o[tt-this.data.p*4]!==it&&(this.o[tt-this.data.p*4]=it,this._omdf=!et);this._mdf=!et}},extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(et,tt,rt){this.initDynamicPropertyContainer(et),this.getValue=this.iterateDynamicProperties,this.initGradientData(et,tt,rt)}SVGGradientFillStyleData.prototype.initGradientData=function(et,tt,rt){this.o=PropertyFactory.getProp(et,tt.o,0,.01,this),this.s=PropertyFactory.getProp(et,tt.s,1,null,this),this.e=PropertyFactory.getProp(et,tt.e,1,null,this),this.h=PropertyFactory.getProp(et,tt.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(et,tt.a||{k:0},0,degToRads,this),this.g=new GradientProperty(et,tt.g,this),this.style=rt,this.stops=[],this.setGradientData(rt.pElem,tt),this.setGradientOpacity(tt,rt),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(et,tt){var rt=createElementID(),nt=createNS(tt.t===1?"linearGradient":"radialGradient");nt.setAttribute("id",rt),nt.setAttribute("spreadMethod","pad"),nt.setAttribute("gradientUnits","userSpaceOnUse");var it=[],at,ot,st;for(st=tt.g.p*4,ot=0;ot<st;ot+=4)at=createNS("stop"),nt.appendChild(at),it.push(at);et.setAttribute(tt.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+rt+")"),this.gf=nt,this.cst=it},SVGGradientFillStyleData.prototype.setGradientOpacity=function(et,tt){if(this.g._hasOpacity&&!this.g._collapsable){var rt,nt,it,at=createNS("mask"),ot=createNS("path");at.appendChild(ot);var st=createElementID(),lt=createElementID();at.setAttribute("id",lt);var ct=createNS(et.t===1?"linearGradient":"radialGradient");ct.setAttribute("id",st),ct.setAttribute("spreadMethod","pad"),ct.setAttribute("gradientUnits","userSpaceOnUse"),it=et.g.k.k[0].s?et.g.k.k[0].s.length:et.g.k.k.length;var ut=this.stops;for(nt=et.g.p*4;nt<it;nt+=2)rt=createNS("stop"),rt.setAttribute("stop-color","rgb(255,255,255)"),ct.appendChild(rt),ut.push(rt);ot.setAttribute(et.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+st+")"),et.ty==="gs"&&(ot.setAttribute("stroke-linecap",lineCapEnum[et.lc||2]),ot.setAttribute("stroke-linejoin",lineJoinEnum[et.lj||2]),et.lj===1&&ot.setAttribute("stroke-miterlimit",et.ml)),this.of=ct,this.ms=at,this.ost=ut,this.maskId=lt,tt.msElem=ot}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(et,tt,rt){this.initDynamicPropertyContainer(et),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(et,tt.w,0,null,this),this.d=new DashProperty(et,tt.d||{},"svg",this),this.initGradientData(et,tt,rt),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(et,tt,rt){this.transform={mProps:et,op:tt,container:rt},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var buildShapeString=function(tt,rt,nt,it){if(rt===0)return"";var at=tt.o,ot=tt.i,st=tt.v,lt,ct=" M"+it.applyToPointStringified(st[0][0],st[0][1]);for(lt=1;lt<rt;lt+=1)ct+=" C"+it.applyToPointStringified(at[lt-1][0],at[lt-1][1])+" "+it.applyToPointStringified(ot[lt][0],ot[lt][1])+" "+it.applyToPointStringified(st[lt][0],st[lt][1]);return nt&&rt&&(ct+=" C"+it.applyToPointStringified(at[lt-1][0],at[lt-1][1])+" "+it.applyToPointStringified(ot[0][0],ot[0][1])+" "+it.applyToPointStringified(st[0][0],st[0][1]),ct+="z"),ct},SVGElementsRenderer=function(){var et=new Matrix,tt=new Matrix,rt={createRenderFunction:nt};function nt(ft){switch(ft.ty){case"fl":return st;case"gf":return ct;case"gs":return lt;case"st":return ut;case"sh":case"el":case"rc":case"sr":return ot;case"tr":return it;case"no":return at;default:return null}}function it(ft,ht,dt){(dt||ht.transform.op._mdf)&&ht.transform.container.setAttribute("opacity",ht.transform.op.v),(dt||ht.transform.mProps._mdf)&&ht.transform.container.setAttribute("transform",ht.transform.mProps.v.to2dCSS())}function at(){}function ot(ft,ht,dt){var vt,yt,xt,_t,mt,pt,bt=ht.styles.length,Et=ht.lvl,St,Tt,Pt,Rt;for(pt=0;pt<bt;pt+=1){if(_t=ht.sh._mdf||dt,ht.styles[pt].lvl<Et){for(Tt=tt.reset(),Pt=Et-ht.styles[pt].lvl,Rt=ht.transformers.length-1;!_t&&Pt>0;)_t=ht.transformers[Rt].mProps._mdf||_t,Pt-=1,Rt-=1;if(_t)for(Pt=Et-ht.styles[pt].lvl,Rt=ht.transformers.length-1;Pt>0;)Tt.multiply(ht.transformers[Rt].mProps.v),Pt-=1,Rt-=1}else Tt=et;if(St=ht.sh.paths,yt=St._length,_t){for(xt="",vt=0;vt<yt;vt+=1)mt=St.shapes[vt],mt&&mt._length&&(xt+=buildShapeString(mt,mt._length,mt.c,Tt));ht.caches[pt]=xt}else xt=ht.caches[pt];ht.styles[pt].d+=ft.hd===!0?"":xt,ht.styles[pt]._mdf=_t||ht.styles[pt]._mdf}}function st(ft,ht,dt){var vt=ht.style;(ht.c._mdf||dt)&&vt.pElem.setAttribute("fill","rgb("+bmFloor(ht.c.v[0])+","+bmFloor(ht.c.v[1])+","+bmFloor(ht.c.v[2])+")"),(ht.o._mdf||dt)&&vt.pElem.setAttribute("fill-opacity",ht.o.v)}function lt(ft,ht,dt){ct(ft,ht,dt),ut(ft,ht,dt)}function ct(ft,ht,dt){var vt=ht.gf,yt=ht.g._hasOpacity,xt=ht.s.v,_t=ht.e.v;if(ht.o._mdf||dt){var mt=ft.ty==="gf"?"fill-opacity":"stroke-opacity";ht.style.pElem.setAttribute(mt,ht.o.v)}if(ht.s._mdf||dt){var pt=ft.t===1?"x1":"cx",bt=pt==="x1"?"y1":"cy";vt.setAttribute(pt,xt[0]),vt.setAttribute(bt,xt[1]),yt&&!ht.g._collapsable&&(ht.of.setAttribute(pt,xt[0]),ht.of.setAttribute(bt,xt[1]))}var Et,St,Tt,Pt;if(ht.g._cmdf||dt){Et=ht.cst;var Rt=ht.g.c;for(Tt=Et.length,St=0;St<Tt;St+=1)Pt=Et[St],Pt.setAttribute("offset",Rt[St*4]+"%"),Pt.setAttribute("stop-color","rgb("+Rt[St*4+1]+","+Rt[St*4+2]+","+Rt[St*4+3]+")")}if(yt&&(ht.g._omdf||dt)){var It=ht.g.o;for(ht.g._collapsable?Et=ht.cst:Et=ht.ost,Tt=Et.length,St=0;St<Tt;St+=1)Pt=Et[St],ht.g._collapsable||Pt.setAttribute("offset",It[St*2]+"%"),Pt.setAttribute("stop-opacity",It[St*2+1])}if(ft.t===1)(ht.e._mdf||dt)&&(vt.setAttribute("x2",_t[0]),vt.setAttribute("y2",_t[1]),yt&&!ht.g._collapsable&&(ht.of.setAttribute("x2",_t[0]),ht.of.setAttribute("y2",_t[1])));else{var $t;if((ht.s._mdf||ht.e._mdf||dt)&&($t=Math.sqrt(Math.pow(xt[0]-_t[0],2)+Math.pow(xt[1]-_t[1],2)),vt.setAttribute("r",$t),yt&&!ht.g._collapsable&&ht.of.setAttribute("r",$t)),ht.e._mdf||ht.h._mdf||ht.a._mdf||dt){$t||($t=Math.sqrt(Math.pow(xt[0]-_t[0],2)+Math.pow(xt[1]-_t[1],2)));var kt=Math.atan2(_t[1]-xt[1],_t[0]-xt[0]),Ct=ht.h.v;Ct>=1?Ct=.99:Ct<=-1&&(Ct=-.99);var Bt=$t*Ct,Ft=Math.cos(kt+ht.a.v)*Bt+xt[0],Dt=Math.sin(kt+ht.a.v)*Bt+xt[1];vt.setAttribute("fx",Ft),vt.setAttribute("fy",Dt),yt&&!ht.g._collapsable&&(ht.of.setAttribute("fx",Ft),ht.of.setAttribute("fy",Dt))}}}function ut(ft,ht,dt){var vt=ht.style,yt=ht.d;yt&&(yt._mdf||dt)&&yt.dashStr&&(vt.pElem.setAttribute("stroke-dasharray",yt.dashStr),vt.pElem.setAttribute("stroke-dashoffset",yt.dashoffset[0])),ht.c&&(ht.c._mdf||dt)&&vt.pElem.setAttribute("stroke","rgb("+bmFloor(ht.c.v[0])+","+bmFloor(ht.c.v[1])+","+bmFloor(ht.c.v[2])+")"),(ht.o._mdf||dt)&&vt.pElem.setAttribute("stroke-opacity",ht.o.v),(ht.w._mdf||dt)&&(vt.pElem.setAttribute("stroke-width",ht.w.v),vt.msElem&&vt.msElem.setAttribute("stroke-width",ht.w.v))}return rt}();function SVGShapeElement(et,tt,rt){this.shapes=[],this.shapesData=et.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(et,tt,rt),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var et,tt=this.shapes.length,rt,nt,it=this.stylesList.length,at,ot=[],st=!1;for(nt=0;nt<it;nt+=1){for(at=this.stylesList[nt],st=!1,ot.length=0,et=0;et<tt;et+=1)rt=this.shapes[et],rt.styles.indexOf(at)!==-1&&(ot.push(rt),st=rt._isAnimated||st);ot.length>1&&st&&this.setShapesAsAnimated(ot)}},SVGShapeElement.prototype.setShapesAsAnimated=function(et){var tt,rt=et.length;for(tt=0;tt<rt;tt+=1)et[tt].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(et,tt){var rt,nt=new SVGStyleData(et,tt),it=nt.pElem;if(et.ty==="st")rt=new SVGStrokeStyleData(this,et,nt);else if(et.ty==="fl")rt=new SVGFillStyleData(this,et,nt);else if(et.ty==="gf"||et.ty==="gs"){var at=et.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;rt=new at(this,et,nt),this.globalData.defs.appendChild(rt.gf),rt.maskId&&(this.globalData.defs.appendChild(rt.ms),this.globalData.defs.appendChild(rt.of),it.setAttribute("mask","url("+getLocationHref()+"#"+rt.maskId+")"))}else et.ty==="no"&&(rt=new SVGNoStyleData(this,et,nt));return(et.ty==="st"||et.ty==="gs")&&(it.setAttribute("stroke-linecap",lineCapEnum[et.lc||2]),it.setAttribute("stroke-linejoin",lineJoinEnum[et.lj||2]),it.setAttribute("fill-opacity","0"),et.lj===1&&it.setAttribute("stroke-miterlimit",et.ml)),et.r===2&&it.setAttribute("fill-rule","evenodd"),et.ln&&it.setAttribute("id",et.ln),et.cl&&it.setAttribute("class",et.cl),et.bm&&(it.style["mix-blend-mode"]=getBlendMode(et.bm)),this.stylesList.push(nt),this.addToAnimatedContents(et,rt),rt},SVGShapeElement.prototype.createGroupElement=function(et){var tt=new ShapeGroupData;return et.ln&&tt.gr.setAttribute("id",et.ln),et.cl&&tt.gr.setAttribute("class",et.cl),et.bm&&(tt.gr.style["mix-blend-mode"]=getBlendMode(et.bm)),tt},SVGShapeElement.prototype.createTransformElement=function(et,tt){var rt=TransformPropertyFactory.getTransformProperty(this,et,this),nt=new SVGTransformData(rt,rt.o,tt);return this.addToAnimatedContents(et,nt),nt},SVGShapeElement.prototype.createShapeElement=function(et,tt,rt){var nt=4;et.ty==="rc"?nt=5:et.ty==="el"?nt=6:et.ty==="sr"&&(nt=7);var it=ShapePropertyFactory.getShapeProp(this,et,nt,this),at=new SVGShapeData(tt,rt,it);return this.shapes.push(at),this.addShapeToModifiers(at),this.addToAnimatedContents(et,at),at},SVGShapeElement.prototype.addToAnimatedContents=function(et,tt){for(var rt=0,nt=this.animatedContents.length;rt<nt;){if(this.animatedContents[rt].element===tt)return;rt+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(et),element:tt,data:et})},SVGShapeElement.prototype.setElementStyles=function(et){var tt=et.styles,rt,nt=this.stylesList.length;for(rt=0;rt<nt;rt+=1)this.stylesList[rt].closed||tt.push(this.stylesList[rt])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var et,tt=this.itemsData.length;for(et=0;et<tt;et+=1)this.prevViewData[et]=this.itemsData[et];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),tt=this.dynamicProperties.length,et=0;et<tt;et+=1)this.dynamicProperties[et].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(et,tt,rt,nt,it,at,ot){var st=[].concat(at),lt,ct=et.length-1,ut,ft,ht=[],dt=[],vt,yt,xt;for(lt=ct;lt>=0;lt-=1){if(xt=this.searchProcessedElement(et[lt]),xt?tt[lt]=rt[xt-1]:et[lt]._render=ot,et[lt].ty==="fl"||et[lt].ty==="st"||et[lt].ty==="gf"||et[lt].ty==="gs"||et[lt].ty==="no")xt?tt[lt].style.closed=!1:tt[lt]=this.createStyleElement(et[lt],it),et[lt]._render&&tt[lt].style.pElem.parentNode!==nt&&nt.appendChild(tt[lt].style.pElem),ht.push(tt[lt].style);else if(et[lt].ty==="gr"){if(!xt)tt[lt]=this.createGroupElement(et[lt]);else for(ft=tt[lt].it.length,ut=0;ut<ft;ut+=1)tt[lt].prevViewData[ut]=tt[lt].it[ut];this.searchShapes(et[lt].it,tt[lt].it,tt[lt].prevViewData,tt[lt].gr,it+1,st,ot),et[lt]._render&&tt[lt].gr.parentNode!==nt&&nt.appendChild(tt[lt].gr)}else et[lt].ty==="tr"?(xt||(tt[lt]=this.createTransformElement(et[lt],nt)),vt=tt[lt].transform,st.push(vt)):et[lt].ty==="sh"||et[lt].ty==="rc"||et[lt].ty==="el"||et[lt].ty==="sr"?(xt||(tt[lt]=this.createShapeElement(et[lt],st,it)),this.setElementStyles(tt[lt])):et[lt].ty==="tm"||et[lt].ty==="rd"||et[lt].ty==="ms"||et[lt].ty==="pb"||et[lt].ty==="zz"||et[lt].ty==="op"?(xt?(yt=tt[lt],yt.closed=!1):(yt=ShapeModifiers.getModifier(et[lt].ty),yt.init(this,et[lt]),tt[lt]=yt,this.shapeModifiers.push(yt)),dt.push(yt)):et[lt].ty==="rp"&&(xt?(yt=tt[lt],yt.closed=!0):(yt=ShapeModifiers.getModifier(et[lt].ty),tt[lt]=yt,yt.init(this,et,lt,tt),this.shapeModifiers.push(yt),ot=!1),dt.push(yt));this.addProcessedElement(et[lt],lt+1)}for(ct=ht.length,lt=0;lt<ct;lt+=1)ht[lt].closed=!0;for(ct=dt.length,lt=0;lt<ct;lt+=1)dt[lt].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var et,tt=this.stylesList.length;for(et=0;et<tt;et+=1)this.stylesList[et].reset();for(this.renderShape(),et=0;et<tt;et+=1)(this.stylesList[et]._mdf||this._isFirstFrame)&&(this.stylesList[et].msElem&&(this.stylesList[et].msElem.setAttribute("d",this.stylesList[et].d),this.stylesList[et].d="M0 0"+this.stylesList[et].d),this.stylesList[et].pElem.setAttribute("d",this.stylesList[et].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var et,tt=this.animatedContents.length,rt;for(et=0;et<tt;et+=1)rt=this.animatedContents[et],(this._isFirstFrame||rt.element._isAnimated)&&rt.data!==!0&&rt.fn(rt.data,rt.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function LetterProps(et,tt,rt,nt,it,at){this.o=et,this.sw=tt,this.sc=rt,this.fc=nt,this.m=it,this.p=at,this._mdf={o:!0,sw:!!tt,sc:!!rt,fc:!!nt,m:!0,p:!0}}LetterProps.prototype.update=function(et,tt,rt,nt,it,at){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var ot=!1;return this.o!==et&&(this.o=et,this._mdf.o=!0,ot=!0),this.sw!==tt&&(this.sw=tt,this._mdf.sw=!0,ot=!0),this.sc!==rt&&(this.sc=rt,this._mdf.sc=!0,ot=!0),this.fc!==nt&&(this.fc=nt,this._mdf.fc=!0,ot=!0),this.m!==it&&(this.m=it,this._mdf.m=!0,ot=!0),at.length&&(this.p[0]!==at[0]||this.p[1]!==at[1]||this.p[4]!==at[4]||this.p[5]!==at[5]||this.p[12]!==at[12]||this.p[13]!==at[13])&&(this.p=at,this._mdf.p=!0,ot=!0),ot};function TextProperty(et,tt){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,tt.d&&tt.d.sid&&(tt.d=et.globalData.slotManager.getProp(tt.d)),this.data=tt,this.elem=et,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(et,tt){for(var rt in tt)Object.prototype.hasOwnProperty.call(tt,rt)&&(et[rt]=tt[rt]);return et},TextProperty.prototype.setCurrentData=function(et){et.__complete||this.completeTextData(et),this.currentData=et,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(et){this.effectsSequence.push(et),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(et){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!et)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var tt=this.currentData,rt=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var nt,it=this.effectsSequence.length,at=et||this.data.d.k[this.keysIndex].s;for(nt=0;nt<it;nt+=1)rt!==this.keysIndex?at=this.effectsSequence[nt](at,at.t):at=this.effectsSequence[nt](this.currentData,at.t);tt!==at&&this.setCurrentData(at),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var et=this.data.d.k,tt=this.elem.comp.renderedFrame,rt=0,nt=et.length;rt<=nt-1&&!(rt===nt-1||et[rt+1].t>tt);)rt+=1;return this.keysIndex!==rt&&(this.keysIndex=rt),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(et){for(var tt=[],rt=0,nt=et.length,it,at,ot=!1,st=!1,lt="";rt<nt;)ot=st,st=!1,it=et.charCodeAt(rt),lt=et.charAt(rt),FontManager.isCombinedCharacter(it)?ot=!0:it>=55296&&it<=56319?FontManager.isRegionalFlag(et,rt)?lt=et.substr(rt,14):(at=et.charCodeAt(rt+1),at>=56320&&at<=57343&&(FontManager.isModifier(it,at)?(lt=et.substr(rt,2),ot=!0):FontManager.isFlagEmoji(et.substr(rt,4))?lt=et.substr(rt,4):lt=et.substr(rt,2))):it>56319?(at=et.charCodeAt(rt+1),FontManager.isVariationSelector(it)&&(ot=!0)):FontManager.isZeroWidthJoiner(it)&&(ot=!0,st=!0),ot?(tt[tt.length-1]+=lt,ot=!1):tt.push(lt),rt+=lt.length;return tt},TextProperty.prototype.completeTextData=function(et){et.__complete=!0;var tt=this.elem.globalData.fontManager,rt=this.data,nt=[],it,at,ot,st=0,lt,ct=rt.m.g,ut=0,ft=0,ht=0,dt=[],vt=0,yt=0,xt,_t,mt=tt.getFontByName(et.f),pt,bt=0,Et=getFontProperties(mt);et.fWeight=Et.weight,et.fStyle=Et.style,et.finalSize=et.s,et.finalText=this.buildFinalText(et.t),at=et.finalText.length,et.finalLineHeight=et.lh;var St=et.tr/1e3*et.finalSize,Tt;if(et.sz)for(var Pt=!0,Rt=et.sz[0],It=et.sz[1],$t,kt;Pt;){kt=this.buildFinalText(et.t),$t=0,vt=0,at=kt.length,St=et.tr/1e3*et.finalSize;var Ct=-1;for(it=0;it<at;it+=1)Tt=kt[it].charCodeAt(0),ot=!1,kt[it]===" "?Ct=it:(Tt===13||Tt===3)&&(vt=0,ot=!0,$t+=et.finalLineHeight||et.finalSize*1.2),tt.chars?(pt=tt.getCharData(kt[it],mt.fStyle,mt.fFamily),bt=ot?0:pt.w*et.finalSize/100):bt=tt.measureText(kt[it],et.f,et.finalSize),vt+bt>Rt&&kt[it]!==" "?(Ct===-1?at+=1:it=Ct,$t+=et.finalLineHeight||et.finalSize*1.2,kt.splice(it,Ct===it?1:0,"\r"),Ct=-1,vt=0):(vt+=bt,vt+=St);$t+=mt.ascent*et.finalSize/100,this.canResize&&et.finalSize>this.minimumFontSize&&It<$t?(et.finalSize-=1,et.finalLineHeight=et.finalSize*et.lh/et.s):(et.finalText=kt,at=et.finalText.length,Pt=!1)}vt=-St,bt=0;var Bt=0,Ft;for(it=0;it<at;it+=1)if(ot=!1,Ft=et.finalText[it],Tt=Ft.charCodeAt(0),Tt===13||Tt===3?(Bt=0,dt.push(vt),yt=vt>yt?vt:yt,vt=-2*St,lt="",ot=!0,ht+=1):lt=Ft,tt.chars?(pt=tt.getCharData(Ft,mt.fStyle,tt.getFontByName(et.f).fFamily),bt=ot?0:pt.w*et.finalSize/100):bt=tt.measureText(lt,et.f,et.finalSize),Ft===" "?Bt+=bt+St:(vt+=bt+St+Bt,Bt=0),nt.push({l:bt,an:bt,add:ut,n:ot,anIndexes:[],val:lt,line:ht,animatorJustifyOffset:0}),ct==2){if(ut+=bt,lt===""||lt===" "||it===at-1){for((lt===""||lt===" ")&&(ut-=bt);ft<=it;)nt[ft].an=ut,nt[ft].ind=st,nt[ft].extra=bt,ft+=1;st+=1,ut=0}}else if(ct==3){if(ut+=bt,lt===""||it===at-1){for(lt===""&&(ut-=bt);ft<=it;)nt[ft].an=ut,nt[ft].ind=st,nt[ft].extra=bt,ft+=1;ut=0,st+=1}}else nt[st].ind=st,nt[st].extra=0,st+=1;if(et.l=nt,yt=vt>yt?vt:yt,dt.push(vt),et.sz)et.boxWidth=et.sz[0],et.justifyOffset=0;else switch(et.boxWidth=yt,et.j){case 1:et.justifyOffset=-et.boxWidth;break;case 2:et.justifyOffset=-et.boxWidth/2;break;default:et.justifyOffset=0}et.lineWidths=dt;var Dt=rt.a,Mt,wt;_t=Dt.length;var Ot,Lt,Vt=[];for(xt=0;xt<_t;xt+=1){for(Mt=Dt[xt],Mt.a.sc&&(et.strokeColorAnim=!0),Mt.a.sw&&(et.strokeWidthAnim=!0),(Mt.a.fc||Mt.a.fh||Mt.a.fs||Mt.a.fb)&&(et.fillColorAnim=!0),Lt=0,Ot=Mt.s.b,it=0;it<at;it+=1)wt=nt[it],wt.anIndexes[xt]=Lt,(Ot==1&&wt.val!==""||Ot==2&&wt.val!==""&&wt.val!==" "||Ot==3&&(wt.n||wt.val==" "||it==at-1)||Ot==4&&(wt.n||it==at-1))&&(Mt.s.rn===1&&Vt.push(Lt),Lt+=1);rt.a[xt].s.totalChars=Lt;var zt=-1,Yt;if(Mt.s.rn===1)for(it=0;it<at;it+=1)wt=nt[it],zt!=wt.anIndexes[xt]&&(zt=wt.anIndexes[xt],Yt=Vt.splice(Math.floor(Math.random()*Vt.length),1)[0]),wt.anIndexes[xt]=Yt}et.yOffset=et.finalLineHeight||et.finalSize*1.2,et.ls=et.ls||0,et.ascent=mt.ascent*et.finalSize/100},TextProperty.prototype.updateDocumentData=function(et,tt){tt=tt===void 0?this.keysIndex:tt;var rt=this.copyData({},this.data.d.k[tt].s);rt=this.copyData(rt,et),this.data.d.k[tt].s=rt,this.recalculate(tt),this.setCurrentData(rt),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(et){var tt=this.data.d.k[et].s;tt.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(tt)},TextProperty.prototype.canResizeFont=function(et){this.canResize=et,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(et){this.minimumFontSize=Math.floor(et)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var et=Math.max,tt=Math.min,rt=Math.floor;function nt(at,ot){this._currentTextLength=-1,this.k=!1,this.data=ot,this.elem=at,this.comp=at.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(at),this.s=PropertyFactory.getProp(at,ot.s||{k:0},0,0,this),"e"in ot?this.e=PropertyFactory.getProp(at,ot.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(at,ot.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(at,ot.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(at,ot.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(at,ot.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(at,ot.a,0,.01,this),this.dynamicProperties.length||this.getValue()}nt.prototype={getMult:function(ot){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var st=0,lt=0,ct=1,ut=1;this.ne.v>0?st=this.ne.v/100:lt=-this.ne.v/100,this.xe.v>0?ct=1-this.xe.v/100:ut=1+this.xe.v/100;var ft=BezierFactory.getBezierEasing(st,lt,ct,ut).get,ht=0,dt=this.finalS,vt=this.finalE,yt=this.data.sh;if(yt===2)vt===dt?ht=ot>=vt?1:0:ht=et(0,tt(.5/(vt-dt)+(ot-dt)/(vt-dt),1)),ht=ft(ht);else if(yt===3)vt===dt?ht=ot>=vt?0:1:ht=1-et(0,tt(.5/(vt-dt)+(ot-dt)/(vt-dt),1)),ht=ft(ht);else if(yt===4)vt===dt?ht=0:(ht=et(0,tt(.5/(vt-dt)+(ot-dt)/(vt-dt),1)),ht<.5?ht*=2:ht=1-2*(ht-.5)),ht=ft(ht);else if(yt===5){if(vt===dt)ht=0;else{var xt=vt-dt;ot=tt(et(0,ot+.5-dt),vt-dt);var _t=-xt/2+ot,mt=xt/2;ht=Math.sqrt(1-_t*_t/(mt*mt))}ht=ft(ht)}else yt===6?(vt===dt?ht=0:(ot=tt(et(0,ot+.5-dt),vt-dt),ht=(1+Math.cos(Math.PI+Math.PI*2*ot/(vt-dt)))/2),ht=ft(ht)):(ot>=rt(dt)&&(ot-dt<0?ht=et(0,tt(tt(vt,1)-(dt-ot),1)):ht=et(0,tt(vt-ot,1))),ht=ft(ht));if(this.sm.v!==100){var pt=this.sm.v*.01;pt===0&&(pt=1e-8);var bt=.5-pt*.5;ht<bt?ht=0:(ht=(ht-bt)/pt,ht>1&&(ht=1))}return ht*this.a.v},getValue:function(ot){this.iterateDynamicProperties(),this._mdf=ot||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,ot&&this.data.r===2&&(this.e.v=this._currentTextLength);var st=this.data.r===2?1:100/this.data.totalChars,lt=this.o.v/st,ct=this.s.v/st+lt,ut=this.e.v/st+lt;if(ct>ut){var ft=ct;ct=ut,ut=ft}this.finalS=ct,this.finalE=ut}},extendPrototype([DynamicPropertyContainer],nt);function it(at,ot,st){return new nt(at,ot)}return{getTextSelectorProp:it}}();function TextAnimatorDataProperty(et,tt,rt){var nt={propType:!1},it=PropertyFactory.getProp,at=tt.a;this.a={r:at.r?it(et,at.r,0,degToRads,rt):nt,rx:at.rx?it(et,at.rx,0,degToRads,rt):nt,ry:at.ry?it(et,at.ry,0,degToRads,rt):nt,sk:at.sk?it(et,at.sk,0,degToRads,rt):nt,sa:at.sa?it(et,at.sa,0,degToRads,rt):nt,s:at.s?it(et,at.s,1,.01,rt):nt,a:at.a?it(et,at.a,1,0,rt):nt,o:at.o?it(et,at.o,0,.01,rt):nt,p:at.p?it(et,at.p,1,0,rt):nt,sw:at.sw?it(et,at.sw,0,0,rt):nt,sc:at.sc?it(et,at.sc,1,0,rt):nt,fc:at.fc?it(et,at.fc,1,0,rt):nt,fh:at.fh?it(et,at.fh,0,0,rt):nt,fs:at.fs?it(et,at.fs,0,.01,rt):nt,fb:at.fb?it(et,at.fb,0,.01,rt):nt,t:at.t?it(et,at.t,0,0,rt):nt},this.s=TextSelectorProp.getTextSelectorProp(et,tt.s,rt),this.s.t=tt.s.t}function TextAnimatorProperty(et,tt,rt){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=et,this._renderType=tt,this._elem=rt,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(rt)}TextAnimatorProperty.prototype.searchProperties=function(){var et,tt=this._textData.a.length,rt,nt=PropertyFactory.getProp;for(et=0;et<tt;et+=1)rt=this._textData.a[et],this._animatorsData[et]=new TextAnimatorDataProperty(this._elem,rt,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:nt(this._elem,this._textData.p.a,0,0,this),f:nt(this._elem,this._textData.p.f,0,0,this),l:nt(this._elem,this._textData.p.l,0,0,this),r:nt(this._elem,this._textData.p.r,0,0,this),p:nt(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=nt(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(et,tt){if(this.lettersChangedFlag=tt,!(!this._mdf&&!this._isFirstFrame&&!tt&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var rt=this._moreOptions.alignment.v,nt=this._animatorsData,it=this._textData,at=this.mHelper,ot=this._renderType,st=this.renderedLetters.length,lt,ct,ut,ft,ht=et.l,dt,vt,yt,xt,_t,mt,pt,bt,Et,St,Tt,Pt,Rt,It,$t;if(this._hasMaskedPath){if($t=this._pathData.m,!this._pathData.n||this._pathData._mdf){var kt=$t.v;this._pathData.r.v&&(kt=kt.reverse()),dt={tLength:0,segments:[]},ft=kt._length-1;var Ct;for(Pt=0,ut=0;ut<ft;ut+=1)Ct=bez.buildBezierData(kt.v[ut],kt.v[ut+1],[kt.o[ut][0]-kt.v[ut][0],kt.o[ut][1]-kt.v[ut][1]],[kt.i[ut+1][0]-kt.v[ut+1][0],kt.i[ut+1][1]-kt.v[ut+1][1]]),dt.tLength+=Ct.segmentLength,dt.segments.push(Ct),Pt+=Ct.segmentLength;ut=ft,$t.v.c&&(Ct=bez.buildBezierData(kt.v[ut],kt.v[0],[kt.o[ut][0]-kt.v[ut][0],kt.o[ut][1]-kt.v[ut][1]],[kt.i[0][0]-kt.v[0][0],kt.i[0][1]-kt.v[0][1]]),dt.tLength+=Ct.segmentLength,dt.segments.push(Ct),Pt+=Ct.segmentLength),this._pathData.pi=dt}if(dt=this._pathData.pi,vt=this._pathData.f.v,pt=0,mt=1,xt=0,_t=!0,St=dt.segments,vt<0&&$t.v.c)for(dt.tLength<Math.abs(vt)&&(vt=-Math.abs(vt)%dt.tLength),pt=St.length-1,Et=St[pt].points,mt=Et.length-1;vt<0;)vt+=Et[mt].partialLength,mt-=1,mt<0&&(pt-=1,Et=St[pt].points,mt=Et.length-1);Et=St[pt].points,bt=Et[mt-1],yt=Et[mt],Tt=yt.partialLength}ft=ht.length,lt=0,ct=0;var Bt=et.finalSize*1.2*.714,Ft=!0,Dt,Mt,wt,Ot,Lt;Ot=nt.length;var Vt,zt=-1,Yt,nr,cr,hr=vt,Jt=pt,ur=mt,Xt=-1,Zt,ir,Wt,sr,Qt,_r,br,Er,Ut="",qt=this.defaultPropsArray,Ht;if(et.j===2||et.j===1){var tr=0,rr=0,er=et.j===2?-.5:-1,lr=0,mr=!0;for(ut=0;ut<ft;ut+=1)if(ht[ut].n){for(tr&&(tr+=rr);lr<ut;)ht[lr].animatorJustifyOffset=tr,lr+=1;tr=0,mr=!0}else{for(wt=0;wt<Ot;wt+=1)Dt=nt[wt].a,Dt.t.propType&&(mr&&et.j===2&&(rr+=Dt.t.v*er),Mt=nt[wt].s,Vt=Mt.getMult(ht[ut].anIndexes[wt],it.a[wt].s.totalChars),Vt.length?tr+=Dt.t.v*Vt[0]*er:tr+=Dt.t.v*Vt*er);mr=!1}for(tr&&(tr+=rr);lr<ut;)ht[lr].animatorJustifyOffset=tr,lr+=1}for(ut=0;ut<ft;ut+=1){if(at.reset(),Zt=1,ht[ut].n)lt=0,ct+=et.yOffset,ct+=Ft?1:0,vt=hr,Ft=!1,this._hasMaskedPath&&(pt=Jt,mt=ur,Et=St[pt].points,bt=Et[mt-1],yt=Et[mt],Tt=yt.partialLength,xt=0),Ut="",Er="",_r="",Ht="",qt=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Xt!==ht[ut].line){switch(et.j){case 1:vt+=Pt-et.lineWidths[ht[ut].line];break;case 2:vt+=(Pt-et.lineWidths[ht[ut].line])/2;break}Xt=ht[ut].line}zt!==ht[ut].ind&&(ht[zt]&&(vt+=ht[zt].extra),vt+=ht[ut].an/2,zt=ht[ut].ind),vt+=rt[0]*ht[ut].an*.005;var pr=0;for(wt=0;wt<Ot;wt+=1)Dt=nt[wt].a,Dt.p.propType&&(Mt=nt[wt].s,Vt=Mt.getMult(ht[ut].anIndexes[wt],it.a[wt].s.totalChars),Vt.length?pr+=Dt.p.v[0]*Vt[0]:pr+=Dt.p.v[0]*Vt),Dt.a.propType&&(Mt=nt[wt].s,Vt=Mt.getMult(ht[ut].anIndexes[wt],it.a[wt].s.totalChars),Vt.length?pr+=Dt.a.v[0]*Vt[0]:pr+=Dt.a.v[0]*Vt);for(_t=!0,this._pathData.a.v&&(vt=ht[0].an*.5+(Pt-this._pathData.f.v-ht[0].an*.5-ht[ht.length-1].an*.5)*zt/(ft-1),vt+=this._pathData.f.v);_t;)xt+Tt>=vt+pr||!Et?(Rt=(vt+pr-xt)/yt.partialLength,nr=bt.point[0]+(yt.point[0]-bt.point[0])*Rt,cr=bt.point[1]+(yt.point[1]-bt.point[1])*Rt,at.translate(-rt[0]*ht[ut].an*.005,-(rt[1]*Bt)*.01),_t=!1):Et&&(xt+=yt.partialLength,mt+=1,mt>=Et.length&&(mt=0,pt+=1,St[pt]?Et=St[pt].points:$t.v.c?(mt=0,pt=0,Et=St[pt].points):(xt-=yt.partialLength,Et=null)),Et&&(bt=yt,yt=Et[mt],Tt=yt.partialLength));Yt=ht[ut].an/2-ht[ut].add,at.translate(-Yt,0,0)}else Yt=ht[ut].an/2-ht[ut].add,at.translate(-Yt,0,0),at.translate(-rt[0]*ht[ut].an*.005,-rt[1]*Bt*.01,0);for(wt=0;wt<Ot;wt+=1)Dt=nt[wt].a,Dt.t.propType&&(Mt=nt[wt].s,Vt=Mt.getMult(ht[ut].anIndexes[wt],it.a[wt].s.totalChars),(lt!==0||et.j!==0)&&(this._hasMaskedPath?Vt.length?vt+=Dt.t.v*Vt[0]:vt+=Dt.t.v*Vt:Vt.length?lt+=Dt.t.v*Vt[0]:lt+=Dt.t.v*Vt));for(et.strokeWidthAnim&&(Wt=et.sw||0),et.strokeColorAnim&&(et.sc?ir=[et.sc[0],et.sc[1],et.sc[2]]:ir=[0,0,0]),et.fillColorAnim&&et.fc&&(sr=[et.fc[0],et.fc[1],et.fc[2]]),wt=0;wt<Ot;wt+=1)Dt=nt[wt].a,Dt.a.propType&&(Mt=nt[wt].s,Vt=Mt.getMult(ht[ut].anIndexes[wt],it.a[wt].s.totalChars),Vt.length?at.translate(-Dt.a.v[0]*Vt[0],-Dt.a.v[1]*Vt[1],Dt.a.v[2]*Vt[2]):at.translate(-Dt.a.v[0]*Vt,-Dt.a.v[1]*Vt,Dt.a.v[2]*Vt));for(wt=0;wt<Ot;wt+=1)Dt=nt[wt].a,Dt.s.propType&&(Mt=nt[wt].s,Vt=Mt.getMult(ht[ut].anIndexes[wt],it.a[wt].s.totalChars),Vt.length?at.scale(1+(Dt.s.v[0]-1)*Vt[0],1+(Dt.s.v[1]-1)*Vt[1],1):at.scale(1+(Dt.s.v[0]-1)*Vt,1+(Dt.s.v[1]-1)*Vt,1));for(wt=0;wt<Ot;wt+=1){if(Dt=nt[wt].a,Mt=nt[wt].s,Vt=Mt.getMult(ht[ut].anIndexes[wt],it.a[wt].s.totalChars),Dt.sk.propType&&(Vt.length?at.skewFromAxis(-Dt.sk.v*Vt[0],Dt.sa.v*Vt[1]):at.skewFromAxis(-Dt.sk.v*Vt,Dt.sa.v*Vt)),Dt.r.propType&&(Vt.length?at.rotateZ(-Dt.r.v*Vt[2]):at.rotateZ(-Dt.r.v*Vt)),Dt.ry.propType&&(Vt.length?at.rotateY(Dt.ry.v*Vt[1]):at.rotateY(Dt.ry.v*Vt)),Dt.rx.propType&&(Vt.length?at.rotateX(Dt.rx.v*Vt[0]):at.rotateX(Dt.rx.v*Vt)),Dt.o.propType&&(Vt.length?Zt+=(Dt.o.v*Vt[0]-Zt)*Vt[0]:Zt+=(Dt.o.v*Vt-Zt)*Vt),et.strokeWidthAnim&&Dt.sw.propType&&(Vt.length?Wt+=Dt.sw.v*Vt[0]:Wt+=Dt.sw.v*Vt),et.strokeColorAnim&&Dt.sc.propType)for(Qt=0;Qt<3;Qt+=1)Vt.length?ir[Qt]+=(Dt.sc.v[Qt]-ir[Qt])*Vt[0]:ir[Qt]+=(Dt.sc.v[Qt]-ir[Qt])*Vt;if(et.fillColorAnim&&et.fc){if(Dt.fc.propType)for(Qt=0;Qt<3;Qt+=1)Vt.length?sr[Qt]+=(Dt.fc.v[Qt]-sr[Qt])*Vt[0]:sr[Qt]+=(Dt.fc.v[Qt]-sr[Qt])*Vt;Dt.fh.propType&&(Vt.length?sr=addHueToRGB(sr,Dt.fh.v*Vt[0]):sr=addHueToRGB(sr,Dt.fh.v*Vt)),Dt.fs.propType&&(Vt.length?sr=addSaturationToRGB(sr,Dt.fs.v*Vt[0]):sr=addSaturationToRGB(sr,Dt.fs.v*Vt)),Dt.fb.propType&&(Vt.length?sr=addBrightnessToRGB(sr,Dt.fb.v*Vt[0]):sr=addBrightnessToRGB(sr,Dt.fb.v*Vt))}}for(wt=0;wt<Ot;wt+=1)Dt=nt[wt].a,Dt.p.propType&&(Mt=nt[wt].s,Vt=Mt.getMult(ht[ut].anIndexes[wt],it.a[wt].s.totalChars),this._hasMaskedPath?Vt.length?at.translate(0,Dt.p.v[1]*Vt[0],-Dt.p.v[2]*Vt[1]):at.translate(0,Dt.p.v[1]*Vt,-Dt.p.v[2]*Vt):Vt.length?at.translate(Dt.p.v[0]*Vt[0],Dt.p.v[1]*Vt[1],-Dt.p.v[2]*Vt[2]):at.translate(Dt.p.v[0]*Vt,Dt.p.v[1]*Vt,-Dt.p.v[2]*Vt));if(et.strokeWidthAnim&&(_r=Wt<0?0:Wt),et.strokeColorAnim&&(br="rgb("+Math.round(ir[0]*255)+","+Math.round(ir[1]*255)+","+Math.round(ir[2]*255)+")"),et.fillColorAnim&&et.fc&&(Er="rgb("+Math.round(sr[0]*255)+","+Math.round(sr[1]*255)+","+Math.round(sr[2]*255)+")"),this._hasMaskedPath){if(at.translate(0,-et.ls),at.translate(0,rt[1]*Bt*.01+ct,0),this._pathData.p.v){It=(yt.point[1]-bt.point[1])/(yt.point[0]-bt.point[0]);var yr=Math.atan(It)*180/Math.PI;yt.point[0]<bt.point[0]&&(yr+=180),at.rotate(-yr*Math.PI/180)}at.translate(nr,cr,0),vt-=rt[0]*ht[ut].an*.005,ht[ut+1]&&zt!==ht[ut+1].ind&&(vt+=ht[ut].an/2,vt+=et.tr*.001*et.finalSize)}else{switch(at.translate(lt,ct,0),et.ps&&at.translate(et.ps[0],et.ps[1]+et.ascent,0),et.j){case 1:at.translate(ht[ut].animatorJustifyOffset+et.justifyOffset+(et.boxWidth-et.lineWidths[ht[ut].line]),0,0);break;case 2:at.translate(ht[ut].animatorJustifyOffset+et.justifyOffset+(et.boxWidth-et.lineWidths[ht[ut].line])/2,0,0);break}at.translate(0,-et.ls),at.translate(Yt,0,0),at.translate(rt[0]*ht[ut].an*.005,rt[1]*Bt*.01,0),lt+=ht[ut].l+et.tr*.001*et.finalSize}ot==="html"?Ut=at.toCSS():ot==="svg"?Ut=at.to2dCSS():qt=[at.props[0],at.props[1],at.props[2],at.props[3],at.props[4],at.props[5],at.props[6],at.props[7],at.props[8],at.props[9],at.props[10],at.props[11],at.props[12],at.props[13],at.props[14],at.props[15]],Ht=Zt}st<=ut?(Lt=new LetterProps(Ht,_r,br,Er,Ut,qt),this.renderedLetters.push(Lt),st+=1,this.lettersChangedFlag=!0):(Lt=this.renderedLetters[ut],this.lettersChangedFlag=Lt.update(Ht,_r,br,Er,Ut,qt)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(et,tt,rt){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(et,tt,rt),this.textProperty=new TextProperty(this,et.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(et.t,this.renderType,this),this.initTransform(et,tt,rt),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(et){this._mdf=!1,this.prepareRenderableFrame(et),this.prepareProperties(et,this.isInRange)},ITextElement.prototype.createPathShape=function(et,tt){var rt,nt=tt.length,it,at="";for(rt=0;rt<nt;rt+=1)tt[rt].ty==="sh"&&(it=tt[rt].ks.k,at+=buildShapeString(it,it.i.length,!0,et));return at},ITextElement.prototype.updateDocumentData=function(et,tt){this.textProperty.updateDocumentData(et,tt)},ITextElement.prototype.canResizeFont=function(et){this.textProperty.canResizeFont(et)},ITextElement.prototype.setMinimumFontSize=function(et){this.textProperty.setMinimumFontSize(et)},ITextElement.prototype.applyTextPropertiesToMatrix=function(et,tt,rt,nt,it){switch(et.ps&&tt.translate(et.ps[0],et.ps[1]+et.ascent,0),tt.translate(0,-et.ls,0),et.j){case 1:tt.translate(et.justifyOffset+(et.boxWidth-et.lineWidths[rt]),0,0);break;case 2:tt.translate(et.justifyOffset+(et.boxWidth-et.lineWidths[rt])/2,0,0);break}tt.translate(nt,it,0)},ITextElement.prototype.buildColor=function(et){return"rgb("+Math.round(et[0]*255)+","+Math.round(et[1]*255)+","+Math.round(et[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(et,tt,rt){this.textSpans=[],this.renderType="svg",this.initElement(et,tt,rt)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(et){for(var tt=0,rt=et.length,nt=[],it="";tt<rt;)et[tt]==="\r"||et[tt]===""?(nt.push(it),it=""):it+=et[tt],tt+=1;return nt.push(it),nt},SVGTextLottieElement.prototype.buildShapeData=function(et,tt){if(et.shapes&&et.shapes.length){var rt=et.shapes[0];if(rt.it){var nt=rt.it[rt.it.length-1];nt.s&&(nt.s.k[0]=tt,nt.s.k[1]=tt)}}return et},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var et,tt,rt=this.textProperty.currentData;this.renderedLetters=createSizedArray(rt?rt.l.length:0),rt.fc?this.layerElement.setAttribute("fill",this.buildColor(rt.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),rt.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(rt.sc)),this.layerElement.setAttribute("stroke-width",rt.sw)),this.layerElement.setAttribute("font-size",rt.finalSize);var nt=this.globalData.fontManager.getFontByName(rt.f);if(nt.fClass)this.layerElement.setAttribute("class",nt.fClass);else{this.layerElement.setAttribute("font-family",nt.fFamily);var it=rt.fWeight,at=rt.fStyle;this.layerElement.setAttribute("font-style",at),this.layerElement.setAttribute("font-weight",it)}this.layerElement.setAttribute("aria-label",rt.t);var ot=rt.l||[],st=!!this.globalData.fontManager.chars;tt=ot.length;var lt,ct=this.mHelper,ut="",ft=this.data.singleShape,ht=0,dt=0,vt=!0,yt=rt.tr*.001*rt.finalSize;if(ft&&!st&&!rt.sz){var xt=this.textContainer,_t="start";switch(rt.j){case 1:_t="end";break;case 2:_t="middle";break;default:_t="start";break}xt.setAttribute("text-anchor",_t),xt.setAttribute("letter-spacing",yt);var mt=this.buildTextContents(rt.finalText);for(tt=mt.length,dt=rt.ps?rt.ps[1]+rt.ascent:0,et=0;et<tt;et+=1)lt=this.textSpans[et].span||createNS("tspan"),lt.textContent=mt[et],lt.setAttribute("x",0),lt.setAttribute("y",dt),lt.style.display="inherit",xt.appendChild(lt),this.textSpans[et]||(this.textSpans[et]={span:null,glyph:null}),this.textSpans[et].span=lt,dt+=rt.finalLineHeight;this.layerElement.appendChild(xt)}else{var pt=this.textSpans.length,bt;for(et=0;et<tt;et+=1){if(this.textSpans[et]||(this.textSpans[et]={span:null,childSpan:null,glyph:null}),!st||!ft||et===0){if(lt=pt>et?this.textSpans[et].span:createNS(st?"g":"text"),pt<=et){if(lt.setAttribute("stroke-linecap","butt"),lt.setAttribute("stroke-linejoin","round"),lt.setAttribute("stroke-miterlimit","4"),this.textSpans[et].span=lt,st){var Et=createNS("g");lt.appendChild(Et),this.textSpans[et].childSpan=Et}this.textSpans[et].span=lt,this.layerElement.appendChild(lt)}lt.style.display="inherit"}if(ct.reset(),ft&&(ot[et].n&&(ht=-yt,dt+=rt.yOffset,dt+=vt?1:0,vt=!1),this.applyTextPropertiesToMatrix(rt,ct,ot[et].line,ht,dt),ht+=ot[et].l||0,ht+=yt),st){bt=this.globalData.fontManager.getCharData(rt.finalText[et],nt.fStyle,this.globalData.fontManager.getFontByName(rt.f).fFamily);var St;if(bt.t===1)St=new SVGCompElement(bt.data,this.globalData,this);else{var Tt=emptyShapeData;bt.data&&bt.data.shapes&&(Tt=this.buildShapeData(bt.data,rt.finalSize)),St=new SVGShapeElement(Tt,this.globalData,this)}if(this.textSpans[et].glyph){var Pt=this.textSpans[et].glyph;this.textSpans[et].childSpan.removeChild(Pt.layerElement),Pt.destroy()}this.textSpans[et].glyph=St,St._debug=!0,St.prepareFrame(0),St.renderFrame(),this.textSpans[et].childSpan.appendChild(St.layerElement),bt.t===1&&this.textSpans[et].childSpan.setAttribute("transform","scale("+rt.finalSize/100+","+rt.finalSize/100+")")}else ft&&lt.setAttribute("transform","translate("+ct.props[12]+","+ct.props[13]+")"),lt.textContent=ot[et].val,lt.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}ft&&lt&&lt.setAttribute("d",ut)}for(;et<this.textSpans.length;)this.textSpans[et].span.style.display="none",et+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var et=this.layerElement.getBBox();this.bbox={top:et.y,left:et.x,width:et.width,height:et.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var et,tt=this.textSpans.length,rt;for(this.renderedFrame=this.comp.renderedFrame,et=0;et<tt;et+=1)rt=this.textSpans[et].glyph,rt&&(rt.prepareFrame(this.comp.renderedFrame-this.data.st),rt._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var et,tt,rt=this.textAnimator.renderedLetters,nt=this.textProperty.currentData.l;tt=nt.length;var it,at,ot;for(et=0;et<tt;et+=1)nt[et].n||(it=rt[et],at=this.textSpans[et].span,ot=this.textSpans[et].glyph,ot&&ot.renderFrame(),it._mdf.m&&at.setAttribute("transform",it.m),it._mdf.o&&at.setAttribute("opacity",it.o),it._mdf.sw&&at.setAttribute("stroke-width",it.sw),it._mdf.sc&&at.setAttribute("stroke",it.sc),it._mdf.fc&&at.setAttribute("fill",it.fc))}};function ISolidElement(et,tt,rt){this.initElement(et,tt,rt)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var et=createNS("rect");et.setAttribute("width",this.data.sw),et.setAttribute("height",this.data.sh),et.setAttribute("fill",this.data.sc),this.layerElement.appendChild(et)};function NullElement(et,tt,rt){this.initFrame(),this.initBaseData(et,tt,rt),this.initFrame(),this.initTransform(et,tt,rt),this.initHierarchy()}NullElement.prototype.prepareFrame=function(et){this.prepareProperties(et,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(et){return new NullElement(et,this.globalData,this)},SVGRendererBase.prototype.createShape=function(et){return new SVGShapeElement(et,this.globalData,this)},SVGRendererBase.prototype.createText=function(et){return new SVGTextLottieElement(et,this.globalData,this)},SVGRendererBase.prototype.createImage=function(et){return new IImageElement(et,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(et){return new ISolidElement(et,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(et){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+et.w+" "+et.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",et.w),this.svgElement.setAttribute("height",et.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var tt=this.globalData.defs;this.setupGlobalData(et,tt),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=et;var rt=createNS("clipPath"),nt=createNS("rect");nt.setAttribute("width",et.w),nt.setAttribute("height",et.h),nt.setAttribute("x",0),nt.setAttribute("y",0);var it=createElementID();rt.setAttribute("id",it),rt.appendChild(nt),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+it+")"),tt.appendChild(rt),this.layers=et.layers,this.elements=createSizedArray(et.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var et,tt=this.layers?this.layers.length:0;for(et=0;et<tt;et+=1)this.elements[et]&&this.elements[et].destroy&&this.elements[et].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(et){var tt=0,rt=this.layers.length;for(tt=0;tt<rt;tt+=1)if(this.layers[tt].ind===et)return tt;return-1},SVGRendererBase.prototype.buildItem=function(et){var tt=this.elements;if(!(tt[et]||this.layers[et].ty===99)){tt[et]=!0;var rt=this.createItem(this.layers[et]);if(tt[et]=rt,getExpressionsPlugin()&&(this.layers[et].ty===0&&this.globalData.projectInterface.registerComposition(rt),rt.initExpressions()),this.appendElementInPos(rt,et),this.layers[et].tt){var nt="tp"in this.layers[et]?this.findIndexByInd(this.layers[et].tp):et-1;if(nt===-1)return;if(!this.elements[nt]||this.elements[nt]===!0)this.buildItem(nt),this.addPendingElement(rt);else{var it=tt[nt],at=it.getMatte(this.layers[et].tt);rt.setMatte(at)}}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var et=this.pendingElements.pop();if(et.checkParenting(),et.data.tt)for(var tt=0,rt=this.elements.length;tt<rt;){if(this.elements[tt]===et){var nt="tp"in et.data?this.findIndexByInd(et.data.tp):tt-1,it=this.elements[nt],at=it.getMatte(this.layers[tt].tt);et.setMatte(at);break}tt+=1}}},SVGRendererBase.prototype.renderFrame=function(et){if(!(this.renderedFrame===et||this.destroyed)){et===null?et=this.renderedFrame:this.renderedFrame=et,this.globalData.frameNum=et,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=et,this.globalData._mdf=!1;var tt,rt=this.layers.length;for(this.completeLayers||this.checkLayers(et),tt=rt-1;tt>=0;tt-=1)(this.completeLayers||this.elements[tt])&&this.elements[tt].prepareFrame(et-this.layers[tt].st);if(this.globalData._mdf)for(tt=0;tt<rt;tt+=1)(this.completeLayers||this.elements[tt])&&this.elements[tt].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(et,tt){var rt=et.getBaseElement();if(rt){for(var nt=0,it;nt<tt;)this.elements[nt]&&this.elements[nt]!==!0&&this.elements[nt].getBaseElement()&&(it=this.elements[nt].getBaseElement()),nt+=1;it?this.layerElement.insertBefore(rt,it):this.layerElement.appendChild(rt)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(et,tt,rt){this.initFrame(),this.initBaseData(et,tt,rt),this.initTransform(et,tt,rt),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!tt.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(et){if(this._mdf=!1,this.prepareRenderableFrame(et),this.prepareProperties(et,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=et/this.data.sr;else{var tt=this.tm.v;tt===this.data.op&&(tt=this.data.op-1),this.renderedFrame=tt}var rt,nt=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),rt=nt-1;rt>=0;rt-=1)(this.completeLayers||this.elements[rt])&&(this.elements[rt].prepareFrame(this.renderedFrame-this.layers[rt].st),this.elements[rt]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var et,tt=this.layers.length;for(et=0;et<tt;et+=1)(this.completeLayers||this.elements[et])&&this.elements[et].renderFrame()},ICompElement.prototype.setElements=function(et){this.elements=et},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var et,tt=this.layers.length;for(et=0;et<tt;et+=1)this.elements[et]&&this.elements[et].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function SVGCompElement(et,tt,rt){this.layers=et.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(et,tt,rt),this.tm=et.tm?PropertyFactory.getProp(this,et.tm,0,tt.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(et){return new SVGCompElement(et,this.globalData,this)};function SVGRenderer(et,tt){this.animationItem=et,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var rt="";if(tt&&tt.title){var nt=createNS("title"),it=createElementID();nt.setAttribute("id",it),nt.textContent=tt.title,this.svgElement.appendChild(nt),rt+=it}if(tt&&tt.description){var at=createNS("desc"),ot=createElementID();at.setAttribute("id",ot),at.textContent=tt.description,this.svgElement.appendChild(at),rt+=" "+ot}rt&&this.svgElement.setAttribute("aria-labelledby",rt);var st=createNS("defs");this.svgElement.appendChild(st);var lt=createNS("g");this.svgElement.appendChild(lt),this.layerElement=lt,this.renderConfig={preserveAspectRatio:tt&&tt.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:tt&&tt.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:tt&&tt.contentVisibility||"visible",progressiveLoad:tt&&tt.progressiveLoad||!1,hideOnTransparent:!(tt&&tt.hideOnTransparent===!1),viewBoxOnly:tt&&tt.viewBoxOnly||!1,viewBoxSize:tt&&tt.viewBoxSize||!1,className:tt&&tt.className||"",id:tt&&tt.id||"",focusable:tt&&tt.focusable,filterSize:{width:tt&&tt.filterSize&&tt.filterSize.width||"100%",height:tt&&tt.filterSize&&tt.filterSize.height||"100%",x:tt&&tt.filterSize&&tt.filterSize.x||"0%",y:tt&&tt.filterSize&&tt.filterSize.y||"0%"},width:tt&&tt.width,height:tt&&tt.height,runExpressions:!tt||tt.runExpressions===void 0||tt.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:st,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(et){return new SVGCompElement(et,this.globalData,this)};function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function(tt){var rt,nt=tt.length,it="_";for(rt=0;rt<nt;rt+=1)it+=tt[rt].transform.key+"_";var at=this.sequences[it];return at||(at={transforms:[].concat(tt),finalTransform:new Matrix,_mdf:!1},this.sequences[it]=at,this.sequenceList.push(at)),at},processSequence:function(tt,rt){for(var nt=0,it=tt.transforms.length,at=rt;nt<it&&!rt;){if(tt.transforms[nt].transform.mProps._mdf){at=!0;break}nt+=1}if(at)for(tt.finalTransform.reset(),nt=it-1;nt>=0;nt-=1)tt.finalTransform.multiply(tt.transforms[nt].transform.mProps.v);tt._mdf=at},processSequences:function(tt){var rt,nt=this.sequenceList.length;for(rt=0;rt<nt;rt+=1)this.processSequence(this.sequenceList[rt],tt)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var tt="__lottie_element_luma_buffer",rt=null,nt=null,it=null;function at(){var lt=createNS("svg"),ct=createNS("filter"),ut=createNS("feColorMatrix");return ct.setAttribute("id",tt),ut.setAttribute("type","matrix"),ut.setAttribute("color-interpolation-filters","sRGB"),ut.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),ct.appendChild(ut),lt.appendChild(ct),lt.setAttribute("id",tt+"_svg"),featureSupport.svgLumaHidden&&(lt.style.display="none"),lt}function ot(){rt||(it=at(),document.body.appendChild(it),rt=createTag("canvas"),nt=rt.getContext("2d"),nt.filter="url(#"+tt+")",nt.fillStyle="rgba(0,0,0,0)",nt.fillRect(0,0,1,1))}function st(lt){return rt||ot(),rt.width=lt.width,rt.height=lt.height,nt.filter="url(#"+tt+")",rt}return{load:ot,get:st}};function createCanvas(et,tt){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(et,tt);var rt=createTag("canvas");return rt.width=et,rt.height=tt,rt}var assetLoader=function(){return{loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas}}(),registeredEffects={};function CVEffects(et){var tt,rt=et.data.ef?et.data.ef.length:0;this.filters=[];var nt;for(tt=0;tt<rt;tt+=1){nt=null;var it=et.data.ef[tt].ty;if(registeredEffects[it]){var at=registeredEffects[it].effect;nt=new at(et.effectsManager.effectElements[tt],et)}nt&&this.filters.push(nt)}this.filters.length&&et.addRenderableComponent(this)}CVEffects.prototype.renderFrame=function(et){var tt,rt=this.filters.length;for(tt=0;tt<rt;tt+=1)this.filters[tt].renderFrame(et)},CVEffects.prototype.getEffects=function(et){var tt,rt=this.filters.length,nt=[];for(tt=0;tt<rt;tt+=1)this.filters[tt].type===et&&nt.push(this.filters[tt]);return nt};function registerEffect(et,tt){registeredEffects[et]={effect:tt}}function CVMaskElement(et,tt){this.data=et,this.element=tt,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var rt,nt=this.masksProperties.length,it=!1;for(rt=0;rt<nt;rt+=1)this.masksProperties[rt].mode!=="n"&&(it=!0),this.viewData[rt]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[rt],3);this.hasMasks=it,it&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var et=this.element.finalTransform.mat,tt=this.element.canvasContext,rt,nt=this.masksProperties.length,it,at,ot;for(tt.beginPath(),rt=0;rt<nt;rt+=1)if(this.masksProperties[rt].mode!=="n"){this.masksProperties[rt].inv&&(tt.moveTo(0,0),tt.lineTo(this.element.globalData.compSize.w,0),tt.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),tt.lineTo(0,this.element.globalData.compSize.h),tt.lineTo(0,0)),ot=this.viewData[rt].v,it=et.applyToPointArray(ot.v[0][0],ot.v[0][1],0),tt.moveTo(it[0],it[1]);var st,lt=ot._length;for(st=1;st<lt;st+=1)at=et.applyToTriplePoints(ot.o[st-1],ot.i[st],ot.v[st]),tt.bezierCurveTo(at[0],at[1],at[2],at[3],at[4],at[5]);at=et.applyToTriplePoints(ot.o[st-1],ot.i[0],ot.v[0]),tt.bezierCurveTo(at[0],at[1],at[2],at[3],at[4],at[5])}this.element.globalData.renderer.save(!0),tt.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVBaseElement(){}var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var tt=this.globalData.canvasContext,rt=assetLoader.createCanvas(tt.canvas.width,tt.canvas.height);this.buffers.push(rt);var nt=assetLoader.createCanvas(tt.canvas.width,tt.canvas.height);this.buffers.push(nt),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var tt=this.globalData;if(tt.blendMode!==this.data.bm){tt.blendMode=this.data.bm;var rt=getBlendMode(this.data.bm);tt.canvasContext.globalCompositeOperation=rt}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(tt){tt.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var tt=this.buffers[0],rt=tt.getContext("2d");this.clearCanvas(rt),rt.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var tt=this.buffers[1],rt=tt.getContext("2d");this.clearCanvas(rt),rt.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform);var nt=this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1);if(nt.renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var it=assetLoader.getLumaCanvas(this.canvasContext.canvas),at=it.getContext("2d");at.drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(it,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(tt,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(tt){if(!(this.hidden||this.data.hd)&&!(this.data.td===1&&!tt)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var rt=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save(rt),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(rt),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(et,tt,rt,nt){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var it=4;tt.ty==="rc"?it=5:tt.ty==="el"?it=6:tt.ty==="sr"&&(it=7),this.sh=ShapePropertyFactory.getShapeProp(et,tt,it,et);var at,ot=rt.length,st;for(at=0;at<ot;at+=1)rt[at].closed||(st={transforms:nt.addTransformSequence(rt[at].transforms),trNodes:[]},this.styledShapes.push(st),rt[at].elements.push(st))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(et,tt,rt){this.shapes=[],this.shapesData=et.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(et,tt,rt)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(et,tt){var rt={data:et,type:et.ty,preTransforms:this.transformsManager.addTransformSequence(tt),transforms:[],elements:[],closed:et.hd===!0},nt={};if(et.ty==="fl"||et.ty==="st"?(nt.c=PropertyFactory.getProp(this,et.c,1,255,this),nt.c.k||(rt.co="rgb("+bmFloor(nt.c.v[0])+","+bmFloor(nt.c.v[1])+","+bmFloor(nt.c.v[2])+")")):(et.ty==="gf"||et.ty==="gs")&&(nt.s=PropertyFactory.getProp(this,et.s,1,null,this),nt.e=PropertyFactory.getProp(this,et.e,1,null,this),nt.h=PropertyFactory.getProp(this,et.h||{k:0},0,.01,this),nt.a=PropertyFactory.getProp(this,et.a||{k:0},0,degToRads,this),nt.g=new GradientProperty(this,et.g,this)),nt.o=PropertyFactory.getProp(this,et.o,0,.01,this),et.ty==="st"||et.ty==="gs"){if(rt.lc=lineCapEnum[et.lc||2],rt.lj=lineJoinEnum[et.lj||2],et.lj==1&&(rt.ml=et.ml),nt.w=PropertyFactory.getProp(this,et.w,0,null,this),nt.w.k||(rt.wi=nt.w.v),et.d){var it=new DashProperty(this,et.d,"canvas",this);nt.d=it,nt.d.k||(rt.da=nt.d.dashArray,rt.do=nt.d.dashoffset[0])}}else rt.r=et.r===2?"evenodd":"nonzero";return this.stylesList.push(rt),nt.style=rt,nt},CVShapeElement.prototype.createGroupElement=function(){var et={it:[],prevViewData:[]};return et},CVShapeElement.prototype.createTransformElement=function(et){var tt={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,et.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,et,this)}};return tt},CVShapeElement.prototype.createShapeElement=function(et){var tt=new CVShapeData(this,et,this.stylesList,this.transformsManager);return this.shapes.push(tt),this.addShapeToModifiers(tt),tt},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var et,tt=this.itemsData.length;for(et=0;et<tt;et+=1)this.prevViewData[et]=this.itemsData[et];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),tt=this.dynamicProperties.length,et=0;et<tt;et+=1)this.dynamicProperties[et].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(et){var tt,rt=this.stylesList.length;for(tt=0;tt<rt;tt+=1)this.stylesList[tt].closed||this.stylesList[tt].transforms.push(et)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var et,tt=this.stylesList.length;for(et=0;et<tt;et+=1)this.stylesList[et].closed||this.stylesList[et].transforms.pop()},CVShapeElement.prototype.closeStyles=function(et){var tt,rt=et.length;for(tt=0;tt<rt;tt+=1)et[tt].closed=!0},CVShapeElement.prototype.searchShapes=function(et,tt,rt,nt,it){var at,ot=et.length-1,st,lt,ct=[],ut=[],ft,ht,dt,vt=[].concat(it);for(at=ot;at>=0;at-=1){if(ft=this.searchProcessedElement(et[at]),ft?tt[at]=rt[ft-1]:et[at]._shouldRender=nt,et[at].ty==="fl"||et[at].ty==="st"||et[at].ty==="gf"||et[at].ty==="gs")ft?tt[at].style.closed=!1:tt[at]=this.createStyleElement(et[at],vt),ct.push(tt[at].style);else if(et[at].ty==="gr"){if(!ft)tt[at]=this.createGroupElement(et[at]);else for(lt=tt[at].it.length,st=0;st<lt;st+=1)tt[at].prevViewData[st]=tt[at].it[st];this.searchShapes(et[at].it,tt[at].it,tt[at].prevViewData,nt,vt)}else et[at].ty==="tr"?(ft||(dt=this.createTransformElement(et[at]),tt[at]=dt),vt.push(tt[at]),this.addTransformToStyleList(tt[at])):et[at].ty==="sh"||et[at].ty==="rc"||et[at].ty==="el"||et[at].ty==="sr"?ft||(tt[at]=this.createShapeElement(et[at])):et[at].ty==="tm"||et[at].ty==="rd"||et[at].ty==="pb"||et[at].ty==="zz"||et[at].ty==="op"?(ft?(ht=tt[at],ht.closed=!1):(ht=ShapeModifiers.getModifier(et[at].ty),ht.init(this,et[at]),tt[at]=ht,this.shapeModifiers.push(ht)),ut.push(ht)):et[at].ty==="rp"&&(ft?(ht=tt[at],ht.closed=!0):(ht=ShapeModifiers.getModifier(et[at].ty),tt[at]=ht,ht.init(this,et,at,tt),this.shapeModifiers.push(ht),nt=!1),ut.push(ht));this.addProcessedElement(et[at],at+1)}for(this.removeTransformFromStyleList(),this.closeStyles(ct),ot=ut.length,at=0;at<ot;at+=1)ut[at].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(et,tt){(et._opMdf||tt.op._mdf||this._isFirstFrame)&&(tt.opacity=et.opacity,tt.opacity*=tt.op.v,tt._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var et,tt=this.stylesList.length,rt,nt,it,at,ot,st,lt=this.globalData.renderer,ct=this.globalData.canvasContext,ut,ft;for(et=0;et<tt;et+=1)if(ft=this.stylesList[et],ut=ft.type,!((ut==="st"||ut==="gs")&&ft.wi===0||!ft.data._shouldRender||ft.coOp===0||this.globalData.currentGlobalAlpha===0)){for(lt.save(),ot=ft.elements,ut==="st"||ut==="gs"?(lt.ctxStrokeStyle(ut==="st"?ft.co:ft.grd),lt.ctxLineWidth(ft.wi),lt.ctxLineCap(ft.lc),lt.ctxLineJoin(ft.lj),lt.ctxMiterLimit(ft.ml||0)):lt.ctxFillStyle(ut==="fl"?ft.co:ft.grd),lt.ctxOpacity(ft.coOp),ut!=="st"&&ut!=="gs"&&ct.beginPath(),lt.ctxTransform(ft.preTransforms.finalTransform.props),nt=ot.length,rt=0;rt<nt;rt+=1){for((ut==="st"||ut==="gs")&&(ct.beginPath(),ft.da&&(ct.setLineDash(ft.da),ct.lineDashOffset=ft.do)),st=ot[rt].trNodes,at=st.length,it=0;it<at;it+=1)st[it].t==="m"?ct.moveTo(st[it].p[0],st[it].p[1]):st[it].t==="c"?ct.bezierCurveTo(st[it].pts[0],st[it].pts[1],st[it].pts[2],st[it].pts[3],st[it].pts[4],st[it].pts[5]):ct.closePath();(ut==="st"||ut==="gs")&&(lt.ctxStroke(),ft.da&&ct.setLineDash(this.dashResetter))}ut!=="st"&&ut!=="gs"&&this.globalData.renderer.ctxFill(ft.r),lt.restore()}},CVShapeElement.prototype.renderShape=function(et,tt,rt,nt){var it,at=tt.length-1,ot;for(ot=et,it=at;it>=0;it-=1)tt[it].ty==="tr"?(ot=rt[it].transform,this.renderShapeTransform(et,ot)):tt[it].ty==="sh"||tt[it].ty==="el"||tt[it].ty==="rc"||tt[it].ty==="sr"?this.renderPath(tt[it],rt[it]):tt[it].ty==="fl"?this.renderFill(tt[it],rt[it],ot):tt[it].ty==="st"?this.renderStroke(tt[it],rt[it],ot):tt[it].ty==="gf"||tt[it].ty==="gs"?this.renderGradientFill(tt[it],rt[it],ot):tt[it].ty==="gr"?this.renderShape(ot,tt[it].it,rt[it].it):tt[it].ty;nt&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(et,tt){if(this._isFirstFrame||tt._mdf||et.transforms._mdf){var rt=et.trNodes,nt=tt.paths,it,at,ot,st=nt._length;rt.length=0;var lt=et.transforms.finalTransform;for(ot=0;ot<st;ot+=1){var ct=nt.shapes[ot];if(ct&&ct.v){for(at=ct._length,it=1;it<at;it+=1)it===1&&rt.push({t:"m",p:lt.applyToPointArray(ct.v[0][0],ct.v[0][1],0)}),rt.push({t:"c",pts:lt.applyToTriplePoints(ct.o[it-1],ct.i[it],ct.v[it])});at===1&&rt.push({t:"m",p:lt.applyToPointArray(ct.v[0][0],ct.v[0][1],0)}),ct.c&&at&&(rt.push({t:"c",pts:lt.applyToTriplePoints(ct.o[it-1],ct.i[0],ct.v[0])}),rt.push({t:"z"}))}}et.trNodes=rt}},CVShapeElement.prototype.renderPath=function(et,tt){if(et.hd!==!0&&et._shouldRender){var rt,nt=tt.styledShapes.length;for(rt=0;rt<nt;rt+=1)this.renderStyledShape(tt.styledShapes[rt],tt.sh)}},CVShapeElement.prototype.renderFill=function(et,tt,rt){var nt=tt.style;(tt.c._mdf||this._isFirstFrame)&&(nt.co="rgb("+bmFloor(tt.c.v[0])+","+bmFloor(tt.c.v[1])+","+bmFloor(tt.c.v[2])+")"),(tt.o._mdf||rt._opMdf||this._isFirstFrame)&&(nt.coOp=tt.o.v*rt.opacity)},CVShapeElement.prototype.renderGradientFill=function(et,tt,rt){var nt=tt.style,it;if(!nt.grd||tt.g._mdf||tt.s._mdf||tt.e._mdf||et.t!==1&&(tt.h._mdf||tt.a._mdf)){var at=this.globalData.canvasContext,ot=tt.s.v,st=tt.e.v;if(et.t===1)it=at.createLinearGradient(ot[0],ot[1],st[0],st[1]);else{var lt=Math.sqrt(Math.pow(ot[0]-st[0],2)+Math.pow(ot[1]-st[1],2)),ct=Math.atan2(st[1]-ot[1],st[0]-ot[0]),ut=tt.h.v;ut>=1?ut=.99:ut<=-1&&(ut=-.99);var ft=lt*ut,ht=Math.cos(ct+tt.a.v)*ft+ot[0],dt=Math.sin(ct+tt.a.v)*ft+ot[1];it=at.createRadialGradient(ht,dt,0,ot[0],ot[1],lt)}var vt,yt=et.g.p,xt=tt.g.c,_t=1;for(vt=0;vt<yt;vt+=1)tt.g._hasOpacity&&tt.g._collapsable&&(_t=tt.g.o[vt*2+1]),it.addColorStop(xt[vt*4]/100,"rgba("+xt[vt*4+1]+","+xt[vt*4+2]+","+xt[vt*4+3]+","+_t+")");nt.grd=it}nt.coOp=tt.o.v*rt.opacity},CVShapeElement.prototype.renderStroke=function(et,tt,rt){var nt=tt.style,it=tt.d;it&&(it._mdf||this._isFirstFrame)&&(nt.da=it.dashArray,nt.do=it.dashoffset[0]),(tt.c._mdf||this._isFirstFrame)&&(nt.co="rgb("+bmFloor(tt.c.v[0])+","+bmFloor(tt.c.v[1])+","+bmFloor(tt.c.v[2])+")"),(tt.o._mdf||rt._opMdf||this._isFirstFrame)&&(nt.coOp=tt.o.v*rt.opacity),(tt.w._mdf||this._isFirstFrame)&&(nt.wi=tt.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVTextElement(et,tt,rt){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(et,tt,rt)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var et=this.textProperty.currentData;this.renderedLetters=createSizedArray(et.l?et.l.length:0);var tt=!1;et.fc?(tt=!0,this.values.fill=this.buildColor(et.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=tt;var rt=!1;et.sc&&(rt=!0,this.values.stroke=this.buildColor(et.sc),this.values.sWidth=et.sw);var nt=this.globalData.fontManager.getFontByName(et.f),it,at,ot=et.l,st=this.mHelper;this.stroke=rt,this.values.fValue=et.finalSize+"px "+this.globalData.fontManager.getFontByName(et.f).fFamily,at=et.finalText.length;var lt,ct,ut,ft,ht,dt,vt,yt,xt,_t,mt=this.data.singleShape,pt=et.tr*.001*et.finalSize,bt=0,Et=0,St=!0,Tt=0;for(it=0;it<at;it+=1){lt=this.globalData.fontManager.getCharData(et.finalText[it],nt.fStyle,this.globalData.fontManager.getFontByName(et.f).fFamily),ct=lt&&lt.data||{},st.reset(),mt&&ot[it].n&&(bt=-pt,Et+=et.yOffset,Et+=St?1:0,St=!1),ht=ct.shapes?ct.shapes[0].it:[],vt=ht.length,st.scale(et.finalSize/100,et.finalSize/100),mt&&this.applyTextPropertiesToMatrix(et,st,ot[it].line,bt,Et),xt=createSizedArray(vt-1);var Pt=0;for(dt=0;dt<vt;dt+=1)if(ht[dt].ty==="sh"){for(ft=ht[dt].ks.k.i.length,yt=ht[dt].ks.k,_t=[],ut=1;ut<ft;ut+=1)ut===1&&_t.push(st.applyToX(yt.v[0][0],yt.v[0][1],0),st.applyToY(yt.v[0][0],yt.v[0][1],0)),_t.push(st.applyToX(yt.o[ut-1][0],yt.o[ut-1][1],0),st.applyToY(yt.o[ut-1][0],yt.o[ut-1][1],0),st.applyToX(yt.i[ut][0],yt.i[ut][1],0),st.applyToY(yt.i[ut][0],yt.i[ut][1],0),st.applyToX(yt.v[ut][0],yt.v[ut][1],0),st.applyToY(yt.v[ut][0],yt.v[ut][1],0));_t.push(st.applyToX(yt.o[ut-1][0],yt.o[ut-1][1],0),st.applyToY(yt.o[ut-1][0],yt.o[ut-1][1],0),st.applyToX(yt.i[0][0],yt.i[0][1],0),st.applyToY(yt.i[0][0],yt.i[0][1],0),st.applyToX(yt.v[0][0],yt.v[0][1],0),st.applyToY(yt.v[0][0],yt.v[0][1],0)),xt[Pt]=_t,Pt+=1}mt&&(bt+=ot[it].l,bt+=pt),this.textSpans[Tt]?this.textSpans[Tt].elem=xt:this.textSpans[Tt]={elem:xt},Tt+=1}},CVTextElement.prototype.renderInnerContent=function(){this.validateText();var et=this.canvasContext;et.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var tt,rt,nt,it,at,ot,st=this.textAnimator.renderedLetters,lt=this.textProperty.currentData.l;rt=lt.length;var ct,ut=null,ft=null,ht=null,dt,vt,yt=this.globalData.renderer;for(tt=0;tt<rt;tt+=1)if(!lt[tt].n){if(ct=st[tt],ct&&(yt.save(),yt.ctxTransform(ct.p),yt.ctxOpacity(ct.o)),this.fill){for(ct&&ct.fc?ut!==ct.fc&&(yt.ctxFillStyle(ct.fc),ut=ct.fc):ut!==this.values.fill&&(ut=this.values.fill,yt.ctxFillStyle(this.values.fill)),dt=this.textSpans[tt].elem,it=dt.length,this.globalData.canvasContext.beginPath(),nt=0;nt<it;nt+=1)for(vt=dt[nt],ot=vt.length,this.globalData.canvasContext.moveTo(vt[0],vt[1]),at=2;at<ot;at+=6)this.globalData.canvasContext.bezierCurveTo(vt[at],vt[at+1],vt[at+2],vt[at+3],vt[at+4],vt[at+5]);this.globalData.canvasContext.closePath(),yt.ctxFill()}if(this.stroke){for(ct&&ct.sw?ht!==ct.sw&&(ht=ct.sw,yt.ctxLineWidth(ct.sw)):ht!==this.values.sWidth&&(ht=this.values.sWidth,yt.ctxLineWidth(this.values.sWidth)),ct&&ct.sc?ft!==ct.sc&&(ft=ct.sc,yt.ctxStrokeStyle(ct.sc)):ft!==this.values.stroke&&(ft=this.values.stroke,yt.ctxStrokeStyle(this.values.stroke)),dt=this.textSpans[tt].elem,it=dt.length,this.globalData.canvasContext.beginPath(),nt=0;nt<it;nt+=1)for(vt=dt[nt],ot=vt.length,this.globalData.canvasContext.moveTo(vt[0],vt[1]),at=2;at<ot;at+=6)this.globalData.canvasContext.bezierCurveTo(vt[at],vt[at+1],vt[at+2],vt[at+3],vt[at+4],vt[at+5]);this.globalData.canvasContext.closePath(),yt.ctxStroke()}ct&&this.globalData.renderer.restore()}};function CVImageElement(et,tt,rt){this.assetData=tt.getAssetData(et.refId),this.img=tt.imageLoader.getAsset(this.assetData),this.initElement(et,tt,rt)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var et=createTag("canvas");et.width=this.assetData.w,et.height=this.assetData.h;var tt=et.getContext("2d"),rt=this.img.width,nt=this.img.height,it=rt/nt,at=this.assetData.w/this.assetData.h,ot,st,lt=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;it>at&&lt==="xMidYMid slice"||it<at&&lt!=="xMidYMid slice"?(st=nt,ot=st*at):(ot=rt,st=ot/at),tt.drawImage(this.img,(rt-ot)/2,(nt-st)/2,ot,st,0,0,this.assetData.w,this.assetData.h),this.img=et}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVSolidElement(et,tt,rt){this.initElement(et,tt,rt)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)};function CanvasRendererBase(){}extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(et){return new CVShapeElement(et,this.globalData,this)},CanvasRendererBase.prototype.createText=function(et){return new CVTextElement(et,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(et){return new CVImageElement(et,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(et){return new CVSolidElement(et,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(et){et[0]===1&&et[1]===0&&et[4]===0&&et[5]===1&&et[12]===0&&et[13]===0||this.canvasContext.transform(et[0],et[1],et[4],et[5],et[12],et[13])},CanvasRendererBase.prototype.ctxOpacity=function(et){this.canvasContext.globalAlpha*=et<0?0:et},CanvasRendererBase.prototype.ctxFillStyle=function(et){this.canvasContext.fillStyle=et},CanvasRendererBase.prototype.ctxStrokeStyle=function(et){this.canvasContext.strokeStyle=et},CanvasRendererBase.prototype.ctxLineWidth=function(et){this.canvasContext.lineWidth=et},CanvasRendererBase.prototype.ctxLineCap=function(et){this.canvasContext.lineCap=et},CanvasRendererBase.prototype.ctxLineJoin=function(et){this.canvasContext.lineJoin=et},CanvasRendererBase.prototype.ctxMiterLimit=function(et){this.canvasContext.miterLimit=et},CanvasRendererBase.prototype.ctxFill=function(et){this.canvasContext.fill(et)},CanvasRendererBase.prototype.ctxFillRect=function(et,tt,rt,nt){this.canvasContext.fillRect(et,tt,rt,nt)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(et){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}et&&(this.globalData.blendMode="source-over"),this.contextData.restore(et)},CanvasRendererBase.prototype.configAnimation=function(et){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var tt=this.animationItem.container.style;tt.width="100%",tt.height="100%";var rt="0px 0px 0px";tt.transformOrigin=rt,tt.mozTransformOrigin=rt,tt.webkitTransformOrigin=rt,tt["-webkit-transform"]=rt,tt.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=et,this.layers=et.layers,this.transformCanvas={w:et.w,h:et.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(et,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(et.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(et,tt){this.reset();var rt,nt;et?(rt=et,nt=tt,this.canvasContext.canvas.width=rt,this.canvasContext.canvas.height=nt):(this.animationItem.wrapper&&this.animationItem.container?(rt=this.animationItem.wrapper.offsetWidth,nt=this.animationItem.wrapper.offsetHeight):(rt=this.canvasContext.canvas.width,nt=this.canvasContext.canvas.height),this.canvasContext.canvas.width=rt*this.renderConfig.dpr,this.canvasContext.canvas.height=nt*this.renderConfig.dpr);var it,at;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var ot=this.renderConfig.preserveAspectRatio.split(" "),st=ot[1]||"meet",lt=ot[0]||"xMidYMid",ct=lt.substr(0,4),ut=lt.substr(4);it=rt/nt,at=this.transformCanvas.w/this.transformCanvas.h,at>it&&st==="meet"||at<it&&st==="slice"?(this.transformCanvas.sx=rt/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=rt/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=nt/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=nt/(this.transformCanvas.h/this.renderConfig.dpr)),ct==="xMid"&&(at<it&&st==="meet"||at>it&&st==="slice")?this.transformCanvas.tx=(rt-this.transformCanvas.w*(nt/this.transformCanvas.h))/2*this.renderConfig.dpr:ct==="xMax"&&(at<it&&st==="meet"||at>it&&st==="slice")?this.transformCanvas.tx=(rt-this.transformCanvas.w*(nt/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,ut==="YMid"&&(at>it&&st==="meet"||at<it&&st==="slice")?this.transformCanvas.ty=(nt-this.transformCanvas.h*(rt/this.transformCanvas.w))/2*this.renderConfig.dpr:ut==="YMax"&&(at>it&&st==="meet"||at<it&&st==="slice")?this.transformCanvas.ty=(nt-this.transformCanvas.h*(rt/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=rt/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=nt/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var et,tt=this.layers?this.layers.length:0;for(et=tt-1;et>=0;et-=1)this.elements[et]&&this.elements[et].destroy&&this.elements[et].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(et,tt){if(!(this.renderedFrame===et&&this.renderConfig.clearCanvas===!0&&!tt||this.destroyed||et===-1)){this.renderedFrame=et,this.globalData.frameNum=et-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||tt,this.globalData.projectInterface.currentFrame=et;var rt,nt=this.layers.length;for(this.completeLayers||this.checkLayers(et),rt=nt-1;rt>=0;rt-=1)(this.completeLayers||this.elements[rt])&&this.elements[rt].prepareFrame(et-this.layers[rt].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),rt=nt-1;rt>=0;rt-=1)(this.completeLayers||this.elements[rt])&&this.elements[rt].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(et){var tt=this.elements;if(!(tt[et]||this.layers[et].ty===99)){var rt=this.createItem(this.layers[et],this,this.globalData);tt[et]=rt,rt.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var et=this.pendingElements.pop();et.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"};function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){this.stack=[],this.cArrPos=0,this.cTr=new Matrix;var et,tt=15;for(et=0;et<tt;et+=1){var rt=new CanvasContext;this.stack[et]=rt}this._length=tt,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}CVContextData.prototype.duplicate=function(){var et=this._length*2,tt=0;for(tt=this._length;tt<et;tt+=1)this.stack[tt]=new CanvasContext;this._length=et},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(et){this.cArrPos-=1;var tt=this.stack[this.cArrPos],rt=tt.transform,nt,it=this.cTr.props;for(nt=0;nt<16;nt+=1)it[nt]=rt[nt];if(et){this.nativeContext.restore();var at=this.stack[this.cArrPos+1];this.appliedFillStyle=at.fillStyle,this.appliedStrokeStyle=at.strokeStyle,this.appliedLineWidth=at.lineWidth,this.appliedLineCap=at.lineCap,this.appliedLineJoin=at.lineJoin,this.appliedMiterLimit=at.miterLimit}this.nativeContext.setTransform(rt[0],rt[1],rt[4],rt[5],rt[12],rt[13]),(et||tt.opacity!==-1&&this.currentOpacity!==tt.opacity)&&(this.nativeContext.globalAlpha=tt.opacity,this.currentOpacity=tt.opacity),this.currentFillStyle=tt.fillStyle,this.currentStrokeStyle=tt.strokeStyle,this.currentLineWidth=tt.lineWidth,this.currentLineCap=tt.lineCap,this.currentLineJoin=tt.lineJoin,this.currentMiterLimit=tt.miterLimit},CVContextData.prototype.save=function(et){et&&this.nativeContext.save();var tt=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var rt=this.stack[this.cArrPos],nt;for(nt=0;nt<16;nt+=1)rt.transform[nt]=tt[nt];this.cArrPos+=1;var it=this.stack[this.cArrPos];it.opacity=rt.opacity,it.fillStyle=rt.fillStyle,it.strokeStyle=rt.strokeStyle,it.lineWidth=rt.lineWidth,it.lineCap=rt.lineCap,it.lineJoin=rt.lineJoin,it.miterLimit=rt.miterLimit},CVContextData.prototype.setOpacity=function(et){this.stack[this.cArrPos].opacity=et},CVContextData.prototype.setContext=function(et){this.nativeContext=et},CVContextData.prototype.fillStyle=function(et){this.stack[this.cArrPos].fillStyle!==et&&(this.currentFillStyle=et,this.stack[this.cArrPos].fillStyle=et)},CVContextData.prototype.strokeStyle=function(et){this.stack[this.cArrPos].strokeStyle!==et&&(this.currentStrokeStyle=et,this.stack[this.cArrPos].strokeStyle=et)},CVContextData.prototype.lineWidth=function(et){this.stack[this.cArrPos].lineWidth!==et&&(this.currentLineWidth=et,this.stack[this.cArrPos].lineWidth=et)},CVContextData.prototype.lineCap=function(et){this.stack[this.cArrPos].lineCap!==et&&(this.currentLineCap=et,this.stack[this.cArrPos].lineCap=et)},CVContextData.prototype.lineJoin=function(et){this.stack[this.cArrPos].lineJoin!==et&&(this.currentLineJoin=et,this.stack[this.cArrPos].lineJoin=et)},CVContextData.prototype.miterLimit=function(et){this.stack[this.cArrPos].miterLimit!==et&&(this.currentMiterLimit=et,this.stack[this.cArrPos].miterLimit=et)},CVContextData.prototype.transform=function(et){this.transformMat.cloneFromProps(et);var tt=this.cTr;this.transformMat.multiply(tt),tt.cloneFromProps(this.transformMat.props);var rt=tt.props;this.nativeContext.setTransform(rt[0],rt[1],rt[4],rt[5],rt[12],rt[13])},CVContextData.prototype.opacity=function(et){var tt=this.stack[this.cArrPos].opacity;tt*=et<0?0:et,this.stack[this.cArrPos].opacity!==tt&&(this.currentOpacity!==et&&(this.nativeContext.globalAlpha=et,this.currentOpacity=et),this.stack[this.cArrPos].opacity=tt)},CVContextData.prototype.fill=function(et){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(et)},CVContextData.prototype.fillRect=function(et,tt,rt,nt){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(et,tt,rt,nt)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()};function CVCompElement(et,tt,rt){this.completeLayers=!1,this.layers=et.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(et,tt,rt),this.tm=et.tm?PropertyFactory.getProp(this,et.tm,0,tt.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var et=this.canvasContext;et.beginPath(),et.moveTo(0,0),et.lineTo(this.data.w,0),et.lineTo(this.data.w,this.data.h),et.lineTo(0,this.data.h),et.lineTo(0,0),et.clip();var tt,rt=this.layers.length;for(tt=rt-1;tt>=0;tt-=1)(this.completeLayers||this.elements[tt])&&this.elements[tt].renderFrame()},CVCompElement.prototype.destroy=function(){var et,tt=this.layers.length;for(et=tt-1;et>=0;et-=1)this.elements[et]&&this.elements[et].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(et){return new CVCompElement(et,this.globalData,this)};function CanvasRenderer(et,tt){this.animationItem=et,this.renderConfig={clearCanvas:tt&&tt.clearCanvas!==void 0?tt.clearCanvas:!0,context:tt&&tt.context||null,progressiveLoad:tt&&tt.progressiveLoad||!1,preserveAspectRatio:tt&&tt.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:tt&&tt.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:tt&&tt.contentVisibility||"visible",className:tt&&tt.className||"",id:tt&&tt.id||"",runExpressions:!tt||tt.runExpressions===void 0||tt.runExpressions},this.renderConfig.dpr=tt&&tt.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=tt&&tt.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(et){return new CVCompElement(et,this.globalData,this)};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var tt=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var rt=this.finalTransform.mat.toCSS();tt.transform=rt,tt.webkitTransform=rt}this.finalTransform._opMdf&&(tt.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(et,tt,rt){this.initElement(et,tt,rt)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var et;this.data.hasMask?(et=createNS("rect"),et.setAttribute("width",this.data.sw),et.setAttribute("height",this.data.sh),et.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(et=createTag("div"),et.style.width=this.data.sw+"px",et.style.height=this.data.sh+"px",et.style.backgroundColor=this.data.sc),this.layerElement.appendChild(et)};function HShapeElement(et,tt,rt){this.shapes=[],this.shapesData=et.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(et,tt,rt),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var et;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),et=this.svgElement;else{et=createNS("svg");var tt=this.comp.data?this.comp.data:this.globalData.compSize;et.setAttribute("width",tt.w),et.setAttribute("height",tt.h),et.appendChild(this.shapesContainer),this.layerElement.appendChild(et)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=et},HShapeElement.prototype.getTransformedPoint=function(et,tt){var rt,nt=et.length;for(rt=0;rt<nt;rt+=1)tt=et[rt].mProps.v.applyToPointArray(tt[0],tt[1],0);return tt},HShapeElement.prototype.calculateShapeBoundingBox=function(et,tt){var rt=et.sh.v,nt=et.transformers,it,at=rt._length,ot,st,lt,ct;if(!(at<=1)){for(it=0;it<at-1;it+=1)ot=this.getTransformedPoint(nt,rt.v[it]),st=this.getTransformedPoint(nt,rt.o[it]),lt=this.getTransformedPoint(nt,rt.i[it+1]),ct=this.getTransformedPoint(nt,rt.v[it+1]),this.checkBounds(ot,st,lt,ct,tt);rt.c&&(ot=this.getTransformedPoint(nt,rt.v[it]),st=this.getTransformedPoint(nt,rt.o[it]),lt=this.getTransformedPoint(nt,rt.i[0]),ct=this.getTransformedPoint(nt,rt.v[0]),this.checkBounds(ot,st,lt,ct,tt))}},HShapeElement.prototype.checkBounds=function(et,tt,rt,nt,it){this.getBoundsOfCurve(et,tt,rt,nt);var at=this.shapeBoundingBox;it.x=bmMin(at.left,it.x),it.xMax=bmMax(at.right,it.xMax),it.y=bmMin(at.top,it.y),it.yMax=bmMax(at.bottom,it.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(et,tt,rt,nt){for(var it=[[et[0],nt[0]],[et[1],nt[1]]],at,ot,st,lt,ct,ut,ft,ht=0;ht<2;++ht)ot=6*et[ht]-12*tt[ht]+6*rt[ht],at=-3*et[ht]+9*tt[ht]-9*rt[ht]+3*nt[ht],st=3*tt[ht]-3*et[ht],ot|=0,at|=0,st|=0,at===0&&ot===0||(at===0?(lt=-st/ot,lt>0&&lt<1&&it[ht].push(this.calculateF(lt,et,tt,rt,nt,ht))):(ct=ot*ot-4*st*at,ct>=0&&(ut=(-ot+bmSqrt(ct))/(2*at),ut>0&&ut<1&&it[ht].push(this.calculateF(ut,et,tt,rt,nt,ht)),ft=(-ot-bmSqrt(ct))/(2*at),ft>0&&ft<1&&it[ht].push(this.calculateF(ft,et,tt,rt,nt,ht)))));this.shapeBoundingBox.left=bmMin.apply(null,it[0]),this.shapeBoundingBox.top=bmMin.apply(null,it[1]),this.shapeBoundingBox.right=bmMax.apply(null,it[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,it[1])},HShapeElement.prototype.calculateF=function(et,tt,rt,nt,it,at){return bmPow(1-et,3)*tt[at]+3*bmPow(1-et,2)*et*rt[at]+3*(1-et)*bmPow(et,2)*nt[at]+bmPow(et,3)*it[at]},HShapeElement.prototype.calculateBoundingBox=function(et,tt){var rt,nt=et.length;for(rt=0;rt<nt;rt+=1)et[rt]&&et[rt].sh?this.calculateShapeBoundingBox(et[rt],tt):et[rt]&&et[rt].it?this.calculateBoundingBox(et[rt].it,tt):et[rt]&&et[rt].style&&et[rt].w&&this.expandStrokeBoundingBox(et[rt].w,tt)},HShapeElement.prototype.expandStrokeBoundingBox=function(et,tt){var rt=0;if(et.keyframes){for(var nt=0;nt<et.keyframes.length;nt+=1){var it=et.keyframes[nt].s;it>rt&&(rt=it)}rt*=et.mult}else rt=et.v*et.mult;tt.x-=rt,tt.xMax+=rt,tt.y-=rt,tt.yMax+=rt},HShapeElement.prototype.currentBoxContains=function(et){return this.currentBBox.x<=et.x&&this.currentBBox.y<=et.y&&this.currentBBox.width+this.currentBBox.x>=et.x+et.width&&this.currentBBox.height+this.currentBBox.y>=et.y+et.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var et=this.tempBoundingBox,tt=999999;if(et.x=tt,et.xMax=-tt,et.y=tt,et.yMax=-tt,this.calculateBoundingBox(this.itemsData,et),et.width=et.xMax<et.x?0:et.xMax-et.x,et.height=et.yMax<et.y?0:et.yMax-et.y,this.currentBoxContains(et))return;var rt=!1;if(this.currentBBox.w!==et.width&&(this.currentBBox.w=et.width,this.shapeCont.setAttribute("width",et.width),rt=!0),this.currentBBox.h!==et.height&&(this.currentBBox.h=et.height,this.shapeCont.setAttribute("height",et.height),rt=!0),rt||this.currentBBox.x!==et.x||this.currentBBox.y!==et.y){this.currentBBox.w=et.width,this.currentBBox.h=et.height,this.currentBBox.x=et.x,this.currentBBox.y=et.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var nt=this.shapeCont.style,it="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";nt.transform=it,nt.webkitTransform=it}}};function HTextElement(et,tt,rt){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(et,tt,rt)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var et=createNS("g");this.maskedElement.appendChild(et),this.innerElem=et}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var et=this.textProperty.currentData;this.renderedLetters=createSizedArray(et.l?et.l.length:0);var tt=this.innerElem.style,rt=et.fc?this.buildColor(et.fc):"rgba(0,0,0,0)";tt.fill=rt,tt.color=rt,et.sc&&(tt.stroke=this.buildColor(et.sc),tt.strokeWidth=et.sw+"px");var nt=this.globalData.fontManager.getFontByName(et.f);if(!this.globalData.fontManager.chars)if(tt.fontSize=et.finalSize+"px",tt.lineHeight=et.finalSize+"px",nt.fClass)this.innerElem.className=nt.fClass;else{tt.fontFamily=nt.fFamily;var it=et.fWeight,at=et.fStyle;tt.fontStyle=at,tt.fontWeight=it}var ot,st,lt=et.l;st=lt.length;var ct,ut,ft,ht=this.mHelper,dt,vt="",yt=0;for(ot=0;ot<st;ot+=1){if(this.globalData.fontManager.chars?(this.textPaths[yt]?ct=this.textPaths[yt]:(ct=createNS("path"),ct.setAttribute("stroke-linecap",lineCapEnum[1]),ct.setAttribute("stroke-linejoin",lineJoinEnum[2]),ct.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[yt]?(ut=this.textSpans[yt],ft=ut.children[0]):(ut=createTag("div"),ut.style.lineHeight=0,ft=createNS("svg"),ft.appendChild(ct),styleDiv(ut)))):this.isMasked?ct=this.textPaths[yt]?this.textPaths[yt]:createNS("text"):this.textSpans[yt]?(ut=this.textSpans[yt],ct=this.textPaths[yt]):(ut=createTag("span"),styleDiv(ut),ct=createTag("span"),styleDiv(ct),ut.appendChild(ct)),this.globalData.fontManager.chars){var xt=this.globalData.fontManager.getCharData(et.finalText[ot],nt.fStyle,this.globalData.fontManager.getFontByName(et.f).fFamily),_t;if(xt?_t=xt.data:_t=null,ht.reset(),_t&&_t.shapes&&_t.shapes.length&&(dt=_t.shapes[0].it,ht.scale(et.finalSize/100,et.finalSize/100),vt=this.createPathShape(ht,dt),ct.setAttribute("d",vt)),this.isMasked)this.innerElem.appendChild(ct);else{if(this.innerElem.appendChild(ut),_t&&_t.shapes){document.body.appendChild(ft);var mt=ft.getBBox();ft.setAttribute("width",mt.width+2),ft.setAttribute("height",mt.height+2),ft.setAttribute("viewBox",mt.x-1+" "+(mt.y-1)+" "+(mt.width+2)+" "+(mt.height+2));var pt=ft.style,bt="translate("+(mt.x-1)+"px,"+(mt.y-1)+"px)";pt.transform=bt,pt.webkitTransform=bt,lt[ot].yOffset=mt.y-1}else ft.setAttribute("width",1),ft.setAttribute("height",1);ut.appendChild(ft)}}else if(ct.textContent=lt[ot].val,ct.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(ct);else{this.innerElem.appendChild(ut);var Et=ct.style,St="translate3d(0,"+-et.finalSize/1.2+"px,0)";Et.transform=St,Et.webkitTransform=St}this.isMasked?this.textSpans[yt]=ct:this.textSpans[yt]=ut,this.textSpans[yt].style.display="block",this.textPaths[yt]=ct,yt+=1}for(;yt<this.textSpans.length;)this.textSpans[yt].style.display="none",yt+=1},HTextElement.prototype.renderInnerContent=function(){this.validateText();var et;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),et=this.svgElement.style;var tt="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";et.transform=tt,et.webkitTransform=tt}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var rt,nt,it=0,at=this.textAnimator.renderedLetters,ot=this.textProperty.currentData.l;nt=ot.length;var st,lt,ct;for(rt=0;rt<nt;rt+=1)ot[rt].n?it+=1:(lt=this.textSpans[rt],ct=this.textPaths[rt],st=at[it],it+=1,st._mdf.m&&(this.isMasked?lt.setAttribute("transform",st.m):(lt.style.webkitTransform=st.m,lt.style.transform=st.m)),lt.style.opacity=st.o,st.sw&&st._mdf.sw&&ct.setAttribute("stroke-width",st.sw),st.sc&&st._mdf.sc&&ct.setAttribute("stroke",st.sc),st.fc&&st._mdf.fc&&(ct.setAttribute("fill",st.fc),ct.style.color=st.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var ut=this.innerElem.getBBox();this.currentBBox.w!==ut.width&&(this.currentBBox.w=ut.width,this.svgElement.setAttribute("width",ut.width)),this.currentBBox.h!==ut.height&&(this.currentBBox.h=ut.height,this.svgElement.setAttribute("height",ut.height));var ft=1;if(this.currentBBox.w!==ut.width+ft*2||this.currentBBox.h!==ut.height+ft*2||this.currentBBox.x!==ut.x-ft||this.currentBBox.y!==ut.y-ft){this.currentBBox.w=ut.width+ft*2,this.currentBBox.h=ut.height+ft*2,this.currentBBox.x=ut.x-ft,this.currentBBox.y=ut.y-ft,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),et=this.svgElement.style;var ht="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";et.transform=ht,et.webkitTransform=ht}}}};function HCameraElement(et,tt,rt){this.initFrame(),this.initBaseData(et,tt,rt),this.initHierarchy();var nt=PropertyFactory.getProp;if(this.pe=nt(this,et.pe,0,0,this),et.ks.p.s?(this.px=nt(this,et.ks.p.x,1,0,this),this.py=nt(this,et.ks.p.y,1,0,this),this.pz=nt(this,et.ks.p.z,1,0,this)):this.p=nt(this,et.ks.p,1,0,this),et.ks.a&&(this.a=nt(this,et.ks.a,1,0,this)),et.ks.or.k.length&&et.ks.or.k[0].to){var it,at=et.ks.or.k.length;for(it=0;it<at;it+=1)et.ks.or.k[it].to=null,et.ks.or.k[it].ti=null}this.or=nt(this,et.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=nt(this,et.ks.rx,0,degToRads,this),this.ry=nt(this,et.ks.ry,0,degToRads,this),this.rz=nt(this,et.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var et,tt=this.comp.threeDElements.length,rt,nt,it;for(et=0;et<tt;et+=1)if(rt=this.comp.threeDElements[et],rt.type==="3d"){nt=rt.perspectiveElem.style,it=rt.container.style;var at=this.pe.v+"px",ot="0px 0px 0px",st="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";nt.perspective=at,nt.webkitPerspective=at,it.transformOrigin=ot,it.mozTransformOrigin=ot,it.webkitTransformOrigin=ot,nt.transform=st,nt.webkitTransform=st}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var et=this._isFirstFrame,tt,rt;if(this.hierarchy)for(rt=this.hierarchy.length,tt=0;tt<rt;tt+=1)et=this.hierarchy[tt].finalTransform.mProp._mdf||et;if(et||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(rt=this.hierarchy.length-1,tt=rt;tt>=0;tt-=1){var nt=this.hierarchy[tt].finalTransform.mProp;this.mat.translate(-nt.p.v[0],-nt.p.v[1],nt.p.v[2]),this.mat.rotateX(-nt.or.v[0]).rotateY(-nt.or.v[1]).rotateZ(nt.or.v[2]),this.mat.rotateX(-nt.rx.v).rotateY(-nt.ry.v).rotateZ(nt.rz.v),this.mat.scale(1/nt.s.v[0],1/nt.s.v[1],1/nt.s.v[2]),this.mat.translate(nt.a.v[0],nt.a.v[1],nt.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var it;this.p?it=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:it=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var at=Math.sqrt(Math.pow(it[0],2)+Math.pow(it[1],2)+Math.pow(it[2],2)),ot=[it[0]/at,it[1]/at,it[2]/at],st=Math.sqrt(ot[2]*ot[2]+ot[0]*ot[0]),lt=Math.atan2(ot[1],st),ct=Math.atan2(ot[0],-ot[2]);this.mat.rotateY(ct).rotateX(-lt)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var ut=!this._prevMat.equals(this.mat);if((ut||this.pe._mdf)&&this.comp.threeDElements){rt=this.comp.threeDElements.length;var ft,ht,dt;for(tt=0;tt<rt;tt+=1)if(ft=this.comp.threeDElements[tt],ft.type==="3d"){if(ut){var vt=this.mat.toCSS();dt=ft.container.style,dt.transform=vt,dt.webkitTransform=vt}this.pe._mdf&&(ht=ft.perspectiveElem.style,ht.perspective=this.pe.v+"px",ht.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(et){this.prepareProperties(et,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};function HImageElement(et,tt,rt){this.assetData=tt.getAssetData(et.refId),this.initElement(et,tt,rt)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var et=this.globalData.getAssetsPath(this.assetData),tt=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",et),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(tt),tt.crossOrigin="anonymous",tt.src=et,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HybridRendererBase(et,tt){this.animationItem=et,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:tt&&tt.className||"",imagePreserveAspectRatio:tt&&tt.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(tt&&tt.hideOnTransparent===!1),filterSize:{width:tt&&tt.filterSize&&tt.filterSize.width||"400%",height:tt&&tt.filterSize&&tt.filterSize.height||"400%",x:tt&&tt.filterSize&&tt.filterSize.x||"-100%",y:tt&&tt.filterSize&&tt.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var et=this.pendingElements.pop();et.checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function(et,tt){var rt=et.getBaseElement();if(rt){var nt=this.layers[tt];if(!nt.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer(rt,tt);else{for(var it=0,at,ot,st;it<tt;)this.elements[it]&&this.elements[it]!==!0&&this.elements[it].getBaseElement&&(ot=this.elements[it],st=this.layers[it].ddd?this.getThreeDContainerByPos(it):ot.getBaseElement(),at=st||at),it+=1;at?(!nt.ddd||!this.supports3d)&&this.layerElement.insertBefore(rt,at):(!nt.ddd||!this.supports3d)&&this.layerElement.appendChild(rt)}else this.addTo3dContainer(rt,tt)}},HybridRendererBase.prototype.createShape=function(et){return this.supports3d?new HShapeElement(et,this.globalData,this):new SVGShapeElement(et,this.globalData,this)},HybridRendererBase.prototype.createText=function(et){return this.supports3d?new HTextElement(et,this.globalData,this):new SVGTextLottieElement(et,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(et){return this.camera=new HCameraElement(et,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(et){return this.supports3d?new HImageElement(et,this.globalData,this):new IImageElement(et,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(et){return this.supports3d?new HSolidElement(et,this.globalData,this):new ISolidElement(et,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(et){for(var tt=0,rt=this.threeDElements.length;tt<rt;){if(this.threeDElements[tt].startPos<=et&&this.threeDElements[tt].endPos>=et)return this.threeDElements[tt].perspectiveElem;tt+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(et,tt){var rt=createTag("div"),nt,it;styleDiv(rt);var at=createTag("div");if(styleDiv(at),tt==="3d"){nt=rt.style,nt.width=this.globalData.compSize.w+"px",nt.height=this.globalData.compSize.h+"px";var ot="50% 50%";nt.webkitTransformOrigin=ot,nt.mozTransformOrigin=ot,nt.transformOrigin=ot,it=at.style;var st="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";it.transform=st,it.webkitTransform=st}rt.appendChild(at);var lt={container:at,perspectiveElem:rt,startPos:et,endPos:et,type:tt};return this.threeDElements.push(lt),lt},HybridRendererBase.prototype.build3dContainers=function(){var et,tt=this.layers.length,rt,nt="";for(et=0;et<tt;et+=1)this.layers[et].ddd&&this.layers[et].ty!==3?(nt!=="3d"&&(nt="3d",rt=this.createThreeDContainer(et,"3d")),rt.endPos=Math.max(rt.endPos,et)):(nt!=="2d"&&(nt="2d",rt=this.createThreeDContainer(et,"2d")),rt.endPos=Math.max(rt.endPos,et));for(tt=this.threeDElements.length,et=tt-1;et>=0;et-=1)this.resizerElem.appendChild(this.threeDElements[et].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(et,tt){for(var rt=0,nt=this.threeDElements.length;rt<nt;){if(tt<=this.threeDElements[rt].endPos){for(var it=this.threeDElements[rt].startPos,at;it<tt;)this.elements[it]&&this.elements[it].getBaseElement&&(at=this.elements[it].getBaseElement()),it+=1;at?this.threeDElements[rt].container.insertBefore(et,at):this.threeDElements[rt].container.appendChild(et);break}rt+=1}},HybridRendererBase.prototype.configAnimation=function(et){var tt=createTag("div"),rt=this.animationItem.wrapper,nt=tt.style;nt.width=et.w+"px",nt.height=et.h+"px",this.resizerElem=tt,styleDiv(tt),nt.transformStyle="flat",nt.mozTransformStyle="flat",nt.webkitTransformStyle="flat",this.renderConfig.className&&tt.setAttribute("class",this.renderConfig.className),rt.appendChild(tt),nt.overflow="hidden";var it=createNS("svg");it.setAttribute("width","1"),it.setAttribute("height","1"),styleDiv(it),this.resizerElem.appendChild(it);var at=createNS("defs");it.appendChild(at),this.data=et,this.setupGlobalData(et,it),this.globalData.defs=at,this.layers=et.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var et,tt=this.layers?this.layers.length:0;for(et=0;et<tt;et+=1)this.elements[et]&&this.elements[et].destroy&&this.elements[et].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var et=this.animationItem.wrapper.offsetWidth,tt=this.animationItem.wrapper.offsetHeight,rt=et/tt,nt=this.globalData.compSize.w/this.globalData.compSize.h,it,at,ot,st;nt>rt?(it=et/this.globalData.compSize.w,at=et/this.globalData.compSize.w,ot=0,st=(tt-this.globalData.compSize.h*(et/this.globalData.compSize.w))/2):(it=tt/this.globalData.compSize.h,at=tt/this.globalData.compSize.h,ot=(et-this.globalData.compSize.w*(tt/this.globalData.compSize.h))/2,st=0);var lt=this.resizerElem.style;lt.webkitTransform="matrix3d("+it+",0,0,0,0,"+at+",0,0,0,0,1,0,"+ot+","+st+",0,1)",lt.transform=lt.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var et=this.globalData.compSize.w,tt=this.globalData.compSize.h,rt,nt=this.threeDElements.length;for(rt=0;rt<nt;rt+=1){var it=this.threeDElements[rt].perspectiveElem.style;it.webkitPerspective=Math.sqrt(Math.pow(et,2)+Math.pow(tt,2))+"px",it.perspective=it.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(et){var tt,rt=et.length,nt=createTag("div");for(tt=0;tt<rt;tt+=1)if(et[tt].xt){var it=this.createComp(et[tt],nt,this.globalData.comp,null);it.initExpressions(),this.globalData.projectInterface.registerComposition(it)}};function HCompElement(et,tt,rt){this.layers=et.layers,this.supports3d=!et.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(et,tt,rt),this.tm=et.tm?PropertyFactory.getProp(this,et.tm,0,tt.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(et,tt){for(var rt=0,nt;rt<tt;)this.elements[rt]&&this.elements[rt].getBaseElement&&(nt=this.elements[rt].getBaseElement()),rt+=1;nt?this.layerElement.insertBefore(et,nt):this.layerElement.appendChild(et)},HCompElement.prototype.createComp=function(et){return this.supports3d?new HCompElement(et,this.globalData,this):new SVGCompElement(et,this.globalData,this)};function HybridRenderer(et,tt){this.animationItem=et,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:tt&&tt.className||"",imagePreserveAspectRatio:tt&&tt.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(tt&&tt.hideOnTransparent===!1),filterSize:{width:tt&&tt.filterSize&&tt.filterSize.width||"400%",height:tt&&tt.filterSize&&tt.filterSize.height||"400%",x:tt&&tt.filterSize&&tt.filterSize.x||"-100%",y:tt&&tt.filterSize&&tt.filterSize.y||"-100%"},runExpressions:!tt||tt.runExpressions===void 0||tt.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(et){return this.supports3d?new HCompElement(et,this.globalData,this):new SVGCompElement(et,this.globalData,this)};var CompExpressionInterface=function(){return function(et){function tt(rt){for(var nt=0,it=et.layers.length;nt<it;){if(et.layers[nt].nm===rt||et.layers[nt].ind===rt)return et.elements[nt].layerInterface;nt+=1}return null}return Object.defineProperty(tt,"_name",{value:et.data.nm}),tt.layer=tt,tt.pixelAspect=1,tt.height=et.data.h||et.globalData.compSize.h,tt.width=et.data.w||et.globalData.compSize.w,tt.pixelAspect=1,tt.frameDuration=1/et.globalData.frameRate,tt.displayStartTime=0,tt.numLayers=et.layers.length,tt}}();function _typeof$2(et){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$2=function(rt){return typeof rt}:_typeof$2=function(rt){return rt&&typeof Symbol=="function"&&rt.constructor===Symbol&&rt!==Symbol.prototype?"symbol":typeof rt},_typeof$2(et)}function seedRandom(et,tt){var rt=this,nt=256,it=6,at=52,ot="random",st=tt.pow(nt,it),lt=tt.pow(2,at),ct=lt*2,ut=nt-1,ft;function ht(pt,bt,Et){var St=[];bt=bt===!0?{entropy:!0}:bt||{};var Tt=xt(yt(bt.entropy?[pt,mt(et)]:pt===null?_t():pt,3),St),Pt=new dt(St),Rt=function(){for(var $t=Pt.g(it),kt=st,Ct=0;$t<lt;)$t=($t+Ct)*nt,kt*=nt,Ct=Pt.g(1);for(;$t>=ct;)$t/=2,kt/=2,Ct>>>=1;return($t+Ct)/kt};return Rt.int32=function(){return Pt.g(4)|0},Rt.quick=function(){return Pt.g(4)/4294967296},Rt.double=Rt,xt(mt(Pt.S),et),(bt.pass||Et||function(It,$t,kt,Ct){return Ct&&(Ct.S&&vt(Ct,Pt),It.state=function(){return vt(Pt,{})}),kt?(tt[ot]=It,$t):It})(Rt,Tt,"global"in bt?bt.global:this==tt,bt.state)}tt["seed"+ot]=ht;function dt(pt){var bt,Et=pt.length,St=this,Tt=0,Pt=St.i=St.j=0,Rt=St.S=[];for(Et||(pt=[Et++]);Tt<nt;)Rt[Tt]=Tt++;for(Tt=0;Tt<nt;Tt++)Rt[Tt]=Rt[Pt=ut&Pt+pt[Tt%Et]+(bt=Rt[Tt])],Rt[Pt]=bt;St.g=function(It){for(var $t,kt=0,Ct=St.i,Bt=St.j,Ft=St.S;It--;)$t=Ft[Ct=ut&Ct+1],kt=kt*nt+Ft[ut&(Ft[Ct]=Ft[Bt=ut&Bt+$t])+(Ft[Bt]=$t)];return St.i=Ct,St.j=Bt,kt}}function vt(pt,bt){return bt.i=pt.i,bt.j=pt.j,bt.S=pt.S.slice(),bt}function yt(pt,bt){var Et=[],St=_typeof$2(pt),Tt;if(bt&&St=="object")for(Tt in pt)try{Et.push(yt(pt[Tt],bt-1))}catch{}return Et.length?Et:St=="string"?pt:pt+"\0"}function xt(pt,bt){for(var Et=pt+"",St,Tt=0;Tt<Et.length;)bt[ut&Tt]=ut&(St^=bt[ut&Tt]*19)+Et.charCodeAt(Tt++);return mt(bt)}function _t(){try{var pt=new Uint8Array(nt);return(rt.crypto||rt.msCrypto).getRandomValues(pt),mt(pt)}catch{var bt=rt.navigator,Et=bt&&bt.plugins;return[+new Date,rt,Et,rt.screen,mt(et)]}}function mt(pt){return String.fromCharCode.apply(0,pt)}xt(tt.random(),et)}function initialize$2(et){seedRandom([],et)}var propTypes={SHAPE:"shape"};function _typeof$1(et){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$1=function(rt){return typeof rt}:_typeof$1=function(rt){return rt&&typeof Symbol=="function"&&rt.constructor===Symbol&&rt!==Symbol.prototype?"symbol":typeof rt},_typeof$1(et)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};initialize$2(BMMath);function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(et){return et.constructor===Array||et.constructor===Float32Array}function isNumerable(et,tt){return et==="number"||tt instanceof Number||et==="boolean"||et==="string"}function $bm_neg(et){var tt=_typeof$1(et);if(tt==="number"||et instanceof Number||tt==="boolean")return-et;if($bm_isInstanceOfArray(et)){var rt,nt=et.length,it=[];for(rt=0;rt<nt;rt+=1)it[rt]=-et[rt];return it}return et.propType?et.v:-et}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(et,tt){var rt=_typeof$1(et),nt=_typeof$1(tt);if(isNumerable(rt,et)&&isNumerable(nt,tt)||rt==="string"||nt==="string")return et+tt;if($bm_isInstanceOfArray(et)&&isNumerable(nt,tt))return et=et.slice(0),et[0]+=tt,et;if(isNumerable(rt,et)&&$bm_isInstanceOfArray(tt))return tt=tt.slice(0),tt[0]=et+tt[0],tt;if($bm_isInstanceOfArray(et)&&$bm_isInstanceOfArray(tt)){for(var it=0,at=et.length,ot=tt.length,st=[];it<at||it<ot;)(typeof et[it]=="number"||et[it]instanceof Number)&&(typeof tt[it]=="number"||tt[it]instanceof Number)?st[it]=et[it]+tt[it]:st[it]=tt[it]===void 0?et[it]:et[it]||tt[it],it+=1;return st}return 0}var add=sum;function sub(et,tt){var rt=_typeof$1(et),nt=_typeof$1(tt);if(isNumerable(rt,et)&&isNumerable(nt,tt))return rt==="string"&&(et=parseInt(et,10)),nt==="string"&&(tt=parseInt(tt,10)),et-tt;if($bm_isInstanceOfArray(et)&&isNumerable(nt,tt))return et=et.slice(0),et[0]-=tt,et;if(isNumerable(rt,et)&&$bm_isInstanceOfArray(tt))return tt=tt.slice(0),tt[0]=et-tt[0],tt;if($bm_isInstanceOfArray(et)&&$bm_isInstanceOfArray(tt)){for(var it=0,at=et.length,ot=tt.length,st=[];it<at||it<ot;)(typeof et[it]=="number"||et[it]instanceof Number)&&(typeof tt[it]=="number"||tt[it]instanceof Number)?st[it]=et[it]-tt[it]:st[it]=tt[it]===void 0?et[it]:et[it]||tt[it],it+=1;return st}return 0}function mul(et,tt){var rt=_typeof$1(et),nt=_typeof$1(tt),it;if(isNumerable(rt,et)&&isNumerable(nt,tt))return et*tt;var at,ot;if($bm_isInstanceOfArray(et)&&isNumerable(nt,tt)){for(ot=et.length,it=createTypedArray("float32",ot),at=0;at<ot;at+=1)it[at]=et[at]*tt;return it}if(isNumerable(rt,et)&&$bm_isInstanceOfArray(tt)){for(ot=tt.length,it=createTypedArray("float32",ot),at=0;at<ot;at+=1)it[at]=et*tt[at];return it}return 0}function div(et,tt){var rt=_typeof$1(et),nt=_typeof$1(tt),it;if(isNumerable(rt,et)&&isNumerable(nt,tt))return et/tt;var at,ot;if($bm_isInstanceOfArray(et)&&isNumerable(nt,tt)){for(ot=et.length,it=createTypedArray("float32",ot),at=0;at<ot;at+=1)it[at]=et[at]/tt;return it}if(isNumerable(rt,et)&&$bm_isInstanceOfArray(tt)){for(ot=tt.length,it=createTypedArray("float32",ot),at=0;at<ot;at+=1)it[at]=et/tt[at];return it}return 0}function mod(et,tt){return typeof et=="string"&&(et=parseInt(et,10)),typeof tt=="string"&&(tt=parseInt(tt,10)),et%tt}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(et,tt,rt){if(tt>rt){var nt=rt;rt=tt,tt=nt}return Math.min(Math.max(et,tt),rt)}function radiansToDegrees(et){return et/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(et){return et*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(et,tt){if(typeof et=="number"||et instanceof Number)return tt=tt||0,Math.abs(et-tt);tt||(tt=helperLengthArray);var rt,nt=Math.min(et.length,tt.length),it=0;for(rt=0;rt<nt;rt+=1)it+=Math.pow(tt[rt]-et[rt],2);return Math.sqrt(it)}function normalize(et){return div(et,length(et))}function rgbToHsl(et){var tt=et[0],rt=et[1],nt=et[2],it=Math.max(tt,rt,nt),at=Math.min(tt,rt,nt),ot,st,lt=(it+at)/2;if(it===at)ot=0,st=0;else{var ct=it-at;switch(st=lt>.5?ct/(2-it-at):ct/(it+at),it){case tt:ot=(rt-nt)/ct+(rt<nt?6:0);break;case rt:ot=(nt-tt)/ct+2;break;case nt:ot=(tt-rt)/ct+4;break}ot/=6}return[ot,st,lt,et[3]]}function hue2rgb(et,tt,rt){return rt<0&&(rt+=1),rt>1&&(rt-=1),rt<1/6?et+(tt-et)*6*rt:rt<1/2?tt:rt<2/3?et+(tt-et)*(2/3-rt)*6:et}function hslToRgb(et){var tt=et[0],rt=et[1],nt=et[2],it,at,ot;if(rt===0)it=nt,ot=nt,at=nt;else{var st=nt<.5?nt*(1+rt):nt+rt-nt*rt,lt=2*nt-st;it=hue2rgb(lt,st,tt+1/3),at=hue2rgb(lt,st,tt),ot=hue2rgb(lt,st,tt-1/3)}return[it,at,ot,et[3]]}function linear(et,tt,rt,nt,it){if((nt===void 0||it===void 0)&&(nt=tt,it=rt,tt=0,rt=1),rt<tt){var at=rt;rt=tt,tt=at}if(et<=tt)return nt;if(et>=rt)return it;var ot=rt===tt?0:(et-tt)/(rt-tt);if(!nt.length)return nt+(it-nt)*ot;var st,lt=nt.length,ct=createTypedArray("float32",lt);for(st=0;st<lt;st+=1)ct[st]=nt[st]+(it[st]-nt[st])*ot;return ct}function random(et,tt){if(tt===void 0&&(et===void 0?(et=0,tt=1):(tt=et,et=void 0)),tt.length){var rt,nt=tt.length;et||(et=createTypedArray("float32",nt));var it=createTypedArray("float32",nt),at=BMMath.random();for(rt=0;rt<nt;rt+=1)it[rt]=et[rt]+at*(tt[rt]-et[rt]);return it}et===void 0&&(et=0);var ot=BMMath.random();return et+ot*(tt-et)}function createPath(et,tt,rt,nt){var it,at=et.length,ot=shapePool.newElement();ot.setPathData(!!nt,at);var st=[0,0],lt,ct;for(it=0;it<at;it+=1)lt=tt&&tt[it]?tt[it]:st,ct=rt&&rt[it]?rt[it]:st,ot.setTripleAt(et[it][0],et[it][1],ct[0]+et[it][0],ct[1]+et[it][1],lt[0]+et[it][0],lt[1]+et[it][1],it,!0);return ot}function initiateExpression(elem,data,property){function noOp(et){return et}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=(function et(tt,rt){var nt,it,at=this.pv.length?this.pv.length:1,ot=createTypedArray("float32",at);tt=5;var st=Math.floor(time*tt);for(nt=0,it=0;nt<st;){for(it=0;it<at;it+=1)ot[it]+=-rt+rt*2*BMMath.random();nt+=1}var lt=time*tt,ct=lt-Math.floor(lt),ut=createTypedArray("float32",at);if(at>1){for(it=0;it<at;it+=1)ut[it]=this.pv[it]+ot[it]+(-rt+rt*2*BMMath.random())*ct;return ut}return this.pv+ot[0]+(-rt+rt*2*BMMath.random())*ct}).bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty));function loopInDuration(et,tt){return loopIn(et,tt,!0)}function loopOutDuration(et,tt){return loopOut(et,tt,!0)}this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(et,tt){var rt=[tt[0]-et[0],tt[1]-et[1],tt[2]-et[2]],nt=Math.atan2(rt[0],Math.sqrt(rt[1]*rt[1]+rt[2]*rt[2]))/degToRads,it=-Math.atan2(rt[1],rt[2])/degToRads;return[it,nt,0]}function easeOut(et,tt,rt,nt,it){return applyEase(easeOutBez,et,tt,rt,nt,it)}function easeIn(et,tt,rt,nt,it){return applyEase(easeInBez,et,tt,rt,nt,it)}function ease(et,tt,rt,nt,it){return applyEase(easeInOutBez,et,tt,rt,nt,it)}function applyEase(et,tt,rt,nt,it,at){it===void 0?(it=rt,at=nt):tt=(tt-rt)/(nt-rt),tt>1?tt=1:tt<0&&(tt=0);var ot=et(tt);if($bm_isInstanceOfArray(it)){var st,lt=it.length,ct=createTypedArray("float32",lt);for(st=0;st<lt;st+=1)ct[st]=(at[st]-it[st])*ot+it[st];return ct}return(at-it)*ot+it}function nearestKey(et){var tt,rt=data.k.length,nt,it;if(!data.k.length||typeof data.k[0]=="number")nt=0,it=0;else if(nt=-1,et*=elem.comp.globalData.frameRate,et<data.k[0].t)nt=1,it=data.k[0].t;else{for(tt=0;tt<rt-1;tt+=1)if(et===data.k[tt].t){nt=tt+1,it=data.k[tt].t;break}else if(et>data.k[tt].t&&et<data.k[tt+1].t){et-data.k[tt].t>data.k[tt+1].t-et?(nt=tt+2,it=data.k[tt+1].t):(nt=tt+1,it=data.k[tt].t);break}nt===-1&&(nt=tt+1,it=data.k[tt].t)}var at={};return at.index=nt,at.time=it/elem.comp.globalData.frameRate,at}function key(et){var tt,rt,nt;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+et);et-=1,tt={time:data.k[et].t/elem.comp.globalData.frameRate,value:[]};var it=Object.prototype.hasOwnProperty.call(data.k[et],"s")?data.k[et].s:data.k[et-1].e;for(nt=it.length,rt=0;rt<nt;rt+=1)tt[rt]=it[rt],tt.value[rt]=it[rt];return tt}function framesToTime(et,tt){return tt||(tt=elem.comp.globalData.frameRate),et/tt}function timeToFrames(et,tt){return!et&&et!==0&&(et=time),tt||(tt=elem.comp.globalData.frameRate),et*tt}function seedRandom(et){BMMath.seedrandom(randSeed+et)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(et,tt){return typeof value=="string"?tt===void 0?value.substring(et):value.substring(et,tt):""}function substr(et,tt){return typeof value=="string"?tt===void 0?value.substr(et):value.substr(et,tt):""}function posterizeTime(et){time=et===0?0:Math.floor(time*et)/et,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6),globalData=elem.globalData;function executeExpression(et){return value=et,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob}(),Expressions=function(){var et={};et.initExpressions=tt,et.resetFrame=ExpressionManager.resetFrame;function tt(rt){var nt=0,it=[];function at(){nt+=1}function ot(){nt-=1,nt===0&&lt()}function st(ct){it.indexOf(ct)===-1&&it.push(ct)}function lt(){var ct,ut=it.length;for(ct=0;ct<ut;ct+=1)it[ct].release();it.length=0}rt.renderer.compInterface=CompExpressionInterface(rt.renderer),rt.renderer.globalData.projectInterface.registerComposition(rt.renderer),rt.renderer.globalData.pushExpression=at,rt.renderer.globalData.popExpression=ot,rt.renderer.globalData.registerExpressionProperty=st}return et}(),MaskManagerInterface=function(){function et(rt,nt){this._mask=rt,this._data=nt}Object.defineProperty(et.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(et.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var tt=function(nt){var it=createSizedArray(nt.viewData.length),at,ot=nt.viewData.length;for(at=0;at<ot;at+=1)it[at]=new et(nt.viewData[at],nt.masksProperties[at]);var st=function(ct){for(at=0;at<ot;){if(nt.masksProperties[at].nm===ct)return it[at];at+=1}return null};return st};return tt}(),ExpressionPropertyInterface=function(){var et={pv:0,v:0,mult:1},tt={pv:[0,0,0],v:[0,0,0],mult:1};function rt(ot,st,lt){Object.defineProperty(ot,"velocity",{get:function(){return st.getVelocityAtTime(st.comp.currentFrame)}}),ot.numKeys=st.keyframes?st.keyframes.length:0,ot.key=function(ct){if(!ot.numKeys)return 0;var ut="";"s"in st.keyframes[ct-1]?ut=st.keyframes[ct-1].s:"e"in st.keyframes[ct-2]?ut=st.keyframes[ct-2].e:ut=st.keyframes[ct-2].s;var ft=lt==="unidimensional"?new Number(ut):Object.assign({},ut);return ft.time=st.keyframes[ct-1].t/st.elem.comp.globalData.frameRate,ft.value=lt==="unidimensional"?ut[0]:ut,ft},ot.valueAtTime=st.getValueAtTime,ot.speedAtTime=st.getSpeedAtTime,ot.velocityAtTime=st.getVelocityAtTime,ot.propertyGroup=st.propertyGroup}function nt(ot){(!ot||!("pv"in ot))&&(ot=et);var st=1/ot.mult,lt=ot.pv*st,ct=new Number(lt);return ct.value=lt,rt(ct,ot,"unidimensional"),function(){return ot.k&&ot.getValue(),lt=ot.v*st,ct.value!==lt&&(ct=new Number(lt),ct.value=lt,rt(ct,ot,"unidimensional")),ct}}function it(ot){(!ot||!("pv"in ot))&&(ot=tt);var st=1/ot.mult,lt=ot.data&&ot.data.l||ot.pv.length,ct=createTypedArray("float32",lt),ut=createTypedArray("float32",lt);return ct.value=ut,rt(ct,ot,"multidimensional"),function(){ot.k&&ot.getValue();for(var ft=0;ft<lt;ft+=1)ut[ft]=ot.v[ft]*st,ct[ft]=ut[ft];return ct}}function at(){return et}return function(ot){return ot?ot.propType==="unidimensional"?nt(ot):it(ot):at}}(),TransformExpressionInterface=function(){return function(et){function tt(ot){switch(ot){case"scale":case"Scale":case"ADBE Scale":case 6:return tt.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return tt.rotation;case"ADBE Rotate X":return tt.xRotation;case"ADBE Rotate Y":return tt.yRotation;case"position":case"Position":case"ADBE Position":case 2:return tt.position;case"ADBE Position_0":return tt.xPosition;case"ADBE Position_1":return tt.yPosition;case"ADBE Position_2":return tt.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return tt.anchorPoint;case"opacity":case"Opacity":case 11:return tt.opacity;default:return null}}Object.defineProperty(tt,"rotation",{get:ExpressionPropertyInterface(et.r||et.rz)}),Object.defineProperty(tt,"zRotation",{get:ExpressionPropertyInterface(et.rz||et.r)}),Object.defineProperty(tt,"xRotation",{get:ExpressionPropertyInterface(et.rx)}),Object.defineProperty(tt,"yRotation",{get:ExpressionPropertyInterface(et.ry)}),Object.defineProperty(tt,"scale",{get:ExpressionPropertyInterface(et.s)});var rt,nt,it,at;return et.p?at=ExpressionPropertyInterface(et.p):(rt=ExpressionPropertyInterface(et.px),nt=ExpressionPropertyInterface(et.py),et.pz&&(it=ExpressionPropertyInterface(et.pz))),Object.defineProperty(tt,"position",{get:function(){return et.p?at():[rt(),nt(),it?it():0]}}),Object.defineProperty(tt,"xPosition",{get:ExpressionPropertyInterface(et.px)}),Object.defineProperty(tt,"yPosition",{get:ExpressionPropertyInterface(et.py)}),Object.defineProperty(tt,"zPosition",{get:ExpressionPropertyInterface(et.pz)}),Object.defineProperty(tt,"anchorPoint",{get:ExpressionPropertyInterface(et.a)}),Object.defineProperty(tt,"opacity",{get:ExpressionPropertyInterface(et.o)}),Object.defineProperty(tt,"skew",{get:ExpressionPropertyInterface(et.sk)}),Object.defineProperty(tt,"skewAxis",{get:ExpressionPropertyInterface(et.sa)}),Object.defineProperty(tt,"orientation",{get:ExpressionPropertyInterface(et.or)}),tt}}(),LayerExpressionInterface=function(){function et(ct){var ut=new Matrix;if(ct!==void 0){var ft=this._elem.finalTransform.mProp.getValueAtTime(ct);ft.clone(ut)}else{var ht=this._elem.finalTransform.mProp;ht.applyToMatrix(ut)}return ut}function tt(ct,ut){var ft=this.getMatrix(ut);return ft.props[12]=0,ft.props[13]=0,ft.props[14]=0,this.applyPoint(ft,ct)}function rt(ct,ut){var ft=this.getMatrix(ut);return this.applyPoint(ft,ct)}function nt(ct,ut){var ft=this.getMatrix(ut);return ft.props[12]=0,ft.props[13]=0,ft.props[14]=0,this.invertPoint(ft,ct)}function it(ct,ut){var ft=this.getMatrix(ut);return this.invertPoint(ft,ct)}function at(ct,ut){if(this._elem.hierarchy&&this._elem.hierarchy.length){var ft,ht=this._elem.hierarchy.length;for(ft=0;ft<ht;ft+=1)this._elem.hierarchy[ft].finalTransform.mProp.applyToMatrix(ct)}return ct.applyToPointArray(ut[0],ut[1],ut[2]||0)}function ot(ct,ut){if(this._elem.hierarchy&&this._elem.hierarchy.length){var ft,ht=this._elem.hierarchy.length;for(ft=0;ft<ht;ft+=1)this._elem.hierarchy[ft].finalTransform.mProp.applyToMatrix(ct)}return ct.inversePoint(ut)}function st(ct){var ut=new Matrix;if(ut.reset(),this._elem.finalTransform.mProp.applyToMatrix(ut),this._elem.hierarchy&&this._elem.hierarchy.length){var ft,ht=this._elem.hierarchy.length;for(ft=0;ft<ht;ft+=1)this._elem.hierarchy[ft].finalTransform.mProp.applyToMatrix(ut);return ut.inversePoint(ct)}return ut.inversePoint(ct)}function lt(){return[1,1,1,1]}return function(ct){var ut;function ft(yt){dt.mask=new MaskManagerInterface(yt,ct)}function ht(yt){dt.effect=yt}function dt(yt){switch(yt){case"ADBE Root Vectors Group":case"Contents":case 2:return dt.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return ut;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return dt.effect;case"ADBE Text Properties":return dt.textInterface;default:return null}}dt.getMatrix=et,dt.invertPoint=ot,dt.applyPoint=at,dt.toWorld=rt,dt.toWorldVec=tt,dt.fromWorld=it,dt.fromWorldVec=nt,dt.toComp=rt,dt.fromComp=st,dt.sampleImage=lt,dt.sourceRectAtTime=ct.sourceRectAtTime.bind(ct),dt._elem=ct,ut=TransformExpressionInterface(ct.finalTransform.mProp);var vt=getDescriptor(ut,"anchorPoint");return Object.defineProperties(dt,{hasParent:{get:function(){return ct.hierarchy.length}},parent:{get:function(){return ct.hierarchy[0].layerInterface}},rotation:getDescriptor(ut,"rotation"),scale:getDescriptor(ut,"scale"),position:getDescriptor(ut,"position"),opacity:getDescriptor(ut,"opacity"),anchorPoint:vt,anchor_point:vt,transform:{get:function(){return ut}},active:{get:function(){return ct.isInRange}}}),dt.startTime=ct.data.st,dt.index=ct.data.ind,dt.source=ct.data.refId,dt.height=ct.data.ty===0?ct.data.h:100,dt.width=ct.data.ty===0?ct.data.w:100,dt.inPoint=ct.data.ip/ct.comp.globalData.frameRate,dt.outPoint=ct.data.op/ct.comp.globalData.frameRate,dt._name=ct.data.nm,dt.registerMaskInterface=ft,dt.registerEffectsInterface=ht,dt}}(),propertyGroupFactory=function(){return function(et,tt){return function(rt){return rt=rt===void 0?1:rt,rt<=0?et:tt(rt-1)}}}(),PropertyInterface=function(){return function(et,tt){var rt={_name:et};function nt(it){return it=it===void 0?1:it,it<=0?rt:tt(it-1)}return nt}}(),EffectsExpressionInterface=function(){var et={createEffectsInterface:tt};function tt(it,at){if(it.effectsManager){var ot=[],st=it.data.ef,lt,ct=it.effectsManager.effectElements.length;for(lt=0;lt<ct;lt+=1)ot.push(rt(st[lt],it.effectsManager.effectElements[lt],at,it));var ut=it.data.ef||[],ft=function(dt){for(lt=0,ct=ut.length;lt<ct;){if(dt===ut[lt].nm||dt===ut[lt].mn||dt===ut[lt].ix)return ot[lt];lt+=1}return null};return Object.defineProperty(ft,"numProperties",{get:function(){return ut.length}}),ft}return null}function rt(it,at,ot,st){function lt(dt){for(var vt=it.ef,yt=0,xt=vt.length;yt<xt;){if(dt===vt[yt].nm||dt===vt[yt].mn||dt===vt[yt].ix)return vt[yt].ty===5?ut[yt]:ut[yt]();yt+=1}throw new Error}var ct=propertyGroupFactory(lt,ot),ut=[],ft,ht=it.ef.length;for(ft=0;ft<ht;ft+=1)it.ef[ft].ty===5?ut.push(rt(it.ef[ft],at.effectElements[ft],at.effectElements[ft].propertyGroup,st)):ut.push(nt(at.effectElements[ft],it.ef[ft].ty,st,ct));return it.mn==="ADBE Color Control"&&Object.defineProperty(lt,"color",{get:function(){return ut[0]()}}),Object.defineProperties(lt,{numProperties:{get:function(){return it.np}},_name:{value:it.nm},propertyGroup:{value:ct}}),lt.enabled=it.en!==0,lt.active=lt.enabled,lt}function nt(it,at,ot,st){var lt=ExpressionPropertyInterface(it.p);function ct(){return at===10?ot.comp.compInterface(it.p.v):lt()}return it.p.setGroupProperty&&it.p.setGroupProperty(PropertyInterface("",st)),ct}return et}(),ShapePathInterface=function(){return function(tt,rt,nt){var it=rt.sh;function at(st){return st==="Shape"||st==="shape"||st==="Path"||st==="path"||st==="ADBE Vector Shape"||st===2?at.path:null}var ot=propertyGroupFactory(at,nt);return it.setGroupProperty(PropertyInterface("Path",ot)),Object.defineProperties(at,{path:{get:function(){return it.k&&it.getValue(),it}},shape:{get:function(){return it.k&&it.getValue(),it}},_name:{value:tt.nm},ix:{value:tt.ix},propertyIndex:{value:tt.ix},mn:{value:tt.mn},propertyGroup:{value:nt}}),at}}(),ShapeExpressionInterface=function(){function et(vt,yt,xt){var _t=[],mt,pt=vt?vt.length:0;for(mt=0;mt<pt;mt+=1)vt[mt].ty==="gr"?_t.push(rt(vt[mt],yt[mt],xt)):vt[mt].ty==="fl"?_t.push(nt(vt[mt],yt[mt],xt)):vt[mt].ty==="st"?_t.push(ot(vt[mt],yt[mt],xt)):vt[mt].ty==="tm"?_t.push(st(vt[mt],yt[mt],xt)):vt[mt].ty==="tr"||(vt[mt].ty==="el"?_t.push(ct(vt[mt],yt[mt],xt)):vt[mt].ty==="sr"?_t.push(ut(vt[mt],yt[mt],xt)):vt[mt].ty==="sh"?_t.push(ShapePathInterface(vt[mt],yt[mt],xt)):vt[mt].ty==="rc"?_t.push(ft(vt[mt],yt[mt],xt)):vt[mt].ty==="rd"?_t.push(ht(vt[mt],yt[mt],xt)):vt[mt].ty==="rp"?_t.push(dt(vt[mt],yt[mt],xt)):vt[mt].ty==="gf"?_t.push(it(vt[mt],yt[mt],xt)):_t.push(at(vt[mt],yt[mt])));return _t}function tt(vt,yt,xt){var _t,mt=function(Et){for(var St=0,Tt=_t.length;St<Tt;){if(_t[St]._name===Et||_t[St].mn===Et||_t[St].propertyIndex===Et||_t[St].ix===Et||_t[St].ind===Et)return _t[St];St+=1}return typeof Et=="number"?_t[Et-1]:null};mt.propertyGroup=propertyGroupFactory(mt,xt),_t=et(vt.it,yt.it,mt.propertyGroup),mt.numProperties=_t.length;var pt=lt(vt.it[vt.it.length-1],yt.it[yt.it.length-1],mt.propertyGroup);return mt.transform=pt,mt.propertyIndex=vt.cix,mt._name=vt.nm,mt}function rt(vt,yt,xt){var _t=function(Et){switch(Et){case"ADBE Vectors Group":case"Contents":case 2:return _t.content;default:return _t.transform}};_t.propertyGroup=propertyGroupFactory(_t,xt);var mt=tt(vt,yt,_t.propertyGroup),pt=lt(vt.it[vt.it.length-1],yt.it[yt.it.length-1],_t.propertyGroup);return _t.content=mt,_t.transform=pt,Object.defineProperty(_t,"_name",{get:function(){return vt.nm}}),_t.numProperties=vt.np,_t.propertyIndex=vt.ix,_t.nm=vt.nm,_t.mn=vt.mn,_t}function nt(vt,yt,xt){function _t(mt){return mt==="Color"||mt==="color"?_t.color:mt==="Opacity"||mt==="opacity"?_t.opacity:null}return Object.defineProperties(_t,{color:{get:ExpressionPropertyInterface(yt.c)},opacity:{get:ExpressionPropertyInterface(yt.o)},_name:{value:vt.nm},mn:{value:vt.mn}}),yt.c.setGroupProperty(PropertyInterface("Color",xt)),yt.o.setGroupProperty(PropertyInterface("Opacity",xt)),_t}function it(vt,yt,xt){function _t(mt){return mt==="Start Point"||mt==="start point"?_t.startPoint:mt==="End Point"||mt==="end point"?_t.endPoint:mt==="Opacity"||mt==="opacity"?_t.opacity:null}return Object.defineProperties(_t,{startPoint:{get:ExpressionPropertyInterface(yt.s)},endPoint:{get:ExpressionPropertyInterface(yt.e)},opacity:{get:ExpressionPropertyInterface(yt.o)},type:{get:function(){return"a"}},_name:{value:vt.nm},mn:{value:vt.mn}}),yt.s.setGroupProperty(PropertyInterface("Start Point",xt)),yt.e.setGroupProperty(PropertyInterface("End Point",xt)),yt.o.setGroupProperty(PropertyInterface("Opacity",xt)),_t}function at(){function vt(){return null}return vt}function ot(vt,yt,xt){var _t=propertyGroupFactory(Tt,xt),mt=propertyGroupFactory(St,_t);function pt(Pt){Object.defineProperty(St,vt.d[Pt].nm,{get:ExpressionPropertyInterface(yt.d.dataProps[Pt].p)})}var bt,Et=vt.d?vt.d.length:0,St={};for(bt=0;bt<Et;bt+=1)pt(bt),yt.d.dataProps[bt].p.setGroupProperty(mt);function Tt(Pt){return Pt==="Color"||Pt==="color"?Tt.color:Pt==="Opacity"||Pt==="opacity"?Tt.opacity:Pt==="Stroke Width"||Pt==="stroke width"?Tt.strokeWidth:null}return Object.defineProperties(Tt,{color:{get:ExpressionPropertyInterface(yt.c)},opacity:{get:ExpressionPropertyInterface(yt.o)},strokeWidth:{get:ExpressionPropertyInterface(yt.w)},dash:{get:function(){return St}},_name:{value:vt.nm},mn:{value:vt.mn}}),yt.c.setGroupProperty(PropertyInterface("Color",_t)),yt.o.setGroupProperty(PropertyInterface("Opacity",_t)),yt.w.setGroupProperty(PropertyInterface("Stroke Width",_t)),Tt}function st(vt,yt,xt){function _t(pt){return pt===vt.e.ix||pt==="End"||pt==="end"?_t.end:pt===vt.s.ix?_t.start:pt===vt.o.ix?_t.offset:null}var mt=propertyGroupFactory(_t,xt);return _t.propertyIndex=vt.ix,yt.s.setGroupProperty(PropertyInterface("Start",mt)),yt.e.setGroupProperty(PropertyInterface("End",mt)),yt.o.setGroupProperty(PropertyInterface("Offset",mt)),_t.propertyIndex=vt.ix,_t.propertyGroup=xt,Object.defineProperties(_t,{start:{get:ExpressionPropertyInterface(yt.s)},end:{get:ExpressionPropertyInterface(yt.e)},offset:{get:ExpressionPropertyInterface(yt.o)},_name:{value:vt.nm}}),_t.mn=vt.mn,_t}function lt(vt,yt,xt){function _t(pt){return vt.a.ix===pt||pt==="Anchor Point"?_t.anchorPoint:vt.o.ix===pt||pt==="Opacity"?_t.opacity:vt.p.ix===pt||pt==="Position"?_t.position:vt.r.ix===pt||pt==="Rotation"||pt==="ADBE Vector Rotation"?_t.rotation:vt.s.ix===pt||pt==="Scale"?_t.scale:vt.sk&&vt.sk.ix===pt||pt==="Skew"?_t.skew:vt.sa&&vt.sa.ix===pt||pt==="Skew Axis"?_t.skewAxis:null}var mt=propertyGroupFactory(_t,xt);return yt.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",mt)),yt.transform.mProps.p.setGroupProperty(PropertyInterface("Position",mt)),yt.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",mt)),yt.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",mt)),yt.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",mt)),yt.transform.mProps.sk&&(yt.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",mt)),yt.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",mt))),yt.transform.op.setGroupProperty(PropertyInterface("Opacity",mt)),Object.defineProperties(_t,{opacity:{get:ExpressionPropertyInterface(yt.transform.mProps.o)},position:{get:ExpressionPropertyInterface(yt.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(yt.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(yt.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(yt.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(yt.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(yt.transform.mProps.sa)},_name:{value:vt.nm}}),_t.ty="tr",_t.mn=vt.mn,_t.propertyGroup=xt,_t}function ct(vt,yt,xt){function _t(bt){return vt.p.ix===bt?_t.position:vt.s.ix===bt?_t.size:null}var mt=propertyGroupFactory(_t,xt);_t.propertyIndex=vt.ix;var pt=yt.sh.ty==="tm"?yt.sh.prop:yt.sh;return pt.s.setGroupProperty(PropertyInterface("Size",mt)),pt.p.setGroupProperty(PropertyInterface("Position",mt)),Object.defineProperties(_t,{size:{get:ExpressionPropertyInterface(pt.s)},position:{get:ExpressionPropertyInterface(pt.p)},_name:{value:vt.nm}}),_t.mn=vt.mn,_t}function ut(vt,yt,xt){function _t(bt){return vt.p.ix===bt?_t.position:vt.r.ix===bt?_t.rotation:vt.pt.ix===bt?_t.points:vt.or.ix===bt||bt==="ADBE Vector Star Outer Radius"?_t.outerRadius:vt.os.ix===bt?_t.outerRoundness:vt.ir&&(vt.ir.ix===bt||bt==="ADBE Vector Star Inner Radius")?_t.innerRadius:vt.is&&vt.is.ix===bt?_t.innerRoundness:null}var mt=propertyGroupFactory(_t,xt),pt=yt.sh.ty==="tm"?yt.sh.prop:yt.sh;return _t.propertyIndex=vt.ix,pt.or.setGroupProperty(PropertyInterface("Outer Radius",mt)),pt.os.setGroupProperty(PropertyInterface("Outer Roundness",mt)),pt.pt.setGroupProperty(PropertyInterface("Points",mt)),pt.p.setGroupProperty(PropertyInterface("Position",mt)),pt.r.setGroupProperty(PropertyInterface("Rotation",mt)),vt.ir&&(pt.ir.setGroupProperty(PropertyInterface("Inner Radius",mt)),pt.is.setGroupProperty(PropertyInterface("Inner Roundness",mt))),Object.defineProperties(_t,{position:{get:ExpressionPropertyInterface(pt.p)},rotation:{get:ExpressionPropertyInterface(pt.r)},points:{get:ExpressionPropertyInterface(pt.pt)},outerRadius:{get:ExpressionPropertyInterface(pt.or)},outerRoundness:{get:ExpressionPropertyInterface(pt.os)},innerRadius:{get:ExpressionPropertyInterface(pt.ir)},innerRoundness:{get:ExpressionPropertyInterface(pt.is)},_name:{value:vt.nm}}),_t.mn=vt.mn,_t}function ft(vt,yt,xt){function _t(bt){return vt.p.ix===bt?_t.position:vt.r.ix===bt?_t.roundness:vt.s.ix===bt||bt==="Size"||bt==="ADBE Vector Rect Size"?_t.size:null}var mt=propertyGroupFactory(_t,xt),pt=yt.sh.ty==="tm"?yt.sh.prop:yt.sh;return _t.propertyIndex=vt.ix,pt.p.setGroupProperty(PropertyInterface("Position",mt)),pt.s.setGroupProperty(PropertyInterface("Size",mt)),pt.r.setGroupProperty(PropertyInterface("Rotation",mt)),Object.defineProperties(_t,{position:{get:ExpressionPropertyInterface(pt.p)},roundness:{get:ExpressionPropertyInterface(pt.r)},size:{get:ExpressionPropertyInterface(pt.s)},_name:{value:vt.nm}}),_t.mn=vt.mn,_t}function ht(vt,yt,xt){function _t(bt){return vt.r.ix===bt||bt==="Round Corners 1"?_t.radius:null}var mt=propertyGroupFactory(_t,xt),pt=yt;return _t.propertyIndex=vt.ix,pt.rd.setGroupProperty(PropertyInterface("Radius",mt)),Object.defineProperties(_t,{radius:{get:ExpressionPropertyInterface(pt.rd)},_name:{value:vt.nm}}),_t.mn=vt.mn,_t}function dt(vt,yt,xt){function _t(bt){return vt.c.ix===bt||bt==="Copies"?_t.copies:vt.o.ix===bt||bt==="Offset"?_t.offset:null}var mt=propertyGroupFactory(_t,xt),pt=yt;return _t.propertyIndex=vt.ix,pt.c.setGroupProperty(PropertyInterface("Copies",mt)),pt.o.setGroupProperty(PropertyInterface("Offset",mt)),Object.defineProperties(_t,{copies:{get:ExpressionPropertyInterface(pt.c)},offset:{get:ExpressionPropertyInterface(pt.o)},_name:{value:vt.nm}}),_t.mn=vt.mn,_t}return function(vt,yt,xt){var _t;function mt(bt){if(typeof bt=="number")return bt=bt===void 0?1:bt,bt===0?xt:_t[bt-1];for(var Et=0,St=_t.length;Et<St;){if(_t[Et]._name===bt)return _t[Et];Et+=1}return null}function pt(){return xt}return mt.propertyGroup=propertyGroupFactory(mt,pt),_t=et(vt,yt,mt.propertyGroup),mt.numProperties=_t.length,mt._name="Contents",mt}}(),TextExpressionInterface=function(){return function(et){var tt;function rt(nt){switch(nt){case"ADBE Text Document":return rt.sourceText;default:return null}}return Object.defineProperty(rt,"sourceText",{get:function(){et.textProperty.getValue();var it=et.textProperty.currentData.t;return(!tt||it!==tt.value)&&(tt=new String(it),tt.value=it||new String(it),Object.defineProperty(tt,"style",{get:function(){return{fillColor:et.textProperty.currentData.fc}}})),tt}}),rt}}();function _typeof(et){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(rt){return typeof rt}:_typeof=function(rt){return rt&&typeof Symbol=="function"&&rt.constructor===Symbol&&rt!==Symbol.prototype?"symbol":typeof rt},_typeof(et)}var FootageInterface=function(){var et=function(nt){var it="",at=nt.getFootageData();function ot(){return it="",at=nt.getFootageData(),st}function st(lt){if(at[lt])return it=lt,at=at[lt],_typeof(at)==="object"?st:at;var ct=lt.indexOf(it);if(ct!==-1){var ut=parseInt(lt.substr(ct+it.length),10);return at=at[ut],_typeof(at)==="object"?st:at}return""}return ot},tt=function(nt){function it(at){return at==="Outline"?it.outlineInterface():null}return it._name="Outline",it.outlineInterface=et(nt),it};return function(rt){function nt(it){return it==="Data"?nt.dataInterface:null}return nt._name="Data",nt.dataInterface=tt(rt),nt}}(),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(et){return interfaces[et]||null}var expressionHelpers=function(){function et(ot,st,lt){st.x&&(lt.k=!0,lt.x=!0,lt.initiateExpression=ExpressionManager.initiateExpression,lt.effectsSequence.push(lt.initiateExpression(ot,st,lt).bind(lt)))}function tt(ot){return ot*=this.elem.globalData.frameRate,ot-=this.offsetTime,ot!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<ot?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(ot,this._cachingAtTime),this._cachingAtTime.lastFrame=ot),this._cachingAtTime.value}function rt(ot){var st=-.01,lt=this.getValueAtTime(ot),ct=this.getValueAtTime(ot+st),ut=0;if(lt.length){var ft;for(ft=0;ft<lt.length;ft+=1)ut+=Math.pow(ct[ft]-lt[ft],2);ut=Math.sqrt(ut)*100}else ut=0;return ut}function nt(ot){if(this.vel!==void 0)return this.vel;var st=-.001,lt=this.getValueAtTime(ot),ct=this.getValueAtTime(ot+st),ut;if(lt.length){ut=createTypedArray("float32",lt.length);var ft;for(ft=0;ft<lt.length;ft+=1)ut[ft]=(ct[ft]-lt[ft])/st}else ut=(ct-lt)/st;return ut}function it(){return this.pv}function at(ot){this.propertyGroup=ot}return{searchExpressions:et,getSpeedAtTime:rt,getVelocityAtTime:nt,getValueAtTime:tt,getStaticValueAtTime:it,setGroupProperty:at}}();function addPropertyDecorator(){function et(ht,dt,vt){if(!this.k||!this.keyframes)return this.pv;ht=ht?ht.toLowerCase():"";var yt=this.comp.renderedFrame,xt=this.keyframes,_t=xt[xt.length-1].t;if(yt<=_t)return this.pv;var mt,pt;vt?(dt?mt=Math.abs(_t-this.elem.comp.globalData.frameRate*dt):mt=Math.max(0,_t-this.elem.data.ip),pt=_t-mt):((!dt||dt>xt.length-1)&&(dt=xt.length-1),pt=xt[xt.length-1-dt].t,mt=_t-pt);var bt,Et,St;if(ht==="pingpong"){var Tt=Math.floor((yt-pt)/mt);if(Tt%2!==0)return this.getValueAtTime((mt-(yt-pt)%mt+pt)/this.comp.globalData.frameRate,0)}else if(ht==="offset"){var Pt=this.getValueAtTime(pt/this.comp.globalData.frameRate,0),Rt=this.getValueAtTime(_t/this.comp.globalData.frameRate,0),It=this.getValueAtTime(((yt-pt)%mt+pt)/this.comp.globalData.frameRate,0),$t=Math.floor((yt-pt)/mt);if(this.pv.length){for(St=new Array(Pt.length),Et=St.length,bt=0;bt<Et;bt+=1)St[bt]=(Rt[bt]-Pt[bt])*$t+It[bt];return St}return(Rt-Pt)*$t+It}else if(ht==="continue"){var kt=this.getValueAtTime(_t/this.comp.globalData.frameRate,0),Ct=this.getValueAtTime((_t-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(St=new Array(kt.length),Et=St.length,bt=0;bt<Et;bt+=1)St[bt]=kt[bt]+(kt[bt]-Ct[bt])*((yt-_t)/this.comp.globalData.frameRate)/5e-4;return St}return kt+(kt-Ct)*((yt-_t)/.001)}return this.getValueAtTime(((yt-pt)%mt+pt)/this.comp.globalData.frameRate,0)}function tt(ht,dt,vt){if(!this.k)return this.pv;ht=ht?ht.toLowerCase():"";var yt=this.comp.renderedFrame,xt=this.keyframes,_t=xt[0].t;if(yt>=_t)return this.pv;var mt,pt;vt?(dt?mt=Math.abs(this.elem.comp.globalData.frameRate*dt):mt=Math.max(0,this.elem.data.op-_t),pt=_t+mt):((!dt||dt>xt.length-1)&&(dt=xt.length-1),pt=xt[dt].t,mt=pt-_t);var bt,Et,St;if(ht==="pingpong"){var Tt=Math.floor((_t-yt)/mt);if(Tt%2===0)return this.getValueAtTime(((_t-yt)%mt+_t)/this.comp.globalData.frameRate,0)}else if(ht==="offset"){var Pt=this.getValueAtTime(_t/this.comp.globalData.frameRate,0),Rt=this.getValueAtTime(pt/this.comp.globalData.frameRate,0),It=this.getValueAtTime((mt-(_t-yt)%mt+_t)/this.comp.globalData.frameRate,0),$t=Math.floor((_t-yt)/mt)+1;if(this.pv.length){for(St=new Array(Pt.length),Et=St.length,bt=0;bt<Et;bt+=1)St[bt]=It[bt]-(Rt[bt]-Pt[bt])*$t;return St}return It-(Rt-Pt)*$t}else if(ht==="continue"){var kt=this.getValueAtTime(_t/this.comp.globalData.frameRate,0),Ct=this.getValueAtTime((_t+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(St=new Array(kt.length),Et=St.length,bt=0;bt<Et;bt+=1)St[bt]=kt[bt]+(kt[bt]-Ct[bt])*(_t-yt)/.001;return St}return kt+(kt-Ct)*(_t-yt)/.001}return this.getValueAtTime((mt-((_t-yt)%mt+_t))/this.comp.globalData.frameRate,0)}function rt(ht,dt){if(!this.k)return this.pv;if(ht=(ht||.4)*.5,dt=Math.floor(dt||5),dt<=1)return this.pv;var vt=this.comp.renderedFrame/this.comp.globalData.frameRate,yt=vt-ht,xt=vt+ht,_t=dt>1?(xt-yt)/(dt-1):1,mt=0,pt=0,bt;this.pv.length?bt=createTypedArray("float32",this.pv.length):bt=0;for(var Et;mt<dt;){if(Et=this.getValueAtTime(yt+mt*_t),this.pv.length)for(pt=0;pt<this.pv.length;pt+=1)bt[pt]+=Et[pt];else bt+=Et;mt+=1}if(this.pv.length)for(pt=0;pt<this.pv.length;pt+=1)bt[pt]/=dt;else bt/=dt;return bt}function nt(ht){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var dt=this._transformCachingAtTime.v;if(dt.cloneFromProps(this.pre.props),this.appliedTransformations<1){var vt=this.a.getValueAtTime(ht);dt.translate(-vt[0]*this.a.mult,-vt[1]*this.a.mult,vt[2]*this.a.mult)}if(this.appliedTransformations<2){var yt=this.s.getValueAtTime(ht);dt.scale(yt[0]*this.s.mult,yt[1]*this.s.mult,yt[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var xt=this.sk.getValueAtTime(ht),_t=this.sa.getValueAtTime(ht);dt.skewFromAxis(-xt*this.sk.mult,_t*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var mt=this.r.getValueAtTime(ht);dt.rotate(-mt*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var pt=this.rz.getValueAtTime(ht),bt=this.ry.getValueAtTime(ht),Et=this.rx.getValueAtTime(ht),St=this.or.getValueAtTime(ht);dt.rotateZ(-pt*this.rz.mult).rotateY(bt*this.ry.mult).rotateX(Et*this.rx.mult).rotateZ(-St[2]*this.or.mult).rotateY(St[1]*this.or.mult).rotateX(St[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var Tt=this.px.getValueAtTime(ht),Pt=this.py.getValueAtTime(ht);if(this.data.p.z){var Rt=this.pz.getValueAtTime(ht);dt.translate(Tt*this.px.mult,Pt*this.py.mult,-Rt*this.pz.mult)}else dt.translate(Tt*this.px.mult,Pt*this.py.mult,0)}else{var It=this.p.getValueAtTime(ht);dt.translate(It[0]*this.p.mult,It[1]*this.p.mult,-It[2]*this.p.mult)}return dt}function it(){return this.v.clone(new Matrix)}var at=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(ht,dt,vt){var yt=at(ht,dt,vt);return yt.dynamicProperties.length?yt.getValueAtTime=nt.bind(yt):yt.getValueAtTime=it.bind(yt),yt.setGroupProperty=expressionHelpers.setGroupProperty,yt};var ot=PropertyFactory.getProp;PropertyFactory.getProp=function(ht,dt,vt,yt,xt){var _t=ot(ht,dt,vt,yt,xt);_t.kf?_t.getValueAtTime=expressionHelpers.getValueAtTime.bind(_t):_t.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(_t),_t.setGroupProperty=expressionHelpers.setGroupProperty,_t.loopOut=et,_t.loopIn=tt,_t.smooth=rt,_t.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(_t),_t.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(_t),_t.numKeys=dt.a===1?dt.k.length:0,_t.propertyIndex=dt.ix;var mt=0;return vt!==0&&(mt=createTypedArray("float32",dt.a===1?dt.k[0].s.length:dt.k.length)),_t._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:mt},expressionHelpers.searchExpressions(ht,dt,_t),_t.k&&xt.addDynamicProperty(_t),_t};function st(ht){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),ht*=this.elem.globalData.frameRate,ht-=this.offsetTime,ht!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<ht?this._caching.lastIndex:0,this._cachingAtTime.lastTime=ht,this.interpolateShape(ht,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var lt=ShapePropertyFactory.getConstructorFunction(),ct=ShapePropertyFactory.getKeyframedConstructorFunction();function ut(){}ut.prototype={vertices:function(dt,vt){this.k&&this.getValue();var yt=this.v;vt!==void 0&&(yt=this.getValueAtTime(vt,0));var xt,_t=yt._length,mt=yt[dt],pt=yt.v,bt=createSizedArray(_t);for(xt=0;xt<_t;xt+=1)dt==="i"||dt==="o"?bt[xt]=[mt[xt][0]-pt[xt][0],mt[xt][1]-pt[xt][1]]:bt[xt]=[mt[xt][0],mt[xt][1]];return bt},points:function(dt){return this.vertices("v",dt)},inTangents:function(dt){return this.vertices("i",dt)},outTangents:function(dt){return this.vertices("o",dt)},isClosed:function(){return this.v.c},pointOnPath:function(dt,vt){var yt=this.v;vt!==void 0&&(yt=this.getValueAtTime(vt,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(yt));for(var xt=this._segmentsLength,_t=xt.lengths,mt=xt.totalLength*dt,pt=0,bt=_t.length,Et=0,St;pt<bt;){if(Et+_t[pt].addedLength>mt){var Tt=pt,Pt=yt.c&&pt===bt-1?0:pt+1,Rt=(mt-Et)/_t[pt].addedLength;St=bez.getPointInSegment(yt.v[Tt],yt.v[Pt],yt.o[Tt],yt.i[Pt],Rt,_t[pt]);break}else Et+=_t[pt].addedLength;pt+=1}return St||(St=yt.c?[yt.v[0][0],yt.v[0][1]]:[yt.v[yt._length-1][0],yt.v[yt._length-1][1]]),St},vectorOnPath:function(dt,vt,yt){dt==1?dt=this.v.c:dt==0&&(dt=.999);var xt=this.pointOnPath(dt,vt),_t=this.pointOnPath(dt+.001,vt),mt=_t[0]-xt[0],pt=_t[1]-xt[1],bt=Math.sqrt(Math.pow(mt,2)+Math.pow(pt,2));if(bt===0)return[0,0];var Et=yt==="tangent"?[mt/bt,pt/bt]:[-pt/bt,mt/bt];return Et},tangentOnPath:function(dt,vt){return this.vectorOnPath(dt,vt,"tangent")},normalOnPath:function(dt,vt){return this.vectorOnPath(dt,vt,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([ut],lt),extendPrototype([ut],ct),ct.prototype.getValueAtTime=st,ct.prototype.initiateExpression=ExpressionManager.initiateExpression;var ft=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(ht,dt,vt,yt,xt){var _t=ft(ht,dt,vt,yt,xt);return _t.propertyIndex=dt.ix,_t.lock=!1,vt===3?expressionHelpers.searchExpressions(ht,dt.pt,_t):vt===4&&expressionHelpers.searchExpressions(ht,dt.ks,_t),_t.k&&ht.addDynamicProperty(_t),_t}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function et(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(tt,rt){var nt=this.calculateExpression(rt);if(tt.t!==nt){var it={};return this.copyData(it,tt),it.t=nt.toString(),it.__complete=!1,it}return tt},TextProperty.prototype.searchProperty=function(){var tt=this.searchKeyframes(),rt=this.searchExpressions();return this.kf=tt||rt,this.kf},TextProperty.prototype.searchExpressions=et}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function et(tt,rt){var nt=createNS("feMerge");nt.setAttribute("result",tt);var it,at;for(at=0;at<rt.length;at+=1)it=createNS("feMergeNode"),it.setAttribute("in",rt[at]),nt.appendChild(it),nt.appendChild(it);return nt}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(et,tt,rt,nt,it){this.filterManager=tt;var at=createNS("feColorMatrix");at.setAttribute("type","matrix"),at.setAttribute("color-interpolation-filters","linearRGB"),at.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=at,at.setAttribute("result",nt+"_tint_1"),et.appendChild(at),at=createNS("feColorMatrix"),at.setAttribute("type","matrix"),at.setAttribute("color-interpolation-filters","sRGB"),at.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),at.setAttribute("result",nt+"_tint_2"),et.appendChild(at),this.matrixFilter=at;var ot=this.createMergeNode(nt,[it,nt+"_tint_1",nt+"_tint_2"]);et.appendChild(ot)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(et){if(et||this.filterManager._mdf){var tt=this.filterManager.effectElements[0].p.v,rt=this.filterManager.effectElements[1].p.v,nt=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+nt+" 0"),this.matrixFilter.setAttribute("values",rt[0]-tt[0]+" 0 0 0 "+tt[0]+" "+(rt[1]-tt[1])+" 0 0 0 "+tt[1]+" "+(rt[2]-tt[2])+" 0 0 0 "+tt[2]+" 0 0 0 1 0")}};function SVGFillFilter(et,tt,rt,nt){this.filterManager=tt;var it=createNS("feColorMatrix");it.setAttribute("type","matrix"),it.setAttribute("color-interpolation-filters","sRGB"),it.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),it.setAttribute("result",nt),et.appendChild(it),this.matrixFilter=it}SVGFillFilter.prototype.renderFrame=function(et){if(et||this.filterManager._mdf){var tt=this.filterManager.effectElements[2].p.v,rt=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+tt[0]+" 0 0 0 0 "+tt[1]+" 0 0 0 0 "+tt[2]+" 0 0 0 "+rt+" 0")}};function SVGStrokeEffect(et,tt,rt){this.initialized=!1,this.filterManager=tt,this.elem=rt,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var et=this.elem.layerElement.children||this.elem.layerElement.childNodes,tt,rt,nt,it;for(this.filterManager.effectElements[1].p.v===1?(it=this.elem.maskManager.masksProperties.length,nt=0):(nt=this.filterManager.effectElements[0].p.v-1,it=nt+1),rt=createNS("g"),rt.setAttribute("fill","none"),rt.setAttribute("stroke-linecap","round"),rt.setAttribute("stroke-dashoffset",1),nt;nt<it;nt+=1)tt=createNS("path"),rt.appendChild(tt),this.paths.push({p:tt,m:nt});if(this.filterManager.effectElements[10].p.v===3){var at=createNS("mask"),ot=createElementID();at.setAttribute("id",ot),at.setAttribute("mask-type","alpha"),at.appendChild(rt),this.elem.globalData.defs.appendChild(at);var st=createNS("g");for(st.setAttribute("mask","url("+getLocationHref()+"#"+ot+")");et[0];)st.appendChild(et[0]);this.elem.layerElement.appendChild(st),this.masker=at,rt.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(et=this.elem.layerElement.children||this.elem.layerElement.childNodes;et.length;)this.elem.layerElement.removeChild(et[0]);this.elem.layerElement.appendChild(rt),this.elem.layerElement.removeAttribute("mask"),rt.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=rt},SVGStrokeEffect.prototype.renderFrame=function(et){this.initialized||this.initialize();var tt,rt=this.paths.length,nt,it;for(tt=0;tt<rt;tt+=1)if(this.paths[tt].m!==-1&&(nt=this.elem.maskManager.viewData[this.paths[tt].m],it=this.paths[tt].p,(et||this.filterManager._mdf||nt.prop._mdf)&&it.setAttribute("d",nt.lastPath),et||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||nt.prop._mdf)){var at;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var ot=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,st=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,lt=it.getTotalLength();at="0 0 0 "+lt*ot+" ";var ct=lt*(st-ot),ut=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,ft=Math.floor(ct/ut),ht;for(ht=0;ht<ft;ht+=1)at+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";at+="0 "+lt*10+" 0 0"}else at="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;it.setAttribute("stroke-dasharray",at)}if((et||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),(et||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(et||this.filterManager.effectElements[3].p._mdf)){var dt=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(dt[0]*255)+","+bmFloor(dt[1]*255)+","+bmFloor(dt[2]*255)+")")}};function SVGTritoneFilter(et,tt,rt,nt){this.filterManager=tt;var it=createNS("feColorMatrix");it.setAttribute("type","matrix"),it.setAttribute("color-interpolation-filters","linearRGB"),it.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),et.appendChild(it);var at=createNS("feComponentTransfer");at.setAttribute("color-interpolation-filters","sRGB"),at.setAttribute("result",nt),this.matrixFilter=at;var ot=createNS("feFuncR");ot.setAttribute("type","table"),at.appendChild(ot),this.feFuncR=ot;var st=createNS("feFuncG");st.setAttribute("type","table"),at.appendChild(st),this.feFuncG=st;var lt=createNS("feFuncB");lt.setAttribute("type","table"),at.appendChild(lt),this.feFuncB=lt,et.appendChild(at)}SVGTritoneFilter.prototype.renderFrame=function(et){if(et||this.filterManager._mdf){var tt=this.filterManager.effectElements[0].p.v,rt=this.filterManager.effectElements[1].p.v,nt=this.filterManager.effectElements[2].p.v,it=nt[0]+" "+rt[0]+" "+tt[0],at=nt[1]+" "+rt[1]+" "+tt[1],ot=nt[2]+" "+rt[2]+" "+tt[2];this.feFuncR.setAttribute("tableValues",it),this.feFuncG.setAttribute("tableValues",at),this.feFuncB.setAttribute("tableValues",ot)}};function SVGProLevelsFilter(et,tt,rt,nt){this.filterManager=tt;var it=this.filterManager.effectElements,at=createNS("feComponentTransfer");(it[10].p.k||it[10].p.v!==0||it[11].p.k||it[11].p.v!==1||it[12].p.k||it[12].p.v!==1||it[13].p.k||it[13].p.v!==0||it[14].p.k||it[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",at)),(it[17].p.k||it[17].p.v!==0||it[18].p.k||it[18].p.v!==1||it[19].p.k||it[19].p.v!==1||it[20].p.k||it[20].p.v!==0||it[21].p.k||it[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",at)),(it[24].p.k||it[24].p.v!==0||it[25].p.k||it[25].p.v!==1||it[26].p.k||it[26].p.v!==1||it[27].p.k||it[27].p.v!==0||it[28].p.k||it[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",at)),(it[31].p.k||it[31].p.v!==0||it[32].p.k||it[32].p.v!==1||it[33].p.k||it[33].p.v!==1||it[34].p.k||it[34].p.v!==0||it[35].p.k||it[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",at)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(at.setAttribute("color-interpolation-filters","sRGB"),et.appendChild(at)),(it[3].p.k||it[3].p.v!==0||it[4].p.k||it[4].p.v!==1||it[5].p.k||it[5].p.v!==1||it[6].p.k||it[6].p.v!==0||it[7].p.k||it[7].p.v!==1)&&(at=createNS("feComponentTransfer"),at.setAttribute("color-interpolation-filters","sRGB"),at.setAttribute("result",nt),et.appendChild(at),this.feFuncRComposed=this.createFeFunc("feFuncR",at),this.feFuncGComposed=this.createFeFunc("feFuncG",at),this.feFuncBComposed=this.createFeFunc("feFuncB",at))}SVGProLevelsFilter.prototype.createFeFunc=function(et,tt){var rt=createNS(et);return rt.setAttribute("type","table"),tt.appendChild(rt),rt},SVGProLevelsFilter.prototype.getTableValue=function(et,tt,rt,nt,it){for(var at=0,ot=256,st,lt=Math.min(et,tt),ct=Math.max(et,tt),ut=Array.call(null,{length:ot}),ft,ht=0,dt=it-nt,vt=tt-et;at<=256;)st=at/256,st<=lt?ft=vt<0?it:nt:st>=ct?ft=vt<0?nt:it:ft=nt+dt*Math.pow((st-et)/vt,1/rt),ut[ht]=ft,ht+=1,at+=256/(ot-1);return ut.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(et){if(et||this.filterManager._mdf){var tt,rt=this.filterManager.effectElements;this.feFuncRComposed&&(et||rt[3].p._mdf||rt[4].p._mdf||rt[5].p._mdf||rt[6].p._mdf||rt[7].p._mdf)&&(tt=this.getTableValue(rt[3].p.v,rt[4].p.v,rt[5].p.v,rt[6].p.v,rt[7].p.v),this.feFuncRComposed.setAttribute("tableValues",tt),this.feFuncGComposed.setAttribute("tableValues",tt),this.feFuncBComposed.setAttribute("tableValues",tt)),this.feFuncR&&(et||rt[10].p._mdf||rt[11].p._mdf||rt[12].p._mdf||rt[13].p._mdf||rt[14].p._mdf)&&(tt=this.getTableValue(rt[10].p.v,rt[11].p.v,rt[12].p.v,rt[13].p.v,rt[14].p.v),this.feFuncR.setAttribute("tableValues",tt)),this.feFuncG&&(et||rt[17].p._mdf||rt[18].p._mdf||rt[19].p._mdf||rt[20].p._mdf||rt[21].p._mdf)&&(tt=this.getTableValue(rt[17].p.v,rt[18].p.v,rt[19].p.v,rt[20].p.v,rt[21].p.v),this.feFuncG.setAttribute("tableValues",tt)),this.feFuncB&&(et||rt[24].p._mdf||rt[25].p._mdf||rt[26].p._mdf||rt[27].p._mdf||rt[28].p._mdf)&&(tt=this.getTableValue(rt[24].p.v,rt[25].p.v,rt[26].p.v,rt[27].p.v,rt[28].p.v),this.feFuncB.setAttribute("tableValues",tt)),this.feFuncA&&(et||rt[31].p._mdf||rt[32].p._mdf||rt[33].p._mdf||rt[34].p._mdf||rt[35].p._mdf)&&(tt=this.getTableValue(rt[31].p.v,rt[32].p.v,rt[33].p.v,rt[34].p.v,rt[35].p.v),this.feFuncA.setAttribute("tableValues",tt))}};function SVGDropShadowEffect(et,tt,rt,nt,it){var at=tt.container.globalData.renderConfig.filterSize,ot=tt.data.fs||at;et.setAttribute("x",ot.x||at.x),et.setAttribute("y",ot.y||at.y),et.setAttribute("width",ot.width||at.width),et.setAttribute("height",ot.height||at.height),this.filterManager=tt;var st=createNS("feGaussianBlur");st.setAttribute("in","SourceAlpha"),st.setAttribute("result",nt+"_drop_shadow_1"),st.setAttribute("stdDeviation","0"),this.feGaussianBlur=st,et.appendChild(st);var lt=createNS("feOffset");lt.setAttribute("dx","25"),lt.setAttribute("dy","0"),lt.setAttribute("in",nt+"_drop_shadow_1"),lt.setAttribute("result",nt+"_drop_shadow_2"),this.feOffset=lt,et.appendChild(lt);var ct=createNS("feFlood");ct.setAttribute("flood-color","#00ff00"),ct.setAttribute("flood-opacity","1"),ct.setAttribute("result",nt+"_drop_shadow_3"),this.feFlood=ct,et.appendChild(ct);var ut=createNS("feComposite");ut.setAttribute("in",nt+"_drop_shadow_3"),ut.setAttribute("in2",nt+"_drop_shadow_2"),ut.setAttribute("operator","in"),ut.setAttribute("result",nt+"_drop_shadow_4"),et.appendChild(ut);var ft=this.createMergeNode(nt,[nt+"_drop_shadow_4",it]);et.appendChild(ft)}extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(et){if(et||this.filterManager._mdf){if((et||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),et||this.filterManager.effectElements[0].p._mdf){var tt=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(tt[0]*255),Math.round(tt[1]*255),Math.round(tt[2]*255)))}if((et||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),et||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var rt=this.filterManager.effectElements[3].p.v,nt=(this.filterManager.effectElements[2].p.v-90)*degToRads,it=rt*Math.cos(nt),at=rt*Math.sin(nt);this.feOffset.setAttribute("dx",it),this.feOffset.setAttribute("dy",at)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(et,tt,rt){this.initialized=!1,this.filterManager=tt,this.filterElem=et,this.elem=rt,rt.matteElement=createNS("g"),rt.matteElement.appendChild(rt.layerElement),rt.matteElement.appendChild(rt.transformedElement),rt.baseElement=rt.matteElement}SVGMatte3Effect.prototype.findSymbol=function(et){for(var tt=0,rt=_svgMatteSymbols.length;tt<rt;){if(_svgMatteSymbols[tt]===et)return _svgMatteSymbols[tt];tt+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(et,tt){var rt=et.layerElement.parentNode;if(rt){for(var nt=rt.children,it=0,at=nt.length;it<at&&nt[it]!==et.layerElement;)it+=1;var ot;it<=at-2&&(ot=nt[it+1]);var st=createNS("use");st.setAttribute("href","#"+tt),ot?rt.insertBefore(st,ot):rt.appendChild(st)}},SVGMatte3Effect.prototype.setElementAsMask=function(et,tt){if(!this.findSymbol(tt)){var rt=createElementID(),nt=createNS("mask");nt.setAttribute("id",tt.layerId),nt.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(tt);var it=et.globalData.defs;it.appendChild(nt);var at=createNS("symbol");at.setAttribute("id",rt),this.replaceInParent(tt,rt),at.appendChild(tt.layerElement),it.appendChild(at);var ot=createNS("use");ot.setAttribute("href","#"+rt),nt.appendChild(ot),tt.data.hd=!1,tt.show()}et.setMatte(tt.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var et=this.filterManager.effectElements[0].p.v,tt=this.elem.comp.elements,rt=0,nt=tt.length;rt<nt;)tt[rt]&&tt[rt].data.ind===et&&this.setElementAsMask(this.elem,tt[rt]),rt+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGGaussianBlurEffect(et,tt,rt,nt){et.setAttribute("x","-100%"),et.setAttribute("y","-100%"),et.setAttribute("width","300%"),et.setAttribute("height","300%"),this.filterManager=tt;var it=createNS("feGaussianBlur");it.setAttribute("result",nt),et.appendChild(it),this.feGaussianBlur=it}SVGGaussianBlurEffect.prototype.renderFrame=function(et){if(et||this.filterManager._mdf){var tt=.3,rt=this.filterManager.effectElements[0].p.v*tt,nt=this.filterManager.effectElements[1].p.v,it=nt==3?0:rt,at=nt==2?0:rt;this.feGaussianBlur.setAttribute("stdDeviation",it+" "+at);var ot=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",ot)}};function TransformEffect(){}TransformEffect.prototype.init=function(et){this.effectsManager=et,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(et){if(this._opMdf=!1,this._mdf=!1,et||this.effectsManager._mdf){var tt=this.effectsManager.effectElements,rt=tt[0].p.v,nt=tt[1].p.v,it=tt[2].p.v===1,at=tt[3].p.v,ot=it?at:tt[4].p.v,st=tt[5].p.v,lt=tt[6].p.v,ct=tt[7].p.v;this.matrix.reset(),this.matrix.translate(-rt[0],-rt[1],rt[2]),this.matrix.scale(ot*.01,at*.01,1),this.matrix.rotate(-ct*degToRads),this.matrix.skewFromAxis(-st*degToRads,(lt+90)*degToRads),this.matrix.translate(nt[0],nt[1],0),this._mdf=!0,this.opacity!==tt[8].p.v&&(this.opacity=tt[8].p.v,this._opMdf=!0)}};function SVGTransformEffect(et,tt){this.init(tt)}extendPrototype([TransformEffect],SVGTransformEffect);function CVTransformEffect(et){this.init(et)}return extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie})})(lottie,lottie.exports);var lottieExports=lottie.exports;Object.defineProperty(dist,"__esModule",{value:!0});var _extends2=_extends$u,_extends3=_interopRequireDefault(_extends2),_getPrototypeOf$c=getPrototypeOf$1,_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf$c),_classCallCheck2=classCallCheck,_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=createClass,_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=possibleConstructorReturn,_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=inherits,_inherits3=_interopRequireDefault(_inherits2),_react=reactExports,_react2=_interopRequireDefault(_react),_propTypes=propTypesExports,_propTypes2=_interopRequireDefault(_propTypes),_lottieWeb=lottieExports,_lottieWeb2=_interopRequireDefault(_lottieWeb);function _interopRequireDefault(et){return et&&et.__esModule?et:{default:et}}var Lottie=function(et){(0,_inherits3.default)(tt,et);function tt(){var rt,nt,it,at;(0,_classCallCheck3.default)(this,tt);for(var ot=arguments.length,st=Array(ot),lt=0;lt<ot;lt++)st[lt]=arguments[lt];return at=(nt=(it=(0,_possibleConstructorReturn3.default)(this,(rt=tt.__proto__||(0,_getPrototypeOf2.default)(tt)).call.apply(rt,[this].concat(st))),it),it.handleClickToPause=function(){it.anim.isPaused?it.anim.play():it.anim.pause()},nt),(0,_possibleConstructorReturn3.default)(it,at)}return(0,_createClass3.default)(tt,[{key:"componentDidMount",value:function(){var nt=this.props,it=nt.options,at=nt.eventListeners,ot=it.loop,st=it.autoplay,lt=it.animationData,ct=it.rendererSettings,ut=it.segments;this.options={container:this.el,renderer:"svg",loop:ot!==!1,autoplay:st!==!1,segments:ut!==!1,animationData:lt,rendererSettings:ct},this.options=(0,_extends3.default)({},this.options,it),this.anim=_lottieWeb2.default.loadAnimation(this.options),this.registerEvents(at)}},{key:"componentWillUpdate",value:function(nt){this.options.animationData!==nt.options.animationData&&(this.deRegisterEvents(this.props.eventListeners),this.destroy(),this.options=(0,_extends3.default)({},this.options,nt.options),this.anim=_lottieWeb2.default.loadAnimation(this.options),this.registerEvents(nt.eventListeners))}},{key:"componentDidUpdate",value:function(){this.props.isStopped?this.stop():this.props.segments?this.playSegments():this.play(),this.pause(),this.setSpeed(),this.setDirection()}},{key:"componentWillUnmount",value:function(){this.deRegisterEvents(this.props.eventListeners),this.destroy(),this.options.animationData=null,this.anim=null}},{key:"setSpeed",value:function(){this.anim.setSpeed(this.props.speed)}},{key:"setDirection",value:function(){this.anim.setDirection(this.props.direction)}},{key:"play",value:function(){this.anim.play()}},{key:"playSegments",value:function(){this.anim.playSegments(this.props.segments)}},{key:"stop",value:function(){this.anim.stop()}},{key:"pause",value:function(){this.props.isPaused&&!this.anim.isPaused?this.anim.pause():!this.props.isPaused&&this.anim.isPaused&&this.anim.pause()}},{key:"destroy",value:function(){this.anim.destroy()}},{key:"registerEvents",value:function(nt){var it=this;nt.forEach(function(at){it.anim.addEventListener(at.eventName,at.callback)})}},{key:"deRegisterEvents",value:function(nt){var it=this;nt.forEach(function(at){it.anim.removeEventListener(at.eventName,at.callback)})}},{key:"render",value:function(){var nt=this,it=this.props,at=it.width,ot=it.height,st=it.ariaRole,lt=it.ariaLabel,ct=it.isClickToPauseDisabled,ut=it.title,ft=function(yt){var xt=void 0;return typeof yt=="number"?xt=yt+"px":xt=yt||"100%",xt},ht=(0,_extends3.default)({width:ft(at),height:ft(ot),overflow:"hidden",margin:"0 auto",outline:"none"},this.props.style),dt=ct?function(){return null}:this.handleClickToPause;return _react2.default.createElement("div",{ref:function(yt){nt.el=yt},style:ht,onClick:dt,title:ut,role:st,"aria-label":lt,tabIndex:"0"})}}]),tt}(_react2.default.Component),_default=dist.default=Lottie;Lottie.propTypes={eventListeners:_propTypes2.default.arrayOf(_propTypes2.default.object),options:_propTypes2.default.object.isRequired,height:_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.number]),width:_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.number]),isStopped:_propTypes2.default.bool,isPaused:_propTypes2.default.bool,speed:_propTypes2.default.number,segments:_propTypes2.default.arrayOf(_propTypes2.default.number),direction:_propTypes2.default.number,ariaRole:_propTypes2.default.string,ariaLabel:_propTypes2.default.string,isClickToPauseDisabled:_propTypes2.default.bool,title:_propTypes2.default.string,style:_propTypes2.default.string};Lottie.defaultProps={eventListeners:[],isStopped:!1,isPaused:!1,speed:1,ariaRole:"button",ariaLabel:"animation",isClickToPauseDisabled:!1,title:""};const v$1="5.9.0",fr=24,ip=0,op=72,w$1=51,h$1=51,nm="Ã¬ÂÂ¤Ã­ÂÂÃ­ÂÂ.1",ddd=0,assets=[{id:"comp_0",nm:"Lstamp",fr:25,layers:[{ddd:0,ind:1,ty:4,nm:"L 2",sr:-.3,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:24.96,s:[546,732,0],to:[0,-4.313,0],ti:[0,5.742,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:24,s:[546,718.95,0],to:[0,-5.551,0],ti:[0,10.681,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:23.04,s:[546,694.534,0],to:[0,-16.766,0],ti:[0,3.253,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:22.08,s:[546,641.846,0],to:[0,-6.805,0],ti:[0,7.064,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:21.12,s:[546,619.887,0],to:[0,-6.278,0],ti:[0,5.052,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:20.16,s:[546,614.925,0],to:[0,-17.073,0],ti:[0,6.403,0]},{t:19.20013125,s:[546,602,0]}],ix:2,l:2},a:{a:0,k:[15.732,17.566,0],ix:1,l:2},s:{a:1,k:[{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:24.96,s:[683,110,100]},{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:23.424,s:[683,248.283,100]},{t:19.20013125,s:[683,683,100]}],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[.18,-.18],[0,0],[0,-.224],[0,0],[-.192,-.198],[-.29,0],[0,0],[-.527,1.066],[.149,.074],[.046,0]],o:[[0,0],[0,-.255],[0,0],[-.158,.158],[0,0],[0,.288],[.192,.199],[0,0],[.015,0],[.074,-.149],[-.041,-.02],[0,0]],v:[[-1.431,2.959],[-1.462,-4.627],[-1.951,-4.829],[-3.26,-3.517],[-3.507,-2.92],[-3.587,3.978],[-3.299,4.709],[-2.573,5.009],[2.699,5.009],[3.513,3.41],[3.378,3.007],[3.246,2.976]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.992,.3779,.208,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[15.753,22.48],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:24.96,op:19.2,st:25.536,bm:0},{ddd:0,ind:2,ty:4,nm:"L",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:1.92,s:[546,732,0],to:[0,-1.667,0],ti:[0,21.667,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:3.84,s:[546,722,0],to:[0,-3.607,0],ti:[0,6.217,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:5.76,s:[546,717,0],to:[0,-2.518,0],ti:[0,2.944,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:7.68,s:[546,715.783,0],to:[0,-5.574,0],ti:[0,6.951,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:9.6,s:[546,706.808,0],to:[0,-6.369,0],ti:[0,7.468,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:11.52,s:[546,685.846,0],to:[0,-6.805,0],ti:[0,7.064,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:13.44,s:[546,652.887,0],to:[0,-6.278,0],ti:[0,5.052,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:15.36,s:[546,624.925,0],to:[0,-2.18,0],ti:[0,1.657,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:16.32,s:[546,617.195,0],to:[0,-11.315,0],ti:[0,5.585,0]},{t:19.2,s:[546,602,0]}],ix:2,l:2},a:{a:0,k:[15.732,17.566,0],ix:1,l:2},s:{a:1,k:[{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:1.92,s:[683,110,100]},{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:5.76,s:[683,248.333,100]},{t:19.2,s:[683,683,100]}],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[.18,-.18],[0,0],[0,-.224],[0,0],[-.192,-.198],[-.29,0],[0,0],[-.527,1.066],[.149,.074],[.046,0]],o:[[0,0],[0,-.255],[0,0],[-.158,.158],[0,0],[0,.288],[.192,.199],[0,0],[.015,0],[.074,-.149],[-.041,-.02],[0,0]],v:[[-1.431,2.959],[-1.462,-4.627],[-1.951,-4.829],[-3.26,-3.517],[-3.507,-2.92],[-3.587,3.978],[-3.299,4.709],[-2.573,5.009],[2.699,5.009],[3.513,3.41],[3.378,3.007],[3.246,2.976]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.992,.3779,.208,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[15.753,22.48],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:1.92,op:20.16,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"Ã«Â§ÂÃ­ÂÂ¬/Ã¬ÂÂ¤Ã­ÂÂ¬Ã­ÂÂÃ«ÂÂÃ­ÂÂ´Ã­ÂÂ¸ Outlines",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.38,y:1},o:{x:.62,y:0},t:5.76,s:[543.879,542.965,0],to:[0,-8.333,0],ti:[0,8.333,0]},{i:{x:.38,y:1},o:{x:.62,y:0},t:20.16,s:[543.879,492.965,0],to:[0,-8.333,0],ti:[0,8.333,0]},{i:{x:.38,y:1},o:{x:.62,y:0},t:24.96,s:[543.879,542.965,0],to:[0,-8.333,0],ti:[0,3.333,0]},{i:{x:.38,y:1},o:{x:.62,y:0},t:29.76,s:[543.879,522.965,0],to:[0,-3.333,0],ti:[0,-3.333,0]},{t:35.52,s:[543.879,542.965,0]}],ix:2,l:2},a:{a:0,k:[13.189,1.5,0],ix:1,l:2},s:{a:1,k:[{i:{x:[.3,.3,.3],y:[1,1,1]},o:{x:[.7,.7,.7],y:[0,0,0]},t:5.76,s:[683,683,100]},{i:{x:[.3,.3,.3],y:[1,1,1]},o:{x:[.7,.7,.7],y:[0,0,0]},t:20.16,s:[683,530,100]},{t:24.96,s:[683,683,100]}],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:0,s:[{i:[[0,0],[-.252,-.251],[0,-.384],[0,0],[0,0],[0,0],[-.251,.252],[-.384,0],[0,0]],o:[[.384,0],[.251,.252],[0,0],[0,0],[0,0],[0,-.384],[.252,-.251],[0,0],[0,0]],v:[[10.3,-2.46],[11.283,-2.053],[11.69,-1.07],[11.69,2.46],[-11.69,2.46],[-11.69,-1.07],[-11.283,-2.053],[-10.3,-2.46],[.136,-2.46]],c:!0}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:19.2,s:[{i:[[0,0],[.009,-.007],[-.014,-.012],[0,0],[0,0],[0,0],[-.001,.012],[.013,-.005],[0,0]],o:[[-.005,-.001],[.018,.028],[0,0],[0,0],[0,0],[0,-.384],[-.01,-.012],[0,0],[0,0]],v:[[12.025,-4.086],[12.756,-3.349],[13.529,-2.578],[13.776,4.227],[-13.41,4.244],[-13.291,-1.054],[-13.279,-2.567],[-12.651,-3.292],[.078,-16.268]],c:!0}]},{t:24.96,s:[{i:[[0,0],[-.252,-.251],[0,-.384],[0,0],[0,0],[0,0],[-.251,.252],[-.384,0],[0,0]],o:[[.384,0],[.251,.252],[0,0],[0,0],[0,0],[0,-.384],[.252,-.251],[0,0],[0,0]],v:[[10.3,-2.46],[11.283,-2.053],[11.69,-1.07],[11.69,2.46],[-11.69,2.46],[-11.69,-1.07],[-11.283,-2.053],[-10.3,-2.46],[.136,-2.46]],c:!0}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.8196,.302,.1569,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:1.5,ix:5},lc:1,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[1,.7804,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[13.189,24.994],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:1.92,s:[100]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:2.88,s:[0]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:24.96,s:[0]},{t:25.92,s:[100]}],ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 6",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:0,s:[{i:[[-.781,0],[0,0],[0,0],[0,-.781],[.78,0],[0,0],[0,0],[0,.781]],o:[[0,0],[0,0],[.78,0],[0,.781],[0,0],[0,0],[-.781,0],[0,-.781]],v:[[-7.822,-1.414],[.082,-1.414],[7.823,-1.414],[9.236,0],[7.823,1.414],[.082,1.414],[-7.822,1.414],[-9.236,0]],c:!0}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:8.64,s:[{i:[[-.41,-.001],[-.282,.02],[0,0],[.019,-.406],[.425,.02],[-.018,-.022],[0,0],[-.012,.402]],o:[[0,0],[.295,.041],[.425,-.022],[.036,.453],[0,0],[-.018,-.001],[-.41,-.022],[.004,-.458]],v:[[-11.951,-.249],[.071,-7.182],[12.049,-.327],[12.787,.472],[12.024,1.25],[.071,8.03],[-11.943,1.296],[-12.473,.52]],c:!0}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:19.2,s:[{i:[[.044,-.002],[-.626,.045],[0,0],[.043,.052],[-.008,.045],[-.04,-.05],[0,0],[-.028,-.062]],o:[[0,0],[.655,.092],[-.008,-.049],[.079,.052],[0,0],[-.04,-.003],[.044,-.05],[.009,-.062]],v:[[-13.459,1.178],[.059,-14.232],[13.716,.989],[13.628,1.03],[13.661,1.037],[.058,16.117],[-13.441,1.155],[-13.461,1.144]],c:!0}]},{t:24.96,s:[{i:[[-.781,0],[0,0],[0,0],[0,-.781],[.78,0],[0,0],[0,0],[0,.781]],o:[[0,0],[0,0],[.78,0],[0,.781],[0,0],[0,0],[-.781,0],[0,-.781]],v:[[-7.822,-1.414],[.082,-1.414],[7.823,-1.414],[9.236,0],[7.823,1.414],[.082,1.414],[-7.822,1.414],[-9.236,0]],c:!0}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.992,.3779,.208,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:1.5,ix:5},lc:1,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[1,.8433,.8,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[13.189,28.85],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 3",np:4,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:0,s:[{i:[[0,0],[-.252,-.251],[0,-.384],[0,0],[0,0],[0,0],[-.251,.252],[-.384,0],[0,0]],o:[[.384,0],[.251,.252],[0,0],[0,0],[0,0],[0,-.384],[.252,-.251],[0,0],[0,0]],v:[[10.3,-2.46],[11.283,-2.053],[11.69,-1.07],[11.69,2.46],[-11.69,2.46],[-11.69,-1.07],[-11.283,-2.053],[-10.3,-2.46],[.136,-2.46]],c:!0}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:19.2,s:[{i:[[0,0],[.009,-.007],[-.014,-.012],[0,0],[0,0],[0,0],[-.001,.012],[.013,-.005],[0,0]],o:[[-.005,-.001],[.018,.028],[0,0],[0,0],[0,0],[0,-.384],[-.01,-.012],[0,0],[0,0]],v:[[12.025,-4.086],[12.756,-3.349],[13.529,-2.578],[13.776,4.227],[-13.41,4.244],[-13.291,-1.054],[-13.279,-2.567],[-12.651,-3.292],[.078,-16.268]],c:!0}]},{t:24.96,s:[{i:[[0,0],[-.252,-.251],[0,-.384],[0,0],[0,0],[0,0],[-.251,.252],[-.384,0],[0,0]],o:[[.384,0],[.251,.252],[0,0],[0,0],[0,0],[0,-.384],[.252,-.251],[0,0],[0,0]],v:[[10.3,-2.46],[11.283,-2.053],[11.69,-1.07],[11.69,2.46],[-11.69,2.46],[-11.69,-1.07],[-11.283,-2.053],[-10.3,-2.46],[.136,-2.46]],c:!0}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.8196,.302,.1569,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:1.5,ix:5},lc:1,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[1,.7804,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[13.189,24.994],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:3,cix:2,bm:0,ix:3,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:0,s:[{i:[[-.69,0],[0,0],[0,-.69],[.69,0],[0,0],[0,.69]],o:[[0,0],[.69,0],[0,.69],[0,0],[-.69,0],[0,-.69]],v:[[-4.203,-1.25],[4.203,-1.25],[5.453,0],[4.203,1.25],[-4.203,1.25],[-5.453,0]],c:!0}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:19.2,s:[{i:[[-.69,0],[0,0],[0,-.69],[.69,0],[0,0],[0,.69]],o:[[0,0],[.69,0],[0,.69],[0,0],[-.69,0],[0,-.69]],v:[[-4.203,-1.25],[4.203,-1.25],[5.475,-.589],[4.209,.025],[-4.197,.025],[-5.426,-.589]],c:!0}]},{t:24.96,s:[{i:[[-.69,0],[0,0],[0,-.69],[.69,0],[0,0],[0,.69]],o:[[0,0],[.69,0],[0,.69],[0,0],[-.69,0],[0,-.69]],v:[[-4.203,-1.25],[4.203,-1.25],[5.453,0],[4.203,1.25],[-4.203,1.25],[-5.453,0]],c:!0}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.8196,.302,.1569,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:1.5,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[1,.7804,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[13.189,21.106],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:3,cix:2,bm:0,ix:4,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:0,s:[{i:[[-1.651,0],[-1.082,-1.082],[0,-1.651],[.514,-.883],[.921,-.523],[0,-1.135],[-.686,-2.027],[0,0],[0,1.532],[.406,1.176],[.608,.956],[0,1.177],[-1.082,1.082]],o:[[1.651,0],[1.082,1.082],[0,1.095],[-.533,.914],[-.727,1.696],[0,1.516],[0,0],[.837,-2.011],[0,-1.08],[-1.424,-.918],[-.588,-.926],[0,-1.651],[1.082,-1.082]],v:[[0,-10.263],[4.228,-8.512],[5.979,-4.284],[5.17,-1.279],[2.947,.919],[2.034,4.947],[3.057,10.263],[-2.787,10.263],[-1.541,4.947],[-2.148,1.563],[-5.051,-1.083],[-5.979,-4.284],[-4.228,-8.512]],c:!0}]},{t:19.2,s:[{i:[[-1.651,0],[-1.082,-1.082],[0,-1.651],[.514,-.883],[.921,-.523],[0,-1.135],[-.686,-2.027],[0,0],[0,1.532],[.406,1.176],[.608,.956],[0,1.177],[-1.082,1.082]],o:[[1.651,0],[1.082,1.082],[0,1.095],[-.533,.914],[-.727,1.696],[0,1.516],[0,0],[.837,-2.011],[0,-1.08],[-1.424,-.918],[-.588,-.926],[0,-1.651],[1.082,-1.082]],v:[[0,-10.263],[4.228,-8.512],[5.979,-4.284],[5.17,-1.279],[2.947,.919],[2.034,4.947],[3.063,9.038],[-2.781,9.038],[-1.541,4.947],[-2.148,1.563],[-5.051,-1.083],[-5.979,-4.284],[-4.228,-8.512]],c:!0}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.8196,.302,.1569,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:1.5,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[1,.7804,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[13.189,11.763],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 4",np:3,cix:2,bm:0,ix:5,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[.009,-.007],[-.014,-.012],[0,0],[0,0],[0,0],[-.001,.012],[.013,-.005],[0,0]],o:[[-.005,-.001],[.018,.028],[0,0],[0,0],[0,0],[0,-.384],[-.01,-.012],[0,0],[0,0]],v:[[25.215,20.908],[25.946,21.645],[26.719,22.416],[26.965,29.221],[-.22,29.237],[-.101,23.94],[-.09,22.427],[.538,21.702],[13.267,8.726]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 5",np:1,cix:2,bm:0,ix:6,mn:"ADBE Vector Group",hd:!1}],ip:0,op:72.96,st:0,bm:0},{ddd:0,ind:4,ty:4,nm:"Shape Layer 13",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:-87,ix:10},p:{a:0,k:[460,726.5,0],ix:2,l:2},a:{a:0,k:[79,104.75,0],ix:1,l:2},s:{a:0,k:[-100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:24.96,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[69.5,122.5],[81,98.5]],c:!1}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:25.92,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[79,104.75],[90.5,80.75]],c:!1}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:26.88,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[88.375,84.125],[94.375,73]],c:!1}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:27.84,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[93.375,74.125],[96.875,67.125]],c:!1}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:28.8,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[96,68.375],[98.75,63.125]],c:!1}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:29.76,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[98,64.25],[100.125,60.5]],c:!1}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:30.72,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[99.25,61.875],[100.625,59.125]],c:!1}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:31.68,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[100.5,60],[101.375,58.375]],c:!1}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:32.64,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[101.125,58.5],[101.875,57.5]],c:!1}]},{t:33.6,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[101.5,58],[101.875,57.5]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.992,.3779,.208,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:8,ix:5},lc:2,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[1,.8433,.8,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:24.96,op:33.6,st:0,bm:0},{ddd:0,ind:5,ty:4,nm:"Shape Layer 12",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:-65,ix:10},p:{a:0,k:[459.25,709.75,0],ix:2,l:2},a:{a:0,k:[79,104.75,0],ix:1,l:2},s:{a:0,k:[-100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:24.96,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[69.5,122.5],[81,98.5]],c:!1}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:25.92,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[79,104.75],[90.5,80.75]],c:!1}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:26.88,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[88.375,84.125],[94.375,73]],c:!1}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:27.84,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[93.375,74.125],[96.875,67.125]],c:!1}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:28.8,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[96,68.375],[98.75,63.125]],c:!1}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:29.76,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[98,64.25],[100.125,60.5]],c:!1}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:30.72,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[99.25,61.875],[100.625,59.125]],c:!1}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:31.68,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[100.5,60],[101.375,58.375]],c:!1}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:32.64,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[101.125,58.5],[101.875,57.5]],c:!1}]},{t:33.6,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[101.5,58],[101.875,57.5]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.992,.3779,.208,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:8,ix:5},lc:2,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[1,.8433,.8,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:24.96,op:33.6,st:0,bm:0},{ddd:0,ind:6,ty:4,nm:"Shape Layer 11",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:-32,ix:10},p:{a:0,k:[461.5,695.75,0],ix:2,l:2},a:{a:0,k:[79,104.75,0],ix:1,l:2},s:{a:0,k:[-100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:24.96,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[69.5,122.5],[81,98.5]],c:!1}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:25.92,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[79,104.75],[90.5,80.75]],c:!1}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:26.88,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[88.375,84.125],[94.375,73]],c:!1}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:27.84,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[93.375,74.125],[96.875,67.125]],c:!1}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:28.8,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[96,68.375],[98.75,63.125]],c:!1}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:29.76,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[98,64.25],[100.125,60.5]],c:!1}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:30.72,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[99.25,61.875],[100.625,59.125]],c:!1}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:31.68,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[100.5,60],[101.375,58.375]],c:!1}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:32.64,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[101.125,58.5],[101.875,57.5]],c:!1}]},{t:33.6,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[101.5,58],[101.875,57.5]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.992,.3779,.208,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:8,ix:5},lc:2,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[1,.8433,.8,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:24.96,op:33.6,st:0,bm:0},{ddd:0,ind:7,ty:4,nm:"Shape Layer 10",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:87,ix:10},p:{a:0,k:[626,726.5,0],ix:2,l:2},a:{a:0,k:[79,104.75,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:24.96,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[69.5,122.5],[81,98.5]],c:!1}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:25.92,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[79,104.75],[90.5,80.75]],c:!1}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:26.88,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[88.375,84.125],[94.375,73]],c:!1}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:27.84,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[93.375,74.125],[96.875,67.125]],c:!1}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:28.8,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[96,68.375],[98.75,63.125]],c:!1}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:29.76,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[98,64.25],[100.125,60.5]],c:!1}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:30.72,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[99.25,61.875],[100.625,59.125]],c:!1}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:31.68,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[100.5,60],[101.375,58.375]],c:!1}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:32.64,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[101.125,58.5],[101.875,57.5]],c:!1}]},{t:33.6,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[101.5,58],[101.875,57.5]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.992,.3779,.208,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:8,ix:5},lc:2,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[1,.8433,.8,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:24.96,op:33.6,st:0,bm:0},{ddd:0,ind:8,ty:4,nm:"Shape Layer 9",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:65,ix:10},p:{a:0,k:[626.75,709.75,0],ix:2,l:2},a:{a:0,k:[79,104.75,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:24.96,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[69.5,122.5],[81,98.5]],c:!1}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:25.92,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[79,104.75],[90.5,80.75]],c:!1}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:26.88,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[88.375,84.125],[94.375,73]],c:!1}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:27.84,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[93.375,74.125],[96.875,67.125]],c:!1}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:28.8,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[96,68.375],[98.75,63.125]],c:!1}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:29.76,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[98,64.25],[100.125,60.5]],c:!1}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:30.72,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[99.25,61.875],[100.625,59.125]],c:!1}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:31.68,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[100.5,60],[101.375,58.375]],c:!1}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:32.64,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[101.125,58.5],[101.875,57.5]],c:!1}]},{t:33.6,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[101.5,58],[101.875,57.5]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.992,.3779,.208,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:8,ix:5},lc:2,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[1,.8433,.8,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:24.96,op:33.6,st:0,bm:0},{ddd:0,ind:9,ty:4,nm:"Shape Layer 8",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:32,ix:10},p:{a:0,k:[624.5,695.75,0],ix:2,l:2},a:{a:0,k:[79,104.75,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:24.96,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[69.5,122.5],[81,98.5]],c:!1}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:25.92,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[79,104.75],[90.5,80.75]],c:!1}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:26.88,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[88.375,84.125],[94.375,73]],c:!1}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:27.84,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[93.375,74.125],[96.875,67.125]],c:!1}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:28.8,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[96,68.375],[98.75,63.125]],c:!1}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:29.76,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[98,64.25],[100.125,60.5]],c:!1}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:30.72,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[99.25,61.875],[100.625,59.125]],c:!1}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:31.68,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[100.5,60],[101.375,58.375]],c:!1}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:32.64,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[101.125,58.5],[101.875,57.5]],c:!1}]},{t:33.6,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[101.5,58],[101.875,57.5]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.992,.3779,.208,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:8,ix:5},lc:2,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[1,.8433,.8,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:24.96,op:33.6,st:0,bm:0}]}],layers=[{ddd:0,ind:3,ty:0,nm:"Lstamp",refId:"comp_0",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[25.63,25.475,0],ix:2,l:2},a:{a:0,k:[545.129,641.194,0],ix:1,l:2},s:{a:0,k:[14,14,100],ix:6,l:2}},ao:0,w:1600,h:1200,ip:0,op:126.72,st:0,bm:0}],markers=[],animationData={v:v$1,fr,ip,op,w:w$1,h:h$1,nm,ddd,assets,layers,markers},DetailModal=({selectedHabit:et,handleDetailModal:tt,uncompletedFine:rt,handleEditModal:nt,habitCategories:it})=>{const[at,ot]=reactExports.useState(!1),st=it.find(dt=>dt.id===et.category),lt=st?st.icon:null,ct=dt=>{switch(dt.type){case"daily":return"每日";case"weekly":return"每週";case"specificDays":return"特定日期";default:return""}},ut=[{bottom:0,left:0},{bottom:2,left:-1},{bottom:-1,left:-2},{bottom:2,left:0},{bottom:1,left:-1},{bottom:2,left:-2},{bottom:-2,left:1},{bottom:2,left:1}],ft=dt=>{const vt=dt.bottom>=0?`bottom-${dt.bottom}`:`-bottom-${Math.abs(dt.bottom)}`,yt=dt.left>=0?`left-${dt.left}`:`-left-${Math.abs(dt.left)}`;return`${vt} ${yt}`},ht={loop:!1,autoplay:!0,animationData,rendererSettings:{preserveAspectRatio:"xMidYMid slice",clearCanvas:!1}};return jsxRuntimeExports.jsxs("div",{className:"relative",children:[!at&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-75 z-50",children:jsxRuntimeExports.jsx(_default,{options:ht,height:400,width:400,speed:2,eventListeners:[{eventName:"complete",callback:()=>ot(!0)}]})}),jsxRuntimeExports.jsxs("div",{className:`${at?"opacity-100":"opacity-50"} transition-opacity duration-500 space-y-4`,children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-4 items-center",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-primary rounded-full flex items-center justify-center",children:lt&&jsxRuntimeExports.jsx(lt,{className:"w-8 h-8"})}),jsxRuntimeExports.jsx("div",{className:"flex flex-col",children:jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:jsxRuntimeExports.jsx("h3",{className:"font-bold text-lg leading-6 text-black dark:text-black-0 line-clamp-1",children:et.title})})})]}),jsxRuntimeExports.jsx(modalIcons.TbX,{className:"w-6 h-6 hover:text-alert cursor-pointer text-black dark:text-black-0",onClick:tt})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("h3",{className:"text-black dark:text-black-0",children:"養成頻率："}),jsxRuntimeExports.jsx("p",{className:"text-black dark:text-black-0",children:ct(et.frequency)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("h3",{className:"text-black dark:text-black-0",children:"養成期間："}),jsxRuntimeExports.jsxs("p",{className:"text-black dark:text-black-0",children:[et.startDate,"～",et.endDate]})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-5 md:grid-cols-7 2xl:grid-cols-10 gap-2 md:gap-3 max-h-40 overflow-y-auto overflow-x-hidden",children:et.status.map((dt,vt)=>jsxRuntimeExports.jsx("div",{className:"border border-black-500 dark:border-black-300 rounded aspect-square bg-black-50 relative",children:dt.completed&&jsxRuntimeExports.jsx("div",{className:`border-2 border-alert rounded-full aspect-square flex justify-center items-center absolute ${ft(ut[vt%ut.length])}`,children:jsxRuntimeExports.jsx("p",{className:"font-lobster font-normal text-sm leading-5 text-alert -rotate-[30deg] p-1 w-12 h-10 flex items-center justify-center",children:new Date(dt.date).toLocaleDateString("zh-TW",{month:"2-digit",day:"2-digit"})})})},vt))}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("p",{className:"text-black dark:text-black-0",children:"累積存款："}),jsxRuntimeExports.jsxs("p",{className:"text-black dark:text-black-0",children:["NT$ ",rt]})]}),jsxRuntimeExports.jsx("button",{className:"py-1 w-full bg-primary hover:bg-primary-dark rounded-lg font-medium text-sm leading-5",onClick:()=>nt(et),children:"編輯習慣"})]})]})};DetailModal.propTypes={selectedHabit:PropTypes.object.isRequired,handleDetailModal:PropTypes.func.isRequired,uncompletedFine:PropTypes.number.isRequired,handleEditModal:PropTypes.func.isRequired,habitCategories:PropTypes.array.isRequired};const EditModal=({habitData:et,handleHabitChange:tt,handleUpdateHabit:rt,handleDeleteHabit:nt,showMonthCalendar:it,calendarRef:at,handleEditModal:ot,habitCategories:st,setHabitData:lt,monthCalendarDate:ct,handleMonthCalendarSelectDate:ut,setShowMonthCalendar:ft,generateStatusArray:ht})=>{const[dt,vt]=reactExports.useState(et.frequency.days||[]),[yt,xt]=reactExports.useState({}),[_t,mt]=reactExports.useState(!1),[pt,bt]=reactExports.useState(null);reactExports.useEffect(()=>{et.frequency.type==="weekly"?vt([et.frequency.day]):vt(et.frequency.days||[])},[et.frequency]);const Et=It=>{const $t=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].indexOf(It),kt=dt.includes($t)?dt.filter(Ct=>Ct!==$t):[...dt,$t];vt(kt),lt(Ct=>({...Ct,frequency:{...Ct.frequency,days:kt}}))},St=It=>{const $t=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].indexOf(It);vt([$t]),lt(kt=>({...kt,frequency:{...kt.frequency,day:$t}}))},Tt=()=>{const It={};return et.title||(It.title="請輸入習慣名稱"),!et.category&&et.category!==0&&(It.category="請選擇習慣類別"),et.frequency.type||(It.frequency="請選擇習慣頻率"),et.frequency.type==="specificDays"&&dt.length===0&&(It.days="請選擇至少一天"),et.type||(It.type="請選擇習慣類型"),et.amount||(It.amount="請輸入罰款金額"),et.startDate||(It.startDate="請選擇開始日期"),et.endDate||(It.endDate="請選擇結束日期"),xt(It),Object.keys(It).length===0},Pt=It=>{if(It&&It.preventDefault(),!et.title.trim()){AlertNotify$1.habitTitleErrorNotify();return}if(!Tt()){AlertNotify$1.addHabitErrorNotify();return}const $t=ht(et.startDate,et.endDate,et.frequency);lt(kt=>({...kt,status:$t})),rt()},Rt=It=>{const{name:$t,value:kt}=It.target;tt(It),xt(Ct=>{const Bt={...Ct};return kt&&delete Bt[$t],Bt}),$t==="frequency"&&(kt==="weekly"?(vt([]),lt(Ct=>({...Ct,frequency:{type:kt,day:null}}))):kt==="specificDays"?(vt([]),lt(Ct=>({...Ct,frequency:{type:kt,days:[]}}))):lt(Ct=>({...Ct,frequency:{type:kt}})))};return jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-4 w-full",children:jsxRuntimeExports.jsx("input",{type:"text",name:"title",placeholder:"輸入習慣名稱",className:"py-1.5 px-4 w-full rounded-xl border caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-sm leading-5 dark:bg-black-100 placeholder-black",value:et.title,onChange:Rt})}),jsxRuntimeExports.jsx(modalIcons.TbX,{className:"w-6 h-6 hover:text-alert cursor-pointer text-black dark:text-black-0",onClick:ot})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex items-center gap-1 group",children:[jsxRuntimeExports.jsxs("label",{htmlFor:"category",className:"text-nowrap text-black dark:text-black-0 group-hover:relative",children:["習慣類別",jsxRuntimeExports.jsx("span",{className:"absolute -bottom-1 left-24 transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto z-50 before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"你想要培養什麼類別的習慣呢？"})]}),jsxRuntimeExports.jsx(modalIcons.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200"})]}),jsxRuntimeExports.jsx(CategorySelect,{options:st,value:et.category,onChange:It=>Rt({target:{name:"category",value:It}})})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex items-center gap-1 group",children:[jsxRuntimeExports.jsxs("label",{htmlFor:"frequency",className:"text-nowrap text-black dark:text-black-0 group-hover:relative",children:["習慣頻率",jsxRuntimeExports.jsx("span",{className:"absolute -bottom-1 left-24 transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"你想要怎麼安排習慣頻率呢？"})]}),jsxRuntimeExports.jsx(modalIcons.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200"})]}),jsxRuntimeExports.jsxs("div",{className:"w-full grid grid-cols-3 gap-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("input",{type:"radio",name:"frequency",id:"daily",value:"daily",className:"appearance-none hidden",checked:et.frequency.type==="daily",onChange:Rt}),jsxRuntimeExports.jsx("label",{htmlFor:"daily",className:`font-normal text-sm leading-5 block text-center py-px rounded border cursor-pointer ${et.frequency.type==="daily"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"每日"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("input",{type:"radio",name:"frequency",id:"weekly",value:"weekly",className:"appearance-none hidden",checked:et.frequency.type==="weekly",onChange:Rt}),jsxRuntimeExports.jsx("label",{htmlFor:"weekly",className:`font-normal text-sm leading-5 block text-center py-px rounded border cursor-pointer ${et.frequency.type==="weekly"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"每週"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("input",{type:"radio",name:"frequency",id:"specificDays",value:"specificDays",className:"appearance-none hidden",checked:et.frequency.type==="specificDays",onChange:Rt}),jsxRuntimeExports.jsx("label",{htmlFor:"specificDays",className:`font-normal text-sm leading-5 block text-center py-px rounded border cursor-pointer ${et.frequency.type==="specificDays"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"特定日期"})]})]})]}),et.frequency.type==="weekly"&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-normal text-sm text-black-500 mb-1",children:"選擇一天作為「是否完成習慣」的確認時間吧！"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-7 gap-2 md:gap-4",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((It,$t)=>jsxRuntimeExports.jsxs("div",{className:"text-center flex flex-col justify-center items-center gap-1 text-black dark:text-black-0",children:[It,jsxRuntimeExports.jsx(checkIcon.TbCheck,{className:`w-10 h-10 rounded-full p-1 border border-black-500 dark:border-black-300 cursor-pointer ${dt.includes($t)?"bg-primary text-white border-primary dark:border-primary":"text-black dark:text-black-0 hover:bg-primary-light"}`,onClick:()=>St(It)})]},$t))})]}),et.frequency.type==="specificDays"&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-normal text-sm text-black-500 mb-1",children:"選擇想要培養習慣的時間吧！"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-7 gap-2 md:gap-4",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((It,$t)=>jsxRuntimeExports.jsxs("div",{className:"text-center flex flex-col justify-center items-center gap-1 text-black dark:text-black-0",children:[It,jsxRuntimeExports.jsx(checkIcon.TbCheck,{className:`w-10 h-10 rounded-full p-1 border border-black-500 dark:border-black-300 cursor-pointer ${dt.includes($t)?"bg-primary text-white border-primary dark:border-primary":"text-black dark:text-black-0 hover:bg-primary-light"}`,onClick:()=>Et(It)})]},$t))})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex items-center gap-1 group",children:[jsxRuntimeExports.jsxs("label",{htmlFor:"type",className:"text-nowrap text-black dark:text-black-0 group-hover:relative",children:["習慣類型",jsxRuntimeExports.jsx("span",{className:"absolute -bottom-1 left-24 transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"你想要養成還是戒除呢？"})]}),jsxRuntimeExports.jsx(modalIcons.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200"})]}),jsxRuntimeExports.jsxs("div",{className:"w-full grid grid-cols-2 gap-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("input",{type:"radio",name:"type",id:"to-do",value:"to-do",className:"appearance-none hidden",checked:et.type==="to-do",onChange:Rt}),jsxRuntimeExports.jsx("label",{htmlFor:"to-do",className:`font-normal text-sm leading-5 block text-center py-px rounded border cursor-pointer ${et.type==="to-do"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"養成"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("input",{type:"radio",name:"type",id:"not-to-do",value:"not-to-do",className:"appearance-none hidden",checked:et.type==="not-to-do",onChange:Rt}),jsxRuntimeExports.jsx("label",{htmlFor:"not-to-do",className:`font-normal text-sm leading-5 block text-center py-px rounded border cursor-pointer ${et.type==="not-to-do"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"戒除"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex items-center gap-1 group",children:[jsxRuntimeExports.jsxs("label",{htmlFor:"amount",className:"text-nowrap text-black dark:text-black-0 group-hover:relative",children:["習慣罰款",jsxRuntimeExports.jsx("span",{className:"absolute -bottom-1 left-24 transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"如果沒完成習慣，你想支付多少罰款呢？"})]}),jsxRuntimeExports.jsx(modalIcons.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200"})]}),jsxRuntimeExports.jsx(AmountCounter,{value:et.amount,onChange:Rt})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between gap-4 w-full",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex items-center gap-1 group",children:[jsxRuntimeExports.jsxs("label",{htmlFor:"time",className:"text-nowrap text-black dark:text-black-0 group-hover:relative",children:["養成期間",jsxRuntimeExports.jsx("span",{className:"absolute -bottom-1 left-24 transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto z-50 before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"你想要在什麼時候培養這個習慣呢？"})]}),jsxRuntimeExports.jsx(modalIcons.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200"})]}),jsxRuntimeExports.jsx("div",{className:"border border-black-300 w-full rounded py-0.5 px-4 flex justify-between items-center bg-black-0 dark:bg-black-100 relative",children:jsxRuntimeExports.jsx("button",{className:"text-center w-full font-normal text-sm leading-5 text-black",onClick:()=>ft(!it),children:et.startDate&&et.endDate?`${et.startDate} - ${et.endDate}`:"選擇日期範圍"})}),it&&jsxRuntimeExports.jsx("div",{ref:at,className:"w-3/5 md:w-1/6 absolute bottom-0 md:-bottom-12 2xl:-bottom-16 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-10",children:jsxRuntimeExports.jsx(MonthCalendar,{date:ct,onSelect:ut})})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[yt.title&&jsxRuntimeExports.jsx("p",{className:"text-alert text-sm leading-5",children:yt.title}),yt.category&&jsxRuntimeExports.jsx("p",{className:"text-alert text-sm leading-5",children:yt.category}),yt.frequency&&jsxRuntimeExports.jsx("p",{className:"text-alert text-sm leading-5",children:yt.frequency}),yt.days&&jsxRuntimeExports.jsx("p",{className:"text-alert text-sm leading-5",children:yt.days}),yt.type&&jsxRuntimeExports.jsx("p",{className:"text-alert text-sm leading-5",children:yt.type}),yt.amount&&jsxRuntimeExports.jsx("p",{className:"text-alert text-sm leading-5",children:yt.amount}),yt.startDate&&jsxRuntimeExports.jsx("p",{className:"text-alert text-sm leading-5",children:yt.startDate}),yt.endDate&&jsxRuntimeExports.jsx("p",{className:"text-alert text-sm leading-5",children:yt.endDate}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx("button",{className:"w-full py-1 font-normal text-sm leading-5 bg-alert text-white rounded-lg",onClick:()=>{bt(()=>nt),mt(!0)},children:"刪除習慣"}),jsxRuntimeExports.jsx("button",{className:"w-full py-1 font-normal text-sm leading-5 bg-primary rounded-lg hover:bg-primary-dark",onClick:It=>{bt(()=>()=>Pt(It)),mt(!0)},children:"更新習慣"}),_t&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-black-800 p-4 rounded-xl shadow-lg",children:[jsxRuntimeExports.jsx("p",{className:"text-black dark:text-white mb-4",children:"你確定要執行這個操作嗎？"}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{className:"py-1 px-3 bg-gray-300 rounded-lg",onClick:()=>mt(!1),children:"取消"}),jsxRuntimeExports.jsx("button",{className:"py-1 px-3 bg-primary rounded-lg text-black",onClick:()=>{pt(),mt(!1)},children:"確認"})]})]})})]})]})]})};EditModal.propTypes={habitData:PropTypes.object.isRequired,handleHabitChange:PropTypes.func.isRequired,handleUpdateHabit:PropTypes.func.isRequired,handleDeleteHabit:PropTypes.func.isRequired,showMonthCalendar:PropTypes.bool.isRequired,calendarRef:PropTypes.object.isRequired,handleEditModal:PropTypes.func.isRequired,habitCategories:PropTypes.array.isRequired,setHabitData:PropTypes.func.isRequired,monthCalendarDate:PropTypes.object.isRequired,handleMonthCalendarSelectDate:PropTypes.func.isRequired,setShowMonthCalendar:PropTypes.func.isRequired,generateStatusArray:PropTypes.func.isRequired};const HabitList=({habits:et,habitCategories:tt,handleDetailClick:rt,weekDates:nt,handleCheck:it})=>{const at=useLocation(),ot=st=>{switch(st){case"to-do":return"養成";case"not-to-do":return"戒除";default:return""}};return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Array.isArray(et)&&et.length===0?jsxRuntimeExports.jsxs("div",{className:"space-y-2 py-6",children:[jsxRuntimeExports.jsx("p",{className:"text-center font-normal text-base leading-6 text-black dark:text-black-0",children:"找不到相關的存款資料"}),jsxRuntimeExports.jsx("p",{className:"text-center font-normal text-base leading-6 text-black dark:text-black-0",children:"要不要試著培養一些習慣呢？"})]}):jsxRuntimeExports.jsx("ul",{className:`space-y-4 mt-2 ${at.pathname==="/home"?"p-4":""}`,children:Array.isArray(et)&&et.map(st=>{const lt=new Date;lt.setHours(0,0,0,0);const ct=new Date(st.endDate);ct.setHours(0,0,0,0);const ut=ct<lt,ft=tt.find(dt=>dt.id===st.category),ht=ft?ft.icon:null;return jsxRuntimeExports.jsxs("li",{className:`p-4 rounded-2xl ${ut?"bg-black-300 hover:bg-black-200 dark:bg-black-800 dark:hover:bg-black-900":"bg-black-50 dark:bg-black-500 hover:bg-black-0 dark:hover:bg-black-600"}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-primary rounded-full flex items-center justify-center",children:ht&&jsxRuntimeExports.jsx(ht,{className:"w-8 h-8"})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col",children:[jsxRuntimeExports.jsx("h3",{className:"font-bold text-base leading-6 text-black dark:text-black-0 line-clamp-1",children:st.title}),jsxRuntimeExports.jsxs("div",{className:"flex",children:[jsxRuntimeExports.jsxs("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:[ot(st.type),"｜罰款 $",st.amount,"｜已達成 ",st.status.filter(dt=>dt.completed).length]}),jsxRuntimeExports.jsxs("p",{className:"text-black-500 dark:text-black-300 font-normal text-sm leading-5",children:["/",st.status.length]})]})]})]}),jsxRuntimeExports.jsx("button",{className:"text-black dark:text-black-0 hover:text-alert",onClick:()=>rt(st),children:jsxRuntimeExports.jsx(habitDetailIcon.TbCalendarSmile,{className:"w-6 h-6 md:w-8 md:h-8"})})]}),nt&&jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-7 gap-y-1",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((dt,vt)=>jsxRuntimeExports.jsx("div",{className:"text-center text-sm leading-5 md:font-normal md:text-base md:leading-6 text-black dark:text-black-0",children:dt},vt)),nt.map((dt,vt)=>{const yt=st.status.find(xt=>new Date(xt.date).toDateString()===new Date(dt.year,dt.month,dt.day).toDateString());return jsxRuntimeExports.jsx("div",{className:"flex flex-col items-center",children:yt?ut&&!yt.completed?jsxRuntimeExports.jsx(modalIcons.TbX,{className:"w-10 h-10 md:w-12 md:h-12 border-2 rounded-full bg-alert text-black-0 border-alert cursor-not-allowed"}):jsxRuntimeExports.jsx(checkIcon.TbCheck,{className:`w-10 h-10 md:w-12 md:h-12 border-2 rounded-full ${yt.completed?"bg-primary text-black-0 border-primary":"text-black-500 dark:text-black-0 border-black-500 dark:border-black-300"} ${ut?"cursor-not-allowed":"cursor-pointer hover:bg-primary-light"}`,onClick:()=>!ut&&yt&&it(st.id,yt.date),disabled:!yt}):jsxRuntimeExports.jsx("div",{className:`w-10 h-10 md:w-12 md:h-12 rounded-full cursor-not-allowed border-2 border-dashed ${ut?"bg-black-transparent border-black-500":"bg-transparent border-black-300"}`})},vt)})]})]},st.id)})})})};HabitList.propTypes={habits:PropTypes.array.isRequired,habitCategories:PropTypes.array.isRequired,handleDetailClick:PropTypes.func.isRequired,weekDates:PropTypes.array,handleCheck:PropTypes.func};function Home(){const[et,tt]=reactExports.useState(!1),[rt,nt]=reactExports.useState(!1),[it,at]=reactExports.useState(!1),[ot,st]=reactExports.useState({category:null,title:"",frequency:{type:"daily"},amount:0,startDate:"",endDate:"",status:[],type:""}),[lt,ct]=reactExports.useState([]),[ut,ft]=reactExports.useState(null),[ht,dt]=reactExports.useState(!1),[vt,yt]=reactExports.useState(null),[xt,_t]=reactExports.useState([]),[mt,pt]=reactExports.useState(0),[bt,Et]=reactExports.useState(null),St=reactExports.useRef(null),{user:Tt}=reactExports.useContext(AuthContext),Pt=[{id:0,name:"生產力",icon:habitIcons.TbRocket},{id:1,name:"個人成長",icon:habitIcons.TbBook},{id:2,name:"運動健身",icon:habitIcons.TbWalk},{id:3,name:"飲食健康",icon:habitIcons.TbBowlChopsticks},{id:4,name:"心靈成長",icon:habitIcons.TbMoodHeart},{id:5,name:"手作興趣",icon:habitIcons.TbHandGrab},{id:6,name:"財務管理",icon:habitIcons.TbCash},{id:7,name:"環境生活",icon:habitIcons.TbPlant}];reactExports.useEffect(()=>{Tt&&It()},[Tt]),reactExports.useEffect(()=>{const Jt=ur=>{St.current&&!St.current.contains(ur.target)&&dt(!1)};return document.addEventListener("mousedown",Jt),()=>{document.removeEventListener("mousedown",Jt)}},[]),reactExports.useEffect(()=>{const Jt=new Date;ft({year:Jt.getFullYear(),month:Jt.getMonth(),day:Jt.getDate()}),Et({year:Jt.getFullYear(),month:Jt.getMonth(),day:Jt.getDate()})},[]);const Rt=(Jt,ur,Xt)=>{const Zt=new Date(Jt),ir=new Date(ur),Wt=new Date(Xt);return Zt.setHours(0,0,0,0),ir.setHours(0,0,0,0),Wt.setHours(23,59,59,999),Zt>=ir&&Zt<=Wt},It=async(Jt=null)=>{const ur=await getHabits(Tt.uid),Xt=Jt?new Date(Jt.year,Jt.month,Jt.day):new Date,Zt=ur.filter(ir=>Rt(Xt,ir.startDate,ir.endDate));ct(Zt||[])},$t=()=>{tt(!et),st({category:null,title:"",frequency:"daily",amount:0,startDate:"",endDate:"",status:[],type:""})},kt=()=>{nt(!rt)},Ct=Jt=>{st({category:Jt.category,title:Jt.title,frequency:Jt.frequency,amount:Jt.amount,startDate:Jt.startDate,endDate:Jt.endDate,status:Jt.status,type:Jt.type}),nt(!1),at(!it)},Bt=Jt=>{const{name:ur,value:Xt}=Jt.target;if(ur==="frequency"){let Zt;Xt==="specificDays"?Zt={type:Xt,days:ot.frequency.days||[]}:Xt==="weekly"?Zt={type:Xt,day:ot.frequency.day||0}:Zt={type:Xt};const ir=Ft(ot.startDate,ot.endDate,Zt);st(Wt=>({...Wt,frequency:Zt,status:ir}))}else if(ur==="startDate"||ur==="endDate"){const Zt={...ot,[ur]:Xt},ir=Ft(Zt.startDate,Zt.endDate,Zt.frequency);st(Wt=>({...Wt,[ur]:Xt,status:ir}))}else st(Zt=>({...Zt,[ur]:Xt,status:Ft(ot.startDate,ot.endDate,ot.frequency)}))},Ft=(Jt,ur,Xt)=>{const Zt=new Date(Jt),ir=new Date(ur),Wt=[];if(Xt.type==="daily")for(let sr=Zt;sr<=ir;sr.setDate(sr.getDate()+1))Wt.push({date:new Date(sr).toDateString(),completed:!1});else if(Xt.type==="weekly"){const sr=Xt.day;for(let Qt=new Date(Zt);Qt<=ir;Qt.setDate(Qt.getDate()+1))Qt.getDay()===sr&&Wt.push({date:new Date(Qt).toDateString(),completed:!1})}else if(Xt.type==="specificDays"){const sr=Object.values(Xt.days);for(let Qt=Zt;Qt<=ir;Qt.setDate(Qt.getDate()+1))sr.includes(Qt.getDay())&&Wt.push({date:new Date(Qt).toDateString(),completed:!1})}return Wt},Dt=async()=>{if(Tt){const Jt=new Date(ot.startDate);if(new Date(ot.endDate)<=Jt){AlertNotify$1.dateErrorNotify();return}const Xt=Ft(ot.startDate,ot.endDate,ot.frequency),Zt={...ot,status:Xt};await addHabit(Tt.uid,Zt),await calculateBadges(Tt.uid),await checkAndAwardBadges(Tt.uid),It(),$t(),st({category:null,title:"",frequency:{type:"daily"},amount:0,startDate:"",endDate:"",status:[],type:""}),SuccessNotify$1.addHabitNotify()}else console.error("User not authenticated")},Mt=async()=>{if(Tt&&vt){const Jt=new Date(ot.startDate);if(new Date(ot.endDate)<=Jt){AlertNotify$1.dateErrorNotify();return}const Zt={...vt,...ot,id:vt.id,status:Ft(ot.startDate,ot.endDate,ot.frequency)};await updateHabit(Tt.uid,vt.id,Zt),await calculateBadges(Tt.uid),await checkAndAwardBadges(Tt.uid);const ir=await calculateTaskValue(Tt.uid,"habit");await checkAndAwardAchievements(Tt.uid,"habit",ir),It(),at(!1),nt(!1),SuccessNotify$1.updateHabitNotify()}else console.error("User not authenticated or habit not selected")},wt=async()=>{if(Tt&&vt){await deleteHabit(Tt.uid,vt.id),await calculateBadges(Tt.uid),await checkAndAwardBadges(Tt.uid);const Jt=await calculateTaskValue(Tt.uid,"habit");await checkAndAwardAchievements(Tt.uid,"habit",Jt);const ur=await getHabits(Tt.uid);ct(ur),ur.filter(Zt=>Zt.category===vt.category).length===0&&await removeBadge(Tt.uid,vt.category),It(),at(!1),nt(!1),SuccessNotify$1.deleteHabitNotify()}else console.error("User not authenticated or habit not selected")},Ot=async Jt=>{ft(Jt),await It(Jt)},Lt=reactExports.useCallback(Jt=>{_t(Jt)},[_t]),Vt=Jt=>{st(ur=>({...ur,startDate:`${Jt.start.year}-${Jt.start.month+1}-${Jt.start.value}`,endDate:`${Jt.end.year}-${Jt.end.month+1}-${Jt.end.value}`})),dt(!1)},zt=async(Jt,ur)=>{try{const Xt=await getUserProfile(Jt),Zt=Number(Xt.levelPoints),ir=Number(ur),Wt=Zt+ir;await updateUserProfile(Jt,{levelPoints:Wt})}catch(Xt){console.error("Error getting user profile: ",Xt)}},Yt=async(Jt,ur)=>{const Xt=new Date;Xt.setHours(0,0,0,0);const Zt=new Date(ur);if(Zt.setHours(0,0,0,0),Zt>Xt){SuccessNotify$1.checkErrorNotify();return}const ir=lt.map(sr=>{if(sr.id===Jt){const Qt=sr.status.map(_r=>{if(new Date(_r.date).toDateString()===Zt.toDateString()){const br=!_r.completed;return br?(zt(Tt.uid,sr.amount),SuccessNotify$1.checkHabitNotify()):(zt(Tt.uid,-sr.amount),SuccessNotify$1.unCheckHabitNotify()),{..._r,completed:br}}return _r});return{...sr,status:Qt}}return sr});ct(ir);const Wt=ir.find(sr=>sr.id===Jt);try{await updateHabit(Tt.uid,Jt,Wt),await hr("habit")}catch(sr){console.error("Error updating habit in Firestore: ",sr)}},nr=Jt=>{const ur=new Date;return ur.setHours(0,0,0,0),Jt.status.filter(Zt=>{const ir=new Date(Zt.date);return ir.setHours(0,0,0,0),ir<ur&&!Zt.completed}).length*Jt.amount},cr=Jt=>{yt(Jt),pt(nr(Jt)),nt(!0)},hr=async Jt=>{if(!(!Tt||!Tt.uid))try{const ur=await calculateTaskValue(Tt.uid,Jt);await checkAndAwardAchievements(Tt.uid,Jt,ur)}catch(ur){console.error("Error handling achievements: ",ur)}};return jsxRuntimeExports.jsxs("div",{className:"md:pb-6",children:[jsxRuntimeExports.jsx(WeekCalendar,{date:ut,onSelect:Ot,onWeekChange:Lt}),jsxRuntimeExports.jsx(HabitList,{habits:lt,habitCategories:Pt,handleDetailClick:cr,weekDates:xt,handleCheck:Yt}),jsxRuntimeExports.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-full flex items-center justify-center fixed bottom-20 right-4 md:bottom-4 2xl:right-40 bg-primary hover:bg-primary-dark cursor-pointer",onClick:$t,children:jsxRuntimeExports.jsx(habitAddIcon.TbPlus,{className:"w-8 h-8 md:w-10 md:h-10 text-black-0"})}),jsxRuntimeExports.jsx(Modal,{isOpen:et,children:jsxRuntimeExports.jsx(Modal,{isOpen:et,children:jsxRuntimeExports.jsx(HabitModal,{habitData:ot,handleHabitChange:Bt,handleAddHabit:Dt,showMonthCalendar:ht,calendarRef:St,handleHabitModal:$t,habitCategories:Pt,setHabitData:st,monthCalendarDate:bt,handleMonthCalendarSelectDate:Vt,setShowMonthCalendar:dt,generateStatusArray:Ft})})}),jsxRuntimeExports.jsx(Modal,{isOpen:rt,onClose:kt,children:jsxRuntimeExports.jsx(DetailModal,{selectedHabit:vt,handleDetailModal:kt,uncompletedFine:mt,handleEditModal:Ct,habitCategories:Pt})}),jsxRuntimeExports.jsx(Modal,{isOpen:it,onClose:Ct,children:jsxRuntimeExports.jsx(EditModal,{habitData:ot,handleHabitChange:Bt,handleUpdateHabit:Mt,showMonthCalendar:ht,calendarRef:St,handleEditModal:Ct,handleDeleteHabit:wt,habitCategories:Pt,setHabitData:st,monthCalendarDate:bt,handleMonthCalendarSelectDate:Vt,setShowMonthCalendar:dt,generateStatusArray:Ft})})]})}const TabNavigation$2=({isActiveTab:et,setIsActiveTab:tt})=>jsxRuntimeExports.jsxs("ul",{className:"grid grid-cols-2 w-full",children:[jsxRuntimeExports.jsx("li",{className:`border border-black-500 rounded-s-full py-1 font-normal text-sm leading-5 text-center cursor-pointer ${et==="overview"?"bg-primary":"bg-black-50"}`,onClick:()=>tt("overview"),children:"存款總覽"}),jsxRuntimeExports.jsx("li",{className:`border-e border-y border-black-500 rounded-e-full py-1 font-normal text-sm leading-5 text-center cursor-pointer ${et==="category"?"bg-primary":"bg-black-50"}`,onClick:()=>tt("category"),children:"習慣養成總覽"})]});TabNavigation$2.propTypes={isActiveTab:PropTypes.string.isRequired,setIsActiveTab:PropTypes.func.isRequired};const CustomSelect$1=({options:et,value:tt,onChange:rt})=>{const[nt,it]=reactExports.useState(!1),at=st=>{rt(st),it(!1)},ot=et.find(st=>st.value===tt)||et[0];return reactExports.useEffect(()=>{const st=lt=>{lt.target.closest(".custom-select")===null&&it(!1)};return document.addEventListener("mousedown",st),()=>{document.removeEventListener("mousedown",st)}},[]),jsxRuntimeExports.jsxs("div",{className:"relative inline-block w-full custom-select",children:[jsxRuntimeExports.jsxs("div",{className:"border border-black-500 rounded-2xl px-4 py-0.5 bg-white cursor-pointer flex justify-between items-center",onClick:()=>it(!nt),children:[jsxRuntimeExports.jsx("span",{children:ot.label}),jsxRuntimeExports.jsx(dropdownIcon.TbChevronDown,{className:"w-6 h-6 text-black"})]}),nt&&jsxRuntimeExports.jsx("ul",{className:"absolute right-0 z-10 mt-1 min-w-fit w-full bg-white border border-black-500 rounded-2xl shadow-lg text-center overflow-hidden",children:et.map(st=>jsxRuntimeExports.jsx("li",{className:"px-4 py-2 hover:bg-primary-light cursor-pointer",onClick:()=>at(st.value),children:st.label},st.value))})]})};CustomSelect$1.propTypes={options:PropTypes.array.isRequired,value:PropTypes.string.isRequired,onChange:PropTypes.func.isRequired};function r$1(et){var tt,rt,nt="";if(typeof et=="string"||typeof et=="number")nt+=et;else if(typeof et=="object")if(Array.isArray(et)){var it=et.length;for(tt=0;tt<it;tt++)et[tt]&&(rt=r$1(et[tt]))&&(nt&&(nt+=" "),nt+=rt)}else for(rt in et)et[rt]&&(nt&&(nt+=" "),nt+=rt);return nt}function clsx(){for(var et,tt,rt=0,nt="",it=arguments.length;rt<it;rt++)(et=arguments[rt])&&(tt=r$1(et))&&(nt&&(nt+=" "),nt+=tt);return nt}var isArray$f=Array.isArray,isArray_1=isArray$f,freeGlobal$1=typeof commonjsGlobal$2=="object"&&commonjsGlobal$2&&commonjsGlobal$2.Object===Object&&commonjsGlobal$2,_freeGlobal=freeGlobal$1,freeGlobal=_freeGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$9=freeGlobal||freeSelf||Function("return this")(),_root=root$9,root$8=_root,Symbol$7=root$8.Symbol,_Symbol=Symbol$7,Symbol$6=_Symbol,objectProto$c=Object.prototype,hasOwnProperty$a=objectProto$c.hasOwnProperty,nativeObjectToString$1=objectProto$c.toString,symToStringTag$1=Symbol$6?Symbol$6.toStringTag:void 0;function getRawTag$1(et){var tt=hasOwnProperty$a.call(et,symToStringTag$1),rt=et[symToStringTag$1];try{et[symToStringTag$1]=void 0;var nt=!0}catch{}var it=nativeObjectToString$1.call(et);return nt&&(tt?et[symToStringTag$1]=rt:delete et[symToStringTag$1]),it}var _getRawTag=getRawTag$1,objectProto$b=Object.prototype,nativeObjectToString=objectProto$b.toString;function objectToString$1(et){return nativeObjectToString.call(et)}var _objectToString=objectToString$1,Symbol$5=_Symbol,getRawTag=_getRawTag,objectToString=_objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$5?Symbol$5.toStringTag:void 0;function baseGetTag$9(et){return et==null?et===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(et)?getRawTag(et):objectToString(et)}var _baseGetTag=baseGetTag$9;function isObjectLike$9(et){return et!=null&&typeof et=="object"}var isObjectLike_1=isObjectLike$9,baseGetTag$8=_baseGetTag,isObjectLike$8=isObjectLike_1,symbolTag$1="[object Symbol]";function isSymbol$6(et){return typeof et=="symbol"||isObjectLike$8(et)&&baseGetTag$8(et)==symbolTag$1}var isSymbol_1=isSymbol$6,isArray$e=isArray_1,isSymbol$5=isSymbol_1,reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey$3(et,tt){if(isArray$e(et))return!1;var rt=typeof et;return rt=="number"||rt=="symbol"||rt=="boolean"||et==null||isSymbol$5(et)?!0:reIsPlainProp.test(et)||!reIsDeepProp.test(et)||tt!=null&&et in Object(tt)}var _isKey=isKey$3;function isObject$7(et){var tt=typeof et;return et!=null&&(tt=="object"||tt=="function")}var isObject_1=isObject$7;const isObject$8=getDefaultExportFromCjs(isObject_1);var baseGetTag$7=_baseGetTag,isObject$6=isObject_1,asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$2(et){if(!isObject$6(et))return!1;var tt=baseGetTag$7(et);return tt==funcTag$1||tt==genTag||tt==asyncTag||tt==proxyTag}var isFunction_1=isFunction$2;const isFunction$3=getDefaultExportFromCjs(isFunction_1);var root$7=_root,coreJsData$1=root$7["__core-js_shared__"],_coreJsData=coreJsData$1,coreJsData=_coreJsData,maskSrcKey=function(){var et=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return et?"Symbol(src)_1."+et:""}();function isMasked$1(et){return!!maskSrcKey&&maskSrcKey in et}var _isMasked=isMasked$1,funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource$2(et){if(et!=null){try{return funcToString$2.call(et)}catch{}try{return et+""}catch{}}return""}var _toSource=toSource$2,isFunction$1=isFunction_1,isMasked=_isMasked,isObject$5=isObject_1,toSource$1=_toSource,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$a=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$9=objectProto$a.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$9).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative$1(et){if(!isObject$5(et)||isMasked(et))return!1;var tt=isFunction$1(et)?reIsNative:reIsHostCtor;return tt.test(toSource$1(et))}var _baseIsNative=baseIsNative$1;function getValue$1(et,tt){return et==null?void 0:et[tt]}var _getValue=getValue$1,baseIsNative=_baseIsNative,getValue=_getValue;function getNative$7(et,tt){var rt=getValue(et,tt);return baseIsNative(rt)?rt:void 0}var _getNative=getNative$7,getNative$6=_getNative,nativeCreate$4=getNative$6(Object,"create"),_nativeCreate=nativeCreate$4,nativeCreate$3=_nativeCreate;function hashClear$1(){this.__data__=nativeCreate$3?nativeCreate$3(null):{},this.size=0}var _hashClear=hashClear$1;function hashDelete$1(et){var tt=this.has(et)&&delete this.__data__[et];return this.size-=tt?1:0,tt}var _hashDelete=hashDelete$1,nativeCreate$2=_nativeCreate,HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$9=Object.prototype,hasOwnProperty$8=objectProto$9.hasOwnProperty;function hashGet$1(et){var tt=this.__data__;if(nativeCreate$2){var rt=tt[et];return rt===HASH_UNDEFINED$2?void 0:rt}return hasOwnProperty$8.call(tt,et)?tt[et]:void 0}var _hashGet=hashGet$1,nativeCreate$1=_nativeCreate,objectProto$8=Object.prototype,hasOwnProperty$7=objectProto$8.hasOwnProperty;function hashHas$1(et){var tt=this.__data__;return nativeCreate$1?tt[et]!==void 0:hasOwnProperty$7.call(tt,et)}var _hashHas=hashHas$1,nativeCreate=_nativeCreate,HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet$1(et,tt){var rt=this.__data__;return this.size+=this.has(et)?0:1,rt[et]=nativeCreate&&tt===void 0?HASH_UNDEFINED$1:tt,this}var _hashSet=hashSet$1,hashClear=_hashClear,hashDelete=_hashDelete,hashGet=_hashGet,hashHas=_hashHas,hashSet=_hashSet;function Hash$1(et){var tt=-1,rt=et==null?0:et.length;for(this.clear();++tt<rt;){var nt=et[tt];this.set(nt[0],nt[1])}}Hash$1.prototype.clear=hashClear;Hash$1.prototype.delete=hashDelete;Hash$1.prototype.get=hashGet;Hash$1.prototype.has=hashHas;Hash$1.prototype.set=hashSet;var _Hash=Hash$1;function listCacheClear$1(){this.__data__=[],this.size=0}var _listCacheClear=listCacheClear$1;function eq$3(et,tt){return et===tt||et!==et&&tt!==tt}var eq_1=eq$3,eq$2=eq_1;function assocIndexOf$4(et,tt){for(var rt=et.length;rt--;)if(eq$2(et[rt][0],tt))return rt;return-1}var _assocIndexOf=assocIndexOf$4,assocIndexOf$3=_assocIndexOf,arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete$1(et){var tt=this.__data__,rt=assocIndexOf$3(tt,et);if(rt<0)return!1;var nt=tt.length-1;return rt==nt?tt.pop():splice.call(tt,rt,1),--this.size,!0}var _listCacheDelete=listCacheDelete$1,assocIndexOf$2=_assocIndexOf;function listCacheGet$1(et){var tt=this.__data__,rt=assocIndexOf$2(tt,et);return rt<0?void 0:tt[rt][1]}var _listCacheGet=listCacheGet$1,assocIndexOf$1=_assocIndexOf;function listCacheHas$1(et){return assocIndexOf$1(this.__data__,et)>-1}var _listCacheHas=listCacheHas$1,assocIndexOf=_assocIndexOf;function listCacheSet$1(et,tt){var rt=this.__data__,nt=assocIndexOf(rt,et);return nt<0?(++this.size,rt.push([et,tt])):rt[nt][1]=tt,this}var _listCacheSet=listCacheSet$1,listCacheClear=_listCacheClear,listCacheDelete=_listCacheDelete,listCacheGet=_listCacheGet,listCacheHas=_listCacheHas,listCacheSet=_listCacheSet;function ListCache$4(et){var tt=-1,rt=et==null?0:et.length;for(this.clear();++tt<rt;){var nt=et[tt];this.set(nt[0],nt[1])}}ListCache$4.prototype.clear=listCacheClear;ListCache$4.prototype.delete=listCacheDelete;ListCache$4.prototype.get=listCacheGet;ListCache$4.prototype.has=listCacheHas;ListCache$4.prototype.set=listCacheSet;var _ListCache=ListCache$4,getNative$5=_getNative,root$6=_root,Map$4=getNative$5(root$6,"Map"),_Map=Map$4,Hash=_Hash,ListCache$3=_ListCache,Map$3=_Map;function mapCacheClear$1(){this.size=0,this.__data__={hash:new Hash,map:new(Map$3||ListCache$3),string:new Hash}}var _mapCacheClear=mapCacheClear$1;function isKeyable$1(et){var tt=typeof et;return tt=="string"||tt=="number"||tt=="symbol"||tt=="boolean"?et!=="__proto__":et===null}var _isKeyable=isKeyable$1,isKeyable=_isKeyable;function getMapData$4(et,tt){var rt=et.__data__;return isKeyable(tt)?rt[typeof tt=="string"?"string":"hash"]:rt.map}var _getMapData=getMapData$4,getMapData$3=_getMapData;function mapCacheDelete$1(et){var tt=getMapData$3(this,et).delete(et);return this.size-=tt?1:0,tt}var _mapCacheDelete=mapCacheDelete$1,getMapData$2=_getMapData;function mapCacheGet$1(et){return getMapData$2(this,et).get(et)}var _mapCacheGet=mapCacheGet$1,getMapData$1=_getMapData;function mapCacheHas$1(et){return getMapData$1(this,et).has(et)}var _mapCacheHas=mapCacheHas$1,getMapData=_getMapData;function mapCacheSet$1(et,tt){var rt=getMapData(this,et),nt=rt.size;return rt.set(et,tt),this.size+=rt.size==nt?0:1,this}var _mapCacheSet=mapCacheSet$1,mapCacheClear=_mapCacheClear,mapCacheDelete=_mapCacheDelete,mapCacheGet=_mapCacheGet,mapCacheHas=_mapCacheHas,mapCacheSet=_mapCacheSet;function MapCache$3(et){var tt=-1,rt=et==null?0:et.length;for(this.clear();++tt<rt;){var nt=et[tt];this.set(nt[0],nt[1])}}MapCache$3.prototype.clear=mapCacheClear;MapCache$3.prototype.delete=mapCacheDelete;MapCache$3.prototype.get=mapCacheGet;MapCache$3.prototype.has=mapCacheHas;MapCache$3.prototype.set=mapCacheSet;var _MapCache=MapCache$3,MapCache$2=_MapCache,FUNC_ERROR_TEXT$2="Expected a function";function memoize$2(et,tt){if(typeof et!="function"||tt!=null&&typeof tt!="function")throw new TypeError(FUNC_ERROR_TEXT$2);var rt=function(){var nt=arguments,it=tt?tt.apply(this,nt):nt[0],at=rt.cache;if(at.has(it))return at.get(it);var ot=et.apply(this,nt);return rt.cache=at.set(it,ot)||at,ot};return rt.cache=new(memoize$2.Cache||MapCache$2),rt}memoize$2.Cache=MapCache$2;var memoize_1=memoize$2;const memoize$3=getDefaultExportFromCjs(memoize_1);var memoize$1=memoize_1,MAX_MEMOIZE_SIZE=500;function memoizeCapped$1(et){var tt=memoize$1(et,function(nt){return rt.size===MAX_MEMOIZE_SIZE&&rt.clear(),nt}),rt=tt.cache;return tt}var _memoizeCapped=memoizeCapped$1,memoizeCapped=_memoizeCapped,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath$1=memoizeCapped(function(et){var tt=[];return et.charCodeAt(0)===46&&tt.push(""),et.replace(rePropName,function(rt,nt,it,at){tt.push(it?at.replace(reEscapeChar,"$1"):nt||rt)}),tt}),_stringToPath=stringToPath$1;function arrayMap$3(et,tt){for(var rt=-1,nt=et==null?0:et.length,it=Array(nt);++rt<nt;)it[rt]=tt(et[rt],rt,et);return it}var _arrayMap=arrayMap$3,Symbol$4=_Symbol,arrayMap$2=_arrayMap,isArray$d=isArray_1,isSymbol$4=isSymbol_1,INFINITY$3=1/0,symbolProto$1=Symbol$4?Symbol$4.prototype:void 0,symbolToString=symbolProto$1?symbolProto$1.toString:void 0;function baseToString$1(et){if(typeof et=="string")return et;if(isArray$d(et))return arrayMap$2(et,baseToString$1)+"";if(isSymbol$4(et))return symbolToString?symbolToString.call(et):"";var tt=et+"";return tt=="0"&&1/et==-INFINITY$3?"-0":tt}var _baseToString=baseToString$1,baseToString=_baseToString;function toString$3(et){return et==null?"":baseToString(et)}var toString_1=toString$3,isArray$c=isArray_1,isKey$2=_isKey,stringToPath=_stringToPath,toString$2=toString_1;function castPath$2(et,tt){return isArray$c(et)?et:isKey$2(et,tt)?[et]:stringToPath(toString$2(et))}var _castPath=castPath$2,isSymbol$3=isSymbol_1,INFINITY$2=1/0;function toKey$4(et){if(typeof et=="string"||isSymbol$3(et))return et;var tt=et+"";return tt=="0"&&1/et==-INFINITY$2?"-0":tt}var _toKey=toKey$4,castPath$1=_castPath,toKey$3=_toKey;function baseGet$3(et,tt){tt=castPath$1(tt,et);for(var rt=0,nt=tt.length;et!=null&&rt<nt;)et=et[toKey$3(tt[rt++])];return rt&&rt==nt?et:void 0}var _baseGet=baseGet$3,baseGet$2=_baseGet;function get$1(et,tt,rt){var nt=et==null?void 0:baseGet$2(et,tt);return nt===void 0?rt:nt}var get_1=get$1;const get$2=getDefaultExportFromCjs(get_1);function isNil(et){return et==null}var isNil_1=isNil;const isNil$1=getDefaultExportFromCjs(isNil_1);var baseGetTag$6=_baseGetTag,isArray$b=isArray_1,isObjectLike$7=isObjectLike_1,stringTag$2="[object String]";function isString(et){return typeof et=="string"||!isArray$b(et)&&isObjectLike$7(et)&&baseGetTag$6(et)==stringTag$2}var isString_1=isString;const isString$1=getDefaultExportFromCjs(isString_1);var reactIs={exports:{}},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b=typeof Symbol=="function"&&Symbol.for,c$1=b?Symbol.for("react.element"):60103,d=b?Symbol.for("react.portal"):60106,e=b?Symbol.for("react.fragment"):60107,f=b?Symbol.for("react.strict_mode"):60108,g=b?Symbol.for("react.profiler"):60114,h=b?Symbol.for("react.provider"):60109,k$1=b?Symbol.for("react.context"):60110,l=b?Symbol.for("react.async_mode"):60111,m=b?Symbol.for("react.concurrent_mode"):60111,n=b?Symbol.for("react.forward_ref"):60112,p=b?Symbol.for("react.suspense"):60113,q=b?Symbol.for("react.suspense_list"):60120,r=b?Symbol.for("react.memo"):60115,t=b?Symbol.for("react.lazy"):60116,v=b?Symbol.for("react.block"):60121,w=b?Symbol.for("react.fundamental"):60117,x$1=b?Symbol.for("react.responder"):60118,y$1=b?Symbol.for("react.scope"):60119;function z(et){if(typeof et=="object"&&et!==null){var tt=et.$$typeof;switch(tt){case c$1:switch(et=et.type,et){case l:case m:case e:case g:case f:case p:return et;default:switch(et=et&&et.$$typeof,et){case k$1:case n:case t:case r:case h:return et;default:return tt}}case d:return tt}}}function A(et){return z(et)===m}reactIs_production_min.AsyncMode=l;reactIs_production_min.ConcurrentMode=m;reactIs_production_min.ContextConsumer=k$1;reactIs_production_min.ContextProvider=h;reactIs_production_min.Element=c$1;reactIs_production_min.ForwardRef=n;reactIs_production_min.Fragment=e;reactIs_production_min.Lazy=t;reactIs_production_min.Memo=r;reactIs_production_min.Portal=d;reactIs_production_min.Profiler=g;reactIs_production_min.StrictMode=f;reactIs_production_min.Suspense=p;reactIs_production_min.isAsyncMode=function(et){return A(et)||z(et)===l};reactIs_production_min.isConcurrentMode=A;reactIs_production_min.isContextConsumer=function(et){return z(et)===k$1};reactIs_production_min.isContextProvider=function(et){return z(et)===h};reactIs_production_min.isElement=function(et){return typeof et=="object"&&et!==null&&et.$$typeof===c$1};reactIs_production_min.isForwardRef=function(et){return z(et)===n};reactIs_production_min.isFragment=function(et){return z(et)===e};reactIs_production_min.isLazy=function(et){return z(et)===t};reactIs_production_min.isMemo=function(et){return z(et)===r};reactIs_production_min.isPortal=function(et){return z(et)===d};reactIs_production_min.isProfiler=function(et){return z(et)===g};reactIs_production_min.isStrictMode=function(et){return z(et)===f};reactIs_production_min.isSuspense=function(et){return z(et)===p};reactIs_production_min.isValidElementType=function(et){return typeof et=="string"||typeof et=="function"||et===e||et===m||et===g||et===f||et===p||et===q||typeof et=="object"&&et!==null&&(et.$$typeof===t||et.$$typeof===r||et.$$typeof===h||et.$$typeof===k$1||et.$$typeof===n||et.$$typeof===w||et.$$typeof===x$1||et.$$typeof===y$1||et.$$typeof===v)};reactIs_production_min.typeOf=z;reactIs.exports=reactIs_production_min;var reactIsExports=reactIs.exports,baseGetTag$5=_baseGetTag,isObjectLike$6=isObjectLike_1,numberTag$2="[object Number]";function isNumber$2(et){return typeof et=="number"||isObjectLike$6(et)&&baseGetTag$5(et)==numberTag$2}var isNumber_1=isNumber$2;const isNumber$3=getDefaultExportFromCjs(isNumber_1);var isNumber$1=isNumber_1;function isNaN$1(et){return isNumber$1(et)&&et!=+et}var _isNaN=isNaN$1;const isNan=getDefaultExportFromCjs(_isNaN);var mathSign=function et(tt){return tt===0?0:tt>0?1:-1},isPercent=function et(tt){return isString$1(tt)&&tt.indexOf("%")===tt.length-1},isNumber=function et(tt){return isNumber$3(tt)&&!isNan(tt)},isNumOrStr=function et(tt){return isNumber(tt)||isString$1(tt)},idCounter=0,uniqueId=function et(tt){var rt=++idCounter;return"".concat(tt||"").concat(rt)},getPercentValue=function et(tt,rt){var nt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,it=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!isNumber(tt)&&!isString$1(tt))return nt;var at;if(isPercent(tt)){var ot=tt.indexOf("%");at=rt*parseFloat(tt.slice(0,ot))/100}else at=+tt;return isNan(at)&&(at=nt),it&&at>rt&&(at=rt),at},getAnyElementOfObject=function et(tt){if(!tt)return null;var rt=Object.keys(tt);return rt&&rt.length?tt[rt[0]]:null},hasDuplicate=function et(tt){if(!Array.isArray(tt))return!1;for(var rt=tt.length,nt={},it=0;it<rt;it++)if(!nt[tt[it]])nt[tt[it]]=!0;else return!0;return!1},interpolateNumber$2=function et(tt,rt){return isNumber(tt)&&isNumber(rt)?function(nt){return tt+nt*(rt-tt)}:function(){return rt}};function findEntryInArray(et,tt,rt){return!et||!et.length?null:et.find(function(nt){return nt&&(typeof tt=="function"?tt(nt):get$2(nt,tt))===rt})}function shallowEqual(et,tt){for(var rt in et)if({}.hasOwnProperty.call(et,rt)&&(!{}.hasOwnProperty.call(tt,rt)||et[rt]!==tt[rt]))return!1;for(var nt in tt)if({}.hasOwnProperty.call(tt,nt)&&!{}.hasOwnProperty.call(et,nt))return!1;return!0}function _typeof$G(et){"@babel/helpers - typeof";return _typeof$G=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$G(et)}var SVGContainerPropKeys=["viewBox","children"],SVGElementPropKeys=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],PolyElementKeys=["points","pathLength"],FilteredElementKeyMap={svg:SVGContainerPropKeys,polygon:PolyElementKeys,polyline:PolyElementKeys},EventKeys=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],adaptEventHandlers=function et(tt,rt){if(!tt||typeof tt=="function"||typeof tt=="boolean")return null;var nt=tt;if(reactExports.isValidElement(tt)&&(nt=tt.props),!isObject$8(nt))return null;var it={};return Object.keys(nt).forEach(function(at){EventKeys.includes(at)&&(it[at]=rt||function(ot){return nt[at](nt,ot)})}),it},getEventHandlerOfChild=function et(tt,rt,nt){return function(it){return tt(rt,nt,it),null}},adaptEventsOfChild=function et(tt,rt,nt){if(!isObject$8(tt)||_typeof$G(tt)!=="object")return null;var it=null;return Object.keys(tt).forEach(function(at){var ot=tt[at];EventKeys.includes(at)&&typeof ot=="function"&&(it||(it={}),it[at]=getEventHandlerOfChild(ot,rt,nt))}),it},_excluded$i=["children"],_excluded2$6=["children"];function _objectWithoutProperties$i(et,tt){if(et==null)return{};var rt=_objectWithoutPropertiesLoose$i(et,tt),nt,it;if(Object.getOwnPropertySymbols){var at=Object.getOwnPropertySymbols(et);for(it=0;it<at.length;it++)nt=at[it],!(tt.indexOf(nt)>=0)&&Object.prototype.propertyIsEnumerable.call(et,nt)&&(rt[nt]=et[nt])}return rt}function _objectWithoutPropertiesLoose$i(et,tt){if(et==null)return{};var rt={},nt=Object.keys(et),it,at;for(at=0;at<nt.length;at++)it=nt[at],!(tt.indexOf(it)>=0)&&(rt[it]=et[it]);return rt}var REACT_BROWSER_EVENT_MAP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},getDisplayName=function et(tt){return typeof tt=="string"?tt:tt?tt.displayName||tt.name||"Component":""},lastChildren=null,lastResult=null,toArray=function et(tt){if(tt===lastChildren&&Array.isArray(lastResult))return lastResult;var rt=[];return reactExports.Children.forEach(tt,function(nt){isNil$1(nt)||(reactIsExports.isFragment(nt)?rt=rt.concat(et(nt.props.children)):rt.push(nt))}),lastResult=rt,lastChildren=tt,rt};function findAllByType(et,tt){var rt=[],nt=[];return Array.isArray(tt)?nt=tt.map(function(it){return getDisplayName(it)}):nt=[getDisplayName(tt)],toArray(et).forEach(function(it){var at=get$2(it,"type.displayName")||get$2(it,"type.name");nt.indexOf(at)!==-1&&rt.push(it)}),rt}function findChildByType(et,tt){var rt=findAllByType(et,tt);return rt&&rt[0]}var validateWidthHeight=function et(tt){if(!tt||!tt.props)return!1;var rt=tt.props,nt=rt.width,it=rt.height;return!(!isNumber(nt)||nt<=0||!isNumber(it)||it<=0)},SVG_TAGS=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],isSvgElement=function et(tt){return tt&&tt.type&&isString$1(tt.type)&&SVG_TAGS.indexOf(tt.type)>=0},isValidSpreadableProp=function et(tt,rt,nt,it){var at,ot=(at=FilteredElementKeyMap==null?void 0:FilteredElementKeyMap[it])!==null&&at!==void 0?at:[];return!isFunction$3(tt)&&(it&&ot.includes(rt)||SVGElementPropKeys.includes(rt))||nt&&EventKeys.includes(rt)},filterProps=function et(tt,rt,nt){if(!tt||typeof tt=="function"||typeof tt=="boolean")return null;var it=tt;if(reactExports.isValidElement(tt)&&(it=tt.props),!isObject$8(it))return null;var at={};return Object.keys(it).forEach(function(ot){var st;isValidSpreadableProp((st=it)===null||st===void 0?void 0:st[ot],ot,rt,nt)&&(at[ot]=it[ot])}),at},isChildrenEqual=function et(tt,rt){if(tt===rt)return!0;var nt=reactExports.Children.count(tt);if(nt!==reactExports.Children.count(rt))return!1;if(nt===0)return!0;if(nt===1)return isSingleChildEqual(Array.isArray(tt)?tt[0]:tt,Array.isArray(rt)?rt[0]:rt);for(var it=0;it<nt;it++){var at=tt[it],ot=rt[it];if(Array.isArray(at)||Array.isArray(ot)){if(!et(at,ot))return!1}else if(!isSingleChildEqual(at,ot))return!1}return!0},isSingleChildEqual=function et(tt,rt){if(isNil$1(tt)&&isNil$1(rt))return!0;if(!isNil$1(tt)&&!isNil$1(rt)){var nt=tt.props||{},it=nt.children,at=_objectWithoutProperties$i(nt,_excluded$i),ot=rt.props||{},st=ot.children,lt=_objectWithoutProperties$i(ot,_excluded2$6);return it&&st?shallowEqual(at,lt)&&isChildrenEqual(it,st):!it&&!st?shallowEqual(at,lt):!1}return!1},renderByOrder=function et(tt,rt){var nt=[],it={};return toArray(tt).forEach(function(at,ot){if(isSvgElement(at))nt.push(at);else if(at){var st=getDisplayName(at.type),lt=rt[st]||{},ct=lt.handler,ut=lt.once;if(ct&&(!ut||!it[st])){var ft=ct(at,st,ot);nt.push(ft),it[st]=!0}}}),nt},getReactEventByType=function et(tt){var rt=tt&&tt.type;return rt&&REACT_BROWSER_EVENT_MAP[rt]?REACT_BROWSER_EVENT_MAP[rt]:null},parseChildIndex=function et(tt,rt){return toArray(rt).indexOf(tt)},_excluded$h=["children","width","height","viewBox","className","style","title","desc"];function _extends$t(){return _extends$t=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$t.apply(this,arguments)}function _objectWithoutProperties$h(et,tt){if(et==null)return{};var rt=_objectWithoutPropertiesLoose$h(et,tt),nt,it;if(Object.getOwnPropertySymbols){var at=Object.getOwnPropertySymbols(et);for(it=0;it<at.length;it++)nt=at[it],!(tt.indexOf(nt)>=0)&&Object.prototype.propertyIsEnumerable.call(et,nt)&&(rt[nt]=et[nt])}return rt}function _objectWithoutPropertiesLoose$h(et,tt){if(et==null)return{};var rt={},nt=Object.keys(et),it,at;for(at=0;at<nt.length;at++)it=nt[at],!(tt.indexOf(it)>=0)&&(rt[it]=et[it]);return rt}function Surface(et){var tt=et.children,rt=et.width,nt=et.height,it=et.viewBox,at=et.className,ot=et.style,st=et.title,lt=et.desc,ct=_objectWithoutProperties$h(et,_excluded$h),ut=it||{width:rt,height:nt,x:0,y:0},ft=clsx("recharts-surface",at);return React.createElement("svg",_extends$t({},filterProps(ct,!0,"svg"),{className:ft,width:rt,height:nt,style:ot,viewBox:"".concat(ut.x," ").concat(ut.y," ").concat(ut.width," ").concat(ut.height)}),React.createElement("title",null,st),React.createElement("desc",null,lt),tt)}var _excluded$g=["children","className"];function _extends$s(){return _extends$s=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$s.apply(this,arguments)}function _objectWithoutProperties$g(et,tt){if(et==null)return{};var rt=_objectWithoutPropertiesLoose$g(et,tt),nt,it;if(Object.getOwnPropertySymbols){var at=Object.getOwnPropertySymbols(et);for(it=0;it<at.length;it++)nt=at[it],!(tt.indexOf(nt)>=0)&&Object.prototype.propertyIsEnumerable.call(et,nt)&&(rt[nt]=et[nt])}return rt}function _objectWithoutPropertiesLoose$g(et,tt){if(et==null)return{};var rt={},nt=Object.keys(et),it,at;for(at=0;at<nt.length;at++)it=nt[at],!(tt.indexOf(it)>=0)&&(rt[it]=et[it]);return rt}var Layer=React.forwardRef(function(et,tt){var rt=et.children,nt=et.className,it=_objectWithoutProperties$g(et,_excluded$g),at=clsx("recharts-layer",nt);return React.createElement("g",_extends$s({className:at},filterProps(it,!0),{ref:tt}),rt)}),warn=function et(tt,rt){for(var nt=arguments.length,it=new Array(nt>2?nt-2:0),at=2;at<nt;at++)it[at-2]=arguments[at]};function baseSlice$1(et,tt,rt){var nt=-1,it=et.length;tt<0&&(tt=-tt>it?0:it+tt),rt=rt>it?it:rt,rt<0&&(rt+=it),it=tt>rt?0:rt-tt>>>0,tt>>>=0;for(var at=Array(it);++nt<it;)at[nt]=et[nt+tt];return at}var _baseSlice=baseSlice$1,baseSlice=_baseSlice;function castSlice$1(et,tt,rt){var nt=et.length;return rt=rt===void 0?nt:rt,!tt&&rt>=nt?et:baseSlice(et,tt,rt)}var _castSlice=castSlice$1,rsAstralRange$1="\\ud800-\\udfff",rsComboMarksRange$1="\\u0300-\\u036f",reComboHalfMarksRange$1="\\ufe20-\\ufe2f",rsComboSymbolsRange$1="\\u20d0-\\u20ff",rsComboRange$1=rsComboMarksRange$1+reComboHalfMarksRange$1+rsComboSymbolsRange$1,rsVarRange$1="\\ufe0e\\ufe0f",rsZWJ$1="\\u200d",reHasUnicode=RegExp("["+rsZWJ$1+rsAstralRange$1+rsComboRange$1+rsVarRange$1+"]");function hasUnicode$2(et){return reHasUnicode.test(et)}var _hasUnicode=hasUnicode$2;function asciiToArray$1(et){return et.split("")}var _asciiToArray=asciiToArray$1,rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f",reComboHalfMarksRange="\\ufe20-\\ufe2f",rsComboSymbolsRange="\\u20d0-\\u20ff",rsComboRange=rsComboMarksRange+reComboHalfMarksRange+rsComboSymbolsRange,rsVarRange="\\ufe0e\\ufe0f",rsAstral="["+rsAstralRange+"]",rsCombo="["+rsComboRange+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsZWJ="\\u200d",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange+"]?",rsOptJoin="(?:"+rsZWJ+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");function unicodeToArray$1(et){return et.match(reUnicode)||[]}var _unicodeToArray=unicodeToArray$1,asciiToArray=_asciiToArray,hasUnicode$1=_hasUnicode,unicodeToArray=_unicodeToArray;function stringToArray$1(et){return hasUnicode$1(et)?unicodeToArray(et):asciiToArray(et)}var _stringToArray=stringToArray$1,castSlice=_castSlice,hasUnicode=_hasUnicode,stringToArray=_stringToArray,toString$1=toString_1;function createCaseFirst$1(et){return function(tt){tt=toString$1(tt);var rt=hasUnicode(tt)?stringToArray(tt):void 0,nt=rt?rt[0]:tt.charAt(0),it=rt?castSlice(rt,1).join(""):tt.slice(1);return nt[et]()+it}}var _createCaseFirst=createCaseFirst$1,createCaseFirst=_createCaseFirst,upperFirst=createCaseFirst("toUpperCase"),upperFirst_1=upperFirst;const upperFirst$1=getDefaultExportFromCjs(upperFirst_1);function constant$3(et){return function(){return et}}const cos=Math.cos,sin=Math.sin,sqrt$1=Math.sqrt,pi$1=Math.PI,tau$1=2*pi$1,pi=Math.PI,tau=2*pi,epsilon=1e-6,tauEpsilon=tau-epsilon;function append(et){this._+=et[0];for(let tt=1,rt=et.length;tt<rt;++tt)this._+=arguments[tt]+et[tt]}function appendRound(et){let tt=Math.floor(et);if(!(tt>=0))throw new Error(`invalid digits: ${et}`);if(tt>15)return append;const rt=10**tt;return function(nt){this._+=nt[0];for(let it=1,at=nt.length;it<at;++it)this._+=Math.round(arguments[it]*rt)/rt+nt[it]}}class Path{constructor(tt){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=tt==null?append:appendRound(tt)}moveTo(tt,rt){this._append`M${this._x0=this._x1=+tt},${this._y0=this._y1=+rt}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(tt,rt){this._append`L${this._x1=+tt},${this._y1=+rt}`}quadraticCurveTo(tt,rt,nt,it){this._append`Q${+tt},${+rt},${this._x1=+nt},${this._y1=+it}`}bezierCurveTo(tt,rt,nt,it,at,ot){this._append`C${+tt},${+rt},${+nt},${+it},${this._x1=+at},${this._y1=+ot}`}arcTo(tt,rt,nt,it,at){if(tt=+tt,rt=+rt,nt=+nt,it=+it,at=+at,at<0)throw new Error(`negative radius: ${at}`);let ot=this._x1,st=this._y1,lt=nt-tt,ct=it-rt,ut=ot-tt,ft=st-rt,ht=ut*ut+ft*ft;if(this._x1===null)this._append`M${this._x1=tt},${this._y1=rt}`;else if(ht>epsilon)if(!(Math.abs(ft*lt-ct*ut)>epsilon)||!at)this._append`L${this._x1=tt},${this._y1=rt}`;else{let dt=nt-ot,vt=it-st,yt=lt*lt+ct*ct,xt=dt*dt+vt*vt,_t=Math.sqrt(yt),mt=Math.sqrt(ht),pt=at*Math.tan((pi-Math.acos((yt+ht-xt)/(2*_t*mt)))/2),bt=pt/mt,Et=pt/_t;Math.abs(bt-1)>epsilon&&this._append`L${tt+bt*ut},${rt+bt*ft}`,this._append`A${at},${at},0,0,${+(ft*dt>ut*vt)},${this._x1=tt+Et*lt},${this._y1=rt+Et*ct}`}}arc(tt,rt,nt,it,at,ot){if(tt=+tt,rt=+rt,nt=+nt,ot=!!ot,nt<0)throw new Error(`negative radius: ${nt}`);let st=nt*Math.cos(it),lt=nt*Math.sin(it),ct=tt+st,ut=rt+lt,ft=1^ot,ht=ot?it-at:at-it;this._x1===null?this._append`M${ct},${ut}`:(Math.abs(this._x1-ct)>epsilon||Math.abs(this._y1-ut)>epsilon)&&this._append`L${ct},${ut}`,nt&&(ht<0&&(ht=ht%tau+tau),ht>tauEpsilon?this._append`A${nt},${nt},0,1,${ft},${tt-st},${rt-lt}A${nt},${nt},0,1,${ft},${this._x1=ct},${this._y1=ut}`:ht>epsilon&&this._append`A${nt},${nt},0,${+(ht>=pi)},${ft},${this._x1=tt+nt*Math.cos(at)},${this._y1=rt+nt*Math.sin(at)}`)}rect(tt,rt,nt,it){this._append`M${this._x0=this._x1=+tt},${this._y0=this._y1=+rt}h${nt=+nt}v${+it}h${-nt}Z`}toString(){return this._}}function withPath(et){let tt=3;return et.digits=function(rt){if(!arguments.length)return tt;if(rt==null)tt=null;else{const nt=Math.floor(rt);if(!(nt>=0))throw new RangeError(`invalid digits: ${rt}`);tt=nt}return et},()=>new Path(tt)}function array(et){return typeof et=="object"&&"length"in et?et:Array.from(et)}function Linear(et){this._context=et}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(et,tt){switch(et=+et,tt=+tt,this._point){case 0:this._point=1,this._line?this._context.lineTo(et,tt):this._context.moveTo(et,tt);break;case 1:this._point=2;default:this._context.lineTo(et,tt);break}}};function curveLinear(et){return new Linear(et)}function x(et){return et[0]}function y(et){return et[1]}function shapeLine(et,tt){var rt=constant$3(!0),nt=null,it=curveLinear,at=null,ot=withPath(st);et=typeof et=="function"?et:et===void 0?x:constant$3(et),tt=typeof tt=="function"?tt:tt===void 0?y:constant$3(tt);function st(lt){var ct,ut=(lt=array(lt)).length,ft,ht=!1,dt;for(nt==null&&(at=it(dt=ot())),ct=0;ct<=ut;++ct)!(ct<ut&&rt(ft=lt[ct],ct,lt))===ht&&((ht=!ht)?at.lineStart():at.lineEnd()),ht&&at.point(+et(ft,ct,lt),+tt(ft,ct,lt));if(dt)return at=null,dt+""||null}return st.x=function(lt){return arguments.length?(et=typeof lt=="function"?lt:constant$3(+lt),st):et},st.y=function(lt){return arguments.length?(tt=typeof lt=="function"?lt:constant$3(+lt),st):tt},st.defined=function(lt){return arguments.length?(rt=typeof lt=="function"?lt:constant$3(!!lt),st):rt},st.curve=function(lt){return arguments.length?(it=lt,nt!=null&&(at=it(nt)),st):it},st.context=function(lt){return arguments.length?(lt==null?nt=at=null:at=it(nt=lt),st):nt},st}function shapeArea(et,tt,rt){var nt=null,it=constant$3(!0),at=null,ot=curveLinear,st=null,lt=withPath(ct);et=typeof et=="function"?et:et===void 0?x:constant$3(+et),tt=typeof tt=="function"?tt:constant$3(tt===void 0?0:+tt),rt=typeof rt=="function"?rt:rt===void 0?y:constant$3(+rt);function ct(ft){var ht,dt,vt,yt=(ft=array(ft)).length,xt,_t=!1,mt,pt=new Array(yt),bt=new Array(yt);for(at==null&&(st=ot(mt=lt())),ht=0;ht<=yt;++ht){if(!(ht<yt&&it(xt=ft[ht],ht,ft))===_t)if(_t=!_t)dt=ht,st.areaStart(),st.lineStart();else{for(st.lineEnd(),st.lineStart(),vt=ht-1;vt>=dt;--vt)st.point(pt[vt],bt[vt]);st.lineEnd(),st.areaEnd()}_t&&(pt[ht]=+et(xt,ht,ft),bt[ht]=+tt(xt,ht,ft),st.point(nt?+nt(xt,ht,ft):pt[ht],rt?+rt(xt,ht,ft):bt[ht]))}if(mt)return st=null,mt+""||null}function ut(){return shapeLine().defined(it).curve(ot).context(at)}return ct.x=function(ft){return arguments.length?(et=typeof ft=="function"?ft:constant$3(+ft),nt=null,ct):et},ct.x0=function(ft){return arguments.length?(et=typeof ft=="function"?ft:constant$3(+ft),ct):et},ct.x1=function(ft){return arguments.length?(nt=ft==null?null:typeof ft=="function"?ft:constant$3(+ft),ct):nt},ct.y=function(ft){return arguments.length?(tt=typeof ft=="function"?ft:constant$3(+ft),rt=null,ct):tt},ct.y0=function(ft){return arguments.length?(tt=typeof ft=="function"?ft:constant$3(+ft),ct):tt},ct.y1=function(ft){return arguments.length?(rt=ft==null?null:typeof ft=="function"?ft:constant$3(+ft),ct):rt},ct.lineX0=ct.lineY0=function(){return ut().x(et).y(tt)},ct.lineY1=function(){return ut().x(et).y(rt)},ct.lineX1=function(){return ut().x(nt).y(tt)},ct.defined=function(ft){return arguments.length?(it=typeof ft=="function"?ft:constant$3(!!ft),ct):it},ct.curve=function(ft){return arguments.length?(ot=ft,at!=null&&(st=ot(at)),ct):ot},ct.context=function(ft){return arguments.length?(ft==null?at=st=null:st=ot(at=ft),ct):at},ct}class Bump{constructor(tt,rt){this._context=tt,this._x=rt}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(tt,rt){switch(tt=+tt,rt=+rt,this._point){case 0:{this._point=1,this._line?this._context.lineTo(tt,rt):this._context.moveTo(tt,rt);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+tt)/2,this._y0,this._x0,rt,tt,rt):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+rt)/2,tt,this._y0,tt,rt);break}}this._x0=tt,this._y0=rt}}function bumpX(et){return new Bump(et,!0)}function bumpY(et){return new Bump(et,!1)}const symbolCircle={draw(et,tt){const rt=sqrt$1(tt/pi$1);et.moveTo(rt,0),et.arc(0,0,rt,0,tau$1)}},symbolCross={draw(et,tt){const rt=sqrt$1(tt/5)/2;et.moveTo(-3*rt,-rt),et.lineTo(-rt,-rt),et.lineTo(-rt,-3*rt),et.lineTo(rt,-3*rt),et.lineTo(rt,-rt),et.lineTo(3*rt,-rt),et.lineTo(3*rt,rt),et.lineTo(rt,rt),et.lineTo(rt,3*rt),et.lineTo(-rt,3*rt),et.lineTo(-rt,rt),et.lineTo(-3*rt,rt),et.closePath()}},tan30=sqrt$1(1/3),tan30_2=tan30*2,symbolDiamond={draw(et,tt){const rt=sqrt$1(tt/tan30_2),nt=rt*tan30;et.moveTo(0,-rt),et.lineTo(nt,0),et.lineTo(0,rt),et.lineTo(-nt,0),et.closePath()}},symbolSquare={draw(et,tt){const rt=sqrt$1(tt),nt=-rt/2;et.rect(nt,nt,rt,rt)}},ka=.8908130915292852,kr=sin(pi$1/10)/sin(7*pi$1/10),kx=sin(tau$1/10)*kr,ky=-cos(tau$1/10)*kr,symbolStar={draw(et,tt){const rt=sqrt$1(tt*ka),nt=kx*rt,it=ky*rt;et.moveTo(0,-rt),et.lineTo(nt,it);for(let at=1;at<5;++at){const ot=tau$1*at/5,st=cos(ot),lt=sin(ot);et.lineTo(lt*rt,-st*rt),et.lineTo(st*nt-lt*it,lt*nt+st*it)}et.closePath()}},sqrt3=sqrt$1(3),symbolTriangle={draw(et,tt){const rt=-sqrt$1(tt/(sqrt3*3));et.moveTo(0,rt*2),et.lineTo(-sqrt3*rt,-rt),et.lineTo(sqrt3*rt,-rt),et.closePath()}},c=-.5,s=sqrt$1(3)/2,k=1/sqrt$1(12),a=(k/2+1)*3,symbolWye={draw(et,tt){const rt=sqrt$1(tt/a),nt=rt/2,it=rt*k,at=nt,ot=rt*k+rt,st=-at,lt=ot;et.moveTo(nt,it),et.lineTo(at,ot),et.lineTo(st,lt),et.lineTo(c*nt-s*it,s*nt+c*it),et.lineTo(c*at-s*ot,s*at+c*ot),et.lineTo(c*st-s*lt,s*st+c*lt),et.lineTo(c*nt+s*it,c*it-s*nt),et.lineTo(c*at+s*ot,c*ot-s*at),et.lineTo(c*st+s*lt,c*lt-s*st),et.closePath()}};function Symbol$3(et,tt){let rt=null,nt=withPath(it);et=typeof et=="function"?et:constant$3(et||symbolCircle),tt=typeof tt=="function"?tt:constant$3(tt===void 0?64:+tt);function it(){let at;if(rt||(rt=at=nt()),et.apply(this,arguments).draw(rt,+tt.apply(this,arguments)),at)return rt=null,at+""||null}return it.type=function(at){return arguments.length?(et=typeof at=="function"?at:constant$3(at),it):et},it.size=function(at){return arguments.length?(tt=typeof at=="function"?at:constant$3(+at),it):tt},it.context=function(at){return arguments.length?(rt=at??null,it):rt},it}function noop$2(){}function point$2(et,tt,rt){et._context.bezierCurveTo((2*et._x0+et._x1)/3,(2*et._y0+et._y1)/3,(et._x0+2*et._x1)/3,(et._y0+2*et._y1)/3,(et._x0+4*et._x1+tt)/6,(et._y0+4*et._y1+rt)/6)}function Basis(et){this._context=et}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(et,tt){switch(et=+et,tt=+tt,this._point){case 0:this._point=1,this._line?this._context.lineTo(et,tt):this._context.moveTo(et,tt);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$2(this,et,tt);break}this._x0=this._x1,this._x1=et,this._y0=this._y1,this._y1=tt}};function curveBasis(et){return new Basis(et)}function BasisClosed(et){this._context=et}BasisClosed.prototype={areaStart:noop$2,areaEnd:noop$2,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(et,tt){switch(et=+et,tt=+tt,this._point){case 0:this._point=1,this._x2=et,this._y2=tt;break;case 1:this._point=2,this._x3=et,this._y3=tt;break;case 2:this._point=3,this._x4=et,this._y4=tt,this._context.moveTo((this._x0+4*this._x1+et)/6,(this._y0+4*this._y1+tt)/6);break;default:point$2(this,et,tt);break}this._x0=this._x1,this._x1=et,this._y0=this._y1,this._y1=tt}};function curveBasisClosed(et){return new BasisClosed(et)}function BasisOpen(et){this._context=et}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(et,tt){switch(et=+et,tt=+tt,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var rt=(this._x0+4*this._x1+et)/6,nt=(this._y0+4*this._y1+tt)/6;this._line?this._context.lineTo(rt,nt):this._context.moveTo(rt,nt);break;case 3:this._point=4;default:point$2(this,et,tt);break}this._x0=this._x1,this._x1=et,this._y0=this._y1,this._y1=tt}};function curveBasisOpen(et){return new BasisOpen(et)}function LinearClosed(et){this._context=et}LinearClosed.prototype={areaStart:noop$2,areaEnd:noop$2,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(et,tt){et=+et,tt=+tt,this._point?this._context.lineTo(et,tt):(this._point=1,this._context.moveTo(et,tt))}};function curveLinearClosed(et){return new LinearClosed(et)}function sign(et){return et<0?-1:1}function slope3(et,tt,rt){var nt=et._x1-et._x0,it=tt-et._x1,at=(et._y1-et._y0)/(nt||it<0&&-0),ot=(rt-et._y1)/(it||nt<0&&-0),st=(at*it+ot*nt)/(nt+it);return(sign(at)+sign(ot))*Math.min(Math.abs(at),Math.abs(ot),.5*Math.abs(st))||0}function slope2(et,tt){var rt=et._x1-et._x0;return rt?(3*(et._y1-et._y0)/rt-tt)/2:tt}function point$1(et,tt,rt){var nt=et._x0,it=et._y0,at=et._x1,ot=et._y1,st=(at-nt)/3;et._context.bezierCurveTo(nt+st,it+st*tt,at-st,ot-st*rt,at,ot)}function MonotoneX(et){this._context=et}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point$1(this,this._t0,slope2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(et,tt){var rt=NaN;if(et=+et,tt=+tt,!(et===this._x1&&tt===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(et,tt):this._context.moveTo(et,tt);break;case 1:this._point=2;break;case 2:this._point=3,point$1(this,slope2(this,rt=slope3(this,et,tt)),rt);break;default:point$1(this,this._t0,rt=slope3(this,et,tt));break}this._x0=this._x1,this._x1=et,this._y0=this._y1,this._y1=tt,this._t0=rt}}};function MonotoneY(et){this._context=new ReflectContext(et)}(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(et,tt){MonotoneX.prototype.point.call(this,tt,et)};function ReflectContext(et){this._context=et}ReflectContext.prototype={moveTo:function(et,tt){this._context.moveTo(tt,et)},closePath:function(){this._context.closePath()},lineTo:function(et,tt){this._context.lineTo(tt,et)},bezierCurveTo:function(et,tt,rt,nt,it,at){this._context.bezierCurveTo(tt,et,nt,rt,at,it)}};function monotoneX(et){return new MonotoneX(et)}function monotoneY(et){return new MonotoneY(et)}function Natural(et){this._context=et}Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var et=this._x,tt=this._y,rt=et.length;if(rt)if(this._line?this._context.lineTo(et[0],tt[0]):this._context.moveTo(et[0],tt[0]),rt===2)this._context.lineTo(et[1],tt[1]);else for(var nt=controlPoints(et),it=controlPoints(tt),at=0,ot=1;ot<rt;++at,++ot)this._context.bezierCurveTo(nt[0][at],it[0][at],nt[1][at],it[1][at],et[ot],tt[ot]);(this._line||this._line!==0&&rt===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(et,tt){this._x.push(+et),this._y.push(+tt)}};function controlPoints(et){var tt,rt=et.length-1,nt,it=new Array(rt),at=new Array(rt),ot=new Array(rt);for(it[0]=0,at[0]=2,ot[0]=et[0]+2*et[1],tt=1;tt<rt-1;++tt)it[tt]=1,at[tt]=4,ot[tt]=4*et[tt]+2*et[tt+1];for(it[rt-1]=2,at[rt-1]=7,ot[rt-1]=8*et[rt-1]+et[rt],tt=1;tt<rt;++tt)nt=it[tt]/at[tt-1],at[tt]-=nt,ot[tt]-=nt*ot[tt-1];for(it[rt-1]=ot[rt-1]/at[rt-1],tt=rt-2;tt>=0;--tt)it[tt]=(ot[tt]-it[tt+1])/at[tt];for(at[rt-1]=(et[rt]+it[rt-1])/2,tt=0;tt<rt-1;++tt)at[tt]=2*et[tt+1]-it[tt+1];return[it,at]}function curveNatural(et){return new Natural(et)}function Step(et,tt){this._context=et,this._t=tt}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(et,tt){switch(et=+et,tt=+tt,this._point){case 0:this._point=1,this._line?this._context.lineTo(et,tt):this._context.moveTo(et,tt);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,tt),this._context.lineTo(et,tt);else{var rt=this._x*(1-this._t)+et*this._t;this._context.lineTo(rt,this._y),this._context.lineTo(rt,tt)}break}}this._x=et,this._y=tt}};function curveStep(et){return new Step(et,.5)}function stepBefore(et){return new Step(et,0)}function stepAfter(et){return new Step(et,1)}function stackOffsetNone(et,tt){if((ot=et.length)>1)for(var rt=1,nt,it,at=et[tt[0]],ot,st=at.length;rt<ot;++rt)for(it=at,at=et[tt[rt]],nt=0;nt<st;++nt)at[nt][1]+=at[nt][0]=isNaN(it[nt][1])?it[nt][0]:it[nt][1]}function stackOrderNone(et){for(var tt=et.length,rt=new Array(tt);--tt>=0;)rt[tt]=tt;return rt}function stackValue(et,tt){return et[tt]}function stackSeries(et){const tt=[];return tt.key=et,tt}function shapeStack(){var et=constant$3([]),tt=stackOrderNone,rt=stackOffsetNone,nt=stackValue;function it(at){var ot=Array.from(et.apply(this,arguments),stackSeries),st,lt=ot.length,ct=-1,ut;for(const ft of at)for(st=0,++ct;st<lt;++st)(ot[st][ct]=[0,+nt(ft,ot[st].key,ct,at)]).data=ft;for(st=0,ut=array(tt(ot));st<lt;++st)ot[ut[st]].index=st;return rt(ot,ut),ot}return it.keys=function(at){return arguments.length?(et=typeof at=="function"?at:constant$3(Array.from(at)),it):et},it.value=function(at){return arguments.length?(nt=typeof at=="function"?at:constant$3(+at),it):nt},it.order=function(at){return arguments.length?(tt=at==null?stackOrderNone:typeof at=="function"?at:constant$3(Array.from(at)),it):tt},it.offset=function(at){return arguments.length?(rt=at??stackOffsetNone,it):rt},it}function stackOffsetExpand(et,tt){if((nt=et.length)>0){for(var rt,nt,it=0,at=et[0].length,ot;it<at;++it){for(ot=rt=0;rt<nt;++rt)ot+=et[rt][it][1]||0;if(ot)for(rt=0;rt<nt;++rt)et[rt][it][1]/=ot}stackOffsetNone(et,tt)}}function stackOffsetSilhouette(et,tt){if((it=et.length)>0){for(var rt=0,nt=et[tt[0]],it,at=nt.length;rt<at;++rt){for(var ot=0,st=0;ot<it;++ot)st+=et[ot][rt][1]||0;nt[rt][1]+=nt[rt][0]=-st/2}stackOffsetNone(et,tt)}}function stackOffsetWiggle(et,tt){if(!(!((ot=et.length)>0)||!((at=(it=et[tt[0]]).length)>0))){for(var rt=0,nt=1,it,at,ot;nt<at;++nt){for(var st=0,lt=0,ct=0;st<ot;++st){for(var ut=et[tt[st]],ft=ut[nt][1]||0,ht=ut[nt-1][1]||0,dt=(ft-ht)/2,vt=0;vt<st;++vt){var yt=et[tt[vt]],xt=yt[nt][1]||0,_t=yt[nt-1][1]||0;dt+=xt-_t}lt+=ft,ct+=dt*ft}it[nt-1][1]+=it[nt-1][0]=rt,lt&&(rt-=ct/lt)}it[nt-1][1]+=it[nt-1][0]=rt,stackOffsetNone(et,tt)}}function _typeof$F(et){"@babel/helpers - typeof";return _typeof$F=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$F(et)}var _excluded$f=["type","size","sizeType"];function _extends$r(){return _extends$r=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$r.apply(this,arguments)}function ownKeys$B(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(it){return Object.getOwnPropertyDescriptor(et,it).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$B(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$B(Object(rt),!0).forEach(function(nt){_defineProperty$E(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$B(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$E(et,tt,rt){return tt=_toPropertyKey$E(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$E(et){var tt=_toPrimitive$E(et,"string");return _typeof$F(tt)=="symbol"?tt:String(tt)}function _toPrimitive$E(et,tt){if(_typeof$F(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$F(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}function _objectWithoutProperties$f(et,tt){if(et==null)return{};var rt=_objectWithoutPropertiesLoose$f(et,tt),nt,it;if(Object.getOwnPropertySymbols){var at=Object.getOwnPropertySymbols(et);for(it=0;it<at.length;it++)nt=at[it],!(tt.indexOf(nt)>=0)&&Object.prototype.propertyIsEnumerable.call(et,nt)&&(rt[nt]=et[nt])}return rt}function _objectWithoutPropertiesLoose$f(et,tt){if(et==null)return{};var rt={},nt=Object.keys(et),it,at;for(at=0;at<nt.length;at++)it=nt[at],!(tt.indexOf(it)>=0)&&(rt[it]=et[it]);return rt}var symbolFactories={symbolCircle,symbolCross,symbolDiamond,symbolSquare,symbolStar,symbolTriangle,symbolWye},RADIAN$2=Math.PI/180,getSymbolFactory=function et(tt){var rt="symbol".concat(upperFirst$1(tt));return symbolFactories[rt]||symbolCircle},calculateAreaSize=function et(tt,rt,nt){if(rt==="area")return tt;switch(nt){case"cross":return 5*tt*tt/9;case"diamond":return .5*tt*tt/Math.sqrt(3);case"square":return tt*tt;case"star":{var it=18*RADIAN$2;return 1.25*tt*tt*(Math.tan(it)-Math.tan(it*2)*Math.pow(Math.tan(it),2))}case"triangle":return Math.sqrt(3)*tt*tt/4;case"wye":return(21-10*Math.sqrt(3))*tt*tt/8;default:return Math.PI*tt*tt/4}},registerSymbol=function et(tt,rt){symbolFactories["symbol".concat(upperFirst$1(tt))]=rt},Symbols=function et(tt){var rt=tt.type,nt=rt===void 0?"circle":rt,it=tt.size,at=it===void 0?64:it,ot=tt.sizeType,st=ot===void 0?"area":ot,lt=_objectWithoutProperties$f(tt,_excluded$f),ct=_objectSpread$B(_objectSpread$B({},lt),{},{type:nt,size:at,sizeType:st}),ut=function(){var xt=getSymbolFactory(nt),_t=Symbol$3().type(xt).size(calculateAreaSize(at,st,nt));return _t()},ft=ct.className,ht=ct.cx,dt=ct.cy,vt=filterProps(ct,!0);return ht===+ht&&dt===+dt&&at===+at?React.createElement("path",_extends$r({},vt,{className:clsx("recharts-symbols",ft),transform:"translate(".concat(ht,", ").concat(dt,")"),d:ut()})):null};Symbols.registerSymbol=registerSymbol;function _typeof$E(et){"@babel/helpers - typeof";return _typeof$E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$E(et)}function _extends$q(){return _extends$q=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$q.apply(this,arguments)}function ownKeys$A(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(it){return Object.getOwnPropertyDescriptor(et,it).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$A(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$A(Object(rt),!0).forEach(function(nt){_defineProperty$D(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$A(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _classCallCheck$e(et,tt){if(!(et instanceof tt))throw new TypeError("Cannot call a class as a function")}function _defineProperties$e(et,tt){for(var rt=0;rt<tt.length;rt++){var nt=tt[rt];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(et,_toPropertyKey$D(nt.key),nt)}}function _createClass$e(et,tt,rt){return tt&&_defineProperties$e(et.prototype,tt),Object.defineProperty(et,"prototype",{writable:!1}),et}function _callSuper$a(et,tt,rt){return tt=_getPrototypeOf$b(tt),_possibleConstructorReturn$b(et,_isNativeReflectConstruct$b()?Reflect.construct(tt,rt||[],_getPrototypeOf$b(et).constructor):tt.apply(et,rt))}function _possibleConstructorReturn$b(et,tt){if(tt&&(_typeof$E(tt)==="object"||typeof tt=="function"))return tt;if(tt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$b(et)}function _assertThisInitialized$b(et){if(et===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return et}function _isNativeReflectConstruct$b(){try{var et=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$b=function(){return!!et})()}function _getPrototypeOf$b(et){return _getPrototypeOf$b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rt){return rt.__proto__||Object.getPrototypeOf(rt)},_getPrototypeOf$b(et)}function _inherits$b(et,tt){if(typeof tt!="function"&&tt!==null)throw new TypeError("Super expression must either be null or a function");et.prototype=Object.create(tt&&tt.prototype,{constructor:{value:et,writable:!0,configurable:!0}}),Object.defineProperty(et,"prototype",{writable:!1}),tt&&_setPrototypeOf$b(et,tt)}function _setPrototypeOf$b(et,tt){return _setPrototypeOf$b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,it){return nt.__proto__=it,nt},_setPrototypeOf$b(et,tt)}function _defineProperty$D(et,tt,rt){return tt=_toPropertyKey$D(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$D(et){var tt=_toPrimitive$D(et,"string");return _typeof$E(tt)=="symbol"?tt:String(tt)}function _toPrimitive$D(et,tt){if(_typeof$E(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$E(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}var SIZE=32,DefaultLegendContent=function(et){_inherits$b(tt,et);function tt(){return _classCallCheck$e(this,tt),_callSuper$a(this,tt,arguments)}return _createClass$e(tt,[{key:"renderIcon",value:function(nt){var it=this.props.inactiveColor,at=SIZE/2,ot=SIZE/6,st=SIZE/3,lt=nt.inactive?it:nt.color;if(nt.type==="plainline")return React.createElement("line",{strokeWidth:4,fill:"none",stroke:lt,strokeDasharray:nt.payload.strokeDasharray,x1:0,y1:at,x2:SIZE,y2:at,className:"recharts-legend-icon"});if(nt.type==="line")return React.createElement("path",{strokeWidth:4,fill:"none",stroke:lt,d:"M0,".concat(at,"h").concat(st,`
            A`).concat(ot,",").concat(ot,",0,1,1,").concat(2*st,",").concat(at,`
            H`).concat(SIZE,"M").concat(2*st,",").concat(at,`
            A`).concat(ot,",").concat(ot,",0,1,1,").concat(st,",").concat(at),className:"recharts-legend-icon"});if(nt.type==="rect")return React.createElement("path",{stroke:"none",fill:lt,d:"M0,".concat(SIZE/8,"h").concat(SIZE,"v").concat(SIZE*3/4,"h").concat(-SIZE,"z"),className:"recharts-legend-icon"});if(React.isValidElement(nt.legendIcon)){var ct=_objectSpread$A({},nt);return delete ct.legendIcon,React.cloneElement(nt.legendIcon,ct)}return React.createElement(Symbols,{fill:lt,cx:at,cy:at,size:SIZE,sizeType:"diameter",type:nt.type})}},{key:"renderItems",value:function(){var nt=this,it=this.props,at=it.payload,ot=it.iconSize,st=it.layout,lt=it.formatter,ct=it.inactiveColor,ut={x:0,y:0,width:SIZE,height:SIZE},ft={display:st==="horizontal"?"inline-block":"block",marginRight:10},ht={display:"inline-block",verticalAlign:"middle",marginRight:4};return at.map(function(dt,vt){var yt=dt.formatter||lt,xt=clsx(_defineProperty$D(_defineProperty$D({"recharts-legend-item":!0},"legend-item-".concat(vt),!0),"inactive",dt.inactive));if(dt.type==="none")return null;var _t=isFunction$3(dt.value)?null:dt.value;warn(!isFunction$3(dt.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var mt=dt.inactive?ct:dt.color;return React.createElement("li",_extends$q({className:xt,style:ft,key:"legend-item-".concat(vt)},adaptEventsOfChild(nt.props,dt,vt)),React.createElement(Surface,{width:ot,height:ot,viewBox:ut,style:ht},nt.renderIcon(dt)),React.createElement("span",{className:"recharts-legend-item-text",style:{color:mt}},yt?yt(_t,dt,vt):_t))})}},{key:"render",value:function(){var nt=this.props,it=nt.payload,at=nt.layout,ot=nt.align;if(!it||!it.length)return null;var st={padding:0,margin:0,textAlign:at==="horizontal"?ot:"left"};return React.createElement("ul",{className:"recharts-default-legend",style:st},this.renderItems())}}]),tt}(reactExports.PureComponent);_defineProperty$D(DefaultLegendContent,"displayName","Legend");_defineProperty$D(DefaultLegendContent,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var ListCache$2=_ListCache;function stackClear$1(){this.__data__=new ListCache$2,this.size=0}var _stackClear=stackClear$1;function stackDelete$1(et){var tt=this.__data__,rt=tt.delete(et);return this.size=tt.size,rt}var _stackDelete=stackDelete$1;function stackGet$1(et){return this.__data__.get(et)}var _stackGet=stackGet$1;function stackHas$1(et){return this.__data__.has(et)}var _stackHas=stackHas$1,ListCache$1=_ListCache,Map$2=_Map,MapCache$1=_MapCache,LARGE_ARRAY_SIZE$1=200;function stackSet$1(et,tt){var rt=this.__data__;if(rt instanceof ListCache$1){var nt=rt.__data__;if(!Map$2||nt.length<LARGE_ARRAY_SIZE$1-1)return nt.push([et,tt]),this.size=++rt.size,this;rt=this.__data__=new MapCache$1(nt)}return rt.set(et,tt),this.size=rt.size,this}var _stackSet=stackSet$1,ListCache=_ListCache,stackClear=_stackClear,stackDelete=_stackDelete,stackGet=_stackGet,stackHas=_stackHas,stackSet=_stackSet;function Stack$2(et){var tt=this.__data__=new ListCache(et);this.size=tt.size}Stack$2.prototype.clear=stackClear;Stack$2.prototype.delete=stackDelete;Stack$2.prototype.get=stackGet;Stack$2.prototype.has=stackHas;Stack$2.prototype.set=stackSet;var _Stack=Stack$2,HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd$1(et){return this.__data__.set(et,HASH_UNDEFINED),this}var _setCacheAdd=setCacheAdd$1;function setCacheHas$1(et){return this.__data__.has(et)}var _setCacheHas=setCacheHas$1,MapCache=_MapCache,setCacheAdd=_setCacheAdd,setCacheHas=_setCacheHas;function SetCache$2(et){var tt=-1,rt=et==null?0:et.length;for(this.__data__=new MapCache;++tt<rt;)this.add(et[tt])}SetCache$2.prototype.add=SetCache$2.prototype.push=setCacheAdd;SetCache$2.prototype.has=setCacheHas;var _SetCache=SetCache$2;function arraySome$2(et,tt){for(var rt=-1,nt=et==null?0:et.length;++rt<nt;)if(tt(et[rt],rt,et))return!0;return!1}var _arraySome=arraySome$2;function cacheHas$2(et,tt){return et.has(tt)}var _cacheHas=cacheHas$2,SetCache$1=_SetCache,arraySome$1=_arraySome,cacheHas$1=_cacheHas,COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function equalArrays$2(et,tt,rt,nt,it,at){var ot=rt&COMPARE_PARTIAL_FLAG$5,st=et.length,lt=tt.length;if(st!=lt&&!(ot&&lt>st))return!1;var ct=at.get(et),ut=at.get(tt);if(ct&&ut)return ct==tt&&ut==et;var ft=-1,ht=!0,dt=rt&COMPARE_UNORDERED_FLAG$3?new SetCache$1:void 0;for(at.set(et,tt),at.set(tt,et);++ft<st;){var vt=et[ft],yt=tt[ft];if(nt)var xt=ot?nt(yt,vt,ft,tt,et,at):nt(vt,yt,ft,et,tt,at);if(xt!==void 0){if(xt)continue;ht=!1;break}if(dt){if(!arraySome$1(tt,function(_t,mt){if(!cacheHas$1(dt,mt)&&(vt===_t||it(vt,_t,rt,nt,at)))return dt.push(mt)})){ht=!1;break}}else if(!(vt===yt||it(vt,yt,rt,nt,at))){ht=!1;break}}return at.delete(et),at.delete(tt),ht}var _equalArrays=equalArrays$2,root$5=_root,Uint8Array$2=root$5.Uint8Array,_Uint8Array=Uint8Array$2;function mapToArray$1(et){var tt=-1,rt=Array(et.size);return et.forEach(function(nt,it){rt[++tt]=[it,nt]}),rt}var _mapToArray=mapToArray$1;function setToArray$3(et){var tt=-1,rt=Array(et.size);return et.forEach(function(nt){rt[++tt]=nt}),rt}var _setToArray=setToArray$3,Symbol$2=_Symbol,Uint8Array$1=_Uint8Array,eq$1=eq_1,equalArrays$1=_equalArrays,mapToArray=_mapToArray,setToArray$2=_setToArray,COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2,boolTag$2="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",mapTag$2="[object Map]",numberTag$1="[object Number]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",symbolTag="[object Symbol]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$2="[object DataView]",symbolProto=Symbol$2?Symbol$2.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function equalByTag$1(et,tt,rt,nt,it,at,ot){switch(rt){case dataViewTag$2:if(et.byteLength!=tt.byteLength||et.byteOffset!=tt.byteOffset)return!1;et=et.buffer,tt=tt.buffer;case arrayBufferTag$1:return!(et.byteLength!=tt.byteLength||!at(new Uint8Array$1(et),new Uint8Array$1(tt)));case boolTag$2:case dateTag$1:case numberTag$1:return eq$1(+et,+tt);case errorTag$1:return et.name==tt.name&&et.message==tt.message;case regexpTag$1:case stringTag$1:return et==tt+"";case mapTag$2:var st=mapToArray;case setTag$2:var lt=nt&COMPARE_PARTIAL_FLAG$4;if(st||(st=setToArray$2),et.size!=tt.size&&!lt)return!1;var ct=ot.get(et);if(ct)return ct==tt;nt|=COMPARE_UNORDERED_FLAG$2,ot.set(et,tt);var ut=equalArrays$1(st(et),st(tt),nt,it,at,ot);return ot.delete(et),ut;case symbolTag:if(symbolValueOf)return symbolValueOf.call(et)==symbolValueOf.call(tt)}return!1}var _equalByTag=equalByTag$1;function arrayPush$2(et,tt){for(var rt=-1,nt=tt.length,it=et.length;++rt<nt;)et[it+rt]=tt[rt];return et}var _arrayPush=arrayPush$2,arrayPush$1=_arrayPush,isArray$a=isArray_1;function baseGetAllKeys$1(et,tt,rt){var nt=tt(et);return isArray$a(et)?nt:arrayPush$1(nt,rt(et))}var _baseGetAllKeys=baseGetAllKeys$1;function arrayFilter$1(et,tt){for(var rt=-1,nt=et==null?0:et.length,it=0,at=[];++rt<nt;){var ot=et[rt];tt(ot,rt,et)&&(at[it++]=ot)}return at}var _arrayFilter=arrayFilter$1;function stubArray$1(){return[]}var stubArray_1=stubArray$1,arrayFilter=_arrayFilter,stubArray=stubArray_1,objectProto$7=Object.prototype,propertyIsEnumerable$1=objectProto$7.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols$1=nativeGetSymbols?function(et){return et==null?[]:(et=Object(et),arrayFilter(nativeGetSymbols(et),function(tt){return propertyIsEnumerable$1.call(et,tt)}))}:stubArray,_getSymbols=getSymbols$1;function baseTimes$1(et,tt){for(var rt=-1,nt=Array(et);++rt<et;)nt[rt]=tt(rt);return nt}var _baseTimes=baseTimes$1,baseGetTag$4=_baseGetTag,isObjectLike$5=isObjectLike_1,argsTag$2="[object Arguments]";function baseIsArguments$1(et){return isObjectLike$5(et)&&baseGetTag$4(et)==argsTag$2}var _baseIsArguments=baseIsArguments$1,baseIsArguments=_baseIsArguments,isObjectLike$4=isObjectLike_1,objectProto$6=Object.prototype,hasOwnProperty$6=objectProto$6.hasOwnProperty,propertyIsEnumerable=objectProto$6.propertyIsEnumerable,isArguments$3=baseIsArguments(function(){return arguments}())?baseIsArguments:function(et){return isObjectLike$4(et)&&hasOwnProperty$6.call(et,"callee")&&!propertyIsEnumerable.call(et,"callee")},isArguments_1=isArguments$3,isBuffer$2={exports:{}};function stubFalse(){return!1}var stubFalse_1=stubFalse;isBuffer$2.exports;(function(et,tt){var rt=_root,nt=stubFalse_1,it=tt&&!tt.nodeType&&tt,at=it&&!0&&et&&!et.nodeType&&et,ot=at&&at.exports===it,st=ot?rt.Buffer:void 0,lt=st?st.isBuffer:void 0,ct=lt||nt;et.exports=ct})(isBuffer$2,isBuffer$2.exports);var isBufferExports=isBuffer$2.exports,MAX_SAFE_INTEGER$2=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex$3(et,tt){var rt=typeof et;return tt=tt??MAX_SAFE_INTEGER$2,!!tt&&(rt=="number"||rt!="symbol"&&reIsUint.test(et))&&et>-1&&et%1==0&&et<tt}var _isIndex=isIndex$3,MAX_SAFE_INTEGER$1=9007199254740991;function isLength$3(et){return typeof et=="number"&&et>-1&&et%1==0&&et<=MAX_SAFE_INTEGER$1}var isLength_1=isLength$3,baseGetTag$3=_baseGetTag,isLength$2=isLength_1,isObjectLike$3=isObjectLike_1,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag$1="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag$1="[object Map]",numberTag="[object Number]",objectTag$3="[object Object]",regexpTag="[object RegExp]",setTag$1="[object Set]",stringTag="[object String]",weakMapTag$1="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0;typedArrayTags[argsTag$1]=typedArrayTags[arrayTag$1]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag$1]=typedArrayTags[dataViewTag$1]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag$1]=typedArrayTags[numberTag]=typedArrayTags[objectTag$3]=typedArrayTags[regexpTag]=typedArrayTags[setTag$1]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag$1]=!1;function baseIsTypedArray$1(et){return isObjectLike$3(et)&&isLength$2(et.length)&&!!typedArrayTags[baseGetTag$3(et)]}var _baseIsTypedArray=baseIsTypedArray$1;function baseUnary$2(et){return function(tt){return et(tt)}}var _baseUnary=baseUnary$2,_nodeUtil={exports:{}};_nodeUtil.exports;(function(et,tt){var rt=_freeGlobal,nt=tt&&!tt.nodeType&&tt,it=nt&&!0&&et&&!et.nodeType&&et,at=it&&it.exports===nt,ot=at&&rt.process,st=function(){try{var lt=it&&it.require&&it.require("util").types;return lt||ot&&ot.binding&&ot.binding("util")}catch{}}();et.exports=st})(_nodeUtil,_nodeUtil.exports);var _nodeUtilExports=_nodeUtil.exports,baseIsTypedArray=_baseIsTypedArray,baseUnary$1=_baseUnary,nodeUtil=_nodeUtilExports,nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray$3=nodeIsTypedArray?baseUnary$1(nodeIsTypedArray):baseIsTypedArray,isTypedArray_1=isTypedArray$3,baseTimes=_baseTimes,isArguments$2=isArguments_1,isArray$9=isArray_1,isBuffer$1=isBufferExports,isIndex$2=_isIndex,isTypedArray$2=isTypedArray_1,objectProto$5=Object.prototype,hasOwnProperty$5=objectProto$5.hasOwnProperty;function arrayLikeKeys$1(et,tt){var rt=isArray$9(et),nt=!rt&&isArguments$2(et),it=!rt&&!nt&&isBuffer$1(et),at=!rt&&!nt&&!it&&isTypedArray$2(et),ot=rt||nt||it||at,st=ot?baseTimes(et.length,String):[],lt=st.length;for(var ct in et)(tt||hasOwnProperty$5.call(et,ct))&&!(ot&&(ct=="length"||it&&(ct=="offset"||ct=="parent")||at&&(ct=="buffer"||ct=="byteLength"||ct=="byteOffset")||isIndex$2(ct,lt)))&&st.push(ct);return st}var _arrayLikeKeys=arrayLikeKeys$1,objectProto$4=Object.prototype;function isPrototype$1(et){var tt=et&&et.constructor,rt=typeof tt=="function"&&tt.prototype||objectProto$4;return et===rt}var _isPrototype=isPrototype$1;function overArg$2(et,tt){return function(rt){return et(tt(rt))}}var _overArg=overArg$2,overArg$1=_overArg,nativeKeys$1=overArg$1(Object.keys,Object),_nativeKeys=nativeKeys$1,isPrototype=_isPrototype,nativeKeys=_nativeKeys,objectProto$3=Object.prototype,hasOwnProperty$4=objectProto$3.hasOwnProperty;function baseKeys$1(et){if(!isPrototype(et))return nativeKeys(et);var tt=[];for(var rt in Object(et))hasOwnProperty$4.call(et,rt)&&rt!="constructor"&&tt.push(rt);return tt}var _baseKeys=baseKeys$1,isFunction=isFunction_1,isLength$1=isLength_1;function isArrayLike$5(et){return et!=null&&isLength$1(et.length)&&!isFunction(et)}var isArrayLike_1=isArrayLike$5,arrayLikeKeys=_arrayLikeKeys,baseKeys=_baseKeys,isArrayLike$4=isArrayLike_1;function keys$5(et){return isArrayLike$4(et)?arrayLikeKeys(et):baseKeys(et)}var keys_1=keys$5,baseGetAllKeys=_baseGetAllKeys,getSymbols=_getSymbols,keys$4=keys_1;function getAllKeys$1(et){return baseGetAllKeys(et,keys$4,getSymbols)}var _getAllKeys=getAllKeys$1,getAllKeys=_getAllKeys,COMPARE_PARTIAL_FLAG$3=1,objectProto$2=Object.prototype,hasOwnProperty$3=objectProto$2.hasOwnProperty;function equalObjects$1(et,tt,rt,nt,it,at){var ot=rt&COMPARE_PARTIAL_FLAG$3,st=getAllKeys(et),lt=st.length,ct=getAllKeys(tt),ut=ct.length;if(lt!=ut&&!ot)return!1;for(var ft=lt;ft--;){var ht=st[ft];if(!(ot?ht in tt:hasOwnProperty$3.call(tt,ht)))return!1}var dt=at.get(et),vt=at.get(tt);if(dt&&vt)return dt==tt&&vt==et;var yt=!0;at.set(et,tt),at.set(tt,et);for(var xt=ot;++ft<lt;){ht=st[ft];var _t=et[ht],mt=tt[ht];if(nt)var pt=ot?nt(mt,_t,ht,tt,et,at):nt(_t,mt,ht,et,tt,at);if(!(pt===void 0?_t===mt||it(_t,mt,rt,nt,at):pt)){yt=!1;break}xt||(xt=ht=="constructor")}if(yt&&!xt){var bt=et.constructor,Et=tt.constructor;bt!=Et&&"constructor"in et&&"constructor"in tt&&!(typeof bt=="function"&&bt instanceof bt&&typeof Et=="function"&&Et instanceof Et)&&(yt=!1)}return at.delete(et),at.delete(tt),yt}var _equalObjects=equalObjects$1,getNative$4=_getNative,root$4=_root,DataView$2=getNative$4(root$4,"DataView"),_DataView=DataView$2,getNative$3=_getNative,root$3=_root,Promise$2=getNative$3(root$3,"Promise"),_Promise=Promise$2,getNative$2=_getNative,root$2=_root,Set$3=getNative$2(root$2,"Set"),_Set=Set$3,getNative$1=_getNative,root$1=_root,WeakMap$2=getNative$1(root$1,"WeakMap"),_WeakMap=WeakMap$2,DataView$1=_DataView,Map$1=_Map,Promise$1=_Promise,Set$2=_Set,WeakMap$1=_WeakMap,baseGetTag$2=_baseGetTag,toSource=_toSource,mapTag="[object Map]",objectTag$2="[object Object]",promiseTag="[object Promise]",setTag="[object Set]",weakMapTag="[object WeakMap]",dataViewTag="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$2),weakMapCtorString=toSource(WeakMap$1),getTag$2=baseGetTag$2;(DataView$1&&getTag$2(new DataView$1(new ArrayBuffer(1)))!=dataViewTag||Map$1&&getTag$2(new Map$1)!=mapTag||Promise$1&&getTag$2(Promise$1.resolve())!=promiseTag||Set$2&&getTag$2(new Set$2)!=setTag||WeakMap$1&&getTag$2(new WeakMap$1)!=weakMapTag)&&(getTag$2=function(et){var tt=baseGetTag$2(et),rt=tt==objectTag$2?et.constructor:void 0,nt=rt?toSource(rt):"";if(nt)switch(nt){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return tt});var _getTag=getTag$2,Stack$1=_Stack,equalArrays=_equalArrays,equalByTag=_equalByTag,equalObjects=_equalObjects,getTag$1=_getTag,isArray$8=isArray_1,isBuffer=isBufferExports,isTypedArray$1=isTypedArray_1,COMPARE_PARTIAL_FLAG$2=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag$1="[object Object]",objectProto$1=Object.prototype,hasOwnProperty$2=objectProto$1.hasOwnProperty;function baseIsEqualDeep$1(et,tt,rt,nt,it,at){var ot=isArray$8(et),st=isArray$8(tt),lt=ot?arrayTag:getTag$1(et),ct=st?arrayTag:getTag$1(tt);lt=lt==argsTag?objectTag$1:lt,ct=ct==argsTag?objectTag$1:ct;var ut=lt==objectTag$1,ft=ct==objectTag$1,ht=lt==ct;if(ht&&isBuffer(et)){if(!isBuffer(tt))return!1;ot=!0,ut=!1}if(ht&&!ut)return at||(at=new Stack$1),ot||isTypedArray$1(et)?equalArrays(et,tt,rt,nt,it,at):equalByTag(et,tt,lt,rt,nt,it,at);if(!(rt&COMPARE_PARTIAL_FLAG$2)){var dt=ut&&hasOwnProperty$2.call(et,"__wrapped__"),vt=ft&&hasOwnProperty$2.call(tt,"__wrapped__");if(dt||vt){var yt=dt?et.value():et,xt=vt?tt.value():tt;return at||(at=new Stack$1),it(yt,xt,rt,nt,at)}}return ht?(at||(at=new Stack$1),equalObjects(et,tt,rt,nt,it,at)):!1}var _baseIsEqualDeep=baseIsEqualDeep$1,baseIsEqualDeep=_baseIsEqualDeep,isObjectLike$2=isObjectLike_1;function baseIsEqual$3(et,tt,rt,nt,it){return et===tt?!0:et==null||tt==null||!isObjectLike$2(et)&&!isObjectLike$2(tt)?et!==et&&tt!==tt:baseIsEqualDeep(et,tt,rt,nt,baseIsEqual$3,it)}var _baseIsEqual=baseIsEqual$3,Stack=_Stack,baseIsEqual$2=_baseIsEqual,COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;function baseIsMatch$1(et,tt,rt,nt){var it=rt.length,at=it,ot=!nt;if(et==null)return!at;for(et=Object(et);it--;){var st=rt[it];if(ot&&st[2]?st[1]!==et[st[0]]:!(st[0]in et))return!1}for(;++it<at;){st=rt[it];var lt=st[0],ct=et[lt],ut=st[1];if(ot&&st[2]){if(ct===void 0&&!(lt in et))return!1}else{var ft=new Stack;if(nt)var ht=nt(ct,ut,lt,et,tt,ft);if(!(ht===void 0?baseIsEqual$2(ut,ct,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,nt,ft):ht))return!1}}return!0}var _baseIsMatch=baseIsMatch$1,isObject$4=isObject_1;function isStrictComparable$2(et){return et===et&&!isObject$4(et)}var _isStrictComparable=isStrictComparable$2,isStrictComparable$1=_isStrictComparable,keys$3=keys_1;function getMatchData$1(et){for(var tt=keys$3(et),rt=tt.length;rt--;){var nt=tt[rt],it=et[nt];tt[rt]=[nt,it,isStrictComparable$1(it)]}return tt}var _getMatchData=getMatchData$1;function matchesStrictComparable$2(et,tt){return function(rt){return rt==null?!1:rt[et]===tt&&(tt!==void 0||et in Object(rt))}}var _matchesStrictComparable=matchesStrictComparable$2,baseIsMatch=_baseIsMatch,getMatchData=_getMatchData,matchesStrictComparable$1=_matchesStrictComparable;function baseMatches$1(et){var tt=getMatchData(et);return tt.length==1&&tt[0][2]?matchesStrictComparable$1(tt[0][0],tt[0][1]):function(rt){return rt===et||baseIsMatch(rt,et,tt)}}var _baseMatches=baseMatches$1;function baseHasIn$1(et,tt){return et!=null&&tt in Object(et)}var _baseHasIn=baseHasIn$1,castPath=_castPath,isArguments$1=isArguments_1,isArray$7=isArray_1,isIndex$1=_isIndex,isLength=isLength_1,toKey$2=_toKey;function hasPath$1(et,tt,rt){tt=castPath(tt,et);for(var nt=-1,it=tt.length,at=!1;++nt<it;){var ot=toKey$2(tt[nt]);if(!(at=et!=null&&rt(et,ot)))break;et=et[ot]}return at||++nt!=it?at:(it=et==null?0:et.length,!!it&&isLength(it)&&isIndex$1(ot,it)&&(isArray$7(et)||isArguments$1(et)))}var _hasPath=hasPath$1,baseHasIn=_baseHasIn,hasPath=_hasPath;function hasIn$1(et,tt){return et!=null&&hasPath(et,tt,baseHasIn)}var hasIn_1=hasIn$1,baseIsEqual$1=_baseIsEqual,get=get_1,hasIn=hasIn_1,isKey$1=_isKey,isStrictComparable=_isStrictComparable,matchesStrictComparable=_matchesStrictComparable,toKey$1=_toKey,COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty$1(et,tt){return isKey$1(et)&&isStrictComparable(tt)?matchesStrictComparable(toKey$1(et),tt):function(rt){var nt=get(rt,et);return nt===void 0&&nt===tt?hasIn(rt,et):baseIsEqual$1(tt,nt,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}var _baseMatchesProperty=baseMatchesProperty$1;function identity$b(et){return et}var identity_1=identity$b;function baseProperty$1(et){return function(tt){return tt==null?void 0:tt[et]}}var _baseProperty=baseProperty$1,baseGet$1=_baseGet;function basePropertyDeep$1(et){return function(tt){return baseGet$1(tt,et)}}var _basePropertyDeep=basePropertyDeep$1,baseProperty=_baseProperty,basePropertyDeep=_basePropertyDeep,isKey=_isKey,toKey=_toKey;function property$1(et){return isKey(et)?baseProperty(toKey(et)):basePropertyDeep(et)}var property_1=property$1,baseMatches=_baseMatches,baseMatchesProperty=_baseMatchesProperty,identity$a=identity_1,isArray$6=isArray_1,property=property_1;function baseIteratee$a(et){return typeof et=="function"?et:et==null?identity$a:typeof et=="object"?isArray$6(et)?baseMatchesProperty(et[0],et[1]):baseMatches(et):property(et)}var _baseIteratee=baseIteratee$a;function baseFindIndex$2(et,tt,rt,nt){for(var it=et.length,at=rt+(nt?1:-1);nt?at--:++at<it;)if(tt(et[at],at,et))return at;return-1}var _baseFindIndex=baseFindIndex$2;function baseIsNaN$1(et){return et!==et}var _baseIsNaN=baseIsNaN$1;function strictIndexOf$1(et,tt,rt){for(var nt=rt-1,it=et.length;++nt<it;)if(et[nt]===tt)return nt;return-1}var _strictIndexOf=strictIndexOf$1,baseFindIndex$1=_baseFindIndex,baseIsNaN=_baseIsNaN,strictIndexOf=_strictIndexOf;function baseIndexOf$1(et,tt,rt){return tt===tt?strictIndexOf(et,tt,rt):baseFindIndex$1(et,baseIsNaN,rt)}var _baseIndexOf=baseIndexOf$1,baseIndexOf=_baseIndexOf;function arrayIncludes$1(et,tt){var rt=et==null?0:et.length;return!!rt&&baseIndexOf(et,tt,0)>-1}var _arrayIncludes=arrayIncludes$1;function arrayIncludesWith$1(et,tt,rt){for(var nt=-1,it=et==null?0:et.length;++nt<it;)if(rt(tt,et[nt]))return!0;return!1}var _arrayIncludesWith=arrayIncludesWith$1;function noop$1(){}var noop_1=noop$1,Set$1=_Set,noop=noop_1,setToArray$1=_setToArray,INFINITY$1=1/0,createSet$1=Set$1&&1/setToArray$1(new Set$1([,-0]))[1]==INFINITY$1?function(et){return new Set$1(et)}:noop,_createSet=createSet$1,SetCache=_SetCache,arrayIncludes=_arrayIncludes,arrayIncludesWith=_arrayIncludesWith,cacheHas=_cacheHas,createSet=_createSet,setToArray=_setToArray,LARGE_ARRAY_SIZE=200;function baseUniq$1(et,tt,rt){var nt=-1,it=arrayIncludes,at=et.length,ot=!0,st=[],lt=st;if(rt)ot=!1,it=arrayIncludesWith;else if(at>=LARGE_ARRAY_SIZE){var ct=tt?null:createSet(et);if(ct)return setToArray(ct);ot=!1,it=cacheHas,lt=new SetCache}else lt=tt?[]:st;e:for(;++nt<at;){var ut=et[nt],ft=tt?tt(ut):ut;if(ut=rt||ut!==0?ut:0,ot&&ft===ft){for(var ht=lt.length;ht--;)if(lt[ht]===ft)continue e;tt&&lt.push(ft),st.push(ut)}else it(lt,ft,rt)||(lt!==st&&lt.push(ft),st.push(ut))}return st}var _baseUniq=baseUniq$1,baseIteratee$9=_baseIteratee,baseUniq=_baseUniq;function uniqBy(et,tt){return et&&et.length?baseUniq(et,baseIteratee$9(tt)):[]}var uniqBy_1=uniqBy;const uniqBy$1=getDefaultExportFromCjs(uniqBy_1);function getUniqPayload(et,tt,rt){return tt===!0?uniqBy$1(et,rt):isFunction$3(tt)?uniqBy$1(et,tt):et}function _typeof$D(et){"@babel/helpers - typeof";return _typeof$D=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$D(et)}var _excluded$e=["ref"];function ownKeys$z(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(it){return Object.getOwnPropertyDescriptor(et,it).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$z(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$z(Object(rt),!0).forEach(function(nt){_defineProperty$C(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$z(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _classCallCheck$d(et,tt){if(!(et instanceof tt))throw new TypeError("Cannot call a class as a function")}function _defineProperties$d(et,tt){for(var rt=0;rt<tt.length;rt++){var nt=tt[rt];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(et,_toPropertyKey$C(nt.key),nt)}}function _createClass$d(et,tt,rt){return tt&&_defineProperties$d(et.prototype,tt),rt&&_defineProperties$d(et,rt),Object.defineProperty(et,"prototype",{writable:!1}),et}function _callSuper$9(et,tt,rt){return tt=_getPrototypeOf$a(tt),_possibleConstructorReturn$a(et,_isNativeReflectConstruct$a()?Reflect.construct(tt,rt||[],_getPrototypeOf$a(et).constructor):tt.apply(et,rt))}function _possibleConstructorReturn$a(et,tt){if(tt&&(_typeof$D(tt)==="object"||typeof tt=="function"))return tt;if(tt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$a(et)}function _isNativeReflectConstruct$a(){try{var et=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$a=function(){return!!et})()}function _getPrototypeOf$a(et){return _getPrototypeOf$a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rt){return rt.__proto__||Object.getPrototypeOf(rt)},_getPrototypeOf$a(et)}function _assertThisInitialized$a(et){if(et===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return et}function _inherits$a(et,tt){if(typeof tt!="function"&&tt!==null)throw new TypeError("Super expression must either be null or a function");et.prototype=Object.create(tt&&tt.prototype,{constructor:{value:et,writable:!0,configurable:!0}}),Object.defineProperty(et,"prototype",{writable:!1}),tt&&_setPrototypeOf$a(et,tt)}function _setPrototypeOf$a(et,tt){return _setPrototypeOf$a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,it){return nt.__proto__=it,nt},_setPrototypeOf$a(et,tt)}function _defineProperty$C(et,tt,rt){return tt=_toPropertyKey$C(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$C(et){var tt=_toPrimitive$C(et,"string");return _typeof$D(tt)=="symbol"?tt:String(tt)}function _toPrimitive$C(et,tt){if(_typeof$D(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$D(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}function _objectWithoutProperties$e(et,tt){if(et==null)return{};var rt=_objectWithoutPropertiesLoose$e(et,tt),nt,it;if(Object.getOwnPropertySymbols){var at=Object.getOwnPropertySymbols(et);for(it=0;it<at.length;it++)nt=at[it],!(tt.indexOf(nt)>=0)&&Object.prototype.propertyIsEnumerable.call(et,nt)&&(rt[nt]=et[nt])}return rt}function _objectWithoutPropertiesLoose$e(et,tt){if(et==null)return{};var rt={},nt=Object.keys(et),it,at;for(at=0;at<nt.length;at++)it=nt[at],!(tt.indexOf(it)>=0)&&(rt[it]=et[it]);return rt}function defaultUniqBy$1(et){return et.value}function renderContent$1(et,tt){if(React.isValidElement(et))return React.cloneElement(et,tt);if(typeof et=="function")return React.createElement(et,tt);tt.ref;var rt=_objectWithoutProperties$e(tt,_excluded$e);return React.createElement(DefaultLegendContent,rt)}var EPS$1=1,Legend=function(et){_inherits$a(tt,et);function tt(){var rt;_classCallCheck$d(this,tt);for(var nt=arguments.length,it=new Array(nt),at=0;at<nt;at++)it[at]=arguments[at];return rt=_callSuper$9(this,tt,[].concat(it)),_defineProperty$C(_assertThisInitialized$a(rt),"lastBoundingBox",{width:-1,height:-1}),rt}return _createClass$d(tt,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var nt=this.wrapperNode.getBoundingClientRect();return nt.height=this.wrapperNode.offsetHeight,nt.width=this.wrapperNode.offsetWidth,nt}return null}},{key:"updateBBox",value:function(){var nt=this.props.onBBoxUpdate,it=this.getBBox();it?(Math.abs(it.width-this.lastBoundingBox.width)>EPS$1||Math.abs(it.height-this.lastBoundingBox.height)>EPS$1)&&(this.lastBoundingBox.width=it.width,this.lastBoundingBox.height=it.height,nt&&nt(it)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,nt&&nt(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?_objectSpread$z({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(nt){var it=this.props,at=it.layout,ot=it.align,st=it.verticalAlign,lt=it.margin,ct=it.chartWidth,ut=it.chartHeight,ft,ht;if(!nt||(nt.left===void 0||nt.left===null)&&(nt.right===void 0||nt.right===null))if(ot==="center"&&at==="vertical"){var dt=this.getBBoxSnapshot();ft={left:((ct||0)-dt.width)/2}}else ft=ot==="right"?{right:lt&&lt.right||0}:{left:lt&&lt.left||0};if(!nt||(nt.top===void 0||nt.top===null)&&(nt.bottom===void 0||nt.bottom===null))if(st==="middle"){var vt=this.getBBoxSnapshot();ht={top:((ut||0)-vt.height)/2}}else ht=st==="bottom"?{bottom:lt&&lt.bottom||0}:{top:lt&&lt.top||0};return _objectSpread$z(_objectSpread$z({},ft),ht)}},{key:"render",value:function(){var nt=this,it=this.props,at=it.content,ot=it.width,st=it.height,lt=it.wrapperStyle,ct=it.payloadUniqBy,ut=it.payload,ft=_objectSpread$z(_objectSpread$z({position:"absolute",width:ot||"auto",height:st||"auto"},this.getDefaultPosition(lt)),lt);return React.createElement("div",{className:"recharts-legend-wrapper",style:ft,ref:function(dt){nt.wrapperNode=dt}},renderContent$1(at,_objectSpread$z(_objectSpread$z({},this.props),{},{payload:getUniqPayload(ut,ct,defaultUniqBy$1)})))}}],[{key:"getWithHeight",value:function(nt,it){var at=nt.props.layout;return at==="vertical"&&isNumber(nt.props.height)?{height:nt.props.height}:at==="horizontal"?{width:nt.props.width||it}:null}}]),tt}(reactExports.PureComponent);_defineProperty$C(Legend,"displayName","Legend");_defineProperty$C(Legend,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Symbol$1=_Symbol,isArguments=isArguments_1,isArray$5=isArray_1,spreadableSymbol=Symbol$1?Symbol$1.isConcatSpreadable:void 0;function isFlattenable$1(et){return isArray$5(et)||isArguments(et)||!!(spreadableSymbol&&et&&et[spreadableSymbol])}var _isFlattenable=isFlattenable$1,arrayPush=_arrayPush,isFlattenable=_isFlattenable;function baseFlatten$2(et,tt,rt,nt,it){var at=-1,ot=et.length;for(rt||(rt=isFlattenable),it||(it=[]);++at<ot;){var st=et[at];tt>0&&rt(st)?tt>1?baseFlatten$2(st,tt-1,rt,nt,it):arrayPush(it,st):nt||(it[it.length]=st)}return it}var _baseFlatten=baseFlatten$2;function createBaseFor$1(et){return function(tt,rt,nt){for(var it=-1,at=Object(tt),ot=nt(tt),st=ot.length;st--;){var lt=ot[et?st:++it];if(rt(at[lt],lt,at)===!1)break}return tt}}var _createBaseFor=createBaseFor$1,createBaseFor=_createBaseFor,baseFor$1=createBaseFor(),_baseFor=baseFor$1,baseFor=_baseFor,keys$2=keys_1;function baseForOwn$2(et,tt){return et&&baseFor(et,tt,keys$2)}var _baseForOwn=baseForOwn$2,isArrayLike$3=isArrayLike_1;function createBaseEach$1(et,tt){return function(rt,nt){if(rt==null)return rt;if(!isArrayLike$3(rt))return et(rt,nt);for(var it=rt.length,at=tt?it:-1,ot=Object(rt);(tt?at--:++at<it)&&nt(ot[at],at,ot)!==!1;);return rt}}var _createBaseEach=createBaseEach$1,baseForOwn$1=_baseForOwn,createBaseEach=_createBaseEach,baseEach$3=createBaseEach(baseForOwn$1),_baseEach=baseEach$3,baseEach$2=_baseEach,isArrayLike$2=isArrayLike_1;function baseMap$2(et,tt){var rt=-1,nt=isArrayLike$2(et)?Array(et.length):[];return baseEach$2(et,function(it,at,ot){nt[++rt]=tt(it,at,ot)}),nt}var _baseMap=baseMap$2;function baseSortBy$1(et,tt){var rt=et.length;for(et.sort(tt);rt--;)et[rt]=et[rt].value;return et}var _baseSortBy=baseSortBy$1,isSymbol$2=isSymbol_1;function compareAscending$1(et,tt){if(et!==tt){var rt=et!==void 0,nt=et===null,it=et===et,at=isSymbol$2(et),ot=tt!==void 0,st=tt===null,lt=tt===tt,ct=isSymbol$2(tt);if(!st&&!ct&&!at&&et>tt||at&&ot&&lt&&!st&&!ct||nt&&ot&&lt||!rt&&lt||!it)return 1;if(!nt&&!at&&!ct&&et<tt||ct&&rt&&it&&!nt&&!at||st&&rt&&it||!ot&&it||!lt)return-1}return 0}var _compareAscending=compareAscending$1,compareAscending=_compareAscending;function compareMultiple$1(et,tt,rt){for(var nt=-1,it=et.criteria,at=tt.criteria,ot=it.length,st=rt.length;++nt<ot;){var lt=compareAscending(it[nt],at[nt]);if(lt){if(nt>=st)return lt;var ct=rt[nt];return lt*(ct=="desc"?-1:1)}}return et.index-tt.index}var _compareMultiple=compareMultiple$1,arrayMap$1=_arrayMap,baseGet=_baseGet,baseIteratee$8=_baseIteratee,baseMap$1=_baseMap,baseSortBy=_baseSortBy,baseUnary=_baseUnary,compareMultiple=_compareMultiple,identity$9=identity_1,isArray$4=isArray_1;function baseOrderBy$1(et,tt,rt){tt.length?tt=arrayMap$1(tt,function(at){return isArray$4(at)?function(ot){return baseGet(ot,at.length===1?at[0]:at)}:at}):tt=[identity$9];var nt=-1;tt=arrayMap$1(tt,baseUnary(baseIteratee$8));var it=baseMap$1(et,function(at,ot,st){var lt=arrayMap$1(tt,function(ct){return ct(at)});return{criteria:lt,index:++nt,value:at}});return baseSortBy(it,function(at,ot){return compareMultiple(at,ot,rt)})}var _baseOrderBy=baseOrderBy$1;function apply$1(et,tt,rt){switch(rt.length){case 0:return et.call(tt);case 1:return et.call(tt,rt[0]);case 2:return et.call(tt,rt[0],rt[1]);case 3:return et.call(tt,rt[0],rt[1],rt[2])}return et.apply(tt,rt)}var _apply=apply$1,apply=_apply,nativeMax$3=Math.max;function overRest$1(et,tt,rt){return tt=nativeMax$3(tt===void 0?et.length-1:tt,0),function(){for(var nt=arguments,it=-1,at=nativeMax$3(nt.length-tt,0),ot=Array(at);++it<at;)ot[it]=nt[tt+it];it=-1;for(var st=Array(tt+1);++it<tt;)st[it]=nt[it];return st[tt]=rt(ot),apply(et,this,st)}}var _overRest=overRest$1;function constant$2(et){return function(){return et}}var constant_1=constant$2,getNative=_getNative,defineProperty$2=function(){try{var et=getNative(Object,"defineProperty");return et({},"",{}),et}catch{}}(),_defineProperty$B=defineProperty$2,constant$1=constant_1,defineProperty$1=_defineProperty$B,identity$8=identity_1,baseSetToString$1=defineProperty$1?function(et,tt){return defineProperty$1(et,"toString",{configurable:!0,enumerable:!1,value:constant$1(tt),writable:!0})}:identity$8,_baseSetToString=baseSetToString$1,HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut$1(et){var tt=0,rt=0;return function(){var nt=nativeNow(),it=HOT_SPAN-(nt-rt);if(rt=nt,it>0){if(++tt>=HOT_COUNT)return arguments[0]}else tt=0;return et.apply(void 0,arguments)}}var _shortOut=shortOut$1,baseSetToString=_baseSetToString,shortOut=_shortOut,setToString$1=shortOut(baseSetToString),_setToString=setToString$1,identity$7=identity_1,overRest=_overRest,setToString=_setToString;function baseRest$1(et,tt){return setToString(overRest(et,tt,identity$7),et+"")}var _baseRest=baseRest$1,eq=eq_1,isArrayLike$1=isArrayLike_1,isIndex=_isIndex,isObject$3=isObject_1;function isIterateeCall$4(et,tt,rt){if(!isObject$3(rt))return!1;var nt=typeof tt;return(nt=="number"?isArrayLike$1(rt)&&isIndex(tt,rt.length):nt=="string"&&tt in rt)?eq(rt[tt],et):!1}var _isIterateeCall=isIterateeCall$4,baseFlatten$1=_baseFlatten,baseOrderBy=_baseOrderBy,baseRest=_baseRest,isIterateeCall$3=_isIterateeCall,sortBy=baseRest(function(et,tt){if(et==null)return[];var rt=tt.length;return rt>1&&isIterateeCall$3(et,tt[0],tt[1])?tt=[]:rt>2&&isIterateeCall$3(tt[0],tt[1],tt[2])&&(tt=[tt[0]]),baseOrderBy(et,baseFlatten$1(tt,1),[])}),sortBy_1=sortBy;const sortBy$1=getDefaultExportFromCjs(sortBy_1);function _typeof$C(et){"@babel/helpers - typeof";return _typeof$C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$C(et)}function _extends$p(){return _extends$p=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$p.apply(this,arguments)}function _slicedToArray$c(et,tt){return _arrayWithHoles$d(et)||_iterableToArrayLimit$c(et,tt)||_unsupportedIterableToArray$k(et,tt)||_nonIterableRest$d()}function _nonIterableRest$d(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$k(et,tt){if(et){if(typeof et=="string")return _arrayLikeToArray$k(et,tt);var rt=Object.prototype.toString.call(et).slice(8,-1);if(rt==="Object"&&et.constructor&&(rt=et.constructor.name),rt==="Map"||rt==="Set")return Array.from(et);if(rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt))return _arrayLikeToArray$k(et,tt)}}function _arrayLikeToArray$k(et,tt){(tt==null||tt>et.length)&&(tt=et.length);for(var rt=0,nt=new Array(tt);rt<tt;rt++)nt[rt]=et[rt];return nt}function _iterableToArrayLimit$c(et,tt){var rt=et==null?null:typeof Symbol<"u"&&et[Symbol.iterator]||et["@@iterator"];if(rt!=null){var nt,it,at,ot,st=[],lt=!0,ct=!1;try{if(at=(rt=rt.call(et)).next,tt!==0)for(;!(lt=(nt=at.call(rt)).done)&&(st.push(nt.value),st.length!==tt);lt=!0);}catch(ut){ct=!0,it=ut}finally{try{if(!lt&&rt.return!=null&&(ot=rt.return(),Object(ot)!==ot))return}finally{if(ct)throw it}}return st}}function _arrayWithHoles$d(et){if(Array.isArray(et))return et}function ownKeys$y(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(it){return Object.getOwnPropertyDescriptor(et,it).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$y(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$y(Object(rt),!0).forEach(function(nt){_defineProperty$A(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$y(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$A(et,tt,rt){return tt=_toPropertyKey$B(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$B(et){var tt=_toPrimitive$B(et,"string");return _typeof$C(tt)=="symbol"?tt:String(tt)}function _toPrimitive$B(et,tt){if(_typeof$C(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$C(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}function defaultFormatter(et){return Array.isArray(et)&&isNumOrStr(et[0])&&isNumOrStr(et[1])?et.join(" ~ "):et}var DefaultTooltipContent=function et(tt){var rt=tt.separator,nt=rt===void 0?" : ":rt,it=tt.contentStyle,at=it===void 0?{}:it,ot=tt.itemStyle,st=ot===void 0?{}:ot,lt=tt.labelStyle,ct=lt===void 0?{}:lt,ut=tt.payload,ft=tt.formatter,ht=tt.itemSorter,dt=tt.wrapperClassName,vt=tt.labelClassName,yt=tt.label,xt=tt.labelFormatter,_t=tt.accessibilityLayer,mt=_t===void 0?!1:_t,pt=function(){if(ut&&ut.length){var kt={padding:0,margin:0},Ct=(ht?sortBy$1(ut,ht):ut).map(function(Bt,Ft){if(Bt.type==="none")return null;var Dt=_objectSpread$y({display:"block",paddingTop:4,paddingBottom:4,color:Bt.color||"#000"},st),Mt=Bt.formatter||ft||defaultFormatter,wt=Bt.value,Ot=Bt.name,Lt=wt,Vt=Ot;if(Mt&&Lt!=null&&Vt!=null){var zt=Mt(wt,Ot,Bt,Ft,ut);if(Array.isArray(zt)){var Yt=_slicedToArray$c(zt,2);Lt=Yt[0],Vt=Yt[1]}else Lt=zt}return React.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Ft),style:Dt},isNumOrStr(Vt)?React.createElement("span",{className:"recharts-tooltip-item-name"},Vt):null,isNumOrStr(Vt)?React.createElement("span",{className:"recharts-tooltip-item-separator"},nt):null,React.createElement("span",{className:"recharts-tooltip-item-value"},Lt),React.createElement("span",{className:"recharts-tooltip-item-unit"},Bt.unit||""))});return React.createElement("ul",{className:"recharts-tooltip-item-list",style:kt},Ct)}return null},bt=_objectSpread$y({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},at),Et=_objectSpread$y({margin:0},ct),St=!isNil$1(yt),Tt=St?yt:"",Pt=clsx("recharts-default-tooltip",dt),Rt=clsx("recharts-tooltip-label",vt);St&&xt&&ut!==void 0&&ut!==null&&(Tt=xt(yt,ut));var It=mt?{role:"status","aria-live":"assertive"}:{};return React.createElement("div",_extends$p({className:Pt,style:bt},It),React.createElement("p",{className:Rt,style:Et},React.isValidElement(Tt)?Tt:"".concat(Tt)),pt())};function _typeof$B(et){"@babel/helpers - typeof";return _typeof$B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$B(et)}function _defineProperty$z(et,tt,rt){return tt=_toPropertyKey$A(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$A(et){var tt=_toPrimitive$A(et,"string");return _typeof$B(tt)=="symbol"?tt:String(tt)}function _toPrimitive$A(et,tt){if(_typeof$B(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$B(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}var CSS_CLASS_PREFIX="recharts-tooltip-wrapper",TOOLTIP_HIDDEN={visibility:"hidden"};function getTooltipCSSClassName(et){var tt=et.coordinate,rt=et.translateX,nt=et.translateY;return clsx(CSS_CLASS_PREFIX,_defineProperty$z(_defineProperty$z(_defineProperty$z(_defineProperty$z({},"".concat(CSS_CLASS_PREFIX,"-right"),isNumber(rt)&&tt&&isNumber(tt.x)&&rt>=tt.x),"".concat(CSS_CLASS_PREFIX,"-left"),isNumber(rt)&&tt&&isNumber(tt.x)&&rt<tt.x),"".concat(CSS_CLASS_PREFIX,"-bottom"),isNumber(nt)&&tt&&isNumber(tt.y)&&nt>=tt.y),"".concat(CSS_CLASS_PREFIX,"-top"),isNumber(nt)&&tt&&isNumber(tt.y)&&nt<tt.y))}function getTooltipTranslateXY(et){var tt=et.allowEscapeViewBox,rt=et.coordinate,nt=et.key,it=et.offsetTopLeft,at=et.position,ot=et.reverseDirection,st=et.tooltipDimension,lt=et.viewBox,ct=et.viewBoxDimension;if(at&&isNumber(at[nt]))return at[nt];var ut=rt[nt]-st-it,ft=rt[nt]+it;if(tt[nt])return ot[nt]?ut:ft;if(ot[nt]){var ht=ut,dt=lt[nt];return ht<dt?Math.max(ft,lt[nt]):Math.max(ut,lt[nt])}var vt=ft+st,yt=lt[nt]+ct;return vt>yt?Math.max(ut,lt[nt]):Math.max(ft,lt[nt])}function getTransformStyle(et){var tt=et.translateX,rt=et.translateY,nt=et.useTranslate3d;return{transform:nt?"translate3d(".concat(tt,"px, ").concat(rt,"px, 0)"):"translate(".concat(tt,"px, ").concat(rt,"px)")}}function getTooltipTranslate(et){var tt=et.allowEscapeViewBox,rt=et.coordinate,nt=et.offsetTopLeft,it=et.position,at=et.reverseDirection,ot=et.tooltipBox,st=et.useTranslate3d,lt=et.viewBox,ct,ut,ft;return ot.height>0&&ot.width>0&&rt?(ut=getTooltipTranslateXY({allowEscapeViewBox:tt,coordinate:rt,key:"x",offsetTopLeft:nt,position:it,reverseDirection:at,tooltipDimension:ot.width,viewBox:lt,viewBoxDimension:lt.width}),ft=getTooltipTranslateXY({allowEscapeViewBox:tt,coordinate:rt,key:"y",offsetTopLeft:nt,position:it,reverseDirection:at,tooltipDimension:ot.height,viewBox:lt,viewBoxDimension:lt.height}),ct=getTransformStyle({translateX:ut,translateY:ft,useTranslate3d:st})):ct=TOOLTIP_HIDDEN,{cssProperties:ct,cssClasses:getTooltipCSSClassName({translateX:ut,translateY:ft,coordinate:rt})}}function _typeof$A(et){"@babel/helpers - typeof";return _typeof$A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$A(et)}function ownKeys$x(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(it){return Object.getOwnPropertyDescriptor(et,it).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$x(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$x(Object(rt),!0).forEach(function(nt){_defineProperty$y(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$x(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _classCallCheck$c(et,tt){if(!(et instanceof tt))throw new TypeError("Cannot call a class as a function")}function _defineProperties$c(et,tt){for(var rt=0;rt<tt.length;rt++){var nt=tt[rt];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(et,_toPropertyKey$z(nt.key),nt)}}function _createClass$c(et,tt,rt){return tt&&_defineProperties$c(et.prototype,tt),Object.defineProperty(et,"prototype",{writable:!1}),et}function _callSuper$8(et,tt,rt){return tt=_getPrototypeOf$9(tt),_possibleConstructorReturn$9(et,_isNativeReflectConstruct$9()?Reflect.construct(tt,rt||[],_getPrototypeOf$9(et).constructor):tt.apply(et,rt))}function _possibleConstructorReturn$9(et,tt){if(tt&&(_typeof$A(tt)==="object"||typeof tt=="function"))return tt;if(tt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$9(et)}function _isNativeReflectConstruct$9(){try{var et=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$9=function(){return!!et})()}function _getPrototypeOf$9(et){return _getPrototypeOf$9=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rt){return rt.__proto__||Object.getPrototypeOf(rt)},_getPrototypeOf$9(et)}function _assertThisInitialized$9(et){if(et===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return et}function _inherits$9(et,tt){if(typeof tt!="function"&&tt!==null)throw new TypeError("Super expression must either be null or a function");et.prototype=Object.create(tt&&tt.prototype,{constructor:{value:et,writable:!0,configurable:!0}}),Object.defineProperty(et,"prototype",{writable:!1}),tt&&_setPrototypeOf$9(et,tt)}function _setPrototypeOf$9(et,tt){return _setPrototypeOf$9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,it){return nt.__proto__=it,nt},_setPrototypeOf$9(et,tt)}function _defineProperty$y(et,tt,rt){return tt=_toPropertyKey$z(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$z(et){var tt=_toPrimitive$z(et,"string");return _typeof$A(tt)=="symbol"?tt:String(tt)}function _toPrimitive$z(et,tt){if(_typeof$A(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$A(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}var EPSILON=1,TooltipBoundingBox=function(et){_inherits$9(tt,et);function tt(){var rt;_classCallCheck$c(this,tt);for(var nt=arguments.length,it=new Array(nt),at=0;at<nt;at++)it[at]=arguments[at];return rt=_callSuper$8(this,tt,[].concat(it)),_defineProperty$y(_assertThisInitialized$9(rt),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),_defineProperty$y(_assertThisInitialized$9(rt),"handleKeyDown",function(ot){if(ot.key==="Escape"){var st,lt,ct,ut;rt.setState({dismissed:!0,dismissedAtCoordinate:{x:(st=(lt=rt.props.coordinate)===null||lt===void 0?void 0:lt.x)!==null&&st!==void 0?st:0,y:(ct=(ut=rt.props.coordinate)===null||ut===void 0?void 0:ut.y)!==null&&ct!==void 0?ct:0}})}}),rt}return _createClass$c(tt,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var nt=this.wrapperNode.getBoundingClientRect();(Math.abs(nt.width-this.state.lastBoundingBox.width)>EPSILON||Math.abs(nt.height-this.state.lastBoundingBox.height)>EPSILON)&&this.setState({lastBoundingBox:{width:nt.width,height:nt.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var nt,it;this.props.active&&this.updateBBox(),this.state.dismissed&&(((nt=this.props.coordinate)===null||nt===void 0?void 0:nt.x)!==this.state.dismissedAtCoordinate.x||((it=this.props.coordinate)===null||it===void 0?void 0:it.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var nt=this,it=this.props,at=it.active,ot=it.allowEscapeViewBox,st=it.animationDuration,lt=it.animationEasing,ct=it.children,ut=it.coordinate,ft=it.hasPayload,ht=it.isAnimationActive,dt=it.offset,vt=it.position,yt=it.reverseDirection,xt=it.useTranslate3d,_t=it.viewBox,mt=it.wrapperStyle,pt=getTooltipTranslate({allowEscapeViewBox:ot,coordinate:ut,offsetTopLeft:dt,position:vt,reverseDirection:yt,tooltipBox:this.state.lastBoundingBox,useTranslate3d:xt,viewBox:_t}),bt=pt.cssClasses,Et=pt.cssProperties,St=_objectSpread$x(_objectSpread$x({transition:ht&&at?"transform ".concat(st,"ms ").concat(lt):void 0},Et),{},{pointerEvents:"none",visibility:!this.state.dismissed&&at&&ft?"visible":"hidden",position:"absolute",top:0,left:0},mt);return React.createElement("div",{tabIndex:-1,className:bt,style:St,ref:function(Pt){nt.wrapperNode=Pt}},ct)}}]),tt}(reactExports.PureComponent),parseIsSsrByDefault=function et(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Global={isSsr:parseIsSsrByDefault(),get:function et(tt){return Global[tt]},set:function et(tt,rt){if(typeof tt=="string")Global[tt]=rt;else{var nt=Object.keys(tt);nt&&nt.length&&nt.forEach(function(it){Global[it]=tt[it]})}}};function _typeof$z(et){"@babel/helpers - typeof";return _typeof$z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$z(et)}function ownKeys$w(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(it){return Object.getOwnPropertyDescriptor(et,it).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$w(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$w(Object(rt),!0).forEach(function(nt){_defineProperty$x(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$w(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _classCallCheck$b(et,tt){if(!(et instanceof tt))throw new TypeError("Cannot call a class as a function")}function _defineProperties$b(et,tt){for(var rt=0;rt<tt.length;rt++){var nt=tt[rt];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(et,_toPropertyKey$y(nt.key),nt)}}function _createClass$b(et,tt,rt){return tt&&_defineProperties$b(et.prototype,tt),Object.defineProperty(et,"prototype",{writable:!1}),et}function _callSuper$7(et,tt,rt){return tt=_getPrototypeOf$8(tt),_possibleConstructorReturn$8(et,_isNativeReflectConstruct$8()?Reflect.construct(tt,rt||[],_getPrototypeOf$8(et).constructor):tt.apply(et,rt))}function _possibleConstructorReturn$8(et,tt){if(tt&&(_typeof$z(tt)==="object"||typeof tt=="function"))return tt;if(tt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$8(et)}function _assertThisInitialized$8(et){if(et===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return et}function _isNativeReflectConstruct$8(){try{var et=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$8=function(){return!!et})()}function _getPrototypeOf$8(et){return _getPrototypeOf$8=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rt){return rt.__proto__||Object.getPrototypeOf(rt)},_getPrototypeOf$8(et)}function _inherits$8(et,tt){if(typeof tt!="function"&&tt!==null)throw new TypeError("Super expression must either be null or a function");et.prototype=Object.create(tt&&tt.prototype,{constructor:{value:et,writable:!0,configurable:!0}}),Object.defineProperty(et,"prototype",{writable:!1}),tt&&_setPrototypeOf$8(et,tt)}function _setPrototypeOf$8(et,tt){return _setPrototypeOf$8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,it){return nt.__proto__=it,nt},_setPrototypeOf$8(et,tt)}function _defineProperty$x(et,tt,rt){return tt=_toPropertyKey$y(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$y(et){var tt=_toPrimitive$y(et,"string");return _typeof$z(tt)=="symbol"?tt:String(tt)}function _toPrimitive$y(et,tt){if(_typeof$z(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$z(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}function defaultUniqBy(et){return et.dataKey}function renderContent(et,tt){return React.isValidElement(et)?React.cloneElement(et,tt):typeof et=="function"?React.createElement(et,tt):React.createElement(DefaultTooltipContent,tt)}var Tooltip=function(et){_inherits$8(tt,et);function tt(){return _classCallCheck$b(this,tt),_callSuper$7(this,tt,arguments)}return _createClass$b(tt,[{key:"render",value:function(){var nt=this,it=this.props,at=it.active,ot=it.allowEscapeViewBox,st=it.animationDuration,lt=it.animationEasing,ct=it.content,ut=it.coordinate,ft=it.filterNull,ht=it.isAnimationActive,dt=it.offset,vt=it.payload,yt=it.payloadUniqBy,xt=it.position,_t=it.reverseDirection,mt=it.useTranslate3d,pt=it.viewBox,bt=it.wrapperStyle,Et=vt??[];ft&&Et.length&&(Et=getUniqPayload(vt.filter(function(Tt){return Tt.value!=null&&(Tt.hide!==!0||nt.props.includeHidden)}),yt,defaultUniqBy));var St=Et.length>0;return React.createElement(TooltipBoundingBox,{allowEscapeViewBox:ot,animationDuration:st,animationEasing:lt,isAnimationActive:ht,active:at,coordinate:ut,hasPayload:St,offset:dt,position:xt,reverseDirection:_t,useTranslate3d:mt,viewBox:pt,wrapperStyle:bt},renderContent(ct,_objectSpread$w(_objectSpread$w({},this.props),{},{payload:Et})))}}]),tt}(reactExports.PureComponent);_defineProperty$x(Tooltip,"displayName","Tooltip");_defineProperty$x(Tooltip,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Global.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var root=_root,now$1=function(){return root.Date.now()},now_1=now$1,reWhitespace=/\s/;function trimmedEndIndex$1(et){for(var tt=et.length;tt--&&reWhitespace.test(et.charAt(tt)););return tt}var _trimmedEndIndex=trimmedEndIndex$1,trimmedEndIndex=_trimmedEndIndex,reTrimStart=/^\s+/;function baseTrim$1(et){return et&&et.slice(0,trimmedEndIndex(et)+1).replace(reTrimStart,"")}var _baseTrim=baseTrim$1,baseTrim=_baseTrim,isObject$2=isObject_1,isSymbol$1=isSymbol_1,NAN=NaN,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber$2(et){if(typeof et=="number")return et;if(isSymbol$1(et))return NAN;if(isObject$2(et)){var tt=typeof et.valueOf=="function"?et.valueOf():et;et=isObject$2(tt)?tt+"":tt}if(typeof et!="string")return et===0?et:+et;et=baseTrim(et);var rt=reIsBinary.test(et);return rt||reIsOctal.test(et)?freeParseInt(et.slice(2),rt?2:8):reIsBadHex.test(et)?NAN:+et}var toNumber_1=toNumber$2,isObject$1=isObject_1,now=now_1,toNumber$1=toNumber_1,FUNC_ERROR_TEXT$1="Expected a function",nativeMax$2=Math.max,nativeMin=Math.min;function debounce$1(et,tt,rt){var nt,it,at,ot,st,lt,ct=0,ut=!1,ft=!1,ht=!0;if(typeof et!="function")throw new TypeError(FUNC_ERROR_TEXT$1);tt=toNumber$1(tt)||0,isObject$1(rt)&&(ut=!!rt.leading,ft="maxWait"in rt,at=ft?nativeMax$2(toNumber$1(rt.maxWait)||0,tt):at,ht="trailing"in rt?!!rt.trailing:ht);function dt(St){var Tt=nt,Pt=it;return nt=it=void 0,ct=St,ot=et.apply(Pt,Tt),ot}function vt(St){return ct=St,st=setTimeout(_t,tt),ut?dt(St):ot}function yt(St){var Tt=St-lt,Pt=St-ct,Rt=tt-Tt;return ft?nativeMin(Rt,at-Pt):Rt}function xt(St){var Tt=St-lt,Pt=St-ct;return lt===void 0||Tt>=tt||Tt<0||ft&&Pt>=at}function _t(){var St=now();if(xt(St))return mt(St);st=setTimeout(_t,yt(St))}function mt(St){return st=void 0,ht&&nt?dt(St):(nt=it=void 0,ot)}function pt(){st!==void 0&&clearTimeout(st),ct=0,nt=lt=it=st=void 0}function bt(){return st===void 0?ot:mt(now())}function Et(){var St=now(),Tt=xt(St);if(nt=arguments,it=this,lt=St,Tt){if(st===void 0)return vt(lt);if(ft)return clearTimeout(st),st=setTimeout(_t,tt),dt(lt)}return st===void 0&&(st=setTimeout(_t,tt)),ot}return Et.cancel=pt,Et.flush=bt,Et}var debounce_1=debounce$1,debounce=debounce_1,isObject=isObject_1,FUNC_ERROR_TEXT="Expected a function";function throttle(et,tt,rt){var nt=!0,it=!0;if(typeof et!="function")throw new TypeError(FUNC_ERROR_TEXT);return isObject(rt)&&(nt="leading"in rt?!!rt.leading:nt,it="trailing"in rt?!!rt.trailing:it),debounce(et,tt,{leading:nt,maxWait:tt,trailing:it})}var throttle_1=throttle;const throttle$1=getDefaultExportFromCjs(throttle_1);function _typeof$y(et){"@babel/helpers - typeof";return _typeof$y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$y(et)}function ownKeys$v(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(it){return Object.getOwnPropertyDescriptor(et,it).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$v(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$v(Object(rt),!0).forEach(function(nt){_defineProperty$w(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$v(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$w(et,tt,rt){return tt=_toPropertyKey$x(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$x(et){var tt=_toPrimitive$x(et,"string");return _typeof$y(tt)=="symbol"?tt:String(tt)}function _toPrimitive$x(et,tt){if(_typeof$y(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$y(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}function _slicedToArray$b(et,tt){return _arrayWithHoles$c(et)||_iterableToArrayLimit$b(et,tt)||_unsupportedIterableToArray$j(et,tt)||_nonIterableRest$c()}function _nonIterableRest$c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$j(et,tt){if(et){if(typeof et=="string")return _arrayLikeToArray$j(et,tt);var rt=Object.prototype.toString.call(et).slice(8,-1);if(rt==="Object"&&et.constructor&&(rt=et.constructor.name),rt==="Map"||rt==="Set")return Array.from(et);if(rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt))return _arrayLikeToArray$j(et,tt)}}function _arrayLikeToArray$j(et,tt){(tt==null||tt>et.length)&&(tt=et.length);for(var rt=0,nt=new Array(tt);rt<tt;rt++)nt[rt]=et[rt];return nt}function _iterableToArrayLimit$b(et,tt){var rt=et==null?null:typeof Symbol<"u"&&et[Symbol.iterator]||et["@@iterator"];if(rt!=null){var nt,it,at,ot,st=[],lt=!0,ct=!1;try{if(at=(rt=rt.call(et)).next,tt!==0)for(;!(lt=(nt=at.call(rt)).done)&&(st.push(nt.value),st.length!==tt);lt=!0);}catch(ut){ct=!0,it=ut}finally{try{if(!lt&&rt.return!=null&&(ot=rt.return(),Object(ot)!==ot))return}finally{if(ct)throw it}}return st}}function _arrayWithHoles$c(et){if(Array.isArray(et))return et}var ResponsiveContainer=reactExports.forwardRef(function(et,tt){var rt=et.aspect,nt=et.initialDimension,it=nt===void 0?{width:-1,height:-1}:nt,at=et.width,ot=at===void 0?"100%":at,st=et.height,lt=st===void 0?"100%":st,ct=et.minWidth,ut=ct===void 0?0:ct,ft=et.minHeight,ht=et.maxHeight,dt=et.children,vt=et.debounce,yt=vt===void 0?0:vt,xt=et.id,_t=et.className,mt=et.onResize,pt=et.style,bt=pt===void 0?{}:pt,Et=reactExports.useRef(null),St=reactExports.useRef();St.current=mt,reactExports.useImperativeHandle(tt,function(){return Object.defineProperty(Et.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),Et.current},configurable:!0})});var Tt=reactExports.useState({containerWidth:it.width,containerHeight:it.height}),Pt=_slicedToArray$b(Tt,2),Rt=Pt[0],It=Pt[1],$t=reactExports.useCallback(function(Ct,Bt){It(function(Ft){var Dt=Math.round(Ct),Mt=Math.round(Bt);return Ft.containerWidth===Dt&&Ft.containerHeight===Mt?Ft:{containerWidth:Dt,containerHeight:Mt}})},[]);reactExports.useEffect(function(){var Ct=function(Ot){var Lt,Vt=Ot[0].contentRect,zt=Vt.width,Yt=Vt.height;$t(zt,Yt),(Lt=St.current)===null||Lt===void 0||Lt.call(St,zt,Yt)};yt>0&&(Ct=throttle$1(Ct,yt,{trailing:!0,leading:!1}));var Bt=new ResizeObserver(Ct),Ft=Et.current.getBoundingClientRect(),Dt=Ft.width,Mt=Ft.height;return $t(Dt,Mt),Bt.observe(Et.current),function(){Bt.disconnect()}},[$t,yt]);var kt=reactExports.useMemo(function(){var Ct=Rt.containerWidth,Bt=Rt.containerHeight;if(Ct<0||Bt<0)return null;warn(isPercent(ot)||isPercent(lt),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,ot,lt),warn(!rt||rt>0,"The aspect(%s) must be greater than zero.",rt);var Ft=isPercent(ot)?Ct:ot,Dt=isPercent(lt)?Bt:lt;rt&&rt>0&&(Ft?Dt=Ft/rt:Dt&&(Ft=Dt*rt),ht&&Dt>ht&&(Dt=ht)),warn(Ft>0||Dt>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Ft,Dt,ot,lt,ut,ft,rt);var Mt=!Array.isArray(dt)&&reactIsExports.isElement(dt)&&getDisplayName(dt.type).endsWith("Chart");return React.Children.map(dt,function(wt){return reactIsExports.isElement(wt)?reactExports.cloneElement(wt,_objectSpread$v({width:Ft,height:Dt},Mt?{style:_objectSpread$v({height:"100%",width:"100%",maxHeight:Dt,maxWidth:Ft},wt.props.style)}:{})):wt})},[rt,dt,lt,ht,ft,ut,Rt,ot]);return React.createElement("div",{id:xt?"".concat(xt):void 0,className:clsx("recharts-responsive-container",_t),style:_objectSpread$v(_objectSpread$v({},bt),{},{width:ot,height:lt,minWidth:ut,minHeight:ft,maxHeight:ht}),ref:Et},kt)}),Cell=function et(tt){return null};Cell.displayName="Cell";function _typeof$x(et){"@babel/helpers - typeof";return _typeof$x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$x(et)}function ownKeys$u(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(it){return Object.getOwnPropertyDescriptor(et,it).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$u(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$u(Object(rt),!0).forEach(function(nt){_defineProperty$v(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$u(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$v(et,tt,rt){return tt=_toPropertyKey$w(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$w(et){var tt=_toPrimitive$w(et,"string");return _typeof$x(tt)=="symbol"?tt:String(tt)}function _toPrimitive$w(et,tt){if(_typeof$x(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$x(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}var stringCache={widthCache:{},cacheCount:0},MAX_CACHE_NUM=2e3,SPAN_STYLE={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},MEASUREMENT_SPAN_ID="recharts_measurement_span";function removeInvalidKeys(et){var tt=_objectSpread$u({},et);return Object.keys(tt).forEach(function(rt){tt[rt]||delete tt[rt]}),tt}var getStringSize=function et(tt){var rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(tt==null||Global.isSsr)return{width:0,height:0};var nt=removeInvalidKeys(rt),it=JSON.stringify({text:tt,copyStyle:nt});if(stringCache.widthCache[it])return stringCache.widthCache[it];try{var at=document.getElementById(MEASUREMENT_SPAN_ID);at||(at=document.createElement("span"),at.setAttribute("id",MEASUREMENT_SPAN_ID),at.setAttribute("aria-hidden","true"),document.body.appendChild(at));var ot=_objectSpread$u(_objectSpread$u({},SPAN_STYLE),nt);Object.assign(at.style,ot),at.textContent="".concat(tt);var st=at.getBoundingClientRect(),lt={width:st.width,height:st.height};return stringCache.widthCache[it]=lt,++stringCache.cacheCount>MAX_CACHE_NUM&&(stringCache.cacheCount=0,stringCache.widthCache={}),lt}catch{return{width:0,height:0}}},getOffset=function et(tt){return{top:tt.top+window.scrollY-document.documentElement.clientTop,left:tt.left+window.scrollX-document.documentElement.clientLeft}};function _typeof$w(et){"@babel/helpers - typeof";return _typeof$w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$w(et)}function _slicedToArray$a(et,tt){return _arrayWithHoles$b(et)||_iterableToArrayLimit$a(et,tt)||_unsupportedIterableToArray$i(et,tt)||_nonIterableRest$b()}function _nonIterableRest$b(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$i(et,tt){if(et){if(typeof et=="string")return _arrayLikeToArray$i(et,tt);var rt=Object.prototype.toString.call(et).slice(8,-1);if(rt==="Object"&&et.constructor&&(rt=et.constructor.name),rt==="Map"||rt==="Set")return Array.from(et);if(rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt))return _arrayLikeToArray$i(et,tt)}}function _arrayLikeToArray$i(et,tt){(tt==null||tt>et.length)&&(tt=et.length);for(var rt=0,nt=new Array(tt);rt<tt;rt++)nt[rt]=et[rt];return nt}function _iterableToArrayLimit$a(et,tt){var rt=et==null?null:typeof Symbol<"u"&&et[Symbol.iterator]||et["@@iterator"];if(rt!=null){var nt,it,at,ot,st=[],lt=!0,ct=!1;try{if(at=(rt=rt.call(et)).next,tt===0){if(Object(rt)!==rt)return;lt=!1}else for(;!(lt=(nt=at.call(rt)).done)&&(st.push(nt.value),st.length!==tt);lt=!0);}catch(ut){ct=!0,it=ut}finally{try{if(!lt&&rt.return!=null&&(ot=rt.return(),Object(ot)!==ot))return}finally{if(ct)throw it}}return st}}function _arrayWithHoles$b(et){if(Array.isArray(et))return et}function _classCallCheck$a(et,tt){if(!(et instanceof tt))throw new TypeError("Cannot call a class as a function")}function _defineProperties$a(et,tt){for(var rt=0;rt<tt.length;rt++){var nt=tt[rt];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(et,_toPropertyKey$v(nt.key),nt)}}function _createClass$a(et,tt,rt){return tt&&_defineProperties$a(et.prototype,tt),rt&&_defineProperties$a(et,rt),Object.defineProperty(et,"prototype",{writable:!1}),et}function _toPropertyKey$v(et){var tt=_toPrimitive$v(et,"string");return _typeof$w(tt)=="symbol"?tt:String(tt)}function _toPrimitive$v(et,tt){if(_typeof$w(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt);if(_typeof$w(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(et)}var MULTIPLY_OR_DIVIDE_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ADD_OR_SUBTRACT_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CSS_LENGTH_UNIT_REGEX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,NUM_SPLIT_REGEX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,CONVERSION_RATES={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},FIXED_CSS_LENGTH_UNITS=Object.keys(CONVERSION_RATES),STR_NAN="NaN";function convertToPx(et,tt){return et*CONVERSION_RATES[tt]}var DecimalCSS=function(){function et(tt,rt){_classCallCheck$a(this,et),this.num=tt,this.unit=rt,this.num=tt,this.unit=rt,Number.isNaN(tt)&&(this.unit=""),rt!==""&&!CSS_LENGTH_UNIT_REGEX.test(rt)&&(this.num=NaN,this.unit=""),FIXED_CSS_LENGTH_UNITS.includes(rt)&&(this.num=convertToPx(tt,rt),this.unit="px")}return _createClass$a(et,[{key:"add",value:function(rt){return this.unit!==rt.unit?new et(NaN,""):new et(this.num+rt.num,this.unit)}},{key:"subtract",value:function(rt){return this.unit!==rt.unit?new et(NaN,""):new et(this.num-rt.num,this.unit)}},{key:"multiply",value:function(rt){return this.unit!==""&&rt.unit!==""&&this.unit!==rt.unit?new et(NaN,""):new et(this.num*rt.num,this.unit||rt.unit)}},{key:"divide",value:function(rt){return this.unit!==""&&rt.unit!==""&&this.unit!==rt.unit?new et(NaN,""):new et(this.num/rt.num,this.unit||rt.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(rt){var nt,it=(nt=NUM_SPLIT_REGEX.exec(rt))!==null&&nt!==void 0?nt:[],at=_slicedToArray$a(it,3),ot=at[1],st=at[2];return new et(parseFloat(ot),st??"")}}]),et}();function calculateArithmetic(et){if(et.includes(STR_NAN))return STR_NAN;for(var tt=et;tt.includes("*")||tt.includes("/");){var rt,nt=(rt=MULTIPLY_OR_DIVIDE_REGEX.exec(tt))!==null&&rt!==void 0?rt:[],it=_slicedToArray$a(nt,4),at=it[1],ot=it[2],st=it[3],lt=DecimalCSS.parse(at??""),ct=DecimalCSS.parse(st??""),ut=ot==="*"?lt.multiply(ct):lt.divide(ct);if(ut.isNaN())return STR_NAN;tt=tt.replace(MULTIPLY_OR_DIVIDE_REGEX,ut.toString())}for(;tt.includes("+")||/.-\d+(?:\.\d+)?/.test(tt);){var ft,ht=(ft=ADD_OR_SUBTRACT_REGEX.exec(tt))!==null&&ft!==void 0?ft:[],dt=_slicedToArray$a(ht,4),vt=dt[1],yt=dt[2],xt=dt[3],_t=DecimalCSS.parse(vt??""),mt=DecimalCSS.parse(xt??""),pt=yt==="+"?_t.add(mt):_t.subtract(mt);if(pt.isNaN())return STR_NAN;tt=tt.replace(ADD_OR_SUBTRACT_REGEX,pt.toString())}return tt}var PARENTHESES_REGEX=/\(([^()]*)\)/;function calculateParentheses(et){for(var tt=et;tt.includes("(");){var rt=PARENTHESES_REGEX.exec(tt),nt=_slicedToArray$a(rt,2),it=nt[1];tt=tt.replace(PARENTHESES_REGEX,calculateArithmetic(it))}return tt}function evaluateExpression(et){var tt=et.replace(/\s+/g,"");return tt=calculateParentheses(tt),tt=calculateArithmetic(tt),tt}function safeEvaluateExpression(et){try{return evaluateExpression(et)}catch{return STR_NAN}}function reduceCSSCalc(et){var tt=safeEvaluateExpression(et.slice(5,-1));return tt===STR_NAN?"":tt}var _excluded$d=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],_excluded2$5=["dx","dy","angle","className","breakAll"];function _extends$o(){return _extends$o=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$o.apply(this,arguments)}function _objectWithoutProperties$d(et,tt){if(et==null)return{};var rt=_objectWithoutPropertiesLoose$d(et,tt),nt,it;if(Object.getOwnPropertySymbols){var at=Object.getOwnPropertySymbols(et);for(it=0;it<at.length;it++)nt=at[it],!(tt.indexOf(nt)>=0)&&Object.prototype.propertyIsEnumerable.call(et,nt)&&(rt[nt]=et[nt])}return rt}function _objectWithoutPropertiesLoose$d(et,tt){if(et==null)return{};var rt={},nt=Object.keys(et),it,at;for(at=0;at<nt.length;at++)it=nt[at],!(tt.indexOf(it)>=0)&&(rt[it]=et[it]);return rt}function _slicedToArray$9(et,tt){return _arrayWithHoles$a(et)||_iterableToArrayLimit$9(et,tt)||_unsupportedIterableToArray$h(et,tt)||_nonIterableRest$a()}function _nonIterableRest$a(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$h(et,tt){if(et){if(typeof et=="string")return _arrayLikeToArray$h(et,tt);var rt=Object.prototype.toString.call(et).slice(8,-1);if(rt==="Object"&&et.constructor&&(rt=et.constructor.name),rt==="Map"||rt==="Set")return Array.from(et);if(rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt))return _arrayLikeToArray$h(et,tt)}}function _arrayLikeToArray$h(et,tt){(tt==null||tt>et.length)&&(tt=et.length);for(var rt=0,nt=new Array(tt);rt<tt;rt++)nt[rt]=et[rt];return nt}function _iterableToArrayLimit$9(et,tt){var rt=et==null?null:typeof Symbol<"u"&&et[Symbol.iterator]||et["@@iterator"];if(rt!=null){var nt,it,at,ot,st=[],lt=!0,ct=!1;try{if(at=(rt=rt.call(et)).next,tt===0){if(Object(rt)!==rt)return;lt=!1}else for(;!(lt=(nt=at.call(rt)).done)&&(st.push(nt.value),st.length!==tt);lt=!0);}catch(ut){ct=!0,it=ut}finally{try{if(!lt&&rt.return!=null&&(ot=rt.return(),Object(ot)!==ot))return}finally{if(ct)throw it}}return st}}function _arrayWithHoles$a(et){if(Array.isArray(et))return et}var BREAKING_SPACES=/[ \f\n\r\t\v\u2028\u2029]+/,calculateWordWidths=function et(tt){var rt=tt.children,nt=tt.breakAll,it=tt.style;try{var at=[];isNil$1(rt)||(nt?at=rt.toString().split(""):at=rt.toString().split(BREAKING_SPACES));var ot=at.map(function(lt){return{word:lt,width:getStringSize(lt,it).width}}),st=nt?0:getStringSize(" ",it).width;return{wordsWithComputedWidth:ot,spaceWidth:st}}catch{return null}},calculateWordsByLines=function et(tt,rt,nt,it,at){var ot=tt.maxLines,st=tt.children,lt=tt.style,ct=tt.breakAll,ut=isNumber(ot),ft=st,ht=function(){var Ft=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Ft.reduce(function(Dt,Mt){var wt=Mt.word,Ot=Mt.width,Lt=Dt[Dt.length-1];if(Lt&&(it==null||at||Lt.width+Ot+nt<Number(it)))Lt.words.push(wt),Lt.width+=Ot+nt;else{var Vt={words:[wt],width:Ot};Dt.push(Vt)}return Dt},[])},dt=ht(rt),vt=function(Ft){return Ft.reduce(function(Dt,Mt){return Dt.width>Mt.width?Dt:Mt})};if(!ut)return dt;for(var yt="…",xt=function(Ft){var Dt=ft.slice(0,Ft),Mt=calculateWordWidths({breakAll:ct,style:lt,children:Dt+yt}).wordsWithComputedWidth,wt=ht(Mt),Ot=wt.length>ot||vt(wt).width>Number(it);return[Ot,wt]},_t=0,mt=ft.length-1,pt=0,bt;_t<=mt&&pt<=ft.length-1;){var Et=Math.floor((_t+mt)/2),St=Et-1,Tt=xt(St),Pt=_slicedToArray$9(Tt,2),Rt=Pt[0],It=Pt[1],$t=xt(Et),kt=_slicedToArray$9($t,1),Ct=kt[0];if(!Rt&&!Ct&&(_t=Et+1),Rt&&Ct&&(mt=Et-1),!Rt&&Ct){bt=It;break}pt++}return bt||dt},getWordsWithoutCalculate=function et(tt){var rt=isNil$1(tt)?[]:tt.toString().split(BREAKING_SPACES);return[{words:rt}]},getWordsByLines=function et(tt){var rt=tt.width,nt=tt.scaleToFit,it=tt.children,at=tt.style,ot=tt.breakAll,st=tt.maxLines;if((rt||nt)&&!Global.isSsr){var lt,ct,ut=calculateWordWidths({breakAll:ot,children:it,style:at});if(ut){var ft=ut.wordsWithComputedWidth,ht=ut.spaceWidth;lt=ft,ct=ht}else return getWordsWithoutCalculate(it);return calculateWordsByLines({breakAll:ot,children:it,maxLines:st,style:at},lt,ct,rt,nt)}return getWordsWithoutCalculate(it)},DEFAULT_FILL="#808080",Text=function et(tt){var rt=tt.x,nt=rt===void 0?0:rt,it=tt.y,at=it===void 0?0:it,ot=tt.lineHeight,st=ot===void 0?"1em":ot,lt=tt.capHeight,ct=lt===void 0?"0.71em":lt,ut=tt.scaleToFit,ft=ut===void 0?!1:ut,ht=tt.textAnchor,dt=ht===void 0?"start":ht,vt=tt.verticalAnchor,yt=vt===void 0?"end":vt,xt=tt.fill,_t=xt===void 0?DEFAULT_FILL:xt,mt=_objectWithoutProperties$d(tt,_excluded$d),pt=reactExports.useMemo(function(){return getWordsByLines({breakAll:mt.breakAll,children:mt.children,maxLines:mt.maxLines,scaleToFit:ft,style:mt.style,width:mt.width})},[mt.breakAll,mt.children,mt.maxLines,ft,mt.style,mt.width]),bt=mt.dx,Et=mt.dy,St=mt.angle,Tt=mt.className,Pt=mt.breakAll,Rt=_objectWithoutProperties$d(mt,_excluded2$5);if(!isNumOrStr(nt)||!isNumOrStr(at))return null;var It=nt+(isNumber(bt)?bt:0),$t=at+(isNumber(Et)?Et:0),kt;switch(yt){case"start":kt=reduceCSSCalc("calc(".concat(ct,")"));break;case"middle":kt=reduceCSSCalc("calc(".concat((pt.length-1)/2," * -").concat(st," + (").concat(ct," / 2))"));break;default:kt=reduceCSSCalc("calc(".concat(pt.length-1," * -").concat(st,")"));break}var Ct=[];if(ft){var Bt=pt[0].width,Ft=mt.width;Ct.push("scale(".concat((isNumber(Ft)?Ft/Bt:1)/Bt,")"))}return St&&Ct.push("rotate(".concat(St,", ").concat(It,", ").concat($t,")")),Ct.length&&(Rt.transform=Ct.join(" ")),React.createElement("text",_extends$o({},filterProps(Rt,!0),{x:It,y:$t,className:clsx("recharts-text",Tt),textAnchor:dt,fill:_t.includes("url")?DEFAULT_FILL:_t}),pt.map(function(Dt,Mt){var wt=Dt.words.join(Pt?"":" ");return React.createElement("tspan",{x:It,dy:Mt===0?kt:st,key:wt},wt)}))};function ascending(et,tt){return et==null||tt==null?NaN:et<tt?-1:et>tt?1:et>=tt?0:NaN}function descending(et,tt){return et==null||tt==null?NaN:tt<et?-1:tt>et?1:tt>=et?0:NaN}function bisector(et){let tt,rt,nt;et.length!==2?(tt=ascending,rt=(st,lt)=>ascending(et(st),lt),nt=(st,lt)=>et(st)-lt):(tt=et===ascending||et===descending?et:zero$1,rt=et,nt=et);function it(st,lt,ct=0,ut=st.length){if(ct<ut){if(tt(lt,lt)!==0)return ut;do{const ft=ct+ut>>>1;rt(st[ft],lt)<0?ct=ft+1:ut=ft}while(ct<ut)}return ct}function at(st,lt,ct=0,ut=st.length){if(ct<ut){if(tt(lt,lt)!==0)return ut;do{const ft=ct+ut>>>1;rt(st[ft],lt)<=0?ct=ft+1:ut=ft}while(ct<ut)}return ct}function ot(st,lt,ct=0,ut=st.length){const ft=it(st,lt,ct,ut-1);return ft>ct&&nt(st[ft-1],lt)>-nt(st[ft],lt)?ft-1:ft}return{left:it,center:ot,right:at}}function zero$1(){return 0}function number$2(et){return et===null?NaN:+et}function*numbers(et,tt){for(let rt of et)rt!=null&&(rt=+rt)>=rt&&(yield rt)}const ascendingBisect=bisector(ascending),bisectRight=ascendingBisect.right;bisector(number$2).center;class InternMap extends Map{constructor(tt,rt=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:rt}}),tt!=null)for(const[nt,it]of tt)this.set(nt,it)}get(tt){return super.get(intern_get(this,tt))}has(tt){return super.has(intern_get(this,tt))}set(tt,rt){return super.set(intern_set(this,tt),rt)}delete(tt){return super.delete(intern_delete(this,tt))}}function intern_get({_intern:et,_key:tt},rt){const nt=tt(rt);return et.has(nt)?et.get(nt):rt}function intern_set({_intern:et,_key:tt},rt){const nt=tt(rt);return et.has(nt)?et.get(nt):(et.set(nt,rt),rt)}function intern_delete({_intern:et,_key:tt},rt){const nt=tt(rt);return et.has(nt)&&(rt=et.get(nt),et.delete(nt)),rt}function keyof(et){return et!==null&&typeof et=="object"?et.valueOf():et}function compareDefined(et=ascending){if(et===ascending)return ascendingDefined;if(typeof et!="function")throw new TypeError("compare is not a function");return(tt,rt)=>{const nt=et(tt,rt);return nt||nt===0?nt:(et(rt,rt)===0)-(et(tt,tt)===0)}}function ascendingDefined(et,tt){return(et==null||!(et>=et))-(tt==null||!(tt>=tt))||(et<tt?-1:et>tt?1:0)}const e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickSpec(et,tt,rt){const nt=(tt-et)/Math.max(0,rt),it=Math.floor(Math.log10(nt)),at=nt/Math.pow(10,it),ot=at>=e10?10:at>=e5?5:at>=e2?2:1;let st,lt,ct;return it<0?(ct=Math.pow(10,-it)/ot,st=Math.round(et*ct),lt=Math.round(tt*ct),st/ct<et&&++st,lt/ct>tt&&--lt,ct=-ct):(ct=Math.pow(10,it)*ot,st=Math.round(et/ct),lt=Math.round(tt/ct),st*ct<et&&++st,lt*ct>tt&&--lt),lt<st&&.5<=rt&&rt<2?tickSpec(et,tt,rt*2):[st,lt,ct]}function ticks(et,tt,rt){if(tt=+tt,et=+et,rt=+rt,!(rt>0))return[];if(et===tt)return[et];const nt=tt<et,[it,at,ot]=nt?tickSpec(tt,et,rt):tickSpec(et,tt,rt);if(!(at>=it))return[];const st=at-it+1,lt=new Array(st);if(nt)if(ot<0)for(let ct=0;ct<st;++ct)lt[ct]=(at-ct)/-ot;else for(let ct=0;ct<st;++ct)lt[ct]=(at-ct)*ot;else if(ot<0)for(let ct=0;ct<st;++ct)lt[ct]=(it+ct)/-ot;else for(let ct=0;ct<st;++ct)lt[ct]=(it+ct)*ot;return lt}function tickIncrement(et,tt,rt){return tt=+tt,et=+et,rt=+rt,tickSpec(et,tt,rt)[2]}function tickStep(et,tt,rt){tt=+tt,et=+et,rt=+rt;const nt=tt<et,it=nt?tickIncrement(tt,et,rt):tickIncrement(et,tt,rt);return(nt?-1:1)*(it<0?1/-it:it)}function max$2(et,tt){let rt;for(const nt of et)nt!=null&&(rt<nt||rt===void 0&&nt>=nt)&&(rt=nt);return rt}function min$2(et,tt){let rt;for(const nt of et)nt!=null&&(rt>nt||rt===void 0&&nt>=nt)&&(rt=nt);return rt}function quickselect(et,tt,rt=0,nt=1/0,it){if(tt=Math.floor(tt),rt=Math.floor(Math.max(0,rt)),nt=Math.floor(Math.min(et.length-1,nt)),!(rt<=tt&&tt<=nt))return et;for(it=it===void 0?ascendingDefined:compareDefined(it);nt>rt;){if(nt-rt>600){const lt=nt-rt+1,ct=tt-rt+1,ut=Math.log(lt),ft=.5*Math.exp(2*ut/3),ht=.5*Math.sqrt(ut*ft*(lt-ft)/lt)*(ct-lt/2<0?-1:1),dt=Math.max(rt,Math.floor(tt-ct*ft/lt+ht)),vt=Math.min(nt,Math.floor(tt+(lt-ct)*ft/lt+ht));quickselect(et,tt,dt,vt,it)}const at=et[tt];let ot=rt,st=nt;for(swap(et,rt,tt),it(et[nt],at)>0&&swap(et,rt,nt);ot<st;){for(swap(et,ot,st),++ot,--st;it(et[ot],at)<0;)++ot;for(;it(et[st],at)>0;)--st}it(et[rt],at)===0?swap(et,rt,st):(++st,swap(et,st,nt)),st<=tt&&(rt=st+1),tt<=st&&(nt=st-1)}return et}function swap(et,tt,rt){const nt=et[tt];et[tt]=et[rt],et[rt]=nt}function quantile$1(et,tt,rt){if(et=Float64Array.from(numbers(et)),!(!(nt=et.length)||isNaN(tt=+tt))){if(tt<=0||nt<2)return min$2(et);if(tt>=1)return max$2(et);var nt,it=(nt-1)*tt,at=Math.floor(it),ot=max$2(quickselect(et,at).subarray(0,at+1)),st=min$2(et.subarray(at+1));return ot+(st-ot)*(it-at)}}function quantileSorted(et,tt,rt=number$2){if(!(!(nt=et.length)||isNaN(tt=+tt))){if(tt<=0||nt<2)return+rt(et[0],0,et);if(tt>=1)return+rt(et[nt-1],nt-1,et);var nt,it=(nt-1)*tt,at=Math.floor(it),ot=+rt(et[at],at,et),st=+rt(et[at+1],at+1,et);return ot+(st-ot)*(it-at)}}function range$3(et,tt,rt){et=+et,tt=+tt,rt=(it=arguments.length)<2?(tt=et,et=0,1):it<3?1:+rt;for(var nt=-1,it=Math.max(0,Math.ceil((tt-et)/rt))|0,at=new Array(it);++nt<it;)at[nt]=et+nt*rt;return at}function initRange(et,tt){switch(arguments.length){case 0:break;case 1:this.range(et);break;default:this.range(tt).domain(et);break}return this}function initInterpolator(et,tt){switch(arguments.length){case 0:break;case 1:{typeof et=="function"?this.interpolator(et):this.range(et);break}default:{this.domain(et),typeof tt=="function"?this.interpolator(tt):this.range(tt);break}}return this}const implicit=Symbol("implicit");function ordinal(){var et=new InternMap,tt=[],rt=[],nt=implicit;function it(at){let ot=et.get(at);if(ot===void 0){if(nt!==implicit)return nt;et.set(at,ot=tt.push(at)-1)}return rt[ot%rt.length]}return it.domain=function(at){if(!arguments.length)return tt.slice();tt=[],et=new InternMap;for(const ot of at)et.has(ot)||et.set(ot,tt.push(ot)-1);return it},it.range=function(at){return arguments.length?(rt=Array.from(at),it):rt.slice()},it.unknown=function(at){return arguments.length?(nt=at,it):nt},it.copy=function(){return ordinal(tt,rt).unknown(nt)},initRange.apply(it,arguments),it}function band(){var et=ordinal().unknown(void 0),tt=et.domain,rt=et.range,nt=0,it=1,at,ot,st=!1,lt=0,ct=0,ut=.5;delete et.unknown;function ft(){var ht=tt().length,dt=it<nt,vt=dt?it:nt,yt=dt?nt:it;at=(yt-vt)/Math.max(1,ht-lt+ct*2),st&&(at=Math.floor(at)),vt+=(yt-vt-at*(ht-lt))*ut,ot=at*(1-lt),st&&(vt=Math.round(vt),ot=Math.round(ot));var xt=range$3(ht).map(function(_t){return vt+at*_t});return rt(dt?xt.reverse():xt)}return et.domain=function(ht){return arguments.length?(tt(ht),ft()):tt()},et.range=function(ht){return arguments.length?([nt,it]=ht,nt=+nt,it=+it,ft()):[nt,it]},et.rangeRound=function(ht){return[nt,it]=ht,nt=+nt,it=+it,st=!0,ft()},et.bandwidth=function(){return ot},et.step=function(){return at},et.round=function(ht){return arguments.length?(st=!!ht,ft()):st},et.padding=function(ht){return arguments.length?(lt=Math.min(1,ct=+ht),ft()):lt},et.paddingInner=function(ht){return arguments.length?(lt=Math.min(1,ht),ft()):lt},et.paddingOuter=function(ht){return arguments.length?(ct=+ht,ft()):ct},et.align=function(ht){return arguments.length?(ut=Math.max(0,Math.min(1,ht)),ft()):ut},et.copy=function(){return band(tt(),[nt,it]).round(st).paddingInner(lt).paddingOuter(ct).align(ut)},initRange.apply(ft(),arguments)}function pointish(et){var tt=et.copy;return et.padding=et.paddingOuter,delete et.paddingInner,delete et.paddingOuter,et.copy=function(){return pointish(tt())},et}function point(){return pointish(band.apply(null,arguments).paddingInner(1))}function define(et,tt,rt){et.prototype=tt.prototype=rt,rt.constructor=et}function extend(et,tt){var rt=Object.create(et.prototype);for(var nt in tt)rt[nt]=tt[nt];return rt}function Color(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color,color,{copy(et){return Object.assign(new this.constructor,this,et)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(et){var tt,rt;return et=(et+"").trim().toLowerCase(),(tt=reHex.exec(et))?(rt=tt[1].length,tt=parseInt(tt[1],16),rt===6?rgbn(tt):rt===3?new Rgb(tt>>8&15|tt>>4&240,tt>>4&15|tt&240,(tt&15)<<4|tt&15,1):rt===8?rgba(tt>>24&255,tt>>16&255,tt>>8&255,(tt&255)/255):rt===4?rgba(tt>>12&15|tt>>8&240,tt>>8&15|tt>>4&240,tt>>4&15|tt&240,((tt&15)<<4|tt&15)/255):null):(tt=reRgbInteger.exec(et))?new Rgb(tt[1],tt[2],tt[3],1):(tt=reRgbPercent.exec(et))?new Rgb(tt[1]*255/100,tt[2]*255/100,tt[3]*255/100,1):(tt=reRgbaInteger.exec(et))?rgba(tt[1],tt[2],tt[3],tt[4]):(tt=reRgbaPercent.exec(et))?rgba(tt[1]*255/100,tt[2]*255/100,tt[3]*255/100,tt[4]):(tt=reHslPercent.exec(et))?hsla(tt[1],tt[2]/100,tt[3]/100,1):(tt=reHslaPercent.exec(et))?hsla(tt[1],tt[2]/100,tt[3]/100,tt[4]):named.hasOwnProperty(et)?rgbn(named[et]):et==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(et){return new Rgb(et>>16&255,et>>8&255,et&255,1)}function rgba(et,tt,rt,nt){return nt<=0&&(et=tt=rt=NaN),new Rgb(et,tt,rt,nt)}function rgbConvert(et){return et instanceof Color||(et=color(et)),et?(et=et.rgb(),new Rgb(et.r,et.g,et.b,et.opacity)):new Rgb}function rgb$1(et,tt,rt,nt){return arguments.length===1?rgbConvert(et):new Rgb(et,tt,rt,nt??1)}function Rgb(et,tt,rt,nt){this.r=+et,this.g=+tt,this.b=+rt,this.opacity=+nt}define(Rgb,rgb$1,extend(Color,{brighter(et){return et=et==null?brighter:Math.pow(brighter,et),new Rgb(this.r*et,this.g*et,this.b*et,this.opacity)},darker(et){return et=et==null?darker:Math.pow(darker,et),new Rgb(this.r*et,this.g*et,this.b*et,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const et=clampa(this.opacity);return`${et===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${et===1?")":`, ${et})`}`}function clampa(et){return isNaN(et)?1:Math.max(0,Math.min(1,et))}function clampi(et){return Math.max(0,Math.min(255,Math.round(et)||0))}function hex(et){return et=clampi(et),(et<16?"0":"")+et.toString(16)}function hsla(et,tt,rt,nt){return nt<=0?et=tt=rt=NaN:rt<=0||rt>=1?et=tt=NaN:tt<=0&&(et=NaN),new Hsl(et,tt,rt,nt)}function hslConvert(et){if(et instanceof Hsl)return new Hsl(et.h,et.s,et.l,et.opacity);if(et instanceof Color||(et=color(et)),!et)return new Hsl;if(et instanceof Hsl)return et;et=et.rgb();var tt=et.r/255,rt=et.g/255,nt=et.b/255,it=Math.min(tt,rt,nt),at=Math.max(tt,rt,nt),ot=NaN,st=at-it,lt=(at+it)/2;return st?(tt===at?ot=(rt-nt)/st+(rt<nt)*6:rt===at?ot=(nt-tt)/st+2:ot=(tt-rt)/st+4,st/=lt<.5?at+it:2-at-it,ot*=60):st=lt>0&&lt<1?0:ot,new Hsl(ot,st,lt,et.opacity)}function hsl(et,tt,rt,nt){return arguments.length===1?hslConvert(et):new Hsl(et,tt,rt,nt??1)}function Hsl(et,tt,rt,nt){this.h=+et,this.s=+tt,this.l=+rt,this.opacity=+nt}define(Hsl,hsl,extend(Color,{brighter(et){return et=et==null?brighter:Math.pow(brighter,et),new Hsl(this.h,this.s,this.l*et,this.opacity)},darker(et){return et=et==null?darker:Math.pow(darker,et),new Hsl(this.h,this.s,this.l*et,this.opacity)},rgb(){var et=this.h%360+(this.h<0)*360,tt=isNaN(et)||isNaN(this.s)?0:this.s,rt=this.l,nt=rt+(rt<.5?rt:1-rt)*tt,it=2*rt-nt;return new Rgb(hsl2rgb(et>=240?et-240:et+120,it,nt),hsl2rgb(et,it,nt),hsl2rgb(et<120?et+240:et-120,it,nt),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const et=clampa(this.opacity);return`${et===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${et===1?")":`, ${et})`}`}}));function clamph(et){return et=(et||0)%360,et<0?et+360:et}function clampt(et){return Math.max(0,Math.min(1,et||0))}function hsl2rgb(et,tt,rt){return(et<60?tt+(rt-tt)*et/60:et<180?rt:et<240?tt+(rt-tt)*(240-et)/60:tt)*255}const constant=et=>()=>et;function linear$1(et,tt){return function(rt){return et+rt*tt}}function exponential(et,tt,rt){return et=Math.pow(et,rt),tt=Math.pow(tt,rt)-et,rt=1/rt,function(nt){return Math.pow(et+nt*tt,rt)}}function gamma(et){return(et=+et)==1?nogamma:function(tt,rt){return rt-tt?exponential(tt,rt,et):constant(isNaN(tt)?rt:tt)}}function nogamma(et,tt){var rt=tt-et;return rt?linear$1(et,rt):constant(isNaN(et)?tt:et)}const rgb=function et(tt){var rt=gamma(tt);function nt(it,at){var ot=rt((it=rgb$1(it)).r,(at=rgb$1(at)).r),st=rt(it.g,at.g),lt=rt(it.b,at.b),ct=nogamma(it.opacity,at.opacity);return function(ut){return it.r=ot(ut),it.g=st(ut),it.b=lt(ut),it.opacity=ct(ut),it+""}}return nt.gamma=et,nt}(1);function numberArray(et,tt){tt||(tt=[]);var rt=et?Math.min(tt.length,et.length):0,nt=tt.slice(),it;return function(at){for(it=0;it<rt;++it)nt[it]=et[it]*(1-at)+tt[it]*at;return nt}}function isNumberArray(et){return ArrayBuffer.isView(et)&&!(et instanceof DataView)}function genericArray(et,tt){var rt=tt?tt.length:0,nt=et?Math.min(rt,et.length):0,it=new Array(nt),at=new Array(rt),ot;for(ot=0;ot<nt;++ot)it[ot]=interpolate(et[ot],tt[ot]);for(;ot<rt;++ot)at[ot]=tt[ot];return function(st){for(ot=0;ot<nt;++ot)at[ot]=it[ot](st);return at}}function date$1(et,tt){var rt=new Date;return et=+et,tt=+tt,function(nt){return rt.setTime(et*(1-nt)+tt*nt),rt}}function interpolateNumber$1(et,tt){return et=+et,tt=+tt,function(rt){return et*(1-rt)+tt*rt}}function object(et,tt){var rt={},nt={},it;(et===null||typeof et!="object")&&(et={}),(tt===null||typeof tt!="object")&&(tt={});for(it in tt)it in et?rt[it]=interpolate(et[it],tt[it]):nt[it]=tt[it];return function(at){for(it in rt)nt[it]=rt[it](at);return nt}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(et){return function(){return et}}function one(et){return function(tt){return et(tt)+""}}function string(et,tt){var rt=reA.lastIndex=reB.lastIndex=0,nt,it,at,ot=-1,st=[],lt=[];for(et=et+"",tt=tt+"";(nt=reA.exec(et))&&(it=reB.exec(tt));)(at=it.index)>rt&&(at=tt.slice(rt,at),st[ot]?st[ot]+=at:st[++ot]=at),(nt=nt[0])===(it=it[0])?st[ot]?st[ot]+=it:st[++ot]=it:(st[++ot]=null,lt.push({i:ot,x:interpolateNumber$1(nt,it)})),rt=reB.lastIndex;return rt<tt.length&&(at=tt.slice(rt),st[ot]?st[ot]+=at:st[++ot]=at),st.length<2?lt[0]?one(lt[0].x):zero(tt):(tt=lt.length,function(ct){for(var ut=0,ft;ut<tt;++ut)st[(ft=lt[ut]).i]=ft.x(ct);return st.join("")})}function interpolate(et,tt){var rt=typeof tt,nt;return tt==null||rt==="boolean"?constant(tt):(rt==="number"?interpolateNumber$1:rt==="string"?(nt=color(tt))?(tt=nt,rgb):string:tt instanceof color?rgb:tt instanceof Date?date$1:isNumberArray(tt)?numberArray:Array.isArray(tt)?genericArray:typeof tt.valueOf!="function"&&typeof tt.toString!="function"||isNaN(tt)?object:interpolateNumber$1)(et,tt)}function interpolateRound(et,tt){return et=+et,tt=+tt,function(rt){return Math.round(et*(1-rt)+tt*rt)}}function piecewise(et,tt){tt===void 0&&(tt=et,et=interpolate);for(var rt=0,nt=tt.length-1,it=tt[0],at=new Array(nt<0?0:nt);rt<nt;)at[rt]=et(it,it=tt[++rt]);return function(ot){var st=Math.max(0,Math.min(nt-1,Math.floor(ot*=nt)));return at[st](ot-st)}}function constants(et){return function(){return et}}function number$1(et){return+et}var unit=[0,1];function identity$6(et){return et}function normalize(et,tt){return(tt-=et=+et)?function(rt){return(rt-et)/tt}:constants(isNaN(tt)?NaN:.5)}function clamper(et,tt){var rt;return et>tt&&(rt=et,et=tt,tt=rt),function(nt){return Math.max(et,Math.min(tt,nt))}}function bimap(et,tt,rt){var nt=et[0],it=et[1],at=tt[0],ot=tt[1];return it<nt?(nt=normalize(it,nt),at=rt(ot,at)):(nt=normalize(nt,it),at=rt(at,ot)),function(st){return at(nt(st))}}function polymap(et,tt,rt){var nt=Math.min(et.length,tt.length)-1,it=new Array(nt),at=new Array(nt),ot=-1;for(et[nt]<et[0]&&(et=et.slice().reverse(),tt=tt.slice().reverse());++ot<nt;)it[ot]=normalize(et[ot],et[ot+1]),at[ot]=rt(tt[ot],tt[ot+1]);return function(st){var lt=bisectRight(et,st,1,nt)-1;return at[lt](it[lt](st))}}function copy$1(et,tt){return tt.domain(et.domain()).range(et.range()).interpolate(et.interpolate()).clamp(et.clamp()).unknown(et.unknown())}function transformer$2(){var et=unit,tt=unit,rt=interpolate,nt,it,at,ot=identity$6,st,lt,ct;function ut(){var ht=Math.min(et.length,tt.length);return ot!==identity$6&&(ot=clamper(et[0],et[ht-1])),st=ht>2?polymap:bimap,lt=ct=null,ft}function ft(ht){return ht==null||isNaN(ht=+ht)?at:(lt||(lt=st(et.map(nt),tt,rt)))(nt(ot(ht)))}return ft.invert=function(ht){return ot(it((ct||(ct=st(tt,et.map(nt),interpolateNumber$1)))(ht)))},ft.domain=function(ht){return arguments.length?(et=Array.from(ht,number$1),ut()):et.slice()},ft.range=function(ht){return arguments.length?(tt=Array.from(ht),ut()):tt.slice()},ft.rangeRound=function(ht){return tt=Array.from(ht),rt=interpolateRound,ut()},ft.clamp=function(ht){return arguments.length?(ot=ht?!0:identity$6,ut()):ot!==identity$6},ft.interpolate=function(ht){return arguments.length?(rt=ht,ut()):rt},ft.unknown=function(ht){return arguments.length?(at=ht,ft):at},function(ht,dt){return nt=ht,it=dt,ut()}}function continuous(){return transformer$2()(identity$6,identity$6)}function formatDecimal(et){return Math.abs(et=Math.round(et))>=1e21?et.toLocaleString("en").replace(/,/g,""):et.toString(10)}function formatDecimalParts(et,tt){if((rt=(et=tt?et.toExponential(tt-1):et.toExponential()).indexOf("e"))<0)return null;var rt,nt=et.slice(0,rt);return[nt.length>1?nt[0]+nt.slice(2):nt,+et.slice(rt+1)]}function exponent(et){return et=formatDecimalParts(Math.abs(et)),et?et[1]:NaN}function formatGroup(et,tt){return function(rt,nt){for(var it=rt.length,at=[],ot=0,st=et[0],lt=0;it>0&&st>0&&(lt+st+1>nt&&(st=Math.max(1,nt-lt)),at.push(rt.substring(it-=st,it+st)),!((lt+=st+1)>nt));)st=et[ot=(ot+1)%et.length];return at.reverse().join(tt)}}function formatNumerals(et){return function(tt){return tt.replace(/[0-9]/g,function(rt){return et[+rt]})}}var re=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(et){if(!(tt=re.exec(et)))throw new Error("invalid format: "+et);var tt;return new FormatSpecifier({fill:tt[1],align:tt[2],sign:tt[3],symbol:tt[4],zero:tt[5],width:tt[6],comma:tt[7],precision:tt[8]&&tt[8].slice(1),trim:tt[9],type:tt[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;function FormatSpecifier(et){this.fill=et.fill===void 0?" ":et.fill+"",this.align=et.align===void 0?">":et.align+"",this.sign=et.sign===void 0?"-":et.sign+"",this.symbol=et.symbol===void 0?"":et.symbol+"",this.zero=!!et.zero,this.width=et.width===void 0?void 0:+et.width,this.comma=!!et.comma,this.precision=et.precision===void 0?void 0:+et.precision,this.trim=!!et.trim,this.type=et.type===void 0?"":et.type+""}FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim(et){e:for(var tt=et.length,rt=1,nt=-1,it;rt<tt;++rt)switch(et[rt]){case".":nt=it=rt;break;case"0":nt===0&&(nt=rt),it=rt;break;default:if(!+et[rt])break e;nt>0&&(nt=0);break}return nt>0?et.slice(0,nt)+et.slice(it+1):et}var prefixExponent;function formatPrefixAuto(et,tt){var rt=formatDecimalParts(et,tt);if(!rt)return et+"";var nt=rt[0],it=rt[1],at=it-(prefixExponent=Math.max(-8,Math.min(8,Math.floor(it/3)))*3)+1,ot=nt.length;return at===ot?nt:at>ot?nt+new Array(at-ot+1).join("0"):at>0?nt.slice(0,at)+"."+nt.slice(at):"0."+new Array(1-at).join("0")+formatDecimalParts(et,Math.max(0,tt+at-1))[0]}function formatRounded(et,tt){var rt=formatDecimalParts(et,tt);if(!rt)return et+"";var nt=rt[0],it=rt[1];return it<0?"0."+new Array(-it).join("0")+nt:nt.length>it+1?nt.slice(0,it+1)+"."+nt.slice(it+1):nt+new Array(it-nt.length+2).join("0")}const formatTypes={"%":(et,tt)=>(et*100).toFixed(tt),b:et=>Math.round(et).toString(2),c:et=>et+"",d:formatDecimal,e:(et,tt)=>et.toExponential(tt),f:(et,tt)=>et.toFixed(tt),g:(et,tt)=>et.toPrecision(tt),o:et=>Math.round(et).toString(8),p:(et,tt)=>formatRounded(et*100,tt),r:formatRounded,s:formatPrefixAuto,X:et=>Math.round(et).toString(16).toUpperCase(),x:et=>Math.round(et).toString(16)};function identity$5(et){return et}var map$3=Array.prototype.map,prefixes=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$1(et){var tt=et.grouping===void 0||et.thousands===void 0?identity$5:formatGroup(map$3.call(et.grouping,Number),et.thousands+""),rt=et.currency===void 0?"":et.currency[0]+"",nt=et.currency===void 0?"":et.currency[1]+"",it=et.decimal===void 0?".":et.decimal+"",at=et.numerals===void 0?identity$5:formatNumerals(map$3.call(et.numerals,String)),ot=et.percent===void 0?"%":et.percent+"",st=et.minus===void 0?"−":et.minus+"",lt=et.nan===void 0?"NaN":et.nan+"";function ct(ft){ft=formatSpecifier(ft);var ht=ft.fill,dt=ft.align,vt=ft.sign,yt=ft.symbol,xt=ft.zero,_t=ft.width,mt=ft.comma,pt=ft.precision,bt=ft.trim,Et=ft.type;Et==="n"?(mt=!0,Et="g"):formatTypes[Et]||(pt===void 0&&(pt=12),bt=!0,Et="g"),(xt||ht==="0"&&dt==="=")&&(xt=!0,ht="0",dt="=");var St=yt==="$"?rt:yt==="#"&&/[boxX]/.test(Et)?"0"+Et.toLowerCase():"",Tt=yt==="$"?nt:/[%p]/.test(Et)?ot:"",Pt=formatTypes[Et],Rt=/[defgprs%]/.test(Et);pt=pt===void 0?6:/[gprs]/.test(Et)?Math.max(1,Math.min(21,pt)):Math.max(0,Math.min(20,pt));function It($t){var kt=St,Ct=Tt,Bt,Ft,Dt;if(Et==="c")Ct=Pt($t)+Ct,$t="";else{$t=+$t;var Mt=$t<0||1/$t<0;if($t=isNaN($t)?lt:Pt(Math.abs($t),pt),bt&&($t=formatTrim($t)),Mt&&+$t==0&&vt!=="+"&&(Mt=!1),kt=(Mt?vt==="("?vt:st:vt==="-"||vt==="("?"":vt)+kt,Ct=(Et==="s"?prefixes[8+prefixExponent/3]:"")+Ct+(Mt&&vt==="("?")":""),Rt){for(Bt=-1,Ft=$t.length;++Bt<Ft;)if(Dt=$t.charCodeAt(Bt),48>Dt||Dt>57){Ct=(Dt===46?it+$t.slice(Bt+1):$t.slice(Bt))+Ct,$t=$t.slice(0,Bt);break}}}mt&&!xt&&($t=tt($t,1/0));var wt=kt.length+$t.length+Ct.length,Ot=wt<_t?new Array(_t-wt+1).join(ht):"";switch(mt&&xt&&($t=tt(Ot+$t,Ot.length?_t-Ct.length:1/0),Ot=""),dt){case"<":$t=kt+$t+Ct+Ot;break;case"=":$t=kt+Ot+$t+Ct;break;case"^":$t=Ot.slice(0,wt=Ot.length>>1)+kt+$t+Ct+Ot.slice(wt);break;default:$t=Ot+kt+$t+Ct;break}return at($t)}return It.toString=function(){return ft+""},It}function ut(ft,ht){var dt=ct((ft=formatSpecifier(ft),ft.type="f",ft)),vt=Math.max(-8,Math.min(8,Math.floor(exponent(ht)/3)))*3,yt=Math.pow(10,-vt),xt=prefixes[8+vt/3];return function(_t){return dt(yt*_t)+xt}}return{format:ct,formatPrefix:ut}}var locale$1,format,formatPrefix;defaultLocale$1({thousands:",",grouping:[3],currency:["$",""]});function defaultLocale$1(et){return locale$1=formatLocale$1(et),format=locale$1.format,formatPrefix=locale$1.formatPrefix,locale$1}function precisionFixed(et){return Math.max(0,-exponent(Math.abs(et)))}function precisionPrefix(et,tt){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(exponent(tt)/3)))*3-exponent(Math.abs(et)))}function precisionRound(et,tt){return et=Math.abs(et),tt=Math.abs(tt)-et,Math.max(0,exponent(tt)-exponent(et))+1}function tickFormat(et,tt,rt,nt){var it=tickStep(et,tt,rt),at;switch(nt=formatSpecifier(nt??",f"),nt.type){case"s":{var ot=Math.max(Math.abs(et),Math.abs(tt));return nt.precision==null&&!isNaN(at=precisionPrefix(it,ot))&&(nt.precision=at),formatPrefix(nt,ot)}case"":case"e":case"g":case"p":case"r":{nt.precision==null&&!isNaN(at=precisionRound(it,Math.max(Math.abs(et),Math.abs(tt))))&&(nt.precision=at-(nt.type==="e"));break}case"f":case"%":{nt.precision==null&&!isNaN(at=precisionFixed(it))&&(nt.precision=at-(nt.type==="%")*2);break}}return format(nt)}function linearish(et){var tt=et.domain;return et.ticks=function(rt){var nt=tt();return ticks(nt[0],nt[nt.length-1],rt??10)},et.tickFormat=function(rt,nt){var it=tt();return tickFormat(it[0],it[it.length-1],rt??10,nt)},et.nice=function(rt){rt==null&&(rt=10);var nt=tt(),it=0,at=nt.length-1,ot=nt[it],st=nt[at],lt,ct,ut=10;for(st<ot&&(ct=ot,ot=st,st=ct,ct=it,it=at,at=ct);ut-- >0;){if(ct=tickIncrement(ot,st,rt),ct===lt)return nt[it]=ot,nt[at]=st,tt(nt);if(ct>0)ot=Math.floor(ot/ct)*ct,st=Math.ceil(st/ct)*ct;else if(ct<0)ot=Math.ceil(ot*ct)/ct,st=Math.floor(st*ct)/ct;else break;lt=ct}return et},et}function linear(){var et=continuous();return et.copy=function(){return copy$1(et,linear())},initRange.apply(et,arguments),linearish(et)}function identity$4(et){var tt;function rt(nt){return nt==null||isNaN(nt=+nt)?tt:nt}return rt.invert=rt,rt.domain=rt.range=function(nt){return arguments.length?(et=Array.from(nt,number$1),rt):et.slice()},rt.unknown=function(nt){return arguments.length?(tt=nt,rt):tt},rt.copy=function(){return identity$4(et).unknown(tt)},et=arguments.length?Array.from(et,number$1):[0,1],linearish(rt)}function nice(et,tt){et=et.slice();var rt=0,nt=et.length-1,it=et[rt],at=et[nt],ot;return at<it&&(ot=rt,rt=nt,nt=ot,ot=it,it=at,at=ot),et[rt]=tt.floor(it),et[nt]=tt.ceil(at),et}function transformLog(et){return Math.log(et)}function transformExp(et){return Math.exp(et)}function transformLogn(et){return-Math.log(-et)}function transformExpn(et){return-Math.exp(-et)}function pow10(et){return isFinite(et)?+("1e"+et):et<0?0:et}function powp(et){return et===10?pow10:et===Math.E?Math.exp:tt=>Math.pow(et,tt)}function logp(et){return et===Math.E?Math.log:et===10&&Math.log10||et===2&&Math.log2||(et=Math.log(et),tt=>Math.log(tt)/et)}function reflect(et){return(tt,rt)=>-et(-tt,rt)}function loggish(et){const tt=et(transformLog,transformExp),rt=tt.domain;let nt=10,it,at;function ot(){return it=logp(nt),at=powp(nt),rt()[0]<0?(it=reflect(it),at=reflect(at),et(transformLogn,transformExpn)):et(transformLog,transformExp),tt}return tt.base=function(st){return arguments.length?(nt=+st,ot()):nt},tt.domain=function(st){return arguments.length?(rt(st),ot()):rt()},tt.ticks=st=>{const lt=rt();let ct=lt[0],ut=lt[lt.length-1];const ft=ut<ct;ft&&([ct,ut]=[ut,ct]);let ht=it(ct),dt=it(ut),vt,yt;const xt=st==null?10:+st;let _t=[];if(!(nt%1)&&dt-ht<xt){if(ht=Math.floor(ht),dt=Math.ceil(dt),ct>0){for(;ht<=dt;++ht)for(vt=1;vt<nt;++vt)if(yt=ht<0?vt/at(-ht):vt*at(ht),!(yt<ct)){if(yt>ut)break;_t.push(yt)}}else for(;ht<=dt;++ht)for(vt=nt-1;vt>=1;--vt)if(yt=ht>0?vt/at(-ht):vt*at(ht),!(yt<ct)){if(yt>ut)break;_t.push(yt)}_t.length*2<xt&&(_t=ticks(ct,ut,xt))}else _t=ticks(ht,dt,Math.min(dt-ht,xt)).map(at);return ft?_t.reverse():_t},tt.tickFormat=(st,lt)=>{if(st==null&&(st=10),lt==null&&(lt=nt===10?"s":","),typeof lt!="function"&&(!(nt%1)&&(lt=formatSpecifier(lt)).precision==null&&(lt.trim=!0),lt=format(lt)),st===1/0)return lt;const ct=Math.max(1,nt*st/tt.ticks().length);return ut=>{let ft=ut/at(Math.round(it(ut)));return ft*nt<nt-.5&&(ft*=nt),ft<=ct?lt(ut):""}},tt.nice=()=>rt(nice(rt(),{floor:st=>at(Math.floor(it(st))),ceil:st=>at(Math.ceil(it(st)))})),tt}function log(){const et=loggish(transformer$2()).domain([1,10]);return et.copy=()=>copy$1(et,log()).base(et.base()),initRange.apply(et,arguments),et}function transformSymlog(et){return function(tt){return Math.sign(tt)*Math.log1p(Math.abs(tt/et))}}function transformSymexp(et){return function(tt){return Math.sign(tt)*Math.expm1(Math.abs(tt))*et}}function symlogish(et){var tt=1,rt=et(transformSymlog(tt),transformSymexp(tt));return rt.constant=function(nt){return arguments.length?et(transformSymlog(tt=+nt),transformSymexp(tt)):tt},linearish(rt)}function symlog(){var et=symlogish(transformer$2());return et.copy=function(){return copy$1(et,symlog()).constant(et.constant())},initRange.apply(et,arguments)}function transformPow(et){return function(tt){return tt<0?-Math.pow(-tt,et):Math.pow(tt,et)}}function transformSqrt(et){return et<0?-Math.sqrt(-et):Math.sqrt(et)}function transformSquare(et){return et<0?-et*et:et*et}function powish(et){var tt=et(identity$6,identity$6),rt=1;function nt(){return rt===1?et(identity$6,identity$6):rt===.5?et(transformSqrt,transformSquare):et(transformPow(rt),transformPow(1/rt))}return tt.exponent=function(it){return arguments.length?(rt=+it,nt()):rt},linearish(tt)}function pow(){var et=powish(transformer$2());return et.copy=function(){return copy$1(et,pow()).exponent(et.exponent())},initRange.apply(et,arguments),et}function sqrt(){return pow.apply(null,arguments).exponent(.5)}function square(et){return Math.sign(et)*et*et}function unsquare(et){return Math.sign(et)*Math.sqrt(Math.abs(et))}function radial(){var et=continuous(),tt=[0,1],rt=!1,nt;function it(at){var ot=unsquare(et(at));return isNaN(ot)?nt:rt?Math.round(ot):ot}return it.invert=function(at){return et.invert(square(at))},it.domain=function(at){return arguments.length?(et.domain(at),it):et.domain()},it.range=function(at){return arguments.length?(et.range((tt=Array.from(at,number$1)).map(square)),it):tt.slice()},it.rangeRound=function(at){return it.range(at).round(!0)},it.round=function(at){return arguments.length?(rt=!!at,it):rt},it.clamp=function(at){return arguments.length?(et.clamp(at),it):et.clamp()},it.unknown=function(at){return arguments.length?(nt=at,it):nt},it.copy=function(){return radial(et.domain(),tt).round(rt).clamp(et.clamp()).unknown(nt)},initRange.apply(it,arguments),linearish(it)}function quantile(){var et=[],tt=[],rt=[],nt;function it(){var ot=0,st=Math.max(1,tt.length);for(rt=new Array(st-1);++ot<st;)rt[ot-1]=quantileSorted(et,ot/st);return at}function at(ot){return ot==null||isNaN(ot=+ot)?nt:tt[bisectRight(rt,ot)]}return at.invertExtent=function(ot){var st=tt.indexOf(ot);return st<0?[NaN,NaN]:[st>0?rt[st-1]:et[0],st<rt.length?rt[st]:et[et.length-1]]},at.domain=function(ot){if(!arguments.length)return et.slice();et=[];for(let st of ot)st!=null&&!isNaN(st=+st)&&et.push(st);return et.sort(ascending),it()},at.range=function(ot){return arguments.length?(tt=Array.from(ot),it()):tt.slice()},at.unknown=function(ot){return arguments.length?(nt=ot,at):nt},at.quantiles=function(){return rt.slice()},at.copy=function(){return quantile().domain(et).range(tt).unknown(nt)},initRange.apply(at,arguments)}function quantize(){var et=0,tt=1,rt=1,nt=[.5],it=[0,1],at;function ot(lt){return lt!=null&&lt<=lt?it[bisectRight(nt,lt,0,rt)]:at}function st(){var lt=-1;for(nt=new Array(rt);++lt<rt;)nt[lt]=((lt+1)*tt-(lt-rt)*et)/(rt+1);return ot}return ot.domain=function(lt){return arguments.length?([et,tt]=lt,et=+et,tt=+tt,st()):[et,tt]},ot.range=function(lt){return arguments.length?(rt=(it=Array.from(lt)).length-1,st()):it.slice()},ot.invertExtent=function(lt){var ct=it.indexOf(lt);return ct<0?[NaN,NaN]:ct<1?[et,nt[0]]:ct>=rt?[nt[rt-1],tt]:[nt[ct-1],nt[ct]]},ot.unknown=function(lt){return arguments.length&&(at=lt),ot},ot.thresholds=function(){return nt.slice()},ot.copy=function(){return quantize().domain([et,tt]).range(it).unknown(at)},initRange.apply(linearish(ot),arguments)}function threshold(){var et=[.5],tt=[0,1],rt,nt=1;function it(at){return at!=null&&at<=at?tt[bisectRight(et,at,0,nt)]:rt}return it.domain=function(at){return arguments.length?(et=Array.from(at),nt=Math.min(et.length,tt.length-1),it):et.slice()},it.range=function(at){return arguments.length?(tt=Array.from(at),nt=Math.min(et.length,tt.length-1),it):tt.slice()},it.invertExtent=function(at){var ot=tt.indexOf(at);return[et[ot-1],et[ot]]},it.unknown=function(at){return arguments.length?(rt=at,it):rt},it.copy=function(){return threshold().domain(et).range(tt).unknown(rt)},initRange.apply(it,arguments)}const t0=new Date,t1=new Date;function timeInterval(et,tt,rt,nt){function it(at){return et(at=arguments.length===0?new Date:new Date(+at)),at}return it.floor=at=>(et(at=new Date(+at)),at),it.ceil=at=>(et(at=new Date(at-1)),tt(at,1),et(at),at),it.round=at=>{const ot=it(at),st=it.ceil(at);return at-ot<st-at?ot:st},it.offset=(at,ot)=>(tt(at=new Date(+at),ot==null?1:Math.floor(ot)),at),it.range=(at,ot,st)=>{const lt=[];if(at=it.ceil(at),st=st==null?1:Math.floor(st),!(at<ot)||!(st>0))return lt;let ct;do lt.push(ct=new Date(+at)),tt(at,st),et(at);while(ct<at&&at<ot);return lt},it.filter=at=>timeInterval(ot=>{if(ot>=ot)for(;et(ot),!at(ot);)ot.setTime(ot-1)},(ot,st)=>{if(ot>=ot)if(st<0)for(;++st<=0;)for(;tt(ot,-1),!at(ot););else for(;--st>=0;)for(;tt(ot,1),!at(ot););}),rt&&(it.count=(at,ot)=>(t0.setTime(+at),t1.setTime(+ot),et(t0),et(t1),Math.floor(rt(t0,t1))),it.every=at=>(at=Math.floor(at),!isFinite(at)||!(at>0)?null:at>1?it.filter(nt?ot=>nt(ot)%at===0:ot=>it.count(0,ot)%at===0):it)),it}const millisecond=timeInterval(()=>{},(et,tt)=>{et.setTime(+et+tt)},(et,tt)=>tt-et);millisecond.every=et=>(et=Math.floor(et),!isFinite(et)||!(et>0)?null:et>1?timeInterval(tt=>{tt.setTime(Math.floor(tt/et)*et)},(tt,rt)=>{tt.setTime(+tt+rt*et)},(tt,rt)=>(rt-tt)/et):millisecond);millisecond.range;const durationSecond=1e3,durationMinute=durationSecond*60,durationHour=durationMinute*60,durationDay=durationHour*24,durationWeek=durationDay*7,durationMonth=durationDay*30,durationYear=durationDay*365,second=timeInterval(et=>{et.setTime(et-et.getMilliseconds())},(et,tt)=>{et.setTime(+et+tt*durationSecond)},(et,tt)=>(tt-et)/durationSecond,et=>et.getUTCSeconds());second.range;const timeMinute=timeInterval(et=>{et.setTime(et-et.getMilliseconds()-et.getSeconds()*durationSecond)},(et,tt)=>{et.setTime(+et+tt*durationMinute)},(et,tt)=>(tt-et)/durationMinute,et=>et.getMinutes());timeMinute.range;const utcMinute=timeInterval(et=>{et.setUTCSeconds(0,0)},(et,tt)=>{et.setTime(+et+tt*durationMinute)},(et,tt)=>(tt-et)/durationMinute,et=>et.getUTCMinutes());utcMinute.range;const timeHour=timeInterval(et=>{et.setTime(et-et.getMilliseconds()-et.getSeconds()*durationSecond-et.getMinutes()*durationMinute)},(et,tt)=>{et.setTime(+et+tt*durationHour)},(et,tt)=>(tt-et)/durationHour,et=>et.getHours());timeHour.range;const utcHour=timeInterval(et=>{et.setUTCMinutes(0,0,0)},(et,tt)=>{et.setTime(+et+tt*durationHour)},(et,tt)=>(tt-et)/durationHour,et=>et.getUTCHours());utcHour.range;const timeDay=timeInterval(et=>et.setHours(0,0,0,0),(et,tt)=>et.setDate(et.getDate()+tt),(et,tt)=>(tt-et-(tt.getTimezoneOffset()-et.getTimezoneOffset())*durationMinute)/durationDay,et=>et.getDate()-1);timeDay.range;const utcDay=timeInterval(et=>{et.setUTCHours(0,0,0,0)},(et,tt)=>{et.setUTCDate(et.getUTCDate()+tt)},(et,tt)=>(tt-et)/durationDay,et=>et.getUTCDate()-1);utcDay.range;const unixDay=timeInterval(et=>{et.setUTCHours(0,0,0,0)},(et,tt)=>{et.setUTCDate(et.getUTCDate()+tt)},(et,tt)=>(tt-et)/durationDay,et=>Math.floor(et/durationDay));unixDay.range;function timeWeekday(et){return timeInterval(tt=>{tt.setDate(tt.getDate()-(tt.getDay()+7-et)%7),tt.setHours(0,0,0,0)},(tt,rt)=>{tt.setDate(tt.getDate()+rt*7)},(tt,rt)=>(rt-tt-(rt.getTimezoneOffset()-tt.getTimezoneOffset())*durationMinute)/durationWeek)}const timeSunday=timeWeekday(0),timeMonday=timeWeekday(1),timeTuesday=timeWeekday(2),timeWednesday=timeWeekday(3),timeThursday=timeWeekday(4),timeFriday=timeWeekday(5),timeSaturday=timeWeekday(6);timeSunday.range;timeMonday.range;timeTuesday.range;timeWednesday.range;timeThursday.range;timeFriday.range;timeSaturday.range;function utcWeekday(et){return timeInterval(tt=>{tt.setUTCDate(tt.getUTCDate()-(tt.getUTCDay()+7-et)%7),tt.setUTCHours(0,0,0,0)},(tt,rt)=>{tt.setUTCDate(tt.getUTCDate()+rt*7)},(tt,rt)=>(rt-tt)/durationWeek)}const utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6);utcSunday.range;utcMonday.range;utcTuesday.range;utcWednesday.range;utcThursday.range;utcFriday.range;utcSaturday.range;const timeMonth=timeInterval(et=>{et.setDate(1),et.setHours(0,0,0,0)},(et,tt)=>{et.setMonth(et.getMonth()+tt)},(et,tt)=>tt.getMonth()-et.getMonth()+(tt.getFullYear()-et.getFullYear())*12,et=>et.getMonth());timeMonth.range;const utcMonth=timeInterval(et=>{et.setUTCDate(1),et.setUTCHours(0,0,0,0)},(et,tt)=>{et.setUTCMonth(et.getUTCMonth()+tt)},(et,tt)=>tt.getUTCMonth()-et.getUTCMonth()+(tt.getUTCFullYear()-et.getUTCFullYear())*12,et=>et.getUTCMonth());utcMonth.range;const timeYear=timeInterval(et=>{et.setMonth(0,1),et.setHours(0,0,0,0)},(et,tt)=>{et.setFullYear(et.getFullYear()+tt)},(et,tt)=>tt.getFullYear()-et.getFullYear(),et=>et.getFullYear());timeYear.every=et=>!isFinite(et=Math.floor(et))||!(et>0)?null:timeInterval(tt=>{tt.setFullYear(Math.floor(tt.getFullYear()/et)*et),tt.setMonth(0,1),tt.setHours(0,0,0,0)},(tt,rt)=>{tt.setFullYear(tt.getFullYear()+rt*et)});timeYear.range;const utcYear=timeInterval(et=>{et.setUTCMonth(0,1),et.setUTCHours(0,0,0,0)},(et,tt)=>{et.setUTCFullYear(et.getUTCFullYear()+tt)},(et,tt)=>tt.getUTCFullYear()-et.getUTCFullYear(),et=>et.getUTCFullYear());utcYear.every=et=>!isFinite(et=Math.floor(et))||!(et>0)?null:timeInterval(tt=>{tt.setUTCFullYear(Math.floor(tt.getUTCFullYear()/et)*et),tt.setUTCMonth(0,1),tt.setUTCHours(0,0,0,0)},(tt,rt)=>{tt.setUTCFullYear(tt.getUTCFullYear()+rt*et)});utcYear.range;function ticker(et,tt,rt,nt,it,at){const ot=[[second,1,durationSecond],[second,5,5*durationSecond],[second,15,15*durationSecond],[second,30,30*durationSecond],[at,1,durationMinute],[at,5,5*durationMinute],[at,15,15*durationMinute],[at,30,30*durationMinute],[it,1,durationHour],[it,3,3*durationHour],[it,6,6*durationHour],[it,12,12*durationHour],[nt,1,durationDay],[nt,2,2*durationDay],[rt,1,durationWeek],[tt,1,durationMonth],[tt,3,3*durationMonth],[et,1,durationYear]];function st(ct,ut,ft){const ht=ut<ct;ht&&([ct,ut]=[ut,ct]);const dt=ft&&typeof ft.range=="function"?ft:lt(ct,ut,ft),vt=dt?dt.range(ct,+ut+1):[];return ht?vt.reverse():vt}function lt(ct,ut,ft){const ht=Math.abs(ut-ct)/ft,dt=bisector(([,,xt])=>xt).right(ot,ht);if(dt===ot.length)return et.every(tickStep(ct/durationYear,ut/durationYear,ft));if(dt===0)return millisecond.every(Math.max(tickStep(ct,ut,ft),1));const[vt,yt]=ot[ht/ot[dt-1][2]<ot[dt][2]/ht?dt-1:dt];return vt.every(yt)}return[st,lt]}const[utcTicks,utcTickInterval]=ticker(utcYear,utcMonth,utcSunday,unixDay,utcHour,utcMinute),[timeTicks,timeTickInterval]=ticker(timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute);function localDate(et){if(0<=et.y&&et.y<100){var tt=new Date(-1,et.m,et.d,et.H,et.M,et.S,et.L);return tt.setFullYear(et.y),tt}return new Date(et.y,et.m,et.d,et.H,et.M,et.S,et.L)}function utcDate(et){if(0<=et.y&&et.y<100){var tt=new Date(Date.UTC(-1,et.m,et.d,et.H,et.M,et.S,et.L));return tt.setUTCFullYear(et.y),tt}return new Date(Date.UTC(et.y,et.m,et.d,et.H,et.M,et.S,et.L))}function newDate(et,tt,rt){return{y:et,m:tt,d:rt,H:0,M:0,S:0,L:0}}function formatLocale(et){var tt=et.dateTime,rt=et.date,nt=et.time,it=et.periods,at=et.days,ot=et.shortDays,st=et.months,lt=et.shortMonths,ct=formatRe(it),ut=formatLookup(it),ft=formatRe(at),ht=formatLookup(at),dt=formatRe(ot),vt=formatLookup(ot),yt=formatRe(st),xt=formatLookup(st),_t=formatRe(lt),mt=formatLookup(lt),pt={a:Mt,A:wt,b:Ot,B:Lt,c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:Vt,q:zt,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},bt={a:Yt,A:nr,b:cr,B:hr,c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:Jt,q:ur,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},Et={a:It,A:$t,b:kt,B:Ct,c:Bt,d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:Rt,q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:Ft,X:Dt,y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};pt.x=St(rt,pt),pt.X=St(nt,pt),pt.c=St(tt,pt),bt.x=St(rt,bt),bt.X=St(nt,bt),bt.c=St(tt,bt);function St(Xt,Zt){return function(ir){var Wt=[],sr=-1,Qt=0,_r=Xt.length,br,Er,Ut;for(ir instanceof Date||(ir=new Date(+ir));++sr<_r;)Xt.charCodeAt(sr)===37&&(Wt.push(Xt.slice(Qt,sr)),(Er=pads[br=Xt.charAt(++sr)])!=null?br=Xt.charAt(++sr):Er=br==="e"?" ":"0",(Ut=Zt[br])&&(br=Ut(ir,Er)),Wt.push(br),Qt=sr+1);return Wt.push(Xt.slice(Qt,sr)),Wt.join("")}}function Tt(Xt,Zt){return function(ir){var Wt=newDate(1900,void 0,1),sr=Pt(Wt,Xt,ir+="",0),Qt,_r;if(sr!=ir.length)return null;if("Q"in Wt)return new Date(Wt.Q);if("s"in Wt)return new Date(Wt.s*1e3+("L"in Wt?Wt.L:0));if(Zt&&!("Z"in Wt)&&(Wt.Z=0),"p"in Wt&&(Wt.H=Wt.H%12+Wt.p*12),Wt.m===void 0&&(Wt.m="q"in Wt?Wt.q:0),"V"in Wt){if(Wt.V<1||Wt.V>53)return null;"w"in Wt||(Wt.w=1),"Z"in Wt?(Qt=utcDate(newDate(Wt.y,0,1)),_r=Qt.getUTCDay(),Qt=_r>4||_r===0?utcMonday.ceil(Qt):utcMonday(Qt),Qt=utcDay.offset(Qt,(Wt.V-1)*7),Wt.y=Qt.getUTCFullYear(),Wt.m=Qt.getUTCMonth(),Wt.d=Qt.getUTCDate()+(Wt.w+6)%7):(Qt=localDate(newDate(Wt.y,0,1)),_r=Qt.getDay(),Qt=_r>4||_r===0?timeMonday.ceil(Qt):timeMonday(Qt),Qt=timeDay.offset(Qt,(Wt.V-1)*7),Wt.y=Qt.getFullYear(),Wt.m=Qt.getMonth(),Wt.d=Qt.getDate()+(Wt.w+6)%7)}else("W"in Wt||"U"in Wt)&&("w"in Wt||(Wt.w="u"in Wt?Wt.u%7:"W"in Wt?1:0),_r="Z"in Wt?utcDate(newDate(Wt.y,0,1)).getUTCDay():localDate(newDate(Wt.y,0,1)).getDay(),Wt.m=0,Wt.d="W"in Wt?(Wt.w+6)%7+Wt.W*7-(_r+5)%7:Wt.w+Wt.U*7-(_r+6)%7);return"Z"in Wt?(Wt.H+=Wt.Z/100|0,Wt.M+=Wt.Z%100,utcDate(Wt)):localDate(Wt)}}function Pt(Xt,Zt,ir,Wt){for(var sr=0,Qt=Zt.length,_r=ir.length,br,Er;sr<Qt;){if(Wt>=_r)return-1;if(br=Zt.charCodeAt(sr++),br===37){if(br=Zt.charAt(sr++),Er=Et[br in pads?Zt.charAt(sr++):br],!Er||(Wt=Er(Xt,ir,Wt))<0)return-1}else if(br!=ir.charCodeAt(Wt++))return-1}return Wt}function Rt(Xt,Zt,ir){var Wt=ct.exec(Zt.slice(ir));return Wt?(Xt.p=ut.get(Wt[0].toLowerCase()),ir+Wt[0].length):-1}function It(Xt,Zt,ir){var Wt=dt.exec(Zt.slice(ir));return Wt?(Xt.w=vt.get(Wt[0].toLowerCase()),ir+Wt[0].length):-1}function $t(Xt,Zt,ir){var Wt=ft.exec(Zt.slice(ir));return Wt?(Xt.w=ht.get(Wt[0].toLowerCase()),ir+Wt[0].length):-1}function kt(Xt,Zt,ir){var Wt=_t.exec(Zt.slice(ir));return Wt?(Xt.m=mt.get(Wt[0].toLowerCase()),ir+Wt[0].length):-1}function Ct(Xt,Zt,ir){var Wt=yt.exec(Zt.slice(ir));return Wt?(Xt.m=xt.get(Wt[0].toLowerCase()),ir+Wt[0].length):-1}function Bt(Xt,Zt,ir){return Pt(Xt,tt,Zt,ir)}function Ft(Xt,Zt,ir){return Pt(Xt,rt,Zt,ir)}function Dt(Xt,Zt,ir){return Pt(Xt,nt,Zt,ir)}function Mt(Xt){return ot[Xt.getDay()]}function wt(Xt){return at[Xt.getDay()]}function Ot(Xt){return lt[Xt.getMonth()]}function Lt(Xt){return st[Xt.getMonth()]}function Vt(Xt){return it[+(Xt.getHours()>=12)]}function zt(Xt){return 1+~~(Xt.getMonth()/3)}function Yt(Xt){return ot[Xt.getUTCDay()]}function nr(Xt){return at[Xt.getUTCDay()]}function cr(Xt){return lt[Xt.getUTCMonth()]}function hr(Xt){return st[Xt.getUTCMonth()]}function Jt(Xt){return it[+(Xt.getUTCHours()>=12)]}function ur(Xt){return 1+~~(Xt.getUTCMonth()/3)}return{format:function(Xt){var Zt=St(Xt+="",pt);return Zt.toString=function(){return Xt},Zt},parse:function(Xt){var Zt=Tt(Xt+="",!1);return Zt.toString=function(){return Xt},Zt},utcFormat:function(Xt){var Zt=St(Xt+="",bt);return Zt.toString=function(){return Xt},Zt},utcParse:function(Xt){var Zt=Tt(Xt+="",!0);return Zt.toString=function(){return Xt},Zt}}}var pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad(et,tt,rt){var nt=et<0?"-":"",it=(nt?-et:et)+"",at=it.length;return nt+(at<rt?new Array(rt-at+1).join(tt)+it:it)}function requote(et){return et.replace(requoteRe,"\\$&")}function formatRe(et){return new RegExp("^(?:"+et.map(requote).join("|")+")","i")}function formatLookup(et){return new Map(et.map((tt,rt)=>[tt.toLowerCase(),rt]))}function parseWeekdayNumberSunday(et,tt,rt){var nt=numberRe.exec(tt.slice(rt,rt+1));return nt?(et.w=+nt[0],rt+nt[0].length):-1}function parseWeekdayNumberMonday(et,tt,rt){var nt=numberRe.exec(tt.slice(rt,rt+1));return nt?(et.u=+nt[0],rt+nt[0].length):-1}function parseWeekNumberSunday(et,tt,rt){var nt=numberRe.exec(tt.slice(rt,rt+2));return nt?(et.U=+nt[0],rt+nt[0].length):-1}function parseWeekNumberISO(et,tt,rt){var nt=numberRe.exec(tt.slice(rt,rt+2));return nt?(et.V=+nt[0],rt+nt[0].length):-1}function parseWeekNumberMonday(et,tt,rt){var nt=numberRe.exec(tt.slice(rt,rt+2));return nt?(et.W=+nt[0],rt+nt[0].length):-1}function parseFullYear(et,tt,rt){var nt=numberRe.exec(tt.slice(rt,rt+4));return nt?(et.y=+nt[0],rt+nt[0].length):-1}function parseYear(et,tt,rt){var nt=numberRe.exec(tt.slice(rt,rt+2));return nt?(et.y=+nt[0]+(+nt[0]>68?1900:2e3),rt+nt[0].length):-1}function parseZone(et,tt,rt){var nt=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(tt.slice(rt,rt+6));return nt?(et.Z=nt[1]?0:-(nt[2]+(nt[3]||"00")),rt+nt[0].length):-1}function parseQuarter(et,tt,rt){var nt=numberRe.exec(tt.slice(rt,rt+1));return nt?(et.q=nt[0]*3-3,rt+nt[0].length):-1}function parseMonthNumber(et,tt,rt){var nt=numberRe.exec(tt.slice(rt,rt+2));return nt?(et.m=nt[0]-1,rt+nt[0].length):-1}function parseDayOfMonth(et,tt,rt){var nt=numberRe.exec(tt.slice(rt,rt+2));return nt?(et.d=+nt[0],rt+nt[0].length):-1}function parseDayOfYear(et,tt,rt){var nt=numberRe.exec(tt.slice(rt,rt+3));return nt?(et.m=0,et.d=+nt[0],rt+nt[0].length):-1}function parseHour24(et,tt,rt){var nt=numberRe.exec(tt.slice(rt,rt+2));return nt?(et.H=+nt[0],rt+nt[0].length):-1}function parseMinutes(et,tt,rt){var nt=numberRe.exec(tt.slice(rt,rt+2));return nt?(et.M=+nt[0],rt+nt[0].length):-1}function parseSeconds(et,tt,rt){var nt=numberRe.exec(tt.slice(rt,rt+2));return nt?(et.S=+nt[0],rt+nt[0].length):-1}function parseMilliseconds(et,tt,rt){var nt=numberRe.exec(tt.slice(rt,rt+3));return nt?(et.L=+nt[0],rt+nt[0].length):-1}function parseMicroseconds(et,tt,rt){var nt=numberRe.exec(tt.slice(rt,rt+6));return nt?(et.L=Math.floor(nt[0]/1e3),rt+nt[0].length):-1}function parseLiteralPercent(et,tt,rt){var nt=percentRe.exec(tt.slice(rt,rt+1));return nt?rt+nt[0].length:-1}function parseUnixTimestamp(et,tt,rt){var nt=numberRe.exec(tt.slice(rt));return nt?(et.Q=+nt[0],rt+nt[0].length):-1}function parseUnixTimestampSeconds(et,tt,rt){var nt=numberRe.exec(tt.slice(rt));return nt?(et.s=+nt[0],rt+nt[0].length):-1}function formatDayOfMonth(et,tt){return pad(et.getDate(),tt,2)}function formatHour24(et,tt){return pad(et.getHours(),tt,2)}function formatHour12(et,tt){return pad(et.getHours()%12||12,tt,2)}function formatDayOfYear(et,tt){return pad(1+timeDay.count(timeYear(et),et),tt,3)}function formatMilliseconds(et,tt){return pad(et.getMilliseconds(),tt,3)}function formatMicroseconds(et,tt){return formatMilliseconds(et,tt)+"000"}function formatMonthNumber(et,tt){return pad(et.getMonth()+1,tt,2)}function formatMinutes(et,tt){return pad(et.getMinutes(),tt,2)}function formatSeconds(et,tt){return pad(et.getSeconds(),tt,2)}function formatWeekdayNumberMonday(et){var tt=et.getDay();return tt===0?7:tt}function formatWeekNumberSunday(et,tt){return pad(timeSunday.count(timeYear(et)-1,et),tt,2)}function dISO(et){var tt=et.getDay();return tt>=4||tt===0?timeThursday(et):timeThursday.ceil(et)}function formatWeekNumberISO(et,tt){return et=dISO(et),pad(timeThursday.count(timeYear(et),et)+(timeYear(et).getDay()===4),tt,2)}function formatWeekdayNumberSunday(et){return et.getDay()}function formatWeekNumberMonday(et,tt){return pad(timeMonday.count(timeYear(et)-1,et),tt,2)}function formatYear(et,tt){return pad(et.getFullYear()%100,tt,2)}function formatYearISO(et,tt){return et=dISO(et),pad(et.getFullYear()%100,tt,2)}function formatFullYear(et,tt){return pad(et.getFullYear()%1e4,tt,4)}function formatFullYearISO(et,tt){var rt=et.getDay();return et=rt>=4||rt===0?timeThursday(et):timeThursday.ceil(et),pad(et.getFullYear()%1e4,tt,4)}function formatZone(et){var tt=et.getTimezoneOffset();return(tt>0?"-":(tt*=-1,"+"))+pad(tt/60|0,"0",2)+pad(tt%60,"0",2)}function formatUTCDayOfMonth(et,tt){return pad(et.getUTCDate(),tt,2)}function formatUTCHour24(et,tt){return pad(et.getUTCHours(),tt,2)}function formatUTCHour12(et,tt){return pad(et.getUTCHours()%12||12,tt,2)}function formatUTCDayOfYear(et,tt){return pad(1+utcDay.count(utcYear(et),et),tt,3)}function formatUTCMilliseconds(et,tt){return pad(et.getUTCMilliseconds(),tt,3)}function formatUTCMicroseconds(et,tt){return formatUTCMilliseconds(et,tt)+"000"}function formatUTCMonthNumber(et,tt){return pad(et.getUTCMonth()+1,tt,2)}function formatUTCMinutes(et,tt){return pad(et.getUTCMinutes(),tt,2)}function formatUTCSeconds(et,tt){return pad(et.getUTCSeconds(),tt,2)}function formatUTCWeekdayNumberMonday(et){var tt=et.getUTCDay();return tt===0?7:tt}function formatUTCWeekNumberSunday(et,tt){return pad(utcSunday.count(utcYear(et)-1,et),tt,2)}function UTCdISO(et){var tt=et.getUTCDay();return tt>=4||tt===0?utcThursday(et):utcThursday.ceil(et)}function formatUTCWeekNumberISO(et,tt){return et=UTCdISO(et),pad(utcThursday.count(utcYear(et),et)+(utcYear(et).getUTCDay()===4),tt,2)}function formatUTCWeekdayNumberSunday(et){return et.getUTCDay()}function formatUTCWeekNumberMonday(et,tt){return pad(utcMonday.count(utcYear(et)-1,et),tt,2)}function formatUTCYear(et,tt){return pad(et.getUTCFullYear()%100,tt,2)}function formatUTCYearISO(et,tt){return et=UTCdISO(et),pad(et.getUTCFullYear()%100,tt,2)}function formatUTCFullYear(et,tt){return pad(et.getUTCFullYear()%1e4,tt,4)}function formatUTCFullYearISO(et,tt){var rt=et.getUTCDay();return et=rt>=4||rt===0?utcThursday(et):utcThursday.ceil(et),pad(et.getUTCFullYear()%1e4,tt,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(et){return+et}function formatUnixTimestampSeconds(et){return Math.floor(+et/1e3)}var locale,timeFormat,utcFormat;defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function defaultLocale(et){return locale=formatLocale(et),timeFormat=locale.format,locale.parse,utcFormat=locale.utcFormat,locale.utcParse,locale}function date(et){return new Date(et)}function number(et){return et instanceof Date?+et:+new Date(+et)}function calendar(et,tt,rt,nt,it,at,ot,st,lt,ct){var ut=continuous(),ft=ut.invert,ht=ut.domain,dt=ct(".%L"),vt=ct(":%S"),yt=ct("%I:%M"),xt=ct("%I %p"),_t=ct("%a %d"),mt=ct("%b %d"),pt=ct("%B"),bt=ct("%Y");function Et(St){return(lt(St)<St?dt:st(St)<St?vt:ot(St)<St?yt:at(St)<St?xt:nt(St)<St?it(St)<St?_t:mt:rt(St)<St?pt:bt)(St)}return ut.invert=function(St){return new Date(ft(St))},ut.domain=function(St){return arguments.length?ht(Array.from(St,number)):ht().map(date)},ut.ticks=function(St){var Tt=ht();return et(Tt[0],Tt[Tt.length-1],St??10)},ut.tickFormat=function(St,Tt){return Tt==null?Et:ct(Tt)},ut.nice=function(St){var Tt=ht();return(!St||typeof St.range!="function")&&(St=tt(Tt[0],Tt[Tt.length-1],St??10)),St?ht(nice(Tt,St)):ut},ut.copy=function(){return copy$1(ut,calendar(et,tt,rt,nt,it,at,ot,st,lt,ct))},ut}function time(){return initRange.apply(calendar(timeTicks,timeTickInterval,timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute,second,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function utcTime(){return initRange.apply(calendar(utcTicks,utcTickInterval,utcYear,utcMonth,utcSunday,utcDay,utcHour,utcMinute,second,utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function transformer$1(){var et=0,tt=1,rt,nt,it,at,ot=identity$6,st=!1,lt;function ct(ft){return ft==null||isNaN(ft=+ft)?lt:ot(it===0?.5:(ft=(at(ft)-rt)*it,st?Math.max(0,Math.min(1,ft)):ft))}ct.domain=function(ft){return arguments.length?([et,tt]=ft,rt=at(et=+et),nt=at(tt=+tt),it=rt===nt?0:1/(nt-rt),ct):[et,tt]},ct.clamp=function(ft){return arguments.length?(st=!!ft,ct):st},ct.interpolator=function(ft){return arguments.length?(ot=ft,ct):ot};function ut(ft){return function(ht){var dt,vt;return arguments.length?([dt,vt]=ht,ot=ft(dt,vt),ct):[ot(0),ot(1)]}}return ct.range=ut(interpolate),ct.rangeRound=ut(interpolateRound),ct.unknown=function(ft){return arguments.length?(lt=ft,ct):lt},function(ft){return at=ft,rt=ft(et),nt=ft(tt),it=rt===nt?0:1/(nt-rt),ct}}function copy(et,tt){return tt.domain(et.domain()).interpolator(et.interpolator()).clamp(et.clamp()).unknown(et.unknown())}function sequential(){var et=linearish(transformer$1()(identity$6));return et.copy=function(){return copy(et,sequential())},initInterpolator.apply(et,arguments)}function sequentialLog(){var et=loggish(transformer$1()).domain([1,10]);return et.copy=function(){return copy(et,sequentialLog()).base(et.base())},initInterpolator.apply(et,arguments)}function sequentialSymlog(){var et=symlogish(transformer$1());return et.copy=function(){return copy(et,sequentialSymlog()).constant(et.constant())},initInterpolator.apply(et,arguments)}function sequentialPow(){var et=powish(transformer$1());return et.copy=function(){return copy(et,sequentialPow()).exponent(et.exponent())},initInterpolator.apply(et,arguments)}function sequentialSqrt(){return sequentialPow.apply(null,arguments).exponent(.5)}function sequentialQuantile(){var et=[],tt=identity$6;function rt(nt){if(nt!=null&&!isNaN(nt=+nt))return tt((bisectRight(et,nt,1)-1)/(et.length-1))}return rt.domain=function(nt){if(!arguments.length)return et.slice();et=[];for(let it of nt)it!=null&&!isNaN(it=+it)&&et.push(it);return et.sort(ascending),rt},rt.interpolator=function(nt){return arguments.length?(tt=nt,rt):tt},rt.range=function(){return et.map((nt,it)=>tt(it/(et.length-1)))},rt.quantiles=function(nt){return Array.from({length:nt+1},(it,at)=>quantile$1(et,at/nt))},rt.copy=function(){return sequentialQuantile(tt).domain(et)},initInterpolator.apply(rt,arguments)}function transformer(){var et=0,tt=.5,rt=1,nt=1,it,at,ot,st,lt,ct=identity$6,ut,ft=!1,ht;function dt(yt){return isNaN(yt=+yt)?ht:(yt=.5+((yt=+ut(yt))-at)*(nt*yt<nt*at?st:lt),ct(ft?Math.max(0,Math.min(1,yt)):yt))}dt.domain=function(yt){return arguments.length?([et,tt,rt]=yt,it=ut(et=+et),at=ut(tt=+tt),ot=ut(rt=+rt),st=it===at?0:.5/(at-it),lt=at===ot?0:.5/(ot-at),nt=at<it?-1:1,dt):[et,tt,rt]},dt.clamp=function(yt){return arguments.length?(ft=!!yt,dt):ft},dt.interpolator=function(yt){return arguments.length?(ct=yt,dt):ct};function vt(yt){return function(xt){var _t,mt,pt;return arguments.length?([_t,mt,pt]=xt,ct=piecewise(yt,[_t,mt,pt]),dt):[ct(0),ct(.5),ct(1)]}}return dt.range=vt(interpolate),dt.rangeRound=vt(interpolateRound),dt.unknown=function(yt){return arguments.length?(ht=yt,dt):ht},function(yt){return ut=yt,it=yt(et),at=yt(tt),ot=yt(rt),st=it===at?0:.5/(at-it),lt=at===ot?0:.5/(ot-at),nt=at<it?-1:1,dt}}function diverging(){var et=linearish(transformer()(identity$6));return et.copy=function(){return copy(et,diverging())},initInterpolator.apply(et,arguments)}function divergingLog(){var et=loggish(transformer()).domain([.1,1,10]);return et.copy=function(){return copy(et,divergingLog()).base(et.base())},initInterpolator.apply(et,arguments)}function divergingSymlog(){var et=symlogish(transformer());return et.copy=function(){return copy(et,divergingSymlog()).constant(et.constant())},initInterpolator.apply(et,arguments)}function divergingPow(){var et=powish(transformer());return et.copy=function(){return copy(et,divergingPow()).exponent(et.exponent())},initInterpolator.apply(et,arguments)}function divergingSqrt(){return divergingPow.apply(null,arguments).exponent(.5)}const d3Scales=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:band,scaleDiverging:diverging,scaleDivergingLog:divergingLog,scaleDivergingPow:divergingPow,scaleDivergingSqrt:divergingSqrt,scaleDivergingSymlog:divergingSymlog,scaleIdentity:identity$4,scaleImplicit:implicit,scaleLinear:linear,scaleLog:log,scaleOrdinal:ordinal,scalePoint:point,scalePow:pow,scaleQuantile:quantile,scaleQuantize:quantize,scaleRadial:radial,scaleSequential:sequential,scaleSequentialLog:sequentialLog,scaleSequentialPow:sequentialPow,scaleSequentialQuantile:sequentialQuantile,scaleSequentialSqrt:sequentialSqrt,scaleSequentialSymlog:sequentialSymlog,scaleSqrt:sqrt,scaleSymlog:symlog,scaleThreshold:threshold,scaleTime:time,scaleUtc:utcTime,tickFormat},Symbol.toStringTag,{value:"Module"}));var isSymbol=isSymbol_1;function baseExtremum$4(et,tt,rt){for(var nt=-1,it=et.length;++nt<it;){var at=et[nt],ot=tt(at);if(ot!=null&&(st===void 0?ot===ot&&!isSymbol(ot):rt(ot,st)))var st=ot,lt=at}return lt}var _baseExtremum=baseExtremum$4;function baseGt$2(et,tt){return et>tt}var _baseGt=baseGt$2,baseExtremum$3=_baseExtremum,baseGt$1=_baseGt,identity$3=identity_1;function max(et){return et&&et.length?baseExtremum$3(et,identity$3,baseGt$1):void 0}var max_1=max;const max$1=getDefaultExportFromCjs(max_1);function baseLt$2(et,tt){return et<tt}var _baseLt=baseLt$2,baseExtremum$2=_baseExtremum,baseLt$1=_baseLt,identity$2=identity_1;function min(et){return et&&et.length?baseExtremum$2(et,identity$2,baseLt$1):void 0}var min_1=min;const min$1=getDefaultExportFromCjs(min_1);var arrayMap=_arrayMap,baseIteratee$7=_baseIteratee,baseMap=_baseMap,isArray$3=isArray_1;function map$2(et,tt){var rt=isArray$3(et)?arrayMap:baseMap;return rt(et,baseIteratee$7(tt))}var map_1=map$2,baseFlatten=_baseFlatten,map$1=map_1;function flatMap(et,tt){return baseFlatten(map$1(et,tt),1)}var flatMap_1=flatMap;const flatMap$1=getDefaultExportFromCjs(flatMap_1);var baseIsEqual=_baseIsEqual;function isEqual(et,tt){return baseIsEqual(et,tt)}var isEqual_1=isEqual;const isEqual$1=getDefaultExportFromCjs(isEqual_1);var MAX_DIGITS=1e9,defaults={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Decimal,external=!0,decimalError="[DecimalError] ",invalidArgument=decimalError+"Invalid argument: ",exponentOutOfRange=decimalError+"Exponent out of range: ",mathfloor=Math.floor,mathpow=Math.pow,isDecimal=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ONE,BASE=1e7,LOG_BASE=7,MAX_SAFE_INTEGER=9007199254740991,MAX_E=mathfloor(MAX_SAFE_INTEGER/LOG_BASE),P={};P.absoluteValue=P.abs=function(){var et=new this.constructor(this);return et.s&&(et.s=1),et};P.comparedTo=P.cmp=function(et){var tt,rt,nt,it,at=this;if(et=new at.constructor(et),at.s!==et.s)return at.s||-et.s;if(at.e!==et.e)return at.e>et.e^at.s<0?1:-1;for(nt=at.d.length,it=et.d.length,tt=0,rt=nt<it?nt:it;tt<rt;++tt)if(at.d[tt]!==et.d[tt])return at.d[tt]>et.d[tt]^at.s<0?1:-1;return nt===it?0:nt>it^at.s<0?1:-1};P.decimalPlaces=P.dp=function(){var et=this,tt=et.d.length-1,rt=(tt-et.e)*LOG_BASE;if(tt=et.d[tt],tt)for(;tt%10==0;tt/=10)rt--;return rt<0?0:rt};P.dividedBy=P.div=function(et){return divide(this,new this.constructor(et))};P.dividedToIntegerBy=P.idiv=function(et){var tt=this,rt=tt.constructor;return round(divide(tt,new rt(et),0,1),rt.precision)};P.equals=P.eq=function(et){return!this.cmp(et)};P.exponent=function(){return getBase10Exponent(this)};P.greaterThan=P.gt=function(et){return this.cmp(et)>0};P.greaterThanOrEqualTo=P.gte=function(et){return this.cmp(et)>=0};P.isInteger=P.isint=function(){return this.e>this.d.length-2};P.isNegative=P.isneg=function(){return this.s<0};P.isPositive=P.ispos=function(){return this.s>0};P.isZero=function(){return this.s===0};P.lessThan=P.lt=function(et){return this.cmp(et)<0};P.lessThanOrEqualTo=P.lte=function(et){return this.cmp(et)<1};P.logarithm=P.log=function(et){var tt,rt=this,nt=rt.constructor,it=nt.precision,at=it+5;if(et===void 0)et=new nt(10);else if(et=new nt(et),et.s<1||et.eq(ONE))throw Error(decimalError+"NaN");if(rt.s<1)throw Error(decimalError+(rt.s?"NaN":"-Infinity"));return rt.eq(ONE)?new nt(0):(external=!1,tt=divide(ln(rt,at),ln(et,at),at),external=!0,round(tt,it))};P.minus=P.sub=function(et){var tt=this;return et=new tt.constructor(et),tt.s==et.s?subtract(tt,et):add(tt,(et.s=-et.s,et))};P.modulo=P.mod=function(et){var tt,rt=this,nt=rt.constructor,it=nt.precision;if(et=new nt(et),!et.s)throw Error(decimalError+"NaN");return rt.s?(external=!1,tt=divide(rt,et,0,1).times(et),external=!0,rt.minus(tt)):round(new nt(rt),it)};P.naturalExponential=P.exp=function(){return exp(this)};P.naturalLogarithm=P.ln=function(){return ln(this)};P.negated=P.neg=function(){var et=new this.constructor(this);return et.s=-et.s||0,et};P.plus=P.add=function(et){var tt=this;return et=new tt.constructor(et),tt.s==et.s?add(tt,et):subtract(tt,(et.s=-et.s,et))};P.precision=P.sd=function(et){var tt,rt,nt,it=this;if(et!==void 0&&et!==!!et&&et!==1&&et!==0)throw Error(invalidArgument+et);if(tt=getBase10Exponent(it)+1,nt=it.d.length-1,rt=nt*LOG_BASE+1,nt=it.d[nt],nt){for(;nt%10==0;nt/=10)rt--;for(nt=it.d[0];nt>=10;nt/=10)rt++}return et&&tt>rt?tt:rt};P.squareRoot=P.sqrt=function(){var et,tt,rt,nt,it,at,ot,st=this,lt=st.constructor;if(st.s<1){if(!st.s)return new lt(0);throw Error(decimalError+"NaN")}for(et=getBase10Exponent(st),external=!1,it=Math.sqrt(+st),it==0||it==1/0?(tt=digitsToString(st.d),(tt.length+et)%2==0&&(tt+="0"),it=Math.sqrt(tt),et=mathfloor((et+1)/2)-(et<0||et%2),it==1/0?tt="5e"+et:(tt=it.toExponential(),tt=tt.slice(0,tt.indexOf("e")+1)+et),nt=new lt(tt)):nt=new lt(it.toString()),rt=lt.precision,it=ot=rt+3;;)if(at=nt,nt=at.plus(divide(st,at,ot+2)).times(.5),digitsToString(at.d).slice(0,ot)===(tt=digitsToString(nt.d)).slice(0,ot)){if(tt=tt.slice(ot-3,ot+1),it==ot&&tt=="4999"){if(round(at,rt+1,0),at.times(at).eq(st)){nt=at;break}}else if(tt!="9999")break;ot+=4}return external=!0,round(nt,rt)};P.times=P.mul=function(et){var tt,rt,nt,it,at,ot,st,lt,ct,ut=this,ft=ut.constructor,ht=ut.d,dt=(et=new ft(et)).d;if(!ut.s||!et.s)return new ft(0);for(et.s*=ut.s,rt=ut.e+et.e,lt=ht.length,ct=dt.length,lt<ct&&(at=ht,ht=dt,dt=at,ot=lt,lt=ct,ct=ot),at=[],ot=lt+ct,nt=ot;nt--;)at.push(0);for(nt=ct;--nt>=0;){for(tt=0,it=lt+nt;it>nt;)st=at[it]+dt[nt]*ht[it-nt-1]+tt,at[it--]=st%BASE|0,tt=st/BASE|0;at[it]=(at[it]+tt)%BASE|0}for(;!at[--ot];)at.pop();return tt?++rt:at.shift(),et.d=at,et.e=rt,external?round(et,ft.precision):et};P.toDecimalPlaces=P.todp=function(et,tt){var rt=this,nt=rt.constructor;return rt=new nt(rt),et===void 0?rt:(checkInt32(et,0,MAX_DIGITS),tt===void 0?tt=nt.rounding:checkInt32(tt,0,8),round(rt,et+getBase10Exponent(rt)+1,tt))};P.toExponential=function(et,tt){var rt,nt=this,it=nt.constructor;return et===void 0?rt=toString(nt,!0):(checkInt32(et,0,MAX_DIGITS),tt===void 0?tt=it.rounding:checkInt32(tt,0,8),nt=round(new it(nt),et+1,tt),rt=toString(nt,!0,et+1)),rt};P.toFixed=function(et,tt){var rt,nt,it=this,at=it.constructor;return et===void 0?toString(it):(checkInt32(et,0,MAX_DIGITS),tt===void 0?tt=at.rounding:checkInt32(tt,0,8),nt=round(new at(it),et+getBase10Exponent(it)+1,tt),rt=toString(nt.abs(),!1,et+getBase10Exponent(nt)+1),it.isneg()&&!it.isZero()?"-"+rt:rt)};P.toInteger=P.toint=function(){var et=this,tt=et.constructor;return round(new tt(et),getBase10Exponent(et)+1,tt.rounding)};P.toNumber=function(){return+this};P.toPower=P.pow=function(et){var tt,rt,nt,it,at,ot,st=this,lt=st.constructor,ct=12,ut=+(et=new lt(et));if(!et.s)return new lt(ONE);if(st=new lt(st),!st.s){if(et.s<1)throw Error(decimalError+"Infinity");return st}if(st.eq(ONE))return st;if(nt=lt.precision,et.eq(ONE))return round(st,nt);if(tt=et.e,rt=et.d.length-1,ot=tt>=rt,at=st.s,ot){if((rt=ut<0?-ut:ut)<=MAX_SAFE_INTEGER){for(it=new lt(ONE),tt=Math.ceil(nt/LOG_BASE+4),external=!1;rt%2&&(it=it.times(st),truncate(it.d,tt)),rt=mathfloor(rt/2),rt!==0;)st=st.times(st),truncate(st.d,tt);return external=!0,et.s<0?new lt(ONE).div(it):round(it,nt)}}else if(at<0)throw Error(decimalError+"NaN");return at=at<0&&et.d[Math.max(tt,rt)]&1?-1:1,st.s=1,external=!1,it=et.times(ln(st,nt+ct)),external=!0,it=exp(it),it.s=at,it};P.toPrecision=function(et,tt){var rt,nt,it=this,at=it.constructor;return et===void 0?(rt=getBase10Exponent(it),nt=toString(it,rt<=at.toExpNeg||rt>=at.toExpPos)):(checkInt32(et,1,MAX_DIGITS),tt===void 0?tt=at.rounding:checkInt32(tt,0,8),it=round(new at(it),et,tt),rt=getBase10Exponent(it),nt=toString(it,et<=rt||rt<=at.toExpNeg,et)),nt};P.toSignificantDigits=P.tosd=function(et,tt){var rt=this,nt=rt.constructor;return et===void 0?(et=nt.precision,tt=nt.rounding):(checkInt32(et,1,MAX_DIGITS),tt===void 0?tt=nt.rounding:checkInt32(tt,0,8)),round(new nt(rt),et,tt)};P.toString=P.valueOf=P.val=P.toJSON=P[Symbol.for("nodejs.util.inspect.custom")]=function(){var et=this,tt=getBase10Exponent(et),rt=et.constructor;return toString(et,tt<=rt.toExpNeg||tt>=rt.toExpPos)};function add(et,tt){var rt,nt,it,at,ot,st,lt,ct,ut=et.constructor,ft=ut.precision;if(!et.s||!tt.s)return tt.s||(tt=new ut(et)),external?round(tt,ft):tt;if(lt=et.d,ct=tt.d,ot=et.e,it=tt.e,lt=lt.slice(),at=ot-it,at){for(at<0?(nt=lt,at=-at,st=ct.length):(nt=ct,it=ot,st=lt.length),ot=Math.ceil(ft/LOG_BASE),st=ot>st?ot+1:st+1,at>st&&(at=st,nt.length=1),nt.reverse();at--;)nt.push(0);nt.reverse()}for(st=lt.length,at=ct.length,st-at<0&&(at=st,nt=ct,ct=lt,lt=nt),rt=0;at;)rt=(lt[--at]=lt[at]+ct[at]+rt)/BASE|0,lt[at]%=BASE;for(rt&&(lt.unshift(rt),++it),st=lt.length;lt[--st]==0;)lt.pop();return tt.d=lt,tt.e=it,external?round(tt,ft):tt}function checkInt32(et,tt,rt){if(et!==~~et||et<tt||et>rt)throw Error(invalidArgument+et)}function digitsToString(et){var tt,rt,nt,it=et.length-1,at="",ot=et[0];if(it>0){for(at+=ot,tt=1;tt<it;tt++)nt=et[tt]+"",rt=LOG_BASE-nt.length,rt&&(at+=getZeroString(rt)),at+=nt;ot=et[tt],nt=ot+"",rt=LOG_BASE-nt.length,rt&&(at+=getZeroString(rt))}else if(ot===0)return"0";for(;ot%10===0;)ot/=10;return at+ot}var divide=function(){function et(nt,it){var at,ot=0,st=nt.length;for(nt=nt.slice();st--;)at=nt[st]*it+ot,nt[st]=at%BASE|0,ot=at/BASE|0;return ot&&nt.unshift(ot),nt}function tt(nt,it,at,ot){var st,lt;if(at!=ot)lt=at>ot?1:-1;else for(st=lt=0;st<at;st++)if(nt[st]!=it[st]){lt=nt[st]>it[st]?1:-1;break}return lt}function rt(nt,it,at){for(var ot=0;at--;)nt[at]-=ot,ot=nt[at]<it[at]?1:0,nt[at]=ot*BASE+nt[at]-it[at];for(;!nt[0]&&nt.length>1;)nt.shift()}return function(nt,it,at,ot){var st,lt,ct,ut,ft,ht,dt,vt,yt,xt,_t,mt,pt,bt,Et,St,Tt,Pt,Rt=nt.constructor,It=nt.s==it.s?1:-1,$t=nt.d,kt=it.d;if(!nt.s)return new Rt(nt);if(!it.s)throw Error(decimalError+"Division by zero");for(lt=nt.e-it.e,Tt=kt.length,Et=$t.length,dt=new Rt(It),vt=dt.d=[],ct=0;kt[ct]==($t[ct]||0);)++ct;if(kt[ct]>($t[ct]||0)&&--lt,at==null?mt=at=Rt.precision:ot?mt=at+(getBase10Exponent(nt)-getBase10Exponent(it))+1:mt=at,mt<0)return new Rt(0);if(mt=mt/LOG_BASE+2|0,ct=0,Tt==1)for(ut=0,kt=kt[0],mt++;(ct<Et||ut)&&mt--;ct++)pt=ut*BASE+($t[ct]||0),vt[ct]=pt/kt|0,ut=pt%kt|0;else{for(ut=BASE/(kt[0]+1)|0,ut>1&&(kt=et(kt,ut),$t=et($t,ut),Tt=kt.length,Et=$t.length),bt=Tt,yt=$t.slice(0,Tt),xt=yt.length;xt<Tt;)yt[xt++]=0;Pt=kt.slice(),Pt.unshift(0),St=kt[0],kt[1]>=BASE/2&&++St;do ut=0,st=tt(kt,yt,Tt,xt),st<0?(_t=yt[0],Tt!=xt&&(_t=_t*BASE+(yt[1]||0)),ut=_t/St|0,ut>1?(ut>=BASE&&(ut=BASE-1),ft=et(kt,ut),ht=ft.length,xt=yt.length,st=tt(ft,yt,ht,xt),st==1&&(ut--,rt(ft,Tt<ht?Pt:kt,ht))):(ut==0&&(st=ut=1),ft=kt.slice()),ht=ft.length,ht<xt&&ft.unshift(0),rt(yt,ft,xt),st==-1&&(xt=yt.length,st=tt(kt,yt,Tt,xt),st<1&&(ut++,rt(yt,Tt<xt?Pt:kt,xt))),xt=yt.length):st===0&&(ut++,yt=[0]),vt[ct++]=ut,st&&yt[0]?yt[xt++]=$t[bt]||0:(yt=[$t[bt]],xt=1);while((bt++<Et||yt[0]!==void 0)&&mt--)}return vt[0]||vt.shift(),dt.e=lt,round(dt,ot?at+getBase10Exponent(dt)+1:at)}}();function exp(et,tt){var rt,nt,it,at,ot,st,lt=0,ct=0,ut=et.constructor,ft=ut.precision;if(getBase10Exponent(et)>16)throw Error(exponentOutOfRange+getBase10Exponent(et));if(!et.s)return new ut(ONE);for(tt==null?(external=!1,st=ft):st=tt,ot=new ut(.03125);et.abs().gte(.1);)et=et.times(ot),ct+=5;for(nt=Math.log(mathpow(2,ct))/Math.LN10*2+5|0,st+=nt,rt=it=at=new ut(ONE),ut.precision=st;;){if(it=round(it.times(et),st),rt=rt.times(++lt),ot=at.plus(divide(it,rt,st)),digitsToString(ot.d).slice(0,st)===digitsToString(at.d).slice(0,st)){for(;ct--;)at=round(at.times(at),st);return ut.precision=ft,tt==null?(external=!0,round(at,ft)):at}at=ot}}function getBase10Exponent(et){for(var tt=et.e*LOG_BASE,rt=et.d[0];rt>=10;rt/=10)tt++;return tt}function getLn10(et,tt,rt){if(tt>et.LN10.sd())throw external=!0,rt&&(et.precision=rt),Error(decimalError+"LN10 precision limit exceeded");return round(new et(et.LN10),tt)}function getZeroString(et){for(var tt="";et--;)tt+="0";return tt}function ln(et,tt){var rt,nt,it,at,ot,st,lt,ct,ut,ft=1,ht=10,dt=et,vt=dt.d,yt=dt.constructor,xt=yt.precision;if(dt.s<1)throw Error(decimalError+(dt.s?"NaN":"-Infinity"));if(dt.eq(ONE))return new yt(0);if(tt==null?(external=!1,ct=xt):ct=tt,dt.eq(10))return tt==null&&(external=!0),getLn10(yt,ct);if(ct+=ht,yt.precision=ct,rt=digitsToString(vt),nt=rt.charAt(0),at=getBase10Exponent(dt),Math.abs(at)<15e14){for(;nt<7&&nt!=1||nt==1&&rt.charAt(1)>3;)dt=dt.times(et),rt=digitsToString(dt.d),nt=rt.charAt(0),ft++;at=getBase10Exponent(dt),nt>1?(dt=new yt("0."+rt),at++):dt=new yt(nt+"."+rt.slice(1))}else return lt=getLn10(yt,ct+2,xt).times(at+""),dt=ln(new yt(nt+"."+rt.slice(1)),ct-ht).plus(lt),yt.precision=xt,tt==null?(external=!0,round(dt,xt)):dt;for(st=ot=dt=divide(dt.minus(ONE),dt.plus(ONE),ct),ut=round(dt.times(dt),ct),it=3;;){if(ot=round(ot.times(ut),ct),lt=st.plus(divide(ot,new yt(it),ct)),digitsToString(lt.d).slice(0,ct)===digitsToString(st.d).slice(0,ct))return st=st.times(2),at!==0&&(st=st.plus(getLn10(yt,ct+2,xt).times(at+""))),st=divide(st,new yt(ft),ct),yt.precision=xt,tt==null?(external=!0,round(st,xt)):st;st=lt,it+=2}}function parseDecimal(et,tt){var rt,nt,it;for((rt=tt.indexOf("."))>-1&&(tt=tt.replace(".","")),(nt=tt.search(/e/i))>0?(rt<0&&(rt=nt),rt+=+tt.slice(nt+1),tt=tt.substring(0,nt)):rt<0&&(rt=tt.length),nt=0;tt.charCodeAt(nt)===48;)++nt;for(it=tt.length;tt.charCodeAt(it-1)===48;)--it;if(tt=tt.slice(nt,it),tt){if(it-=nt,rt=rt-nt-1,et.e=mathfloor(rt/LOG_BASE),et.d=[],nt=(rt+1)%LOG_BASE,rt<0&&(nt+=LOG_BASE),nt<it){for(nt&&et.d.push(+tt.slice(0,nt)),it-=LOG_BASE;nt<it;)et.d.push(+tt.slice(nt,nt+=LOG_BASE));tt=tt.slice(nt),nt=LOG_BASE-tt.length}else nt-=it;for(;nt--;)tt+="0";if(et.d.push(+tt),external&&(et.e>MAX_E||et.e<-MAX_E))throw Error(exponentOutOfRange+rt)}else et.s=0,et.e=0,et.d=[0];return et}function round(et,tt,rt){var nt,it,at,ot,st,lt,ct,ut,ft=et.d;for(ot=1,at=ft[0];at>=10;at/=10)ot++;if(nt=tt-ot,nt<0)nt+=LOG_BASE,it=tt,ct=ft[ut=0];else{if(ut=Math.ceil((nt+1)/LOG_BASE),at=ft.length,ut>=at)return et;for(ct=at=ft[ut],ot=1;at>=10;at/=10)ot++;nt%=LOG_BASE,it=nt-LOG_BASE+ot}if(rt!==void 0&&(at=mathpow(10,ot-it-1),st=ct/at%10|0,lt=tt<0||ft[ut+1]!==void 0||ct%at,lt=rt<4?(st||lt)&&(rt==0||rt==(et.s<0?3:2)):st>5||st==5&&(rt==4||lt||rt==6&&(nt>0?it>0?ct/mathpow(10,ot-it):0:ft[ut-1])%10&1||rt==(et.s<0?8:7))),tt<1||!ft[0])return lt?(at=getBase10Exponent(et),ft.length=1,tt=tt-at-1,ft[0]=mathpow(10,(LOG_BASE-tt%LOG_BASE)%LOG_BASE),et.e=mathfloor(-tt/LOG_BASE)||0):(ft.length=1,ft[0]=et.e=et.s=0),et;if(nt==0?(ft.length=ut,at=1,ut--):(ft.length=ut+1,at=mathpow(10,LOG_BASE-nt),ft[ut]=it>0?(ct/mathpow(10,ot-it)%mathpow(10,it)|0)*at:0),lt)for(;;)if(ut==0){(ft[0]+=at)==BASE&&(ft[0]=1,++et.e);break}else{if(ft[ut]+=at,ft[ut]!=BASE)break;ft[ut--]=0,at=1}for(nt=ft.length;ft[--nt]===0;)ft.pop();if(external&&(et.e>MAX_E||et.e<-MAX_E))throw Error(exponentOutOfRange+getBase10Exponent(et));return et}function subtract(et,tt){var rt,nt,it,at,ot,st,lt,ct,ut,ft,ht=et.constructor,dt=ht.precision;if(!et.s||!tt.s)return tt.s?tt.s=-tt.s:tt=new ht(et),external?round(tt,dt):tt;if(lt=et.d,ft=tt.d,nt=tt.e,ct=et.e,lt=lt.slice(),ot=ct-nt,ot){for(ut=ot<0,ut?(rt=lt,ot=-ot,st=ft.length):(rt=ft,nt=ct,st=lt.length),it=Math.max(Math.ceil(dt/LOG_BASE),st)+2,ot>it&&(ot=it,rt.length=1),rt.reverse(),it=ot;it--;)rt.push(0);rt.reverse()}else{for(it=lt.length,st=ft.length,ut=it<st,ut&&(st=it),it=0;it<st;it++)if(lt[it]!=ft[it]){ut=lt[it]<ft[it];break}ot=0}for(ut&&(rt=lt,lt=ft,ft=rt,tt.s=-tt.s),st=lt.length,it=ft.length-st;it>0;--it)lt[st++]=0;for(it=ft.length;it>ot;){if(lt[--it]<ft[it]){for(at=it;at&&lt[--at]===0;)lt[at]=BASE-1;--lt[at],lt[it]+=BASE}lt[it]-=ft[it]}for(;lt[--st]===0;)lt.pop();for(;lt[0]===0;lt.shift())--nt;return lt[0]?(tt.d=lt,tt.e=nt,external?round(tt,dt):tt):new ht(0)}function toString(et,tt,rt){var nt,it=getBase10Exponent(et),at=digitsToString(et.d),ot=at.length;return tt?(rt&&(nt=rt-ot)>0?at=at.charAt(0)+"."+at.slice(1)+getZeroString(nt):ot>1&&(at=at.charAt(0)+"."+at.slice(1)),at=at+(it<0?"e":"e+")+it):it<0?(at="0."+getZeroString(-it-1)+at,rt&&(nt=rt-ot)>0&&(at+=getZeroString(nt))):it>=ot?(at+=getZeroString(it+1-ot),rt&&(nt=rt-it-1)>0&&(at=at+"."+getZeroString(nt))):((nt=it+1)<ot&&(at=at.slice(0,nt)+"."+at.slice(nt)),rt&&(nt=rt-ot)>0&&(it+1===ot&&(at+="."),at+=getZeroString(nt))),et.s<0?"-"+at:at}function truncate(et,tt){if(et.length>tt)return et.length=tt,!0}function clone(et){var tt,rt,nt;function it(at){var ot=this;if(!(ot instanceof it))return new it(at);if(ot.constructor=it,at instanceof it){ot.s=at.s,ot.e=at.e,ot.d=(at=at.d)?at.slice():at;return}if(typeof at=="number"){if(at*0!==0)throw Error(invalidArgument+at);if(at>0)ot.s=1;else if(at<0)at=-at,ot.s=-1;else{ot.s=0,ot.e=0,ot.d=[0];return}if(at===~~at&&at<1e7){ot.e=0,ot.d=[at];return}return parseDecimal(ot,at.toString())}else if(typeof at!="string")throw Error(invalidArgument+at);if(at.charCodeAt(0)===45?(at=at.slice(1),ot.s=-1):ot.s=1,isDecimal.test(at))parseDecimal(ot,at);else throw Error(invalidArgument+at)}if(it.prototype=P,it.ROUND_UP=0,it.ROUND_DOWN=1,it.ROUND_CEIL=2,it.ROUND_FLOOR=3,it.ROUND_HALF_UP=4,it.ROUND_HALF_DOWN=5,it.ROUND_HALF_EVEN=6,it.ROUND_HALF_CEIL=7,it.ROUND_HALF_FLOOR=8,it.clone=clone,it.config=it.set=config,et===void 0&&(et={}),et)for(nt=["precision","rounding","toExpNeg","toExpPos","LN10"],tt=0;tt<nt.length;)et.hasOwnProperty(rt=nt[tt++])||(et[rt]=this[rt]);return it.config(et),it}function config(et){if(!et||typeof et!="object")throw Error(decimalError+"Object expected");var tt,rt,nt,it=["precision",1,MAX_DIGITS,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(tt=0;tt<it.length;tt+=3)if((nt=et[rt=it[tt]])!==void 0)if(mathfloor(nt)===nt&&nt>=it[tt+1]&&nt<=it[tt+2])this[rt]=nt;else throw Error(invalidArgument+rt+": "+nt);if((nt=et[rt="LN10"])!==void 0)if(nt==Math.LN10)this[rt]=new this(nt);else throw Error(invalidArgument+rt+": "+nt);return this}var Decimal=clone(defaults);ONE=new Decimal(1);const Decimal$1=Decimal;function _toConsumableArray$a(et){return _arrayWithoutHoles$a(et)||_iterableToArray$b(et)||_unsupportedIterableToArray$g(et)||_nonIterableSpread$a()}function _nonIterableSpread$a(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$g(et,tt){if(et){if(typeof et=="string")return _arrayLikeToArray$g(et,tt);var rt=Object.prototype.toString.call(et).slice(8,-1);if(rt==="Object"&&et.constructor&&(rt=et.constructor.name),rt==="Map"||rt==="Set")return Array.from(et);if(rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt))return _arrayLikeToArray$g(et,tt)}}function _iterableToArray$b(et){if(typeof Symbol<"u"&&Symbol.iterator in Object(et))return Array.from(et)}function _arrayWithoutHoles$a(et){if(Array.isArray(et))return _arrayLikeToArray$g(et)}function _arrayLikeToArray$g(et,tt){(tt==null||tt>et.length)&&(tt=et.length);for(var rt=0,nt=new Array(tt);rt<tt;rt++)nt[rt]=et[rt];return nt}var identity$1=function et(tt){return tt},PLACE_HOLDER={"@@functional/placeholder":!0},isPlaceHolder=function et(tt){return tt===PLACE_HOLDER},curry0=function et(tt){return function rt(){return arguments.length===0||arguments.length===1&&isPlaceHolder(arguments.length<=0?void 0:arguments[0])?rt:tt.apply(void 0,arguments)}},curryN=function et(tt,rt){return tt===1?rt:curry0(function(){for(var nt=arguments.length,it=new Array(nt),at=0;at<nt;at++)it[at]=arguments[at];var ot=it.filter(function(st){return st!==PLACE_HOLDER}).length;return ot>=tt?rt.apply(void 0,it):et(tt-ot,curry0(function(){for(var st=arguments.length,lt=new Array(st),ct=0;ct<st;ct++)lt[ct]=arguments[ct];var ut=it.map(function(ft){return isPlaceHolder(ft)?lt.shift():ft});return rt.apply(void 0,_toConsumableArray$a(ut).concat(lt))}))})},curry=function et(tt){return curryN(tt.length,tt)},range$2=function et(tt,rt){for(var nt=[],it=tt;it<rt;++it)nt[it-tt]=it;return nt},map=curry(function(et,tt){return Array.isArray(tt)?tt.map(et):Object.keys(tt).map(function(rt){return tt[rt]}).map(et)}),compose=function et(){for(var tt=arguments.length,rt=new Array(tt),nt=0;nt<tt;nt++)rt[nt]=arguments[nt];if(!rt.length)return identity$1;var it=rt.reverse(),at=it[0],ot=it.slice(1);return function(){return ot.reduce(function(st,lt){return lt(st)},at.apply(void 0,arguments))}},reverse=function et(tt){return Array.isArray(tt)?tt.reverse():tt.split("").reverse.join("")},memoize=function et(tt){var rt=null,nt=null;return function(){for(var it=arguments.length,at=new Array(it),ot=0;ot<it;ot++)at[ot]=arguments[ot];return rt&&at.every(function(st,lt){return st===rt[lt]})||(rt=at,nt=tt.apply(void 0,at)),nt}};function getDigitCount(et){var tt;return et===0?tt=1:tt=Math.floor(new Decimal$1(et).abs().log(10).toNumber())+1,tt}function rangeStep(et,tt,rt){for(var nt=new Decimal$1(et),it=0,at=[];nt.lt(tt)&&it<1e5;)at.push(nt.toNumber()),nt=nt.add(rt),it++;return at}var interpolateNumber=curry(function(et,tt,rt){var nt=+et,it=+tt;return nt+rt*(it-nt)}),uninterpolateNumber=curry(function(et,tt,rt){var nt=tt-+et;return nt=nt||1/0,(rt-et)/nt}),uninterpolateTruncation=curry(function(et,tt,rt){var nt=tt-+et;return nt=nt||1/0,Math.max(0,Math.min(1,(rt-et)/nt))});const Arithmetic={rangeStep,getDigitCount,interpolateNumber,uninterpolateNumber,uninterpolateTruncation};function _toConsumableArray$9(et){return _arrayWithoutHoles$9(et)||_iterableToArray$a(et)||_unsupportedIterableToArray$f(et)||_nonIterableSpread$9()}function _nonIterableSpread$9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$a(et){if(typeof Symbol<"u"&&Symbol.iterator in Object(et))return Array.from(et)}function _arrayWithoutHoles$9(et){if(Array.isArray(et))return _arrayLikeToArray$f(et)}function _slicedToArray$8(et,tt){return _arrayWithHoles$9(et)||_iterableToArrayLimit$8(et,tt)||_unsupportedIterableToArray$f(et,tt)||_nonIterableRest$9()}function _nonIterableRest$9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$f(et,tt){if(et){if(typeof et=="string")return _arrayLikeToArray$f(et,tt);var rt=Object.prototype.toString.call(et).slice(8,-1);if(rt==="Object"&&et.constructor&&(rt=et.constructor.name),rt==="Map"||rt==="Set")return Array.from(et);if(rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt))return _arrayLikeToArray$f(et,tt)}}function _arrayLikeToArray$f(et,tt){(tt==null||tt>et.length)&&(tt=et.length);for(var rt=0,nt=new Array(tt);rt<tt;rt++)nt[rt]=et[rt];return nt}function _iterableToArrayLimit$8(et,tt){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(et)))){var rt=[],nt=!0,it=!1,at=void 0;try{for(var ot=et[Symbol.iterator](),st;!(nt=(st=ot.next()).done)&&(rt.push(st.value),!(tt&&rt.length===tt));nt=!0);}catch(lt){it=!0,at=lt}finally{try{!nt&&ot.return!=null&&ot.return()}finally{if(it)throw at}}return rt}}function _arrayWithHoles$9(et){if(Array.isArray(et))return et}function getValidInterval(et){var tt=_slicedToArray$8(et,2),rt=tt[0],nt=tt[1],it=rt,at=nt;return rt>nt&&(it=nt,at=rt),[it,at]}function getFormatStep(et,tt,rt){if(et.lte(0))return new Decimal$1(0);var nt=Arithmetic.getDigitCount(et.toNumber()),it=new Decimal$1(10).pow(nt),at=et.div(it),ot=nt!==1?.05:.1,st=new Decimal$1(Math.ceil(at.div(ot).toNumber())).add(rt).mul(ot),lt=st.mul(it);return tt?lt:new Decimal$1(Math.ceil(lt))}function getTickOfSingleValue(et,tt,rt){var nt=1,it=new Decimal$1(et);if(!it.isint()&&rt){var at=Math.abs(et);at<1?(nt=new Decimal$1(10).pow(Arithmetic.getDigitCount(et)-1),it=new Decimal$1(Math.floor(it.div(nt).toNumber())).mul(nt)):at>1&&(it=new Decimal$1(Math.floor(et)))}else et===0?it=new Decimal$1(Math.floor((tt-1)/2)):rt||(it=new Decimal$1(Math.floor(et)));var ot=Math.floor((tt-1)/2),st=compose(map(function(lt){return it.add(new Decimal$1(lt-ot).mul(nt)).toNumber()}),range$2);return st(0,tt)}function calculateStep(et,tt,rt,nt){var it=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((tt-et)/(rt-1)))return{step:new Decimal$1(0),tickMin:new Decimal$1(0),tickMax:new Decimal$1(0)};var at=getFormatStep(new Decimal$1(tt).sub(et).div(rt-1),nt,it),ot;et<=0&&tt>=0?ot=new Decimal$1(0):(ot=new Decimal$1(et).add(tt).div(2),ot=ot.sub(new Decimal$1(ot).mod(at)));var st=Math.ceil(ot.sub(et).div(at).toNumber()),lt=Math.ceil(new Decimal$1(tt).sub(ot).div(at).toNumber()),ct=st+lt+1;return ct>rt?calculateStep(et,tt,rt,nt,it+1):(ct<rt&&(lt=tt>0?lt+(rt-ct):lt,st=tt>0?st:st+(rt-ct)),{step:at,tickMin:ot.sub(new Decimal$1(st).mul(at)),tickMax:ot.add(new Decimal$1(lt).mul(at))})}function getNiceTickValuesFn(et){var tt=_slicedToArray$8(et,2),rt=tt[0],nt=tt[1],it=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,at=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,ot=Math.max(it,2),st=getValidInterval([rt,nt]),lt=_slicedToArray$8(st,2),ct=lt[0],ut=lt[1];if(ct===-1/0||ut===1/0){var ft=ut===1/0?[ct].concat(_toConsumableArray$9(range$2(0,it-1).map(function(){return 1/0}))):[].concat(_toConsumableArray$9(range$2(0,it-1).map(function(){return-1/0})),[ut]);return rt>nt?reverse(ft):ft}if(ct===ut)return getTickOfSingleValue(ct,it,at);var ht=calculateStep(ct,ut,ot,at),dt=ht.step,vt=ht.tickMin,yt=ht.tickMax,xt=Arithmetic.rangeStep(vt,yt.add(new Decimal$1(.1).mul(dt)),dt);return rt>nt?reverse(xt):xt}function getTickValuesFixedDomainFn(et,tt){var rt=_slicedToArray$8(et,2),nt=rt[0],it=rt[1],at=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,ot=getValidInterval([nt,it]),st=_slicedToArray$8(ot,2),lt=st[0],ct=st[1];if(lt===-1/0||ct===1/0)return[nt,it];if(lt===ct)return[lt];var ut=Math.max(tt,2),ft=getFormatStep(new Decimal$1(ct).sub(lt).div(ut-1),at,0),ht=[].concat(_toConsumableArray$9(Arithmetic.rangeStep(new Decimal$1(lt),new Decimal$1(ct).sub(new Decimal$1(.99).mul(ft)),ft)),[ct]);return nt>it?reverse(ht):ht}var getNiceTickValues=memoize(getNiceTickValuesFn),getTickValuesFixedDomain=memoize(getTickValuesFixedDomainFn),prefix="Invariant failed";function invariant(et,tt){throw new Error(prefix)}var _excluded$c=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function _extends$n(){return _extends$n=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$n.apply(this,arguments)}function _slicedToArray$7(et,tt){return _arrayWithHoles$8(et)||_iterableToArrayLimit$7(et,tt)||_unsupportedIterableToArray$e(et,tt)||_nonIterableRest$8()}function _nonIterableRest$8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$e(et,tt){if(et){if(typeof et=="string")return _arrayLikeToArray$e(et,tt);var rt=Object.prototype.toString.call(et).slice(8,-1);if(rt==="Object"&&et.constructor&&(rt=et.constructor.name),rt==="Map"||rt==="Set")return Array.from(et);if(rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt))return _arrayLikeToArray$e(et,tt)}}function _arrayLikeToArray$e(et,tt){(tt==null||tt>et.length)&&(tt=et.length);for(var rt=0,nt=new Array(tt);rt<tt;rt++)nt[rt]=et[rt];return nt}function _iterableToArrayLimit$7(et,tt){var rt=et==null?null:typeof Symbol<"u"&&et[Symbol.iterator]||et["@@iterator"];if(rt!=null){var nt,it,at,ot,st=[],lt=!0,ct=!1;try{if(at=(rt=rt.call(et)).next,tt!==0)for(;!(lt=(nt=at.call(rt)).done)&&(st.push(nt.value),st.length!==tt);lt=!0);}catch(ut){ct=!0,it=ut}finally{try{if(!lt&&rt.return!=null&&(ot=rt.return(),Object(ot)!==ot))return}finally{if(ct)throw it}}return st}}function _arrayWithHoles$8(et){if(Array.isArray(et))return et}function _objectWithoutProperties$c(et,tt){if(et==null)return{};var rt=_objectWithoutPropertiesLoose$c(et,tt),nt,it;if(Object.getOwnPropertySymbols){var at=Object.getOwnPropertySymbols(et);for(it=0;it<at.length;it++)nt=at[it],!(tt.indexOf(nt)>=0)&&Object.prototype.propertyIsEnumerable.call(et,nt)&&(rt[nt]=et[nt])}return rt}function _objectWithoutPropertiesLoose$c(et,tt){if(et==null)return{};var rt={},nt=Object.keys(et),it,at;for(at=0;at<nt.length;at++)it=nt[at],!(tt.indexOf(it)>=0)&&(rt[it]=et[it]);return rt}function ErrorBar(et){var tt=et.offset,rt=et.layout,nt=et.width,it=et.dataKey,at=et.data,ot=et.dataPointFormatter,st=et.xAxis,lt=et.yAxis,ct=_objectWithoutProperties$c(et,_excluded$c),ut=filterProps(ct,!1);et.direction==="x"&&st.type!=="number"&&invariant();var ft=at.map(function(ht){var dt=ot(ht,it),vt=dt.x,yt=dt.y,xt=dt.value,_t=dt.errorVal;if(!_t)return null;var mt=[],pt,bt;if(Array.isArray(_t)){var Et=_slicedToArray$7(_t,2);pt=Et[0],bt=Et[1]}else pt=bt=_t;if(rt==="vertical"){var St=st.scale,Tt=yt+tt,Pt=Tt+nt,Rt=Tt-nt,It=St(xt-pt),$t=St(xt+bt);mt.push({x1:$t,y1:Pt,x2:$t,y2:Rt}),mt.push({x1:It,y1:Tt,x2:$t,y2:Tt}),mt.push({x1:It,y1:Pt,x2:It,y2:Rt})}else if(rt==="horizontal"){var kt=lt.scale,Ct=vt+tt,Bt=Ct-nt,Ft=Ct+nt,Dt=kt(xt-pt),Mt=kt(xt+bt);mt.push({x1:Bt,y1:Mt,x2:Ft,y2:Mt}),mt.push({x1:Ct,y1:Dt,x2:Ct,y2:Mt}),mt.push({x1:Bt,y1:Dt,x2:Ft,y2:Dt})}return React.createElement(Layer,_extends$n({className:"recharts-errorBar",key:"bar-".concat(mt.map(function(wt){return"".concat(wt.x1,"-").concat(wt.x2,"-").concat(wt.y1,"-").concat(wt.y2)}))},ut),mt.map(function(wt){return React.createElement("line",_extends$n({},wt,{key:"line-".concat(wt.x1,"-").concat(wt.x2,"-").concat(wt.y1,"-").concat(wt.y2)}))}))});return React.createElement(Layer,{className:"recharts-errorBars"},ft)}ErrorBar.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"};ErrorBar.displayName="ErrorBar";function _typeof$v(et){"@babel/helpers - typeof";return _typeof$v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$v(et)}function ownKeys$t(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(it){return Object.getOwnPropertyDescriptor(et,it).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$t(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$t(Object(rt),!0).forEach(function(nt){_defineProperty$u(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$t(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$u(et,tt,rt){return tt=_toPropertyKey$u(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$u(et){var tt=_toPrimitive$u(et,"string");return _typeof$v(tt)=="symbol"?tt:String(tt)}function _toPrimitive$u(et,tt){if(_typeof$v(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$v(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}var getLegendProps=function et(tt){var rt=tt.children,nt=tt.formattedGraphicalItems,it=tt.legendWidth,at=tt.legendContent,ot=findChildByType(rt,Legend);if(!ot)return null;var st;return ot.props&&ot.props.payload?st=ot.props&&ot.props.payload:at==="children"?st=(nt||[]).reduce(function(lt,ct){var ut=ct.item,ft=ct.props,ht=ft.sectors||ft.data||[];return lt.concat(ht.map(function(dt){return{type:ot.props.iconType||ut.props.legendType,value:dt.name,color:dt.fill,payload:dt}}))},[]):st=(nt||[]).map(function(lt){var ct=lt.item,ut=ct.props,ft=ut.dataKey,ht=ut.name,dt=ut.legendType,vt=ut.hide;return{inactive:vt,dataKey:ft,type:ot.props.iconType||dt||"square",color:getMainColorOfGraphicItem(ct),value:ht||ft,payload:ct.props}}),_objectSpread$t(_objectSpread$t(_objectSpread$t({},ot.props),Legend.getWithHeight(ot,it)),{},{payload:st,item:ot})};function _typeof$u(et){"@babel/helpers - typeof";return _typeof$u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$u(et)}function ownKeys$s(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(it){return Object.getOwnPropertyDescriptor(et,it).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$s(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$s(Object(rt),!0).forEach(function(nt){_defineProperty$t(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$s(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$t(et,tt,rt){return tt=_toPropertyKey$t(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$t(et){var tt=_toPrimitive$t(et,"string");return _typeof$u(tt)=="symbol"?tt:String(tt)}function _toPrimitive$t(et,tt){if(_typeof$u(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$u(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}function _toConsumableArray$8(et){return _arrayWithoutHoles$8(et)||_iterableToArray$9(et)||_unsupportedIterableToArray$d(et)||_nonIterableSpread$8()}function _nonIterableSpread$8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$d(et,tt){if(et){if(typeof et=="string")return _arrayLikeToArray$d(et,tt);var rt=Object.prototype.toString.call(et).slice(8,-1);if(rt==="Object"&&et.constructor&&(rt=et.constructor.name),rt==="Map"||rt==="Set")return Array.from(et);if(rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt))return _arrayLikeToArray$d(et,tt)}}function _iterableToArray$9(et){if(typeof Symbol<"u"&&et[Symbol.iterator]!=null||et["@@iterator"]!=null)return Array.from(et)}function _arrayWithoutHoles$8(et){if(Array.isArray(et))return _arrayLikeToArray$d(et)}function _arrayLikeToArray$d(et,tt){(tt==null||tt>et.length)&&(tt=et.length);for(var rt=0,nt=new Array(tt);rt<tt;rt++)nt[rt]=et[rt];return nt}function getValueByDataKey(et,tt,rt){return isNil$1(et)||isNil$1(tt)?rt:isNumOrStr(tt)?get$2(et,tt,rt):isFunction$3(tt)?tt(et):rt}function getDomainOfDataByKey(et,tt,rt,nt){var it=flatMap$1(et,function(st){return getValueByDataKey(st,tt)});if(rt==="number"){var at=it.filter(function(st){return isNumber(st)||parseFloat(st)});return at.length?[min$1(at),max$1(at)]:[1/0,-1/0]}var ot=nt?it.filter(function(st){return!isNil$1(st)}):it;return ot.map(function(st){return isNumOrStr(st)||st instanceof Date?st:""})}var calculateActiveTickIndex=function et(tt){var rt,nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],it=arguments.length>2?arguments[2]:void 0,at=arguments.length>3?arguments[3]:void 0,ot=-1,st=(rt=nt==null?void 0:nt.length)!==null&&rt!==void 0?rt:0;if(st<=1)return 0;if(at&&at.axisType==="angleAxis"&&Math.abs(Math.abs(at.range[1]-at.range[0])-360)<=1e-6)for(var lt=at.range,ct=0;ct<st;ct++){var ut=ct>0?it[ct-1].coordinate:it[st-1].coordinate,ft=it[ct].coordinate,ht=ct>=st-1?it[0].coordinate:it[ct+1].coordinate,dt=void 0;if(mathSign(ft-ut)!==mathSign(ht-ft)){var vt=[];if(mathSign(ht-ft)===mathSign(lt[1]-lt[0])){dt=ht;var yt=ft+lt[1]-lt[0];vt[0]=Math.min(yt,(yt+ut)/2),vt[1]=Math.max(yt,(yt+ut)/2)}else{dt=ut;var xt=ht+lt[1]-lt[0];vt[0]=Math.min(ft,(xt+ft)/2),vt[1]=Math.max(ft,(xt+ft)/2)}var _t=[Math.min(ft,(dt+ft)/2),Math.max(ft,(dt+ft)/2)];if(tt>_t[0]&&tt<=_t[1]||tt>=vt[0]&&tt<=vt[1]){ot=it[ct].index;break}}else{var mt=Math.min(ut,ht),pt=Math.max(ut,ht);if(tt>(mt+ft)/2&&tt<=(pt+ft)/2){ot=it[ct].index;break}}}else for(var bt=0;bt<st;bt++)if(bt===0&&tt<=(nt[bt].coordinate+nt[bt+1].coordinate)/2||bt>0&&bt<st-1&&tt>(nt[bt].coordinate+nt[bt-1].coordinate)/2&&tt<=(nt[bt].coordinate+nt[bt+1].coordinate)/2||bt===st-1&&tt>(nt[bt].coordinate+nt[bt-1].coordinate)/2){ot=nt[bt].index;break}return ot},getMainColorOfGraphicItem=function et(tt){var rt=tt,nt=rt.type.displayName,it=tt.props,at=it.stroke,ot=it.fill,st;switch(nt){case"Line":st=at;break;case"Area":case"Radar":st=at&&at!=="none"?at:ot;break;default:st=ot;break}return st},getBarSizeList=function et(tt){var rt=tt.barSize,nt=tt.totalSize,it=tt.stackGroups,at=it===void 0?{}:it;if(!at)return{};for(var ot={},st=Object.keys(at),lt=0,ct=st.length;lt<ct;lt++)for(var ut=at[st[lt]].stackGroups,ft=Object.keys(ut),ht=0,dt=ft.length;ht<dt;ht++){var vt=ut[ft[ht]],yt=vt.items,xt=vt.cateAxisId,_t=yt.filter(function(Et){return getDisplayName(Et.type).indexOf("Bar")>=0});if(_t&&_t.length){var mt=_t[0].props.barSize,pt=_t[0].props[xt];ot[pt]||(ot[pt]=[]);var bt=isNil$1(mt)?rt:mt;ot[pt].push({item:_t[0],stackList:_t.slice(1),barSize:isNil$1(bt)?void 0:getPercentValue(bt,nt,0)})}}return ot},getBarPosition=function et(tt){var rt=tt.barGap,nt=tt.barCategoryGap,it=tt.bandSize,at=tt.sizeList,ot=at===void 0?[]:at,st=tt.maxBarSize,lt=ot.length;if(lt<1)return null;var ct=getPercentValue(rt,it,0,!0),ut,ft=[];if(ot[0].barSize===+ot[0].barSize){var ht=!1,dt=it/lt,vt=ot.reduce(function(bt,Et){return bt+Et.barSize||0},0);vt+=(lt-1)*ct,vt>=it&&(vt-=(lt-1)*ct,ct=0),vt>=it&&dt>0&&(ht=!0,dt*=.9,vt=lt*dt);var yt=(it-vt)/2>>0,xt={offset:yt-ct,size:0};ut=ot.reduce(function(bt,Et){var St={item:Et.item,position:{offset:xt.offset+xt.size+ct,size:ht?dt:Et.barSize}},Tt=[].concat(_toConsumableArray$8(bt),[St]);return xt=Tt[Tt.length-1].position,Et.stackList&&Et.stackList.length&&Et.stackList.forEach(function(Pt){Tt.push({item:Pt,position:xt})}),Tt},ft)}else{var _t=getPercentValue(nt,it,0,!0);it-2*_t-(lt-1)*ct<=0&&(ct=0);var mt=(it-2*_t-(lt-1)*ct)/lt;mt>1&&(mt>>=0);var pt=st===+st?Math.min(mt,st):mt;ut=ot.reduce(function(bt,Et,St){var Tt=[].concat(_toConsumableArray$8(bt),[{item:Et.item,position:{offset:_t+(mt+ct)*St+(mt-pt)/2,size:pt}}]);return Et.stackList&&Et.stackList.length&&Et.stackList.forEach(function(Pt){Tt.push({item:Pt,position:Tt[Tt.length-1].position})}),Tt},ft)}return ut},appendOffsetOfLegend=function et(tt,rt,nt,it){var at=nt.children,ot=nt.width,st=nt.margin,lt=ot-(st.left||0)-(st.right||0),ct=getLegendProps({children:at,legendWidth:lt});if(ct){var ut=it||{},ft=ut.width,ht=ut.height,dt=ct.align,vt=ct.verticalAlign,yt=ct.layout;if((yt==="vertical"||yt==="horizontal"&&vt==="middle")&&dt!=="center"&&isNumber(tt[dt]))return _objectSpread$s(_objectSpread$s({},tt),{},_defineProperty$t({},dt,tt[dt]+(ft||0)));if((yt==="horizontal"||yt==="vertical"&&dt==="center")&&vt!=="middle"&&isNumber(tt[vt]))return _objectSpread$s(_objectSpread$s({},tt),{},_defineProperty$t({},vt,tt[vt]+(ht||0)))}return tt},isErrorBarRelevantForAxis=function et(tt,rt,nt){return isNil$1(rt)?!0:tt==="horizontal"?rt==="yAxis":tt==="vertical"||nt==="x"?rt==="xAxis":nt==="y"?rt==="yAxis":!0},getDomainOfErrorBars=function et(tt,rt,nt,it,at){var ot=rt.props.children,st=findAllByType(ot,ErrorBar).filter(function(ct){return isErrorBarRelevantForAxis(it,at,ct.props.direction)});if(st&&st.length){var lt=st.map(function(ct){return ct.props.dataKey});return tt.reduce(function(ct,ut){var ft=getValueByDataKey(ut,nt);if(isNil$1(ft))return ct;var ht=Array.isArray(ft)?[min$1(ft),max$1(ft)]:[ft,ft],dt=lt.reduce(function(vt,yt){var xt=getValueByDataKey(ut,yt,0),_t=ht[0]-Math.abs(Array.isArray(xt)?xt[0]:xt),mt=ht[1]+Math.abs(Array.isArray(xt)?xt[1]:xt);return[Math.min(_t,vt[0]),Math.max(mt,vt[1])]},[1/0,-1/0]);return[Math.min(dt[0],ct[0]),Math.max(dt[1],ct[1])]},[1/0,-1/0])}return null},parseErrorBarsOfAxis=function et(tt,rt,nt,it,at){var ot=rt.map(function(st){return getDomainOfErrorBars(tt,st,nt,at,it)}).filter(function(st){return!isNil$1(st)});return ot&&ot.length?ot.reduce(function(st,lt){return[Math.min(st[0],lt[0]),Math.max(st[1],lt[1])]},[1/0,-1/0]):null},getDomainOfItemsWithSameAxis=function et(tt,rt,nt,it,at){var ot=rt.map(function(lt){var ct=lt.props.dataKey;return nt==="number"&&ct&&getDomainOfErrorBars(tt,lt,ct,it)||getDomainOfDataByKey(tt,ct,nt,at)});if(nt==="number")return ot.reduce(function(lt,ct){return[Math.min(lt[0],ct[0]),Math.max(lt[1],ct[1])]},[1/0,-1/0]);var st={};return ot.reduce(function(lt,ct){for(var ut=0,ft=ct.length;ut<ft;ut++)st[ct[ut]]||(st[ct[ut]]=!0,lt.push(ct[ut]));return lt},[])},isCategoricalAxis=function et(tt,rt){return tt==="horizontal"&&rt==="xAxis"||tt==="vertical"&&rt==="yAxis"||tt==="centric"&&rt==="angleAxis"||tt==="radial"&&rt==="radiusAxis"},getCoordinatesOfGrid=function et(tt,rt,nt,it){if(it)return tt.map(function(lt){return lt.coordinate});var at,ot,st=tt.map(function(lt){return lt.coordinate===rt&&(at=!0),lt.coordinate===nt&&(ot=!0),lt.coordinate});return at||st.push(rt),ot||st.push(nt),st},getTicksOfAxis=function et(tt,rt,nt){if(!tt)return null;var it=tt.scale,at=tt.duplicateDomain,ot=tt.type,st=tt.range,lt=tt.realScaleType==="scaleBand"?it.bandwidth()/2:2,ct=(rt||nt)&&ot==="category"&&it.bandwidth?it.bandwidth()/lt:0;if(ct=tt.axisType==="angleAxis"&&(st==null?void 0:st.length)>=2?mathSign(st[0]-st[1])*2*ct:ct,rt&&(tt.ticks||tt.niceTicks)){var ut=(tt.ticks||tt.niceTicks).map(function(ft){var ht=at?at.indexOf(ft):ft;return{coordinate:it(ht)+ct,value:ft,offset:ct}});return ut.filter(function(ft){return!isNan(ft.coordinate)})}return tt.isCategorical&&tt.categoricalDomain?tt.categoricalDomain.map(function(ft,ht){return{coordinate:it(ft)+ct,value:ft,index:ht,offset:ct}}):it.ticks&&!nt?it.ticks(tt.tickCount).map(function(ft){return{coordinate:it(ft)+ct,value:ft,offset:ct}}):it.domain().map(function(ft,ht){return{coordinate:it(ft)+ct,value:at?at[ft]:ft,index:ht,offset:ct}})},handlerWeakMap=new WeakMap,combineEventHandlers=function et(tt,rt){if(typeof rt!="function")return tt;handlerWeakMap.has(tt)||handlerWeakMap.set(tt,new WeakMap);var nt=handlerWeakMap.get(tt);if(nt.has(rt))return nt.get(rt);var it=function(){tt.apply(void 0,arguments),rt.apply(void 0,arguments)};return nt.set(rt,it),it},parseScale=function et(tt,rt,nt){var it=tt.scale,at=tt.type,ot=tt.layout,st=tt.axisType;if(it==="auto")return ot==="radial"&&st==="radiusAxis"?{scale:band(),realScaleType:"band"}:ot==="radial"&&st==="angleAxis"?{scale:linear(),realScaleType:"linear"}:at==="category"&&rt&&(rt.indexOf("LineChart")>=0||rt.indexOf("AreaChart")>=0||rt.indexOf("ComposedChart")>=0&&!nt)?{scale:point(),realScaleType:"point"}:at==="category"?{scale:band(),realScaleType:"band"}:{scale:linear(),realScaleType:"linear"};if(isString$1(it)){var lt="scale".concat(upperFirst$1(it));return{scale:(d3Scales[lt]||point)(),realScaleType:d3Scales[lt]?lt:"point"}}return isFunction$3(it)?{scale:it}:{scale:point(),realScaleType:"point"}},EPS=1e-4,checkDomainOfScale=function et(tt){var rt=tt.domain();if(!(!rt||rt.length<=2)){var nt=rt.length,it=tt.range(),at=Math.min(it[0],it[1])-EPS,ot=Math.max(it[0],it[1])+EPS,st=tt(rt[0]),lt=tt(rt[nt-1]);(st<at||st>ot||lt<at||lt>ot)&&tt.domain([rt[0],rt[nt-1]])}},findPositionOfBar=function et(tt,rt){if(!tt)return null;for(var nt=0,it=tt.length;nt<it;nt++)if(tt[nt].item===rt)return tt[nt].position;return null},truncateByDomain=function et(tt,rt){if(!rt||rt.length!==2||!isNumber(rt[0])||!isNumber(rt[1]))return tt;var nt=Math.min(rt[0],rt[1]),it=Math.max(rt[0],rt[1]),at=[tt[0],tt[1]];return(!isNumber(tt[0])||tt[0]<nt)&&(at[0]=nt),(!isNumber(tt[1])||tt[1]>it)&&(at[1]=it),at[0]>it&&(at[0]=it),at[1]<nt&&(at[1]=nt),at},offsetSign=function et(tt){var rt=tt.length;if(!(rt<=0))for(var nt=0,it=tt[0].length;nt<it;++nt)for(var at=0,ot=0,st=0;st<rt;++st){var lt=isNan(tt[st][nt][1])?tt[st][nt][0]:tt[st][nt][1];lt>=0?(tt[st][nt][0]=at,tt[st][nt][1]=at+lt,at=tt[st][nt][1]):(tt[st][nt][0]=ot,tt[st][nt][1]=ot+lt,ot=tt[st][nt][1])}},offsetPositive=function et(tt){var rt=tt.length;if(!(rt<=0))for(var nt=0,it=tt[0].length;nt<it;++nt)for(var at=0,ot=0;ot<rt;++ot){var st=isNan(tt[ot][nt][1])?tt[ot][nt][0]:tt[ot][nt][1];st>=0?(tt[ot][nt][0]=at,tt[ot][nt][1]=at+st,at=tt[ot][nt][1]):(tt[ot][nt][0]=0,tt[ot][nt][1]=0)}},STACK_OFFSET_MAP={sign:offsetSign,expand:stackOffsetExpand,none:stackOffsetNone,silhouette:stackOffsetSilhouette,wiggle:stackOffsetWiggle,positive:offsetPositive},getStackedData=function et(tt,rt,nt){var it=rt.map(function(st){return st.props.dataKey}),at=STACK_OFFSET_MAP[nt],ot=shapeStack().keys(it).value(function(st,lt){return+getValueByDataKey(st,lt,0)}).order(stackOrderNone).offset(at);return ot(tt)},getStackGroupsByAxisId=function et(tt,rt,nt,it,at,ot){if(!tt)return null;var st=ot?rt.reverse():rt,lt={},ct=st.reduce(function(ft,ht){var dt=ht.props,vt=dt.stackId,yt=dt.hide;if(yt)return ft;var xt=ht.props[nt],_t=ft[xt]||{hasStack:!1,stackGroups:{}};if(isNumOrStr(vt)){var mt=_t.stackGroups[vt]||{numericAxisId:nt,cateAxisId:it,items:[]};mt.items.push(ht),_t.hasStack=!0,_t.stackGroups[vt]=mt}else _t.stackGroups[uniqueId("_stackId_")]={numericAxisId:nt,cateAxisId:it,items:[ht]};return _objectSpread$s(_objectSpread$s({},ft),{},_defineProperty$t({},xt,_t))},lt),ut={};return Object.keys(ct).reduce(function(ft,ht){var dt=ct[ht];if(dt.hasStack){var vt={};dt.stackGroups=Object.keys(dt.stackGroups).reduce(function(yt,xt){var _t=dt.stackGroups[xt];return _objectSpread$s(_objectSpread$s({},yt),{},_defineProperty$t({},xt,{numericAxisId:nt,cateAxisId:it,items:_t.items,stackedData:getStackedData(tt,_t.items,at)}))},vt)}return _objectSpread$s(_objectSpread$s({},ft),{},_defineProperty$t({},ht,dt))},ut)},getTicksOfScale=function et(tt,rt){var nt=rt.realScaleType,it=rt.type,at=rt.tickCount,ot=rt.originalDomain,st=rt.allowDecimals,lt=nt||rt.scale;if(lt!=="auto"&&lt!=="linear")return null;if(at&&it==="number"&&ot&&(ot[0]==="auto"||ot[1]==="auto")){var ct=tt.domain();if(!ct.length)return null;var ut=getNiceTickValues(ct,at,st);return tt.domain([min$1(ut),max$1(ut)]),{niceTicks:ut}}if(at&&it==="number"){var ft=tt.domain(),ht=getTickValuesFixedDomain(ft,at,st);return{niceTicks:ht}}return null},getCateCoordinateOfBar=function et(tt){var rt=tt.axis,nt=tt.ticks,it=tt.offset,at=tt.bandSize,ot=tt.entry,st=tt.index;if(rt.type==="category")return nt[st]?nt[st].coordinate+it:null;var lt=getValueByDataKey(ot,rt.dataKey,rt.domain[st]);return isNil$1(lt)?null:rt.scale(lt)-at/2+it},getBaseValueOfBar=function et(tt){var rt=tt.numericAxis,nt=rt.scale.domain();if(rt.type==="number"){var it=Math.min(nt[0],nt[1]),at=Math.max(nt[0],nt[1]);return it<=0&&at>=0?0:at<0?at:it}return nt[0]},getStackedDataOfItem=function et(tt,rt){var nt=tt.props.stackId;if(isNumOrStr(nt)){var it=rt[nt];if(it){var at=it.items.indexOf(tt);return at>=0?it.stackedData[at]:null}}return null},getDomainOfSingle=function et(tt){return tt.reduce(function(rt,nt){return[min$1(nt.concat([rt[0]]).filter(isNumber)),max$1(nt.concat([rt[1]]).filter(isNumber))]},[1/0,-1/0])},getDomainOfStackGroups=function et(tt,rt,nt){return Object.keys(tt).reduce(function(it,at){var ot=tt[at],st=ot.stackedData,lt=st.reduce(function(ct,ut){var ft=getDomainOfSingle(ut.slice(rt,nt+1));return[Math.min(ct[0],ft[0]),Math.max(ct[1],ft[1])]},[1/0,-1/0]);return[Math.min(lt[0],it[0]),Math.max(lt[1],it[1])]},[1/0,-1/0]).map(function(it){return it===1/0||it===-1/0?0:it})},MIN_VALUE_REG=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,MAX_VALUE_REG=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,parseSpecifiedDomain=function et(tt,rt,nt){if(isFunction$3(tt))return tt(rt,nt);if(!Array.isArray(tt))return rt;var it=[];if(isNumber(tt[0]))it[0]=nt?tt[0]:Math.min(tt[0],rt[0]);else if(MIN_VALUE_REG.test(tt[0])){var at=+MIN_VALUE_REG.exec(tt[0])[1];it[0]=rt[0]-at}else isFunction$3(tt[0])?it[0]=tt[0](rt[0]):it[0]=rt[0];if(isNumber(tt[1]))it[1]=nt?tt[1]:Math.max(tt[1],rt[1]);else if(MAX_VALUE_REG.test(tt[1])){var ot=+MAX_VALUE_REG.exec(tt[1])[1];it[1]=rt[1]+ot}else isFunction$3(tt[1])?it[1]=tt[1](rt[1]):it[1]=rt[1];return it},getBandSizeOfAxis=function et(tt,rt,nt){if(tt&&tt.scale&&tt.scale.bandwidth){var it=tt.scale.bandwidth();if(!nt||it>0)return it}if(tt&&rt&&rt.length>=2){for(var at=sortBy$1(rt,function(ft){return ft.coordinate}),ot=1/0,st=1,lt=at.length;st<lt;st++){var ct=at[st],ut=at[st-1];ot=Math.min((ct.coordinate||0)-(ut.coordinate||0),ot)}return ot===1/0?0:ot}return nt?void 0:0},parseDomainOfCategoryAxis=function et(tt,rt,nt){return!tt||!tt.length||isEqual$1(tt,get$2(nt,"type.defaultProps.domain"))?rt:tt},getTooltipItem=function et(tt,rt){var nt=tt.props,it=nt.dataKey,at=nt.name,ot=nt.unit,st=nt.formatter,lt=nt.tooltipType,ct=nt.chartType,ut=nt.hide;return _objectSpread$s(_objectSpread$s({},filterProps(tt,!1)),{},{dataKey:it,unit:ot,formatter:st,name:at||it,color:getMainColorOfGraphicItem(tt),value:getValueByDataKey(rt,it),type:lt,payload:rt,chartType:ct,hide:ut})};function _typeof$t(et){"@babel/helpers - typeof";return _typeof$t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$t(et)}function ownKeys$r(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(it){return Object.getOwnPropertyDescriptor(et,it).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$r(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$r(Object(rt),!0).forEach(function(nt){_defineProperty$s(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$r(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$s(et,tt,rt){return tt=_toPropertyKey$s(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$s(et){var tt=_toPrimitive$s(et,"string");return _typeof$t(tt)=="symbol"?tt:String(tt)}function _toPrimitive$s(et,tt){if(_typeof$t(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$t(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}function _slicedToArray$6(et,tt){return _arrayWithHoles$7(et)||_iterableToArrayLimit$6(et,tt)||_unsupportedIterableToArray$c(et,tt)||_nonIterableRest$7()}function _nonIterableRest$7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$c(et,tt){if(et){if(typeof et=="string")return _arrayLikeToArray$c(et,tt);var rt=Object.prototype.toString.call(et).slice(8,-1);if(rt==="Object"&&et.constructor&&(rt=et.constructor.name),rt==="Map"||rt==="Set")return Array.from(et);if(rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt))return _arrayLikeToArray$c(et,tt)}}function _arrayLikeToArray$c(et,tt){(tt==null||tt>et.length)&&(tt=et.length);for(var rt=0,nt=new Array(tt);rt<tt;rt++)nt[rt]=et[rt];return nt}function _iterableToArrayLimit$6(et,tt){var rt=et==null?null:typeof Symbol<"u"&&et[Symbol.iterator]||et["@@iterator"];if(rt!=null){var nt,it,at,ot,st=[],lt=!0,ct=!1;try{if(at=(rt=rt.call(et)).next,tt!==0)for(;!(lt=(nt=at.call(rt)).done)&&(st.push(nt.value),st.length!==tt);lt=!0);}catch(ut){ct=!0,it=ut}finally{try{if(!lt&&rt.return!=null&&(ot=rt.return(),Object(ot)!==ot))return}finally{if(ct)throw it}}return st}}function _arrayWithHoles$7(et){if(Array.isArray(et))return et}var RADIAN$1=Math.PI/180,radianToDegree=function et(tt){return tt*180/Math.PI},polarToCartesian=function et(tt,rt,nt,it){return{x:tt+Math.cos(-RADIAN$1*it)*nt,y:rt+Math.sin(-RADIAN$1*it)*nt}},getMaxRadius=function et(tt,rt){var nt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(tt-(nt.left||0)-(nt.right||0)),Math.abs(rt-(nt.top||0)-(nt.bottom||0)))/2},formatAxisMap$1=function et(tt,rt,nt,it,at){var ot=tt.width,st=tt.height,lt=tt.startAngle,ct=tt.endAngle,ut=getPercentValue(tt.cx,ot,ot/2),ft=getPercentValue(tt.cy,st,st/2),ht=getMaxRadius(ot,st,nt),dt=getPercentValue(tt.innerRadius,ht,0),vt=getPercentValue(tt.outerRadius,ht,ht*.8),yt=Object.keys(rt);return yt.reduce(function(xt,_t){var mt=rt[_t],pt=mt.domain,bt=mt.reversed,Et;if(isNil$1(mt.range))it==="angleAxis"?Et=[lt,ct]:it==="radiusAxis"&&(Et=[dt,vt]),bt&&(Et=[Et[1],Et[0]]);else{Et=mt.range;var St=Et,Tt=_slicedToArray$6(St,2);lt=Tt[0],ct=Tt[1]}var Pt=parseScale(mt,at),Rt=Pt.realScaleType,It=Pt.scale;It.domain(pt).range(Et),checkDomainOfScale(It);var $t=getTicksOfScale(It,_objectSpread$r(_objectSpread$r({},mt),{},{realScaleType:Rt})),kt=_objectSpread$r(_objectSpread$r(_objectSpread$r({},mt),$t),{},{range:Et,radius:vt,realScaleType:Rt,scale:It,cx:ut,cy:ft,innerRadius:dt,outerRadius:vt,startAngle:lt,endAngle:ct});return _objectSpread$r(_objectSpread$r({},xt),{},_defineProperty$s({},_t,kt))},{})},distanceBetweenPoints=function et(tt,rt){var nt=tt.x,it=tt.y,at=rt.x,ot=rt.y;return Math.sqrt(Math.pow(nt-at,2)+Math.pow(it-ot,2))},getAngleOfPoint=function et(tt,rt){var nt=tt.x,it=tt.y,at=rt.cx,ot=rt.cy,st=distanceBetweenPoints({x:nt,y:it},{x:at,y:ot});if(st<=0)return{radius:st};var lt=(nt-at)/st,ct=Math.acos(lt);return it>ot&&(ct=2*Math.PI-ct),{radius:st,angle:radianToDegree(ct),angleInRadian:ct}},formatAngleOfSector=function et(tt){var rt=tt.startAngle,nt=tt.endAngle,it=Math.floor(rt/360),at=Math.floor(nt/360),ot=Math.min(it,at);return{startAngle:rt-ot*360,endAngle:nt-ot*360}},reverseFormatAngleOfSetor=function et(tt,rt){var nt=rt.startAngle,it=rt.endAngle,at=Math.floor(nt/360),ot=Math.floor(it/360),st=Math.min(at,ot);return tt+st*360},inRangeOfSector=function et(tt,rt){var nt=tt.x,it=tt.y,at=getAngleOfPoint({x:nt,y:it},rt),ot=at.radius,st=at.angle,lt=rt.innerRadius,ct=rt.outerRadius;if(ot<lt||ot>ct)return!1;if(ot===0)return!0;var ut=formatAngleOfSector(rt),ft=ut.startAngle,ht=ut.endAngle,dt=st,vt;if(ft<=ht){for(;dt>ht;)dt-=360;for(;dt<ft;)dt+=360;vt=dt>=ft&&dt<=ht}else{for(;dt>ft;)dt-=360;for(;dt<ht;)dt+=360;vt=dt>=ht&&dt<=ft}return vt?_objectSpread$r(_objectSpread$r({},rt),{},{radius:ot,angle:reverseFormatAngleOfSetor(dt,rt)}):null},getTickClassName=function et(tt){return!reactExports.isValidElement(tt)&&!isFunction$3(tt)&&typeof tt!="boolean"?tt.className:""};function _typeof$s(et){"@babel/helpers - typeof";return _typeof$s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$s(et)}var _excluded$b=["offset"];function _toConsumableArray$7(et){return _arrayWithoutHoles$7(et)||_iterableToArray$8(et)||_unsupportedIterableToArray$b(et)||_nonIterableSpread$7()}function _nonIterableSpread$7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$b(et,tt){if(et){if(typeof et=="string")return _arrayLikeToArray$b(et,tt);var rt=Object.prototype.toString.call(et).slice(8,-1);if(rt==="Object"&&et.constructor&&(rt=et.constructor.name),rt==="Map"||rt==="Set")return Array.from(et);if(rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt))return _arrayLikeToArray$b(et,tt)}}function _iterableToArray$8(et){if(typeof Symbol<"u"&&et[Symbol.iterator]!=null||et["@@iterator"]!=null)return Array.from(et)}function _arrayWithoutHoles$7(et){if(Array.isArray(et))return _arrayLikeToArray$b(et)}function _arrayLikeToArray$b(et,tt){(tt==null||tt>et.length)&&(tt=et.length);for(var rt=0,nt=new Array(tt);rt<tt;rt++)nt[rt]=et[rt];return nt}function _objectWithoutProperties$b(et,tt){if(et==null)return{};var rt=_objectWithoutPropertiesLoose$b(et,tt),nt,it;if(Object.getOwnPropertySymbols){var at=Object.getOwnPropertySymbols(et);for(it=0;it<at.length;it++)nt=at[it],!(tt.indexOf(nt)>=0)&&Object.prototype.propertyIsEnumerable.call(et,nt)&&(rt[nt]=et[nt])}return rt}function _objectWithoutPropertiesLoose$b(et,tt){if(et==null)return{};var rt={},nt=Object.keys(et),it,at;for(at=0;at<nt.length;at++)it=nt[at],!(tt.indexOf(it)>=0)&&(rt[it]=et[it]);return rt}function ownKeys$q(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(it){return Object.getOwnPropertyDescriptor(et,it).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$q(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$q(Object(rt),!0).forEach(function(nt){_defineProperty$r(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$q(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$r(et,tt,rt){return tt=_toPropertyKey$r(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$r(et){var tt=_toPrimitive$r(et,"string");return _typeof$s(tt)=="symbol"?tt:String(tt)}function _toPrimitive$r(et,tt){if(_typeof$s(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$s(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}function _extends$m(){return _extends$m=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$m.apply(this,arguments)}var getLabel=function et(tt){var rt=tt.value,nt=tt.formatter,it=isNil$1(tt.children)?rt:tt.children;return isFunction$3(nt)?nt(it):it},getDeltaAngle$1=function et(tt,rt){var nt=mathSign(rt-tt),it=Math.min(Math.abs(rt-tt),360);return nt*it},renderRadialLabel=function et(tt,rt,nt){var it=tt.position,at=tt.viewBox,ot=tt.offset,st=tt.className,lt=at,ct=lt.cx,ut=lt.cy,ft=lt.innerRadius,ht=lt.outerRadius,dt=lt.startAngle,vt=lt.endAngle,yt=lt.clockWise,xt=(ft+ht)/2,_t=getDeltaAngle$1(dt,vt),mt=_t>=0?1:-1,pt,bt;it==="insideStart"?(pt=dt+mt*ot,bt=yt):it==="insideEnd"?(pt=vt-mt*ot,bt=!yt):it==="end"&&(pt=vt+mt*ot,bt=yt),bt=_t<=0?bt:!bt;var Et=polarToCartesian(ct,ut,xt,pt),St=polarToCartesian(ct,ut,xt,pt+(bt?1:-1)*359),Tt="M".concat(Et.x,",").concat(Et.y,`
    A`).concat(xt,",").concat(xt,",0,1,").concat(bt?0:1,`,
    `).concat(St.x,",").concat(St.y),Pt=isNil$1(tt.id)?uniqueId("recharts-radial-line-"):tt.id;return React.createElement("text",_extends$m({},nt,{dominantBaseline:"central",className:clsx("recharts-radial-bar-label",st)}),React.createElement("defs",null,React.createElement("path",{id:Pt,d:Tt})),React.createElement("textPath",{xlinkHref:"#".concat(Pt)},rt))},getAttrsOfPolarLabel=function et(tt){var rt=tt.viewBox,nt=tt.offset,it=tt.position,at=rt,ot=at.cx,st=at.cy,lt=at.innerRadius,ct=at.outerRadius,ut=at.startAngle,ft=at.endAngle,ht=(ut+ft)/2;if(it==="outside"){var dt=polarToCartesian(ot,st,ct+nt,ht),vt=dt.x,yt=dt.y;return{x:vt,y:yt,textAnchor:vt>=ot?"start":"end",verticalAnchor:"middle"}}if(it==="center")return{x:ot,y:st,textAnchor:"middle",verticalAnchor:"middle"};if(it==="centerTop")return{x:ot,y:st,textAnchor:"middle",verticalAnchor:"start"};if(it==="centerBottom")return{x:ot,y:st,textAnchor:"middle",verticalAnchor:"end"};var xt=(lt+ct)/2,_t=polarToCartesian(ot,st,xt,ht),mt=_t.x,pt=_t.y;return{x:mt,y:pt,textAnchor:"middle",verticalAnchor:"middle"}},getAttrsOfCartesianLabel=function et(tt){var rt=tt.viewBox,nt=tt.parentViewBox,it=tt.offset,at=tt.position,ot=rt,st=ot.x,lt=ot.y,ct=ot.width,ut=ot.height,ft=ut>=0?1:-1,ht=ft*it,dt=ft>0?"end":"start",vt=ft>0?"start":"end",yt=ct>=0?1:-1,xt=yt*it,_t=yt>0?"end":"start",mt=yt>0?"start":"end";if(at==="top"){var pt={x:st+ct/2,y:lt-ft*it,textAnchor:"middle",verticalAnchor:dt};return _objectSpread$q(_objectSpread$q({},pt),nt?{height:Math.max(lt-nt.y,0),width:ct}:{})}if(at==="bottom"){var bt={x:st+ct/2,y:lt+ut+ht,textAnchor:"middle",verticalAnchor:vt};return _objectSpread$q(_objectSpread$q({},bt),nt?{height:Math.max(nt.y+nt.height-(lt+ut),0),width:ct}:{})}if(at==="left"){var Et={x:st-xt,y:lt+ut/2,textAnchor:_t,verticalAnchor:"middle"};return _objectSpread$q(_objectSpread$q({},Et),nt?{width:Math.max(Et.x-nt.x,0),height:ut}:{})}if(at==="right"){var St={x:st+ct+xt,y:lt+ut/2,textAnchor:mt,verticalAnchor:"middle"};return _objectSpread$q(_objectSpread$q({},St),nt?{width:Math.max(nt.x+nt.width-St.x,0),height:ut}:{})}var Tt=nt?{width:ct,height:ut}:{};return at==="insideLeft"?_objectSpread$q({x:st+xt,y:lt+ut/2,textAnchor:mt,verticalAnchor:"middle"},Tt):at==="insideRight"?_objectSpread$q({x:st+ct-xt,y:lt+ut/2,textAnchor:_t,verticalAnchor:"middle"},Tt):at==="insideTop"?_objectSpread$q({x:st+ct/2,y:lt+ht,textAnchor:"middle",verticalAnchor:vt},Tt):at==="insideBottom"?_objectSpread$q({x:st+ct/2,y:lt+ut-ht,textAnchor:"middle",verticalAnchor:dt},Tt):at==="insideTopLeft"?_objectSpread$q({x:st+xt,y:lt+ht,textAnchor:mt,verticalAnchor:vt},Tt):at==="insideTopRight"?_objectSpread$q({x:st+ct-xt,y:lt+ht,textAnchor:_t,verticalAnchor:vt},Tt):at==="insideBottomLeft"?_objectSpread$q({x:st+xt,y:lt+ut-ht,textAnchor:mt,verticalAnchor:dt},Tt):at==="insideBottomRight"?_objectSpread$q({x:st+ct-xt,y:lt+ut-ht,textAnchor:_t,verticalAnchor:dt},Tt):isObject$8(at)&&(isNumber(at.x)||isPercent(at.x))&&(isNumber(at.y)||isPercent(at.y))?_objectSpread$q({x:st+getPercentValue(at.x,ct),y:lt+getPercentValue(at.y,ut),textAnchor:"end",verticalAnchor:"end"},Tt):_objectSpread$q({x:st+ct/2,y:lt+ut/2,textAnchor:"middle",verticalAnchor:"middle"},Tt)},isPolar=function et(tt){return"cx"in tt&&isNumber(tt.cx)};function Label(et){var tt=et.offset,rt=tt===void 0?5:tt,nt=_objectWithoutProperties$b(et,_excluded$b),it=_objectSpread$q({offset:rt},nt),at=it.viewBox,ot=it.position,st=it.value,lt=it.children,ct=it.content,ut=it.className,ft=ut===void 0?"":ut,ht=it.textBreakAll;if(!at||isNil$1(st)&&isNil$1(lt)&&!reactExports.isValidElement(ct)&&!isFunction$3(ct))return null;if(reactExports.isValidElement(ct))return reactExports.cloneElement(ct,it);var dt;if(isFunction$3(ct)){if(dt=reactExports.createElement(ct,it),reactExports.isValidElement(dt))return dt}else dt=getLabel(it);var vt=isPolar(at),yt=filterProps(it,!0);if(vt&&(ot==="insideStart"||ot==="insideEnd"||ot==="end"))return renderRadialLabel(it,dt,yt);var xt=vt?getAttrsOfPolarLabel(it):getAttrsOfCartesianLabel(it);return React.createElement(Text,_extends$m({className:clsx("recharts-label",ft)},yt,xt,{breakAll:ht}),dt)}Label.displayName="Label";var parseViewBox=function et(tt){var rt=tt.cx,nt=tt.cy,it=tt.angle,at=tt.startAngle,ot=tt.endAngle,st=tt.r,lt=tt.radius,ct=tt.innerRadius,ut=tt.outerRadius,ft=tt.x,ht=tt.y,dt=tt.top,vt=tt.left,yt=tt.width,xt=tt.height,_t=tt.clockWise,mt=tt.labelViewBox;if(mt)return mt;if(isNumber(yt)&&isNumber(xt)){if(isNumber(ft)&&isNumber(ht))return{x:ft,y:ht,width:yt,height:xt};if(isNumber(dt)&&isNumber(vt))return{x:dt,y:vt,width:yt,height:xt}}return isNumber(ft)&&isNumber(ht)?{x:ft,y:ht,width:0,height:0}:isNumber(rt)&&isNumber(nt)?{cx:rt,cy:nt,startAngle:at||it||0,endAngle:ot||it||0,innerRadius:ct||0,outerRadius:ut||lt||st||0,clockWise:_t}:tt.viewBox?tt.viewBox:{}},parseLabel=function et(tt,rt){return tt?tt===!0?React.createElement(Label,{key:"label-implicit",viewBox:rt}):isNumOrStr(tt)?React.createElement(Label,{key:"label-implicit",viewBox:rt,value:tt}):reactExports.isValidElement(tt)?tt.type===Label?reactExports.cloneElement(tt,{key:"label-implicit",viewBox:rt}):React.createElement(Label,{key:"label-implicit",content:tt,viewBox:rt}):isFunction$3(tt)?React.createElement(Label,{key:"label-implicit",content:tt,viewBox:rt}):isObject$8(tt)?React.createElement(Label,_extends$m({viewBox:rt},tt,{key:"label-implicit"})):null:null},renderCallByParent$1=function et(tt,rt){var nt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!tt||!tt.children&&nt&&!tt.label)return null;var it=tt.children,at=parseViewBox(tt),ot=findAllByType(it,Label).map(function(lt,ct){return reactExports.cloneElement(lt,{viewBox:rt||at,key:"label-".concat(ct)})});if(!nt)return ot;var st=parseLabel(tt.label,rt||at);return[st].concat(_toConsumableArray$7(ot))};Label.parseViewBox=parseViewBox;Label.renderCallByParent=renderCallByParent$1;function last(et){var tt=et==null?0:et.length;return tt?et[tt-1]:void 0}var last_1=last;const last$1=getDefaultExportFromCjs(last_1);function _typeof$r(et){"@babel/helpers - typeof";return _typeof$r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$r(et)}var _excluded$a=["valueAccessor"],_excluded2$4=["data","dataKey","clockWise","id","textBreakAll"];function _toConsumableArray$6(et){return _arrayWithoutHoles$6(et)||_iterableToArray$7(et)||_unsupportedIterableToArray$a(et)||_nonIterableSpread$6()}function _nonIterableSpread$6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$a(et,tt){if(et){if(typeof et=="string")return _arrayLikeToArray$a(et,tt);var rt=Object.prototype.toString.call(et).slice(8,-1);if(rt==="Object"&&et.constructor&&(rt=et.constructor.name),rt==="Map"||rt==="Set")return Array.from(et);if(rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt))return _arrayLikeToArray$a(et,tt)}}function _iterableToArray$7(et){if(typeof Symbol<"u"&&et[Symbol.iterator]!=null||et["@@iterator"]!=null)return Array.from(et)}function _arrayWithoutHoles$6(et){if(Array.isArray(et))return _arrayLikeToArray$a(et)}function _arrayLikeToArray$a(et,tt){(tt==null||tt>et.length)&&(tt=et.length);for(var rt=0,nt=new Array(tt);rt<tt;rt++)nt[rt]=et[rt];return nt}function _extends$l(){return _extends$l=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$l.apply(this,arguments)}function ownKeys$p(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(it){return Object.getOwnPropertyDescriptor(et,it).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$p(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$p(Object(rt),!0).forEach(function(nt){_defineProperty$q(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$p(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$q(et,tt,rt){return tt=_toPropertyKey$q(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$q(et){var tt=_toPrimitive$q(et,"string");return _typeof$r(tt)=="symbol"?tt:String(tt)}function _toPrimitive$q(et,tt){if(_typeof$r(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$r(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}function _objectWithoutProperties$a(et,tt){if(et==null)return{};var rt=_objectWithoutPropertiesLoose$a(et,tt),nt,it;if(Object.getOwnPropertySymbols){var at=Object.getOwnPropertySymbols(et);for(it=0;it<at.length;it++)nt=at[it],!(tt.indexOf(nt)>=0)&&Object.prototype.propertyIsEnumerable.call(et,nt)&&(rt[nt]=et[nt])}return rt}function _objectWithoutPropertiesLoose$a(et,tt){if(et==null)return{};var rt={},nt=Object.keys(et),it,at;for(at=0;at<nt.length;at++)it=nt[at],!(tt.indexOf(it)>=0)&&(rt[it]=et[it]);return rt}var defaultAccessor=function et(tt){return Array.isArray(tt.value)?last$1(tt.value):tt.value};function LabelList(et){var tt=et.valueAccessor,rt=tt===void 0?defaultAccessor:tt,nt=_objectWithoutProperties$a(et,_excluded$a),it=nt.data,at=nt.dataKey,ot=nt.clockWise,st=nt.id,lt=nt.textBreakAll,ct=_objectWithoutProperties$a(nt,_excluded2$4);return!it||!it.length?null:React.createElement(Layer,{className:"recharts-label-list"},it.map(function(ut,ft){var ht=isNil$1(at)?rt(ut,ft):getValueByDataKey(ut&&ut.payload,at),dt=isNil$1(st)?{}:{id:"".concat(st,"-").concat(ft)};return React.createElement(Label,_extends$l({},filterProps(ut,!0),ct,dt,{parentViewBox:ut.parentViewBox,value:ht,textBreakAll:lt,viewBox:Label.parseViewBox(isNil$1(ot)?ut:_objectSpread$p(_objectSpread$p({},ut),{},{clockWise:ot})),key:"label-".concat(ft),index:ft}))}))}LabelList.displayName="LabelList";function parseLabelList(et,tt){return et?et===!0?React.createElement(LabelList,{key:"labelList-implicit",data:tt}):React.isValidElement(et)||isFunction$3(et)?React.createElement(LabelList,{key:"labelList-implicit",data:tt,content:et}):isObject$8(et)?React.createElement(LabelList,_extends$l({data:tt},et,{key:"labelList-implicit"})):null:null}function renderCallByParent(et,tt){var rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!et||!et.children&&rt&&!et.label)return null;var nt=et.children,it=findAllByType(nt,LabelList).map(function(ot,st){return reactExports.cloneElement(ot,{data:tt,key:"labelList-".concat(st)})});if(!rt)return it;var at=parseLabelList(et.label,tt);return[at].concat(_toConsumableArray$6(it))}LabelList.renderCallByParent=renderCallByParent;function _typeof$q(et){"@babel/helpers - typeof";return _typeof$q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$q(et)}function _extends$k(){return _extends$k=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$k.apply(this,arguments)}function ownKeys$o(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(it){return Object.getOwnPropertyDescriptor(et,it).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$o(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$o(Object(rt),!0).forEach(function(nt){_defineProperty$p(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$o(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$p(et,tt,rt){return tt=_toPropertyKey$p(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$p(et){var tt=_toPrimitive$p(et,"string");return _typeof$q(tt)=="symbol"?tt:String(tt)}function _toPrimitive$p(et,tt){if(_typeof$q(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$q(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}var getDeltaAngle=function et(tt,rt){var nt=mathSign(rt-tt),it=Math.min(Math.abs(rt-tt),359.999);return nt*it},getTangentCircle=function et(tt){var rt=tt.cx,nt=tt.cy,it=tt.radius,at=tt.angle,ot=tt.sign,st=tt.isExternal,lt=tt.cornerRadius,ct=tt.cornerIsExternal,ut=lt*(st?1:-1)+it,ft=Math.asin(lt/ut)/RADIAN$1,ht=ct?at:at+ot*ft,dt=polarToCartesian(rt,nt,ut,ht),vt=polarToCartesian(rt,nt,it,ht),yt=ct?at-ot*ft:at,xt=polarToCartesian(rt,nt,ut*Math.cos(ft*RADIAN$1),yt);return{center:dt,circleTangency:vt,lineTangency:xt,theta:ft}},getSectorPath=function et(tt){var rt=tt.cx,nt=tt.cy,it=tt.innerRadius,at=tt.outerRadius,ot=tt.startAngle,st=tt.endAngle,lt=getDeltaAngle(ot,st),ct=ot+lt,ut=polarToCartesian(rt,nt,at,ot),ft=polarToCartesian(rt,nt,at,ct),ht="M ".concat(ut.x,",").concat(ut.y,`
    A `).concat(at,",").concat(at,`,0,
    `).concat(+(Math.abs(lt)>180),",").concat(+(ot>ct),`,
    `).concat(ft.x,",").concat(ft.y,`
  `);if(it>0){var dt=polarToCartesian(rt,nt,it,ot),vt=polarToCartesian(rt,nt,it,ct);ht+="L ".concat(vt.x,",").concat(vt.y,`
            A `).concat(it,",").concat(it,`,0,
            `).concat(+(Math.abs(lt)>180),",").concat(+(ot<=ct),`,
            `).concat(dt.x,",").concat(dt.y," Z")}else ht+="L ".concat(rt,",").concat(nt," Z");return ht},getSectorWithCorner=function et(tt){var rt=tt.cx,nt=tt.cy,it=tt.innerRadius,at=tt.outerRadius,ot=tt.cornerRadius,st=tt.forceCornerRadius,lt=tt.cornerIsExternal,ct=tt.startAngle,ut=tt.endAngle,ft=mathSign(ut-ct),ht=getTangentCircle({cx:rt,cy:nt,radius:at,angle:ct,sign:ft,cornerRadius:ot,cornerIsExternal:lt}),dt=ht.circleTangency,vt=ht.lineTangency,yt=ht.theta,xt=getTangentCircle({cx:rt,cy:nt,radius:at,angle:ut,sign:-ft,cornerRadius:ot,cornerIsExternal:lt}),_t=xt.circleTangency,mt=xt.lineTangency,pt=xt.theta,bt=lt?Math.abs(ct-ut):Math.abs(ct-ut)-yt-pt;if(bt<0)return st?"M ".concat(vt.x,",").concat(vt.y,`
        a`).concat(ot,",").concat(ot,",0,0,1,").concat(ot*2,`,0
        a`).concat(ot,",").concat(ot,",0,0,1,").concat(-ot*2,`,0
      `):getSectorPath({cx:rt,cy:nt,innerRadius:it,outerRadius:at,startAngle:ct,endAngle:ut});var Et="M ".concat(vt.x,",").concat(vt.y,`
    A`).concat(ot,",").concat(ot,",0,0,").concat(+(ft<0),",").concat(dt.x,",").concat(dt.y,`
    A`).concat(at,",").concat(at,",0,").concat(+(bt>180),",").concat(+(ft<0),",").concat(_t.x,",").concat(_t.y,`
    A`).concat(ot,",").concat(ot,",0,0,").concat(+(ft<0),",").concat(mt.x,",").concat(mt.y,`
  `);if(it>0){var St=getTangentCircle({cx:rt,cy:nt,radius:it,angle:ct,sign:ft,isExternal:!0,cornerRadius:ot,cornerIsExternal:lt}),Tt=St.circleTangency,Pt=St.lineTangency,Rt=St.theta,It=getTangentCircle({cx:rt,cy:nt,radius:it,angle:ut,sign:-ft,isExternal:!0,cornerRadius:ot,cornerIsExternal:lt}),$t=It.circleTangency,kt=It.lineTangency,Ct=It.theta,Bt=lt?Math.abs(ct-ut):Math.abs(ct-ut)-Rt-Ct;if(Bt<0&&ot===0)return"".concat(Et,"L").concat(rt,",").concat(nt,"Z");Et+="L".concat(kt.x,",").concat(kt.y,`
      A`).concat(ot,",").concat(ot,",0,0,").concat(+(ft<0),",").concat($t.x,",").concat($t.y,`
      A`).concat(it,",").concat(it,",0,").concat(+(Bt>180),",").concat(+(ft>0),",").concat(Tt.x,",").concat(Tt.y,`
      A`).concat(ot,",").concat(ot,",0,0,").concat(+(ft<0),",").concat(Pt.x,",").concat(Pt.y,"Z")}else Et+="L".concat(rt,",").concat(nt,"Z");return Et},defaultProps$3={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Sector=function et(tt){var rt=_objectSpread$o(_objectSpread$o({},defaultProps$3),tt),nt=rt.cx,it=rt.cy,at=rt.innerRadius,ot=rt.outerRadius,st=rt.cornerRadius,lt=rt.forceCornerRadius,ct=rt.cornerIsExternal,ut=rt.startAngle,ft=rt.endAngle,ht=rt.className;if(ot<at||ut===ft)return null;var dt=clsx("recharts-sector",ht),vt=ot-at,yt=getPercentValue(st,vt,0,!0),xt;return yt>0&&Math.abs(ut-ft)<360?xt=getSectorWithCorner({cx:nt,cy:it,innerRadius:at,outerRadius:ot,cornerRadius:Math.min(yt,vt/2),forceCornerRadius:lt,cornerIsExternal:ct,startAngle:ut,endAngle:ft}):xt=getSectorPath({cx:nt,cy:it,innerRadius:at,outerRadius:ot,startAngle:ut,endAngle:ft}),React.createElement("path",_extends$k({},filterProps(rt,!0),{className:dt,d:xt,role:"img"}))};function _typeof$p(et){"@babel/helpers - typeof";return _typeof$p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$p(et)}function _extends$j(){return _extends$j=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$j.apply(this,arguments)}function ownKeys$n(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(it){return Object.getOwnPropertyDescriptor(et,it).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$n(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$n(Object(rt),!0).forEach(function(nt){_defineProperty$o(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$n(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$o(et,tt,rt){return tt=_toPropertyKey$o(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$o(et){var tt=_toPrimitive$o(et,"string");return _typeof$p(tt)=="symbol"?tt:String(tt)}function _toPrimitive$o(et,tt){if(_typeof$p(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$p(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}var CURVE_FACTORIES={curveBasisClosed,curveBasisOpen,curveBasis,curveBumpX:bumpX,curveBumpY:bumpY,curveLinearClosed,curveLinear,curveMonotoneX:monotoneX,curveMonotoneY:monotoneY,curveNatural,curveStep,curveStepAfter:stepAfter,curveStepBefore:stepBefore},defined=function et(tt){return tt.x===+tt.x&&tt.y===+tt.y},getX=function et(tt){return tt.x},getY=function et(tt){return tt.y},getCurveFactory=function et(tt,rt){if(isFunction$3(tt))return tt;var nt="curve".concat(upperFirst$1(tt));return(nt==="curveMonotone"||nt==="curveBump")&&rt?CURVE_FACTORIES["".concat(nt).concat(rt==="vertical"?"Y":"X")]:CURVE_FACTORIES[nt]||curveLinear},getPath$1=function et(tt){var rt=tt.type,nt=rt===void 0?"linear":rt,it=tt.points,at=it===void 0?[]:it,ot=tt.baseLine,st=tt.layout,lt=tt.connectNulls,ct=lt===void 0?!1:lt,ut=getCurveFactory(nt,st),ft=ct?at.filter(function(yt){return defined(yt)}):at,ht;if(Array.isArray(ot)){var dt=ct?ot.filter(function(yt){return defined(yt)}):ot,vt=ft.map(function(yt,xt){return _objectSpread$n(_objectSpread$n({},yt),{},{base:dt[xt]})});return st==="vertical"?ht=shapeArea().y(getY).x1(getX).x0(function(yt){return yt.base.x}):ht=shapeArea().x(getX).y1(getY).y0(function(yt){return yt.base.y}),ht.defined(defined).curve(ut),ht(vt)}return st==="vertical"&&isNumber(ot)?ht=shapeArea().y(getY).x1(getX).x0(ot):isNumber(ot)?ht=shapeArea().x(getX).y1(getY).y0(ot):ht=shapeLine().x(getX).y(getY),ht.defined(defined).curve(ut),ht(ft)},Curve=function et(tt){var rt=tt.className,nt=tt.points,it=tt.path,at=tt.pathRef;if((!nt||!nt.length)&&!it)return null;var ot=nt&&nt.length?getPath$1(tt):it;return React.createElement("path",_extends$j({},filterProps(tt,!1),adaptEventHandlers(tt),{className:clsx("recharts-curve",rt),d:ot,ref:at}))},getOwnPropertyNames=Object.getOwnPropertyNames,getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty$1=Object.prototype.hasOwnProperty;function combineComparators(et,tt){return function(nt,it,at){return et(nt,it,at)&&tt(nt,it,at)}}function createIsCircular(et){return function(rt,nt,it){if(!rt||!nt||typeof rt!="object"||typeof nt!="object")return et(rt,nt,it);var at=it.cache,ot=at.get(rt),st=at.get(nt);if(ot&&st)return ot===nt&&st===rt;at.set(rt,nt),at.set(nt,rt);var lt=et(rt,nt,it);return at.delete(rt),at.delete(nt),lt}}function getStrictProperties(et){return getOwnPropertyNames(et).concat(getOwnPropertySymbols(et))}var hasOwn=Object.hasOwn||function(et,tt){return hasOwnProperty$1.call(et,tt)};function sameValueZeroEqual(et,tt){return et||tt?et===tt:et===tt||et!==et&&tt!==tt}var OWNER="_owner",getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,keys$1=Object.keys;function areArraysEqual(et,tt,rt){var nt=et.length;if(tt.length!==nt)return!1;for(;nt-- >0;)if(!rt.equals(et[nt],tt[nt],nt,nt,et,tt,rt))return!1;return!0}function areDatesEqual(et,tt){return sameValueZeroEqual(et.getTime(),tt.getTime())}function areMapsEqual(et,tt,rt){if(et.size!==tt.size)return!1;for(var nt={},it=et.entries(),at=0,ot,st;(ot=it.next())&&!ot.done;){for(var lt=tt.entries(),ct=!1,ut=0;(st=lt.next())&&!st.done;){var ft=ot.value,ht=ft[0],dt=ft[1],vt=st.value,yt=vt[0],xt=vt[1];!ct&&!nt[ut]&&(ct=rt.equals(ht,yt,at,ut,et,tt,rt)&&rt.equals(dt,xt,ht,yt,et,tt,rt))&&(nt[ut]=!0),ut++}if(!ct)return!1;at++}return!0}function areObjectsEqual(et,tt,rt){var nt=keys$1(et),it=nt.length;if(keys$1(tt).length!==it)return!1;for(var at;it-- >0;)if(at=nt[it],at===OWNER&&(et.$$typeof||tt.$$typeof)&&et.$$typeof!==tt.$$typeof||!hasOwn(tt,at)||!rt.equals(et[at],tt[at],at,at,et,tt,rt))return!1;return!0}function areObjectsEqualStrict(et,tt,rt){var nt=getStrictProperties(et),it=nt.length;if(getStrictProperties(tt).length!==it)return!1;for(var at,ot,st;it-- >0;)if(at=nt[it],at===OWNER&&(et.$$typeof||tt.$$typeof)&&et.$$typeof!==tt.$$typeof||!hasOwn(tt,at)||!rt.equals(et[at],tt[at],at,at,et,tt,rt)||(ot=getOwnPropertyDescriptor(et,at),st=getOwnPropertyDescriptor(tt,at),(ot||st)&&(!ot||!st||ot.configurable!==st.configurable||ot.enumerable!==st.enumerable||ot.writable!==st.writable)))return!1;return!0}function arePrimitiveWrappersEqual(et,tt){return sameValueZeroEqual(et.valueOf(),tt.valueOf())}function areRegExpsEqual(et,tt){return et.source===tt.source&&et.flags===tt.flags}function areSetsEqual(et,tt,rt){if(et.size!==tt.size)return!1;for(var nt={},it=et.values(),at,ot;(at=it.next())&&!at.done;){for(var st=tt.values(),lt=!1,ct=0;(ot=st.next())&&!ot.done;)!lt&&!nt[ct]&&(lt=rt.equals(at.value,ot.value,at.value,ot.value,et,tt,rt))&&(nt[ct]=!0),ct++;if(!lt)return!1}return!0}function areTypedArraysEqual(et,tt){var rt=et.length;if(tt.length!==rt)return!1;for(;rt-- >0;)if(et[rt]!==tt[rt])return!1;return!0}var ARGUMENTS_TAG="[object Arguments]",BOOLEAN_TAG="[object Boolean]",DATE_TAG="[object Date]",MAP_TAG="[object Map]",NUMBER_TAG="[object Number]",OBJECT_TAG="[object Object]",REG_EXP_TAG="[object RegExp]",SET_TAG="[object Set]",STRING_TAG="[object String]",isArray$2=Array.isArray,isTypedArray=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,assign=Object.assign,getTag=Object.prototype.toString.call.bind(Object.prototype.toString);function createEqualityComparator(et){var tt=et.areArraysEqual,rt=et.areDatesEqual,nt=et.areMapsEqual,it=et.areObjectsEqual,at=et.arePrimitiveWrappersEqual,ot=et.areRegExpsEqual,st=et.areSetsEqual,lt=et.areTypedArraysEqual;return function(ut,ft,ht){if(ut===ft)return!0;if(ut==null||ft==null||typeof ut!="object"||typeof ft!="object")return ut!==ut&&ft!==ft;var dt=ut.constructor;if(dt!==ft.constructor)return!1;if(dt===Object)return it(ut,ft,ht);if(isArray$2(ut))return tt(ut,ft,ht);if(isTypedArray!=null&&isTypedArray(ut))return lt(ut,ft,ht);if(dt===Date)return rt(ut,ft,ht);if(dt===RegExp)return ot(ut,ft,ht);if(dt===Map)return nt(ut,ft,ht);if(dt===Set)return st(ut,ft,ht);var vt=getTag(ut);return vt===DATE_TAG?rt(ut,ft,ht):vt===REG_EXP_TAG?ot(ut,ft,ht):vt===MAP_TAG?nt(ut,ft,ht):vt===SET_TAG?st(ut,ft,ht):vt===OBJECT_TAG?typeof ut.then!="function"&&typeof ft.then!="function"&&it(ut,ft,ht):vt===ARGUMENTS_TAG?it(ut,ft,ht):vt===BOOLEAN_TAG||vt===NUMBER_TAG||vt===STRING_TAG?at(ut,ft,ht):!1}}function createEqualityComparatorConfig(et){var tt=et.circular,rt=et.createCustomConfig,nt=et.strict,it={areArraysEqual:nt?areObjectsEqualStrict:areArraysEqual,areDatesEqual,areMapsEqual:nt?combineComparators(areMapsEqual,areObjectsEqualStrict):areMapsEqual,areObjectsEqual:nt?areObjectsEqualStrict:areObjectsEqual,arePrimitiveWrappersEqual,areRegExpsEqual,areSetsEqual:nt?combineComparators(areSetsEqual,areObjectsEqualStrict):areSetsEqual,areTypedArraysEqual:nt?areObjectsEqualStrict:areTypedArraysEqual};if(rt&&(it=assign({},it,rt(it))),tt){var at=createIsCircular(it.areArraysEqual),ot=createIsCircular(it.areMapsEqual),st=createIsCircular(it.areObjectsEqual),lt=createIsCircular(it.areSetsEqual);it=assign({},it,{areArraysEqual:at,areMapsEqual:ot,areObjectsEqual:st,areSetsEqual:lt})}return it}function createInternalEqualityComparator(et){return function(tt,rt,nt,it,at,ot,st){return et(tt,rt,st)}}function createIsEqual(et){var tt=et.circular,rt=et.comparator,nt=et.createState,it=et.equals,at=et.strict;if(nt)return function(lt,ct){var ut=nt(),ft=ut.cache,ht=ft===void 0?tt?new WeakMap:void 0:ft,dt=ut.meta;return rt(lt,ct,{cache:ht,equals:it,meta:dt,strict:at})};if(tt)return function(lt,ct){return rt(lt,ct,{cache:new WeakMap,equals:it,meta:void 0,strict:at})};var ot={cache:void 0,equals:it,meta:void 0,strict:at};return function(lt,ct){return rt(lt,ct,ot)}}var deepEqual=createCustomEqual();createCustomEqual({strict:!0});createCustomEqual({circular:!0});createCustomEqual({circular:!0,strict:!0});createCustomEqual({createInternalComparator:function(){return sameValueZeroEqual}});createCustomEqual({strict:!0,createInternalComparator:function(){return sameValueZeroEqual}});createCustomEqual({circular:!0,createInternalComparator:function(){return sameValueZeroEqual}});createCustomEqual({circular:!0,createInternalComparator:function(){return sameValueZeroEqual},strict:!0});function createCustomEqual(et){et===void 0&&(et={});var tt=et.circular,rt=tt===void 0?!1:tt,nt=et.createInternalComparator,it=et.createState,at=et.strict,ot=at===void 0?!1:at,st=createEqualityComparatorConfig(et),lt=createEqualityComparator(st),ct=nt?nt(lt):createInternalEqualityComparator(lt);return createIsEqual({circular:rt,comparator:lt,createState:it,equals:ct,strict:ot})}function safeRequestAnimationFrame(et){typeof requestAnimationFrame<"u"&&requestAnimationFrame(et)}function setRafTimeout(et){var tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,rt=-1,nt=function it(at){rt<0&&(rt=at),at-rt>tt?(et(at),rt=-1):safeRequestAnimationFrame(it)};requestAnimationFrame(nt)}function _typeof$o(et){"@babel/helpers - typeof";return _typeof$o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$o(et)}function _toArray(et){return _arrayWithHoles$6(et)||_iterableToArray$6(et)||_unsupportedIterableToArray$9(et)||_nonIterableRest$6()}function _nonIterableRest$6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$9(et,tt){if(et){if(typeof et=="string")return _arrayLikeToArray$9(et,tt);var rt=Object.prototype.toString.call(et).slice(8,-1);if(rt==="Object"&&et.constructor&&(rt=et.constructor.name),rt==="Map"||rt==="Set")return Array.from(et);if(rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt))return _arrayLikeToArray$9(et,tt)}}function _arrayLikeToArray$9(et,tt){(tt==null||tt>et.length)&&(tt=et.length);for(var rt=0,nt=new Array(tt);rt<tt;rt++)nt[rt]=et[rt];return nt}function _iterableToArray$6(et){if(typeof Symbol<"u"&&et[Symbol.iterator]!=null||et["@@iterator"]!=null)return Array.from(et)}function _arrayWithHoles$6(et){if(Array.isArray(et))return et}function createAnimateManager(){var et={},tt=function(){return null},rt=!1,nt=function it(at){if(!rt){if(Array.isArray(at)){if(!at.length)return;var ot=at,st=_toArray(ot),lt=st[0],ct=st.slice(1);if(typeof lt=="number"){setRafTimeout(it.bind(null,ct),lt);return}it(lt),setRafTimeout(it.bind(null,ct));return}_typeof$o(at)==="object"&&(et=at,tt(et)),typeof at=="function"&&at()}};return{stop:function(){rt=!0},start:function(at){rt=!1,nt(at)},subscribe:function(at){return tt=at,function(){tt=function(){return null}}}}}function _typeof$n(et){"@babel/helpers - typeof";return _typeof$n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$n(et)}function ownKeys$m(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(it){return Object.getOwnPropertyDescriptor(et,it).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$m(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$m(Object(rt),!0).forEach(function(nt){_defineProperty$n(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$m(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$n(et,tt,rt){return tt=_toPropertyKey$n(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$n(et){var tt=_toPrimitive$n(et,"string");return _typeof$n(tt)==="symbol"?tt:String(tt)}function _toPrimitive$n(et,tt){if(_typeof$n(et)!=="object"||et===null)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$n(nt)!=="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}var getIntersectionKeys=function et(tt,rt){return[Object.keys(tt),Object.keys(rt)].reduce(function(nt,it){return nt.filter(function(at){return it.includes(at)})})},identity=function et(tt){return tt},getDashCase=function et(tt){return tt.replace(/([A-Z])/g,function(rt){return"-".concat(rt.toLowerCase())})},mapObject=function et(tt,rt){return Object.keys(rt).reduce(function(nt,it){return _objectSpread$m(_objectSpread$m({},nt),{},_defineProperty$n({},it,tt(it,rt[it])))},{})},getTransitionVal=function et(tt,rt,nt){return tt.map(function(it){return"".concat(getDashCase(it)," ").concat(rt,"ms ").concat(nt)}).join(",")};function _slicedToArray$5(et,tt){return _arrayWithHoles$5(et)||_iterableToArrayLimit$5(et,tt)||_unsupportedIterableToArray$8(et,tt)||_nonIterableRest$5()}function _nonIterableRest$5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArrayLimit$5(et,tt){var rt=et==null?null:typeof Symbol<"u"&&et[Symbol.iterator]||et["@@iterator"];if(rt!=null){var nt,it,at,ot,st=[],lt=!0,ct=!1;try{if(at=(rt=rt.call(et)).next,tt!==0)for(;!(lt=(nt=at.call(rt)).done)&&(st.push(nt.value),st.length!==tt);lt=!0);}catch(ut){ct=!0,it=ut}finally{try{if(!lt&&rt.return!=null&&(ot=rt.return(),Object(ot)!==ot))return}finally{if(ct)throw it}}return st}}function _arrayWithHoles$5(et){if(Array.isArray(et))return et}function _toConsumableArray$5(et){return _arrayWithoutHoles$5(et)||_iterableToArray$5(et)||_unsupportedIterableToArray$8(et)||_nonIterableSpread$5()}function _nonIterableSpread$5(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$8(et,tt){if(et){if(typeof et=="string")return _arrayLikeToArray$8(et,tt);var rt=Object.prototype.toString.call(et).slice(8,-1);if(rt==="Object"&&et.constructor&&(rt=et.constructor.name),rt==="Map"||rt==="Set")return Array.from(et);if(rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt))return _arrayLikeToArray$8(et,tt)}}function _iterableToArray$5(et){if(typeof Symbol<"u"&&et[Symbol.iterator]!=null||et["@@iterator"]!=null)return Array.from(et)}function _arrayWithoutHoles$5(et){if(Array.isArray(et))return _arrayLikeToArray$8(et)}function _arrayLikeToArray$8(et,tt){(tt==null||tt>et.length)&&(tt=et.length);for(var rt=0,nt=new Array(tt);rt<tt;rt++)nt[rt]=et[rt];return nt}var ACCURACY=1e-4,cubicBezierFactor=function et(tt,rt){return[0,3*tt,3*rt-6*tt,3*tt-3*rt+1]},multyTime=function et(tt,rt){return tt.map(function(nt,it){return nt*Math.pow(rt,it)}).reduce(function(nt,it){return nt+it})},cubicBezier=function et(tt,rt){return function(nt){var it=cubicBezierFactor(tt,rt);return multyTime(it,nt)}},derivativeCubicBezier=function et(tt,rt){return function(nt){var it=cubicBezierFactor(tt,rt),at=[].concat(_toConsumableArray$5(it.map(function(ot,st){return ot*st}).slice(1)),[0]);return multyTime(at,nt)}},configBezier=function et(){for(var tt=arguments.length,rt=new Array(tt),nt=0;nt<tt;nt++)rt[nt]=arguments[nt];var it=rt[0],at=rt[1],ot=rt[2],st=rt[3];if(rt.length===1)switch(rt[0]){case"linear":it=0,at=0,ot=1,st=1;break;case"ease":it=.25,at=.1,ot=.25,st=1;break;case"ease-in":it=.42,at=0,ot=1,st=1;break;case"ease-out":it=.42,at=0,ot=.58,st=1;break;case"ease-in-out":it=0,at=0,ot=.58,st=1;break;default:{var lt=rt[0].split("(");if(lt[0]==="cubic-bezier"&&lt[1].split(")")[0].split(",").length===4){var ct=lt[1].split(")")[0].split(",").map(function(xt){return parseFloat(xt)}),ut=_slicedToArray$5(ct,4);it=ut[0],at=ut[1],ot=ut[2],st=ut[3]}}}var ft=cubicBezier(it,ot),ht=cubicBezier(at,st),dt=derivativeCubicBezier(it,ot),vt=function(_t){return _t>1?1:_t<0?0:_t},yt=function(_t){for(var mt=_t>1?1:_t,pt=mt,bt=0;bt<8;++bt){var Et=ft(pt)-mt,St=dt(pt);if(Math.abs(Et-mt)<ACCURACY||St<ACCURACY)return ht(pt);pt=vt(pt-Et/St)}return ht(pt)};return yt.isStepper=!1,yt},configSpring=function et(){var tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},rt=tt.stiff,nt=rt===void 0?100:rt,it=tt.damping,at=it===void 0?8:it,ot=tt.dt,st=ot===void 0?17:ot,lt=function(ut,ft,ht){var dt=-(ut-ft)*nt,vt=ht*at,yt=ht+(dt-vt)*st/1e3,xt=ht*st/1e3+ut;return Math.abs(xt-ft)<ACCURACY&&Math.abs(yt)<ACCURACY?[ft,0]:[xt,yt]};return lt.isStepper=!0,lt.dt=st,lt},configEasing=function et(){for(var tt=arguments.length,rt=new Array(tt),nt=0;nt<tt;nt++)rt[nt]=arguments[nt];var it=rt[0];if(typeof it=="string")switch(it){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return configBezier(it);case"spring":return configSpring();default:if(it.split("(")[0]==="cubic-bezier")return configBezier(it)}return typeof it=="function"?it:null};function _typeof$m(et){"@babel/helpers - typeof";return _typeof$m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$m(et)}function _toConsumableArray$4(et){return _arrayWithoutHoles$4(et)||_iterableToArray$4(et)||_unsupportedIterableToArray$7(et)||_nonIterableSpread$4()}function _nonIterableSpread$4(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$4(et){if(typeof Symbol<"u"&&et[Symbol.iterator]!=null||et["@@iterator"]!=null)return Array.from(et)}function _arrayWithoutHoles$4(et){if(Array.isArray(et))return _arrayLikeToArray$7(et)}function ownKeys$l(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(it){return Object.getOwnPropertyDescriptor(et,it).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$l(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$l(Object(rt),!0).forEach(function(nt){_defineProperty$m(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$l(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$m(et,tt,rt){return tt=_toPropertyKey$m(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$m(et){var tt=_toPrimitive$m(et,"string");return _typeof$m(tt)==="symbol"?tt:String(tt)}function _toPrimitive$m(et,tt){if(_typeof$m(et)!=="object"||et===null)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$m(nt)!=="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}function _slicedToArray$4(et,tt){return _arrayWithHoles$4(et)||_iterableToArrayLimit$4(et,tt)||_unsupportedIterableToArray$7(et,tt)||_nonIterableRest$4()}function _nonIterableRest$4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$7(et,tt){if(et){if(typeof et=="string")return _arrayLikeToArray$7(et,tt);var rt=Object.prototype.toString.call(et).slice(8,-1);if(rt==="Object"&&et.constructor&&(rt=et.constructor.name),rt==="Map"||rt==="Set")return Array.from(et);if(rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt))return _arrayLikeToArray$7(et,tt)}}function _arrayLikeToArray$7(et,tt){(tt==null||tt>et.length)&&(tt=et.length);for(var rt=0,nt=new Array(tt);rt<tt;rt++)nt[rt]=et[rt];return nt}function _iterableToArrayLimit$4(et,tt){var rt=et==null?null:typeof Symbol<"u"&&et[Symbol.iterator]||et["@@iterator"];if(rt!=null){var nt,it,at,ot,st=[],lt=!0,ct=!1;try{if(at=(rt=rt.call(et)).next,tt!==0)for(;!(lt=(nt=at.call(rt)).done)&&(st.push(nt.value),st.length!==tt);lt=!0);}catch(ut){ct=!0,it=ut}finally{try{if(!lt&&rt.return!=null&&(ot=rt.return(),Object(ot)!==ot))return}finally{if(ct)throw it}}return st}}function _arrayWithHoles$4(et){if(Array.isArray(et))return et}var alpha=function et(tt,rt,nt){return tt+(rt-tt)*nt},needContinue=function et(tt){var rt=tt.from,nt=tt.to;return rt!==nt},calStepperVals=function et(tt,rt,nt){var it=mapObject(function(at,ot){if(needContinue(ot)){var st=tt(ot.from,ot.to,ot.velocity),lt=_slicedToArray$4(st,2),ct=lt[0],ut=lt[1];return _objectSpread$l(_objectSpread$l({},ot),{},{from:ct,velocity:ut})}return ot},rt);return nt<1?mapObject(function(at,ot){return needContinue(ot)?_objectSpread$l(_objectSpread$l({},ot),{},{velocity:alpha(ot.velocity,it[at].velocity,nt),from:alpha(ot.from,it[at].from,nt)}):ot},rt):et(tt,it,nt-1)};const configUpdate=function(et,tt,rt,nt,it){var at=getIntersectionKeys(et,tt),ot=at.reduce(function(xt,_t){return _objectSpread$l(_objectSpread$l({},xt),{},_defineProperty$m({},_t,[et[_t],tt[_t]]))},{}),st=at.reduce(function(xt,_t){return _objectSpread$l(_objectSpread$l({},xt),{},_defineProperty$m({},_t,{from:et[_t],velocity:0,to:tt[_t]}))},{}),lt=-1,ct,ut,ft=function(){return null},ht=function(){return mapObject(function(_t,mt){return mt.from},st)},dt=function(){return!Object.values(st).filter(needContinue).length},vt=function(_t){ct||(ct=_t);var mt=_t-ct,pt=mt/rt.dt;st=calStepperVals(rt,st,pt),it(_objectSpread$l(_objectSpread$l(_objectSpread$l({},et),tt),ht())),ct=_t,dt()||(lt=requestAnimationFrame(ft))},yt=function(_t){ut||(ut=_t);var mt=(_t-ut)/nt,pt=mapObject(function(Et,St){return alpha.apply(void 0,_toConsumableArray$4(St).concat([rt(mt)]))},ot);if(it(_objectSpread$l(_objectSpread$l(_objectSpread$l({},et),tt),pt)),mt<1)lt=requestAnimationFrame(ft);else{var bt=mapObject(function(Et,St){return alpha.apply(void 0,_toConsumableArray$4(St).concat([rt(1)]))},ot);it(_objectSpread$l(_objectSpread$l(_objectSpread$l({},et),tt),bt))}};return ft=rt.isStepper?vt:yt,function(){return requestAnimationFrame(ft),function(){cancelAnimationFrame(lt)}}};function _typeof$l(et){"@babel/helpers - typeof";return _typeof$l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$l(et)}var _excluded$9=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function _objectWithoutProperties$9(et,tt){if(et==null)return{};var rt=_objectWithoutPropertiesLoose$9(et,tt),nt,it;if(Object.getOwnPropertySymbols){var at=Object.getOwnPropertySymbols(et);for(it=0;it<at.length;it++)nt=at[it],!(tt.indexOf(nt)>=0)&&Object.prototype.propertyIsEnumerable.call(et,nt)&&(rt[nt]=et[nt])}return rt}function _objectWithoutPropertiesLoose$9(et,tt){if(et==null)return{};var rt={},nt=Object.keys(et),it,at;for(at=0;at<nt.length;at++)it=nt[at],!(tt.indexOf(it)>=0)&&(rt[it]=et[it]);return rt}function _toConsumableArray$3(et){return _arrayWithoutHoles$3(et)||_iterableToArray$3(et)||_unsupportedIterableToArray$6(et)||_nonIterableSpread$3()}function _nonIterableSpread$3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$6(et,tt){if(et){if(typeof et=="string")return _arrayLikeToArray$6(et,tt);var rt=Object.prototype.toString.call(et).slice(8,-1);if(rt==="Object"&&et.constructor&&(rt=et.constructor.name),rt==="Map"||rt==="Set")return Array.from(et);if(rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt))return _arrayLikeToArray$6(et,tt)}}function _iterableToArray$3(et){if(typeof Symbol<"u"&&et[Symbol.iterator]!=null||et["@@iterator"]!=null)return Array.from(et)}function _arrayWithoutHoles$3(et){if(Array.isArray(et))return _arrayLikeToArray$6(et)}function _arrayLikeToArray$6(et,tt){(tt==null||tt>et.length)&&(tt=et.length);for(var rt=0,nt=new Array(tt);rt<tt;rt++)nt[rt]=et[rt];return nt}function ownKeys$k(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(it){return Object.getOwnPropertyDescriptor(et,it).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$k(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$k(Object(rt),!0).forEach(function(nt){_defineProperty$l(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$k(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$l(et,tt,rt){return tt=_toPropertyKey$l(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _classCallCheck$9(et,tt){if(!(et instanceof tt))throw new TypeError("Cannot call a class as a function")}function _defineProperties$9(et,tt){for(var rt=0;rt<tt.length;rt++){var nt=tt[rt];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(et,_toPropertyKey$l(nt.key),nt)}}function _createClass$9(et,tt,rt){return tt&&_defineProperties$9(et.prototype,tt),Object.defineProperty(et,"prototype",{writable:!1}),et}function _toPropertyKey$l(et){var tt=_toPrimitive$l(et,"string");return _typeof$l(tt)==="symbol"?tt:String(tt)}function _toPrimitive$l(et,tt){if(_typeof$l(et)!=="object"||et===null)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$l(nt)!=="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}function _inherits$7(et,tt){if(typeof tt!="function"&&tt!==null)throw new TypeError("Super expression must either be null or a function");et.prototype=Object.create(tt&&tt.prototype,{constructor:{value:et,writable:!0,configurable:!0}}),Object.defineProperty(et,"prototype",{writable:!1}),tt&&_setPrototypeOf$7(et,tt)}function _setPrototypeOf$7(et,tt){return _setPrototypeOf$7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,it){return nt.__proto__=it,nt},_setPrototypeOf$7(et,tt)}function _createSuper(et){var tt=_isNativeReflectConstruct$7();return function(){var nt=_getPrototypeOf$7(et),it;if(tt){var at=_getPrototypeOf$7(this).constructor;it=Reflect.construct(nt,arguments,at)}else it=nt.apply(this,arguments);return _possibleConstructorReturn$7(this,it)}}function _possibleConstructorReturn$7(et,tt){if(tt&&(_typeof$l(tt)==="object"||typeof tt=="function"))return tt;if(tt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$7(et)}function _assertThisInitialized$7(et){if(et===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return et}function _isNativeReflectConstruct$7(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$7(et){return _getPrototypeOf$7=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rt){return rt.__proto__||Object.getPrototypeOf(rt)},_getPrototypeOf$7(et)}var Animate=function(et){_inherits$7(rt,et);var tt=_createSuper(rt);function rt(nt,it){var at;_classCallCheck$9(this,rt),at=tt.call(this,nt,it);var ot=at.props,st=ot.isActive,lt=ot.attributeName,ct=ot.from,ut=ot.to,ft=ot.steps,ht=ot.children,dt=ot.duration;if(at.handleStyleChange=at.handleStyleChange.bind(_assertThisInitialized$7(at)),at.changeStyle=at.changeStyle.bind(_assertThisInitialized$7(at)),!st||dt<=0)return at.state={style:{}},typeof ht=="function"&&(at.state={style:ut}),_possibleConstructorReturn$7(at);if(ft&&ft.length)at.state={style:ft[0].style};else if(ct){if(typeof ht=="function")return at.state={style:ct},_possibleConstructorReturn$7(at);at.state={style:lt?_defineProperty$l({},lt,ct):ct}}else at.state={style:{}};return at}return _createClass$9(rt,[{key:"componentDidMount",value:function(){var it=this.props,at=it.isActive,ot=it.canBegin;this.mounted=!0,!(!at||!ot)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(it){var at=this.props,ot=at.isActive,st=at.canBegin,lt=at.attributeName,ct=at.shouldReAnimate,ut=at.to,ft=at.from,ht=this.state.style;if(st){if(!ot){var dt={style:lt?_defineProperty$l({},lt,ut):ut};this.state&&ht&&(lt&&ht[lt]!==ut||!lt&&ht!==ut)&&this.setState(dt);return}if(!(deepEqual(it.to,ut)&&it.canBegin&&it.isActive)){var vt=!it.canBegin||!it.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var yt=vt||ct?ft:it.to;if(this.state&&ht){var xt={style:lt?_defineProperty$l({},lt,yt):yt};(lt&&ht[lt]!==yt||!lt&&ht!==yt)&&this.setState(xt)}this.runAnimation(_objectSpread$k(_objectSpread$k({},this.props),{},{from:yt,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var it=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),it&&it()}},{key:"handleStyleChange",value:function(it){this.changeStyle(it)}},{key:"changeStyle",value:function(it){this.mounted&&this.setState({style:it})}},{key:"runJSAnimation",value:function(it){var at=this,ot=it.from,st=it.to,lt=it.duration,ct=it.easing,ut=it.begin,ft=it.onAnimationEnd,ht=it.onAnimationStart,dt=configUpdate(ot,st,configEasing(ct),lt,this.changeStyle),vt=function(){at.stopJSAnimation=dt()};this.manager.start([ht,ut,vt,lt,ft])}},{key:"runStepAnimation",value:function(it){var at=this,ot=it.steps,st=it.begin,lt=it.onAnimationStart,ct=ot[0],ut=ct.style,ft=ct.duration,ht=ft===void 0?0:ft,dt=function(yt,xt,_t){if(_t===0)return yt;var mt=xt.duration,pt=xt.easing,bt=pt===void 0?"ease":pt,Et=xt.style,St=xt.properties,Tt=xt.onAnimationEnd,Pt=_t>0?ot[_t-1]:xt,Rt=St||Object.keys(Et);if(typeof bt=="function"||bt==="spring")return[].concat(_toConsumableArray$3(yt),[at.runJSAnimation.bind(at,{from:Pt.style,to:Et,duration:mt,easing:bt}),mt]);var It=getTransitionVal(Rt,mt,bt),$t=_objectSpread$k(_objectSpread$k(_objectSpread$k({},Pt.style),Et),{},{transition:It});return[].concat(_toConsumableArray$3(yt),[$t,mt,Tt]).filter(identity)};return this.manager.start([lt].concat(_toConsumableArray$3(ot.reduce(dt,[ut,Math.max(ht,st)])),[it.onAnimationEnd]))}},{key:"runAnimation",value:function(it){this.manager||(this.manager=createAnimateManager());var at=it.begin,ot=it.duration,st=it.attributeName,lt=it.to,ct=it.easing,ut=it.onAnimationStart,ft=it.onAnimationEnd,ht=it.steps,dt=it.children,vt=this.manager;if(this.unSubscribe=vt.subscribe(this.handleStyleChange),typeof ct=="function"||typeof dt=="function"||ct==="spring"){this.runJSAnimation(it);return}if(ht.length>1){this.runStepAnimation(it);return}var yt=st?_defineProperty$l({},st,lt):lt,xt=getTransitionVal(Object.keys(yt),ot,ct);vt.start([ut,at,_objectSpread$k(_objectSpread$k({},yt),{},{transition:xt}),ot,ft])}},{key:"render",value:function(){var it=this.props,at=it.children;it.begin;var ot=it.duration;it.attributeName,it.easing;var st=it.isActive;it.steps,it.from,it.to,it.canBegin,it.onAnimationEnd,it.shouldReAnimate,it.onAnimationReStart;var lt=_objectWithoutProperties$9(it,_excluded$9),ct=reactExports.Children.count(at),ut=this.state.style;if(typeof at=="function")return at(ut);if(!st||ct===0||ot<=0)return at;var ft=function(dt){var vt=dt.props,yt=vt.style,xt=yt===void 0?{}:yt,_t=vt.className,mt=reactExports.cloneElement(dt,_objectSpread$k(_objectSpread$k({},lt),{},{style:_objectSpread$k(_objectSpread$k({},xt),ut),className:_t}));return mt};return ct===1?ft(reactExports.Children.only(at)):React.createElement("div",null,reactExports.Children.map(at,function(ht){return ft(ht)}))}}]),rt}(reactExports.PureComponent);Animate.displayName="Animate";Animate.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function et(){},onAnimationStart:function et(){}};Animate.propTypes={from:PropTypes.oneOfType([PropTypes.object,PropTypes.string]),to:PropTypes.oneOfType([PropTypes.object,PropTypes.string]),attributeName:PropTypes.string,duration:PropTypes.number,begin:PropTypes.number,easing:PropTypes.oneOfType([PropTypes.string,PropTypes.func]),steps:PropTypes.arrayOf(PropTypes.shape({duration:PropTypes.number.isRequired,style:PropTypes.object.isRequired,easing:PropTypes.oneOfType([PropTypes.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),PropTypes.func]),properties:PropTypes.arrayOf("string"),onAnimationEnd:PropTypes.func})),children:PropTypes.oneOfType([PropTypes.node,PropTypes.func]),isActive:PropTypes.bool,canBegin:PropTypes.bool,onAnimationEnd:PropTypes.func,shouldReAnimate:PropTypes.bool,onAnimationStart:PropTypes.func,onAnimationReStart:PropTypes.func};PropTypes.object,PropTypes.object,PropTypes.object,PropTypes.element;PropTypes.object,PropTypes.object,PropTypes.object,PropTypes.oneOfType([PropTypes.array,PropTypes.element]),PropTypes.any;function _typeof$k(et){"@babel/helpers - typeof";return _typeof$k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$k(et)}function _extends$i(){return _extends$i=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$i.apply(this,arguments)}function _slicedToArray$3(et,tt){return _arrayWithHoles$3(et)||_iterableToArrayLimit$3(et,tt)||_unsupportedIterableToArray$5(et,tt)||_nonIterableRest$3()}function _nonIterableRest$3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$5(et,tt){if(et){if(typeof et=="string")return _arrayLikeToArray$5(et,tt);var rt=Object.prototype.toString.call(et).slice(8,-1);if(rt==="Object"&&et.constructor&&(rt=et.constructor.name),rt==="Map"||rt==="Set")return Array.from(et);if(rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt))return _arrayLikeToArray$5(et,tt)}}function _arrayLikeToArray$5(et,tt){(tt==null||tt>et.length)&&(tt=et.length);for(var rt=0,nt=new Array(tt);rt<tt;rt++)nt[rt]=et[rt];return nt}function _iterableToArrayLimit$3(et,tt){var rt=et==null?null:typeof Symbol<"u"&&et[Symbol.iterator]||et["@@iterator"];if(rt!=null){var nt,it,at,ot,st=[],lt=!0,ct=!1;try{if(at=(rt=rt.call(et)).next,tt!==0)for(;!(lt=(nt=at.call(rt)).done)&&(st.push(nt.value),st.length!==tt);lt=!0);}catch(ut){ct=!0,it=ut}finally{try{if(!lt&&rt.return!=null&&(ot=rt.return(),Object(ot)!==ot))return}finally{if(ct)throw it}}return st}}function _arrayWithHoles$3(et){if(Array.isArray(et))return et}function ownKeys$j(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(it){return Object.getOwnPropertyDescriptor(et,it).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$j(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$j(Object(rt),!0).forEach(function(nt){_defineProperty$k(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$j(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$k(et,tt,rt){return tt=_toPropertyKey$k(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$k(et){var tt=_toPrimitive$k(et,"string");return _typeof$k(tt)=="symbol"?tt:String(tt)}function _toPrimitive$k(et,tt){if(_typeof$k(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$k(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}var getRectanglePath=function et(tt,rt,nt,it,at){var ot=Math.min(Math.abs(nt)/2,Math.abs(it)/2),st=it>=0?1:-1,lt=nt>=0?1:-1,ct=it>=0&&nt>=0||it<0&&nt<0?1:0,ut;if(ot>0&&at instanceof Array){for(var ft=[0,0,0,0],ht=0,dt=4;ht<dt;ht++)ft[ht]=at[ht]>ot?ot:at[ht];ut="M".concat(tt,",").concat(rt+st*ft[0]),ft[0]>0&&(ut+="A ".concat(ft[0],",").concat(ft[0],",0,0,").concat(ct,",").concat(tt+lt*ft[0],",").concat(rt)),ut+="L ".concat(tt+nt-lt*ft[1],",").concat(rt),ft[1]>0&&(ut+="A ".concat(ft[1],",").concat(ft[1],",0,0,").concat(ct,`,
        `).concat(tt+nt,",").concat(rt+st*ft[1])),ut+="L ".concat(tt+nt,",").concat(rt+it-st*ft[2]),ft[2]>0&&(ut+="A ".concat(ft[2],",").concat(ft[2],",0,0,").concat(ct,`,
        `).concat(tt+nt-lt*ft[2],",").concat(rt+it)),ut+="L ".concat(tt+lt*ft[3],",").concat(rt+it),ft[3]>0&&(ut+="A ".concat(ft[3],",").concat(ft[3],",0,0,").concat(ct,`,
        `).concat(tt,",").concat(rt+it-st*ft[3])),ut+="Z"}else if(ot>0&&at===+at&&at>0){var vt=Math.min(ot,at);ut="M ".concat(tt,",").concat(rt+st*vt,`
            A `).concat(vt,",").concat(vt,",0,0,").concat(ct,",").concat(tt+lt*vt,",").concat(rt,`
            L `).concat(tt+nt-lt*vt,",").concat(rt,`
            A `).concat(vt,",").concat(vt,",0,0,").concat(ct,",").concat(tt+nt,",").concat(rt+st*vt,`
            L `).concat(tt+nt,",").concat(rt+it-st*vt,`
            A `).concat(vt,",").concat(vt,",0,0,").concat(ct,",").concat(tt+nt-lt*vt,",").concat(rt+it,`
            L `).concat(tt+lt*vt,",").concat(rt+it,`
            A `).concat(vt,",").concat(vt,",0,0,").concat(ct,",").concat(tt,",").concat(rt+it-st*vt," Z")}else ut="M ".concat(tt,",").concat(rt," h ").concat(nt," v ").concat(it," h ").concat(-nt," Z");return ut},isInRectangle=function et(tt,rt){if(!tt||!rt)return!1;var nt=tt.x,it=tt.y,at=rt.x,ot=rt.y,st=rt.width,lt=rt.height;if(Math.abs(st)>0&&Math.abs(lt)>0){var ct=Math.min(at,at+st),ut=Math.max(at,at+st),ft=Math.min(ot,ot+lt),ht=Math.max(ot,ot+lt);return nt>=ct&&nt<=ut&&it>=ft&&it<=ht}return!1},defaultProps$2={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Rectangle=function et(tt){var rt=_objectSpread$j(_objectSpread$j({},defaultProps$2),tt),nt=reactExports.useRef(),it=reactExports.useState(-1),at=_slicedToArray$3(it,2),ot=at[0],st=at[1];reactExports.useEffect(function(){if(nt.current&&nt.current.getTotalLength)try{var bt=nt.current.getTotalLength();bt&&st(bt)}catch{}},[]);var lt=rt.x,ct=rt.y,ut=rt.width,ft=rt.height,ht=rt.radius,dt=rt.className,vt=rt.animationEasing,yt=rt.animationDuration,xt=rt.animationBegin,_t=rt.isAnimationActive,mt=rt.isUpdateAnimationActive;if(lt!==+lt||ct!==+ct||ut!==+ut||ft!==+ft||ut===0||ft===0)return null;var pt=clsx("recharts-rectangle",dt);return mt?React.createElement(Animate,{canBegin:ot>0,from:{width:ut,height:ft,x:lt,y:ct},to:{width:ut,height:ft,x:lt,y:ct},duration:yt,animationEasing:vt,isActive:mt},function(bt){var Et=bt.width,St=bt.height,Tt=bt.x,Pt=bt.y;return React.createElement(Animate,{canBegin:ot>0,from:"0px ".concat(ot===-1?1:ot,"px"),to:"".concat(ot,"px 0px"),attributeName:"strokeDasharray",begin:xt,duration:yt,isActive:_t,easing:vt},React.createElement("path",_extends$i({},filterProps(rt,!0),{className:pt,d:getRectanglePath(Tt,Pt,Et,St,ht),ref:nt})))}):React.createElement("path",_extends$i({},filterProps(rt,!0),{className:pt,d:getRectanglePath(lt,ct,ut,ft,ht)}))},_excluded$8=["points","className","baseLinePoints","connectNulls"];function _extends$h(){return _extends$h=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$h.apply(this,arguments)}function _objectWithoutProperties$8(et,tt){if(et==null)return{};var rt=_objectWithoutPropertiesLoose$8(et,tt),nt,it;if(Object.getOwnPropertySymbols){var at=Object.getOwnPropertySymbols(et);for(it=0;it<at.length;it++)nt=at[it],!(tt.indexOf(nt)>=0)&&Object.prototype.propertyIsEnumerable.call(et,nt)&&(rt[nt]=et[nt])}return rt}function _objectWithoutPropertiesLoose$8(et,tt){if(et==null)return{};var rt={},nt=Object.keys(et),it,at;for(at=0;at<nt.length;at++)it=nt[at],!(tt.indexOf(it)>=0)&&(rt[it]=et[it]);return rt}function _toConsumableArray$2(et){return _arrayWithoutHoles$2(et)||_iterableToArray$2(et)||_unsupportedIterableToArray$4(et)||_nonIterableSpread$2()}function _nonIterableSpread$2(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$4(et,tt){if(et){if(typeof et=="string")return _arrayLikeToArray$4(et,tt);var rt=Object.prototype.toString.call(et).slice(8,-1);if(rt==="Object"&&et.constructor&&(rt=et.constructor.name),rt==="Map"||rt==="Set")return Array.from(et);if(rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt))return _arrayLikeToArray$4(et,tt)}}function _iterableToArray$2(et){if(typeof Symbol<"u"&&et[Symbol.iterator]!=null||et["@@iterator"]!=null)return Array.from(et)}function _arrayWithoutHoles$2(et){if(Array.isArray(et))return _arrayLikeToArray$4(et)}function _arrayLikeToArray$4(et,tt){(tt==null||tt>et.length)&&(tt=et.length);for(var rt=0,nt=new Array(tt);rt<tt;rt++)nt[rt]=et[rt];return nt}var isValidatePoint=function et(tt){return tt&&tt.x===+tt.x&&tt.y===+tt.y},getParsedPoints=function et(){var tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],rt=[[]];return tt.forEach(function(nt){isValidatePoint(nt)?rt[rt.length-1].push(nt):rt[rt.length-1].length>0&&rt.push([])}),isValidatePoint(tt[0])&&rt[rt.length-1].push(tt[0]),rt[rt.length-1].length<=0&&(rt=rt.slice(0,-1)),rt},getSinglePolygonPath=function et(tt,rt){var nt=getParsedPoints(tt);rt&&(nt=[nt.reduce(function(at,ot){return[].concat(_toConsumableArray$2(at),_toConsumableArray$2(ot))},[])]);var it=nt.map(function(at){return at.reduce(function(ot,st,lt){return"".concat(ot).concat(lt===0?"M":"L").concat(st.x,",").concat(st.y)},"")}).join("");return nt.length===1?"".concat(it,"Z"):it},getRanglePath=function et(tt,rt,nt){var it=getSinglePolygonPath(tt,nt);return"".concat(it.slice(-1)==="Z"?it.slice(0,-1):it,"L").concat(getSinglePolygonPath(rt.reverse(),nt).slice(1))},Polygon=function et(tt){var rt=tt.points,nt=tt.className,it=tt.baseLinePoints,at=tt.connectNulls,ot=_objectWithoutProperties$8(tt,_excluded$8);if(!rt||!rt.length)return null;var st=clsx("recharts-polygon",nt);if(it&&it.length){var lt=ot.stroke&&ot.stroke!=="none",ct=getRanglePath(rt,it,at);return React.createElement("g",{className:st},React.createElement("path",_extends$h({},filterProps(ot,!0),{fill:ct.slice(-1)==="Z"?ot.fill:"none",stroke:"none",d:ct})),lt?React.createElement("path",_extends$h({},filterProps(ot,!0),{fill:"none",d:getSinglePolygonPath(rt,at)})):null,lt?React.createElement("path",_extends$h({},filterProps(ot,!0),{fill:"none",d:getSinglePolygonPath(it,at)})):null)}var ut=getSinglePolygonPath(rt,at);return React.createElement("path",_extends$h({},filterProps(ot,!0),{fill:ut.slice(-1)==="Z"?ot.fill:"none",className:st,d:ut}))};function _extends$g(){return _extends$g=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$g.apply(this,arguments)}var Dot=function et(tt){var rt=tt.cx,nt=tt.cy,it=tt.r,at=tt.className,ot=clsx("recharts-dot",at);return rt===+rt&&nt===+nt&&it===+it?React.createElement("circle",_extends$g({},filterProps(tt,!1),adaptEventHandlers(tt),{className:ot,cx:rt,cy:nt,r:it})):null};function _typeof$j(et){"@babel/helpers - typeof";return _typeof$j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$j(et)}var _excluded$7=["x","y","top","left","width","height","className"];function _extends$f(){return _extends$f=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$f.apply(this,arguments)}function ownKeys$i(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(it){return Object.getOwnPropertyDescriptor(et,it).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$i(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$i(Object(rt),!0).forEach(function(nt){_defineProperty$j(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$i(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$j(et,tt,rt){return tt=_toPropertyKey$j(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$j(et){var tt=_toPrimitive$j(et,"string");return _typeof$j(tt)=="symbol"?tt:String(tt)}function _toPrimitive$j(et,tt){if(_typeof$j(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$j(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}function _objectWithoutProperties$7(et,tt){if(et==null)return{};var rt=_objectWithoutPropertiesLoose$7(et,tt),nt,it;if(Object.getOwnPropertySymbols){var at=Object.getOwnPropertySymbols(et);for(it=0;it<at.length;it++)nt=at[it],!(tt.indexOf(nt)>=0)&&Object.prototype.propertyIsEnumerable.call(et,nt)&&(rt[nt]=et[nt])}return rt}function _objectWithoutPropertiesLoose$7(et,tt){if(et==null)return{};var rt={},nt=Object.keys(et),it,at;for(at=0;at<nt.length;at++)it=nt[at],!(tt.indexOf(it)>=0)&&(rt[it]=et[it]);return rt}var getPath=function et(tt,rt,nt,it,at,ot){return"M".concat(tt,",").concat(at,"v").concat(it,"M").concat(ot,",").concat(rt,"h").concat(nt)},Cross=function et(tt){var rt=tt.x,nt=rt===void 0?0:rt,it=tt.y,at=it===void 0?0:it,ot=tt.top,st=ot===void 0?0:ot,lt=tt.left,ct=lt===void 0?0:lt,ut=tt.width,ft=ut===void 0?0:ut,ht=tt.height,dt=ht===void 0?0:ht,vt=tt.className,yt=_objectWithoutProperties$7(tt,_excluded$7),xt=_objectSpread$i({x:nt,y:at,top:st,left:ct,width:ft,height:dt},yt);return!isNumber(nt)||!isNumber(at)||!isNumber(ft)||!isNumber(dt)||!isNumber(st)||!isNumber(ct)?null:React.createElement("path",_extends$f({},filterProps(xt,!0),{className:clsx("recharts-cross",vt),d:getPath(nt,at,ft,dt,st,ct)}))},baseExtremum$1=_baseExtremum,baseGt=_baseGt,baseIteratee$6=_baseIteratee;function maxBy(et,tt){return et&&et.length?baseExtremum$1(et,baseIteratee$6(tt),baseGt):void 0}var maxBy_1=maxBy;const maxBy$1=getDefaultExportFromCjs(maxBy_1);var baseExtremum=_baseExtremum,baseIteratee$5=_baseIteratee,baseLt=_baseLt;function minBy(et,tt){return et&&et.length?baseExtremum(et,baseIteratee$5(tt),baseLt):void 0}var minBy_1=minBy;const minBy$1=getDefaultExportFromCjs(minBy_1);var _excluded$6=["cx","cy","angle","ticks","axisLine"],_excluded2$3=["ticks","tick","angle","tickFormatter","stroke"];function _typeof$i(et){"@babel/helpers - typeof";return _typeof$i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$i(et)}function _extends$e(){return _extends$e=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$e.apply(this,arguments)}function ownKeys$h(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(it){return Object.getOwnPropertyDescriptor(et,it).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$h(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$h(Object(rt),!0).forEach(function(nt){_defineProperty$i(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$h(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _objectWithoutProperties$6(et,tt){if(et==null)return{};var rt=_objectWithoutPropertiesLoose$6(et,tt),nt,it;if(Object.getOwnPropertySymbols){var at=Object.getOwnPropertySymbols(et);for(it=0;it<at.length;it++)nt=at[it],!(tt.indexOf(nt)>=0)&&Object.prototype.propertyIsEnumerable.call(et,nt)&&(rt[nt]=et[nt])}return rt}function _objectWithoutPropertiesLoose$6(et,tt){if(et==null)return{};var rt={},nt=Object.keys(et),it,at;for(at=0;at<nt.length;at++)it=nt[at],!(tt.indexOf(it)>=0)&&(rt[it]=et[it]);return rt}function _classCallCheck$8(et,tt){if(!(et instanceof tt))throw new TypeError("Cannot call a class as a function")}function _defineProperties$8(et,tt){for(var rt=0;rt<tt.length;rt++){var nt=tt[rt];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(et,_toPropertyKey$i(nt.key),nt)}}function _createClass$8(et,tt,rt){return tt&&_defineProperties$8(et.prototype,tt),rt&&_defineProperties$8(et,rt),Object.defineProperty(et,"prototype",{writable:!1}),et}function _callSuper$6(et,tt,rt){return tt=_getPrototypeOf$6(tt),_possibleConstructorReturn$6(et,_isNativeReflectConstruct$6()?Reflect.construct(tt,rt||[],_getPrototypeOf$6(et).constructor):tt.apply(et,rt))}function _possibleConstructorReturn$6(et,tt){if(tt&&(_typeof$i(tt)==="object"||typeof tt=="function"))return tt;if(tt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$6(et)}function _assertThisInitialized$6(et){if(et===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return et}function _isNativeReflectConstruct$6(){try{var et=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$6=function(){return!!et})()}function _getPrototypeOf$6(et){return _getPrototypeOf$6=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rt){return rt.__proto__||Object.getPrototypeOf(rt)},_getPrototypeOf$6(et)}function _inherits$6(et,tt){if(typeof tt!="function"&&tt!==null)throw new TypeError("Super expression must either be null or a function");et.prototype=Object.create(tt&&tt.prototype,{constructor:{value:et,writable:!0,configurable:!0}}),Object.defineProperty(et,"prototype",{writable:!1}),tt&&_setPrototypeOf$6(et,tt)}function _setPrototypeOf$6(et,tt){return _setPrototypeOf$6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,it){return nt.__proto__=it,nt},_setPrototypeOf$6(et,tt)}function _defineProperty$i(et,tt,rt){return tt=_toPropertyKey$i(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$i(et){var tt=_toPrimitive$i(et,"string");return _typeof$i(tt)=="symbol"?tt:String(tt)}function _toPrimitive$i(et,tt){if(_typeof$i(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$i(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}var PolarRadiusAxis=function(et){_inherits$6(tt,et);function tt(){return _classCallCheck$8(this,tt),_callSuper$6(this,tt,arguments)}return _createClass$8(tt,[{key:"getTickValueCoord",value:function(nt){var it=nt.coordinate,at=this.props,ot=at.angle,st=at.cx,lt=at.cy;return polarToCartesian(st,lt,it,ot)}},{key:"getTickTextAnchor",value:function(){var nt=this.props.orientation,it;switch(nt){case"left":it="end";break;case"right":it="start";break;default:it="middle";break}return it}},{key:"getViewBox",value:function(){var nt=this.props,it=nt.cx,at=nt.cy,ot=nt.angle,st=nt.ticks,lt=maxBy$1(st,function(ut){return ut.coordinate||0}),ct=minBy$1(st,function(ut){return ut.coordinate||0});return{cx:it,cy:at,startAngle:ot,endAngle:ot,innerRadius:ct.coordinate||0,outerRadius:lt.coordinate||0}}},{key:"renderAxisLine",value:function(){var nt=this.props,it=nt.cx,at=nt.cy,ot=nt.angle,st=nt.ticks,lt=nt.axisLine,ct=_objectWithoutProperties$6(nt,_excluded$6),ut=st.reduce(function(vt,yt){return[Math.min(vt[0],yt.coordinate),Math.max(vt[1],yt.coordinate)]},[1/0,-1/0]),ft=polarToCartesian(it,at,ut[0],ot),ht=polarToCartesian(it,at,ut[1],ot),dt=_objectSpread$h(_objectSpread$h(_objectSpread$h({},filterProps(ct,!1)),{},{fill:"none"},filterProps(lt,!1)),{},{x1:ft.x,y1:ft.y,x2:ht.x,y2:ht.y});return React.createElement("line",_extends$e({className:"recharts-polar-radius-axis-line"},dt))}},{key:"renderTicks",value:function(){var nt=this,it=this.props,at=it.ticks,ot=it.tick,st=it.angle,lt=it.tickFormatter,ct=it.stroke,ut=_objectWithoutProperties$6(it,_excluded2$3),ft=this.getTickTextAnchor(),ht=filterProps(ut,!1),dt=filterProps(ot,!1),vt=at.map(function(yt,xt){var _t=nt.getTickValueCoord(yt),mt=_objectSpread$h(_objectSpread$h(_objectSpread$h(_objectSpread$h({textAnchor:ft,transform:"rotate(".concat(90-st,", ").concat(_t.x,", ").concat(_t.y,")")},ht),{},{stroke:"none",fill:ct},dt),{},{index:xt},_t),{},{payload:yt});return React.createElement(Layer,_extends$e({className:clsx("recharts-polar-radius-axis-tick",getTickClassName(ot)),key:"tick-".concat(yt.coordinate)},adaptEventsOfChild(nt.props,yt,xt)),tt.renderTickItem(ot,mt,lt?lt(yt.value,xt):yt.value))});return React.createElement(Layer,{className:"recharts-polar-radius-axis-ticks"},vt)}},{key:"render",value:function(){var nt=this.props,it=nt.ticks,at=nt.axisLine,ot=nt.tick;return!it||!it.length?null:React.createElement(Layer,{className:clsx("recharts-polar-radius-axis",this.props.className)},at&&this.renderAxisLine(),ot&&this.renderTicks(),Label.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(nt,it,at){var ot;return React.isValidElement(nt)?ot=React.cloneElement(nt,it):isFunction$3(nt)?ot=nt(it):ot=React.createElement(Text,_extends$e({},it,{className:"recharts-polar-radius-axis-tick-value"}),at),ot}}]),tt}(reactExports.PureComponent);_defineProperty$i(PolarRadiusAxis,"displayName","PolarRadiusAxis");_defineProperty$i(PolarRadiusAxis,"axisType","radiusAxis");_defineProperty$i(PolarRadiusAxis,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function _typeof$h(et){"@babel/helpers - typeof";return _typeof$h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$h(et)}function _extends$d(){return _extends$d=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$d.apply(this,arguments)}function ownKeys$g(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(it){return Object.getOwnPropertyDescriptor(et,it).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$g(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$g(Object(rt),!0).forEach(function(nt){_defineProperty$h(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$g(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _classCallCheck$7(et,tt){if(!(et instanceof tt))throw new TypeError("Cannot call a class as a function")}function _defineProperties$7(et,tt){for(var rt=0;rt<tt.length;rt++){var nt=tt[rt];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(et,_toPropertyKey$h(nt.key),nt)}}function _createClass$7(et,tt,rt){return tt&&_defineProperties$7(et.prototype,tt),rt&&_defineProperties$7(et,rt),Object.defineProperty(et,"prototype",{writable:!1}),et}function _callSuper$5(et,tt,rt){return tt=_getPrototypeOf$5(tt),_possibleConstructorReturn$5(et,_isNativeReflectConstruct$5()?Reflect.construct(tt,rt||[],_getPrototypeOf$5(et).constructor):tt.apply(et,rt))}function _possibleConstructorReturn$5(et,tt){if(tt&&(_typeof$h(tt)==="object"||typeof tt=="function"))return tt;if(tt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$5(et)}function _assertThisInitialized$5(et){if(et===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return et}function _isNativeReflectConstruct$5(){try{var et=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$5=function(){return!!et})()}function _getPrototypeOf$5(et){return _getPrototypeOf$5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rt){return rt.__proto__||Object.getPrototypeOf(rt)},_getPrototypeOf$5(et)}function _inherits$5(et,tt){if(typeof tt!="function"&&tt!==null)throw new TypeError("Super expression must either be null or a function");et.prototype=Object.create(tt&&tt.prototype,{constructor:{value:et,writable:!0,configurable:!0}}),Object.defineProperty(et,"prototype",{writable:!1}),tt&&_setPrototypeOf$5(et,tt)}function _setPrototypeOf$5(et,tt){return _setPrototypeOf$5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,it){return nt.__proto__=it,nt},_setPrototypeOf$5(et,tt)}function _defineProperty$h(et,tt,rt){return tt=_toPropertyKey$h(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$h(et){var tt=_toPrimitive$h(et,"string");return _typeof$h(tt)=="symbol"?tt:String(tt)}function _toPrimitive$h(et,tt){if(_typeof$h(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$h(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}var RADIAN=Math.PI/180,eps=1e-5,PolarAngleAxis=function(et){_inherits$5(tt,et);function tt(){return _classCallCheck$7(this,tt),_callSuper$5(this,tt,arguments)}return _createClass$7(tt,[{key:"getTickLineCoord",value:function(nt){var it=this.props,at=it.cx,ot=it.cy,st=it.radius,lt=it.orientation,ct=it.tickSize,ut=ct||8,ft=polarToCartesian(at,ot,st,nt.coordinate),ht=polarToCartesian(at,ot,st+(lt==="inner"?-1:1)*ut,nt.coordinate);return{x1:ft.x,y1:ft.y,x2:ht.x,y2:ht.y}}},{key:"getTickTextAnchor",value:function(nt){var it=this.props.orientation,at=Math.cos(-nt.coordinate*RADIAN),ot;return at>eps?ot=it==="outer"?"start":"end":at<-eps?ot=it==="outer"?"end":"start":ot="middle",ot}},{key:"renderAxisLine",value:function(){var nt=this.props,it=nt.cx,at=nt.cy,ot=nt.radius,st=nt.axisLine,lt=nt.axisLineType,ct=_objectSpread$g(_objectSpread$g({},filterProps(this.props,!1)),{},{fill:"none"},filterProps(st,!1));if(lt==="circle")return React.createElement(Dot,_extends$d({className:"recharts-polar-angle-axis-line"},ct,{cx:it,cy:at,r:ot}));var ut=this.props.ticks,ft=ut.map(function(ht){return polarToCartesian(it,at,ot,ht.coordinate)});return React.createElement(Polygon,_extends$d({className:"recharts-polar-angle-axis-line"},ct,{points:ft}))}},{key:"renderTicks",value:function(){var nt=this,it=this.props,at=it.ticks,ot=it.tick,st=it.tickLine,lt=it.tickFormatter,ct=it.stroke,ut=filterProps(this.props,!1),ft=filterProps(ot,!1),ht=_objectSpread$g(_objectSpread$g({},ut),{},{fill:"none"},filterProps(st,!1)),dt=at.map(function(vt,yt){var xt=nt.getTickLineCoord(vt),_t=nt.getTickTextAnchor(vt),mt=_objectSpread$g(_objectSpread$g(_objectSpread$g({textAnchor:_t},ut),{},{stroke:"none",fill:ct},ft),{},{index:yt,payload:vt,x:xt.x2,y:xt.y2});return React.createElement(Layer,_extends$d({className:clsx("recharts-polar-angle-axis-tick",getTickClassName(ot)),key:"tick-".concat(vt.coordinate)},adaptEventsOfChild(nt.props,vt,yt)),st&&React.createElement("line",_extends$d({className:"recharts-polar-angle-axis-tick-line"},ht,xt)),ot&&tt.renderTickItem(ot,mt,lt?lt(vt.value,yt):vt.value))});return React.createElement(Layer,{className:"recharts-polar-angle-axis-ticks"},dt)}},{key:"render",value:function(){var nt=this.props,it=nt.ticks,at=nt.radius,ot=nt.axisLine;return at<=0||!it||!it.length?null:React.createElement(Layer,{className:clsx("recharts-polar-angle-axis",this.props.className)},ot&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(nt,it,at){var ot;return React.isValidElement(nt)?ot=React.cloneElement(nt,it):isFunction$3(nt)?ot=nt(it):ot=React.createElement(Text,_extends$d({},it,{className:"recharts-polar-angle-axis-tick-value"}),at),ot}}]),tt}(reactExports.PureComponent);_defineProperty$h(PolarAngleAxis,"displayName","PolarAngleAxis");_defineProperty$h(PolarAngleAxis,"axisType","angleAxis");_defineProperty$h(PolarAngleAxis,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var overArg=_overArg,getPrototype$1=overArg(Object.getPrototypeOf,Object),_getPrototype=getPrototype$1,baseGetTag$1=_baseGetTag,getPrototype=_getPrototype,isObjectLike$1=isObjectLike_1,objectTag="[object Object]",funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject(et){if(!isObjectLike$1(et)||baseGetTag$1(et)!=objectTag)return!1;var tt=getPrototype(et);if(tt===null)return!0;var rt=hasOwnProperty.call(tt,"constructor")&&tt.constructor;return typeof rt=="function"&&rt instanceof rt&&funcToString.call(rt)==objectCtorString}var isPlainObject_1=isPlainObject;const isPlainObject$1=getDefaultExportFromCjs(isPlainObject_1);var baseGetTag=_baseGetTag,isObjectLike=isObjectLike_1,boolTag="[object Boolean]";function isBoolean(et){return et===!0||et===!1||isObjectLike(et)&&baseGetTag(et)==boolTag}var isBoolean_1=isBoolean;const isBoolean$1=getDefaultExportFromCjs(isBoolean_1);function _typeof$g(et){"@babel/helpers - typeof";return _typeof$g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$g(et)}function _extends$c(){return _extends$c=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$c.apply(this,arguments)}function _slicedToArray$2(et,tt){return _arrayWithHoles$2(et)||_iterableToArrayLimit$2(et,tt)||_unsupportedIterableToArray$3(et,tt)||_nonIterableRest$2()}function _nonIterableRest$2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$3(et,tt){if(et){if(typeof et=="string")return _arrayLikeToArray$3(et,tt);var rt=Object.prototype.toString.call(et).slice(8,-1);if(rt==="Object"&&et.constructor&&(rt=et.constructor.name),rt==="Map"||rt==="Set")return Array.from(et);if(rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt))return _arrayLikeToArray$3(et,tt)}}function _arrayLikeToArray$3(et,tt){(tt==null||tt>et.length)&&(tt=et.length);for(var rt=0,nt=new Array(tt);rt<tt;rt++)nt[rt]=et[rt];return nt}function _iterableToArrayLimit$2(et,tt){var rt=et==null?null:typeof Symbol<"u"&&et[Symbol.iterator]||et["@@iterator"];if(rt!=null){var nt,it,at,ot,st=[],lt=!0,ct=!1;try{if(at=(rt=rt.call(et)).next,tt!==0)for(;!(lt=(nt=at.call(rt)).done)&&(st.push(nt.value),st.length!==tt);lt=!0);}catch(ut){ct=!0,it=ut}finally{try{if(!lt&&rt.return!=null&&(ot=rt.return(),Object(ot)!==ot))return}finally{if(ct)throw it}}return st}}function _arrayWithHoles$2(et){if(Array.isArray(et))return et}function ownKeys$f(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(it){return Object.getOwnPropertyDescriptor(et,it).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$f(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$f(Object(rt),!0).forEach(function(nt){_defineProperty$g(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$f(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$g(et,tt,rt){return tt=_toPropertyKey$g(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$g(et){var tt=_toPrimitive$g(et,"string");return _typeof$g(tt)=="symbol"?tt:String(tt)}function _toPrimitive$g(et,tt){if(_typeof$g(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$g(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}var getTrapezoidPath=function et(tt,rt,nt,it,at){var ot=nt-it,st;return st="M ".concat(tt,",").concat(rt),st+="L ".concat(tt+nt,",").concat(rt),st+="L ".concat(tt+nt-ot/2,",").concat(rt+at),st+="L ".concat(tt+nt-ot/2-it,",").concat(rt+at),st+="L ".concat(tt,",").concat(rt," Z"),st},defaultProps$1={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Trapezoid=function et(tt){var rt=_objectSpread$f(_objectSpread$f({},defaultProps$1),tt),nt=reactExports.useRef(),it=reactExports.useState(-1),at=_slicedToArray$2(it,2),ot=at[0],st=at[1];reactExports.useEffect(function(){if(nt.current&&nt.current.getTotalLength)try{var pt=nt.current.getTotalLength();pt&&st(pt)}catch{}},[]);var lt=rt.x,ct=rt.y,ut=rt.upperWidth,ft=rt.lowerWidth,ht=rt.height,dt=rt.className,vt=rt.animationEasing,yt=rt.animationDuration,xt=rt.animationBegin,_t=rt.isUpdateAnimationActive;if(lt!==+lt||ct!==+ct||ut!==+ut||ft!==+ft||ht!==+ht||ut===0&&ft===0||ht===0)return null;var mt=clsx("recharts-trapezoid",dt);return _t?React.createElement(Animate,{canBegin:ot>0,from:{upperWidth:0,lowerWidth:0,height:ht,x:lt,y:ct},to:{upperWidth:ut,lowerWidth:ft,height:ht,x:lt,y:ct},duration:yt,animationEasing:vt,isActive:_t},function(pt){var bt=pt.upperWidth,Et=pt.lowerWidth,St=pt.height,Tt=pt.x,Pt=pt.y;return React.createElement(Animate,{canBegin:ot>0,from:"0px ".concat(ot===-1?1:ot,"px"),to:"".concat(ot,"px 0px"),attributeName:"strokeDasharray",begin:xt,duration:yt,easing:vt},React.createElement("path",_extends$c({},filterProps(rt,!0),{className:mt,d:getTrapezoidPath(Tt,Pt,bt,Et,St),ref:nt})))}):React.createElement("g",null,React.createElement("path",_extends$c({},filterProps(rt,!0),{className:mt,d:getTrapezoidPath(lt,ct,ut,ft,ht)})))},_excluded$5=["option","shapeType","propTransformer","activeClassName","isActive"];function _typeof$f(et){"@babel/helpers - typeof";return _typeof$f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$f(et)}function _objectWithoutProperties$5(et,tt){if(et==null)return{};var rt=_objectWithoutPropertiesLoose$5(et,tt),nt,it;if(Object.getOwnPropertySymbols){var at=Object.getOwnPropertySymbols(et);for(it=0;it<at.length;it++)nt=at[it],!(tt.indexOf(nt)>=0)&&Object.prototype.propertyIsEnumerable.call(et,nt)&&(rt[nt]=et[nt])}return rt}function _objectWithoutPropertiesLoose$5(et,tt){if(et==null)return{};var rt={},nt=Object.keys(et),it,at;for(at=0;at<nt.length;at++)it=nt[at],!(tt.indexOf(it)>=0)&&(rt[it]=et[it]);return rt}function ownKeys$e(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(it){return Object.getOwnPropertyDescriptor(et,it).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$e(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$e(Object(rt),!0).forEach(function(nt){_defineProperty$f(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$e(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$f(et,tt,rt){return tt=_toPropertyKey$f(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$f(et){var tt=_toPrimitive$f(et,"string");return _typeof$f(tt)=="symbol"?tt:String(tt)}function _toPrimitive$f(et,tt){if(_typeof$f(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$f(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}function defaultPropTransformer(et,tt){return _objectSpread$e(_objectSpread$e({},tt),et)}function isSymbolsProps(et,tt){return et==="symbols"}function ShapeSelector(et){var tt=et.shapeType,rt=et.elementProps;switch(tt){case"rectangle":return React.createElement(Rectangle,rt);case"trapezoid":return React.createElement(Trapezoid,rt);case"sector":return React.createElement(Sector,rt);case"symbols":if(isSymbolsProps(tt))return React.createElement(Symbols,rt);break;default:return null}}function getPropsFromShapeOption(et){return reactExports.isValidElement(et)?et.props:et}function Shape(et){var tt=et.option,rt=et.shapeType,nt=et.propTransformer,it=nt===void 0?defaultPropTransformer:nt,at=et.activeClassName,ot=at===void 0?"recharts-active-shape":at,st=et.isActive,lt=_objectWithoutProperties$5(et,_excluded$5),ct;if(reactExports.isValidElement(tt))ct=reactExports.cloneElement(tt,_objectSpread$e(_objectSpread$e({},lt),getPropsFromShapeOption(tt)));else if(isFunction$3(tt))ct=tt(lt);else if(isPlainObject$1(tt)&&!isBoolean$1(tt)){var ut=it(tt,lt);ct=React.createElement(ShapeSelector,{shapeType:rt,elementProps:ut})}else{var ft=lt;ct=React.createElement(ShapeSelector,{shapeType:rt,elementProps:ft})}return st?React.createElement(Layer,{className:ot},ct):ct}function isFunnel(et,tt){return tt!=null&&"trapezoids"in et.props}function isPie(et,tt){return tt!=null&&"sectors"in et.props}function isScatter(et,tt){return tt!=null&&"points"in et.props}function compareFunnel(et,tt){var rt,nt,it=et.x===(tt==null||(rt=tt.labelViewBox)===null||rt===void 0?void 0:rt.x)||et.x===tt.x,at=et.y===(tt==null||(nt=tt.labelViewBox)===null||nt===void 0?void 0:nt.y)||et.y===tt.y;return it&&at}function comparePie(et,tt){var rt=et.endAngle===tt.endAngle,nt=et.startAngle===tt.startAngle;return rt&&nt}function compareScatter(et,tt){var rt=et.x===tt.x,nt=et.y===tt.y,it=et.z===tt.z;return rt&&nt&&it}function getComparisonFn(et,tt){var rt;return isFunnel(et,tt)?rt=compareFunnel:isPie(et,tt)?rt=comparePie:isScatter(et,tt)&&(rt=compareScatter),rt}function getShapeDataKey(et,tt){var rt;return isFunnel(et,tt)?rt="trapezoids":isPie(et,tt)?rt="sectors":isScatter(et,tt)&&(rt="points"),rt}function getActiveShapeTooltipPayload(et,tt){if(isFunnel(et,tt)){var rt;return(rt=tt.tooltipPayload)===null||rt===void 0||(rt=rt[0])===null||rt===void 0||(rt=rt.payload)===null||rt===void 0?void 0:rt.payload}if(isPie(et,tt)){var nt;return(nt=tt.tooltipPayload)===null||nt===void 0||(nt=nt[0])===null||nt===void 0||(nt=nt.payload)===null||nt===void 0?void 0:nt.payload}return isScatter(et,tt)?tt.payload:{}}function getActiveShapeIndexForTooltip(et){var tt=et.activeTooltipItem,rt=et.graphicalItem,nt=et.itemData,it=getShapeDataKey(rt,tt),at=getActiveShapeTooltipPayload(rt,tt),ot=nt.filter(function(lt,ct){var ut=isEqual$1(at,lt),ft=rt.props[it].filter(function(vt){var yt=getComparisonFn(rt,tt);return yt(vt,tt)}),ht=rt.props[it].indexOf(ft[ft.length-1]),dt=ct===ht;return ut&&dt}),st=nt.indexOf(ot[ot.length-1]);return st}var _Pie;function _typeof$e(et){"@babel/helpers - typeof";return _typeof$e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$e(et)}function _extends$b(){return _extends$b=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$b.apply(this,arguments)}function ownKeys$d(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(it){return Object.getOwnPropertyDescriptor(et,it).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$d(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$d(Object(rt),!0).forEach(function(nt){_defineProperty$e(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$d(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _classCallCheck$6(et,tt){if(!(et instanceof tt))throw new TypeError("Cannot call a class as a function")}function _defineProperties$6(et,tt){for(var rt=0;rt<tt.length;rt++){var nt=tt[rt];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(et,_toPropertyKey$e(nt.key),nt)}}function _createClass$6(et,tt,rt){return tt&&_defineProperties$6(et.prototype,tt),rt&&_defineProperties$6(et,rt),Object.defineProperty(et,"prototype",{writable:!1}),et}function _callSuper$4(et,tt,rt){return tt=_getPrototypeOf$4(tt),_possibleConstructorReturn$4(et,_isNativeReflectConstruct$4()?Reflect.construct(tt,rt||[],_getPrototypeOf$4(et).constructor):tt.apply(et,rt))}function _possibleConstructorReturn$4(et,tt){if(tt&&(_typeof$e(tt)==="object"||typeof tt=="function"))return tt;if(tt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$4(et)}function _isNativeReflectConstruct$4(){try{var et=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$4=function(){return!!et})()}function _getPrototypeOf$4(et){return _getPrototypeOf$4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rt){return rt.__proto__||Object.getPrototypeOf(rt)},_getPrototypeOf$4(et)}function _assertThisInitialized$4(et){if(et===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return et}function _inherits$4(et,tt){if(typeof tt!="function"&&tt!==null)throw new TypeError("Super expression must either be null or a function");et.prototype=Object.create(tt&&tt.prototype,{constructor:{value:et,writable:!0,configurable:!0}}),Object.defineProperty(et,"prototype",{writable:!1}),tt&&_setPrototypeOf$4(et,tt)}function _setPrototypeOf$4(et,tt){return _setPrototypeOf$4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,it){return nt.__proto__=it,nt},_setPrototypeOf$4(et,tt)}function _defineProperty$e(et,tt,rt){return tt=_toPropertyKey$e(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$e(et){var tt=_toPrimitive$e(et,"string");return _typeof$e(tt)=="symbol"?tt:String(tt)}function _toPrimitive$e(et,tt){if(_typeof$e(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$e(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}var Pie=function(et){_inherits$4(tt,et);function tt(rt){var nt;return _classCallCheck$6(this,tt),nt=_callSuper$4(this,tt,[rt]),_defineProperty$e(_assertThisInitialized$4(nt),"pieRef",null),_defineProperty$e(_assertThisInitialized$4(nt),"sectorRefs",[]),_defineProperty$e(_assertThisInitialized$4(nt),"id",uniqueId("recharts-pie-")),_defineProperty$e(_assertThisInitialized$4(nt),"handleAnimationEnd",function(){var it=nt.props.onAnimationEnd;nt.setState({isAnimationFinished:!0}),isFunction$3(it)&&it()}),_defineProperty$e(_assertThisInitialized$4(nt),"handleAnimationStart",function(){var it=nt.props.onAnimationStart;nt.setState({isAnimationFinished:!1}),isFunction$3(it)&&it()}),nt.state={isAnimationFinished:!rt.isAnimationActive,prevIsAnimationActive:rt.isAnimationActive,prevAnimationId:rt.animationId,sectorToFocus:0},nt}return _createClass$6(tt,[{key:"isActiveIndex",value:function(nt){var it=this.props.activeIndex;return Array.isArray(it)?it.indexOf(nt)!==-1:nt===it}},{key:"hasActiveIndex",value:function(){var nt=this.props.activeIndex;return Array.isArray(nt)?nt.length!==0:nt||nt===0}},{key:"renderLabels",value:function(nt){var it=this.props.isAnimationActive;if(it&&!this.state.isAnimationFinished)return null;var at=this.props,ot=at.label,st=at.labelLine,lt=at.dataKey,ct=at.valueKey,ut=filterProps(this.props,!1),ft=filterProps(ot,!1),ht=filterProps(st,!1),dt=ot&&ot.offsetRadius||20,vt=nt.map(function(yt,xt){var _t=(yt.startAngle+yt.endAngle)/2,mt=polarToCartesian(yt.cx,yt.cy,yt.outerRadius+dt,_t),pt=_objectSpread$d(_objectSpread$d(_objectSpread$d(_objectSpread$d({},ut),yt),{},{stroke:"none"},ft),{},{index:xt,textAnchor:tt.getTextAnchor(mt.x,yt.cx)},mt),bt=_objectSpread$d(_objectSpread$d(_objectSpread$d(_objectSpread$d({},ut),yt),{},{fill:"none",stroke:yt.fill},ht),{},{index:xt,points:[polarToCartesian(yt.cx,yt.cy,yt.outerRadius,_t),mt],key:"line"}),Et=lt;return isNil$1(lt)&&isNil$1(ct)?Et="value":isNil$1(lt)&&(Et=ct),React.createElement(Layer,{key:"label-".concat(yt.startAngle,"-").concat(yt.endAngle,"-").concat(yt.midAngle,"-").concat(xt)},st&&tt.renderLabelLineItem(st,bt),tt.renderLabelItem(ot,pt,getValueByDataKey(yt,Et)))});return React.createElement(Layer,{className:"recharts-pie-labels"},vt)}},{key:"renderSectorsStatically",value:function(nt){var it=this,at=this.props,ot=at.activeShape,st=at.blendStroke,lt=at.inactiveShape;return nt.map(function(ct,ut){if((ct==null?void 0:ct.startAngle)===0&&(ct==null?void 0:ct.endAngle)===0&&nt.length!==1)return null;var ft=it.isActiveIndex(ut),ht=lt&&it.hasActiveIndex()?lt:null,dt=ft?ot:ht,vt=_objectSpread$d(_objectSpread$d({},ct),{},{stroke:st?ct.fill:ct.stroke,tabIndex:-1});return React.createElement(Layer,_extends$b({ref:function(xt){xt&&!it.sectorRefs.includes(xt)&&it.sectorRefs.push(xt)},tabIndex:-1,className:"recharts-pie-sector"},adaptEventsOfChild(it.props,ct,ut),{key:"sector-".concat(ct==null?void 0:ct.startAngle,"-").concat(ct==null?void 0:ct.endAngle,"-").concat(ct.midAngle,"-").concat(ut)}),React.createElement(Shape,_extends$b({option:dt,isActive:ft,shapeType:"sector"},vt)))})}},{key:"renderSectorsWithAnimation",value:function(){var nt=this,it=this.props,at=it.sectors,ot=it.isAnimationActive,st=it.animationBegin,lt=it.animationDuration,ct=it.animationEasing,ut=it.animationId,ft=this.state,ht=ft.prevSectors,dt=ft.prevIsAnimationActive;return React.createElement(Animate,{begin:st,duration:lt,isActive:ot,easing:ct,from:{t:0},to:{t:1},key:"pie-".concat(ut,"-").concat(dt),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(vt){var yt=vt.t,xt=[],_t=at&&at[0],mt=_t.startAngle;return at.forEach(function(pt,bt){var Et=ht&&ht[bt],St=bt>0?get$2(pt,"paddingAngle",0):0;if(Et){var Tt=interpolateNumber$2(Et.endAngle-Et.startAngle,pt.endAngle-pt.startAngle),Pt=_objectSpread$d(_objectSpread$d({},pt),{},{startAngle:mt+St,endAngle:mt+Tt(yt)+St});xt.push(Pt),mt=Pt.endAngle}else{var Rt=pt.endAngle,It=pt.startAngle,$t=interpolateNumber$2(0,Rt-It),kt=$t(yt),Ct=_objectSpread$d(_objectSpread$d({},pt),{},{startAngle:mt+St,endAngle:mt+kt+St});xt.push(Ct),mt=Ct.endAngle}}),React.createElement(Layer,null,nt.renderSectorsStatically(xt))})}},{key:"attachKeyboardHandlers",value:function(nt){var it=this;nt.onkeydown=function(at){if(!at.altKey)switch(at.key){case"ArrowLeft":{var ot=++it.state.sectorToFocus%it.sectorRefs.length;it.sectorRefs[ot].focus(),it.setState({sectorToFocus:ot});break}case"ArrowRight":{var st=--it.state.sectorToFocus<0?it.sectorRefs.length-1:it.state.sectorToFocus%it.sectorRefs.length;it.sectorRefs[st].focus(),it.setState({sectorToFocus:st});break}case"Escape":{it.sectorRefs[it.state.sectorToFocus].blur(),it.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var nt=this.props,it=nt.sectors,at=nt.isAnimationActive,ot=this.state.prevSectors;return at&&it&&it.length&&(!ot||!isEqual$1(ot,it))?this.renderSectorsWithAnimation():this.renderSectorsStatically(it)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var nt=this,it=this.props,at=it.hide,ot=it.sectors,st=it.className,lt=it.label,ct=it.cx,ut=it.cy,ft=it.innerRadius,ht=it.outerRadius,dt=it.isAnimationActive,vt=this.state.isAnimationFinished;if(at||!ot||!ot.length||!isNumber(ct)||!isNumber(ut)||!isNumber(ft)||!isNumber(ht))return null;var yt=clsx("recharts-pie",st);return React.createElement(Layer,{tabIndex:this.props.rootTabIndex,className:yt,ref:function(_t){nt.pieRef=_t}},this.renderSectors(),lt&&this.renderLabels(ot),Label.renderCallByParent(this.props,null,!1),(!dt||vt)&&LabelList.renderCallByParent(this.props,ot,!1))}}],[{key:"getDerivedStateFromProps",value:function(nt,it){return it.prevIsAnimationActive!==nt.isAnimationActive?{prevIsAnimationActive:nt.isAnimationActive,prevAnimationId:nt.animationId,curSectors:nt.sectors,prevSectors:[],isAnimationFinished:!0}:nt.isAnimationActive&&nt.animationId!==it.prevAnimationId?{prevAnimationId:nt.animationId,curSectors:nt.sectors,prevSectors:it.curSectors,isAnimationFinished:!0}:nt.sectors!==it.curSectors?{curSectors:nt.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(nt,it){return nt>it?"start":nt<it?"end":"middle"}},{key:"renderLabelLineItem",value:function(nt,it){if(React.isValidElement(nt))return React.cloneElement(nt,it);if(isFunction$3(nt))return nt(it);var at=clsx("recharts-pie-label-line",typeof nt!="boolean"?nt.className:"");return React.createElement(Curve,_extends$b({},it,{type:"linear",className:at}))}},{key:"renderLabelItem",value:function(nt,it,at){if(React.isValidElement(nt))return React.cloneElement(nt,it);var ot=at;if(isFunction$3(nt)&&(ot=nt(it),React.isValidElement(ot)))return ot;var st=clsx("recharts-pie-label-text",typeof nt!="boolean"&&!isFunction$3(nt)?nt.className:"");return React.createElement(Text,_extends$b({},it,{alignmentBaseline:"middle",className:st}),ot)}}]),tt}(reactExports.PureComponent);_Pie=Pie;_defineProperty$e(Pie,"displayName","Pie");_defineProperty$e(Pie,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Global.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});_defineProperty$e(Pie,"parseDeltaAngle",function(et,tt){var rt=mathSign(tt-et),nt=Math.min(Math.abs(tt-et),360);return rt*nt});_defineProperty$e(Pie,"getRealPieData",function(et){var tt=et.props,rt=tt.data,nt=tt.children,it=filterProps(et.props,!1),at=findAllByType(nt,Cell);return rt&&rt.length?rt.map(function(ot,st){return _objectSpread$d(_objectSpread$d(_objectSpread$d({payload:ot},it),ot),at&&at[st]&&at[st].props)}):at&&at.length?at.map(function(ot){return _objectSpread$d(_objectSpread$d({},it),ot.props)}):[]});_defineProperty$e(Pie,"parseCoordinateOfPie",function(et,tt){var rt=tt.top,nt=tt.left,it=tt.width,at=tt.height,ot=getMaxRadius(it,at),st=nt+getPercentValue(et.props.cx,it,it/2),lt=rt+getPercentValue(et.props.cy,at,at/2),ct=getPercentValue(et.props.innerRadius,ot,0),ut=getPercentValue(et.props.outerRadius,ot,ot*.8),ft=et.props.maxRadius||Math.sqrt(it*it+at*at)/2;return{cx:st,cy:lt,innerRadius:ct,outerRadius:ut,maxRadius:ft}});_defineProperty$e(Pie,"getComposedData",function(et){var tt=et.item,rt=et.offset,nt=_Pie.getRealPieData(tt);if(!nt||!nt.length)return null;var it=tt.props,at=it.cornerRadius,ot=it.startAngle,st=it.endAngle,lt=it.paddingAngle,ct=it.dataKey,ut=it.nameKey,ft=it.valueKey,ht=it.tooltipType,dt=Math.abs(tt.props.minAngle),vt=_Pie.parseCoordinateOfPie(tt,rt),yt=_Pie.parseDeltaAngle(ot,st),xt=Math.abs(yt),_t=ct;isNil$1(ct)&&isNil$1(ft)?(warn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_t="value"):isNil$1(ct)&&(warn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_t=ft);var mt=nt.filter(function(Pt){return getValueByDataKey(Pt,_t,0)!==0}).length,pt=(xt>=360?mt:mt-1)*lt,bt=xt-mt*dt-pt,Et=nt.reduce(function(Pt,Rt){var It=getValueByDataKey(Rt,_t,0);return Pt+(isNumber(It)?It:0)},0),St;if(Et>0){var Tt;St=nt.map(function(Pt,Rt){var It=getValueByDataKey(Pt,_t,0),$t=getValueByDataKey(Pt,ut,Rt),kt=(isNumber(It)?It:0)/Et,Ct;Rt?Ct=Tt.endAngle+mathSign(yt)*lt*(It!==0?1:0):Ct=ot;var Bt=Ct+mathSign(yt)*((It!==0?dt:0)+kt*bt),Ft=(Ct+Bt)/2,Dt=(vt.innerRadius+vt.outerRadius)/2,Mt=[{name:$t,value:It,payload:Pt,dataKey:_t,type:ht}],wt=polarToCartesian(vt.cx,vt.cy,Dt,Ft);return Tt=_objectSpread$d(_objectSpread$d(_objectSpread$d({percent:kt,cornerRadius:at,name:$t,tooltipPayload:Mt,midAngle:Ft,middleRadius:Dt,tooltipPosition:wt},Pt),vt),{},{value:getValueByDataKey(Pt,_t),startAngle:Ct,endAngle:Bt,payload:Pt,paddingAngle:mathSign(yt)*lt}),Tt})}return _objectSpread$d(_objectSpread$d({},vt),{},{sectors:St,data:nt})});var nativeCeil=Math.ceil,nativeMax$1=Math.max;function baseRange$1(et,tt,rt,nt){for(var it=-1,at=nativeMax$1(nativeCeil((tt-et)/(rt||1)),0),ot=Array(at);at--;)ot[nt?at:++it]=et,et+=rt;return ot}var _baseRange=baseRange$1,toNumber=toNumber_1,INFINITY=1/0,MAX_INTEGER=17976931348623157e292;function toFinite$2(et){if(!et)return et===0?et:0;if(et=toNumber(et),et===INFINITY||et===-INFINITY){var tt=et<0?-1:1;return tt*MAX_INTEGER}return et===et?et:0}var toFinite_1=toFinite$2,baseRange=_baseRange,isIterateeCall$2=_isIterateeCall,toFinite$1=toFinite_1;function createRange$1(et){return function(tt,rt,nt){return nt&&typeof nt!="number"&&isIterateeCall$2(tt,rt,nt)&&(rt=nt=void 0),tt=toFinite$1(tt),rt===void 0?(rt=tt,tt=0):rt=toFinite$1(rt),nt=nt===void 0?tt<rt?1:-1:toFinite$1(nt),baseRange(tt,rt,nt,et)}}var _createRange=createRange$1,createRange=_createRange,range=createRange(),range_1=range;const range$1=getDefaultExportFromCjs(range_1);function _typeof$d(et){"@babel/helpers - typeof";return _typeof$d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$d(et)}function ownKeys$c(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(it){return Object.getOwnPropertyDescriptor(et,it).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$c(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$c(Object(rt),!0).forEach(function(nt){_defineProperty$d(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$c(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$d(et,tt,rt){return tt=_toPropertyKey$d(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$d(et){var tt=_toPrimitive$d(et,"string");return _typeof$d(tt)=="symbol"?tt:String(tt)}function _toPrimitive$d(et,tt){if(_typeof$d(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$d(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}var PREFIX_LIST=["Webkit","Moz","O","ms"],generatePrefixStyle=function et(tt,rt){var nt=tt.replace(/(\w)/,function(at){return at.toUpperCase()}),it=PREFIX_LIST.reduce(function(at,ot){return _objectSpread$c(_objectSpread$c({},at),{},_defineProperty$d({},ot+nt,rt))},{});return it[tt]=rt,it};function _typeof$c(et){"@babel/helpers - typeof";return _typeof$c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$c(et)}function _extends$a(){return _extends$a=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$a.apply(this,arguments)}function ownKeys$b(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(it){return Object.getOwnPropertyDescriptor(et,it).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$b(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$b(Object(rt),!0).forEach(function(nt){_defineProperty$c(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$b(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _classCallCheck$5(et,tt){if(!(et instanceof tt))throw new TypeError("Cannot call a class as a function")}function _defineProperties$5(et,tt){for(var rt=0;rt<tt.length;rt++){var nt=tt[rt];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(et,_toPropertyKey$c(nt.key),nt)}}function _createClass$5(et,tt,rt){return tt&&_defineProperties$5(et.prototype,tt),rt&&_defineProperties$5(et,rt),Object.defineProperty(et,"prototype",{writable:!1}),et}function _callSuper$3(et,tt,rt){return tt=_getPrototypeOf$3(tt),_possibleConstructorReturn$3(et,_isNativeReflectConstruct$3()?Reflect.construct(tt,rt||[],_getPrototypeOf$3(et).constructor):tt.apply(et,rt))}function _possibleConstructorReturn$3(et,tt){if(tt&&(_typeof$c(tt)==="object"||typeof tt=="function"))return tt;if(tt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$3(et)}function _isNativeReflectConstruct$3(){try{var et=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$3=function(){return!!et})()}function _getPrototypeOf$3(et){return _getPrototypeOf$3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rt){return rt.__proto__||Object.getPrototypeOf(rt)},_getPrototypeOf$3(et)}function _assertThisInitialized$3(et){if(et===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return et}function _inherits$3(et,tt){if(typeof tt!="function"&&tt!==null)throw new TypeError("Super expression must either be null or a function");et.prototype=Object.create(tt&&tt.prototype,{constructor:{value:et,writable:!0,configurable:!0}}),Object.defineProperty(et,"prototype",{writable:!1}),tt&&_setPrototypeOf$3(et,tt)}function _setPrototypeOf$3(et,tt){return _setPrototypeOf$3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,it){return nt.__proto__=it,nt},_setPrototypeOf$3(et,tt)}function _defineProperty$c(et,tt,rt){return tt=_toPropertyKey$c(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$c(et){var tt=_toPrimitive$c(et,"string");return _typeof$c(tt)=="symbol"?tt:String(tt)}function _toPrimitive$c(et,tt){if(_typeof$c(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$c(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}var createScale=function et(tt){var rt=tt.data,nt=tt.startIndex,it=tt.endIndex,at=tt.x,ot=tt.width,st=tt.travellerWidth;if(!rt||!rt.length)return{};var lt=rt.length,ct=point().domain(range$1(0,lt)).range([at,at+ot-st]),ut=ct.domain().map(function(ft){return ct(ft)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:ct(nt),endX:ct(it),scale:ct,scaleValues:ut}},isTouch=function et(tt){return tt.changedTouches&&!!tt.changedTouches.length},Brush=function(et){_inherits$3(tt,et);function tt(rt){var nt;return _classCallCheck$5(this,tt),nt=_callSuper$3(this,tt,[rt]),_defineProperty$c(_assertThisInitialized$3(nt),"handleDrag",function(it){nt.leaveTimer&&(clearTimeout(nt.leaveTimer),nt.leaveTimer=null),nt.state.isTravellerMoving?nt.handleTravellerMove(it):nt.state.isSlideMoving&&nt.handleSlideDrag(it)}),_defineProperty$c(_assertThisInitialized$3(nt),"handleTouchMove",function(it){it.changedTouches!=null&&it.changedTouches.length>0&&nt.handleDrag(it.changedTouches[0])}),_defineProperty$c(_assertThisInitialized$3(nt),"handleDragEnd",function(){nt.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var it=nt.props,at=it.endIndex,ot=it.onDragEnd,st=it.startIndex;ot==null||ot({endIndex:at,startIndex:st})}),nt.detachDragEndListener()}),_defineProperty$c(_assertThisInitialized$3(nt),"handleLeaveWrapper",function(){(nt.state.isTravellerMoving||nt.state.isSlideMoving)&&(nt.leaveTimer=window.setTimeout(nt.handleDragEnd,nt.props.leaveTimeOut))}),_defineProperty$c(_assertThisInitialized$3(nt),"handleEnterSlideOrTraveller",function(){nt.setState({isTextActive:!0})}),_defineProperty$c(_assertThisInitialized$3(nt),"handleLeaveSlideOrTraveller",function(){nt.setState({isTextActive:!1})}),_defineProperty$c(_assertThisInitialized$3(nt),"handleSlideDragStart",function(it){var at=isTouch(it)?it.changedTouches[0]:it;nt.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:at.pageX}),nt.attachDragEndListener()}),nt.travellerDragStartHandlers={startX:nt.handleTravellerDragStart.bind(_assertThisInitialized$3(nt),"startX"),endX:nt.handleTravellerDragStart.bind(_assertThisInitialized$3(nt),"endX")},nt.state={},nt}return _createClass$5(tt,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(nt){var it=nt.startX,at=nt.endX,ot=this.state.scaleValues,st=this.props,lt=st.gap,ct=st.data,ut=ct.length-1,ft=Math.min(it,at),ht=Math.max(it,at),dt=tt.getIndexInRange(ot,ft),vt=tt.getIndexInRange(ot,ht);return{startIndex:dt-dt%lt,endIndex:vt===ut?ut:vt-vt%lt}}},{key:"getTextOfTick",value:function(nt){var it=this.props,at=it.data,ot=it.tickFormatter,st=it.dataKey,lt=getValueByDataKey(at[nt],st,nt);return isFunction$3(ot)?ot(lt,nt):lt}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(nt){var it=this.state,at=it.slideMoveStartX,ot=it.startX,st=it.endX,lt=this.props,ct=lt.x,ut=lt.width,ft=lt.travellerWidth,ht=lt.startIndex,dt=lt.endIndex,vt=lt.onChange,yt=nt.pageX-at;yt>0?yt=Math.min(yt,ct+ut-ft-st,ct+ut-ft-ot):yt<0&&(yt=Math.max(yt,ct-ot,ct-st));var xt=this.getIndex({startX:ot+yt,endX:st+yt});(xt.startIndex!==ht||xt.endIndex!==dt)&&vt&&vt(xt),this.setState({startX:ot+yt,endX:st+yt,slideMoveStartX:nt.pageX})}},{key:"handleTravellerDragStart",value:function(nt,it){var at=isTouch(it)?it.changedTouches[0]:it;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:nt,brushMoveStartX:at.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(nt){var it=this.state,at=it.brushMoveStartX,ot=it.movingTravellerId,st=it.endX,lt=it.startX,ct=this.state[ot],ut=this.props,ft=ut.x,ht=ut.width,dt=ut.travellerWidth,vt=ut.onChange,yt=ut.gap,xt=ut.data,_t={startX:this.state.startX,endX:this.state.endX},mt=nt.pageX-at;mt>0?mt=Math.min(mt,ft+ht-dt-ct):mt<0&&(mt=Math.max(mt,ft-ct)),_t[ot]=ct+mt;var pt=this.getIndex(_t),bt=pt.startIndex,Et=pt.endIndex,St=function(){var Pt=xt.length-1;return ot==="startX"&&(st>lt?bt%yt===0:Et%yt===0)||st<lt&&Et===Pt||ot==="endX"&&(st>lt?Et%yt===0:bt%yt===0)||st>lt&&Et===Pt};this.setState(_defineProperty$c(_defineProperty$c({},ot,ct+mt),"brushMoveStartX",nt.pageX),function(){vt&&St()&&vt(pt)})}},{key:"handleTravellerMoveKeyboard",value:function(nt,it){var at=this,ot=this.state,st=ot.scaleValues,lt=ot.startX,ct=ot.endX,ut=this.state[it],ft=st.indexOf(ut);if(ft!==-1){var ht=ft+nt;if(!(ht===-1||ht>=st.length)){var dt=st[ht];it==="startX"&&dt>=ct||it==="endX"&&dt<=lt||this.setState(_defineProperty$c({},it,dt),function(){at.props.onChange(at.getIndex({startX:at.state.startX,endX:at.state.endX}))})}}}},{key:"renderBackground",value:function(){var nt=this.props,it=nt.x,at=nt.y,ot=nt.width,st=nt.height,lt=nt.fill,ct=nt.stroke;return React.createElement("rect",{stroke:ct,fill:lt,x:it,y:at,width:ot,height:st})}},{key:"renderPanorama",value:function(){var nt=this.props,it=nt.x,at=nt.y,ot=nt.width,st=nt.height,lt=nt.data,ct=nt.children,ut=nt.padding,ft=reactExports.Children.only(ct);return ft?React.cloneElement(ft,{x:it,y:at,width:ot,height:st,margin:ut,compact:!0,data:lt}):null}},{key:"renderTravellerLayer",value:function(nt,it){var at,ot,st=this,lt=this.props,ct=lt.y,ut=lt.travellerWidth,ft=lt.height,ht=lt.traveller,dt=lt.ariaLabel,vt=lt.data,yt=lt.startIndex,xt=lt.endIndex,_t=Math.max(nt,this.props.x),mt=_objectSpread$b(_objectSpread$b({},filterProps(this.props,!1)),{},{x:_t,y:ct,width:ut,height:ft}),pt=dt||"Min value: ".concat((at=vt[yt])===null||at===void 0?void 0:at.name,", Max value: ").concat((ot=vt[xt])===null||ot===void 0?void 0:ot.name);return React.createElement(Layer,{tabIndex:0,role:"slider","aria-label":pt,"aria-valuenow":nt,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[it],onTouchStart:this.travellerDragStartHandlers[it],onKeyDown:function(Et){["ArrowLeft","ArrowRight"].includes(Et.key)&&(Et.preventDefault(),Et.stopPropagation(),st.handleTravellerMoveKeyboard(Et.key==="ArrowRight"?1:-1,it))},onFocus:function(){st.setState({isTravellerFocused:!0})},onBlur:function(){st.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},tt.renderTraveller(ht,mt))}},{key:"renderSlide",value:function(nt,it){var at=this.props,ot=at.y,st=at.height,lt=at.stroke,ct=at.travellerWidth,ut=Math.min(nt,it)+ct,ft=Math.max(Math.abs(it-nt)-ct,0);return React.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:lt,fillOpacity:.2,x:ut,y:ot,width:ft,height:st})}},{key:"renderText",value:function(){var nt=this.props,it=nt.startIndex,at=nt.endIndex,ot=nt.y,st=nt.height,lt=nt.travellerWidth,ct=nt.stroke,ut=this.state,ft=ut.startX,ht=ut.endX,dt=5,vt={pointerEvents:"none",fill:ct};return React.createElement(Layer,{className:"recharts-brush-texts"},React.createElement(Text,_extends$a({textAnchor:"end",verticalAnchor:"middle",x:Math.min(ft,ht)-dt,y:ot+st/2},vt),this.getTextOfTick(it)),React.createElement(Text,_extends$a({textAnchor:"start",verticalAnchor:"middle",x:Math.max(ft,ht)+lt+dt,y:ot+st/2},vt),this.getTextOfTick(at)))}},{key:"render",value:function(){var nt=this.props,it=nt.data,at=nt.className,ot=nt.children,st=nt.x,lt=nt.y,ct=nt.width,ut=nt.height,ft=nt.alwaysShowText,ht=this.state,dt=ht.startX,vt=ht.endX,yt=ht.isTextActive,xt=ht.isSlideMoving,_t=ht.isTravellerMoving,mt=ht.isTravellerFocused;if(!it||!it.length||!isNumber(st)||!isNumber(lt)||!isNumber(ct)||!isNumber(ut)||ct<=0||ut<=0)return null;var pt=clsx("recharts-brush",at),bt=React.Children.count(ot)===1,Et=generatePrefixStyle("userSelect","none");return React.createElement(Layer,{className:pt,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:Et},this.renderBackground(),bt&&this.renderPanorama(),this.renderSlide(dt,vt),this.renderTravellerLayer(dt,"startX"),this.renderTravellerLayer(vt,"endX"),(yt||xt||_t||mt||ft)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(nt){var it=nt.x,at=nt.y,ot=nt.width,st=nt.height,lt=nt.stroke,ct=Math.floor(at+st/2)-1;return React.createElement(React.Fragment,null,React.createElement("rect",{x:it,y:at,width:ot,height:st,fill:lt,stroke:"none"}),React.createElement("line",{x1:it+1,y1:ct,x2:it+ot-1,y2:ct,fill:"none",stroke:"#fff"}),React.createElement("line",{x1:it+1,y1:ct+2,x2:it+ot-1,y2:ct+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(nt,it){var at;return React.isValidElement(nt)?at=React.cloneElement(nt,it):isFunction$3(nt)?at=nt(it):at=tt.renderDefaultTraveller(it),at}},{key:"getDerivedStateFromProps",value:function(nt,it){var at=nt.data,ot=nt.width,st=nt.x,lt=nt.travellerWidth,ct=nt.updateId,ut=nt.startIndex,ft=nt.endIndex;if(at!==it.prevData||ct!==it.prevUpdateId)return _objectSpread$b({prevData:at,prevTravellerWidth:lt,prevUpdateId:ct,prevX:st,prevWidth:ot},at&&at.length?createScale({data:at,width:ot,x:st,travellerWidth:lt,startIndex:ut,endIndex:ft}):{scale:null,scaleValues:null});if(it.scale&&(ot!==it.prevWidth||st!==it.prevX||lt!==it.prevTravellerWidth)){it.scale.range([st,st+ot-lt]);var ht=it.scale.domain().map(function(dt){return it.scale(dt)});return{prevData:at,prevTravellerWidth:lt,prevUpdateId:ct,prevX:st,prevWidth:ot,startX:it.scale(nt.startIndex),endX:it.scale(nt.endIndex),scaleValues:ht}}return null}},{key:"getIndexInRange",value:function(nt,it){for(var at=nt.length,ot=0,st=at-1;st-ot>1;){var lt=Math.floor((ot+st)/2);nt[lt]>it?st=lt:ot=lt}return it>=nt[st]?st:ot}}]),tt}(reactExports.PureComponent);_defineProperty$c(Brush,"displayName","Brush");_defineProperty$c(Brush,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var baseEach$1=_baseEach;function baseSome$1(et,tt){var rt;return baseEach$1(et,function(nt,it,at){return rt=tt(nt,it,at),!rt}),!!rt}var _baseSome=baseSome$1,arraySome=_arraySome,baseIteratee$4=_baseIteratee,baseSome=_baseSome,isArray$1=isArray_1,isIterateeCall$1=_isIterateeCall;function some(et,tt,rt){var nt=isArray$1(et)?arraySome:baseSome;return rt&&isIterateeCall$1(et,tt,rt)&&(tt=void 0),nt(et,baseIteratee$4(tt))}var some_1=some;const some$1=getDefaultExportFromCjs(some_1);var ifOverflowMatches=function et(tt,rt){var nt=tt.alwaysShow,it=tt.ifOverflow;return nt&&(it="extendDomain"),it===rt},defineProperty=_defineProperty$B;function baseAssignValue$1(et,tt,rt){tt=="__proto__"&&defineProperty?defineProperty(et,tt,{configurable:!0,enumerable:!0,value:rt,writable:!0}):et[tt]=rt}var _baseAssignValue=baseAssignValue$1,baseAssignValue=_baseAssignValue,baseForOwn=_baseForOwn,baseIteratee$3=_baseIteratee;function mapValues(et,tt){var rt={};return tt=baseIteratee$3(tt),baseForOwn(et,function(nt,it,at){baseAssignValue(rt,it,tt(nt,it,at))}),rt}var mapValues_1=mapValues;const mapValues$1=getDefaultExportFromCjs(mapValues_1);function arrayEvery$1(et,tt){for(var rt=-1,nt=et==null?0:et.length;++rt<nt;)if(!tt(et[rt],rt,et))return!1;return!0}var _arrayEvery=arrayEvery$1,baseEach=_baseEach;function baseEvery$1(et,tt){var rt=!0;return baseEach(et,function(nt,it,at){return rt=!!tt(nt,it,at),rt}),rt}var _baseEvery=baseEvery$1,arrayEvery=_arrayEvery,baseEvery=_baseEvery,baseIteratee$2=_baseIteratee,isArray=isArray_1,isIterateeCall=_isIterateeCall;function every(et,tt,rt){var nt=isArray(et)?arrayEvery:baseEvery;return rt&&isIterateeCall(et,tt,rt)&&(tt=void 0),nt(et,baseIteratee$2(tt))}var every_1=every;const every$1=getDefaultExportFromCjs(every_1);var _excluded$4=["x","y"];function _typeof$b(et){"@babel/helpers - typeof";return _typeof$b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$b(et)}function _extends$9(){return _extends$9=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$9.apply(this,arguments)}function ownKeys$a(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(it){return Object.getOwnPropertyDescriptor(et,it).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$a(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$a(Object(rt),!0).forEach(function(nt){_defineProperty$b(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$a(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$b(et,tt,rt){return tt=_toPropertyKey$b(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$b(et){var tt=_toPrimitive$b(et,"string");return _typeof$b(tt)=="symbol"?tt:String(tt)}function _toPrimitive$b(et,tt){if(_typeof$b(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$b(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}function _objectWithoutProperties$4(et,tt){if(et==null)return{};var rt=_objectWithoutPropertiesLoose$4(et,tt),nt,it;if(Object.getOwnPropertySymbols){var at=Object.getOwnPropertySymbols(et);for(it=0;it<at.length;it++)nt=at[it],!(tt.indexOf(nt)>=0)&&Object.prototype.propertyIsEnumerable.call(et,nt)&&(rt[nt]=et[nt])}return rt}function _objectWithoutPropertiesLoose$4(et,tt){if(et==null)return{};var rt={},nt=Object.keys(et),it,at;for(at=0;at<nt.length;at++)it=nt[at],!(tt.indexOf(it)>=0)&&(rt[it]=et[it]);return rt}function typeguardBarRectangleProps(et,tt){var rt=et.x,nt=et.y,it=_objectWithoutProperties$4(et,_excluded$4),at="".concat(rt),ot=parseInt(at,10),st="".concat(nt),lt=parseInt(st,10),ct="".concat(tt.height||it.height),ut=parseInt(ct,10),ft="".concat(tt.width||it.width),ht=parseInt(ft,10);return _objectSpread$a(_objectSpread$a(_objectSpread$a(_objectSpread$a(_objectSpread$a({},tt),it),ot?{x:ot}:{}),lt?{y:lt}:{}),{},{height:ut,width:ht,name:tt.name,radius:tt.radius})}function BarRectangle(et){return React.createElement(Shape,_extends$9({shapeType:"rectangle",propTransformer:typeguardBarRectangleProps,activeClassName:"recharts-active-bar"},et))}var minPointSizeCallback=function et(tt){var rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(nt,it){if(typeof tt=="number")return tt;var at=typeof nt=="number";return at?tt(nt,it):(at||invariant(),rt)}},_excluded$3=["value","background"],_Bar;function _typeof$a(et){"@babel/helpers - typeof";return _typeof$a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$a(et)}function _objectWithoutProperties$3(et,tt){if(et==null)return{};var rt=_objectWithoutPropertiesLoose$3(et,tt),nt,it;if(Object.getOwnPropertySymbols){var at=Object.getOwnPropertySymbols(et);for(it=0;it<at.length;it++)nt=at[it],!(tt.indexOf(nt)>=0)&&Object.prototype.propertyIsEnumerable.call(et,nt)&&(rt[nt]=et[nt])}return rt}function _objectWithoutPropertiesLoose$3(et,tt){if(et==null)return{};var rt={},nt=Object.keys(et),it,at;for(at=0;at<nt.length;at++)it=nt[at],!(tt.indexOf(it)>=0)&&(rt[it]=et[it]);return rt}function _extends$8(){return _extends$8=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$8.apply(this,arguments)}function ownKeys$9(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(it){return Object.getOwnPropertyDescriptor(et,it).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$9(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$9(Object(rt),!0).forEach(function(nt){_defineProperty$a(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$9(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _classCallCheck$4(et,tt){if(!(et instanceof tt))throw new TypeError("Cannot call a class as a function")}function _defineProperties$4(et,tt){for(var rt=0;rt<tt.length;rt++){var nt=tt[rt];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(et,_toPropertyKey$a(nt.key),nt)}}function _createClass$4(et,tt,rt){return tt&&_defineProperties$4(et.prototype,tt),rt&&_defineProperties$4(et,rt),Object.defineProperty(et,"prototype",{writable:!1}),et}function _callSuper$2(et,tt,rt){return tt=_getPrototypeOf$2(tt),_possibleConstructorReturn$2(et,_isNativeReflectConstruct$2()?Reflect.construct(tt,rt||[],_getPrototypeOf$2(et).constructor):tt.apply(et,rt))}function _possibleConstructorReturn$2(et,tt){if(tt&&(_typeof$a(tt)==="object"||typeof tt=="function"))return tt;if(tt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$2(et)}function _isNativeReflectConstruct$2(){try{var et=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$2=function(){return!!et})()}function _getPrototypeOf$2(et){return _getPrototypeOf$2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rt){return rt.__proto__||Object.getPrototypeOf(rt)},_getPrototypeOf$2(et)}function _assertThisInitialized$2(et){if(et===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return et}function _inherits$2(et,tt){if(typeof tt!="function"&&tt!==null)throw new TypeError("Super expression must either be null or a function");et.prototype=Object.create(tt&&tt.prototype,{constructor:{value:et,writable:!0,configurable:!0}}),Object.defineProperty(et,"prototype",{writable:!1}),tt&&_setPrototypeOf$2(et,tt)}function _setPrototypeOf$2(et,tt){return _setPrototypeOf$2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,it){return nt.__proto__=it,nt},_setPrototypeOf$2(et,tt)}function _defineProperty$a(et,tt,rt){return tt=_toPropertyKey$a(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$a(et){var tt=_toPrimitive$a(et,"string");return _typeof$a(tt)=="symbol"?tt:String(tt)}function _toPrimitive$a(et,tt){if(_typeof$a(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$a(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}var Bar=function(et){_inherits$2(tt,et);function tt(){var rt;_classCallCheck$4(this,tt);for(var nt=arguments.length,it=new Array(nt),at=0;at<nt;at++)it[at]=arguments[at];return rt=_callSuper$2(this,tt,[].concat(it)),_defineProperty$a(_assertThisInitialized$2(rt),"state",{isAnimationFinished:!1}),_defineProperty$a(_assertThisInitialized$2(rt),"id",uniqueId("recharts-bar-")),_defineProperty$a(_assertThisInitialized$2(rt),"handleAnimationEnd",function(){var ot=rt.props.onAnimationEnd;rt.setState({isAnimationFinished:!0}),ot&&ot()}),_defineProperty$a(_assertThisInitialized$2(rt),"handleAnimationStart",function(){var ot=rt.props.onAnimationStart;rt.setState({isAnimationFinished:!1}),ot&&ot()}),rt}return _createClass$4(tt,[{key:"renderRectanglesStatically",value:function(nt){var it=this,at=this.props,ot=at.shape,st=at.dataKey,lt=at.activeIndex,ct=at.activeBar,ut=filterProps(this.props,!1);return nt&&nt.map(function(ft,ht){var dt=ht===lt,vt=dt?ct:ot,yt=_objectSpread$9(_objectSpread$9(_objectSpread$9({},ut),ft),{},{isActive:dt,option:vt,index:ht,dataKey:st,onAnimationStart:it.handleAnimationStart,onAnimationEnd:it.handleAnimationEnd});return React.createElement(Layer,_extends$8({className:"recharts-bar-rectangle"},adaptEventsOfChild(it.props,ft,ht),{key:"rectangle-".concat(ft==null?void 0:ft.x,"-").concat(ft==null?void 0:ft.y,"-").concat(ft==null?void 0:ft.value)}),React.createElement(BarRectangle,yt))})}},{key:"renderRectanglesWithAnimation",value:function(){var nt=this,it=this.props,at=it.data,ot=it.layout,st=it.isAnimationActive,lt=it.animationBegin,ct=it.animationDuration,ut=it.animationEasing,ft=it.animationId,ht=this.state.prevData;return React.createElement(Animate,{begin:lt,duration:ct,isActive:st,easing:ut,from:{t:0},to:{t:1},key:"bar-".concat(ft),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(dt){var vt=dt.t,yt=at.map(function(xt,_t){var mt=ht&&ht[_t];if(mt){var pt=interpolateNumber$2(mt.x,xt.x),bt=interpolateNumber$2(mt.y,xt.y),Et=interpolateNumber$2(mt.width,xt.width),St=interpolateNumber$2(mt.height,xt.height);return _objectSpread$9(_objectSpread$9({},xt),{},{x:pt(vt),y:bt(vt),width:Et(vt),height:St(vt)})}if(ot==="horizontal"){var Tt=interpolateNumber$2(0,xt.height),Pt=Tt(vt);return _objectSpread$9(_objectSpread$9({},xt),{},{y:xt.y+xt.height-Pt,height:Pt})}var Rt=interpolateNumber$2(0,xt.width),It=Rt(vt);return _objectSpread$9(_objectSpread$9({},xt),{},{width:It})});return React.createElement(Layer,null,nt.renderRectanglesStatically(yt))})}},{key:"renderRectangles",value:function(){var nt=this.props,it=nt.data,at=nt.isAnimationActive,ot=this.state.prevData;return at&&it&&it.length&&(!ot||!isEqual$1(ot,it))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(it)}},{key:"renderBackground",value:function(){var nt=this,it=this.props,at=it.data,ot=it.dataKey,st=it.activeIndex,lt=filterProps(this.props.background,!1);return at.map(function(ct,ut){ct.value;var ft=ct.background,ht=_objectWithoutProperties$3(ct,_excluded$3);if(!ft)return null;var dt=_objectSpread$9(_objectSpread$9(_objectSpread$9(_objectSpread$9(_objectSpread$9({},ht),{},{fill:"#eee"},ft),lt),adaptEventsOfChild(nt.props,ct,ut)),{},{onAnimationStart:nt.handleAnimationStart,onAnimationEnd:nt.handleAnimationEnd,dataKey:ot,index:ut,key:"background-bar-".concat(ut),className:"recharts-bar-background-rectangle"});return React.createElement(BarRectangle,_extends$8({option:nt.props.background,isActive:ut===st},dt))})}},{key:"renderErrorBar",value:function(nt,it){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var at=this.props,ot=at.data,st=at.xAxis,lt=at.yAxis,ct=at.layout,ut=at.children,ft=findAllByType(ut,ErrorBar);if(!ft)return null;var ht=ct==="vertical"?ot[0].height/2:ot[0].width/2,dt=function(xt,_t){var mt=Array.isArray(xt.value)?xt.value[1]:xt.value;return{x:xt.x,y:xt.y,value:mt,errorVal:getValueByDataKey(xt,_t)}},vt={clipPath:nt?"url(#clipPath-".concat(it,")"):null};return React.createElement(Layer,vt,ft.map(function(yt){return React.cloneElement(yt,{key:"error-bar-".concat(it,"-").concat(yt.props.dataKey),data:ot,xAxis:st,yAxis:lt,layout:ct,offset:ht,dataPointFormatter:dt})}))}},{key:"render",value:function(){var nt=this.props,it=nt.hide,at=nt.data,ot=nt.className,st=nt.xAxis,lt=nt.yAxis,ct=nt.left,ut=nt.top,ft=nt.width,ht=nt.height,dt=nt.isAnimationActive,vt=nt.background,yt=nt.id;if(it||!at||!at.length)return null;var xt=this.state.isAnimationFinished,_t=clsx("recharts-bar",ot),mt=st&&st.allowDataOverflow,pt=lt&&lt.allowDataOverflow,bt=mt||pt,Et=isNil$1(yt)?this.id:yt;return React.createElement(Layer,{className:_t},mt||pt?React.createElement("defs",null,React.createElement("clipPath",{id:"clipPath-".concat(Et)},React.createElement("rect",{x:mt?ct:ct-ft/2,y:pt?ut:ut-ht/2,width:mt?ft:ft*2,height:pt?ht:ht*2}))):null,React.createElement(Layer,{className:"recharts-bar-rectangles",clipPath:bt?"url(#clipPath-".concat(Et,")"):null},vt?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(bt,Et),(!dt||xt)&&LabelList.renderCallByParent(this.props,at))}}],[{key:"getDerivedStateFromProps",value:function(nt,it){return nt.animationId!==it.prevAnimationId?{prevAnimationId:nt.animationId,curData:nt.data,prevData:it.curData}:nt.data!==it.curData?{curData:nt.data}:null}}]),tt}(reactExports.PureComponent);_Bar=Bar;_defineProperty$a(Bar,"displayName","Bar");_defineProperty$a(Bar,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Global.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});_defineProperty$a(Bar,"getComposedData",function(et){var tt=et.props,rt=et.item,nt=et.barPosition,it=et.bandSize,at=et.xAxis,ot=et.yAxis,st=et.xAxisTicks,lt=et.yAxisTicks,ct=et.stackedData,ut=et.dataStartIndex,ft=et.displayedData,ht=et.offset,dt=findPositionOfBar(nt,rt);if(!dt)return null;var vt=tt.layout,yt=rt.props,xt=yt.dataKey,_t=yt.children,mt=yt.minPointSize,pt=vt==="horizontal"?ot:at,bt=ct?pt.scale.domain():null,Et=getBaseValueOfBar({numericAxis:pt}),St=findAllByType(_t,Cell),Tt=ft.map(function(Pt,Rt){var It,$t,kt,Ct,Bt,Ft;ct?It=truncateByDomain(ct[ut+Rt],bt):(It=getValueByDataKey(Pt,xt),Array.isArray(It)||(It=[Et,It]));var Dt=minPointSizeCallback(mt,_Bar.defaultProps.minPointSize)(It[1],Rt);if(vt==="horizontal"){var Mt,wt=[ot.scale(It[0]),ot.scale(It[1])],Ot=wt[0],Lt=wt[1];$t=getCateCoordinateOfBar({axis:at,ticks:st,bandSize:it,offset:dt.offset,entry:Pt,index:Rt}),kt=(Mt=Lt??Ot)!==null&&Mt!==void 0?Mt:void 0,Ct=dt.size;var Vt=Ot-Lt;if(Bt=Number.isNaN(Vt)?0:Vt,Ft={x:$t,y:ot.y,width:Ct,height:ot.height},Math.abs(Dt)>0&&Math.abs(Bt)<Math.abs(Dt)){var zt=mathSign(Bt||Dt)*(Math.abs(Dt)-Math.abs(Bt));kt-=zt,Bt+=zt}}else{var Yt=[at.scale(It[0]),at.scale(It[1])],nr=Yt[0],cr=Yt[1];if($t=nr,kt=getCateCoordinateOfBar({axis:ot,ticks:lt,bandSize:it,offset:dt.offset,entry:Pt,index:Rt}),Ct=cr-nr,Bt=dt.size,Ft={x:at.x,y:kt,width:at.width,height:Bt},Math.abs(Dt)>0&&Math.abs(Ct)<Math.abs(Dt)){var hr=mathSign(Ct||Dt)*(Math.abs(Dt)-Math.abs(Ct));Ct+=hr}}return _objectSpread$9(_objectSpread$9(_objectSpread$9({},Pt),{},{x:$t,y:kt,width:Ct,height:Bt,value:ct?It:It[1],payload:Pt,background:Ft},St&&St[Rt]&&St[Rt].props),{},{tooltipPayload:[getTooltipItem(rt,Pt)],tooltipPosition:{x:$t+Ct/2,y:kt+Bt/2}})});return _objectSpread$9({data:Tt,layout:vt},ht)});function _typeof$9(et){"@babel/helpers - typeof";return _typeof$9=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$9(et)}function _classCallCheck$3(et,tt){if(!(et instanceof tt))throw new TypeError("Cannot call a class as a function")}function _defineProperties$3(et,tt){for(var rt=0;rt<tt.length;rt++){var nt=tt[rt];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(et,_toPropertyKey$9(nt.key),nt)}}function _createClass$3(et,tt,rt){return tt&&_defineProperties$3(et.prototype,tt),rt&&_defineProperties$3(et,rt),Object.defineProperty(et,"prototype",{writable:!1}),et}function ownKeys$8(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(it){return Object.getOwnPropertyDescriptor(et,it).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$8(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$8(Object(rt),!0).forEach(function(nt){_defineProperty$9(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$8(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$9(et,tt,rt){return tt=_toPropertyKey$9(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$9(et){var tt=_toPrimitive$9(et,"string");return _typeof$9(tt)=="symbol"?tt:String(tt)}function _toPrimitive$9(et,tt){if(_typeof$9(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$9(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}var formatAxisMap=function et(tt,rt,nt,it,at){var ot=tt.width,st=tt.height,lt=tt.layout,ct=tt.children,ut=Object.keys(rt),ft={left:nt.left,leftMirror:nt.left,right:ot-nt.right,rightMirror:ot-nt.right,top:nt.top,topMirror:nt.top,bottom:st-nt.bottom,bottomMirror:st-nt.bottom},ht=!!findChildByType(ct,Bar);return ut.reduce(function(dt,vt){var yt=rt[vt],xt=yt.orientation,_t=yt.domain,mt=yt.padding,pt=mt===void 0?{}:mt,bt=yt.mirror,Et=yt.reversed,St="".concat(xt).concat(bt?"Mirror":""),Tt,Pt,Rt,It,$t;if(yt.type==="number"&&(yt.padding==="gap"||yt.padding==="no-gap")){var kt=_t[1]-_t[0],Ct=1/0,Bt=yt.categoricalDomain.sort();if(Bt.forEach(function(nr,cr){cr>0&&(Ct=Math.min((nr||0)-(Bt[cr-1]||0),Ct))}),Number.isFinite(Ct)){var Ft=Ct/kt,Dt=yt.layout==="vertical"?nt.height:nt.width;if(yt.padding==="gap"&&(Tt=Ft*Dt/2),yt.padding==="no-gap"){var Mt=getPercentValue(tt.barCategoryGap,Ft*Dt),wt=Ft*Dt/2;Tt=wt-Mt-(wt-Mt)/Dt*Mt}}}it==="xAxis"?Pt=[nt.left+(pt.left||0)+(Tt||0),nt.left+nt.width-(pt.right||0)-(Tt||0)]:it==="yAxis"?Pt=lt==="horizontal"?[nt.top+nt.height-(pt.bottom||0),nt.top+(pt.top||0)]:[nt.top+(pt.top||0)+(Tt||0),nt.top+nt.height-(pt.bottom||0)-(Tt||0)]:Pt=yt.range,Et&&(Pt=[Pt[1],Pt[0]]);var Ot=parseScale(yt,at,ht),Lt=Ot.scale,Vt=Ot.realScaleType;Lt.domain(_t).range(Pt),checkDomainOfScale(Lt);var zt=getTicksOfScale(Lt,_objectSpread$8(_objectSpread$8({},yt),{},{realScaleType:Vt}));it==="xAxis"?($t=xt==="top"&&!bt||xt==="bottom"&&bt,Rt=nt.left,It=ft[St]-$t*yt.height):it==="yAxis"&&($t=xt==="left"&&!bt||xt==="right"&&bt,Rt=ft[St]-$t*yt.width,It=nt.top);var Yt=_objectSpread$8(_objectSpread$8(_objectSpread$8({},yt),zt),{},{realScaleType:Vt,x:Rt,y:It,scale:Lt,width:it==="xAxis"?nt.width:yt.width,height:it==="yAxis"?nt.height:yt.height});return Yt.bandSize=getBandSizeOfAxis(Yt,zt),!yt.hide&&it==="xAxis"?ft[St]+=($t?-1:1)*Yt.height:yt.hide||(ft[St]+=($t?-1:1)*Yt.width),_objectSpread$8(_objectSpread$8({},dt),{},_defineProperty$9({},vt,Yt))},{})},rectWithPoints=function et(tt,rt){var nt=tt.x,it=tt.y,at=rt.x,ot=rt.y;return{x:Math.min(nt,at),y:Math.min(it,ot),width:Math.abs(at-nt),height:Math.abs(ot-it)}},rectWithCoords=function et(tt){var rt=tt.x1,nt=tt.y1,it=tt.x2,at=tt.y2;return rectWithPoints({x:rt,y:nt},{x:it,y:at})},ScaleHelper=function(){function et(tt){_classCallCheck$3(this,et),this.scale=tt}return _createClass$3(et,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(rt){var nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},it=nt.bandAware,at=nt.position;if(rt!==void 0){if(at)switch(at){case"start":return this.scale(rt);case"middle":{var ot=this.bandwidth?this.bandwidth()/2:0;return this.scale(rt)+ot}case"end":{var st=this.bandwidth?this.bandwidth():0;return this.scale(rt)+st}default:return this.scale(rt)}if(it){var lt=this.bandwidth?this.bandwidth()/2:0;return this.scale(rt)+lt}return this.scale(rt)}}},{key:"isInRange",value:function(rt){var nt=this.range(),it=nt[0],at=nt[nt.length-1];return it<=at?rt>=it&&rt<=at:rt>=at&&rt<=it}}],[{key:"create",value:function(rt){return new et(rt)}}]),et}();_defineProperty$9(ScaleHelper,"EPS",1e-4);var createLabeledScales=function et(tt){var rt=Object.keys(tt).reduce(function(nt,it){return _objectSpread$8(_objectSpread$8({},nt),{},_defineProperty$9({},it,ScaleHelper.create(tt[it])))},{});return _objectSpread$8(_objectSpread$8({},rt),{},{apply:function(it){var at=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ot=at.bandAware,st=at.position;return mapValues$1(it,function(lt,ct){return rt[ct].apply(lt,{bandAware:ot,position:st})})},isInRange:function(it){return every$1(it,function(at,ot){return rt[ot].isInRange(at)})}})};function normalizeAngle(et){return(et%180+180)%180}var getAngledRectangleWidth=function et(tt){var rt=tt.width,nt=tt.height,it=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,at=normalizeAngle(it),ot=at*Math.PI/180,st=Math.atan(nt/rt),lt=ot>st&&ot<Math.PI-st?nt/Math.sin(ot):rt/Math.cos(ot);return Math.abs(lt)},baseIteratee$1=_baseIteratee,isArrayLike=isArrayLike_1,keys=keys_1;function createFind$1(et){return function(tt,rt,nt){var it=Object(tt);if(!isArrayLike(tt)){var at=baseIteratee$1(rt);tt=keys(tt),rt=function(st){return at(it[st],st,it)}}var ot=et(tt,rt,nt);return ot>-1?it[at?tt[ot]:ot]:void 0}}var _createFind=createFind$1,toFinite=toFinite_1;function toInteger$1(et){var tt=toFinite(et),rt=tt%1;return tt===tt?rt?tt-rt:tt:0}var toInteger_1=toInteger$1,baseFindIndex=_baseFindIndex,baseIteratee=_baseIteratee,toInteger=toInteger_1,nativeMax=Math.max;function findIndex$1(et,tt,rt){var nt=et==null?0:et.length;if(!nt)return-1;var it=rt==null?0:toInteger(rt);return it<0&&(it=nativeMax(nt+it,0)),baseFindIndex(et,baseIteratee(tt),it)}var findIndex_1=findIndex$1,createFind=_createFind,findIndex=findIndex_1,find=createFind(findIndex),find_1=find;const find$1=getDefaultExportFromCjs(find_1);var calculateViewBox=memoize$3(function(et){return{x:et.left,y:et.top,width:et.width,height:et.height}},function(et){return["l",et.left,"t",et.top,"w",et.width,"h",et.height].join("")}),XAxisContext=reactExports.createContext(void 0),YAxisContext=reactExports.createContext(void 0),ViewBoxContext=reactExports.createContext(void 0),OffsetContext=reactExports.createContext({}),ClipPathIdContext=reactExports.createContext(void 0),ChartHeightContext=reactExports.createContext(0),ChartWidthContext=reactExports.createContext(0),ChartLayoutContextProvider=function et(tt){var rt=tt.state,nt=rt.xAxisMap,it=rt.yAxisMap,at=rt.offset,ot=tt.clipPathId,st=tt.children,lt=tt.width,ct=tt.height,ut=calculateViewBox(at);return React.createElement(XAxisContext.Provider,{value:nt},React.createElement(YAxisContext.Provider,{value:it},React.createElement(OffsetContext.Provider,{value:at},React.createElement(ViewBoxContext.Provider,{value:ut},React.createElement(ClipPathIdContext.Provider,{value:ot},React.createElement(ChartHeightContext.Provider,{value:ct},React.createElement(ChartWidthContext.Provider,{value:lt},st)))))))},useClipPathId=function et(){return reactExports.useContext(ClipPathIdContext)},useXAxisOrThrow=function et(tt){var rt=reactExports.useContext(XAxisContext);rt==null&&invariant();var nt=rt[tt];return nt==null&&invariant(),nt},useArbitraryXAxis=function et(){var tt=reactExports.useContext(XAxisContext);return getAnyElementOfObject(tt)},useYAxisWithFiniteDomainOrRandom=function et(){var tt=reactExports.useContext(YAxisContext),rt=find$1(tt,function(nt){return every$1(nt.domain,Number.isFinite)});return rt||getAnyElementOfObject(tt)},useYAxisOrThrow=function et(tt){var rt=reactExports.useContext(YAxisContext);rt==null&&invariant();var nt=rt[tt];return nt==null&&invariant(),nt},useViewBox=function et(){var tt=reactExports.useContext(ViewBoxContext);return tt},useOffset=function et(){return reactExports.useContext(OffsetContext)},useChartWidth=function et(){return reactExports.useContext(ChartWidthContext)},useChartHeight=function et(){return reactExports.useContext(ChartHeightContext)};function _typeof$8(et){"@babel/helpers - typeof";return _typeof$8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$8(et)}function ownKeys$7(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(it){return Object.getOwnPropertyDescriptor(et,it).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$7(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$7(Object(rt),!0).forEach(function(nt){_defineProperty$8(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$7(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$8(et,tt,rt){return tt=_toPropertyKey$8(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$8(et){var tt=_toPrimitive$8(et,"string");return _typeof$8(tt)=="symbol"?tt:String(tt)}function _toPrimitive$8(et,tt){if(_typeof$8(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$8(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}function _slicedToArray$1(et,tt){return _arrayWithHoles$1(et)||_iterableToArrayLimit$1(et,tt)||_unsupportedIterableToArray$2(et,tt)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$2(et,tt){if(et){if(typeof et=="string")return _arrayLikeToArray$2(et,tt);var rt=Object.prototype.toString.call(et).slice(8,-1);if(rt==="Object"&&et.constructor&&(rt=et.constructor.name),rt==="Map"||rt==="Set")return Array.from(et);if(rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt))return _arrayLikeToArray$2(et,tt)}}function _arrayLikeToArray$2(et,tt){(tt==null||tt>et.length)&&(tt=et.length);for(var rt=0,nt=new Array(tt);rt<tt;rt++)nt[rt]=et[rt];return nt}function _iterableToArrayLimit$1(et,tt){var rt=et==null?null:typeof Symbol<"u"&&et[Symbol.iterator]||et["@@iterator"];if(rt!=null){var nt,it,at,ot,st=[],lt=!0,ct=!1;try{if(at=(rt=rt.call(et)).next,tt!==0)for(;!(lt=(nt=at.call(rt)).done)&&(st.push(nt.value),st.length!==tt);lt=!0);}catch(ut){ct=!0,it=ut}finally{try{if(!lt&&rt.return!=null&&(ot=rt.return(),Object(ot)!==ot))return}finally{if(ct)throw it}}return st}}function _arrayWithHoles$1(et){if(Array.isArray(et))return et}function _extends$7(){return _extends$7=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$7.apply(this,arguments)}var renderLine=function et(tt,rt){var nt;return React.isValidElement(tt)?nt=React.cloneElement(tt,rt):isFunction$3(tt)?nt=tt(rt):nt=React.createElement("line",_extends$7({},rt,{className:"recharts-reference-line-line"})),nt},getEndPoints=function et(tt,rt,nt,it,at,ot,st,lt,ct){var ut=at.x,ft=at.y,ht=at.width,dt=at.height;if(nt){var vt=ct.y,yt=tt.y.apply(vt,{position:ot});if(ifOverflowMatches(ct,"discard")&&!tt.y.isInRange(yt))return null;var xt=[{x:ut+ht,y:yt},{x:ut,y:yt}];return lt==="left"?xt.reverse():xt}if(rt){var _t=ct.x,mt=tt.x.apply(_t,{position:ot});if(ifOverflowMatches(ct,"discard")&&!tt.x.isInRange(mt))return null;var pt=[{x:mt,y:ft+dt},{x:mt,y:ft}];return st==="top"?pt.reverse():pt}if(it){var bt=ct.segment,Et=bt.map(function(St){return tt.apply(St,{position:ot})});return ifOverflowMatches(ct,"discard")&&some$1(Et,function(St){return!tt.isInRange(St)})?null:Et}return null};function ReferenceLine(et){var tt=et.x,rt=et.y,nt=et.segment,it=et.xAxisId,at=et.yAxisId,ot=et.shape,st=et.className,lt=et.alwaysShow,ct=useClipPathId(),ut=useXAxisOrThrow(it),ft=useYAxisOrThrow(at),ht=useViewBox();if(!ct||!ht)return null;warn(lt===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var dt=createLabeledScales({x:ut.scale,y:ft.scale}),vt=isNumOrStr(tt),yt=isNumOrStr(rt),xt=nt&&nt.length===2,_t=getEndPoints(dt,vt,yt,xt,ht,et.position,ut.orientation,ft.orientation,et);if(!_t)return null;var mt=_slicedToArray$1(_t,2),pt=mt[0],bt=pt.x,Et=pt.y,St=mt[1],Tt=St.x,Pt=St.y,Rt=ifOverflowMatches(et,"hidden")?"url(#".concat(ct,")"):void 0,It=_objectSpread$7(_objectSpread$7({clipPath:Rt},filterProps(et,!0)),{},{x1:bt,y1:Et,x2:Tt,y2:Pt});return React.createElement(Layer,{className:clsx("recharts-reference-line",st)},renderLine(ot,It),Label.renderCallByParent(et,rectWithCoords({x1:bt,y1:Et,x2:Tt,y2:Pt})))}ReferenceLine.displayName="ReferenceLine";ReferenceLine.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"};function _typeof$7(et){"@babel/helpers - typeof";return _typeof$7=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$7(et)}function _extends$6(){return _extends$6=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$6.apply(this,arguments)}function ownKeys$6(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(it){return Object.getOwnPropertyDescriptor(et,it).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$6(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$6(Object(rt),!0).forEach(function(nt){_defineProperty$7(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$6(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$7(et,tt,rt){return tt=_toPropertyKey$7(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$7(et){var tt=_toPrimitive$7(et,"string");return _typeof$7(tt)=="symbol"?tt:String(tt)}function _toPrimitive$7(et,tt){if(_typeof$7(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$7(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}var getCoordinate=function et(tt){var rt=tt.x,nt=tt.y,it=tt.xAxis,at=tt.yAxis,ot=createLabeledScales({x:it.scale,y:at.scale}),st=ot.apply({x:rt,y:nt},{bandAware:!0});return ifOverflowMatches(tt,"discard")&&!ot.isInRange(st)?null:st};function ReferenceDot(et){var tt=et.x,rt=et.y,nt=et.r,it=et.alwaysShow,at=et.clipPathId,ot=isNumOrStr(tt),st=isNumOrStr(rt);if(warn(it===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!ot||!st)return null;var lt=getCoordinate(et);if(!lt)return null;var ct=lt.x,ut=lt.y,ft=et.shape,ht=et.className,dt=ifOverflowMatches(et,"hidden")?"url(#".concat(at,")"):void 0,vt=_objectSpread$6(_objectSpread$6({clipPath:dt},filterProps(et,!0)),{},{cx:ct,cy:ut});return React.createElement(Layer,{className:clsx("recharts-reference-dot",ht)},ReferenceDot.renderDot(ft,vt),Label.renderCallByParent(et,{x:ct-nt,y:ut-nt,width:2*nt,height:2*nt}))}ReferenceDot.displayName="ReferenceDot";ReferenceDot.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1};ReferenceDot.renderDot=function(et,tt){var rt;return React.isValidElement(et)?rt=React.cloneElement(et,tt):isFunction$3(et)?rt=et(tt):rt=React.createElement(Dot,_extends$6({},tt,{cx:tt.cx,cy:tt.cy,className:"recharts-reference-dot-dot"})),rt};function _typeof$6(et){"@babel/helpers - typeof";return _typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$6(et)}function _extends$5(){return _extends$5=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$5.apply(this,arguments)}function ownKeys$5(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(it){return Object.getOwnPropertyDescriptor(et,it).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$5(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$5(Object(rt),!0).forEach(function(nt){_defineProperty$6(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$5(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$6(et,tt,rt){return tt=_toPropertyKey$6(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$6(et){var tt=_toPrimitive$6(et,"string");return _typeof$6(tt)=="symbol"?tt:String(tt)}function _toPrimitive$6(et,tt){if(_typeof$6(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$6(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}var getRect=function et(tt,rt,nt,it,at){var ot=at.x1,st=at.x2,lt=at.y1,ct=at.y2,ut=at.xAxis,ft=at.yAxis;if(!ut||!ft)return null;var ht=createLabeledScales({x:ut.scale,y:ft.scale}),dt={x:tt?ht.x.apply(ot,{position:"start"}):ht.x.rangeMin,y:nt?ht.y.apply(lt,{position:"start"}):ht.y.rangeMin},vt={x:rt?ht.x.apply(st,{position:"end"}):ht.x.rangeMax,y:it?ht.y.apply(ct,{position:"end"}):ht.y.rangeMax};return ifOverflowMatches(at,"discard")&&(!ht.isInRange(dt)||!ht.isInRange(vt))?null:rectWithPoints(dt,vt)};function ReferenceArea(et){var tt=et.x1,rt=et.x2,nt=et.y1,it=et.y2,at=et.className,ot=et.alwaysShow,st=et.clipPathId;warn(ot===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var lt=isNumOrStr(tt),ct=isNumOrStr(rt),ut=isNumOrStr(nt),ft=isNumOrStr(it),ht=et.shape;if(!lt&&!ct&&!ut&&!ft&&!ht)return null;var dt=getRect(lt,ct,ut,ft,et);if(!dt&&!ht)return null;var vt=ifOverflowMatches(et,"hidden")?"url(#".concat(st,")"):void 0;return React.createElement(Layer,{className:clsx("recharts-reference-area",at)},ReferenceArea.renderRect(ht,_objectSpread$5(_objectSpread$5({clipPath:vt},filterProps(et,!0)),dt)),Label.renderCallByParent(et,dt))}ReferenceArea.displayName="ReferenceArea";ReferenceArea.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1};ReferenceArea.renderRect=function(et,tt){var rt;return React.isValidElement(et)?rt=React.cloneElement(et,tt):isFunction$3(et)?rt=et(tt):rt=React.createElement(Rectangle,_extends$5({},tt,{className:"recharts-reference-area-rect"})),rt};function getEveryNthWithCondition(et,tt,rt){if(tt<1)return[];if(tt===1&&rt===void 0)return et;for(var nt=[],it=0;it<et.length;it+=tt)nt.push(et[it]);return nt}function getAngledTickWidth(et,tt,rt){var nt={width:et.width+tt.width,height:et.height+tt.height};return getAngledRectangleWidth(nt,rt)}function getTickBoundaries(et,tt,rt){var nt=rt==="width",it=et.x,at=et.y,ot=et.width,st=et.height;return tt===1?{start:nt?it:at,end:nt?it+ot:at+st}:{start:nt?it+ot:at+st,end:nt?it:at}}function isVisible(et,tt,rt,nt,it){if(et*tt<et*nt||et*tt>et*it)return!1;var at=rt();return et*(tt-et*at/2-nt)>=0&&et*(tt+et*at/2-it)<=0}function getNumberIntervalTicks(et,tt){return getEveryNthWithCondition(et,tt+1)}function getEquidistantTicks(et,tt,rt,nt,it){for(var at=(nt||[]).slice(),ot=tt.start,st=tt.end,lt=0,ct=1,ut=ot,ft=function(){var vt=nt==null?void 0:nt[lt];if(vt===void 0)return{v:getEveryNthWithCondition(nt,ct)};var yt=lt,xt,_t=function(){return xt===void 0&&(xt=rt(vt,yt)),xt},mt=vt.coordinate,pt=lt===0||isVisible(et,mt,_t,ut,st);pt||(lt=0,ut=ot,ct+=1),pt&&(ut=mt+et*(_t()/2+it),lt+=ct)},ht;ct<=at.length;)if(ht=ft(),ht)return ht.v;return[]}function _typeof$5(et){"@babel/helpers - typeof";return _typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$5(et)}function ownKeys$4(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(it){return Object.getOwnPropertyDescriptor(et,it).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$4(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$4(Object(rt),!0).forEach(function(nt){_defineProperty$5(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$4(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$5(et,tt,rt){return tt=_toPropertyKey$5(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$5(et){var tt=_toPrimitive$5(et,"string");return _typeof$5(tt)=="symbol"?tt:String(tt)}function _toPrimitive$5(et,tt){if(_typeof$5(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$5(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}function getTicksEnd(et,tt,rt,nt,it){for(var at=(nt||[]).slice(),ot=at.length,st=tt.start,lt=tt.end,ct=function(ht){var dt=at[ht],vt,yt=function(){return vt===void 0&&(vt=rt(dt,ht)),vt};if(ht===ot-1){var xt=et*(dt.coordinate+et*yt()/2-lt);at[ht]=dt=_objectSpread$4(_objectSpread$4({},dt),{},{tickCoord:xt>0?dt.coordinate-xt*et:dt.coordinate})}else at[ht]=dt=_objectSpread$4(_objectSpread$4({},dt),{},{tickCoord:dt.coordinate});var _t=isVisible(et,dt.tickCoord,yt,st,lt);_t&&(lt=dt.tickCoord-et*(yt()/2+it),at[ht]=_objectSpread$4(_objectSpread$4({},dt),{},{isShow:!0}))},ut=ot-1;ut>=0;ut--)ct(ut);return at}function getTicksStart(et,tt,rt,nt,it,at){var ot=(nt||[]).slice(),st=ot.length,lt=tt.start,ct=tt.end;if(at){var ut=nt[st-1],ft=rt(ut,st-1),ht=et*(ut.coordinate+et*ft/2-ct);ot[st-1]=ut=_objectSpread$4(_objectSpread$4({},ut),{},{tickCoord:ht>0?ut.coordinate-ht*et:ut.coordinate});var dt=isVisible(et,ut.tickCoord,function(){return ft},lt,ct);dt&&(ct=ut.tickCoord-et*(ft/2+it),ot[st-1]=_objectSpread$4(_objectSpread$4({},ut),{},{isShow:!0}))}for(var vt=at?st-1:st,yt=function(mt){var pt=ot[mt],bt,Et=function(){return bt===void 0&&(bt=rt(pt,mt)),bt};if(mt===0){var St=et*(pt.coordinate-et*Et()/2-lt);ot[mt]=pt=_objectSpread$4(_objectSpread$4({},pt),{},{tickCoord:St<0?pt.coordinate-St*et:pt.coordinate})}else ot[mt]=pt=_objectSpread$4(_objectSpread$4({},pt),{},{tickCoord:pt.coordinate});var Tt=isVisible(et,pt.tickCoord,Et,lt,ct);Tt&&(lt=pt.tickCoord+et*(Et()/2+it),ot[mt]=_objectSpread$4(_objectSpread$4({},pt),{},{isShow:!0}))},xt=0;xt<vt;xt++)yt(xt);return ot}function getTicks(et,tt,rt){var nt=et.tick,it=et.ticks,at=et.viewBox,ot=et.minTickGap,st=et.orientation,lt=et.interval,ct=et.tickFormatter,ut=et.unit,ft=et.angle;if(!it||!it.length||!nt)return[];if(isNumber(lt)||Global.isSsr)return getNumberIntervalTicks(it,typeof lt=="number"&&isNumber(lt)?lt:0);var ht=[],dt=st==="top"||st==="bottom"?"width":"height",vt=ut&&dt==="width"?getStringSize(ut,{fontSize:tt,letterSpacing:rt}):{width:0,height:0},yt=function(pt,bt){var Et=isFunction$3(ct)?ct(pt.value,bt):pt.value;return dt==="width"?getAngledTickWidth(getStringSize(Et,{fontSize:tt,letterSpacing:rt}),vt,ft):getStringSize(Et,{fontSize:tt,letterSpacing:rt})[dt]},xt=it.length>=2?mathSign(it[1].coordinate-it[0].coordinate):1,_t=getTickBoundaries(at,xt,dt);return lt==="equidistantPreserveStart"?getEquidistantTicks(xt,_t,yt,it,ot):(lt==="preserveStart"||lt==="preserveStartEnd"?ht=getTicksStart(xt,_t,yt,it,ot,lt==="preserveStartEnd"):ht=getTicksEnd(xt,_t,yt,it,ot),ht.filter(function(mt){return mt.isShow}))}var _excluded$2=["viewBox"],_excluded2$2=["viewBox"],_excluded3=["ticks"];function _typeof$4(et){"@babel/helpers - typeof";return _typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$4(et)}function _extends$4(){return _extends$4=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$4.apply(this,arguments)}function ownKeys$3(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(it){return Object.getOwnPropertyDescriptor(et,it).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$3(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$3(Object(rt),!0).forEach(function(nt){_defineProperty$4(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$3(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _objectWithoutProperties$2(et,tt){if(et==null)return{};var rt=_objectWithoutPropertiesLoose$2(et,tt),nt,it;if(Object.getOwnPropertySymbols){var at=Object.getOwnPropertySymbols(et);for(it=0;it<at.length;it++)nt=at[it],!(tt.indexOf(nt)>=0)&&Object.prototype.propertyIsEnumerable.call(et,nt)&&(rt[nt]=et[nt])}return rt}function _objectWithoutPropertiesLoose$2(et,tt){if(et==null)return{};var rt={},nt=Object.keys(et),it,at;for(at=0;at<nt.length;at++)it=nt[at],!(tt.indexOf(it)>=0)&&(rt[it]=et[it]);return rt}function _classCallCheck$2(et,tt){if(!(et instanceof tt))throw new TypeError("Cannot call a class as a function")}function _defineProperties$2(et,tt){for(var rt=0;rt<tt.length;rt++){var nt=tt[rt];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(et,_toPropertyKey$4(nt.key),nt)}}function _createClass$2(et,tt,rt){return tt&&_defineProperties$2(et.prototype,tt),rt&&_defineProperties$2(et,rt),Object.defineProperty(et,"prototype",{writable:!1}),et}function _callSuper$1(et,tt,rt){return tt=_getPrototypeOf$1(tt),_possibleConstructorReturn$1(et,_isNativeReflectConstruct$1()?Reflect.construct(tt,rt||[],_getPrototypeOf$1(et).constructor):tt.apply(et,rt))}function _possibleConstructorReturn$1(et,tt){if(tt&&(_typeof$4(tt)==="object"||typeof tt=="function"))return tt;if(tt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$1(et)}function _assertThisInitialized$1(et){if(et===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return et}function _isNativeReflectConstruct$1(){try{var et=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$1=function(){return!!et})()}function _getPrototypeOf$1(et){return _getPrototypeOf$1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rt){return rt.__proto__||Object.getPrototypeOf(rt)},_getPrototypeOf$1(et)}function _inherits$1(et,tt){if(typeof tt!="function"&&tt!==null)throw new TypeError("Super expression must either be null or a function");et.prototype=Object.create(tt&&tt.prototype,{constructor:{value:et,writable:!0,configurable:!0}}),Object.defineProperty(et,"prototype",{writable:!1}),tt&&_setPrototypeOf$1(et,tt)}function _setPrototypeOf$1(et,tt){return _setPrototypeOf$1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,it){return nt.__proto__=it,nt},_setPrototypeOf$1(et,tt)}function _defineProperty$4(et,tt,rt){return tt=_toPropertyKey$4(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$4(et){var tt=_toPrimitive$4(et,"string");return _typeof$4(tt)=="symbol"?tt:String(tt)}function _toPrimitive$4(et,tt){if(_typeof$4(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$4(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}var CartesianAxis=function(et){_inherits$1(tt,et);function tt(rt){var nt;return _classCallCheck$2(this,tt),nt=_callSuper$1(this,tt,[rt]),nt.state={fontSize:"",letterSpacing:""},nt}return _createClass$2(tt,[{key:"shouldComponentUpdate",value:function(nt,it){var at=nt.viewBox,ot=_objectWithoutProperties$2(nt,_excluded$2),st=this.props,lt=st.viewBox,ct=_objectWithoutProperties$2(st,_excluded2$2);return!shallowEqual(at,lt)||!shallowEqual(ot,ct)||!shallowEqual(it,this.state)}},{key:"componentDidMount",value:function(){var nt=this.layerReference;if(nt){var it=nt.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];it&&this.setState({fontSize:window.getComputedStyle(it).fontSize,letterSpacing:window.getComputedStyle(it).letterSpacing})}}},{key:"getTickLineCoord",value:function(nt){var it=this.props,at=it.x,ot=it.y,st=it.width,lt=it.height,ct=it.orientation,ut=it.tickSize,ft=it.mirror,ht=it.tickMargin,dt,vt,yt,xt,_t,mt,pt=ft?-1:1,bt=nt.tickSize||ut,Et=isNumber(nt.tickCoord)?nt.tickCoord:nt.coordinate;switch(ct){case"top":dt=vt=nt.coordinate,xt=ot+ +!ft*lt,yt=xt-pt*bt,mt=yt-pt*ht,_t=Et;break;case"left":yt=xt=nt.coordinate,vt=at+ +!ft*st,dt=vt-pt*bt,_t=dt-pt*ht,mt=Et;break;case"right":yt=xt=nt.coordinate,vt=at+ +ft*st,dt=vt+pt*bt,_t=dt+pt*ht,mt=Et;break;default:dt=vt=nt.coordinate,xt=ot+ +ft*lt,yt=xt+pt*bt,mt=yt+pt*ht,_t=Et;break}return{line:{x1:dt,y1:yt,x2:vt,y2:xt},tick:{x:_t,y:mt}}}},{key:"getTickTextAnchor",value:function(){var nt=this.props,it=nt.orientation,at=nt.mirror,ot;switch(it){case"left":ot=at?"start":"end";break;case"right":ot=at?"end":"start";break;default:ot="middle";break}return ot}},{key:"getTickVerticalAnchor",value:function(){var nt=this.props,it=nt.orientation,at=nt.mirror,ot="end";switch(it){case"left":case"right":ot="middle";break;case"top":ot=at?"start":"end";break;default:ot=at?"end":"start";break}return ot}},{key:"renderAxisLine",value:function(){var nt=this.props,it=nt.x,at=nt.y,ot=nt.width,st=nt.height,lt=nt.orientation,ct=nt.mirror,ut=nt.axisLine,ft=_objectSpread$3(_objectSpread$3(_objectSpread$3({},filterProps(this.props,!1)),filterProps(ut,!1)),{},{fill:"none"});if(lt==="top"||lt==="bottom"){var ht=+(lt==="top"&&!ct||lt==="bottom"&&ct);ft=_objectSpread$3(_objectSpread$3({},ft),{},{x1:it,y1:at+ht*st,x2:it+ot,y2:at+ht*st})}else{var dt=+(lt==="left"&&!ct||lt==="right"&&ct);ft=_objectSpread$3(_objectSpread$3({},ft),{},{x1:it+dt*ot,y1:at,x2:it+dt*ot,y2:at+st})}return React.createElement("line",_extends$4({},ft,{className:clsx("recharts-cartesian-axis-line",get$2(ut,"className"))}))}},{key:"renderTicks",value:function(nt,it,at){var ot=this,st=this.props,lt=st.tickLine,ct=st.stroke,ut=st.tick,ft=st.tickFormatter,ht=st.unit,dt=getTicks(_objectSpread$3(_objectSpread$3({},this.props),{},{ticks:nt}),it,at),vt=this.getTickTextAnchor(),yt=this.getTickVerticalAnchor(),xt=filterProps(this.props,!1),_t=filterProps(ut,!1),mt=_objectSpread$3(_objectSpread$3({},xt),{},{fill:"none"},filterProps(lt,!1)),pt=dt.map(function(bt,Et){var St=ot.getTickLineCoord(bt),Tt=St.line,Pt=St.tick,Rt=_objectSpread$3(_objectSpread$3(_objectSpread$3(_objectSpread$3({textAnchor:vt,verticalAnchor:yt},xt),{},{stroke:"none",fill:ct},_t),Pt),{},{index:Et,payload:bt,visibleTicksCount:dt.length,tickFormatter:ft});return React.createElement(Layer,_extends$4({className:"recharts-cartesian-axis-tick",key:"tick-".concat(bt.value,"-").concat(bt.coordinate,"-").concat(bt.tickCoord)},adaptEventsOfChild(ot.props,bt,Et)),lt&&React.createElement("line",_extends$4({},mt,Tt,{className:clsx("recharts-cartesian-axis-tick-line",get$2(lt,"className"))})),ut&&tt.renderTickItem(ut,Rt,"".concat(isFunction$3(ft)?ft(bt.value,Et):bt.value).concat(ht||"")))});return React.createElement("g",{className:"recharts-cartesian-axis-ticks"},pt)}},{key:"render",value:function(){var nt=this,it=this.props,at=it.axisLine,ot=it.width,st=it.height,lt=it.ticksGenerator,ct=it.className,ut=it.hide;if(ut)return null;var ft=this.props,ht=ft.ticks,dt=_objectWithoutProperties$2(ft,_excluded3),vt=ht;return isFunction$3(lt)&&(vt=ht&&ht.length>0?lt(this.props):lt(dt)),ot<=0||st<=0||!vt||!vt.length?null:React.createElement(Layer,{className:clsx("recharts-cartesian-axis",ct),ref:function(xt){nt.layerReference=xt}},at&&this.renderAxisLine(),this.renderTicks(vt,this.state.fontSize,this.state.letterSpacing),Label.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(nt,it,at){var ot;return React.isValidElement(nt)?ot=React.cloneElement(nt,it):isFunction$3(nt)?ot=nt(it):ot=React.createElement(Text,_extends$4({},it,{className:"recharts-cartesian-axis-tick-value"}),at),ot}}]),tt}(reactExports.Component);_defineProperty$4(CartesianAxis,"displayName","CartesianAxis");_defineProperty$4(CartesianAxis,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var _excluded$1=["x1","y1","x2","y2","key"],_excluded2$1=["offset"];function _typeof$3(et){"@babel/helpers - typeof";return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$3(et)}function ownKeys$2(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(it){return Object.getOwnPropertyDescriptor(et,it).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$2(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$2(Object(rt),!0).forEach(function(nt){_defineProperty$3(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$2(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$3(et,tt,rt){return tt=_toPropertyKey$3(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$3(et){var tt=_toPrimitive$3(et,"string");return _typeof$3(tt)=="symbol"?tt:String(tt)}function _toPrimitive$3(et,tt){if(_typeof$3(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$3(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$3.apply(this,arguments)}function _objectWithoutProperties$1(et,tt){if(et==null)return{};var rt=_objectWithoutPropertiesLoose$1(et,tt),nt,it;if(Object.getOwnPropertySymbols){var at=Object.getOwnPropertySymbols(et);for(it=0;it<at.length;it++)nt=at[it],!(tt.indexOf(nt)>=0)&&Object.prototype.propertyIsEnumerable.call(et,nt)&&(rt[nt]=et[nt])}return rt}function _objectWithoutPropertiesLoose$1(et,tt){if(et==null)return{};var rt={},nt=Object.keys(et),it,at;for(at=0;at<nt.length;at++)it=nt[at],!(tt.indexOf(it)>=0)&&(rt[it]=et[it]);return rt}var Background=function et(tt){var rt=tt.fill;if(!rt||rt==="none")return null;var nt=tt.fillOpacity,it=tt.x,at=tt.y,ot=tt.width,st=tt.height;return React.createElement("rect",{x:it,y:at,width:ot,height:st,stroke:"none",fill:rt,fillOpacity:nt,className:"recharts-cartesian-grid-bg"})};function renderLineItem(et,tt){var rt;if(React.isValidElement(et))rt=React.cloneElement(et,tt);else if(isFunction$3(et))rt=et(tt);else{var nt=tt.x1,it=tt.y1,at=tt.x2,ot=tt.y2,st=tt.key,lt=_objectWithoutProperties$1(tt,_excluded$1),ct=filterProps(lt,!1);ct.offset;var ut=_objectWithoutProperties$1(ct,_excluded2$1);rt=React.createElement("line",_extends$3({},ut,{x1:nt,y1:it,x2:at,y2:ot,fill:"none",key:st}))}return rt}function HorizontalGridLines(et){var tt=et.x,rt=et.width,nt=et.horizontal,it=nt===void 0?!0:nt,at=et.horizontalPoints;if(!it||!at||!at.length)return null;var ot=at.map(function(st,lt){var ct=_objectSpread$2(_objectSpread$2({},et),{},{x1:tt,y1:st,x2:tt+rt,y2:st,key:"line-".concat(lt),index:lt});return renderLineItem(it,ct)});return React.createElement("g",{className:"recharts-cartesian-grid-horizontal"},ot)}function VerticalGridLines(et){var tt=et.y,rt=et.height,nt=et.vertical,it=nt===void 0?!0:nt,at=et.verticalPoints;if(!it||!at||!at.length)return null;var ot=at.map(function(st,lt){var ct=_objectSpread$2(_objectSpread$2({},et),{},{x1:st,y1:tt,x2:st,y2:tt+rt,key:"line-".concat(lt),index:lt});return renderLineItem(it,ct)});return React.createElement("g",{className:"recharts-cartesian-grid-vertical"},ot)}function HorizontalStripes(et){var tt=et.horizontalFill,rt=et.fillOpacity,nt=et.x,it=et.y,at=et.width,ot=et.height,st=et.horizontalPoints,lt=et.horizontal,ct=lt===void 0?!0:lt;if(!ct||!tt||!tt.length)return null;var ut=st.map(function(ht){return Math.round(ht+it-it)}).sort(function(ht,dt){return ht-dt});it!==ut[0]&&ut.unshift(0);var ft=ut.map(function(ht,dt){var vt=!ut[dt+1],yt=vt?it+ot-ht:ut[dt+1]-ht;if(yt<=0)return null;var xt=dt%tt.length;return React.createElement("rect",{key:"react-".concat(dt),y:ht,x:nt,height:yt,width:at,stroke:"none",fill:tt[xt],fillOpacity:rt,className:"recharts-cartesian-grid-bg"})});return React.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},ft)}function VerticalStripes(et){var tt=et.vertical,rt=tt===void 0?!0:tt,nt=et.verticalFill,it=et.fillOpacity,at=et.x,ot=et.y,st=et.width,lt=et.height,ct=et.verticalPoints;if(!rt||!nt||!nt.length)return null;var ut=ct.map(function(ht){return Math.round(ht+at-at)}).sort(function(ht,dt){return ht-dt});at!==ut[0]&&ut.unshift(0);var ft=ut.map(function(ht,dt){var vt=!ut[dt+1],yt=vt?at+st-ht:ut[dt+1]-ht;if(yt<=0)return null;var xt=dt%nt.length;return React.createElement("rect",{key:"react-".concat(dt),x:ht,y:ot,width:yt,height:lt,stroke:"none",fill:nt[xt],fillOpacity:it,className:"recharts-cartesian-grid-bg"})});return React.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},ft)}var defaultVerticalCoordinatesGenerator=function et(tt,rt){var nt=tt.xAxis,it=tt.width,at=tt.height,ot=tt.offset;return getCoordinatesOfGrid(getTicks(_objectSpread$2(_objectSpread$2(_objectSpread$2({},CartesianAxis.defaultProps),nt),{},{ticks:getTicksOfAxis(nt,!0),viewBox:{x:0,y:0,width:it,height:at}})),ot.left,ot.left+ot.width,rt)},defaultHorizontalCoordinatesGenerator=function et(tt,rt){var nt=tt.yAxis,it=tt.width,at=tt.height,ot=tt.offset;return getCoordinatesOfGrid(getTicks(_objectSpread$2(_objectSpread$2(_objectSpread$2({},CartesianAxis.defaultProps),nt),{},{ticks:getTicksOfAxis(nt,!0),viewBox:{x:0,y:0,width:it,height:at}})),ot.top,ot.top+ot.height,rt)},defaultProps={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function CartesianGrid(et){var tt,rt,nt,it,at,ot,st=useChartWidth(),lt=useChartHeight(),ct=useOffset(),ut=_objectSpread$2(_objectSpread$2({},et),{},{stroke:(tt=et.stroke)!==null&&tt!==void 0?tt:defaultProps.stroke,fill:(rt=et.fill)!==null&&rt!==void 0?rt:defaultProps.fill,horizontal:(nt=et.horizontal)!==null&&nt!==void 0?nt:defaultProps.horizontal,horizontalFill:(it=et.horizontalFill)!==null&&it!==void 0?it:defaultProps.horizontalFill,vertical:(at=et.vertical)!==null&&at!==void 0?at:defaultProps.vertical,verticalFill:(ot=et.verticalFill)!==null&&ot!==void 0?ot:defaultProps.verticalFill,x:isNumber(et.x)?et.x:ct.left,y:isNumber(et.y)?et.y:ct.top,width:isNumber(et.width)?et.width:ct.width,height:isNumber(et.height)?et.height:ct.height}),ft=ut.x,ht=ut.y,dt=ut.width,vt=ut.height,yt=ut.syncWithTicks,xt=ut.horizontalValues,_t=ut.verticalValues,mt=useArbitraryXAxis(),pt=useYAxisWithFiniteDomainOrRandom();if(!isNumber(dt)||dt<=0||!isNumber(vt)||vt<=0||!isNumber(ft)||ft!==+ft||!isNumber(ht)||ht!==+ht)return null;var bt=ut.verticalCoordinatesGenerator||defaultVerticalCoordinatesGenerator,Et=ut.horizontalCoordinatesGenerator||defaultHorizontalCoordinatesGenerator,St=ut.horizontalPoints,Tt=ut.verticalPoints;if((!St||!St.length)&&isFunction$3(Et)){var Pt=xt&&xt.length,Rt=Et({yAxis:pt?_objectSpread$2(_objectSpread$2({},pt),{},{ticks:Pt?xt:pt.ticks}):void 0,width:st,height:lt,offset:ct},Pt?!0:yt);warn(Array.isArray(Rt),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(_typeof$3(Rt),"]")),Array.isArray(Rt)&&(St=Rt)}if((!Tt||!Tt.length)&&isFunction$3(bt)){var It=_t&&_t.length,$t=bt({xAxis:mt?_objectSpread$2(_objectSpread$2({},mt),{},{ticks:It?_t:mt.ticks}):void 0,width:st,height:lt,offset:ct},It?!0:yt);warn(Array.isArray($t),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(_typeof$3($t),"]")),Array.isArray($t)&&(Tt=$t)}return React.createElement("g",{className:"recharts-cartesian-grid"},React.createElement(Background,{fill:ut.fill,fillOpacity:ut.fillOpacity,x:ut.x,y:ut.y,width:ut.width,height:ut.height}),React.createElement(HorizontalGridLines,_extends$3({},ut,{offset:ct,horizontalPoints:St,xAxis:mt,yAxis:pt})),React.createElement(VerticalGridLines,_extends$3({},ut,{offset:ct,verticalPoints:Tt,xAxis:mt,yAxis:pt})),React.createElement(HorizontalStripes,_extends$3({},ut,{horizontalPoints:St})),React.createElement(VerticalStripes,_extends$3({},ut,{verticalPoints:Tt})))}CartesianGrid.displayName="CartesianGrid";function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$2.apply(this,arguments)}var XAxis=function et(tt){var rt=tt.xAxisId,nt=useChartWidth(),it=useChartHeight(),at=useXAxisOrThrow(rt);return at==null?null:React.createElement(CartesianAxis,_extends$2({},at,{className:clsx("recharts-".concat(at.axisType," ").concat(at.axisType),at.className),viewBox:{x:0,y:0,width:nt,height:it},ticksGenerator:function(st){return getTicksOfAxis(st,!0)}}))};XAxis.displayName="XAxis";XAxis.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$1.apply(this,arguments)}var YAxis=function et(tt){var rt=tt.yAxisId,nt=useChartWidth(),it=useChartHeight(),at=useYAxisOrThrow(rt);return at==null?null:React.createElement(CartesianAxis,_extends$1({},at,{className:clsx("recharts-".concat(at.axisType," ").concat(at.axisType),at.className),viewBox:{x:0,y:0,width:nt,height:it},ticksGenerator:function(st){return getTicksOfAxis(st,!0)}}))};YAxis.displayName="YAxis";YAxis.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};function _toConsumableArray$1(et){return _arrayWithoutHoles$1(et)||_iterableToArray$1(et)||_unsupportedIterableToArray$1(et)||_nonIterableSpread$1()}function _nonIterableSpread$1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(et,tt){if(et){if(typeof et=="string")return _arrayLikeToArray$1(et,tt);var rt=Object.prototype.toString.call(et).slice(8,-1);if(rt==="Object"&&et.constructor&&(rt=et.constructor.name),rt==="Map"||rt==="Set")return Array.from(et);if(rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt))return _arrayLikeToArray$1(et,tt)}}function _iterableToArray$1(et){if(typeof Symbol<"u"&&et[Symbol.iterator]!=null||et["@@iterator"]!=null)return Array.from(et)}function _arrayWithoutHoles$1(et){if(Array.isArray(et))return _arrayLikeToArray$1(et)}function _arrayLikeToArray$1(et,tt){(tt==null||tt>et.length)&&(tt=et.length);for(var rt=0,nt=new Array(tt);rt<tt;rt++)nt[rt]=et[rt];return nt}var detectReferenceElementsDomain=function et(tt,rt,nt,it,at){var ot=findAllByType(tt,ReferenceLine),st=findAllByType(tt,ReferenceDot),lt=[].concat(_toConsumableArray$1(ot),_toConsumableArray$1(st)),ct=findAllByType(tt,ReferenceArea),ut="".concat(it,"Id"),ft=it[0],ht=rt;if(lt.length&&(ht=lt.reduce(function(yt,xt){if(xt.props[ut]===nt&&ifOverflowMatches(xt.props,"extendDomain")&&isNumber(xt.props[ft])){var _t=xt.props[ft];return[Math.min(yt[0],_t),Math.max(yt[1],_t)]}return yt},ht)),ct.length){var dt="".concat(ft,"1"),vt="".concat(ft,"2");ht=ct.reduce(function(yt,xt){if(xt.props[ut]===nt&&ifOverflowMatches(xt.props,"extendDomain")&&isNumber(xt.props[dt])&&isNumber(xt.props[vt])){var _t=xt.props[dt],mt=xt.props[vt];return[Math.min(yt[0],_t,mt),Math.max(yt[1],_t,mt)]}return yt},ht)}return at&&at.length&&(ht=at.reduce(function(yt,xt){return isNumber(xt)?[Math.min(yt[0],xt),Math.max(yt[1],xt)]:yt},ht)),ht},eventemitter3={exports:{}};(function(et){var tt=Object.prototype.hasOwnProperty,rt="~";function nt(){}Object.create&&(nt.prototype=Object.create(null),new nt().__proto__||(rt=!1));function it(lt,ct,ut){this.fn=lt,this.context=ct,this.once=ut||!1}function at(lt,ct,ut,ft,ht){if(typeof ut!="function")throw new TypeError("The listener must be a function");var dt=new it(ut,ft||lt,ht),vt=rt?rt+ct:ct;return lt._events[vt]?lt._events[vt].fn?lt._events[vt]=[lt._events[vt],dt]:lt._events[vt].push(dt):(lt._events[vt]=dt,lt._eventsCount++),lt}function ot(lt,ct){--lt._eventsCount===0?lt._events=new nt:delete lt._events[ct]}function st(){this._events=new nt,this._eventsCount=0}st.prototype.eventNames=function(){var ct=[],ut,ft;if(this._eventsCount===0)return ct;for(ft in ut=this._events)tt.call(ut,ft)&&ct.push(rt?ft.slice(1):ft);return Object.getOwnPropertySymbols?ct.concat(Object.getOwnPropertySymbols(ut)):ct},st.prototype.listeners=function(ct){var ut=rt?rt+ct:ct,ft=this._events[ut];if(!ft)return[];if(ft.fn)return[ft.fn];for(var ht=0,dt=ft.length,vt=new Array(dt);ht<dt;ht++)vt[ht]=ft[ht].fn;return vt},st.prototype.listenerCount=function(ct){var ut=rt?rt+ct:ct,ft=this._events[ut];return ft?ft.fn?1:ft.length:0},st.prototype.emit=function(ct,ut,ft,ht,dt,vt){var yt=rt?rt+ct:ct;if(!this._events[yt])return!1;var xt=this._events[yt],_t=arguments.length,mt,pt;if(xt.fn){switch(xt.once&&this.removeListener(ct,xt.fn,void 0,!0),_t){case 1:return xt.fn.call(xt.context),!0;case 2:return xt.fn.call(xt.context,ut),!0;case 3:return xt.fn.call(xt.context,ut,ft),!0;case 4:return xt.fn.call(xt.context,ut,ft,ht),!0;case 5:return xt.fn.call(xt.context,ut,ft,ht,dt),!0;case 6:return xt.fn.call(xt.context,ut,ft,ht,dt,vt),!0}for(pt=1,mt=new Array(_t-1);pt<_t;pt++)mt[pt-1]=arguments[pt];xt.fn.apply(xt.context,mt)}else{var bt=xt.length,Et;for(pt=0;pt<bt;pt++)switch(xt[pt].once&&this.removeListener(ct,xt[pt].fn,void 0,!0),_t){case 1:xt[pt].fn.call(xt[pt].context);break;case 2:xt[pt].fn.call(xt[pt].context,ut);break;case 3:xt[pt].fn.call(xt[pt].context,ut,ft);break;case 4:xt[pt].fn.call(xt[pt].context,ut,ft,ht);break;default:if(!mt)for(Et=1,mt=new Array(_t-1);Et<_t;Et++)mt[Et-1]=arguments[Et];xt[pt].fn.apply(xt[pt].context,mt)}}return!0},st.prototype.on=function(ct,ut,ft){return at(this,ct,ut,ft,!1)},st.prototype.once=function(ct,ut,ft){return at(this,ct,ut,ft,!0)},st.prototype.removeListener=function(ct,ut,ft,ht){var dt=rt?rt+ct:ct;if(!this._events[dt])return this;if(!ut)return ot(this,dt),this;var vt=this._events[dt];if(vt.fn)vt.fn===ut&&(!ht||vt.once)&&(!ft||vt.context===ft)&&ot(this,dt);else{for(var yt=0,xt=[],_t=vt.length;yt<_t;yt++)(vt[yt].fn!==ut||ht&&!vt[yt].once||ft&&vt[yt].context!==ft)&&xt.push(vt[yt]);xt.length?this._events[dt]=xt.length===1?xt[0]:xt:ot(this,dt)}return this},st.prototype.removeAllListeners=function(ct){var ut;return ct?(ut=rt?rt+ct:ct,this._events[ut]&&ot(this,ut)):(this._events=new nt,this._eventsCount=0),this},st.prototype.off=st.prototype.removeListener,st.prototype.addListener=st.prototype.on,st.prefixed=rt,st.EventEmitter=st,et.exports=st})(eventemitter3);var eventemitter3Exports=eventemitter3.exports;const EventEmitter=getDefaultExportFromCjs(eventemitter3Exports);var eventCenter=new EventEmitter,SYNC_EVENT="recharts.syncMouseEvents";function _typeof$2(et){"@babel/helpers - typeof";return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$2(et)}function _classCallCheck$1(et,tt){if(!(et instanceof tt))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1(et,tt){for(var rt=0;rt<tt.length;rt++){var nt=tt[rt];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(et,_toPropertyKey$2(nt.key),nt)}}function _createClass$1(et,tt,rt){return tt&&_defineProperties$1(et.prototype,tt),Object.defineProperty(et,"prototype",{writable:!1}),et}function _defineProperty$2(et,tt,rt){return tt=_toPropertyKey$2(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$2(et){var tt=_toPrimitive$2(et,"string");return _typeof$2(tt)=="symbol"?tt:String(tt)}function _toPrimitive$2(et,tt){if(_typeof$2(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$2(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}var AccessibilityManager=function(){function et(){_classCallCheck$1(this,et),_defineProperty$2(this,"activeIndex",0),_defineProperty$2(this,"coordinateList",[]),_defineProperty$2(this,"layout","horizontal")}return _createClass$1(et,[{key:"setDetails",value:function(rt){var nt,it=rt.coordinateList,at=it===void 0?null:it,ot=rt.container,st=ot===void 0?null:ot,lt=rt.layout,ct=lt===void 0?null:lt,ut=rt.offset,ft=ut===void 0?null:ut,ht=rt.mouseHandlerCallback,dt=ht===void 0?null:ht;this.coordinateList=(nt=at??this.coordinateList)!==null&&nt!==void 0?nt:[],this.container=st??this.container,this.layout=ct??this.layout,this.offset=ft??this.offset,this.mouseHandlerCallback=dt??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(rt){if(this.coordinateList.length!==0)switch(rt.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(rt){this.activeIndex=rt}},{key:"spoofMouse",value:function(){var rt,nt;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var it=this.container.getBoundingClientRect(),at=it.x,ot=it.y,st=it.height,lt=this.coordinateList[this.activeIndex].coordinate,ct=((rt=window)===null||rt===void 0?void 0:rt.scrollX)||0,ut=((nt=window)===null||nt===void 0?void 0:nt.scrollY)||0,ft=at+lt+ct,ht=ot+this.offset.top+st/2+ut;this.mouseHandlerCallback({pageX:ft,pageY:ht})}}}]),et}();function isDomainSpecifiedByUser(et,tt,rt){if(rt==="number"&&tt===!0&&Array.isArray(et)){var nt=et==null?void 0:et[0],it=et==null?void 0:et[1];if(nt&&it&&isNumber(nt)&&isNumber(it))return!0}return!1}function getCursorRectangle(et,tt,rt,nt){var it=nt/2;return{stroke:"none",fill:"#ccc",x:et==="horizontal"?tt.x-it:rt.left+.5,y:et==="horizontal"?rt.top+.5:tt.y-it,width:et==="horizontal"?nt:rt.width-1,height:et==="horizontal"?rt.height-1:nt}}function getRadialCursorPoints(et){var tt=et.cx,rt=et.cy,nt=et.radius,it=et.startAngle,at=et.endAngle,ot=polarToCartesian(tt,rt,nt,it),st=polarToCartesian(tt,rt,nt,at);return{points:[ot,st],cx:tt,cy:rt,radius:nt,startAngle:it,endAngle:at}}function getCursorPoints(et,tt,rt){var nt,it,at,ot;if(et==="horizontal")nt=tt.x,at=nt,it=rt.top,ot=rt.top+rt.height;else if(et==="vertical")it=tt.y,ot=it,nt=rt.left,at=rt.left+rt.width;else if(tt.cx!=null&&tt.cy!=null)if(et==="centric"){var st=tt.cx,lt=tt.cy,ct=tt.innerRadius,ut=tt.outerRadius,ft=tt.angle,ht=polarToCartesian(st,lt,ct,ft),dt=polarToCartesian(st,lt,ut,ft);nt=ht.x,it=ht.y,at=dt.x,ot=dt.y}else return getRadialCursorPoints(tt);return[{x:nt,y:it},{x:at,y:ot}]}function _typeof$1(et){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$1(et)}function ownKeys$1(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(it){return Object.getOwnPropertyDescriptor(et,it).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$1(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$1(Object(rt),!0).forEach(function(nt){_defineProperty$1(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$1(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$1(et,tt,rt){return tt=_toPropertyKey$1(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey$1(et){var tt=_toPrimitive$1(et,"string");return _typeof$1(tt)=="symbol"?tt:String(tt)}function _toPrimitive$1(et,tt){if(_typeof$1(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof$1(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}function Cursor(et){var tt=et.element,rt=et.tooltipEventType,nt=et.isActive,it=et.activeCoordinate,at=et.activePayload,ot=et.offset,st=et.activeTooltipIndex,lt=et.tooltipAxisBandSize,ct=et.layout,ut=et.chartName;if(!tt||!tt.props.cursor||!nt||!it||ut!=="ScatterChart"&&rt!=="axis")return null;var ft,ht=Curve;if(ut==="ScatterChart")ft=it,ht=Cross;else if(ut==="BarChart")ft=getCursorRectangle(ct,it,ot,lt),ht=Rectangle;else if(ct==="radial"){var dt=getRadialCursorPoints(it),vt=dt.cx,yt=dt.cy,xt=dt.radius,_t=dt.startAngle,mt=dt.endAngle;ft={cx:vt,cy:yt,startAngle:_t,endAngle:mt,innerRadius:xt,outerRadius:xt},ht=Sector}else ft={points:getCursorPoints(ct,it,ot)},ht=Curve;var pt=_objectSpread$1(_objectSpread$1(_objectSpread$1(_objectSpread$1({stroke:"#ccc",pointerEvents:"none"},ot),ft),filterProps(tt.props.cursor,!1)),{},{payload:at,payloadIndex:st,className:clsx("recharts-tooltip-cursor",tt.props.cursor.className)});return reactExports.isValidElement(tt.props.cursor)?reactExports.cloneElement(tt.props.cursor,pt):reactExports.createElement(ht,pt)}var _excluded=["item"],_excluded2=["children","className","width","height","style","compact","title","desc"];function _typeof(et){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof(et)}function _extends(){return _extends=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends.apply(this,arguments)}function _slicedToArray(et,tt){return _arrayWithHoles(et)||_iterableToArrayLimit(et,tt)||_unsupportedIterableToArray(et,tt)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArrayLimit(et,tt){var rt=et==null?null:typeof Symbol<"u"&&et[Symbol.iterator]||et["@@iterator"];if(rt!=null){var nt,it,at,ot,st=[],lt=!0,ct=!1;try{if(at=(rt=rt.call(et)).next,tt!==0)for(;!(lt=(nt=at.call(rt)).done)&&(st.push(nt.value),st.length!==tt);lt=!0);}catch(ut){ct=!0,it=ut}finally{try{if(!lt&&rt.return!=null&&(ot=rt.return(),Object(ot)!==ot))return}finally{if(ct)throw it}}return st}}function _arrayWithHoles(et){if(Array.isArray(et))return et}function _objectWithoutProperties(et,tt){if(et==null)return{};var rt=_objectWithoutPropertiesLoose(et,tt),nt,it;if(Object.getOwnPropertySymbols){var at=Object.getOwnPropertySymbols(et);for(it=0;it<at.length;it++)nt=at[it],!(tt.indexOf(nt)>=0)&&Object.prototype.propertyIsEnumerable.call(et,nt)&&(rt[nt]=et[nt])}return rt}function _objectWithoutPropertiesLoose(et,tt){if(et==null)return{};var rt={},nt=Object.keys(et),it,at;for(at=0;at<nt.length;at++)it=nt[at],!(tt.indexOf(it)>=0)&&(rt[it]=et[it]);return rt}function _classCallCheck(et,tt){if(!(et instanceof tt))throw new TypeError("Cannot call a class as a function")}function _defineProperties(et,tt){for(var rt=0;rt<tt.length;rt++){var nt=tt[rt];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(et,_toPropertyKey(nt.key),nt)}}function _createClass(et,tt,rt){return tt&&_defineProperties(et.prototype,tt),Object.defineProperty(et,"prototype",{writable:!1}),et}function _callSuper(et,tt,rt){return tt=_getPrototypeOf(tt),_possibleConstructorReturn(et,_isNativeReflectConstruct()?Reflect.construct(tt,rt||[],_getPrototypeOf(et).constructor):tt.apply(et,rt))}function _possibleConstructorReturn(et,tt){if(tt&&(_typeof(tt)==="object"||typeof tt=="function"))return tt;if(tt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(et)}function _isNativeReflectConstruct(){try{var et=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct=function(){return!!et})()}function _getPrototypeOf(et){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rt){return rt.__proto__||Object.getPrototypeOf(rt)},_getPrototypeOf(et)}function _assertThisInitialized(et){if(et===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return et}function _inherits(et,tt){if(typeof tt!="function"&&tt!==null)throw new TypeError("Super expression must either be null or a function");et.prototype=Object.create(tt&&tt.prototype,{constructor:{value:et,writable:!0,configurable:!0}}),Object.defineProperty(et,"prototype",{writable:!1}),tt&&_setPrototypeOf(et,tt)}function _setPrototypeOf(et,tt){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,it){return nt.__proto__=it,nt},_setPrototypeOf(et,tt)}function _toConsumableArray(et){return _arrayWithoutHoles(et)||_iterableToArray(et)||_unsupportedIterableToArray(et)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(et,tt){if(et){if(typeof et=="string")return _arrayLikeToArray(et,tt);var rt=Object.prototype.toString.call(et).slice(8,-1);if(rt==="Object"&&et.constructor&&(rt=et.constructor.name),rt==="Map"||rt==="Set")return Array.from(et);if(rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt))return _arrayLikeToArray(et,tt)}}function _iterableToArray(et){if(typeof Symbol<"u"&&et[Symbol.iterator]!=null||et["@@iterator"]!=null)return Array.from(et)}function _arrayWithoutHoles(et){if(Array.isArray(et))return _arrayLikeToArray(et)}function _arrayLikeToArray(et,tt){(tt==null||tt>et.length)&&(tt=et.length);for(var rt=0,nt=new Array(tt);rt<tt;rt++)nt[rt]=et[rt];return nt}function ownKeys(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(it){return Object.getOwnPropertyDescriptor(et,it).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys(Object(rt),!0).forEach(function(nt){_defineProperty(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty(et,tt,rt){return tt=_toPropertyKey(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _toPropertyKey(et){var tt=_toPrimitive(et,"string");return _typeof(tt)=="symbol"?tt:String(tt)}function _toPrimitive(et,tt){if(_typeof(et)!="object"||!et)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(_typeof(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}var ORIENT_MAP={xAxis:["bottom","top"],yAxis:["left","right"]},FULL_WIDTH_AND_HEIGHT={width:"100%",height:"100%"},originCoordinate={x:0,y:0};function renderAsIs(et){return et}var calculateTooltipPos=function et(tt,rt){return rt==="horizontal"?tt.x:rt==="vertical"?tt.y:rt==="centric"?tt.angle:tt.radius},getActiveCoordinate=function et(tt,rt,nt,it){var at=rt.find(function(ut){return ut&&ut.index===nt});if(at){if(tt==="horizontal")return{x:at.coordinate,y:it.y};if(tt==="vertical")return{x:it.x,y:at.coordinate};if(tt==="centric"){var ot=at.coordinate,st=it.radius;return _objectSpread(_objectSpread(_objectSpread({},it),polarToCartesian(it.cx,it.cy,st,ot)),{},{angle:ot,radius:st})}var lt=at.coordinate,ct=it.angle;return _objectSpread(_objectSpread(_objectSpread({},it),polarToCartesian(it.cx,it.cy,lt,ct)),{},{angle:ct,radius:lt})}return originCoordinate},getDisplayedData=function et(tt,rt){var nt=rt.graphicalItems,it=rt.dataStartIndex,at=rt.dataEndIndex,ot=(nt??[]).reduce(function(st,lt){var ct=lt.props.data;return ct&&ct.length?[].concat(_toConsumableArray(st),_toConsumableArray(ct)):st},[]);return ot.length>0?ot:tt&&tt.length&&isNumber(it)&&isNumber(at)?tt.slice(it,at+1):[]};function getDefaultDomainByAxisType(et){return et==="number"?[0,"auto"]:void 0}var getTooltipContent=function et(tt,rt,nt,it){var at=tt.graphicalItems,ot=tt.tooltipAxis,st=getDisplayedData(rt,tt);return nt<0||!at||!at.length||nt>=st.length?null:at.reduce(function(lt,ct){var ut,ft=(ut=ct.props.data)!==null&&ut!==void 0?ut:rt;ft&&tt.dataStartIndex+tt.dataEndIndex!==0&&(ft=ft.slice(tt.dataStartIndex,tt.dataEndIndex+1));var ht;if(ot.dataKey&&!ot.allowDuplicatedCategory){var dt=ft===void 0?st:ft;ht=findEntryInArray(dt,ot.dataKey,it)}else ht=ft&&ft[nt]||st[nt];return ht?[].concat(_toConsumableArray(lt),[getTooltipItem(ct,ht)]):lt},[])},getTooltipData=function et(tt,rt,nt,it){var at=it||{x:tt.chartX,y:tt.chartY},ot=calculateTooltipPos(at,nt),st=tt.orderedTooltipTicks,lt=tt.tooltipAxis,ct=tt.tooltipTicks,ut=calculateActiveTickIndex(ot,st,ct,lt);if(ut>=0&&ct){var ft=ct[ut]&&ct[ut].value,ht=getTooltipContent(tt,rt,ut,ft),dt=getActiveCoordinate(nt,st,ut,at);return{activeTooltipIndex:ut,activeLabel:ft,activePayload:ht,activeCoordinate:dt}}return null},getAxisMapByAxes=function et(tt,rt){var nt=rt.axes,it=rt.graphicalItems,at=rt.axisType,ot=rt.axisIdKey,st=rt.stackGroups,lt=rt.dataStartIndex,ct=rt.dataEndIndex,ut=tt.layout,ft=tt.children,ht=tt.stackOffset,dt=isCategoricalAxis(ut,at);return nt.reduce(function(vt,yt){var xt,_t=yt.props,mt=_t.type,pt=_t.dataKey,bt=_t.allowDataOverflow,Et=_t.allowDuplicatedCategory,St=_t.scale,Tt=_t.ticks,Pt=_t.includeHidden,Rt=yt.props[ot];if(vt[Rt])return vt;var It=getDisplayedData(tt.data,{graphicalItems:it.filter(function(zt){return zt.props[ot]===Rt}),dataStartIndex:lt,dataEndIndex:ct}),$t=It.length,kt,Ct,Bt;isDomainSpecifiedByUser(yt.props.domain,bt,mt)&&(kt=parseSpecifiedDomain(yt.props.domain,null,bt),dt&&(mt==="number"||St!=="auto")&&(Bt=getDomainOfDataByKey(It,pt,"category")));var Ft=getDefaultDomainByAxisType(mt);if(!kt||kt.length===0){var Dt,Mt=(Dt=yt.props.domain)!==null&&Dt!==void 0?Dt:Ft;if(pt){if(kt=getDomainOfDataByKey(It,pt,mt),mt==="category"&&dt){var wt=hasDuplicate(kt);Et&&wt?(Ct=kt,kt=range$1(0,$t)):Et||(kt=parseDomainOfCategoryAxis(Mt,kt,yt).reduce(function(zt,Yt){return zt.indexOf(Yt)>=0?zt:[].concat(_toConsumableArray(zt),[Yt])},[]))}else if(mt==="category")Et?kt=kt.filter(function(zt){return zt!==""&&!isNil$1(zt)}):kt=parseDomainOfCategoryAxis(Mt,kt,yt).reduce(function(zt,Yt){return zt.indexOf(Yt)>=0||Yt===""||isNil$1(Yt)?zt:[].concat(_toConsumableArray(zt),[Yt])},[]);else if(mt==="number"){var Ot=parseErrorBarsOfAxis(It,it.filter(function(zt){return zt.props[ot]===Rt&&(Pt||!zt.props.hide)}),pt,at,ut);Ot&&(kt=Ot)}dt&&(mt==="number"||St!=="auto")&&(Bt=getDomainOfDataByKey(It,pt,"category"))}else dt?kt=range$1(0,$t):st&&st[Rt]&&st[Rt].hasStack&&mt==="number"?kt=ht==="expand"?[0,1]:getDomainOfStackGroups(st[Rt].stackGroups,lt,ct):kt=getDomainOfItemsWithSameAxis(It,it.filter(function(zt){return zt.props[ot]===Rt&&(Pt||!zt.props.hide)}),mt,ut,!0);if(mt==="number")kt=detectReferenceElementsDomain(ft,kt,Rt,at,Tt),Mt&&(kt=parseSpecifiedDomain(Mt,kt,bt));else if(mt==="category"&&Mt){var Lt=Mt,Vt=kt.every(function(zt){return Lt.indexOf(zt)>=0});Vt&&(kt=Lt)}}return _objectSpread(_objectSpread({},vt),{},_defineProperty({},Rt,_objectSpread(_objectSpread({},yt.props),{},{axisType:at,domain:kt,categoricalDomain:Bt,duplicateDomain:Ct,originalDomain:(xt=yt.props.domain)!==null&&xt!==void 0?xt:Ft,isCategorical:dt,layout:ut})))},{})},getAxisMapByItems=function et(tt,rt){var nt=rt.graphicalItems,it=rt.Axis,at=rt.axisType,ot=rt.axisIdKey,st=rt.stackGroups,lt=rt.dataStartIndex,ct=rt.dataEndIndex,ut=tt.layout,ft=tt.children,ht=getDisplayedData(tt.data,{graphicalItems:nt,dataStartIndex:lt,dataEndIndex:ct}),dt=ht.length,vt=isCategoricalAxis(ut,at),yt=-1;return nt.reduce(function(xt,_t){var mt=_t.props[ot],pt=getDefaultDomainByAxisType("number");if(!xt[mt]){yt++;var bt;return vt?bt=range$1(0,dt):st&&st[mt]&&st[mt].hasStack?(bt=getDomainOfStackGroups(st[mt].stackGroups,lt,ct),bt=detectReferenceElementsDomain(ft,bt,mt,at)):(bt=parseSpecifiedDomain(pt,getDomainOfItemsWithSameAxis(ht,nt.filter(function(Et){return Et.props[ot]===mt&&!Et.props.hide}),"number",ut),it.defaultProps.allowDataOverflow),bt=detectReferenceElementsDomain(ft,bt,mt,at)),_objectSpread(_objectSpread({},xt),{},_defineProperty({},mt,_objectSpread(_objectSpread({axisType:at},it.defaultProps),{},{hide:!0,orientation:get$2(ORIENT_MAP,"".concat(at,".").concat(yt%2),null),domain:bt,originalDomain:pt,isCategorical:vt,layout:ut})))}return xt},{})},getAxisMap=function et(tt,rt){var nt=rt.axisType,it=nt===void 0?"xAxis":nt,at=rt.AxisComp,ot=rt.graphicalItems,st=rt.stackGroups,lt=rt.dataStartIndex,ct=rt.dataEndIndex,ut=tt.children,ft="".concat(it,"Id"),ht=findAllByType(ut,at),dt={};return ht&&ht.length?dt=getAxisMapByAxes(tt,{axes:ht,graphicalItems:ot,axisType:it,axisIdKey:ft,stackGroups:st,dataStartIndex:lt,dataEndIndex:ct}):ot&&ot.length&&(dt=getAxisMapByItems(tt,{Axis:at,graphicalItems:ot,axisType:it,axisIdKey:ft,stackGroups:st,dataStartIndex:lt,dataEndIndex:ct})),dt},tooltipTicksGenerator=function et(tt){var rt=getAnyElementOfObject(tt),nt=getTicksOfAxis(rt,!1,!0);return{tooltipTicks:nt,orderedTooltipTicks:sortBy$1(nt,function(it){return it.coordinate}),tooltipAxis:rt,tooltipAxisBandSize:getBandSizeOfAxis(rt,nt)}},createDefaultState=function et(tt){var rt=tt.children,nt=tt.defaultShowTooltip,it=findChildByType(rt,Brush),at=0,ot=0;return tt.data&&tt.data.length!==0&&(ot=tt.data.length-1),it&&it.props&&(it.props.startIndex>=0&&(at=it.props.startIndex),it.props.endIndex>=0&&(ot=it.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:at,dataEndIndex:ot,activeTooltipIndex:-1,isTooltipActive:!!nt}},hasGraphicalBarItem=function et(tt){return!tt||!tt.length?!1:tt.some(function(rt){var nt=getDisplayName(rt&&rt.type);return nt&&nt.indexOf("Bar")>=0})},getAxisNameByLayout=function et(tt){return tt==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:tt==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:tt==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},calculateOffset=function et(tt,rt){var nt=tt.props,it=tt.graphicalItems,at=tt.xAxisMap,ot=at===void 0?{}:at,st=tt.yAxisMap,lt=st===void 0?{}:st,ct=nt.width,ut=nt.height,ft=nt.children,ht=nt.margin||{},dt=findChildByType(ft,Brush),vt=findChildByType(ft,Legend),yt=Object.keys(lt).reduce(function(Et,St){var Tt=lt[St],Pt=Tt.orientation;return!Tt.mirror&&!Tt.hide?_objectSpread(_objectSpread({},Et),{},_defineProperty({},Pt,Et[Pt]+Tt.width)):Et},{left:ht.left||0,right:ht.right||0}),xt=Object.keys(ot).reduce(function(Et,St){var Tt=ot[St],Pt=Tt.orientation;return!Tt.mirror&&!Tt.hide?_objectSpread(_objectSpread({},Et),{},_defineProperty({},Pt,get$2(Et,"".concat(Pt))+Tt.height)):Et},{top:ht.top||0,bottom:ht.bottom||0}),_t=_objectSpread(_objectSpread({},xt),yt),mt=_t.bottom;dt&&(_t.bottom+=dt.props.height||Brush.defaultProps.height),vt&&rt&&(_t=appendOffsetOfLegend(_t,it,nt,rt));var pt=ct-_t.left-_t.right,bt=ut-_t.top-_t.bottom;return _objectSpread(_objectSpread({brushBottom:mt},_t),{},{width:Math.max(pt,0),height:Math.max(bt,0)})},getCartesianAxisSize=function et(tt,rt){if(rt==="xAxis")return tt[rt].width;if(rt==="yAxis")return tt[rt].height},generateCategoricalChart=function et(tt){var rt,nt=tt.chartName,it=tt.GraphicalChild,at=tt.defaultTooltipEventType,ot=at===void 0?"axis":at,st=tt.validateTooltipEventTypes,lt=st===void 0?["axis"]:st,ct=tt.axisComponents,ut=tt.legendContent,ft=tt.formatAxisMap,ht=tt.defaultProps,dt=function(xt,_t){var mt=_t.graphicalItems,pt=_t.stackGroups,bt=_t.offset,Et=_t.updateId,St=_t.dataStartIndex,Tt=_t.dataEndIndex,Pt=xt.barSize,Rt=xt.layout,It=xt.barGap,$t=xt.barCategoryGap,kt=xt.maxBarSize,Ct=getAxisNameByLayout(Rt),Bt=Ct.numericAxisName,Ft=Ct.cateAxisName,Dt=hasGraphicalBarItem(mt),Mt=[];return mt.forEach(function(wt,Ot){var Lt=getDisplayedData(xt.data,{graphicalItems:[wt],dataStartIndex:St,dataEndIndex:Tt}),Vt=wt.props,zt=Vt.dataKey,Yt=Vt.maxBarSize,nr=wt.props["".concat(Bt,"Id")],cr=wt.props["".concat(Ft,"Id")],hr={},Jt=ct.reduce(function(Ht,tr){var rr=_t["".concat(tr.axisType,"Map")],er=wt.props["".concat(tr.axisType,"Id")];rr&&rr[er]||tr.axisType==="zAxis"||invariant();var lr=rr[er];return _objectSpread(_objectSpread({},Ht),{},_defineProperty(_defineProperty({},tr.axisType,lr),"".concat(tr.axisType,"Ticks"),getTicksOfAxis(lr)))},hr),ur=Jt[Ft],Xt=Jt["".concat(Ft,"Ticks")],Zt=pt&&pt[nr]&&pt[nr].hasStack&&getStackedDataOfItem(wt,pt[nr].stackGroups),ir=getDisplayName(wt.type).indexOf("Bar")>=0,Wt=getBandSizeOfAxis(ur,Xt),sr=[],Qt=Dt&&getBarSizeList({barSize:Pt,stackGroups:pt,totalSize:getCartesianAxisSize(Jt,Ft)});if(ir){var _r,br,Er=isNil$1(Yt)?kt:Yt,Ut=(_r=(br=getBandSizeOfAxis(ur,Xt,!0))!==null&&br!==void 0?br:Er)!==null&&_r!==void 0?_r:0;sr=getBarPosition({barGap:It,barCategoryGap:$t,bandSize:Ut!==Wt?Ut:Wt,sizeList:Qt[cr],maxBarSize:Er}),Ut!==Wt&&(sr=sr.map(function(Ht){return _objectSpread(_objectSpread({},Ht),{},{position:_objectSpread(_objectSpread({},Ht.position),{},{offset:Ht.position.offset-Ut/2})})}))}var qt=wt&&wt.type&&wt.type.getComposedData;qt&&Mt.push({props:_objectSpread(_objectSpread({},qt(_objectSpread(_objectSpread({},Jt),{},{displayedData:Lt,props:xt,dataKey:zt,item:wt,bandSize:Wt,barPosition:sr,offset:bt,stackedData:Zt,layout:Rt,dataStartIndex:St,dataEndIndex:Tt}))),{},_defineProperty(_defineProperty(_defineProperty({key:wt.key||"item-".concat(Ot)},Bt,Jt[Bt]),Ft,Jt[Ft]),"animationId",Et)),childIndex:parseChildIndex(wt,xt.children),item:wt})}),Mt},vt=function(xt,_t){var mt=xt.props,pt=xt.dataStartIndex,bt=xt.dataEndIndex,Et=xt.updateId;if(!validateWidthHeight({props:mt}))return null;var St=mt.children,Tt=mt.layout,Pt=mt.stackOffset,Rt=mt.data,It=mt.reverseStackOrder,$t=getAxisNameByLayout(Tt),kt=$t.numericAxisName,Ct=$t.cateAxisName,Bt=findAllByType(St,it),Ft=getStackGroupsByAxisId(Rt,Bt,"".concat(kt,"Id"),"".concat(Ct,"Id"),Pt,It),Dt=ct.reduce(function(Vt,zt){var Yt="".concat(zt.axisType,"Map");return _objectSpread(_objectSpread({},Vt),{},_defineProperty({},Yt,getAxisMap(mt,_objectSpread(_objectSpread({},zt),{},{graphicalItems:Bt,stackGroups:zt.axisType===kt&&Ft,dataStartIndex:pt,dataEndIndex:bt}))))},{}),Mt=calculateOffset(_objectSpread(_objectSpread({},Dt),{},{props:mt,graphicalItems:Bt}),_t==null?void 0:_t.legendBBox);Object.keys(Dt).forEach(function(Vt){Dt[Vt]=ft(mt,Dt[Vt],Mt,Vt.replace("Map",""),nt)});var wt=Dt["".concat(Ct,"Map")],Ot=tooltipTicksGenerator(wt),Lt=dt(mt,_objectSpread(_objectSpread({},Dt),{},{dataStartIndex:pt,dataEndIndex:bt,updateId:Et,graphicalItems:Bt,stackGroups:Ft,offset:Mt}));return _objectSpread(_objectSpread({formattedGraphicalItems:Lt,graphicalItems:Bt,offset:Mt,stackGroups:Ft},Ot),Dt)};return rt=function(yt){_inherits(xt,yt);function xt(_t){var mt,pt,bt;return _classCallCheck(this,xt),bt=_callSuper(this,xt,[_t]),_defineProperty(_assertThisInitialized(bt),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),_defineProperty(_assertThisInitialized(bt),"accessibilityManager",new AccessibilityManager),_defineProperty(_assertThisInitialized(bt),"handleLegendBBoxUpdate",function(Et){if(Et){var St=bt.state,Tt=St.dataStartIndex,Pt=St.dataEndIndex,Rt=St.updateId;bt.setState(_objectSpread({legendBBox:Et},vt({props:bt.props,dataStartIndex:Tt,dataEndIndex:Pt,updateId:Rt},_objectSpread(_objectSpread({},bt.state),{},{legendBBox:Et}))))}}),_defineProperty(_assertThisInitialized(bt),"handleReceiveSyncEvent",function(Et,St,Tt){if(bt.props.syncId===Et){if(Tt===bt.eventEmitterSymbol&&typeof bt.props.syncMethod!="function")return;bt.applySyncEvent(St)}}),_defineProperty(_assertThisInitialized(bt),"handleBrushChange",function(Et){var St=Et.startIndex,Tt=Et.endIndex;if(St!==bt.state.dataStartIndex||Tt!==bt.state.dataEndIndex){var Pt=bt.state.updateId;bt.setState(function(){return _objectSpread({dataStartIndex:St,dataEndIndex:Tt},vt({props:bt.props,dataStartIndex:St,dataEndIndex:Tt,updateId:Pt},bt.state))}),bt.triggerSyncEvent({dataStartIndex:St,dataEndIndex:Tt})}}),_defineProperty(_assertThisInitialized(bt),"handleMouseEnter",function(Et){var St=bt.getMouseInfo(Et);if(St){var Tt=_objectSpread(_objectSpread({},St),{},{isTooltipActive:!0});bt.setState(Tt),bt.triggerSyncEvent(Tt);var Pt=bt.props.onMouseEnter;isFunction$3(Pt)&&Pt(Tt,Et)}}),_defineProperty(_assertThisInitialized(bt),"triggeredAfterMouseMove",function(Et){var St=bt.getMouseInfo(Et),Tt=St?_objectSpread(_objectSpread({},St),{},{isTooltipActive:!0}):{isTooltipActive:!1};bt.setState(Tt),bt.triggerSyncEvent(Tt);var Pt=bt.props.onMouseMove;isFunction$3(Pt)&&Pt(Tt,Et)}),_defineProperty(_assertThisInitialized(bt),"handleItemMouseEnter",function(Et){bt.setState(function(){return{isTooltipActive:!0,activeItem:Et,activePayload:Et.tooltipPayload,activeCoordinate:Et.tooltipPosition||{x:Et.cx,y:Et.cy}}})}),_defineProperty(_assertThisInitialized(bt),"handleItemMouseLeave",function(){bt.setState(function(){return{isTooltipActive:!1}})}),_defineProperty(_assertThisInitialized(bt),"handleMouseMove",function(Et){Et.persist(),bt.throttleTriggeredAfterMouseMove(Et)}),_defineProperty(_assertThisInitialized(bt),"handleMouseLeave",function(Et){bt.throttleTriggeredAfterMouseMove.cancel();var St={isTooltipActive:!1};bt.setState(St),bt.triggerSyncEvent(St);var Tt=bt.props.onMouseLeave;isFunction$3(Tt)&&Tt(St,Et)}),_defineProperty(_assertThisInitialized(bt),"handleOuterEvent",function(Et){var St=getReactEventByType(Et),Tt=get$2(bt.props,"".concat(St));if(St&&isFunction$3(Tt)){var Pt,Rt;/.*touch.*/i.test(St)?Rt=bt.getMouseInfo(Et.changedTouches[0]):Rt=bt.getMouseInfo(Et),Tt((Pt=Rt)!==null&&Pt!==void 0?Pt:{},Et)}}),_defineProperty(_assertThisInitialized(bt),"handleClick",function(Et){var St=bt.getMouseInfo(Et);if(St){var Tt=_objectSpread(_objectSpread({},St),{},{isTooltipActive:!0});bt.setState(Tt),bt.triggerSyncEvent(Tt);var Pt=bt.props.onClick;isFunction$3(Pt)&&Pt(Tt,Et)}}),_defineProperty(_assertThisInitialized(bt),"handleMouseDown",function(Et){var St=bt.props.onMouseDown;if(isFunction$3(St)){var Tt=bt.getMouseInfo(Et);St(Tt,Et)}}),_defineProperty(_assertThisInitialized(bt),"handleMouseUp",function(Et){var St=bt.props.onMouseUp;if(isFunction$3(St)){var Tt=bt.getMouseInfo(Et);St(Tt,Et)}}),_defineProperty(_assertThisInitialized(bt),"handleTouchMove",function(Et){Et.changedTouches!=null&&Et.changedTouches.length>0&&bt.throttleTriggeredAfterMouseMove(Et.changedTouches[0])}),_defineProperty(_assertThisInitialized(bt),"handleTouchStart",function(Et){Et.changedTouches!=null&&Et.changedTouches.length>0&&bt.handleMouseDown(Et.changedTouches[0])}),_defineProperty(_assertThisInitialized(bt),"handleTouchEnd",function(Et){Et.changedTouches!=null&&Et.changedTouches.length>0&&bt.handleMouseUp(Et.changedTouches[0])}),_defineProperty(_assertThisInitialized(bt),"triggerSyncEvent",function(Et){bt.props.syncId!==void 0&&eventCenter.emit(SYNC_EVENT,bt.props.syncId,Et,bt.eventEmitterSymbol)}),_defineProperty(_assertThisInitialized(bt),"applySyncEvent",function(Et){var St=bt.props,Tt=St.layout,Pt=St.syncMethod,Rt=bt.state.updateId,It=Et.dataStartIndex,$t=Et.dataEndIndex;if(Et.dataStartIndex!==void 0||Et.dataEndIndex!==void 0)bt.setState(_objectSpread({dataStartIndex:It,dataEndIndex:$t},vt({props:bt.props,dataStartIndex:It,dataEndIndex:$t,updateId:Rt},bt.state)));else if(Et.activeTooltipIndex!==void 0){var kt=Et.chartX,Ct=Et.chartY,Bt=Et.activeTooltipIndex,Ft=bt.state,Dt=Ft.offset,Mt=Ft.tooltipTicks;if(!Dt)return;if(typeof Pt=="function")Bt=Pt(Mt,Et);else if(Pt==="value"){Bt=-1;for(var wt=0;wt<Mt.length;wt++)if(Mt[wt].value===Et.activeLabel){Bt=wt;break}}var Ot=_objectSpread(_objectSpread({},Dt),{},{x:Dt.left,y:Dt.top}),Lt=Math.min(kt,Ot.x+Ot.width),Vt=Math.min(Ct,Ot.y+Ot.height),zt=Mt[Bt]&&Mt[Bt].value,Yt=getTooltipContent(bt.state,bt.props.data,Bt),nr=Mt[Bt]?{x:Tt==="horizontal"?Mt[Bt].coordinate:Lt,y:Tt==="horizontal"?Vt:Mt[Bt].coordinate}:originCoordinate;bt.setState(_objectSpread(_objectSpread({},Et),{},{activeLabel:zt,activeCoordinate:nr,activePayload:Yt,activeTooltipIndex:Bt}))}else bt.setState(Et)}),_defineProperty(_assertThisInitialized(bt),"renderCursor",function(Et){var St,Tt=bt.state,Pt=Tt.isTooltipActive,Rt=Tt.activeCoordinate,It=Tt.activePayload,$t=Tt.offset,kt=Tt.activeTooltipIndex,Ct=Tt.tooltipAxisBandSize,Bt=bt.getTooltipEventType(),Ft=(St=Et.props.active)!==null&&St!==void 0?St:Pt,Dt=bt.props.layout,Mt=Et.key||"_recharts-cursor";return React.createElement(Cursor,{key:Mt,activeCoordinate:Rt,activePayload:It,activeTooltipIndex:kt,chartName:nt,element:Et,isActive:Ft,layout:Dt,offset:$t,tooltipAxisBandSize:Ct,tooltipEventType:Bt})}),_defineProperty(_assertThisInitialized(bt),"renderPolarAxis",function(Et,St,Tt){var Pt=get$2(Et,"type.axisType"),Rt=get$2(bt.state,"".concat(Pt,"Map")),It=Rt&&Rt[Et.props["".concat(Pt,"Id")]];return reactExports.cloneElement(Et,_objectSpread(_objectSpread({},It),{},{className:clsx(Pt,It.className),key:Et.key||"".concat(St,"-").concat(Tt),ticks:getTicksOfAxis(It,!0)}))}),_defineProperty(_assertThisInitialized(bt),"renderPolarGrid",function(Et){var St=Et.props,Tt=St.radialLines,Pt=St.polarAngles,Rt=St.polarRadius,It=bt.state,$t=It.radiusAxisMap,kt=It.angleAxisMap,Ct=getAnyElementOfObject($t),Bt=getAnyElementOfObject(kt),Ft=Bt.cx,Dt=Bt.cy,Mt=Bt.innerRadius,wt=Bt.outerRadius;return reactExports.cloneElement(Et,{polarAngles:Array.isArray(Pt)?Pt:getTicksOfAxis(Bt,!0).map(function(Ot){return Ot.coordinate}),polarRadius:Array.isArray(Rt)?Rt:getTicksOfAxis(Ct,!0).map(function(Ot){return Ot.coordinate}),cx:Ft,cy:Dt,innerRadius:Mt,outerRadius:wt,key:Et.key||"polar-grid",radialLines:Tt})}),_defineProperty(_assertThisInitialized(bt),"renderLegend",function(){var Et=bt.state.formattedGraphicalItems,St=bt.props,Tt=St.children,Pt=St.width,Rt=St.height,It=bt.props.margin||{},$t=Pt-(It.left||0)-(It.right||0),kt=getLegendProps({children:Tt,formattedGraphicalItems:Et,legendWidth:$t,legendContent:ut});if(!kt)return null;var Ct=kt.item,Bt=_objectWithoutProperties(kt,_excluded);return reactExports.cloneElement(Ct,_objectSpread(_objectSpread({},Bt),{},{chartWidth:Pt,chartHeight:Rt,margin:It,onBBoxUpdate:bt.handleLegendBBoxUpdate}))}),_defineProperty(_assertThisInitialized(bt),"renderTooltip",function(){var Et,St=bt.props,Tt=St.children,Pt=St.accessibilityLayer,Rt=findChildByType(Tt,Tooltip);if(!Rt)return null;var It=bt.state,$t=It.isTooltipActive,kt=It.activeCoordinate,Ct=It.activePayload,Bt=It.activeLabel,Ft=It.offset,Dt=(Et=Rt.props.active)!==null&&Et!==void 0?Et:$t;return reactExports.cloneElement(Rt,{viewBox:_objectSpread(_objectSpread({},Ft),{},{x:Ft.left,y:Ft.top}),active:Dt,label:Bt,payload:Dt?Ct:[],coordinate:kt,accessibilityLayer:Pt})}),_defineProperty(_assertThisInitialized(bt),"renderBrush",function(Et){var St=bt.props,Tt=St.margin,Pt=St.data,Rt=bt.state,It=Rt.offset,$t=Rt.dataStartIndex,kt=Rt.dataEndIndex,Ct=Rt.updateId;return reactExports.cloneElement(Et,{key:Et.key||"_recharts-brush",onChange:combineEventHandlers(bt.handleBrushChange,Et.props.onChange),data:Pt,x:isNumber(Et.props.x)?Et.props.x:It.left,y:isNumber(Et.props.y)?Et.props.y:It.top+It.height+It.brushBottom-(Tt.bottom||0),width:isNumber(Et.props.width)?Et.props.width:It.width,startIndex:$t,endIndex:kt,updateId:"brush-".concat(Ct)})}),_defineProperty(_assertThisInitialized(bt),"renderReferenceElement",function(Et,St,Tt){if(!Et)return null;var Pt=_assertThisInitialized(bt),Rt=Pt.clipPathId,It=bt.state,$t=It.xAxisMap,kt=It.yAxisMap,Ct=It.offset,Bt=Et.props,Ft=Bt.xAxisId,Dt=Bt.yAxisId;return reactExports.cloneElement(Et,{key:Et.key||"".concat(St,"-").concat(Tt),xAxis:$t[Ft],yAxis:kt[Dt],viewBox:{x:Ct.left,y:Ct.top,width:Ct.width,height:Ct.height},clipPathId:Rt})}),_defineProperty(_assertThisInitialized(bt),"renderActivePoints",function(Et){var St=Et.item,Tt=Et.activePoint,Pt=Et.basePoint,Rt=Et.childIndex,It=Et.isRange,$t=[],kt=St.props.key,Ct=St.item.props,Bt=Ct.activeDot,Ft=Ct.dataKey,Dt=_objectSpread(_objectSpread({index:Rt,dataKey:Ft,cx:Tt.x,cy:Tt.y,r:4,fill:getMainColorOfGraphicItem(St.item),strokeWidth:2,stroke:"#fff",payload:Tt.payload,value:Tt.value,key:"".concat(kt,"-activePoint-").concat(Rt)},filterProps(Bt,!1)),adaptEventHandlers(Bt));return $t.push(xt.renderActiveDot(Bt,Dt)),Pt?$t.push(xt.renderActiveDot(Bt,_objectSpread(_objectSpread({},Dt),{},{cx:Pt.x,cy:Pt.y,key:"".concat(kt,"-basePoint-").concat(Rt)}))):It&&$t.push(null),$t}),_defineProperty(_assertThisInitialized(bt),"renderGraphicChild",function(Et,St,Tt){var Pt=bt.filterFormatItem(Et,St,Tt);if(!Pt)return null;var Rt=bt.getTooltipEventType(),It=bt.state,$t=It.isTooltipActive,kt=It.tooltipAxis,Ct=It.activeTooltipIndex,Bt=It.activeLabel,Ft=bt.props.children,Dt=findChildByType(Ft,Tooltip),Mt=Pt.props,wt=Mt.points,Ot=Mt.isRange,Lt=Mt.baseLine,Vt=Pt.item.props,zt=Vt.activeDot,Yt=Vt.hide,nr=Vt.activeBar,cr=Vt.activeShape,hr=!!(!Yt&&$t&&Dt&&(zt||nr||cr)),Jt={};Rt!=="axis"&&Dt&&Dt.props.trigger==="click"?Jt={onClick:combineEventHandlers(bt.handleItemMouseEnter,Et.props.onClick)}:Rt!=="axis"&&(Jt={onMouseLeave:combineEventHandlers(bt.handleItemMouseLeave,Et.props.onMouseLeave),onMouseEnter:combineEventHandlers(bt.handleItemMouseEnter,Et.props.onMouseEnter)});var ur=reactExports.cloneElement(Et,_objectSpread(_objectSpread({},Pt.props),Jt));function Xt(tr){return typeof kt.dataKey=="function"?kt.dataKey(tr.payload):null}if(hr)if(Ct>=0){var Zt,ir;if(kt.dataKey&&!kt.allowDuplicatedCategory){var Wt=typeof kt.dataKey=="function"?Xt:"payload.".concat(kt.dataKey.toString());Zt=findEntryInArray(wt,Wt,Bt),ir=Ot&&Lt&&findEntryInArray(Lt,Wt,Bt)}else Zt=wt==null?void 0:wt[Ct],ir=Ot&&Lt&&Lt[Ct];if(cr||nr){var sr=Et.props.activeIndex!==void 0?Et.props.activeIndex:Ct;return[reactExports.cloneElement(Et,_objectSpread(_objectSpread(_objectSpread({},Pt.props),Jt),{},{activeIndex:sr})),null,null]}if(!isNil$1(Zt))return[ur].concat(_toConsumableArray(bt.renderActivePoints({item:Pt,activePoint:Zt,basePoint:ir,childIndex:Ct,isRange:Ot})))}else{var Qt,_r=(Qt=bt.getItemByXY(bt.state.activeCoordinate))!==null&&Qt!==void 0?Qt:{graphicalItem:ur},br=_r.graphicalItem,Er=br.item,Ut=Er===void 0?Et:Er,qt=br.childIndex,Ht=_objectSpread(_objectSpread(_objectSpread({},Pt.props),Jt),{},{activeIndex:qt});return[reactExports.cloneElement(Ut,Ht),null,null]}return Ot?[ur,null,null]:[ur,null]}),_defineProperty(_assertThisInitialized(bt),"renderCustomized",function(Et,St,Tt){return reactExports.cloneElement(Et,_objectSpread(_objectSpread({key:"recharts-customized-".concat(Tt)},bt.props),bt.state))}),_defineProperty(_assertThisInitialized(bt),"renderMap",{CartesianGrid:{handler:renderAsIs,once:!0},ReferenceArea:{handler:bt.renderReferenceElement},ReferenceLine:{handler:renderAsIs},ReferenceDot:{handler:bt.renderReferenceElement},XAxis:{handler:renderAsIs},YAxis:{handler:renderAsIs},Brush:{handler:bt.renderBrush,once:!0},Bar:{handler:bt.renderGraphicChild},Line:{handler:bt.renderGraphicChild},Area:{handler:bt.renderGraphicChild},Radar:{handler:bt.renderGraphicChild},RadialBar:{handler:bt.renderGraphicChild},Scatter:{handler:bt.renderGraphicChild},Pie:{handler:bt.renderGraphicChild},Funnel:{handler:bt.renderGraphicChild},Tooltip:{handler:bt.renderCursor,once:!0},PolarGrid:{handler:bt.renderPolarGrid,once:!0},PolarAngleAxis:{handler:bt.renderPolarAxis},PolarRadiusAxis:{handler:bt.renderPolarAxis},Customized:{handler:bt.renderCustomized}}),bt.clipPathId="".concat((mt=_t.id)!==null&&mt!==void 0?mt:uniqueId("recharts"),"-clip"),bt.throttleTriggeredAfterMouseMove=throttle$1(bt.triggeredAfterMouseMove,(pt=_t.throttleDelay)!==null&&pt!==void 0?pt:1e3/60),bt.state={},bt}return _createClass(xt,[{key:"componentDidMount",value:function(){var mt,pt;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(mt=this.props.margin.left)!==null&&mt!==void 0?mt:0,top:(pt=this.props.margin.top)!==null&&pt!==void 0?pt:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var mt=this.props,pt=mt.children,bt=mt.data,Et=mt.height,St=mt.layout,Tt=findChildByType(pt,Tooltip);if(Tt){var Pt=Tt.props.defaultIndex;if(!(typeof Pt!="number"||Pt<0||Pt>this.state.tooltipTicks.length)){var Rt=this.state.tooltipTicks[Pt]&&this.state.tooltipTicks[Pt].value,It=getTooltipContent(this.state,bt,Pt,Rt),$t=this.state.tooltipTicks[Pt].coordinate,kt=(this.state.offset.top+Et)/2,Ct=St==="horizontal",Bt=Ct?{x:$t,y:kt}:{y:$t,x:kt},Ft=this.state.formattedGraphicalItems.find(function(Mt){var wt=Mt.item;return wt.type.name==="Scatter"});Ft&&(Bt=_objectSpread(_objectSpread({},Bt),Ft.props.points[Pt].tooltipPosition),It=Ft.props.points[Pt].tooltipPayload);var Dt={activeTooltipIndex:Pt,isTooltipActive:!0,activeLabel:Rt,activePayload:It,activeCoordinate:Bt};this.setState(Dt),this.renderCursor(Tt),this.accessibilityManager.setIndex(Pt)}}}},{key:"getSnapshotBeforeUpdate",value:function(mt,pt){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==pt.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==mt.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==mt.margin){var bt,Et;this.accessibilityManager.setDetails({offset:{left:(bt=this.props.margin.left)!==null&&bt!==void 0?bt:0,top:(Et=this.props.margin.top)!==null&&Et!==void 0?Et:0}})}return null}},{key:"componentDidUpdate",value:function(mt){isChildrenEqual([findChildByType(mt.children,Tooltip)],[findChildByType(this.props.children,Tooltip)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var mt=findChildByType(this.props.children,Tooltip);if(mt&&typeof mt.props.shared=="boolean"){var pt=mt.props.shared?"axis":"item";return lt.indexOf(pt)>=0?pt:ot}return ot}},{key:"getMouseInfo",value:function(mt){if(!this.container)return null;var pt=this.container,bt=pt.getBoundingClientRect(),Et=getOffset(bt),St={chartX:Math.round(mt.pageX-Et.left),chartY:Math.round(mt.pageY-Et.top)},Tt=bt.width/pt.offsetWidth||1,Pt=this.inRange(St.chartX,St.chartY,Tt);if(!Pt)return null;var Rt=this.state,It=Rt.xAxisMap,$t=Rt.yAxisMap,kt=this.getTooltipEventType();if(kt!=="axis"&&It&&$t){var Ct=getAnyElementOfObject(It).scale,Bt=getAnyElementOfObject($t).scale,Ft=Ct&&Ct.invert?Ct.invert(St.chartX):null,Dt=Bt&&Bt.invert?Bt.invert(St.chartY):null;return _objectSpread(_objectSpread({},St),{},{xValue:Ft,yValue:Dt})}var Mt=getTooltipData(this.state,this.props.data,this.props.layout,Pt);return Mt?_objectSpread(_objectSpread({},St),Mt):null}},{key:"inRange",value:function(mt,pt){var bt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,Et=this.props.layout,St=mt/bt,Tt=pt/bt;if(Et==="horizontal"||Et==="vertical"){var Pt=this.state.offset,Rt=St>=Pt.left&&St<=Pt.left+Pt.width&&Tt>=Pt.top&&Tt<=Pt.top+Pt.height;return Rt?{x:St,y:Tt}:null}var It=this.state,$t=It.angleAxisMap,kt=It.radiusAxisMap;if($t&&kt){var Ct=getAnyElementOfObject($t);return inRangeOfSector({x:St,y:Tt},Ct)}return null}},{key:"parseEventsOfWrapper",value:function(){var mt=this.props.children,pt=this.getTooltipEventType(),bt=findChildByType(mt,Tooltip),Et={};bt&&pt==="axis"&&(bt.props.trigger==="click"?Et={onClick:this.handleClick}:Et={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var St=adaptEventHandlers(this.props,this.handleOuterEvent);return _objectSpread(_objectSpread({},St),Et)}},{key:"addListener",value:function(){eventCenter.on(SYNC_EVENT,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){eventCenter.removeListener(SYNC_EVENT,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(mt,pt,bt){for(var Et=this.state.formattedGraphicalItems,St=0,Tt=Et.length;St<Tt;St++){var Pt=Et[St];if(Pt.item===mt||Pt.props.key===mt.key||pt===getDisplayName(Pt.item.type)&&bt===Pt.childIndex)return Pt}return null}},{key:"renderClipPath",value:function(){var mt=this.clipPathId,pt=this.state.offset,bt=pt.left,Et=pt.top,St=pt.height,Tt=pt.width;return React.createElement("defs",null,React.createElement("clipPath",{id:mt},React.createElement("rect",{x:bt,y:Et,height:St,width:Tt})))}},{key:"getXScales",value:function(){var mt=this.state.xAxisMap;return mt?Object.entries(mt).reduce(function(pt,bt){var Et=_slicedToArray(bt,2),St=Et[0],Tt=Et[1];return _objectSpread(_objectSpread({},pt),{},_defineProperty({},St,Tt.scale))},{}):null}},{key:"getYScales",value:function(){var mt=this.state.yAxisMap;return mt?Object.entries(mt).reduce(function(pt,bt){var Et=_slicedToArray(bt,2),St=Et[0],Tt=Et[1];return _objectSpread(_objectSpread({},pt),{},_defineProperty({},St,Tt.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(mt){var pt;return(pt=this.state.xAxisMap)===null||pt===void 0||(pt=pt[mt])===null||pt===void 0?void 0:pt.scale}},{key:"getYScaleByAxisId",value:function(mt){var pt;return(pt=this.state.yAxisMap)===null||pt===void 0||(pt=pt[mt])===null||pt===void 0?void 0:pt.scale}},{key:"getItemByXY",value:function(mt){var pt=this.state,bt=pt.formattedGraphicalItems,Et=pt.activeItem;if(bt&&bt.length)for(var St=0,Tt=bt.length;St<Tt;St++){var Pt=bt[St],Rt=Pt.props,It=Pt.item,$t=getDisplayName(It.type);if($t==="Bar"){var kt=(Rt.data||[]).find(function(Dt){return isInRectangle(mt,Dt)});if(kt)return{graphicalItem:Pt,payload:kt}}else if($t==="RadialBar"){var Ct=(Rt.data||[]).find(function(Dt){return inRangeOfSector(mt,Dt)});if(Ct)return{graphicalItem:Pt,payload:Ct}}else if(isFunnel(Pt,Et)||isPie(Pt,Et)||isScatter(Pt,Et)){var Bt=getActiveShapeIndexForTooltip({graphicalItem:Pt,activeTooltipItem:Et,itemData:It.props.data}),Ft=It.props.activeIndex===void 0?Bt:It.props.activeIndex;return{graphicalItem:_objectSpread(_objectSpread({},Pt),{},{childIndex:Ft}),payload:isScatter(Pt,Et)?It.props.data[Bt]:Pt.props.data[Bt]}}}return null}},{key:"render",value:function(){var mt=this;if(!validateWidthHeight(this))return null;var pt=this.props,bt=pt.children,Et=pt.className,St=pt.width,Tt=pt.height,Pt=pt.style,Rt=pt.compact,It=pt.title,$t=pt.desc,kt=_objectWithoutProperties(pt,_excluded2),Ct=filterProps(kt,!1);if(Rt)return React.createElement(ChartLayoutContextProvider,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},React.createElement(Surface,_extends({},Ct,{width:St,height:Tt,title:It,desc:$t}),this.renderClipPath(),renderByOrder(bt,this.renderMap)));if(this.props.accessibilityLayer){var Bt,Ft;Ct.tabIndex=(Bt=this.props.tabIndex)!==null&&Bt!==void 0?Bt:0,Ct.role=(Ft=this.props.role)!==null&&Ft!==void 0?Ft:"application",Ct.onKeyDown=function(Mt){mt.accessibilityManager.keyboardEvent(Mt)},Ct.onFocus=function(){mt.accessibilityManager.focus()}}var Dt=this.parseEventsOfWrapper();return React.createElement(ChartLayoutContextProvider,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},React.createElement("div",_extends({className:clsx("recharts-wrapper",Et),style:_objectSpread({position:"relative",cursor:"default",width:St,height:Tt},Pt)},Dt,{ref:function(wt){mt.container=wt}}),React.createElement(Surface,_extends({},Ct,{width:St,height:Tt,title:It,desc:$t,style:FULL_WIDTH_AND_HEIGHT}),this.renderClipPath(),renderByOrder(bt,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}]),xt}(reactExports.Component),_defineProperty(rt,"displayName",nt),_defineProperty(rt,"defaultProps",_objectSpread({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},ht)),_defineProperty(rt,"getDerivedStateFromProps",function(yt,xt){var _t=yt.dataKey,mt=yt.data,pt=yt.children,bt=yt.width,Et=yt.height,St=yt.layout,Tt=yt.stackOffset,Pt=yt.margin,Rt=xt.dataStartIndex,It=xt.dataEndIndex;if(xt.updateId===void 0){var $t=createDefaultState(yt);return _objectSpread(_objectSpread(_objectSpread({},$t),{},{updateId:0},vt(_objectSpread(_objectSpread({props:yt},$t),{},{updateId:0}),xt)),{},{prevDataKey:_t,prevData:mt,prevWidth:bt,prevHeight:Et,prevLayout:St,prevStackOffset:Tt,prevMargin:Pt,prevChildren:pt})}if(_t!==xt.prevDataKey||mt!==xt.prevData||bt!==xt.prevWidth||Et!==xt.prevHeight||St!==xt.prevLayout||Tt!==xt.prevStackOffset||!shallowEqual(Pt,xt.prevMargin)){var kt=createDefaultState(yt),Ct={chartX:xt.chartX,chartY:xt.chartY,isTooltipActive:xt.isTooltipActive},Bt=_objectSpread(_objectSpread({},getTooltipData(xt,mt,St)),{},{updateId:xt.updateId+1}),Ft=_objectSpread(_objectSpread(_objectSpread({},kt),Ct),Bt);return _objectSpread(_objectSpread(_objectSpread({},Ft),vt(_objectSpread({props:yt},Ft),xt)),{},{prevDataKey:_t,prevData:mt,prevWidth:bt,prevHeight:Et,prevLayout:St,prevStackOffset:Tt,prevMargin:Pt,prevChildren:pt})}if(!isChildrenEqual(pt,xt.prevChildren)){var Dt,Mt,wt,Ot,Lt=findChildByType(pt,Brush),Vt=Lt&&(Dt=(Mt=Lt.props)===null||Mt===void 0?void 0:Mt.startIndex)!==null&&Dt!==void 0?Dt:Rt,zt=Lt&&(wt=(Ot=Lt.props)===null||Ot===void 0?void 0:Ot.endIndex)!==null&&wt!==void 0?wt:It,Yt=Vt!==Rt||zt!==It,nr=!isNil$1(mt),cr=nr&&!Yt?xt.updateId:xt.updateId+1;return _objectSpread(_objectSpread({updateId:cr},vt(_objectSpread(_objectSpread({props:yt},xt),{},{updateId:cr,dataStartIndex:Vt,dataEndIndex:zt}),xt)),{},{prevChildren:pt,dataStartIndex:Vt,dataEndIndex:zt})}return null}),_defineProperty(rt,"renderActiveDot",function(yt,xt){var _t;return reactExports.isValidElement(yt)?_t=reactExports.cloneElement(yt,xt):isFunction$3(yt)?_t=yt(xt):_t=React.createElement(Dot,xt),React.createElement(Layer,{className:"recharts-active-dot",key:xt.key},_t)}),rt},BarChart=generateCategoricalChart({chartName:"BarChart",GraphicalChild:Bar,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:XAxis},{axisType:"yAxis",AxisComp:YAxis}],formatAxisMap}),PieChart=generateCategoricalChart({chartName:"PieChart",GraphicalChild:Pie,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:PolarAngleAxis},{axisType:"radiusAxis",AxisComp:PolarRadiusAxis}],formatAxisMap:formatAxisMap$1,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const SavingsChart=({data:et})=>{const{isDarkMode:tt}=reactExports.useContext(AuthContext),rt={backgroundColor:tt?"#333":"#fff",axisColor:tt?"#ccc":"#000",gridColor:tt?"#888888":"#D1D1D1",tooltipBackgroundColor:tt?"#6D6D6D":"#E7E7E7",barColor:"#FFC700"};return jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:"100%",children:jsxRuntimeExports.jsxs(BarChart,{data:et,margin:{left:-24},children:[jsxRuntimeExports.jsx(CartesianGrid,{stroke:rt.gridColor,strokeDasharray:"5 5"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"name",stroke:rt.axisColor}),jsxRuntimeExports.jsx(YAxis,{stroke:rt.axisColor}),jsxRuntimeExports.jsx(Tooltip,{cursor:{fill:rt.tooltipBackgroundColor}}),jsxRuntimeExports.jsx(Bar,{type:"monotone",dataKey:"存款金額",fill:rt.barColor})]})})};SavingsChart.propTypes={data:PropTypes.array.isRequired};const Statistics=({completed:et,savings:tt,total:rt})=>jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-end items-center gap-1",children:[jsxRuntimeExports.jsx("p",{className:"font-bold text-base leading-6 text-black dark:text-black-0",children:et}),jsxRuntimeExports.jsx("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:"次"})]}),jsxRuntimeExports.jsx("p",{className:"font-normal text-xs leading-4 md:text-sm md:leading-5 text-black dark:text-black-0",children:"完成習慣次數"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-end items-center gap-1",children:[jsxRuntimeExports.jsx("p",{className:"font-bold text-base leading-6 text-black dark:text-black-0",children:tt}),jsxRuntimeExports.jsx("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:"次"})]}),jsxRuntimeExports.jsx("p",{className:"font-normal text-xs leading-4 md:text-sm md:leading-5 text-black dark:text-black-0",children:"存款次數"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-end items-center gap-1",children:[jsxRuntimeExports.jsx("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:"NT$"}),jsxRuntimeExports.jsx("p",{className:"font-bold text-base leading-6 text-black dark:text-black-0",children:rt})]}),jsxRuntimeExports.jsx("p",{className:"font-normal text-xs leading-4 md:text-sm md:leading-5 text-black dark:text-black-0",children:"存款金額"})]})]});Statistics.propTypes={completed:PropTypes.number.isRequired,savings:PropTypes.number.isRequired,total:PropTypes.number.isRequired};const UncompletedHabitsList=({habits:et,getStartAndEndOfPeriod:tt,filter:rt})=>{const nt=(it,at,ot)=>{const st=[];return it.forEach(lt=>{lt.status.forEach(ct=>{const ut=new Date(ct.date);ut.setHours(0,0,0,0);const ft=new Date;ft.setHours(0,0,0,0),ut<ft&&!ct.completed&&ut>=at&&ut<=ot&&st.push({id:lt.id,title:lt.title,date:ct.date,amount:lt.amount})})}),[...st].sort((lt,ct)=>new Date(ct.date)-new Date(lt.date)),st.slice(0,50).map((lt,ct)=>jsxRuntimeExports.jsxs("li",{className:"py-2 px-4 grid grid-cols-5 bg-black-50 dark:bg-black-800 rounded-lg font-normal text-sm leading-5 hover:bg-black-0 dark:hover:bg-black-600",children:[jsxRuntimeExports.jsx("p",{className:"text-black dark:text-black-0",children:String(ct+1).padStart(2,"0")}),jsxRuntimeExports.jsx("p",{className:"text-center text-black dark:text-black-0 overflow-scroll",children:new Date(lt.date).toLocaleDateString()}),jsxRuntimeExports.jsx("p",{className:"text-center col-span-2 text-black dark:text-black-0 truncate",children:lt.title}),jsxRuntimeExports.jsxs("p",{className:"text-center text-black dark:text-black-0 overflow-scroll",children:["NT$",lt.amount]})]},lt.id+lt.date))};return jsxRuntimeExports.jsxs("ul",{className:"space-y-2 mt-4",children:[jsxRuntimeExports.jsxs("li",{className:"py-2 px-4 grid grid-cols-5 border border-black-500 rounded-lg font-normal text-sm leading-5",children:[jsxRuntimeExports.jsx("p",{className:"text-black dark:text-black-0",children:"編號"}),jsxRuntimeExports.jsx("p",{className:"text-center text-black dark:text-black-0",children:"日期"}),jsxRuntimeExports.jsx("p",{className:"text-center col-span-2 text-black dark:text-black-0",children:"習慣名稱"}),jsxRuntimeExports.jsx("p",{className:"text-center text-black dark:text-black-0",children:"習慣存款"})]}),nt(et,tt(rt).startOfPeriod,tt(rt).endOfPeriod)]})};UncompletedHabitsList.propTypes={habits:PropTypes.array.isRequired,getStartAndEndOfPeriod:PropTypes.func.isRequired,filter:PropTypes.string.isRequired};const OverviewSection=({filter:et,setFilter:tt,options:rt,completedCount:nt,savingsCount:it,totalSavings:at,chartData:ot,habits:st,getStartAndEndOfPeriod:lt,customSelectRef:ct})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"p-4 bg-black-50 dark:bg-black-800 rounded-xl space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{className:"relative group flex items-center flex-grow",children:[jsxRuntimeExports.jsx("h2",{className:"font-bold text-xl leading-7 text-black dark:text-black-0",children:"存款總覽"}),jsxRuntimeExports.jsx(modalIcons.TbInfoCircle,{className:"w-6 h-6 text-black-500 dark:text-black-200 ml-2 inline-block cursor-help"}),jsxRuntimeExports.jsx("span",{className:"absolute top-0 left-32 transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto z-50 before:content-[''] before:absolute before:top-7 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark whitespace-normal break-words",children:"結算時間為每日 23:59:59，存款金額為當日未完成的習慣存款金額總和"})]}),jsxRuntimeExports.jsx("div",{className:"relative",ref:ct,children:jsxRuntimeExports.jsx(CustomSelect$1,{options:rt,value:et,onChange:tt})})]}),jsxRuntimeExports.jsx(Statistics,{completed:nt,savings:it,total:at}),jsxRuntimeExports.jsx("div",{className:"w-full h-52",children:jsxRuntimeExports.jsx(SavingsChart,{data:ot})})]}),jsxRuntimeExports.jsx(UncompletedHabitsList,{habits:st,getStartAndEndOfPeriod:lt,filter:et}),it===0&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("p",{className:"text-center mt-2 font-normal text-xs leading-4 md:text-base md:leading-6 text-black dark:text-black-0",children:"找不到相關的存款資料"}),jsxRuntimeExports.jsx("p",{className:"text-center mt-2 font-normal text-xs leading-4 md:text-base md:leading-6 text-black dark:text-black-0",children:"要不要試著培養一些習慣呢？"})]}),it>=50&&jsxRuntimeExports.jsx("p",{className:"text-center mt-2 font-normal text-xs leading-4 md:text-base md:leading-6 text-black dark:text-black-0",children:"僅顯示最新的 50 筆存款記錄"})]});OverviewSection.propTypes={filter:PropTypes.string.isRequired,setFilter:PropTypes.func.isRequired,options:PropTypes.array.isRequired,completedCount:PropTypes.number.isRequired,savingsCount:PropTypes.number.isRequired,totalSavings:PropTypes.number.isRequired,chartData:PropTypes.array.isRequired,habits:PropTypes.array.isRequired,getStartAndEndOfPeriod:PropTypes.func.isRequired,customSelectRef:PropTypes.object.isRequired};const CategoryChart=({categoryData:et,habitCategories:tt})=>{const rt=Object.keys(et).map(nt=>({name:tt.find(it=>it.id===parseInt(nt)).name,value:et[nt]}));return jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:"100%",children:jsxRuntimeExports.jsx(PieChart,{children:jsxRuntimeExports.jsx(Pie,{data:rt,cx:"50%",cy:"50%",innerRadius:80,outerRadius:160,fill:"#8884d8",dataKey:"value",label:!0,children:rt.map((nt,it)=>jsxRuntimeExports.jsx(Cell,{fill:tt.find(at=>at.name===nt.name).color},`cell-${it}`))})})})};CategoryChart.propTypes={categoryData:PropTypes.object.isRequired,habitCategories:PropTypes.array.isRequired};const CategorySection=({filter:et,setFilter:tt,options:rt,savingsCount:nt,categoryData:it,habitCategories:at,customSelectRef:ot})=>jsxRuntimeExports.jsxs("div",{className:`p-4 bg-black-50 dark:bg-black-800 rounded-xl space-y-4 ${nt===0?"min-h-screen":"h-fit"}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{className:"relative group flex items-center flex-grow",children:[jsxRuntimeExports.jsx("h2",{className:"font-bold text-xl leading-7 text-black dark:text-black-0",children:"類別總覽"}),jsxRuntimeExports.jsx(modalIcons.TbInfoCircle,{className:"w-6 h-6 text-black-500 dark:text-black-200 ml-2 inline-block cursor-help"}),jsxRuntimeExports.jsx("span",{className:"absolute top-0 left-[168px] transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto z-50 before:content-[''] before:absolute before:top-7 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark whitespace-normal break-words",children:"來看看你的習慣類別分布吧！哪些類別的習慣讓你累積最多存款呢？"})]}),jsxRuntimeExports.jsx("div",{className:"relative",ref:ot,children:jsxRuntimeExports.jsx(CustomSelect$1,{options:rt,value:et,onChange:tt})})]}),nt===0?jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("p",{className:"text-center font-normal text-base leading-6 text-black dark:text-black-0",children:"找不到相關的存款資料"}),jsxRuntimeExports.jsx("p",{className:"text-center font-normal text-base leading-6 text-black dark:text-black-0",children:"要不要試著培養一些習慣呢？"})]}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"w-full h-[400px]",children:jsxRuntimeExports.jsx(CategoryChart,{categoryData:it,habitCategories:at})}),jsxRuntimeExports.jsx("ul",{className:"space-y-2",children:at.map(st=>jsxRuntimeExports.jsxs("li",{className:"p-2 rounded flex justify-between items-center hover:bg-black-0 dark:hover:bg-black-600",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-6 h-6 rounded-full",style:{backgroundColor:st.color}}),jsxRuntimeExports.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:st.name})]}),jsxRuntimeExports.jsxs("p",{className:"font-bold text-lg leading-6 text-black dark:text-black-0",children:[((it[st.id]||0)/Object.values(it).reduce((lt,ct)=>lt+ct,0)*100).toFixed(1),"%"]})]},st.id))})]})]});CategorySection.propTypes={filter:PropTypes.string.isRequired,setFilter:PropTypes.func.isRequired,options:PropTypes.array.isRequired,savingsCount:PropTypes.number.isRequired,categoryData:PropTypes.object.isRequired,habitCategories:PropTypes.array.isRequired,customSelectRef:PropTypes.object.isRequired};const TypeChart=({typeData:et,habitType:tt})=>{const rt=Object.keys(et).map(nt=>{const it=tt.find(at=>at.id===nt);return it?{name:it.name,value:et[nt]}:null}).filter(nt=>nt!==null);return jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:"100%",children:jsxRuntimeExports.jsx(PieChart,{children:jsxRuntimeExports.jsx(Pie,{data:rt,cx:"50%",cy:"50%",innerRadius:80,outerRadius:160,fill:"#8884d8",dataKey:"value",label:!0,children:rt.map((nt,it)=>jsxRuntimeExports.jsx(Cell,{fill:tt.find(at=>at.name===nt.name).color},`cell-${it}`))})})})};TypeChart.propTypes={typeData:PropTypes.object.isRequired,habitType:PropTypes.array.isRequired};const TypeSection=({filter:et,setFilter:tt,options:rt,savingsCount:nt,typeData:it,habitType:at,customSelectRef:ot})=>jsxRuntimeExports.jsxs("div",{className:`p-4 bg-black-50 dark:bg-black-800 rounded-xl space-y-4 ${nt===0?"min-h-screen":"h-fit"}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{className:"relative group flex items-center flex-grow",children:[jsxRuntimeExports.jsx("h2",{className:"font-bold text-xl leading-7 text-black dark:text-black-0",children:"類型總覽"}),jsxRuntimeExports.jsx(modalIcons.TbInfoCircle,{className:"w-6 h-6 text-black-500 dark:text-black-200 ml-2 inline-block cursor-help"}),jsxRuntimeExports.jsx("span",{className:"absolute top-0 left-[168px] transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto z-50 before:content-[''] before:absolute before:top-7 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark whitespace-normal break-words",children:"來看看你的習慣類型分布吧！你比較擅長養成還是戒除習慣呢？"})]}),jsxRuntimeExports.jsx("div",{className:"relative",ref:ot,children:jsxRuntimeExports.jsx(CustomSelect$1,{options:rt,value:et,onChange:tt})})]}),nt===0?jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("p",{className:"text-center font-normal text-base leading-6 text-black dark:text-black-0",children:"找不到相關的存款資料"}),jsxRuntimeExports.jsx("p",{className:"text-center font-normal text-base leading-6 text-black dark:text-black-0",children:"要不要試著培養一些習慣呢？"})]}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"w-full h-[400px]",children:jsxRuntimeExports.jsx(TypeChart,{typeData:it,habitType:at})}),jsxRuntimeExports.jsx("ul",{className:"space-y-2",children:at.map(st=>jsxRuntimeExports.jsxs("li",{className:"p-2 rounded flex justify-between items-center hover:bg-black-0 dark:hover:bg-black-600",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-6 h-6 rounded-full",style:{backgroundColor:st.color}}),jsxRuntimeExports.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:st.name})]}),jsxRuntimeExports.jsxs("p",{className:"font-bold text-lg leading-6 text-black dark:text-black-0",children:[((it[st.id]||0)/Object.values(it).reduce((lt,ct)=>lt+ct,0)*100).toFixed(1),"%"]})]},st.id))})]})]});TypeSection.propTypes={filter:PropTypes.string.isRequired,setFilter:PropTypes.func.isRequired,options:PropTypes.array.isRequired,savingsCount:PropTypes.number.isRequired,typeData:PropTypes.object.isRequired,habitType:PropTypes.array.isRequired,customSelectRef:PropTypes.object.isRequired};function Savings(){const[et,tt]=reactExports.useState("overview"),[rt,nt]=reactExports.useState("week"),[it]=reactExports.useState([{value:"week",label:"本週"},{value:"month",label:"本月"},{value:"year",label:"本年"}]),[at,ot]=reactExports.useState(0),[st,lt]=reactExports.useState(0),[ct,ut]=reactExports.useState(0),[ft,ht]=reactExports.useState([]),[dt,vt]=reactExports.useState({}),[yt,xt]=reactExports.useState({}),[_t,mt]=reactExports.useState([]),{user:pt}=reactExports.useContext(AuthContext),bt=reactExports.useRef(null),Et=[{id:0,name:"生產力",color:"#FF6961"},{id:1,name:"個人成長",color:"#FFB480"},{id:2,name:"運動健身",color:"#FFE552"},{id:3,name:"飲食健康",color:"#42D6A4"},{id:4,name:"心靈成長",color:"#08CAD1"},{id:5,name:"手作興趣",color:"#59ADF6"},{id:6,name:"財務管理",color:"#9D94FF"},{id:7,name:"環境生活",color:"#C780E8"}],St=[{id:"to-do",name:"養成",color:"#B2B814"},{id:"not-to-do",name:"戒除",color:"#D14D28"}];reactExports.useEffect(()=>{(async()=>{if(pt&&pt.uid){const $t=await getHabits(pt.uid);mt($t);const{startOfPeriod:kt,endOfPeriod:Ct}=Tt(rt),{completed:Bt,savings:Ft,total:Dt,chartData:Mt,categoryData:wt,typeData:Ot}=Pt($t,kt,Ct,rt);ot(Bt),lt(Ft),ut(Dt),ht(Mt),vt(wt),xt(Ot)}})()},[pt,rt]),reactExports.useEffect(()=>{const It=$t=>{bt.current&&!bt.current.contains($t.target)&&bt.current.closeMenu()};return document.addEventListener("mousedown",It),()=>{document.removeEventListener("mousedown",It)}},[]);const Tt=It=>{const $t=new Date;let kt,Ct;return It==="week"?(kt=new Date($t.setDate($t.getDate()-$t.getDay())),Ct=new Date($t.setDate($t.getDate()-$t.getDay()+6))):It==="month"?(kt=new Date($t.getFullYear(),$t.getMonth(),1),Ct=new Date($t.getFullYear(),$t.getMonth()+1,0)):(kt=new Date($t.getFullYear(),0,1),Ct=new Date($t.getFullYear(),11,31)),kt.setHours(0,0,0,0),Ct.setHours(23,59,59,999),{startOfPeriod:kt,endOfPeriod:Ct}},Pt=(It,$t,kt,Ct)=>{let Bt=0,Ft=0,Dt=0,Mt=[],wt={},Ot={};const Lt={};if(Ct==="week")["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].forEach(zt=>{Lt[zt]=0});else if(Ct==="month"){const Vt=Math.ceil((kt.getDate()-$t.getDate()+1)/7);for(let zt=1;zt<=Vt;zt++)Lt[`Week ${zt}`]=0}else["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].forEach(zt=>{Lt[zt]=0});return It.forEach(Vt=>{Vt.status.forEach(zt=>{const Yt=new Date(zt.date);Yt.setHours(0,0,0,0);const nr=new Date;if(nr.setHours(0,0,0,0),Yt<nr&&Yt>=$t&&Yt<=kt){const cr=Rt(Yt,Ct);zt.completed?Bt+=1:(Lt[cr]+=Number(Vt.amount),Ft+=1,Dt+=Number(Vt.amount),wt[Vt.category]||(wt[Vt.category]=0),wt[Vt.category]+=1,Ot[Vt.type]||(Ot[Vt.type]=0),Ot[Vt.type]+=1)}})}),Mt=Object.keys(Lt).map(Vt=>({name:Vt,存款金額:Lt[Vt]})),[...Mt].sort((Vt,zt)=>{if(Ct==="week"){const Yt=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return Yt.indexOf(Vt.name)-Yt.indexOf(zt.name)}else if(Ct==="month"){const Yt=parseInt(Vt.name.split(" ")[1],10),nr=parseInt(zt.name.split(" ")[1],10);return Yt-nr}else{const Yt=new Date(Date.parse(Vt.name+" 1, 2022")).getMonth(),nr=new Date(Date.parse(zt.name+" 1, 2022")).getMonth();return Yt-nr}}),{completed:Bt,savings:Ft,total:Dt,chartData:Mt,categoryData:wt,typeData:Ot}},Rt=(It,$t)=>$t==="week"?It.toLocaleDateString("en-US",{weekday:"short"}):$t==="month"?`Week ${Math.ceil(It.getDate()/7)}`:It.toLocaleDateString("en-US",{month:"short"});return jsxRuntimeExports.jsxs("div",{className:"p-4 md:py-10 space-y-4",children:[jsxRuntimeExports.jsx(TabNavigation$2,{isActiveTab:et,setIsActiveTab:tt}),et==="overview"&&jsxRuntimeExports.jsx(OverviewSection,{completedCount:at,savingsCount:st,totalSavings:ct,filter:rt,setFilter:nt,options:it,chartData:ft,habits:_t,getStartAndEndOfPeriod:Tt,customSelectRef:bt}),et==="category"&&jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx(CategorySection,{filter:rt,setFilter:nt,options:it,savingsCount:st,categoryData:dt,habitCategories:Et,customSelectRef:bt}),jsxRuntimeExports.jsx(TypeSection,{filter:rt,setFilter:nt,options:it,savingsCount:st,typeData:yt,habitType:St,customSelectRef:bt})]})]})}const TabNavigation$1=({isActiveTab:et,setIsActiveTab:tt})=>jsxRuntimeExports.jsxs("ul",{className:"grid grid-cols-2 w-full pb-3",children:[jsxRuntimeExports.jsx("li",{className:`border border-black-500 rounded-s-full py-1 font-normal text-sm leading-5 text-center cursor-pointer ${et==="habit"?"bg-primary":"bg-black-50"}`,onClick:()=>tt("habit"),children:"習慣排行"}),jsxRuntimeExports.jsx("li",{className:`border-e border-y border-black-500 rounded-e-full py-1 font-normal text-sm leading-5 text-center cursor-pointer ${et==="savings"?"bg-primary":"bg-black-50"}`,onClick:()=>tt("savings"),children:"存款排行"})]});TabNavigation$1.propTypes={isActiveTab:PropTypes.string.isRequired,setIsActiveTab:PropTypes.func.isRequired};const DateRange=({getStartAndEndOfWeek:et})=>{const{startOfWeek:tt,endOfWeek:rt}=et();return jsxRuntimeExports.jsxs("p",{className:"text-center font-normal text-base leading-6 text-black dark:text-black-0",children:["在 ",tt.toLocaleDateString(),"～",rt.toLocaleDateString()," 期間"]})};DateRange.propTypes={getStartAndEndOfWeek:PropTypes.func.isRequired};const CongratulationMessage=({userCounts:et,type:tt})=>{var rt;return jsxRuntimeExports.jsxs("div",{className:"flex justify-center items-center gap-x-1 flex-wrap",children:[jsxRuntimeExports.jsx("p",{className:"text-center font-normal text-base leading-6 text-black dark:text-black-0",children:"恭喜"}),jsxRuntimeExports.jsx("p",{className:"font-bold text-xl leading-7 text-black dark:text-black-0",children:((rt=et[0])==null?void 0:rt.name)||"No.1"}),jsxRuntimeExports.jsxs("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:["成為累積最多",tt==="habit"?"次習慣":"存款","的玩家"]})]})};CongratulationMessage.propTypes={userCounts:PropTypes.array.isRequired,type:PropTypes.string.isRequired};const RankIcons=({type:et})=>jsxRuntimeExports.jsx("div",{className:"absolute -top-8 inset-x-0 text-primary flex items-center justify-center",children:et==="habits"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(rankIcons.TbCircleCheck,{className:"w-8 h-8"}),jsxRuntimeExports.jsx(rankIcons.TbCircleCheckFilled,{className:"w-8 h-8"}),jsxRuntimeExports.jsx(rankIcons.TbCircleCheck,{className:"w-8 h-8"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(rankIcons.TbCoin,{className:"w-8 h-8"}),jsxRuntimeExports.jsx(rankIcons.TbCoinFilled,{className:"w-8 h-8"}),jsxRuntimeExports.jsx(rankIcons.TbCoin,{className:"w-8 h-8"})]})});RankIcons.propTypes={type:PropTypes.string.isRequired};const TopTenUsersList=({userCounts:et,type:tt,calculateLevelAndPoints:rt,isLoading:nt})=>{const it=[...et].sort((at,ot)=>tt==="habit"?ot.completedCount-at.completedCount:ot.totalSavings-at.totalSavings);return jsxRuntimeExports.jsxs("ul",{className:"space-y-4",children:[nt&&Array.from({length:10}).map((at,ot)=>jsxRuntimeExports.jsx("li",{className:"p-4 bg-black-50 dark:bg-black-800 rounded-2xl space-y-3 w-full",children:jsxRuntimeExports.jsxs("div",{className:"animate-pulse flex justify-between items-center w-full",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-black-200 rounded-full aspect-square"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1 w-60",children:[jsxRuntimeExports.jsx("div",{className:"w-1/2 h-6 bg-black-200 rounded-lg"}),jsxRuntimeExports.jsx("div",{className:"w-1/3 h-5 bg-black-200 rounded-lg"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-end gap-1 w-60",children:[jsxRuntimeExports.jsx("div",{className:"w-1/2 h-5 bg-black-200 rounded-lg"}),jsxRuntimeExports.jsx("div",{className:"w-1/3 h-6 bg-black-200 rounded-lg"})]})]})},ot)),!nt&&it.slice(0,10).map((at,ot)=>{const{level:st}=rt(at.levelPoints);return jsxRuntimeExports.jsxs("li",{className:"relative flex justify-between items-center py-2 px-4 bg-black-50 dark:bg-black-800 rounded-2xl hover:bg-black-0 dark:hover:bg-black-600",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-3",children:ot<3?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-[-4px]",children:jsxRuntimeExports.jsxs("div",{className:"w-10 h-[68px] flex justify-center items-center bg-primary relative",children:[jsxRuntimeExports.jsx("p",{className:"font-normal text-center text-3xl leading-9 font-lobster text-alert",children:ot+1}),jsxRuntimeExports.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-34px] before:right-0 before:w-0 before:h-0 before:border-l-[20px] before:border-r-0 before:border-b-[12px] before:border-l-transparent before:border-r-transparent before:border-b-black-50 dark:before:border-b-black-800 before:z-20"}),jsxRuntimeExports.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-34px] before:left-0 before:w-0 before:h-0 before:border-l-0 before:border-r-[20px] before:border-b-[12px] before:border-l-transparent before:border-r-transparent before:border-b-black-50 dark:before:border-b-black-800 before:z-20"}),jsxRuntimeExports.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[30px] before:left-5 before:w-0 before:h-0 before:border-l-0 before:border-r-[3px] before:border-b-[4px] before:border-l-transparent before:border-r-transparent before:border-b-primary-dark before:z-20"})]})}),jsxRuntimeExports.jsx("img",{src:at.avatar,alt:"user's avatar",className:"w-12 h-12 rounded-full ml-14 object-cover outline outline-primary-dark dark:outline-primary"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-normal text-lg leading-7 text-black dark:text-black-0",children:at.name}),jsxRuntimeExports.jsxs("p",{className:"font-normal text-sm leading-5 text-black-700 dark:text-black-200",children:["Lv.",st]})]})]}):jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("p",{className:"w-10 h-auto font-normal text-center text-3xl leading-9 font-lobster text-black dark:text-black-0",children:ot+1}),jsxRuntimeExports.jsx("img",{src:at.avatar,alt:"user's avatar",className:"w-12 h-12 rounded-full object-cover outline outline-primary-dark dark:outline-primary"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-normal text-lg leading-7 text-black dark:text-black-0",children:at.name}),jsxRuntimeExports.jsxs("p",{className:"font-normal text-sm leading-5 text-black-700 dark:text-black-200",children:["Lv.",st]})]})]})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-end",children:[jsxRuntimeExports.jsx("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:tt==="habit"?"累積數量":"累積存款"}),tt==="habit"?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("p",{className:"font-bold text-base leading-6 text-black dark:text-black-0",children:at.completedCount}),jsxRuntimeExports.jsx("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:"次"})]}):jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("p",{className:"font-bold text-base leading-6 text-black dark:text-black-0",children:at.totalSavings}),jsxRuntimeExports.jsx("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:"元"})]})]})]},at.uid)})]})};TopTenUsersList.propTypes={userCounts:PropTypes.array,type:PropTypes.string,calculateLevelAndPoints:PropTypes.func,isLoading:PropTypes.bool};const CurrentUser=({userCounts:et,currentUser:tt,type:rt,calculateLevelAndPoints:nt})=>{const it=et.find(st=>st.uid===tt.uid);if(!it)return null;const at=et.findIndex(st=>st.uid===tt.uid)+1,{level:ot}=nt(it.levelPoints);return jsxRuntimeExports.jsxs("div",{className:"flex justify-between py-2 px-4 bg-black-500 dark:bg-black-50 rounded-2xl",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 text-black-0 dark:text-black",children:[jsxRuntimeExports.jsx("p",{className:"w-10 h-auto font-normal text-center text-3xl leading-9 font-lobster text-black-0 dark:text-black",children:at}),jsxRuntimeExports.jsx("img",{src:it.avatar,alt:"user's avatar",className:"w-12 h-12 rounded-full object-cover outline dark:outline-primary-dark outline-primary"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-normal text-lg leading-7 text-white dark:text-black",children:it.name}),jsxRuntimeExports.jsxs("p",{className:"font-normal text-sm leading-5 text-black-200 dark:text-black-700",children:["Lv.",ot]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-end text-black-0 dark:text-black",children:[jsxRuntimeExports.jsx("p",{className:"font-normal text-sm leading-5",children:rt==="habit"?"累積數量":"累積存款"}),rt==="habit"?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("p",{className:"font-bold text-base leading-6 text-black-0 dark:text-black",children:it.completedCount}),jsxRuntimeExports.jsx("p",{className:"font-normal text-sm leading-5 text-black-0 dark:text-black",children:"次"})]}):jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("p",{className:"font-bold text-base leading-6 text-black-0 dark:text-black",children:it.totalSavings}),jsxRuntimeExports.jsx("p",{className:"font-normal text-sm leading-5 text-black-0 dark:text-black",children:"元"})]})]})]})};CurrentUser.propTypes={userCounts:PropTypes.array,currentUser:PropTypes.object,type:PropTypes.string,calculateLevelAndPoints:PropTypes.func};const initialState$1={habitData:{category:null,title:"",frequency:{type:""},amount:0,startDate:"",endDate:"",status:[],type:""},selectedDate:{year:null,month:null,day:null},showMonthCalendar:!1,selectedHabit:null,uncompletedFine:0,monthCalendarDate:null,habits:[],weekDates:[],isLoading:!1},actionTypes$1={SET_HABIT_DATA:"SET_HABIT_DATA",SET_SELECTED_DATE:"SET_SELECTED_DATE",SET_SHOW_MONTH_CALENDAR:"SET_SHOW_MONTH_CALENDAR",SET_SELECTED_HABIT:"SET_SELECTED_HABIT",SET_UNCOMPLETED_FINE:"SET_UNCOMPLETED_FINE",SET_MONTH_CALENDAR_DATE:"SET_MONTH_CALENDAR_DATE",SET_HABITS:"SET_HABITS",SET_WEEK_DATES:"SET_WEEK_DATES",SET_IS_LOADING:"SET_IS_LOADING"};function reducer$1(et,tt){switch(tt.type){case actionTypes$1.SET_HABIT_DATA:return{...et,habitData:tt.payload};case actionTypes$1.SET_SELECTED_DATE:return{...et,selectedDate:tt.payload};case actionTypes$1.SET_SHOW_MONTH_CALENDAR:return{...et,showMonthCalendar:tt.payload};case actionTypes$1.SET_SELECTED_HABIT:return{...et,selectedHabit:tt.payload};case actionTypes$1.SET_UNCOMPLETED_FINE:return{...et,uncompletedFine:tt.payload};case actionTypes$1.SET_MONTH_CALENDAR_DATE:return{...et,monthCalendarDate:tt.payload};case actionTypes$1.SET_HABITS:return{...et,habits:tt.payload};case actionTypes$1.SET_WEEK_DATES:return{...et,weekDates:tt.payload};case actionTypes$1.SET_IS_LOADING:return{...et,isLoading:tt.payload};default:return et}}function Rank(){const[et,tt]=reactExports.useReducer(reducer$1,initialState$1),[rt,nt]=reactExports.useState("habit"),[it,at]=reactExports.useState([]),[ot,st]=reactExports.useState([]),{user:lt}=reactExports.useContext(AuthContext);reactExports.useEffect(()=>{tt({type:actionTypes$1.SET_IS_LOADING,payload:!0}),(async()=>{const{startOfWeek:vt,endOfWeek:yt}=ct();if(rt==="habit"){const _t=[...await ut(vt,yt)].sort((mt,pt)=>pt.completedCount-mt.completedCount);at(_t)}else if(rt==="savings"){const _t=[...await ft(vt,yt)].sort((mt,pt)=>pt.totalSavings-mt.totalSavings);st(_t)}})(),tt({type:actionTypes$1.SET_IS_LOADING,payload:!1})},[rt]);const ct=()=>{const dt=new Date,vt=new Date(dt.setDate(dt.getDate()-dt.getDay())),yt=new Date(dt.setDate(dt.getDate()-dt.getDay()+6));return vt.setHours(0,0,0,0),yt.setHours(23,59,59,999),{startOfWeek:vt,endOfWeek:yt}},ut=async(dt,vt)=>{const yt=await getAllUsers();return await Promise.all(yt.map(async _t=>{const pt=(await getHabits(_t.uid)).reduce((bt,Et)=>bt+Et.status.filter(St=>{const Tt=new Date(St.date);return St.completed&&Tt>=dt&&Tt<=vt}).length,0);return{..._t,completedCount:pt}}))},ft=async(dt,vt)=>{const yt=await getAllUsers(),xt=new Date;return xt.setHours(0,0,0,0),await Promise.all(yt.map(async mt=>{const bt=(await getHabits(mt.uid)).reduce((Et,St)=>{const Tt=St.amount,Pt=St.status.filter(Rt=>{const It=new Date(Rt.date);return!Rt.completed&&It>=dt&&It<=vt&&It<xt}).length;return Et+Pt*Tt},0);return{...mt,totalSavings:bt}}))},ht=dt=>{let vt=Math.floor(dt/100);return vt>99&&(vt=99),{level:vt}};return jsxRuntimeExports.jsxs("div",{className:"p-4 md:pt-10 mb:pb-6 space-y-4",children:[jsxRuntimeExports.jsx(TabNavigation$1,{isActiveTab:rt,setIsActiveTab:nt}),rt==="habit"&&jsxRuntimeExports.jsxs("div",{className:"relative space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 mt-4 bg-black-50 dark:bg-black-800 rounded-lg flex flex-col items-center",children:[jsxRuntimeExports.jsx(DateRange,{getStartAndEndOfWeek:ct}),jsxRuntimeExports.jsx(CongratulationMessage,{userCounts:it,type:"habit"})]}),jsxRuntimeExports.jsx(RankIcons,{type:"habits"}),jsxRuntimeExports.jsx(TopTenUsersList,{userCounts:it,calculateLevelAndPoints:ht,isLoading:et.isLoading,type:"habit"}),jsxRuntimeExports.jsx("div",{className:"sticky bottom-0 left-0 w-full pb-[88px] mb-[88px] md:pb-4 bg-light dark:bg-black-950",children:jsxRuntimeExports.jsx(CurrentUser,{userCounts:it,currentUser:lt,calculateLevelAndPoints:ht,type:"habit"})})]}),rt==="savings"&&jsxRuntimeExports.jsxs("div",{className:"relative space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 mt-4 bg-black-50 dark:bg-black-800 rounded-lg flex flex-col items-center",children:[jsxRuntimeExports.jsx(DateRange,{getStartAndEndOfWeek:ct}),jsxRuntimeExports.jsx(CongratulationMessage,{userCounts:it,type:"savings"})]}),jsxRuntimeExports.jsx(RankIcons,{type:"savings"}),jsxRuntimeExports.jsx(TopTenUsersList,{userCounts:ot,calculateLevelAndPoints:ht,type:"savings"}),jsxRuntimeExports.jsx("div",{className:"sticky bottom-0 left-0 w-full mb-[88px] md:pb-4 bg-light dark:bg-black-950",children:jsxRuntimeExports.jsx(CurrentUser,{userCounts:ot,currentUser:lt,calculateLevelAndPoints:ht,type:"savings"})})]})]})}const UserDetails=({userData:et})=>et?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("img",{src:et.avatar,alt:"avatar",className:"w-12 h-12 object-cover rounded-full outline outline-primary-dark dark:outline-primary"}),jsxRuntimeExports.jsx("p",{className:"font-bold text-lg leading-6 text-black dark:text-black-0",children:et.name})]}):null;UserDetails.propTypes={userData:PropTypes.object};const PostForm=({userData:et,backgrounds:tt,postBackground:rt,setPostBackground:nt,postContent:it,setPostContent:at,handleAddPost:ot,calculateTextColor:st,isHighlighted:lt,handleClick:ct,postRef:ut,isLoading:ft})=>jsxRuntimeExports.jsx("div",{className:"relative",children:jsxRuntimeExports.jsxs("div",{ref:ut,className:"relative bg-black-50 dark:bg-black-800 p-4 rounded-xl space-y-2 md:space-y-3 z-0",onClick:ct,children:[jsxRuntimeExports.jsx("div",{className:`absolute inset-0 rounded-xl -z-10 ${lt?"block":"hidden"}`,style:{boxShadow:"0 0 8px 1px rgba(250, 173, 20, 1)"}}),ft?jsxRuntimeExports.jsxs("div",{className:"animate-pulse space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-black-200 rounded-full"}),jsxRuntimeExports.jsx("div",{className:"w-1/4 h-6 bg-black-200 rounded-lg"})]}),jsxRuntimeExports.jsx("div",{className:"w-2/3 h-6 bg-black-200 rounded-lg"}),jsxRuntimeExports.jsx("div",{className:"w-full min-h-40 h-fit rounded-xl bg-black-200"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(UserDetails,{userData:et}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0 text-nowrap",children:"選擇背景顏色"}),jsxRuntimeExports.jsx("div",{className:"flex gap-4 overflow-scroll",children:tt.map((ht,dt)=>jsxRuntimeExports.jsx("button",{className:"rounded w-6 h-6 flex-shrink-0 flex-grow-0 border border-black-500",style:{backgroundImage:`url(${ht})`,backgroundSize:"cover",backgroundPosition:"center"},onClick:()=>nt(ht)},dt))})]}),jsxRuntimeExports.jsx("div",{className:"w-full min-h-40 h-fit border rounded-xl bg-black-100 p-2 overflow-auto flex justify-center items-center",style:{backgroundImage:`url(${rt})`,backgroundSize:"cover",backgroundPosition:"center"},children:jsxRuntimeExports.jsx("textarea",{className:"w-full h-fit bg-transparent border-none overflow-hidden resize-none outline-none text-center placeholder-black font-normal text-base leading-6 md:text-xl md:leading-7 xl:text-2xl xl:leading-8 break-words whitespace-pre-wrap",placeholder:"輸入貼文內容...",value:it,onChange:ht=>{at(ht.target.value),ht.target.style.height="auto",ht.target.style.height=`${ht.target.scrollHeight}px`},style:{color:st(rt)},rows:"1"})}),jsxRuntimeExports.jsx("div",{className:"text-end",children:jsxRuntimeExports.jsx("button",{className:"py-1 px-3 w-fit bg-primary rounded-lg font-medium text-sm leading-5 md:text-base md:leading-6 hover:bg-primary-dark",onClick:ot,children:"發佈貼文"})})]})]})});PostForm.propTypes={userData:PropTypes.object,backgrounds:PropTypes.array,postBackground:PropTypes.string,setPostBackground:PropTypes.func,postContent:PropTypes.string,setPostContent:PropTypes.func,handleAddPost:PropTypes.func,calculateTextColor:PropTypes.func,isHighlighted:PropTypes.bool,handleClick:PropTypes.func,postRef:PropTypes.object,isLoading:PropTypes.bool};const CustomSelect=({options:et,onChange:tt,theme:rt})=>{const[nt,it]=reactExports.useState(!1),at=ot=>{tt(ot),it(!1)};return reactExports.useEffect(()=>{const ot=st=>{st.target.closest(".custom-select")===null&&it(!1)};return document.addEventListener("mousedown",ot),()=>{document.removeEventListener("mousedown",ot)}},[]),jsxRuntimeExports.jsxs("div",{className:"relative inline-block custom-select",children:[jsxRuntimeExports.jsx(postIcons.TbDots,{className:`w-6 h-6 text-black ${rt==="dark"?"dark:text-black-0":""} cursor-pointer hover:text-alert`,onClick:()=>it(!nt)}),nt&&jsxRuntimeExports.jsx("ul",{className:"absolute z-10 mt-1 w-fit -right-4 bg-white border border-black-500 rounded-2xl shadow-lg text-center text-nowrap overflow-hidden",children:et.map(ot=>jsxRuntimeExports.jsx("li",{className:"px-4 py-2 hover:bg-primary-light cursor-pointer",onClick:()=>at(ot.value),children:ot.label},ot.value))})]})};CustomSelect.propTypes={options:PropTypes.array.isRequired,value:PropTypes.string.isRequired,onChange:PropTypes.func.isRequired,theme:PropTypes.string.isRequired};const CommentItem=({comment:et,post:tt,editingComment:rt,setEditingComment:nt,handleCancelEdit:it,handleUpdate:at,customSelectRef:ot,getTimeDifference:st,handleSelectChange:lt})=>jsxRuntimeExports.jsxs("li",{className:"flex justify-between items-center gap-3",children:[jsxRuntimeExports.jsx("img",{src:et.userAvatar,alt:"user's avatar",className:"w-12 h-12 rounded-full object-cover"}),jsxRuntimeExports.jsxs("div",{className:"bg-black-200 rounded-xl px-4 py-2 w-full flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{className:"w-full md:w-4/5",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-sm leading-5 line-clamp-1",children:et.userName}),jsxRuntimeExports.jsx("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0-700",children:st(et.updatedTime?et.updatedTime.seconds:et.createdTime.seconds)})]}),rt[et.id]?jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 gap-x-2 md:flex md:items-center md:gap-2",children:[jsxRuntimeExports.jsx("input",{type:"text",value:rt[et.id],onChange:ct=>nt({...rt,[et.id]:ct.target.value}),className:"font-normal text-base leading-6 rounded px-2 py-1 w-full bg-black-0 text-black caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark my-1"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-x-2",children:[jsxRuntimeExports.jsx("button",{className:"w-fit text-nowrap font-medium text-sm leading-5 bg-black-100 py-1 md:py-1.5 px-2 rounded hover:bg-black-300",onClick:()=>it(et.id),children:"取消修改"}),jsxRuntimeExports.jsx("button",{className:"w-fit text-nowrap font-medium text-sm leading-5 bg-primary py-1 md:py-1.5 px-2 rounded hover:bg-primary-dark",onClick:()=>at(tt.id,null,et.id),children:"確認修改"})]})]}):jsxRuntimeExports.jsx("p",{className:"font-normal text-base leading-6",children:et.content})]}),rt[et.id]?null:jsxRuntimeExports.jsx("div",{className:"flex flex-col",children:jsxRuntimeExports.jsx(CustomSelect,{ref:ot,options:[{value:"edit",label:"編輯留言"},{value:"delete",label:"刪除留言"}],onChange:ct=>lt(tt,et.id,ct)})})]})]});CommentItem.propTypes={comment:PropTypes.object.isRequired,post:PropTypes.object.isRequired,editingComment:PropTypes.object.isRequired,setEditingComment:PropTypes.func.isRequired,handleCancelEdit:PropTypes.func.isRequired,handleUpdate:PropTypes.func.isRequired,customSelectRef:PropTypes.object.isRequired,getTimeDifference:PropTypes.func.isRequired,handleSelectChange:PropTypes.func.isRequired};const CommentSection=({post:et,commentSection:tt,commentContent:rt,setCommentContent:nt,handleAddComment:it,editingComment:at,setEditingComment:ot,handleCancelEdit:st,handleUpdate:lt,customSelectRef:ct,getTimeDifference:ut,handleSelectChange:ft})=>jsxRuntimeExports.jsxs("ul",{className:`space-y-3 ${tt[et.id]?"block":"hidden"}`,children:[et.comments&&et.comments.map(ht=>jsxRuntimeExports.jsx(CommentItem,{comment:ht,post:et,editingComment:at,setEditingComment:ot,handleCancelEdit:st,handleUpdate:lt,customSelectRef:ct,getTimeDifference:ut,handleSelectChange:ft},ht.id)),jsxRuntimeExports.jsxs("li",{className:"flex justify-between items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"請輸入留言",className:"bg-black-100 text-black py-2 px-4 w-full rounded-2xl placeholder:text-black dark:text-black-0-500  caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark focus:bg-black-0",value:rt,onChange:ht=>nt(ht.target.value)}),jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-primary flex justify-center items-center rounded-full aspect-square cursor-pointer hover:bg-primary-dark",onClick:()=>it(et.id),children:jsxRuntimeExports.jsx(postIcons.TbSend2,{className:"w-6 h-6 text-black"})})]})]});CommentSection.propTypes={post:PropTypes.object.isRequired,commentSection:PropTypes.object.isRequired,commentContent:PropTypes.string.isRequired,setCommentContent:PropTypes.func.isRequired,handleAddComment:PropTypes.func.isRequired,editingComment:PropTypes.object.isRequired,setEditingComment:PropTypes.func.isRequired,handleCancelEdit:PropTypes.func.isRequired,handleUpdate:PropTypes.func.isRequired,customSelectRef:PropTypes.object.isRequired,getTimeDifference:PropTypes.func.isRequired,handleSelectChange:PropTypes.func.isRequired};const PostItem=({post:et,user:tt,handleSelectChange:rt,handleCommentSection:nt,handleLike:it,handleUnlike:at,commentSection:ot,commentContent:st,setCommentContent:lt,handleAddComment:ct,editingComment:ut,setEditingComment:ft,handleCancelEdit:ht,handleUpdate:dt,customSelectRef:vt,calculateTextColor:yt,getTimeDifference:xt})=>jsxRuntimeExports.jsxs("li",{className:"p-4 bg-black-50 dark:bg-black-800 rounded-2xl space-y-3 w-full",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center w-full",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-3 items-center",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12",children:et.user&&jsxRuntimeExports.jsx("img",{src:et.user.avatar,alt:"avatar",className:"w-full h-full object-cover rounded-full outline outline-primary-dark dark:outline-primary"})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col",children:[jsxRuntimeExports.jsx("h3",{className:"font-bold text-lg leading-6 text-black dark:text-black-0",children:et.user?et.user.name:"Unknown"}),jsxRuntimeExports.jsx("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:xt(et.createdTime.seconds)})]})]}),jsxRuntimeExports.jsx(CustomSelect,{ref:vt,options:[{value:"edit",label:"編輯貼文"},{value:"delete",label:"刪除貼文"}],onChange:_t=>rt(et,null,_t)})]}),jsxRuntimeExports.jsx("div",{className:`w-full min-h-52 h-fit flex justify-center items-center p-4 rounded-xl font-normal text-base leading-6 md:text-xl md:leading-7 xl:text-2xl xl:leading-8 ${et.background?"":"bg-slate-100"}`,style:et.background?{backgroundImage:`url(${et.background})`,backgroundSize:"cover",backgroundPosition:"center",color:yt(et.background),wordBreak:"break-word",whiteSpace:"pre-wrap"}:{color:yt(et.background),wordBreak:"break-word",whiteSpace:"pre-wrap"},children:jsxRuntimeExports.jsx("p",{className:"text-center",children:et.content})}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-1",children:[et.likes&&et.likes.includes(tt.uid)?jsxRuntimeExports.jsx(postIcons.TbHeartFilled,{className:"w-6 h-6 cursor-pointer text-alert",onClick:()=>at(et.id)}):jsxRuntimeExports.jsx(postIcons.TbHeart,{className:"w-6 h-6 cursor-pointer text-black dark:text-black-0 hover:text-alert",onClick:()=>it(et.id)}),jsxRuntimeExports.jsx("p",{className:"text-black dark:text-black-0 font-normal text-base leading-6",children:et.likes?et.likes.length:0})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-1",children:[jsxRuntimeExports.jsx(postIcons.TbMessageChatbot,{className:"w-6 h-6 cursor-pointer text-black dark:text-black-0 hover:text-black dark:hover:text-black-200",onClick:()=>nt(et.id)}),jsxRuntimeExports.jsx("p",{className:"text-black dark:text-black-0 font-normal text-base leading-6",children:et.comments?et.comments.length:0})]})]}),jsxRuntimeExports.jsx(CommentSection,{post:et,commentSection:ot,commentContent:st,setCommentContent:lt,handleAddComment:ct,editingComment:ut,setEditingComment:ft,handleCancelEdit:ht,handleUpdate:dt,customSelectRef:vt,getTimeDifference:xt,handleSelectChange:rt})]});PostItem.propTypes={post:PropTypes.object.isRequired,user:PropTypes.object.isRequired,handleSelectChange:PropTypes.func.isRequired,handleCommentSection:PropTypes.func.isRequired,handleLike:PropTypes.func.isRequired,handleUnlike:PropTypes.func.isRequired,commentSection:PropTypes.object.isRequired,commentContent:PropTypes.string.isRequired,setCommentContent:PropTypes.func.isRequired,handleAddComment:PropTypes.func.isRequired,editingComment:PropTypes.object.isRequired,setEditingComment:PropTypes.func.isRequired,handleCancelEdit:PropTypes.func.isRequired,handleUpdate:PropTypes.func.isRequired,customSelectRef:PropTypes.object.isRequired,calculateTextColor:PropTypes.func.isRequired,getTimeDifference:PropTypes.func.isRequired};const PostList=({posts:et,filter:tt,user:rt,handleSelectChange:nt,handleCommentSection:it,handleLike:at,handleUnlike:ot,commentSection:st,commentContent:lt,setCommentContent:ct,handleAddComment:ut,editingComment:ft,setEditingComment:ht,handleCancelEdit:dt,handleUpdate:vt,customSelectRef:yt,calculateTextColor:xt,getTimeDifference:_t,isLoading:mt})=>{const pt=tt==="personal"?et.filter(bt=>bt.userID===rt.uid):et;return jsxRuntimeExports.jsxs("ul",{className:"space-y-4",children:[mt&&Array.from({length:pt.length}).map((bt,Et)=>jsxRuntimeExports.jsx("li",{className:"p-4 bg-black-50 dark:bg-black-800 rounded-2xl space-y-3 w-full",children:jsxRuntimeExports.jsxs("div",{className:"animate-pulse space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-black-200 rounded-full aspect-square"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1 w-full",children:[jsxRuntimeExports.jsx("div",{className:"w-1/4 h-6 bg-black-200 rounded-lg"}),jsxRuntimeExports.jsx("div",{className:"w-1/6 h-5 bg-black-200 rounded-lg"})]})]}),jsxRuntimeExports.jsx("div",{className:"w-full min-h-40 h-fit rounded-xl bg-black-200"})]})},Et)),!mt&&pt.map(bt=>jsxRuntimeExports.jsx(PostItem,{post:bt,user:rt,handleSelectChange:nt,handleCommentSection:it,handleLike:at,handleUnlike:ot,commentSection:st,commentContent:lt,setCommentContent:ct,handleAddComment:ut,editingComment:ft,setEditingComment:ht,handleCancelEdit:dt,handleUpdate:vt,customSelectRef:yt,calculateTextColor:xt,getTimeDifference:_t,isLoading:mt},bt.id))]})};PostList.propTypes={posts:PropTypes.array.isRequired,filter:PropTypes.string.isRequired,user:PropTypes.object.isRequired,handleSelectChange:PropTypes.func.isRequired,handleCommentSection:PropTypes.func.isRequired,handleLike:PropTypes.func.isRequired,handleUnlike:PropTypes.func.isRequired,commentSection:PropTypes.object.isRequired,commentContent:PropTypes.string.isRequired,setCommentContent:PropTypes.func.isRequired,handleAddComment:PropTypes.func.isRequired,editingComment:PropTypes.object.isRequired,setEditingComment:PropTypes.func.isRequired,handleCancelEdit:PropTypes.func.isRequired,handleUpdate:PropTypes.func.isRequired,customSelectRef:PropTypes.object.isRequired,calculateTextColor:PropTypes.func.isRequired,getTimeDifference:PropTypes.func.isRequired,isLoading:PropTypes.bool};const ConfirmModal=({showConfirmModal:et,setShowConfirmModal:tt,confirmAction:rt})=>et?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-black-800 p-4 rounded-xl shadow-lg",children:[jsxRuntimeExports.jsx("p",{className:"text-black dark:text-white mb-4",children:"你確定要執行這個操作嗎？"}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{className:"py-1 px-3 bg-gray-300 rounded-lg",onClick:()=>tt(!1),children:"取消"}),jsxRuntimeExports.jsx("button",{className:"py-1 px-3 bg-primary rounded-lg text-black",onClick:()=>{rt(),tt(!1)},children:"確認"})]})]})}):null;ConfirmModal.propTypes={showConfirmModal:PropTypes.bool.isRequired,setShowConfirmModal:PropTypes.func.isRequired,confirmAction:PropTypes.func.isRequired};const BackgroundSelect=({backgrounds:et,setPostBackground:tt,isOpen:rt,setIsOpen:nt})=>jsxRuntimeExports.jsx("div",{className:`absolute top-16 left-0 right-0 z-10 bg-black-0 border border-black-500 rounded-lg py-2 px-4 ${rt?"block":"hidden"}`,children:jsxRuntimeExports.jsx("div",{className:"flex gap-4 overflow-scroll",children:et.map((it,at)=>jsxRuntimeExports.jsx("button",{className:"rounded w-6 h-6 flex-shrink-0 flex-grow-0",style:{backgroundImage:`url(${it})`,backgroundSize:"cover",backgroundPosition:"center"},onClick:()=>{tt(it),nt(!1)}},at))})});BackgroundSelect.propTypes={backgrounds:PropTypes.array.isRequired,setPostBackground:PropTypes.func.isRequired,isOpen:PropTypes.bool.isRequired,setIsOpen:PropTypes.func.isRequired};const PostModal=({postContent:et,setPostContent:tt,postBackground:rt,setPostBackground:nt,handleAddPost:it,handlePostModal:at,user:ot,isEditMode:st,handleUpdatePost:lt,calculateTextColor:ct})=>{const[ut,ft]=reactExports.useState([]),[ht,dt]=reactExports.useState(!1),[vt,yt]=reactExports.useState(null);return reactExports.useEffect(()=>{(async()=>{const _t=await getPostBackgrounds();ft(_t)})()},[]),reactExports.useEffect(()=>{(async()=>{if(ot&&ot.uid){const _t=await getUserProfile(ot.uid);yt(_t)}})()},[ot]),jsxRuntimeExports.jsxs("div",{className:"space-y-4 relative",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10",children:vt&&vt.avatar?jsxRuntimeExports.jsx("img",{src:vt.avatar,alt:"avatar",className:"w-full h-full object-cover rounded-full"}):jsxRuntimeExports.jsx("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:"No Image"})}),jsxRuntimeExports.jsx("h3",{className:"font-bold text-base leading-6 text-black dark:text-black-0",children:vt&&vt.name?vt.name:"Unknown"})]}),jsxRuntimeExports.jsx(modalIcons.TbX,{className:"w-6 h-6 hover:text-alert cursor-pointer text-black dark:text-black-0",onClick:at})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center gap-4",children:[jsxRuntimeExports.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0 text-nowrap",children:"選擇背景顏色"}),jsxRuntimeExports.jsx("div",{className:"flex gap-4 overflow-scroll",children:ut.map((xt,_t)=>jsxRuntimeExports.jsx("button",{className:"rounded w-6 h-6 flex-shrink-0 flex-grow-0 border border-black-500",style:{backgroundImage:`url(${xt})`,backgroundSize:"cover",backgroundPosition:"center"},onClick:()=>nt(xt)},_t))})]}),jsxRuntimeExports.jsx(BackgroundSelect,{backgrounds:ut,setPostBackground:nt,isOpen:ht,setIsOpen:dt}),jsxRuntimeExports.jsx("div",{className:"w-full min-h-40 h-fit border rounded-xl bg-black-100 p-2 overflow-auto flex justify-center items-center",style:{backgroundImage:`url(${rt})`,backgroundSize:"cover",backgroundPosition:"center"},children:jsxRuntimeExports.jsx("textarea",{className:"w-full h-full bg-transparent border-none resize-none outline-none text-center placeholder-black font-normal text-base leading-6 md:text-xl md:leading-7 xl:text-2xl xl:leading-8",placeholder:"輸入貼文內容...",value:et,onChange:xt=>tt(xt.target.value),style:{color:ct(rt)}})}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[st&&jsxRuntimeExports.jsx("button",{className:"py-1 w-full bg-black-100 rounded-lg font-medium text-sm leading-5 hover:bg-black-300",onClick:at,children:"取消修改"}),jsxRuntimeExports.jsx("button",{className:"py-1 w-full bg-primary rounded-lg font-medium text-sm leading-5 hover:bg-primary-dark",onClick:st?lt:it,children:st?"確認修改":"發佈貼文"})]})]})};PostModal.propTypes={postContent:PropTypes.string.isRequired,setPostContent:PropTypes.func.isRequired,postBackground:PropTypes.string.isRequired,setPostBackground:PropTypes.func.isRequired,handleAddPost:PropTypes.func.isRequired,handlePostModal:PropTypes.func.isRequired,user:PropTypes.object,isEditMode:PropTypes.bool,handleUpdatePost:PropTypes.func,calculateTextColor:PropTypes.func.isRequired};const addPostNotify=()=>SuccessToast("今天也是快樂的貓咪日"),updatePostNotify=()=>SuccessToast("已更新貼文！"),deletePostNotify=()=>SuccessToast("已刪除貼文！"),addCommentNotify=()=>SuccessToast("已新增留言！"),updateCommentNotify=()=>SuccessToast("已更新留言！"),deleteCommentNotify=()=>SuccessToast("已刪除留言！"),contentAlertNotify=()=>AlertToast("沒有內容不能發布喔！"),authorAlertNotify=()=>AlertToast("你沒有權限執行這個行為！"),SuccessNotify={addPostNotify,updatePostNotify,deletePostNotify,addCommentNotify,updateCommentNotify,deleteCommentNotify},AlertNotify={contentAlertNotify,authorAlertNotify},initialState={posts:[],filter:"all",options:[{label:"全部貼文",value:"all"},{label:"僅限自己",value:"personal"}],commentSection:{},commentContent:"",editingComment:{},currentPost:null,postContent:"",postBackground:"",backgrounds:[],isHighlighted:!1,userData:null,showConfirmModal:!1,confirmAction:null,isLoading:!1},actionTypes={SET_POST:"SET_POST",SET_FILTER:"SET_FILTER",SET_COMMENT_SECTION:"SET_COMMENT_SECTION",SET_COMMENT_CONTENT:"SET_COMMENT_CONTENT",SET_EDITING_COMMENT:"SET_EDITING_COMMENT",SET_CURRENT_POST:"SET_CURRENT_POST",SET_POST_CONTENT:"SET_POST_CONTENT",SET_POST_BACKGROUND:"SET_POST_BACKGROUND",SET_BACKGROUNDS:"SET_BACKGROUNDS",SET_IS_HIGHLIGHTED:"SET_IS_HIGHLIGHTED",SET_USER_DATA:"SET_USER_DATA",SET_SHOW_CONFIRM_MODAL:"SET_SHOW_CONFIRM_MODAL",SET_CONFIRM_ACTION:"SET_CONFIRM_ACTION",SET_IS_LOADING:"SET_IS_LOADING"};function reducer(et,tt){switch(tt.type){case actionTypes.SET_POST:return{...et,posts:tt.payload};case actionTypes.SET_FILTER:return{...et,filter:tt.payload};case actionTypes.SET_COMMENT_SECTION:return{...et,commentSection:tt.payload};case actionTypes.SET_COMMENT_CONTENT:return{...et,commentContent:tt.payload};case actionTypes.SET_EDITING_COMMENT:return{...et,editingComment:tt.payload};case actionTypes.SET_CURRENT_POST:return{...et,currentPost:tt.payload};case actionTypes.SET_POST_CONTENT:return{...et,postContent:tt.payload};case actionTypes.SET_POST_BACKGROUND:return{...et,postBackground:tt.payload};case actionTypes.SET_BACKGROUNDS:return{...et,backgrounds:tt.payload};case actionTypes.SET_IS_HIGHLIGHTED:return{...et,isHighlighted:tt.payload};case actionTypes.SET_USER_DATA:return{...et,userData:tt.payload};case actionTypes.SET_SHOW_CONFIRM_MODAL:return{...et,showConfirmModal:tt.payload};case actionTypes.SET_CONFIRM_ACTION:return{...et,confirmAction:tt.payload};case actionTypes.SET_IS_LOADING:return{...et,isLoading:tt.payload};default:return et}}function Posts(){const[et,tt]=reactExports.useReducer(reducer,initialState),[rt,nt]=reactExports.useState(!1),{user:it}=reactExports.useContext(AuthContext),at=reactExports.useRef(null),ot=reactExports.useRef(null);reactExports.useEffect(()=>{(async()=>{tt({type:actionTypes.SET_IS_LOADING,payload:!0});const Pt=await getAllPosts(),Rt=await Promise.all(Pt.map(async It=>{const $t=await getUserProfile(It.userID),kt=await getComments(It.id);return{...It,user:$t,comments:kt}}));tt({type:actionTypes.SET_POST,payload:Rt}),tt({type:actionTypes.SET_IS_LOADING,payload:!1})})()},[]),reactExports.useEffect(()=>{(async()=>{const Pt=await getPostBackgrounds();tt({type:actionTypes.SET_BACKGROUNDS,payload:Pt})})()},[]),reactExports.useEffect(()=>{(async()=>{if(it&&it.uid){const Pt=await getUserProfile(it.uid);tt({type:actionTypes.SET_USER_DATA,payload:Pt})}})()},[it]),reactExports.useEffect(()=>{const Tt=Pt=>{ot.current&&!ot.current.contains(Pt.target)&&ot.current.closeMenu()};return document.addEventListener("mousedown",Tt),()=>{document.removeEventListener("mousedown",Tt)}},[]);const st=et.filter==="personal"?et.posts.filter(Tt=>Tt.userID===it.uid):et.posts,lt=Tt=>{tt({type:actionTypes.SET_COMMENT_SECTION,payload:{...et.commentSection,[Tt]:!et.commentSection[Tt]}})},ct=async Tt=>{if(!et.commentContent.trim()){AlertNotify.contentAlertNotify();return}const Pt=await getUserProfile(it.uid),Rt={content:et.commentContent,userID:it.uid,userName:Pt.name,userAvatar:Pt.avatar};await addComment(Tt,Rt),tt({type:actionTypes.SET_COMMENT_CONTENT,payload:""});const It=await getComments(Tt);tt({type:actionTypes.SET_POST,payload:et.posts.map($t=>$t.id===Tt?{...$t,comments:It}:$t)}),SuccessNotify.addCommentNotify()},ut=Tt=>{tt({type:actionTypes.SET_EDITING_COMMENT,payload:{...et.editingComment,[Tt]:""}})},ft=(Tt,Pt)=>{if(et.posts.find($t=>$t.id===Tt).comments.find($t=>$t.id===Pt).userID!==it.uid){AlertNotify.authorAlertNotify();return}tt({type:actionTypes.SET_CONFIRM_ACTION,payload:async()=>{await deleteComment(Tt,Pt);const $t=await getComments(Tt);tt({type:actionTypes.SET_POST,payload:et.posts.map(kt=>kt.id===Tt?{...kt,comments:$t}:kt)}),SuccessNotify.deleteCommentNotify()}}),tt({type:actionTypes.SET_SHOW_CONFIRM_MODAL,payload:!0})},ht=async Tt=>{if(et.posts.find(Rt=>Rt.id===Tt).userID!==it.uid){AlertNotify.authorAlertNotify();return}tt({type:actionTypes.SET_CONFIRM_ACTION,payload:async()=>{await deletePost(Tt),tt({type:actionTypes.SET_POST,payload:et.posts.filter(Rt=>Rt.id!==Tt)}),SuccessNotify.deletePostNotify()}}),tt({type:actionTypes.SET_SHOW_CONFIRM_MODAL,payload:!0})},dt=(Tt,Pt=null)=>{if(Pt){const Rt=Tt.comments.find(It=>It.id===Pt);if(Rt.userID!==it.uid){AlertNotify.authorAlertNotify();return}tt({type:actionTypes.SET_EDITING_COMMENT,payload:{...et.editingComment,[Pt]:Rt.content}})}else{if(Tt.userID!==it.uid){AlertNotify.authorAlertNotify();return}tt({type:actionTypes.SET_CURRENT_POST,payload:Tt}),nt(!0)}},vt=async(Tt,Pt,Rt=null)=>{if(Rt){const It=et.editingComment[Rt];if(!It.trim()){AlertNotify.contentAlertNotify();return}await updateComment(Tt,Rt,{content:It});const $t=await getComments(Tt);tt({type:actionTypes.SET_POST,payload:et.posts.map(kt=>kt.id===Tt?{...kt,comments:$t}:kt)}),tt({type:actionTypes.SET_EDITING_COMMENT,payload:{...et.editingComment,[Rt]:""}}),SuccessNotify.updateCommentNotify()}else{await updatePost(Tt,Pt);const It=await getAllPosts();tt({type:actionTypes.SET_POST,payload:It}),nt(!1),SuccessNotify.updatePostNotify()}},yt=(Tt,Pt,Rt)=>{Rt==="edit"?dt(Tt,Pt):Rt==="delete"&&(Pt?ft(Tt.id,Pt):ht(Tt.id))},xt=async Tt=>{try{await addLike(Tt,it.uid);const Pt=await getAllPosts(),Rt=await Promise.all(Pt.map(async It=>{const $t=await getUserProfile(It.userID),kt=await getComments(It.id);return{...It,user:$t,comments:kt}}));tt({type:actionTypes.SET_POST,payload:Rt})}catch(Pt){console.error(Pt)}},_t=async Tt=>{try{await removeLike(Tt,it.uid);const Pt=await getAllPosts(),Rt=await Promise.all(Pt.map(async It=>{const $t=await getUserProfile(It.userID),kt=await getComments(It.id);return{...It,user:$t,comments:kt}}));tt({type:actionTypes.SET_POST,payload:Rt})}catch(Pt){console.error(Pt)}},mt=Tt=>{const Pt=new Date,Rt=new Date(Tt*1e3),It=Math.floor((Pt-Rt)/1e3);return It<3600?"剛剛":It<86400?`${Math.floor(It/3600)} 小時前`:It<259200?`${Math.floor(It/86400)} 天前`:Rt.toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit"})},pt=async()=>{if(!et.postContent.trim()){AlertNotify.contentAlertNotify();return}if(it){const Tt=await getUserProfile(it.uid),Pt={content:et.postContent,background:et.postBackground,userID:it.uid,user:Tt,createdTime:{seconds:Math.floor(Date.now()/1e3)},likes:[],comments:[]};await addPost(it.uid,Pt);const Rt=await getAllPosts();tt({type:actionTypes.SET_POST,payload:Rt}),tt({type:actionTypes.SET_POST_CONTENT,payload:""}),tt({type:actionTypes.SET_POST_BACKGROUND,payload:""}),SuccessNotify.addPostNotify();const It=document.querySelector("textarea");It&&(It.style.height="auto")}},bt=Tt=>{if(!Tt)return"black";const Pt=Tt.match(/\d+/g),Rt=parseInt(Pt[0],10),It=parseInt(Pt[1],10),$t=parseInt(Pt[2],10);return(Rt*299+It*587+$t*114)/10>186?"black":"white"},Et=()=>{tt({type:actionTypes.SET_IS_HIGHLIGHTED,payload:!0})},St=Tt=>{at.current&&!at.current.contains(Tt.target)&&tt({type:actionTypes.SET_IS_HIGHLIGHTED,payload:!1})};return reactExports.useEffect(()=>(document.addEventListener("mousedown",St),()=>{document.removeEventListener("mousedown",St)}),[]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"p-4 md:py-10 space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("h2",{className:"font-bold text-xl leading-7 text-black dark:text-black-0",children:"貼文總覽"}),jsxRuntimeExports.jsx("div",{className:"relative",ref:ot,children:jsxRuntimeExports.jsx(CustomSelect$1,{options:et.options,value:et.filter||"all",onChange:Tt=>tt({type:actionTypes.SET_FILTER,payload:Tt})})})]}),jsxRuntimeExports.jsx(PostForm,{postRef:at,isHighlighted:et.isHighlighted,handleClick:Et,backgrounds:et.backgrounds,setPostBackground:Tt=>tt({type:actionTypes.SET_POST_BACKGROUND,payload:Tt}),postBackground:et.postBackground,postContent:et.postContent,setPostContent:Tt=>tt({type:actionTypes.SET_POST_CONTENT,payload:Tt}),handleAddPost:pt,calculateTextColor:bt,userData:et.userData,isLoading:et.isLoading}),jsxRuntimeExports.jsx(PostList,{posts:st,user:it,handleCommentSection:lt,commentSection:et.commentSection,handleAddComment:ct,commentContent:et.commentContent,setCommentContent:Tt=>tt({type:actionTypes.SET_COMMENT_CONTENT,payload:Tt}),editingComment:et.editingComment,setEditingComment:Tt=>tt({type:actionTypes.SET_EDITING_COMMENT,payload:Tt}),handleCancelEdit:ut,handleUpdate:vt,handleSelectChange:yt,handleLike:xt,handleUnlike:_t,getTimeDifference:mt,customSelectRef:ot,calculateTextColor:bt,isLoading:et.isLoading}),et.showConfirmModal&&jsxRuntimeExports.jsx(ConfirmModal,{showConfirmModal:et.showConfirmModal,setShowConfirmModal:Tt=>tt({type:actionTypes.SET_SHOW_CONFIRM_MODAL,payload:Tt}),confirmAction:et.confirmAction})]}),jsxRuntimeExports.jsx(Modal,{isOpen:rt,onRequestClose:()=>nt(!1),children:jsxRuntimeExports.jsx(PostModal,{postContent:et.currentPost?et.currentPost.content:"",setPostContent:Tt=>tt({type:actionTypes.SET_CURRENT_POST,payload:{...et.currentPost,content:Tt}}),postBackground:et.currentPost?et.currentPost.background:"",setPostBackground:Tt=>tt({type:actionTypes.SET_CURRENT_POST,payload:{...et.currentPost,background:Tt}}),handlePostModal:()=>nt(!1),user:it,isEditMode:!0,handleUpdatePost:()=>vt(et.currentPost.id,et.currentPost),calculateTextColor:bt})})]})}const AchievementList=({sortedAchievements:et,userAchievements:tt,handleAchievementModal:rt,isLoading:nt})=>jsxRuntimeExports.jsxs("div",{className:"pt-9 pb-4 px-4 bg-black-50 dark:bg-black-800 space-y-4 rounded-2xl relative",children:[nt?jsxRuntimeExports.jsx("div",{className:"animate-pulse space-y-4",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[jsxRuntimeExports.jsx("div",{className:"w-full h-8 bg-black-200 rounded-lg"}),jsxRuntimeExports.jsx("div",{className:"w-full h-8 bg-black-200 rounded-lg"}),jsxRuntimeExports.jsx("div",{className:"w-full h-8 bg-black-200 rounded-lg"}),jsxRuntimeExports.jsx("div",{className:"w-full h-8 bg-black-200 rounded-lg"}),jsxRuntimeExports.jsx("div",{className:"w-full h-8 bg-black-200 rounded-lg"}),jsxRuntimeExports.jsx("div",{className:"w-full h-8 bg-black-200 rounded-lg"})]})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("ul",{className:"grid grid-cols-2 gap-4 md:grid-cols-3",children:et.slice(0,6).map(it=>{const at=tt.includes(it.id);return jsxRuntimeExports.jsx("li",{className:`py-1 w-full flex justify-center items-center rounded-lg border-2 cursor-default ${at?"opacity-100 border-primary-dark bg-light":"opacity-50 border-black-500 bg-black-100 dark:border-black-300"}`,children:jsxRuntimeExports.jsx("p",{className:`font-normal text-base leading-6 md:text-xl md:leading-7 stroke-text ${at?"text-primary z-0":"text-black"}`,"data-stroke":at?it.name:"",children:it.name})},it.id)})}),jsxRuntimeExports.jsx("button",{className:"text-center w-full bg-primary rounded-xl font-medium text-sm leading-5 py-1 hover:bg-primary-dark",onClick:rt,children:"更多成就"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-primary py-1 px-4 w-fit absolute -top-12 left-1/2 transform -translate-x-1/2",children:[jsxRuntimeExports.jsx("p",{className:"font-lobster font-normal text-2xl leading-8 text-alert",children:"Achievement"}),jsxRuntimeExports.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[-16px] before:w-0 before:h-0 before:border-l-[20px] before:border-r-0 before:border-t-[12px] before:border-l-primary before:border-r-transparent before:border-t-primary-dark before:z-20"}),jsxRuntimeExports.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[114px] before:w-0 before:h-0 before:border-r-[20px] before:border-l-0 before:border-t-[12px] before:border-r-primary before:border-l-transparent before:border-t-primary-dark before:z-20"}),jsxRuntimeExports.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[-46px] before:w-8 before:h-10 before:bg-primary"}),jsxRuntimeExports.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[134px] before:w-8 before:h-10 before:bg-primary"}),jsxRuntimeExports.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[166px] before:w-0 before:h-0 before:border-l-0 before:border-r-[20px] before:border-b-[20px] before:border-l-transparent before:border-r-transparent before:border-b-primary before:z-20"}),jsxRuntimeExports.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-1 before:left-[166px] before:w-0 before:h-0 before:border-l-0 before:border-r-[20px] before:border-t-[20px] before:border-l-transparent before:border-r-transparent before:border-t-primary before:z-20"}),jsxRuntimeExports.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[-66px] before:w-0 before:h-0 before:border-l-[20px] before:border-r-0 before:border-b-[20px] before:border-l-transparent before:border-r-transparent before:border-b-primary before:z-20"}),jsxRuntimeExports.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-1 before:left-[-66px] before:w-0 before:h-0 before:border-l-[20px] before:border-r-0 before:border-t-[20px] before:border-l-transparent before:border-r-transparent before:border-t-primary before:z-20"})]})]});AchievementList.propTypes={sortedAchievements:PropTypes.array.isRequired,userAchievements:PropTypes.array.isRequired,handleAchievementModal:PropTypes.func.isRequired,isLoading:PropTypes.bool};const BadgeList=({sortedBadges:et,userBadges:tt,handleBadgeModal:rt,isLoading:nt})=>jsxRuntimeExports.jsxs("div",{className:"pt-9 pb-4 px-4 bg-black-50 dark:bg-black-800 space-y-4 rounded-2xl relative",children:[nt?jsxRuntimeExports.jsx("div",{className:"animate-pulse space-y-4",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-6 gap-4",children:[jsxRuntimeExports.jsx("div",{className:"w-1/2 h-fit aspect-square bg-black-200 rounded-full mx-auto"}),jsxRuntimeExports.jsx("div",{className:"w-1/2 h-fit aspect-square bg-black-200 rounded-full mx-auto"}),jsxRuntimeExports.jsx("div",{className:"w-1/2 h-fit aspect-square bg-black-200 rounded-full mx-auto"}),jsxRuntimeExports.jsx("div",{className:"w-1/2 h-fit aspect-square bg-black-200 rounded-full mx-auto"}),jsxRuntimeExports.jsx("div",{className:"w-1/2 h-fit aspect-square bg-black-200 rounded-full mx-auto"}),jsxRuntimeExports.jsx("div",{className:"w-1/2 h-fit aspect-square bg-black-200 rounded-full mx-auto"})]})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("ul",{className:"grid grid-cols-3 gap-4 md:grid-cols-6",children:et.slice(0,6).map((it,at)=>jsxRuntimeExports.jsx("li",{className:"relative w-full h-fit",children:jsxRuntimeExports.jsx("img",{src:it.image,alt:`Badge ${at}`,className:`w-full h-full object-cover ${tt.includes(it.id)?"opacity-100":"opacity-30"}`})},it.id))}),jsxRuntimeExports.jsx("button",{className:"text-center w-full bg-primary rounded-xl font-medium text-sm leading-5 py-1 hover:bg-primary-dark",onClick:rt,children:"更多獎勵徽章"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-primary py-1 px-4 w-[150px] absolute -top-12 left-1/2 transform -translate-x-1/2",children:[jsxRuntimeExports.jsx("p",{className:"font-lobster font-normal text-2xl leading-8 text-alert text-center",children:"Badge"}),jsxRuntimeExports.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[-16px] before:w-0 before:h-0 before:border-l-[20px] before:border-r-0 before:border-t-[13px] before:border-l-primary before:border-r-transparent before:border-t-primary-dark before:z-20"}),jsxRuntimeExports.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[114px] before:w-0 before:h-0 before:border-r-[20px] before:border-l-0 before:border-t-[13px] before:border-r-primary before:border-l-transparent before:border-t-primary-dark before:z-20"}),jsxRuntimeExports.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[-46px] before:w-8 before:h-10 before:bg-primary"}),jsxRuntimeExports.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[134px] before:w-8 before:h-10 before:bg-primary"}),jsxRuntimeExports.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[166px] before:w-0 before:h-0 before:border-l-0 before:border-r-[20px] before:border-b-[20px] before:border-l-transparent before:border-r-transparent before:border-b-primary before:z-20"}),jsxRuntimeExports.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-1 before:left-[166px] before:w-0 before:h-0 before:border-l-0 before:border-r-[20px] before:border-t-[20px] before:border-l-transparent before:border-r-transparent before:border-t-primary before:z-20"}),jsxRuntimeExports.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[-66px] before:w-0 before:h-0 before:border-l-[20px] before:border-r-0 before:border-b-[20px] before:border-l-transparent before:border-r-transparent before:border-b-primary before:z-20"}),jsxRuntimeExports.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-1 before:left-[-66px] before:w-0 before:h-0 before:border-l-[20px] before:border-r-0 before:border-t-[20px] before:border-l-transparent before:border-r-transparent before:border-t-primary before:z-20"})]})]});BadgeList.propTypes={sortedBadges:PropTypes.array.isRequired,userBadges:PropTypes.array.isRequired,handleBadgeModal:PropTypes.func.isRequired,isLoading:PropTypes.bool};const AchievementModal=({handleAchievementModal:et,userAchievements:tt,sortedAchievements:rt})=>jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("h3",{className:"font-bold text-lg leading-7 text-black dark:text-black-0",children:"你的成就"}),jsxRuntimeExports.jsx(modalIcons.TbX,{className:"w-8 h-8 cursor-pointer hover:text-alert text-black dark:text-black-0",onClick:et})]}),jsxRuntimeExports.jsx("div",{className:"max-h-56 overflow-scroll",children:jsxRuntimeExports.jsx("ul",{className:"grid grid-cols-2 gap-4",children:rt.map(nt=>{const it=tt.includes(nt.id);return jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("div",{className:`py-1 w-full flex justify-center items-center rounded-lg border-2 cursor-default ${it?"opacity-100 border-primary-dark bg-light":"opacity-50 border-black-500 bg-black-100 text-black dark:border-black-300"}`,children:jsxRuntimeExports.jsx("p",{className:`font-normal text-base leading-6 md:text-xl md:leading-7 stroke-text ${it?"text-primary z-0":"text-black"}`,"data-stroke":it?nt.name:"",children:nt.name})}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-black dark:text-black-0 text-center font-normal text-xs leading-4 md:text-sm md:leading-5",children:nt.description})]},nt.id)})})})]});AchievementModal.propTypes={handleAchievementModal:PropTypes.func.isRequired,achievements:PropTypes.array.isRequired,userAchievements:PropTypes.array.isRequired,sortedAchievements:PropTypes.array.isRequired};const BadgeModal=({handleBadgeModal:et,sortedBadges:tt,userBadges:rt})=>jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("h3",{className:"font-bold text-lg leading-7 text-black dark:text-black-0",children:"你的獎勵徽章"}),jsxRuntimeExports.jsx(modalIcons.TbX,{className:"w-8 h-8 cursor-pointer hover:text-alert text-black dark:text-black-0",onClick:et})]}),jsxRuntimeExports.jsx("div",{className:"max-h-56 overflow-scroll",children:jsxRuntimeExports.jsx("ul",{className:"grid grid-cols-3 gap-4",children:tt.map((nt,it)=>jsxRuntimeExports.jsxs("li",{className:"relative w-full h-fit",children:[jsxRuntimeExports.jsx("img",{src:nt.image,alt:`Badge ${it}`,className:`w-full h-full object-cover ${rt.includes(nt.id)?"opacity-100":"opacity-30"}`}),jsxRuntimeExports.jsx("div",{className:"mt-1 text-black dark:text-black-0 text-center font-normal text-xs leading-4 md:text-sm md:leading-5",children:nt.description})]},nt.id))})})]});BadgeModal.propTypes={handleBadgeModal:PropTypes.func.isRequired,sortedBadges:PropTypes.array.isRequired,userBadges:PropTypes.array.isRequired};const TabNavigation=({isActiveTab:et,setIsActiveTab:tt})=>jsxRuntimeExports.jsxs("ul",{className:"grid grid-cols-2 w-full",children:[jsxRuntimeExports.jsx("li",{className:`border border-black-500 rounded-s-full py-1 font-normal text-sm leading-5 text-center cursor-pointer ${et==="member"?"bg-primary":"bg-black-50"}`,onClick:()=>tt("member"),children:"會員管理"}),jsxRuntimeExports.jsx("li",{className:`border-e border-y border-black-500 rounded-e-full py-1 font-normal text-sm leading-5 text-center cursor-pointer ${et==="history"?"bg-primary":"bg-black-50"}`,onClick:()=>tt("history"),children:"歷史習慣"})]});TabNavigation.propTypes={isActiveTab:PropTypes.bool.isRequired,setIsActiveTab:PropTypes.func.isRequired};const MemberInformation=({profileData:et,currentImage:tt,level:rt,points:nt,isLoading:it})=>jsxRuntimeExports.jsx("div",{className:"p-4 bg-black-50 dark:bg-black-800 rounded-2xl",children:it?jsxRuntimeExports.jsxs("div",{className:"animate-pulse space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-black-200 rounded-full"}),jsxRuntimeExports.jsx("div",{className:"w-1/4 h-6 bg-black-200 rounded-lg"})]}),jsxRuntimeExports.jsx("div",{className:"w-2/3 h-6 bg-black-200 rounded-lg"}),jsxRuntimeExports.jsx("div",{className:"w-full h-6 bg-black-200 rounded-xl"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"flex justify-between items-start mb-2",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsx("img",{src:et.avatar,alt:"user's avatar",className:"w-12 h-12 rounded-full outline object-cover outline-primary-dark dark:outline-primary"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col",children:[jsxRuntimeExports.jsx("h3",{className:"font-bold text-base leading-6 text-black dark:text-black-0",children:et.name}),jsxRuntimeExports.jsxs("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:["Lv.",rt]})]})]})}),jsxRuntimeExports.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0 mb-4",children:et.introduction}),jsxRuntimeExports.jsxs("div",{className:"w-full h-6 bg-light dark:bg-black-950 text-center rounded-2xl text-black dark:text-black-0 relative",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-dark h-full rounded-2xl relative",style:{width:`${nt}%`},children:jsxRuntimeExports.jsx("img",{src:tt,alt:"habit piggy",className:"w-14 h-14 absolute top-2/3 transform -translate-y-2/3 z-20 object-cover",style:{right:"-20px"}})}),jsxRuntimeExports.jsxs("span",{className:"absolute inset-0 flex items-center justify-center",children:[nt,"%"]})]})]})});MemberInformation.propTypes={profileData:PropTypes.object.isRequired,currentImage:PropTypes.string.isRequired,level:PropTypes.number.isRequired,points:PropTypes.number.isRequired,isLoading:PropTypes.bool};const updateUserProfileNotify=()=>SuccessToast("更新個人資料成功！"),updateUserProfileErrorNotify=()=>AlertToast("更新個人資料失敗！"),UpdateNotify={updateUserProfileNotify,updateUserProfileErrorNotify};function Member(){const{user:et}=reactExports.useContext(AuthContext),[tt,rt]=reactExports.useReducer(reducer$1,initialState$1),[nt,it]=reactExports.useState(!1),[at,ot]=reactExports.useState(!1),[st,lt]=reactExports.useState(!1),[ct,ut]=reactExports.useState(!1),[ft,ht]=reactExports.useState(!1),[dt,vt]=reactExports.useState("member"),[yt,xt]=reactExports.useState({uid:"",email:"",name:"",introduction:"",avatar:"",levelPoints:0,isAcceptReminder:!1,isDarkMode:!1,achievements:[],badges:[],habits:[]}),[_t,mt]=reactExports.useState([]),[pt,bt]=reactExports.useState(null),[Et,St]=reactExports.useState({category:0,title:"",frequency:"daily",amount:0,startDate:"",endDate:"",status:[]}),[Tt,Pt]=reactExports.useState(0),[Rt,It]=reactExports.useState(!1),[$t,kt]=reactExports.useState(""),Ct=reactExports.useRef(null),[Bt,Ft]=reactExports.useState(null),[Dt,Mt]=reactExports.useState("all"),[wt,Ot]=reactExports.useState([]),[Lt,Vt]=reactExports.useState([]),[zt,Yt]=reactExports.useState([]),[nr,cr]=reactExports.useState([]),[hr,Jt]=reactExports.useState(habitPiggyLoading1),[ur]=reactExports.useState([{label:"全部習慣",value:"all"},{label:"進行中",value:"in-progress"},{label:"已結束",value:"finished"}]),Xt=[{id:0,name:"生產力",icon:habitIcons.TbRocket},{id:1,name:"個人成長",icon:habitIcons.TbBook},{id:2,name:"運動健身",icon:habitIcons.TbWalk},{id:3,name:"飲食健康",icon:habitIcons.TbBowlChopsticks},{id:4,name:"心靈成長",icon:habitIcons.TbMoodHeart},{id:5,name:"手作興趣",icon:habitIcons.TbHandGrab},{id:6,name:"財務管理",icon:habitIcons.TbCash},{id:7,name:"環境生活",icon:habitIcons.TbPlant}],Zt=reactExports.useRef(null);reactExports.useEffect(()=>{(async()=>{if(rt({type:actionTypes$1.SET_IS_LOADING,payload:!0}),et){const dr=await getUserProfile(et.uid);dr&&xt(dr),pr(),Wt(),sr(et.uid),Qt(),_r(et.uid),await ir(et.uid)}})(),rt({type:actionTypes$1.SET_IS_LOADING,payload:!1})},[et]),reactExports.useEffect(()=>{const or=new Date;Ft({year:or.getFullYear(),month:or.getMonth(),day:or.getDate()})},[]),reactExports.useEffect(()=>{const or=dr=>{Zt.current&&!Zt.current.contains(dr.target)&&Zt.current.closeMenu()};return document.addEventListener("mousedown",or),()=>{document.removeEventListener("mousedown",or)}},[]);const ir=async or=>{const dr=["habit","savings","level"];for(const gr of dr){const vr=await calculateTaskValue(or,gr);await checkAndAwardAchievements(or,gr,vr)}},Wt=async()=>{const or=await getAchievements();Ot(or)},sr=async or=>{const dr=await getUserAchievements(or);Vt(dr)},Qt=async()=>{const or=await getBadges();Yt(or)},_r=async or=>{const dr=await getUserBadges(or);cr(dr)},br=()=>{it(!nt)},Er=()=>{ot(!at)},Ut=or=>{St({category:or.category,title:or.title,frequency:or.frequency,amount:or.amount,startDate:or.startDate,endDate:or.endDate,status:or.status,type:or.type}),lt(!st),ot(!1)},qt=()=>{ut(!ct)},Ht=()=>{ht(!ft)},tr=async or=>{if(et&&et.uid)try{await updateUserProfile(et.uid,or),xt(or),UpdateNotify.updateUserProfileNotify()}catch(dr){UpdateNotify.updateUserProfileErrorNotify(),console.error("更新資料失敗",dr)}},rr=async or=>{await tr(or),br()},er=async or=>{const{name:dr,value:gr,files:vr}=or.target;if(dr==="avatar"&&vr&&vr[0]){const Tr=or.target.files[0],Ar=["image/jpeg","image/jpg","image/png","image/gif"];if(!Tr||!Ar.includes(Tr.type))return;try{const $r=await uploadAvatar(et.uid,Tr);xt(wr=>({...wr,avatar:$r}))}catch($r){console.error("上傳頭像失敗",$r)}}else xt(dr==="isDarkMode"||dr==="isAcceptReminder"?Tr=>({...Tr,[dr]:gr==="true"}):Tr=>({...Tr,[dr]:gr}))},lr=or=>{const{name:dr,value:gr}=or.target;if(dr==="frequency"){let vr;gr==="specificDays"?vr={type:gr,days:Et.frequency.days||[]}:gr==="weekly"?vr={type:gr,day:Et.frequency.day||0}:vr={type:gr};const Tr=mr(Et.startDate,Et.endDate,vr);St(Ar=>({...Ar,frequency:vr,status:Tr}))}else if(dr==="startDate"||dr==="endDate"){const vr={...Et,[dr]:gr},Tr=mr(vr.startDate,vr.endDate,vr.frequency);St(Ar=>({...Ar,[dr]:gr,status:Tr}))}else St(vr=>({...vr,[dr]:gr,status:mr(Et.startDate,Et.endDate,Et.frequency)}))},mr=(or,dr,gr)=>{const vr=new Date(or),Tr=new Date(dr),Ar=[];if(gr.type==="daily")for(let $r=vr;$r<=Tr;$r.setDate($r.getDate()+1))Ar.push({date:new Date($r).toDateString(),completed:!1});else if(gr.type==="weekly"){const $r=gr.day;for(let wr=new Date(vr);wr<=Tr;wr.setDate(wr.getDate()+1))wr.getDay()===$r&&Ar.push({date:new Date(wr).toDateString(),completed:!1})}else if(gr.type==="specificDays"){const $r=Object.values(gr.days);for(let wr=vr;wr<=Tr;wr.setDate(wr.getDate()+1))$r.includes(wr.getDay())&&Ar.push({date:new Date(wr).toDateString(),completed:!1})}return Ar},pr=async()=>{if(et)try{const or=await getHabits(et.uid);mt(or)}catch(or){console.error("Error fetching habits: ",or)}},yr=or=>{kt(or),It(!0)},Ir=async()=>{if(et&&pt){const or=new Date(Et.startDate);if(new Date(Et.endDate)<=or){AlertNotify$1.dateErrorNotify();return}const vr={...pt,...Et,id:pt.id,status:mr(Et.startDate,Et.endDate,Et.frequency)};await updateHabit(et.uid,pt.id,vr),await calculateBadges(et.uid),await checkAndAwardBadges(et.uid),pr(),lt(!1),ot(!1),SuccessNotify$1.updateHabitNotify()}else console.error("User not authenticated or habit not selected")},Vr=async()=>{if(et&&pt){await deleteHabit(et.uid,pt.id),await calculateBadges(et.uid),await checkAndAwardBadges(et.uid);const or=await getHabits(et.uid);mt(or),or.filter(gr=>gr.category===pt.category).length===0&&await removeBadge(et.uid,pt.category),pr(),lt(!1),ot(!1),SuccessNotify$1.deleteHabitNotify()}else console.error("User not authenticated or habit not selected")},Mr=or=>{if(Ft(or),$t){const dr=`${or.year}-${String(or.month+1).padStart(2,"0")}-${String(or.day).padStart(2,"0")}`;St(gr=>({...gr,[$t]:dr})),It(!1),kt("")}},Wr=or=>{const dr=new Date;return dr.setHours(0,0,0,0),or.status.filter(vr=>{const Tr=new Date(vr.date);return Tr.setHours(0,0,0,0),Tr<dr&&!vr.completed}).length*or.amount},Fr=or=>{bt(or),Pt(Wr(or)),ot(!0)},Kr=[..._t.filter(or=>{const dr=new Date;dr.setHours(0,0,0,0);const gr=new Date(or.endDate);return gr.setHours(0,0,0,0),Dt==="in-progress"?gr>=dr:Dt==="finished"?gr<dr:!0})].sort((or,dr)=>new Date(dr.endDate)-new Date(or.endDate)),Br=((or,dr)=>[...or].sort((gr,vr)=>{const Tr=dr.includes(gr.id),Ar=dr.includes(vr.id);if(Tr&&!Ar)return-1;if(!Tr&&Ar)return 1;if(!Tr&&!Ar){const $r={habit:1,savings:2,streak:3},wr=$r[gr.condition.type]||4,an=$r[vr.condition.type]||4;if(wr!==an)return wr-an;if(gr.condition.count!==vr.condition.count)return(gr.condition.count||0)-(vr.condition.count||0);if(gr.condition.amount!==vr.condition.amount)return(gr.condition.amount||0)-(vr.condition.amount||0);if(gr.condition.percent!==vr.condition.percent)return(gr.condition.percent||0)-(vr.condition.percent||0)}return 0}))(wt,Lt),vn=((or,dr)=>[...or].sort((gr,vr)=>{const Tr=dr.includes(gr.id),Ar=dr.includes(vr.id);return Tr&&!Ar?-1:!Tr&&Ar?1:0}))(zt,nr),nn=or=>{let dr=Math.floor(or/100);const gr=or%100;return dr>99&&(dr=99),{level:dr,points:gr}},{level:_n,points:bn}=nn(yt.levelPoints);return reactExports.useEffect(()=>{const or=setInterval(()=>{Jt(dr=>dr===habitPiggyLoading1?habitPiggyLoading2:habitPiggyLoading1)},250);return()=>clearInterval(or)},[]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"p-4 md:py-10 space-y-4",children:[jsxRuntimeExports.jsx(TabNavigation,{isActiveTab:dt,setIsActiveTab:vt}),dt==="member"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("h2",{className:"font-bold text-xl leading-7 text-black dark:text-black-0",children:"會員管理"}),jsxRuntimeExports.jsx(settingIcons.TbSettings,{className:"w-8 h-8 cursor-pointer hover:text-alert text-black dark:text-black-0",onClick:br})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-14",children:[jsxRuntimeExports.jsx(MemberInformation,{profileData:yt,currentImage:hr,level:_n,points:bn,isLoading:tt.isLoading}),jsxRuntimeExports.jsx(AchievementList,{sortedAchievements:Br,userAchievements:Lt,handleAchievementModal:qt,isLoading:tt.isLoading}),jsxRuntimeExports.jsx(BadgeList,{sortedBadges:vn,userBadges:nr,handleBadgeModal:Ht,isLoading:tt.isLoading})]})]}),dt==="history"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("h2",{className:"font-bold text-xl leading-7 text-black dark:text-black-0",children:"歷史習慣"}),jsxRuntimeExports.jsx("div",{className:"relative",ref:Zt,children:jsxRuntimeExports.jsx(CustomSelect$1,{options:ur,value:Dt,onChange:Mt})})]}),jsxRuntimeExports.jsx(HabitList,{habits:Kr,habitCategories:Xt,handleDetailClick:Fr})]})]}),jsxRuntimeExports.jsx(Modal,{isOpen:nt,onClose:br,children:jsxRuntimeExports.jsx(SettingModal,{profileData:yt,handleChange:er,handleSaveAndClose:rr,handleSettingModal:br})}),jsxRuntimeExports.jsx(Modal,{isOpen:at,onClose:Er,children:jsxRuntimeExports.jsx(DetailModal,{selectedHabit:pt,handleDetailModal:Er,uncompletedFine:Tt,handleEditModal:Ut,habitCategories:Xt})}),jsxRuntimeExports.jsx(Modal,{isOpen:st,onClose:Ut,children:jsxRuntimeExports.jsx(EditModal,{habitData:Et,handleHabitChange:lr,handleUpdateHabit:Ir,handleFocus:yr,showMonthCalendar:Rt,calendarTarget:$t,calendarRef:Ct,handleEditModal:Ut,handleDeleteHabit:Vr,habitCategories:Xt,setHabitData:St,monthCalendarDate:Bt,handleMonthCalendarSelectDate:Mr,setCalendarTarget:kt,setShowMonthCalendar:It,generateStatusArray:mr})}),jsxRuntimeExports.jsx(Modal,{isOpen:ct,onClose:qt,children:jsxRuntimeExports.jsx(AchievementModal,{handleAchievementModal:qt,userAchievements:Lt,sortedAchievements:Br})}),jsxRuntimeExports.jsx(Modal,{isOpen:ft,onClose:Ht,children:jsxRuntimeExports.jsx(BadgeModal,{handleBadgeModal:Ht,badges:zt,userBadges:nr,sortedBadges:vn})})]})}function Error$1(){return jsxRuntimeExports.jsxs("div",{className:"flex flex-col justify-center items-center h-full",children:[jsxRuntimeExports.jsx("p",{className:"font-normal text-lg leading-6 py-2",children:"There's Nothing Delicious."}),jsxRuntimeExports.jsx("img",{src:HabitPiggyLogo,alt:"Habit Piggy Logo",className:"w-60 h-60"}),jsxRuntimeExports.jsx(Link,{to:"/",className:"font-normal text-lg leading-6 py-2 px-4 bg-primary rounded-2xl hover:bg-primary-dark",children:"Do Habit"})]})}const Sidebar=({isSidebarExpanded:et,toggleSidebar:tt,toggleSidebarInSmallScreen:rt,handleLogout:nt})=>{const it=useLocation();return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:it.pathname!=="/"?jsxRuntimeExports.jsxs("nav",{className:`pt-2 pb-3 px-4 bg-black-50 dark:bg-black-800 sticky bottom-0 md:top-0 md:bottom-auto flex gap-x-4 z-50 border-t border-primary md:p-4 md:flex-col md:justify-between md:border-t-0 md:border-r md:h-svh transition-all duration-200 ease-in-out ${et?"md:w-[240px]":"md:w-20"}`,children:[jsxRuntimeExports.jsxs("div",{className:`hidden md:flex md:items-center ${et?"md:justify-between":"md:justify-center"}`,children:[jsxRuntimeExports.jsx("p",{className:`text-black dark:text-black-0 font-lobster font-normal text-2xl leading-8 ml-6 hidden text-nowrap ${et?"md:block":""}`,children:"Habit Piggy"}),jsxRuntimeExports.jsx(generalIcons.TbLayoutSidebarRight,{className:"w-6 h-6 md:w-8 md:h-8 text-black dark:text-black-0 hover:text-alert cursor-pointer",onClick:tt})]}),jsxRuntimeExports.jsxs("ul",{className:"grid grid-cols-5 items-center w-full md:grid-cols-1 md:gap-4 transition-all duration-200 ease-in-out",children:[jsxRuntimeExports.jsx(Link,{to:"/home",className:"block",onClick:rt,children:jsxRuntimeExports.jsxs("li",{className:`md:py-1 md:px-2 flex flex-col items-center gap-1 ${et?"md:rounded-full md:flex-row hover:md:bg-primary-light":""} ${it.pathname==="/home"&&et?"md:bg-primary":""}`,children:[jsxRuntimeExports.jsx("div",{className:`flex justify-center items-center py-1 px-4 rounded-xl md:px-2 md:aspect-square ${et?"md:bg-transparent dark:bg-transparent":""} ${it.pathname==="/home"?"bg-light dark:bg-black-950":"hover:bg-primary-light"} ${it.pathname==="/home"&&et?"md:bg-transparent hover:bg-primary-light hover:md:bg-transparent":""}`,children:jsxRuntimeExports.jsx(layoutIcons.TbHome2,{className:`w-6 h-6 md:w-8 md:h-8 ${et?"md:text-black dark:text-black-0":""} ${it.pathname==="/home"?"text-primary-dark":"text-black dark:text-black-0"} ${it.pathname==="/home"&&et?"":"md:text-black"} ${it.pathname==="/home"&&!et?"md:text-primary-dark":""}`})}),jsxRuntimeExports.jsx("p",{className:"text-black dark:text-black-0 font-normal text-xs leading-4 text-nowrap md:text-base md:leading-6",children:"主頁"})]})}),jsxRuntimeExports.jsx(Link,{to:"/savings",className:"block",onClick:rt,children:jsxRuntimeExports.jsxs("li",{className:`md:py-1 md:px-2 flex flex-col items-center gap-1 ${et?"md:rounded-full md:flex-row hover:md:bg-primary-light":""} ${it.pathname==="/savings"&&et?"md:bg-primary":""}`,children:[jsxRuntimeExports.jsx("div",{className:`flex justify-center items-center py-1 px-4 rounded-xl md:px-2 md:aspect-square ${et?"md:bg-transparent dark:bg-transparent":""} ${it.pathname==="/savings"?"bg-light dark:bg-black-950":"hover:bg-primary-light"} ${it.pathname==="/savings"&&et?"md:bg-transparent hover:bg-primary-light hover:md:bg-transparent":""}`,children:jsxRuntimeExports.jsx(layoutIcons.TbCoin,{className:`w-6 h-6 md:w-8 md:h-8 ${et?"md:text-black dark:text-black-0":""} ${it.pathname==="/savings"?"text-primary-dark":"text-black dark:text-black-0"} ${it.pathname==="/savings"&&et?"":"md:text-black"} ${it.pathname==="/savings"&&!et?"md:text-primary-dark":""}`})}),jsxRuntimeExports.jsx("p",{className:"text-black dark:text-black-0 font-normal text-xs leading-4 text-nowrap md:text-base md:leading-6",children:"存款"})]})}),jsxRuntimeExports.jsx(Link,{to:"/rank",className:"block",onClick:rt,children:jsxRuntimeExports.jsxs("li",{className:`md:py-1 md:px-2 flex flex-col items-center gap-1 ${et?"md:rounded-full md:flex-row hover:md:bg-primary-light":""} ${it.pathname==="/rank"&&et?"md:bg-primary":""}`,children:[jsxRuntimeExports.jsx("div",{className:`flex justify-center items-center py-1 px-4 rounded-xl md:px-2 md:aspect-square ${et?"md:bg-transparent dark:bg-transparent":""} ${it.pathname==="/rank"?"bg-light dark:bg-black-950":"hover:bg-primary-light"} ${it.pathname==="/rank"&&et?"md:bg-transparent hover:bg-primary-light hover:md:bg-transparent":""}`,children:jsxRuntimeExports.jsx(layoutIcons.TbMedal2,{className:`w-6 h-6 md:w-8 md:h-8 ${et?"md:text-black dark:text-black-0":""} ${it.pathname==="/rank"?"text-primary-dark":"text-black dark:text-black-0"} ${it.pathname==="/rank"&&et?"":"md:text-black"} ${it.pathname==="/rank"&&!et?"md:text-primary-dark":""}`})}),jsxRuntimeExports.jsx("p",{className:"text-black dark:text-black-0 font-normal text-xs leading-4 text-nowrap md:text-base md:leading-6",children:"排行"})]})}),jsxRuntimeExports.jsx(Link,{to:"/posts",className:"block",onClick:rt,children:jsxRuntimeExports.jsxs("li",{className:`md:py-1 md:px-2 flex flex-col items-center gap-1 ${et?"md:rounded-full md:flex-row hover:md:bg-primary-light":""} ${it.pathname==="/posts"&&et?"md:bg-primary":""}`,children:[jsxRuntimeExports.jsx("div",{className:`flex justify-center items-center py-1 px-4 rounded-xl md:px-2 md:aspect-square ${et?"md:bg-transparent dark:bg-transparent":""} ${it.pathname==="/posts"?"bg-light dark:bg-black-950":"hover:bg-primary-light"} ${it.pathname==="/posts"&&et?"md:bg-transparent hover:bg-primary-light hover:md:bg-transparent":""}`,children:jsxRuntimeExports.jsx(layoutIcons.TbMessage,{className:`w-6 h-6 md:w-8 md:h-8 ${et?"md:text-black dark:text-black-0":""} ${it.pathname==="/posts"?"text-primary-dark":"text-black dark:text-black-0"} ${it.pathname==="/posts"&&et?"":"md:text-black"} ${it.pathname==="/posts"&&!et?"md:text-primary-dark":""}`})}),jsxRuntimeExports.jsx("p",{className:"text-black dark:text-black-0 font-normal text-xs leading-4 text-nowrap md:text-base md:leading-6",children:"貼文"})]})}),jsxRuntimeExports.jsx(Link,{to:"/member",className:"block",onClick:rt,children:jsxRuntimeExports.jsxs("li",{className:`md:py-1 md:px-2 flex flex-col items-center gap-1 ${et?"md:rounded-full md:flex-row hover:md:bg-primary-light":""} ${it.pathname==="/member"&&et?"md:bg-primary":""}`,children:[jsxRuntimeExports.jsx("div",{className:`flex justify-center items-center py-1 px-4 rounded-xl md:px-2 md:aspect-square ${et?"md:bg-transparent dark:bg-transparent":""} ${it.pathname==="/member"?"bg-light dark:bg-black-950":"hover:bg-primary-light"} ${it.pathname==="/member"&&et?"md:bg-transparent hover:bg-primary-light hover:md:bg-transparent":""}`,children:jsxRuntimeExports.jsx(layoutIcons.TbMoodSmile,{className:`w-6 h-6 md:w-8 md:h-8 ${et?"md:text-black dark:text-black-0":""} ${it.pathname==="/member"?"text-primary-dark":"text-black dark:text-black-0"} ${it.pathname==="/member"&&et?"":"md:text-black"} ${it.pathname==="/member"&&!et?"md:text-primary-dark":""}`})}),jsxRuntimeExports.jsx("p",{className:"text-black dark:text-black-0 font-normal text-xs leading-4 text-nowrap md:text-base md:leading-6",children:"會員"})]})})]}),jsxRuntimeExports.jsx(Link,{to:"/",className:`hidden md:block ${it.pathname==="/"?"invisible":""}`,onClick:()=>{nt(),rt()},children:jsxRuntimeExports.jsxs("div",{className:`md:py-1 md:px-2 flex flex-col items-center gap-1 ${et?"md:rounded-full md:flex-row hover:md:bg-primary-light":""}`,children:[jsxRuntimeExports.jsx("div",{className:`flex justify-center items-center py-1 px-4 rounded-xl md:px-2 md:aspect-square ${et?"md:bg-transparent dark:bg-transparent":"hover:bg-primary-light"}`,children:jsxRuntimeExports.jsx(generalIcons.TbLogout,{className:`w-6 h-6 md:w-8 md:h-8 dark:text-black-0 ${et?"md:text-black":""}`})}),jsxRuntimeExports.jsx("p",{className:`text-black dark:text-black-0 ${et?"text-base leading-6 text-nowrap":"hidden"}`,children:"登出"})]})})]}):null})};Sidebar.propTypes={isSidebarExpanded:PropTypes.bool.isRequired,toggleSidebar:PropTypes.func.isRequired,toggleSidebarInSmallScreen:PropTypes.func.isRequired,handleLogout:PropTypes.func.isRequired};function Layout({children:et,isModalOpen:tt,modalContent:rt}){const nt=useNavigate(),{setUser:it,isDarkMode:at}=reactExports.useContext(AuthContext),[ot,st]=reactExports.useState(!1),lt=async()=>{await logoutUser(),it(null),nt("/")},ct=()=>{st(!ot)},ut=()=>{window.innerWidth>=1720?st(!0):st(!1)},ft=()=>{window.innerWidth<1720&&ot&&st(!ot)};return reactExports.useEffect(()=>(ut(),window.addEventListener("resize",ut),()=>window.removeEventListener("resize",ut)),[]),jsxRuntimeExports.jsxs("div",{className:`font-huninn bg-light dark:bg-black-950 relative min-h-screen ${at?"dark":""}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col-reverse md:flex-row",children:[jsxRuntimeExports.jsx(Sidebar,{isSidebarExpanded:ot,toggleSidebar:ct,toggleSidebarInSmallScreen:ft,handleLogout:lt}),jsxRuntimeExports.jsx("div",{className:`w-full md:max-w-screen-lg xl:max-w-[1160px] md:px-4 my-0 mx-auto flex flex-col md:flex-row min-h-screen relative ${ot&&window.innerWidth<1536?"blur-sm":""}`,children:jsxRuntimeExports.jsx("div",{className:"mt-0 mb-[86px] md:mb-0 w-full p-0 relative",children:et})})]}),tt&&jsxRuntimeExports.jsx(Modal,{isOpen:tt,children:rt}),jsxRuntimeExports.jsx(Ie,{})]})}Layout.propTypes={children:PropTypes.node,isModalOpen:PropTypes.bool.isRequired,modalContent:PropTypes.node};const PrivateRoute=({children:et})=>{const{user:tt,loading:rt}=reactExports.useContext(AuthContext);if(!rt)return tt?et:jsxRuntimeExports.jsx(Navigate,{to:"/"})};PrivateRoute.propTypes={children:PropTypes.node.isRequired};function App(){return jsxRuntimeExports.jsx(AuthProvider,{children:jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsx(Layout,{children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(Login,{})}),jsxRuntimeExports.jsx(Route,{path:"/home",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(Home,{})})}),jsxRuntimeExports.jsx(Route,{path:"/savings",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(Savings,{})})}),jsxRuntimeExports.jsx(Route,{path:"/rank",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(Rank,{})})}),jsxRuntimeExports.jsx(Route,{path:"/posts",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(Posts,{})})}),jsxRuntimeExports.jsx(Route,{path:"/member",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(Member,{})})}),jsxRuntimeExports.jsx(Route,{path:"*",element:jsxRuntimeExports.jsx(Error$1,{})})]})})})})}createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
