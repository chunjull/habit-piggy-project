function a3(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var ah=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var kO={exports:{}},lg={},EO={exports:{}},$e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fd=Symbol.for("react.element"),o3=Symbol.for("react.portal"),s3=Symbol.for("react.fragment"),l3=Symbol.for("react.strict_mode"),c3=Symbol.for("react.profiler"),u3=Symbol.for("react.provider"),f3=Symbol.for("react.context"),d3=Symbol.for("react.forward_ref"),h3=Symbol.for("react.suspense"),p3=Symbol.for("react.memo"),m3=Symbol.for("react.lazy"),EE=Symbol.iterator;function g3(t){return t===null||typeof t!="object"?null:(t=EE&&t[EE]||t["@@iterator"],typeof t=="function"?t:null)}var SO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},TO=Object.assign,AO={};function oc(t,e,r){this.props=t,this.context=e,this.refs=AO,this.updater=r||SO}oc.prototype.isReactComponent={};oc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};oc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function PO(){}PO.prototype=oc.prototype;function mw(t,e,r){this.props=t,this.context=e,this.refs=AO,this.updater=r||SO}var gw=mw.prototype=new PO;gw.constructor=mw;TO(gw,oc.prototype);gw.isPureReactComponent=!0;var SE=Array.isArray,IO=Object.prototype.hasOwnProperty,yw={current:null},OO={key:!0,ref:!0,__self:!0,__source:!0};function CO(t,e,r){var n,i={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)IO.call(e,n)&&!OO.hasOwnProperty(n)&&(i[n]=e[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:fd,type:t,key:a,ref:o,props:i,_owner:yw.current}}function y3(t,e){return{$$typeof:fd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function vw(t){return typeof t=="object"&&t!==null&&t.$$typeof===fd}function v3(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var TE=/\/+/g;function rv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?v3(""+t.key):e.toString(36)}function Kh(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case fd:case o3:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+rv(o,0):n,SE(i)?(r="",t!=null&&(r=t.replace(TE,"$&/")+"/"),Kh(i,e,r,"",function(c){return c})):i!=null&&(vw(i)&&(i=y3(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(TE,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",SE(t))for(var s=0;s<t.length;s++){a=t[s];var l=n+rv(a,s);o+=Kh(a,e,r,l,i)}else if(l=g3(t),typeof l=="function")for(t=l.call(t),s=0;!(a=t.next()).done;)a=a.value,l=n+rv(a,s++),o+=Kh(a,e,r,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function oh(t,e,r){if(t==null)return t;var n=[],i=0;return Kh(t,n,"","",function(a){return e.call(r,a,i++)}),n}function b3(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ur={current:null},Gh={transition:null},x3={ReactCurrentDispatcher:Ur,ReactCurrentBatchConfig:Gh,ReactCurrentOwner:yw};function NO(){throw Error("act(...) is not supported in production builds of React.")}$e.Children={map:oh,forEach:function(t,e,r){oh(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return oh(t,function(){e++}),e},toArray:function(t){return oh(t,function(e){return e})||[]},only:function(t){if(!vw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};$e.Component=oc;$e.Fragment=s3;$e.Profiler=c3;$e.PureComponent=mw;$e.StrictMode=l3;$e.Suspense=h3;$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=x3;$e.act=NO;$e.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=TO({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=yw.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)IO.call(e,l)&&!OO.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];n.children=s}return{$$typeof:fd,type:t.type,key:i,ref:a,props:n,_owner:o}};$e.createContext=function(t){return t={$$typeof:f3,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:u3,_context:t},t.Consumer=t};$e.createElement=CO;$e.createFactory=function(t){var e=CO.bind(null,t);return e.type=t,e};$e.createRef=function(){return{current:null}};$e.forwardRef=function(t){return{$$typeof:d3,render:t}};$e.isValidElement=vw;$e.lazy=function(t){return{$$typeof:m3,_payload:{_status:-1,_result:t},_init:b3}};$e.memo=function(t,e){return{$$typeof:p3,type:t,compare:e===void 0?null:e}};$e.startTransition=function(t){var e=Gh.transition;Gh.transition={};try{t()}finally{Gh.transition=e}};$e.unstable_act=NO;$e.useCallback=function(t,e){return Ur.current.useCallback(t,e)};$e.useContext=function(t){return Ur.current.useContext(t)};$e.useDebugValue=function(){};$e.useDeferredValue=function(t){return Ur.current.useDeferredValue(t)};$e.useEffect=function(t,e){return Ur.current.useEffect(t,e)};$e.useId=function(){return Ur.current.useId()};$e.useImperativeHandle=function(t,e,r){return Ur.current.useImperativeHandle(t,e,r)};$e.useInsertionEffect=function(t,e){return Ur.current.useInsertionEffect(t,e)};$e.useLayoutEffect=function(t,e){return Ur.current.useLayoutEffect(t,e)};$e.useMemo=function(t,e){return Ur.current.useMemo(t,e)};$e.useReducer=function(t,e,r){return Ur.current.useReducer(t,e,r)};$e.useRef=function(t){return Ur.current.useRef(t)};$e.useState=function(t){return Ur.current.useState(t)};$e.useSyncExternalStore=function(t,e,r){return Ur.current.useSyncExternalStore(t,e,r)};$e.useTransition=function(){return Ur.current.useTransition()};$e.version="18.3.1";EO.exports=$e;var D=EO.exports;const $=nt(D),w3=a3({__proto__:null,default:$},[D]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _3=D,k3=Symbol.for("react.element"),E3=Symbol.for("react.fragment"),S3=Object.prototype.hasOwnProperty,T3=_3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,A3={key:!0,ref:!0,__self:!0,__source:!0};function RO(t,e,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)S3.call(e,n)&&!A3.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:k3,type:t,key:a,ref:o,props:i,_owner:T3.current}}lg.Fragment=E3;lg.jsx=RO;lg.jsxs=RO;kO.exports=lg;var m=kO.exports,jO={exports:{}},dn={},DO={exports:{}},MO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,Q){var ee=V.length;V.push(Q);e:for(;0<ee;){var oe=ee-1>>>1,Z=V[oe];if(0<i(Z,Q))V[oe]=Q,V[ee]=Z,ee=oe;else break e}}function r(V){return V.length===0?null:V[0]}function n(V){if(V.length===0)return null;var Q=V[0],ee=V.pop();if(ee!==Q){V[0]=ee;e:for(var oe=0,Z=V.length,le=Z>>>1;oe<le;){var Ee=2*(oe+1)-1,je=V[Ee],et=Ee+1,Fe=V[et];if(0>i(je,ee))et<Z&&0>i(Fe,je)?(V[oe]=Fe,V[et]=ee,oe=et):(V[oe]=je,V[Ee]=ee,oe=Ee);else if(et<Z&&0>i(Fe,ee))V[oe]=Fe,V[et]=ee,oe=et;else break e}}return Q}function i(V,Q){var ee=V.sortIndex-Q.sortIndex;return ee!==0?ee:V.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],c=[],u=1,f=null,h=3,p=!1,g=!1,b=!1,v=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(V){for(var Q=r(c);Q!==null;){if(Q.callback===null)n(c);else if(Q.startTime<=V)n(c),Q.sortIndex=Q.expirationTime,e(l,Q);else break;Q=r(c)}}function k(V){if(b=!1,x(V),!g)if(r(l)!==null)g=!0,H(T);else{var Q=r(c);Q!==null&&X(k,Q.startTime-V)}}function T(V,Q){g=!1,b&&(b=!1,_(E),E=-1),p=!0;var ee=h;try{for(x(Q),f=r(l);f!==null&&(!(f.expirationTime>Q)||V&&!R());){var oe=f.callback;if(typeof oe=="function"){f.callback=null,h=f.priorityLevel;var Z=oe(f.expirationTime<=Q);Q=t.unstable_now(),typeof Z=="function"?f.callback=Z:f===r(l)&&n(l),x(Q)}else n(l);f=r(l)}if(f!==null)var le=!0;else{var Ee=r(c);Ee!==null&&X(k,Ee.startTime-Q),le=!1}return le}finally{f=null,h=ee,p=!1}}var C=!1,S=null,E=-1,P=5,I=-1;function R(){return!(t.unstable_now()-I<P)}function N(){if(S!==null){var V=t.unstable_now();I=V;var Q=!0;try{Q=S(!0,V)}finally{Q?O():(C=!1,S=null)}}else C=!1}var O;if(typeof y=="function")O=function(){y(N)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,W=F.port2;F.port1.onmessage=N,O=function(){W.postMessage(null)}}else O=function(){v(N,0)};function H(V){S=V,C||(C=!0,O())}function X(V,Q){E=v(function(){V(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,H(T))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(V){switch(h){case 1:case 2:case 3:var Q=3;break;default:Q=h}var ee=h;h=Q;try{return V()}finally{h=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,Q){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var ee=h;h=V;try{return Q()}finally{h=ee}},t.unstable_scheduleCallback=function(V,Q,ee){var oe=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?oe+ee:oe):ee=oe,V){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=ee+Z,V={id:u++,callback:Q,priorityLevel:V,startTime:ee,expirationTime:Z,sortIndex:-1},ee>oe?(V.sortIndex=ee,e(c,V),r(l)===null&&V===r(c)&&(b?(_(E),E=-1):b=!0,X(k,ee-oe))):(V.sortIndex=Z,e(l,V),g||p||(g=!0,H(T))),V},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(V){var Q=h;return function(){var ee=h;h=Q;try{return V.apply(this,arguments)}finally{h=ee}}}})(MO);DO.exports=MO;var P3=DO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I3=D,fn=P3;function ae(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $O=new Set,Yu={};function ms(t,e){Al(t,e),Al(t+"Capture",e)}function Al(t,e){for(Yu[t]=e,t=0;t<e.length;t++)$O.add(e[t])}var Ki=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),x0=Object.prototype.hasOwnProperty,O3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,AE={},PE={};function C3(t){return x0.call(PE,t)?!0:x0.call(AE,t)?!1:O3.test(t)?PE[t]=!0:(AE[t]=!0,!1)}function N3(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function R3(t,e,r,n){if(e===null||typeof e>"u"||N3(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Br(t,e,r,n,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var mr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){mr[t]=new Br(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];mr[e]=new Br(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){mr[t]=new Br(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){mr[t]=new Br(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){mr[t]=new Br(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){mr[t]=new Br(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){mr[t]=new Br(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){mr[t]=new Br(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){mr[t]=new Br(t,5,!1,t.toLowerCase(),null,!1,!1)});var bw=/[\-:]([a-z])/g;function xw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(bw,xw);mr[e]=new Br(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(bw,xw);mr[e]=new Br(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(bw,xw);mr[e]=new Br(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){mr[t]=new Br(t,1,!1,t.toLowerCase(),null,!1,!1)});mr.xlinkHref=new Br("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){mr[t]=new Br(t,1,!1,t.toLowerCase(),null,!0,!0)});function ww(t,e,r,n){var i=mr.hasOwnProperty(e)?mr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(R3(e,r,i,n)&&(r=null),n||i===null?C3(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var oa=I3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sh=Symbol.for("react.element"),Gs=Symbol.for("react.portal"),Xs=Symbol.for("react.fragment"),_w=Symbol.for("react.strict_mode"),w0=Symbol.for("react.profiler"),LO=Symbol.for("react.provider"),FO=Symbol.for("react.context"),kw=Symbol.for("react.forward_ref"),_0=Symbol.for("react.suspense"),k0=Symbol.for("react.suspense_list"),Ew=Symbol.for("react.memo"),xa=Symbol.for("react.lazy"),VO=Symbol.for("react.offscreen"),IE=Symbol.iterator;function zc(t){return t===null||typeof t!="object"?null:(t=IE&&t[IE]||t["@@iterator"],typeof t=="function"?t:null)}var Pt=Object.assign,nv;function fu(t){if(nv===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);nv=e&&e[1]||""}return`
`+nv+t}var iv=!1;function av(t,e){if(!t||iv)return"";iv=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=s);break}}}finally{iv=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?fu(t):""}function j3(t){switch(t.tag){case 5:return fu(t.type);case 16:return fu("Lazy");case 13:return fu("Suspense");case 19:return fu("SuspenseList");case 0:case 2:case 15:return t=av(t.type,!1),t;case 11:return t=av(t.type.render,!1),t;case 1:return t=av(t.type,!0),t;default:return""}}function E0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Xs:return"Fragment";case Gs:return"Portal";case w0:return"Profiler";case _w:return"StrictMode";case _0:return"Suspense";case k0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case FO:return(t.displayName||"Context")+".Consumer";case LO:return(t._context.displayName||"Context")+".Provider";case kw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ew:return e=t.displayName||null,e!==null?e:E0(t.type)||"Memo";case xa:e=t._payload,t=t._init;try{return E0(t(e))}catch{}}return null}function D3(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return E0(e);case 8:return e===_w?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function eo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function UO(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function M3(t){var e=UO(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function lh(t){t._valueTracker||(t._valueTracker=M3(t))}function BO(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=UO(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function xp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function S0(t,e){var r=e.checked;return Pt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function OE(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=eo(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function zO(t,e){e=e.checked,e!=null&&ww(t,"checked",e,!1)}function T0(t,e){zO(t,e);var r=eo(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?A0(t,e.type,r):e.hasOwnProperty("defaultValue")&&A0(t,e.type,eo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function CE(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function A0(t,e,r){(e!=="number"||xp(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var du=Array.isArray;function dl(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+eo(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function P0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ae(91));return Pt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function NE(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(ae(92));if(du(r)){if(1<r.length)throw Error(ae(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:eo(r)}}function WO(t,e){var r=eo(e.value),n=eo(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function RE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function qO(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function I0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?qO(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ch,HO=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ch=ch||document.createElement("div"),ch.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ch.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Qu(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Eu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$3=["Webkit","ms","Moz","O"];Object.keys(Eu).forEach(function(t){$3.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Eu[e]=Eu[t]})});function KO(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Eu.hasOwnProperty(t)&&Eu[t]?(""+e).trim():e+"px"}function GO(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=KO(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var L3=Pt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function O0(t,e){if(e){if(L3[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ae(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ae(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ae(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ae(62))}}function C0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var N0=null;function Sw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var R0=null,hl=null,pl=null;function jE(t){if(t=pd(t)){if(typeof R0!="function")throw Error(ae(280));var e=t.stateNode;e&&(e=hg(e),R0(t.stateNode,t.type,e))}}function XO(t){hl?pl?pl.push(t):pl=[t]:hl=t}function YO(){if(hl){var t=hl,e=pl;if(pl=hl=null,jE(t),e)for(t=0;t<e.length;t++)jE(e[t])}}function QO(t,e){return t(e)}function JO(){}var ov=!1;function ZO(t,e,r){if(ov)return t(e,r);ov=!0;try{return QO(t,e,r)}finally{ov=!1,(hl!==null||pl!==null)&&(JO(),YO())}}function Ju(t,e){var r=t.stateNode;if(r===null)return null;var n=hg(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(ae(231,e,typeof r));return r}var j0=!1;if(Ki)try{var Wc={};Object.defineProperty(Wc,"passive",{get:function(){j0=!0}}),window.addEventListener("test",Wc,Wc),window.removeEventListener("test",Wc,Wc)}catch{j0=!1}function F3(t,e,r,n,i,a,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(u){this.onError(u)}}var Su=!1,wp=null,_p=!1,D0=null,V3={onError:function(t){Su=!0,wp=t}};function U3(t,e,r,n,i,a,o,s,l){Su=!1,wp=null,F3.apply(V3,arguments)}function B3(t,e,r,n,i,a,o,s,l){if(U3.apply(this,arguments),Su){if(Su){var c=wp;Su=!1,wp=null}else throw Error(ae(198));_p||(_p=!0,D0=c)}}function gs(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function eC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function DE(t){if(gs(t)!==t)throw Error(ae(188))}function z3(t){var e=t.alternate;if(!e){if(e=gs(t),e===null)throw Error(ae(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return DE(i),t;if(a===n)return DE(i),e;a=a.sibling}throw Error(ae(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o)throw Error(ae(189))}}if(r.alternate!==n)throw Error(ae(190))}if(r.tag!==3)throw Error(ae(188));return r.stateNode.current===r?t:e}function tC(t){return t=z3(t),t!==null?rC(t):null}function rC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=rC(t);if(e!==null)return e;t=t.sibling}return null}var nC=fn.unstable_scheduleCallback,ME=fn.unstable_cancelCallback,W3=fn.unstable_shouldYield,q3=fn.unstable_requestPaint,Ut=fn.unstable_now,H3=fn.unstable_getCurrentPriorityLevel,Tw=fn.unstable_ImmediatePriority,iC=fn.unstable_UserBlockingPriority,kp=fn.unstable_NormalPriority,K3=fn.unstable_LowPriority,aC=fn.unstable_IdlePriority,cg=null,ui=null;function G3(t){if(ui&&typeof ui.onCommitFiberRoot=="function")try{ui.onCommitFiberRoot(cg,t,void 0,(t.current.flags&128)===128)}catch{}}var zn=Math.clz32?Math.clz32:Q3,X3=Math.log,Y3=Math.LN2;function Q3(t){return t>>>=0,t===0?32:31-(X3(t)/Y3|0)|0}var uh=64,fh=4194304;function hu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ep(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,o=r&268435455;if(o!==0){var s=o&~i;s!==0?n=hu(s):(a&=o,a!==0&&(n=hu(a)))}else o=r&~i,o!==0?n=hu(o):a!==0&&(n=hu(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-zn(e),i=1<<r,n|=t[r],e&=~i;return n}function J3(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Z3(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-zn(a),s=1<<o,l=i[o];l===-1?(!(s&r)||s&n)&&(i[o]=J3(s,e)):l<=e&&(t.expiredLanes|=s),a&=~s}}function M0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function oC(){var t=uh;return uh<<=1,!(uh&4194240)&&(uh=64),t}function sv(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function dd(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-zn(e),t[e]=r}function e5(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-zn(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function Aw(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-zn(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var rt=0;function sC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var lC,Pw,cC,uC,fC,$0=!1,dh=[],Fa=null,Va=null,Ua=null,Zu=new Map,ef=new Map,Ea=[],t5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $E(t,e){switch(t){case"focusin":case"focusout":Fa=null;break;case"dragenter":case"dragleave":Va=null;break;case"mouseover":case"mouseout":Ua=null;break;case"pointerover":case"pointerout":Zu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ef.delete(e.pointerId)}}function qc(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=pd(e),e!==null&&Pw(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function r5(t,e,r,n,i){switch(e){case"focusin":return Fa=qc(Fa,t,e,r,n,i),!0;case"dragenter":return Va=qc(Va,t,e,r,n,i),!0;case"mouseover":return Ua=qc(Ua,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return Zu.set(a,qc(Zu.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,ef.set(a,qc(ef.get(a)||null,t,e,r,n,i)),!0}return!1}function dC(t){var e=$o(t.target);if(e!==null){var r=gs(e);if(r!==null){if(e=r.tag,e===13){if(e=eC(r),e!==null){t.blockedOn=e,fC(t.priority,function(){cC(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=L0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);N0=n,r.target.dispatchEvent(n),N0=null}else return e=pd(r),e!==null&&Pw(e),t.blockedOn=r,!1;e.shift()}return!0}function LE(t,e,r){Xh(t)&&r.delete(e)}function n5(){$0=!1,Fa!==null&&Xh(Fa)&&(Fa=null),Va!==null&&Xh(Va)&&(Va=null),Ua!==null&&Xh(Ua)&&(Ua=null),Zu.forEach(LE),ef.forEach(LE)}function Hc(t,e){t.blockedOn===e&&(t.blockedOn=null,$0||($0=!0,fn.unstable_scheduleCallback(fn.unstable_NormalPriority,n5)))}function tf(t){function e(i){return Hc(i,t)}if(0<dh.length){Hc(dh[0],t);for(var r=1;r<dh.length;r++){var n=dh[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Fa!==null&&Hc(Fa,t),Va!==null&&Hc(Va,t),Ua!==null&&Hc(Ua,t),Zu.forEach(e),ef.forEach(e),r=0;r<Ea.length;r++)n=Ea[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ea.length&&(r=Ea[0],r.blockedOn===null);)dC(r),r.blockedOn===null&&Ea.shift()}var ml=oa.ReactCurrentBatchConfig,Sp=!0;function i5(t,e,r,n){var i=rt,a=ml.transition;ml.transition=null;try{rt=1,Iw(t,e,r,n)}finally{rt=i,ml.transition=a}}function a5(t,e,r,n){var i=rt,a=ml.transition;ml.transition=null;try{rt=4,Iw(t,e,r,n)}finally{rt=i,ml.transition=a}}function Iw(t,e,r,n){if(Sp){var i=L0(t,e,r,n);if(i===null)yv(t,e,n,Tp,r),$E(t,n);else if(r5(i,t,e,r,n))n.stopPropagation();else if($E(t,n),e&4&&-1<t5.indexOf(t)){for(;i!==null;){var a=pd(i);if(a!==null&&lC(a),a=L0(t,e,r,n),a===null&&yv(t,e,n,Tp,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else yv(t,e,n,null,r)}}var Tp=null;function L0(t,e,r,n){if(Tp=null,t=Sw(n),t=$o(t),t!==null)if(e=gs(t),e===null)t=null;else if(r=e.tag,r===13){if(t=eC(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Tp=t,null}function hC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(H3()){case Tw:return 1;case iC:return 4;case kp:case K3:return 16;case aC:return 536870912;default:return 16}default:return 16}}var ja=null,Ow=null,Yh=null;function pC(){if(Yh)return Yh;var t,e=Ow,r=e.length,n,i="value"in ja?ja.value:ja.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[a-n];n++);return Yh=i.slice(t,1<n?1-n:void 0)}function Qh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function hh(){return!0}function FE(){return!1}function hn(t){function e(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(r=t[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?hh:FE,this.isPropagationStopped=FE,this}return Pt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=hh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=hh)},persist:function(){},isPersistent:hh}),e}var sc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cw=hn(sc),hd=Pt({},sc,{view:0,detail:0}),o5=hn(hd),lv,cv,Kc,ug=Pt({},hd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Kc&&(Kc&&t.type==="mousemove"?(lv=t.screenX-Kc.screenX,cv=t.screenY-Kc.screenY):cv=lv=0,Kc=t),lv)},movementY:function(t){return"movementY"in t?t.movementY:cv}}),VE=hn(ug),s5=Pt({},ug,{dataTransfer:0}),l5=hn(s5),c5=Pt({},hd,{relatedTarget:0}),uv=hn(c5),u5=Pt({},sc,{animationName:0,elapsedTime:0,pseudoElement:0}),f5=hn(u5),d5=Pt({},sc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),h5=hn(d5),p5=Pt({},sc,{data:0}),UE=hn(p5),m5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},g5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},y5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function v5(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=y5[t])?!!e[t]:!1}function Nw(){return v5}var b5=Pt({},hd,{key:function(t){if(t.key){var e=m5[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Qh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?g5[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nw,charCode:function(t){return t.type==="keypress"?Qh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),x5=hn(b5),w5=Pt({},ug,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),BE=hn(w5),_5=Pt({},hd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nw}),k5=hn(_5),E5=Pt({},sc,{propertyName:0,elapsedTime:0,pseudoElement:0}),S5=hn(E5),T5=Pt({},ug,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),A5=hn(T5),P5=[9,13,27,32],Rw=Ki&&"CompositionEvent"in window,Tu=null;Ki&&"documentMode"in document&&(Tu=document.documentMode);var I5=Ki&&"TextEvent"in window&&!Tu,mC=Ki&&(!Rw||Tu&&8<Tu&&11>=Tu),zE=" ",WE=!1;function gC(t,e){switch(t){case"keyup":return P5.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ys=!1;function O5(t,e){switch(t){case"compositionend":return yC(e);case"keypress":return e.which!==32?null:(WE=!0,zE);case"textInput":return t=e.data,t===zE&&WE?null:t;default:return null}}function C5(t,e){if(Ys)return t==="compositionend"||!Rw&&gC(t,e)?(t=pC(),Yh=Ow=ja=null,Ys=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return mC&&e.locale!=="ko"?null:e.data;default:return null}}var N5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!N5[t.type]:e==="textarea"}function vC(t,e,r,n){XO(n),e=Ap(e,"onChange"),0<e.length&&(r=new Cw("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Au=null,rf=null;function R5(t){IC(t,0)}function fg(t){var e=Zs(t);if(BO(e))return t}function j5(t,e){if(t==="change")return e}var bC=!1;if(Ki){var fv;if(Ki){var dv="oninput"in document;if(!dv){var HE=document.createElement("div");HE.setAttribute("oninput","return;"),dv=typeof HE.oninput=="function"}fv=dv}else fv=!1;bC=fv&&(!document.documentMode||9<document.documentMode)}function KE(){Au&&(Au.detachEvent("onpropertychange",xC),rf=Au=null)}function xC(t){if(t.propertyName==="value"&&fg(rf)){var e=[];vC(e,rf,t,Sw(t)),ZO(R5,e)}}function D5(t,e,r){t==="focusin"?(KE(),Au=e,rf=r,Au.attachEvent("onpropertychange",xC)):t==="focusout"&&KE()}function M5(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fg(rf)}function $5(t,e){if(t==="click")return fg(e)}function L5(t,e){if(t==="input"||t==="change")return fg(e)}function F5(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Hn=typeof Object.is=="function"?Object.is:F5;function nf(t,e){if(Hn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!x0.call(e,i)||!Hn(t[i],e[i]))return!1}return!0}function GE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function XE(t,e){var r=GE(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=GE(r)}}function wC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?wC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function _C(){for(var t=window,e=xp();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=xp(t.document)}return e}function jw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function V5(t){var e=_C(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&wC(r.ownerDocument.documentElement,r)){if(n!==null&&jw(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=XE(r,a);var o=XE(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var U5=Ki&&"documentMode"in document&&11>=document.documentMode,Qs=null,F0=null,Pu=null,V0=!1;function YE(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;V0||Qs==null||Qs!==xp(n)||(n=Qs,"selectionStart"in n&&jw(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Pu&&nf(Pu,n)||(Pu=n,n=Ap(F0,"onSelect"),0<n.length&&(e=new Cw("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Qs)))}function ph(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Js={animationend:ph("Animation","AnimationEnd"),animationiteration:ph("Animation","AnimationIteration"),animationstart:ph("Animation","AnimationStart"),transitionend:ph("Transition","TransitionEnd")},hv={},kC={};Ki&&(kC=document.createElement("div").style,"AnimationEvent"in window||(delete Js.animationend.animation,delete Js.animationiteration.animation,delete Js.animationstart.animation),"TransitionEvent"in window||delete Js.transitionend.transition);function dg(t){if(hv[t])return hv[t];if(!Js[t])return t;var e=Js[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in kC)return hv[t]=e[r];return t}var EC=dg("animationend"),SC=dg("animationiteration"),TC=dg("animationstart"),AC=dg("transitionend"),PC=new Map,QE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function oo(t,e){PC.set(t,e),ms(e,[t])}for(var pv=0;pv<QE.length;pv++){var mv=QE[pv],B5=mv.toLowerCase(),z5=mv[0].toUpperCase()+mv.slice(1);oo(B5,"on"+z5)}oo(EC,"onAnimationEnd");oo(SC,"onAnimationIteration");oo(TC,"onAnimationStart");oo("dblclick","onDoubleClick");oo("focusin","onFocus");oo("focusout","onBlur");oo(AC,"onTransitionEnd");Al("onMouseEnter",["mouseout","mouseover"]);Al("onMouseLeave",["mouseout","mouseover"]);Al("onPointerEnter",["pointerout","pointerover"]);Al("onPointerLeave",["pointerout","pointerover"]);ms("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ms("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ms("onBeforeInput",["compositionend","keypress","textInput","paste"]);ms("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ms("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ms("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),W5=new Set("cancel close invalid load scroll toggle".split(" ").concat(pu));function JE(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,B3(n,e,void 0,t),t.currentTarget=null}function IC(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var s=n[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;JE(i,s,c),a=l}else for(o=0;o<n.length;o++){if(s=n[o],l=s.instance,c=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;JE(i,s,c),a=l}}}if(_p)throw t=D0,_p=!1,D0=null,t}function mt(t,e){var r=e[q0];r===void 0&&(r=e[q0]=new Set);var n=t+"__bubble";r.has(n)||(OC(e,t,2,!1),r.add(n))}function gv(t,e,r){var n=0;e&&(n|=4),OC(r,t,n,e)}var mh="_reactListening"+Math.random().toString(36).slice(2);function af(t){if(!t[mh]){t[mh]=!0,$O.forEach(function(r){r!=="selectionchange"&&(W5.has(r)||gv(r,!1,t),gv(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[mh]||(e[mh]=!0,gv("selectionchange",!1,e))}}function OC(t,e,r,n){switch(hC(e)){case 1:var i=i5;break;case 4:i=a5;break;default:i=Iw}r=i.bind(null,e,r,t),i=void 0,!j0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function yv(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=$o(s),o===null)return;if(l=o.tag,l===5||l===6){n=a=o;continue e}s=s.parentNode}}n=n.return}ZO(function(){var c=a,u=Sw(r),f=[];e:{var h=PC.get(t);if(h!==void 0){var p=Cw,g=t;switch(t){case"keypress":if(Qh(r)===0)break e;case"keydown":case"keyup":p=x5;break;case"focusin":g="focus",p=uv;break;case"focusout":g="blur",p=uv;break;case"beforeblur":case"afterblur":p=uv;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=VE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=l5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=k5;break;case EC:case SC:case TC:p=f5;break;case AC:p=S5;break;case"scroll":p=o5;break;case"wheel":p=A5;break;case"copy":case"cut":case"paste":p=h5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=BE}var b=(e&4)!==0,v=!b&&t==="scroll",_=b?h!==null?h+"Capture":null:h;b=[];for(var y=c,x;y!==null;){x=y;var k=x.stateNode;if(x.tag===5&&k!==null&&(x=k,_!==null&&(k=Ju(y,_),k!=null&&b.push(of(y,k,x)))),v)break;y=y.return}0<b.length&&(h=new p(h,g,null,r,u),f.push({event:h,listeners:b}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&r!==N0&&(g=r.relatedTarget||r.fromElement)&&($o(g)||g[Gi]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=c,g=g?$o(g):null,g!==null&&(v=gs(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(b=VE,k="onMouseLeave",_="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(b=BE,k="onPointerLeave",_="onPointerEnter",y="pointer"),v=p==null?h:Zs(p),x=g==null?h:Zs(g),h=new b(k,y+"leave",p,r,u),h.target=v,h.relatedTarget=x,k=null,$o(u)===c&&(b=new b(_,y+"enter",g,r,u),b.target=x,b.relatedTarget=v,k=b),v=k,p&&g)t:{for(b=p,_=g,y=0,x=b;x;x=Ds(x))y++;for(x=0,k=_;k;k=Ds(k))x++;for(;0<y-x;)b=Ds(b),y--;for(;0<x-y;)_=Ds(_),x--;for(;y--;){if(b===_||_!==null&&b===_.alternate)break t;b=Ds(b),_=Ds(_)}b=null}else b=null;p!==null&&ZE(f,h,p,b,!1),g!==null&&v!==null&&ZE(f,v,g,b,!0)}}e:{if(h=c?Zs(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var T=j5;else if(qE(h))if(bC)T=L5;else{T=M5;var C=D5}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(T=$5);if(T&&(T=T(t,c))){vC(f,T,r,u);break e}C&&C(t,h,c),t==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&A0(h,"number",h.value)}switch(C=c?Zs(c):window,t){case"focusin":(qE(C)||C.contentEditable==="true")&&(Qs=C,F0=c,Pu=null);break;case"focusout":Pu=F0=Qs=null;break;case"mousedown":V0=!0;break;case"contextmenu":case"mouseup":case"dragend":V0=!1,YE(f,r,u);break;case"selectionchange":if(U5)break;case"keydown":case"keyup":YE(f,r,u)}var S;if(Rw)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Ys?gC(t,r)&&(E="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(mC&&r.locale!=="ko"&&(Ys||E!=="onCompositionStart"?E==="onCompositionEnd"&&Ys&&(S=pC()):(ja=u,Ow="value"in ja?ja.value:ja.textContent,Ys=!0)),C=Ap(c,E),0<C.length&&(E=new UE(E,t,null,r,u),f.push({event:E,listeners:C}),S?E.data=S:(S=yC(r),S!==null&&(E.data=S)))),(S=I5?O5(t,r):C5(t,r))&&(c=Ap(c,"onBeforeInput"),0<c.length&&(u=new UE("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:c}),u.data=S))}IC(f,e)})}function of(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Ap(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Ju(t,r),a!=null&&n.unshift(of(t,a,i)),a=Ju(t,e),a!=null&&n.push(of(t,a,i))),t=t.return}return n}function Ds(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ZE(t,e,r,n,i){for(var a=e._reactName,o=[];r!==null&&r!==n;){var s=r,l=s.alternate,c=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&c!==null&&(s=c,i?(l=Ju(r,a),l!=null&&o.unshift(of(r,l,s))):i||(l=Ju(r,a),l!=null&&o.push(of(r,l,s)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var q5=/\r\n?/g,H5=/\u0000|\uFFFD/g;function eS(t){return(typeof t=="string"?t:""+t).replace(q5,`
`).replace(H5,"")}function gh(t,e,r){if(e=eS(e),eS(t)!==e&&r)throw Error(ae(425))}function Pp(){}var U0=null,B0=null;function z0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var W0=typeof setTimeout=="function"?setTimeout:void 0,K5=typeof clearTimeout=="function"?clearTimeout:void 0,tS=typeof Promise=="function"?Promise:void 0,G5=typeof queueMicrotask=="function"?queueMicrotask:typeof tS<"u"?function(t){return tS.resolve(null).then(t).catch(X5)}:W0;function X5(t){setTimeout(function(){throw t})}function vv(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),tf(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);tf(e)}function Ba(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function rS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var lc=Math.random().toString(36).slice(2),ai="__reactFiber$"+lc,sf="__reactProps$"+lc,Gi="__reactContainer$"+lc,q0="__reactEvents$"+lc,Y5="__reactListeners$"+lc,Q5="__reactHandles$"+lc;function $o(t){var e=t[ai];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Gi]||r[ai]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=rS(t);t!==null;){if(r=t[ai])return r;t=rS(t)}return e}t=r,r=t.parentNode}return null}function pd(t){return t=t[ai]||t[Gi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Zs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ae(33))}function hg(t){return t[sf]||null}var H0=[],el=-1;function so(t){return{current:t}}function wt(t){0>el||(t.current=H0[el],H0[el]=null,el--)}function dt(t,e){el++,H0[el]=t.current,t.current=e}var to={},Ir=so(to),Qr=so(!1),Qo=to;function Pl(t,e){var r=t.type.contextTypes;if(!r)return to;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Jr(t){return t=t.childContextTypes,t!=null}function Ip(){wt(Qr),wt(Ir)}function nS(t,e,r){if(Ir.current!==to)throw Error(ae(168));dt(Ir,e),dt(Qr,r)}function CC(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(ae(108,D3(t)||"Unknown",i));return Pt({},r,n)}function Op(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||to,Qo=Ir.current,dt(Ir,t),dt(Qr,Qr.current),!0}function iS(t,e,r){var n=t.stateNode;if(!n)throw Error(ae(169));r?(t=CC(t,e,Qo),n.__reactInternalMemoizedMergedChildContext=t,wt(Qr),wt(Ir),dt(Ir,t)):wt(Qr),dt(Qr,r)}var Ci=null,pg=!1,bv=!1;function NC(t){Ci===null?Ci=[t]:Ci.push(t)}function J5(t){pg=!0,NC(t)}function lo(){if(!bv&&Ci!==null){bv=!0;var t=0,e=rt;try{var r=Ci;for(rt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Ci=null,pg=!1}catch(i){throw Ci!==null&&(Ci=Ci.slice(t+1)),nC(Tw,lo),i}finally{rt=e,bv=!1}}return null}var tl=[],rl=0,Cp=null,Np=0,bn=[],xn=0,Jo=null,Ni=1,Ri="";function Oo(t,e){tl[rl++]=Np,tl[rl++]=Cp,Cp=t,Np=e}function RC(t,e,r){bn[xn++]=Ni,bn[xn++]=Ri,bn[xn++]=Jo,Jo=t;var n=Ni;t=Ri;var i=32-zn(n)-1;n&=~(1<<i),r+=1;var a=32-zn(e)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Ni=1<<32-zn(e)+i|r<<i|n,Ri=a+t}else Ni=1<<a|r<<i|n,Ri=t}function Dw(t){t.return!==null&&(Oo(t,1),RC(t,1,0))}function Mw(t){for(;t===Cp;)Cp=tl[--rl],tl[rl]=null,Np=tl[--rl],tl[rl]=null;for(;t===Jo;)Jo=bn[--xn],bn[xn]=null,Ri=bn[--xn],bn[xn]=null,Ni=bn[--xn],bn[xn]=null}var cn=null,sn=null,kt=!1,Fn=null;function jC(t,e){var r=kn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function aS(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,cn=t,sn=Ba(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,cn=t,sn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Jo!==null?{id:Ni,overflow:Ri}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=kn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,cn=t,sn=null,!0):!1;default:return!1}}function K0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function G0(t){if(kt){var e=sn;if(e){var r=e;if(!aS(t,e)){if(K0(t))throw Error(ae(418));e=Ba(r.nextSibling);var n=cn;e&&aS(t,e)?jC(n,r):(t.flags=t.flags&-4097|2,kt=!1,cn=t)}}else{if(K0(t))throw Error(ae(418));t.flags=t.flags&-4097|2,kt=!1,cn=t}}}function oS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;cn=t}function yh(t){if(t!==cn)return!1;if(!kt)return oS(t),kt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!z0(t.type,t.memoizedProps)),e&&(e=sn)){if(K0(t))throw DC(),Error(ae(418));for(;e;)jC(t,e),e=Ba(e.nextSibling)}if(oS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ae(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){sn=Ba(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}sn=null}}else sn=cn?Ba(t.stateNode.nextSibling):null;return!0}function DC(){for(var t=sn;t;)t=Ba(t.nextSibling)}function Il(){sn=cn=null,kt=!1}function $w(t){Fn===null?Fn=[t]:Fn.push(t)}var Z5=oa.ReactCurrentBatchConfig;function Gc(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ae(309));var n=r.stateNode}if(!n)throw Error(ae(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(ae(284));if(!r._owner)throw Error(ae(290,t))}return t}function vh(t,e){throw t=Object.prototype.toString.call(e),Error(ae(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function sS(t){var e=t._init;return e(t._payload)}function MC(t){function e(_,y){if(t){var x=_.deletions;x===null?(_.deletions=[y],_.flags|=16):x.push(y)}}function r(_,y){if(!t)return null;for(;y!==null;)e(_,y),y=y.sibling;return null}function n(_,y){for(_=new Map;y!==null;)y.key!==null?_.set(y.key,y):_.set(y.index,y),y=y.sibling;return _}function i(_,y){return _=Ha(_,y),_.index=0,_.sibling=null,_}function a(_,y,x){return _.index=x,t?(x=_.alternate,x!==null?(x=x.index,x<y?(_.flags|=2,y):x):(_.flags|=2,y)):(_.flags|=1048576,y)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function s(_,y,x,k){return y===null||y.tag!==6?(y=Tv(x,_.mode,k),y.return=_,y):(y=i(y,x),y.return=_,y)}function l(_,y,x,k){var T=x.type;return T===Xs?u(_,y,x.props.children,k,x.key):y!==null&&(y.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===xa&&sS(T)===y.type)?(k=i(y,x.props),k.ref=Gc(_,y,x),k.return=_,k):(k=ip(x.type,x.key,x.props,null,_.mode,k),k.ref=Gc(_,y,x),k.return=_,k)}function c(_,y,x,k){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=Av(x,_.mode,k),y.return=_,y):(y=i(y,x.children||[]),y.return=_,y)}function u(_,y,x,k,T){return y===null||y.tag!==7?(y=Ho(x,_.mode,k,T),y.return=_,y):(y=i(y,x),y.return=_,y)}function f(_,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Tv(""+y,_.mode,x),y.return=_,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case sh:return x=ip(y.type,y.key,y.props,null,_.mode,x),x.ref=Gc(_,null,y),x.return=_,x;case Gs:return y=Av(y,_.mode,x),y.return=_,y;case xa:var k=y._init;return f(_,k(y._payload),x)}if(du(y)||zc(y))return y=Ho(y,_.mode,x,null),y.return=_,y;vh(_,y)}return null}function h(_,y,x,k){var T=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return T!==null?null:s(_,y,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case sh:return x.key===T?l(_,y,x,k):null;case Gs:return x.key===T?c(_,y,x,k):null;case xa:return T=x._init,h(_,y,T(x._payload),k)}if(du(x)||zc(x))return T!==null?null:u(_,y,x,k,null);vh(_,x)}return null}function p(_,y,x,k,T){if(typeof k=="string"&&k!==""||typeof k=="number")return _=_.get(x)||null,s(y,_,""+k,T);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case sh:return _=_.get(k.key===null?x:k.key)||null,l(y,_,k,T);case Gs:return _=_.get(k.key===null?x:k.key)||null,c(y,_,k,T);case xa:var C=k._init;return p(_,y,x,C(k._payload),T)}if(du(k)||zc(k))return _=_.get(x)||null,u(y,_,k,T,null);vh(y,k)}return null}function g(_,y,x,k){for(var T=null,C=null,S=y,E=y=0,P=null;S!==null&&E<x.length;E++){S.index>E?(P=S,S=null):P=S.sibling;var I=h(_,S,x[E],k);if(I===null){S===null&&(S=P);break}t&&S&&I.alternate===null&&e(_,S),y=a(I,y,E),C===null?T=I:C.sibling=I,C=I,S=P}if(E===x.length)return r(_,S),kt&&Oo(_,E),T;if(S===null){for(;E<x.length;E++)S=f(_,x[E],k),S!==null&&(y=a(S,y,E),C===null?T=S:C.sibling=S,C=S);return kt&&Oo(_,E),T}for(S=n(_,S);E<x.length;E++)P=p(S,_,E,x[E],k),P!==null&&(t&&P.alternate!==null&&S.delete(P.key===null?E:P.key),y=a(P,y,E),C===null?T=P:C.sibling=P,C=P);return t&&S.forEach(function(R){return e(_,R)}),kt&&Oo(_,E),T}function b(_,y,x,k){var T=zc(x);if(typeof T!="function")throw Error(ae(150));if(x=T.call(x),x==null)throw Error(ae(151));for(var C=T=null,S=y,E=y=0,P=null,I=x.next();S!==null&&!I.done;E++,I=x.next()){S.index>E?(P=S,S=null):P=S.sibling;var R=h(_,S,I.value,k);if(R===null){S===null&&(S=P);break}t&&S&&R.alternate===null&&e(_,S),y=a(R,y,E),C===null?T=R:C.sibling=R,C=R,S=P}if(I.done)return r(_,S),kt&&Oo(_,E),T;if(S===null){for(;!I.done;E++,I=x.next())I=f(_,I.value,k),I!==null&&(y=a(I,y,E),C===null?T=I:C.sibling=I,C=I);return kt&&Oo(_,E),T}for(S=n(_,S);!I.done;E++,I=x.next())I=p(S,_,E,I.value,k),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?E:I.key),y=a(I,y,E),C===null?T=I:C.sibling=I,C=I);return t&&S.forEach(function(N){return e(_,N)}),kt&&Oo(_,E),T}function v(_,y,x,k){if(typeof x=="object"&&x!==null&&x.type===Xs&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case sh:e:{for(var T=x.key,C=y;C!==null;){if(C.key===T){if(T=x.type,T===Xs){if(C.tag===7){r(_,C.sibling),y=i(C,x.props.children),y.return=_,_=y;break e}}else if(C.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===xa&&sS(T)===C.type){r(_,C.sibling),y=i(C,x.props),y.ref=Gc(_,C,x),y.return=_,_=y;break e}r(_,C);break}else e(_,C);C=C.sibling}x.type===Xs?(y=Ho(x.props.children,_.mode,k,x.key),y.return=_,_=y):(k=ip(x.type,x.key,x.props,null,_.mode,k),k.ref=Gc(_,y,x),k.return=_,_=k)}return o(_);case Gs:e:{for(C=x.key;y!==null;){if(y.key===C)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){r(_,y.sibling),y=i(y,x.children||[]),y.return=_,_=y;break e}else{r(_,y);break}else e(_,y);y=y.sibling}y=Av(x,_.mode,k),y.return=_,_=y}return o(_);case xa:return C=x._init,v(_,y,C(x._payload),k)}if(du(x))return g(_,y,x,k);if(zc(x))return b(_,y,x,k);vh(_,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(r(_,y.sibling),y=i(y,x),y.return=_,_=y):(r(_,y),y=Tv(x,_.mode,k),y.return=_,_=y),o(_)):r(_,y)}return v}var Ol=MC(!0),$C=MC(!1),Rp=so(null),jp=null,nl=null,Lw=null;function Fw(){Lw=nl=jp=null}function Vw(t){var e=Rp.current;wt(Rp),t._currentValue=e}function X0(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function gl(t,e){jp=t,Lw=nl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Gr=!0),t.firstContext=null)}function Pn(t){var e=t._currentValue;if(Lw!==t)if(t={context:t,memoizedValue:e,next:null},nl===null){if(jp===null)throw Error(ae(308));nl=t,jp.dependencies={lanes:0,firstContext:t}}else nl=nl.next=t;return e}var Lo=null;function Uw(t){Lo===null?Lo=[t]:Lo.push(t)}function LC(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,Uw(e)):(r.next=i.next,i.next=r),e.interleaved=r,Xi(t,n)}function Xi(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var wa=!1;function Bw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function FC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ui(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function za(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ke&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Xi(t,r)}return i=n.interleaved,i===null?(e.next=e,Uw(n)):(e.next=i.next,i.next=e),n.interleaved=e,Xi(t,r)}function Jh(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Aw(t,r)}}function lS(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Dp(t,e,r,n){var i=t.updateQueue;wa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,c=l.next;l.next=null,o===null?a=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==o&&(s===null?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;o=0,u=c=l=null,s=a;do{var h=s.lane,p=s.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=t,b=s;switch(h=e,p=r,b.tag){case 1:if(g=b.payload,typeof g=="function"){f=g.call(p,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=b.payload,h=typeof g=="function"?g.call(p,f,h):g,h==null)break e;f=Pt({},f,h);break e;case 2:wa=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(c=u=p,l=f):u=u.next=p,o|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);es|=o,t.lanes=o,t.memoizedState=f}}function cS(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(ae(191,i));i.call(n)}}}var md={},fi=so(md),lf=so(md),cf=so(md);function Fo(t){if(t===md)throw Error(ae(174));return t}function zw(t,e){switch(dt(cf,e),dt(lf,t),dt(fi,md),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:I0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=I0(e,t)}wt(fi),dt(fi,e)}function Cl(){wt(fi),wt(lf),wt(cf)}function VC(t){Fo(cf.current);var e=Fo(fi.current),r=I0(e,t.type);e!==r&&(dt(lf,t),dt(fi,r))}function Ww(t){lf.current===t&&(wt(fi),wt(lf))}var Tt=so(0);function Mp(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var xv=[];function qw(){for(var t=0;t<xv.length;t++)xv[t]._workInProgressVersionPrimary=null;xv.length=0}var Zh=oa.ReactCurrentDispatcher,wv=oa.ReactCurrentBatchConfig,Zo=0,At=null,Yt=null,nr=null,$p=!1,Iu=!1,uf=0,e6=0;function br(){throw Error(ae(321))}function Hw(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Hn(t[r],e[r]))return!1;return!0}function Kw(t,e,r,n,i,a){if(Zo=a,At=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Zh.current=t===null||t.memoizedState===null?i6:a6,t=r(n,i),Iu){a=0;do{if(Iu=!1,uf=0,25<=a)throw Error(ae(301));a+=1,nr=Yt=null,e.updateQueue=null,Zh.current=o6,t=r(n,i)}while(Iu)}if(Zh.current=Lp,e=Yt!==null&&Yt.next!==null,Zo=0,nr=Yt=At=null,$p=!1,e)throw Error(ae(300));return t}function Gw(){var t=uf!==0;return uf=0,t}function ti(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nr===null?At.memoizedState=nr=t:nr=nr.next=t,nr}function In(){if(Yt===null){var t=At.alternate;t=t!==null?t.memoizedState:null}else t=Yt.next;var e=nr===null?At.memoizedState:nr.next;if(e!==null)nr=e,Yt=t;else{if(t===null)throw Error(ae(310));Yt=t,t={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},nr===null?At.memoizedState=nr=t:nr=nr.next=t}return nr}function ff(t,e){return typeof e=="function"?e(t):e}function _v(t){var e=In(),r=e.queue;if(r===null)throw Error(ae(311));r.lastRenderedReducer=t;var n=Yt,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var s=o=null,l=null,c=a;do{var u=c.lane;if((Zo&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=f,o=n):l=l.next=f,At.lanes|=u,es|=u}c=c.next}while(c!==null&&c!==a);l===null?o=n:l.next=s,Hn(n,e.memoizedState)||(Gr=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,At.lanes|=a,es|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function kv(t){var e=In(),r=e.queue;if(r===null)throw Error(ae(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);Hn(a,e.memoizedState)||(Gr=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function UC(){}function BC(t,e){var r=At,n=In(),i=e(),a=!Hn(n.memoizedState,i);if(a&&(n.memoizedState=i,Gr=!0),n=n.queue,Xw(qC.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||nr!==null&&nr.memoizedState.tag&1){if(r.flags|=2048,df(9,WC.bind(null,r,n,i,e),void 0,null),ar===null)throw Error(ae(349));Zo&30||zC(r,e,i)}return i}function zC(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=At.updateQueue,e===null?(e={lastEffect:null,stores:null},At.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function WC(t,e,r,n){e.value=r,e.getSnapshot=n,HC(e)&&KC(t)}function qC(t,e,r){return r(function(){HC(e)&&KC(t)})}function HC(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Hn(t,r)}catch{return!0}}function KC(t){var e=Xi(t,1);e!==null&&Wn(e,t,1,-1)}function uS(t){var e=ti();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ff,lastRenderedState:t},e.queue=t,t=t.dispatch=n6.bind(null,At,t),[e.memoizedState,t]}function df(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=At.updateQueue,e===null?(e={lastEffect:null,stores:null},At.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function GC(){return In().memoizedState}function ep(t,e,r,n){var i=ti();At.flags|=t,i.memoizedState=df(1|e,r,void 0,n===void 0?null:n)}function mg(t,e,r,n){var i=In();n=n===void 0?null:n;var a=void 0;if(Yt!==null){var o=Yt.memoizedState;if(a=o.destroy,n!==null&&Hw(n,o.deps)){i.memoizedState=df(e,r,a,n);return}}At.flags|=t,i.memoizedState=df(1|e,r,a,n)}function fS(t,e){return ep(8390656,8,t,e)}function Xw(t,e){return mg(2048,8,t,e)}function XC(t,e){return mg(4,2,t,e)}function YC(t,e){return mg(4,4,t,e)}function QC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function JC(t,e,r){return r=r!=null?r.concat([t]):null,mg(4,4,QC.bind(null,e,t),r)}function Yw(){}function ZC(t,e){var r=In();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Hw(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function eN(t,e){var r=In();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Hw(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function tN(t,e,r){return Zo&21?(Hn(r,e)||(r=oC(),At.lanes|=r,es|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Gr=!0),t.memoizedState=r)}function t6(t,e){var r=rt;rt=r!==0&&4>r?r:4,t(!0);var n=wv.transition;wv.transition={};try{t(!1),e()}finally{rt=r,wv.transition=n}}function rN(){return In().memoizedState}function r6(t,e,r){var n=qa(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},nN(t))iN(e,r);else if(r=LC(t,e,r,n),r!==null){var i=Fr();Wn(r,t,n,i),aN(r,e,n)}}function n6(t,e,r){var n=qa(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(nN(t))iN(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,s=a(o,r);if(i.hasEagerState=!0,i.eagerState=s,Hn(s,o)){var l=e.interleaved;l===null?(i.next=i,Uw(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=LC(t,e,i,n),r!==null&&(i=Fr(),Wn(r,t,n,i),aN(r,e,n))}}function nN(t){var e=t.alternate;return t===At||e!==null&&e===At}function iN(t,e){Iu=$p=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function aN(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Aw(t,r)}}var Lp={readContext:Pn,useCallback:br,useContext:br,useEffect:br,useImperativeHandle:br,useInsertionEffect:br,useLayoutEffect:br,useMemo:br,useReducer:br,useRef:br,useState:br,useDebugValue:br,useDeferredValue:br,useTransition:br,useMutableSource:br,useSyncExternalStore:br,useId:br,unstable_isNewReconciler:!1},i6={readContext:Pn,useCallback:function(t,e){return ti().memoizedState=[t,e===void 0?null:e],t},useContext:Pn,useEffect:fS,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,ep(4194308,4,QC.bind(null,e,t),r)},useLayoutEffect:function(t,e){return ep(4194308,4,t,e)},useInsertionEffect:function(t,e){return ep(4,2,t,e)},useMemo:function(t,e){var r=ti();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=ti();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=r6.bind(null,At,t),[n.memoizedState,t]},useRef:function(t){var e=ti();return t={current:t},e.memoizedState=t},useState:uS,useDebugValue:Yw,useDeferredValue:function(t){return ti().memoizedState=t},useTransition:function(){var t=uS(!1),e=t[0];return t=t6.bind(null,t[1]),ti().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=At,i=ti();if(kt){if(r===void 0)throw Error(ae(407));r=r()}else{if(r=e(),ar===null)throw Error(ae(349));Zo&30||zC(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,fS(qC.bind(null,n,a,t),[t]),n.flags|=2048,df(9,WC.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=ti(),e=ar.identifierPrefix;if(kt){var r=Ri,n=Ni;r=(n&~(1<<32-zn(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=uf++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=e6++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},a6={readContext:Pn,useCallback:ZC,useContext:Pn,useEffect:Xw,useImperativeHandle:JC,useInsertionEffect:XC,useLayoutEffect:YC,useMemo:eN,useReducer:_v,useRef:GC,useState:function(){return _v(ff)},useDebugValue:Yw,useDeferredValue:function(t){var e=In();return tN(e,Yt.memoizedState,t)},useTransition:function(){var t=_v(ff)[0],e=In().memoizedState;return[t,e]},useMutableSource:UC,useSyncExternalStore:BC,useId:rN,unstable_isNewReconciler:!1},o6={readContext:Pn,useCallback:ZC,useContext:Pn,useEffect:Xw,useImperativeHandle:JC,useInsertionEffect:XC,useLayoutEffect:YC,useMemo:eN,useReducer:kv,useRef:GC,useState:function(){return kv(ff)},useDebugValue:Yw,useDeferredValue:function(t){var e=In();return Yt===null?e.memoizedState=t:tN(e,Yt.memoizedState,t)},useTransition:function(){var t=kv(ff)[0],e=In().memoizedState;return[t,e]},useMutableSource:UC,useSyncExternalStore:BC,useId:rN,unstable_isNewReconciler:!1};function Mn(t,e){if(t&&t.defaultProps){e=Pt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Y0(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Pt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var gg={isMounted:function(t){return(t=t._reactInternals)?gs(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Fr(),i=qa(t),a=Ui(n,i);a.payload=e,r!=null&&(a.callback=r),e=za(t,a,i),e!==null&&(Wn(e,t,i,n),Jh(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Fr(),i=qa(t),a=Ui(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=za(t,a,i),e!==null&&(Wn(e,t,i,n),Jh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Fr(),n=qa(t),i=Ui(r,n);i.tag=2,e!=null&&(i.callback=e),e=za(t,i,n),e!==null&&(Wn(e,t,n,r),Jh(e,t,n))}};function dS(t,e,r,n,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!nf(r,n)||!nf(i,a):!0}function oN(t,e,r){var n=!1,i=to,a=e.contextType;return typeof a=="object"&&a!==null?a=Pn(a):(i=Jr(e)?Qo:Ir.current,n=e.contextTypes,a=(n=n!=null)?Pl(t,i):to),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=gg,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function hS(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&gg.enqueueReplaceState(e,e.state,null)}function Q0(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},Bw(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Pn(a):(a=Jr(e)?Qo:Ir.current,i.context=Pl(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Y0(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&gg.enqueueReplaceState(i,i.state,null),Dp(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Nl(t,e){try{var r="",n=e;do r+=j3(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function Ev(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function J0(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var s6=typeof WeakMap=="function"?WeakMap:Map;function sN(t,e,r){r=Ui(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Vp||(Vp=!0,lb=n),J0(t,e)},r}function lN(t,e,r){r=Ui(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){J0(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){J0(t,e),typeof n!="function"&&(Wa===null?Wa=new Set([this]):Wa.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function pS(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new s6;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=w6.bind(null,t,e,r),e.then(t,t))}function mS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function gS(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Ui(-1,1),e.tag=2,za(r,e,1))),r.lanes|=1),t)}var l6=oa.ReactCurrentOwner,Gr=!1;function Rr(t,e,r,n){e.child=t===null?$C(e,null,r,n):Ol(e,t.child,r,n)}function yS(t,e,r,n,i){r=r.render;var a=e.ref;return gl(e,i),n=Kw(t,e,r,n,a,i),r=Gw(),t!==null&&!Gr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Yi(t,e,i)):(kt&&r&&Dw(e),e.flags|=1,Rr(t,e,n,i),e.child)}function vS(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!i_(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,cN(t,e,a,n,i)):(t=ip(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:nf,r(o,n)&&t.ref===e.ref)return Yi(t,e,i)}return e.flags|=1,t=Ha(a,n),t.ref=e.ref,t.return=e,e.child=t}function cN(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(nf(a,n)&&t.ref===e.ref)if(Gr=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(Gr=!0);else return e.lanes=t.lanes,Yi(t,e,i)}return Z0(t,e,r,n,i)}function uN(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},dt(al,nn),nn|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,dt(al,nn),nn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,dt(al,nn),nn|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,dt(al,nn),nn|=n;return Rr(t,e,i,r),e.child}function fN(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Z0(t,e,r,n,i){var a=Jr(r)?Qo:Ir.current;return a=Pl(e,a),gl(e,i),r=Kw(t,e,r,n,a,i),n=Gw(),t!==null&&!Gr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Yi(t,e,i)):(kt&&n&&Dw(e),e.flags|=1,Rr(t,e,r,i),e.child)}function bS(t,e,r,n,i){if(Jr(r)){var a=!0;Op(e)}else a=!1;if(gl(e,i),e.stateNode===null)tp(t,e),oN(e,r,n),Q0(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=Pn(c):(c=Jr(r)?Qo:Ir.current,c=Pl(e,c));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||l!==c)&&hS(e,o,n,c),wa=!1;var h=e.memoizedState;o.state=h,Dp(e,n,o,i),l=e.memoizedState,s!==n||h!==l||Qr.current||wa?(typeof u=="function"&&(Y0(e,r,u,n),l=e.memoizedState),(s=wa||dS(e,r,s,n,h,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=c,n=s):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,FC(t,e),s=e.memoizedProps,c=e.type===e.elementType?s:Mn(e.type,s),o.props=c,f=e.pendingProps,h=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Pn(l):(l=Jr(r)?Qo:Ir.current,l=Pl(e,l));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||h!==l)&&hS(e,o,n,l),wa=!1,h=e.memoizedState,o.state=h,Dp(e,n,o,i);var g=e.memoizedState;s!==f||h!==g||Qr.current||wa?(typeof p=="function"&&(Y0(e,r,p,n),g=e.memoizedState),(c=wa||dS(e,r,c,n,h,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),o.props=n,o.state=g,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return eb(t,e,r,n,a,i)}function eb(t,e,r,n,i,a){fN(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&iS(e,r,!1),Yi(t,e,a);n=e.stateNode,l6.current=e;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Ol(e,t.child,null,a),e.child=Ol(e,null,s,a)):Rr(t,e,s,a),e.memoizedState=n.state,i&&iS(e,r,!0),e.child}function dN(t){var e=t.stateNode;e.pendingContext?nS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&nS(t,e.context,!1),zw(t,e.containerInfo)}function xS(t,e,r,n,i){return Il(),$w(i),e.flags|=256,Rr(t,e,r,n),e.child}var tb={dehydrated:null,treeContext:null,retryLane:0};function rb(t){return{baseLanes:t,cachePool:null,transitions:null}}function hN(t,e,r){var n=e.pendingProps,i=Tt.current,a=!1,o=(e.flags&128)!==0,s;if((s=o)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),dt(Tt,i&1),t===null)return G0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,a?(n=e.mode,a=e.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=bg(o,n,0,null),t=Ho(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=rb(r),e.memoizedState=tb,t):Qw(e,o));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return c6(t,e,o,n,s,i,r);if(a){a=n.fallback,o=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Ha(i,l),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=Ha(s,a):(a=Ho(a,o,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,o=t.child.memoizedState,o=o===null?rb(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~r,e.memoizedState=tb,n}return a=t.child,t=a.sibling,n=Ha(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Qw(t,e){return e=bg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function bh(t,e,r,n){return n!==null&&$w(n),Ol(e,t.child,null,r),t=Qw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function c6(t,e,r,n,i,a,o){if(r)return e.flags&256?(e.flags&=-257,n=Ev(Error(ae(422))),bh(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=bg({mode:"visible",children:n.children},i,0,null),a=Ho(a,i,o,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&Ol(e,t.child,null,o),e.child.memoizedState=rb(o),e.memoizedState=tb,a);if(!(e.mode&1))return bh(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,a=Error(ae(419)),n=Ev(a,n,void 0),bh(t,e,o,n)}if(s=(o&t.childLanes)!==0,Gr||s){if(n=ar,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Xi(t,i),Wn(n,t,i,-1))}return n_(),n=Ev(Error(ae(421))),bh(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=_6.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,sn=Ba(i.nextSibling),cn=e,kt=!0,Fn=null,t!==null&&(bn[xn++]=Ni,bn[xn++]=Ri,bn[xn++]=Jo,Ni=t.id,Ri=t.overflow,Jo=e),e=Qw(e,n.children),e.flags|=4096,e)}function wS(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),X0(t.return,e,r)}function Sv(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function pN(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(Rr(t,e,n.children,r),n=Tt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wS(t,r,e);else if(t.tag===19)wS(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(dt(Tt,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Mp(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Sv(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Mp(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Sv(e,!0,r,null,a);break;case"together":Sv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function tp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Yi(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),es|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ae(153));if(e.child!==null){for(t=e.child,r=Ha(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Ha(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function u6(t,e,r){switch(e.tag){case 3:dN(e),Il();break;case 5:VC(e);break;case 1:Jr(e.type)&&Op(e);break;case 4:zw(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;dt(Rp,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(dt(Tt,Tt.current&1),e.flags|=128,null):r&e.child.childLanes?hN(t,e,r):(dt(Tt,Tt.current&1),t=Yi(t,e,r),t!==null?t.sibling:null);dt(Tt,Tt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return pN(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),dt(Tt,Tt.current),n)break;return null;case 22:case 23:return e.lanes=0,uN(t,e,r)}return Yi(t,e,r)}var mN,nb,gN,yN;mN=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};nb=function(){};gN=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Fo(fi.current);var a=null;switch(r){case"input":i=S0(t,i),n=S0(t,n),a=[];break;case"select":i=Pt({},i,{value:void 0}),n=Pt({},n,{value:void 0}),a=[];break;case"textarea":i=P0(t,i),n=P0(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Pp)}O0(r,n);var o;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var s=i[c];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Yu.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in n){var l=n[c];if(s=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(a||(a=[]),a.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Yu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&mt("scroll",t),a||s===l||(a=[])):(a=a||[]).push(c,l))}r&&(a=a||[]).push("style",r);var c=a;(e.updateQueue=c)&&(e.flags|=4)}};yN=function(t,e,r,n){r!==n&&(e.flags|=4)};function Xc(t,e){if(!kt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function xr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function f6(t,e,r){var n=e.pendingProps;switch(Mw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xr(e),null;case 1:return Jr(e.type)&&Ip(),xr(e),null;case 3:return n=e.stateNode,Cl(),wt(Qr),wt(Ir),qw(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(yh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Fn!==null&&(fb(Fn),Fn=null))),nb(t,e),xr(e),null;case 5:Ww(e);var i=Fo(cf.current);if(r=e.type,t!==null&&e.stateNode!=null)gN(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(ae(166));return xr(e),null}if(t=Fo(fi.current),yh(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[ai]=e,n[sf]=a,t=(e.mode&1)!==0,r){case"dialog":mt("cancel",n),mt("close",n);break;case"iframe":case"object":case"embed":mt("load",n);break;case"video":case"audio":for(i=0;i<pu.length;i++)mt(pu[i],n);break;case"source":mt("error",n);break;case"img":case"image":case"link":mt("error",n),mt("load",n);break;case"details":mt("toggle",n);break;case"input":OE(n,a),mt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},mt("invalid",n);break;case"textarea":NE(n,a),mt("invalid",n)}O0(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?n.textContent!==s&&(a.suppressHydrationWarning!==!0&&gh(n.textContent,s,t),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&gh(n.textContent,s,t),i=["children",""+s]):Yu.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&mt("scroll",n)}switch(r){case"input":lh(n),CE(n,a,!0);break;case"textarea":lh(n),RE(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Pp)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=qO(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[ai]=e,t[sf]=n,mN(t,e,!1,!1),e.stateNode=t;e:{switch(o=C0(r,n),r){case"dialog":mt("cancel",t),mt("close",t),i=n;break;case"iframe":case"object":case"embed":mt("load",t),i=n;break;case"video":case"audio":for(i=0;i<pu.length;i++)mt(pu[i],t);i=n;break;case"source":mt("error",t),i=n;break;case"img":case"image":case"link":mt("error",t),mt("load",t),i=n;break;case"details":mt("toggle",t),i=n;break;case"input":OE(t,n),i=S0(t,n),mt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Pt({},n,{value:void 0}),mt("invalid",t);break;case"textarea":NE(t,n),i=P0(t,n),mt("invalid",t);break;default:i=n}O0(r,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?GO(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&HO(t,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Qu(t,l):typeof l=="number"&&Qu(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Yu.hasOwnProperty(a)?l!=null&&a==="onScroll"&&mt("scroll",t):l!=null&&ww(t,a,l,o))}switch(r){case"input":lh(t),CE(t,n,!1);break;case"textarea":lh(t),RE(t);break;case"option":n.value!=null&&t.setAttribute("value",""+eo(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?dl(t,!!n.multiple,a,!1):n.defaultValue!=null&&dl(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Pp)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return xr(e),null;case 6:if(t&&e.stateNode!=null)yN(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(ae(166));if(r=Fo(cf.current),Fo(fi.current),yh(e)){if(n=e.stateNode,r=e.memoizedProps,n[ai]=e,(a=n.nodeValue!==r)&&(t=cn,t!==null))switch(t.tag){case 3:gh(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&gh(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ai]=e,e.stateNode=n}return xr(e),null;case 13:if(wt(Tt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(kt&&sn!==null&&e.mode&1&&!(e.flags&128))DC(),Il(),e.flags|=98560,a=!1;else if(a=yh(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(ae(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ae(317));a[ai]=e}else Il(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;xr(e),a=!1}else Fn!==null&&(fb(Fn),Fn=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Tt.current&1?Qt===0&&(Qt=3):n_())),e.updateQueue!==null&&(e.flags|=4),xr(e),null);case 4:return Cl(),nb(t,e),t===null&&af(e.stateNode.containerInfo),xr(e),null;case 10:return Vw(e.type._context),xr(e),null;case 17:return Jr(e.type)&&Ip(),xr(e),null;case 19:if(wt(Tt),a=e.memoizedState,a===null)return xr(e),null;if(n=(e.flags&128)!==0,o=a.rendering,o===null)if(n)Xc(a,!1);else{if(Qt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Mp(t),o!==null){for(e.flags|=128,Xc(a,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return dt(Tt,Tt.current&1|2),e.child}t=t.sibling}a.tail!==null&&Ut()>Rl&&(e.flags|=128,n=!0,Xc(a,!1),e.lanes=4194304)}else{if(!n)if(t=Mp(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Xc(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!kt)return xr(e),null}else 2*Ut()-a.renderingStartTime>Rl&&r!==1073741824&&(e.flags|=128,n=!0,Xc(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(r=a.last,r!==null?r.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Ut(),e.sibling=null,r=Tt.current,dt(Tt,n?r&1|2:r&1),e):(xr(e),null);case 22:case 23:return r_(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?nn&1073741824&&(xr(e),e.subtreeFlags&6&&(e.flags|=8192)):xr(e),null;case 24:return null;case 25:return null}throw Error(ae(156,e.tag))}function d6(t,e){switch(Mw(e),e.tag){case 1:return Jr(e.type)&&Ip(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Cl(),wt(Qr),wt(Ir),qw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ww(e),null;case 13:if(wt(Tt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ae(340));Il()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return wt(Tt),null;case 4:return Cl(),null;case 10:return Vw(e.type._context),null;case 22:case 23:return r_(),null;case 24:return null;default:return null}}var xh=!1,Sr=!1,h6=typeof WeakSet=="function"?WeakSet:Set,pe=null;function il(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Rt(t,e,n)}else r.current=null}function ib(t,e,r){try{r()}catch(n){Rt(t,e,n)}}var _S=!1;function p6(t,e){if(U0=Sp,t=_C(),jw(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,s=-1,l=-1,c=0,u=0,f=t,h=null;t:for(;;){for(var p;f!==r||i!==0&&f.nodeType!==3||(s=o+i),f!==a||n!==0&&f.nodeType!==3||(l=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===r&&++c===i&&(s=o),h===a&&++u===n&&(l=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(B0={focusedElem:t,selectionRange:r},Sp=!1,pe=e;pe!==null;)if(e=pe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,pe=t;else for(;pe!==null;){e=pe;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var b=g.memoizedProps,v=g.memoizedState,_=e.stateNode,y=_.getSnapshotBeforeUpdate(e.elementType===e.type?b:Mn(e.type,b),v);_.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ae(163))}}catch(k){Rt(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,pe=t;break}pe=e.return}return g=_S,_S=!1,g}function Ou(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&ib(e,r,a)}i=i.next}while(i!==n)}}function yg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function ab(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function vN(t){var e=t.alternate;e!==null&&(t.alternate=null,vN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ai],delete e[sf],delete e[q0],delete e[Y5],delete e[Q5])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function bN(t){return t.tag===5||t.tag===3||t.tag===4}function kS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||bN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ob(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Pp));else if(n!==4&&(t=t.child,t!==null))for(ob(t,e,r),t=t.sibling;t!==null;)ob(t,e,r),t=t.sibling}function sb(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(sb(t,e,r),t=t.sibling;t!==null;)sb(t,e,r),t=t.sibling}var ur=null,$n=!1;function ya(t,e,r){for(r=r.child;r!==null;)xN(t,e,r),r=r.sibling}function xN(t,e,r){if(ui&&typeof ui.onCommitFiberUnmount=="function")try{ui.onCommitFiberUnmount(cg,r)}catch{}switch(r.tag){case 5:Sr||il(r,e);case 6:var n=ur,i=$n;ur=null,ya(t,e,r),ur=n,$n=i,ur!==null&&($n?(t=ur,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):ur.removeChild(r.stateNode));break;case 18:ur!==null&&($n?(t=ur,r=r.stateNode,t.nodeType===8?vv(t.parentNode,r):t.nodeType===1&&vv(t,r),tf(t)):vv(ur,r.stateNode));break;case 4:n=ur,i=$n,ur=r.stateNode.containerInfo,$n=!0,ya(t,e,r),ur=n,$n=i;break;case 0:case 11:case 14:case 15:if(!Sr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&ib(r,e,o),i=i.next}while(i!==n)}ya(t,e,r);break;case 1:if(!Sr&&(il(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){Rt(r,e,s)}ya(t,e,r);break;case 21:ya(t,e,r);break;case 22:r.mode&1?(Sr=(n=Sr)||r.memoizedState!==null,ya(t,e,r),Sr=n):ya(t,e,r);break;default:ya(t,e,r)}}function ES(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new h6),e.forEach(function(n){var i=k6.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function jn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 5:ur=s.stateNode,$n=!1;break e;case 3:ur=s.stateNode.containerInfo,$n=!0;break e;case 4:ur=s.stateNode.containerInfo,$n=!0;break e}s=s.return}if(ur===null)throw Error(ae(160));xN(a,o,i),ur=null,$n=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Rt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)wN(e,t),e=e.sibling}function wN(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(jn(e,t),Zn(t),n&4){try{Ou(3,t,t.return),yg(3,t)}catch(b){Rt(t,t.return,b)}try{Ou(5,t,t.return)}catch(b){Rt(t,t.return,b)}}break;case 1:jn(e,t),Zn(t),n&512&&r!==null&&il(r,r.return);break;case 5:if(jn(e,t),Zn(t),n&512&&r!==null&&il(r,r.return),t.flags&32){var i=t.stateNode;try{Qu(i,"")}catch(b){Rt(t,t.return,b)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=r!==null?r.memoizedProps:a,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&zO(i,a),C0(s,o);var c=C0(s,a);for(o=0;o<l.length;o+=2){var u=l[o],f=l[o+1];u==="style"?GO(i,f):u==="dangerouslySetInnerHTML"?HO(i,f):u==="children"?Qu(i,f):ww(i,u,f,c)}switch(s){case"input":T0(i,a);break;case"textarea":WO(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?dl(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?dl(i,!!a.multiple,a.defaultValue,!0):dl(i,!!a.multiple,a.multiple?[]:"",!1))}i[sf]=a}catch(b){Rt(t,t.return,b)}}break;case 6:if(jn(e,t),Zn(t),n&4){if(t.stateNode===null)throw Error(ae(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(b){Rt(t,t.return,b)}}break;case 3:if(jn(e,t),Zn(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{tf(e.containerInfo)}catch(b){Rt(t,t.return,b)}break;case 4:jn(e,t),Zn(t);break;case 13:jn(e,t),Zn(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(e_=Ut())),n&4&&ES(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(Sr=(c=Sr)||u,jn(e,t),Sr=c):jn(e,t),Zn(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(pe=t,u=t.child;u!==null;){for(f=pe=u;pe!==null;){switch(h=pe,p=h.child,h.tag){case 0:case 11:case 14:case 15:Ou(4,h,h.return);break;case 1:il(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(b){Rt(n,r,b)}}break;case 5:il(h,h.return);break;case 22:if(h.memoizedState!==null){TS(f);continue}}p!==null?(p.return=h,pe=p):TS(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=KO("display",o))}catch(b){Rt(t,t.return,b)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(b){Rt(t,t.return,b)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:jn(e,t),Zn(t),n&4&&ES(t);break;case 21:break;default:jn(e,t),Zn(t)}}function Zn(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(bN(r)){var n=r;break e}r=r.return}throw Error(ae(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Qu(i,""),n.flags&=-33);var a=kS(t);sb(t,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,s=kS(t);ob(t,s,o);break;default:throw Error(ae(161))}}catch(l){Rt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function m6(t,e,r){pe=t,_N(t)}function _N(t,e,r){for(var n=(t.mode&1)!==0;pe!==null;){var i=pe,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||xh;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Sr;s=xh;var c=Sr;if(xh=o,(Sr=l)&&!c)for(pe=i;pe!==null;)o=pe,l=o.child,o.tag===22&&o.memoizedState!==null?AS(i):l!==null?(l.return=o,pe=l):AS(i);for(;a!==null;)pe=a,_N(a),a=a.sibling;pe=i,xh=s,Sr=c}SS(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,pe=a):SS(t)}}function SS(t){for(;pe!==null;){var e=pe;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Sr||yg(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Sr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Mn(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&cS(e,a,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}cS(e,o,r)}break;case 5:var s=e.stateNode;if(r===null&&e.flags&4){r=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&tf(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ae(163))}Sr||e.flags&512&&ab(e)}catch(h){Rt(e,e.return,h)}}if(e===t){pe=null;break}if(r=e.sibling,r!==null){r.return=e.return,pe=r;break}pe=e.return}}function TS(t){for(;pe!==null;){var e=pe;if(e===t){pe=null;break}var r=e.sibling;if(r!==null){r.return=e.return,pe=r;break}pe=e.return}}function AS(t){for(;pe!==null;){var e=pe;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{yg(4,e)}catch(l){Rt(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){Rt(e,i,l)}}var a=e.return;try{ab(e)}catch(l){Rt(e,a,l)}break;case 5:var o=e.return;try{ab(e)}catch(l){Rt(e,o,l)}}}catch(l){Rt(e,e.return,l)}if(e===t){pe=null;break}var s=e.sibling;if(s!==null){s.return=e.return,pe=s;break}pe=e.return}}var g6=Math.ceil,Fp=oa.ReactCurrentDispatcher,Jw=oa.ReactCurrentOwner,Sn=oa.ReactCurrentBatchConfig,Ke=0,ar=null,Wt=null,hr=0,nn=0,al=so(0),Qt=0,hf=null,es=0,vg=0,Zw=0,Cu=null,Hr=null,e_=0,Rl=1/0,Ii=null,Vp=!1,lb=null,Wa=null,wh=!1,Da=null,Up=0,Nu=0,cb=null,rp=-1,np=0;function Fr(){return Ke&6?Ut():rp!==-1?rp:rp=Ut()}function qa(t){return t.mode&1?Ke&2&&hr!==0?hr&-hr:Z5.transition!==null?(np===0&&(np=oC()),np):(t=rt,t!==0||(t=window.event,t=t===void 0?16:hC(t.type)),t):1}function Wn(t,e,r,n){if(50<Nu)throw Nu=0,cb=null,Error(ae(185));dd(t,r,n),(!(Ke&2)||t!==ar)&&(t===ar&&(!(Ke&2)&&(vg|=r),Qt===4&&Sa(t,hr)),Zr(t,n),r===1&&Ke===0&&!(e.mode&1)&&(Rl=Ut()+500,pg&&lo()))}function Zr(t,e){var r=t.callbackNode;Z3(t,e);var n=Ep(t,t===ar?hr:0);if(n===0)r!==null&&ME(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&ME(r),e===1)t.tag===0?J5(PS.bind(null,t)):NC(PS.bind(null,t)),G5(function(){!(Ke&6)&&lo()}),r=null;else{switch(sC(n)){case 1:r=Tw;break;case 4:r=iC;break;case 16:r=kp;break;case 536870912:r=aC;break;default:r=kp}r=ON(r,kN.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function kN(t,e){if(rp=-1,np=0,Ke&6)throw Error(ae(327));var r=t.callbackNode;if(yl()&&t.callbackNode!==r)return null;var n=Ep(t,t===ar?hr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Bp(t,n);else{e=n;var i=Ke;Ke|=2;var a=SN();(ar!==t||hr!==e)&&(Ii=null,Rl=Ut()+500,qo(t,e));do try{b6();break}catch(s){EN(t,s)}while(!0);Fw(),Fp.current=a,Ke=i,Wt!==null?e=0:(ar=null,hr=0,e=Qt)}if(e!==0){if(e===2&&(i=M0(t),i!==0&&(n=i,e=ub(t,i))),e===1)throw r=hf,qo(t,0),Sa(t,n),Zr(t,Ut()),r;if(e===6)Sa(t,n);else{if(i=t.current.alternate,!(n&30)&&!y6(i)&&(e=Bp(t,n),e===2&&(a=M0(t),a!==0&&(n=a,e=ub(t,a))),e===1))throw r=hf,qo(t,0),Sa(t,n),Zr(t,Ut()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(ae(345));case 2:Co(t,Hr,Ii);break;case 3:if(Sa(t,n),(n&130023424)===n&&(e=e_+500-Ut(),10<e)){if(Ep(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Fr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=W0(Co.bind(null,t,Hr,Ii),e);break}Co(t,Hr,Ii);break;case 4:if(Sa(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-zn(n);a=1<<o,o=e[o],o>i&&(i=o),n&=~a}if(n=i,n=Ut()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*g6(n/1960))-n,10<n){t.timeoutHandle=W0(Co.bind(null,t,Hr,Ii),n);break}Co(t,Hr,Ii);break;case 5:Co(t,Hr,Ii);break;default:throw Error(ae(329))}}}return Zr(t,Ut()),t.callbackNode===r?kN.bind(null,t):null}function ub(t,e){var r=Cu;return t.current.memoizedState.isDehydrated&&(qo(t,e).flags|=256),t=Bp(t,e),t!==2&&(e=Hr,Hr=r,e!==null&&fb(e)),t}function fb(t){Hr===null?Hr=t:Hr.push.apply(Hr,t)}function y6(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Hn(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Sa(t,e){for(e&=~Zw,e&=~vg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-zn(e),n=1<<r;t[r]=-1,e&=~n}}function PS(t){if(Ke&6)throw Error(ae(327));yl();var e=Ep(t,0);if(!(e&1))return Zr(t,Ut()),null;var r=Bp(t,e);if(t.tag!==0&&r===2){var n=M0(t);n!==0&&(e=n,r=ub(t,n))}if(r===1)throw r=hf,qo(t,0),Sa(t,e),Zr(t,Ut()),r;if(r===6)throw Error(ae(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Co(t,Hr,Ii),Zr(t,Ut()),null}function t_(t,e){var r=Ke;Ke|=1;try{return t(e)}finally{Ke=r,Ke===0&&(Rl=Ut()+500,pg&&lo())}}function ts(t){Da!==null&&Da.tag===0&&!(Ke&6)&&yl();var e=Ke;Ke|=1;var r=Sn.transition,n=rt;try{if(Sn.transition=null,rt=1,t)return t()}finally{rt=n,Sn.transition=r,Ke=e,!(Ke&6)&&lo()}}function r_(){nn=al.current,wt(al)}function qo(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,K5(r)),Wt!==null)for(r=Wt.return;r!==null;){var n=r;switch(Mw(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ip();break;case 3:Cl(),wt(Qr),wt(Ir),qw();break;case 5:Ww(n);break;case 4:Cl();break;case 13:wt(Tt);break;case 19:wt(Tt);break;case 10:Vw(n.type._context);break;case 22:case 23:r_()}r=r.return}if(ar=t,Wt=t=Ha(t.current,null),hr=nn=e,Qt=0,hf=null,Zw=vg=es=0,Hr=Cu=null,Lo!==null){for(e=0;e<Lo.length;e++)if(r=Lo[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}Lo=null}return t}function EN(t,e){do{var r=Wt;try{if(Fw(),Zh.current=Lp,$p){for(var n=At.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}$p=!1}if(Zo=0,nr=Yt=At=null,Iu=!1,uf=0,Jw.current=null,r===null||r.return===null){Qt=1,hf=e,Wt=null;break}e:{var a=t,o=r.return,s=r,l=e;if(e=hr,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=s,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=mS(o);if(p!==null){p.flags&=-257,gS(p,o,s,a,e),p.mode&1&&pS(a,c,e),e=p,l=c;var g=e.updateQueue;if(g===null){var b=new Set;b.add(l),e.updateQueue=b}else g.add(l);break e}else{if(!(e&1)){pS(a,c,e),n_();break e}l=Error(ae(426))}}else if(kt&&s.mode&1){var v=mS(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),gS(v,o,s,a,e),$w(Nl(l,s));break e}}a=l=Nl(l,s),Qt!==4&&(Qt=2),Cu===null?Cu=[a]:Cu.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var _=sN(a,l,e);lS(a,_);break e;case 1:s=l;var y=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Wa===null||!Wa.has(x)))){a.flags|=65536,e&=-e,a.lanes|=e;var k=lN(a,s,e);lS(a,k);break e}}a=a.return}while(a!==null)}AN(r)}catch(T){e=T,Wt===r&&r!==null&&(Wt=r=r.return);continue}break}while(!0)}function SN(){var t=Fp.current;return Fp.current=Lp,t===null?Lp:t}function n_(){(Qt===0||Qt===3||Qt===2)&&(Qt=4),ar===null||!(es&268435455)&&!(vg&268435455)||Sa(ar,hr)}function Bp(t,e){var r=Ke;Ke|=2;var n=SN();(ar!==t||hr!==e)&&(Ii=null,qo(t,e));do try{v6();break}catch(i){EN(t,i)}while(!0);if(Fw(),Ke=r,Fp.current=n,Wt!==null)throw Error(ae(261));return ar=null,hr=0,Qt}function v6(){for(;Wt!==null;)TN(Wt)}function b6(){for(;Wt!==null&&!W3();)TN(Wt)}function TN(t){var e=IN(t.alternate,t,nn);t.memoizedProps=t.pendingProps,e===null?AN(t):Wt=e,Jw.current=null}function AN(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=d6(r,e),r!==null){r.flags&=32767,Wt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Qt=6,Wt=null;return}}else if(r=f6(r,e,nn),r!==null){Wt=r;return}if(e=e.sibling,e!==null){Wt=e;return}Wt=e=t}while(e!==null);Qt===0&&(Qt=5)}function Co(t,e,r){var n=rt,i=Sn.transition;try{Sn.transition=null,rt=1,x6(t,e,r,n)}finally{Sn.transition=i,rt=n}return null}function x6(t,e,r,n){do yl();while(Da!==null);if(Ke&6)throw Error(ae(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(ae(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(e5(t,a),t===ar&&(Wt=ar=null,hr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||wh||(wh=!0,ON(kp,function(){return yl(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Sn.transition,Sn.transition=null;var o=rt;rt=1;var s=Ke;Ke|=4,Jw.current=null,p6(t,r),wN(r,t),V5(B0),Sp=!!U0,B0=U0=null,t.current=r,m6(r),q3(),Ke=s,rt=o,Sn.transition=a}else t.current=r;if(wh&&(wh=!1,Da=t,Up=i),a=t.pendingLanes,a===0&&(Wa=null),G3(r.stateNode),Zr(t,Ut()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Vp)throw Vp=!1,t=lb,lb=null,t;return Up&1&&t.tag!==0&&yl(),a=t.pendingLanes,a&1?t===cb?Nu++:(Nu=0,cb=t):Nu=0,lo(),null}function yl(){if(Da!==null){var t=sC(Up),e=Sn.transition,r=rt;try{if(Sn.transition=null,rt=16>t?16:t,Da===null)var n=!1;else{if(t=Da,Da=null,Up=0,Ke&6)throw Error(ae(331));var i=Ke;for(Ke|=4,pe=t.current;pe!==null;){var a=pe,o=a.child;if(pe.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(pe=c;pe!==null;){var u=pe;switch(u.tag){case 0:case 11:case 15:Ou(8,u,a)}var f=u.child;if(f!==null)f.return=u,pe=f;else for(;pe!==null;){u=pe;var h=u.sibling,p=u.return;if(vN(u),u===c){pe=null;break}if(h!==null){h.return=p,pe=h;break}pe=p}}}var g=a.alternate;if(g!==null){var b=g.child;if(b!==null){g.child=null;do{var v=b.sibling;b.sibling=null,b=v}while(b!==null)}}pe=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,pe=o;else e:for(;pe!==null;){if(a=pe,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Ou(9,a,a.return)}var _=a.sibling;if(_!==null){_.return=a.return,pe=_;break e}pe=a.return}}var y=t.current;for(pe=y;pe!==null;){o=pe;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,pe=x;else e:for(o=y;pe!==null;){if(s=pe,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:yg(9,s)}}catch(T){Rt(s,s.return,T)}if(s===o){pe=null;break e}var k=s.sibling;if(k!==null){k.return=s.return,pe=k;break e}pe=s.return}}if(Ke=i,lo(),ui&&typeof ui.onPostCommitFiberRoot=="function")try{ui.onPostCommitFiberRoot(cg,t)}catch{}n=!0}return n}finally{rt=r,Sn.transition=e}}return!1}function IS(t,e,r){e=Nl(r,e),e=sN(t,e,1),t=za(t,e,1),e=Fr(),t!==null&&(dd(t,1,e),Zr(t,e))}function Rt(t,e,r){if(t.tag===3)IS(t,t,r);else for(;e!==null;){if(e.tag===3){IS(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Wa===null||!Wa.has(n))){t=Nl(r,t),t=lN(e,t,1),e=za(e,t,1),t=Fr(),e!==null&&(dd(e,1,t),Zr(e,t));break}}e=e.return}}function w6(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Fr(),t.pingedLanes|=t.suspendedLanes&r,ar===t&&(hr&r)===r&&(Qt===4||Qt===3&&(hr&130023424)===hr&&500>Ut()-e_?qo(t,0):Zw|=r),Zr(t,e)}function PN(t,e){e===0&&(t.mode&1?(e=fh,fh<<=1,!(fh&130023424)&&(fh=4194304)):e=1);var r=Fr();t=Xi(t,e),t!==null&&(dd(t,e,r),Zr(t,r))}function _6(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),PN(t,r)}function k6(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(ae(314))}n!==null&&n.delete(e),PN(t,r)}var IN;IN=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Qr.current)Gr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Gr=!1,u6(t,e,r);Gr=!!(t.flags&131072)}else Gr=!1,kt&&e.flags&1048576&&RC(e,Np,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;tp(t,e),t=e.pendingProps;var i=Pl(e,Ir.current);gl(e,r),i=Kw(null,e,n,t,i,r);var a=Gw();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Jr(n)?(a=!0,Op(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Bw(e),i.updater=gg,e.stateNode=i,i._reactInternals=e,Q0(e,n,t,r),e=eb(null,e,n,!0,a,r)):(e.tag=0,kt&&a&&Dw(e),Rr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(tp(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=S6(n),t=Mn(n,t),i){case 0:e=Z0(null,e,n,t,r);break e;case 1:e=bS(null,e,n,t,r);break e;case 11:e=yS(null,e,n,t,r);break e;case 14:e=vS(null,e,n,Mn(n.type,t),r);break e}throw Error(ae(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Mn(n,i),Z0(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Mn(n,i),bS(t,e,n,i,r);case 3:e:{if(dN(e),t===null)throw Error(ae(387));n=e.pendingProps,a=e.memoizedState,i=a.element,FC(t,e),Dp(e,n,null,r);var o=e.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Nl(Error(ae(423)),e),e=xS(t,e,n,r,i);break e}else if(n!==i){i=Nl(Error(ae(424)),e),e=xS(t,e,n,r,i);break e}else for(sn=Ba(e.stateNode.containerInfo.firstChild),cn=e,kt=!0,Fn=null,r=$C(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Il(),n===i){e=Yi(t,e,r);break e}Rr(t,e,n,r)}e=e.child}return e;case 5:return VC(e),t===null&&G0(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,z0(n,i)?o=null:a!==null&&z0(n,a)&&(e.flags|=32),fN(t,e),Rr(t,e,o,r),e.child;case 6:return t===null&&G0(e),null;case 13:return hN(t,e,r);case 4:return zw(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Ol(e,null,n,r):Rr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Mn(n,i),yS(t,e,n,i,r);case 7:return Rr(t,e,e.pendingProps,r),e.child;case 8:return Rr(t,e,e.pendingProps.children,r),e.child;case 12:return Rr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,dt(Rp,n._currentValue),n._currentValue=o,a!==null)if(Hn(a.value,o)){if(a.children===i.children&&!Qr.current){e=Yi(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=Ui(-1,r&-r),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),X0(a.return,r,e),s.lanes|=r;break}l=l.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(ae(341));o.lanes|=r,s=o.alternate,s!==null&&(s.lanes|=r),X0(o,r,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Rr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,gl(e,r),i=Pn(i),n=n(i),e.flags|=1,Rr(t,e,n,r),e.child;case 14:return n=e.type,i=Mn(n,e.pendingProps),i=Mn(n.type,i),vS(t,e,n,i,r);case 15:return cN(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Mn(n,i),tp(t,e),e.tag=1,Jr(n)?(t=!0,Op(e)):t=!1,gl(e,r),oN(e,n,i),Q0(e,n,i,r),eb(null,e,n,!0,t,r);case 19:return pN(t,e,r);case 22:return uN(t,e,r)}throw Error(ae(156,e.tag))};function ON(t,e){return nC(t,e)}function E6(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(t,e,r,n){return new E6(t,e,r,n)}function i_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function S6(t){if(typeof t=="function")return i_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===kw)return 11;if(t===Ew)return 14}return 2}function Ha(t,e){var r=t.alternate;return r===null?(r=kn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function ip(t,e,r,n,i,a){var o=2;if(n=t,typeof t=="function")i_(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Xs:return Ho(r.children,i,a,e);case _w:o=8,i|=8;break;case w0:return t=kn(12,r,e,i|2),t.elementType=w0,t.lanes=a,t;case _0:return t=kn(13,r,e,i),t.elementType=_0,t.lanes=a,t;case k0:return t=kn(19,r,e,i),t.elementType=k0,t.lanes=a,t;case VO:return bg(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case LO:o=10;break e;case FO:o=9;break e;case kw:o=11;break e;case Ew:o=14;break e;case xa:o=16,n=null;break e}throw Error(ae(130,t==null?t:typeof t,""))}return e=kn(o,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function Ho(t,e,r,n){return t=kn(7,t,n,e),t.lanes=r,t}function bg(t,e,r,n){return t=kn(22,t,n,e),t.elementType=VO,t.lanes=r,t.stateNode={isHidden:!1},t}function Tv(t,e,r){return t=kn(6,t,null,e),t.lanes=r,t}function Av(t,e,r){return e=kn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function T6(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sv(0),this.expirationTimes=sv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sv(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function a_(t,e,r,n,i,a,o,s,l){return t=new T6(t,e,r,s,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=kn(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bw(a),t}function A6(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gs,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function CN(t){if(!t)return to;t=t._reactInternals;e:{if(gs(t)!==t||t.tag!==1)throw Error(ae(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Jr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ae(171))}if(t.tag===1){var r=t.type;if(Jr(r))return CC(t,r,e)}return e}function NN(t,e,r,n,i,a,o,s,l){return t=a_(r,n,!0,t,i,a,o,s,l),t.context=CN(null),r=t.current,n=Fr(),i=qa(r),a=Ui(n,i),a.callback=e??null,za(r,a,i),t.current.lanes=i,dd(t,i,n),Zr(t,n),t}function xg(t,e,r,n){var i=e.current,a=Fr(),o=qa(i);return r=CN(r),e.context===null?e.context=r:e.pendingContext=r,e=Ui(a,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=za(i,e,o),t!==null&&(Wn(t,i,o,a),Jh(t,i,o)),o}function zp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function OS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function o_(t,e){OS(t,e),(t=t.alternate)&&OS(t,e)}function P6(){return null}var RN=typeof reportError=="function"?reportError:function(t){console.error(t)};function s_(t){this._internalRoot=t}wg.prototype.render=s_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ae(409));xg(t,e,null,null)};wg.prototype.unmount=s_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ts(function(){xg(null,t,null,null)}),e[Gi]=null}};function wg(t){this._internalRoot=t}wg.prototype.unstable_scheduleHydration=function(t){if(t){var e=uC();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ea.length&&e!==0&&e<Ea[r].priority;r++);Ea.splice(r,0,t),r===0&&dC(t)}};function l_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function _g(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function CS(){}function I6(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var c=zp(o);a.call(c)}}var o=NN(e,n,t,0,null,!1,!1,"",CS);return t._reactRootContainer=o,t[Gi]=o.current,af(t.nodeType===8?t.parentNode:t),ts(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var c=zp(l);s.call(c)}}var l=a_(t,0,!1,null,null,!1,!1,"",CS);return t._reactRootContainer=l,t[Gi]=l.current,af(t.nodeType===8?t.parentNode:t),ts(function(){xg(e,l,r,n)}),l}function kg(t,e,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=zp(o);s.call(l)}}xg(e,o,t,i)}else o=I6(r,e,t,i,n);return zp(o)}lC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=hu(e.pendingLanes);r!==0&&(Aw(e,r|1),Zr(e,Ut()),!(Ke&6)&&(Rl=Ut()+500,lo()))}break;case 13:ts(function(){var n=Xi(t,1);if(n!==null){var i=Fr();Wn(n,t,1,i)}}),o_(t,1)}};Pw=function(t){if(t.tag===13){var e=Xi(t,134217728);if(e!==null){var r=Fr();Wn(e,t,134217728,r)}o_(t,134217728)}};cC=function(t){if(t.tag===13){var e=qa(t),r=Xi(t,e);if(r!==null){var n=Fr();Wn(r,t,e,n)}o_(t,e)}};uC=function(){return rt};fC=function(t,e){var r=rt;try{return rt=t,e()}finally{rt=r}};R0=function(t,e,r){switch(e){case"input":if(T0(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=hg(n);if(!i)throw Error(ae(90));BO(n),T0(n,i)}}}break;case"textarea":WO(t,r);break;case"select":e=r.value,e!=null&&dl(t,!!r.multiple,e,!1)}};QO=t_;JO=ts;var O6={usingClientEntryPoint:!1,Events:[pd,Zs,hg,XO,YO,t_]},Yc={findFiberByHostInstance:$o,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},C6={bundleType:Yc.bundleType,version:Yc.version,rendererPackageName:Yc.rendererPackageName,rendererConfig:Yc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:oa.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=tC(t),t===null?null:t.stateNode},findFiberByHostInstance:Yc.findFiberByHostInstance||P6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_h.isDisabled&&_h.supportsFiber)try{cg=_h.inject(C6),ui=_h}catch{}}dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O6;dn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!l_(e))throw Error(ae(200));return A6(t,e,null,r)};dn.createRoot=function(t,e){if(!l_(t))throw Error(ae(299));var r=!1,n="",i=RN;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=a_(t,1,!1,null,null,r,!1,n,i),t[Gi]=e.current,af(t.nodeType===8?t.parentNode:t),new s_(e)};dn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ae(188)):(t=Object.keys(t).join(","),Error(ae(268,t)));return t=tC(e),t=t===null?null:t.stateNode,t};dn.flushSync=function(t){return ts(t)};dn.hydrate=function(t,e,r){if(!_g(e))throw Error(ae(200));return kg(null,t,e,!0,r)};dn.hydrateRoot=function(t,e,r){if(!l_(t))throw Error(ae(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=RN;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=NN(e,null,t,1,r??null,i,!1,a,o),t[Gi]=e.current,af(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new wg(e)};dn.render=function(t,e,r){if(!_g(e))throw Error(ae(200));return kg(null,t,e,!1,r)};dn.unmountComponentAtNode=function(t){if(!_g(t))throw Error(ae(40));return t._reactRootContainer?(ts(function(){kg(null,null,t,!1,function(){t._reactRootContainer=null,t[Gi]=null})}),!0):!1};dn.unstable_batchedUpdates=t_;dn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!_g(r))throw Error(ae(200));if(t==null||t._reactInternals===void 0)throw Error(ae(38));return kg(t,e,r,!1,n)};dn.version="18.3.1-next-f1338f8080-20240426";function jN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jN)}catch(t){console.error(t)}}jN(),jO.exports=dn;var N6=jO.exports,DN,NS=N6;DN=NS.createRoot,NS.hydrateRoot;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pf(){return pf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pf.apply(this,arguments)}var Ma;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ma||(Ma={}));const RS="popstate";function R6(t){t===void 0&&(t={});function e(n,i){let{pathname:a,search:o,hash:s}=n.location;return db("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Wp(i)}return D6(e,r,null,t)}function Bt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function MN(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function j6(){return Math.random().toString(36).substr(2,8)}function jS(t,e){return{usr:t.state,key:t.key,idx:e}}function db(t,e,r,n){return r===void 0&&(r=null),pf({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?cc(e):e,{state:r,key:e&&e.key||n||j6()})}function Wp(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function cc(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function D6(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,s=Ma.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(pf({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function f(){s=Ma.Pop;let v=u(),_=v==null?null:v-c;c=v,l&&l({action:s,location:b.location,delta:_})}function h(v,_){s=Ma.Push;let y=db(b.location,v,_);c=u()+1;let x=jS(y,c),k=b.createHref(y);try{o.pushState(x,"",k)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(k)}a&&l&&l({action:s,location:b.location,delta:1})}function p(v,_){s=Ma.Replace;let y=db(b.location,v,_);c=u();let x=jS(y,c),k=b.createHref(y);o.replaceState(x,"",k),a&&l&&l({action:s,location:b.location,delta:0})}function g(v){let _=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof v=="string"?v:Wp(v);return y=y.replace(/ $/,"%20"),Bt(_,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,_)}let b={get action(){return s},get location(){return t(i,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(RS,f),l=v,()=>{i.removeEventListener(RS,f),l=null}},createHref(v){return e(i,v)},createURL:g,encodeLocation(v){let _=g(v);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:h,replace:p,go(v){return o.go(v)}};return b}var DS;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(DS||(DS={}));function M6(t,e,r){return r===void 0&&(r="/"),$6(t,e,r,!1)}function $6(t,e,r,n){let i=typeof e=="string"?cc(e):e,a=c_(i.pathname||"/",r);if(a==null)return null;let o=$N(t);L6(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let c=X6(a);s=K6(o[l],c,n)}return s}function $N(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,o,s)=>{let l={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};l.relativePath.startsWith("/")&&(Bt(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=Ka([n,l.relativePath]),u=r.concat(l);a.children&&a.children.length>0&&(Bt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),$N(a.children,e,u,c)),!(a.path==null&&!a.index)&&e.push({path:c,score:q6(c,a.index),routesMeta:u})};return t.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let l of LN(a.path))i(a,o,l)}),e}function LN(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=LN(n.join("/")),s=[];return s.push(...o.map(l=>l===""?a:[a,l].join("/"))),i&&s.push(...o),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function L6(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:H6(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const F6=/^:[\w-]+$/,V6=3,U6=2,B6=1,z6=10,W6=-2,MS=t=>t==="*";function q6(t,e){let r=t.split("/"),n=r.length;return r.some(MS)&&(n+=W6),e&&(n+=U6),r.filter(i=>!MS(i)).reduce((i,a)=>i+(F6.test(a)?V6:a===""?B6:z6),n)}function H6(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function K6(t,e,r){let{routesMeta:n}=t,i={},a="/",o=[];for(let s=0;s<n.length;++s){let l=n[s],c=s===n.length-1,u=a==="/"?e:e.slice(a.length)||"/",f=$S({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!f&&c&&r&&!n[n.length-1].route.index&&(f=$S({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Ka([a,f.pathname]),pathnameBase:Z6(Ka([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=Ka([a,f.pathnameBase]))}return o}function $S(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=G6(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:n.reduce((c,u,f)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let b=s[f]||"";o=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const g=s[f];return p&&!g?c[h]=void 0:c[h]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:o,pattern:t}}function G6(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),MN(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(n.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function X6(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return MN(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function c_(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function Y6(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?cc(t):t;return{pathname:r?r.startsWith("/")?r:Q6(r,e):e,search:eF(n),hash:tF(i)}}function Q6(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Pv(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function J6(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function u_(t,e){let r=J6(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function f_(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=cc(t):(i=pf({},t),Bt(!i.pathname||!i.pathname.includes("?"),Pv("?","pathname","search",i)),Bt(!i.pathname||!i.pathname.includes("#"),Pv("#","pathname","hash",i)),Bt(!i.search||!i.search.includes("#"),Pv("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=r;else{let f=e.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}s=f>=0?e[f]:"/"}let l=Y6(i,s),c=o&&o!=="/"&&o.endsWith("/"),u=(a||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Ka=t=>t.join("/").replace(/\/\/+/g,"/"),Z6=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),eF=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,tF=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function rF(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const FN=["post","put","patch","delete"];new Set(FN);const nF=["get",...FN];new Set(nF);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mf(){return mf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mf.apply(this,arguments)}const d_=D.createContext(null),iF=D.createContext(null),co=D.createContext(null),Eg=D.createContext(null),uo=D.createContext({outlet:null,matches:[],isDataRoute:!1}),VN=D.createContext(null);function aF(t,e){let{relative:r}=e===void 0?{}:e;uc()||Bt(!1);let{basename:n,navigator:i}=D.useContext(co),{hash:a,pathname:o,search:s}=BN(t,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:Ka([n,o])),i.createHref({pathname:l,search:s,hash:a})}function uc(){return D.useContext(Eg)!=null}function ys(){return uc()||Bt(!1),D.useContext(Eg).location}function UN(t){D.useContext(co).static||D.useLayoutEffect(t)}function h_(){let{isDataRoute:t}=D.useContext(uo);return t?vF():oF()}function oF(){uc()||Bt(!1);let t=D.useContext(d_),{basename:e,future:r,navigator:n}=D.useContext(co),{matches:i}=D.useContext(uo),{pathname:a}=ys(),o=JSON.stringify(u_(i,r.v7_relativeSplatPath)),s=D.useRef(!1);return UN(()=>{s.current=!0}),D.useCallback(function(c,u){if(u===void 0&&(u={}),!s.current)return;if(typeof c=="number"){n.go(c);return}let f=f_(c,JSON.parse(o),a,u.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Ka([e,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[e,n,o,a,t])}function BN(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=D.useContext(co),{matches:i}=D.useContext(uo),{pathname:a}=ys(),o=JSON.stringify(u_(i,n.v7_relativeSplatPath));return D.useMemo(()=>f_(t,JSON.parse(o),a,r==="path"),[t,o,a,r])}function sF(t,e){return lF(t,e)}function lF(t,e,r,n){uc()||Bt(!1);let{navigator:i}=D.useContext(co),{matches:a}=D.useContext(uo),o=a[a.length-1],s=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=ys(),u;if(e){var f;let v=typeof e=="string"?cc(e):e;l==="/"||(f=v.pathname)!=null&&f.startsWith(l)||Bt(!1),u=v}else u=c;let h=u.pathname||"/",p=h;if(l!=="/"){let v=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=M6(t,{pathname:p}),b=hF(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},s,v.params),pathname:Ka([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:Ka([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,r,n);return e&&b?D.createElement(Eg.Provider,{value:{location:mf({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ma.Pop}},b):b}function cF(){let t=yF(),e=rF(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),r?D.createElement("pre",{style:i},r):null,null)}const uF=D.createElement(cF,null);class fF extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?D.createElement(uo.Provider,{value:this.props.routeContext},D.createElement(VN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function dF(t){let{routeContext:e,match:r,children:n}=t,i=D.useContext(d_);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),D.createElement(uo.Provider,{value:e},n)}function hF(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,s=(i=r)==null?void 0:i.errors;if(s!=null){let u=o.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);u>=0||Bt(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let f=o[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:h,errors:p}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,f,h)=>{let p,g=!1,b=null,v=null;r&&(p=s&&f.route.id?s[f.route.id]:void 0,b=f.route.errorElement||uF,l&&(c<0&&h===0?(g=!0,v=null):c===h&&(g=!0,v=f.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,h+1)),y=()=>{let x;return p?x=b:g?x=v:f.route.Component?x=D.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=u,D.createElement(dF,{match:f,routeContext:{outlet:u,matches:_,isDataRoute:r!=null},children:x})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?D.createElement(fF,{location:r.location,revalidation:r.revalidation,component:b,error:p,children:y(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):y()},null)}var zN=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(zN||{}),qp=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(qp||{});function pF(t){let e=D.useContext(d_);return e||Bt(!1),e}function mF(t){let e=D.useContext(iF);return e||Bt(!1),e}function gF(t){let e=D.useContext(uo);return e||Bt(!1),e}function WN(t){let e=gF(),r=e.matches[e.matches.length-1];return r.route.id||Bt(!1),r.route.id}function yF(){var t;let e=D.useContext(VN),r=mF(qp.UseRouteError),n=WN(qp.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function vF(){let{router:t}=pF(zN.UseNavigateStable),e=WN(qp.UseNavigateStable),r=D.useRef(!1);return UN(()=>{r.current=!0}),D.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,mf({fromRouteId:e},a)))},[t,e])}function qN(t){let{to:e,replace:r,state:n,relative:i}=t;uc()||Bt(!1);let{future:a,static:o}=D.useContext(co),{matches:s}=D.useContext(uo),{pathname:l}=ys(),c=h_(),u=f_(e,u_(s,a.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(u);return D.useEffect(()=>c(JSON.parse(f),{replace:r,state:n,relative:i}),[c,f,i,r,n]),null}function ba(t){Bt(!1)}function bF(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Ma.Pop,navigator:a,static:o=!1,future:s}=t;uc()&&Bt(!1);let l=e.replace(/^\/*/,"/"),c=D.useMemo(()=>({basename:l,navigator:a,static:o,future:mf({v7_relativeSplatPath:!1},s)}),[l,s,a,o]);typeof n=="string"&&(n=cc(n));let{pathname:u="/",search:f="",hash:h="",state:p=null,key:g="default"}=n,b=D.useMemo(()=>{let v=c_(u,l);return v==null?null:{location:{pathname:v,search:f,hash:h,state:p,key:g},navigationType:i}},[l,u,f,h,p,g,i]);return b==null?null:D.createElement(co.Provider,{value:c},D.createElement(Eg.Provider,{children:r,value:b}))}function xF(t){let{children:e,location:r}=t;return sF(hb(e),r)}new Promise(()=>{});function hb(t,e){e===void 0&&(e=[]);let r=[];return D.Children.forEach(t,(n,i)=>{if(!D.isValidElement(n))return;let a=[...e,i];if(n.type===D.Fragment){r.push.apply(r,hb(n.props.children,a));return}n.type!==ba&&Bt(!1),!n.props.index||!n.props.children||Bt(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=hb(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pb(){return pb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pb.apply(this,arguments)}function wF(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function _F(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function kF(t,e){return t.button===0&&(!e||e==="_self")&&!_F(t)}const EF=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],SF="6";try{window.__reactRouterVersion=SF}catch{}const TF="startTransition",LS=w3[TF];function AF(t){let{basename:e,children:r,future:n,window:i}=t,a=D.useRef();a.current==null&&(a.current=R6({window:i,v5Compat:!0}));let o=a.current,[s,l]=D.useState({action:o.action,location:o.location}),{v7_startTransition:c}=n||{},u=D.useCallback(f=>{c&&LS?LS(()=>l(f)):l(f)},[l,c]);return D.useLayoutEffect(()=>o.listen(u),[o,u]),D.createElement(bF,{basename:e,children:r,location:s.location,navigationType:s.action,navigator:o,future:n})}const PF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",IF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ms=D.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:a,replace:o,state:s,target:l,to:c,preventScrollReset:u,unstable_viewTransition:f}=e,h=wF(e,EF),{basename:p}=D.useContext(co),g,b=!1;if(typeof c=="string"&&IF.test(c)&&(g=c,PF))try{let x=new URL(window.location.href),k=c.startsWith("//")?new URL(x.protocol+c):new URL(c),T=c_(k.pathname,p);k.origin===x.origin&&T!=null?c=T+k.search+k.hash:b=!0}catch{}let v=aF(c,{relative:i}),_=OF(c,{replace:o,state:s,target:l,preventScrollReset:u,relative:i,unstable_viewTransition:f});function y(x){n&&n(x),x.defaultPrevented||_(x)}return D.createElement("a",pb({},h,{href:g||v,onClick:b||a?n:y,ref:r,target:l}))});var FS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(FS||(FS={}));var VS;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(VS||(VS={}));function OF(t,e){let{target:r,replace:n,state:i,preventScrollReset:a,relative:o,unstable_viewTransition:s}=e===void 0?{}:e,l=h_(),c=ys(),u=BN(t,{relative:o});return D.useCallback(f=>{if(kF(f,r)){f.preventDefault();let h=n!==void 0?n:Wp(c)===Wp(u);l(t,{replace:h,state:i,preventScrollReset:a,relative:o,unstable_viewTransition:s})}},[c,l,u,n,i,r,t,a,o,s])}var gd=t=>t.type==="checkbox",ol=t=>t instanceof Date,jr=t=>t==null;const HN=t=>typeof t=="object";var Kt=t=>!jr(t)&&!Array.isArray(t)&&HN(t)&&!ol(t),CF=t=>Kt(t)&&t.target?gd(t.target)?t.target.checked:t.target.value:t,NF=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,RF=(t,e)=>t.has(NF(e)),jF=t=>{const e=t.constructor&&t.constructor.prototype;return Kt(e)&&e.hasOwnProperty("isPrototypeOf")},p_=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function vn(t){let e;const r=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(p_&&(t instanceof Blob||t instanceof FileList))&&(r||Kt(t)))if(e=r?[]:{},!r&&!jF(t))e=t;else for(const n in t)t.hasOwnProperty(n)&&(e[n]=vn(t[n]));else return t;return e}var Sg=t=>Array.isArray(t)?t.filter(Boolean):[],Ft=t=>t===void 0,ge=(t,e,r)=>{if(!e||!Kt(t))return r;const n=Sg(e.split(/[,[\].]+?/)).reduce((i,a)=>jr(i)?i:i[a],t);return Ft(n)||n===t?Ft(t[e])?r:t[e]:n},ri=t=>typeof t=="boolean",m_=t=>/^\w*$/.test(t),KN=t=>Sg(t.replace(/["|']|\]/g,"").split(/\.|\[/)),gt=(t,e,r)=>{let n=-1;const i=m_(e)?[e]:KN(e),a=i.length,o=a-1;for(;++n<a;){const s=i[n];let l=r;if(n!==o){const c=t[s];l=Kt(c)||Array.isArray(c)?c:isNaN(+i[n+1])?{}:[]}if(s==="__proto__")return;t[s]=l,t=t[s]}return t};const US={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Vn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ai={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};$.createContext(null);var DF=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(i,a,{get:()=>{const o=a;return e._proxyFormState[o]!==Vn.all&&(e._proxyFormState[o]=!n||Vn.all),t[o]}});return i},qr=t=>Kt(t)&&!Object.keys(t).length,MF=(t,e,r,n)=>{r(t);const{name:i,...a}=t;return qr(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(o=>e[o]===Vn.all)},ap=t=>Array.isArray(t)?t:[t];function $F(t){const e=$.useRef(t);e.current=t,$.useEffect(()=>{const r=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{r&&r.unsubscribe()}},[t.disabled])}var oi=t=>typeof t=="string",LF=(t,e,r,n,i)=>oi(t)?(n&&e.watch.add(t),ge(r,t,i)):Array.isArray(t)?t.map(a=>(n&&e.watch.add(a),ge(r,a))):(n&&(e.watchAll=!0),r),FF=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},BS=t=>({isOnSubmit:!t||t===Vn.onSubmit,isOnBlur:t===Vn.onBlur,isOnChange:t===Vn.onChange,isOnAll:t===Vn.all,isOnTouch:t===Vn.onTouched}),zS=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Ru=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const a=ge(t,i);if(a){const{_f:o,...s}=a;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!n)return!0;if(o.ref&&e(o.ref,o.name)&&!n)return!0;if(Ru(s,e))break}else if(Kt(s)&&Ru(s,e))break}}};var VF=(t,e,r)=>{const n=ap(ge(t,r));return gt(n,"root",e[r]),gt(t,r,n),t},g_=t=>t.type==="file",ji=t=>typeof t=="function",Hp=t=>{if(!p_)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},op=t=>oi(t),y_=t=>t.type==="radio",Kp=t=>t instanceof RegExp;const WS={value:!1,isValid:!1},qS={value:!0,isValid:!0};var GN=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Ft(t[0].attributes.value)?Ft(t[0].value)||t[0].value===""?qS:{value:t[0].value,isValid:!0}:qS:WS}return WS};const HS={isValid:!1,value:null};var XN=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,HS):HS;function KS(t,e,r="validate"){if(op(t)||Array.isArray(t)&&t.every(op)||ri(t)&&!t)return{type:r,message:op(t)?t:"",ref:e}}var $s=t=>Kt(t)&&!Kp(t)?t:{value:t,message:""},GS=async(t,e,r,n,i)=>{const{ref:a,refs:o,required:s,maxLength:l,minLength:c,min:u,max:f,pattern:h,validate:p,name:g,valueAsNumber:b,mount:v,disabled:_}=t._f,y=ge(e,g);if(!v||_)return{};const x=o?o[0]:a,k=N=>{n&&x.reportValidity&&(x.setCustomValidity(ri(N)?"":N||""),x.reportValidity())},T={},C=y_(a),S=gd(a),E=C||S,P=(b||g_(a))&&Ft(a.value)&&Ft(y)||Hp(a)&&a.value===""||y===""||Array.isArray(y)&&!y.length,I=FF.bind(null,g,r,T),R=(N,O,F,W=Ai.maxLength,H=Ai.minLength)=>{const X=N?O:F;T[g]={type:N?W:H,message:X,ref:a,...I(N?W:H,X)}};if(i?!Array.isArray(y)||!y.length:s&&(!E&&(P||jr(y))||ri(y)&&!y||S&&!GN(o).isValid||C&&!XN(o).isValid)){const{value:N,message:O}=op(s)?{value:!!s,message:s}:$s(s);if(N&&(T[g]={type:Ai.required,message:O,ref:x,...I(Ai.required,O)},!r))return k(O),T}if(!P&&(!jr(u)||!jr(f))){let N,O;const F=$s(f),W=$s(u);if(!jr(y)&&!isNaN(y)){const H=a.valueAsNumber||y&&+y;jr(F.value)||(N=H>F.value),jr(W.value)||(O=H<W.value)}else{const H=a.valueAsDate||new Date(y),X=ee=>new Date(new Date().toDateString()+" "+ee),V=a.type=="time",Q=a.type=="week";oi(F.value)&&y&&(N=V?X(y)>X(F.value):Q?y>F.value:H>new Date(F.value)),oi(W.value)&&y&&(O=V?X(y)<X(W.value):Q?y<W.value:H<new Date(W.value))}if((N||O)&&(R(!!N,F.message,W.message,Ai.max,Ai.min),!r))return k(T[g].message),T}if((l||c)&&!P&&(oi(y)||i&&Array.isArray(y))){const N=$s(l),O=$s(c),F=!jr(N.value)&&y.length>+N.value,W=!jr(O.value)&&y.length<+O.value;if((F||W)&&(R(F,N.message,O.message),!r))return k(T[g].message),T}if(h&&!P&&oi(y)){const{value:N,message:O}=$s(h);if(Kp(N)&&!y.match(N)&&(T[g]={type:Ai.pattern,message:O,ref:a,...I(Ai.pattern,O)},!r))return k(O),T}if(p){if(ji(p)){const N=await p(y,e),O=KS(N,x);if(O&&(T[g]={...O,...I(Ai.validate,O.message)},!r))return k(O.message),T}else if(Kt(p)){let N={};for(const O in p){if(!qr(N)&&!r)break;const F=KS(await p[O](y,e),x,O);F&&(N={...F,...I(O,F.message)},k(F.message),r&&(T[g]=N))}if(!qr(N)&&(T[g]={ref:x,...N},!r))return T}}return k(!0),T};function UF(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=Ft(t)?n++:t[e[n++]];return t}function BF(t){for(const e in t)if(t.hasOwnProperty(e)&&!Ft(t[e]))return!1;return!0}function Xt(t,e){const r=Array.isArray(e)?e:m_(e)?[e]:KN(e),n=r.length===1?t:UF(t,r),i=r.length-1,a=r[i];return n&&delete n[a],i!==0&&(Kt(n)&&qr(n)||Array.isArray(n)&&BF(n))&&Xt(t,r.slice(0,-1)),t}var Iv=()=>{let t=[];return{get observers(){return t},next:i=>{for(const a of t)a.next&&a.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(a=>a!==i)}}),unsubscribe:()=>{t=[]}}},Gp=t=>jr(t)||!HN(t);function Ta(t,e){if(Gp(t)||Gp(e))return t===e;if(ol(t)&&ol(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const i of r){const a=t[i];if(!n.includes(i))return!1;if(i!=="ref"){const o=e[i];if(ol(a)&&ol(o)||Kt(a)&&Kt(o)||Array.isArray(a)&&Array.isArray(o)?!Ta(a,o):a!==o)return!1}}return!0}var YN=t=>t.type==="select-multiple",zF=t=>y_(t)||gd(t),Ov=t=>Hp(t)&&t.isConnected,QN=t=>{for(const e in t)if(ji(t[e]))return!0;return!1};function Xp(t,e={}){const r=Array.isArray(t);if(Kt(t)||r)for(const n in t)Array.isArray(t[n])||Kt(t[n])&&!QN(t[n])?(e[n]=Array.isArray(t[n])?[]:{},Xp(t[n],e[n])):jr(t[n])||(e[n]=!0);return e}function JN(t,e,r){const n=Array.isArray(t);if(Kt(t)||n)for(const i in t)Array.isArray(t[i])||Kt(t[i])&&!QN(t[i])?Ft(e)||Gp(r[i])?r[i]=Array.isArray(t[i])?Xp(t[i],[]):{...Xp(t[i])}:JN(t[i],jr(e)?{}:e[i],r[i]):r[i]=!Ta(t[i],e[i]);return r}var kh=(t,e)=>JN(t,e,Xp(e)),ZN=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Ft(t)?t:e?t===""?NaN:t&&+t:r&&oi(t)?new Date(t):n?n(t):t;function Cv(t){const e=t.ref;if(!(t.refs?t.refs.every(r=>r.disabled):e.disabled))return g_(e)?e.files:y_(e)?XN(t.refs).value:YN(e)?[...e.selectedOptions].map(({value:r})=>r):gd(e)?GN(t.refs).value:ZN(Ft(e.value)?t.ref.value:e.value,t)}var WF=(t,e,r,n)=>{const i={};for(const a of t){const o=ge(e,a);o&&gt(i,a,o._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},Qc=t=>Ft(t)?t:Kp(t)?t.source:Kt(t)?Kp(t.value)?t.value.source:t.value:t;const XS="AsyncFunction";var qF=t=>(!t||!t.validate)&&!!(ji(t.validate)&&t.validate.constructor.name===XS||Kt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===XS)),HF=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function YS(t,e,r){const n=ge(t,r);if(n||m_(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const a=i.join("."),o=ge(e,a),s=ge(t,a);if(o&&!Array.isArray(o)&&r!==a)return{name:r};if(s&&s.type)return{name:a,error:s};i.pop()}return{name:r}}var KF=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,GF=(t,e)=>!Sg(ge(t,e)).length&&Xt(t,e);const XF={mode:Vn.onSubmit,reValidateMode:Vn.onChange,shouldFocusError:!0};function YF(t={}){let e={...XF,...t},r={submitCount:0,isDirty:!1,isLoading:ji(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=Kt(e.defaultValues)||Kt(e.values)?vn(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:vn(i),o={action:!1,mount:!1,watch:!1},s={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:Iv(),array:Iv(),state:Iv()},h=BS(e.mode),p=BS(e.reValidateMode),g=e.criteriaMode===Vn.all,b=M=>U=>{clearTimeout(c),c=setTimeout(M,U)},v=async M=>{if(u.isValid||M){const U=e.resolver?qr((await E()).errors):await I(n,!0);U!==r.isValid&&f.state.next({isValid:U})}},_=(M,U)=>{(u.isValidating||u.validatingFields)&&((M||Array.from(s.mount)).forEach(B=>{B&&(U?gt(r.validatingFields,B,U):Xt(r.validatingFields,B))}),f.state.next({validatingFields:r.validatingFields,isValidating:!qr(r.validatingFields)}))},y=(M,U=[],B,L,z=!0,K=!0)=>{if(L&&B){if(o.action=!0,K&&Array.isArray(ge(n,M))){const ne=B(ge(n,M),L.argA,L.argB);z&&gt(n,M,ne)}if(K&&Array.isArray(ge(r.errors,M))){const ne=B(ge(r.errors,M),L.argA,L.argB);z&&gt(r.errors,M,ne),GF(r.errors,M)}if(u.touchedFields&&K&&Array.isArray(ge(r.touchedFields,M))){const ne=B(ge(r.touchedFields,M),L.argA,L.argB);z&&gt(r.touchedFields,M,ne)}u.dirtyFields&&(r.dirtyFields=kh(i,a)),f.state.next({name:M,isDirty:N(M,U),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else gt(a,M,U)},x=(M,U)=>{gt(r.errors,M,U),f.state.next({errors:r.errors})},k=M=>{r.errors=M,f.state.next({errors:r.errors,isValid:!1})},T=(M,U,B,L)=>{const z=ge(n,M);if(z){const K=ge(a,M,Ft(B)?ge(i,M):B);Ft(K)||L&&L.defaultChecked||U?gt(a,M,U?K:Cv(z._f)):W(M,K),o.mount&&v()}},C=(M,U,B,L,z)=>{let K=!1,ne=!1;const ve={name:M},_e=!!(ge(n,M)&&ge(n,M)._f&&ge(n,M)._f.disabled);if(!B||L){u.isDirty&&(ne=r.isDirty,r.isDirty=ve.isDirty=N(),K=ne!==ve.isDirty);const Re=_e||Ta(ge(i,M),U);ne=!!(!_e&&ge(r.dirtyFields,M)),Re||_e?Xt(r.dirtyFields,M):gt(r.dirtyFields,M,!0),ve.dirtyFields=r.dirtyFields,K=K||u.dirtyFields&&ne!==!Re}if(B){const Re=ge(r.touchedFields,M);Re||(gt(r.touchedFields,M,B),ve.touchedFields=r.touchedFields,K=K||u.touchedFields&&Re!==B)}return K&&z&&f.state.next(ve),K?ve:{}},S=(M,U,B,L)=>{const z=ge(r.errors,M),K=u.isValid&&ri(U)&&r.isValid!==U;if(t.delayError&&B?(l=b(()=>x(M,B)),l(t.delayError)):(clearTimeout(c),l=null,B?gt(r.errors,M,B):Xt(r.errors,M)),(B?!Ta(z,B):z)||!qr(L)||K){const ne={...L,...K&&ri(U)?{isValid:U}:{},errors:r.errors,name:M};r={...r,...ne},f.state.next(ne)}},E=async M=>{_(M,!0);const U=await e.resolver(a,e.context,WF(M||s.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return _(M),U},P=async M=>{const{errors:U}=await E(M);if(M)for(const B of M){const L=ge(U,B);L?gt(r.errors,B,L):Xt(r.errors,B)}else r.errors=U;return U},I=async(M,U,B={valid:!0})=>{for(const L in M){const z=M[L];if(z){const{_f:K,...ne}=z;if(K){const ve=s.array.has(K.name),_e=z._f&&qF(z._f);_e&&u.validatingFields&&_([L],!0);const Re=await GS(z,a,g,e.shouldUseNativeValidation&&!U,ve);if(_e&&u.validatingFields&&_([L]),Re[K.name]&&(B.valid=!1,U))break;!U&&(ge(Re,K.name)?ve?VF(r.errors,Re,K.name):gt(r.errors,K.name,Re[K.name]):Xt(r.errors,K.name))}!qr(ne)&&await I(ne,U,B)}}return B.valid},R=()=>{for(const M of s.unMount){const U=ge(n,M);U&&(U._f.refs?U._f.refs.every(B=>!Ov(B)):!Ov(U._f.ref))&&et(M)}s.unMount=new Set},N=(M,U)=>(M&&U&&gt(a,M,U),!Ta(oe(),i)),O=(M,U,B)=>LF(M,s,{...o.mount?a:Ft(U)?i:oi(M)?{[M]:U}:U},B,U),F=M=>Sg(ge(o.mount?a:i,M,t.shouldUnregister?ge(i,M,[]):[])),W=(M,U,B={})=>{const L=ge(n,M);let z=U;if(L){const K=L._f;K&&(!K.disabled&&gt(a,M,ZN(U,K)),z=Hp(K.ref)&&jr(U)?"":U,YN(K.ref)?[...K.ref.options].forEach(ne=>ne.selected=z.includes(ne.value)):K.refs?gd(K.ref)?K.refs.length>1?K.refs.forEach(ne=>(!ne.defaultChecked||!ne.disabled)&&(ne.checked=Array.isArray(z)?!!z.find(ve=>ve===ne.value):z===ne.value)):K.refs[0]&&(K.refs[0].checked=!!z):K.refs.forEach(ne=>ne.checked=ne.value===z):g_(K.ref)?K.ref.value="":(K.ref.value=z,K.ref.type||f.values.next({name:M,values:{...a}})))}(B.shouldDirty||B.shouldTouch)&&C(M,z,B.shouldTouch,B.shouldDirty,!0),B.shouldValidate&&ee(M)},H=(M,U,B)=>{for(const L in U){const z=U[L],K=`${M}.${L}`,ne=ge(n,K);(s.array.has(M)||!Gp(z)||ne&&!ne._f)&&!ol(z)?H(K,z,B):W(K,z,B)}},X=(M,U,B={})=>{const L=ge(n,M),z=s.array.has(M),K=vn(U);gt(a,M,K),z?(f.array.next({name:M,values:{...a}}),(u.isDirty||u.dirtyFields)&&B.shouldDirty&&f.state.next({name:M,dirtyFields:kh(i,a),isDirty:N(M,K)})):L&&!L._f&&!jr(K)?H(M,K,B):W(M,K,B),zS(M,s)&&f.state.next({...r}),f.values.next({name:o.mount?M:void 0,values:{...a}})},V=async M=>{o.mount=!0;const U=M.target;let B=U.name,L=!0;const z=ge(n,B),K=()=>U.type?Cv(z._f):CF(M),ne=ve=>{L=Number.isNaN(ve)||Ta(ve,ge(a,B,ve))};if(z){let ve,_e;const Re=K(),Wr=M.type===US.BLUR||M.type===US.FOCUS_OUT,Is=!HF(z._f)&&!e.resolver&&!ge(r.errors,B)&&!z._f.deps||KF(Wr,ge(r.touchedFields,B),r.isSubmitted,p,h),_o=zS(B,s,Wr);gt(a,B,Re),Wr?(z._f.onBlur&&z._f.onBlur(M),l&&l(0)):z._f.onChange&&z._f.onChange(M);const ua=C(B,Re,Wr,!1),fa=!qr(ua)||_o;if(!Wr&&f.values.next({name:B,type:M.type,values:{...a}}),Is)return u.isValid&&(t.mode==="onBlur"?Wr&&v():v()),fa&&f.state.next({name:B,..._o?{}:ua});if(!Wr&&_o&&f.state.next({...r}),e.resolver){const{errors:da}=await E([B]);if(ne(Re),L){const Os=YS(r.errors,n,B),ha=YS(da,n,Os.name||B);ve=ha.error,B=ha.name,_e=qr(da)}}else _([B],!0),ve=(await GS(z,a,g,e.shouldUseNativeValidation))[B],_([B]),ne(Re),L&&(ve?_e=!1:u.isValid&&(_e=await I(n,!0)));L&&(z._f.deps&&ee(z._f.deps),S(B,_e,ve,ua))}},Q=(M,U)=>{if(ge(r.errors,U)&&M.focus)return M.focus(),1},ee=async(M,U={})=>{let B,L;const z=ap(M);if(e.resolver){const K=await P(Ft(M)?M:z);B=qr(K),L=M?!z.some(ne=>ge(K,ne)):B}else M?(L=(await Promise.all(z.map(async K=>{const ne=ge(n,K);return await I(ne&&ne._f?{[K]:ne}:ne)}))).every(Boolean),!(!L&&!r.isValid)&&v()):L=B=await I(n);return f.state.next({...!oi(M)||u.isValid&&B!==r.isValid?{}:{name:M},...e.resolver||!M?{isValid:B}:{},errors:r.errors}),U.shouldFocus&&!L&&Ru(n,Q,M?z:s.mount),L},oe=M=>{const U={...o.mount?a:i};return Ft(M)?U:oi(M)?ge(U,M):M.map(B=>ge(U,B))},Z=(M,U)=>({invalid:!!ge((U||r).errors,M),isDirty:!!ge((U||r).dirtyFields,M),error:ge((U||r).errors,M),isValidating:!!ge(r.validatingFields,M),isTouched:!!ge((U||r).touchedFields,M)}),le=M=>{M&&ap(M).forEach(U=>Xt(r.errors,U)),f.state.next({errors:M?r.errors:{}})},Ee=(M,U,B)=>{const L=(ge(n,M,{_f:{}})._f||{}).ref,z=ge(r.errors,M)||{},{ref:K,message:ne,type:ve,..._e}=z;gt(r.errors,M,{..._e,...U,ref:L}),f.state.next({name:M,errors:r.errors,isValid:!1}),B&&B.shouldFocus&&L&&L.focus&&L.focus()},je=(M,U)=>ji(M)?f.values.subscribe({next:B=>M(O(void 0,U),B)}):O(M,U,!0),et=(M,U={})=>{for(const B of M?ap(M):s.mount)s.mount.delete(B),s.array.delete(B),U.keepValue||(Xt(n,B),Xt(a,B)),!U.keepError&&Xt(r.errors,B),!U.keepDirty&&Xt(r.dirtyFields,B),!U.keepTouched&&Xt(r.touchedFields,B),!U.keepIsValidating&&Xt(r.validatingFields,B),!e.shouldUnregister&&!U.keepDefaultValue&&Xt(i,B);f.values.next({values:{...a}}),f.state.next({...r,...U.keepDirty?{isDirty:N()}:{}}),!U.keepIsValid&&v()},Fe=({disabled:M,name:U,field:B,fields:L,value:z})=>{if(ri(M)&&o.mount||M){const K=M?void 0:Ft(z)?Cv(B?B._f:ge(L,U)._f):z;gt(a,U,K),C(U,K,!1,!1,!0)}},Mt=(M,U={})=>{let B=ge(n,M);const L=ri(U.disabled)||ri(t.disabled);return gt(n,M,{...B||{},_f:{...B&&B._f?B._f:{ref:{name:M}},name:M,mount:!0,...U}}),s.mount.add(M),B?Fe({field:B,disabled:ri(U.disabled)?U.disabled:t.disabled,name:M,value:U.value}):T(M,!0,U.value),{...L?{disabled:U.disabled||t.disabled}:{},...e.progressive?{required:!!U.required,min:Qc(U.min),max:Qc(U.max),minLength:Qc(U.minLength),maxLength:Qc(U.maxLength),pattern:Qc(U.pattern)}:{},name:M,onChange:V,onBlur:V,ref:z=>{if(z){Mt(M,U),B=ge(n,M);const K=Ft(z.value)&&z.querySelectorAll&&z.querySelectorAll("input,select,textarea")[0]||z,ne=zF(K),ve=B._f.refs||[];if(ne?ve.find(_e=>_e===K):K===B._f.ref)return;gt(n,M,{_f:{...B._f,...ne?{refs:[...ve.filter(Ov),K,...Array.isArray(ge(i,M))?[{}]:[]],ref:{type:K.type,name:M}}:{ref:K}}}),T(M,!1,void 0,K)}else B=ge(n,M,{}),B._f&&(B._f.mount=!1),(e.shouldUnregister||U.shouldUnregister)&&!(RF(s.array,M)&&o.action)&&s.unMount.add(M)}}},ce=()=>e.shouldFocusError&&Ru(n,Q,s.mount),be=M=>{ri(M)&&(f.state.next({disabled:M}),Ru(n,(U,B)=>{const L=ge(n,B);L&&(U.disabled=L._f.disabled||M,Array.isArray(L._f.refs)&&L._f.refs.forEach(z=>{z.disabled=L._f.disabled||M}))},0,!1))},we=(M,U)=>async B=>{let L;B&&(B.preventDefault&&B.preventDefault(),B.persist&&B.persist());let z=vn(a);if(f.state.next({isSubmitting:!0}),e.resolver){const{errors:K,values:ne}=await E();r.errors=K,z=ne}else await I(n);if(Xt(r.errors,"root"),qr(r.errors)){f.state.next({errors:{}});try{await M(z,B)}catch(K){L=K}}else U&&await U({...r.errors},B),ce(),setTimeout(ce);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:qr(r.errors)&&!L,submitCount:r.submitCount+1,errors:r.errors}),L)throw L},J=(M,U={})=>{ge(n,M)&&(Ft(U.defaultValue)?X(M,vn(ge(i,M))):(X(M,U.defaultValue),gt(i,M,vn(U.defaultValue))),U.keepTouched||Xt(r.touchedFields,M),U.keepDirty||(Xt(r.dirtyFields,M),r.isDirty=U.defaultValue?N(M,vn(ge(i,M))):N()),U.keepError||(Xt(r.errors,M),u.isValid&&v()),f.state.next({...r}))},Ve=(M,U={})=>{const B=M?vn(M):i,L=vn(B),z=qr(M),K=z?i:L;if(U.keepDefaultValues||(i=B),!U.keepValues){if(U.keepDirtyValues)for(const ne of s.mount)ge(r.dirtyFields,ne)?gt(K,ne,ge(a,ne)):X(ne,ge(K,ne));else{if(p_&&Ft(M))for(const ne of s.mount){const ve=ge(n,ne);if(ve&&ve._f){const _e=Array.isArray(ve._f.refs)?ve._f.refs[0]:ve._f.ref;if(Hp(_e)){const Re=_e.closest("form");if(Re){Re.reset();break}}}}n={}}a=t.shouldUnregister?U.keepDefaultValues?vn(i):{}:vn(K),f.array.next({values:{...K}}),f.values.next({values:{...K}})}s={mount:U.keepDirtyValues?s.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!U.keepIsValid||!!U.keepDirtyValues,o.watch=!!t.shouldUnregister,f.state.next({submitCount:U.keepSubmitCount?r.submitCount:0,isDirty:z?!1:U.keepDirty?r.isDirty:!!(U.keepDefaultValues&&!Ta(M,i)),isSubmitted:U.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:z?{}:U.keepDirtyValues?U.keepDefaultValues&&a?kh(i,a):r.dirtyFields:U.keepDefaultValues&&M?kh(i,M):U.keepDirty?r.dirtyFields:{},touchedFields:U.keepTouched?r.touchedFields:{},errors:U.keepErrors?r.errors:{},isSubmitSuccessful:U.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Pe=(M,U)=>Ve(ji(M)?M(a):M,U);return{control:{register:Mt,unregister:et,getFieldState:Z,handleSubmit:we,setError:Ee,_executeSchema:E,_getWatch:O,_getDirty:N,_updateValid:v,_removeUnmounted:R,_updateFieldArray:y,_updateDisabledField:Fe,_getFieldArray:F,_reset:Ve,_resetDefaultValues:()=>ji(e.defaultValues)&&e.defaultValues().then(M=>{Pe(M,e.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:M=>{r={...r,...M}},_disableForm:be,_subjects:f,_proxyFormState:u,_setErrors:k,get _fields(){return n},get _formValues(){return a},get _state(){return o},set _state(M){o=M},get _defaultValues(){return i},get _names(){return s},set _names(M){s=M},get _formState(){return r},set _formState(M){r=M},get _options(){return e},set _options(M){e={...e,...M}}},trigger:ee,register:Mt,handleSubmit:we,watch:je,setValue:X,getValues:oe,reset:Pe,resetField:J,clearErrors:le,unregister:et,setError:Ee,setFocus:(M,U={})=>{const B=ge(n,M),L=B&&B._f;if(L){const z=L.refs?L.refs[0]:L.ref;z.focus&&(z.focus(),U.shouldSelect&&z.select())}},getFieldState:Z}}function eR(t={}){const e=$.useRef(),r=$.useRef(),[n,i]=$.useState({isDirty:!1,isValidating:!1,isLoading:ji(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:ji(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...YF(t),formState:n});const a=e.current.control;return a._options=t,$F({subject:a._subjects.state,next:o=>{MF(o,a._proxyFormState,a._updateFormState)&&i({...a._formState})}}),$.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),$.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==n.isDirty&&a._subjects.state.next({isDirty:o})}},[a,n.isDirty]),$.useEffect(()=>{t.values&&!Ta(t.values,r.current)?(a._reset(t.values,a._options.resetOptions),r.current=t.values,i(o=>({...o}))):a._resetDefaultValues()},[t.values,a]),$.useEffect(()=>{t.errors&&a._setErrors(t.errors)},[t.errors,a]),$.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),$.useEffect(()=>{t.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})},[t.shouldUnregister,a]),e.current.formState=DF(n,a),e.current}var QS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},QF=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],o=t[r++],s=t[r++],l=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const a=t[r++],o=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},rR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,s=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=a>>2,f=(a&3)<<4|s>>4;let h=(s&15)<<2|c>>6,p=c&63;l||(p=64,o||(h=64)),n.push(r[u],r[f],r[h],r[p])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(tR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):QF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],s=i<t.length?r[t.charAt(i)]:0;++i;const c=i<t.length?r[t.charAt(i)]:64;++i;const f=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||s==null||c==null||f==null)throw new JF;const h=a<<2|s>>4;if(n.push(h),c!==64){const p=s<<4&240|c>>2;if(n.push(p),f!==64){const g=c<<6&192|f;n.push(g)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class JF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ZF=function(t){const e=tR(t);return rR.encodeByteArray(e,!0)},Yp=function(t){return ZF(t).replace(/\./g,"")},nR=function(t){try{return rR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tV=()=>eV().__FIREBASE_DEFAULTS__,rV=()=>{if(typeof process>"u"||typeof QS>"u")return;const t=QS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},nV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&nR(t[1]);return e&&JSON.parse(e)},Tg=()=>{try{return tV()||rV()||nV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},iR=t=>{var e,r;return(r=(e=Tg())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},aR=t=>{const e=iR(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},oR=()=>{var t;return(t=Tg())===null||t===void 0?void 0:t.config},sR=t=>{var e;return(e=Tg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Yp(JSON.stringify(r)),Yp(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Or())}function oV(){var t;const e=(t=Tg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function lV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cV(){const t=Or();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function uV(){return!oV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fV(){try{return typeof indexedDB=="object"}catch{return!1}}function dV(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV="FirebaseError";class wi extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=hV,Object.setPrototypeOf(this,wi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yd.prototype.create)}}class yd{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?pV(a,n):"Error",s=`${this.serviceName}: ${o} (${i}).`;return new wi(i,s,n)}}function pV(t,e){return t.replace(mV,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const mV=/\{\$([^}]+)}/g;function gV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Qp(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],o=e[i];if(JS(a)&&JS(o)){if(!Qp(a,o))return!1}else if(a!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function JS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vd(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function mu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function gu(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function yV(t,e){const r=new vV(t,e);return r.subscribe.bind(r)}class vV{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");bV(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=Nv),i.error===void 0&&(i.error=Nv),i.complete===void 0&&(i.complete=Nv);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bV(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function Nv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(t){return t&&t._delegate?t._delegate:t}class ro{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new iV;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_V(e))try{this.getOrInitializeService({instanceIdentifier:No})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=No){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=No){return this.instances.has(e)}getOptions(e=No){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(a);n===s&&o.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&e(o,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:wV(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=No){return this.component?this.component.multipleInstances?e:No:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wV(t){return t===No?void 0:t}function _V(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new xV(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Be||(Be={}));const EV={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},SV=Be.INFO,TV={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},AV=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=TV[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class v_{constructor(e){this.name=e,this._logLevel=SV,this._logHandler=AV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?EV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const PV=(t,e)=>e.some(r=>t instanceof r);let ZS,eT;function IV(){return ZS||(ZS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OV(){return eT||(eT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cR=new WeakMap,mb=new WeakMap,uR=new WeakMap,Rv=new WeakMap,b_=new WeakMap;function CV(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{r(Ga(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&cR.set(r,t)}).catch(()=>{}),b_.set(e,t),e}function NV(t){if(mb.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{r(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});mb.set(t,e)}let gb={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return mb.get(t);if(e==="objectStoreNames")return t.objectStoreNames||uR.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Ga(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function RV(t){gb=t(gb)}function jV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(jv(this),e,...r);return uR.set(n,e.sort?e.sort():[e]),Ga(n)}:OV().includes(t)?function(...e){return t.apply(jv(this),e),Ga(cR.get(this))}:function(...e){return Ga(t.apply(jv(this),e))}}function DV(t){return typeof t=="function"?jV(t):(t instanceof IDBTransaction&&NV(t),PV(t,IV())?new Proxy(t,gb):t)}function Ga(t){if(t instanceof IDBRequest)return CV(t);if(Rv.has(t))return Rv.get(t);const e=DV(t);return e!==t&&(Rv.set(t,e),b_.set(e,t)),e}const jv=t=>b_.get(t);function MV(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),s=Ga(o);return n&&o.addEventListener("upgradeneeded",l=>{n(Ga(o.result),l.oldVersion,l.newVersion,Ga(o.transaction),l)}),r&&o.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),s.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),s}const $V=["get","getKey","getAll","getAllKeys","count"],LV=["put","add","delete","clear"],Dv=new Map;function tT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Dv.get(e))return Dv.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=LV.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||$V.includes(r)))return;const a=async function(o,...s){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(s.shift())),(await Promise.all([c[r](...s),i&&l.done]))[0]};return Dv.set(e,a),a}RV(t=>({...t,get:(e,r,n)=>tT(e,r)||t.get(e,r,n),has:(e,r)=>!!tT(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(VV(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function VV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const yb="@firebase/app",rT="0.10.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi=new v_("@firebase/app"),UV="@firebase/app-compat",BV="@firebase/analytics-compat",zV="@firebase/analytics",WV="@firebase/app-check-compat",qV="@firebase/app-check",HV="@firebase/auth",KV="@firebase/auth-compat",GV="@firebase/database",XV="@firebase/database-compat",YV="@firebase/functions",QV="@firebase/functions-compat",JV="@firebase/installations",ZV="@firebase/installations-compat",eU="@firebase/messaging",tU="@firebase/messaging-compat",rU="@firebase/performance",nU="@firebase/performance-compat",iU="@firebase/remote-config",aU="@firebase/remote-config-compat",oU="@firebase/storage",sU="@firebase/storage-compat",lU="@firebase/firestore",cU="@firebase/vertexai-preview",uU="@firebase/firestore-compat",fU="firebase",dU="10.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb="[DEFAULT]",hU={[yb]:"fire-core",[UV]:"fire-core-compat",[zV]:"fire-analytics",[BV]:"fire-analytics-compat",[qV]:"fire-app-check",[WV]:"fire-app-check-compat",[HV]:"fire-auth",[KV]:"fire-auth-compat",[GV]:"fire-rtdb",[XV]:"fire-rtdb-compat",[YV]:"fire-fn",[QV]:"fire-fn-compat",[JV]:"fire-iid",[ZV]:"fire-iid-compat",[eU]:"fire-fcm",[tU]:"fire-fcm-compat",[rU]:"fire-perf",[nU]:"fire-perf-compat",[iU]:"fire-rc",[aU]:"fire-rc-compat",[oU]:"fire-gcs",[sU]:"fire-gcs-compat",[lU]:"fire-fst",[uU]:"fire-fst-compat",[cU]:"fire-vertex","fire-js":"fire-js",[fU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp=new Map,pU=new Map,bb=new Map;function nT(t,e){try{t.container.addComponent(e)}catch(r){Qi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function rs(t){const e=t.name;if(bb.has(e))return Qi.debug(`There were multiple attempts to register component ${e}.`),!1;bb.set(e,t);for(const r of Jp.values())nT(r,t);for(const r of pU.values())nT(r,t);return!0}function Ag(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function si(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xa=new yd("app","Firebase",mU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ro("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs=dU;function fR(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:vb,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw Xa.create("bad-app-name",{appName:String(i)});if(r||(r=oR()),!r)throw Xa.create("no-options");const a=Jp.get(i);if(a){if(Qp(r,a.options)&&Qp(n,a.config))return a;throw Xa.create("duplicate-app",{appName:i})}const o=new kV(i);for(const l of bb.values())o.addComponent(l);const s=new gU(r,n,o);return Jp.set(i,s),s}function x_(t=vb){const e=Jp.get(t);if(!e&&t===vb&&oR())return fR();if(!e)throw Xa.create("no-app",{appName:t});return e}function di(t,e,r){var n;let i=(n=hU[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const a=i.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const s=[`Unable to register library "${i}" with version "${e}":`];a&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qi.warn(s.join(" "));return}rs(new ro(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yU="firebase-heartbeat-database",vU=1,gf="firebase-heartbeat-store";let Mv=null;function dR(){return Mv||(Mv=MV(yU,vU,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(gf)}catch(r){console.warn(r)}}}}).catch(t=>{throw Xa.create("idb-open",{originalErrorMessage:t.message})})),Mv}async function bU(t){try{const r=(await dR()).transaction(gf),n=await r.objectStore(gf).get(hR(t));return await r.done,n}catch(e){if(e instanceof wi)Qi.warn(e.message);else{const r=Xa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Qi.warn(r.message)}}}async function iT(t,e){try{const n=(await dR()).transaction(gf,"readwrite");await n.objectStore(gf).put(e,hR(t)),await n.done}catch(r){if(r instanceof wi)Qi.warn(r.message);else{const n=Xa.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Qi.warn(n.message)}}}function hR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xU=1024,wU=30*24*60*60*1e3;class _U{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new EU(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=aT();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=wU}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Qi.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=aT(),{heartbeatsToSend:n,unsentEntries:i}=kU(this._heartbeatsCache.heartbeats),a=Yp(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return Qi.warn(r),""}}}function aT(){return new Date().toISOString().substring(0,10)}function kU(t,e=xU){const r=[];let n=t.slice();for(const i of t){const a=r.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),oT(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),oT(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class EU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fV()?dV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await bU(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return iT(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return iT(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function oT(t){return Yp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SU(t){rs(new ro("platform-logger",e=>new FV(e),"PRIVATE")),rs(new ro("heartbeat",e=>new _U(e),"PRIVATE")),di(yb,rT,t),di(yb,rT,"esm2017"),di("fire-js","")}SU("");function w_(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function pR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const TU=pR,mR=new yd("auth","Firebase",pR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp=new v_("@firebase/auth");function AU(t,...e){Zp.logLevel<=Be.WARN&&Zp.warn(`Auth (${vs}): ${t}`,...e)}function sp(t,...e){Zp.logLevel<=Be.ERROR&&Zp.error(`Auth (${vs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(t,...e){throw __(t,...e)}function hi(t,...e){return __(t,...e)}function gR(t,e,r){const n=Object.assign(Object.assign({},TU()),{[e]:r});return new yd("auth","Firebase",n).create(e,{appName:t.name})}function Bi(t){return gR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function __(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return mR.create(t,...e)}function Te(t,e,...r){if(!t)throw __(e,...r)}function Di(t){const e="INTERNAL ASSERTION FAILED: "+t;throw sp(e),new Error(e)}function Ji(t,e){t||Di(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function PU(){return sT()==="http:"||sT()==="https:"}function sT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PU()||sV()||"connection"in navigator)?navigator.onLine:!0}function OU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,r){this.shortDelay=e,this.longDelay=r,Ji(r>e,"Short delay should be less than long delay!"),this.isMobile=aV()||lV()}get(){return IU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k_(t,e){Ji(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NU=new bd(3e4,6e4);function fo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ho(t,e,r,n,i={}){return vR(t,i,async()=>{let a={},o={};n&&(e==="GET"?o=n:a={body:JSON.stringify(n)});const s=vd(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),yR.fetch()(bR(t,t.config.apiHost,r,s),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},a))})}async function vR(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},CU),e);try{const i=new jU(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw Eh(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const s=a.ok?o.errorMessage:o.error.message,[l,c]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Eh(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Eh(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Eh(t,"user-disabled",o);const u=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw gR(t,u,c);Kn(t,u)}}catch(i){if(i instanceof wi)throw i;Kn(t,"network-request-failed",{message:String(i)})}}async function xd(t,e,r,n,i={}){const a=await ho(t,e,r,n,i);return"mfaPendingCredential"in a&&Kn(t,"multi-factor-auth-required",{_serverResponse:a}),a}function bR(t,e,r,n){const i=`${e}${r}?${n}`;return t.config.emulator?k_(t.config,i):`${t.config.apiScheme}://${i}`}function RU(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class jU{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(hi(this.auth,"network-request-failed")),NU.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Eh(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=hi(t,e,n);return i.customData._tokenResponse=r,i}function lT(t){return t!==void 0&&t.enterprise!==void 0}class DU{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return RU(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function MU(t,e){return ho(t,"GET","/v2/recaptchaConfig",fo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $U(t,e){return ho(t,"POST","/v1/accounts:delete",e)}async function xR(t,e){return ho(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function LU(t,e=!1){const r=It(t),n=await r.getIdToken(e),i=E_(n);Te(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:ju($v(i.auth_time)),issuedAtTime:ju($v(i.iat)),expirationTime:ju($v(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function $v(t){return Number(t)*1e3}function E_(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return sp("JWT malformed, contained fewer than 3 sections"),null;try{const i=nR(r);return i?JSON.parse(i):(sp("Failed to decode base64 JWT payload"),null)}catch(i){return sp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function cT(t){const e=E_(t);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yf(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof wi&&FU(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function FU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=ju(this.lastLoginAt),this.creationTime=ju(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function em(t){var e;const r=t.auth,n=await t.getIdToken(),i=await yf(t,xR(r,{idToken:n}));Te(i==null?void 0:i.users.length,r,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const o=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?wR(a.providerUserInfo):[],s=BU(t.providerData,o),l=t.isAnonymous,c=!(t.email&&a.passwordHash)&&!(s!=null&&s.length),u=l?c:!1,f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new wb(a.createdAt,a.lastLoginAt),isAnonymous:u};Object.assign(t,f)}async function UU(t){const e=It(t);await em(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function BU(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function wR(t){return t.map(e=>{var{providerId:r}=e,n=w_(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zU(t,e){const r=await vR(t,{},async()=>{const n=vd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=bR(t,i,"/v1/token",`key=${a}`),s=await t._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",yR.fetch()(o,{method:"POST",headers:s,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function WU(t,e){return ho(t,"POST","/v2/accounts:revokeToken",fo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const r=cT(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await zU(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,o=new vl;return n&&(Te(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),i&&(Te(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(Te(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vl,this.toJSON())}_performRefresh(){return Di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function va(t,e){Te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Mi{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,a=w_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new VU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new wb(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const r=await yf(this,this.stsTokenManager.getToken(this.auth,e));return Te(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return LU(this,e)}reload(){return UU(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Mi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await em(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(si(this.auth.app))return Promise.reject(Bi(this.auth));const e=await this.getIdToken();return await yf(this,$U(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,a,o,s,l,c,u;const f=(n=r.displayName)!==null&&n!==void 0?n:void 0,h=(i=r.email)!==null&&i!==void 0?i:void 0,p=(a=r.phoneNumber)!==null&&a!==void 0?a:void 0,g=(o=r.photoURL)!==null&&o!==void 0?o:void 0,b=(s=r.tenantId)!==null&&s!==void 0?s:void 0,v=(l=r._redirectEventId)!==null&&l!==void 0?l:void 0,_=(c=r.createdAt)!==null&&c!==void 0?c:void 0,y=(u=r.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:x,emailVerified:k,isAnonymous:T,providerData:C,stsTokenManager:S}=r;Te(x&&S,e,"internal-error");const E=vl.fromJSON(this.name,S);Te(typeof x=="string",e,"internal-error"),va(f,e.name),va(h,e.name),Te(typeof k=="boolean",e,"internal-error"),Te(typeof T=="boolean",e,"internal-error"),va(p,e.name),va(g,e.name),va(b,e.name),va(v,e.name),va(_,e.name),va(y,e.name);const P=new Mi({uid:x,auth:e,email:h,emailVerified:k,displayName:f,isAnonymous:T,photoURL:g,phoneNumber:p,tenantId:b,stsTokenManager:E,createdAt:_,lastLoginAt:y});return C&&Array.isArray(C)&&(P.providerData=C.map(I=>Object.assign({},I))),v&&(P._redirectEventId=v),P}static async _fromIdTokenResponse(e,r,n=!1){const i=new vl;i.updateFromServerResponse(r);const a=new Mi({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await em(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];Te(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?wR(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),s=new vl;s.updateFromIdToken(n);const l=new Mi({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new wb(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT=new Map;function $i(t){Ji(t instanceof Function,"Expected a class definition");let e=uT.get(t);return e?(Ji(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,uT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}_R.type="NONE";const fT=_R;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lp(t,e,r){return`firebase:${t}:${e}:${r}`}class bl{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=lp(this.userKey,i.apiKey,a),this.fullPersistenceKey=lp("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Mi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new bl($i(fT),e,n);const i=(await Promise.all(r.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let a=i[0]||$i(fT);const o=lp(n,e.config.apiKey,e.name);let s=null;for(const c of r)try{const u=await c._get(o);if(u){const f=Mi._fromJSON(e,u);c!==a&&(s=f),a=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new bl(a,e,n):(a=l[0],s&&await a._set(o,s.toJSON()),await Promise.all(r.map(async c=>{if(c!==a)try{await c._remove(o)}catch{}})),new bl(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(TR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(PR(e))return"Blackberry";if(IR(e))return"Webos";if(ER(e))return"Safari";if((e.includes("chrome/")||SR(e))&&!e.includes("edge/"))return"Chrome";if(AR(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function kR(t=Or()){return/firefox\//i.test(t)}function ER(t=Or()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function SR(t=Or()){return/crios\//i.test(t)}function TR(t=Or()){return/iemobile/i.test(t)}function AR(t=Or()){return/android/i.test(t)}function PR(t=Or()){return/blackberry/i.test(t)}function IR(t=Or()){return/webos/i.test(t)}function S_(t=Or()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function qU(t=Or()){var e;return S_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function HU(){return cV()&&document.documentMode===10}function OR(t=Or()){return S_(t)||AR(t)||IR(t)||PR(t)||/windows phone/i.test(t)||TR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(t,e=[]){let r;switch(t){case"Browser":r=dT(Or());break;case"Worker":r=`${dT(Or())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${vs}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((o,s)=>{try{const l=e(a);o(l)}catch(l){s(l)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GU(t,e={}){return ho(t,"GET","/v2/passwordPolicy",fo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XU=6;class YU{constructor(e){var r,n,i,a;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=o.minPasswordLength)!==null&&r!==void 0?r:XU,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,a,o,s;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(r=l.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(a=l.containsUppercaseLetter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),l}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hT(this),this.idTokenSubscription=new hT(this),this.beforeStateQueue=new KU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=$i(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await bl.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await xR(this,{idToken:e}),n=await Mi._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(si(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,s=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===s)&&(l!=null&&l.user)&&(i=l.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await em(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=OU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(si(this.app))return Promise.reject(Bi(this));const r=e?It(e):null;return r&&Te(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return si(this.app)?Promise.reject(Bi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return si(this.app)?Promise.reject(Bi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($i(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await GU(this),r=new YU(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new yd("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await WU(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&$i(e)||this._popupRedirectResolver;Te(r,this,"argument-error"),this.redirectPersistenceManager=await bl.create(this,[$i(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(s,this,"internal-error"),s.then(()=>{o||a(this.currentUser)}),typeof r=="function"){const l=e.addObserver(r,n,i);return()=>{o=!0,l()}}else{const l=e.addObserver(r);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=CR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&AU(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function bs(t){return It(t)}class hT{constructor(e){this.auth=e,this.observer=null,this.addObserver=yV(r=>this.observer=r)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function JU(t){Pg=t}function NR(t){return Pg.loadJS(t)}function ZU(){return Pg.recaptchaEnterpriseScript}function eB(){return Pg.gapiScript}function tB(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const rB="recaptcha-enterprise",nB="NO_RECAPTCHA";class iB{constructor(e){this.type=rB,this.auth=bs(e)}async verify(e="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,s)=>{MU(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const c=new DU(l);return a.tenantId==null?a._agentRecaptchaConfig=c:a._tenantRecaptchaConfigs[a.tenantId]=c,o(c.siteKey)}}).catch(l=>{s(l)})})}function i(a,o,s){const l=window.grecaptcha;lT(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(c=>{o(c)}).catch(()=>{o(nB)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,o)=>{n(this.auth).then(s=>{if(!r&&lT(window.grecaptcha))i(s,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=ZU();l.length!==0&&(l+=s),NR(l).then(()=>{i(s,a,o)}).catch(c=>{o(c)})}}).catch(s=>{o(s)})})}}async function pT(t,e,r,n=!1){const i=new iB(t);let a;try{a=await i.verify(r)}catch{a=await i.verify(r,!0)}const o=Object.assign({},e);return n?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function _b(t,e,r,n){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await pT(t,e,r,r==="getOobCode");return n(t,a)}else return n(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await pT(t,e,r,r==="getOobCode");return n(t,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aB(t,e){const r=Ag(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(Qp(a,e??{}))return i;Kn(i,"already-initialized")}return r.initialize({options:e})}function oB(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map($i);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function sB(t,e,r){const n=bs(t);Te(n._canInitEmulator,n,"emulator-config-failed"),Te(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=RR(e),{host:o,port:s}=lB(e),l=s===null?"":`:${s}`;n.config.emulator={url:`${a}//${o}${l}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),cB()}function RR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function lB(t){const e=RR(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:mT(n.substr(a.length+1))}}else{const[a,o]=n.split(":");return{host:a,port:mT(o)}}}function mT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function cB(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Di("not implemented")}_getIdTokenResponse(e){return Di("not implemented")}_linkToIdToken(e,r){return Di("not implemented")}_getReauthenticationResolver(e){return Di("not implemented")}}async function uB(t,e){return ho(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fB(t,e){return xd(t,"POST","/v1/accounts:signInWithPassword",fo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dB(t,e){return xd(t,"POST","/v1/accounts:signInWithEmailLink",fo(t,e))}async function hB(t,e){return xd(t,"POST","/v1/accounts:signInWithEmailLink",fo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf extends T_{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new vf(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new vf(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _b(e,r,"signInWithPassword",fB);case"emailLink":return dB(e,{email:this._email,oobCode:this._password});default:Kn(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _b(e,n,"signUpPassword",uB);case"emailLink":return hB(e,{idToken:r,email:this._email,oobCode:this._password});default:Kn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xl(t,e){return xd(t,"POST","/v1/accounts:signInWithIdp",fo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pB="http://localhost";class ns extends T_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new ns(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Kn("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,a=w_(r,["providerId","signInMethod"]);if(!n||!i)return null;const o=new ns(n,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return xl(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,xl(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,xl(e,r)}buildRequest(){const e={requestUri:pB,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=vd(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mB(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function gB(t){const e=mu(gu(t)).link,r=e?mu(gu(e)).deep_link_id:null,n=mu(gu(t)).deep_link_id;return(n?mu(gu(n)).link:null)||n||r||e||t}class A_{constructor(e){var r,n,i,a,o,s;const l=mu(gu(e)),c=(r=l.apiKey)!==null&&r!==void 0?r:null,u=(n=l.oobCode)!==null&&n!==void 0?n:null,f=mB((i=l.mode)!==null&&i!==void 0?i:null);Te(c&&u&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=u,this.continueUrl=(a=l.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(s=l.tenantId)!==null&&s!==void 0?s:null}static parseLink(e){const r=gB(e);try{return new A_(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(){this.providerId=fc.PROVIDER_ID}static credential(e,r){return vf._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=A_.parseLink(r);return Te(n,"argument-error"),vf._fromEmailAndCode(e,n.code,n.tenantId)}}fc.PROVIDER_ID="password";fc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";fc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd extends jR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa extends wd{constructor(){super("facebook.com")}static credential(e){return ns._fromParams({providerId:Aa.PROVIDER_ID,signInMethod:Aa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Aa.credentialFromTaggedObject(e)}static credentialFromError(e){return Aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Aa.credential(e.oauthAccessToken)}catch{return null}}}Aa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Aa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa extends wd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return ns._fromParams({providerId:Pa.PROVIDER_ID,signInMethod:Pa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Pa.credentialFromTaggedObject(e)}static credentialFromError(e){return Pa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Pa.credential(r,n)}catch{return null}}}Pa.GOOGLE_SIGN_IN_METHOD="google.com";Pa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia extends wd{constructor(){super("github.com")}static credential(e){return ns._fromParams({providerId:Ia.PROVIDER_ID,signInMethod:Ia.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ia.credentialFromTaggedObject(e)}static credentialFromError(e){return Ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ia.credential(e.oauthAccessToken)}catch{return null}}}Ia.GITHUB_SIGN_IN_METHOD="github.com";Ia.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa extends wd{constructor(){super("twitter.com")}static credential(e,r){return ns._fromParams({providerId:Oa.PROVIDER_ID,signInMethod:Oa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Oa.credentialFromTaggedObject(e)}static credentialFromError(e){return Oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Oa.credential(r,n)}catch{return null}}}Oa.TWITTER_SIGN_IN_METHOD="twitter.com";Oa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yB(t,e){return xd(t,"POST","/v1/accounts:signUp",fo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await Mi._fromIdTokenResponse(e,n,i),o=gT(n);return new is({user:a,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=gT(n);return new is({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function gT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm extends wi{constructor(e,r,n,i){var a;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,tm.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new tm(e,r,n,i)}}function DR(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?tm._fromErrorAndOperation(t,a,e,n):a})}async function vB(t,e,r=!1){const n=await yf(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return is._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bB(t,e,r=!1){const{auth:n}=t;if(si(n.app))return Promise.reject(Bi(n));const i="reauthenticate";try{const a=await yf(t,DR(n,i,e,t),r);Te(a.idToken,n,"internal-error");const o=E_(a.idToken);Te(o,n,"internal-error");const{sub:s}=o;return Te(t.uid===s,n,"user-mismatch"),is._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Kn(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MR(t,e,r=!1){if(si(t.app))return Promise.reject(Bi(t));const n="signIn",i=await DR(t,n,e),a=await is._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}async function xB(t,e){return MR(bs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $R(t){const e=bs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function wB(t,e,r){if(si(t.app))return Promise.reject(Bi(t));const n=bs(t),o=await _b(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yB).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&$R(t),l}),s=await is._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(s.user),s}function yT(t,e,r){return si(t.app)?Promise.reject(Bi(t)):xB(It(t),fc.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&$R(t),n})}function _B(t,e,r,n){return It(t).onIdTokenChanged(e,r,n)}function kB(t,e,r){return It(t).beforeAuthStateChanged(e,r)}function EB(t,e,r,n){return It(t).onAuthStateChanged(e,r,n)}function SB(t){return It(t).signOut()}const rm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(rm,"1"),this.storage.removeItem(rm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TB=1e3,AB=10;class FR extends LR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=OR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,s,l)=>{this.notifyListeners(o,l)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},a=this.storage.getItem(n);HU()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,AB):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},TB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}FR.type="LOCAL";const PB=FR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR extends LR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}VR.type="SESSION";const UR=VR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IB(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new Ig(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const s=Array.from(o).map(async c=>c(r.origin,a)),l=await IB(s);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ig.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OB{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((s,l)=>{const c=P_("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),s(h.data.response);break;default:clearTimeout(u),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:r},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(){return window}function CB(t){pi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(){return typeof pi().WorkerGlobalScope<"u"&&typeof pi().importScripts=="function"}async function NB(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function RB(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function jB(){return BR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR="firebaseLocalStorageDb",DB=1,nm="firebaseLocalStorage",WR="fbase_key";class _d{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Og(t,e){return t.transaction([nm],e?"readwrite":"readonly").objectStore(nm)}function MB(){const t=indexedDB.deleteDatabase(zR);return new _d(t).toPromise()}function kb(){const t=indexedDB.open(zR,DB);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(nm,{keyPath:WR})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(nm)?e(n):(n.close(),await MB(),e(await kb()))})})}async function vT(t,e,r){const n=Og(t,!0).put({[WR]:e,value:r});return new _d(n).toPromise()}async function $B(t,e){const r=Og(t,!1).get(e),n=await new _d(r).toPromise();return n===void 0?null:n.value}function bT(t,e){const r=Og(t,!0).delete(e);return new _d(r).toPromise()}const LB=800,FB=3;class qR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await kb(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>FB)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return BR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ig._getInstance(jB()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await NB(),!this.activeServiceWorker)return;this.sender=new OB(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||RB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await kb();return await vT(e,rm,"1"),await bT(e,rm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>vT(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>$B(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>bT(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Og(i,!1).getAll();return new _d(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),LB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qR.type="LOCAL";const VB=qR;new bd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UB(t,e){return e?$i(e):(Te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_ extends T_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xl(e,this._buildIdpRequest())}_linkToIdToken(e,r){return xl(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return xl(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function BB(t){return MR(t.auth,new I_(t),t.bypassAuthState)}function zB(t){const{auth:e,user:r}=t;return Te(r,e,"internal-error"),bB(r,new I_(t),t.bypassAuthState)}async function WB(t){const{auth:e,user:r}=t;return Te(r,e,"internal-error"),vB(r,new I_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:o,type:s}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return BB;case"linkViaPopup":case"linkViaRedirect":return WB;case"reauthViaPopup":case"reauthViaRedirect":return zB;default:Kn(this.auth,"internal-error")}}resolve(e){Ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qB=new bd(2e3,1e4);class sl extends HR{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,sl.currentPopupAction&&sl.currentPopupAction.cancel(),sl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Ji(this.filter.length===1,"Popup operations only handle one event");const e=P_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(hi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,sl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,qB.get())};e()}}sl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HB="pendingRedirect",cp=new Map;class KB extends HR{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=cp.get(this.auth._key());if(!e){try{const n=await GB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}cp.set(this.auth._key(),e)}return this.bypassAuthState||cp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function GB(t,e){const r=QB(e),n=YB(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function XB(t,e){cp.set(t._key(),e)}function YB(t){return $i(t._redirectPersistence)}function QB(t){return lp(HB,t.config.apiKey,t.name)}async function JB(t,e,r=!1){if(si(t.app))return Promise.reject(Bi(t));const n=bs(t),i=UB(n,e),o=await new KB(n,i,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZB=10*60*1e3;class e9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!t9(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!KR(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(hi(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ZB&&this.cachedEventUids.clear(),this.cachedEventUids.has(xT(e))}saveEventToCache(e){this.cachedEventUids.add(xT(e)),this.lastProcessedEventTime=Date.now()}}function xT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function KR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function t9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return KR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r9(t,e={}){return ho(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,i9=/^https?/;async function a9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await r9(t);for(const r of e)try{if(o9(r))return}catch{}Kn(t,"unauthorized-domain")}function o9(t){const e=xb(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!i9.test(r))return!1;if(n9.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s9=new bd(3e4,6e4);function wT(){const t=pi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function l9(t){return new Promise((e,r)=>{var n,i,a;function o(){wT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{wT(),r(hi(t,"network-request-failed"))},timeout:s9.get()})}if(!((i=(n=pi().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=pi().gapi)===null||a===void 0)&&a.load)o();else{const s=tB("iframefcb");return pi()[s]=()=>{gapi.load?o():r(hi(t,"network-request-failed"))},NR(`${eB()}?onload=${s}`).catch(l=>r(l))}}).catch(e=>{throw up=null,e})}let up=null;function c9(t){return up=up||l9(t),up}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u9=new bd(5e3,15e3),f9="__/auth/iframe",d9="emulator/auth/iframe",h9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},p9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function m9(t){const e=t.config;Te(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?k_(e,d9):`https://${t.config.authDomain}/${f9}`,n={apiKey:e.apiKey,appName:t.name,v:vs},i=p9.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${vd(n).slice(1)}`}async function g9(t){const e=await c9(t),r=pi().gapi;return Te(r,t,"internal-error"),e.open({where:document.body,url:m9(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:h9,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const o=hi(t,"network-request-failed"),s=pi().setTimeout(()=>{a(o)},u9.get());function l(){pi().clearTimeout(s),i(n)}n.ping(l).then(l,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},v9=500,b9=600,x9="_blank",w9="http://localhost";class _T{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _9(t,e,r,n=v9,i=b9){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let s="";const l=Object.assign(Object.assign({},y9),{width:n.toString(),height:i.toString(),top:a,left:o}),c=Or().toLowerCase();r&&(s=SR(c)?x9:r),kR(c)&&(e=e||w9,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[p,g])=>`${h}${p}=${g},`,"");if(qU(c)&&s!=="_self")return k9(e||"",s),new _T(null);const f=window.open(e||"",s,u);Te(f,t,"popup-blocked");try{f.focus()}catch{}return new _T(f)}function k9(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E9="__/auth/handler",S9="emulator/auth/handler",T9=encodeURIComponent("fac");async function kT(t,e,r,n,i,a){Te(t.config.authDomain,t,"auth-domain-config-required"),Te(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:vs,eventId:i};if(e instanceof jR){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",gV(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries({}))o[u]=f}if(e instanceof wd){const u=e.getScopes().filter(f=>f!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const s=o;for(const u of Object.keys(s))s[u]===void 0&&delete s[u];const l=await t._getAppCheckToken(),c=l?`#${T9}=${encodeURIComponent(l)}`:"";return`${A9(t)}?${vd(s).slice(1)}${c}`}function A9({config:t}){return t.emulator?k_(t,S9):`https://${t.authDomain}/${E9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv="webStorageSupport";class P9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=UR,this._completeRedirectFn=JB,this._overrideRedirectResult=XB}async _openPopup(e,r,n,i){var a;Ji((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await kT(e,r,n,xb(),i);return _9(e,o,P_())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await kT(e,r,n,xb(),i);return CB(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(Ji(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await g9(e),n=new e9(e);return r.register("authEvent",i=>(Te(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Lv,{type:Lv},i=>{var a;const o=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[Lv];o!==void 0&&r(!!o),Kn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=a9(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return OR()||ER()||S_()}}const I9=P9;var ET="@firebase/auth",ST="1.7.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function N9(t){rs(new ro("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=n.options;Te(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:o,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CR(t)},c=new QU(n,i,a,l);return oB(c,r),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),rs(new ro("auth-internal",e=>{const r=bs(e.getProvider("auth").getImmediate());return(n=>new O9(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),di(ET,ST,C9(t)),di(ET,ST,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R9=5*60,j9=sR("authIdTokenMaxAge")||R9;let TT=null;const D9=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>j9)return;const i=r==null?void 0:r.token;TT!==i&&(TT=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function im(t=x_()){const e=Ag(t,"auth");if(e.isInitialized())return e.getImmediate();const r=aB(t,{popupRedirectResolver:I9,persistence:[VB,PB,UR]}),n=sR("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const o=D9(a.toString());kB(r,o,()=>o(r.currentUser)),_B(r,s=>o(s))}}const i=iR("auth");return i&&sB(r,`http://${i}`),r}function M9(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}JU({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=hi("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",M9().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});N9("Browser");var $9="firebase",L9="10.13.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */di($9,L9,"app");var AT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ko,GR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,E){function P(){}P.prototype=E.prototype,S.D=E.prototype,S.prototype=new P,S.prototype.constructor=S,S.C=function(I,R,N){for(var O=Array(arguments.length-2),F=2;F<arguments.length;F++)O[F-2]=arguments[F];return E.prototype[R].apply(I,O)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,E,P){P||(P=0);var I=Array(16);if(typeof E=="string")for(var R=0;16>R;++R)I[R]=E.charCodeAt(P++)|E.charCodeAt(P++)<<8|E.charCodeAt(P++)<<16|E.charCodeAt(P++)<<24;else for(R=0;16>R;++R)I[R]=E[P++]|E[P++]<<8|E[P++]<<16|E[P++]<<24;E=S.g[0],P=S.g[1],R=S.g[2];var N=S.g[3],O=E+(N^P&(R^N))+I[0]+3614090360&4294967295;E=P+(O<<7&4294967295|O>>>25),O=N+(R^E&(P^R))+I[1]+3905402710&4294967295,N=E+(O<<12&4294967295|O>>>20),O=R+(P^N&(E^P))+I[2]+606105819&4294967295,R=N+(O<<17&4294967295|O>>>15),O=P+(E^R&(N^E))+I[3]+3250441966&4294967295,P=R+(O<<22&4294967295|O>>>10),O=E+(N^P&(R^N))+I[4]+4118548399&4294967295,E=P+(O<<7&4294967295|O>>>25),O=N+(R^E&(P^R))+I[5]+1200080426&4294967295,N=E+(O<<12&4294967295|O>>>20),O=R+(P^N&(E^P))+I[6]+2821735955&4294967295,R=N+(O<<17&4294967295|O>>>15),O=P+(E^R&(N^E))+I[7]+4249261313&4294967295,P=R+(O<<22&4294967295|O>>>10),O=E+(N^P&(R^N))+I[8]+1770035416&4294967295,E=P+(O<<7&4294967295|O>>>25),O=N+(R^E&(P^R))+I[9]+2336552879&4294967295,N=E+(O<<12&4294967295|O>>>20),O=R+(P^N&(E^P))+I[10]+4294925233&4294967295,R=N+(O<<17&4294967295|O>>>15),O=P+(E^R&(N^E))+I[11]+2304563134&4294967295,P=R+(O<<22&4294967295|O>>>10),O=E+(N^P&(R^N))+I[12]+1804603682&4294967295,E=P+(O<<7&4294967295|O>>>25),O=N+(R^E&(P^R))+I[13]+4254626195&4294967295,N=E+(O<<12&4294967295|O>>>20),O=R+(P^N&(E^P))+I[14]+2792965006&4294967295,R=N+(O<<17&4294967295|O>>>15),O=P+(E^R&(N^E))+I[15]+1236535329&4294967295,P=R+(O<<22&4294967295|O>>>10),O=E+(R^N&(P^R))+I[1]+4129170786&4294967295,E=P+(O<<5&4294967295|O>>>27),O=N+(P^R&(E^P))+I[6]+3225465664&4294967295,N=E+(O<<9&4294967295|O>>>23),O=R+(E^P&(N^E))+I[11]+643717713&4294967295,R=N+(O<<14&4294967295|O>>>18),O=P+(N^E&(R^N))+I[0]+3921069994&4294967295,P=R+(O<<20&4294967295|O>>>12),O=E+(R^N&(P^R))+I[5]+3593408605&4294967295,E=P+(O<<5&4294967295|O>>>27),O=N+(P^R&(E^P))+I[10]+38016083&4294967295,N=E+(O<<9&4294967295|O>>>23),O=R+(E^P&(N^E))+I[15]+3634488961&4294967295,R=N+(O<<14&4294967295|O>>>18),O=P+(N^E&(R^N))+I[4]+3889429448&4294967295,P=R+(O<<20&4294967295|O>>>12),O=E+(R^N&(P^R))+I[9]+568446438&4294967295,E=P+(O<<5&4294967295|O>>>27),O=N+(P^R&(E^P))+I[14]+3275163606&4294967295,N=E+(O<<9&4294967295|O>>>23),O=R+(E^P&(N^E))+I[3]+4107603335&4294967295,R=N+(O<<14&4294967295|O>>>18),O=P+(N^E&(R^N))+I[8]+1163531501&4294967295,P=R+(O<<20&4294967295|O>>>12),O=E+(R^N&(P^R))+I[13]+2850285829&4294967295,E=P+(O<<5&4294967295|O>>>27),O=N+(P^R&(E^P))+I[2]+4243563512&4294967295,N=E+(O<<9&4294967295|O>>>23),O=R+(E^P&(N^E))+I[7]+1735328473&4294967295,R=N+(O<<14&4294967295|O>>>18),O=P+(N^E&(R^N))+I[12]+2368359562&4294967295,P=R+(O<<20&4294967295|O>>>12),O=E+(P^R^N)+I[5]+4294588738&4294967295,E=P+(O<<4&4294967295|O>>>28),O=N+(E^P^R)+I[8]+2272392833&4294967295,N=E+(O<<11&4294967295|O>>>21),O=R+(N^E^P)+I[11]+1839030562&4294967295,R=N+(O<<16&4294967295|O>>>16),O=P+(R^N^E)+I[14]+4259657740&4294967295,P=R+(O<<23&4294967295|O>>>9),O=E+(P^R^N)+I[1]+2763975236&4294967295,E=P+(O<<4&4294967295|O>>>28),O=N+(E^P^R)+I[4]+1272893353&4294967295,N=E+(O<<11&4294967295|O>>>21),O=R+(N^E^P)+I[7]+4139469664&4294967295,R=N+(O<<16&4294967295|O>>>16),O=P+(R^N^E)+I[10]+3200236656&4294967295,P=R+(O<<23&4294967295|O>>>9),O=E+(P^R^N)+I[13]+681279174&4294967295,E=P+(O<<4&4294967295|O>>>28),O=N+(E^P^R)+I[0]+3936430074&4294967295,N=E+(O<<11&4294967295|O>>>21),O=R+(N^E^P)+I[3]+3572445317&4294967295,R=N+(O<<16&4294967295|O>>>16),O=P+(R^N^E)+I[6]+76029189&4294967295,P=R+(O<<23&4294967295|O>>>9),O=E+(P^R^N)+I[9]+3654602809&4294967295,E=P+(O<<4&4294967295|O>>>28),O=N+(E^P^R)+I[12]+3873151461&4294967295,N=E+(O<<11&4294967295|O>>>21),O=R+(N^E^P)+I[15]+530742520&4294967295,R=N+(O<<16&4294967295|O>>>16),O=P+(R^N^E)+I[2]+3299628645&4294967295,P=R+(O<<23&4294967295|O>>>9),O=E+(R^(P|~N))+I[0]+4096336452&4294967295,E=P+(O<<6&4294967295|O>>>26),O=N+(P^(E|~R))+I[7]+1126891415&4294967295,N=E+(O<<10&4294967295|O>>>22),O=R+(E^(N|~P))+I[14]+2878612391&4294967295,R=N+(O<<15&4294967295|O>>>17),O=P+(N^(R|~E))+I[5]+4237533241&4294967295,P=R+(O<<21&4294967295|O>>>11),O=E+(R^(P|~N))+I[12]+1700485571&4294967295,E=P+(O<<6&4294967295|O>>>26),O=N+(P^(E|~R))+I[3]+2399980690&4294967295,N=E+(O<<10&4294967295|O>>>22),O=R+(E^(N|~P))+I[10]+4293915773&4294967295,R=N+(O<<15&4294967295|O>>>17),O=P+(N^(R|~E))+I[1]+2240044497&4294967295,P=R+(O<<21&4294967295|O>>>11),O=E+(R^(P|~N))+I[8]+1873313359&4294967295,E=P+(O<<6&4294967295|O>>>26),O=N+(P^(E|~R))+I[15]+4264355552&4294967295,N=E+(O<<10&4294967295|O>>>22),O=R+(E^(N|~P))+I[6]+2734768916&4294967295,R=N+(O<<15&4294967295|O>>>17),O=P+(N^(R|~E))+I[13]+1309151649&4294967295,P=R+(O<<21&4294967295|O>>>11),O=E+(R^(P|~N))+I[4]+4149444226&4294967295,E=P+(O<<6&4294967295|O>>>26),O=N+(P^(E|~R))+I[11]+3174756917&4294967295,N=E+(O<<10&4294967295|O>>>22),O=R+(E^(N|~P))+I[2]+718787259&4294967295,R=N+(O<<15&4294967295|O>>>17),O=P+(N^(R|~E))+I[9]+3951481745&4294967295,S.g[0]=S.g[0]+E&4294967295,S.g[1]=S.g[1]+(R+(O<<21&4294967295|O>>>11))&4294967295,S.g[2]=S.g[2]+R&4294967295,S.g[3]=S.g[3]+N&4294967295}n.prototype.u=function(S,E){E===void 0&&(E=S.length);for(var P=E-this.blockSize,I=this.B,R=this.h,N=0;N<E;){if(R==0)for(;N<=P;)i(this,S,N),N+=this.blockSize;if(typeof S=="string"){for(;N<E;)if(I[R++]=S.charCodeAt(N++),R==this.blockSize){i(this,I),R=0;break}}else for(;N<E;)if(I[R++]=S[N++],R==this.blockSize){i(this,I),R=0;break}}this.h=R,this.o+=E},n.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var E=1;E<S.length-8;++E)S[E]=0;var P=8*this.o;for(E=S.length-8;E<S.length;++E)S[E]=P&255,P/=256;for(this.u(S),S=Array(16),E=P=0;4>E;++E)for(var I=0;32>I;I+=8)S[P++]=this.g[E]>>>I&255;return S};function a(S,E){var P=s;return Object.prototype.hasOwnProperty.call(P,S)?P[S]:P[S]=E(S)}function o(S,E){this.h=E;for(var P=[],I=!0,R=S.length-1;0<=R;R--){var N=S[R]|0;I&&N==E||(P[R]=N,I=!1)}this.g=P}var s={};function l(S){return-128<=S&&128>S?a(S,function(E){return new o([E|0],0>E?-1:0)}):new o([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return v(c(-S));for(var E=[],P=1,I=0;S>=P;I++)E[I]=S/P|0,P*=4294967296;return new o(E,0)}function u(S,E){if(S.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(S.charAt(0)=="-")return v(u(S.substring(1),E));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=c(Math.pow(E,8)),I=f,R=0;R<S.length;R+=8){var N=Math.min(8,S.length-R),O=parseInt(S.substring(R,R+N),E);8>N?(N=c(Math.pow(E,N)),I=I.j(N).add(c(O))):(I=I.j(P),I=I.add(c(O)))}return I}var f=l(0),h=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(b(this))return-v(this).m();for(var S=0,E=1,P=0;P<this.g.length;P++){var I=this.i(P);S+=(0<=I?I:4294967296+I)*E,E*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(g(this))return"0";if(b(this))return"-"+v(this).toString(S);for(var E=c(Math.pow(S,6)),P=this,I="";;){var R=k(P,E).g;P=_(P,R.j(E));var N=((0<P.g.length?P.g[0]:P.h)>>>0).toString(S);if(P=R,g(P))return N+I;for(;6>N.length;)N="0"+N;I=N+I}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function g(S){if(S.h!=0)return!1;for(var E=0;E<S.g.length;E++)if(S.g[E]!=0)return!1;return!0}function b(S){return S.h==-1}t.l=function(S){return S=_(this,S),b(S)?-1:g(S)?0:1};function v(S){for(var E=S.g.length,P=[],I=0;I<E;I++)P[I]=~S.g[I];return new o(P,~S.h).add(h)}t.abs=function(){return b(this)?v(this):this},t.add=function(S){for(var E=Math.max(this.g.length,S.g.length),P=[],I=0,R=0;R<=E;R++){var N=I+(this.i(R)&65535)+(S.i(R)&65535),O=(N>>>16)+(this.i(R)>>>16)+(S.i(R)>>>16);I=O>>>16,N&=65535,O&=65535,P[R]=O<<16|N}return new o(P,P[P.length-1]&-2147483648?-1:0)};function _(S,E){return S.add(v(E))}t.j=function(S){if(g(this)||g(S))return f;if(b(this))return b(S)?v(this).j(v(S)):v(v(this).j(S));if(b(S))return v(this.j(v(S)));if(0>this.l(p)&&0>S.l(p))return c(this.m()*S.m());for(var E=this.g.length+S.g.length,P=[],I=0;I<2*E;I++)P[I]=0;for(I=0;I<this.g.length;I++)for(var R=0;R<S.g.length;R++){var N=this.i(I)>>>16,O=this.i(I)&65535,F=S.i(R)>>>16,W=S.i(R)&65535;P[2*I+2*R]+=O*W,y(P,2*I+2*R),P[2*I+2*R+1]+=N*W,y(P,2*I+2*R+1),P[2*I+2*R+1]+=O*F,y(P,2*I+2*R+1),P[2*I+2*R+2]+=N*F,y(P,2*I+2*R+2)}for(I=0;I<E;I++)P[I]=P[2*I+1]<<16|P[2*I];for(I=E;I<2*E;I++)P[I]=0;return new o(P,0)};function y(S,E){for(;(S[E]&65535)!=S[E];)S[E+1]+=S[E]>>>16,S[E]&=65535,E++}function x(S,E){this.g=S,this.h=E}function k(S,E){if(g(E))throw Error("division by zero");if(g(S))return new x(f,f);if(b(S))return E=k(v(S),E),new x(v(E.g),v(E.h));if(b(E))return E=k(S,v(E)),new x(v(E.g),E.h);if(30<S.g.length){if(b(S)||b(E))throw Error("slowDivide_ only works with positive integers.");for(var P=h,I=E;0>=I.l(S);)P=T(P),I=T(I);var R=C(P,1),N=C(I,1);for(I=C(I,2),P=C(P,2);!g(I);){var O=N.add(I);0>=O.l(S)&&(R=R.add(P),N=O),I=C(I,1),P=C(P,1)}return E=_(S,R.j(E)),new x(R,E)}for(R=f;0<=S.l(E);){for(P=Math.max(1,Math.floor(S.m()/E.m())),I=Math.ceil(Math.log(P)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),N=c(P),O=N.j(E);b(O)||0<O.l(S);)P-=I,N=c(P),O=N.j(E);g(N)&&(N=h),R=R.add(N),S=_(S,O)}return new x(R,S)}t.A=function(S){return k(this,S).h},t.and=function(S){for(var E=Math.max(this.g.length,S.g.length),P=[],I=0;I<E;I++)P[I]=this.i(I)&S.i(I);return new o(P,this.h&S.h)},t.or=function(S){for(var E=Math.max(this.g.length,S.g.length),P=[],I=0;I<E;I++)P[I]=this.i(I)|S.i(I);return new o(P,this.h|S.h)},t.xor=function(S){for(var E=Math.max(this.g.length,S.g.length),P=[],I=0;I<E;I++)P[I]=this.i(I)^S.i(I);return new o(P,this.h^S.h)};function T(S){for(var E=S.g.length+1,P=[],I=0;I<E;I++)P[I]=S.i(I)<<1|S.i(I-1)>>>31;return new o(P,S.h)}function C(S,E){var P=E>>5;E%=32;for(var I=S.g.length-P,R=[],N=0;N<I;N++)R[N]=0<E?S.i(N+P)>>>E|S.i(N+P+1)<<32-E:S.i(N+P);return new o(R,S.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,GR=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,Ko=o}).apply(typeof AT<"u"?AT:typeof self<"u"?self:typeof window<"u"?window:{});var Sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XR,YR,yu,QR,fp,Eb,JR,ZR,ej;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,w,A){return d==Array.prototype||d==Object.prototype||(d[w]=A.value),d};function r(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sh=="object"&&Sh];for(var w=0;w<d.length;++w){var A=d[w];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var n=r(this);function i(d,w){if(w)e:{var A=n;d=d.split(".");for(var j=0;j<d.length-1;j++){var q=d[j];if(!(q in A))break e;A=A[q]}d=d[d.length-1],j=A[d],w=w(j),w!=j&&w!=null&&e(A,d,{configurable:!0,writable:!0,value:w})}}function a(d,w){d instanceof String&&(d+="");var A=0,j=!1,q={next:function(){if(!j&&A<d.length){var Y=A++;return{value:w(Y,d[Y]),done:!1}}return j=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}i("Array.prototype.values",function(d){return d||function(){return a(this,function(w,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function l(d){var w=typeof d;return w=w!="object"?w:d?Array.isArray(d)?"array":w:"null",w=="array"||w=="object"&&typeof d.length=="number"}function c(d){var w=typeof d;return w=="object"&&d!=null||w=="function"}function u(d,w,A){return d.call.apply(d.bind,arguments)}function f(d,w,A){if(!d)throw Error();if(2<arguments.length){var j=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,j),d.apply(w,q)}}return function(){return d.apply(w,arguments)}}function h(d,w,A){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,h.apply(null,arguments)}function p(d,w){var A=Array.prototype.slice.call(arguments,1);return function(){var j=A.slice();return j.push.apply(j,arguments),d.apply(this,j)}}function g(d,w){function A(){}A.prototype=w.prototype,d.aa=w.prototype,d.prototype=new A,d.prototype.constructor=d,d.Qb=function(j,q,Y){for(var fe=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)fe[lt-2]=arguments[lt];return w.prototype[q].apply(j,fe)}}function b(d){const w=d.length;if(0<w){const A=Array(w);for(let j=0;j<w;j++)A[j]=d[j];return A}return[]}function v(d,w){for(let A=1;A<arguments.length;A++){const j=arguments[A];if(l(j)){const q=d.length||0,Y=j.length||0;d.length=q+Y;for(let fe=0;fe<Y;fe++)d[q+fe]=j[fe]}else d.push(j)}}class _{constructor(w,A){this.i=w,this.j=A,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function y(d){return/^[\s\xa0]*$/.test(d)}function x(){var d=s.navigator;return d&&(d=d.userAgent)?d:""}function k(d){return k[" "](d),d}k[" "]=function(){};var T=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function C(d,w,A){for(const j in d)w.call(A,d[j],j,d)}function S(d,w){for(const A in d)w.call(void 0,d[A],A,d)}function E(d){const w={};for(const A in d)w[A]=d[A];return w}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(d,w){let A,j;for(let q=1;q<arguments.length;q++){j=arguments[q];for(A in j)d[A]=j[A];for(let Y=0;Y<P.length;Y++)A=P[Y],Object.prototype.hasOwnProperty.call(j,A)&&(d[A]=j[A])}}function R(d){var w=1;d=d.split(":");const A=[];for(;0<w&&d.length;)A.push(d.shift()),w--;return d.length&&A.push(d.join(":")),A}function N(d){s.setTimeout(()=>{throw d},0)}function O(){var d=Q;let w=null;return d.g&&(w=d.g,d.g=d.g.next,d.g||(d.h=null),w.next=null),w}class F{constructor(){this.h=this.g=null}add(w,A){const j=W.get();j.set(w,A),this.h?this.h.next=j:this.g=j,this.h=j}}var W=new _(()=>new H,d=>d.reset());class H{constructor(){this.next=this.g=this.h=null}set(w,A){this.h=w,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let X,V=!1,Q=new F,ee=()=>{const d=s.Promise.resolve(void 0);X=()=>{d.then(oe)}};var oe=()=>{for(var d;d=O();){try{d.h.call(d.g)}catch(A){N(A)}var w=W;w.j(d),100>w.h&&(w.h++,d.next=w.g,w.g=d)}V=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(d,w){this.type=d,this.g=this.target=w,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var Ee=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var d=!1,w=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const A=()=>{};s.addEventListener("test",A,w),s.removeEventListener("test",A,w)}catch{}return d}();function je(d,w){if(le.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var A=this.type=d.type,j=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=w,w=d.relatedTarget){if(T){e:{try{k(w.nodeName);var q=!0;break e}catch{}q=!1}q||(w=null)}}else A=="mouseover"?w=d.fromElement:A=="mouseout"&&(w=d.toElement);this.relatedTarget=w,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:et[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&je.aa.h.call(this)}}g(je,le);var et={2:"touch",3:"pen",4:"mouse"};je.prototype.h=function(){je.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Fe="closure_listenable_"+(1e6*Math.random()|0),Mt=0;function ce(d,w,A,j,q){this.listener=d,this.proxy=null,this.src=w,this.type=A,this.capture=!!j,this.ha=q,this.key=++Mt,this.da=this.fa=!1}function be(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function we(d){this.src=d,this.g={},this.h=0}we.prototype.add=function(d,w,A,j,q){var Y=d.toString();d=this.g[Y],d||(d=this.g[Y]=[],this.h++);var fe=Ve(d,w,j,q);return-1<fe?(w=d[fe],A||(w.fa=!1)):(w=new ce(w,this.src,Y,!!j,q),w.fa=A,d.push(w)),w};function J(d,w){var A=w.type;if(A in d.g){var j=d.g[A],q=Array.prototype.indexOf.call(j,w,void 0),Y;(Y=0<=q)&&Array.prototype.splice.call(j,q,1),Y&&(be(w),d.g[A].length==0&&(delete d.g[A],d.h--))}}function Ve(d,w,A,j){for(var q=0;q<d.length;++q){var Y=d[q];if(!Y.da&&Y.listener==w&&Y.capture==!!A&&Y.ha==j)return q}return-1}var Pe="closure_lm_"+(1e6*Math.random()|0),Ge={};function Xe(d,w,A,j,q){if(Array.isArray(w)){for(var Y=0;Y<w.length;Y++)Xe(d,w[Y],A,j,q);return null}return A=ve(A),d&&d[Fe]?d.K(w,A,c(j)?!!j.capture:!!j,q):se(d,w,A,!1,j,q)}function se(d,w,A,j,q,Y){if(!w)throw Error("Invalid event type");var fe=c(q)?!!q.capture:!!q,lt=K(d);if(lt||(d[Pe]=lt=new we(d)),A=lt.add(w,A,j,fe,Y),A.proxy)return A;if(j=M(),A.proxy=j,j.src=d,j.listener=A,d.addEventListener)Ee||(q=fe),q===void 0&&(q=!1),d.addEventListener(w.toString(),j,q);else if(d.attachEvent)d.attachEvent(L(w.toString()),j);else if(d.addListener&&d.removeListener)d.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return A}function M(){function d(A){return w.call(d.src,d.listener,A)}const w=z;return d}function U(d,w,A,j,q){if(Array.isArray(w))for(var Y=0;Y<w.length;Y++)U(d,w[Y],A,j,q);else j=c(j)?!!j.capture:!!j,A=ve(A),d&&d[Fe]?(d=d.i,w=String(w).toString(),w in d.g&&(Y=d.g[w],A=Ve(Y,A,j,q),-1<A&&(be(Y[A]),Array.prototype.splice.call(Y,A,1),Y.length==0&&(delete d.g[w],d.h--)))):d&&(d=K(d))&&(w=d.g[w.toString()],d=-1,w&&(d=Ve(w,A,j,q)),(A=-1<d?w[d]:null)&&B(A))}function B(d){if(typeof d!="number"&&d&&!d.da){var w=d.src;if(w&&w[Fe])J(w.i,d);else{var A=d.type,j=d.proxy;w.removeEventListener?w.removeEventListener(A,j,d.capture):w.detachEvent?w.detachEvent(L(A),j):w.addListener&&w.removeListener&&w.removeListener(j),(A=K(w))?(J(A,d),A.h==0&&(A.src=null,w[Pe]=null)):be(d)}}}function L(d){return d in Ge?Ge[d]:Ge[d]="on"+d}function z(d,w){if(d.da)d=!0;else{w=new je(w,this);var A=d.listener,j=d.ha||d.src;d.fa&&B(d),d=A.call(j,w)}return d}function K(d){return d=d[Pe],d instanceof we?d:null}var ne="__closure_events_fn_"+(1e9*Math.random()>>>0);function ve(d){return typeof d=="function"?d:(d[ne]||(d[ne]=function(w){return d.handleEvent(w)}),d[ne])}function _e(){Z.call(this),this.i=new we(this),this.M=this,this.F=null}g(_e,Z),_e.prototype[Fe]=!0,_e.prototype.removeEventListener=function(d,w,A,j){U(this,d,w,A,j)};function Re(d,w){var A,j=d.F;if(j)for(A=[];j;j=j.F)A.push(j);if(d=d.M,j=w.type||w,typeof w=="string")w=new le(w,d);else if(w instanceof le)w.target=w.target||d;else{var q=w;w=new le(j,d),I(w,q)}if(q=!0,A)for(var Y=A.length-1;0<=Y;Y--){var fe=w.g=A[Y];q=Wr(fe,j,!0,w)&&q}if(fe=w.g=d,q=Wr(fe,j,!0,w)&&q,q=Wr(fe,j,!1,w)&&q,A)for(Y=0;Y<A.length;Y++)fe=w.g=A[Y],q=Wr(fe,j,!1,w)&&q}_e.prototype.N=function(){if(_e.aa.N.call(this),this.i){var d=this.i,w;for(w in d.g){for(var A=d.g[w],j=0;j<A.length;j++)be(A[j]);delete d.g[w],d.h--}}this.F=null},_e.prototype.K=function(d,w,A,j){return this.i.add(String(d),w,!1,A,j)},_e.prototype.L=function(d,w,A,j){return this.i.add(String(d),w,!0,A,j)};function Wr(d,w,A,j){if(w=d.i.g[String(w)],!w)return!0;w=w.concat();for(var q=!0,Y=0;Y<w.length;++Y){var fe=w[Y];if(fe&&!fe.da&&fe.capture==A){var lt=fe.listener,lr=fe.ha||fe.src;fe.fa&&J(d.i,fe),q=lt.call(lr,j)!==!1&&q}}return q&&!j.defaultPrevented}function Is(d,w,A){if(typeof d=="function")A&&(d=h(d,A));else if(d&&typeof d.handleEvent=="function")d=h(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:s.setTimeout(d,w||0)}function _o(d){d.g=Is(()=>{d.g=null,d.i&&(d.i=!1,_o(d))},d.l);const w=d.h;d.h=null,d.m.apply(null,w)}class ua extends Z{constructor(w,A){super(),this.m=w,this.l=A,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:_o(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fa(d){Z.call(this),this.h=d,this.g={}}g(fa,Z);var da=[];function Os(d){C(d.g,function(w,A){this.g.hasOwnProperty(A)&&B(w)},d),d.g={}}fa.prototype.N=function(){fa.aa.N.call(this),Os(this)},fa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ha=s.JSON.stringify,zd=s.JSON.parse,Ic=class{stringify(d){return s.JSON.stringify(d,void 0)}parse(d){return s.JSON.parse(d,void 0)}};function Oc(){}Oc.prototype.h=null;function Wd(d){return d.h||(d.h=d.i())}function qd(){}var ko={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Cc(){le.call(this,"d")}g(Cc,le);function de(){le.call(this,"c")}g(de,le);var ke={},Ue=null;function ze(){return Ue=Ue||new _e}ke.La="serverreachability";function at(d){le.call(this,ke.La,d)}g(at,le);function $t(d){const w=ze();Re(w,new at(w))}ke.STAT_EVENT="statevent";function Lt(d,w){le.call(this,ke.STAT_EVENT,d),this.stat=w}g(Lt,le);function Ct(d){const w=ze();Re(w,new Lt(w,d))}ke.Ma="timingevent";function Nn(d,w){le.call(this,ke.Ma,d),this.size=w}g(Nn,le);function Nc(d,w){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){d()},w)}function Rc(){this.g=!0}Rc.prototype.xa=function(){this.g=!1};function M4(d,w,A,j,q,Y){d.info(function(){if(d.g)if(Y)for(var fe="",lt=Y.split("&"),lr=0;lr<lt.length;lr++){var Ye=lt[lr].split("=");if(1<Ye.length){var yr=Ye[0];Ye=Ye[1];var vr=yr.split("_");fe=2<=vr.length&&vr[1]=="type"?fe+(yr+"="+Ye+"&"):fe+(yr+"=redacted&")}}else fe=null;else fe=Y;return"XMLHTTP REQ ("+j+") [attempt "+q+"]: "+w+`
`+A+`
`+fe})}function $4(d,w,A,j,q,Y,fe){d.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+q+"]: "+w+`
`+A+`
`+Y+" "+fe})}function Cs(d,w,A,j){d.info(function(){return"XMLHTTP TEXT ("+w+"): "+F4(d,A)+(j?" "+j:"")})}function L4(d,w){d.info(function(){return"TIMEOUT: "+w})}Rc.prototype.info=function(){};function F4(d,w){if(!d.g)return w;if(!w)return null;try{var A=JSON.parse(w);if(A){for(d=0;d<A.length;d++)if(Array.isArray(A[d])){var j=A[d];if(!(2>j.length)){var q=j[1];if(Array.isArray(q)&&!(1>q.length)){var Y=q[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var fe=1;fe<q.length;fe++)q[fe]=""}}}}return ha(A)}catch{return w}}var Hd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Fk={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wy;function Kd(){}g(Kd,Oc),Kd.prototype.g=function(){return new XMLHttpRequest},Kd.prototype.i=function(){return{}},Wy=new Kd;function pa(d,w,A,j){this.j=d,this.i=w,this.l=A,this.R=j||1,this.U=new fa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Vk}function Vk(){this.i=null,this.g="",this.h=!1}var Uk={},qy={};function Hy(d,w,A){d.L=1,d.v=Qd(Si(w)),d.m=A,d.P=!0,Bk(d,null)}function Bk(d,w){d.F=Date.now(),Gd(d),d.A=Si(d.v);var A=d.A,j=d.R;Array.isArray(j)||(j=[String(j)]),rE(A.i,"t",j),d.C=0,A=d.j.J,d.h=new Vk,d.g=xE(d.j,A?w:null,!d.m),0<d.O&&(d.M=new ua(h(d.Y,d,d.g),d.O)),w=d.U,A=d.g,j=d.ca;var q="readystatechange";Array.isArray(q)||(q&&(da[0]=q.toString()),q=da);for(var Y=0;Y<q.length;Y++){var fe=Xe(A,q[Y],j||w.handleEvent,!1,w.h||w);if(!fe)break;w.g[fe.key]=fe}w=d.H?E(d.H):{},d.m?(d.u||(d.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,w)):(d.u="GET",d.g.ea(d.A,d.u,null,w)),$t(),M4(d.i,d.u,d.A,d.l,d.R,d.m)}pa.prototype.ca=function(d){d=d.target;const w=this.M;w&&Ti(d)==3?w.j():this.Y(d)},pa.prototype.Y=function(d){try{if(d==this.g)e:{const vr=Ti(this.g);var w=this.g.Ba();const js=this.g.Z();if(!(3>vr)&&(vr!=3||this.g&&(this.h.h||this.g.oa()||cE(this.g)))){this.J||vr!=4||w==7||(w==8||0>=js?$t(3):$t(2)),Ky(this);var A=this.g.Z();this.X=A;t:if(zk(this)){var j=cE(this.g);d="";var q=j.length,Y=Ti(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Eo(this),jc(this);var fe="";break t}this.h.i=new s.TextDecoder}for(w=0;w<q;w++)this.h.h=!0,d+=this.h.i.decode(j[w],{stream:!(Y&&w==q-1)});j.length=0,this.h.g+=d,this.C=0,fe=this.h.g}else fe=this.g.oa();if(this.o=A==200,$4(this.i,this.u,this.A,this.l,this.R,vr,A),this.o){if(this.T&&!this.K){t:{if(this.g){var lt,lr=this.g;if((lt=lr.g?lr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(lt)){var Ye=lt;break t}}Ye=null}if(A=Ye)Cs(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gy(this,A);else{this.o=!1,this.s=3,Ct(12),Eo(this),jc(this);break e}}if(this.P){A=!0;let Rn;for(;!this.J&&this.C<fe.length;)if(Rn=V4(this,fe),Rn==qy){vr==4&&(this.s=4,Ct(14),A=!1),Cs(this.i,this.l,null,"[Incomplete Response]");break}else if(Rn==Uk){this.s=4,Ct(15),Cs(this.i,this.l,fe,"[Invalid Chunk]"),A=!1;break}else Cs(this.i,this.l,Rn,null),Gy(this,Rn);if(zk(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vr!=4||fe.length!=0||this.h.h||(this.s=1,Ct(16),A=!1),this.o=this.o&&A,!A)Cs(this.i,this.l,fe,"[Invalid Chunked Response]"),Eo(this),jc(this);else if(0<fe.length&&!this.W){this.W=!0;var yr=this.j;yr.g==this&&yr.ba&&!yr.M&&(yr.j.info("Great, no buffering proxy detected. Bytes received: "+fe.length),ev(yr),yr.M=!0,Ct(11))}}else Cs(this.i,this.l,fe,null),Gy(this,fe);vr==4&&Eo(this),this.o&&!this.J&&(vr==4?gE(this.j,this):(this.o=!1,Gd(this)))}else n3(this.g),A==400&&0<fe.indexOf("Unknown SID")?(this.s=3,Ct(12)):(this.s=0,Ct(13)),Eo(this),jc(this)}}}catch{}finally{}};function zk(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function V4(d,w){var A=d.C,j=w.indexOf(`
`,A);return j==-1?qy:(A=Number(w.substring(A,j)),isNaN(A)?Uk:(j+=1,j+A>w.length?qy:(w=w.slice(j,j+A),d.C=j+A,w)))}pa.prototype.cancel=function(){this.J=!0,Eo(this)};function Gd(d){d.S=Date.now()+d.I,Wk(d,d.I)}function Wk(d,w){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Nc(h(d.ba,d),w)}function Ky(d){d.B&&(s.clearTimeout(d.B),d.B=null)}pa.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(L4(this.i,this.A),this.L!=2&&($t(),Ct(17)),Eo(this),this.s=2,jc(this)):Wk(this,this.S-d)};function jc(d){d.j.G==0||d.J||gE(d.j,d)}function Eo(d){Ky(d);var w=d.M;w&&typeof w.ma=="function"&&w.ma(),d.M=null,Os(d.U),d.g&&(w=d.g,d.g=null,w.abort(),w.ma())}function Gy(d,w){try{var A=d.j;if(A.G!=0&&(A.g==d||Xy(A.h,d))){if(!d.K&&Xy(A.h,d)&&A.G==3){try{var j=A.Da.g.parse(w)}catch{j=null}if(Array.isArray(j)&&j.length==3){var q=j;if(q[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<d.F)rh(A),eh(A);else break e;Zy(A),Ct(18)}}else A.za=q[1],0<A.za-A.T&&37500>q[2]&&A.F&&A.v==0&&!A.C&&(A.C=Nc(h(A.Za,A),6e3));if(1>=Kk(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else To(A,11)}else if((d.K||A.g==d)&&rh(A),!y(w))for(q=A.Da.g.parse(w),w=0;w<q.length;w++){let Ye=q[w];if(A.T=Ye[0],Ye=Ye[1],A.G==2)if(Ye[0]=="c"){A.K=Ye[1],A.ia=Ye[2];const yr=Ye[3];yr!=null&&(A.la=yr,A.j.info("VER="+A.la));const vr=Ye[4];vr!=null&&(A.Aa=vr,A.j.info("SVER="+A.Aa));const js=Ye[5];js!=null&&typeof js=="number"&&0<js&&(j=1.5*js,A.L=j,A.j.info("backChannelRequestTimeoutMs_="+j)),j=A;const Rn=d.g;if(Rn){const ih=Rn.g?Rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ih){var Y=j.h;Y.g||ih.indexOf("spdy")==-1&&ih.indexOf("quic")==-1&&ih.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Yy(Y,Y.h),Y.h=null))}if(j.D){const tv=Rn.g?Rn.g.getResponseHeader("X-HTTP-Session-Id"):null;tv&&(j.ya=tv,pt(j.I,j.D,tv))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-d.F,A.j.info("Handshake RTT: "+A.R+"ms")),j=A;var fe=d;if(j.qa=bE(j,j.J?j.ia:null,j.W),fe.K){Gk(j.h,fe);var lt=fe,lr=j.L;lr&&(lt.I=lr),lt.B&&(Ky(lt),Gd(lt)),j.g=fe}else pE(j);0<A.i.length&&th(A)}else Ye[0]!="stop"&&Ye[0]!="close"||To(A,7);else A.G==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?To(A,7):Jy(A):Ye[0]!="noop"&&A.l&&A.l.ta(Ye),A.v=0)}}$t(4)}catch{}}var U4=class{constructor(d,w){this.g=d,this.map=w}};function qk(d){this.l=d||10,s.PerformanceNavigationTiming?(d=s.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Hk(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Kk(d){return d.h?1:d.g?d.g.size:0}function Xy(d,w){return d.h?d.h==w:d.g?d.g.has(w):!1}function Yy(d,w){d.g?d.g.add(w):d.h=w}function Gk(d,w){d.h&&d.h==w?d.h=null:d.g&&d.g.has(w)&&d.g.delete(w)}qk.prototype.cancel=function(){if(this.i=Xk(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Xk(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let w=d.i;for(const A of d.g.values())w=w.concat(A.D);return w}return b(d.i)}function B4(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var w=[],A=d.length,j=0;j<A;j++)w.push(d[j]);return w}w=[],A=0;for(j in d)w[A++]=d[j];return w}function z4(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var w=[];d=d.length;for(var A=0;A<d;A++)w.push(A);return w}w=[],A=0;for(const j in d)w[A++]=j;return w}}}function Yk(d,w){if(d.forEach&&typeof d.forEach=="function")d.forEach(w,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,w,void 0);else for(var A=z4(d),j=B4(d),q=j.length,Y=0;Y<q;Y++)w.call(void 0,j[Y],A&&A[Y],d)}var Qk=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function W4(d,w){if(d){d=d.split("&");for(var A=0;A<d.length;A++){var j=d[A].indexOf("="),q=null;if(0<=j){var Y=d[A].substring(0,j);q=d[A].substring(j+1)}else Y=d[A];w(Y,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function So(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof So){this.h=d.h,Xd(this,d.j),this.o=d.o,this.g=d.g,Yd(this,d.s),this.l=d.l;var w=d.i,A=new $c;A.i=w.i,w.g&&(A.g=new Map(w.g),A.h=w.h),Jk(this,A),this.m=d.m}else d&&(w=String(d).match(Qk))?(this.h=!1,Xd(this,w[1]||"",!0),this.o=Dc(w[2]||""),this.g=Dc(w[3]||"",!0),Yd(this,w[4]),this.l=Dc(w[5]||"",!0),Jk(this,w[6]||"",!0),this.m=Dc(w[7]||"")):(this.h=!1,this.i=new $c(null,this.h))}So.prototype.toString=function(){var d=[],w=this.j;w&&d.push(Mc(w,Zk,!0),":");var A=this.g;return(A||w=="file")&&(d.push("//"),(w=this.o)&&d.push(Mc(w,Zk,!0),"@"),d.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&d.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&d.push("/"),d.push(Mc(A,A.charAt(0)=="/"?K4:H4,!0))),(A=this.i.toString())&&d.push("?",A),(A=this.m)&&d.push("#",Mc(A,X4)),d.join("")};function Si(d){return new So(d)}function Xd(d,w,A){d.j=A?Dc(w,!0):w,d.j&&(d.j=d.j.replace(/:$/,""))}function Yd(d,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);d.s=w}else d.s=null}function Jk(d,w,A){w instanceof $c?(d.i=w,Y4(d.i,d.h)):(A||(w=Mc(w,G4)),d.i=new $c(w,d.h))}function pt(d,w,A){d.i.set(w,A)}function Qd(d){return pt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Dc(d,w){return d?w?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Mc(d,w,A){return typeof d=="string"?(d=encodeURI(d).replace(w,q4),A&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function q4(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Zk=/[#\/\?@]/g,H4=/[#\?:]/g,K4=/[#\?]/g,G4=/[#\?@]/g,X4=/#/g;function $c(d,w){this.h=this.g=null,this.i=d||null,this.j=!!w}function ma(d){d.g||(d.g=new Map,d.h=0,d.i&&W4(d.i,function(w,A){d.add(decodeURIComponent(w.replace(/\+/g," ")),A)}))}t=$c.prototype,t.add=function(d,w){ma(this),this.i=null,d=Ns(this,d);var A=this.g.get(d);return A||this.g.set(d,A=[]),A.push(w),this.h+=1,this};function eE(d,w){ma(d),w=Ns(d,w),d.g.has(w)&&(d.i=null,d.h-=d.g.get(w).length,d.g.delete(w))}function tE(d,w){return ma(d),w=Ns(d,w),d.g.has(w)}t.forEach=function(d,w){ma(this),this.g.forEach(function(A,j){A.forEach(function(q){d.call(w,q,j,this)},this)},this)},t.na=function(){ma(this);const d=Array.from(this.g.values()),w=Array.from(this.g.keys()),A=[];for(let j=0;j<w.length;j++){const q=d[j];for(let Y=0;Y<q.length;Y++)A.push(w[j])}return A},t.V=function(d){ma(this);let w=[];if(typeof d=="string")tE(this,d)&&(w=w.concat(this.g.get(Ns(this,d))));else{d=Array.from(this.g.values());for(let A=0;A<d.length;A++)w=w.concat(d[A])}return w},t.set=function(d,w){return ma(this),this.i=null,d=Ns(this,d),tE(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[w]),this.h+=1,this},t.get=function(d,w){return d?(d=this.V(d),0<d.length?String(d[0]):w):w};function rE(d,w,A){eE(d,w),0<A.length&&(d.i=null,d.g.set(Ns(d,w),b(A)),d.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],w=Array.from(this.g.keys());for(var A=0;A<w.length;A++){var j=w[A];const Y=encodeURIComponent(String(j)),fe=this.V(j);for(j=0;j<fe.length;j++){var q=Y;fe[j]!==""&&(q+="="+encodeURIComponent(String(fe[j]))),d.push(q)}}return this.i=d.join("&")};function Ns(d,w){return w=String(w),d.j&&(w=w.toLowerCase()),w}function Y4(d,w){w&&!d.j&&(ma(d),d.i=null,d.g.forEach(function(A,j){var q=j.toLowerCase();j!=q&&(eE(this,j),rE(this,q,A))},d)),d.j=w}function Q4(d,w){const A=new Rc;if(s.Image){const j=new Image;j.onload=p(ga,A,"TestLoadImage: loaded",!0,w,j),j.onerror=p(ga,A,"TestLoadImage: error",!1,w,j),j.onabort=p(ga,A,"TestLoadImage: abort",!1,w,j),j.ontimeout=p(ga,A,"TestLoadImage: timeout",!1,w,j),s.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=d}else w(!1)}function J4(d,w){const A=new Rc,j=new AbortController,q=setTimeout(()=>{j.abort(),ga(A,"TestPingServer: timeout",!1,w)},1e4);fetch(d,{signal:j.signal}).then(Y=>{clearTimeout(q),Y.ok?ga(A,"TestPingServer: ok",!0,w):ga(A,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(q),ga(A,"TestPingServer: error",!1,w)})}function ga(d,w,A,j,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),j(A)}catch{}}function Z4(){this.g=new Ic}function e3(d,w,A){const j=A||"";try{Yk(d,function(q,Y){let fe=q;c(q)&&(fe=ha(q)),w.push(j+Y+"="+encodeURIComponent(fe))})}catch(q){throw w.push(j+"type="+encodeURIComponent("_badmap")),q}}function Lc(d){this.l=d.Ub||null,this.j=d.eb||!1}g(Lc,Oc),Lc.prototype.g=function(){return new Jd(this.l,this.j)},Lc.prototype.i=function(d){return function(){return d}}({});function Jd(d,w){_e.call(this),this.D=d,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(Jd,_e),t=Jd.prototype,t.open=function(d,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=w,this.readyState=1,Vc(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(w.body=d),(this.D||s).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fc(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Vc(this)),this.g&&(this.readyState=3,Vc(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;nE(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function nE(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var w=d.value?d.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!d.done}))&&(this.response=this.responseText+=w)}d.done?Fc(this):Vc(this),this.readyState==3&&nE(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Fc(this))},t.Qa=function(d){this.g&&(this.response=d,Fc(this))},t.ga=function(){this.g&&Fc(this)};function Fc(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Vc(d)}t.setRequestHeader=function(d,w){this.u.append(d,w)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],w=this.h.entries();for(var A=w.next();!A.done;)A=A.value,d.push(A[0]+": "+A[1]),A=w.next();return d.join(`\r
`)};function Vc(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Jd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function iE(d){let w="";return C(d,function(A,j){w+=j,w+=":",w+=A,w+=`\r
`}),w}function Qy(d,w,A){e:{for(j in A){var j=!1;break e}j=!0}j||(A=iE(A),typeof d=="string"?A!=null&&encodeURIComponent(String(A)):pt(d,w,A))}function Nt(d){_e.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(Nt,_e);var t3=/^https?$/i,r3=["POST","PUT"];t=Nt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,w,A,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);w=w?w.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wy.g(),this.v=this.o?Wd(this.o):Wd(Wy),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(w,String(d),!0),this.B=!1}catch(Y){aE(this,Y);return}if(d=A||"",A=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var q in j)A.set(q,j[q]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const Y of j.keys())A.set(Y,j.get(Y));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(A.keys()).find(Y=>Y.toLowerCase()=="content-type"),q=s.FormData&&d instanceof s.FormData,!(0<=Array.prototype.indexOf.call(r3,w,void 0))||j||q||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,fe]of A)this.g.setRequestHeader(Y,fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{lE(this),this.u=!0,this.g.send(d),this.u=!1}catch(Y){aE(this,Y)}};function aE(d,w){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=w,d.m=5,oE(d),Zd(d)}function oE(d){d.A||(d.A=!0,Re(d,"complete"),Re(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Re(this,"complete"),Re(this,"abort"),Zd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zd(this,!0)),Nt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?sE(this):this.bb())},t.bb=function(){sE(this)};function sE(d){if(d.h&&typeof o<"u"&&(!d.v[1]||Ti(d)!=4||d.Z()!=2)){if(d.u&&Ti(d)==4)Is(d.Ea,0,d);else if(Re(d,"readystatechange"),Ti(d)==4){d.h=!1;try{const fe=d.Z();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var A;if(!(A=w)){var j;if(j=fe===0){var q=String(d.D).match(Qk)[1]||null;!q&&s.self&&s.self.location&&(q=s.self.location.protocol.slice(0,-1)),j=!t3.test(q?q.toLowerCase():"")}A=j}if(A)Re(d,"complete"),Re(d,"success");else{d.m=6;try{var Y=2<Ti(d)?d.g.statusText:""}catch{Y=""}d.l=Y+" ["+d.Z()+"]",oE(d)}}finally{Zd(d)}}}}function Zd(d,w){if(d.g){lE(d);const A=d.g,j=d.v[0]?()=>{}:null;d.g=null,d.v=null,w||Re(d,"ready");try{A.onreadystatechange=j}catch{}}}function lE(d){d.I&&(s.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function Ti(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<Ti(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var w=this.g.responseText;return d&&w.indexOf(d)==0&&(w=w.substring(d.length)),zd(w)}};function cE(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function n3(d){const w={};d=(d.g&&2<=Ti(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<d.length;j++){if(y(d[j]))continue;var A=R(d[j]);const q=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const Y=w[q]||[];w[q]=Y,Y.push(A)}S(w,function(j){return j.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Uc(d,w,A){return A&&A.internalChannelParams&&A.internalChannelParams[d]||w}function uE(d){this.Aa=0,this.i=[],this.j=new Rc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Uc("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Uc("baseRetryDelayMs",5e3,d),this.cb=Uc("retryDelaySeedMs",1e4,d),this.Wa=Uc("forwardChannelMaxRetries",2,d),this.wa=Uc("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new qk(d&&d.concurrentRequestLimit),this.Da=new Z4,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=uE.prototype,t.la=8,t.G=1,t.connect=function(d,w,A,j){Ct(0),this.W=d,this.H=w||{},A&&j!==void 0&&(this.H.OSID=A,this.H.OAID=j),this.F=this.X,this.I=bE(this,null,this.W),th(this)};function Jy(d){if(fE(d),d.G==3){var w=d.U++,A=Si(d.I);if(pt(A,"SID",d.K),pt(A,"RID",w),pt(A,"TYPE","terminate"),Bc(d,A),w=new pa(d,d.j,w),w.L=2,w.v=Qd(Si(A)),A=!1,s.navigator&&s.navigator.sendBeacon)try{A=s.navigator.sendBeacon(w.v.toString(),"")}catch{}!A&&s.Image&&(new Image().src=w.v,A=!0),A||(w.g=xE(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Gd(w)}vE(d)}function eh(d){d.g&&(ev(d),d.g.cancel(),d.g=null)}function fE(d){eh(d),d.u&&(s.clearTimeout(d.u),d.u=null),rh(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&s.clearTimeout(d.s),d.s=null)}function th(d){if(!Hk(d.h)&&!d.s){d.s=!0;var w=d.Ga;X||ee(),V||(X(),V=!0),Q.add(w,d),d.B=0}}function i3(d,w){return Kk(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=w.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Nc(h(d.Ga,d,w),yE(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const q=new pa(this,this.j,d);let Y=this.o;if(this.S&&(Y?(Y=E(Y),I(Y,this.S)):Y=this.S),this.m!==null||this.O||(q.H=Y,Y=null),this.P)e:{for(var w=0,A=0;A<this.i.length;A++){t:{var j=this.i[A];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(w+=j,4096<w){w=A;break e}if(w===4096||A===this.i.length-1){w=A+1;break e}}w=1e3}else w=1e3;w=hE(this,q,w),A=Si(this.I),pt(A,"RID",d),pt(A,"CVER",22),this.D&&pt(A,"X-HTTP-Session-Id",this.D),Bc(this,A),Y&&(this.O?w="headers="+encodeURIComponent(String(iE(Y)))+"&"+w:this.m&&Qy(A,this.m,Y)),Yy(this.h,q),this.Ua&&pt(A,"TYPE","init"),this.P?(pt(A,"$req",w),pt(A,"SID","null"),q.T=!0,Hy(q,A,null)):Hy(q,A,w),this.G=2}}else this.G==3&&(d?dE(this,d):this.i.length==0||Hk(this.h)||dE(this))};function dE(d,w){var A;w?A=w.l:A=d.U++;const j=Si(d.I);pt(j,"SID",d.K),pt(j,"RID",A),pt(j,"AID",d.T),Bc(d,j),d.m&&d.o&&Qy(j,d.m,d.o),A=new pa(d,d.j,A,d.B+1),d.m===null&&(A.H=d.o),w&&(d.i=w.D.concat(d.i)),w=hE(d,A,1e3),A.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Yy(d.h,A),Hy(A,j,w)}function Bc(d,w){d.H&&C(d.H,function(A,j){pt(w,j,A)}),d.l&&Yk({},function(A,j){pt(w,j,A)})}function hE(d,w,A){A=Math.min(d.i.length,A);var j=d.l?h(d.l.Na,d.l,d):null;e:{var q=d.i;let Y=-1;for(;;){const fe=["count="+A];Y==-1?0<A?(Y=q[0].g,fe.push("ofs="+Y)):Y=0:fe.push("ofs="+Y);let lt=!0;for(let lr=0;lr<A;lr++){let Ye=q[lr].g;const yr=q[lr].map;if(Ye-=Y,0>Ye)Y=Math.max(0,q[lr].g-100),lt=!1;else try{e3(yr,fe,"req"+Ye+"_")}catch{j&&j(yr)}}if(lt){j=fe.join("&");break e}}}return d=d.i.splice(0,A),w.D=d,j}function pE(d){if(!d.g&&!d.u){d.Y=1;var w=d.Fa;X||ee(),V||(X(),V=!0),Q.add(w,d),d.v=0}}function Zy(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Nc(h(d.Fa,d),yE(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,mE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Nc(h(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ct(10),eh(this),mE(this))};function ev(d){d.A!=null&&(s.clearTimeout(d.A),d.A=null)}function mE(d){d.g=new pa(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var w=Si(d.qa);pt(w,"RID","rpc"),pt(w,"SID",d.K),pt(w,"AID",d.T),pt(w,"CI",d.F?"0":"1"),!d.F&&d.ja&&pt(w,"TO",d.ja),pt(w,"TYPE","xmlhttp"),Bc(d,w),d.m&&d.o&&Qy(w,d.m,d.o),d.L&&(d.g.I=d.L);var A=d.g;d=d.ia,A.L=1,A.v=Qd(Si(w)),A.m=null,A.P=!0,Bk(A,d)}t.Za=function(){this.C!=null&&(this.C=null,eh(this),Zy(this),Ct(19))};function rh(d){d.C!=null&&(s.clearTimeout(d.C),d.C=null)}function gE(d,w){var A=null;if(d.g==w){rh(d),ev(d),d.g=null;var j=2}else if(Xy(d.h,w))A=w.D,Gk(d.h,w),j=1;else return;if(d.G!=0){if(w.o)if(j==1){A=w.m?w.m.length:0,w=Date.now()-w.F;var q=d.B;j=ze(),Re(j,new Nn(j,A)),th(d)}else pE(d);else if(q=w.s,q==3||q==0&&0<w.X||!(j==1&&i3(d,w)||j==2&&Zy(d)))switch(A&&0<A.length&&(w=d.h,w.i=w.i.concat(A)),q){case 1:To(d,5);break;case 4:To(d,10);break;case 3:To(d,6);break;default:To(d,2)}}}function yE(d,w){let A=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(A*=2),A*w}function To(d,w){if(d.j.info("Error code "+w),w==2){var A=h(d.fb,d),j=d.Xa;const q=!j;j=new So(j||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Xd(j,"https"),Qd(j),q?Q4(j.toString(),A):J4(j.toString(),A)}else Ct(2);d.G=0,d.l&&d.l.sa(w),vE(d),fE(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function vE(d){if(d.G=0,d.ka=[],d.l){const w=Xk(d.h);(w.length!=0||d.i.length!=0)&&(v(d.ka,w),v(d.ka,d.i),d.h.i.length=0,b(d.i),d.i.length=0),d.l.ra()}}function bE(d,w,A){var j=A instanceof So?Si(A):new So(A);if(j.g!="")w&&(j.g=w+"."+j.g),Yd(j,j.s);else{var q=s.location;j=q.protocol,w=w?w+"."+q.hostname:q.hostname,q=+q.port;var Y=new So(null);j&&Xd(Y,j),w&&(Y.g=w),q&&Yd(Y,q),A&&(Y.l=A),j=Y}return A=d.D,w=d.ya,A&&w&&pt(j,A,w),pt(j,"VER",d.la),Bc(d,j),j}function xE(d,w,A){if(w&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=d.Ca&&!d.pa?new Nt(new Lc({eb:A})):new Nt(d.pa),w.Ha(d.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function wE(){}t=wE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function nh(){}nh.prototype.g=function(d,w){return new tn(d,w)};function tn(d,w){_e.call(this),this.g=new uE(w),this.l=d,this.h=w&&w.messageUrlParams||null,d=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(d?d["X-WebChannel-Content-Type"]=w.messageContentType:d={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(d?d["X-WebChannel-Client-Profile"]=w.va:d={"X-WebChannel-Client-Profile":w.va}),this.g.S=d,(d=w&&w.Sb)&&!y(d)&&(this.g.m=d),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!y(w)&&(this.g.D=w,d=this.h,d!==null&&w in d&&(d=this.h,w in d&&delete d[w])),this.j=new Rs(this)}g(tn,_e),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Jy(this.g)},tn.prototype.o=function(d){var w=this.g;if(typeof d=="string"){var A={};A.__data__=d,d=A}else this.u&&(A={},A.__data__=ha(d),d=A);w.i.push(new U4(w.Ya++,d)),w.G==3&&th(w)},tn.prototype.N=function(){this.g.l=null,delete this.j,Jy(this.g),delete this.g,tn.aa.N.call(this)};function _E(d){Cc.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var w=d.__sm__;if(w){e:{for(const A in w){d=A;break e}d=void 0}(this.i=d)&&(d=this.i,w=w!==null&&d in w?w[d]:void 0),this.data=w}else this.data=d}g(_E,Cc);function kE(){de.call(this),this.status=1}g(kE,de);function Rs(d){this.g=d}g(Rs,wE),Rs.prototype.ua=function(){Re(this.g,"a")},Rs.prototype.ta=function(d){Re(this.g,new _E(d))},Rs.prototype.sa=function(d){Re(this.g,new kE)},Rs.prototype.ra=function(){Re(this.g,"b")},nh.prototype.createWebChannel=nh.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,ej=function(){return new nh},ZR=function(){return ze()},JR=ke,Eb={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Hd.NO_ERROR=0,Hd.TIMEOUT=8,Hd.HTTP_ERROR=6,fp=Hd,Fk.COMPLETE="complete",QR=Fk,qd.EventType=ko,ko.OPEN="a",ko.CLOSE="b",ko.ERROR="c",ko.MESSAGE="d",_e.prototype.listen=_e.prototype.K,yu=qd,YR=Lc,Nt.prototype.listenOnce=Nt.prototype.L,Nt.prototype.getLastError=Nt.prototype.Ka,Nt.prototype.getLastErrorCode=Nt.prototype.Ba,Nt.prototype.getStatus=Nt.prototype.Z,Nt.prototype.getResponseJson=Nt.prototype.Oa,Nt.prototype.getResponseText=Nt.prototype.oa,Nt.prototype.send=Nt.prototype.ea,Nt.prototype.setWithCredentials=Nt.prototype.Ha,XR=Nt}).apply(typeof Sh<"u"?Sh:typeof self<"u"?self:typeof window<"u"?window:{});const PT="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kr.UNAUTHENTICATED=new kr(null),kr.GOOGLE_CREDENTIALS=new kr("google-credentials-uid"),kr.FIRST_PARTY=new kr("first-party-uid"),kr.MOCK_USER=new kr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dc="10.13.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as=new v_("@firebase/firestore");function Jc(){return as.logLevel}function ye(t,...e){if(as.logLevel<=Be.DEBUG){const r=e.map(O_);as.debug(`Firestore (${dc}): ${t}`,...r)}}function Zi(t,...e){if(as.logLevel<=Be.ERROR){const r=e.map(O_);as.error(`Firestore (${dc}): ${t}`,...r)}}function jl(t,...e){if(as.logLevel<=Be.WARN){const r=e.map(O_);as.warn(`Firestore (${dc}): ${t}`,...r)}}function O_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(t="Unexpected state"){const e=`FIRESTORE (${dc}) INTERNAL ASSERTION FAILED: `+t;throw Zi(e),new Error(e)}function ut(t,e){t||Ie()}function Ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends wi{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class F9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(kr.UNAUTHENTICATED))}shutdown(){}}class V9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class U9{constructor(e){this.t=e,this.currentUser=kr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let a=new zi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new zi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new zi)}},0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(ut(typeof n.accessToken=="string"),new tj(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ut(e===null||typeof e=="string"),new kr(e)}}class B9{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=kr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class z9{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new B9(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(kr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class W9{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class q9{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){const n=a=>{a.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.R;return this.R=a.token,ye("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const i=a=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(ut(typeof r.token=="string"),this.R=r.token,new W9(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=H9(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%e.length))}return n}}function Qe(t,e){return t<e?-1:t>e?1:0}function Dl(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new he(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new he(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new he(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new st(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new st(0,0))}static max(){return new Oe(new st(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,r,n){r===void 0?r=0:r>e.length&&Ie(),n===void 0?n=e.length-r:n>e.length-r&&Ie(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return bf.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof bf?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=e.get(i),o=r.get(i);if(a<o)return-1;if(a>o)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class bt extends bf{construct(e,r,n){return new bt(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new he(re.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new bt(r)}static emptyPath(){return new bt([])}}const K9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dr extends bf{construct(e,r,n){return new dr(e,r,n)}static isValidIdentifier(e){return K9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new dr(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new he(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new he(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new he(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,i+=2}else s==="`"?(o=!o,i++):s!=="."||o?(n+=s,i++):(a(),i++)}if(a(),o)throw new he(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dr(r)}static emptyPath(){return new dr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.path=e}static fromPath(e){return new xe(bt.fromString(e))}static fromName(e){return new xe(bt.fromString(e).popFirst(5))}static empty(){return new xe(bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return bt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new bt(e.slice()))}}function G9(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Oe.fromTimestamp(n===1e9?new st(r+1,0):new st(r,n));return new no(i,xe.empty(),e)}function X9(t){return new no(t.readTime,t.key,-1)}class no{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new no(Oe.min(),xe.empty(),-1)}static max(){return new no(Oe.max(),xe.empty(),-1)}}function Y9(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=xe.comparator(t.documentKey,e.documentKey),r!==0?r:Qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class J9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kd(t){if(t.code!==re.FAILED_PRECONDITION||t.message!==Q9)throw t;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new ie((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof ie?r:ie.resolve(r)}catch(r){return ie.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):ie.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):ie.reject(r)}static resolve(e){return new ie((r,n)=>{r(e)})}static reject(e){return new ie((r,n)=>{n(e)})}static waitFor(e){return new ie((r,n)=>{let i=0,a=0,o=!1;e.forEach(s=>{++i,s.next(()=>{++a,o&&a===i&&r()},l=>n(l))}),o=!0,a===i&&r()})}static or(e){let r=ie.resolve(!1);for(const n of e)r=r.next(i=>i?ie.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(e,r){return new ie((n,i)=>{const a=e.length,o=new Array(a);let s=0;for(let l=0;l<a;l++){const c=l;r(e[c]).next(u=>{o[c]=u,++s,s===a&&n(o)},u=>i(u))}})}static doWhile(e,r){return new ie((n,i)=>{const a=()=>{e()===!0?r().next(()=>{a()},i):n()};a()})}}function Z9(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Ed(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}C_.oe=-1;function Cg(t){return t==null}function am(t){return t===0&&1/t==-1/0}function e8(t){return typeof t=="number"&&Number.isInteger(t)&&!am(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function xs(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function nj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,r){this.comparator=e,this.root=r||fr.EMPTY}insert(e,r){return new Ot(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,fr.BLACK,null,null))}remove(e){return new Ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Th(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Th(this.root,e,this.comparator,!1)}getReverseIterator(){return new Th(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Th(this.root,e,this.comparator,!0)}}class Th{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fr{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??fr.RED,this.left=i??fr.EMPTY,this.right=a??fr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new fr(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return fr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return fr.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ie();const e=this.left.check();if(e!==this.right.check())throw Ie();return e+(this.isRed()?0:1)}}fr.EMPTY=null,fr.RED=!0,fr.BLACK=!1;fr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie()}get value(){throw Ie()}get color(){throw Ie()}get left(){throw Ie()}get right(){throw Ie()}copy(e,r,n,i,a){return this}insert(e,r,n){return new fr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this.comparator=e,this.data=new Ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new OT(this.data.getIterator())}getIteratorFrom(e){return new OT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof pr)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new pr(this.comparator);return r.data=e,r}}class OT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.fields=e,e.sort(dr.comparator)}static empty(){return new ln([])}unionWith(e){let r=new pr(dr.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new ln(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Dl(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new ij("Invalid base64 string: "+a):a}}(e);return new gr(r)}static fromUint8Array(e){const r=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new gr(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gr.EMPTY_BYTE_STRING=new gr("");const t8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function io(t){if(ut(!!t),typeof t=="string"){let e=0;const r=t8.exec(t);if(ut(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Vt(t.seconds),nanos:Vt(t.nanos)}}function Vt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function os(t){return typeof t=="string"?gr.fromBase64String(t):gr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N_(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function R_(t){const e=t.mapValue.fields.__previous_value__;return N_(e)?R_(e):e}function xf(t){const e=io(t.mapValue.fields.__local_write_time__.timestampValue);return new st(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r8{constructor(e,r,n,i,a,o,s,l,c){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=c}}class wf{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new wf("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof wf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ss(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?N_(t)?4:i8(t)?9007199254740991:n8(t)?10:11:Ie()}function bi(t,e){if(t===e)return!0;const r=ss(t);if(r!==ss(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return xf(t).isEqual(xf(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=io(i.timestampValue),s=io(a.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return os(i.bytesValue).isEqual(os(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return Vt(i.geoPointValue.latitude)===Vt(a.geoPointValue.latitude)&&Vt(i.geoPointValue.longitude)===Vt(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Vt(i.integerValue)===Vt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=Vt(i.doubleValue),s=Vt(a.doubleValue);return o===s?am(o)===am(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return Dl(t.arrayValue.values||[],e.arrayValue.values||[],bi);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},s=a.mapValue.fields||{};if(IT(o)!==IT(s))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(s[l]===void 0||!bi(o[l],s[l])))return!1;return!0}(t,e);default:return Ie()}}function _f(t,e){return(t.values||[]).find(r=>bi(r,e))!==void 0}function Ml(t,e){if(t===e)return 0;const r=ss(t),n=ss(e);if(r!==n)return Qe(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Qe(t.booleanValue,e.booleanValue);case 2:return function(a,o){const s=Vt(a.integerValue||a.doubleValue),l=Vt(o.integerValue||o.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return CT(t.timestampValue,e.timestampValue);case 4:return CT(xf(t),xf(e));case 5:return Qe(t.stringValue,e.stringValue);case 6:return function(a,o){const s=os(a),l=os(o);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const s=a.split("/"),l=o.split("/");for(let c=0;c<s.length&&c<l.length;c++){const u=Qe(s[c],l[c]);if(u!==0)return u}return Qe(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const s=Qe(Vt(a.latitude),Vt(o.latitude));return s!==0?s:Qe(Vt(a.longitude),Vt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return NT(t.arrayValue,e.arrayValue);case 10:return function(a,o){var s,l,c,u;const f=a.fields||{},h=o.fields||{},p=(s=f.value)===null||s===void 0?void 0:s.arrayValue,g=(l=h.value)===null||l===void 0?void 0:l.arrayValue,b=Qe(((c=p==null?void 0:p.values)===null||c===void 0?void 0:c.length)||0,((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0);return b!==0?b:NT(p,g)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===Ah.mapValue&&o===Ah.mapValue)return 0;if(a===Ah.mapValue)return 1;if(o===Ah.mapValue)return-1;const s=a.fields||{},l=Object.keys(s),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const h=Qe(l[f],u[f]);if(h!==0)return h;const p=Ml(s[l[f]],c[u[f]]);if(p!==0)return p}return Qe(l.length,u.length)}(t.mapValue,e.mapValue);default:throw Ie()}}function CT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Qe(t,e);const r=io(t),n=io(e),i=Qe(r.seconds,n.seconds);return i!==0?i:Qe(r.nanos,n.nanos)}function NT(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=Ml(r[i],n[i]);if(a)return a}return Qe(r.length,n.length)}function $l(t){return Sb(t)}function Sb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=io(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return os(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return xe.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=Sb(a);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const o of n)a?a=!1:i+=",",i+=`${o}:${Sb(r.fields[o])}`;return i+"}"}(t.mapValue):Ie()}function RT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Tb(t){return!!t&&"integerValue"in t}function j_(t){return!!t&&"arrayValue"in t}function jT(t){return!!t&&"nullValue"in t}function DT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function dp(t){return!!t&&"mapValue"in t}function n8(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function Du(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return xs(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=Du(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Du(t.arrayValue.values[r]);return e}return Object.assign({},t)}function i8(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e){this.value=e}static empty(){return new Kr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!dp(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Du(r)}setAll(e){let r=dr.emptyPath(),n={},i=[];e.forEach((o,s)=>{if(!r.isImmediateParentOf(s)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=s.popLast()}o?n[s.lastSegment()]=Du(o):i.push(s.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());dp(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return bi(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];dp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){xs(r,(i,a)=>e[i]=a);for(const i of n)delete e[i]}clone(){return new Kr(Du(this.value))}}function aj(t){const e=[];return xs(t.fields,(r,n)=>{const i=new dr([r]);if(dp(n)){const a=aj(n.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)}),new ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e,r,n,i,a,o,s){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}static newInvalidDocument(e){return new Tr(e,0,Oe.min(),Oe.min(),Oe.min(),Kr.empty(),0)}static newFoundDocument(e,r,n,i){return new Tr(e,1,r,Oe.min(),n,i,0)}static newNoDocument(e,r){return new Tr(e,2,r,Oe.min(),Oe.min(),Kr.empty(),0)}static newUnknownDocument(e,r){return new Tr(e,3,r,Oe.min(),Oe.min(),Kr.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,r){this.position=e,this.inclusive=r}}function MT(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?n=xe.comparator(xe.fromName(o.referenceValue),r.key):n=Ml(o,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function $T(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!bi(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e,r="asc"){this.field=e,this.dir=r}}function a8(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{}class qt extends oj{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new s8(e,r,n):r==="array-contains"?new u8(e,n):r==="in"?new f8(e,n):r==="not-in"?new d8(e,n):r==="array-contains-any"?new h8(e,n):new qt(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new l8(e,n):new c8(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Ml(r,this.value)):r!==null&&ss(this.value)===ss(r)&&this.matchesComparison(Ml(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gn extends oj{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new Gn(e,r)}matches(e){return sj(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function sj(t){return t.op==="and"}function lj(t){return o8(t)&&sj(t)}function o8(t){for(const e of t.filters)if(e instanceof Gn)return!1;return!0}function Ab(t){if(t instanceof qt)return t.field.canonicalString()+t.op.toString()+$l(t.value);if(lj(t))return t.filters.map(e=>Ab(e)).join(",");{const e=t.filters.map(r=>Ab(r)).join(",");return`${t.op}(${e})`}}function cj(t,e){return t instanceof qt?function(n,i){return i instanceof qt&&n.op===i.op&&n.field.isEqual(i.field)&&bi(n.value,i.value)}(t,e):t instanceof Gn?function(n,i){return i instanceof Gn&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,o,s)=>a&&cj(o,i.filters[s]),!0):!1}(t,e):void Ie()}function uj(t){return t instanceof qt?function(r){return`${r.field.canonicalString()} ${r.op} ${$l(r.value)}`}(t):t instanceof Gn?function(r){return r.op.toString()+" {"+r.getFilters().map(uj).join(" ,")+"}"}(t):"Filter"}class s8 extends qt{constructor(e,r,n){super(e,r,n),this.key=xe.fromName(n.referenceValue)}matches(e){const r=xe.comparator(e.key,this.key);return this.matchesComparison(r)}}class l8 extends qt{constructor(e,r){super(e,"in",r),this.keys=fj("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class c8 extends qt{constructor(e,r){super(e,"not-in",r),this.keys=fj("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function fj(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>xe.fromName(n.referenceValue))}class u8 extends qt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return j_(r)&&_f(r.arrayValue,this.value)}}class f8 extends qt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&_f(this.value.arrayValue,r)}}class d8 extends qt{constructor(e,r){super(e,"not-in",r)}matches(e){if(_f(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!_f(this.value.arrayValue,r)}}class h8 extends qt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!j_(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>_f(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p8{constructor(e,r=null,n=[],i=[],a=null,o=null,s=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ue=null}}function LT(t,e=null,r=[],n=[],i=null,a=null,o=null){return new p8(t,e,r,n,i,a,o)}function D_(t){const e=Ne(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>Ab(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),Cg(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>$l(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>$l(n)).join(",")),e.ue=r}return e.ue}function M_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!a8(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!cj(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!$T(t.startAt,e.startAt)&&$T(t.endAt,e.endAt)}function Pb(t){return xe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,r=null,n=[],i=[],a=null,o="F",s=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function m8(t,e,r,n,i,a,o,s){return new hc(t,e,r,n,i,a,o,s)}function $_(t){return new hc(t)}function FT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function dj(t){return t.collectionGroup!==null}function Mu(t){const e=Ne(t);if(e.ce===null){e.ce=[];const r=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let s=new pr(dr.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(s=s.add(c.field))})}),s})(e).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||e.ce.push(new kf(a,n))}),r.has(dr.keyField().canonicalString())||e.ce.push(new kf(dr.keyField(),n))}return e.ce}function mi(t){const e=Ne(t);return e.le||(e.le=g8(e,Mu(t))),e.le}function g8(t,e){if(t.limitType==="F")return LT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new kf(i.field,a)});const r=t.endAt?new om(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new om(t.startAt.position,t.startAt.inclusive):null;return LT(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function Ib(t,e){const r=t.filters.concat([e]);return new hc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function Ob(t,e,r){return new hc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Ng(t,e){return M_(mi(t),mi(e))&&t.limitType===e.limitType}function hj(t){return`${D_(mi(t))}|lt:${t.limitType}`}function zs(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>uj(i)).join(", ")}]`),Cg(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>$l(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>$l(i)).join(",")),`Target(${n})`}(mi(t))}; limitType=${t.limitType})`}function Rg(t,e){return e.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):xe.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(t,e)&&function(n,i){for(const a of Mu(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(o,s,l){const c=MT(o,s,l);return o.inclusive?c<=0:c<0}(n.startAt,Mu(n),i)||n.endAt&&!function(o,s,l){const c=MT(o,s,l);return o.inclusive?c>=0:c>0}(n.endAt,Mu(n),i))}(t,e)}function y8(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function pj(t){return(e,r)=>{let n=!1;for(const i of Mu(t)){const a=v8(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function v8(t,e,r){const n=t.field.isKeyField()?xe.comparator(e.key,r.key):function(a,o,s){const l=o.data.field(a),c=s.data.field(a);return l!==null&&c!==null?Ml(l,c):Ie()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Ie()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){xs(this.inner,(r,n)=>{for(const[i,a]of n)e(i,a)})}isEmpty(){return nj(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b8=new Ot(xe.comparator);function ea(){return b8}const mj=new Ot(xe.comparator);function vu(...t){let e=mj;for(const r of t)e=e.insert(r.key,r);return e}function gj(t){let e=mj;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function Vo(){return $u()}function yj(){return $u()}function $u(){return new pc(t=>t.toString(),(t,e)=>t.isEqual(e))}const x8=new Ot(xe.comparator),w8=new pr(xe.comparator);function Le(...t){let e=w8;for(const r of t)e=e.add(r);return e}const _8=new pr(Qe);function k8(){return _8}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:am(e)?"-0":e}}function vj(t){return{integerValue:""+t}}function E8(t,e){return e8(e)?vj(e):L_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(){this._=void 0}}function S8(t,e,r){return t instanceof sm?function(i,a){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&N_(a)&&(a=R_(a)),a&&(o.fields.__previous_value__=a),{mapValue:o}}(r,e):t instanceof Ef?xj(t,e):t instanceof Sf?wj(t,e):function(i,a){const o=bj(i,a),s=VT(o)+VT(i.Pe);return Tb(o)&&Tb(i.Pe)?vj(s):L_(i.serializer,s)}(t,e)}function T8(t,e,r){return t instanceof Ef?xj(t,e):t instanceof Sf?wj(t,e):r}function bj(t,e){return t instanceof lm?function(n){return Tb(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class sm extends jg{}class Ef extends jg{constructor(e){super(),this.elements=e}}function xj(t,e){const r=_j(e);for(const n of t.elements)r.some(i=>bi(i,n))||r.push(n);return{arrayValue:{values:r}}}class Sf extends jg{constructor(e){super(),this.elements=e}}function wj(t,e){let r=_j(e);for(const n of t.elements)r=r.filter(i=>!bi(i,n));return{arrayValue:{values:r}}}class lm extends jg{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function VT(t){return Vt(t.integerValue||t.doubleValue)}function _j(t){return j_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function A8(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof Ef&&i instanceof Ef||n instanceof Sf&&i instanceof Sf?Dl(n.elements,i.elements,bi):n instanceof lm&&i instanceof lm?bi(n.Pe,i.Pe):n instanceof sm&&i instanceof sm}(t.transform,e.transform)}class P8{constructor(e,r){this.version=e,this.transformResults=r}}class Tn{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Tn}static exists(e){return new Tn(void 0,e)}static updateTime(e){return new Tn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Dg{}function kj(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new F_(t.key,Tn.none()):new Sd(t.key,t.data,Tn.none());{const r=t.data,n=Kr.empty();let i=new pr(dr.comparator);for(let a of e.fields)if(!i.has(a)){let o=r.field(a);o===null&&a.length>1&&(a=a.popLast(),o=r.field(a)),o===null?n.delete(a):n.set(a,o),i=i.add(a)}return new po(t.key,n,new ln(i.toArray()),Tn.none())}}function I8(t,e,r){t instanceof Sd?function(i,a,o){const s=i.value.clone(),l=BT(i.fieldTransforms,a,o.transformResults);s.setAll(l),a.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,r):t instanceof po?function(i,a,o){if(!hp(i.precondition,a))return void a.convertToUnknownDocument(o.version);const s=BT(i.fieldTransforms,a,o.transformResults),l=a.data;l.setAll(Ej(i)),l.setAll(s),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,r):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,r)}function Lu(t,e,r,n){return t instanceof Sd?function(a,o,s,l){if(!hp(a.precondition,o))return s;const c=a.value.clone(),u=zT(a.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,r,n):t instanceof po?function(a,o,s,l){if(!hp(a.precondition,o))return s;const c=zT(a.fieldTransforms,l,o),u=o.data;return u.setAll(Ej(a)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),s===null?null:s.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(f=>f.field))}(t,e,r,n):function(a,o,s){return hp(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(t,e,r)}function O8(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=bj(n.transform,i||null);a!=null&&(r===null&&(r=Kr.empty()),r.set(n.field,a))}return r||null}function UT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Dl(n,i,(a,o)=>A8(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Sd extends Dg{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class po extends Dg{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Ej(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function BT(t,e,r){const n=new Map;ut(t.length===r.length);for(let i=0;i<r.length;i++){const a=t[i],o=a.transform,s=e.data.field(a.field);n.set(a.field,T8(o,s,r[i]))}return n}function zT(t,e,r){const n=new Map;for(const i of t){const a=i.transform,o=r.data.field(i.field);n.set(i.field,S8(a,o,e))}return n}class F_ extends Dg{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class C8 extends Dg{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N8{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&I8(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Lu(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Lu(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=yj();return this.mutations.forEach(i=>{const a=e.get(i.key),o=a.overlayedDocument;let s=this.applyToLocalView(o,a.mutatedFields);s=r.has(i.key)?null:s;const l=kj(o,s);l!==null&&n.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Oe.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Le())}isEqual(e){return this.batchId===e.batchId&&Dl(this.mutations,e.mutations,(r,n)=>UT(r,n))&&Dl(this.baseMutations,e.baseMutations,(r,n)=>UT(r,n))}}class V_{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){ut(e.mutations.length===n.length);let i=function(){return x8}();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,n[o].version);return new V_(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R8{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j8{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt,We;function D8(t){switch(t){default:return Ie();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0}}function Sj(t){if(t===void 0)return Zi("GRPC error has no .code"),re.UNKNOWN;switch(t){case zt.OK:return re.OK;case zt.CANCELLED:return re.CANCELLED;case zt.UNKNOWN:return re.UNKNOWN;case zt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case zt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case zt.INTERNAL:return re.INTERNAL;case zt.UNAVAILABLE:return re.UNAVAILABLE;case zt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case zt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case zt.NOT_FOUND:return re.NOT_FOUND;case zt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case zt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case zt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case zt.ABORTED:return re.ABORTED;case zt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case zt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case zt.DATA_LOSS:return re.DATA_LOSS;default:return Ie()}}(We=zt||(zt={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M8(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $8=new Ko([4294967295,4294967295],0);function WT(t){const e=M8().encode(t),r=new GR;return r.update(e),new Uint8Array(r.digest())}function qT(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ko([r,n],0),new Ko([i,a],0)]}class U_{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new bu(`Invalid padding: ${r}`);if(n<0)throw new bu(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new bu(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new bu(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Ko.fromNumber(this.Ie)}Ee(e,r,n){let i=e.add(r.multiply(Ko.fromNumber(n)));return i.compare($8)===1&&(i=new Ko([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=WT(e),[n,i]=qT(r);for(let a=0;a<this.hashCount;a++){const o=this.Ee(n,i,a);if(!this.de(o))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new U_(a,i,r);return n.forEach(s=>o.insert(s)),o}insert(e){if(this.Ie===0)return;const r=WT(e),[n,i]=qT(r);for(let a=0;a<this.hashCount;a++){const o=this.Ee(n,i,a);this.Ae(o)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class bu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,Td.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new Mg(Oe.min(),i,new Ot(Qe),ea(),Le())}}class Td{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Td(n,r,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e,r,n,i){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=i}}class Tj{constructor(e,r){this.targetId=e,this.me=r}}class Aj{constructor(e,r,n=gr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class HT{constructor(){this.fe=0,this.ge=GT(),this.pe=gr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Le(),r=Le(),n=Le();return this.ge.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:Ie()}}),new Td(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=GT()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ut(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class L8{constructor(e){this.Le=e,this.Be=new Map,this.ke=ea(),this.qe=KT(),this.Qe=new Ot(Qe)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:Ie()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,i)=>{this.ze(i)&&r(i)})}He(e){const r=e.targetId,n=e.me.count,i=this.Je(r);if(i){const a=i.target;if(Pb(a))if(n===0){const o=new xe(a.path);this.Ue(r,o,Tr.newNoDocument(o,Oe.min()))}else ut(n===1);else{const o=this.Ye(r);if(o!==n){const s=this.Ze(e),l=s?this.Xe(s,e,o):1;if(l!==0){this.je(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,c)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let o,s;try{o=os(n).toUint8Array()}catch(l){if(l instanceof ij)return jl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new U_(o,i,a)}catch(l){return jl(l instanceof bu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.Ie===0?null:s}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const o=this.Le.tt(),s=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(s)||(this.Ue(r,a,null),i++)}),i}rt(e){const r=new Map;this.Be.forEach((a,o)=>{const s=this.Je(o);if(s){if(a.current&&Pb(s.target)){const l=new xe(s.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Tr.newNoDocument(l,e))}a.be&&(r.set(o,a.ve()),a.Ce())}});let n=Le();this.qe.forEach((a,o)=>{let s=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(n=n.add(a))}),this.ke.forEach((a,o)=>o.setReadTime(e));const i=new Mg(e,r,this.Qe,this.ke,n);return this.ke=ea(),this.qe=KT(),this.Qe=new Ot(Qe),i}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new HT,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new pr(Qe),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||ye("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new HT),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function KT(){return new Ot(xe.comparator)}function GT(){return new Ot(xe.comparator)}const F8={asc:"ASCENDING",desc:"DESCENDING"},V8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},U8={and:"AND",or:"OR"};class B8{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Cb(t,e){return t.useProto3Json||Cg(e)?e:{value:e}}function cm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Pj(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function z8(t,e){return cm(t,e.toTimestamp())}function gi(t){return ut(!!t),Oe.fromTimestamp(function(r){const n=io(r);return new st(n.seconds,n.nanos)}(t))}function B_(t,e){return Nb(t,e).canonicalString()}function Nb(t,e){const r=function(i){return new bt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function Ij(t){const e=bt.fromString(t);return ut(jj(e)),e}function Rb(t,e){return B_(t.databaseId,e.path)}function Fv(t,e){const r=Ij(e);if(r.get(1)!==t.databaseId.projectId)throw new he(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new he(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new xe(Cj(r))}function Oj(t,e){return B_(t.databaseId,e)}function W8(t){const e=Ij(t);return e.length===4?bt.emptyPath():Cj(e)}function jb(t){return new bt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Cj(t){return ut(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function XT(t,e,r){return{name:Rb(t,e),fields:r.value.mapValue.fields}}function q8(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Ie()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(c,u){return c.useProto3Json?(ut(u===void 0||typeof u=="string"),gr.fromBase64String(u||"")):(ut(u===void 0||u instanceof Buffer||u instanceof Uint8Array),gr.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,s=o&&function(c){const u=c.code===void 0?re.UNKNOWN:Sj(c.code);return new he(u,c.message||"")}(o);r=new Aj(n,i,a,s||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=Fv(t,n.document.name),a=gi(n.document.updateTime),o=n.document.createTime?gi(n.document.createTime):Oe.min(),s=new Kr({mapValue:{fields:n.document.fields}}),l=Tr.newFoundDocument(i,a,o,s),c=n.targetIds||[],u=n.removedTargetIds||[];r=new pp(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=Fv(t,n.document),a=n.readTime?gi(n.readTime):Oe.min(),o=Tr.newNoDocument(i,a),s=n.removedTargetIds||[];r=new pp([],s,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=Fv(t,n.document),a=n.removedTargetIds||[];r=new pp([],a,i,null)}else{if(!("filter"in e))return Ie();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,o=new j8(i,a),s=n.targetId;r=new Tj(s,o)}}return r}function H8(t,e){let r;if(e instanceof Sd)r={update:XT(t,e.key,e.value)};else if(e instanceof F_)r={delete:Rb(t,e.key)};else if(e instanceof po)r={update:XT(t,e.key,e.data),updateMask:tz(e.fieldMask)};else{if(!(e instanceof C8))return Ie();r={verify:Rb(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(a,o){const s=o.transform;if(s instanceof sm)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Ef)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Sf)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof lm)return{fieldPath:o.field.canonicalString(),increment:s.Pe};throw Ie()}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:z8(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ie()}(t,e.precondition)),r}function K8(t,e){return t&&t.length>0?(ut(e!==void 0),t.map(r=>function(i,a){let o=i.updateTime?gi(i.updateTime):gi(a);return o.isEqual(Oe.min())&&(o=gi(a)),new P8(o,i.transformResults||[])}(r,e))):[]}function G8(t,e){return{documents:[Oj(t,e.path)]}}function X8(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=Oj(t,i);const a=function(c){if(c.length!==0)return Rj(Gn.create(c,"and"))}(e.filters);a&&(r.structuredQuery.where=a);const o=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:Ws(h.field),direction:J8(h.dir)}}(u))}(e.orderBy);o&&(r.structuredQuery.orderBy=o);const s=Cb(t,e.limit);return s!==null&&(r.structuredQuery.limit=s),e.startAt&&(r.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:r,parent:i}}function Y8(t){let e=W8(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){ut(n===1);const u=r.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let a=[];r.where&&(a=function(f){const h=Nj(f);return h instanceof Gn&&lj(h)?h.getFilters():[h]}(r.where));let o=[];r.orderBy&&(o=function(f){return f.map(h=>function(g){return new kf(qs(g.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(r.orderBy));let s=null;r.limit&&(s=function(f){let h;return h=typeof f=="object"?f.value:f,Cg(h)?null:h}(r.limit));let l=null;r.startAt&&(l=function(f){const h=!!f.before,p=f.values||[];return new om(p,h)}(r.startAt));let c=null;return r.endAt&&(c=function(f){const h=!f.before,p=f.values||[];return new om(p,h)}(r.endAt)),m8(e,i,o,a,s,"F",l,c)}function Q8(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function Nj(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=qs(r.unaryFilter.field);return qt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=qs(r.unaryFilter.field);return qt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=qs(r.unaryFilter.field);return qt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=qs(r.unaryFilter.field);return qt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ie()}}(t):t.fieldFilter!==void 0?function(r){return qt.create(qs(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ie()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return Gn.create(r.compositeFilter.filters.map(n=>Nj(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ie()}}(r.compositeFilter.op))}(t):Ie()}function J8(t){return F8[t]}function Z8(t){return V8[t]}function ez(t){return U8[t]}function Ws(t){return{fieldPath:t.canonicalString()}}function qs(t){return dr.fromServerFormat(t.fieldPath)}function Rj(t){return t instanceof qt?function(r){if(r.op==="=="){if(DT(r.value))return{unaryFilter:{field:Ws(r.field),op:"IS_NAN"}};if(jT(r.value))return{unaryFilter:{field:Ws(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(DT(r.value))return{unaryFilter:{field:Ws(r.field),op:"IS_NOT_NAN"}};if(jT(r.value))return{unaryFilter:{field:Ws(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ws(r.field),op:Z8(r.op),value:r.value}}}(t):t instanceof Gn?function(r){const n=r.getFilters().map(i=>Rj(i));return n.length===1?n[0]:{compositeFilter:{op:ez(r.op),filters:n}}}(t):Ie()}function tz(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function jj(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,r,n,i,a=Oe.min(),o=Oe.min(),s=gr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new $a(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new $a(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $a(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $a(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rz{constructor(e){this.ct=e}}function nz(t){const e=Y8({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ob(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iz{constructor(){this.un=new az}addToCollectionParentIndex(e,r){return this.un.add(r),ie.resolve()}getCollectionParents(e,r){return ie.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return ie.resolve()}deleteFieldIndex(e,r){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,r){return ie.resolve()}getDocumentsMatchingTarget(e,r){return ie.resolve(null)}getIndexType(e,r){return ie.resolve(0)}getFieldIndexes(e,r){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,r){return ie.resolve(no.min())}getMinOffsetFromCollectionGroup(e,r){return ie.resolve(no.min())}updateCollectionGroup(e,r,n){return ie.resolve()}updateIndexEntries(e,r){return ie.resolve()}}class az{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new pr(bt.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new pr(bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ll(0)}static kn(){return new Ll(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oz{constructor(){this.changes=new pc(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Tr.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?ie.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sz{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lz{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&Lu(n.mutation,i,ln.empty(),st.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Le()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Le()){const i=Vo();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(a=>{let o=vu();return a.forEach((s,l)=>{o=o.insert(s,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,r){const n=Vo();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Le()))}populateOverlays(e,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((o,s)=>{r.set(o,s)})})}computeViews(e,r,n,i){let a=ea();const o=$u(),s=function(){return $u()}();return r.forEach((l,c)=>{const u=n.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof po)?a=a.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Lu(u.mutation,c,u.mutation.getFieldMask(),st.now())):o.set(c.key,ln.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((c,u)=>o.set(c,u)),r.forEach((c,u)=>{var f;return s.set(c,new sz(u,(f=o.get(c))!==null&&f!==void 0?f:null))}),s))}recalculateAndSaveOverlays(e,r){const n=$u();let i=new Ot((o,s)=>o-s),a=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>{for(const s of o)s.keys().forEach(l=>{const c=r.get(l);if(c===null)return;let u=n.get(l)||ln.empty();u=s.applyToLocalView(c,u),n.set(l,u);const f=(i.get(s.batchId)||Le()).add(l);i=i.insert(s.batchId,f)})}).next(()=>{const o=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),c=l.key,u=l.value,f=yj();u.forEach(h=>{if(!a.has(h)){const p=kj(r.get(h),n.get(h));p!==null&&f.set(h,p),a=a.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return ie.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(o){return xe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):dj(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):ie.resolve(Vo());let s=-1,l=a;return o.next(c=>ie.forEach(c,(u,f)=>(s<f.largestBatchId&&(s=f.largestBatchId),a.get(u)?ie.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,a)).next(()=>this.computeViews(e,l,c,Le())).next(u=>({batchId:s,changes:gj(u)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new xe(r)).next(n=>{let i=vu();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let o=vu();return this.indexManager.getCollectionParents(e,a).next(s=>ie.forEach(s,l=>{const c=function(f,h){return new hc(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,c,n,i).next(u=>{u.forEach((f,h)=>{o=o.insert(f,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i))).next(o=>{a.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,Tr.newInvalidDocument(u)))});let s=vu();return o.forEach((l,c)=>{const u=a.get(l);u!==void 0&&Lu(u.mutation,c,ln.empty(),st.now()),Rg(r,c)&&(s=s.insert(l,c))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cz{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return ie.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:gi(i.createTime)}}(r)),ie.resolve()}getNamedQuery(e,r){return ie.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(i){return{name:i.name,query:nz(i.bundledQuery),readTime:gi(i.readTime)}}(r)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uz{constructor(){this.overlays=new Ot(xe.comparator),this.Ir=new Map}getOverlay(e,r){return ie.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Vo();return ie.forEach(r,i=>this.getOverlay(e,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,a)=>{this.ht(e,r,a)}),ie.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(n)),ie.resolve()}getOverlaysForCollection(e,r,n){const i=Vo(),a=r.length+1,o=new xe(r.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const l=s.getNext().value,c=l.getKey();if(!r.isPrefixOf(c.path))break;c.path.length===a&&l.largestBatchId>n&&i.set(l.getKey(),l)}return ie.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new Ot((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===r&&c.largestBatchId>n){let u=a.get(c.largestBatchId);u===null&&(u=Vo(),a=a.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const s=Vo(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>s.set(c,u)),!(s.size()>=i)););return ie.resolve(s)}ht(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new R8(r,n));let a=this.Ir.get(r);a===void 0&&(a=Le(),this.Ir.set(r,a)),this.Ir.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fz{constructor(){this.sessionToken=gr.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(){this.Tr=new pr(tr.Er),this.dr=new pr(tr.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new tr(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new tr(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new xe(new bt([])),n=new tr(r,e),i=new tr(r,e+1),a=[];return this.dr.forEachInRange([n,i],o=>{this.Vr(o),a.push(o.key)}),a}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new xe(new bt([])),n=new tr(r,e),i=new tr(r,e+1);let a=Le();return this.dr.forEachInRange([n,i],o=>{a=a.add(o.key)}),a}containsKey(e){const r=new tr(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class tr{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return xe.comparator(e.key,r.key)||Qe(e.wr,r.wr)}static Ar(e,r){return Qe(e.wr,r.wr)||xe.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dz{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new pr(tr.Er)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new N8(a,r,n,i);this.mutationQueue.push(o);for(const s of i)this.br=this.br.add(new tr(s.key,a)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return ie.resolve(o)}lookupMutationBatch(e,r){return ie.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.vr(n),a=i<0?0:i;return ie.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new tr(r,0),i=new tr(r,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([n,i],o=>{const s=this.Dr(o.wr);a.push(s)}),ie.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new pr(Qe);return r.forEach(i=>{const a=new tr(i,0),o=new tr(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,o],s=>{n=n.add(s.wr)})}),ie.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;xe.isDocumentKey(a)||(a=a.child(""));const o=new tr(new xe(a),0);let s=new pr(Qe);return this.br.forEachWhile(l=>{const c=l.key.path;return!!n.isPrefixOf(c)&&(c.length===i&&(s=s.add(l.wr)),!0)},o),ie.resolve(this.Cr(s))}Cr(e){const r=[];return e.forEach(n=>{const i=this.Dr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){ut(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return ie.forEach(r.mutations,i=>{const a=new tr(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new tr(r,0),i=this.br.firstAfterOrEqual(n);return ie.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hz{constructor(e){this.Mr=e,this.docs=function(){return new Ot(xe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,o=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return ie.resolve(n?n.document.mutableCopy():Tr.newInvalidDocument(r))}getEntries(e,r){let n=ea();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():Tr.newInvalidDocument(i))}),ie.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=ea();const o=r.path,s=new xe(o.child("")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Y9(X9(u),n)<=0||(i.has(u.key)||Rg(r,u))&&(a=a.insert(u.key,u.mutableCopy()))}return ie.resolve(a)}getAllFromCollectionGroup(e,r,n,i){Ie()}Or(e,r){return ie.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new pz(this)}getSize(e){return ie.resolve(this.size)}}class pz extends oz{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)}),ie.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mz{constructor(e){this.persistence=e,this.Nr=new pc(r=>D_(r),M_),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new z_,this.targetCount=0,this.kr=Ll.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,i)=>r(i)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),ie.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new Ll(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,ie.resolve()}updateTargetData(e,r){return this.Kn(r),ie.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.Nr.forEach((o,s)=>{s.sequenceNumber<=r&&n.get(s.targetId)===null&&(this.Nr.delete(o),a.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),ie.waitFor(a).next(()=>i)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return ie.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),ie.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(o=>{a.push(i.markPotentiallyOrphaned(e,o))}),ie.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),ie.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return ie.resolve(n)}containsKey(e,r){return ie.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gz{constructor(e,r){this.qr={},this.overlays={},this.Qr=new C_(0),this.Kr=!1,this.Kr=!0,this.$r=new fz,this.referenceDelegate=e(this),this.Ur=new mz(this),this.indexManager=new iz,this.remoteDocumentCache=function(i){return new hz(i)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new rz(r),this.Gr=new cz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new uz,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new dz(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){ye("MemoryPersistence","Starting transaction:",e);const i=new yz(this.Qr.next());return this.referenceDelegate.zr(),n(i).next(a=>this.referenceDelegate.jr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Hr(e,r){return ie.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class yz extends J9{constructor(e){super(),this.currentSequenceNumber=e}}class W_{constructor(e){this.persistence=e,this.Jr=new z_,this.Yr=null}static Zr(e){return new W_(e)}get Xr(){if(this.Yr)return this.Yr;throw Ie()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),ie.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),ie.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),ie.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(i=>this.Xr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(a=>this.Xr.add(a.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.Xr,n=>{const i=xe.fromPath(n);return this.ei(e,i).next(a=>{a||r.removeEntry(i,Oe.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return ie.or([()=>ie.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(e,r){let n=Le(),i=Le();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new q_(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vz{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bz{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return uV()?8:Z9(Or())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.Yi(e,r).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.Zi(e,r,i,n).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new vz;return this.Xi(e,r,o).next(s=>{if(a.result=s,this.zi)return this.es(e,r,o,s.size)})}).next(()=>a.result)}es(e,r,n,i){return n.documentReadCount<this.ji?(Jc()<=Be.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",zs(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ie.resolve()):(Jc()<=Be.DEBUG&&ye("QueryEngine","Query:",zs(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(Jc()<=Be.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",zs(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mi(r))):ie.resolve())}Yi(e,r){if(FT(r))return ie.resolve(null);let n=mi(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=Ob(r,null,"F"),n=mi(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const o=Le(...a);return this.Ji.getDocuments(e,o).next(s=>this.indexManager.getMinOffset(e,n).next(l=>{const c=this.ts(r,s);return this.ns(r,c,o,l.readTime)?this.Yi(e,Ob(r,null,"F")):this.rs(e,c,r,l)}))})))}Zi(e,r,n,i){return FT(r)||i.isEqual(Oe.min())?ie.resolve(null):this.Ji.getDocuments(e,n).next(a=>{const o=this.ts(r,a);return this.ns(r,o,n,i)?ie.resolve(null):(Jc()<=Be.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),zs(r)),this.rs(e,o,r,G9(i,-1)).next(s=>s))})}ts(e,r){let n=new pr(pj(e));return r.forEach((i,a)=>{Rg(e,a)&&(n=n.add(a))}),n}ns(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(e,r,n){return Jc()<=Be.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",zs(r)),this.Ji.getDocumentsMatchingQuery(e,r,no.min(),n)}rs(e,r,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next(a=>(r.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xz{constructor(e,r,n,i){this.persistence=e,this.ss=r,this.serializer=i,this.os=new Ot(Qe),this._s=new pc(a=>D_(a),M_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lz(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function wz(t,e,r,n){return new xz(t,e,r,n)}async function Dj(t,e){const r=Ne(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const o=[],s=[];let l=Le();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of a){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return r.localDocuments.getDocuments(n,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:s}))})})}function _z(t,e){const r=Ne(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),a=r.cs.newChangeBuffer({trackRemovals:!0});return function(s,l,c,u){const f=c.batch,h=f.keys();let p=ie.resolve();return h.forEach(g=>{p=p.next(()=>u.getEntry(l,g)).next(b=>{const v=c.docVersions.get(g);ut(v!==null),b.version.compareTo(v)<0&&(f.applyToRemoteDocument(b,c),b.isValidDocument()&&(b.setReadTime(c.commitVersion),u.addEntry(b)))})}),p.next(()=>s.mutationQueue.removeMutationBatch(l,f))}(r,n,e,a).next(()=>a.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(s){let l=Le();for(let c=0;c<s.mutationResults.length;++c)s.mutationResults[c].transformResults.length>0&&(l=l.add(s.batch.mutations[c].key));return l}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function Mj(t){const e=Ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function kz(t,e){const r=Ne(t),n=e.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const s=[];e.targetChanges.forEach((u,f)=>{const h=i.get(f);if(!h)return;s.push(r.Ur.removeMatchingKeys(a,u.removedDocuments,f).next(()=>r.Ur.addMatchingKeys(a,u.addedDocuments,f)));let p=h.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(gr.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,n)),i=i.insert(f,p),function(b,v,_){return b.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(h,p,u)&&s.push(r.Ur.updateTargetData(a,p))});let l=ea(),c=Le();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&s.push(r.persistence.referenceDelegate.updateLimboDocument(a,u))}),s.push(Ez(a,o,e.documentUpdates).next(u=>{l=u.Ps,c=u.Is})),!n.isEqual(Oe.min())){const u=r.Ur.getLastRemoteSnapshotVersion(a).next(f=>r.Ur.setTargetsMetadata(a,a.currentSequenceNumber,n));s.push(u)}return ie.waitFor(s).next(()=>o.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,l,c)).next(()=>l)}).then(a=>(r.os=i,a))}function Ez(t,e,r){let n=Le(),i=Le();return r.forEach(a=>n=n.add(a)),e.getEntries(t,n).next(a=>{let o=ea();return r.forEach((s,l)=>{const c=a.get(s);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(Oe.min())?(e.removeEntry(s,l.readTime),o=o.insert(s,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(s,l)):ye("LocalStore","Ignoring outdated watch update for ",s,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function Sz(t,e){const r=Ne(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function Tz(t,e){const r=Ne(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Ur.getTargetData(n,e).next(a=>a?(i=a,ie.resolve(i)):r.Ur.allocateTargetId(n).next(o=>(i=new $a(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function Db(t,e,r){const n=Ne(t),i=n.os.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,o=>n.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ed(o))throw o;ye("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function YT(t,e,r){const n=Ne(t);let i=Oe.min(),a=Le();return n.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const f=Ne(l),h=f._s.get(u);return h!==void 0?ie.resolve(f.os.get(h)):f.Ur.getTargetData(c,u)}(n,o,mi(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(o,s.targetId).next(l=>{a=l})}).next(()=>n.ss.getDocumentsMatchingQuery(o,e,r?i:Oe.min(),r?a:Le())).next(s=>(Az(n,y8(e),s),{documents:s,Ts:a})))}function Az(t,e,r){let n=t.us.get(e)||Oe.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),t.us.set(e,n)}class QT{constructor(){this.activeTargetIds=k8()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Pz{constructor(){this.so=new QT,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new QT,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iz{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ye("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ye("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ph=null;function Vv(){return Ph===null?Ph=function(){return 268435456+Math.round(2147483648*Math.random())}():Ph++,"0x"+Ph.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cz{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr="WebChannelConnection";class Nz extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(r,n,i,a,o){const s=Vv(),l=this.xo(r,n.toUriEncodedString());ye("RestConnection",`Sending RPC '${r}' ${s}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,a,o),this.No(r,l,c,i).then(u=>(ye("RestConnection",`Received RPC '${r}' ${s}: `,u),u),u=>{throw jl("RestConnection",`RPC '${r}' ${s} failed with error: `,u,"url: ",l,"request:",i),u})}Lo(r,n,i,a,o,s){return this.Mo(r,n,i,a,o)}Oo(r,n,i){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+dc}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,o)=>r[o]=a),i&&i.headers.forEach((a,o)=>r[o]=a)}xo(r,n){const i=Oz[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,i){const a=Vv();return new Promise((o,s)=>{const l=new XR;l.setWithCredentials(!0),l.listenOnce(QR.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case fp.NO_ERROR:const u=l.getResponseJson();ye(wr,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(u)),o(u);break;case fp.TIMEOUT:ye(wr,`RPC '${e}' ${a} timed out`),s(new he(re.DEADLINE_EXCEEDED,"Request time out"));break;case fp.HTTP_ERROR:const f=l.getStatus();if(ye(wr,`RPC '${e}' ${a} failed with status:`,f,"response text:",l.getResponseText()),f>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const g=function(v){const _=v.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(_)>=0?_:re.UNKNOWN}(p.status);s(new he(g,p.message))}else s(new he(re.UNKNOWN,"Server responded with status "+l.getStatus()))}else s(new he(re.UNAVAILABLE,"Connection failed."));break;default:Ie()}}finally{ye(wr,`RPC '${e}' ${a} completed.`)}});const c=JSON.stringify(i);ye(wr,`RPC '${e}' ${a} sending request:`,i),l.send(r,"POST",c,n,15)})}Bo(e,r,n){const i=Vv(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ej(),s=ZR(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new YR({})),this.Oo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const u=a.join("");ye(wr,`Creating RPC '${e}' stream ${i}: ${u}`,l);const f=o.createWebChannel(u,l);let h=!1,p=!1;const g=new Cz({Io:v=>{p?ye(wr,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(h||(ye(wr,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),ye(wr,`RPC '${e}' stream ${i} sending:`,v),f.send(v))},To:()=>f.close()}),b=(v,_,y)=>{v.listen(_,x=>{try{y(x)}catch(k){setTimeout(()=>{throw k},0)}})};return b(f,yu.EventType.OPEN,()=>{p||(ye(wr,`RPC '${e}' stream ${i} transport opened.`),g.yo())}),b(f,yu.EventType.CLOSE,()=>{p||(p=!0,ye(wr,`RPC '${e}' stream ${i} transport closed`),g.So())}),b(f,yu.EventType.ERROR,v=>{p||(p=!0,jl(wr,`RPC '${e}' stream ${i} transport errored:`,v),g.So(new he(re.UNAVAILABLE,"The operation could not be completed")))}),b(f,yu.EventType.MESSAGE,v=>{var _;if(!p){const y=v.data[0];ut(!!y);const x=y,k=x.error||((_=x[0])===null||_===void 0?void 0:_.error);if(k){ye(wr,`RPC '${e}' stream ${i} received error:`,k);const T=k.status;let C=function(P){const I=zt[P];if(I!==void 0)return Sj(I)}(T),S=k.message;C===void 0&&(C=re.INTERNAL,S="Unknown error status: "+T+" with message "+k.message),p=!0,g.So(new he(C,S)),f.close()}else ye(wr,`RPC '${e}' stream ${i} received:`,y),g.bo(y)}}),b(s,JR.STAT_EVENT,v=>{v.stat===Eb.PROXY?ye(wr,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===Eb.NOPROXY&&ye(wr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.wo()},0),g}}function Uv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $g(t){return new B8(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j{constructor(e,r,n=1e3,i=1.5,a=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&ye("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(e,r,n,i,a,o,s,l){this.ui=e,this.Ho=n,this.Jo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new $j(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===re.RESOURCE_EXHAUSTED?(Zi(r.toString()),Zi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Yo===r&&this.P_(n,i)},n=>{e(()=>{const i=new he(re.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{n(()=>this.I_(i))}),this.stream.onMessage(i=>{n(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ye("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(ye("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Rz extends Lj{constructor(e,r,n,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=q8(this.serializer,e),n=function(a){if(!("targetChange"in a))return Oe.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?Oe.min():o.readTime?gi(o.readTime):Oe.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=jb(this.serializer),r.addTarget=function(a,o){let s;const l=o.target;if(s=Pb(l)?{documents:G8(a,l)}:{query:X8(a,l)._t},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=Pj(a,o.resumeToken);const c=Cb(a,o.expectedCount);c!==null&&(s.expectedCount=c)}else if(o.snapshotVersion.compareTo(Oe.min())>0){s.readTime=cm(a,o.snapshotVersion.toTimestamp());const c=Cb(a,o.expectedCount);c!==null&&(s.expectedCount=c)}return s}(this.serializer,e);const n=Q8(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=jb(this.serializer),r.removeTarget=e,this.a_(r)}}class jz extends Lj{constructor(e,r,n,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return ut(!!e.streamToken),this.lastStreamToken=e.streamToken,ut(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ut(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=K8(e.writeResults,e.commitTime),n=gi(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=jb(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>H8(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dz extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new he(re.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Mo(e,Nb(r,n),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new he(re.UNKNOWN,a.toString())})}Lo(e,r,n,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Lo(e,Nb(r,n),i,o,s,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new he(re.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Mz{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Zi(r),this.D_=!1):ye("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $z{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(o=>{n.enqueueAndForget(async()=>{ws(this)&&(ye("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Ne(l);c.L_.add(4),await Ad(c),c.q_.set("Unknown"),c.L_.delete(4),await Lg(c)}(this))})}),this.q_=new Mz(n,i)}}async function Lg(t){if(ws(t))for(const e of t.B_)await e(!0)}async function Ad(t){for(const e of t.B_)await e(!1)}function Fj(t,e){const r=Ne(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),X_(r)?G_(r):mc(r).r_()&&K_(r,e))}function H_(t,e){const r=Ne(t),n=mc(r);r.N_.delete(e),n.r_()&&Vj(r,e),r.N_.size===0&&(n.r_()?n.o_():ws(r)&&r.q_.set("Unknown"))}function K_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}mc(t).A_(e)}function Vj(t,e){t.Q_.xe(e),mc(t).R_(e)}function G_(t){t.Q_=new L8({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),mc(t).start(),t.q_.v_()}function X_(t){return ws(t)&&!mc(t).n_()&&t.N_.size>0}function ws(t){return Ne(t).L_.size===0}function Uj(t){t.Q_=void 0}async function Lz(t){t.q_.set("Online")}async function Fz(t){t.N_.forEach((e,r)=>{K_(t,e)})}async function Vz(t,e){Uj(t),X_(t)?(t.q_.M_(e),G_(t)):t.q_.set("Unknown")}async function Uz(t,e,r){if(t.q_.set("Online"),e instanceof Aj&&e.state===2&&e.cause)try{await async function(i,a){const o=a.cause;for(const s of a.targetIds)i.N_.has(s)&&(await i.remoteSyncer.rejectListen(s,o),i.N_.delete(s),i.Q_.removeTarget(s))}(t,e)}catch(n){ye("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await um(t,n)}else if(e instanceof pp?t.Q_.Ke(e):e instanceof Tj?t.Q_.He(e):t.Q_.We(e),!r.isEqual(Oe.min()))try{const n=await Mj(t.localStore);r.compareTo(n)>=0&&await function(a,o){const s=a.Q_.rt(o);return s.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=a.N_.get(c);u&&a.N_.set(c,u.withResumeToken(l.resumeToken,o))}}),s.targetMismatches.forEach((l,c)=>{const u=a.N_.get(l);if(!u)return;a.N_.set(l,u.withResumeToken(gr.EMPTY_BYTE_STRING,u.snapshotVersion)),Vj(a,l);const f=new $a(u.target,l,c,u.sequenceNumber);K_(a,f)}),a.remoteSyncer.applyRemoteEvent(s)}(t,r)}catch(n){ye("RemoteStore","Failed to raise snapshot:",n),await um(t,n)}}async function um(t,e,r){if(!Ed(e))throw e;t.L_.add(1),await Ad(t),t.q_.set("Offline"),r||(r=()=>Mj(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ye("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await Lg(t)})}function Bj(t,e){return e().catch(r=>um(t,r,e))}async function Fg(t){const e=Ne(t),r=ao(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Bz(e);)try{const i=await Sz(e.localStore,n);if(i===null){e.O_.length===0&&r.o_();break}n=i.batchId,zz(e,i)}catch(i){await um(e,i)}zj(e)&&Wj(e)}function Bz(t){return ws(t)&&t.O_.length<10}function zz(t,e){t.O_.push(e);const r=ao(t);r.r_()&&r.V_&&r.m_(e.mutations)}function zj(t){return ws(t)&&!ao(t).n_()&&t.O_.length>0}function Wj(t){ao(t).start()}async function Wz(t){ao(t).p_()}async function qz(t){const e=ao(t);for(const r of t.O_)e.m_(r.mutations)}async function Hz(t,e,r){const n=t.O_.shift(),i=V_.from(n,e,r);await Bj(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Fg(t)}async function Kz(t,e){e&&ao(t).V_&&await async function(n,i){if(function(o){return D8(o)&&o!==re.ABORTED}(i.code)){const a=n.O_.shift();ao(n).s_(),await Bj(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Fg(n)}}(t,e),zj(t)&&Wj(t)}async function ZT(t,e){const r=Ne(t);r.asyncQueue.verifyOperationInProgress(),ye("RemoteStore","RemoteStore received new credentials");const n=ws(r);r.L_.add(3),await Ad(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await Lg(r)}async function Gz(t,e){const r=Ne(t);e?(r.L_.delete(2),await Lg(r)):e||(r.L_.add(2),await Ad(r),r.q_.set("Unknown"))}function mc(t){return t.K_||(t.K_=function(r,n,i){const a=Ne(r);return a.w_(),new Rz(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:Lz.bind(null,t),Ro:Fz.bind(null,t),mo:Vz.bind(null,t),d_:Uz.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),X_(t)?G_(t):t.q_.set("Unknown")):(await t.K_.stop(),Uj(t))})),t.K_}function ao(t){return t.U_||(t.U_=function(r,n,i){const a=Ne(r);return a.w_(),new jz(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Wz.bind(null,t),mo:Kz.bind(null,t),f_:qz.bind(null,t),g_:Hz.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Fg(t)):(await t.U_.stop(),t.O_.length>0&&(ye("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new zi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const o=Date.now()+n,s=new Y_(e,r,o,i,a);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Q_(t,e){if(Zi("AsyncQueue",`${e}: ${t}`),Ed(t))return new he(re.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e){this.comparator=e?(r,n)=>e(r,n)||xe.comparator(r.key,n.key):(r,n)=>xe.comparator(r.key,n.key),this.keyedMap=vu(),this.sortedSet=new Ot(this.comparator)}static emptySet(e){return new wl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof wl)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new wl;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(){this.W_=new Ot(xe.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):Ie():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class Fl{constructor(e,r,n,i,a,o,s,l,c){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,r,n,i,a){const o=[];return r.forEach(s=>{o.push({type:0,doc:s})}),new Fl(e,r,wl.emptySet(r),o,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ng(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xz{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Yz{constructor(){this.queries=tA(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=Ne(r),a=i.queries;i.queries=tA(),a.forEach((o,s)=>{for(const l of s.j_)l.onError(n)})})(this,new he(re.ABORTED,"Firestore shutting down"))}}function tA(){return new pc(t=>hj(t),Ng)}async function qj(t,e){const r=Ne(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.H_()&&e.J_()&&(n=2):(a=new Xz,n=e.J_()?0:1);try{switch(n){case 0:a.z_=await r.onListen(i,!0);break;case 1:a.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(o){const s=Q_(o,`Initialization of query '${zs(e.query)}' failed`);return void e.onError(s)}r.queries.set(i,a),a.j_.push(e),e.Z_(r.onlineState),a.z_&&e.X_(a.z_)&&J_(r)}async function Hj(t,e){const r=Ne(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const o=a.j_.indexOf(e);o>=0&&(a.j_.splice(o,1),a.j_.length===0?i=e.J_()?0:1:!a.H_()&&e.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function Qz(t,e){const r=Ne(t);let n=!1;for(const i of e){const a=i.query,o=r.queries.get(a);if(o){for(const s of o.j_)s.X_(i)&&(n=!0);o.z_=i}}n&&J_(r)}function Jz(t,e,r){const n=Ne(t),i=n.queries.get(e);if(i)for(const a of i.j_)a.onError(r);n.queries.delete(e)}function J_(t){t.Y_.forEach(e=>{e.next()})}var Mb,rA;(rA=Mb||(Mb={})).ea="default",rA.Cache="cache";class Kj{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new Fl(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=Fl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Mb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(e){this.key=e}}class Xj{constructor(e){this.key=e}}class Zz{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Le(),this.mutatedKeys=Le(),this.Aa=pj(e),this.Ra=new wl(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new eA,i=r?r.Ra:this.Ra;let a=r?r.mutatedKeys:this.mutatedKeys,o=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,f)=>{const h=i.get(u),p=Rg(this.query,f)?f:null,g=!!h&&this.mutatedKeys.has(h.key),b=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let v=!1;h&&p?h.data.isEqual(p.data)?g!==b&&(n.track({type:3,doc:p}),v=!0):this.ga(h,p)||(n.track({type:2,doc:p}),v=!0,(l&&this.Aa(p,l)>0||c&&this.Aa(p,c)<0)&&(s=!0)):!h&&p?(n.track({type:0,doc:p}),v=!0):h&&!p&&(n.track({type:1,doc:h}),v=!0,(l||c)&&(s=!0)),v&&(p?(o=o.add(p),a=b?a.add(u):a.delete(u)):(o=o.delete(u),a=a.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),a=a.delete(u.key),n.track({type:1,doc:u})}return{Ra:o,fa:n,ns:s,mutatedKeys:a}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((u,f)=>function(p,g){const b=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie()}};return b(p)-b(g)}(u.type,f.type)||this.Aa(u.doc,f.doc)),this.pa(n),i=i!=null&&i;const s=r&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new Fl(this.query,e.Ra,a,o,e.mutatedKeys,l===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:s}:{wa:s}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new eA,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Le(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new Xj(n))}),this.da.forEach(n=>{e.has(n)||r.push(new Gj(n))}),r}ba(e){this.Ta=e.Ts,this.da=Le();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return Fl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class e7{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class t7{constructor(e){this.key=e,this.va=!1}}class r7{constructor(e,r,n,i,a,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new pc(s=>hj(s),Ng),this.Ma=new Map,this.xa=new Set,this.Oa=new Ot(xe.comparator),this.Na=new Map,this.La=new z_,this.Ba={},this.ka=new Map,this.qa=Ll.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function n7(t,e,r=!0){const n=tD(t);let i;const a=n.Fa.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await Yj(n,e,r,!0),i}async function i7(t,e){const r=tD(t);await Yj(r,e,!0,!1)}async function Yj(t,e,r,n){const i=await Tz(t.localStore,mi(e)),a=i.targetId,o=r?t.sharedClientState.addLocalQueryTarget(a):"not-current";let s;return n&&(s=await a7(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&r&&Fj(t.remoteStore,i),s}async function a7(t,e,r,n,i){t.Ka=(f,h,p)=>async function(b,v,_,y){let x=v.view.ma(_);x.ns&&(x=await YT(b.localStore,v.query,!1).then(({documents:S})=>v.view.ma(S,x)));const k=y&&y.targetChanges.get(v.targetId),T=y&&y.targetMismatches.get(v.targetId)!=null,C=v.view.applyChanges(x,b.isPrimaryClient,k,T);return iA(b,v.targetId,C.wa),C.snapshot}(t,f,h,p);const a=await YT(t.localStore,e,!0),o=new Zz(e,a.Ts),s=o.ma(a.documents),l=Td.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),c=o.applyChanges(s,t.isPrimaryClient,l);iA(t,r,c.wa);const u=new e7(e,r,o);return t.Fa.set(e,u),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),c.snapshot}async function o7(t,e,r){const n=Ne(t),i=n.Fa.get(e),a=n.Ma.get(i.targetId);if(a.length>1)return n.Ma.set(i.targetId,a.filter(o=>!Ng(o,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Db(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&H_(n.remoteStore,i.targetId),$b(n,i.targetId)}).catch(kd)):($b(n,i.targetId),await Db(n.localStore,i.targetId,!0))}async function s7(t,e){const r=Ne(t),n=r.Fa.get(e),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),H_(r.remoteStore,n.targetId))}async function l7(t,e,r){const n=m7(t);try{const i=await function(o,s){const l=Ne(o),c=st.now(),u=s.reduce((p,g)=>p.add(g.key),Le());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=ea(),b=Le();return l.cs.getEntries(p,u).next(v=>{g=v,g.forEach((_,y)=>{y.isValidDocument()||(b=b.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(v=>{f=v;const _=[];for(const y of s){const x=O8(y,f.get(y.key).overlayedDocument);x!=null&&_.push(new po(y.key,x,aj(x.value.mapValue),Tn.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,_,s)}).next(v=>{h=v;const _=v.applyToLocalDocumentSet(f,b);return l.documentOverlayCache.saveOverlays(p,v.batchId,_)})}).then(()=>({batchId:h.batchId,changes:gj(f)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(o,s,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new Ot(Qe)),c=c.insert(s,l),o.Ba[o.currentUser.toKey()]=c}(n,i.batchId,r),await Pd(n,i.changes),await Fg(n.remoteStore)}catch(i){const a=Q_(i,"Failed to persist write");r.reject(a)}}async function Qj(t,e){const r=Ne(t);try{const n=await kz(r.localStore,e);e.targetChanges.forEach((i,a)=>{const o=r.Na.get(a);o&&(ut(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?ut(o.va):i.removedDocuments.size>0&&(ut(o.va),o.va=!1))}),await Pd(r,n,e)}catch(n){await kd(n)}}function nA(t,e,r){const n=Ne(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach((a,o)=>{const s=o.view.Z_(e);s.snapshot&&i.push(s.snapshot)}),function(o,s){const l=Ne(o);l.onlineState=s;let c=!1;l.queries.forEach((u,f)=>{for(const h of f.j_)h.Z_(s)&&(c=!0)}),c&&J_(l)}(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function c7(t,e,r){const n=Ne(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Na.get(e),a=i&&i.key;if(a){let o=new Ot(xe.comparator);o=o.insert(a,Tr.newNoDocument(a,Oe.min()));const s=Le().add(a),l=new Mg(Oe.min(),new Map,new Ot(Qe),o,s);await Qj(n,l),n.Oa=n.Oa.remove(a),n.Na.delete(e),Z_(n)}else await Db(n.localStore,e,!1).then(()=>$b(n,e,r)).catch(kd)}async function u7(t,e){const r=Ne(t),n=e.batch.batchId;try{const i=await _z(r.localStore,e);Zj(r,n,null),Jj(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Pd(r,i)}catch(i){await kd(i)}}async function f7(t,e,r){const n=Ne(t);try{const i=await function(o,s){const l=Ne(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,s).next(f=>(ut(f!==null),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(n.localStore,e);Zj(n,e,r),Jj(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Pd(n,i)}catch(i){await kd(i)}}function Jj(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function Zj(t,e,r){const n=Ne(t);let i=n.Ba[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function $b(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||eD(t,n)})}function eD(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(H_(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),Z_(t))}function iA(t,e,r){for(const n of r)n instanceof Gj?(t.La.addReference(n.key,e),d7(t,n)):n instanceof Xj?(ye("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||eD(t,n.key)):Ie()}function d7(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(ye("SyncEngine","New document in limbo: "+r),t.xa.add(n),Z_(t))}function Z_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new xe(bt.fromString(e)),n=t.qa.next();t.Na.set(n,new t7(r)),t.Oa=t.Oa.insert(r,n),Fj(t.remoteStore,new $a(mi($_(r.path)),n,"TargetPurposeLimboResolution",C_.oe))}}async function Pd(t,e,r){const n=Ne(t),i=[],a=[],o=[];n.Fa.isEmpty()||(n.Fa.forEach((s,l)=>{o.push(n.Ka(l,e,r).then(c=>{var u;if((c||r)&&n.isPrimaryClient){const f=c?!c.fromCache:(u=r==null?void 0:r.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=q_.Wi(l.targetId,c);a.push(f)}}))}),await Promise.all(o),n.Ca.d_(i),await async function(l,c){const u=Ne(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ie.forEach(c,h=>ie.forEach(h.$i,p=>u.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>ie.forEach(h.Ui,p=>u.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!Ed(f))throw f;ye("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const p=u.os.get(h),g=p.snapshotVersion,b=p.withLastLimboFreeSnapshotVersion(g);u.os=u.os.insert(h,b)}}}(n.localStore,a))}async function h7(t,e){const r=Ne(t);if(!r.currentUser.isEqual(e)){ye("SyncEngine","User change. New user:",e.toKey());const n=await Dj(r.localStore,e);r.currentUser=e,function(a,o){a.ka.forEach(s=>{s.forEach(l=>{l.reject(new he(re.CANCELLED,o))})}),a.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Pd(r,n.hs)}}function p7(t,e){const r=Ne(t),n=r.Na.get(e);if(n&&n.va)return Le().add(n.key);{let i=Le();const a=r.Ma.get(e);if(!a)return i;for(const o of a){const s=r.Fa.get(o);i=i.unionWith(s.view.Va)}return i}}function tD(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Qj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=p7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=c7.bind(null,e),e.Ca.d_=Qz.bind(null,e.eventManager),e.Ca.$a=Jz.bind(null,e.eventManager),e}function m7(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=u7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=f7.bind(null,e),e}class aA{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=$g(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,r){return null}createIndexBackfillerScheduler(e,r){return null}createLocalStore(e){return wz(this.persistence,new bz,e.initialUser,this.serializer)}createPersistence(e){return new gz(W_.Zr,this.serializer)}createSharedClientState(e){return new Pz}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class g7{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>nA(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=h7.bind(null,this.syncEngine),await Gz(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Yz}()}createDatastore(e){const r=$g(e.databaseInfo.databaseId),n=function(a){return new Nz(a)}(e.databaseInfo);return function(a,o,s,l){return new Dz(a,o,s,l)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,a,o,s){return new $z(n,i,a,o,s)}(this.localStore,this.datastore,e.asyncQueue,r=>nA(this.syncEngine,r,0),function(){return JT.D()?new JT:new Iz}())}createSyncEngine(e,r){return function(i,a,o,s,l,c,u){const f=new r7(i,a,o,s,l,c);return u&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const a=Ne(i);ye("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await Ad(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):Zi("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y7{constructor(e,r,n,i){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=kr.UNAUTHENTICATED,this.clientId=rj.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,async a=>{ye("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(n,a=>(ye("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new he(re.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=Q_(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Bv(t,e){t.asyncQueue.verifyOperationInProgress(),ye("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await Dj(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function oA(t,e){t.asyncQueue.verifyOperationInProgress();const r=await b7(t);ye("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>ZT(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>ZT(e.remoteStore,i)),t._onlineComponents=e}function v7(t){return t.name==="FirebaseError"?t.code===re.FAILED_PRECONDITION||t.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function b7(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ye("FirestoreClient","Using user provided OfflineComponentProvider");try{await Bv(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!v7(r))throw r;jl("Error using user provided cache. Falling back to memory cache: "+r),await Bv(t,new aA)}}else ye("FirestoreClient","Using default OfflineComponentProvider"),await Bv(t,new aA);return t._offlineComponents}async function nD(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ye("FirestoreClient","Using user provided OnlineComponentProvider"),await oA(t,t._uninitializedComponentsProvider._online)):(ye("FirestoreClient","Using default OnlineComponentProvider"),await oA(t,new g7))),t._onlineComponents}function x7(t){return nD(t).then(e=>e.syncEngine)}async function iD(t){const e=await nD(t),r=e.eventManager;return r.onListen=n7.bind(null,e.syncEngine),r.onUnlisten=o7.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=i7.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=s7.bind(null,e.syncEngine),r}function w7(t,e,r={}){const n=new zi;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,c){const u=new rD({next:h=>{o.enqueueAndForget(()=>Hj(a,f));const p=h.docs.has(s);!p&&h.fromCache?c.reject(new he(re.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?c.reject(new he(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new Kj($_(s.path),u,{includeMetadataChanges:!0,_a:!0});return qj(a,f)}(await iD(t),t.asyncQueue,e,r,n)),n.promise}function _7(t,e,r={}){const n=new zi;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,c){const u=new rD({next:h=>{o.enqueueAndForget(()=>Hj(a,f)),h.fromCache&&l.source==="server"?c.reject(new he(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new Kj(s,u,{includeMetadataChanges:!0,_a:!0});return qj(a,f)}(await iD(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(t,e,r){if(!r)throw new he(re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function k7(t,e,r,n){if(e===!0&&n===!0)throw new he(re.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function lA(t){if(!xe.isDocumentKey(t))throw new he(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function cA(t){if(xe.isDocumentKey(t))throw new he(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Vg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ie()}function Xn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new he(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Vg(t);throw new he(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new he(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new he(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}k7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aD((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new he(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new he(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new he(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ug{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uA({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new he(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new he(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uA(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new F9;switch(n.type){case"firstParty":return new z9(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new he(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=sA.get(r);n&&(ye("ComponentProvider","Removing Datastore"),sA.delete(r),n.terminate())}(this),Promise.resolve()}}function E7(t,e,r,n={}){var i;const a=(t=Xn(t,Ug))._getSettings(),o=`${e}:${r}`;if(a.host!=="firestore.googleapis.com"&&a.host!==o&&jl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),n.mockUserToken){let s,l;if(typeof n.mockUserToken=="string")s=n.mockUserToken,l=kr.MOCK_USER;else{s=lR(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=n.mockUserToken.sub||n.mockUserToken.user_id;if(!c)throw new he(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new kr(c)}t._authCredentials=new V9(new tj(s,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new _s(this.firestore,e,this._query)}}class Vr{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ya(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vr(this.firestore,e,this._key)}}class Ya extends _s{constructor(e,r,n){super(e,r,$_(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vr(this.firestore,null,new xe(e))}withConverter(e){return new Ya(this.firestore,e,this._path)}}function zr(t,e,...r){if(t=It(t),oD("collection","path",e),t instanceof Ug){const n=bt.fromString(e,...r);return cA(n),new Ya(t,null,n)}{if(!(t instanceof Vr||t instanceof Ya))throw new he(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(bt.fromString(e,...r));return cA(n),new Ya(t.firestore,null,n)}}function St(t,e,...r){if(t=It(t),arguments.length===1&&(e=rj.newId()),oD("doc","path",e),t instanceof Ug){const n=bt.fromString(e,...r);return lA(n),new Vr(t,null,new xe(n))}{if(!(t instanceof Vr||t instanceof Ya))throw new he(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(bt.fromString(e,...r));return lA(n),new Vr(t.firestore,t instanceof Ya?t.converter:null,new xe(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S7{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new $j(this,"async_queue_retry"),this.Eu=()=>{const r=Uv();r&&ye("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()};const e=Uv();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const r=Uv();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const r=new zi;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Ed(e))throw e;ye("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const r=this.au.then(()=>(this.Pu=!0,e().catch(n=>{this.hu=n,this.Pu=!1;const i=function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),s}(n);throw Zi("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.Pu=!1,n))));return this.au=r,r}enqueueAfterDelay(e,r,n){this.du(),this.Tu.indexOf(e)>-1&&(r=0);const i=Y_.createAndSchedule(this,e,r,n,a=>this.Vu(a));return this.lu.push(i),i}du(){this.hu&&Ie()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const r of this.lu)if(r.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.lu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const r=this.lu.indexOf(e);this.lu.splice(r,1)}}class ks extends Ug{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=function(){return new S7}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||sD(this),this._firestoreClient.terminate()}}function T7(t,e){const r=typeof t=="object"?t:x_(),n=typeof t=="string"?t:"(default)",i=Ag(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=aR("firestore");a&&E7(i,...a)}return i}function e1(t){return t._firestoreClient||sD(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function sD(t){var e,r,n;const i=t._freezeSettings(),a=function(s,l,c,u){return new r8(s,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,aD(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new y7(t._authCredentials,t._appCheckCredentials,t._queue,a),!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vl(gr.fromBase64String(e))}catch(r){throw new he(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Vl(gr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new he(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new he(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new he(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A7=/^__.*__$/;class P7{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new po(e,this.data,this.fieldMask,r,this.fieldTransforms):new Sd(e,this.data,r,this.fieldTransforms)}}class lD{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new po(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function cD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie()}}class i1{constructor(e,r,n,i,a,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.yu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new i1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Su({path:n,Du:!1});return i.vu(e),i}Cu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Su({path:n,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return fm(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(cD(this.wu)&&A7.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class I7{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||$g(e)}Nu(e,r,n,i=!1){return new i1({wu:e,methodName:r,Ou:n,path:dr.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zg(t){const e=t._freezeSettings(),r=$g(t._databaseId);return new I7(t._databaseId,!!e.ignoreUndefinedProperties,r)}function uD(t,e,r,n,i,a={}){const o=t.Nu(a.merge||a.mergeFields?2:0,e,r,i);a1("Data must be an object, but it was:",o,n);const s=fD(n,o);let l,c;if(a.merge)l=new ln(o.fieldMask),c=o.fieldTransforms;else if(a.mergeFields){const u=[];for(const f of a.mergeFields){const h=Lb(e,f,r);if(!o.contains(h))throw new he(re.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);hD(u,h)||u.push(h)}l=new ln(u),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new P7(new Kr(s),l,c)}class Wg extends t1{_toFieldTransform(e){if(e.wu!==2)throw e.wu===1?e.Mu(`${this._methodName}() can only appear at the top level of your update data`):e.Mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wg}}function O7(t,e,r,n){const i=t.Nu(1,e,r);a1("Data must be an object, but it was:",i,n);const a=[],o=Kr.empty();xs(n,(l,c)=>{const u=o1(e,l,r);c=It(c);const f=i.Cu(u);if(c instanceof Wg)a.push(u);else{const h=Id(c,f);h!=null&&(a.push(u),o.set(u,h))}});const s=new ln(a);return new lD(o,s,i.fieldTransforms)}function C7(t,e,r,n,i,a){const o=t.Nu(1,e,r),s=[Lb(e,n,r)],l=[i];if(a.length%2!=0)throw new he(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<a.length;h+=2)s.push(Lb(e,a[h])),l.push(a[h+1]);const c=[],u=Kr.empty();for(let h=s.length-1;h>=0;--h)if(!hD(c,s[h])){const p=s[h];let g=l[h];g=It(g);const b=o.Cu(p);if(g instanceof Wg)c.push(p);else{const v=Id(g,b);v!=null&&(c.push(p),u.set(p,v))}}const f=new ln(c);return new lD(u,f,o.fieldTransforms)}function N7(t,e,r,n=!1){return Id(r,t.Nu(n?4:3,e))}function Id(t,e){if(dD(t=It(t)))return a1("Unsupported field value:",e,t),fD(t,e);if(t instanceof t1)return function(n,i){if(!cD(i.wu))throw i.Mu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(n,i){const a=[];let o=0;for(const s of n){let l=Id(s,i.Fu(o));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),o++}return{arrayValue:{values:a}}}(t,e)}return function(n,i){if((n=It(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return E8(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=st.fromDate(n);return{timestampValue:cm(i.serializer,a)}}if(n instanceof st){const a=new st(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:cm(i.serializer,a)}}if(n instanceof r1)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Vl)return{bytesValue:Pj(i.serializer,n._byteString)};if(n instanceof Vr){const a=i.databaseId,o=n.firestore._databaseId;if(!o.isEqual(a))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:B_(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof n1)return function(o,s){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw s.Mu("VectorValues must only contain numeric values.");return L_(s.serializer,l)})}}}}}}(n,i);throw i.Mu(`Unsupported field value: ${Vg(n)}`)}(t,e)}function fD(t,e){const r={};return nj(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xs(t,(n,i)=>{const a=Id(i,e.bu(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function dD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof st||t instanceof r1||t instanceof Vl||t instanceof Vr||t instanceof t1||t instanceof n1)}function a1(t,e,r){if(!dD(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=Vg(r);throw n==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+n)}}function Lb(t,e,r){if((e=It(e))instanceof Bg)return e._internalPath;if(typeof e=="string")return o1(t,e);throw fm("Field path arguments must be of type string or ",t,!1,void 0,r)}const R7=new RegExp("[~\\*/\\[\\]]");function o1(t,e,r){if(e.search(R7)>=0)throw fm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Bg(...e.split("."))._internalPath}catch{throw fm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function fm(t,e,r,n,i){const a=n&&!n.isEmpty(),o=i!==void 0;let s=`Function ${e}() called with invalid data`;r&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(a||o)&&(l+=" (found",a&&(l+=` in field ${n}`),o&&(l+=` in document ${i}`),l+=")"),new he(re.INVALID_ARGUMENT,s+t+l)}function hD(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Vr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new j7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(qg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class j7 extends pD{data(){return super.data()}}function qg(t,e){return typeof e=="string"?o1(t,e):e instanceof Bg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D7(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new he(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class s1{}class mD extends s1{}function l1(t,e,...r){let n=[];e instanceof s1&&n.push(e),n=n.concat(r),function(a){const o=a.filter(l=>l instanceof c1).length,s=a.filter(l=>l instanceof Hg).length;if(o>1||o>0&&s>0)throw new he(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class Hg extends mD{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new Hg(e,r,n)}_apply(e){const r=this._parse(e);return yD(e._query,r),new _s(e.firestore,e.converter,Ib(e._query,r))}_parse(e){const r=zg(e.firestore);return function(a,o,s,l,c,u,f){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new he(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){dA(f,u);const p=[];for(const g of f)p.push(fA(l,a,g));h={arrayValue:{values:p}}}else h=fA(l,a,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||dA(f,u),h=N7(s,o,f,u==="in"||u==="not-in");return qt.create(c,u,h)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function M7(t,e,r){const n=e,i=qg("where",t);return Hg._create(i,n,r)}class c1 extends s1{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new c1(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:Gn.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,a){let o=i;const s=a.getFlattenedFilters();for(const l of s)yD(o,l),o=Ib(o,l)}(e._query,r),new _s(e.firestore,e.converter,Ib(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class u1 extends mD{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new u1(e,r)}_apply(e){const r=function(i,a,o){if(i.startAt!==null)throw new he(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new he(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new kf(a,o)}(e._query,this._field,this._direction);return new _s(e.firestore,e.converter,function(i,a){const o=i.explicitOrderBy.concat([a]);return new hc(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function gD(t,e="asc"){const r=e,n=qg("orderBy",t);return u1._create(n,r)}function fA(t,e,r){if(typeof(r=It(r))=="string"){if(r==="")throw new he(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dj(e)&&r.indexOf("/")!==-1)throw new he(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(bt.fromString(r));if(!xe.isDocumentKey(n))throw new he(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return RT(t,new xe(n))}if(r instanceof Vr)return RT(t,r._key);throw new he(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vg(r)}.`)}function dA(t,e){if(!Array.isArray(t)||t.length===0)throw new he(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function yD(t,e){const r=function(i,a){for(const o of i)for(const s of o.getFlattenedFilters())if(a.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new he(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class $7{convertValue(e,r="none"){switch(ss(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(os(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return xs(e,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(e){var r,n,i;const a=(i=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(o=>Vt(o.doubleValue));return new n1(a)}convertGeoPoint(e){return new r1(Vt(e.latitude),Vt(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=R_(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(xf(e));default:return null}}convertTimestamp(e){const r=io(e);return new st(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=bt.fromString(e);ut(jj(n));const i=new wf(n.get(1),n.get(3)),a=new xe(n.popFirst(5));return i.isEqual(r)||Zi(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bD extends pD{constructor(e,r,n,i,a,o){super(e,r,n,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new mp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(qg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class mp extends bD{data(e={}){return super.data(e)}}class L7{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new xu(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new mp(this._firestore,this._userDataWriter,n.key,n,new xu(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new he(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(s=>{const l=new mp(i._firestore,i._userDataWriter,s.doc.key,s.doc,new xu(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>a||s.type!==3).map(s=>{const l=new mp(i._firestore,i._userDataWriter,s.doc.key,s.doc,new xu(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return s.type!==0&&(c=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),u=o.indexOf(s.doc.key)),{type:F7(s.type),doc:l,oldIndex:c,newIndex:u}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function F7(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mo(t){t=Xn(t,Vr);const e=Xn(t.firestore,ks);return w7(e1(e),t._key).then(r=>V7(e,t,r))}class xD extends $7{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vl(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Vr(this.firestore,null,r)}}function Yn(t){t=Xn(t,_s);const e=Xn(t.firestore,ks),r=e1(e),n=new xD(e);return D7(t._query),_7(r,t._query).then(i=>new L7(e,n,t,i))}function wD(t,e,r){t=Xn(t,Vr);const n=Xn(t.firestore,ks),i=vD(t.converter,e,r);return Gg(n,[uD(zg(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,Tn.none())])}function go(t,e,r,...n){t=Xn(t,Vr);const i=Xn(t.firestore,ks),a=zg(i);let o;return o=typeof(e=It(e))=="string"||e instanceof Bg?C7(a,"updateDoc",t._key,e,r,n):O7(a,"updateDoc",t._key,e),Gg(i,[o.toMutation(t._key,Tn.exists(!0))])}function Kg(t){return Gg(Xn(t.firestore,ks),[new F_(t._key,Tn.none())])}function f1(t,e){const r=Xn(t.firestore,ks),n=St(t),i=vD(t.converter,e);return Gg(r,[uD(zg(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,Tn.exists(!1))]).then(()=>n)}function Gg(t,e){return function(n,i){const a=new zi;return n.asyncQueue.enqueueAndForget(async()=>l7(await x7(n),i,a)),a.promise}(e1(t),e)}function V7(t,e,r){const n=r.docs.get(e._key),i=new xD(t);return new bD(t,i,e._key,n,new xu(r.hasPendingWrites,r.fromCache),e.converter)}(function(e,r=!0){(function(i){dc=i})(vs),rs(new ro("firestore",(n,{instanceIdentifier:i,options:a})=>{const o=n.getProvider("app").getImmediate(),s=new ks(new U9(n.getProvider("auth-internal")),new q9(n.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new he(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wf(c.options.projectId,u)}(o,i),o);return a=Object.assign({useFetchStreams:r},a),s._setSettings(a),s},"PUBLIC").setMultipleInstances(!0)),di(PT,"4.7.1",e),di(PT,"4.7.1","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D="firebasestorage.googleapis.com",kD="storageBucket",U7=2*60*1e3,B7=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt extends wi{constructor(e,r,n=0){super(zv(e),`Firebase Storage: ${r} (${zv(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Dt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return zv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var jt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(jt||(jt={}));function zv(t){return"storage/"+t}function d1(){const t="An unknown error occurred, please check the error payload for server response.";return new Dt(jt.UNKNOWN,t)}function z7(t){return new Dt(jt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function W7(t){return new Dt(jt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function q7(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Dt(jt.UNAUTHENTICATED,t)}function H7(){return new Dt(jt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function K7(t){return new Dt(jt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function G7(){return new Dt(jt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function X7(){return new Dt(jt.CANCELED,"User canceled the upload/download.")}function Y7(t){return new Dt(jt.INVALID_URL,"Invalid URL '"+t+"'.")}function Q7(t){return new Dt(jt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function J7(){return new Dt(jt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+kD+"' property when initializing the app?")}function Z7(){return new Dt(jt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function eW(){return new Dt(jt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function tW(t){return new Dt(jt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Fb(t){return new Dt(jt.INVALID_ARGUMENT,t)}function ED(){return new Dt(jt.APP_DELETED,"The Firebase app was deleted.")}function rW(t){return new Dt(jt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Fu(t,e){return new Dt(jt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Zc(t){throw new Dt(jt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=Dr.makeFromUrl(e,r)}catch{return new Dr(e,"")}if(n.path==="")return n;throw Q7(e)}static makeFromUrl(e,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function a(k){k.path.charAt(k.path.length-1)==="/"&&(k.path_=k.path_.slice(0,-1))}const o="(/(.*))?$",s=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(k){k.path_=decodeURIComponent(k.path)}const u="v[A-Za-z0-9_]+",f=r.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${u}/b/${i}/o${h}`,"i"),g={bucket:1,path:3},b=r===_D?"(?:storage.googleapis.com|storage.cloud.google.com)":r,v="([^?#]*)",_=new RegExp(`^https?://${b}/${i}/${v}`,"i"),x=[{regex:s,indices:l,postModify:a},{regex:p,indices:g,postModify:c},{regex:_,indices:{bucket:1,path:2},postModify:c}];for(let k=0;k<x.length;k++){const T=x[k],C=T.regex.exec(e);if(C){const S=C[T.indices.bucket];let E=C[T.indices.path];E||(E=""),n=new Dr(S,E),T.postModify(n);break}}if(n==null)throw Y7(e);return n}}class nW{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iW(t,e,r){let n=1,i=null,a=null,o=!1,s=0;function l(){return s===2}let c=!1;function u(...v){c||(c=!0,e.apply(null,v))}function f(v){i=setTimeout(()=>{i=null,t(p,l())},v)}function h(){a&&clearTimeout(a)}function p(v,..._){if(c){h();return}if(v){h(),u.call(null,v,..._);return}if(l()||o){h(),u.call(null,v,..._);return}n<64&&(n*=2);let x;s===1?(s=2,x=0):x=(n+Math.random())*1e3,f(x)}let g=!1;function b(v){g||(g=!0,h(),!c&&(i!==null?(v||(s=2),clearTimeout(i),f(0)):v||(s=1)))}return f(0),a=setTimeout(()=>{o=!0,b(!0)},r),b}function aW(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oW(t){return t!==void 0}function sW(t){return typeof t=="object"&&!Array.isArray(t)}function h1(t){return typeof t=="string"||t instanceof String}function hA(t){return p1()&&t instanceof Blob}function p1(){return typeof Blob<"u"}function Vb(t,e,r,n){if(n<e)throw Fb(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw Fb(`Invalid value for '${t}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xg(t,e,r){let n=e;return r==null&&(n=`https://${e}`),`${r}://${n}/v0${t}`}function SD(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const i=e(n)+"="+e(t[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var Go;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Go||(Go={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lW(t,e){const r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return r||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cW{constructor(e,r,n,i,a,o,s,l,c,u,f,h=!0){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=f,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,g)=>{this.resolve_=p,this.reject_=g,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new Ih(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=s=>{const l=s.loaded,c=s.lengthComputable?s.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const s=a.getErrorCode()===Go.NO_ERROR,l=a.getStatus();if(!s||lW(l,this.additionalRetryCodes_)&&this.retry){const u=a.getErrorCode()===Go.ABORT;n(!1,new Ih(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;n(!0,new Ih(c,a))})},r=(n,i)=>{const a=this.resolve_,o=this.reject_,s=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(s,s.getResponse());oW(l)?a(l):a()}catch(l){o(l)}else if(s!==null){const l=d1();l.serverResponse=s.getErrorText(),this.errorCallback_?o(this.errorCallback_(s,l)):o(l)}else if(i.canceled){const l=this.appDelete_?ED():X7();o(l)}else{const l=G7();o(l)}};this.canceled_?r(!1,new Ih(!1,null,!0)):this.backoffId_=iW(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&aW(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ih{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function uW(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function fW(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function dW(t,e){e&&(t["X-Firebase-GMPID"]=e)}function hW(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function pW(t,e,r,n,i,a,o=!0){const s=SD(t.urlParams),l=t.url+s,c=Object.assign({},t.headers);return dW(c,e),uW(c,r),fW(c,a),hW(c,n),new cW(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mW(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function gW(...t){const e=mW();if(e!==void 0){const r=new e;for(let n=0;n<t.length;n++)r.append(t[n]);return r.getBlob()}else{if(p1())return new Blob(t);throw new Dt(jt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function yW(t,e,r){return t.webkitSlice?t.webkitSlice(e,r):t.mozSlice?t.mozSlice(e,r):t.slice?t.slice(e,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vW(t){if(typeof atob>"u")throw tW("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Wv{constructor(e,r){this.data=e,this.contentType=r||null}}function bW(t,e){switch(t){case li.RAW:return new Wv(TD(e));case li.BASE64:case li.BASE64URL:return new Wv(AD(t,e));case li.DATA_URL:return new Wv(wW(e),_W(e))}throw d1()}function TD(t){const e=[];for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(r<t.length-1&&(t.charCodeAt(r+1)&64512)===56320))e.push(239,191,189);else{const a=n,o=t.charCodeAt(++r);n=65536|(a&1023)<<10|o&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function xW(t){let e;try{e=decodeURIComponent(t)}catch{throw Fu(li.DATA_URL,"Malformed data URL.")}return TD(e)}function AD(t,e){switch(t){case li.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw Fu(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case li.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw Fu(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=vW(e)}catch(i){throw i.message.includes("polyfill")?i:Fu(t,"Invalid character found")}const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}class PD{constructor(e){this.base64=!1,this.contentType=null;const r=e.match(/^data:([^,]+)?,/);if(r===null)throw Fu(li.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=r[1]||null;n!=null&&(this.base64=kW(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function wW(t){const e=new PD(t);return e.base64?AD(li.BASE64,e.rest):xW(e.rest)}function _W(t){return new PD(t).contentType}function kW(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,r){let n=0,i="";hA(e)?(this.data_=e,n=e.size,i=e.type):e instanceof ArrayBuffer?(r?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(r?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,r){if(hA(this.data_)){const n=this.data_,i=yW(n,e,r);return i===null?null:new Ca(i)}else{const n=new Uint8Array(this.data_.buffer,e,r-e);return new Ca(n,!0)}}static getBlob(...e){if(p1()){const r=e.map(n=>n instanceof Ca?n.data_:n);return new Ca(gW.apply(null,r))}else{const r=e.map(o=>h1(o)?bW(li.RAW,o).data:o.data_);let n=0;r.forEach(o=>{n+=o.byteLength});const i=new Uint8Array(n);let a=0;return r.forEach(o=>{for(let s=0;s<o.length;s++)i[a++]=o[s]}),new Ca(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(t){let e;try{e=JSON.parse(t)}catch{return null}return sW(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EW(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function SW(t,e){const r=e.split("/").filter(n=>n.length>0).join("/");return t.length===0?r:t+"/"+r}function ID(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TW(t,e){return e}class Cr{constructor(e,r,n,i){this.server=e,this.local=r||e,this.writable=!!n,this.xform=i||TW}}let Oh=null;function AW(t){return!h1(t)||t.length<2?t:ID(t)}function OD(){if(Oh)return Oh;const t=[];t.push(new Cr("bucket")),t.push(new Cr("generation")),t.push(new Cr("metageneration")),t.push(new Cr("name","fullPath",!0));function e(a,o){return AW(o)}const r=new Cr("name");r.xform=e,t.push(r);function n(a,o){return o!==void 0?Number(o):o}const i=new Cr("size");return i.xform=n,t.push(i),t.push(new Cr("timeCreated")),t.push(new Cr("updated")),t.push(new Cr("md5Hash",null,!0)),t.push(new Cr("cacheControl",null,!0)),t.push(new Cr("contentDisposition",null,!0)),t.push(new Cr("contentEncoding",null,!0)),t.push(new Cr("contentLanguage",null,!0)),t.push(new Cr("contentType",null,!0)),t.push(new Cr("metadata","customMetadata",!0)),Oh=t,Oh}function PW(t,e){function r(){const n=t.bucket,i=t.fullPath,a=new Dr(n,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:r})}function IW(t,e,r){const n={};n.type="file";const i=r.length;for(let a=0;a<i;a++){const o=r[a];n[o.local]=o.xform(n,e[o.server])}return PW(n,t),n}function CD(t,e,r){const n=m1(e);return n===null?null:IW(t,n,r)}function OW(t,e,r,n){const i=m1(e);if(i===null||!h1(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const o=encodeURIComponent;return a.split(",").map(c=>{const u=t.bucket,f=t.fullPath,h="/b/"+o(u)+"/o/"+o(f),p=Xg(h,r,n),g=SD({alt:"media",token:c});return p+g})[0]}function CW(t,e){const r={},n=e.length;for(let i=0;i<n;i++){const a=e[i];a.writable&&(r[a.server]=t[a.local])}return JSON.stringify(r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA="prefixes",mA="items";function NW(t,e,r){const n={prefixes:[],items:[],nextPageToken:r.nextPageToken};if(r[pA])for(const i of r[pA]){const a=i.replace(/\/$/,""),o=t._makeStorageReference(new Dr(e,a));n.prefixes.push(o)}if(r[mA])for(const i of r[mA]){const a=t._makeStorageReference(new Dr(e,i.name));n.items.push(a)}return n}function RW(t,e,r){const n=m1(r);return n===null?null:NW(t,e,n)}class g1{constructor(e,r,n,i){this.url=e,this.method=r,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(t){if(!t)throw d1()}function jW(t,e){function r(n,i){const a=CD(t,i,e);return y1(a!==null),a}return r}function DW(t,e){function r(n,i){const a=RW(t,e,i);return y1(a!==null),a}return r}function MW(t,e){function r(n,i){const a=CD(t,i,e);return y1(a!==null),OW(a,i,t.host,t._protocol)}return r}function v1(t){function e(r,n){let i;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?i=H7():i=q7():r.getStatus()===402?i=W7(t.bucket):r.getStatus()===403?i=K7(t.path):i=n,i.status=r.getStatus(),i.serverResponse=n.serverResponse,i}return e}function $W(t){const e=v1(t);function r(n,i){let a=e(n,i);return n.getStatus()===404&&(a=z7(t.path)),a.serverResponse=i.serverResponse,a}return r}function LW(t,e,r,n,i){const a={};e.isRoot?a.prefix="":a.prefix=e.path+"/",r.length>0&&(a.delimiter=r),n&&(a.pageToken=n),i&&(a.maxResults=i);const o=e.bucketOnlyServerUrl(),s=Xg(o,t.host,t._protocol),l="GET",c=t.maxOperationRetryTime,u=new g1(s,l,DW(t,e.bucket),c);return u.urlParams=a,u.errorHandler=v1(e),u}function FW(t,e,r){const n=e.fullServerUrl(),i=Xg(n,t.host,t._protocol),a="GET",o=t.maxOperationRetryTime,s=new g1(i,a,MW(t,r),o);return s.errorHandler=$W(e),s}function VW(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function UW(t,e,r){const n=Object.assign({},r);return n.fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=VW(null,e)),n}function BW(t,e,r,n,i){const a=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function s(){let x="";for(let k=0;k<2;k++)x=x+Math.random().toString().slice(2);return x}const l=s();o["Content-Type"]="multipart/related; boundary="+l;const c=UW(e,n,i),u=CW(c,r),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,h=`\r
--`+l+"--",p=Ca.getBlob(f,n,h);if(p===null)throw Z7();const g={name:c.fullPath},b=Xg(a,t.host,t._protocol),v="POST",_=t.maxUploadRetryTime,y=new g1(b,v,jW(t,r),_);return y.urlParams=g,y.headers=o,y.body=p.uploadData(),y.errorHandler=v1(e),y}class zW{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Go.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Go.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Go.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,n,i){if(this.sent_)throw Zc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,e,!0),i!==void 0)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return n!==void 0?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Zc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Zc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Zc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Zc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class WW extends zW{initXhr(){this.xhr_.responseType="text"}}function b1(){return new WW}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,r){this._service=e,r instanceof Dr?this._location=r:this._location=Dr.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new ls(e,r)}get root(){const e=new Dr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ID(this._location.path)}get storage(){return this._service}get parent(){const e=EW(this._location.path);if(e===null)return null;const r=new Dr(this._location.bucket,e);return new ls(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw rW(e)}}function qW(t,e,r){t._throwIfRoot("uploadBytes");const n=BW(t.storage,t._location,OD(),new Ca(e,!0),r);return t.storage.makeRequestWithTokens(n,b1).then(i=>({metadata:i,ref:t}))}function HW(t){const e={prefixes:[],items:[]};return ND(t,e).then(()=>e)}async function ND(t,e,r){const i=await KW(t,{pageToken:r});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&await ND(t,e,i.nextPageToken)}function KW(t,e){e!=null&&typeof e.maxResults=="number"&&Vb("options.maxResults",1,1e3,e.maxResults);const r=e||{},n=LW(t.storage,t._location,"/",r.pageToken,r.maxResults);return t.storage.makeRequestWithTokens(n,b1)}function GW(t){t._throwIfRoot("getDownloadURL");const e=FW(t.storage,t._location,OD());return t.storage.makeRequestWithTokens(e,b1).then(r=>{if(r===null)throw eW();return r})}function XW(t,e){const r=SW(t._location.path,e),n=new Dr(t._location.bucket,r);return new ls(t.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YW(t){return/^[A-Za-z]+:\/\//.test(t)}function QW(t,e){return new ls(t,e)}function RD(t,e){if(t instanceof x1){const r=t;if(r._bucket==null)throw J7();const n=new ls(r,r._bucket);return e!=null?RD(n,e):n}else return e!==void 0?XW(t,e):t}function JW(t,e){if(e&&YW(e)){if(t instanceof x1)return QW(t,e);throw Fb("To use ref(service, url), the first argument must be a Storage instance.")}else return RD(t,e)}function gA(t,e){const r=e==null?void 0:e[kD];return r==null?null:Dr.makeFromBucketSpec(r,t)}function ZW(t,e,r,n={}){t.host=`${e}:${r}`,t._protocol="http";const{mockUserToken:i}=n;i&&(t._overrideAuthToken=typeof i=="string"?i:lR(i,t.app.options.projectId))}class x1{constructor(e,r,n,i,a){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=_D,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=U7,this._maxUploadRetryTime=B7,this._requests=new Set,i!=null?this._bucket=Dr.makeFromBucketSpec(i,this._host):this._bucket=gA(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Dr.makeFromBucketSpec(this._url,e):this._bucket=gA(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Vb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Vb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ls(this,e)}_makeRequest(e,r,n,i,a=!0){if(this._deleted)return new nW(ED());{const o=pW(e,this._appId,n,i,r,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}const yA="@firebase/storage",vA="0.13.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD="storage";function eq(t,e,r){return t=It(t),qW(t,e,r)}function tq(t){return t=It(t),HW(t)}function w1(t){return t=It(t),GW(t)}function _1(t,e){return t=It(t),JW(t,e)}function rq(t=x_(),e){t=It(t);const n=Ag(t,jD).getImmediate({identifier:e}),i=aR("storage");return i&&nq(n,...i),n}function nq(t,e,r,n={}){ZW(t,e,r,n)}function iq(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new x1(r,n,i,e,vs)}function aq(){rs(new ro(jD,iq,"PUBLIC").setMultipleInstances(!0)),di(yA,vA,""),di(yA,vA,"esm2017")}aq();const oq={apiKey:"AIzaSyAoA9vGq5gsjRVqngQcfX9wDHv03MFX8Mo",authDomain:"habit-piggy-project.firebaseapp.com",projectId:"habit-piggy-project",storageBucket:"habit-piggy-project.appspot.com",messagingSenderId:"230345565651",appId:"1:230345565651:web:4f5fae0a011a8a355cbb26",measurementId:"G-D5V6H13VEM"},DD=fR(oq),Ze=T7(DD),k1=rq(DD),MD=im();async function sq(t,e,r,n){try{const a=(await wB(MD,t,e)).user;console.log("User created: ",a);const o=St(Ze,"users",a.uid);await wD(o,{uid:a.uid,email:a.email,account:r,name:n,introduction:"我要養成好習慣！",avatar:"https://firebasestorage.googleapis.com/v0/b/habit-piggy-project.appspot.com/o/default_avatars%2FPiggy.png?alt=media&token=abb71b06-4b8d-41ce-b087-f3aa0d3e86f9",createdTime:st.now(),levelPoints:0,isAcceptReminder:!1,isDarkMode:!1,achievements:[],badges:[]}),console.log("User data created with ID: ",a.uid),zr(o,"habits"),console.log("Empty habits sub-collection created for user ID: ",a.uid)}catch(i){console.error("Error creating user: ",i.code,i.message)}}async function lq(t){try{const e=zr(Ze,"users"),r=l1(e,M7("account","==",t)),n=await Yn(r);if(n.empty)throw new Error("No user found with this account");return n.docs[0].data().email}catch(e){throw console.error("Error getting email by account: ",e.code,e.message),e}}async function cq(){try{await SB(MD),console.log("User signed out")}catch(t){console.error("Error signing out: ",t.code,t.message)}}async function E1(t,e){try{const r=St(Ze,"users",t);await wD(r,e,{merge:!0}),console.log("User profile updated with ID: ",t)}catch(r){console.error("Error updating user profile: ",r.code,r.message)}}async function ii(t){try{const e=St(Ze,"users",t),r=await mo(e);return r.exists()?r.data():(console.log("No such document!"),{name:"Unknown",levelPoints:0,avatar:await xA("Piggy.png")})}catch(e){return console.error("Error getting user profile: ",e.code,e.message),{name:"Unknown",levelPoints:0,avatar:await xA("Piggy.png")}}}async function bA(){try{const t=zr(Ze,"users");return(await Yn(t)).docs.map(n=>({id:n.id,...n.data()}))}catch(t){return console.error("Error getting users: ",t.code,t.message),[]}}async function uq(t,e){try{const r=St(Ze,"users",t),n=zr(r,"habits");await f1(n,{...e,createdTime:st.now(),updatedTime:st.now()}),console.log("Habit added for user ID: ",t)}catch(r){console.error("Error adding habit: ",r.code,r.message)}}async function cs(t){try{const e=St(Ze,"users",t),r=zr(e,"habits"),n=l1(r,gD("updatedTime","desc"));return(await Yn(n)).docs.map(o=>({id:o.id,...o.data()}))}catch(e){return console.error("Error getting habits: ",e.code,e.message),[]}}async function Ub(t,e,r){try{const n=St(Ze,"users",t,"habits",e);await go(n,{...r,updatedTime:st.now()})}catch(n){console.error("Error updating habit: ",n.code,n.message)}}async function $D(t,e){try{const r=St(Ze,"users",t,"habits",e);await Kg(r),console.log("Habit deleted with ID: ",e)}catch(r){console.error("Error deleting habit: ",r.code,r.message)}}async function fq(t,e){try{const r=zr(Ze,"posts"),n=await f1(r,{...e,userID:t,createdTime:st.now(),updatedTime:st.now()});return console.log("Post added with ID: ",n.id),n.id}catch(r){console.error("Error adding post: ",r.code,r.message)}}async function dq(t,e){try{const r=St(Ze,"posts",t);await go(r,{...e,updatedTime:st.now()}),console.log("Post updated with ID: ",t)}catch(r){console.error("Error updating post: ",r.code,r.message)}}async function hq(t){try{const e=St(Ze,"posts",t);await Kg(e),console.log("Post deleted with ID: ",t)}catch(e){console.error("Error deleting post: ",e.code,e.message)}}async function Ch(){try{const t=zr(Ze,"posts"),e=l1(t,gD("createdTime","desc"));return(await Yn(e)).docs.map(i=>({id:i.id,...i.data()}))}catch(t){return console.error("Error getting posts: ",t.code,t.message),[]}}async function LD(t,e){try{const r=_1(k1,`avatars/${t}`),n=await eq(r,e),i=await w1(n.ref);return console.log("Avatar uploaded: ",i),i}catch(r){return console.error("Error uploading avatar: ",r.code,r.message),null}}async function xA(t){try{const e=_1(k1,`default_avatars/${t}`),r=await w1(e);return console.log("Default avatar URL: ",r),r}catch(e){return console.error("Error getting default avatar: ",e.code,e.message),"https://firebasestorage.googleapis.com/v0/b/habit-piggy-project.appspot.com/o/avatars%2FPiggy.png?alt=media&token=be62eb4e-44a3-46c5-ba6d-bba575da75a8"}}async function pq(t,e){try{const r=St(Ze,"posts",t),n=zr(r,"comments");await f1(n,{...e,createdTime:st.now()}),console.log("Comment added to post ID: ",t)}catch(r){console.error("Error adding comment: ",r.code,r.message)}}async function Ls(t){try{const e=St(Ze,"posts",t),r=zr(e,"comments");return(await Yn(r)).docs.map(a=>({id:a.id,...a.data()}))}catch(e){return console.error("Error getting comments: ",e.code,e.message),[]}}async function mq(t,e,r){try{const n=St(Ze,"posts",t,"comments",e);await go(n,{...r,updatedTime:st.now()}),console.log("Comment updated with ID: ",e)}catch(n){console.error("Error updating comment: ",n.code,n.message)}}async function gq(t,e){try{const r=St(Ze,"posts",t,"comments",e);await Kg(r),console.log("Comment deleted with ID: ",e)}catch(r){console.error("Error deleting comment: ",r.code,r.message)}}async function FD(){try{const t=_1(k1,"post_backgrounds"),r=(await tq(t)).items.map(i=>w1(i));return await Promise.all(r)}catch(t){return console.error("Error getting post backgrounds: ",t.code,t.message),[]}}async function yq(t,e){try{const r=St(Ze,"posts",t),n=await mo(r);if(n.exists()){const a=n.data().likes||[];a.includes(e)||(a.push(e),await go(r,{likes:a}),console.log("Like added to post ID: ",t))}}catch(r){console.error("Error adding like: ",r.code,r.message)}}async function vq(t,e){try{const r=St(Ze,"posts",t),n=await mo(r);if(n.exists()){const a=n.data().likes||[],o=a.indexOf(e);if(o>-1){a.splice(o,1),await go(r,{likes:a}),console.log("Like removed from post ID: ",t);const s=St(Ze,"posts",t,"likes",e);await Kg(s),console.log("Like document removed for user ID: ",e)}}}catch(r){console.error("Error removing like: ",r.code,r.message)}}async function bq(){try{return(await Yn(zr(Ze,"achievements"))).docs.map(r=>({id:r.id,...r.data()}))}catch(t){return console.error("Error getting achievements: ",t.code,t.message),[]}}async function xq(t){try{const e=St(Ze,"users",t),r=await mo(e);return r.exists()?r.data().achievements||[]:(console.log("No such document!"),[])}catch(e){return console.error("Error getting user achievements: ",e.code,e.message),[]}}async function Vu(t,e){try{const r=St(Ze,"users",t),n=zr(r,"habits"),a=(await Yn(n)).docs.map(c=>({id:c.id,...c.data()}));let o=0;const s=new Date,l=new Date(s.getFullYear(),s.getMonth(),s.getDate());switch(e){case"habit":o=a.reduce((c,u)=>{const f=u.status.filter(h=>h.completed&&new Date(h.date)<l).length;return c+f},0);break;case"savings":o=a.reduce((c,u)=>{const f=u.status.filter(h=>!h.completed&&new Date(h.date)<l).length;return c+u.amount*f},0);break;case"streak":o=a.reduce((c,u)=>{const f=u.status.filter(p=>p.completed&&new Date(p.date)<l).length,h=u.status.filter(p=>new Date(p.date)<l).length;return c+(h>0?f/h:0)},0)/a.length;break;default:throw new Error("Invalid task type")}return o}catch(r){return console.error("Error calculating task value: ",r.code,r.message),0}}async function Uu(t,e,r){try{const n=await Yn(zr(Ze,"achievements")),i=St(Ze,"users",t),a=await mo(i),o=a.exists()?a.data().achievements||[]:[];n.forEach(async s=>{const l=s.data(),c=l.condition;let u=!1;c.type===e&&(e==="habit"&&r>=c.count?u=!0:e==="savings"&&r>=c.amount||e==="streak"&&r>=c.count),u&&!o.includes(s.id)&&(o.push(s.id),await go(i,{achievements:o}),console.log(`Achievement ${l.name} awarded to user ID: ${t}`))})}catch(n){console.error("Error checking and awarding achievements: ",n.code,n.message)}}async function wq(){try{const t=zr(Ze,"badges");return(await Yn(t)).docs.map(n=>({id:n.id,...n.data()}))}catch(t){return console.error("Error getting badges: ",t.code,t.message),[]}}async function _q(t){try{const e=St(Ze,"users",t),r=await mo(e);return r.exists()?r.data().badges||[]:(console.log("No such document!"),[])}catch(e){return console.error("Error getting user badges: ",e.code,e.message),[]}}async function _l(t){try{const e=St(Ze,"users",t),r=zr(e,"habits");return(await Yn(r)).docs.map(o=>({id:o.id,...o.data()})).reduce((o,s)=>{const l=s.category;return o[l]||(o[l]=0),o[l]++,o},{})}catch(e){return console.error("Error calculating badges: ",e.code,e.message),{}}}async function Bu(t){try{const e=await Yn(zr(Ze,"badges")),r=St(Ze,"users",t),n=await mo(r),i=n.exists()?n.data().badges||[]:[],a=await _l(t);e.forEach(async o=>{const s=o.data(),l=s.condition;let c=!1;a[l.category]&&a[l.category]>=l.times&&(c=!0),c&&!i.includes(o.id)&&(i.push(o.id),await go(r,{badges:i}),console.log(`Badge ${s.description} awarded to user ID: ${t}`))})}catch(e){console.error("Error checking and awarding badges: ",e.code,e.message)}}async function VD(t,e){try{const r=St(Ze,"users",t),n=await mo(r);if(n.exists()){const a=n.data().badges.filter(o=>o.category!==e);await go(r,{badges:a}),console.log(`Badge for category ${e} removed for user ID: ${t}`)}}catch(r){console.error("Error removing badge: ",r.code,r.message)}}var UD={exports:{}},kq="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Eq=kq,Sq=Eq;function BD(){}function zD(){}zD.resetWarningCache=BD;var Tq=function(){function t(n,i,a,o,s,l){if(l!==Sq){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:zD,resetWarningCache:BD};return r.PropTypes=r,r};UD.exports=Tq();var Aq=UD.exports;const G=nt(Aq),Qn=D.createContext(),WD=({children:t})=>{const[e,r]=D.useState(null),[n,i]=D.useState(!1),a=im();return D.useEffect(()=>{const o=EB(a,async s=>{if(s){const l=await ii(s.uid);r({...s,...l}),i(l.isDarkMode||!1)}else r(null),i(!1)});return()=>o()},[a]),D.useEffect(()=>{n?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[n]),m.jsx(Qn.Provider,{value:{user:e,setUser:r,isDarkMode:n,setIsDarkMode:i},children:t})};WD.propTypes={children:G.node};var qD={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},wA=$.createContext&&$.createContext(qD),Pq=["attr","size","title"];function Iq(t,e){if(t==null)return{};var r=Oq(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Oq(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function dm(){return dm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dm.apply(this,arguments)}function _A(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_A(Object(r),!0).forEach(function(n){Cq(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_A(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cq(t,e,r){return e=Nq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nq(t){var e=Rq(t,"string");return typeof e=="symbol"?e:e+""}function Rq(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HD(t){return t&&t.map((e,r)=>$.createElement(e.tag,hm({key:r},e.attr),HD(e.child)))}function qe(t){return e=>$.createElement(jq,dm({attr:hm({},t.attr)},e),HD(t.child))}function jq(t){var e=r=>{var{attr:n,size:i,title:a}=t,o=Iq(t,Pq),s=i||r.size||"1em",l;return r.className&&(l=r.className),t.className&&(l=(l?l+" ":"")+t.className),$.createElement("svg",dm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:l,style:hm(hm({color:t.color||r.color},r.style),t.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),a&&$.createElement("title",null,a),t.children)};return wA!==void 0?$.createElement(wA.Consumer,null,r=>e(r)):e(qD)}function Dq(t){return qe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-1.293 5.953a1 1 0 0 0 -1.32 -.083l-.094 .083l-3.293 3.292l-1.293 -1.292l-.094 -.083a1 1 0 0 0 -1.403 1.403l.083 .094l2 2l.094 .083a1 1 0 0 0 1.226 0l.094 -.083l4 -4l.083 -.094a1 1 0 0 0 -.083 -1.32z"},child:[]}]})(t)}function Mq(t){return qe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 3.34a10 10 0 1 1 -15 8.66l.005 -.324a10 10 0 0 1 14.995 -8.336zm-5 2.66a1 1 0 0 0 -1 1a3 3 0 1 0 0 6v2a1.024 1.024 0 0 1 -.866 -.398l-.068 -.101a1 1 0 0 0 -1.732 .998a3 3 0 0 0 2.505 1.5h.161a1 1 0 0 0 .883 .994l.117 .007a1 1 0 0 0 1 -1l.176 -.005a3 3 0 0 0 -.176 -5.995v-2c.358 -.012 .671 .14 .866 .398l.068 .101a1 1 0 0 0 1.732 -.998a3 3 0 0 0 -2.505 -1.501h-.161a1 1 0 0 0 -1 -1zm1 7a1 1 0 0 1 0 2v-2zm-2 -4v2a1 1 0 0 1 0 -2z"},child:[]}]})(t)}function $q(t){return qe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M6.979 3.074a6 6 0 0 1 4.988 1.425l.037 .033l.034 -.03a6 6 0 0 1 4.733 -1.44l.246 .036a6 6 0 0 1 3.364 10.008l-.18 .185l-.048 .041l-7.45 7.379a1 1 0 0 1 -1.313 .082l-.094 -.082l-7.493 -7.422a6 6 0 0 1 3.176 -10.215z"},child:[]}]})(t)}function Lq(t){return qe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"},child:[]},{tag:"path",attr:{d:"M12 8v4"},child:[]},{tag:"path",attr:{d:"M12 16h.01"},child:[]}]})(t)}function Fq(t){return qe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0"},child:[]},{tag:"path",attr:{d:"M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0"},child:[]},{tag:"path",attr:{d:"M3 6l0 13"},child:[]},{tag:"path",attr:{d:"M12 6l0 13"},child:[]},{tag:"path",attr:{d:"M21 6l0 13"},child:[]}]})(t)}function Vq(t){return qe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 11h16a1 1 0 0 1 1 1v.5c0 1.5 -2.517 5.573 -4 6.5v1a1 1 0 0 1 -1 1h-8a1 1 0 0 1 -1 -1v-1c-1.687 -1.054 -4 -5 -4 -6.5v-.5a1 1 0 0 1 1 -1z"},child:[]},{tag:"path",attr:{d:"M19 7l-14 1"},child:[]},{tag:"path",attr:{d:"M19 2l-14 3"},child:[]}]})(t)}function Uq(t){return qe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 7a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12zm12 -4v4m-8 -4v4m-4 4h16m-9.995 3h.01m3.99 0h.01"},child:[]},{tag:"path",attr:{d:"M10.005 17a3.5 3.5 0 0 0 4 0"},child:[]}]})(t)}function Bq(t){return qe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M7 9m0 2a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v6a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2z"},child:[]},{tag:"path",attr:{d:"M14 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"},child:[]},{tag:"path",attr:{d:"M17 9v-2a2 2 0 0 0 -2 -2h-10a2 2 0 0 0 -2 2v6a2 2 0 0 0 2 2h2"},child:[]}]})(t)}function zq(t){return qe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12l5 5l10 -10"},child:[]}]})(t)}function Wq(t){return qe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 9l6 6l6 -6"},child:[]}]})(t)}function qq(t){return qe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 6l-6 6l6 6"},child:[]}]})(t)}function Hq(t){return qe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 6l6 6l-6 6"},child:[]}]})(t)}function Kq(t){return qe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"},child:[]},{tag:"path",attr:{d:"M9 12l2 2l4 -4"},child:[]}]})(t)}function KD(t){return qe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"},child:[]},{tag:"path",attr:{d:"M14.8 9a2 2 0 0 0 -1.8 -1h-2a2 2 0 1 0 0 4h2a2 2 0 1 1 0 4h-2a2 2 0 0 1 -1.8 -1"},child:[]},{tag:"path",attr:{d:"M12 7v10"},child:[]}]})(t)}function Gq(t){return qe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]}]})(t)}function Xq(t){return qe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 11v-3.5a1.5 1.5 0 0 1 3 0v2.5"},child:[]},{tag:"path",attr:{d:"M11 9.5v-3a1.5 1.5 0 0 1 3 0v3.5"},child:[]},{tag:"path",attr:{d:"M14 7.5a1.5 1.5 0 0 1 3 0v2.5"},child:[]},{tag:"path",attr:{d:"M17 9.5a1.5 1.5 0 0 1 3 0v4.5a6 6 0 0 1 -6 6h-2h.208a6 6 0 0 1 -5.012 -2.7l-.196 -.3c-.312 -.479 -1.407 -2.388 -3.286 -5.728a1.5 1.5 0 0 1 .536 -2.022a1.867 1.867 0 0 1 2.28 .28l1.47 1.47"},child:[]}]})(t)}function Yq(t){return qe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19.5 12.572l-7.5 7.428l-7.5 -7.428a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"},child:[]}]})(t)}function Qq(t){return qe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12l-2 0l9 -9l9 9l-2 0"},child:[]},{tag:"path",attr:{d:"M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7"},child:[]},{tag:"path",attr:{d:"M10 12h4v4h-4z"},child:[]}]})(t)}function Jq(t){return qe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"},child:[]},{tag:"path",attr:{d:"M12 9h.01"},child:[]},{tag:"path",attr:{d:"M11 12h1v4h1"},child:[]}]})(t)}function Zq(t){return qe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z"},child:[]},{tag:"path",attr:{d:"M15 4l0 16"},child:[]}]})(t)}function eH(t){return qe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2"},child:[]},{tag:"path",attr:{d:"M9 12h12l-3 -3"},child:[]},{tag:"path",attr:{d:"M18 15l3 -3"},child:[]}]})(t)}function tH(t){return qe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 3h6l3 7l-6 2l-6 -2z"},child:[]},{tag:"path",attr:{d:"M12 12l-3 -9"},child:[]},{tag:"path",attr:{d:"M15 11l-3 -8"},child:[]},{tag:"path",attr:{d:"M12 19.5l-3 1.5l.5 -3.5l-2 -2l3 -.5l1.5 -3l1.5 3l3 .5l-2 2l.5 3.5z"},child:[]}]})(t)}function rH(t){return qe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 4a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-5l-5 3v-3h-2a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12z"},child:[]},{tag:"path",attr:{d:"M9.5 9h.01"},child:[]},{tag:"path",attr:{d:"M14.5 9h.01"},child:[]},{tag:"path",attr:{d:"M9.5 13a3.5 3.5 0 0 0 5 0"},child:[]}]})(t)}function nH(t){return qe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 9h8"},child:[]},{tag:"path",attr:{d:"M8 13h6"},child:[]},{tag:"path",attr:{d:"M18 4a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-5l-5 3v-3h-2a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12z"},child:[]}]})(t)}function iH(t){return qe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12a9 9 0 1 0 -8.012 8.946"},child:[]},{tag:"path",attr:{d:"M9 10h.01"},child:[]},{tag:"path",attr:{d:"M15 10h.01"},child:[]},{tag:"path",attr:{d:"M9.5 15a3.59 3.59 0 0 0 2.774 .99"},child:[]},{tag:"path",attr:{d:"M18.994 21.5l2.518 -2.58a1.74 1.74 0 0 0 .004 -2.413a1.627 1.627 0 0 0 -2.346 -.005l-.168 .172l-.168 -.172a1.627 1.627 0 0 0 -2.346 -.004a1.74 1.74 0 0 0 -.004 2.412l2.51 2.59z"},child:[]}]})(t)}function aH(t){return qe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"},child:[]},{tag:"path",attr:{d:"M9 10l.01 0"},child:[]},{tag:"path",attr:{d:"M15 10l.01 0"},child:[]},{tag:"path",attr:{d:"M9.5 15a3.5 3.5 0 0 0 5 0"},child:[]}]})(t)}function oH(t){return qe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 8h.01"},child:[]},{tag:"path",attr:{d:"M3 6a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v12a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3v-12z"},child:[]},{tag:"path",attr:{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l5 5"},child:[]},{tag:"path",attr:{d:"M14 14l1 -1c.928 -.893 2.072 -.893 3 0l3 3"},child:[]}]})(t)}function sH(t){return qe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M7 15h10v4a2 2 0 0 1 -2 2h-6a2 2 0 0 1 -2 -2v-4z"},child:[]},{tag:"path",attr:{d:"M12 9a6 6 0 0 0 -6 -6h-3v2a6 6 0 0 0 6 6h3"},child:[]},{tag:"path",attr:{d:"M12 11a6 6 0 0 1 6 -6h3v1a6 6 0 0 1 -6 6h-3"},child:[]},{tag:"path",attr:{d:"M12 15l0 -6"},child:[]}]})(t)}function lH(t){return qe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 5l0 14"},child:[]},{tag:"path",attr:{d:"M5 12l14 0"},child:[]}]})(t)}function cH(t){return qe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 13a8 8 0 0 1 7 7a6 6 0 0 0 3 -5a9 9 0 0 0 6 -8a3 3 0 0 0 -3 -3a9 9 0 0 0 -8 6a6 6 0 0 0 -5 3"},child:[]},{tag:"path",attr:{d:"M7 14a6 6 0 0 0 -3 6a6 6 0 0 0 6 -3"},child:[]},{tag:"path",attr:{d:"M15 9m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]}]})(t)}function uH(t){return qe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4.698 4.034l16.302 7.966l-16.302 7.966a.503 .503 0 0 1 -.546 -.124a.555 .555 0 0 1 -.12 -.568l2.468 -7.274l-2.468 -7.274a.555 .555 0 0 1 .12 -.568a.503 .503 0 0 1 .546 -.124z"},child:[]},{tag:"path",attr:{d:"M6.5 12h14.5"},child:[]}]})(t)}function fH(t){return qe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z"},child:[]},{tag:"path",attr:{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0"},child:[]}]})(t)}function dH(t){return qe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M13 4m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M7 21l3 -4"},child:[]},{tag:"path",attr:{d:"M16 21l-2 -4l-3 -3l1 -6"},child:[]},{tag:"path",attr:{d:"M6 12l2 -3l4 -1l3 3l3 1"},child:[]}]})(t)}function hH(t){return qe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 6l-12 12"},child:[]},{tag:"path",attr:{d:"M6 6l12 12"},child:[]}]})(t)}const eu={TbHome2:Qq,TbCoin:KD,TbMedal2:tH,TbMessage:nH,TbMoodSmile:aH},Er={TbRocket:cH,TbBook:Fq,TbWalk:dH,TbBowlChopsticks:Vq,TbMoodHeart:iH,TbHandGrab:Xq,TbCash:Bq,TbPlant:sH},S1={TbCheck:zq},pm={TbChevronLeft:qq,TbChevronRight:Hq},pH={TbCalendarSmile:Uq},mH={TbPlus:lH},xt={TbX:hH,TbInfoCircle:Jq,TbAlertCircle:Lq},gH={TbChevronDown:Wq},wu={TbHeart:Yq,TbHeartFilled:$q,TbMessageChatbot:rH,TbDots:Gq,TbSend2:uH},Fs={TbCircleCheck:Kq,TbCircleCheckFilled:Dq,TbCoin:KD,TbCoinFilled:Mq},GD={TbSettings:fH,TbPhoto:oH},kA={TbLogout:eH,TbLayoutSidebarRight:Zq},kl="/assets/habit-piggy-loading-1-B5_9kssG.svg",XD="data:image/svg+xml,%3csvg%20width='400'%20height='400'%20viewBox='0%200%20400%20400'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_621_231)'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M71.3763%20235.358C60.4405%20237.822%2050.0101%20240.148%2039.1823%20243.038C34.0177%20244.417%2028.3404%20246.414%2023.2452%20248.048C28.0237%20252.579%2031.2249%20254.302%2035.9444%20258.874C35.9464%20258.875%2025.2946%20268.037%2017.9071%20274.836C31.5676%20273.098%2048.0961%20264.815%2056.949%20259.742C53.5028%20256.663%2049.934%20253.573%2046.2392%20250.794C54.5474%20245.55%2063.0089%20240.496%2071.3763%20235.358Z'%20fill='%23FFDE6A'%20stroke='%23FFDE6A'%20stroke-width='3.94849'%20stroke-miterlimit='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M323.975%2087.699C329.923%2086.1051%20335.366%2091.5484%20333.772%2097.497L321.22%20144.342C319.627%20150.29%20312.191%20152.283%20307.836%20147.928L273.543%20113.635C269.189%20109.281%20271.181%20101.845%20277.13%20100.251L323.975%2087.699Z'%20fill='%23FFC700'/%3e%3cpath%20d='M240.41%20320.176C238.827%20315.772%20241.347%20310.955%20245.868%20309.744L267.709%20303.892C272.23%20302.68%20276.82%20305.592%20277.652%20310.197L283.358%20341.797C284.098%20345.892%20281.575%20349.869%20277.556%20350.946L260.867%20355.418C256.848%20356.495%20252.675%20354.311%20251.268%20350.396L240.41%20320.176Z'%20fill='%23FFC700'/%3e%3cpath%20d='M201.348%20310.197C202.18%20305.592%20206.77%20302.68%20211.291%20303.892L233.132%20309.744C237.653%20310.955%20240.173%20315.772%20238.59%20320.176L227.732%20350.396C226.325%20354.311%20222.152%20356.495%20218.133%20355.418L201.444%20350.946C197.425%20349.869%20194.902%20345.892%20195.642%20341.797L201.348%20310.197Z'%20fill='%23FFC700'/%3e%3ccircle%20cx='191'%20cy='206'%20r='140'%20fill='%23FFDE6A'/%3e%3cpath%20d='M246.5%20182.125C246.5%20193.554%20237.956%20202.75%20227.5%20202.75C217.044%20202.75%20208.5%20193.554%20208.5%20182.125C208.5%20170.696%20217.044%20161.5%20227.5%20161.5C237.956%20161.5%20246.5%20170.696%20246.5%20182.125Z'%20fill='%23F6F6F6'%20stroke='%23454545'/%3e%3cellipse%20cx='232.375'%20cy='182.125'%20rx='14.625'%20ry='16.25'%20fill='%23454545'/%3e%3cpath%20d='M325.5%20182.125C325.5%20193.554%20316.956%20202.75%20306.5%20202.75C296.043%20202.75%20287.5%20193.554%20287.5%20182.125C287.5%20170.696%20296.043%20161.5%20306.5%20161.5C316.956%20161.5%20325.5%20170.696%20325.5%20182.125Z'%20fill='%23F6F6F6'%20stroke='%23454545'/%3e%3cellipse%20cx='311.375'%20cy='182.125'%20rx='14.625'%20ry='16.25'%20fill='%23454545'/%3e%3cpath%20d='M106.348%20310.197C107.18%20305.592%20111.77%20302.68%20116.291%20303.892L138.132%20309.744C142.653%20310.955%20145.173%20315.772%20143.59%20320.176L132.732%20350.396C131.325%20354.311%20127.152%20356.495%20123.133%20355.418L106.444%20350.946C102.425%20349.869%2099.9021%20345.892%20100.641%20341.797L106.348%20310.197Z'%20fill='%23FFC700'/%3e%3cpath%20d='M145.41%20320.176C143.827%20315.772%20146.347%20310.955%20150.868%20309.744L172.709%20303.892C177.23%20302.68%20181.82%20305.592%20182.652%20310.197L188.358%20341.797C189.098%20345.892%20186.575%20349.869%20182.556%20350.946L165.867%20355.418C161.848%20356.495%20157.675%20354.311%20156.268%20350.396L145.41%20320.176Z'%20fill='%23FFC700'/%3e%3cpath%20d='M135.527%20100.443C133.934%2094.4946%20139.377%2089.0513%20145.325%2090.6452L198.862%20104.99C204.811%20106.584%20206.803%20114.02%20202.449%20118.375L163.257%20157.566C158.902%20161.921%20151.467%20159.929%20149.873%20153.98L135.527%20100.443Z'%20fill='%23FFC700'/%3e%3cellipse%20cx='234.471'%20cy='267.604'%20rx='12'%20ry='16'%20transform='rotate(45%20234.471%20267.604)'%20fill='%23E17F63'/%3e%3cpath%20d='M254%20259.132C254%20266.588%20251.127%20271.132%20244.5%20271.132C237.873%20271.132%20231.5%20264.088%20231.5%20256.632C231.5%20249.177%20235.373%20245.632%20242%20245.632C248.627%20245.632%20254%20251.677%20254%20259.132Z'%20fill='%23FFDE6A'/%3e%3cpath%20d='M230%20256C238.182%20270.711%20245.81%20275.071%20264.641%20276'%20stroke='%23454545'%20stroke-width='4'%20stroke-linecap='round'/%3e%3cpath%20d='M315%20226.599C315%20252.984%20297.091%20268.8%20275%20268.8C252.909%20268.8%20235%20252.984%20235%20226.599C235%20200.214%20252.909%20184%20275%20184C297.091%20184%20315%20200.214%20315%20226.599Z'%20fill='%23FFC700'/%3e%3cpath%20d='M279.4%20226C279.4%20230.418%20276.618%20234%20272.2%20234C267.782%20234%20265%20230.418%20265%20226C265%20221.582%20267.782%20218%20272.2%20218C276.618%20218%20279.4%20221.582%20279.4%20226Z'%20fill='%23454545'/%3e%3cpath%20d='M301.8%20226C301.8%20230.418%20299.018%20234%20294.6%20234C290.182%20234%20287.4%20230.418%20287.4%20226C287.4%20221.582%20290.182%20218%20294.6%20218C299.018%20218%20301.8%20221.582%20301.8%20226Z'%20fill='%23454545'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_621_231'%3e%3crect%20width='400'%20height='400'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",Yg="/assets/habit-piggy-logo-Bg83H3Q_.svg";function yH(){const{register:t,handleSubmit:e,watch:r,formState:{errors:n}}=eR(),[i,a]=D.useState(!0),[o,s]=D.useState(!1),[l,c]=D.useState(!1),[u,f]=D.useState(kl),{setUser:h}=D.useContext(Qn),[p,g]=D.useState(""),[b,v]=D.useState(0),[_,y]=D.useState(!1),x={0:"I'm Habit Piggy!",1:"I'm Hungry!",2:"Do Your Habits!",3:"Or Feed me!",4:"Feed me!"};D.useEffect(()=>{let S;return l&&(S=setInterval(()=>{f(E=>E===kl?XD:kl)},250)),()=>clearInterval(S)},[l]),D.useEffect(()=>{const S=Object.keys(x);let E=0;const P=setInterval(()=>{E<S.length?(v(E),E++):(clearInterval(P),y(!0))},3e3);return()=>clearInterval(P)},[]);const k=()=>{_&&v(4)},T=async S=>{const{email:E,registerPassword:P,account:I,name:R}=S;try{await sq(E,P,I,R);const N=im(),O=await yT(N,E,P);h(O.user),c(!0),setTimeout(()=>{s(!0)},2e3)}catch(N){console.error("Error registering user: ",N.code,N.message)}},C=async S=>{const{loginEmail:E,loginPassword:P}=S,I=im();try{const R=await lq(E);if(!R){g("帳號或密碼錯誤");return}const N=await yT(I,R,P);h(N.user),c(!0),setTimeout(()=>{s(!0)},2e3)}catch(R){g("帳號或密碼錯誤"),console.error("Error logging in: ",R.code,R.message)}};return o?m.jsx(qN,{to:"/home"}):l?m.jsxs("div",{className:"flex flex-col justify-center items-center h-screen gap-4",children:[m.jsx("img",{src:u,alt:"loading",className:"w-40 h-40"}),m.jsx("p",{className:"font-normal text-base text-black dark:text-black-0",children:"準備好培養習慣了嗎？"})]}):m.jsxs("div",{className:"p-4 md:py-10 space-y-4",children:[m.jsxs("ul",{className:"grid grid-cols-2 w-full",children:[m.jsx("li",{className:`border border-black-500 rounded-s-full py-1 font-normal text-sm leading-5 text-center ${i?"bg-primary":"bg-black-50"}`,onClick:()=>a(!0),children:"登入帳號"}),m.jsx("li",{className:`border-e border-y border-black-500 rounded-e-full py-1 font-normal text-sm leading-5 text-center ${i?"bg-black-50":"bg-primary"}`,onClick:()=>a(!1),children:"註冊帳號"})]}),i?m.jsxs("div",{className:"relative min-h-screen",children:[m.jsxs("form",{onSubmit:e(C),className:"flex flex-col",children:[m.jsx("label",{htmlFor:"loginEmail",className:"font-bold text-base leading-6 mb-2 text-black dark:text-black-0",children:"帳號"}),m.jsx("input",{type:"text",name:"loginEmail",id:"loginEmail",placeholder:"請輸入帳號或 Email",className:`py-2 px-4 w-full rounded-xl border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-base leading-6 dark:bg-black-100 placeholder-black ${n.loginEmail?"":"mb-4"}`,...t("loginEmail",{required:"Email 是必填項目"})}),n.loginEmail&&m.jsx("p",{className:"text-alert pl-4 mt-1 mb-3",children:n.loginEmail.message}),m.jsx("label",{htmlFor:"loginPassword",className:"font-bold text-base leading-6 mb-2 text-black dark:text-black-0",children:"密碼"}),m.jsx("input",{type:"password",name:"loginPassword",id:"loginPassword",placeholder:"請輸入密碼",className:`py-2 px-4 w-full rounded-xl border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-base leading-6 dark:bg-black-100 placeholder-black ${n.loginPassword?"":"mb-8"}`,...t("loginPassword",{required:"密碼是必填項目"})}),n.loginPassword&&m.jsx("p",{className:"text-alert pl-4 mt-1 mb-3",children:n.loginPassword.message}),p&&m.jsx("p",{className:"text-alert",children:p}),m.jsx("button",{type:"submit",className:"w-full rounded-lg bg-primary font-bold text-base leading-6 py-2 hover:bg-primary-dark",children:"登入帳號"})]}),m.jsx("div",{className:"flex justify-center absolute bottom-20 inset-x-0",children:m.jsxs("div",{className:"flex flex-col items-center",children:[m.jsxs("div",{className:"bg-black-50 w-fit h-fit rounded-full relative mt-4",children:[m.jsx("p",{className:"text-black font-lobster font-normal text-2xl leading-8 md:text-4xl md:leading-tight py-4 px-8",children:x[b]}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-20 before:w-0 before:h-0 before:border-l-0 before:border-r-[20px] before:border-t-[20px] before:border-l-transparent before:border-r-transparent before:border-t-black-50 before:z-20"})]}),m.jsx("img",{src:Yg,alt:"Habit Piggy",className:"w-60 h-60 md:w-80 md:h-80",onClick:k})]})})]}):m.jsxs("form",{onSubmit:e(T),className:"flex flex-col",children:[m.jsx("label",{htmlFor:"email",className:"font-bold text-base leading-6 mb-2 text-black dark:text-black-0",children:"Email"}),m.jsx("input",{type:"text",name:"email",id:"email",placeholder:"請輸入 Email",className:`py-2 px-4 w-full rounded-xl border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-base leading-6 dark:bg-black-100 placeholder-black ${n.email?"":"mb-4"}`,...t("email",{required:"Email 是必填項目"})}),n.email&&m.jsx("p",{className:"text-alert pl-4 mt-1 mb-3",children:n.email.message}),m.jsxs("div",{className:"relative group flex items-center mb-2",children:[m.jsx("label",{htmlFor:"account",className:"font-bold text-base leading-6 text-black dark:text-black-0",children:"帳號"}),m.jsx(xt.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200 ml-2 inline-block"}),m.jsx("span",{className:"absolute -bottom-1 left-[72px] transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto z-50 before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark whitespace-normal break-words",children:"帳號可以是英文、數字或符號的組合"})]}),m.jsx("input",{type:"text",name:"account",id:"account",placeholder:"請輸入帳號",className:`py-2 px-4 w-full rounded-xl border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-base leading-6 dark:bg-black-100 placeholder-black ${n.account?"":"mb-4"}`,...t("account",{required:"帳號是必填項目"})}),n.account&&m.jsx("p",{className:"text-alert pl-4 mt-1 mb-3",children:n.account.message}),m.jsxs("div",{className:"relative group flex items-center mb-2",children:[m.jsx("label",{htmlFor:"registerPassword",className:"font-bold text-base leading-6 text-black dark:text-black-0",children:"密碼"}),m.jsx(xt.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200 ml-2 inline-block"}),m.jsx("span",{className:"absolute -bottom-1 left-[72px] transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto z-50 before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark whitespace-normal break-words",children:"密碼可以是英文、數字或符號的組合，至少需要 6 個字符"})]}),m.jsx("input",{type:"password",name:"registerPassword",id:"registerPassword",placeholder:"請輸入密碼",className:`py-2 px-4 w-full rounded-xl border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-base leading-6 dark:bg-black-100 placeholder-black ${n.registerPassword?"":"mb-4"}`,...t("registerPassword",{required:"密碼是必填項目",minLength:{value:6,message:"密碼至少需要 6 個字符"}})}),n.registerPassword&&m.jsx("p",{className:"text-alert pl-4 mt-1 mb-3",children:n.registerPassword.message}),m.jsx("label",{htmlFor:"registerCheckPassword",className:"font-bold text-base leading-6 mb-2 text-black dark:text-black-0",children:"確認密碼"}),m.jsx("input",{type:"password",name:"registerCheckPassword",id:"registerCheckPassword",placeholder:"請再次輸入密碼",className:`py-2 px-4 w-full rounded-xl border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-base leading-6 dark:bg-black-100 placeholder-black ${n.registerCheckPassword?"":"mb-4"}`,...t("registerCheckPassword",{required:"確認密碼是必填項目",validate:S=>S===r("registerPassword")||"密碼不一致",minLength:{value:6,message:"密碼至少需要 6 個字符"}})}),n.registerCheckPassword&&m.jsx("p",{className:"text-alert pl-4 mt-1 mb-3",children:n.registerCheckPassword.message}),m.jsxs("div",{className:"relative group flex items-center mb-2",children:[m.jsx("label",{htmlFor:"name",className:"font-bold text-base leading-6 text-black dark:text-black-0",children:"會員名稱"}),m.jsx(xt.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200 ml-2 inline-block"}),m.jsx("span",{className:"absolute -bottom-1 left-[104px] transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto z-50 before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark whitespace-normal break-words",children:"會員名稱可以是中文、英文、數字或符號，但不得超過 9 個字符"})]}),m.jsx("input",{type:"text",name:"name",id:"name",placeholder:"請輸入會員名稱",className:`py-2 px-4 w-full rounded-xl border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-base leading-6 dark:bg-black-100 placeholder-black ${n.name?"":"mb-8"}`,...t("name",{required:"會員名稱是必填項目",maxLength:{value:9,message:"會員名稱不得超過 9 個字符"}})}),n.name&&m.jsx("p",{className:"text-alert pl-4 mt-1 mb-3",children:n.name.message}),m.jsx("button",{type:"submit",className:"w-full rounded-lg bg-primary font-bold text-base leading-6 py-2 hover:bg-primary-dark",children:"註冊帳號"})]})]})}const YD=({date:t,onSelect:e,onWeekChange:r})=>{const[n]=D.useState(["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]),[i]=D.useState(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),[a,o]=D.useState(null),[s,l]=D.useState(null),[c,u]=D.useState(null);D.useEffect(()=>{const x=new Date;l({year:x.getFullYear(),month:x.getMonth(),day:x.getDate()}),o(t?{...t}:{year:x.getFullYear(),month:x.getMonth(),day:x.getDate()})},[t]),D.useEffect(()=>{if(a){const x=new Date(a.year,a.month,a.day-new Date(a.year,a.month,a.day).getDay()),k=[];for(let T=0;T<7;T++){const C=new Date(x);C.setDate(x.getDate()+T),k.push({year:C.getFullYear(),month:C.getMonth(),day:C.getDate()})}r(k)}},[a,r]);const f=()=>{if(!a)return[];const x=[],k=a.year,T=a.month,C=a.day,S=new Date(k,T,C-new Date(k,T,C).getDay());for(let E=0;E<7;E++){const P=new Date(S);P.setDate(S.getDate()+E),x.push({value:P.getDate(),year:P.getFullYear(),month:P.getMonth()})}return x},h=x=>{p(x)},p=x=>{o(k=>{const T=new Date(k.year,k.month,k.day+(x?7:-7)),C=new Date(T.getFullYear(),T.getMonth(),T.getDate()-T.getDay()),S={year:C.getFullYear(),month:C.getMonth(),day:C.getDate()};return u(S),e(S),{year:T.getFullYear(),month:T.getMonth(),day:T.getDate()}})},g=x=>{const k={...a,day:x.value,month:x.month,year:x.year};u(k),e(k)},b=x=>x.value===s.day&&s.year===x.year&&s.month===x.month,v=x=>c&&x.value===c.day&&c.year===x.year&&c.month===x.month;if(!a)return null;const _=new Date(a.year,a.month,a.day-new Date(a.year,a.month,a.day).getDay()),y=`${i[_.getMonth()]} ${_.getFullYear()}`;return m.jsxs("div",{className:"p-4 md:pt-6 bg-black-50 dark:bg-black-800 rounded-b-3xl",children:[m.jsxs("div",{className:"flex justify-between mb-3",children:[m.jsx("button",{onClick:()=>h(!1),children:m.jsx(pm.TbChevronLeft,{className:"w-6 h-6 text-black dark:text-black-0 hover:text-alert"})}),m.jsx("h1",{className:"font-bold text-lg leading-6 text-black dark:text-black-0",children:y}),m.jsx("button",{onClick:()=>h(!0),children:m.jsx(pm.TbChevronRight,{className:"w-6 h-6 text-black dark:text-black-0 hover:text-alert"})})]}),m.jsx("div",{className:"grid grid-cols-7 gap-y-1 gap-x-2 md:gap-x-4 text-center",children:f().map((x,k)=>m.jsxs("div",{className:`py-1 px-1 flex flex-col items-center gap-1 rounded-lg cursor-pointer ${b(x)?"bg-primary":v(x)?"bg-primary-light":"bg-transparent hover:bg-primary-light"}`,onClick:()=>g(x),children:[m.jsx("div",{className:`font-bold text-lg leading-6 ${b(x)?"text-black dark:text-black-0-0":v(x)?"text-black":"text-black dark:text-black-0"}`,children:x.value}),m.jsx("div",{className:`font-medium text-sm leading-5 ${b(x)?"text-black dark:text-black-0-0":v(x)?"text-black":"text-black dark:text-black-0"}`,children:n[new Date(x.year,x.month,x.value).getDay()]})]},k))})]})};YD.propTypes={date:G.object,onSelect:G.func,onWeekChange:G.func.isRequired};const Qa=({options:t,value:e,onChange:r})=>{const[n,i]=D.useState(!1),a=s=>{r(s),i(!1)},o=t.find(s=>s.value===e)||t[0];return m.jsxs("div",{className:"relative inline-block w-full",children:[m.jsxs("div",{className:"border border-black-500 rounded-2xl px-4 py-0.5 bg-white cursor-pointer flex justify-between items-center",onClick:()=>i(!n),children:[m.jsx("span",{children:o.label}),m.jsx(gH.TbChevronDown,{className:"w-6 h-6 text-black"})]}),n&&m.jsx("ul",{className:"absolute right-0 z-10 mt-1 min-w-fit w-full bg-white border border-black-500 rounded-2xl shadow-lg text-center overflow-hidden",children:t.map(s=>m.jsx("li",{className:"px-4 py-2 hover:bg-primary-light cursor-pointer",onClick:()=>a(s.value),children:s.label},s.value))})]})};Qa.propTypes={options:G.array.isRequired,value:G.string.isRequired,onChange:G.func.isRequired};const T1=({profileData:t,handleSettingModal:e,handleSaveAndClose:r})=>{const{setIsDarkMode:n,user:i}=D.useContext(Qn),[a,o]=D.useState(t);D.useEffect(()=>{o(t)},[t]);const{register:s,handleSubmit:l,formState:{errors:c},watch:u}=eR({defaultValues:{name:a.name||"",introduction:a.introduction||""}}),f=u("name"),h=a.isDarkMode?"true":"false",p=a.isAcceptReminder?"true":"false",g=[{value:"false",label:"淺色"},{value:"true",label:"深色"}],b=[{value:"false",label:"否"},{value:"true",label:"是"}],v=x=>{o(k=>({...k,isDarkMode:x==="true"})),n(x==="true")},_=x=>{const{name:k,value:T,files:C}=x.target;if(k==="avatar"&&C&&C[0]){const S=x.target.files[0],E=["image/jpeg","image/jpg","image/png","image/gif"];if(!S||!E.includes(S.type))return;o(P=>({...P,avatar:URL.createObjectURL(S),avatarFile:S}))}else o(S=>({...S,[k]:T}))},y=async x=>{try{if(a.avatarFile){const k=await LD(i.uid,a.avatarFile);a.avatar=k}await E1(i.uid,{...a,...x}),r({...a,...x})}catch(k){console.error("更新資料失敗",k)}};return m.jsxs("form",{onSubmit:l(y),className:"space-y-4",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h3",{className:"font-bold text-lg leading-7 text-black dark:text-black-0",children:"設定"}),m.jsx(xt.TbX,{className:"w-8 h-8 cursor-pointer hover:text-alert text-black dark:text-black-0",onClick:e})]}),m.jsxs("div",{children:[m.jsx("p",{className:"mb-1 font-normal text-base leading-6 text-black dark:text-black-0",children:"會員頭像"}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("img",{src:a.avatar,alt:"user's avatar",className:"w-12 h-12 rounded-full outline outline-primary-dark dark:outline-primary"}),m.jsxs("div",{className:"space-y-1",children:[m.jsxs("div",{className:"relative inline-block",children:[m.jsx("input",{type:"file",name:"avatar",id:"profile",onChange:_,accept:"image/jpg,image/jpeg,image/png,image/gif",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer hidden"}),m.jsxs("label",{htmlFor:"profile",className:"cursor-pointer bg-primary text-black font-medium text-sm leading-5 py-1 px-2 rounded-lg flex items-center gap-2 hover:bg-primary-dark",children:[m.jsx(GD.TbPhoto,{className:"w-5 h-5"}),"更換頭像"]})]}),m.jsx("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:"您的頭像將會被公開。"})]})]})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"relative group flex items-center mb-2",children:[m.jsx("label",{htmlFor:"name",className:"font-bold text-base leading-6 text-black dark:text-black-0",children:"會員名稱"}),m.jsx(xt.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200 ml-2 inline-block"}),m.jsx("span",{className:"absolute -bottom-1 left-[104px] transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto z-50 before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark whitespace-normal break-words",children:"會員名稱可以是中文、英文、數字或符號，但不得超過 9 個字符"})]}),m.jsx("input",{type:"text",name:"name",id:"name",placeholder:"請輸入會員名稱",className:`px-4 py-1 w-full rounded border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-base leading-6 ${c.name||f.length>9?"mb-1":"mb-4"}`,...s("name",{required:"會員名稱是必填項目",maxLength:{value:9,message:"會員名稱不得超過 9 個字符"}})}),(c.name||f.length>9)&&m.jsx("p",{className:"text-alert dark:text-red-500 mt-1 mb-3",children:c.name?c.name.message:"會員名稱不得超過 9 個字符"})]}),m.jsxs("div",{className:"flex flex-col gap-1",children:[m.jsx("label",{htmlFor:"introduction",className:"mb-1 font-normal text-base leading-6 text-black dark:text-black-0",children:"自我介紹"}),m.jsx("input",{type:"text",name:"introduction",id:"introduction",placeholder:"自我介紹",className:"px-4 py-1 w-full rounded border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-base leading-6",...s("introduction")})]}),m.jsx("div",{className:"border"}),m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:"主題色彩"}),m.jsx("div",{className:"relative w-fit text-nowrap",children:m.jsx(Qa,{options:g,value:h,onChange:v})})]}),m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:"接收 Email 提醒"}),m.jsx("div",{className:"relative w-fit",children:m.jsx(Qa,{options:b,value:p,onChange:x=>o(k=>({...k,isAcceptReminder:x==="true"}))})})]}),m.jsx("button",{type:"submit",className:"text-center w-full bg-primary rounded-xl font-medium text-sm leading-5 py-1 hover:bg-primary-dark",children:"儲存"})]})};T1.propTypes={profileData:G.object.isRequired,handleSaveAndClose:G.func.isRequired,handleSettingModal:G.func.isRequired};const Un=({isOpen:t,children:e})=>{if(!t)return null;const r=$.isValidElement(e)&&e.type===T1;return m.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:m.jsx("div",{className:"rounded-2xl py-6 px-4 w-11/12 md:w-1/3 h-fit bg-black-50 dark:bg-black-600 max-h-[80vh] overflow-auto space-y-4 ",children:e})})};Un.propTypes={isOpen:G.bool.isRequired,children:G.node.isRequired};const A1=({date:t,onSelect:e})=>{const[r]=D.useState(["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]),[n]=D.useState(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),[i,a]=D.useState(null),[o,s]=D.useState(null);D.useEffect(()=>{const g=new Date;s({year:g.getFullYear(),month:g.getMonth(),day:g.getDate()}),a(t?{...t}:{year:g.getFullYear(),month:g.getMonth(),day:g.getDate()})},[t]);const l=()=>{if(!i)return[];const g=[],b=i.year,v=i.month,_=new Date(b,v,1),y=new Date(b,v+1,0),x=_.getDay(),k=y.getDate();for(let T=0;T<x;T++)g.push(null);for(let T=1;T<=k;T++)g.push({value:T,year:b,month:v});return g},c=g=>{u(g)},u=g=>{a(b=>{const v=new Date(b.year,b.month+(g?1:-1),1);return{year:v.getFullYear(),month:v.getMonth(),day:v.getDate()}})},f=g=>{const b={...i,day:g.value,month:g.month,year:g.year};e(b)},h=g=>g&&g.value===o.day&&o.year===g.year&&o.month===g.month;if(!i)return null;const p=`${n[i.month]} ${i.year}`;return m.jsxs("div",{className:"p-4 bg-light dark:bg-black-800 rounded-2xl",children:[m.jsxs("div",{className:"flex justify-between mb-3",children:[m.jsx("button",{onClick:()=>c(!1),children:m.jsx(pm.TbChevronLeft,{className:"w-6 h-6 text-black dark:text-black-0 hover:text-alert"})}),m.jsx("h1",{className:"font-bold text-base leading-6 text-black dark:text-black-0",children:p}),m.jsx("button",{onClick:()=>c(!0),children:m.jsx(pm.TbChevronRight,{className:"w-6 h-6 text-black dark:text-black-0 hover:text-alert"})})]}),m.jsxs("div",{className:"grid grid-cols-7 text-center gap-1",children:[r.map((g,b)=>m.jsx("div",{className:"font-medium text-sm leading-5 text-black dark:text-black-0",children:g},b)),l().map((g,b)=>m.jsx("div",{className:`rounded-full aspect-square flex items-center justify-center cursor-pointer ${h(g)?"bg-primary":"bg-white hover:bg-primary-light"}`,onClick:()=>g&&f(g),children:g?g.value:""},b))]})]})};A1.propTypes={date:G.object,onSelect:G.func};const Qg=({options:t,value:e,onChange:r})=>{const n=a=>{r(a)},i=t.find(a=>a.id===e);return m.jsx("div",{className:"w-full",children:m.jsx("ul",{className:"grid grid-cols-4 gap-2",children:t.map(a=>m.jsxs("li",{className:"w-16 h-fit cursor-pointer flex flex-col items-center gap-1 text-nowrap font-normal text-xs leading-4",onClick:()=>n(a.id),children:[m.jsx("div",{className:`w-10 h-10 rounded-full flex justify-center items-center ${i&&i.id===a.id?"bg-primary":"bg-black-200 hover:bg-primary"}`,children:m.jsx(a.icon,{className:"w-8 h-8"})}),m.jsx("p",{className:"text-black dark:text-black-0",children:a.name})]},a.id))})})};Qg.propTypes={options:G.array.isRequired,value:G.any,onChange:G.func.isRequired};Qg.defaultProps={value:null};let vH={data:""},bH=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||vH,xH=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,wH=/\/\*[^]*?\*\/|  +/g,EA=/\n+/g,Na=(t,e)=>{let r="",n="",i="";for(let a in t){let o=t[a];a[0]=="@"?a[1]=="i"?r=a+" "+o+";":n+=a[1]=="f"?Na(o,a):a+"{"+Na(o,a[1]=="k"?"":e)+"}":typeof o=="object"?n+=Na(o,e?e.replace(/([^,])+/g,s=>a.replace(/(^:.*)|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,s):s?s+" "+l:l)):a):o!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Na.p?Na.p(a,o):a+":"+o+";")}return r+(e&&i?e+"{"+i+"}":i)+n},Pi={},QD=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+QD(t[r]);return e}return t},_H=(t,e,r,n,i)=>{let a=QD(t),o=Pi[a]||(Pi[a]=(l=>{let c=0,u=11;for(;c<l.length;)u=101*u+l.charCodeAt(c++)>>>0;return"go"+u})(a));if(!Pi[o]){let l=a!==t?t:(c=>{let u,f,h=[{}];for(;u=xH.exec(c.replace(wH,""));)u[4]?h.shift():u[3]?(f=u[3].replace(EA," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][u[1]]=u[2].replace(EA," ").trim();return h[0]})(t);Pi[o]=Na(i?{["@keyframes "+o]:l}:l,r?"":"."+o)}let s=r&&Pi.g?Pi.g:null;return r&&(Pi.g=Pi[o]),((l,c,u,f)=>{f?c.data=c.data.replace(f,l):c.data.indexOf(l)===-1&&(c.data=u?l+c.data:c.data+l)})(Pi[o],e,n,s),o},kH=(t,e,r)=>t.reduce((n,i,a)=>{let o=e[a];if(o&&o.call){let s=o(r),l=s&&s.props&&s.props.className||/^go/.test(s)&&s;o=l?"."+l:s&&typeof s=="object"?s.props?"":Na(s,""):s===!1?"":s}return n+i+(o??"")},"");function Jg(t){let e=this||{},r=t.call?t(e.p):t;return _H(r.unshift?r.raw?kH(r,[].slice.call(arguments,1),e.p):r.reduce((n,i)=>Object.assign(n,i&&i.call?i(e.p):i),{}):r,bH(e.target),e.g,e.o,e.k)}let JD,Bb,zb;Jg.bind({g:1});let ta=Jg.bind({k:1});function EH(t,e,r,n){Na.p=e,JD=t,Bb=r,zb=n}function yo(t,e){let r=this||{};return function(){let n=arguments;function i(a,o){let s=Object.assign({},a),l=s.className||i.className;r.p=Object.assign({theme:Bb&&Bb()},s),r.o=/ *go\d+/.test(l),s.className=Jg.apply(r,n)+(l?" "+l:"");let c=t;return t[0]&&(c=s.as||t,delete s.as),zb&&c[0]&&zb(s),JD(c,s)}return i}}var SH=t=>typeof t=="function",mm=(t,e)=>SH(t)?t(e):t,TH=(()=>{let t=0;return()=>(++t).toString()})(),ZD=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),AH=20,gp=new Map,PH=1e3,SA=t=>{if(gp.has(t))return;let e=setTimeout(()=>{gp.delete(t),Es({type:4,toastId:t})},PH);gp.set(t,e)},IH=t=>{let e=gp.get(t);e&&clearTimeout(e)},Wb=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,AH)};case 1:return e.toast.id&&IH(e.toast.id),{...t,toasts:t.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:r}=e;return t.toasts.find(a=>a.id===r.id)?Wb(t,{type:1,toast:r}):Wb(t,{type:0,toast:r});case 3:let{toastId:n}=e;return n?SA(n):t.toasts.forEach(a=>{SA(a.id)}),{...t,toasts:t.toasts.map(a=>a.id===n||n===void 0?{...a,visible:!1}:a)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+i}))}}},yp=[],vp={toasts:[],pausedAt:void 0},Es=t=>{vp=Wb(vp,t),yp.forEach(e=>{e(vp)})},OH={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},CH=(t={})=>{let[e,r]=D.useState(vp);D.useEffect(()=>(yp.push(r),()=>{let i=yp.indexOf(r);i>-1&&yp.splice(i,1)}),[e]);let n=e.toasts.map(i=>{var a,o;return{...t,...t[i.type],...i,duration:i.duration||((a=t[i.type])==null?void 0:a.duration)||(t==null?void 0:t.duration)||OH[i.type],style:{...t.style,...(o=t[i.type])==null?void 0:o.style,...i.style}}});return{...e,toasts:n}},NH=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||TH()}),Od=t=>(e,r)=>{let n=NH(e,t,r);return Es({type:2,toast:n}),n.id},Xr=(t,e)=>Od("blank")(t,e);Xr.error=Od("error");Xr.success=Od("success");Xr.loading=Od("loading");Xr.custom=Od("custom");Xr.dismiss=t=>{Es({type:3,toastId:t})};Xr.remove=t=>Es({type:4,toastId:t});Xr.promise=(t,e,r)=>{let n=Xr.loading(e.loading,{...r,...r==null?void 0:r.loading});return t.then(i=>(Xr.success(mm(e.success,i),{id:n,...r,...r==null?void 0:r.success}),i)).catch(i=>{Xr.error(mm(e.error,i),{id:n,...r,...r==null?void 0:r.error})}),t};var RH=(t,e)=>{Es({type:1,toast:{id:t,height:e}})},jH=()=>{Es({type:5,time:Date.now()})},DH=t=>{let{toasts:e,pausedAt:r}=CH(t);D.useEffect(()=>{if(r)return;let a=Date.now(),o=e.map(s=>{if(s.duration===1/0)return;let l=(s.duration||0)+s.pauseDuration-(a-s.createdAt);if(l<0){s.visible&&Xr.dismiss(s.id);return}return setTimeout(()=>Xr.dismiss(s.id),l)});return()=>{o.forEach(s=>s&&clearTimeout(s))}},[e,r]);let n=D.useCallback(()=>{r&&Es({type:6,time:Date.now()})},[r]),i=D.useCallback((a,o)=>{let{reverseOrder:s=!1,gutter:l=8,defaultPosition:c}=o||{},u=e.filter(p=>(p.position||c)===(a.position||c)&&p.height),f=u.findIndex(p=>p.id===a.id),h=u.filter((p,g)=>g<f&&p.visible).length;return u.filter(p=>p.visible).slice(...s?[h+1]:[0,h]).reduce((p,g)=>p+(g.height||0)+l,0)},[e]);return{toasts:e,handlers:{updateHeight:RH,startPause:jH,endPause:n,calculateOffset:i}}},MH=ta`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,$H=ta`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,LH=ta`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,FH=yo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${MH} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${$H} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${LH} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,VH=ta`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,UH=yo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${VH} 1s linear infinite;
`,BH=ta`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,zH=ta`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,WH=yo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${BH} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${zH} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,qH=yo("div")`
  position: absolute;
`,HH=yo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,KH=ta`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,GH=yo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${KH} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,XH=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?D.createElement(GH,null,e):e:r==="blank"?null:D.createElement(HH,null,D.createElement(UH,{...n}),r!=="loading"&&D.createElement(qH,null,r==="error"?D.createElement(FH,{...n}):D.createElement(WH,{...n})))},YH=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,QH=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,JH="0%{opacity:0;} 100%{opacity:1;}",ZH="0%{opacity:1;} 100%{opacity:0;}",eK=yo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,tK=yo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,rK=(t,e)=>{let r=t.includes("top")?1:-1,[n,i]=ZD()?[JH,ZH]:[YH(r),QH(r)];return{animation:e?`${ta(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ta(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},nK=D.memo(({toast:t,position:e,style:r,children:n})=>{let i=t.height?rK(t.position||e||"top-center",t.visible):{opacity:0},a=D.createElement(XH,{toast:t}),o=D.createElement(tK,{...t.ariaProps},mm(t.message,t));return D.createElement(eK,{className:t.className,style:{...i,...r,...t.style}},typeof n=="function"?n({icon:a,message:o}):D.createElement(D.Fragment,null,a,o))});EH(D.createElement);var iK=({id:t,className:e,style:r,onHeightUpdate:n,children:i})=>{let a=D.useCallback(o=>{if(o){let s=()=>{let l=o.getBoundingClientRect().height;n(t,l)};s(),new MutationObserver(s).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return D.createElement("div",{ref:a,className:e,style:r},i)},aK=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:ZD()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...i}},oK=Jg`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Nh=16,sK=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:i,containerStyle:a,containerClassName:o})=>{let{toasts:s,handlers:l}=DH(r);return D.createElement("div",{style:{position:"fixed",zIndex:9999,top:Nh,left:Nh,right:Nh,bottom:Nh,pointerEvents:"none",...a},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},s.map(c=>{let u=c.position||e,f=l.calculateOffset(c,{reverseOrder:t,gutter:n,defaultPosition:e}),h=aK(u,f);return D.createElement(iK,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?oK:"",style:h},c.type==="custom"?mm(c.message,c):i?i(c):D.createElement(nK,{toast:c,position:u}))}))},Ul=Xr;const eM=({habitData:t,handleHabitChange:e,handleAddHabit:r,handleFocus:n,showMonthCalendar:i,calendarRef:a,handleHabitModal:o,habitCategories:s,setHabitData:l,monthCalendarDate:c,handleMonthCalendarSelectDate:u,setCalendarTarget:f,setShowMonthCalendar:h})=>{const[p,g]=D.useState(t.frequency.days||[]),[b,v]=D.useState({});D.useEffect(()=>{g(t.frequency.days||[])},[t.frequency.days]);const _=I=>{const R=p.includes(I)?p.filter(N=>N!==I):[...p,I];g(R),l(N=>({...N,frequency:{...N.frequency,days:R}}))},y=D.useRef(null),x=D.useRef(null),k=()=>{f("startDate"),h(!0)},T=()=>{f("endDate"),h(!0)},C=()=>{const I={};return t.title||(I.title="請輸入習慣名稱"),!t.category&&t.category!==0&&(I.category="請選擇習慣類別"),t.frequency.type||(I.frequency="請選擇習慣頻率"),t.frequency.type==="specificDays"&&p.length===0&&(I.days="請選擇至少一天"),t.type||(I.type="請選擇習慣類型"),t.amount||(I.amount="請輸入罰款金額"),t.startDate||(I.startDate="請選擇開始日期"),t.endDate||(I.endDate="請選擇結束日期"),v(I),Object.keys(I).length===0},S=()=>{if(!C()){P();return}r()},E=I=>{const{name:R,value:N}=I.target;e(I),v(O=>{const F={...O};return N&&delete F[R],F})},P=()=>{Xr.error("沒有完整填寫資料的話，沒辦法送出喔！",{style:{borderRadius:"16px",background:"#212121",color:"#fff"},duration:3e3})};return m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex justify-between items-center gap-4",children:[m.jsx("div",{className:"flex items-center gap-4 w-full",children:m.jsx("input",{type:"text",name:"title",placeholder:"輸入習慣名稱",className:"py-1.5 px-4 w-full rounded-xl border caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-sm leading-5 dark:bg-black-100 placeholder-black",value:t.title,onChange:E})}),m.jsx(xt.TbX,{className:"w-6 h-6 hover:text-alert cursor-pointer text-black dark:text-black-0",onClick:o})]}),m.jsxs("div",{className:"flex justify-between items-start gap-4",children:[m.jsxs("div",{className:"relative flex items-center gap-1 group",children:[m.jsxs("label",{htmlFor:"category",className:"text-nowrap text-black dark:text-black-0 group-hover:relative",children:["習慣類別",m.jsx("span",{className:"absolute -bottom-1 left-24 transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto z-50 before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"你想要培養什麼類別的習慣呢？"})]}),m.jsx(xt.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200"})]}),m.jsx(Qg,{options:s,value:t.category,onChange:I=>E({target:{name:"category",value:I}})})]}),m.jsxs("div",{className:"flex justify-between gap-4",children:[m.jsxs("div",{className:"relative flex items-center gap-1 group",children:[m.jsxs("label",{htmlFor:"frequency",className:"text-nowrap text-black dark:text-black-0 group-hover:relative",children:["習慣頻率",m.jsx("span",{className:"absolute -bottom-1 left-24 transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"你想要怎麼安排習慣頻率呢？"})]}),m.jsx(xt.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200"})]}),m.jsxs("div",{className:"w-full grid grid-cols-3 gap-3",children:[m.jsxs("div",{children:[m.jsx("input",{type:"radio",name:"frequency",id:"daily",value:"daily",className:"appearance-none hidden",checked:t.frequency.type==="daily",onChange:E}),m.jsx("label",{htmlFor:"daily",className:`font-normal text-sm leading-5 block text-center py-px rounded border ${t.frequency.type==="daily"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"每日"})]}),m.jsxs("div",{children:[m.jsx("input",{type:"radio",name:"frequency",id:"weekly",value:"weekly",className:"appearance-none hidden",checked:t.frequency.type==="weekly",onChange:E}),m.jsx("label",{htmlFor:"weekly",className:`font-normal text-sm leading-5 block text-center py-px rounded border ${t.frequency.type==="weekly"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"每週"})]}),m.jsxs("div",{children:[m.jsx("input",{type:"radio",name:"frequency",id:"specificDays",value:"specificDays",className:"appearance-none hidden",checked:t.frequency.type==="specificDays",onChange:E}),m.jsx("label",{htmlFor:"specificDays",className:`font-normal text-sm leading-5 block text-center py-px rounded border ${t.frequency.type==="specificDays"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"特定日期"})]})]})]}),t.frequency.type==="specificDays"&&m.jsx("div",{className:"grid grid-cols-7 gap-2 md:gap-4",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((I,R)=>m.jsxs("div",{className:"text-center flex flex-col justify-center items-center gap-1 text-black dark:text-black-0",children:[I,m.jsx(S1.TbCheck,{className:`w-10 h-10 rounded-full p-1 border border-black-500 dark:border-black-300 ${p.includes(I)?"bg-primary text-white border-primary dark:border-primary":"text-black dark:text-black-0 hover:bg-primary-light"}`,onClick:()=>_(I)})]},R))}),m.jsxs("div",{className:"flex justify-between gap-4",children:[m.jsxs("div",{className:"relative flex items-center gap-1 group",children:[m.jsxs("label",{htmlFor:"type",className:"text-nowrap text-black dark:text-black-0 group-hover:relative",children:["習慣類型",m.jsx("span",{className:"absolute -bottom-1 left-24 transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"你想要養成還是戒除呢？"})]}),m.jsx(xt.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200"})]}),m.jsxs("div",{className:"w-full grid grid-cols-2 gap-3",children:[m.jsxs("div",{children:[m.jsx("input",{type:"radio",name:"type",id:"to-do",value:"to-do",className:"appearance-none hidden",checked:t.type==="to-do",onChange:E}),m.jsx("label",{htmlFor:"to-do",className:`font-normal text-sm leading-5 block text-center py-px rounded border ${t.type==="to-do"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"養成"})]}),m.jsxs("div",{children:[m.jsx("input",{type:"radio",name:"type",id:"not-to-do",value:"not-to-do",className:"appearance-none hidden",checked:t.type==="not-to-do",onChange:E}),m.jsx("label",{htmlFor:"not-to-do",className:`font-normal text-sm leading-5 block text-center py-px rounded border ${t.type==="not-to-do"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"戒除"})]})]})]}),m.jsxs("div",{className:"flex justify-between gap-4",children:[m.jsxs("div",{className:"relative flex items-center gap-1 group",children:[m.jsxs("label",{htmlFor:"amount",className:"text-nowrap text-black dark:text-black-0 group-hover:relative",children:["習慣罰款",m.jsx("span",{className:"absolute -bottom-1 left-24 transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"如果沒完成習慣，你想支付多少罰款呢？"})]}),m.jsx(xt.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200"})]}),m.jsxs("div",{className:"flex gap-2 w-full",children:[m.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:"NT$"}),m.jsx("input",{type:"number",name:"amount",id:"amount",className:"px-4 text-end w-full rounded border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-sm leading-5 no-spinner dark:bg-black-100 dark:placeholder-black-400",placeholder:"請輸入未完成習慣的罰款",value:t.amount,onChange:E,min:0,onKeyDown:I=>I.key==="-"&&I.preventDefault()})]})]}),m.jsxs("div",{className:"flex justify-between gap-4 w-full",children:[m.jsxs("div",{className:"relative flex items-center gap-1 group",children:[m.jsxs("label",{htmlFor:"time",className:"text-nowrap text-black dark:text-black-0 group-hover:relative",children:["養成期間",m.jsx("span",{className:"absolute -bottom-1 left-24 transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto z-50 before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"你想要在什麼時候培養這個習慣呢？"})]}),m.jsx(xt.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200"})]}),m.jsxs("div",{className:"border border-black-300 w-full rounded py-0.5 px-4 flex justify-between items-center bg-black-0 dark:bg-black-100 relative",children:[m.jsx("button",{className:"text-center w-1/2 font-normal text-sm leading-5 text-black",onClick:k,children:t.startDate||"開始日期"}),m.jsx("p",{className:"px-2 text-black dark:text-black-0-300 font-normal text-sm leading-5",children:"-"}),m.jsx("button",{className:"text-center w-1/2 font-normal text-sm leading-5 text-black",onClick:T,children:t.endDate||"結束日期"})]}),m.jsx("input",{type:"text",name:"startDate",id:"startDate",className:"hidden",ref:y,placeholder:"開始日期",value:t.startDate,onFocus:()=>n("startDate"),onChange:E}),m.jsx("input",{type:"text",name:"endDate",id:"endDate",className:"hidden",ref:x,placeholder:"結束日期",value:t.endDate,onFocus:()=>n("endDate"),onChange:E}),i&&m.jsx("div",{ref:a,className:"w-3/5 md:w-1/6 absolute bottom-0 md:-bottom-12 2xl:-bottom-16 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-10",children:m.jsx(A1,{date:c,onSelect:u})})]}),m.jsx("div",{className:"space-y-2",children:m.jsx("button",{className:"w-full rounded-lg bg-primary font-medium text-sm leading-5 py-1 hover:bg-primary-dark",onClick:S,children:"養成習慣"})})]})};eM.propTypes={habitData:G.object.isRequired,handleHabitChange:G.func.isRequired,handleAddHabit:G.func.isRequired,handleFocus:G.func.isRequired,showMonthCalendar:G.bool.isRequired,calendarTarget:G.string.isRequired,selectedDate:G.object.isRequired,handleSelectDate:G.func.isRequired,calendarRef:G.object.isRequired,handleHabitModal:G.func.isRequired,habitCategories:G.array.isRequired,setHabitData:G.func.isRequired,monthCalendarDate:G.object.isRequired,handleMonthCalendarSelectDate:G.func.isRequired,setCalendarTarget:G.func.isRequired,setShowMonthCalendar:G.func.isRequired};const P1=({selectedHabit:t,handleDetailModal:e,uncompletedFine:r,handleEditModal:n,habitCategories:i})=>{const a=i.find(u=>u.id===t.category),o=a?a.icon:null,s=u=>{switch(u.type){case"daily":return"每日";case"weekly":return"每週";case"specificDays":return"特定日期";default:return""}},l=[{bottom:0,left:0},{bottom:2,left:-1},{bottom:-1,left:-2},{bottom:2,left:0},{bottom:1,left:-1},{bottom:2,left:-2},{bottom:-2,left:1},{bottom:2,left:1}],c=u=>{const f=u.bottom>=0?`bottom-${u.bottom}`:`-bottom-${Math.abs(u.bottom)}`,h=u.left>=0?`left-${u.left}`:`-left-${Math.abs(u.left)}`;return`${f} ${h}`};return m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{className:"flex gap-4 items-center",children:[m.jsx("div",{className:"w-10 h-10 bg-primary rounded-full flex items-center justify-center",children:o&&m.jsx(o,{className:"w-8 h-8"})}),m.jsx("div",{className:"flex flex-col",children:m.jsx("div",{className:"flex items-center gap-2",children:m.jsx("h3",{className:"font-bold text-lg leading-6 text-black dark:text-black-0",children:t.title})})})]}),m.jsx(xt.TbX,{className:"w-6 h-6 hover:text-alert cursor-pointer text-black dark:text-black-0",onClick:e})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("h3",{className:"text-black dark:text-black-0",children:"養成頻率："}),m.jsx("p",{className:"text-black dark:text-black-0",children:s(t.frequency)})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("h3",{className:"text-black dark:text-black-0",children:"養成期間："}),m.jsxs("p",{className:"text-black dark:text-black-0",children:[t.startDate,"～",t.endDate]})]}),m.jsx("div",{className:"grid grid-cols-5 md:grid-cols-7 2xl:grid-cols-10 gap-2 md:gap-3 max-h-40 overflow-y-auto overflow-x-hidden",children:t.status.map((u,f)=>m.jsx("div",{className:"border border-black-500 dark:border-black-300 rounded aspect-square bg-black-50 relative",children:u.completed&&m.jsx("div",{className:`border-2 border-alert rounded-full aspect-square flex justify-center items-center absolute ${c(l[f%l.length])}`,children:m.jsx("p",{className:"font-lobster font-normal text-sm leading-5 text-alert -rotate-[30deg] p-1 w-12 h-10 flex items-center justify-center",children:new Date(u.date).toLocaleDateString("zh-TW",{month:"2-digit",day:"2-digit"})})})},f))}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("p",{className:"text-black dark:text-black-0",children:"累積存款："}),m.jsxs("p",{className:"text-black dark:text-black-0",children:["NT$ ",r]})]}),m.jsx("button",{className:"py-1 w-full bg-primary hover:bg-primary-dark rounded-lg font-medium text-sm leading-5",onClick:()=>n(t),children:"編輯習慣"})]})};P1.propTypes={selectedHabit:G.object.isRequired,handleDetailModal:G.func.isRequired,handlePostModal:G.func.isRequired,uncompletedFine:G.number.isRequired,handleEditModal:G.func.isRequired,habitCategories:G.array.isRequired};const I1=({habitData:t,handleHabitChange:e,handleUpdateHabit:r,handleDeleteHabit:n,handleFocus:i,showMonthCalendar:a,calendarRef:o,handleEditModal:s,habitCategories:l,setHabitData:c,monthCalendarDate:u,handleMonthCalendarSelectDate:f,setCalendarTarget:h,setShowMonthCalendar:p})=>{const[g,b]=D.useState(t.frequency.days||[]),[v,_]=D.useState({}),[y,x]=D.useState(!1),[k,T]=D.useState(null);D.useEffect(()=>{b(t.frequency.days||[])},[t.frequency.days]);const C=W=>{const H=g.includes(W)?g.filter(X=>X!==W):[...g,W];b(H),c(X=>{const V={...X.frequency,days:H},Q=S(X.startDate,X.endDate,V);return{...X,frequency:V,status:Q}})},S=(W,H,X)=>{const V=new Date(W),Q=new Date(H),ee=[];if(X.type==="daily")for(let oe=V;oe<=Q;oe.setDate(oe.getDate()+1))ee.push({date:new Date(oe).toDateString(),completed:!1});else if(X.type==="weekly")for(let oe=V;oe<=Q;oe.setDate(oe.getDate()+7))ee.push({date:new Date(oe).toDateString(),completed:!1});else if(X.type==="specificDays"){const oe=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Z=X.days||[];for(let le=V;le<=Q;le.setDate(le.getDate()+1))Z.includes(oe[le.getDay()])&&ee.push({date:new Date(le).toDateString(),completed:!1})}return ee},E=D.useRef(null),P=D.useRef(null),I=()=>{h("startDate"),p(!0)},R=()=>{h("endDate"),p(!0)},N=()=>{const W={};return t.title||(W.title="請輸入習慣名稱"),!t.category&&t.category!==0&&(W.category="請選擇習慣類別"),t.frequency.type||(W.frequency="請選擇習慣頻率"),t.frequency.type==="specificDays"&&g.length===0&&(W.days="請選擇至少一天"),t.type||(W.type="請選擇習慣類型"),t.amount||(W.amount="請輸入罰款金額"),t.startDate||(W.startDate="請選擇開始日期"),t.endDate||(W.endDate="請選擇結束日期"),_(W),Object.keys(W).length===0},O=()=>{N()&&r()},F=W=>{const{name:H,value:X}=W.target;e(W),_(V=>{const Q={...V};return X&&delete Q[H],Q})};return m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex justify-between items-center gap-4",children:[m.jsx("div",{className:"flex items-center gap-4 w-full",children:m.jsx("input",{type:"text",name:"title",placeholder:"輸入習慣名稱",className:"py-1.5 px-4 w-full rounded-xl border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-sm leading-5 dark:bg-black-100 dark:placeholder-black",value:t.title,onChange:F})}),m.jsx(xt.TbX,{className:"w-6 h-6 hover:text-alert cursor-pointer text-black dark:text-black-0",onClick:s})]}),m.jsxs("div",{className:"flex justify-between items-start gap-4",children:[m.jsxs("div",{className:"relative flex items-center gap-1 group",children:[m.jsxs("label",{htmlFor:"category",className:"text-nowrap text-black dark:text-black-0 group-hover:relative",children:["習慣類別",m.jsx("span",{className:"absolute -bottom-1 left-24 transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto z-50 before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"你想要培養什麼類別的習慣呢？"})]}),m.jsx(xt.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200"})]}),m.jsx(Qg,{options:l,value:t.category,onChange:W=>e({target:{name:"category",value:W}})})]}),m.jsxs("div",{className:"flex justify-between gap-4",children:[m.jsxs("div",{className:"relative flex items-center gap-1 group",children:[m.jsxs("label",{htmlFor:"frequency",className:"text-nowrap text-black dark:text-black-0 group-hover:relative",children:["習慣頻率",m.jsx("span",{className:"absolute -bottom-1 left-24 transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"你想要怎麼安排習慣頻率呢？"})]}),m.jsx(xt.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200"})]}),m.jsxs("div",{className:"w-full grid grid-cols-3 gap-3",children:[m.jsxs("div",{children:[m.jsx("input",{type:"radio",name:"frequency",id:"daily",value:"daily",className:"appearance-none hidden",checked:t.frequency.type==="daily",onChange:F}),m.jsx("label",{htmlFor:"daily",className:`font-normal text-sm leading-5 block text-center py-px rounded border ${t.frequency.type==="daily"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"每日"})]}),m.jsxs("div",{children:[m.jsx("input",{type:"radio",name:"frequency",id:"weekly",value:"weekly",className:"appearance-none hidden",checked:t.frequency.type==="weekly",onChange:F}),m.jsx("label",{htmlFor:"weekly",className:`font-normal text-sm leading-5 block text-center py-px rounded border ${t.frequency.type==="weekly"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"每週"})]}),m.jsxs("div",{children:[m.jsx("input",{type:"radio",name:"frequency",id:"specificDays",value:"specificDays",className:"appearance-none hidden",checked:t.frequency.type==="specificDays",onChange:F}),m.jsx("label",{htmlFor:"specificDays",className:`font-normal text-sm leading-5 block text-center py-px rounded border ${t.frequency.type==="specificDays"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"特定日期"})]})]})]}),t.frequency.type==="specificDays"&&m.jsx("div",{className:"grid grid-cols-7 gap-2 md:gap-4",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((W,H)=>m.jsxs("div",{className:"text-center flex flex-col justify-center items-center gap-1 text-black dark:text-black-0",children:[W,m.jsx(S1.TbCheck,{className:`w-10 h-10 rounded-full p-1 border border-black-500 ${g.includes(W)?"bg-primary text-white border-primary":"text-black dark:text-black-0 hover:bg-primary-light"}`,onClick:()=>C(W)})]},H))}),m.jsxs("div",{className:"flex justify-between gap-4",children:[m.jsxs("div",{className:"relative flex items-center gap-1 group",children:[m.jsxs("label",{htmlFor:"type",className:"text-nowrap text-black dark:text-black-0 group-hover:relative",children:["習慣類型",m.jsx("span",{className:"absolute -bottom-1 left-24 transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"你想要養成還是戒除呢？"})]}),m.jsx(xt.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200"})]}),m.jsxs("div",{className:"w-full grid grid-cols-2 gap-3",children:[m.jsxs("div",{children:[m.jsx("input",{type:"radio",name:"type",id:"to-do",value:"to-do",className:"appearance-none hidden",checked:t.type==="to-do",onChange:F}),m.jsx("label",{htmlFor:"to-do",className:`font-normal text-sm leading-5 block text-center py-px rounded border ${t.type==="to-do"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"養成"})]}),m.jsxs("div",{children:[m.jsx("input",{type:"radio",name:"type",id:"not-to-do",value:"not-to-do",className:"appearance-none hidden",checked:t.type==="not-to-do",onChange:F}),m.jsx("label",{htmlFor:"not-to-do",className:`font-normal text-sm leading-5 block text-center py-px rounded border ${t.type==="not-to-do"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"戒除"})]})]})]}),m.jsxs("div",{className:"flex justify-between gap-4",children:[m.jsxs("div",{className:"relative flex items-center gap-1 group",children:[m.jsxs("label",{htmlFor:"amount",className:"text-nowrap text-black dark:text-black-0 group-hover:relative",children:["習慣罰款",m.jsx("span",{className:"absolute -bottom-1 left-24 transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"如果沒完成習慣，你想支付多少罰款呢？"})]}),m.jsx(xt.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200"})]}),m.jsxs("div",{className:"flex gap-2 w-full",children:[m.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:"NT$"}),m.jsx("input",{type:"number",name:"amount",id:"amount",className:"px-4 text-end w-full rounded border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-sm leading-5 no-spinner dark:bg-black-100 dark:placeholder-black",placeholder:"請輸入未完成習慣的罰款金額",value:t.amount,onChange:F,min:0,onKeyDown:W=>W.key==="-"&&W.preventDefault()})]})]}),m.jsxs("div",{className:"flex justify-between gap-4 w-full",children:[m.jsxs("div",{className:"relative flex items-center gap-1 group",children:[m.jsxs("label",{htmlFor:"time",className:"text-nowrap text-black dark:text-black-0 group-hover:relative",children:["養成期間",m.jsx("span",{className:"absolute -bottom-1 left-24 transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto z-50 before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"你想要在什麼時候培養這個習慣呢？"})]}),m.jsx(xt.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200"})]}),m.jsxs("div",{className:"border border-black-300 w-full rounded py-0.5 px-4 flex justify-between items-center bg-black-0 dark:bg-black-100 relative",children:[m.jsx("button",{className:"text-center w-1/2 font-normal text-sm leading-5 text-black",onClick:I,children:t.startDate||"開始日期"}),m.jsx("p",{className:"px-2 text-black font-normal text-sm leading-5",children:"-"}),m.jsx("button",{className:"text-center w-1/2 font-normal text-sm leading-5 text-black",onClick:R,children:t.endDate||"結束日期"})]}),m.jsx("input",{type:"text",name:"startDate",id:"startDate",className:"hidden",ref:E,placeholder:"開始日期",value:t.startDate,onFocus:()=>i("startDate"),onChange:F}),m.jsx("input",{type:"text",name:"endDate",id:"endDate",className:"hidden",ref:P,placeholder:"結束日期",value:t.endDate,onFocus:()=>i("endDate"),onChange:F}),a&&m.jsx("div",{ref:o,className:"w-3/5 md:w-1/6 absolute bottom-0 md:-bottom-12 2xl:-bottom-16 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-10",children:m.jsx(A1,{date:u,onSelect:f})})]}),m.jsxs("div",{className:"space-y-2",children:[v.title&&m.jsx("p",{className:"text-alert text-sm leading-5",children:v.title}),v.category&&m.jsx("p",{className:"text-alert text-sm leading-5",children:v.category}),v.frequency&&m.jsx("p",{className:"text-alert text-sm leading-5",children:v.frequency}),v.days&&m.jsx("p",{className:"text-alert text-sm leading-5",children:v.days}),v.type&&m.jsx("p",{className:"text-alert text-sm leading-5",children:v.type}),v.amount&&m.jsx("p",{className:"text-alert text-sm leading-5",children:v.amount}),v.startDate&&m.jsx("p",{className:"text-alert text-sm leading-5",children:v.startDate}),v.endDate&&m.jsx("p",{className:"text-alert text-sm leading-5",children:v.endDate}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsx("button",{className:"w-full py-1 font-normal text-sm leading-5 bg-alert text-white rounded-lg",onClick:()=>{T(()=>n),x(!0)},children:"刪除習慣"}),m.jsx("button",{className:"w-full py-1 font-normal text-sm leading-5 bg-primary rounded-lg hover:bg-primary-dark",onClick:()=>{T(()=>O),x(!0)},children:"更新習慣"}),y&&m.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:m.jsxs("div",{className:"bg-white dark:bg-black-800 p-4 rounded-xl shadow-lg",children:[m.jsx("p",{className:"text-black dark:text-white mb-4",children:"你確定要執行這個操作嗎？"}),m.jsxs("div",{className:"flex justify-end gap-2",children:[m.jsx("button",{className:"py-1 px-3 bg-gray-300 rounded-lg",onClick:()=>x(!1),children:"取消"}),m.jsx("button",{className:"py-1 px-3 bg-primary rounded-lg text-black",onClick:()=>{k(),x(!1)},children:"確認"})]})]})})]})]})]})};I1.propTypes={habitData:G.object.isRequired,handleHabitChange:G.func.isRequired,handleUpdateHabit:G.func.isRequired,handleDeleteHabit:G.func.isRequired,handleFocus:G.func.isRequired,showMonthCalendar:G.bool.isRequired,calendarTarget:G.string.isRequired,selectedDate:G.object.isRequired,handleSelectDate:G.func.isRequired,calendarRef:G.object.isRequired,handleEditModal:G.func.isRequired,habitCategories:G.array.isRequired,setHabitData:G.func.isRequired,monthCalendarDate:G.object.isRequired,handleMonthCalendarSelectDate:G.func.isRequired,setCalendarTarget:G.func.isRequired,setShowMonthCalendar:G.func.isRequired};const O1=({habits:t,habitCategories:e,handleDetailClick:r,weekDates:n,handleCheck:i})=>{const a=ys(),o=s=>{switch(s){case"to-do":return"養成";case"not-to-do":return"戒除";default:return""}};return m.jsx("ul",{className:`space-y-4 mt-2 ${a.pathname==="/home"?"p-4":""}`,children:Array.isArray(t)&&t.map(s=>{const l=new Date;l.setHours(0,0,0,0);const c=new Date(s.endDate);c.setHours(0,0,0,0);const u=c<l,f=e.find(p=>p.id===s.category),h=f?f.icon:null;return m.jsxs("li",{className:`p-4 rounded-2xl ${u?"bg-black-300 hover:bg-black-200 dark:bg-black-800 dark:hover:bg-black-900":"bg-black-50 dark:bg-black-500 hover:bg-black-0 dark:hover:bg-black-600"}`,children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"w-10 h-10 bg-primary rounded-full flex items-center justify-center",children:h&&m.jsx(h,{className:"w-8 h-8"})}),m.jsxs("div",{className:"flex flex-col",children:[m.jsx("h3",{className:"font-bold text-base leading-6 text-black dark:text-black-0",children:s.title}),m.jsxs("div",{className:"flex",children:[m.jsxs("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:[o(s.type),"｜罰款 $",s.amount,"｜已達成 ",s.status.filter(p=>p.completed).length]}),m.jsxs("p",{className:"text-black-500 dark:text-black-300 font-normal text-sm leading-5",children:["/",s.status.length]})]})]})]}),m.jsx("button",{className:"text-black dark:text-black-0 hover:text-alert",onClick:()=>r(s),children:m.jsx(pH.TbCalendarSmile,{className:"w-6 h-6 md:w-8 md:h-8"})})]}),n&&m.jsxs("div",{className:"grid grid-cols-7 gap-y-1",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((p,g)=>m.jsx("div",{className:"text-center text-sm leading-5 md:font-normal md:text-base md:leading-6 text-black dark:text-black-0",children:p},g)),n.map((p,g)=>{const b=s.status.find(v=>new Date(v.date).toDateString()===new Date(p.year,p.month,p.day).toDateString());return m.jsx("div",{className:"flex flex-col items-center",children:b?u&&!b.completed?m.jsx(xt.TbX,{className:"w-10 h-10 md:w-12 md:h-12 border-2 rounded-full bg-alert text-black-0 border-alert cursor-not-allowed"}):m.jsx(S1.TbCheck,{className:`w-10 h-10 md:w-12 md:h-12 border-2 rounded-full ${b.completed?"bg-primary text-black-0 border-primary":"text-black-500 dark:text-black-0 border-black-500 dark:border-black-300"} ${u?"cursor-not-allowed":"cursor-pointer hover:bg-primary-light"}`,onClick:()=>!u&&b&&i(s.id,b.date),disabled:!b}):m.jsx("div",{className:`w-10 h-10 md:w-12 md:h-12 rounded-full cursor-not-allowed border-2 border-dashed ${u?"bg-black-transparent border-black-500":"bg-transparent border-black-300"}`})},g)})]})]},s.id)})})};O1.propTypes={habits:G.array.isRequired,habitCategories:G.array.isRequired,handleDetailClick:G.func.isRequired,weekDates:G.array,handleCheck:G.func};function lK(){const[t,e]=D.useState(!1),[r,n]=D.useState(!1),[i,a]=D.useState(!1),[o,s]=D.useState({category:null,title:"",frequency:{type:"daily"},amount:0,startDate:"",endDate:"",status:[],type:""}),[l,c]=D.useState([]),[u,f]=D.useState(null),[h,p]=D.useState(!1),[g,b]=D.useState(""),[v,_]=D.useState(null),[y,x]=D.useState([]),[k,T]=D.useState(0),[C,S]=D.useState(null),E=D.useRef(null),{user:P}=D.useContext(Qn),I=[{id:0,name:"生產力",icon:Er.TbRocket},{id:1,name:"個人成長",icon:Er.TbBook},{id:2,name:"運動健身",icon:Er.TbWalk},{id:3,name:"飲食健康",icon:Er.TbBowlChopsticks},{id:4,name:"心靈成長",icon:Er.TbMoodHeart},{id:5,name:"手作興趣",icon:Er.TbHandGrab},{id:6,name:"財務管理",icon:Er.TbCash},{id:7,name:"環境生活",icon:Er.TbPlant}];D.useEffect(()=>{P&&N()},[P]),D.useEffect(()=>{const se=M=>{E.current&&!E.current.contains(M.target)&&p(!1)};return document.addEventListener("mousedown",se),()=>{document.removeEventListener("mousedown",se)}},[]),D.useEffect(()=>{const se=new Date;f({year:se.getFullYear(),month:se.getMonth(),day:se.getDate()}),S({year:se.getFullYear(),month:se.getMonth(),day:se.getDate()})},[]);const R=(se,M,U)=>{const B=new Date(se),L=new Date(M),z=new Date(U);return B.setHours(0,0,0,0),L.setHours(0,0,0,0),z.setHours(23,59,59,999),B>=L&&B<=z},N=async(se=null)=>{const M=await cs(P.uid),U=se?new Date(se.year,se.month,se.day):new Date,B=M.filter(L=>R(U,L.startDate,L.endDate));c(B||[])},O=()=>{e(!t),s({category:null,title:"",frequency:"daily",amount:0,startDate:"",endDate:"",status:[],type:""})},F=()=>{n(!r)},W=se=>{s({category:se.category,title:se.title,frequency:se.frequency,amount:se.amount,startDate:se.startDate,endDate:se.endDate,status:se.status,type:se.type}),n(!1),a(!i)},H=se=>{const{name:M,value:U}=se.target;if(M==="frequency"){let B;U==="specificDays"?B={type:U,days:o.frequency.days||[]}:B={type:U};const L=X(o.startDate,o.endDate,B);s(z=>({...z,frequency:B,status:L}))}else if(M==="startDate"||M==="endDate"){const B={...o,[M]:U},L=X(B.startDate,B.endDate,B.frequency);s(z=>({...z,[M]:U,status:L}))}else s(B=>({...B,[M]:U}))},X=(se,M,U)=>{const B=new Date(se),L=new Date(M),z=[];if(U.type==="daily")for(let K=B;K<=L;K.setDate(K.getDate()+1))z.push({date:new Date(K).toDateString(),completed:!1});else if(U.type==="weekly")for(let K=new Date(B);K<=L;K.setDate(K.getDate()+7)){const ne=new Date(K);ne.setDate(ne.getDate()+(6-ne.getDay())),ne<=L&&z.push({date:ne.toDateString(),completed:!1})}else if(U.type==="specificDays"){const K=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ne=Object.values(U.days)||[];for(let ve=new Date(B);ve<=L;ve.setDate(ve.getDate()+1))ne.includes(K[ve.getDay()])&&z.push({date:new Date(ve).toDateString(),completed:!1})}return z},V=async()=>{if(P){const se=new Date(o.startDate);if(new Date(o.endDate)<=se){alert("結束日期必須晚於開始日期");return}const U=X(o.startDate,o.endDate,o.frequency),B={...o,status:U};await uq(P.uid,B),await _l(P.uid),await Bu(P.uid),N(),O(),s({category:null,title:"",frequency:{type:"daily"},amount:0,startDate:"",endDate:"",status:[],type:""}),we()}else console.error("User not authenticated")},Q=async()=>{if(P&&v){const se=new Date(o.startDate);if(new Date(o.endDate)<=se){Xe();return}const B={...v,...o,id:v.id};await Ub(P.uid,v.id,B),await _l(P.uid),await Bu(P.uid);const L=await Vu(P.uid,"habit");await Uu(P.uid,"habit",L),N(),a(!1),n(!1),J()}else console.error("User not authenticated or habit not selected")},ee=async()=>{if(P&&v){await $D(P.uid,v.id),await _l(P.uid),await Bu(P.uid);const se=await Vu(P.uid,"habit");await Uu(P.uid,"habit",se);const M=await cs(P.uid);c(M),M.filter(B=>B.category===v.category).length===0&&await VD(P.uid,v.category),N(),a(!1),n(!1),Ve()}else console.error("User not authenticated or habit not selected")},oe=async se=>{f(se),await N(se),g&&(s(M=>({...M,[g]:`${se.year}-${String(se.month+1).padStart(2,"0")}-${String(se.day).padStart(2,"0")}`})),p(!1),b(""))},Z=se=>{if(S(se),g){const M=`${se.year}-${String(se.month+1).padStart(2,"0")}-${String(se.day).padStart(2,"0")}`;s(U=>({...U,[g]:M})),p(!1),b("")}},le=se=>{b(se),p(!0)},Ee=async(se,M)=>{try{const U=await ii(se),B=Number(U.levelPoints),L=Number(M),z=B+L;await E1(se,{levelPoints:z})}catch(U){console.error("Error getting user profile: ",U)}},je=async(se,M)=>{const U=l.map(L=>{if(L.id===se){const z=L.status.map(K=>{if(new Date(K.date).toDateString()===new Date(M).toDateString()){const ne=!K.completed;return ne?(Ee(P.uid,L.amount),Pe()):(Ee(P.uid,-L.amount),Ge()),{...K,completed:ne}}return K});return{...L,status:z}}return L});c(U);const B=U.find(L=>L.id===se);try{await Ub(P.uid,se,B),await Mt("habit")}catch(L){console.error("Error updating habit in Firestore: ",L)}},et=se=>{const M=new Date;return M.setHours(0,0,0,0),se.status.filter(B=>{const L=new Date(B.date);return L.setHours(0,0,0,0),L<M&&!B.completed}).length*se.amount},Fe=se=>{_(se),T(et(se)),n(!0)},Mt=async se=>{if(!(!P||!P.uid))try{const M=await Vu(P.uid,se);await Uu(P.uid,se,M)}catch(M){console.error("Error handling achievements: ",M)}},ce=se=>{Ul(se,{icon:m.jsx("img",{src:Yg,alt:"Habit Piggy Logo",style:{width:"40px",height:"40px"}}),style:{borderRadius:"16px",background:"#212121",color:"#fff"},duration:3e3})},be=se=>{Ul.error(se,{style:{borderRadius:"16px",background:"#212121",color:"#fff"},duration:3e3})},we=()=>ce("從今天開始培養習慣吧！"),J=()=>ce("人要時時刻刻做好準備！"),Ve=()=>ce("這段感情只有我在付出🥲"),Pe=()=>ce("給你一個乖寶寶印章"),Ge=()=>ce("要記得回來完成喔！"),Xe=()=>be("結束日期必須晚於開始日期喔！");return m.jsxs("div",{className:"md:pb-6",children:[m.jsx(YD,{date:u,onSelect:oe,onWeekChange:x}),m.jsx(O1,{habits:l,habitCategories:I,handleDetailClick:Fe,weekDates:y,handleCheck:je}),m.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-full flex items-center justify-center fixed right-4 bottom-20 md:bottom-10 bg-primary hover:bg-primary-dark cursor-pointer",onClick:O,children:m.jsx(mH.TbPlus,{className:"w-8 h-8 md:w-10 md:h-10 text-black-0"})}),m.jsx(Un,{isOpen:t,children:m.jsx(eM,{habitData:o,handleHabitChange:H,handleAddHabit:V,handleFocus:le,showMonthCalendar:h,calendarRef:E,handleHabitModal:O,habitCategories:I,setHabitData:s,monthCalendarDate:C,handleMonthCalendarSelectDate:Z,setCalendarTarget:b,setShowMonthCalendar:p})}),m.jsx(Un,{isOpen:r,onClose:F,children:m.jsx(P1,{selectedHabit:v,handleDetailModal:F,uncompletedFine:k,handleEditModal:W,habitCategories:I})}),m.jsx(Un,{isOpen:i,onClose:W,children:m.jsx(I1,{habitData:o,handleHabitChange:H,handleUpdateHabit:Q,handleFocus:le,showMonthCalendar:h,calendarTarget:g,calendarRef:E,handleEditModal:W,handleDeleteHabit:ee,habitCategories:I,setHabitData:s,monthCalendarDate:C,handleMonthCalendarSelectDate:Z,setCalendarTarget:b,setShowMonthCalendar:p})})]})}function tM(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=tM(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function De(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=tM(t))&&(n&&(n+=" "),n+=e);return n}var cK=Array.isArray,en=cK,uK=typeof ah=="object"&&ah&&ah.Object===Object&&ah,rM=uK,fK=rM,dK=typeof self=="object"&&self&&self.Object===Object&&self,hK=fK||dK||Function("return this")(),_i=hK,pK=_i,mK=pK.Symbol,Cd=mK,TA=Cd,nM=Object.prototype,gK=nM.hasOwnProperty,yK=nM.toString,tu=TA?TA.toStringTag:void 0;function vK(t){var e=gK.call(t,tu),r=t[tu];try{t[tu]=void 0;var n=!0}catch{}var i=yK.call(t);return n&&(e?t[tu]=r:delete t[tu]),i}var bK=vK,xK=Object.prototype,wK=xK.toString;function _K(t){return wK.call(t)}var kK=_K,AA=Cd,EK=bK,SK=kK,TK="[object Null]",AK="[object Undefined]",PA=AA?AA.toStringTag:void 0;function PK(t){return t==null?t===void 0?AK:TK:PA&&PA in Object(t)?EK(t):SK(t)}var sa=PK;function IK(t){return t!=null&&typeof t=="object"}var la=IK,OK=sa,CK=la,NK="[object Symbol]";function RK(t){return typeof t=="symbol"||CK(t)&&OK(t)==NK}var gc=RK,jK=en,DK=gc,MK=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$K=/^\w*$/;function LK(t,e){if(jK(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||DK(t)?!0:$K.test(t)||!MK.test(t)||e!=null&&t in Object(e)}var C1=LK;function FK(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var vo=FK;const yc=nt(vo);var VK=sa,UK=vo,BK="[object AsyncFunction]",zK="[object Function]",WK="[object GeneratorFunction]",qK="[object Proxy]";function HK(t){if(!UK(t))return!1;var e=VK(t);return e==zK||e==WK||e==BK||e==qK}var N1=HK;const Ce=nt(N1);var KK=_i,GK=KK["__core-js_shared__"],XK=GK,qv=XK,IA=function(){var t=/[^.]+$/.exec(qv&&qv.keys&&qv.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function YK(t){return!!IA&&IA in t}var QK=YK,JK=Function.prototype,ZK=JK.toString;function eG(t){if(t!=null){try{return ZK.call(t)}catch{}try{return t+""}catch{}}return""}var iM=eG,tG=N1,rG=QK,nG=vo,iG=iM,aG=/[\\^$.*+?()[\]{}|]/g,oG=/^\[object .+?Constructor\]$/,sG=Function.prototype,lG=Object.prototype,cG=sG.toString,uG=lG.hasOwnProperty,fG=RegExp("^"+cG.call(uG).replace(aG,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function dG(t){if(!nG(t)||rG(t))return!1;var e=tG(t)?fG:oG;return e.test(iG(t))}var hG=dG;function pG(t,e){return t==null?void 0:t[e]}var mG=pG,gG=hG,yG=mG;function vG(t,e){var r=yG(t,e);return gG(r)?r:void 0}var Ss=vG,bG=Ss,xG=bG(Object,"create"),Zg=xG,OA=Zg;function wG(){this.__data__=OA?OA(null):{},this.size=0}var _G=wG;function kG(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var EG=kG,SG=Zg,TG="__lodash_hash_undefined__",AG=Object.prototype,PG=AG.hasOwnProperty;function IG(t){var e=this.__data__;if(SG){var r=e[t];return r===TG?void 0:r}return PG.call(e,t)?e[t]:void 0}var OG=IG,CG=Zg,NG=Object.prototype,RG=NG.hasOwnProperty;function jG(t){var e=this.__data__;return CG?e[t]!==void 0:RG.call(e,t)}var DG=jG,MG=Zg,$G="__lodash_hash_undefined__";function LG(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=MG&&e===void 0?$G:e,this}var FG=LG,VG=_G,UG=EG,BG=OG,zG=DG,WG=FG;function vc(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}vc.prototype.clear=VG;vc.prototype.delete=UG;vc.prototype.get=BG;vc.prototype.has=zG;vc.prototype.set=WG;var qG=vc;function HG(){this.__data__=[],this.size=0}var KG=HG;function GG(t,e){return t===e||t!==t&&e!==e}var R1=GG,XG=R1;function YG(t,e){for(var r=t.length;r--;)if(XG(t[r][0],e))return r;return-1}var ey=YG,QG=ey,JG=Array.prototype,ZG=JG.splice;function eX(t){var e=this.__data__,r=QG(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():ZG.call(e,r,1),--this.size,!0}var tX=eX,rX=ey;function nX(t){var e=this.__data__,r=rX(e,t);return r<0?void 0:e[r][1]}var iX=nX,aX=ey;function oX(t){return aX(this.__data__,t)>-1}var sX=oX,lX=ey;function cX(t,e){var r=this.__data__,n=lX(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var uX=cX,fX=KG,dX=tX,hX=iX,pX=sX,mX=uX;function bc(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}bc.prototype.clear=fX;bc.prototype.delete=dX;bc.prototype.get=hX;bc.prototype.has=pX;bc.prototype.set=mX;var ty=bc,gX=Ss,yX=_i,vX=gX(yX,"Map"),j1=vX,CA=qG,bX=ty,xX=j1;function wX(){this.size=0,this.__data__={hash:new CA,map:new(xX||bX),string:new CA}}var _X=wX;function kX(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var EX=kX,SX=EX;function TX(t,e){var r=t.__data__;return SX(e)?r[typeof e=="string"?"string":"hash"]:r.map}var ry=TX,AX=ry;function PX(t){var e=AX(this,t).delete(t);return this.size-=e?1:0,e}var IX=PX,OX=ry;function CX(t){return OX(this,t).get(t)}var NX=CX,RX=ry;function jX(t){return RX(this,t).has(t)}var DX=jX,MX=ry;function $X(t,e){var r=MX(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var LX=$X,FX=_X,VX=IX,UX=NX,BX=DX,zX=LX;function xc(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}xc.prototype.clear=FX;xc.prototype.delete=VX;xc.prototype.get=UX;xc.prototype.has=BX;xc.prototype.set=zX;var D1=xc,aM=D1,WX="Expected a function";function M1(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(WX);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=t.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(M1.Cache||aM),r}M1.Cache=aM;var oM=M1;const qX=nt(oM);var HX=oM,KX=500;function GX(t){var e=HX(t,function(n){return r.size===KX&&r.clear(),n}),r=e.cache;return e}var XX=GX,YX=XX,QX=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,JX=/\\(\\)?/g,ZX=YX(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(QX,function(r,n,i,a){e.push(i?a.replace(JX,"$1"):n||r)}),e}),eY=ZX;function tY(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var $1=tY,NA=Cd,rY=$1,nY=en,iY=gc,aY=1/0,RA=NA?NA.prototype:void 0,jA=RA?RA.toString:void 0;function sM(t){if(typeof t=="string")return t;if(nY(t))return rY(t,sM)+"";if(iY(t))return jA?jA.call(t):"";var e=t+"";return e=="0"&&1/t==-aY?"-0":e}var oY=sM,sY=oY;function lY(t){return t==null?"":sY(t)}var lM=lY,cY=en,uY=C1,fY=eY,dY=lM;function hY(t,e){return cY(t)?t:uY(t,e)?[t]:fY(dY(t))}var cM=hY,pY=gc,mY=1/0;function gY(t){if(typeof t=="string"||pY(t))return t;var e=t+"";return e=="0"&&1/t==-mY?"-0":e}var ny=gY,yY=cM,vY=ny;function bY(t,e){e=yY(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[vY(e[r++])];return r&&r==n?t:void 0}var L1=bY,xY=L1;function wY(t,e,r){var n=t==null?void 0:xY(t,e);return n===void 0?r:n}var uM=wY;const un=nt(uM);function _Y(t){return t==null}var kY=_Y;const Me=nt(kY);var EY=sa,SY=en,TY=la,AY="[object String]";function PY(t){return typeof t=="string"||!SY(t)&&TY(t)&&EY(t)==AY}var IY=PY;const Nd=nt(IY);var fM={exports:{}},it={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var or=typeof Symbol=="function"&&Symbol.for,F1=or?Symbol.for("react.element"):60103,V1=or?Symbol.for("react.portal"):60106,iy=or?Symbol.for("react.fragment"):60107,ay=or?Symbol.for("react.strict_mode"):60108,oy=or?Symbol.for("react.profiler"):60114,sy=or?Symbol.for("react.provider"):60109,ly=or?Symbol.for("react.context"):60110,U1=or?Symbol.for("react.async_mode"):60111,cy=or?Symbol.for("react.concurrent_mode"):60111,uy=or?Symbol.for("react.forward_ref"):60112,fy=or?Symbol.for("react.suspense"):60113,OY=or?Symbol.for("react.suspense_list"):60120,dy=or?Symbol.for("react.memo"):60115,hy=or?Symbol.for("react.lazy"):60116,CY=or?Symbol.for("react.block"):60121,NY=or?Symbol.for("react.fundamental"):60117,RY=or?Symbol.for("react.responder"):60118,jY=or?Symbol.for("react.scope"):60119;function pn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case F1:switch(t=t.type,t){case U1:case cy:case iy:case oy:case ay:case fy:return t;default:switch(t=t&&t.$$typeof,t){case ly:case uy:case hy:case dy:case sy:return t;default:return e}}case V1:return e}}}function dM(t){return pn(t)===cy}it.AsyncMode=U1;it.ConcurrentMode=cy;it.ContextConsumer=ly;it.ContextProvider=sy;it.Element=F1;it.ForwardRef=uy;it.Fragment=iy;it.Lazy=hy;it.Memo=dy;it.Portal=V1;it.Profiler=oy;it.StrictMode=ay;it.Suspense=fy;it.isAsyncMode=function(t){return dM(t)||pn(t)===U1};it.isConcurrentMode=dM;it.isContextConsumer=function(t){return pn(t)===ly};it.isContextProvider=function(t){return pn(t)===sy};it.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===F1};it.isForwardRef=function(t){return pn(t)===uy};it.isFragment=function(t){return pn(t)===iy};it.isLazy=function(t){return pn(t)===hy};it.isMemo=function(t){return pn(t)===dy};it.isPortal=function(t){return pn(t)===V1};it.isProfiler=function(t){return pn(t)===oy};it.isStrictMode=function(t){return pn(t)===ay};it.isSuspense=function(t){return pn(t)===fy};it.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===iy||t===cy||t===oy||t===ay||t===fy||t===OY||typeof t=="object"&&t!==null&&(t.$$typeof===hy||t.$$typeof===dy||t.$$typeof===sy||t.$$typeof===ly||t.$$typeof===uy||t.$$typeof===NY||t.$$typeof===RY||t.$$typeof===jY||t.$$typeof===CY)};it.typeOf=pn;fM.exports=it;var qb=fM.exports,DY=sa,MY=la,$Y="[object Number]";function LY(t){return typeof t=="number"||MY(t)&&DY(t)==$Y}var hM=LY;const FY=nt(hM);var VY=hM;function UY(t){return VY(t)&&t!=+t}var BY=UY;const Rd=nt(BY);var Mr=function(e){return e===0?0:e>0?1:-1},Uo=function(e){return Nd(e)&&e.indexOf("%")===e.length-1},ue=function(e){return FY(e)&&!Rd(e)},Jt=function(e){return ue(e)||Nd(e)},zY=0,jd=function(e){var r=++zY;return"".concat(e||"").concat(r)},$r=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ue(e)&&!Nd(e))return n;var a;if(Uo(e)){var o=e.indexOf("%");a=r*parseFloat(e.slice(0,o))/100}else a=+e;return Rd(a)&&(a=n),i&&a>r&&(a=r),a},Ra=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},WY=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},_a=function(e,r){return ue(e)&&ue(r)?function(n){return e+n*(r-e)}:function(){return r}};function Hb(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):un(n,e))===r})}function El(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function Kb(t){"@babel/helpers - typeof";return Kb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kb(t)}var qY=["viewBox","children"],HY=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],DA=["points","pathLength"],Hv={svg:qY,polygon:DA,polyline:DA},B1=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],gm=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(D.isValidElement(e)&&(n=e.props),!yc(n))return null;var i={};return Object.keys(n).forEach(function(a){B1.includes(a)&&(i[a]=r||function(o){return n[a](n,o)})}),i},KY=function(e,r,n){return function(i){return e(r,n,i),null}},us=function(e,r,n){if(!yc(e)||Kb(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];B1.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=KY(o,r,n))}),i},GY=["children"],XY=["children"];function MA(t,e){if(t==null)return{};var r=YY(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function YY(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var $A={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},Wi=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},LA=null,Kv=null,z1=function t(e){if(e===LA&&Array.isArray(Kv))return Kv;var r=[];return D.Children.forEach(e,function(n){Me(n)||(qb.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),Kv=r,LA=e,r};function An(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Wi(i)}):n=[Wi(e)],z1(t).forEach(function(i){var a=un(i,"type.displayName")||un(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function an(t,e){var r=An(t,e);return r&&r[0]}var FA=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!ue(n)||n<=0||!ue(i)||i<=0)},QY=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],JY=function(e){return e&&e.type&&Nd(e.type)&&QY.indexOf(e.type)>=0},ZY=function(e,r,n,i){var a,o=(a=Hv==null?void 0:Hv[i])!==null&&a!==void 0?a:[];return!Ce(e)&&(i&&o.includes(r)||HY.includes(r))||n&&B1.includes(r)},Ae=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(D.isValidElement(e)&&(i=e.props),!yc(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;ZY((s=i)===null||s===void 0?void 0:s[o],o,r,n)&&(a[o]=i[o])}),a},Gb=function t(e,r){if(e===r)return!0;var n=D.Children.count(e);if(n!==D.Children.count(r))return!1;if(n===0)return!0;if(n===1)return VA(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],o=r[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!VA(a,o))return!1}return!0},VA=function(e,r){if(Me(e)&&Me(r))return!0;if(!Me(e)&&!Me(r)){var n=e.props||{},i=n.children,a=MA(n,GY),o=r.props||{},s=o.children,l=MA(o,XY);return i&&s?El(a,l)&&Gb(i,s):!i&&!s?El(a,l):!1}return!1},UA=function(e,r){var n=[],i={};return z1(e).forEach(function(a,o){if(JY(a))n.push(a);else if(a){var s=Wi(a.type),l=r[s]||{},c=l.handler,u=l.once;if(c&&(!u||!i[s])){var f=c(a,s,o);n.push(f),i[s]=!0}}}),n},eQ=function(e){var r=e&&e.type;return r&&$A[r]?$A[r]:null},tQ=function(e,r){return z1(r).indexOf(e)},rQ=["children","width","height","viewBox","className","style","title","desc"];function Xb(){return Xb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xb.apply(this,arguments)}function nQ(t,e){if(t==null)return{};var r=iQ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function iQ(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Yb(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,o=t.style,s=t.title,l=t.desc,c=nQ(t,rQ),u=i||{width:r,height:n,x:0,y:0},f=De("recharts-surface",a);return $.createElement("svg",Xb({},Ae(c,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),$.createElement("title",null,s),$.createElement("desc",null,l),e)}var aQ=["children","className"];function Qb(){return Qb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qb.apply(this,arguments)}function oQ(t,e){if(t==null)return{};var r=sQ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function sQ(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var tt=$.forwardRef(function(t,e){var r=t.children,n=t.className,i=oQ(t,aQ),a=De("recharts-layer",n);return $.createElement("g",Qb({className:a},Ae(i,!0),{ref:e}),r)}),qn=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function lQ(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(i);++n<i;)a[n]=t[n+e];return a}var cQ=lQ,uQ=cQ;function fQ(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:uQ(t,e,r)}var dQ=fQ,hQ="\\ud800-\\udfff",pQ="\\u0300-\\u036f",mQ="\\ufe20-\\ufe2f",gQ="\\u20d0-\\u20ff",yQ=pQ+mQ+gQ,vQ="\\ufe0e\\ufe0f",bQ="\\u200d",xQ=RegExp("["+bQ+hQ+yQ+vQ+"]");function wQ(t){return xQ.test(t)}var pM=wQ;function _Q(t){return t.split("")}var kQ=_Q,mM="\\ud800-\\udfff",EQ="\\u0300-\\u036f",SQ="\\ufe20-\\ufe2f",TQ="\\u20d0-\\u20ff",AQ=EQ+SQ+TQ,PQ="\\ufe0e\\ufe0f",IQ="["+mM+"]",Jb="["+AQ+"]",Zb="\\ud83c[\\udffb-\\udfff]",OQ="(?:"+Jb+"|"+Zb+")",gM="[^"+mM+"]",yM="(?:\\ud83c[\\udde6-\\uddff]){2}",vM="[\\ud800-\\udbff][\\udc00-\\udfff]",CQ="\\u200d",bM=OQ+"?",xM="["+PQ+"]?",NQ="(?:"+CQ+"(?:"+[gM,yM,vM].join("|")+")"+xM+bM+")*",RQ=xM+bM+NQ,jQ="(?:"+[gM+Jb+"?",Jb,yM,vM,IQ].join("|")+")",DQ=RegExp(Zb+"(?="+Zb+")|"+jQ+RQ,"g");function MQ(t){return t.match(DQ)||[]}var $Q=MQ,LQ=kQ,FQ=pM,VQ=$Q;function UQ(t){return FQ(t)?VQ(t):LQ(t)}var BQ=UQ,zQ=dQ,WQ=pM,qQ=BQ,HQ=lM;function KQ(t){return function(e){e=HQ(e);var r=WQ(e)?qQ(e):void 0,n=r?r[0]:e.charAt(0),i=r?zQ(r,1).join(""):e.slice(1);return n[t]()+i}}var GQ=KQ,XQ=GQ,YQ=XQ("toUpperCase"),QQ=YQ;const py=nt(QQ);function ft(t){return function(){return t}}const wM=Math.cos,ym=Math.sin,Jn=Math.sqrt,vm=Math.PI,my=2*vm,ex=Math.PI,tx=2*ex,Ro=1e-6,JQ=tx-Ro;function _M(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function ZQ(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return _M;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class eJ{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?_M:ZQ(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=n-e,c=i-r,u=o-e,f=s-r,h=u*u+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(h>Ro)if(!(Math.abs(f*l-c*u)>Ro)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let p=n-o,g=i-s,b=l*l+c*c,v=p*p+g*g,_=Math.sqrt(b),y=Math.sqrt(h),x=a*Math.tan((ex-Math.acos((b+h-v)/(2*_*y)))/2),k=x/y,T=x/_;Math.abs(k-1)>Ro&&this._append`L${e+k*u},${r+k*f}`,this._append`A${a},${a},0,0,${+(f*p>u*g)},${this._x1=e+T*l},${this._y1=r+T*c}`}}arc(e,r,n,i,a,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),l=n*Math.sin(i),c=e+s,u=r+l,f=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Ro||Math.abs(this._y1-u)>Ro)&&this._append`L${c},${u}`,n&&(h<0&&(h=h%tx+tx),h>JQ?this._append`A${n},${n},0,1,${f},${e-s},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=u}`:h>Ro&&this._append`A${n},${n},0,${+(h>=ex)},${f},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function W1(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new eJ(e)}function q1(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function kM(t){this._context=t}kM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function gy(t){return new kM(t)}function EM(t){return t[0]}function SM(t){return t[1]}function TM(t,e){var r=ft(!0),n=null,i=gy,a=null,o=W1(s);t=typeof t=="function"?t:t===void 0?EM:ft(t),e=typeof e=="function"?e:e===void 0?SM:ft(e);function s(l){var c,u=(l=q1(l)).length,f,h=!1,p;for(n==null&&(a=i(p=o())),c=0;c<=u;++c)!(c<u&&r(f=l[c],c,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(f,c,l),+e(f,c,l));if(p)return a=null,p+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:ft(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:ft(+l),s):e},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:ft(!!l),s):r},s.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),s):i},s.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),s):n},s}function Rh(t,e,r){var n=null,i=ft(!0),a=null,o=gy,s=null,l=W1(c);t=typeof t=="function"?t:t===void 0?EM:ft(+t),e=typeof e=="function"?e:ft(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?SM:ft(+r);function c(f){var h,p,g,b=(f=q1(f)).length,v,_=!1,y,x=new Array(b),k=new Array(b);for(a==null&&(s=o(y=l())),h=0;h<=b;++h){if(!(h<b&&i(v=f[h],h,f))===_)if(_=!_)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),g=h-1;g>=p;--g)s.point(x[g],k[g]);s.lineEnd(),s.areaEnd()}_&&(x[h]=+t(v,h,f),k[h]=+e(v,h,f),s.point(n?+n(v,h,f):x[h],r?+r(v,h,f):k[h]))}if(y)return s=null,y+""||null}function u(){return TM().defined(i).curve(o).context(a)}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:ft(+f),n=null,c):t},c.x0=function(f){return arguments.length?(t=typeof f=="function"?f:ft(+f),c):t},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:ft(+f),c):n},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:ft(+f),r=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:ft(+f),c):e},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:ft(+f),c):r},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(r)},c.lineX1=function(){return u().x(n).y(e)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:ft(!!f),c):i},c.curve=function(f){return arguments.length?(o=f,a!=null&&(s=o(a)),c):o},c.context=function(f){return arguments.length?(f==null?a=s=null:s=o(a=f),c):a},c}class AM{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function tJ(t){return new AM(t,!0)}function rJ(t){return new AM(t,!1)}const H1={draw(t,e){const r=Jn(e/vm);t.moveTo(r,0),t.arc(0,0,r,0,my)}},nJ={draw(t,e){const r=Jn(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},PM=Jn(1/3),iJ=PM*2,aJ={draw(t,e){const r=Jn(e/iJ),n=r*PM;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},oJ={draw(t,e){const r=Jn(e),n=-r/2;t.rect(n,n,r,r)}},sJ=.8908130915292852,IM=ym(vm/10)/ym(7*vm/10),lJ=ym(my/10)*IM,cJ=-wM(my/10)*IM,uJ={draw(t,e){const r=Jn(e*sJ),n=lJ*r,i=cJ*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const o=my*a/5,s=wM(o),l=ym(o);t.lineTo(l*r,-s*r),t.lineTo(s*n-l*i,l*n+s*i)}t.closePath()}},Gv=Jn(3),fJ={draw(t,e){const r=-Jn(e/(Gv*3));t.moveTo(0,r*2),t.lineTo(-Gv*r,-r),t.lineTo(Gv*r,-r),t.closePath()}},mn=-.5,gn=Jn(3)/2,rx=1/Jn(12),dJ=(rx/2+1)*3,hJ={draw(t,e){const r=Jn(e/dJ),n=r/2,i=r*rx,a=n,o=r*rx+r,s=-a,l=o;t.moveTo(n,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(mn*n-gn*i,gn*n+mn*i),t.lineTo(mn*a-gn*o,gn*a+mn*o),t.lineTo(mn*s-gn*l,gn*s+mn*l),t.lineTo(mn*n+gn*i,mn*i-gn*n),t.lineTo(mn*a+gn*o,mn*o-gn*a),t.lineTo(mn*s+gn*l,mn*l-gn*s),t.closePath()}};function pJ(t,e){let r=null,n=W1(i);t=typeof t=="function"?t:ft(t||H1),e=typeof e=="function"?e:ft(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:ft(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:ft(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function bm(){}function xm(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function OM(t){this._context=t}OM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:xm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:xm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function mJ(t){return new OM(t)}function CM(t){this._context=t}CM.prototype={areaStart:bm,areaEnd:bm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:xm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function gJ(t){return new CM(t)}function NM(t){this._context=t}NM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:xm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function yJ(t){return new NM(t)}function RM(t){this._context=t}RM.prototype={areaStart:bm,areaEnd:bm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function vJ(t){return new RM(t)}function BA(t){return t<0?-1:1}function zA(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(BA(a)+BA(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function WA(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Xv(t,e,r){var n=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-n)/3;t._context.bezierCurveTo(n+s,i+s*e,a-s,o-s*r,a,o)}function wm(t){this._context=t}wm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Xv(this,this._t0,WA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Xv(this,WA(this,r=zA(this,t,e)),r);break;default:Xv(this,this._t0,r=zA(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function jM(t){this._context=new DM(t)}(jM.prototype=Object.create(wm.prototype)).point=function(t,e){wm.prototype.point.call(this,e,t)};function DM(t){this._context=t}DM.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function bJ(t){return new wm(t)}function xJ(t){return new jM(t)}function MM(t){this._context=t}MM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=qA(t),i=qA(e),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function qA(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function wJ(t){return new MM(t)}function yy(t,e){this._context=t,this._t=e}yy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function _J(t){return new yy(t,.5)}function kJ(t){return new yy(t,0)}function EJ(t){return new yy(t,1)}function Bl(t,e){if((o=t.length)>1)for(var r=1,n,i,a=t[e[0]],o,s=a.length;r<o;++r)for(i=a,a=t[e[r]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function nx(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function SJ(t,e){return t[e]}function TJ(t){const e=[];return e.key=t,e}function AJ(){var t=ft([]),e=nx,r=Bl,n=SJ;function i(a){var o=Array.from(t.apply(this,arguments),TJ),s,l=o.length,c=-1,u;for(const f of a)for(s=0,++c;s<l;++s)(o[s][c]=[0,+n(f,o[s].key,c,a)]).data=f;for(s=0,u=q1(e(o));s<l;++s)o[u[s]].index=s;return r(o,u),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:ft(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:ft(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?nx:typeof a=="function"?a:ft(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??Bl,i):r},i}function PJ(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}Bl(t,e)}}function IJ(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var o=0,s=0;o<i;++o)s+=t[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}Bl(t,e)}}function OJ(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var s=0,l=0,c=0;s<o;++s){for(var u=t[e[s]],f=u[n][1]||0,h=u[n-1][1]||0,p=(f-h)/2,g=0;g<s;++g){var b=t[e[g]],v=b[n][1]||0,_=b[n-1][1]||0;p+=v-_}l+=f,c+=p*f}i[n-1][1]+=i[n-1][0]=r,l&&(r-=c/l)}i[n-1][1]+=i[n-1][0]=r,Bl(t,e)}}function Tf(t){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tf(t)}var CJ=["type","size","sizeType"];function ix(){return ix=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ix.apply(this,arguments)}function HA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function KA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HA(Object(r),!0).forEach(function(n){NJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NJ(t,e,r){return e=RJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RJ(t){var e=jJ(t,"string");return Tf(e)=="symbol"?e:String(e)}function jJ(t,e){if(Tf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DJ(t,e){if(t==null)return{};var r=MJ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function MJ(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var $M={symbolCircle:H1,symbolCross:nJ,symbolDiamond:aJ,symbolSquare:oJ,symbolStar:uJ,symbolTriangle:fJ,symbolWye:hJ},$J=Math.PI/180,LJ=function(e){var r="symbol".concat(py(e));return $M[r]||H1},FJ=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*$J;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},VJ=function(e,r){$M["symbol".concat(py(e))]=r},K1=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,o=e.sizeType,s=o===void 0?"area":o,l=DJ(e,CJ),c=KA(KA({},l),{},{type:n,size:a,sizeType:s}),u=function(){var v=LJ(n),_=pJ().type(v).size(FJ(a,s,n));return _()},f=c.className,h=c.cx,p=c.cy,g=Ae(c,!0);return h===+h&&p===+p&&a===+a?$.createElement("path",ix({},g,{className:De("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};K1.registerSymbol=VJ;function zl(t){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zl(t)}function ax(){return ax=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ax.apply(this,arguments)}function GA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function UJ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GA(Object(r),!0).forEach(function(n){Af(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,FM(n.key),n)}}function WJ(t,e,r){return e&&zJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qJ(t,e,r){return e=_m(e),HJ(t,LM()?Reflect.construct(e,r||[],_m(t).constructor):e.apply(t,r))}function HJ(t,e){if(e&&(zl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KJ(t)}function KJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LM=function(){return!!t})()}function _m(t){return _m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_m(t)}function GJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ox(t,e)}function ox(t,e){return ox=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ox(t,e)}function Af(t,e,r){return e=FM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FM(t){var e=XJ(t,"string");return zl(e)=="symbol"?e:String(e)}function XJ(t,e){if(zl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(zl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yn=32,G1=function(t){GJ(e,t);function e(){return BJ(this,e),qJ(this,e,arguments)}return WJ(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=yn/2,o=yn/6,s=yn/3,l=n.inactive?i:n.color;if(n.type==="plainline")return $.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:yn,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return $.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(yn,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return $.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(yn/8,"h").concat(yn,"v").concat(yn*3/4,"h").concat(-yn,"z"),className:"recharts-legend-icon"});if($.isValidElement(n.legendIcon)){var c=UJ({},n);return delete c.legendIcon,$.cloneElement(n.legendIcon,c)}return $.createElement(K1,{fill:l,cx:a,cy:a,size:yn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:yn,height:yn},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,g){var b=p.formatter||l,v=De(Af(Af({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var _=Ce(p.value)?null:p.value;qn(!Ce(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=p.inactive?c:p.color;return $.createElement("li",ax({className:v,style:f,key:"legend-item-".concat(g)},us(n.props,p,g)),$.createElement(Yb,{width:o,height:o,viewBox:u,style:h},n.renderIcon(p)),$.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},b?b(_,p,g):_))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,o=n.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return $.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}]),e}(D.PureComponent);Af(G1,"displayName","Legend");Af(G1,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var YJ=ty;function QJ(){this.__data__=new YJ,this.size=0}var JJ=QJ;function ZJ(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var eZ=ZJ;function tZ(t){return this.__data__.get(t)}var rZ=tZ;function nZ(t){return this.__data__.has(t)}var iZ=nZ,aZ=ty,oZ=j1,sZ=D1,lZ=200;function cZ(t,e){var r=this.__data__;if(r instanceof aZ){var n=r.__data__;if(!oZ||n.length<lZ-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new sZ(n)}return r.set(t,e),this.size=r.size,this}var uZ=cZ,fZ=ty,dZ=JJ,hZ=eZ,pZ=rZ,mZ=iZ,gZ=uZ;function wc(t){var e=this.__data__=new fZ(t);this.size=e.size}wc.prototype.clear=dZ;wc.prototype.delete=hZ;wc.prototype.get=pZ;wc.prototype.has=mZ;wc.prototype.set=gZ;var VM=wc,yZ="__lodash_hash_undefined__";function vZ(t){return this.__data__.set(t,yZ),this}var bZ=vZ;function xZ(t){return this.__data__.has(t)}var wZ=xZ,_Z=D1,kZ=bZ,EZ=wZ;function km(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new _Z;++e<r;)this.add(t[e])}km.prototype.add=km.prototype.push=kZ;km.prototype.has=EZ;var UM=km;function SZ(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var BM=SZ;function TZ(t,e){return t.has(e)}var zM=TZ,AZ=UM,PZ=BM,IZ=zM,OZ=1,CZ=2;function NZ(t,e,r,n,i,a){var o=r&OZ,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var c=a.get(t),u=a.get(e);if(c&&u)return c==e&&u==t;var f=-1,h=!0,p=r&CZ?new AZ:void 0;for(a.set(t,e),a.set(e,t);++f<s;){var g=t[f],b=e[f];if(n)var v=o?n(b,g,f,e,t,a):n(g,b,f,t,e,a);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!PZ(e,function(_,y){if(!IZ(p,y)&&(g===_||i(g,_,r,n,a)))return p.push(y)})){h=!1;break}}else if(!(g===b||i(g,b,r,n,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var WM=NZ,RZ=_i,jZ=RZ.Uint8Array,DZ=jZ;function MZ(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var $Z=MZ;function LZ(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var X1=LZ,XA=Cd,YA=DZ,FZ=R1,VZ=WM,UZ=$Z,BZ=X1,zZ=1,WZ=2,qZ="[object Boolean]",HZ="[object Date]",KZ="[object Error]",GZ="[object Map]",XZ="[object Number]",YZ="[object RegExp]",QZ="[object Set]",JZ="[object String]",ZZ="[object Symbol]",eee="[object ArrayBuffer]",tee="[object DataView]",QA=XA?XA.prototype:void 0,Yv=QA?QA.valueOf:void 0;function ree(t,e,r,n,i,a,o){switch(r){case tee:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case eee:return!(t.byteLength!=e.byteLength||!a(new YA(t),new YA(e)));case qZ:case HZ:case XZ:return FZ(+t,+e);case KZ:return t.name==e.name&&t.message==e.message;case YZ:case JZ:return t==e+"";case GZ:var s=UZ;case QZ:var l=n&zZ;if(s||(s=BZ),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;n|=WZ,o.set(t,e);var u=VZ(s(t),s(e),n,i,a,o);return o.delete(t),u;case ZZ:if(Yv)return Yv.call(t)==Yv.call(e)}return!1}var nee=ree;function iee(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var qM=iee,aee=qM,oee=en;function see(t,e,r){var n=e(t);return oee(t)?n:aee(n,r(t))}var lee=see;function cee(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[i++]=o)}return a}var uee=cee;function fee(){return[]}var dee=fee,hee=uee,pee=dee,mee=Object.prototype,gee=mee.propertyIsEnumerable,JA=Object.getOwnPropertySymbols,yee=JA?function(t){return t==null?[]:(t=Object(t),hee(JA(t),function(e){return gee.call(t,e)}))}:pee,vee=yee;function bee(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var xee=bee,wee=sa,_ee=la,kee="[object Arguments]";function Eee(t){return _ee(t)&&wee(t)==kee}var See=Eee,ZA=See,Tee=la,HM=Object.prototype,Aee=HM.hasOwnProperty,Pee=HM.propertyIsEnumerable,Iee=ZA(function(){return arguments}())?ZA:function(t){return Tee(t)&&Aee.call(t,"callee")&&!Pee.call(t,"callee")},Y1=Iee,Em={exports:{}};function Oee(){return!1}var Cee=Oee;Em.exports;(function(t,e){var r=_i,n=Cee,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?r.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||n;t.exports=c})(Em,Em.exports);var KM=Em.exports,Nee=9007199254740991,Ree=/^(?:0|[1-9]\d*)$/;function jee(t,e){var r=typeof t;return e=e??Nee,!!e&&(r=="number"||r!="symbol"&&Ree.test(t))&&t>-1&&t%1==0&&t<e}var Q1=jee,Dee=9007199254740991;function Mee(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Dee}var J1=Mee,$ee=sa,Lee=J1,Fee=la,Vee="[object Arguments]",Uee="[object Array]",Bee="[object Boolean]",zee="[object Date]",Wee="[object Error]",qee="[object Function]",Hee="[object Map]",Kee="[object Number]",Gee="[object Object]",Xee="[object RegExp]",Yee="[object Set]",Qee="[object String]",Jee="[object WeakMap]",Zee="[object ArrayBuffer]",ete="[object DataView]",tte="[object Float32Array]",rte="[object Float64Array]",nte="[object Int8Array]",ite="[object Int16Array]",ate="[object Int32Array]",ote="[object Uint8Array]",ste="[object Uint8ClampedArray]",lte="[object Uint16Array]",cte="[object Uint32Array]",yt={};yt[tte]=yt[rte]=yt[nte]=yt[ite]=yt[ate]=yt[ote]=yt[ste]=yt[lte]=yt[cte]=!0;yt[Vee]=yt[Uee]=yt[Zee]=yt[Bee]=yt[ete]=yt[zee]=yt[Wee]=yt[qee]=yt[Hee]=yt[Kee]=yt[Gee]=yt[Xee]=yt[Yee]=yt[Qee]=yt[Jee]=!1;function ute(t){return Fee(t)&&Lee(t.length)&&!!yt[$ee(t)]}var fte=ute;function dte(t){return function(e){return t(e)}}var GM=dte,Sm={exports:{}};Sm.exports;(function(t,e){var r=rM,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(Sm,Sm.exports);var hte=Sm.exports,pte=fte,mte=GM,e2=hte,t2=e2&&e2.isTypedArray,gte=t2?mte(t2):pte,XM=gte,yte=xee,vte=Y1,bte=en,xte=KM,wte=Q1,_te=XM,kte=Object.prototype,Ete=kte.hasOwnProperty;function Ste(t,e){var r=bte(t),n=!r&&vte(t),i=!r&&!n&&xte(t),a=!r&&!n&&!i&&_te(t),o=r||n||i||a,s=o?yte(t.length,String):[],l=s.length;for(var c in t)(e||Ete.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||wte(c,l)))&&s.push(c);return s}var Tte=Ste,Ate=Object.prototype;function Pte(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||Ate;return t===r}var Ite=Pte;function Ote(t,e){return function(r){return t(e(r))}}var YM=Ote,Cte=YM,Nte=Cte(Object.keys,Object),Rte=Nte,jte=Ite,Dte=Rte,Mte=Object.prototype,$te=Mte.hasOwnProperty;function Lte(t){if(!jte(t))return Dte(t);var e=[];for(var r in Object(t))$te.call(t,r)&&r!="constructor"&&e.push(r);return e}var Fte=Lte,Vte=N1,Ute=J1;function Bte(t){return t!=null&&Ute(t.length)&&!Vte(t)}var Dd=Bte,zte=Tte,Wte=Fte,qte=Dd;function Hte(t){return qte(t)?zte(t):Wte(t)}var vy=Hte,Kte=lee,Gte=vee,Xte=vy;function Yte(t){return Kte(t,Xte,Gte)}var Qte=Yte,r2=Qte,Jte=1,Zte=Object.prototype,ere=Zte.hasOwnProperty;function tre(t,e,r,n,i,a){var o=r&Jte,s=r2(t),l=s.length,c=r2(e),u=c.length;if(l!=u&&!o)return!1;for(var f=l;f--;){var h=s[f];if(!(o?h in e:ere.call(e,h)))return!1}var p=a.get(t),g=a.get(e);if(p&&g)return p==e&&g==t;var b=!0;a.set(t,e),a.set(e,t);for(var v=o;++f<l;){h=s[f];var _=t[h],y=e[h];if(n)var x=o?n(y,_,h,e,t,a):n(_,y,h,t,e,a);if(!(x===void 0?_===y||i(_,y,r,n,a):x)){b=!1;break}v||(v=h=="constructor")}if(b&&!v){var k=t.constructor,T=e.constructor;k!=T&&"constructor"in t&&"constructor"in e&&!(typeof k=="function"&&k instanceof k&&typeof T=="function"&&T instanceof T)&&(b=!1)}return a.delete(t),a.delete(e),b}var rre=tre,nre=Ss,ire=_i,are=nre(ire,"DataView"),ore=are,sre=Ss,lre=_i,cre=sre(lre,"Promise"),ure=cre,fre=Ss,dre=_i,hre=fre(dre,"Set"),QM=hre,pre=Ss,mre=_i,gre=pre(mre,"WeakMap"),yre=gre,sx=ore,lx=j1,cx=ure,ux=QM,fx=yre,JM=sa,_c=iM,n2="[object Map]",vre="[object Object]",i2="[object Promise]",a2="[object Set]",o2="[object WeakMap]",s2="[object DataView]",bre=_c(sx),xre=_c(lx),wre=_c(cx),_re=_c(ux),kre=_c(fx),jo=JM;(sx&&jo(new sx(new ArrayBuffer(1)))!=s2||lx&&jo(new lx)!=n2||cx&&jo(cx.resolve())!=i2||ux&&jo(new ux)!=a2||fx&&jo(new fx)!=o2)&&(jo=function(t){var e=JM(t),r=e==vre?t.constructor:void 0,n=r?_c(r):"";if(n)switch(n){case bre:return s2;case xre:return n2;case wre:return i2;case _re:return a2;case kre:return o2}return e});var Ere=jo,Qv=VM,Sre=WM,Tre=nee,Are=rre,l2=Ere,c2=en,u2=KM,Pre=XM,Ire=1,f2="[object Arguments]",d2="[object Array]",jh="[object Object]",Ore=Object.prototype,h2=Ore.hasOwnProperty;function Cre(t,e,r,n,i,a){var o=c2(t),s=c2(e),l=o?d2:l2(t),c=s?d2:l2(e);l=l==f2?jh:l,c=c==f2?jh:c;var u=l==jh,f=c==jh,h=l==c;if(h&&u2(t)){if(!u2(e))return!1;o=!0,u=!1}if(h&&!u)return a||(a=new Qv),o||Pre(t)?Sre(t,e,r,n,i,a):Tre(t,e,l,r,n,i,a);if(!(r&Ire)){var p=u&&h2.call(t,"__wrapped__"),g=f&&h2.call(e,"__wrapped__");if(p||g){var b=p?t.value():t,v=g?e.value():e;return a||(a=new Qv),i(b,v,r,n,a)}}return h?(a||(a=new Qv),Are(t,e,r,n,i,a)):!1}var Nre=Cre,Rre=Nre,p2=la;function ZM(t,e,r,n,i){return t===e?!0:t==null||e==null||!p2(t)&&!p2(e)?t!==t&&e!==e:Rre(t,e,r,n,ZM,i)}var Z1=ZM,jre=VM,Dre=Z1,Mre=1,$re=2;function Lre(t,e,r,n){var i=r.length,a=i,o=!n;if(t==null)return!a;for(t=Object(t);i--;){var s=r[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=r[i];var l=s[0],c=t[l],u=s[1];if(o&&s[2]){if(c===void 0&&!(l in t))return!1}else{var f=new jre;if(n)var h=n(c,u,l,t,e,f);if(!(h===void 0?Dre(u,c,Mre|$re,n,f):h))return!1}}return!0}var Fre=Lre,Vre=vo;function Ure(t){return t===t&&!Vre(t)}var e$=Ure,Bre=e$,zre=vy;function Wre(t){for(var e=zre(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,Bre(i)]}return e}var qre=Wre;function Hre(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var t$=Hre,Kre=Fre,Gre=qre,Xre=t$;function Yre(t){var e=Gre(t);return e.length==1&&e[0][2]?Xre(e[0][0],e[0][1]):function(r){return r===t||Kre(r,t,e)}}var Qre=Yre;function Jre(t,e){return t!=null&&e in Object(t)}var Zre=Jre,ene=cM,tne=Y1,rne=en,nne=Q1,ine=J1,ane=ny;function one(t,e,r){e=ene(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var o=ane(e[n]);if(!(a=t!=null&&r(t,o)))break;t=t[o]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&ine(i)&&nne(o,i)&&(rne(t)||tne(t)))}var sne=one,lne=Zre,cne=sne;function une(t,e){return t!=null&&cne(t,e,lne)}var fne=une,dne=Z1,hne=uM,pne=fne,mne=C1,gne=e$,yne=t$,vne=ny,bne=1,xne=2;function wne(t,e){return mne(t)&&gne(e)?yne(vne(t),e):function(r){var n=hne(r,t);return n===void 0&&n===e?pne(r,t):dne(e,n,bne|xne)}}var _ne=wne;function kne(t){return t}var kc=kne;function Ene(t){return function(e){return e==null?void 0:e[t]}}var Sne=Ene,Tne=L1;function Ane(t){return function(e){return Tne(e,t)}}var Pne=Ane,Ine=Sne,One=Pne,Cne=C1,Nne=ny;function Rne(t){return Cne(t)?Ine(Nne(t)):One(t)}var jne=Rne,Dne=Qre,Mne=_ne,$ne=kc,Lne=en,Fne=jne;function Vne(t){return typeof t=="function"?t:t==null?$ne:typeof t=="object"?Lne(t)?Mne(t[0],t[1]):Dne(t):Fne(t)}var ki=Vne;function Une(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var r$=Une;function Bne(t){return t!==t}var zne=Bne;function Wne(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var qne=Wne,Hne=r$,Kne=zne,Gne=qne;function Xne(t,e,r){return e===e?Gne(t,e,r):Hne(t,Kne,r)}var Yne=Xne,Qne=Yne;function Jne(t,e){var r=t==null?0:t.length;return!!r&&Qne(t,e,0)>-1}var Zne=Jne;function eie(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var tie=eie;function rie(){}var nie=rie,Jv=QM,iie=nie,aie=X1,oie=1/0,sie=Jv&&1/aie(new Jv([,-0]))[1]==oie?function(t){return new Jv(t)}:iie,lie=sie,cie=UM,uie=Zne,fie=tie,die=zM,hie=lie,pie=X1,mie=200;function gie(t,e,r){var n=-1,i=uie,a=t.length,o=!0,s=[],l=s;if(r)o=!1,i=fie;else if(a>=mie){var c=e?null:hie(t);if(c)return pie(c);o=!1,i=die,l=new cie}else l=e?[]:s;e:for(;++n<a;){var u=t[n],f=e?e(u):u;if(u=r||u!==0?u:0,o&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),s.push(u)}else i(l,f,r)||(l!==s&&l.push(f),s.push(u))}return s}var yie=gie,vie=ki,bie=yie;function xie(t,e){return t&&t.length?bie(t,vie(e)):[]}var wie=xie;const m2=nt(wie);function n$(t,e,r){return e===!0?m2(t,r):Ce(e)?m2(t,e):t}function Wl(t){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wl(t)}var _ie=["ref"];function g2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ao(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?g2(Object(r),!0).forEach(function(n){by(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,o$(n.key),n)}}function Eie(t,e,r){return e&&y2(t.prototype,e),r&&y2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sie(t,e,r){return e=Tm(e),Tie(t,i$()?Reflect.construct(e,r||[],Tm(t).constructor):e.apply(t,r))}function Tie(t,e){if(e&&(Wl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a$(t)}function i$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i$=function(){return!!t})()}function Tm(t){return Tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tm(t)}function a$(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Aie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dx(t,e)}function dx(t,e){return dx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dx(t,e)}function by(t,e,r){return e=o$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o$(t){var e=Pie(t,"string");return Wl(e)=="symbol"?e:String(e)}function Pie(t,e){if(Wl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Wl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Iie(t,e){if(t==null)return{};var r=Oie(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Oie(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Cie(t){return t.value}function Nie(t,e){if($.isValidElement(t))return $.cloneElement(t,e);if(typeof t=="function")return $.createElement(t,e);e.ref;var r=Iie(e,_ie);return $.createElement(G1,r)}var v2=1,Pf=function(t){Aie(e,t);function e(){var r;kie(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Sie(this,e,[].concat(i)),by(a$(r),"lastBoundingBox",{width:-1,height:-1}),r}return Eie(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>v2||Math.abs(i.height-this.lastBoundingBox.height)>v2)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ao({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();f={left:((c||0)-p.width)/2}}else f=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var g=this.getBBoxSnapshot();h={top:((u||0)-g.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Ao(Ao({},f),h)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,f=Ao(Ao({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return $.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},Nie(a,Ao(Ao({},this.props),{},{payload:n$(u,c,Cie)})))}}],[{key:"getWithHeight",value:function(n,i){var a=n.props.layout;return a==="vertical"&&ue(n.props.height)?{height:n.props.height}:a==="horizontal"?{width:n.props.width||i}:null}}]),e}(D.PureComponent);by(Pf,"displayName","Legend");by(Pf,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var b2=Cd,Rie=Y1,jie=en,x2=b2?b2.isConcatSpreadable:void 0;function Die(t){return jie(t)||Rie(t)||!!(x2&&t&&t[x2])}var Mie=Die,$ie=qM,Lie=Mie;function s$(t,e,r,n,i){var a=-1,o=t.length;for(r||(r=Lie),i||(i=[]);++a<o;){var s=t[a];e>0&&r(s)?e>1?s$(s,e-1,r,n,i):$ie(i,s):n||(i[i.length]=s)}return i}var l$=s$;function Fie(t){return function(e,r,n){for(var i=-1,a=Object(e),o=n(e),s=o.length;s--;){var l=o[t?s:++i];if(r(a[l],l,a)===!1)break}return e}}var Vie=Fie,Uie=Vie,Bie=Uie(),zie=Bie,Wie=zie,qie=vy;function Hie(t,e){return t&&Wie(t,e,qie)}var c$=Hie,Kie=Dd;function Gie(t,e){return function(r,n){if(r==null)return r;if(!Kie(r))return t(r,n);for(var i=r.length,a=e?i:-1,o=Object(r);(e?a--:++a<i)&&n(o[a],a,o)!==!1;);return r}}var Xie=Gie,Yie=c$,Qie=Xie,Jie=Qie(Yie),ek=Jie,Zie=ek,eae=Dd;function tae(t,e){var r=-1,n=eae(t)?Array(t.length):[];return Zie(t,function(i,a,o){n[++r]=e(i,a,o)}),n}var u$=tae;function rae(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var nae=rae,w2=gc;function iae(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,a=w2(t),o=e!==void 0,s=e===null,l=e===e,c=w2(e);if(!s&&!c&&!a&&t>e||a&&o&&l&&!s&&!c||n&&o&&l||!r&&l||!i)return 1;if(!n&&!a&&!c&&t<e||c&&r&&i&&!n&&!a||s&&r&&i||!o&&i||!l)return-1}return 0}var aae=iae,oae=aae;function sae(t,e,r){for(var n=-1,i=t.criteria,a=e.criteria,o=i.length,s=r.length;++n<o;){var l=oae(i[n],a[n]);if(l){if(n>=s)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return t.index-e.index}var lae=sae,Zv=$1,cae=L1,uae=ki,fae=u$,dae=nae,hae=GM,pae=lae,mae=kc,gae=en;function yae(t,e,r){e.length?e=Zv(e,function(a){return gae(a)?function(o){return cae(o,a.length===1?a[0]:a)}:a}):e=[mae];var n=-1;e=Zv(e,hae(uae));var i=fae(t,function(a,o,s){var l=Zv(e,function(c){return c(a)});return{criteria:l,index:++n,value:a}});return dae(i,function(a,o){return pae(a,o,r)})}var vae=yae;function bae(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var xae=bae,wae=xae,_2=Math.max;function _ae(t,e,r){return e=_2(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=_2(n.length-e,0),o=Array(a);++i<a;)o[i]=n[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=n[i];return s[e]=r(o),wae(t,this,s)}}var kae=_ae;function Eae(t){return function(){return t}}var Sae=Eae,Tae=Ss,Aae=function(){try{var t=Tae(Object,"defineProperty");return t({},"",{}),t}catch{}}(),f$=Aae,Pae=Sae,k2=f$,Iae=kc,Oae=k2?function(t,e){return k2(t,"toString",{configurable:!0,enumerable:!1,value:Pae(e),writable:!0})}:Iae,Cae=Oae,Nae=800,Rae=16,jae=Date.now;function Dae(t){var e=0,r=0;return function(){var n=jae(),i=Rae-(n-r);if(r=n,i>0){if(++e>=Nae)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Mae=Dae,$ae=Cae,Lae=Mae,Fae=Lae($ae),Vae=Fae,Uae=kc,Bae=kae,zae=Vae;function Wae(t,e){return zae(Bae(t,e,Uae),t+"")}var qae=Wae,Hae=R1,Kae=Dd,Gae=Q1,Xae=vo;function Yae(t,e,r){if(!Xae(r))return!1;var n=typeof e;return(n=="number"?Kae(r)&&Gae(e,r.length):n=="string"&&e in r)?Hae(r[e],t):!1}var xy=Yae,Qae=l$,Jae=vae,Zae=qae,E2=xy,eoe=Zae(function(t,e){if(t==null)return[];var r=e.length;return r>1&&E2(t,e[0],e[1])?e=[]:r>2&&E2(e[0],e[1],e[2])&&(e=[e[0]]),Jae(t,Qae(e,1),[])}),toe=eoe;const tk=nt(toe);function If(t){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},If(t)}function hx(){return hx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hx.apply(this,arguments)}function roe(t,e){return ooe(t)||aoe(t,e)||ioe(t,e)||noe()}function noe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ioe(t,e){if(t){if(typeof t=="string")return S2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S2(t,e)}}function S2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function aoe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function ooe(t){if(Array.isArray(t))return t}function T2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function e0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?T2(Object(r),!0).forEach(function(n){soe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):T2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function soe(t,e,r){return e=loe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function loe(t){var e=coe(t,"string");return If(e)=="symbol"?e:String(e)}function coe(t,e){if(If(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(If(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uoe(t){return Array.isArray(t)&&Jt(t[0])&&Jt(t[1])?t.join(" ~ "):t}var foe=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,s=o===void 0?{}:o,l=e.labelStyle,c=l===void 0?{}:l,u=e.payload,f=e.formatter,h=e.itemSorter,p=e.wrapperClassName,g=e.labelClassName,b=e.label,v=e.labelFormatter,_=e.accessibilityLayer,y=_===void 0?!1:_,x=function(){if(u&&u.length){var N={padding:0,margin:0},O=(h?tk(u,h):u).map(function(F,W){if(F.type==="none")return null;var H=e0({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},s),X=F.formatter||f||uoe,V=F.value,Q=F.name,ee=V,oe=Q;if(X&&ee!=null&&oe!=null){var Z=X(V,Q,F,W,u);if(Array.isArray(Z)){var le=roe(Z,2);ee=le[0],oe=le[1]}else ee=Z}return $.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(W),style:H},Jt(oe)?$.createElement("span",{className:"recharts-tooltip-item-name"},oe):null,Jt(oe)?$.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,$.createElement("span",{className:"recharts-tooltip-item-value"},ee),$.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return $.createElement("ul",{className:"recharts-tooltip-item-list",style:N},O)}return null},k=e0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),T=e0({margin:0},c),C=!Me(b),S=C?b:"",E=De("recharts-default-tooltip",p),P=De("recharts-tooltip-label",g);C&&v&&u!==void 0&&u!==null&&(S=v(b,u));var I=y?{role:"status","aria-live":"assertive"}:{};return $.createElement("div",hx({className:E,style:k},I),$.createElement("p",{className:P,style:T},$.isValidElement(S)?S:"".concat(S)),x())};function Of(t){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Of(t)}function Dh(t,e,r){return e=doe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function doe(t){var e=hoe(t,"string");return Of(e)=="symbol"?e:String(e)}function hoe(t,e){if(Of(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Of(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ru="recharts-tooltip-wrapper",poe={visibility:"hidden"};function moe(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return De(ru,Dh(Dh(Dh(Dh({},"".concat(ru,"-right"),ue(r)&&e&&ue(e.x)&&r>=e.x),"".concat(ru,"-left"),ue(r)&&e&&ue(e.x)&&r<e.x),"".concat(ru,"-bottom"),ue(n)&&e&&ue(e.y)&&n>=e.y),"".concat(ru,"-top"),ue(n)&&e&&ue(e.y)&&n<e.y))}function A2(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(a&&ue(a[n]))return a[n];var u=r[n]-s-i,f=r[n]+i;if(e[n])return o[n]?u:f;if(o[n]){var h=u,p=l[n];return h<p?Math.max(f,l[n]):Math.max(u,l[n])}var g=f+s,b=l[n]+c;return g>b?Math.max(u,l[n]):Math.max(f,l[n])}function goe(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function yoe(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,c,u,f;return o.height>0&&o.width>0&&r?(u=A2({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=A2({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=goe({translateX:u,translateY:f,useTranslate3d:s})):c=poe,{cssProperties:c,cssClasses:moe({translateX:u,translateY:f,coordinate:r})}}function ql(t){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ql(t)}function P2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function I2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?P2(Object(r),!0).forEach(function(n){gx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function voe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function boe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,h$(n.key),n)}}function xoe(t,e,r){return e&&boe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function woe(t,e,r){return e=Am(e),_oe(t,d$()?Reflect.construct(e,r||[],Am(t).constructor):e.apply(t,r))}function _oe(t,e){if(e&&(ql(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return px(t)}function d$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d$=function(){return!!t})()}function Am(t){return Am=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Am(t)}function px(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function koe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mx(t,e)}function mx(t,e){return mx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},mx(t,e)}function gx(t,e,r){return e=h$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h$(t){var e=Eoe(t,"string");return ql(e)=="symbol"?e:String(e)}function Eoe(t,e){if(ql(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ql(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var O2=1,Soe=function(t){koe(e,t);function e(){var r;voe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=woe(this,e,[].concat(i)),gx(px(r),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),gx(px(r),"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,c,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),r}return xoe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>O2||Math.abs(n.height-this.state.lastBoundingBox.height)>O2)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,p=i.offset,g=i.position,b=i.reverseDirection,v=i.useTranslate3d,_=i.viewBox,y=i.wrapperStyle,x=yoe({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:p,position:g,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:_}),k=x.cssClasses,T=x.cssProperties,C=I2(I2({transition:h&&a?"transform ".concat(s,"ms ").concat(l):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},y);return $.createElement("div",{tabIndex:-1,className:k,style:C,ref:function(E){n.wrapperNode=E}},c)}}]),e}(D.PureComponent),Toe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},qi={isSsr:Toe(),get:function(e){return qi[e]},set:function(e,r){if(typeof e=="string")qi[e]=r;else{var n=Object.keys(e);n&&n.length&&n.forEach(function(i){qi[i]=e[i]})}}};function Hl(t){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hl(t)}function C2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function N2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?C2(Object(r),!0).forEach(function(n){rk(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):C2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Aoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Poe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,m$(n.key),n)}}function Ioe(t,e,r){return e&&Poe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ooe(t,e,r){return e=Pm(e),Coe(t,p$()?Reflect.construct(e,r||[],Pm(t).constructor):e.apply(t,r))}function Coe(t,e){if(e&&(Hl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Noe(t)}function Noe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p$=function(){return!!t})()}function Pm(t){return Pm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pm(t)}function Roe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yx(t,e)}function yx(t,e){return yx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},yx(t,e)}function rk(t,e,r){return e=m$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function m$(t){var e=joe(t,"string");return Hl(e)=="symbol"?e:String(e)}function joe(t,e){if(Hl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Hl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Doe(t){return t.dataKey}function Moe(t,e){return $.isValidElement(t)?$.cloneElement(t,e):typeof t=="function"?$.createElement(t,e):$.createElement(foe,e)}var ni=function(t){Roe(e,t);function e(){return Aoe(this,e),Ooe(this,e,arguments)}return Ioe(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,f=i.filterNull,h=i.isAnimationActive,p=i.offset,g=i.payload,b=i.payloadUniqBy,v=i.position,_=i.reverseDirection,y=i.useTranslate3d,x=i.viewBox,k=i.wrapperStyle,T=g??[];f&&T.length&&(T=n$(g.filter(function(S){return S.value!=null&&(S.hide!==!0||n.props.includeHidden)}),b,Doe));var C=T.length>0;return $.createElement(Soe,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:h,active:a,coordinate:u,hasPayload:C,offset:p,position:v,reverseDirection:_,useTranslate3d:y,viewBox:x,wrapperStyle:k},Moe(c,N2(N2({},this.props),{},{payload:T})))}}]),e}(D.PureComponent);rk(ni,"displayName","Tooltip");rk(ni,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!qi.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var $oe=_i,Loe=function(){return $oe.Date.now()},Foe=Loe,Voe=/\s/;function Uoe(t){for(var e=t.length;e--&&Voe.test(t.charAt(e)););return e}var Boe=Uoe,zoe=Boe,Woe=/^\s+/;function qoe(t){return t&&t.slice(0,zoe(t)+1).replace(Woe,"")}var Hoe=qoe,Koe=Hoe,R2=vo,Goe=gc,j2=NaN,Xoe=/^[-+]0x[0-9a-f]+$/i,Yoe=/^0b[01]+$/i,Qoe=/^0o[0-7]+$/i,Joe=parseInt;function Zoe(t){if(typeof t=="number")return t;if(Goe(t))return j2;if(R2(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=R2(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Koe(t);var r=Yoe.test(t);return r||Qoe.test(t)?Joe(t.slice(2),r?2:8):Xoe.test(t)?j2:+t}var g$=Zoe,ese=vo,t0=Foe,D2=g$,tse="Expected a function",rse=Math.max,nse=Math.min;function ise(t,e,r){var n,i,a,o,s,l,c=0,u=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(tse);e=D2(e)||0,ese(r)&&(u=!!r.leading,f="maxWait"in r,a=f?rse(D2(r.maxWait)||0,e):a,h="trailing"in r?!!r.trailing:h);function p(C){var S=n,E=i;return n=i=void 0,c=C,o=t.apply(E,S),o}function g(C){return c=C,s=setTimeout(_,e),u?p(C):o}function b(C){var S=C-l,E=C-c,P=e-S;return f?nse(P,a-E):P}function v(C){var S=C-l,E=C-c;return l===void 0||S>=e||S<0||f&&E>=a}function _(){var C=t0();if(v(C))return y(C);s=setTimeout(_,b(C))}function y(C){return s=void 0,h&&n?p(C):(n=i=void 0,o)}function x(){s!==void 0&&clearTimeout(s),c=0,n=l=i=s=void 0}function k(){return s===void 0?o:y(t0())}function T(){var C=t0(),S=v(C);if(n=arguments,i=this,l=C,S){if(s===void 0)return g(l);if(f)return clearTimeout(s),s=setTimeout(_,e),p(l)}return s===void 0&&(s=setTimeout(_,e)),o}return T.cancel=x,T.flush=k,T}var ase=ise,ose=ase,sse=vo,lse="Expected a function";function cse(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(lse);return sse(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),ose(t,e,{leading:n,maxWait:e,trailing:i})}var use=cse;const y$=nt(use);function Cf(t){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cf(t)}function M2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?M2(Object(r),!0).forEach(function(n){fse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):M2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fse(t,e,r){return e=dse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dse(t){var e=hse(t,"string");return Cf(e)=="symbol"?e:String(e)}function hse(t,e){if(Cf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pse(t,e){return vse(t)||yse(t,e)||gse(t,e)||mse()}function mse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gse(t,e){if(t){if(typeof t=="string")return $2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $2(t,e)}}function $2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function yse(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function vse(t){if(Array.isArray(t))return t}var nk=D.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,o=a===void 0?"100%":a,s=t.height,l=s===void 0?"100%":s,c=t.minWidth,u=c===void 0?0:c,f=t.minHeight,h=t.maxHeight,p=t.children,g=t.debounce,b=g===void 0?0:g,v=t.id,_=t.className,y=t.onResize,x=t.style,k=x===void 0?{}:x,T=D.useRef(null),C=D.useRef();C.current=y,D.useImperativeHandle(e,function(){return Object.defineProperty(T.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),T.current},configurable:!0})});var S=D.useState({containerWidth:i.width,containerHeight:i.height}),E=pse(S,2),P=E[0],I=E[1],R=D.useCallback(function(O,F){I(function(W){var H=Math.round(O),X=Math.round(F);return W.containerWidth===H&&W.containerHeight===X?W:{containerWidth:H,containerHeight:X}})},[]);D.useEffect(function(){var O=function(Q){var ee,oe=Q[0].contentRect,Z=oe.width,le=oe.height;R(Z,le),(ee=C.current)===null||ee===void 0||ee.call(C,Z,le)};b>0&&(O=y$(O,b,{trailing:!0,leading:!1}));var F=new ResizeObserver(O),W=T.current.getBoundingClientRect(),H=W.width,X=W.height;return R(H,X),F.observe(T.current),function(){F.disconnect()}},[R,b]);var N=D.useMemo(function(){var O=P.containerWidth,F=P.containerHeight;if(O<0||F<0)return null;qn(Uo(o)||Uo(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),qn(!r||r>0,"The aspect(%s) must be greater than zero.",r);var W=Uo(o)?O:o,H=Uo(l)?F:l;r&&r>0&&(W?H=W/r:H&&(W=H*r),h&&H>h&&(H=h)),qn(W>0||H>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,W,H,o,l,u,f,r);var X=!Array.isArray(p)&&qb.isElement(p)&&Wi(p.type).endsWith("Chart");return $.Children.map(p,function(V){return qb.isElement(V)?D.cloneElement(V,Mh({width:W,height:H},X?{style:Mh({height:"100%",width:"100%",maxHeight:H,maxWidth:W},V.props.style)}:{})):V})},[r,p,l,h,f,u,P,o]);return $.createElement("div",{id:v?"".concat(v):void 0,className:De("recharts-responsive-container",_),style:Mh(Mh({},k),{},{width:o,height:l,minWidth:u,minHeight:f,maxHeight:h}),ref:T},N)}),Md=function(e){return null};Md.displayName="Cell";function Nf(t){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nf(t)}function L2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?L2(Object(r),!0).forEach(function(n){bse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):L2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bse(t,e,r){return e=xse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xse(t){var e=wse(t,"string");return Nf(e)=="symbol"?e:String(e)}function wse(t,e){if(Nf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vs={widthCache:{},cacheCount:0},_se=2e3,kse={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},F2="recharts_measurement_span";function Ese(t){var e=vx({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var zu=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||qi.isSsr)return{width:0,height:0};var n=Ese(r),i=JSON.stringify({text:e,copyStyle:n});if(Vs.widthCache[i])return Vs.widthCache[i];try{var a=document.getElementById(F2);a||(a=document.createElement("span"),a.setAttribute("id",F2),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=vx(vx({},kse),n);Object.assign(a.style,o),a.textContent="".concat(e);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return Vs.widthCache[i]=l,++Vs.cacheCount>_se&&(Vs.cacheCount=0,Vs.widthCache={}),l}catch{return{width:0,height:0}}},Sse=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Rf(t){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rf(t)}function Im(t,e){return Ise(t)||Pse(t,e)||Ase(t,e)||Tse()}function Tse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ase(t,e){if(t){if(typeof t=="string")return V2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V2(t,e)}}function V2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Pse(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Ise(t){if(Array.isArray(t))return t}function Ose(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Nse(n.key),n)}}function Cse(t,e,r){return e&&U2(t.prototype,e),r&&U2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nse(t){var e=Rse(t,"string");return Rf(e)=="symbol"?e:String(e)}function Rse(t,e){if(Rf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var B2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,z2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,jse=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Dse=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,v$={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Mse=Object.keys(v$),ll="NaN";function $se(t,e){return t*v$[e]}var $h=function(){function t(e,r){Ose(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!jse.test(r)&&(this.num=NaN,this.unit=""),Mse.includes(r)&&(this.num=$se(e,r),this.unit="px")}return Cse(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=Dse.exec(r))!==null&&n!==void 0?n:[],a=Im(i,3),o=a[1],s=a[2];return new t(parseFloat(o),s??"")}}]),t}();function b$(t){if(t.includes(ll))return ll;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=B2.exec(e))!==null&&r!==void 0?r:[],i=Im(n,4),a=i[1],o=i[2],s=i[3],l=$h.parse(a??""),c=$h.parse(s??""),u=o==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return ll;e=e.replace(B2,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=z2.exec(e))!==null&&f!==void 0?f:[],p=Im(h,4),g=p[1],b=p[2],v=p[3],_=$h.parse(g??""),y=$h.parse(v??""),x=b==="+"?_.add(y):_.subtract(y);if(x.isNaN())return ll;e=e.replace(z2,x.toString())}return e}var W2=/\(([^()]*)\)/;function Lse(t){for(var e=t;e.includes("(");){var r=W2.exec(e),n=Im(r,2),i=n[1];e=e.replace(W2,b$(i))}return e}function Fse(t){var e=t.replace(/\s+/g,"");return e=Lse(e),e=b$(e),e}function Vse(t){try{return Fse(t)}catch{return ll}}function r0(t){var e=Vse(t.slice(5,-1));return e===ll?"":e}var Use=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Bse=["dx","dy","angle","className","breakAll"];function bx(){return bx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bx.apply(this,arguments)}function q2(t,e){if(t==null)return{};var r=zse(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function zse(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function H2(t,e){return Kse(t)||Hse(t,e)||qse(t,e)||Wse()}function Wse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qse(t,e){if(t){if(typeof t=="string")return K2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return K2(t,e)}}function K2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Hse(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Kse(t){if(Array.isArray(t))return t}var x$=/[ \f\n\r\t\v\u2028\u2029]+/,w$=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];Me(r)||(n?a=r.toString().split(""):a=r.toString().split(x$));var o=a.map(function(l){return{word:l,width:zu(l,i).width}}),s=n?0:zu(" ",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},Gse=function(e,r,n,i,a){var o=e.maxLines,s=e.children,l=e.style,c=e.breakAll,u=ue(o),f=s,h=function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return W.reduce(function(H,X){var V=X.word,Q=X.width,ee=H[H.length-1];if(ee&&(i==null||a||ee.width+Q+n<Number(i)))ee.words.push(V),ee.width+=Q+n;else{var oe={words:[V],width:Q};H.push(oe)}return H},[])},p=h(r),g=function(W){return W.reduce(function(H,X){return H.width>X.width?H:X})};if(!u)return p;for(var b="…",v=function(W){var H=f.slice(0,W),X=w$({breakAll:c,style:l,children:H+b}).wordsWithComputedWidth,V=h(X),Q=V.length>o||g(V).width>Number(i);return[Q,V]},_=0,y=f.length-1,x=0,k;_<=y&&x<=f.length-1;){var T=Math.floor((_+y)/2),C=T-1,S=v(C),E=H2(S,2),P=E[0],I=E[1],R=v(T),N=H2(R,1),O=N[0];if(!P&&!O&&(_=T+1),P&&O&&(y=T-1),!P&&O){k=I;break}x++}return k||p},G2=function(e){var r=Me(e)?[]:e.toString().split(x$);return[{words:r}]},Xse=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,s=e.maxLines;if((r||n)&&!qi.isSsr){var l,c,u=w$({breakAll:o,children:i,style:a});if(u){var f=u.wordsWithComputedWidth,h=u.spaceWidth;l=f,c=h}else return G2(i);return Gse({breakAll:o,children:i,maxLines:s,style:a},l,c,r,n)}return G2(i)},X2="#808080",fs=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.lineHeight,s=o===void 0?"1em":o,l=e.capHeight,c=l===void 0?"0.71em":l,u=e.scaleToFit,f=u===void 0?!1:u,h=e.textAnchor,p=h===void 0?"start":h,g=e.verticalAnchor,b=g===void 0?"end":g,v=e.fill,_=v===void 0?X2:v,y=q2(e,Use),x=D.useMemo(function(){return Xse({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),k=y.dx,T=y.dy,C=y.angle,S=y.className,E=y.breakAll,P=q2(y,Bse);if(!Jt(n)||!Jt(a))return null;var I=n+(ue(k)?k:0),R=a+(ue(T)?T:0),N;switch(b){case"start":N=r0("calc(".concat(c,")"));break;case"middle":N=r0("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:N=r0("calc(".concat(x.length-1," * -").concat(s,")"));break}var O=[];if(f){var F=x[0].width,W=y.width;O.push("scale(".concat((ue(W)?W/F:1)/F,")"))}return C&&O.push("rotate(".concat(C,", ").concat(I,", ").concat(R,")")),O.length&&(P.transform=O.join(" ")),$.createElement("text",bx({},Ae(P,!0),{x:I,y:R,className:De("recharts-text",S),textAnchor:p,fill:_.includes("url")?X2:_}),x.map(function(H,X){var V=H.words.join(E?"":" ");return $.createElement("tspan",{x:I,dy:X===0?N:s,key:V},V)}))};function Ja(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Yse(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ik(t){let e,r,n;t.length!==2?(e=Ja,r=(s,l)=>Ja(t(s),l),n=(s,l)=>t(s)-l):(e=t===Ja||t===Yse?t:Qse,r=t,n=t);function i(s,l,c=0,u=s.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;r(s[f],l)<0?c=f+1:u=f}while(c<u)}return c}function a(s,l,c=0,u=s.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;r(s[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function o(s,l,c=0,u=s.length){const f=i(s,l,c,u-1);return f>c&&n(s[f-1],l)>-n(s[f],l)?f-1:f}return{left:i,center:o,right:a}}function Qse(){return 0}function _$(t){return t===null?NaN:+t}function*Jse(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const Zse=ik(Ja),$d=Zse.right;ik(_$).center;class Y2 extends Map{constructor(e,r=rle){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(Q2(this,e))}has(e){return super.has(Q2(this,e))}set(e,r){return super.set(ele(this,e),r)}delete(e){return super.delete(tle(this,e))}}function Q2({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function ele({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function tle({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function rle(t){return t!==null&&typeof t=="object"?t.valueOf():t}function nle(t=Ja){if(t===Ja)return k$;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function k$(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const ile=Math.sqrt(50),ale=Math.sqrt(10),ole=Math.sqrt(2);function Om(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=ile?10:a>=ale?5:a>=ole?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/o,s=Math.round(t*c),l=Math.round(e*c),s/c<t&&++s,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*o,s=Math.round(t/c),l=Math.round(e/c),s*c<t&&++s,l*c>e&&--l),l<s&&.5<=r&&r<2?Om(t,e,r*2):[s,l,c]}function xx(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,o]=n?Om(e,t,r):Om(t,e,r);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(n)if(o<0)for(let c=0;c<s;++c)l[c]=(a-c)/-o;else for(let c=0;c<s;++c)l[c]=(a-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(i+c)/-o;else for(let c=0;c<s;++c)l[c]=(i+c)*o;return l}function wx(t,e,r){return e=+e,t=+t,r=+r,Om(t,e,r)[2]}function _x(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?wx(e,t,r):wx(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function J2(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Z2(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function E$(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?k$:nle(i);n>r;){if(n-r>600){const l=n-r+1,c=e-r+1,u=Math.log(l),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),p=Math.max(r,Math.floor(e-c*f/l+h)),g=Math.min(n,Math.floor(e+(l-c)*f/l+h));E$(t,e,p,g,i)}const a=t[e];let o=r,s=n;for(nu(t,r,e),i(t[n],a)>0&&nu(t,r,n);o<s;){for(nu(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[r],a)===0?nu(t,r,s):(++s,nu(t,s,n)),s<=e&&(r=s+1),e<=s&&(n=s-1)}return t}function nu(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function sle(t,e,r){if(t=Float64Array.from(Jse(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return Z2(t);if(e>=1)return J2(t);var n,i=(n-1)*e,a=Math.floor(i),o=J2(E$(t,a).subarray(0,a+1)),s=Z2(t.subarray(a+1));return o+(s-o)*(i-a)}}function lle(t,e,r=_$){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),o=+r(t[a],a,t),s=+r(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function cle(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function Cn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ca(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const kx=Symbol("implicit");function ak(){var t=new Y2,e=[],r=[],n=kx;function i(a){let o=t.get(a);if(o===void 0){if(n!==kx)return n;t.set(a,o=e.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new Y2;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return ak(e,r).unknown(n)},Cn.apply(i,arguments),i}function jf(){var t=ak().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,o,s=!1,l=0,c=0,u=.5;delete t.unknown;function f(){var h=e().length,p=i<n,g=p?i:n,b=p?n:i;a=(b-g)/Math.max(1,h-l+c*2),s&&(a=Math.floor(a)),g+=(b-g-a*(h-l))*u,o=a*(1-l),s&&(g=Math.round(g),o=Math.round(o));var v=cle(h).map(function(_){return g+a*_});return r(p?v.reverse():v)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},t.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,s=!0,f()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(h){return arguments.length?(s=!!h,f()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},t.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),f()):u},t.copy=function(){return jf(e(),[n,i]).round(s).paddingInner(l).paddingOuter(c).align(u)},Cn.apply(f(),arguments)}function S$(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return S$(e())},t}function Wu(){return S$(jf.apply(null,arguments).paddingInner(1))}function ok(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function T$(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Ld(){}var Df=.7,Cm=1/Df,Sl="\\s*([+-]?\\d+)\\s*",Mf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",yi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ule=/^#([0-9a-f]{3,8})$/,fle=new RegExp(`^rgb\\(${Sl},${Sl},${Sl}\\)$`),dle=new RegExp(`^rgb\\(${yi},${yi},${yi}\\)$`),hle=new RegExp(`^rgba\\(${Sl},${Sl},${Sl},${Mf}\\)$`),ple=new RegExp(`^rgba\\(${yi},${yi},${yi},${Mf}\\)$`),mle=new RegExp(`^hsl\\(${Mf},${yi},${yi}\\)$`),gle=new RegExp(`^hsla\\(${Mf},${yi},${yi},${Mf}\\)$`),eP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ok(Ld,$f,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:tP,formatHex:tP,formatHex8:yle,formatHsl:vle,formatRgb:rP,toString:rP});function tP(){return this.rgb().formatHex()}function yle(){return this.rgb().formatHex8()}function vle(){return A$(this).formatHsl()}function rP(){return this.rgb().formatRgb()}function $f(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=ule.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?nP(e):r===3?new Yr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Lh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Lh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=fle.exec(t))?new Yr(e[1],e[2],e[3],1):(e=dle.exec(t))?new Yr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=hle.exec(t))?Lh(e[1],e[2],e[3],e[4]):(e=ple.exec(t))?Lh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=mle.exec(t))?oP(e[1],e[2]/100,e[3]/100,1):(e=gle.exec(t))?oP(e[1],e[2]/100,e[3]/100,e[4]):eP.hasOwnProperty(t)?nP(eP[t]):t==="transparent"?new Yr(NaN,NaN,NaN,0):null}function nP(t){return new Yr(t>>16&255,t>>8&255,t&255,1)}function Lh(t,e,r,n){return n<=0&&(t=e=r=NaN),new Yr(t,e,r,n)}function ble(t){return t instanceof Ld||(t=$f(t)),t?(t=t.rgb(),new Yr(t.r,t.g,t.b,t.opacity)):new Yr}function Ex(t,e,r,n){return arguments.length===1?ble(t):new Yr(t,e,r,n??1)}function Yr(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}ok(Yr,Ex,T$(Ld,{brighter(t){return t=t==null?Cm:Math.pow(Cm,t),new Yr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Df:Math.pow(Df,t),new Yr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Yr(Xo(this.r),Xo(this.g),Xo(this.b),Nm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:iP,formatHex:iP,formatHex8:xle,formatRgb:aP,toString:aP}));function iP(){return`#${Bo(this.r)}${Bo(this.g)}${Bo(this.b)}`}function xle(){return`#${Bo(this.r)}${Bo(this.g)}${Bo(this.b)}${Bo((isNaN(this.opacity)?1:this.opacity)*255)}`}function aP(){const t=Nm(this.opacity);return`${t===1?"rgb(":"rgba("}${Xo(this.r)}, ${Xo(this.g)}, ${Xo(this.b)}${t===1?")":`, ${t})`}`}function Nm(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Xo(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Bo(t){return t=Xo(t),(t<16?"0":"")+t.toString(16)}function oP(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Bn(t,e,r,n)}function A$(t){if(t instanceof Bn)return new Bn(t.h,t.s,t.l,t.opacity);if(t instanceof Ld||(t=$f(t)),!t)return new Bn;if(t instanceof Bn)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(r-n)/s+(r<n)*6:r===a?o=(n-e)/s+2:o=(e-r)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Bn(o,s,l,t.opacity)}function wle(t,e,r,n){return arguments.length===1?A$(t):new Bn(t,e,r,n??1)}function Bn(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}ok(Bn,wle,T$(Ld,{brighter(t){return t=t==null?Cm:Math.pow(Cm,t),new Bn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Df:Math.pow(Df,t),new Bn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Yr(n0(t>=240?t-240:t+120,i,n),n0(t,i,n),n0(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Bn(sP(this.h),Fh(this.s),Fh(this.l),Nm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Nm(this.opacity);return`${t===1?"hsl(":"hsla("}${sP(this.h)}, ${Fh(this.s)*100}%, ${Fh(this.l)*100}%${t===1?")":`, ${t})`}`}}));function sP(t){return t=(t||0)%360,t<0?t+360:t}function Fh(t){return Math.max(0,Math.min(1,t||0))}function n0(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const sk=t=>()=>t;function _le(t,e){return function(r){return t+r*e}}function kle(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Ele(t){return(t=+t)==1?P$:function(e,r){return r-e?kle(e,r,t):sk(isNaN(e)?r:e)}}function P$(t,e){var r=e-t;return r?_le(t,r):sk(isNaN(t)?e:t)}const lP=function t(e){var r=Ele(e);function n(i,a){var o=r((i=Ex(i)).r,(a=Ex(a)).r),s=r(i.g,a.g),l=r(i.b,a.b),c=P$(i.opacity,a.opacity);return function(u){return i.r=o(u),i.g=s(u),i.b=l(u),i.opacity=c(u),i+""}}return n.gamma=t,n}(1);function Sle(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function Tle(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Ale(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=Ec(t[o],e[o]);for(;o<r;++o)a[o]=e[o];return function(s){for(o=0;o<n;++o)a[o]=i[o](s);return a}}function Ple(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Rm(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Ile(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Ec(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Sx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,i0=new RegExp(Sx.source,"g");function Ole(t){return function(){return t}}function Cle(t){return function(e){return t(e)+""}}function Nle(t,e){var r=Sx.lastIndex=i0.lastIndex=0,n,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(n=Sx.exec(t))&&(i=i0.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:Rm(n,i)})),r=i0.lastIndex;return r<e.length&&(a=e.slice(r),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?Cle(l[0].x):Ole(e):(e=l.length,function(c){for(var u=0,f;u<e;++u)s[(f=l[u]).i]=f.x(c);return s.join("")})}function Ec(t,e){var r=typeof e,n;return e==null||r==="boolean"?sk(e):(r==="number"?Rm:r==="string"?(n=$f(e))?(e=n,lP):Nle:e instanceof $f?lP:e instanceof Date?Ple:Tle(e)?Sle:Array.isArray(e)?Ale:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Ile:Rm)(t,e)}function lk(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function Rle(t,e){e===void 0&&(e=t,t=Ec);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[s](o-s)}}function jle(t){return function(){return t}}function jm(t){return+t}var cP=[0,1];function Lr(t){return t}function Tx(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:jle(isNaN(e)?NaN:.5)}function Dle(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function Mle(t,e,r){var n=t[0],i=t[1],a=e[0],o=e[1];return i<n?(n=Tx(i,n),a=r(o,a)):(n=Tx(n,i),a=r(a,o)),function(s){return a(n(s))}}function $le(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=Tx(t[o],t[o+1]),a[o]=r(e[o],e[o+1]);return function(s){var l=$d(t,s,1,n)-1;return a[l](i[l](s))}}function Fd(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function wy(){var t=cP,e=cP,r=Ec,n,i,a,o=Lr,s,l,c;function u(){var h=Math.min(t.length,e.length);return o!==Lr&&(o=Dle(t[0],t[h-1])),s=h>2?$le:Mle,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=s(t.map(n),e,r)))(n(o(h)))}return f.invert=function(h){return o(i((c||(c=s(e,t.map(n),Rm)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,jm),u()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),u()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),r=lk,u()},f.clamp=function(h){return arguments.length?(o=h?!0:Lr,u()):o!==Lr},f.interpolate=function(h){return arguments.length?(r=h,u()):r},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,p){return n=h,i=p,u()}}function ck(){return wy()(Lr,Lr)}function Lle(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Dm(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Kl(t){return t=Dm(Math.abs(t)),t?t[1]:NaN}function Fle(t,e){return function(r,n){for(var i=r.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),a.push(r.substring(i-=s,i+s)),!((l+=s+1)>n));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function Vle(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var Ule=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Lf(t){if(!(e=Ule.exec(t)))throw new Error("invalid format: "+t);var e;return new uk({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Lf.prototype=uk.prototype;function uk(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}uk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ble(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var I$;function zle(t,e){var r=Dm(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(I$=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Dm(t,Math.max(0,e+a-1))[0]}function uP(t,e){var r=Dm(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const fP={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Lle,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>uP(t*100,e),r:uP,s:zle,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function dP(t){return t}var hP=Array.prototype.map,pP=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Wle(t){var e=t.grouping===void 0||t.thousands===void 0?dP:Fle(hP.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?dP:Vle(hP.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(f){f=Lf(f);var h=f.fill,p=f.align,g=f.sign,b=f.symbol,v=f.zero,_=f.width,y=f.comma,x=f.precision,k=f.trim,T=f.type;T==="n"?(y=!0,T="g"):fP[T]||(x===void 0&&(x=12),k=!0,T="g"),(v||h==="0"&&p==="=")&&(v=!0,h="0",p="=");var C=b==="$"?r:b==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",S=b==="$"?n:/[%p]/.test(T)?o:"",E=fP[T],P=/[defgprs%]/.test(T);x=x===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function I(R){var N=C,O=S,F,W,H;if(T==="c")O=E(R)+O,R="";else{R=+R;var X=R<0||1/R<0;if(R=isNaN(R)?l:E(Math.abs(R),x),k&&(R=Ble(R)),X&&+R==0&&g!=="+"&&(X=!1),N=(X?g==="("?g:s:g==="-"||g==="("?"":g)+N,O=(T==="s"?pP[8+I$/3]:"")+O+(X&&g==="("?")":""),P){for(F=-1,W=R.length;++F<W;)if(H=R.charCodeAt(F),48>H||H>57){O=(H===46?i+R.slice(F+1):R.slice(F))+O,R=R.slice(0,F);break}}}y&&!v&&(R=e(R,1/0));var V=N.length+R.length+O.length,Q=V<_?new Array(_-V+1).join(h):"";switch(y&&v&&(R=e(Q+R,Q.length?_-O.length:1/0),Q=""),p){case"<":R=N+R+O+Q;break;case"=":R=N+Q+R+O;break;case"^":R=Q.slice(0,V=Q.length>>1)+N+R+O+Q.slice(V);break;default:R=Q+N+R+O;break}return a(R)}return I.toString=function(){return f+""},I}function u(f,h){var p=c((f=Lf(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Kl(h)/3)))*3,b=Math.pow(10,-g),v=pP[8+g/3];return function(_){return p(b*_)+v}}return{format:c,formatPrefix:u}}var Vh,fk,O$;qle({thousands:",",grouping:[3],currency:["$",""]});function qle(t){return Vh=Wle(t),fk=Vh.format,O$=Vh.formatPrefix,Vh}function Hle(t){return Math.max(0,-Kl(Math.abs(t)))}function Kle(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Kl(e)/3)))*3-Kl(Math.abs(t)))}function Gle(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Kl(e)-Kl(t))+1}function C$(t,e,r,n){var i=_x(t,e,r),a;switch(n=Lf(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=Kle(i,o))&&(n.precision=a),O$(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=Gle(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=Hle(i))&&(n.precision=a-(n.type==="%")*2);break}}return fk(n)}function bo(t){var e=t.domain;return t.ticks=function(r){var n=e();return xx(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return C$(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,o=n[i],s=n[a],l,c,u=10;for(s<o&&(c=o,o=s,s=c,c=i,i=a,a=c);u-- >0;){if(c=wx(o,s,r),c===l)return n[i]=o,n[a]=s,e(n);if(c>0)o=Math.floor(o/c)*c,s=Math.ceil(s/c)*c;else if(c<0)o=Math.ceil(o*c)/c,s=Math.floor(s*c)/c;else break;l=c}return t},t}function Mm(){var t=ck();return t.copy=function(){return Fd(t,Mm())},Cn.apply(t,arguments),bo(t)}function N$(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,jm),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return N$(t).unknown(e)},t=arguments.length?Array.from(t,jm):[0,1],bo(r)}function R$(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),t[r]=e.floor(i),t[n]=e.ceil(a),t}function mP(t){return Math.log(t)}function gP(t){return Math.exp(t)}function Xle(t){return-Math.log(-t)}function Yle(t){return-Math.exp(-t)}function Qle(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Jle(t){return t===10?Qle:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Zle(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function yP(t){return(e,r)=>-t(-e,r)}function dk(t){const e=t(mP,gP),r=e.domain;let n=10,i,a;function o(){return i=Zle(n),a=Jle(n),r()[0]<0?(i=yP(i),a=yP(a),t(Xle,Yle)):t(mP,gP),e}return e.base=function(s){return arguments.length?(n=+s,o()):n},e.domain=function(s){return arguments.length?(r(s),o()):r()},e.ticks=s=>{const l=r();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let h=i(c),p=i(u),g,b;const v=s==null?10:+s;let _=[];if(!(n%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(g=1;g<n;++g)if(b=h<0?g/a(-h):g*a(h),!(b<c)){if(b>u)break;_.push(b)}}else for(;h<=p;++h)for(g=n-1;g>=1;--g)if(b=h>0?g/a(-h):g*a(h),!(b<c)){if(b>u)break;_.push(b)}_.length*2<v&&(_=xx(c,u,v))}else _=xx(h,p,Math.min(p-h,v)).map(a);return f?_.reverse():_},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Lf(l)).precision==null&&(l.trim=!0),l=fk(l)),s===1/0)return l;const c=Math.max(1,n*s/e.ticks().length);return u=>{let f=u/a(Math.round(i(u)));return f*n<n-.5&&(f*=n),f<=c?l(u):""}},e.nice=()=>r(R$(r(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function j$(){const t=dk(wy()).domain([1,10]);return t.copy=()=>Fd(t,j$()).base(t.base()),Cn.apply(t,arguments),t}function vP(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function bP(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function hk(t){var e=1,r=t(vP(e),bP(e));return r.constant=function(n){return arguments.length?t(vP(e=+n),bP(e)):e},bo(r)}function D$(){var t=hk(wy());return t.copy=function(){return Fd(t,D$()).constant(t.constant())},Cn.apply(t,arguments)}function xP(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function ece(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function tce(t){return t<0?-t*t:t*t}function pk(t){var e=t(Lr,Lr),r=1;function n(){return r===1?t(Lr,Lr):r===.5?t(ece,tce):t(xP(r),xP(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},bo(e)}function mk(){var t=pk(wy());return t.copy=function(){return Fd(t,mk()).exponent(t.exponent())},Cn.apply(t,arguments),t}function rce(){return mk.apply(null,arguments).exponent(.5)}function wP(t){return Math.sign(t)*t*t}function nce(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function M$(){var t=ck(),e=[0,1],r=!1,n;function i(a){var o=nce(t(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return t.invert(wP(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,jm)).map(wP)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return M$(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Cn.apply(i,arguments),bo(i)}function $$(){var t=[],e=[],r=[],n;function i(){var o=0,s=Math.max(1,e.length);for(r=new Array(s-1);++o<s;)r[o-1]=lle(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?n:e[$d(r,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:t[0],s<r.length?r[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Ja),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return $$().domain(t).range(e).unknown(n)},Cn.apply(a,arguments)}function L$(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[$d(n,l,0,r)]:a}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,n[0]]:c>=r?[n[r-1],e]:[n[c-1],n[c]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return L$().domain([t,e]).range(i).unknown(a)},Cn.apply(bo(o),arguments)}function F$(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[$d(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return F$().domain(t).range(e).unknown(r)},Cn.apply(i,arguments)}const a0=new Date,o0=new Date;function Zt(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let c;do l.push(c=new Date(+a)),e(a,s),t(a);while(c<a&&a<o);return l},i.filter=a=>Zt(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),r&&(i.count=(a,o)=>(a0.setTime(+a),o0.setTime(+o),t(a0),t(o0),Math.floor(r(a0,o0))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const $m=Zt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);$m.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Zt(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):$m);$m.range;const Li=1e3,En=Li*60,Fi=En*60,ra=Fi*24,gk=ra*7,_P=ra*30,s0=ra*365,zo=Zt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Li)},(t,e)=>(e-t)/Li,t=>t.getUTCSeconds());zo.range;const yk=Zt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Li)},(t,e)=>{t.setTime(+t+e*En)},(t,e)=>(e-t)/En,t=>t.getMinutes());yk.range;const vk=Zt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*En)},(t,e)=>(e-t)/En,t=>t.getUTCMinutes());vk.range;const bk=Zt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Li-t.getMinutes()*En)},(t,e)=>{t.setTime(+t+e*Fi)},(t,e)=>(e-t)/Fi,t=>t.getHours());bk.range;const xk=Zt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Fi)},(t,e)=>(e-t)/Fi,t=>t.getUTCHours());xk.range;const Vd=Zt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*En)/ra,t=>t.getDate()-1);Vd.range;const _y=Zt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ra,t=>t.getUTCDate()-1);_y.range;const V$=Zt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ra,t=>Math.floor(t/ra));V$.range;function Ts(t){return Zt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*En)/gk)}const ky=Ts(0),Lm=Ts(1),ice=Ts(2),ace=Ts(3),Gl=Ts(4),oce=Ts(5),sce=Ts(6);ky.range;Lm.range;ice.range;ace.range;Gl.range;oce.range;sce.range;function As(t){return Zt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/gk)}const Ey=As(0),Fm=As(1),lce=As(2),cce=As(3),Xl=As(4),uce=As(5),fce=As(6);Ey.range;Fm.range;lce.range;cce.range;Xl.range;uce.range;fce.range;const wk=Zt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());wk.range;const _k=Zt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());_k.range;const na=Zt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());na.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Zt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});na.range;const ia=Zt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ia.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Zt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});ia.range;function U$(t,e,r,n,i,a){const o=[[zo,1,Li],[zo,5,5*Li],[zo,15,15*Li],[zo,30,30*Li],[a,1,En],[a,5,5*En],[a,15,15*En],[a,30,30*En],[i,1,Fi],[i,3,3*Fi],[i,6,6*Fi],[i,12,12*Fi],[n,1,ra],[n,2,2*ra],[r,1,gk],[e,1,_P],[e,3,3*_P],[t,1,s0]];function s(c,u,f){const h=u<c;h&&([c,u]=[u,c]);const p=f&&typeof f.range=="function"?f:l(c,u,f),g=p?p.range(c,+u+1):[];return h?g.reverse():g}function l(c,u,f){const h=Math.abs(u-c)/f,p=ik(([,,v])=>v).right(o,h);if(p===o.length)return t.every(_x(c/s0,u/s0,f));if(p===0)return $m.every(Math.max(_x(c,u,f),1));const[g,b]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return g.every(b)}return[s,l]}const[dce,hce]=U$(ia,_k,Ey,V$,xk,vk),[pce,mce]=U$(na,wk,ky,Vd,bk,yk);function l0(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function c0(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function iu(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function gce(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,c=au(i),u=ou(i),f=au(a),h=ou(a),p=au(o),g=ou(o),b=au(s),v=ou(s),_=au(l),y=ou(l),x={a:X,A:V,b:Q,B:ee,c:null,d:PP,e:PP,f:Fce,g:Xce,G:Qce,H:Mce,I:$ce,j:Lce,L:B$,m:Vce,M:Uce,p:oe,q:Z,Q:CP,s:NP,S:Bce,u:zce,U:Wce,V:qce,w:Hce,W:Kce,x:null,X:null,y:Gce,Y:Yce,Z:Jce,"%":OP},k={a:le,A:Ee,b:je,B:et,c:null,d:IP,e:IP,f:rue,g:due,G:pue,H:Zce,I:eue,j:tue,L:W$,m:nue,M:iue,p:Fe,q:Mt,Q:CP,s:NP,S:aue,u:oue,U:sue,V:lue,w:cue,W:uue,x:null,X:null,y:fue,Y:hue,Z:mue,"%":OP},T={a:I,A:R,b:N,B:O,c:F,d:TP,e:TP,f:Nce,g:SP,G:EP,H:AP,I:AP,j:Pce,L:Cce,m:Ace,M:Ice,p:P,q:Tce,Q:jce,s:Dce,S:Oce,u:wce,U:_ce,V:kce,w:xce,W:Ece,x:W,X:H,y:SP,Y:EP,Z:Sce,"%":Rce};x.x=C(r,x),x.X=C(n,x),x.c=C(e,x),k.x=C(r,k),k.X=C(n,k),k.c=C(e,k);function C(ce,be){return function(we){var J=[],Ve=-1,Pe=0,Ge=ce.length,Xe,se,M;for(we instanceof Date||(we=new Date(+we));++Ve<Ge;)ce.charCodeAt(Ve)===37&&(J.push(ce.slice(Pe,Ve)),(se=kP[Xe=ce.charAt(++Ve)])!=null?Xe=ce.charAt(++Ve):se=Xe==="e"?" ":"0",(M=be[Xe])&&(Xe=M(we,se)),J.push(Xe),Pe=Ve+1);return J.push(ce.slice(Pe,Ve)),J.join("")}}function S(ce,be){return function(we){var J=iu(1900,void 0,1),Ve=E(J,ce,we+="",0),Pe,Ge;if(Ve!=we.length)return null;if("Q"in J)return new Date(J.Q);if("s"in J)return new Date(J.s*1e3+("L"in J?J.L:0));if(be&&!("Z"in J)&&(J.Z=0),"p"in J&&(J.H=J.H%12+J.p*12),J.m===void 0&&(J.m="q"in J?J.q:0),"V"in J){if(J.V<1||J.V>53)return null;"w"in J||(J.w=1),"Z"in J?(Pe=c0(iu(J.y,0,1)),Ge=Pe.getUTCDay(),Pe=Ge>4||Ge===0?Fm.ceil(Pe):Fm(Pe),Pe=_y.offset(Pe,(J.V-1)*7),J.y=Pe.getUTCFullYear(),J.m=Pe.getUTCMonth(),J.d=Pe.getUTCDate()+(J.w+6)%7):(Pe=l0(iu(J.y,0,1)),Ge=Pe.getDay(),Pe=Ge>4||Ge===0?Lm.ceil(Pe):Lm(Pe),Pe=Vd.offset(Pe,(J.V-1)*7),J.y=Pe.getFullYear(),J.m=Pe.getMonth(),J.d=Pe.getDate()+(J.w+6)%7)}else("W"in J||"U"in J)&&("w"in J||(J.w="u"in J?J.u%7:"W"in J?1:0),Ge="Z"in J?c0(iu(J.y,0,1)).getUTCDay():l0(iu(J.y,0,1)).getDay(),J.m=0,J.d="W"in J?(J.w+6)%7+J.W*7-(Ge+5)%7:J.w+J.U*7-(Ge+6)%7);return"Z"in J?(J.H+=J.Z/100|0,J.M+=J.Z%100,c0(J)):l0(J)}}function E(ce,be,we,J){for(var Ve=0,Pe=be.length,Ge=we.length,Xe,se;Ve<Pe;){if(J>=Ge)return-1;if(Xe=be.charCodeAt(Ve++),Xe===37){if(Xe=be.charAt(Ve++),se=T[Xe in kP?be.charAt(Ve++):Xe],!se||(J=se(ce,we,J))<0)return-1}else if(Xe!=we.charCodeAt(J++))return-1}return J}function P(ce,be,we){var J=c.exec(be.slice(we));return J?(ce.p=u.get(J[0].toLowerCase()),we+J[0].length):-1}function I(ce,be,we){var J=p.exec(be.slice(we));return J?(ce.w=g.get(J[0].toLowerCase()),we+J[0].length):-1}function R(ce,be,we){var J=f.exec(be.slice(we));return J?(ce.w=h.get(J[0].toLowerCase()),we+J[0].length):-1}function N(ce,be,we){var J=_.exec(be.slice(we));return J?(ce.m=y.get(J[0].toLowerCase()),we+J[0].length):-1}function O(ce,be,we){var J=b.exec(be.slice(we));return J?(ce.m=v.get(J[0].toLowerCase()),we+J[0].length):-1}function F(ce,be,we){return E(ce,e,be,we)}function W(ce,be,we){return E(ce,r,be,we)}function H(ce,be,we){return E(ce,n,be,we)}function X(ce){return o[ce.getDay()]}function V(ce){return a[ce.getDay()]}function Q(ce){return l[ce.getMonth()]}function ee(ce){return s[ce.getMonth()]}function oe(ce){return i[+(ce.getHours()>=12)]}function Z(ce){return 1+~~(ce.getMonth()/3)}function le(ce){return o[ce.getUTCDay()]}function Ee(ce){return a[ce.getUTCDay()]}function je(ce){return l[ce.getUTCMonth()]}function et(ce){return s[ce.getUTCMonth()]}function Fe(ce){return i[+(ce.getUTCHours()>=12)]}function Mt(ce){return 1+~~(ce.getUTCMonth()/3)}return{format:function(ce){var be=C(ce+="",x);return be.toString=function(){return ce},be},parse:function(ce){var be=S(ce+="",!1);return be.toString=function(){return ce},be},utcFormat:function(ce){var be=C(ce+="",k);return be.toString=function(){return ce},be},utcParse:function(ce){var be=S(ce+="",!0);return be.toString=function(){return ce},be}}}var kP={"-":"",_:" ",0:"0"},sr=/^\s*\d+/,yce=/^%/,vce=/[\\^$*+?|[\]().{}]/g;function Je(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function bce(t){return t.replace(vce,"\\$&")}function au(t){return new RegExp("^(?:"+t.map(bce).join("|")+")","i")}function ou(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function xce(t,e,r){var n=sr.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function wce(t,e,r){var n=sr.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function _ce(t,e,r){var n=sr.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function kce(t,e,r){var n=sr.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function Ece(t,e,r){var n=sr.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function EP(t,e,r){var n=sr.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function SP(t,e,r){var n=sr.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Sce(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Tce(t,e,r){var n=sr.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function Ace(t,e,r){var n=sr.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function TP(t,e,r){var n=sr.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function Pce(t,e,r){var n=sr.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function AP(t,e,r){var n=sr.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function Ice(t,e,r){var n=sr.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function Oce(t,e,r){var n=sr.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function Cce(t,e,r){var n=sr.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function Nce(t,e,r){var n=sr.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Rce(t,e,r){var n=yce.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function jce(t,e,r){var n=sr.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function Dce(t,e,r){var n=sr.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function PP(t,e){return Je(t.getDate(),e,2)}function Mce(t,e){return Je(t.getHours(),e,2)}function $ce(t,e){return Je(t.getHours()%12||12,e,2)}function Lce(t,e){return Je(1+Vd.count(na(t),t),e,3)}function B$(t,e){return Je(t.getMilliseconds(),e,3)}function Fce(t,e){return B$(t,e)+"000"}function Vce(t,e){return Je(t.getMonth()+1,e,2)}function Uce(t,e){return Je(t.getMinutes(),e,2)}function Bce(t,e){return Je(t.getSeconds(),e,2)}function zce(t){var e=t.getDay();return e===0?7:e}function Wce(t,e){return Je(ky.count(na(t)-1,t),e,2)}function z$(t){var e=t.getDay();return e>=4||e===0?Gl(t):Gl.ceil(t)}function qce(t,e){return t=z$(t),Je(Gl.count(na(t),t)+(na(t).getDay()===4),e,2)}function Hce(t){return t.getDay()}function Kce(t,e){return Je(Lm.count(na(t)-1,t),e,2)}function Gce(t,e){return Je(t.getFullYear()%100,e,2)}function Xce(t,e){return t=z$(t),Je(t.getFullYear()%100,e,2)}function Yce(t,e){return Je(t.getFullYear()%1e4,e,4)}function Qce(t,e){var r=t.getDay();return t=r>=4||r===0?Gl(t):Gl.ceil(t),Je(t.getFullYear()%1e4,e,4)}function Jce(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Je(e/60|0,"0",2)+Je(e%60,"0",2)}function IP(t,e){return Je(t.getUTCDate(),e,2)}function Zce(t,e){return Je(t.getUTCHours(),e,2)}function eue(t,e){return Je(t.getUTCHours()%12||12,e,2)}function tue(t,e){return Je(1+_y.count(ia(t),t),e,3)}function W$(t,e){return Je(t.getUTCMilliseconds(),e,3)}function rue(t,e){return W$(t,e)+"000"}function nue(t,e){return Je(t.getUTCMonth()+1,e,2)}function iue(t,e){return Je(t.getUTCMinutes(),e,2)}function aue(t,e){return Je(t.getUTCSeconds(),e,2)}function oue(t){var e=t.getUTCDay();return e===0?7:e}function sue(t,e){return Je(Ey.count(ia(t)-1,t),e,2)}function q$(t){var e=t.getUTCDay();return e>=4||e===0?Xl(t):Xl.ceil(t)}function lue(t,e){return t=q$(t),Je(Xl.count(ia(t),t)+(ia(t).getUTCDay()===4),e,2)}function cue(t){return t.getUTCDay()}function uue(t,e){return Je(Fm.count(ia(t)-1,t),e,2)}function fue(t,e){return Je(t.getUTCFullYear()%100,e,2)}function due(t,e){return t=q$(t),Je(t.getUTCFullYear()%100,e,2)}function hue(t,e){return Je(t.getUTCFullYear()%1e4,e,4)}function pue(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Xl(t):Xl.ceil(t),Je(t.getUTCFullYear()%1e4,e,4)}function mue(){return"+0000"}function OP(){return"%"}function CP(t){return+t}function NP(t){return Math.floor(+t/1e3)}var Us,H$,K$;gue({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function gue(t){return Us=gce(t),H$=Us.format,Us.parse,K$=Us.utcFormat,Us.utcParse,Us}function yue(t){return new Date(t)}function vue(t){return t instanceof Date?+t:+new Date(+t)}function kk(t,e,r,n,i,a,o,s,l,c){var u=ck(),f=u.invert,h=u.domain,p=c(".%L"),g=c(":%S"),b=c("%I:%M"),v=c("%I %p"),_=c("%a %d"),y=c("%b %d"),x=c("%B"),k=c("%Y");function T(C){return(l(C)<C?p:s(C)<C?g:o(C)<C?b:a(C)<C?v:n(C)<C?i(C)<C?_:y:r(C)<C?x:k)(C)}return u.invert=function(C){return new Date(f(C))},u.domain=function(C){return arguments.length?h(Array.from(C,vue)):h().map(yue)},u.ticks=function(C){var S=h();return t(S[0],S[S.length-1],C??10)},u.tickFormat=function(C,S){return S==null?T:c(S)},u.nice=function(C){var S=h();return(!C||typeof C.range!="function")&&(C=e(S[0],S[S.length-1],C??10)),C?h(R$(S,C)):u},u.copy=function(){return Fd(u,kk(t,e,r,n,i,a,o,s,l,c))},u}function bue(){return Cn.apply(kk(pce,mce,na,wk,ky,Vd,bk,yk,zo,H$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function xue(){return Cn.apply(kk(dce,hce,ia,_k,Ey,_y,xk,vk,zo,K$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Sy(){var t=0,e=1,r,n,i,a,o=Lr,s=!1,l;function c(f){return f==null||isNaN(f=+f)?l:o(i===0?.5:(f=(a(f)-r)*i,s?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([t,e]=f,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),c):[t,e]},c.clamp=function(f){return arguments.length?(s=!!f,c):s},c.interpolator=function(f){return arguments.length?(o=f,c):o};function u(f){return function(h){var p,g;return arguments.length?([p,g]=h,o=f(p,g),c):[o(0),o(1)]}}return c.range=u(Ec),c.rangeRound=u(lk),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return a=f,r=f(t),n=f(e),i=r===n?0:1/(n-r),c}}function xo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function G$(){var t=bo(Sy()(Lr));return t.copy=function(){return xo(t,G$())},ca.apply(t,arguments)}function X$(){var t=dk(Sy()).domain([1,10]);return t.copy=function(){return xo(t,X$()).base(t.base())},ca.apply(t,arguments)}function Y$(){var t=hk(Sy());return t.copy=function(){return xo(t,Y$()).constant(t.constant())},ca.apply(t,arguments)}function Ek(){var t=pk(Sy());return t.copy=function(){return xo(t,Ek()).exponent(t.exponent())},ca.apply(t,arguments)}function wue(){return Ek.apply(null,arguments).exponent(.5)}function Q$(){var t=[],e=Lr;function r(n){if(n!=null&&!isNaN(n=+n))return e(($d(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ja),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>sle(t,a/n))},r.copy=function(){return Q$(e).domain(t)},ca.apply(r,arguments)}function Ty(){var t=0,e=.5,r=1,n=1,i,a,o,s,l,c=Lr,u,f=!1,h;function p(b){return isNaN(b=+b)?h:(b=.5+((b=+u(b))-a)*(n*b<n*a?s:l),c(f?Math.max(0,Math.min(1,b)):b))}p.domain=function(b){return arguments.length?([t,e,r]=b,i=u(t=+t),a=u(e=+e),o=u(r=+r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,p):[t,e,r]},p.clamp=function(b){return arguments.length?(f=!!b,p):f},p.interpolator=function(b){return arguments.length?(c=b,p):c};function g(b){return function(v){var _,y,x;return arguments.length?([_,y,x]=v,c=Rle(b,[_,y,x]),p):[c(0),c(.5),c(1)]}}return p.range=g(Ec),p.rangeRound=g(lk),p.unknown=function(b){return arguments.length?(h=b,p):h},function(b){return u=b,i=b(t),a=b(e),o=b(r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,p}}function J$(){var t=bo(Ty()(Lr));return t.copy=function(){return xo(t,J$())},ca.apply(t,arguments)}function Z$(){var t=dk(Ty()).domain([.1,1,10]);return t.copy=function(){return xo(t,Z$()).base(t.base())},ca.apply(t,arguments)}function eL(){var t=hk(Ty());return t.copy=function(){return xo(t,eL()).constant(t.constant())},ca.apply(t,arguments)}function Sk(){var t=pk(Ty());return t.copy=function(){return xo(t,Sk()).exponent(t.exponent())},ca.apply(t,arguments)}function _ue(){return Sk.apply(null,arguments).exponent(.5)}const RP=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:jf,scaleDiverging:J$,scaleDivergingLog:Z$,scaleDivergingPow:Sk,scaleDivergingSqrt:_ue,scaleDivergingSymlog:eL,scaleIdentity:N$,scaleImplicit:kx,scaleLinear:Mm,scaleLog:j$,scaleOrdinal:ak,scalePoint:Wu,scalePow:mk,scaleQuantile:$$,scaleQuantize:L$,scaleRadial:M$,scaleSequential:G$,scaleSequentialLog:X$,scaleSequentialPow:Ek,scaleSequentialQuantile:Q$,scaleSequentialSqrt:wue,scaleSequentialSymlog:Y$,scaleSqrt:rce,scaleSymlog:D$,scaleThreshold:F$,scaleTime:bue,scaleUtc:xue,tickFormat:C$},Symbol.toStringTag,{value:"Module"}));var kue=gc;function Eue(t,e,r){for(var n=-1,i=t.length;++n<i;){var a=t[n],o=e(a);if(o!=null&&(s===void 0?o===o&&!kue(o):r(o,s)))var s=o,l=a}return l}var Ay=Eue;function Sue(t,e){return t>e}var tL=Sue,Tue=Ay,Aue=tL,Pue=kc;function Iue(t){return t&&t.length?Tue(t,Pue,Aue):void 0}var Oue=Iue;const Py=nt(Oue);function Cue(t,e){return t<e}var rL=Cue,Nue=Ay,Rue=rL,jue=kc;function Due(t){return t&&t.length?Nue(t,jue,Rue):void 0}var Mue=Due;const Iy=nt(Mue);var $ue=$1,Lue=ki,Fue=u$,Vue=en;function Uue(t,e){var r=Vue(t)?$ue:Fue;return r(t,Lue(e))}var Bue=Uue,zue=l$,Wue=Bue;function que(t,e){return zue(Wue(t,e),1)}var Hue=que;const Kue=nt(Hue);var Gue=Z1;function Xue(t,e){return Gue(t,e)}var Yue=Xue;const Oy=nt(Yue);var Sc=1e9,Que={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Ak,Et=!0,On="[DecimalError] ",Yo=On+"Invalid argument: ",Tk=On+"Exponent out of range: ",Tc=Math.floor,Do=Math.pow,Jue=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,on,rr=1e7,vt=7,nL=9007199254740991,Vm=Tc(nL/vt),me={};me.absoluteValue=me.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};me.comparedTo=me.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};me.decimalPlaces=me.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*vt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};me.dividedBy=me.div=function(t){return Hi(this,new this.constructor(t))};me.dividedToIntegerBy=me.idiv=function(t){var e=this,r=e.constructor;return ct(Hi(e,new r(t),0,1),r.precision)};me.equals=me.eq=function(t){return!this.cmp(t)};me.exponent=function(){return Ht(this)};me.greaterThan=me.gt=function(t){return this.cmp(t)>0};me.greaterThanOrEqualTo=me.gte=function(t){return this.cmp(t)>=0};me.isInteger=me.isint=function(){return this.e>this.d.length-2};me.isNegative=me.isneg=function(){return this.s<0};me.isPositive=me.ispos=function(){return this.s>0};me.isZero=function(){return this.s===0};me.lessThan=me.lt=function(t){return this.cmp(t)<0};me.lessThanOrEqualTo=me.lte=function(t){return this.cmp(t)<1};me.logarithm=me.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(on))throw Error(On+"NaN");if(r.s<1)throw Error(On+(r.s?"NaN":"-Infinity"));return r.eq(on)?new n(0):(Et=!1,e=Hi(Ff(r,a),Ff(t,a),a),Et=!0,ct(e,i))};me.minus=me.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?oL(e,t):iL(e,(t.s=-t.s,t))};me.modulo=me.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(On+"NaN");return r.s?(Et=!1,e=Hi(r,t,0,1).times(t),Et=!0,r.minus(e)):ct(new n(r),i)};me.naturalExponential=me.exp=function(){return aL(this)};me.naturalLogarithm=me.ln=function(){return Ff(this)};me.negated=me.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};me.plus=me.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?iL(e,t):oL(e,(t.s=-t.s,t))};me.precision=me.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Yo+t);if(e=Ht(i)+1,n=i.d.length-1,r=n*vt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};me.squareRoot=me.sqrt=function(){var t,e,r,n,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(On+"NaN")}for(t=Ht(s),Et=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=ci(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Tc((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(i.toString()),r=l.precision,i=o=r+3;;)if(a=n,n=a.plus(Hi(s,a,o+2)).times(.5),ci(a.d).slice(0,o)===(e=ci(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(ct(a,r+1,0),a.times(a).eq(s)){n=a;break}}else if(e!="9999")break;o+=4}return Et=!0,ct(n,r)};me.times=me.mul=function(t){var e,r,n,i,a,o,s,l,c,u=this,f=u.constructor,h=u.d,p=(t=new f(t)).d;if(!u.s||!t.s)return new f(0);for(t.s*=u.s,r=u.e+t.e,l=h.length,c=p.length,l<c&&(a=h,h=p,p=a,o=l,l=c,c=o),a=[],o=l+c,n=o;n--;)a.push(0);for(n=c;--n>=0;){for(e=0,i=l+n;i>n;)s=a[i]+p[n]*h[i-n-1]+e,a[i--]=s%rr|0,e=s/rr|0;a[i]=(a[i]+e)%rr|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,Et?ct(t,f.precision):t};me.toDecimalPlaces=me.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(xi(t,0,Sc),e===void 0?e=n.rounding:xi(e,0,8),ct(r,t+Ht(r)+1,e))};me.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=ds(n,!0):(xi(t,0,Sc),e===void 0?e=i.rounding:xi(e,0,8),n=ct(new i(n),t+1,e),r=ds(n,!0,t+1)),r};me.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?ds(i):(xi(t,0,Sc),e===void 0?e=a.rounding:xi(e,0,8),n=ct(new a(i),t+Ht(i)+1,e),r=ds(n.abs(),!1,t+Ht(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};me.toInteger=me.toint=function(){var t=this,e=t.constructor;return ct(new e(t),Ht(t)+1,e.rounding)};me.toNumber=function(){return+this};me.toPower=me.pow=function(t){var e,r,n,i,a,o,s=this,l=s.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(on);if(s=new l(s),!s.s){if(t.s<1)throw Error(On+"Infinity");return s}if(s.eq(on))return s;if(n=l.precision,t.eq(on))return ct(s,n);if(e=t.e,r=t.d.length-1,o=e>=r,a=s.s,o){if((r=u<0?-u:u)<=nL){for(i=new l(on),e=Math.ceil(n/vt+4),Et=!1;r%2&&(i=i.times(s),DP(i.d,e)),r=Tc(r/2),r!==0;)s=s.times(s),DP(s.d,e);return Et=!0,t.s<0?new l(on).div(i):ct(i,n)}}else if(a<0)throw Error(On+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,s.s=1,Et=!1,i=t.times(Ff(s,n+c)),Et=!0,i=aL(i),i.s=a,i};me.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=Ht(i),n=ds(i,r<=a.toExpNeg||r>=a.toExpPos)):(xi(t,1,Sc),e===void 0?e=a.rounding:xi(e,0,8),i=ct(new a(i),t,e),r=Ht(i),n=ds(i,t<=r||r<=a.toExpNeg,t)),n};me.toSignificantDigits=me.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(xi(t,1,Sc),e===void 0?e=n.rounding:xi(e,0,8)),ct(new n(r),t,e)};me.toString=me.valueOf=me.val=me.toJSON=me[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Ht(t),r=t.constructor;return ds(t,e<=r.toExpNeg||e>=r.toExpPos)};function iL(t,e){var r,n,i,a,o,s,l,c,u=t.constructor,f=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),Et?ct(e,f):e;if(l=t.d,c=e.d,o=t.e,i=e.e,l=l.slice(),a=o-i,a){for(a<0?(n=l,a=-a,s=c.length):(n=c,i=o,s=l.length),o=Math.ceil(f/vt),s=o>s?o+1:s+1,a>s&&(a=s,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(s=l.length,a=c.length,s-a<0&&(a=s,n=c,c=l,l=n),r=0;a;)r=(l[--a]=l[a]+c[a]+r)/rr|0,l[a]%=rr;for(r&&(l.unshift(r),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,Et?ct(e,f):e}function xi(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Yo+t)}function ci(t){var e,r,n,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)n=t[e]+"",r=vt-n.length,r&&(a+=ka(r)),a+=n;o=t[e],n=o+"",r=vt-n.length,r&&(a+=ka(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Hi=function(){function t(n,i){var a,o=0,s=n.length;for(n=n.slice();s--;)a=n[s]*i+o,n[s]=a%rr|0,o=a/rr|0;return o&&n.unshift(o),n}function e(n,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(n[s]!=i[s]){l=n[s]>i[s]?1:-1;break}return l}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*rr+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var s,l,c,u,f,h,p,g,b,v,_,y,x,k,T,C,S,E,P=n.constructor,I=n.s==i.s?1:-1,R=n.d,N=i.d;if(!n.s)return new P(n);if(!i.s)throw Error(On+"Division by zero");for(l=n.e-i.e,S=N.length,T=R.length,p=new P(I),g=p.d=[],c=0;N[c]==(R[c]||0);)++c;if(N[c]>(R[c]||0)&&--l,a==null?y=a=P.precision:o?y=a+(Ht(n)-Ht(i))+1:y=a,y<0)return new P(0);if(y=y/vt+2|0,c=0,S==1)for(u=0,N=N[0],y++;(c<T||u)&&y--;c++)x=u*rr+(R[c]||0),g[c]=x/N|0,u=x%N|0;else{for(u=rr/(N[0]+1)|0,u>1&&(N=t(N,u),R=t(R,u),S=N.length,T=R.length),k=S,b=R.slice(0,S),v=b.length;v<S;)b[v++]=0;E=N.slice(),E.unshift(0),C=N[0],N[1]>=rr/2&&++C;do u=0,s=e(N,b,S,v),s<0?(_=b[0],S!=v&&(_=_*rr+(b[1]||0)),u=_/C|0,u>1?(u>=rr&&(u=rr-1),f=t(N,u),h=f.length,v=b.length,s=e(f,b,h,v),s==1&&(u--,r(f,S<h?E:N,h))):(u==0&&(s=u=1),f=N.slice()),h=f.length,h<v&&f.unshift(0),r(b,f,v),s==-1&&(v=b.length,s=e(N,b,S,v),s<1&&(u++,r(b,S<v?E:N,v))),v=b.length):s===0&&(u++,b=[0]),g[c++]=u,s&&b[0]?b[v++]=R[k]||0:(b=[R[k]],v=1);while((k++<T||b[0]!==void 0)&&y--)}return g[0]||g.shift(),p.e=l,ct(p,o?a+Ht(p)+1:a)}}();function aL(t,e){var r,n,i,a,o,s,l=0,c=0,u=t.constructor,f=u.precision;if(Ht(t)>16)throw Error(Tk+Ht(t));if(!t.s)return new u(on);for(e==null?(Et=!1,s=f):s=e,o=new u(.03125);t.abs().gte(.1);)t=t.times(o),c+=5;for(n=Math.log(Do(2,c))/Math.LN10*2+5|0,s+=n,r=i=a=new u(on),u.precision=s;;){if(i=ct(i.times(t),s),r=r.times(++l),o=a.plus(Hi(i,r,s)),ci(o.d).slice(0,s)===ci(a.d).slice(0,s)){for(;c--;)a=ct(a.times(a),s);return u.precision=f,e==null?(Et=!0,ct(a,f)):a}a=o}}function Ht(t){for(var e=t.e*vt,r=t.d[0];r>=10;r/=10)e++;return e}function u0(t,e,r){if(e>t.LN10.sd())throw Et=!0,r&&(t.precision=r),Error(On+"LN10 precision limit exceeded");return ct(new t(t.LN10),e)}function ka(t){for(var e="";t--;)e+="0";return e}function Ff(t,e){var r,n,i,a,o,s,l,c,u,f=1,h=10,p=t,g=p.d,b=p.constructor,v=b.precision;if(p.s<1)throw Error(On+(p.s?"NaN":"-Infinity"));if(p.eq(on))return new b(0);if(e==null?(Et=!1,c=v):c=e,p.eq(10))return e==null&&(Et=!0),u0(b,c);if(c+=h,b.precision=c,r=ci(g),n=r.charAt(0),a=Ht(p),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(t),r=ci(p.d),n=r.charAt(0),f++;a=Ht(p),n>1?(p=new b("0."+r),a++):p=new b(n+"."+r.slice(1))}else return l=u0(b,c+2,v).times(a+""),p=Ff(new b(n+"."+r.slice(1)),c-h).plus(l),b.precision=v,e==null?(Et=!0,ct(p,v)):p;for(s=o=p=Hi(p.minus(on),p.plus(on),c),u=ct(p.times(p),c),i=3;;){if(o=ct(o.times(u),c),l=s.plus(Hi(o,new b(i),c)),ci(l.d).slice(0,c)===ci(s.d).slice(0,c))return s=s.times(2),a!==0&&(s=s.plus(u0(b,c+2,v).times(a+""))),s=Hi(s,new b(f),c),b.precision=v,e==null?(Et=!0,ct(s,v)):s;s=l,i+=2}}function jP(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Tc(r/vt),t.d=[],n=(r+1)%vt,r<0&&(n+=vt),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=vt;n<i;)t.d.push(+e.slice(n,n+=vt));e=e.slice(n),n=vt-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Et&&(t.e>Vm||t.e<-Vm))throw Error(Tk+r)}else t.s=0,t.e=0,t.d=[0];return t}function ct(t,e,r){var n,i,a,o,s,l,c,u,f=t.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(n=e-o,n<0)n+=vt,i=e,c=f[u=0];else{if(u=Math.ceil((n+1)/vt),a=f.length,u>=a)return t;for(c=a=f[u],o=1;a>=10;a/=10)o++;n%=vt,i=n-vt+o}if(r!==void 0&&(a=Do(10,o-i-1),s=c/a%10|0,l=e<0||f[u+1]!==void 0||c%a,l=r<4?(s||l)&&(r==0||r==(t.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?i>0?c/Do(10,o-i):0:f[u-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return l?(a=Ht(t),f.length=1,e=e-a-1,f[0]=Do(10,(vt-e%vt)%vt),t.e=Tc(-e/vt)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=u,a=1,u--):(f.length=u+1,a=Do(10,vt-n),f[u]=i>0?(c/Do(10,o-i)%Do(10,i)|0)*a:0),l)for(;;)if(u==0){(f[0]+=a)==rr&&(f[0]=1,++t.e);break}else{if(f[u]+=a,f[u]!=rr)break;f[u--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(Et&&(t.e>Vm||t.e<-Vm))throw Error(Tk+Ht(t));return t}function oL(t,e){var r,n,i,a,o,s,l,c,u,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Et?ct(e,p):e;if(l=t.d,f=e.d,n=e.e,c=t.e,l=l.slice(),o=c-n,o){for(u=o<0,u?(r=l,o=-o,s=f.length):(r=f,n=c,s=l.length),i=Math.max(Math.ceil(p/vt),s)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=l.length,s=f.length,u=i<s,u&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){u=l[i]<f[i];break}o=0}for(u&&(r=l,l=f,f=r,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>o;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=rr-1;--l[a],l[i]+=rr}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,Et?ct(e,p):e):new h(0)}function ds(t,e,r){var n,i=Ht(t),a=ci(t.d),o=a.length;return e?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+ka(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+ka(-i-1)+a,r&&(n=r-o)>0&&(a+=ka(n))):i>=o?(a+=ka(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+ka(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=ka(n))),t.s<0?"-"+a:a}function DP(t,e){if(t.length>e)return t.length=e,!0}function sL(t){var e,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Yo+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return jP(o,a.toString())}else if(typeof a!="string")throw Error(Yo+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,Jue.test(a))jP(o,a);else throw Error(Yo+a)}if(i.prototype=me,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=sL,i.config=i.set=Zue,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function Zue(t){if(!t||typeof t!="object")throw Error(On+"Object expected");var e,r,n,i=["precision",1,Sc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Tc(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Yo+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Yo+r+": "+n);return this}var Ak=sL(Que);on=new Ak(1);const ot=Ak;function efe(t){return ife(t)||nfe(t)||rfe(t)||tfe()}function tfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rfe(t,e){if(t){if(typeof t=="string")return Ax(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ax(t,e)}}function nfe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function ife(t){if(Array.isArray(t))return Ax(t)}function Ax(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var afe=function(e){return e},lL={"@@functional/placeholder":!0},cL=function(e){return e===lL},MP=function(e){return function r(){return arguments.length===0||arguments.length===1&&cL(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},ofe=function t(e,r){return e===1?r:MP(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==lL}).length;return o>=e?r.apply(void 0,i):t(e-o,MP(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var u=i.map(function(f){return cL(f)?l.shift():f});return r.apply(void 0,efe(u).concat(l))}))})},Cy=function(e){return ofe(e.length,e)},Px=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},sfe=Cy(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),lfe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return afe;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},Ix=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},uL=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r&&a.every(function(s,l){return s===r[l]})||(r=a,n=e.apply(void 0,a)),n}};function cfe(t){var e;return t===0?e=1:e=Math.floor(new ot(t).abs().log(10).toNumber())+1,e}function ufe(t,e,r){for(var n=new ot(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var ffe=Cy(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),dfe=Cy(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),hfe=Cy(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const Ny={rangeStep:ufe,getDigitCount:cfe,interpolateNumber:ffe,uninterpolateNumber:dfe,uninterpolateTruncation:hfe};function Ox(t){return gfe(t)||mfe(t)||fL(t)||pfe()}function pfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mfe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function gfe(t){if(Array.isArray(t))return Cx(t)}function Vf(t,e){return bfe(t)||vfe(t,e)||fL(t,e)||yfe()}function yfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fL(t,e){if(t){if(typeof t=="string")return Cx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cx(t,e)}}function Cx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vfe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(n=(s=o.next()).done)&&(r.push(s.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,a=l}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw a}}return r}}function bfe(t){if(Array.isArray(t))return t}function dL(t){var e=Vf(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function hL(t,e,r){if(t.lte(0))return new ot(0);var n=Ny.getDigitCount(t.toNumber()),i=new ot(10).pow(n),a=t.div(i),o=n!==1?.05:.1,s=new ot(Math.ceil(a.div(o).toNumber())).add(r).mul(o),l=s.mul(i);return e?l:new ot(Math.ceil(l))}function xfe(t,e,r){var n=1,i=new ot(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new ot(10).pow(Ny.getDigitCount(t)-1),i=new ot(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new ot(Math.floor(t)))}else t===0?i=new ot(Math.floor((e-1)/2)):r||(i=new ot(Math.floor(t)));var o=Math.floor((e-1)/2),s=lfe(sfe(function(l){return i.add(new ot(l-o).mul(n)).toNumber()}),Px);return s(0,e)}function pL(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new ot(0),tickMin:new ot(0),tickMax:new ot(0)};var a=hL(new ot(e).sub(t).div(r-1),n,i),o;t<=0&&e>=0?o=new ot(0):(o=new ot(t).add(e).div(2),o=o.sub(new ot(o).mod(a)));var s=Math.ceil(o.sub(t).div(a).toNumber()),l=Math.ceil(new ot(e).sub(o).div(a).toNumber()),c=s+l+1;return c>r?pL(t,e,r,n,i+1):(c<r&&(l=e>0?l+(r-c):l,s=e>0?s:s+(r-c)),{step:a,tickMin:o.sub(new ot(s).mul(a)),tickMax:o.add(new ot(l).mul(a))})}function wfe(t){var e=Vf(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=dL([r,n]),l=Vf(s,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var f=u===1/0?[c].concat(Ox(Px(0,i-1).map(function(){return 1/0}))):[].concat(Ox(Px(0,i-1).map(function(){return-1/0})),[u]);return r>n?Ix(f):f}if(c===u)return xfe(c,i,a);var h=pL(c,u,o,a),p=h.step,g=h.tickMin,b=h.tickMax,v=Ny.rangeStep(g,b.add(new ot(.1).mul(p)),p);return r>n?Ix(v):v}function _fe(t,e){var r=Vf(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=dL([n,i]),s=Vf(o,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[n,i];if(l===c)return[l];var u=Math.max(e,2),f=hL(new ot(c).sub(l).div(u-1),a,0),h=[].concat(Ox(Ny.rangeStep(new ot(l),new ot(c).sub(new ot(.99).mul(f)),f)),[c]);return n>i?Ix(h):h}var kfe=uL(wfe),Efe=uL(_fe),Sfe="Invariant failed";function hs(t,e){throw new Error(Sfe)}var Tfe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Um(){return Um=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Um.apply(this,arguments)}function Afe(t,e){return Cfe(t)||Ofe(t,e)||Ife(t,e)||Pfe()}function Pfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ife(t,e){if(t){if(typeof t=="string")return $P(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $P(t,e)}}function $P(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ofe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Cfe(t){if(Array.isArray(t))return t}function Nfe(t,e){if(t==null)return{};var r=Rfe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Rfe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Ry(t){var e=t.offset,r=t.layout,n=t.width,i=t.dataKey,a=t.data,o=t.dataPointFormatter,s=t.xAxis,l=t.yAxis,c=Nfe(t,Tfe),u=Ae(c,!1);t.direction==="x"&&s.type!=="number"&&hs();var f=a.map(function(h){var p=o(h,i),g=p.x,b=p.y,v=p.value,_=p.errorVal;if(!_)return null;var y=[],x,k;if(Array.isArray(_)){var T=Afe(_,2);x=T[0],k=T[1]}else x=k=_;if(r==="vertical"){var C=s.scale,S=b+e,E=S+n,P=S-n,I=C(v-x),R=C(v+k);y.push({x1:R,y1:E,x2:R,y2:P}),y.push({x1:I,y1:S,x2:R,y2:S}),y.push({x1:I,y1:E,x2:I,y2:P})}else if(r==="horizontal"){var N=l.scale,O=g+e,F=O-n,W=O+n,H=N(v-x),X=N(v+k);y.push({x1:F,y1:X,x2:W,y2:X}),y.push({x1:O,y1:H,x2:O,y2:X}),y.push({x1:F,y1:H,x2:W,y2:H})}return $.createElement(tt,Um({className:"recharts-errorBar",key:"bar-".concat(y.map(function(V){return"".concat(V.x1,"-").concat(V.x2,"-").concat(V.y1,"-").concat(V.y2)}))},u),y.map(function(V){return $.createElement("line",Um({},V,{key:"line-".concat(V.x1,"-").concat(V.x2,"-").concat(V.y1,"-").concat(V.y2)}))}))});return $.createElement(tt,{className:"recharts-errorBars"},f)}Ry.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"};Ry.displayName="ErrorBar";function Uf(t){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(t)}function LP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function f0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LP(Object(r),!0).forEach(function(n){jfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jfe(t,e,r){return e=Dfe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dfe(t){var e=Mfe(t,"string");return Uf(e)=="symbol"?e:String(e)}function Mfe(t,e){if(Uf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mL=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=an(r,Pf);if(!o)return null;var s;return o.props&&o.props.payload?s=o.props&&o.props.payload:a==="children"?s=(n||[]).reduce(function(l,c){var u=c.item,f=c.props,h=f.sectors||f.data||[];return l.concat(h.map(function(p){return{type:o.props.iconType||u.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):s=(n||[]).map(function(l){var c=l.item,u=c.props,f=u.dataKey,h=u.name,p=u.legendType,g=u.hide;return{inactive:g,dataKey:f,type:o.props.iconType||p||"square",color:Pk(c),value:h||f,payload:c.props}}),f0(f0(f0({},o.props),Pf.getWithHeight(o,i)),{},{payload:s,item:o})};function Bf(t){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bf(t)}function FP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FP(Object(r),!0).forEach(function(n){Tl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tl(t,e,r){return e=$fe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $fe(t){var e=Lfe(t,"string");return Bf(e)=="symbol"?e:String(e)}function Lfe(t,e){if(Bf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VP(t){return Bfe(t)||Ufe(t)||Vfe(t)||Ffe()}function Ffe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vfe(t,e){if(t){if(typeof t=="string")return Nx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Nx(t,e)}}function Ufe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Bfe(t){if(Array.isArray(t))return Nx(t)}function Nx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Pr(t,e,r){return Me(t)||Me(e)?r:Jt(e)?un(t,e,r):Ce(e)?e(t):r}function qu(t,e,r,n){var i=Kue(t,function(s){return Pr(s,e)});if(r==="number"){var a=i.filter(function(s){return ue(s)||parseFloat(s)});return a.length?[Iy(a),Py(a)]:[1/0,-1/0]}var o=n?i.filter(function(s){return!Me(s)}):i;return o.map(function(s){return Jt(s)||s instanceof Date?s:""})}var zfe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,c=0;c<s;c++){var u=c>0?i[c-1].coordinate:i[s-1].coordinate,f=i[c].coordinate,h=c>=s-1?i[0].coordinate:i[c+1].coordinate,p=void 0;if(Mr(f-u)!==Mr(h-f)){var g=[];if(Mr(h-f)===Mr(l[1]-l[0])){p=h;var b=f+l[1]-l[0];g[0]=Math.min(b,(b+u)/2),g[1]=Math.max(b,(b+u)/2)}else{p=u;var v=h+l[1]-l[0];g[0]=Math.min(f,(v+f)/2),g[1]=Math.max(f,(v+f)/2)}var _=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>_[0]&&e<=_[1]||e>=g[0]&&e<=g[1]){o=i[c].index;break}}else{var y=Math.min(u,h),x=Math.max(u,h);if(e>(y+f)/2&&e<=(x+f)/2){o=i[c].index;break}}}else for(var k=0;k<s;k++)if(k===0&&e<=(n[k].coordinate+n[k+1].coordinate)/2||k>0&&k<s-1&&e>(n[k].coordinate+n[k-1].coordinate)/2&&e<=(n[k].coordinate+n[k+1].coordinate)/2||k===s-1&&e>(n[k].coordinate+n[k-1].coordinate)/2){o=n[k].index;break}return o},Pk=function(e){var r=e,n=r.type.displayName,i=e.props,a=i.stroke,o=i.fill,s;switch(n){case"Line":s=a;break;case"Area":case"Radar":s=a&&a!=="none"?a:o;break;default:s=o;break}return s},Wfe=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,c=s.length;l<c;l++)for(var u=a[s[l]].stackGroups,f=Object.keys(u),h=0,p=f.length;h<p;h++){var g=u[f[h]],b=g.items,v=g.cateAxisId,_=b.filter(function(T){return Wi(T.type).indexOf("Bar")>=0});if(_&&_.length){var y=_[0].props.barSize,x=_[0].props[v];o[x]||(o[x]=[]);var k=Me(y)?r:y;o[x].push({item:_[0],stackList:_.slice(1),barSize:Me(k)?void 0:$r(k,n,0)})}}return o},qfe=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,s=e.maxBarSize,l=o.length;if(l<1)return null;var c=$r(r,i,0,!0),u,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=i/l,g=o.reduce(function(k,T){return k+T.barSize||0},0);g+=(l-1)*c,g>=i&&(g-=(l-1)*c,c=0),g>=i&&p>0&&(h=!0,p*=.9,g=l*p);var b=(i-g)/2>>0,v={offset:b-c,size:0};u=o.reduce(function(k,T){var C={item:T.item,position:{offset:v.offset+v.size+c,size:h?p:T.barSize}},S=[].concat(VP(k),[C]);return v=S[S.length-1].position,T.stackList&&T.stackList.length&&T.stackList.forEach(function(E){S.push({item:E,position:v})}),S},f)}else{var _=$r(n,i,0,!0);i-2*_-(l-1)*c<=0&&(c=0);var y=(i-2*_-(l-1)*c)/l;y>1&&(y>>=0);var x=s===+s?Math.min(y,s):y;u=o.reduce(function(k,T,C){var S=[].concat(VP(k),[{item:T.item,position:{offset:_+(y+c)*C+(y-x)/2,size:x}}]);return T.stackList&&T.stackList.length&&T.stackList.forEach(function(E){S.push({item:E,position:S[S.length-1].position})}),S},f)}return u},Hfe=function(e,r,n,i){var a=n.children,o=n.width,s=n.margin,l=o-(s.left||0)-(s.right||0),c=mL({children:a,legendWidth:l});if(c){var u=i||{},f=u.width,h=u.height,p=c.align,g=c.verticalAlign,b=c.layout;if((b==="vertical"||b==="horizontal"&&g==="middle")&&p!=="center"&&ue(e[p]))return wn(wn({},e),{},Tl({},p,e[p]+(f||0)));if((b==="horizontal"||b==="vertical"&&p==="center")&&g!=="middle"&&ue(e[g]))return wn(wn({},e),{},Tl({},g,e[g]+(h||0)))}return e},Kfe=function(e,r,n){return Me(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},gL=function(e,r,n,i,a){var o=r.props.children,s=An(o,Ry).filter(function(c){return Kfe(i,a,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return e.reduce(function(c,u){var f=Pr(u,n);if(Me(f))return c;var h=Array.isArray(f)?[Iy(f),Py(f)]:[f,f],p=l.reduce(function(g,b){var v=Pr(u,b,0),_=h[0]-Math.abs(Array.isArray(v)?v[0]:v),y=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(_,g[0]),Math.max(y,g[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},Gfe=function(e,r,n,i,a){var o=r.map(function(s){return gL(e,s,n,a,i)}).filter(function(s){return!Me(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},yL=function(e,r,n,i,a){var o=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&gL(e,l,c,i)||qu(e,c,n,a)});if(n==="number")return o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,c){for(var u=0,f=c.length;u<f;u++)s[c[u]]||(s[c[u]]=!0,l.push(c[u]));return l},[])},vL=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},bL=function(e,r,n,i){if(i)return e.map(function(l){return l.coordinate});var a,o,s=e.map(function(l){return l.coordinate===r&&(a=!0),l.coordinate===n&&(o=!0),l.coordinate});return a||s.push(r),o||s.push(n),s},Vi=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Mr(s[0]-s[1])*2*c:c,r&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+c,value:f,offset:c}});return u.filter(function(f){return!Rd(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+c,value:f,index:h,offset:c}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+c,value:f,offset:c}}):i.domain().map(function(f,h){return{coordinate:i(f)+c,value:a?a[f]:f,index:h,offset:c}})},d0=new WeakMap,Uh=function(e,r){if(typeof r!="function")return e;d0.has(e)||d0.set(e,new WeakMap);var n=d0.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},xL=function(e,r,n){var i=e.scale,a=e.type,o=e.layout,s=e.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:jf(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:Mm(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Wu(),realScaleType:"point"}:a==="category"?{scale:jf(),realScaleType:"band"}:{scale:Mm(),realScaleType:"linear"};if(Nd(i)){var l="scale".concat(py(i));return{scale:(RP[l]||Wu)(),realScaleType:RP[l]?l:"point"}}return Ce(i)?{scale:i}:{scale:Wu(),realScaleType:"point"}},UP=1e-4,wL=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-UP,o=Math.max(i[0],i[1])+UP,s=e(r[0]),l=e(r[n-1]);(s<a||s>o||l<a||l>o)&&e.domain([r[0],r[n-1]])}},Xfe=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},Yfe=function(e,r){if(!r||r.length!==2||!ue(r[0])||!ue(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!ue(e[0])||e[0]<n)&&(a[0]=n),(!ue(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},Qfe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0,s=0;s<r;++s){var l=Rd(e[s][n][1])?e[s][n][0]:e[s][n][1];l>=0?(e[s][n][0]=a,e[s][n][1]=a+l,a=e[s][n][1]):(e[s][n][0]=o,e[s][n][1]=o+l,o=e[s][n][1])}},Jfe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0;o<r;++o){var s=Rd(e[o][n][1])?e[o][n][0]:e[o][n][1];s>=0?(e[o][n][0]=a,e[o][n][1]=a+s,a=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},Zfe={sign:Qfe,expand:PJ,none:Bl,silhouette:IJ,wiggle:OJ,positive:Jfe},ede=function(e,r,n){var i=r.map(function(s){return s.props.dataKey}),a=Zfe[n],o=AJ().keys(i).value(function(s,l){return+Pr(s,l,0)}).order(nx).offset(a);return o(e)},tde=function(e,r,n,i,a,o){if(!e)return null;var s=o?r.reverse():r,l={},c=s.reduce(function(f,h){var p=h.props,g=p.stackId,b=p.hide;if(b)return f;var v=h.props[n],_=f[v]||{hasStack:!1,stackGroups:{}};if(Jt(g)){var y=_.stackGroups[g]||{numericAxisId:n,cateAxisId:i,items:[]};y.items.push(h),_.hasStack=!0,_.stackGroups[g]=y}else _.stackGroups[jd("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[h]};return wn(wn({},f),{},Tl({},v,_))},l),u={};return Object.keys(c).reduce(function(f,h){var p=c[h];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(b,v){var _=p.stackGroups[v];return wn(wn({},b),{},Tl({},v,{numericAxisId:n,cateAxisId:i,items:_.items,stackedData:ede(e,_.items,a)}))},g)}return wn(wn({},f),{},Tl({},h,p))},u)},_L=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,o=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var c=e.domain();if(!c.length)return null;var u=kfe(c,a,s);return e.domain([Iy(u),Py(u)]),{niceTicks:u}}if(a&&i==="number"){var f=e.domain(),h=Efe(f,a,s);return{niceTicks:h}}return null},BP=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,s=e.index;if(r.type==="category")return n[s]?n[s].coordinate+i:null;var l=Pr(o,r.dataKey,r.domain[s]);return Me(l)?null:r.scale(l)-a/2+i},rde=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},nde=function(e,r){var n=e.props.stackId;if(Jt(n)){var i=r[n];if(i){var a=i.items.indexOf(e);return a>=0?i.stackedData[a]:null}}return null},ide=function(e){return e.reduce(function(r,n){return[Iy(n.concat([r[0]]).filter(ue)),Py(n.concat([r[1]]).filter(ue))]},[1/0,-1/0])},kL=function(e,r,n){return Object.keys(e).reduce(function(i,a){var o=e[a],s=o.stackedData,l=s.reduce(function(c,u){var f=ide(u.slice(r,n+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},zP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,WP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Rx=function(e,r,n){if(Ce(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(ue(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(zP.test(e[0])){var a=+zP.exec(e[0])[1];i[0]=r[0]-a}else Ce(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(ue(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(WP.test(e[1])){var o=+WP.exec(e[1])[1];i[1]=r[1]+o}else Ce(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},Bm=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=tk(r,function(f){return f.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var c=a[s],u=a[s-1];o=Math.min((c.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},qP=function(e,r,n){return!e||!e.length||Oy(e,un(n,"type.defaultProps.domain"))?r:e},EL=function(e,r){var n=e.props,i=n.dataKey,a=n.name,o=n.unit,s=n.formatter,l=n.tooltipType,c=n.chartType,u=n.hide;return wn(wn({},Ae(e,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:Pk(e),value:Pr(r,i),type:l,payload:r,chartType:c,hide:u})};function zf(t){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zf(t)}function HP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Oi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HP(Object(r),!0).forEach(function(n){SL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function SL(t,e,r){return e=ade(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ade(t){var e=ode(t,"string");return zf(e)=="symbol"?e:String(e)}function ode(t,e){if(zf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sde(t,e){return fde(t)||ude(t,e)||cde(t,e)||lde()}function lde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cde(t,e){if(t){if(typeof t=="string")return KP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KP(t,e)}}function KP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ude(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function fde(t){if(Array.isArray(t))return t}var zm=Math.PI/180,dde=function(e){return e*180/Math.PI},ht=function(e,r,n,i){return{x:e+Math.cos(-zm*i)*n,y:r+Math.sin(-zm*i)*n}},TL=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},hde=function(e,r,n,i,a){var o=e.width,s=e.height,l=e.startAngle,c=e.endAngle,u=$r(e.cx,o,o/2),f=$r(e.cy,s,s/2),h=TL(o,s,n),p=$r(e.innerRadius,h,0),g=$r(e.outerRadius,h,h*.8),b=Object.keys(r);return b.reduce(function(v,_){var y=r[_],x=y.domain,k=y.reversed,T;if(Me(y.range))i==="angleAxis"?T=[l,c]:i==="radiusAxis"&&(T=[p,g]),k&&(T=[T[1],T[0]]);else{T=y.range;var C=T,S=sde(C,2);l=S[0],c=S[1]}var E=xL(y,a),P=E.realScaleType,I=E.scale;I.domain(x).range(T),wL(I);var R=_L(I,Oi(Oi({},y),{},{realScaleType:P})),N=Oi(Oi(Oi({},y),R),{},{range:T,radius:g,realScaleType:P,scale:I,cx:u,cy:f,innerRadius:p,outerRadius:g,startAngle:l,endAngle:c});return Oi(Oi({},v),{},SL({},_,N))},{})},pde=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-o,2))},mde=function(e,r){var n=e.x,i=e.y,a=r.cx,o=r.cy,s=pde({x:n,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(n-a)/s,c=Math.acos(l);return i>o&&(c=2*Math.PI-c),{radius:s,angle:dde(c),angleInRadian:c}},gde=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return{startAngle:r-o*360,endAngle:n-o*360}},yde=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),o=Math.floor(i/360),s=Math.min(a,o);return e+s*360},GP=function(e,r){var n=e.x,i=e.y,a=mde({x:n,y:i},r),o=a.radius,s=a.angle,l=r.innerRadius,c=r.outerRadius;if(o<l||o>c)return!1;if(o===0)return!0;var u=gde(r),f=u.startAngle,h=u.endAngle,p=s,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?Oi(Oi({},r),{},{radius:o,angle:yde(p,r)}):null},AL=function(e){return!D.isValidElement(e)&&!Ce(e)&&typeof e!="boolean"?e.className:""};function Wf(t){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wf(t)}var vde=["offset"];function bde(t){return kde(t)||_de(t)||wde(t)||xde()}function xde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wde(t,e){if(t){if(typeof t=="string")return jx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jx(t,e)}}function _de(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kde(t){if(Array.isArray(t))return jx(t)}function jx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ede(t,e){if(t==null)return{};var r=Sde(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Sde(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function XP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Gt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XP(Object(r),!0).forEach(function(n){Tde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tde(t,e,r){return e=Ade(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ade(t){var e=Pde(t,"string");return Wf(e)=="symbol"?e:String(e)}function Pde(t,e){if(Wf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qf(){return qf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qf.apply(this,arguments)}var Ide=function(e){var r=e.value,n=e.formatter,i=Me(e.children)?r:e.children;return Ce(n)?n(i):i},Ode=function(e,r){var n=Mr(r-e),i=Math.min(Math.abs(r-e),360);return n*i},Cde=function(e,r,n){var i=e.position,a=e.viewBox,o=e.offset,s=e.className,l=a,c=l.cx,u=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,g=l.endAngle,b=l.clockWise,v=(f+h)/2,_=Ode(p,g),y=_>=0?1:-1,x,k;i==="insideStart"?(x=p+y*o,k=b):i==="insideEnd"?(x=g-y*o,k=!b):i==="end"&&(x=g+y*o,k=b),k=_<=0?k:!k;var T=ht(c,u,v,x),C=ht(c,u,v,x+(k?1:-1)*359),S="M".concat(T.x,",").concat(T.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(k?0:1,`,
    `).concat(C.x,",").concat(C.y),E=Me(e.id)?jd("recharts-radial-line-"):e.id;return $.createElement("text",qf({},n,{dominantBaseline:"central",className:De("recharts-radial-bar-label",s)}),$.createElement("defs",null,$.createElement("path",{id:E,d:S})),$.createElement("textPath",{xlinkHref:"#".concat(E)},r))},Nde=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,o=a.cx,s=a.cy,l=a.innerRadius,c=a.outerRadius,u=a.startAngle,f=a.endAngle,h=(u+f)/2;if(i==="outside"){var p=ht(o,s,c+n,h),g=p.x,b=p.y;return{x:g,y:b,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var v=(l+c)/2,_=ht(o,s,v,h),y=_.x,x=_.y;return{x:y,y:x,textAnchor:"middle",verticalAnchor:"middle"}},Rde=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,o=r,s=o.x,l=o.y,c=o.width,u=o.height,f=u>=0?1:-1,h=f*i,p=f>0?"end":"start",g=f>0?"start":"end",b=c>=0?1:-1,v=b*i,_=b>0?"end":"start",y=b>0?"start":"end";if(a==="top"){var x={x:s+c/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return Gt(Gt({},x),n?{height:Math.max(l-n.y,0),width:c}:{})}if(a==="bottom"){var k={x:s+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:g};return Gt(Gt({},k),n?{height:Math.max(n.y+n.height-(l+u),0),width:c}:{})}if(a==="left"){var T={x:s-v,y:l+u/2,textAnchor:_,verticalAnchor:"middle"};return Gt(Gt({},T),n?{width:Math.max(T.x-n.x,0),height:u}:{})}if(a==="right"){var C={x:s+c+v,y:l+u/2,textAnchor:y,verticalAnchor:"middle"};return Gt(Gt({},C),n?{width:Math.max(n.x+n.width-C.x,0),height:u}:{})}var S=n?{width:c,height:u}:{};return a==="insideLeft"?Gt({x:s+v,y:l+u/2,textAnchor:y,verticalAnchor:"middle"},S):a==="insideRight"?Gt({x:s+c-v,y:l+u/2,textAnchor:_,verticalAnchor:"middle"},S):a==="insideTop"?Gt({x:s+c/2,y:l+h,textAnchor:"middle",verticalAnchor:g},S):a==="insideBottom"?Gt({x:s+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:p},S):a==="insideTopLeft"?Gt({x:s+v,y:l+h,textAnchor:y,verticalAnchor:g},S):a==="insideTopRight"?Gt({x:s+c-v,y:l+h,textAnchor:_,verticalAnchor:g},S):a==="insideBottomLeft"?Gt({x:s+v,y:l+u-h,textAnchor:y,verticalAnchor:p},S):a==="insideBottomRight"?Gt({x:s+c-v,y:l+u-h,textAnchor:_,verticalAnchor:p},S):yc(a)&&(ue(a.x)||Uo(a.x))&&(ue(a.y)||Uo(a.y))?Gt({x:s+$r(a.x,c),y:l+$r(a.y,u),textAnchor:"end",verticalAnchor:"end"},S):Gt({x:s+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},S)},jde=function(e){return"cx"in e&&ue(e.cx)};function ir(t){var e=t.offset,r=e===void 0?5:e,n=Ede(t,vde),i=Gt({offset:r},n),a=i.viewBox,o=i.position,s=i.value,l=i.children,c=i.content,u=i.className,f=u===void 0?"":u,h=i.textBreakAll;if(!a||Me(s)&&Me(l)&&!D.isValidElement(c)&&!Ce(c))return null;if(D.isValidElement(c))return D.cloneElement(c,i);var p;if(Ce(c)){if(p=D.createElement(c,i),D.isValidElement(p))return p}else p=Ide(i);var g=jde(a),b=Ae(i,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Cde(i,p,b);var v=g?Nde(i):Rde(i);return $.createElement(fs,qf({className:De("recharts-label",f)},b,v,{breakAll:h}),p)}ir.displayName="Label";var PL=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,s=e.r,l=e.radius,c=e.innerRadius,u=e.outerRadius,f=e.x,h=e.y,p=e.top,g=e.left,b=e.width,v=e.height,_=e.clockWise,y=e.labelViewBox;if(y)return y;if(ue(b)&&ue(v)){if(ue(f)&&ue(h))return{x:f,y:h,width:b,height:v};if(ue(p)&&ue(g))return{x:p,y:g,width:b,height:v}}return ue(f)&&ue(h)?{x:f,y:h,width:0,height:0}:ue(r)&&ue(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:o||i||0,innerRadius:c||0,outerRadius:u||l||s||0,clockWise:_}:e.viewBox?e.viewBox:{}},Dde=function(e,r){return e?e===!0?$.createElement(ir,{key:"label-implicit",viewBox:r}):Jt(e)?$.createElement(ir,{key:"label-implicit",viewBox:r,value:e}):D.isValidElement(e)?e.type===ir?D.cloneElement(e,{key:"label-implicit",viewBox:r}):$.createElement(ir,{key:"label-implicit",content:e,viewBox:r}):Ce(e)?$.createElement(ir,{key:"label-implicit",content:e,viewBox:r}):yc(e)?$.createElement(ir,qf({viewBox:r},e,{key:"label-implicit"})):null:null},Mde=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=PL(e),o=An(i,ir).map(function(l,c){return D.cloneElement(l,{viewBox:r||a,key:"label-".concat(c)})});if(!n)return o;var s=Dde(e.label,r||a);return[s].concat(bde(o))};ir.parseViewBox=PL;ir.renderCallByParent=Mde;function $de(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Lde=$de;const Fde=nt(Lde);function Hf(t){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hf(t)}var Vde=["valueAccessor"],Ude=["data","dataKey","clockWise","id","textBreakAll"];function Bde(t){return Hde(t)||qde(t)||Wde(t)||zde()}function zde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wde(t,e){if(t){if(typeof t=="string")return Dx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dx(t,e)}}function qde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Hde(t){if(Array.isArray(t))return Dx(t)}function Dx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Wm(){return Wm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wm.apply(this,arguments)}function YP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function QP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YP(Object(r),!0).forEach(function(n){Kde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kde(t,e,r){return e=Gde(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gde(t){var e=Xde(t,"string");return Hf(e)=="symbol"?e:String(e)}function Xde(t,e){if(Hf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JP(t,e){if(t==null)return{};var r=Yde(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Yde(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var Qde=function(e){return Array.isArray(e.value)?Fde(e.value):e.value};function Za(t){var e=t.valueAccessor,r=e===void 0?Qde:e,n=JP(t,Vde),i=n.data,a=n.dataKey,o=n.clockWise,s=n.id,l=n.textBreakAll,c=JP(n,Ude);return!i||!i.length?null:$.createElement(tt,{className:"recharts-label-list"},i.map(function(u,f){var h=Me(a)?r(u,f):Pr(u&&u.payload,a),p=Me(s)?{}:{id:"".concat(s,"-").concat(f)};return $.createElement(ir,Wm({},Ae(u,!0),c,p,{parentViewBox:u.parentViewBox,value:h,textBreakAll:l,viewBox:ir.parseViewBox(Me(o)?u:QP(QP({},u),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Za.displayName="LabelList";function Jde(t,e){return t?t===!0?$.createElement(Za,{key:"labelList-implicit",data:e}):$.isValidElement(t)||Ce(t)?$.createElement(Za,{key:"labelList-implicit",data:e,content:t}):yc(t)?$.createElement(Za,Wm({data:e},t,{key:"labelList-implicit"})):null:null}function Zde(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=An(n,Za).map(function(o,s){return D.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!r)return i;var a=Jde(t.label,e);return[a].concat(Bde(i))}Za.renderCallByParent=Zde;function Kf(t){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(t)}function Mx(){return Mx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mx.apply(this,arguments)}function ZP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function eI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZP(Object(r),!0).forEach(function(n){ehe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ehe(t,e,r){return e=the(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function the(t){var e=rhe(t,"string");return Kf(e)=="symbol"?e:String(e)}function rhe(t,e){if(Kf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nhe=function(e,r){var n=Mr(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},Bh=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,o=e.sign,s=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,u=l*(s?1:-1)+i,f=Math.asin(l/u)/zm,h=c?a:a+o*f,p=ht(r,n,u,h),g=ht(r,n,i,h),b=c?a-o*f:a,v=ht(r,n,u*Math.cos(f*zm),b);return{center:p,circleTangency:g,lineTangency:v,theta:f}},IL=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,s=e.endAngle,l=nhe(o,s),c=o+l,u=ht(r,n,a,o),f=ht(r,n,a,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=ht(r,n,i,o),g=ht(r,n,i,c);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},ihe=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,u=e.endAngle,f=Mr(u-c),h=Bh({cx:r,cy:n,radius:a,angle:c,sign:f,cornerRadius:o,cornerIsExternal:l}),p=h.circleTangency,g=h.lineTangency,b=h.theta,v=Bh({cx:r,cy:n,radius:a,angle:u,sign:-f,cornerRadius:o,cornerIsExternal:l}),_=v.circleTangency,y=v.lineTangency,x=v.theta,k=l?Math.abs(c-u):Math.abs(c-u)-b-x;if(k<0)return s?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):IL({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:c,endAngle:u});var T="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(k>180),",").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(i>0){var C=Bh({cx:r,cy:n,radius:i,angle:c,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),S=C.circleTangency,E=C.lineTangency,P=C.theta,I=Bh({cx:r,cy:n,radius:i,angle:u,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),R=I.circleTangency,N=I.lineTangency,O=I.theta,F=l?Math.abs(c-u):Math.abs(c-u)-P-O;if(F<0&&o===0)return"".concat(T,"L").concat(r,",").concat(n,"Z");T+="L".concat(N.x,",").concat(N.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(F>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,"Z")}else T+="L".concat(r,",").concat(n,"Z");return T},ahe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},OL=function(e){var r=eI(eI({},ahe),e),n=r.cx,i=r.cy,a=r.innerRadius,o=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,u=r.startAngle,f=r.endAngle,h=r.className;if(o<a||u===f)return null;var p=De("recharts-sector",h),g=o-a,b=$r(s,g,0,!0),v;return b>0&&Math.abs(u-f)<360?v=ihe({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(b,g/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:f}):v=IL({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:u,endAngle:f}),$.createElement("path",Mx({},Ae(r,!0),{className:p,d:v,role:"img"}))};function Gf(t){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gf(t)}function $x(){return $x=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$x.apply(this,arguments)}function tI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tI(Object(r),!0).forEach(function(n){ohe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ohe(t,e,r){return e=she(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function she(t){var e=lhe(t,"string");return Gf(e)=="symbol"?e:String(e)}function lhe(t,e){if(Gf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nI={curveBasisClosed:gJ,curveBasisOpen:yJ,curveBasis:mJ,curveBumpX:tJ,curveBumpY:rJ,curveLinearClosed:vJ,curveLinear:gy,curveMonotoneX:bJ,curveMonotoneY:xJ,curveNatural:wJ,curveStep:_J,curveStepAfter:EJ,curveStepBefore:kJ},zh=function(e){return e.x===+e.x&&e.y===+e.y},su=function(e){return e.x},lu=function(e){return e.y},che=function(e,r){if(Ce(e))return e;var n="curve".concat(py(e));return(n==="curveMonotone"||n==="curveBump")&&r?nI["".concat(n).concat(r==="vertical"?"Y":"X")]:nI[n]||gy},uhe=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,o=e.baseLine,s=e.layout,l=e.connectNulls,c=l===void 0?!1:l,u=che(n,s),f=c?a.filter(function(b){return zh(b)}):a,h;if(Array.isArray(o)){var p=c?o.filter(function(b){return zh(b)}):o,g=f.map(function(b,v){return rI(rI({},b),{},{base:p[v]})});return s==="vertical"?h=Rh().y(lu).x1(su).x0(function(b){return b.base.x}):h=Rh().x(su).y1(lu).y0(function(b){return b.base.y}),h.defined(zh).curve(u),h(g)}return s==="vertical"&&ue(o)?h=Rh().y(lu).x1(su).x0(o):ue(o)?h=Rh().x(su).y1(lu).y0(o):h=TM().x(su).y(lu),h.defined(zh).curve(u),h(f)},Lx=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?uhe(e):i;return $.createElement("path",$x({},Ae(e,!1),gm(e),{className:De("recharts-curve",r),d:o,ref:a}))},fhe=Object.getOwnPropertyNames,dhe=Object.getOwnPropertySymbols,hhe=Object.prototype.hasOwnProperty;function iI(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function Wh(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var a=i.cache,o=a.get(r),s=a.get(n);if(o&&s)return o===n&&s===r;a.set(r,n),a.set(n,r);var l=t(r,n,i);return a.delete(r),a.delete(n),l}}function aI(t){return fhe(t).concat(dhe(t))}var CL=Object.hasOwn||function(t,e){return hhe.call(t,e)};function Ac(t,e){return t||e?t===e:t===e||t!==t&&e!==e}var NL="_owner",oI=Object.getOwnPropertyDescriptor,sI=Object.keys;function phe(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function mhe(t,e){return Ac(t.getTime(),e.getTime())}function lI(t,e,r){if(t.size!==e.size)return!1;for(var n={},i=t.entries(),a=0,o,s;(o=i.next())&&!o.done;){for(var l=e.entries(),c=!1,u=0;(s=l.next())&&!s.done;){var f=o.value,h=f[0],p=f[1],g=s.value,b=g[0],v=g[1];!c&&!n[u]&&(c=r.equals(h,b,a,u,t,e,r)&&r.equals(p,v,h,b,t,e,r))&&(n[u]=!0),u++}if(!c)return!1;a++}return!0}function ghe(t,e,r){var n=sI(t),i=n.length;if(sI(e).length!==i)return!1;for(var a;i-- >0;)if(a=n[i],a===NL&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!CL(e,a)||!r.equals(t[a],e[a],a,a,t,e,r))return!1;return!0}function cu(t,e,r){var n=aI(t),i=n.length;if(aI(e).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=n[i],a===NL&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!CL(e,a)||!r.equals(t[a],e[a],a,a,t,e,r)||(o=oI(t,a),s=oI(e,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function yhe(t,e){return Ac(t.valueOf(),e.valueOf())}function vhe(t,e){return t.source===e.source&&t.flags===e.flags}function cI(t,e,r){if(t.size!==e.size)return!1;for(var n={},i=t.values(),a,o;(a=i.next())&&!a.done;){for(var s=e.values(),l=!1,c=0;(o=s.next())&&!o.done;)!l&&!n[c]&&(l=r.equals(a.value,o.value,a.value,o.value,t,e,r))&&(n[c]=!0),c++;if(!l)return!1}return!0}function bhe(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}var xhe="[object Arguments]",whe="[object Boolean]",_he="[object Date]",khe="[object Map]",Ehe="[object Number]",She="[object Object]",The="[object RegExp]",Ahe="[object Set]",Phe="[object String]",Ihe=Array.isArray,uI=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,fI=Object.assign,Ohe=Object.prototype.toString.call.bind(Object.prototype.toString);function Che(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areMapsEqual,i=t.areObjectsEqual,a=t.arePrimitiveWrappersEqual,o=t.areRegExpsEqual,s=t.areSetsEqual,l=t.areTypedArraysEqual;return function(u,f,h){if(u===f)return!0;if(u==null||f==null||typeof u!="object"||typeof f!="object")return u!==u&&f!==f;var p=u.constructor;if(p!==f.constructor)return!1;if(p===Object)return i(u,f,h);if(Ihe(u))return e(u,f,h);if(uI!=null&&uI(u))return l(u,f,h);if(p===Date)return r(u,f,h);if(p===RegExp)return o(u,f,h);if(p===Map)return n(u,f,h);if(p===Set)return s(u,f,h);var g=Ohe(u);return g===_he?r(u,f,h):g===The?o(u,f,h):g===khe?n(u,f,h):g===Ahe?s(u,f,h):g===She?typeof u.then!="function"&&typeof f.then!="function"&&i(u,f,h):g===xhe?i(u,f,h):g===whe||g===Ehe||g===Phe?a(u,f,h):!1}}function Nhe(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?cu:phe,areDatesEqual:mhe,areMapsEqual:n?iI(lI,cu):lI,areObjectsEqual:n?cu:ghe,arePrimitiveWrappersEqual:yhe,areRegExpsEqual:vhe,areSetsEqual:n?iI(cI,cu):cI,areTypedArraysEqual:n?cu:bhe};if(r&&(i=fI({},i,r(i))),e){var a=Wh(i.areArraysEqual),o=Wh(i.areMapsEqual),s=Wh(i.areObjectsEqual),l=Wh(i.areSetsEqual);i=fI({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return i}function Rhe(t){return function(e,r,n,i,a,o,s){return t(e,r,s)}}function jhe(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,a=t.strict;if(n)return function(l,c){var u=n(),f=u.cache,h=f===void 0?e?new WeakMap:void 0:f,p=u.meta;return r(l,c,{cache:h,equals:i,meta:p,strict:a})};if(e)return function(l,c){return r(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,c){return r(l,c,o)}}var Dhe=wo();wo({strict:!0});wo({circular:!0});wo({circular:!0,strict:!0});wo({createInternalComparator:function(){return Ac}});wo({strict:!0,createInternalComparator:function(){return Ac}});wo({circular:!0,createInternalComparator:function(){return Ac}});wo({circular:!0,createInternalComparator:function(){return Ac},strict:!0});function wo(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,s=Nhe(t),l=Che(s),c=n?n(l):Rhe(l);return jhe({circular:r,comparator:l,createState:i,equals:c,strict:o})}function Mhe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function dI(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):Mhe(i)};requestAnimationFrame(n)}function Fx(t){"@babel/helpers - typeof";return Fx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fx(t)}function $he(t){return Uhe(t)||Vhe(t)||Fhe(t)||Lhe()}function Lhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fhe(t,e){if(t){if(typeof t=="string")return hI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hI(t,e)}}function hI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Vhe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Uhe(t){if(Array.isArray(t))return t}function Bhe(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,s=$he(o),l=s[0],c=s.slice(1);if(typeof l=="number"){dI(i.bind(null,c),l);return}i(l),dI(i.bind(null,c));return}Fx(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Xf(t){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xf(t)}function pI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pI(Object(r),!0).forEach(function(n){RL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RL(t,e,r){return e=zhe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zhe(t){var e=Whe(t,"string");return Xf(e)==="symbol"?e:String(e)}function Whe(t,e){if(Xf(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Xf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qhe=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},Hhe=function(e){return e},Khe=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Hu=function(e,r){return Object.keys(r).reduce(function(n,i){return mI(mI({},n),{},RL({},i,e(i,r[i])))},{})},gI=function(e,r,n){return e.map(function(i){return"".concat(Khe(i)," ").concat(r,"ms ").concat(n)}).join(",")};function Ghe(t,e){return Qhe(t)||Yhe(t,e)||jL(t,e)||Xhe()}function Xhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yhe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Qhe(t){if(Array.isArray(t))return t}function Jhe(t){return tpe(t)||epe(t)||jL(t)||Zhe()}function Zhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jL(t,e){if(t){if(typeof t=="string")return Vx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vx(t,e)}}function epe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tpe(t){if(Array.isArray(t))return Vx(t)}function Vx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var qm=1e-4,DL=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},ML=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},yI=function(e,r){return function(n){var i=DL(e,r);return ML(i,n)}},rpe=function(e,r){return function(n){var i=DL(e,r),a=[].concat(Jhe(i.map(function(o,s){return o*s}).slice(1)),[0]);return ML(a,n)}},vI=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],o=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),u=Ghe(c,4);i=u[0],a=u[1],o=u[2],s=u[3]}}}var f=yI(i,o),h=yI(a,s),p=rpe(i,o),g=function(_){return _>1?1:_<0?0:_},b=function(_){for(var y=_>1?1:_,x=y,k=0;k<8;++k){var T=f(x)-y,C=p(x);if(Math.abs(T-y)<qm||C<qm)return h(x);x=g(x-T/C)}return h(x)};return b.isStepper=!1,b},npe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,o=e.dt,s=o===void 0?17:o,l=function(u,f,h){var p=-(u-f)*n,g=h*a,b=h+(p-g)*s/1e3,v=h*s/1e3+u;return Math.abs(v-f)<qm&&Math.abs(b)<qm?[f,0]:[v,b]};return l.isStepper=!0,l.dt=s,l},ipe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return vI(i);case"spring":return npe();default:if(i.split("(")[0]==="cubic-bezier")return vI(i)}return typeof i=="function"?i:null};function Yf(t){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yf(t)}function bI(t){return spe(t)||ope(t)||$L(t)||ape()}function ape(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ope(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function spe(t){if(Array.isArray(t))return Bx(t)}function xI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xI(Object(r),!0).forEach(function(n){Ux(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ux(t,e,r){return e=lpe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lpe(t){var e=cpe(t,"string");return Yf(e)==="symbol"?e:String(e)}function cpe(t,e){if(Yf(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Yf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function upe(t,e){return hpe(t)||dpe(t,e)||$L(t,e)||fpe()}function fpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $L(t,e){if(t){if(typeof t=="string")return Bx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bx(t,e)}}function Bx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function dpe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function hpe(t){if(Array.isArray(t))return t}var Hm=function(e,r,n){return e+(r-e)*n},zx=function(e){var r=e.from,n=e.to;return r!==n},ppe=function t(e,r,n){var i=Hu(function(a,o){if(zx(o)){var s=e(o.from,o.to,o.velocity),l=upe(s,2),c=l[0],u=l[1];return cr(cr({},o),{},{from:c,velocity:u})}return o},r);return n<1?Hu(function(a,o){return zx(o)?cr(cr({},o),{},{velocity:Hm(o.velocity,i[a].velocity,n),from:Hm(o.from,i[a].from,n)}):o},r):t(e,i,n-1)};const mpe=function(t,e,r,n,i){var a=qhe(t,e),o=a.reduce(function(v,_){return cr(cr({},v),{},Ux({},_,[t[_],e[_]]))},{}),s=a.reduce(function(v,_){return cr(cr({},v),{},Ux({},_,{from:t[_],velocity:0,to:e[_]}))},{}),l=-1,c,u,f=function(){return null},h=function(){return Hu(function(_,y){return y.from},s)},p=function(){return!Object.values(s).filter(zx).length},g=function(_){c||(c=_);var y=_-c,x=y/r.dt;s=ppe(r,s,x),i(cr(cr(cr({},t),e),h())),c=_,p()||(l=requestAnimationFrame(f))},b=function(_){u||(u=_);var y=(_-u)/n,x=Hu(function(T,C){return Hm.apply(void 0,bI(C).concat([r(y)]))},o);if(i(cr(cr(cr({},t),e),x)),y<1)l=requestAnimationFrame(f);else{var k=Hu(function(T,C){return Hm.apply(void 0,bI(C).concat([r(1)]))},o);i(cr(cr(cr({},t),e),k))}};return f=r.isStepper?g:b,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Yl(t){"@babel/helpers - typeof";return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yl(t)}var gpe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function ype(t,e){if(t==null)return{};var r=vpe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function vpe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function h0(t){return _pe(t)||wpe(t)||xpe(t)||bpe()}function bpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xpe(t,e){if(t){if(typeof t=="string")return Wx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wx(t,e)}}function wpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _pe(t){if(Array.isArray(t))return Wx(t)}function Wx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function wI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Dn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wI(Object(r),!0).forEach(function(n){_u(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _u(t,e,r){return e=LL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Epe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,LL(n.key),n)}}function Spe(t,e,r){return e&&Epe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function LL(t){var e=Tpe(t,"string");return Yl(e)==="symbol"?e:String(e)}function Tpe(t,e){if(Yl(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Yl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ape(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qx(t,e)}function qx(t,e){return qx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},qx(t,e)}function Ppe(t){var e=Ipe();return function(){var n=Km(t),i;if(e){var a=Km(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Hx(this,i)}}function Hx(t,e){if(e&&(Yl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kx(t)}function Kx(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ipe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Km(t){return Km=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Km(t)}var aa=function(t){Ape(r,t);var e=Ppe(r);function r(n,i){var a;kpe(this,r),a=e.call(this,n,i);var o=a.props,s=o.isActive,l=o.attributeName,c=o.from,u=o.to,f=o.steps,h=o.children,p=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(Kx(a)),a.changeStyle=a.changeStyle.bind(Kx(a)),!s||p<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:u}),Hx(a);if(f&&f.length)a.state={style:f[0].style};else if(c){if(typeof h=="function")return a.state={style:c},Hx(a);a.state={style:l?_u({},l,c):c}}else a.state={style:{}};return a}return Spe(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,c=a.shouldReAnimate,u=a.to,f=a.from,h=this.state.style;if(s){if(!o){var p={style:l?_u({},l,u):u};this.state&&h&&(l&&h[l]!==u||!l&&h!==u)&&this.setState(p);return}if(!(Dhe(i.to,u)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=g||c?f:i.to;if(this.state&&h){var v={style:l?_u({},l,b):b};(l&&h[l]!==b||!l&&h!==b)&&this.setState(v)}this.runAnimation(Dn(Dn({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,c=i.easing,u=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=mpe(o,s,ipe(c),l,this.changeStyle),g=function(){a.stopJSAnimation=p()};this.manager.start([h,u,g,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,c=o[0],u=c.style,f=c.duration,h=f===void 0?0:f,p=function(b,v,_){if(_===0)return b;var y=v.duration,x=v.easing,k=x===void 0?"ease":x,T=v.style,C=v.properties,S=v.onAnimationEnd,E=_>0?o[_-1]:v,P=C||Object.keys(T);if(typeof k=="function"||k==="spring")return[].concat(h0(b),[a.runJSAnimation.bind(a,{from:E.style,to:T,duration:y,easing:k}),y]);var I=gI(P,y,k),R=Dn(Dn(Dn({},E.style),T),{},{transition:I});return[].concat(h0(b),[R,y,S]).filter(Hhe)};return this.manager.start([l].concat(h0(o.reduce(p,[u,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Bhe());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var b=s?_u({},s,l):l,v=gI(Object.keys(b),o,c);g.start([u,a,Dn(Dn({},b),{},{transition:v}),o,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=ype(i,gpe),c=D.Children.count(a),u=this.state.style;if(typeof a=="function")return a(u);if(!s||c===0||o<=0)return a;var f=function(p){var g=p.props,b=g.style,v=b===void 0?{}:b,_=g.className,y=D.cloneElement(p,Dn(Dn({},l),{},{style:Dn(Dn({},v),u),className:_}));return y};return c===1?f(D.Children.only(a)):$.createElement("div",null,D.Children.map(a,function(h){return f(h)}))}}]),r}(D.PureComponent);aa.displayName="Animate";aa.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};aa.propTypes={from:G.oneOfType([G.object,G.string]),to:G.oneOfType([G.object,G.string]),attributeName:G.string,duration:G.number,begin:G.number,easing:G.oneOfType([G.string,G.func]),steps:G.arrayOf(G.shape({duration:G.number.isRequired,style:G.object.isRequired,easing:G.oneOfType([G.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),G.func]),properties:G.arrayOf("string"),onAnimationEnd:G.func})),children:G.oneOfType([G.node,G.func]),isActive:G.bool,canBegin:G.bool,onAnimationEnd:G.func,shouldReAnimate:G.bool,onAnimationStart:G.func,onAnimationReStart:G.func};G.object,G.object,G.object,G.element;G.object,G.object,G.object,G.oneOfType([G.array,G.element]),G.any;function Qf(t){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qf(t)}function Gm(){return Gm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gm.apply(this,arguments)}function Ope(t,e){return jpe(t)||Rpe(t,e)||Npe(t,e)||Cpe()}function Cpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Npe(t,e){if(t){if(typeof t=="string")return _I(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _I(t,e)}}function _I(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Rpe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function jpe(t){if(Array.isArray(t))return t}function kI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function EI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kI(Object(r),!0).forEach(function(n){Dpe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Dpe(t,e,r){return e=Mpe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mpe(t){var e=$pe(t,"string");return Qf(e)=="symbol"?e:String(e)}function $pe(t,e){if(Qf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var SI=function(e,r,n,i,a){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),s=i>=0?1:-1,l=n>=0?1:-1,c=i>=0&&n>=0||i<0&&n<0?1:0,u;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=a[h]>o?o:a[h];u="M".concat(e,",").concat(r+s*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(e+l*f[0],",").concat(r)),u+="L ".concat(e+n-l*f[1],",").concat(r),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(e+n,",").concat(r+s*f[1])),u+="L ".concat(e+n,",").concat(r+i-s*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(e+n-l*f[2],",").concat(r+i)),u+="L ".concat(e+l*f[3],",").concat(r+i),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(r+i-s*f[3])),u+="Z"}else if(o>0&&a===+a&&a>0){var g=Math.min(o,a);u="M ".concat(e,",").concat(r+s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+l*g,",").concat(r,`
            L `).concat(e+n-l*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+n,",").concat(r+s*g,`
            L `).concat(e+n,",").concat(r+i-s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+n-l*g,",").concat(r+i,`
            L `).concat(e+l*g,",").concat(r+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e,",").concat(r+i-s*g," Z")}else u="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return u},Lpe=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,o=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(a,a+s),u=Math.max(a,a+s),f=Math.min(o,o+l),h=Math.max(o,o+l);return n>=c&&n<=u&&i>=f&&i<=h}return!1},Fpe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Ik=function(e){var r=EI(EI({},Fpe),e),n=D.useRef(),i=D.useState(-1),a=Ope(i,2),o=a[0],s=a[1];D.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var k=n.current.getTotalLength();k&&s(k)}catch{}},[]);var l=r.x,c=r.y,u=r.width,f=r.height,h=r.radius,p=r.className,g=r.animationEasing,b=r.animationDuration,v=r.animationBegin,_=r.isAnimationActive,y=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var x=De("recharts-rectangle",p);return y?$.createElement(aa,{canBegin:o>0,from:{width:u,height:f,x:l,y:c},to:{width:u,height:f,x:l,y:c},duration:b,animationEasing:g,isActive:y},function(k){var T=k.width,C=k.height,S=k.x,E=k.y;return $.createElement(aa,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:b,isActive:_,easing:g},$.createElement("path",Gm({},Ae(r,!0),{className:x,d:SI(S,E,T,C,h),ref:n})))}):$.createElement("path",Gm({},Ae(r,!0),{className:x,d:SI(l,c,u,f,h)}))},Vpe=["points","className","baseLinePoints","connectNulls"];function cl(){return cl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cl.apply(this,arguments)}function Upe(t,e){if(t==null)return{};var r=Bpe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Bpe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function TI(t){return Hpe(t)||qpe(t)||Wpe(t)||zpe()}function zpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wpe(t,e){if(t){if(typeof t=="string")return Gx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gx(t,e)}}function qpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Hpe(t){if(Array.isArray(t))return Gx(t)}function Gx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var AI=function(e){return e&&e.x===+e.x&&e.y===+e.y},Kpe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){AI(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),AI(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Ku=function(e,r){var n=Kpe(e);r&&(n=[n.reduce(function(a,o){return[].concat(TI(a),TI(o))},[])]);var i=n.map(function(a){return a.reduce(function(o,s,l){return"".concat(o).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},Gpe=function(e,r,n){var i=Ku(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Ku(r.reverse(),n).slice(1))},Xpe=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,a=e.connectNulls,o=Upe(e,Vpe);if(!r||!r.length)return null;var s=De("recharts-polygon",n);if(i&&i.length){var l=o.stroke&&o.stroke!=="none",c=Gpe(r,i,a);return $.createElement("g",{className:s},$.createElement("path",cl({},Ae(o,!0),{fill:c.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:c})),l?$.createElement("path",cl({},Ae(o,!0),{fill:"none",d:Ku(r,a)})):null,l?$.createElement("path",cl({},Ae(o,!0),{fill:"none",d:Ku(i,a)})):null)}var u=Ku(r,a);return $.createElement("path",cl({},Ae(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:s,d:u}))};function Xx(){return Xx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xx.apply(this,arguments)}var Ok=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,o=De("recharts-dot",a);return r===+r&&n===+n&&i===+i?$.createElement("circle",Xx({},Ae(e,!1),gm(e),{className:o,cx:r,cy:n,r:i})):null};function Jf(t){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jf(t)}var Ype=["x","y","top","left","width","height","className"];function Yx(){return Yx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yx.apply(this,arguments)}function PI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qpe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PI(Object(r),!0).forEach(function(n){Jpe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jpe(t,e,r){return e=Zpe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zpe(t){var e=eme(t,"string");return Jf(e)=="symbol"?e:String(e)}function eme(t,e){if(Jf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tme(t,e){if(t==null)return{};var r=rme(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function rme(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var nme=function(e,r,n,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},ime=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.top,s=o===void 0?0:o,l=e.left,c=l===void 0?0:l,u=e.width,f=u===void 0?0:u,h=e.height,p=h===void 0?0:h,g=e.className,b=tme(e,Ype),v=Qpe({x:n,y:a,top:s,left:c,width:f,height:p},b);return!ue(n)||!ue(a)||!ue(f)||!ue(p)||!ue(s)||!ue(c)?null:$.createElement("path",Yx({},Ae(v,!0),{className:De("recharts-cross",g),d:nme(n,a,f,p,s,c)}))},ame=Ay,ome=tL,sme=ki;function lme(t,e){return t&&t.length?ame(t,sme(e),ome):void 0}var cme=lme;const ume=nt(cme);var fme=Ay,dme=ki,hme=rL;function pme(t,e){return t&&t.length?fme(t,dme(e),hme):void 0}var mme=pme;const gme=nt(mme);var yme=["cx","cy","angle","ticks","axisLine"],vme=["ticks","tick","angle","tickFormatter","stroke"];function Ql(t){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ql(t)}function Gu(){return Gu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gu.apply(this,arguments)}function II(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Po(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?II(Object(r),!0).forEach(function(n){jy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):II(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OI(t,e){if(t==null)return{};var r=bme(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function bme(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function xme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,VL(n.key),n)}}function wme(t,e,r){return e&&CI(t.prototype,e),r&&CI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _me(t,e,r){return e=Xm(e),kme(t,FL()?Reflect.construct(e,r||[],Xm(t).constructor):e.apply(t,r))}function kme(t,e){if(e&&(Ql(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eme(t)}function Eme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FL=function(){return!!t})()}function Xm(t){return Xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xm(t)}function Sme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qx(t,e)}function Qx(t,e){return Qx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Qx(t,e)}function jy(t,e,r){return e=VL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VL(t){var e=Tme(t,"string");return Ql(e)=="symbol"?e:String(e)}function Tme(t,e){if(Ql(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ql(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dy=function(t){Sme(e,t);function e(){return xme(this,e),_me(this,e,arguments)}return wme(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,o=a.angle,s=a.cx,l=a.cy;return ht(s,l,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,s=n.ticks,l=ume(s,function(u){return u.coordinate||0}),c=gme(s,function(u){return u.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,s=n.ticks,l=n.axisLine,c=OI(n,yme),u=s.reduce(function(g,b){return[Math.min(g[0],b.coordinate),Math.max(g[1],b.coordinate)]},[1/0,-1/0]),f=ht(i,a,u[0],o),h=ht(i,a,u[1],o),p=Po(Po(Po({},Ae(c,!1)),{},{fill:"none"},Ae(l,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return $.createElement("line",Gu({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,s=i.angle,l=i.tickFormatter,c=i.stroke,u=OI(i,vme),f=this.getTickTextAnchor(),h=Ae(u,!1),p=Ae(o,!1),g=a.map(function(b,v){var _=n.getTickValueCoord(b),y=Po(Po(Po(Po({textAnchor:f,transform:"rotate(".concat(90-s,", ").concat(_.x,", ").concat(_.y,")")},h),{},{stroke:"none",fill:c},p),{},{index:v},_),{},{payload:b});return $.createElement(tt,Gu({className:De("recharts-polar-radius-axis-tick",AL(o)),key:"tick-".concat(b.coordinate)},us(n.props,b,v)),e.renderTickItem(o,y,l?l(b.value,v):b.value))});return $.createElement(tt,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,o=n.tick;return!i||!i.length?null:$.createElement(tt,{className:De("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),ir.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var o;return $.isValidElement(n)?o=$.cloneElement(n,i):Ce(n)?o=n(i):o=$.createElement(fs,Gu({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}]),e}(D.PureComponent);jy(Dy,"displayName","PolarRadiusAxis");jy(Dy,"axisType","radiusAxis");jy(Dy,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Jl(t){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jl(t)}function Mo(){return Mo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mo.apply(this,arguments)}function NI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Io(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NI(Object(r),!0).forEach(function(n){My(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ame(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,BL(n.key),n)}}function Pme(t,e,r){return e&&RI(t.prototype,e),r&&RI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ime(t,e,r){return e=Ym(e),Ome(t,UL()?Reflect.construct(e,r||[],Ym(t).constructor):e.apply(t,r))}function Ome(t,e){if(e&&(Jl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cme(t)}function Cme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UL=function(){return!!t})()}function Ym(t){return Ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ym(t)}function Nme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jx(t,e)}function Jx(t,e){return Jx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Jx(t,e)}function My(t,e,r){return e=BL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BL(t){var e=Rme(t,"string");return Jl(e)=="symbol"?e:String(e)}function Rme(t,e){if(Jl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Jl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jme=Math.PI/180,jI=1e-5,$y=function(t){Nme(e,t);function e(){return Ame(this,e),Ime(this,e,arguments)}return Pme(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,o=i.cy,s=i.radius,l=i.orientation,c=i.tickSize,u=c||8,f=ht(a,o,s,n.coordinate),h=ht(a,o,s+(l==="inner"?-1:1)*u,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*jme),o;return a>jI?o=i==="outer"?"start":"end":a<-jI?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.radius,s=n.axisLine,l=n.axisLineType,c=Io(Io({},Ae(this.props,!1)),{},{fill:"none"},Ae(s,!1));if(l==="circle")return $.createElement(Ok,Mo({className:"recharts-polar-angle-axis-line"},c,{cx:i,cy:a,r:o}));var u=this.props.ticks,f=u.map(function(h){return ht(i,a,o,h.coordinate)});return $.createElement(Xpe,Mo({className:"recharts-polar-angle-axis-line"},c,{points:f}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,s=i.tickLine,l=i.tickFormatter,c=i.stroke,u=Ae(this.props,!1),f=Ae(o,!1),h=Io(Io({},u),{},{fill:"none"},Ae(s,!1)),p=a.map(function(g,b){var v=n.getTickLineCoord(g),_=n.getTickTextAnchor(g),y=Io(Io(Io({textAnchor:_},u),{},{stroke:"none",fill:c},f),{},{index:b,payload:g,x:v.x2,y:v.y2});return $.createElement(tt,Mo({className:De("recharts-polar-angle-axis-tick",AL(o)),key:"tick-".concat(g.coordinate)},us(n.props,g,b)),s&&$.createElement("line",Mo({className:"recharts-polar-angle-axis-tick-line"},h,v)),o&&e.renderTickItem(o,y,l?l(g.value,b):g.value))});return $.createElement(tt,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,o=n.axisLine;return a<=0||!i||!i.length?null:$.createElement(tt,{className:De("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var o;return $.isValidElement(n)?o=$.cloneElement(n,i):Ce(n)?o=n(i):o=$.createElement(fs,Mo({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}]),e}(D.PureComponent);My($y,"displayName","PolarAngleAxis");My($y,"axisType","angleAxis");My($y,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Dme=YM,Mme=Dme(Object.getPrototypeOf,Object),$me=Mme,Lme=sa,Fme=$me,Vme=la,Ume="[object Object]",Bme=Function.prototype,zme=Object.prototype,zL=Bme.toString,Wme=zme.hasOwnProperty,qme=zL.call(Object);function Hme(t){if(!Vme(t)||Lme(t)!=Ume)return!1;var e=Fme(t);if(e===null)return!0;var r=Wme.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&zL.call(r)==qme}var Kme=Hme;const Gme=nt(Kme);var Xme=sa,Yme=la,Qme="[object Boolean]";function Jme(t){return t===!0||t===!1||Yme(t)&&Xme(t)==Qme}var Zme=Jme;const ege=nt(Zme);function Zf(t){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zf(t)}function Qm(){return Qm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qm.apply(this,arguments)}function tge(t,e){return age(t)||ige(t,e)||nge(t,e)||rge()}function rge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nge(t,e){if(t){if(typeof t=="string")return DI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DI(t,e)}}function DI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ige(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function age(t){if(Array.isArray(t))return t}function MI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $I(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MI(Object(r),!0).forEach(function(n){oge(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oge(t,e,r){return e=sge(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sge(t){var e=lge(t,"string");return Zf(e)=="symbol"?e:String(e)}function lge(t,e){if(Zf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LI=function(e,r,n,i,a){var o=n-i,s;return s="M ".concat(e,",").concat(r),s+="L ".concat(e+n,",").concat(r),s+="L ".concat(e+n-o/2,",").concat(r+a),s+="L ".concat(e+n-o/2-i,",").concat(r+a),s+="L ".concat(e,",").concat(r," Z"),s},cge={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},uge=function(e){var r=$I($I({},cge),e),n=D.useRef(),i=D.useState(-1),a=tge(i,2),o=a[0],s=a[1];D.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var x=n.current.getTotalLength();x&&s(x)}catch{}},[]);var l=r.x,c=r.y,u=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,g=r.animationEasing,b=r.animationDuration,v=r.animationBegin,_=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||h!==+h||u===0&&f===0||h===0)return null;var y=De("recharts-trapezoid",p);return _?$.createElement(aa,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:u,lowerWidth:f,height:h,x:l,y:c},duration:b,animationEasing:g,isActive:_},function(x){var k=x.upperWidth,T=x.lowerWidth,C=x.height,S=x.x,E=x.y;return $.createElement(aa,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:b,easing:g},$.createElement("path",Qm({},Ae(r,!0),{className:y,d:LI(S,E,k,T,C),ref:n})))}):$.createElement("g",null,$.createElement("path",Qm({},Ae(r,!0),{className:y,d:LI(l,c,u,f,h)})))},fge=["option","shapeType","propTransformer","activeClassName","isActive"];function ed(t){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ed(t)}function dge(t,e){if(t==null)return{};var r=hge(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function hge(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function FI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Jm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FI(Object(r),!0).forEach(function(n){pge(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pge(t,e,r){return e=mge(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mge(t){var e=gge(t,"string");return ed(e)=="symbol"?e:String(e)}function gge(t,e){if(ed(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ed(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yge(t,e){return Jm(Jm({},e),t)}function vge(t,e){return t==="symbols"}function VI(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return $.createElement(Ik,r);case"trapezoid":return $.createElement(uge,r);case"sector":return $.createElement(OL,r);case"symbols":if(vge(e))return $.createElement(K1,r);break;default:return null}}function bge(t){return D.isValidElement(t)?t.props:t}function WL(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?yge:n,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,s=t.isActive,l=dge(t,fge),c;if(D.isValidElement(e))c=D.cloneElement(e,Jm(Jm({},l),bge(e)));else if(Ce(e))c=e(l);else if(Gme(e)&&!ege(e)){var u=i(e,l);c=$.createElement(VI,{shapeType:r,elementProps:u})}else{var f=l;c=$.createElement(VI,{shapeType:r,elementProps:f})}return s?$.createElement(tt,{className:o},c):c}function Ly(t,e){return e!=null&&"trapezoids"in t.props}function Fy(t,e){return e!=null&&"sectors"in t.props}function td(t,e){return e!=null&&"points"in t.props}function xge(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function wge(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function _ge(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function kge(t,e){var r;return Ly(t,e)?r=xge:Fy(t,e)?r=wge:td(t,e)&&(r=_ge),r}function Ege(t,e){var r;return Ly(t,e)?r="trapezoids":Fy(t,e)?r="sectors":td(t,e)&&(r="points"),r}function Sge(t,e){if(Ly(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Fy(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return td(t,e)?e.payload:{}}function Tge(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=Ege(r,e),a=Sge(r,e),o=n.filter(function(l,c){var u=Oy(a,l),f=r.props[i].filter(function(g){var b=kge(r,e);return b(g,e)}),h=r.props[i].indexOf(f[f.length-1]),p=c===h;return u&&p}),s=n.indexOf(o[o.length-1]);return s}var bp;function Zl(t){"@babel/helpers - typeof";return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zl(t)}function ul(){return ul=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ul.apply(this,arguments)}function UI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _t(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UI(Object(r),!0).forEach(function(n){_n(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Age(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,HL(n.key),n)}}function Pge(t,e,r){return e&&BI(t.prototype,e),r&&BI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ige(t,e,r){return e=Zm(e),Oge(t,qL()?Reflect.construct(e,r||[],Zm(t).constructor):e.apply(t,r))}function Oge(t,e){if(e&&(Zl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hs(t)}function qL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qL=function(){return!!t})()}function Zm(t){return Zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zm(t)}function Hs(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Cge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zx(t,e)}function Zx(t,e){return Zx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Zx(t,e)}function _n(t,e,r){return e=HL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HL(t){var e=Nge(t,"string");return Zl(e)=="symbol"?e:String(e)}function Nge(t,e){if(Zl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Zl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ei=function(t){Cge(e,t);function e(r){var n;return Age(this,e),n=Ige(this,e,[r]),_n(Hs(n),"pieRef",null),_n(Hs(n),"sectorRefs",[]),_n(Hs(n),"id",jd("recharts-pie-")),_n(Hs(n),"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ce(i)&&i()}),_n(Hs(n),"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ce(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Pge(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,s=a.labelLine,l=a.dataKey,c=a.valueKey,u=Ae(this.props,!1),f=Ae(o,!1),h=Ae(s,!1),p=o&&o.offsetRadius||20,g=n.map(function(b,v){var _=(b.startAngle+b.endAngle)/2,y=ht(b.cx,b.cy,b.outerRadius+p,_),x=_t(_t(_t(_t({},u),b),{},{stroke:"none"},f),{},{index:v,textAnchor:e.getTextAnchor(y.x,b.cx)},y),k=_t(_t(_t(_t({},u),b),{},{fill:"none",stroke:b.fill},h),{},{index:v,points:[ht(b.cx,b.cy,b.outerRadius,_),y],key:"line"}),T=l;return Me(l)&&Me(c)?T="value":Me(l)&&(T=c),$.createElement(tt,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(v)},s&&e.renderLabelLineItem(s,k),e.renderLabelItem(o,x,Pr(b,T)))});return $.createElement(tt,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,o=a.activeShape,s=a.blendStroke,l=a.inactiveShape;return n.map(function(c,u){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&n.length!==1)return null;var f=i.isActiveIndex(u),h=l&&i.hasActiveIndex()?l:null,p=f?o:h,g=_t(_t({},c),{},{stroke:s?c.fill:c.stroke,tabIndex:-1});return $.createElement(tt,ul({ref:function(v){v&&!i.sectorRefs.includes(v)&&i.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},us(i.props,c,u),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(u)}),$.createElement(WL,ul({option:p,isActive:f,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,o=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,c=i.animationEasing,u=i.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return $.createElement(aa,{begin:s,duration:l,isActive:o,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var b=g.t,v=[],_=a&&a[0],y=_.startAngle;return a.forEach(function(x,k){var T=h&&h[k],C=k>0?un(x,"paddingAngle",0):0;if(T){var S=_a(T.endAngle-T.startAngle,x.endAngle-x.startAngle),E=_t(_t({},x),{},{startAngle:y+C,endAngle:y+S(b)+C});v.push(E),y=E.endAngle}else{var P=x.endAngle,I=x.startAngle,R=_a(0,P-I),N=R(b),O=_t(_t({},x),{},{startAngle:y+C,endAngle:y+N+C});v.push(O),y=O.endAngle}}),$.createElement(tt,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!Oy(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,o=i.sectors,s=i.className,l=i.label,c=i.cx,u=i.cy,f=i.innerRadius,h=i.outerRadius,p=i.isAnimationActive,g=this.state.isAnimationFinished;if(a||!o||!o.length||!ue(c)||!ue(u)||!ue(f)||!ue(h))return null;var b=De("recharts-pie",s);return $.createElement(tt,{tabIndex:this.props.rootTabIndex,className:b,ref:function(_){n.pieRef=_}},this.renderSectors(),l&&this.renderLabels(o),ir.renderCallByParent(this.props,null,!1),(!p||g)&&Za.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i){if($.isValidElement(n))return $.cloneElement(n,i);if(Ce(n))return n(i);var a=De("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return $.createElement(Lx,ul({},i,{type:"linear",className:a}))}},{key:"renderLabelItem",value:function(n,i,a){if($.isValidElement(n))return $.cloneElement(n,i);var o=a;if(Ce(n)&&(o=n(i),$.isValidElement(o)))return o;var s=De("recharts-pie-label-text",typeof n!="boolean"&&!Ce(n)?n.className:"");return $.createElement(fs,ul({},i,{alignmentBaseline:"middle",className:s}),o)}}]),e}(D.PureComponent);bp=Ei;_n(Ei,"displayName","Pie");_n(Ei,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!qi.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});_n(Ei,"parseDeltaAngle",function(t,e){var r=Mr(e-t),n=Math.min(Math.abs(e-t),360);return r*n});_n(Ei,"getRealPieData",function(t){var e=t.props,r=e.data,n=e.children,i=Ae(t.props,!1),a=An(n,Md);return r&&r.length?r.map(function(o,s){return _t(_t(_t({payload:o},i),o),a&&a[s]&&a[s].props)}):a&&a.length?a.map(function(o){return _t(_t({},i),o.props)}):[]});_n(Ei,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,a=e.height,o=TL(i,a),s=n+$r(t.props.cx,i,i/2),l=r+$r(t.props.cy,a,a/2),c=$r(t.props.innerRadius,o,0),u=$r(t.props.outerRadius,o,o*.8),f=t.props.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:s,cy:l,innerRadius:c,outerRadius:u,maxRadius:f}});_n(Ei,"getComposedData",function(t){var e=t.item,r=t.offset,n=bp.getRealPieData(e);if(!n||!n.length)return null;var i=e.props,a=i.cornerRadius,o=i.startAngle,s=i.endAngle,l=i.paddingAngle,c=i.dataKey,u=i.nameKey,f=i.valueKey,h=i.tooltipType,p=Math.abs(e.props.minAngle),g=bp.parseCoordinateOfPie(e,r),b=bp.parseDeltaAngle(o,s),v=Math.abs(b),_=c;Me(c)&&Me(f)?(qn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_="value"):Me(c)&&(qn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_=f);var y=n.filter(function(E){return Pr(E,_,0)!==0}).length,x=(v>=360?y:y-1)*l,k=v-y*p-x,T=n.reduce(function(E,P){var I=Pr(P,_,0);return E+(ue(I)?I:0)},0),C;if(T>0){var S;C=n.map(function(E,P){var I=Pr(E,_,0),R=Pr(E,u,P),N=(ue(I)?I:0)/T,O;P?O=S.endAngle+Mr(b)*l*(I!==0?1:0):O=o;var F=O+Mr(b)*((I!==0?p:0)+N*k),W=(O+F)/2,H=(g.innerRadius+g.outerRadius)/2,X=[{name:R,value:I,payload:E,dataKey:_,type:h}],V=ht(g.cx,g.cy,H,W);return S=_t(_t(_t({percent:N,cornerRadius:a,name:R,tooltipPayload:X,midAngle:W,middleRadius:H,tooltipPosition:V},E),g),{},{value:Pr(E,_),startAngle:O,endAngle:F,payload:E,paddingAngle:Mr(b)*l}),S})}return _t(_t({},g),{},{sectors:C,data:n})});var Rge=Math.ceil,jge=Math.max;function Dge(t,e,r,n){for(var i=-1,a=jge(Rge((e-t)/(r||1)),0),o=Array(a);a--;)o[n?a:++i]=t,t+=r;return o}var Mge=Dge,$ge=g$,zI=1/0,Lge=17976931348623157e292;function Fge(t){if(!t)return t===0?t:0;if(t=$ge(t),t===zI||t===-zI){var e=t<0?-1:1;return e*Lge}return t===t?t:0}var KL=Fge,Vge=Mge,Uge=xy,p0=KL;function Bge(t){return function(e,r,n){return n&&typeof n!="number"&&Uge(e,r,n)&&(r=n=void 0),e=p0(e),r===void 0?(r=e,e=0):r=p0(r),n=n===void 0?e<r?1:-1:p0(n),Vge(e,r,n,t)}}var zge=Bge,Wge=zge,qge=Wge(),Hge=qge;const eg=nt(Hge);function rd(t){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rd(t)}function WI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WI(Object(r),!0).forEach(function(n){GL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function GL(t,e,r){return e=Kge(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kge(t){var e=Gge(t,"string");return rd(e)=="symbol"?e:String(e)}function Gge(t,e){if(rd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(rd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xge=["Webkit","Moz","O","ms"],Yge=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Xge.reduce(function(a,o){return qI(qI({},a),{},GL({},o+n,r))},{});return i[e]=r,i};function ec(t){"@babel/helpers - typeof";return ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ec(t)}function tg(){return tg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tg.apply(this,arguments)}function HI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function m0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HI(Object(r),!0).forEach(function(n){rn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Qge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,YL(n.key),n)}}function Jge(t,e,r){return e&&KI(t.prototype,e),r&&KI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zge(t,e,r){return e=rg(e),eye(t,XL()?Reflect.construct(e,r||[],rg(t).constructor):e.apply(t,r))}function eye(t,e){if(e&&(ec(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ei(t)}function XL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XL=function(){return!!t})()}function rg(t){return rg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rg(t)}function ei(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ew(t,e)}function ew(t,e){return ew=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ew(t,e)}function rn(t,e,r){return e=YL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YL(t){var e=rye(t,"string");return ec(e)=="symbol"?e:String(e)}function rye(t,e){if(ec(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ec(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nye=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,o=e.width,s=e.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=Wu().domain(eg(0,l)).range([a,a+o-s]),u=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(i),scale:c,scaleValues:u}},GI=function(e){return e.changedTouches&&!!e.changedTouches.length},tc=function(t){tye(e,t);function e(r){var n;return Qge(this,e),n=Zge(this,e,[r]),rn(ei(n),"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),rn(ei(n),"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),rn(ei(n),"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),n.detachDragEndListener()}),rn(ei(n),"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),rn(ei(n),"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),rn(ei(n),"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),rn(ei(n),"handleSlideDragStart",function(i){var a=GI(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(ei(n),"startX"),endX:n.handleTravellerDragStart.bind(ei(n),"endX")},n.state={},n}return Jge(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,o=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,u=c.length-1,f=Math.min(i,a),h=Math.max(i,a),p=e.getIndexInRange(o,f),g=e.getIndexInRange(o,h);return{startIndex:p-p%l,endIndex:g===u?u:g-g%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=Pr(a[n],s,n);return Ce(o)?o(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,c=l.x,u=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,g=l.onChange,b=n.pageX-a;b>0?b=Math.min(b,c+u-f-s,c+u-f-o):b<0&&(b=Math.max(b,c-o,c-s));var v=this.getIndex({startX:o+b,endX:s+b});(v.startIndex!==h||v.endIndex!==p)&&g&&g(v),this.setState({startX:o+b,endX:s+b,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=GI(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,c=this.state[o],u=this.props,f=u.x,h=u.width,p=u.travellerWidth,g=u.onChange,b=u.gap,v=u.data,_={startX:this.state.startX,endX:this.state.endX},y=n.pageX-a;y>0?y=Math.min(y,f+h-p-c):y<0&&(y=Math.max(y,f-c)),_[o]=c+y;var x=this.getIndex(_),k=x.startIndex,T=x.endIndex,C=function(){var E=v.length-1;return o==="startX"&&(s>l?k%b===0:T%b===0)||s<l&&T===E||o==="endX"&&(s>l?T%b===0:k%b===0)||s>l&&T===E};this.setState(rn(rn({},o,c+y),"brushMoveStartX",n.pageX),function(){g&&C()&&g(x)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,c=o.endX,u=this.state[i],f=s.indexOf(u);if(f!==-1){var h=f+n;if(!(h===-1||h>=s.length)){var p=s[h];i==="startX"&&p>=c||i==="endX"&&p<=l||this.setState(rn({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.fill,c=n.stroke;return $.createElement("rect",{stroke:c,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.data,c=n.children,u=n.padding,f=D.Children.only(c);return f?$.cloneElement(f,{x:i,y:a,width:o,height:s,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,o,s=this,l=this.props,c=l.y,u=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,g=l.data,b=l.startIndex,v=l.endIndex,_=Math.max(n,this.props.x),y=m0(m0({},Ae(this.props,!1)),{},{x:_,y:c,width:u,height:f}),x=p||"Min value: ".concat((a=g[b])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=g[v])===null||o===void 0?void 0:o.name);return $.createElement(tt,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(T){["ArrowLeft","ArrowRight"].includes(T.key)&&(T.preventDefault(),T.stopPropagation(),s.handleTravellerMoveKeyboard(T.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,y))}},{key:"renderSlide",value:function(n,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,c=a.travellerWidth,u=Math.min(n,i)+c,f=Math.max(Math.abs(i-n)-c,0);return $.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:o,width:f,height:s})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,o=n.y,s=n.height,l=n.travellerWidth,c=n.stroke,u=this.state,f=u.startX,h=u.endX,p=5,g={pointerEvents:"none",fill:c};return $.createElement(tt,{className:"recharts-brush-texts"},$.createElement(fs,tg({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+s/2},g),this.getTextOfTick(i)),$.createElement(fs,tg({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:o+s/2},g),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,o=n.children,s=n.x,l=n.y,c=n.width,u=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,g=h.endX,b=h.isTextActive,v=h.isSlideMoving,_=h.isTravellerMoving,y=h.isTravellerFocused;if(!i||!i.length||!ue(s)||!ue(l)||!ue(c)||!ue(u)||c<=0||u<=0)return null;var x=De("recharts-brush",a),k=$.Children.count(o)===1,T=Yge("userSelect","none");return $.createElement(tt,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:T},this.renderBackground(),k&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(b||v||_||y||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,o=n.width,s=n.height,l=n.stroke,c=Math.floor(a+s/2)-1;return $.createElement($.Fragment,null,$.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),$.createElement("line",{x1:i+1,y1:c,x2:i+o-1,y2:c,fill:"none",stroke:"#fff"}),$.createElement("line",{x1:i+1,y1:c+2,x2:i+o-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return $.isValidElement(n)?a=$.cloneElement(n,i):Ce(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,o=n.width,s=n.x,l=n.travellerWidth,c=n.updateId,u=n.startIndex,f=n.endIndex;if(a!==i.prevData||c!==i.prevUpdateId)return m0({prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:o},a&&a.length?nye({data:a,width:o,x:s,travellerWidth:l,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);n[l]>i?s=l:o=l}return i>=n[s]?s:o}}]),e}(D.PureComponent);rn(tc,"displayName","Brush");rn(tc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var iye=ek;function aye(t,e){var r;return iye(t,function(n,i,a){return r=e(n,i,a),!r}),!!r}var oye=aye,sye=BM,lye=ki,cye=oye,uye=en,fye=xy;function dye(t,e,r){var n=uye(t)?sye:cye;return r&&fye(t,e,r)&&(e=void 0),n(t,lye(e))}var hye=dye;const pye=nt(hye);var vi=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},XI=f$;function mye(t,e,r){e=="__proto__"&&XI?XI(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var gye=mye,yye=gye,vye=c$,bye=ki;function xye(t,e){var r={};return e=bye(e),vye(t,function(n,i,a){yye(r,i,e(n,i,a))}),r}var wye=xye;const _ye=nt(wye);function kye(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var Eye=kye,Sye=ek;function Tye(t,e){var r=!0;return Sye(t,function(n,i,a){return r=!!e(n,i,a),r}),r}var Aye=Tye,Pye=Eye,Iye=Aye,Oye=ki,Cye=en,Nye=xy;function Rye(t,e,r){var n=Cye(t)?Pye:Iye;return r&&Nye(t,e,r)&&(e=void 0),n(t,Oye(e))}var jye=Rye;const QL=nt(jye);var Dye=["x","y"];function nd(t){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nd(t)}function tw(){return tw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tw.apply(this,arguments)}function YI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function uu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YI(Object(r),!0).forEach(function(n){Mye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mye(t,e,r){return e=$ye(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $ye(t){var e=Lye(t,"string");return nd(e)=="symbol"?e:String(e)}function Lye(t,e){if(nd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fye(t,e){if(t==null)return{};var r=Vye(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Vye(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Uye(t,e){var r=t.x,n=t.y,i=Fye(t,Dye),a="".concat(r),o=parseInt(a,10),s="".concat(n),l=parseInt(s,10),c="".concat(e.height||i.height),u=parseInt(c,10),f="".concat(e.width||i.width),h=parseInt(f,10);return uu(uu(uu(uu(uu({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:u,width:h,name:e.name,radius:e.radius})}function QI(t){return $.createElement(WL,tw({shapeType:"rectangle",propTransformer:Uye,activeClassName:"recharts-active-bar"},t))}var Bye=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=typeof n=="number";return a?e(n,i):(a||hs(),r)}},zye=["value","background"],JL;function rc(t){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rc(t)}function Wye(t,e){if(t==null)return{};var r=qye(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function qye(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function ng(){return ng=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ng.apply(this,arguments)}function JI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function er(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JI(Object(r),!0).forEach(function(n){La(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,e4(n.key),n)}}function Kye(t,e,r){return e&&ZI(t.prototype,e),r&&ZI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gye(t,e,r){return e=ig(e),Xye(t,ZL()?Reflect.construct(e,r||[],ig(t).constructor):e.apply(t,r))}function Xye(t,e){if(e&&(rc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ku(t)}function ZL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZL=function(){return!!t})()}function ig(t){return ig=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ig(t)}function ku(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rw(t,e)}function rw(t,e){return rw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},rw(t,e)}function La(t,e,r){return e=e4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function e4(t){var e=Qye(t,"string");return rc(e)=="symbol"?e:String(e)}function Qye(t,e){if(rc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ps=function(t){Yye(e,t);function e(){var r;Hye(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Gye(this,e,[].concat(i)),La(ku(r),"state",{isAnimationFinished:!1}),La(ku(r),"id",jd("recharts-bar-")),La(ku(r),"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),La(ku(r),"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return Kye(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,c=a.activeBar,u=Ae(this.props,!1);return n&&n.map(function(f,h){var p=h===l,g=p?c:o,b=er(er(er({},u),f),{},{isActive:p,option:g,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return $.createElement(tt,ng({className:"recharts-bar-rectangle"},us(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value)}),$.createElement(QI,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,f=i.animationId,h=this.state.prevData;return $.createElement(aa,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,b=a.map(function(v,_){var y=h&&h[_];if(y){var x=_a(y.x,v.x),k=_a(y.y,v.y),T=_a(y.width,v.width),C=_a(y.height,v.height);return er(er({},v),{},{x:x(g),y:k(g),width:T(g),height:C(g)})}if(o==="horizontal"){var S=_a(0,v.height),E=S(g);return er(er({},v),{},{y:v.y+v.height-E,height:E})}var P=_a(0,v.width),I=P(g);return er(er({},v),{},{width:I})});return $.createElement(tt,null,n.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!Oy(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=Ae(this.props.background,!1);return a.map(function(c,u){c.value;var f=c.background,h=Wye(c,zye);if(!f)return null;var p=er(er(er(er(er({},h),{},{fill:"#eee"},f),l),us(n.props,c,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:u,key:"background-bar-".concat(u),className:"recharts-bar-background-rectangle"});return $.createElement(QI,ng({option:n.props.background,isActive:u===s},p))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,c=a.layout,u=a.children,f=An(u,Ry);if(!f)return null;var h=c==="vertical"?o[0].height/2:o[0].width/2,p=function(v,_){var y=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:y,errorVal:Pr(v,_)}},g={clipPath:n?"url(#clipPath-".concat(i,")"):null};return $.createElement(tt,g,f.map(function(b){return $.cloneElement(b,{key:"error-bar-".concat(i,"-").concat(b.props.dataKey),data:o,xAxis:s,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,s=n.xAxis,l=n.yAxis,c=n.left,u=n.top,f=n.width,h=n.height,p=n.isAnimationActive,g=n.background,b=n.id;if(i||!a||!a.length)return null;var v=this.state.isAnimationFinished,_=De("recharts-bar",o),y=s&&s.allowDataOverflow,x=l&&l.allowDataOverflow,k=y||x,T=Me(b)?this.id:b;return $.createElement(tt,{className:_},y||x?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(T)},$.createElement("rect",{x:y?c:c-f/2,y:x?u:u-h/2,width:y?f:f*2,height:x?h:h*2}))):null,$.createElement(tt,{className:"recharts-bar-rectangles",clipPath:k?"url(#clipPath-".concat(T,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(k,T),(!p||v)&&Za.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}]),e}(D.PureComponent);JL=Ps;La(Ps,"displayName","Bar");La(Ps,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!qi.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});La(Ps,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,u=t.dataStartIndex,f=t.displayedData,h=t.offset,p=Xfe(n,r);if(!p)return null;var g=e.layout,b=r.props,v=b.dataKey,_=b.children,y=b.minPointSize,x=g==="horizontal"?o:a,k=c?x.scale.domain():null,T=rde({numericAxis:x}),C=An(_,Md),S=f.map(function(E,P){var I,R,N,O,F,W;c?I=Yfe(c[u+P],k):(I=Pr(E,v),Array.isArray(I)||(I=[T,I]));var H=Bye(y,JL.defaultProps.minPointSize)(I[1],P);if(g==="horizontal"){var X,V=[o.scale(I[0]),o.scale(I[1])],Q=V[0],ee=V[1];R=BP({axis:a,ticks:s,bandSize:i,offset:p.offset,entry:E,index:P}),N=(X=ee??Q)!==null&&X!==void 0?X:void 0,O=p.size;var oe=Q-ee;if(F=Number.isNaN(oe)?0:oe,W={x:R,y:o.y,width:O,height:o.height},Math.abs(H)>0&&Math.abs(F)<Math.abs(H)){var Z=Mr(F||H)*(Math.abs(H)-Math.abs(F));N-=Z,F+=Z}}else{var le=[a.scale(I[0]),a.scale(I[1])],Ee=le[0],je=le[1];if(R=Ee,N=BP({axis:o,ticks:l,bandSize:i,offset:p.offset,entry:E,index:P}),O=je-Ee,F=p.size,W={x:a.x,y:N,width:a.width,height:F},Math.abs(H)>0&&Math.abs(O)<Math.abs(H)){var et=Mr(O||H)*(Math.abs(H)-Math.abs(O));O+=et}}return er(er(er({},E),{},{x:R,y:N,width:O,height:F,value:c?I:I[1],payload:E,background:W},C&&C[P]&&C[P].props),{},{tooltipPayload:[EL(r,E)],tooltipPosition:{x:R+O/2,y:N+F/2}})});return er({data:S,layout:g},h)});function id(t){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},id(t)}function Jye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,t4(n.key),n)}}function Zye(t,e,r){return e&&eO(t.prototype,e),r&&eO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function tO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ln(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tO(Object(r),!0).forEach(function(n){Vy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vy(t,e,r){return e=t4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function t4(t){var e=eve(t,"string");return id(e)=="symbol"?e:String(e)}function eve(t,e){if(id(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(id(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tve=function(e,r,n,i,a){var o=e.width,s=e.height,l=e.layout,c=e.children,u=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},h=!!an(c,Ps);return u.reduce(function(p,g){var b=r[g],v=b.orientation,_=b.domain,y=b.padding,x=y===void 0?{}:y,k=b.mirror,T=b.reversed,C="".concat(v).concat(k?"Mirror":""),S,E,P,I,R;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var N=_[1]-_[0],O=1/0,F=b.categoricalDomain.sort();if(F.forEach(function(Ee,je){je>0&&(O=Math.min((Ee||0)-(F[je-1]||0),O))}),Number.isFinite(O)){var W=O/N,H=b.layout==="vertical"?n.height:n.width;if(b.padding==="gap"&&(S=W*H/2),b.padding==="no-gap"){var X=$r(e.barCategoryGap,W*H),V=W*H/2;S=V-X-(V-X)/H*X}}}i==="xAxis"?E=[n.left+(x.left||0)+(S||0),n.left+n.width-(x.right||0)-(S||0)]:i==="yAxis"?E=l==="horizontal"?[n.top+n.height-(x.bottom||0),n.top+(x.top||0)]:[n.top+(x.top||0)+(S||0),n.top+n.height-(x.bottom||0)-(S||0)]:E=b.range,T&&(E=[E[1],E[0]]);var Q=xL(b,a,h),ee=Q.scale,oe=Q.realScaleType;ee.domain(_).range(E),wL(ee);var Z=_L(ee,Ln(Ln({},b),{},{realScaleType:oe}));i==="xAxis"?(R=v==="top"&&!k||v==="bottom"&&k,P=n.left,I=f[C]-R*b.height):i==="yAxis"&&(R=v==="left"&&!k||v==="right"&&k,P=f[C]-R*b.width,I=n.top);var le=Ln(Ln(Ln({},b),Z),{},{realScaleType:oe,x:P,y:I,scale:ee,width:i==="xAxis"?n.width:b.width,height:i==="yAxis"?n.height:b.height});return le.bandSize=Bm(le,Z),!b.hide&&i==="xAxis"?f[C]+=(R?-1:1)*le.height:b.hide||(f[C]+=(R?-1:1)*le.width),Ln(Ln({},p),{},Vy({},g,le))},{})},r4=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(i,o),width:Math.abs(a-n),height:Math.abs(o-i)}},rve=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return r4({x:r,y:n},{x:i,y:a})},n4=function(){function t(e){Jye(this,t),this.scale=e}return Zye(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}]),t}();Vy(n4,"EPS",1e-4);var Ck=function(e){var r=Object.keys(e).reduce(function(n,i){return Ln(Ln({},n),{},Vy({},i,n4.create(e[i])))},{});return Ln(Ln({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return _ye(i,function(l,c){return r[c].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return QL(i,function(a,o){return r[o].isInRange(a)})}})};function nve(t){return(t%180+180)%180}var ive=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=nve(i),o=a*Math.PI/180,s=Math.atan(n/r),l=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},ave=ki,ove=Dd,sve=vy;function lve(t){return function(e,r,n){var i=Object(e);if(!ove(e)){var a=ave(r);e=sve(e),r=function(s){return a(i[s],s,i)}}var o=t(e,r,n);return o>-1?i[a?e[o]:o]:void 0}}var cve=lve,uve=KL;function fve(t){var e=uve(t),r=e%1;return e===e?r?e-r:e:0}var dve=fve,hve=r$,pve=ki,mve=dve,gve=Math.max;function yve(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:mve(r);return i<0&&(i=gve(n+i,0)),hve(t,pve(e),i)}var vve=yve,bve=cve,xve=vve,wve=bve(xve),_ve=wve;const kve=nt(_ve);var Eve=qX(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),Nk=D.createContext(void 0),Rk=D.createContext(void 0),i4=D.createContext(void 0),a4=D.createContext({}),o4=D.createContext(void 0),s4=D.createContext(0),l4=D.createContext(0),rO=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,o=e.clipPathId,s=e.children,l=e.width,c=e.height,u=Eve(a);return $.createElement(Nk.Provider,{value:n},$.createElement(Rk.Provider,{value:i},$.createElement(a4.Provider,{value:a},$.createElement(i4.Provider,{value:u},$.createElement(o4.Provider,{value:o},$.createElement(s4.Provider,{value:c},$.createElement(l4.Provider,{value:l},s)))))))},Sve=function(){return D.useContext(o4)},c4=function(e){var r=D.useContext(Nk);r==null&&hs();var n=r[e];return n==null&&hs(),n},Tve=function(){var e=D.useContext(Nk);return Ra(e)},Ave=function(){var e=D.useContext(Rk),r=kve(e,function(n){return QL(n.domain,Number.isFinite)});return r||Ra(e)},u4=function(e){var r=D.useContext(Rk);r==null&&hs();var n=r[e];return n==null&&hs(),n},Pve=function(){var e=D.useContext(i4);return e},Ive=function(){return D.useContext(a4)},jk=function(){return D.useContext(l4)},Dk=function(){return D.useContext(s4)};function ad(t){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ad(t)}function nO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function iO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nO(Object(r),!0).forEach(function(n){Ove(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ove(t,e,r){return e=Cve(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cve(t){var e=Nve(t,"string");return ad(e)=="symbol"?e:String(e)}function Nve(t,e){if(ad(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ad(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rve(t,e){return $ve(t)||Mve(t,e)||Dve(t,e)||jve()}function jve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dve(t,e){if(t){if(typeof t=="string")return aO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aO(t,e)}}function aO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Mve(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function $ve(t){if(Array.isArray(t))return t}function nw(){return nw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nw.apply(this,arguments)}var Lve=function(e,r){var n;return $.isValidElement(e)?n=$.cloneElement(e,r):Ce(e)?n=e(r):n=$.createElement("line",nw({},r,{className:"recharts-reference-line-line"})),n},Fve=function(e,r,n,i,a,o,s,l,c){var u=a.x,f=a.y,h=a.width,p=a.height;if(n){var g=c.y,b=e.y.apply(g,{position:o});if(vi(c,"discard")&&!e.y.isInRange(b))return null;var v=[{x:u+h,y:b},{x:u,y:b}];return l==="left"?v.reverse():v}if(r){var _=c.x,y=e.x.apply(_,{position:o});if(vi(c,"discard")&&!e.x.isInRange(y))return null;var x=[{x:y,y:f+p},{x:y,y:f}];return s==="top"?x.reverse():x}if(i){var k=c.segment,T=k.map(function(C){return e.apply(C,{position:o})});return vi(c,"discard")&&pye(T,function(C){return!e.isInRange(C)})?null:T}return null};function Mk(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,s=t.className,l=t.alwaysShow,c=Sve(),u=c4(i),f=u4(a),h=Pve();if(!c||!h)return null;qn(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Ck({x:u.scale,y:f.scale}),g=Jt(e),b=Jt(r),v=n&&n.length===2,_=Fve(p,g,b,v,h,t.position,u.orientation,f.orientation,t);if(!_)return null;var y=Rve(_,2),x=y[0],k=x.x,T=x.y,C=y[1],S=C.x,E=C.y,P=vi(t,"hidden")?"url(#".concat(c,")"):void 0,I=iO(iO({clipPath:P},Ae(t,!0)),{},{x1:k,y1:T,x2:S,y2:E});return $.createElement(tt,{className:De("recharts-reference-line",s)},Lve(o,I),ir.renderCallByParent(t,rve({x1:k,y1:T,x2:S,y2:E})))}Mk.displayName="ReferenceLine";Mk.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"};function od(t){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},od(t)}function iw(){return iw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},iw.apply(this,arguments)}function oO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oO(Object(r),!0).forEach(function(n){Vve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vve(t,e,r){return e=Uve(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Uve(t){var e=Bve(t,"string");return od(e)=="symbol"?e:String(e)}function Bve(t,e){if(od(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zve=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,o=Ck({x:i.scale,y:a.scale}),s=o.apply({x:r,y:n},{bandAware:!0});return vi(e,"discard")&&!o.isInRange(s)?null:s};function Ud(t){var e=t.x,r=t.y,n=t.r,i=t.alwaysShow,a=t.clipPathId,o=Jt(e),s=Jt(r);if(qn(i===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!o||!s)return null;var l=zve(t);if(!l)return null;var c=l.x,u=l.y,f=t.shape,h=t.className,p=vi(t,"hidden")?"url(#".concat(a,")"):void 0,g=sO(sO({clipPath:p},Ae(t,!0)),{},{cx:c,cy:u});return $.createElement(tt,{className:De("recharts-reference-dot",h)},Ud.renderDot(f,g),ir.renderCallByParent(t,{x:c-n,y:u-n,width:2*n,height:2*n}))}Ud.displayName="ReferenceDot";Ud.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1};Ud.renderDot=function(t,e){var r;return $.isValidElement(t)?r=$.cloneElement(t,e):Ce(t)?r=t(e):r=$.createElement(Ok,iw({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r};function sd(t){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sd(t)}function aw(){return aw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},aw.apply(this,arguments)}function lO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lO(Object(r),!0).forEach(function(n){Wve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wve(t,e,r){return e=qve(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qve(t){var e=Hve(t,"string");return sd(e)=="symbol"?e:String(e)}function Hve(t,e){if(sd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kve=function(e,r,n,i,a){var o=a.x1,s=a.x2,l=a.y1,c=a.y2,u=a.xAxis,f=a.yAxis;if(!u||!f)return null;var h=Ck({x:u.scale,y:f.scale}),p={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(c,{position:"end"}):h.y.rangeMax};return vi(a,"discard")&&(!h.isInRange(p)||!h.isInRange(g))?null:r4(p,g)};function Bd(t){var e=t.x1,r=t.x2,n=t.y1,i=t.y2,a=t.className,o=t.alwaysShow,s=t.clipPathId;qn(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var l=Jt(e),c=Jt(r),u=Jt(n),f=Jt(i),h=t.shape;if(!l&&!c&&!u&&!f&&!h)return null;var p=Kve(l,c,u,f,t);if(!p&&!h)return null;var g=vi(t,"hidden")?"url(#".concat(s,")"):void 0;return $.createElement(tt,{className:De("recharts-reference-area",a)},Bd.renderRect(h,cO(cO({clipPath:g},Ae(t,!0)),p)),ir.renderCallByParent(t,p))}Bd.displayName="ReferenceArea";Bd.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1};Bd.renderRect=function(t,e){var r;return $.isValidElement(t)?r=$.cloneElement(t,e):Ce(t)?r=t(e):r=$.createElement(Ik,aw({},e,{className:"recharts-reference-area-rect"})),r};function f4(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function Gve(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return ive(n,r)}function Xve(t,e,r){var n=r==="width",i=t.x,a=t.y,o=t.width,s=t.height;return e===1?{start:n?i:a,end:n?i+o:a+s}:{start:n?i+o:a+s,end:n?i:a}}function ag(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function Yve(t,e){return f4(t,e+1)}function Qve(t,e,r,n,i){for(var a=(n||[]).slice(),o=e.start,s=e.end,l=0,c=1,u=o,f=function(){var g=n==null?void 0:n[l];if(g===void 0)return{v:f4(n,c)};var b=l,v,_=function(){return v===void 0&&(v=r(g,b)),v},y=g.coordinate,x=l===0||ag(t,y,_,u,s);x||(l=0,u=o,c+=1),x&&(u=y+t*(_()/2+i),l+=c)},h;c<=a.length;)if(h=f(),h)return h.v;return[]}function ld(t){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ld(t)}function uO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _r(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uO(Object(r),!0).forEach(function(n){Jve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jve(t,e,r){return e=Zve(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zve(t){var e=e0e(t,"string");return ld(e)=="symbol"?e:String(e)}function e0e(t,e){if(ld(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function t0e(t,e,r,n,i){for(var a=(n||[]).slice(),o=a.length,s=e.start,l=e.end,c=function(h){var p=a[h],g,b=function(){return g===void 0&&(g=r(p,h)),g};if(h===o-1){var v=t*(p.coordinate+t*b()/2-l);a[h]=p=_r(_r({},p),{},{tickCoord:v>0?p.coordinate-v*t:p.coordinate})}else a[h]=p=_r(_r({},p),{},{tickCoord:p.coordinate});var _=ag(t,p.tickCoord,b,s,l);_&&(l=p.tickCoord-t*(b()/2+i),a[h]=_r(_r({},p),{},{isShow:!0}))},u=o-1;u>=0;u--)c(u);return a}function r0e(t,e,r,n,i,a){var o=(n||[]).slice(),s=o.length,l=e.start,c=e.end;if(a){var u=n[s-1],f=r(u,s-1),h=t*(u.coordinate+t*f/2-c);o[s-1]=u=_r(_r({},u),{},{tickCoord:h>0?u.coordinate-h*t:u.coordinate});var p=ag(t,u.tickCoord,function(){return f},l,c);p&&(c=u.tickCoord-t*(f/2+i),o[s-1]=_r(_r({},u),{},{isShow:!0}))}for(var g=a?s-1:s,b=function(y){var x=o[y],k,T=function(){return k===void 0&&(k=r(x,y)),k};if(y===0){var C=t*(x.coordinate-t*T()/2-l);o[y]=x=_r(_r({},x),{},{tickCoord:C<0?x.coordinate-C*t:x.coordinate})}else o[y]=x=_r(_r({},x),{},{tickCoord:x.coordinate});var S=ag(t,x.tickCoord,T,l,c);S&&(l=x.tickCoord+t*(T()/2+i),o[y]=_r(_r({},x),{},{isShow:!0}))},v=0;v<g;v++)b(v);return o}function $k(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,s=t.orientation,l=t.interval,c=t.tickFormatter,u=t.unit,f=t.angle;if(!i||!i.length||!n)return[];if(ue(l)||qi.isSsr)return Yve(i,typeof l=="number"&&ue(l)?l:0);var h=[],p=s==="top"||s==="bottom"?"width":"height",g=u&&p==="width"?zu(u,{fontSize:e,letterSpacing:r}):{width:0,height:0},b=function(x,k){var T=Ce(c)?c(x.value,k):x.value;return p==="width"?Gve(zu(T,{fontSize:e,letterSpacing:r}),g,f):zu(T,{fontSize:e,letterSpacing:r})[p]},v=i.length>=2?Mr(i[1].coordinate-i[0].coordinate):1,_=Xve(a,v,p);return l==="equidistantPreserveStart"?Qve(v,_,b,i,o):(l==="preserveStart"||l==="preserveStartEnd"?h=r0e(v,_,b,i,o,l==="preserveStartEnd"):h=t0e(v,_,b,i,o),h.filter(function(y){return y.isShow}))}var n0e=["viewBox"],i0e=["viewBox"],a0e=["ticks"];function nc(t){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nc(t)}function fl(){return fl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fl.apply(this,arguments)}function fO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Nr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fO(Object(r),!0).forEach(function(n){Lk(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function g0(t,e){if(t==null)return{};var r=o0e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function o0e(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function s0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,h4(n.key),n)}}function l0e(t,e,r){return e&&dO(t.prototype,e),r&&dO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function c0e(t,e,r){return e=og(e),u0e(t,d4()?Reflect.construct(e,r||[],og(t).constructor):e.apply(t,r))}function u0e(t,e){if(e&&(nc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f0e(t)}function f0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d4=function(){return!!t})()}function og(t){return og=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},og(t)}function d0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ow(t,e)}function ow(t,e){return ow=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ow(t,e)}function Lk(t,e,r){return e=h4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h4(t){var e=h0e(t,"string");return nc(e)=="symbol"?e:String(e)}function h0e(t,e){if(nc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pc=function(t){d0e(e,t);function e(r){var n;return s0e(this,e),n=c0e(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return l0e(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,o=g0(n,n0e),s=this.props,l=s.viewBox,c=g0(s,i0e);return!El(a,l)||!El(o,c)||!El(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,c=i.orientation,u=i.tickSize,f=i.mirror,h=i.tickMargin,p,g,b,v,_,y,x=f?-1:1,k=n.tickSize||u,T=ue(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":p=g=n.coordinate,v=o+ +!f*l,b=v-x*k,y=b-x*h,_=T;break;case"left":b=v=n.coordinate,g=a+ +!f*s,p=g-x*k,_=p-x*h,y=T;break;case"right":b=v=n.coordinate,g=a+ +f*s,p=g+x*k,_=p+x*h,y=T;break;default:p=g=n.coordinate,v=o+ +f*l,b=v+x*k,y=b+x*h,_=T;break}return{line:{x1:p,y1:b,x2:g,y2:v},tick:{x:_,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.orientation,c=n.mirror,u=n.axisLine,f=Nr(Nr(Nr({},Ae(this.props,!1)),Ae(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);f=Nr(Nr({},f),{},{x1:i,y1:a+h*s,x2:i+o,y2:a+h*s})}else{var p=+(l==="left"&&!c||l==="right"&&c);f=Nr(Nr({},f),{},{x1:i+p*o,y1:a,x2:i+p*o,y2:a+s})}return $.createElement("line",fl({},f,{className:De("recharts-cartesian-axis-line",un(u,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var o=this,s=this.props,l=s.tickLine,c=s.stroke,u=s.tick,f=s.tickFormatter,h=s.unit,p=$k(Nr(Nr({},this.props),{},{ticks:n}),i,a),g=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),v=Ae(this.props,!1),_=Ae(u,!1),y=Nr(Nr({},v),{},{fill:"none"},Ae(l,!1)),x=p.map(function(k,T){var C=o.getTickLineCoord(k),S=C.line,E=C.tick,P=Nr(Nr(Nr(Nr({textAnchor:g,verticalAnchor:b},v),{},{stroke:"none",fill:c},_),E),{},{index:T,payload:k,visibleTicksCount:p.length,tickFormatter:f});return $.createElement(tt,fl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(k.value,"-").concat(k.coordinate,"-").concat(k.tickCoord)},us(o.props,k,T)),l&&$.createElement("line",fl({},y,S,{className:De("recharts-cartesian-axis-tick-line",un(l,"className"))})),u&&e.renderTickItem(u,P,"".concat(Ce(f)?f(k.value,T):k.value).concat(h||"")))});return $.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var f=this.props,h=f.ticks,p=g0(f,a0e),g=h;return Ce(l)&&(g=h&&h.length>0?l(this.props):l(p)),o<=0||s<=0||!g||!g.length?null:$.createElement(tt,{className:De("recharts-cartesian-axis",c),ref:function(v){n.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),ir.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var o;return $.isValidElement(n)?o=$.cloneElement(n,i):Ce(n)?o=n(i):o=$.createElement(fs,fl({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}]),e}(D.Component);Lk(Pc,"displayName","CartesianAxis");Lk(Pc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var p0e=["x1","y1","x2","y2","key"],m0e=["offset"];function ps(t){"@babel/helpers - typeof";return ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ps(t)}function hO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ar(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hO(Object(r),!0).forEach(function(n){g0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function g0e(t,e,r){return e=y0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y0e(t){var e=v0e(t,"string");return ps(e)=="symbol"?e:String(e)}function v0e(t,e){if(ps(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ps(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wo(){return Wo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wo.apply(this,arguments)}function pO(t,e){if(t==null)return{};var r=b0e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function b0e(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var x0e=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height;return $.createElement("rect",{x:i,y:a,width:o,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function p4(t,e){var r;if($.isValidElement(t))r=$.cloneElement(t,e);else if(Ce(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,o=e.y2,s=e.key,l=pO(e,p0e),c=Ae(l,!1);c.offset;var u=pO(c,m0e);r=$.createElement("line",Wo({},u,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:s}))}return r}function w0e(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var c=Ar(Ar({},t),{},{x1:e,y1:s,x2:e+r,y2:s,key:"line-".concat(l),index:l});return p4(i,c)});return $.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function _0e(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var c=Ar(Ar({},t),{},{x1:s,y1:e,x2:s,y2:e+r,key:"line-".concat(l),index:l});return p4(i,c)});return $.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function k0e(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,o=t.height,s=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var u=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==u[0]&&u.unshift(0);var f=u.map(function(h,p){var g=!u[p+1],b=g?i+o-h:u[p+1]-h;if(b<=0)return null;var v=p%e.length;return $.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:b,width:a,stroke:"none",fill:e[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function E0e(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,s=t.width,l=t.height,c=t.verticalPoints;if(!r||!n||!n.length)return null;var u=c.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==u[0]&&u.unshift(0);var f=u.map(function(h,p){var g=!u[p+1],b=g?a+s-h:u[p+1]-h;if(b<=0)return null;var v=p%n.length;return $.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:b,height:l,stroke:"none",fill:n[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var S0e=function(e,r){var n=e.xAxis,i=e.width,a=e.height,o=e.offset;return bL($k(Ar(Ar(Ar({},Pc.defaultProps),n),{},{ticks:Vi(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,r)},T0e=function(e,r){var n=e.yAxis,i=e.width,a=e.height,o=e.offset;return bL($k(Ar(Ar(Ar({},Pc.defaultProps),n),{},{ticks:Vi(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,r)},Bs={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function m4(t){var e,r,n,i,a,o,s=jk(),l=Dk(),c=Ive(),u=Ar(Ar({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Bs.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Bs.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Bs.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Bs.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Bs.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Bs.verticalFill,x:ue(t.x)?t.x:c.left,y:ue(t.y)?t.y:c.top,width:ue(t.width)?t.width:c.width,height:ue(t.height)?t.height:c.height}),f=u.x,h=u.y,p=u.width,g=u.height,b=u.syncWithTicks,v=u.horizontalValues,_=u.verticalValues,y=Tve(),x=Ave();if(!ue(p)||p<=0||!ue(g)||g<=0||!ue(f)||f!==+f||!ue(h)||h!==+h)return null;var k=u.verticalCoordinatesGenerator||S0e,T=u.horizontalCoordinatesGenerator||T0e,C=u.horizontalPoints,S=u.verticalPoints;if((!C||!C.length)&&Ce(T)){var E=v&&v.length,P=T({yAxis:x?Ar(Ar({},x),{},{ticks:E?v:x.ticks}):void 0,width:s,height:l,offset:c},E?!0:b);qn(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ps(P),"]")),Array.isArray(P)&&(C=P)}if((!S||!S.length)&&Ce(k)){var I=_&&_.length,R=k({xAxis:y?Ar(Ar({},y),{},{ticks:I?_:y.ticks}):void 0,width:s,height:l,offset:c},I?!0:b);qn(Array.isArray(R),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ps(R),"]")),Array.isArray(R)&&(S=R)}return $.createElement("g",{className:"recharts-cartesian-grid"},$.createElement(x0e,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height}),$.createElement(w0e,Wo({},u,{offset:c,horizontalPoints:C,xAxis:y,yAxis:x})),$.createElement(_0e,Wo({},u,{offset:c,verticalPoints:S,xAxis:y,yAxis:x})),$.createElement(k0e,Wo({},u,{horizontalPoints:C})),$.createElement(E0e,Wo({},u,{verticalPoints:S})))}m4.displayName="CartesianGrid";function sw(){return sw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sw.apply(this,arguments)}var Uy=function(e){var r=e.xAxisId,n=jk(),i=Dk(),a=c4(r);return a==null?null:$.createElement(Pc,sw({},a,{className:De("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(s){return Vi(s,!0)}}))};Uy.displayName="XAxis";Uy.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};function lw(){return lw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lw.apply(this,arguments)}var By=function(e){var r=e.yAxisId,n=jk(),i=Dk(),a=u4(r);return a==null?null:$.createElement(Pc,lw({},a,{className:De("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(s){return Vi(s,!0)}}))};By.displayName="YAxis";By.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};function mO(t){return O0e(t)||I0e(t)||P0e(t)||A0e()}function A0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P0e(t,e){if(t){if(typeof t=="string")return cw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cw(t,e)}}function I0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function O0e(t){if(Array.isArray(t))return cw(t)}function cw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var uw=function(e,r,n,i,a){var o=An(e,Mk),s=An(e,Ud),l=[].concat(mO(o),mO(s)),c=An(e,Bd),u="".concat(i,"Id"),f=i[0],h=r;if(l.length&&(h=l.reduce(function(b,v){if(v.props[u]===n&&vi(v.props,"extendDomain")&&ue(v.props[f])){var _=v.props[f];return[Math.min(b[0],_),Math.max(b[1],_)]}return b},h)),c.length){var p="".concat(f,"1"),g="".concat(f,"2");h=c.reduce(function(b,v){if(v.props[u]===n&&vi(v.props,"extendDomain")&&ue(v.props[p])&&ue(v.props[g])){var _=v.props[p],y=v.props[g];return[Math.min(b[0],_,y),Math.max(b[1],_,y)]}return b},h)}return a&&a.length&&(h=a.reduce(function(b,v){return ue(v)?[Math.min(b[0],v),Math.max(b[1],v)]:b},h)),h},g4={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function a(l,c,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,f||l,h),g=r?r+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)e.call(u,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},s.prototype.listeners=function(c){var u=r?r+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,g=new Array(p);h<p;h++)g[h]=f[h].fn;return g},s.prototype.listenerCount=function(c){var u=r?r+c:c,f=this._events[u];return f?f.fn?1:f.length:0},s.prototype.emit=function(c,u,f,h,p,g){var b=r?r+c:c;if(!this._events[b])return!1;var v=this._events[b],_=arguments.length,y,x;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),_){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,f),!0;case 4:return v.fn.call(v.context,u,f,h),!0;case 5:return v.fn.call(v.context,u,f,h,p),!0;case 6:return v.fn.call(v.context,u,f,h,p,g),!0}for(x=1,y=new Array(_-1);x<_;x++)y[x-1]=arguments[x];v.fn.apply(v.context,y)}else{var k=v.length,T;for(x=0;x<k;x++)switch(v[x].once&&this.removeListener(c,v[x].fn,void 0,!0),_){case 1:v[x].fn.call(v[x].context);break;case 2:v[x].fn.call(v[x].context,u);break;case 3:v[x].fn.call(v[x].context,u,f);break;case 4:v[x].fn.call(v[x].context,u,f,h);break;default:if(!y)for(T=1,y=new Array(_-1);T<_;T++)y[T-1]=arguments[T];v[x].fn.apply(v[x].context,y)}}return!0},s.prototype.on=function(c,u,f){return a(this,c,u,f,!1)},s.prototype.once=function(c,u,f){return a(this,c,u,f,!0)},s.prototype.removeListener=function(c,u,f,h){var p=r?r+c:c;if(!this._events[p])return this;if(!u)return o(this,p),this;var g=this._events[p];if(g.fn)g.fn===u&&(!h||g.once)&&(!f||g.context===f)&&o(this,p);else{for(var b=0,v=[],_=g.length;b<_;b++)(g[b].fn!==u||h&&!g[b].once||f&&g[b].context!==f)&&v.push(g[b]);v.length?this._events[p]=v.length===1?v[0]:v:o(this,p)}return this},s.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,t.exports=s})(g4);var C0e=g4.exports;const N0e=nt(C0e);var y0=new N0e,v0="recharts.syncMouseEvents";function cd(t){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cd(t)}function R0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j0e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,y4(n.key),n)}}function D0e(t,e,r){return e&&j0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function b0(t,e,r){return e=y4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y4(t){var e=M0e(t,"string");return cd(e)=="symbol"?e:String(e)}function M0e(t,e){if(cd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $0e=function(){function t(){R0e(this,t),b0(this,"activeIndex",0),b0(this,"coordinateList",[]),b0(this,"layout","horizontal")}return D0e(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,o=r.container,s=o===void 0?null:o,l=r.layout,c=l===void 0?null:l,u=r.offset,f=u===void 0?null:u,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=a+l+c,h=o+this.offset.top+s/2+u;this.mouseHandlerCallback({pageX:f,pageY:h})}}}]),t}();function L0e(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&ue(n)&&ue(i))return!0}return!1}function F0e(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function v4(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,o=ht(e,r,n,i),s=ht(e,r,n,a);return{points:[o,s],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function V0e(t,e,r){var n,i,a,o;if(t==="horizontal")n=e.x,a=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,c=e.innerRadius,u=e.outerRadius,f=e.angle,h=ht(s,l,c,f),p=ht(s,l,u,f);n=h.x,i=h.y,a=p.x,o=p.y}else return v4(e);return[{x:n,y:i},{x:a,y:o}]}function ud(t){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ud(t)}function gO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gO(Object(r),!0).forEach(function(n){U0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function U0e(t,e,r){return e=B0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function B0e(t){var e=z0e(t,"string");return ud(e)=="symbol"?e:String(e)}function z0e(t,e){if(ud(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function W0e(t){var e=t.element,r=t.tooltipEventType,n=t.isActive,i=t.activeCoordinate,a=t.activePayload,o=t.offset,s=t.activeTooltipIndex,l=t.tooltipAxisBandSize,c=t.layout,u=t.chartName;if(!e||!e.props.cursor||!n||!i||u!=="ScatterChart"&&r!=="axis")return null;var f,h=Lx;if(u==="ScatterChart")f=i,h=ime;else if(u==="BarChart")f=F0e(c,i,o,l),h=Ik;else if(c==="radial"){var p=v4(i),g=p.cx,b=p.cy,v=p.radius,_=p.startAngle,y=p.endAngle;f={cx:g,cy:b,startAngle:_,endAngle:y,innerRadius:v,outerRadius:v},h=OL}else f={points:V0e(c,i,o)},h=Lx;var x=qh(qh(qh(qh({stroke:"#ccc",pointerEvents:"none"},o),f),Ae(e.props.cursor,!1)),{},{payload:a,payloadIndex:s,className:De("recharts-tooltip-cursor",e.props.cursor.className)});return D.isValidElement(e.props.cursor)?D.cloneElement(e.props.cursor,x):D.createElement(h,x)}var q0e=["item"],H0e=["children","className","width","height","style","compact","title","desc"];function ic(t){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ic(t)}function Xu(){return Xu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xu.apply(this,arguments)}function yO(t,e){return X0e(t)||G0e(t,e)||x4(t,e)||K0e()}function K0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G0e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function X0e(t){if(Array.isArray(t))return t}function vO(t,e){if(t==null)return{};var r=Y0e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Y0e(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Q0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J0e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,w4(n.key),n)}}function Z0e(t,e,r){return e&&J0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ebe(t,e,r){return e=sg(e),tbe(t,b4()?Reflect.construct(e,r||[],sg(t).constructor):e.apply(t,r))}function tbe(t,e){if(e&&(ic(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return He(t)}function b4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b4=function(){return!!t})()}function sg(t){return sg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sg(t)}function He(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fw(t,e)}function fw(t,e){return fw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},fw(t,e)}function ac(t){return abe(t)||ibe(t)||x4(t)||nbe()}function nbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x4(t,e){if(t){if(typeof t=="string")return dw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dw(t,e)}}function ibe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function abe(t){if(Array.isArray(t))return dw(t)}function dw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function bO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function te(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bO(Object(r),!0).forEach(function(n){Se(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Se(t,e,r){return e=w4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function w4(t){var e=obe(t,"string");return ic(e)=="symbol"?e:String(e)}function obe(t,e){if(ic(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sbe={xAxis:["bottom","top"],yAxis:["left","right"]},lbe={width:"100%",height:"100%"},_4={x:0,y:0};function Hh(t){return t}var cbe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},ube=function(e,r,n,i){var a=r.find(function(u){return u&&u.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,s=i.radius;return te(te(te({},i),ht(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,c=i.angle;return te(te(te({},i),ht(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return _4},zy=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(ac(s),ac(c)):s},[]);return o.length>0?o:e&&e.length&&ue(i)&&ue(a)?e.slice(i,a+1):[]};function k4(t){return t==="number"?[0,"auto"]:void 0}var hw=function(e,r,n,i){var a=e.graphicalItems,o=e.tooltipAxis,s=zy(r,e);return n<0||!a||!a.length||n>=s.length?null:a.reduce(function(l,c){var u,f=(u=c.props.data)!==null&&u!==void 0?u:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?s:f;h=Hb(p,o.dataKey,i)}else h=f&&f[n]||s[n];return h?[].concat(ac(l),[EL(c,h)]):l},[])},xO=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},o=cbe(a,n),s=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,u=zfe(o,s,c,l);if(u>=0&&c){var f=c[u]&&c[u].value,h=hw(e,r,u,f),p=ube(n,s,u,a);return{activeTooltipIndex:u,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},fbe=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.layout,f=e.children,h=e.stackOffset,p=vL(u,a);return n.reduce(function(g,b){var v,_=b.props,y=_.type,x=_.dataKey,k=_.allowDataOverflow,T=_.allowDuplicatedCategory,C=_.scale,S=_.ticks,E=_.includeHidden,P=b.props[o];if(g[P])return g;var I=zy(e.data,{graphicalItems:i.filter(function(Z){return Z.props[o]===P}),dataStartIndex:l,dataEndIndex:c}),R=I.length,N,O,F;L0e(b.props.domain,k,y)&&(N=Rx(b.props.domain,null,k),p&&(y==="number"||C!=="auto")&&(F=qu(I,x,"category")));var W=k4(y);if(!N||N.length===0){var H,X=(H=b.props.domain)!==null&&H!==void 0?H:W;if(x){if(N=qu(I,x,y),y==="category"&&p){var V=WY(N);T&&V?(O=N,N=eg(0,R)):T||(N=qP(X,N,b).reduce(function(Z,le){return Z.indexOf(le)>=0?Z:[].concat(ac(Z),[le])},[]))}else if(y==="category")T?N=N.filter(function(Z){return Z!==""&&!Me(Z)}):N=qP(X,N,b).reduce(function(Z,le){return Z.indexOf(le)>=0||le===""||Me(le)?Z:[].concat(ac(Z),[le])},[]);else if(y==="number"){var Q=Gfe(I,i.filter(function(Z){return Z.props[o]===P&&(E||!Z.props.hide)}),x,a,u);Q&&(N=Q)}p&&(y==="number"||C!=="auto")&&(F=qu(I,x,"category"))}else p?N=eg(0,R):s&&s[P]&&s[P].hasStack&&y==="number"?N=h==="expand"?[0,1]:kL(s[P].stackGroups,l,c):N=yL(I,i.filter(function(Z){return Z.props[o]===P&&(E||!Z.props.hide)}),y,u,!0);if(y==="number")N=uw(f,N,P,a,S),X&&(N=Rx(X,N,k));else if(y==="category"&&X){var ee=X,oe=N.every(function(Z){return ee.indexOf(Z)>=0});oe&&(N=ee)}}return te(te({},g),{},Se({},P,te(te({},b.props),{},{axisType:a,domain:N,categoricalDomain:F,duplicateDomain:O,originalDomain:(v=b.props.domain)!==null&&v!==void 0?v:W,isCategorical:p,layout:u})))},{})},dbe=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.layout,f=e.children,h=zy(e.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),p=h.length,g=vL(u,a),b=-1;return n.reduce(function(v,_){var y=_.props[o],x=k4("number");if(!v[y]){b++;var k;return g?k=eg(0,p):s&&s[y]&&s[y].hasStack?(k=kL(s[y].stackGroups,l,c),k=uw(f,k,y,a)):(k=Rx(x,yL(h,n.filter(function(T){return T.props[o]===y&&!T.props.hide}),"number",u),i.defaultProps.allowDataOverflow),k=uw(f,k,y,a)),te(te({},v),{},Se({},y,te(te({axisType:a},i.defaultProps),{},{hide:!0,orientation:un(sbe,"".concat(a,".").concat(b%2),null),domain:k,originalDomain:x,isCategorical:g,layout:u})))}return v},{})},hbe=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.children,f="".concat(i,"Id"),h=An(u,a),p={};return h&&h.length?p=fbe(e,{axes:h,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):o&&o.length&&(p=dbe(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),p},pbe=function(e){var r=Ra(e),n=Vi(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:tk(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Bm(r,n)}},wO=function(e){var r=e.children,n=e.defaultShowTooltip,i=an(r,tc),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},mbe=function(e){return!e||!e.length?!1:e.some(function(r){var n=Wi(r&&r.type);return n&&n.indexOf("Bar")>=0})},_O=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},gbe=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,s=e.yAxisMap,l=s===void 0?{}:s,c=n.width,u=n.height,f=n.children,h=n.margin||{},p=an(f,tc),g=an(f,Pf),b=Object.keys(l).reduce(function(T,C){var S=l[C],E=S.orientation;return!S.mirror&&!S.hide?te(te({},T),{},Se({},E,T[E]+S.width)):T},{left:h.left||0,right:h.right||0}),v=Object.keys(o).reduce(function(T,C){var S=o[C],E=S.orientation;return!S.mirror&&!S.hide?te(te({},T),{},Se({},E,un(T,"".concat(E))+S.height)):T},{top:h.top||0,bottom:h.bottom||0}),_=te(te({},v),b),y=_.bottom;p&&(_.bottom+=p.props.height||tc.defaultProps.height),g&&r&&(_=Hfe(_,i,n,r));var x=c-_.left-_.right,k=u-_.top-_.bottom;return te(te({brushBottom:y},_),{},{width:Math.max(x,0),height:Math.max(k,0)})},ybe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},E4=function(e){var r,n=e.chartName,i=e.GraphicalChild,a=e.defaultTooltipEventType,o=a===void 0?"axis":a,s=e.validateTooltipEventTypes,l=s===void 0?["axis"]:s,c=e.axisComponents,u=e.legendContent,f=e.formatAxisMap,h=e.defaultProps,p=function(v,_){var y=_.graphicalItems,x=_.stackGroups,k=_.offset,T=_.updateId,C=_.dataStartIndex,S=_.dataEndIndex,E=v.barSize,P=v.layout,I=v.barGap,R=v.barCategoryGap,N=v.maxBarSize,O=_O(P),F=O.numericAxisName,W=O.cateAxisName,H=mbe(y),X=[];return y.forEach(function(V,Q){var ee=zy(v.data,{graphicalItems:[V],dataStartIndex:C,dataEndIndex:S}),oe=V.props,Z=oe.dataKey,le=oe.maxBarSize,Ee=V.props["".concat(F,"Id")],je=V.props["".concat(W,"Id")],et={},Fe=c.reduce(function(B,L){var z=_["".concat(L.axisType,"Map")],K=V.props["".concat(L.axisType,"Id")];z&&z[K]||L.axisType==="zAxis"||hs();var ne=z[K];return te(te({},B),{},Se(Se({},L.axisType,ne),"".concat(L.axisType,"Ticks"),Vi(ne)))},et),Mt=Fe[W],ce=Fe["".concat(W,"Ticks")],be=x&&x[Ee]&&x[Ee].hasStack&&nde(V,x[Ee].stackGroups),we=Wi(V.type).indexOf("Bar")>=0,J=Bm(Mt,ce),Ve=[],Pe=H&&Wfe({barSize:E,stackGroups:x,totalSize:ybe(Fe,W)});if(we){var Ge,Xe,se=Me(le)?N:le,M=(Ge=(Xe=Bm(Mt,ce,!0))!==null&&Xe!==void 0?Xe:se)!==null&&Ge!==void 0?Ge:0;Ve=qfe({barGap:I,barCategoryGap:R,bandSize:M!==J?M:J,sizeList:Pe[je],maxBarSize:se}),M!==J&&(Ve=Ve.map(function(B){return te(te({},B),{},{position:te(te({},B.position),{},{offset:B.position.offset-M/2})})}))}var U=V&&V.type&&V.type.getComposedData;U&&X.push({props:te(te({},U(te(te({},Fe),{},{displayedData:ee,props:v,dataKey:Z,item:V,bandSize:J,barPosition:Ve,offset:k,stackedData:be,layout:P,dataStartIndex:C,dataEndIndex:S}))),{},Se(Se(Se({key:V.key||"item-".concat(Q)},F,Fe[F]),W,Fe[W]),"animationId",T)),childIndex:tQ(V,v.children),item:V})}),X},g=function(v,_){var y=v.props,x=v.dataStartIndex,k=v.dataEndIndex,T=v.updateId;if(!FA({props:y}))return null;var C=y.children,S=y.layout,E=y.stackOffset,P=y.data,I=y.reverseStackOrder,R=_O(S),N=R.numericAxisName,O=R.cateAxisName,F=An(C,i),W=tde(P,F,"".concat(N,"Id"),"".concat(O,"Id"),E,I),H=c.reduce(function(oe,Z){var le="".concat(Z.axisType,"Map");return te(te({},oe),{},Se({},le,hbe(y,te(te({},Z),{},{graphicalItems:F,stackGroups:Z.axisType===N&&W,dataStartIndex:x,dataEndIndex:k}))))},{}),X=gbe(te(te({},H),{},{props:y,graphicalItems:F}),_==null?void 0:_.legendBBox);Object.keys(H).forEach(function(oe){H[oe]=f(y,H[oe],X,oe.replace("Map",""),n)});var V=H["".concat(O,"Map")],Q=pbe(V),ee=p(y,te(te({},H),{},{dataStartIndex:x,dataEndIndex:k,updateId:T,graphicalItems:F,stackGroups:W,offset:X}));return te(te({formattedGraphicalItems:ee,graphicalItems:F,offset:X,stackGroups:W},Q),H)};return r=function(b){rbe(v,b);function v(_){var y,x,k;return Q0e(this,v),k=ebe(this,v,[_]),Se(He(k),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Se(He(k),"accessibilityManager",new $0e),Se(He(k),"handleLegendBBoxUpdate",function(T){if(T){var C=k.state,S=C.dataStartIndex,E=C.dataEndIndex,P=C.updateId;k.setState(te({legendBBox:T},g({props:k.props,dataStartIndex:S,dataEndIndex:E,updateId:P},te(te({},k.state),{},{legendBBox:T}))))}}),Se(He(k),"handleReceiveSyncEvent",function(T,C,S){if(k.props.syncId===T){if(S===k.eventEmitterSymbol&&typeof k.props.syncMethod!="function")return;k.applySyncEvent(C)}}),Se(He(k),"handleBrushChange",function(T){var C=T.startIndex,S=T.endIndex;if(C!==k.state.dataStartIndex||S!==k.state.dataEndIndex){var E=k.state.updateId;k.setState(function(){return te({dataStartIndex:C,dataEndIndex:S},g({props:k.props,dataStartIndex:C,dataEndIndex:S,updateId:E},k.state))}),k.triggerSyncEvent({dataStartIndex:C,dataEndIndex:S})}}),Se(He(k),"handleMouseEnter",function(T){var C=k.getMouseInfo(T);if(C){var S=te(te({},C),{},{isTooltipActive:!0});k.setState(S),k.triggerSyncEvent(S);var E=k.props.onMouseEnter;Ce(E)&&E(S,T)}}),Se(He(k),"triggeredAfterMouseMove",function(T){var C=k.getMouseInfo(T),S=C?te(te({},C),{},{isTooltipActive:!0}):{isTooltipActive:!1};k.setState(S),k.triggerSyncEvent(S);var E=k.props.onMouseMove;Ce(E)&&E(S,T)}),Se(He(k),"handleItemMouseEnter",function(T){k.setState(function(){return{isTooltipActive:!0,activeItem:T,activePayload:T.tooltipPayload,activeCoordinate:T.tooltipPosition||{x:T.cx,y:T.cy}}})}),Se(He(k),"handleItemMouseLeave",function(){k.setState(function(){return{isTooltipActive:!1}})}),Se(He(k),"handleMouseMove",function(T){T.persist(),k.throttleTriggeredAfterMouseMove(T)}),Se(He(k),"handleMouseLeave",function(T){k.throttleTriggeredAfterMouseMove.cancel();var C={isTooltipActive:!1};k.setState(C),k.triggerSyncEvent(C);var S=k.props.onMouseLeave;Ce(S)&&S(C,T)}),Se(He(k),"handleOuterEvent",function(T){var C=eQ(T),S=un(k.props,"".concat(C));if(C&&Ce(S)){var E,P;/.*touch.*/i.test(C)?P=k.getMouseInfo(T.changedTouches[0]):P=k.getMouseInfo(T),S((E=P)!==null&&E!==void 0?E:{},T)}}),Se(He(k),"handleClick",function(T){var C=k.getMouseInfo(T);if(C){var S=te(te({},C),{},{isTooltipActive:!0});k.setState(S),k.triggerSyncEvent(S);var E=k.props.onClick;Ce(E)&&E(S,T)}}),Se(He(k),"handleMouseDown",function(T){var C=k.props.onMouseDown;if(Ce(C)){var S=k.getMouseInfo(T);C(S,T)}}),Se(He(k),"handleMouseUp",function(T){var C=k.props.onMouseUp;if(Ce(C)){var S=k.getMouseInfo(T);C(S,T)}}),Se(He(k),"handleTouchMove",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&k.throttleTriggeredAfterMouseMove(T.changedTouches[0])}),Se(He(k),"handleTouchStart",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&k.handleMouseDown(T.changedTouches[0])}),Se(He(k),"handleTouchEnd",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&k.handleMouseUp(T.changedTouches[0])}),Se(He(k),"triggerSyncEvent",function(T){k.props.syncId!==void 0&&y0.emit(v0,k.props.syncId,T,k.eventEmitterSymbol)}),Se(He(k),"applySyncEvent",function(T){var C=k.props,S=C.layout,E=C.syncMethod,P=k.state.updateId,I=T.dataStartIndex,R=T.dataEndIndex;if(T.dataStartIndex!==void 0||T.dataEndIndex!==void 0)k.setState(te({dataStartIndex:I,dataEndIndex:R},g({props:k.props,dataStartIndex:I,dataEndIndex:R,updateId:P},k.state)));else if(T.activeTooltipIndex!==void 0){var N=T.chartX,O=T.chartY,F=T.activeTooltipIndex,W=k.state,H=W.offset,X=W.tooltipTicks;if(!H)return;if(typeof E=="function")F=E(X,T);else if(E==="value"){F=-1;for(var V=0;V<X.length;V++)if(X[V].value===T.activeLabel){F=V;break}}var Q=te(te({},H),{},{x:H.left,y:H.top}),ee=Math.min(N,Q.x+Q.width),oe=Math.min(O,Q.y+Q.height),Z=X[F]&&X[F].value,le=hw(k.state,k.props.data,F),Ee=X[F]?{x:S==="horizontal"?X[F].coordinate:ee,y:S==="horizontal"?oe:X[F].coordinate}:_4;k.setState(te(te({},T),{},{activeLabel:Z,activeCoordinate:Ee,activePayload:le,activeTooltipIndex:F}))}else k.setState(T)}),Se(He(k),"renderCursor",function(T){var C,S=k.state,E=S.isTooltipActive,P=S.activeCoordinate,I=S.activePayload,R=S.offset,N=S.activeTooltipIndex,O=S.tooltipAxisBandSize,F=k.getTooltipEventType(),W=(C=T.props.active)!==null&&C!==void 0?C:E,H=k.props.layout,X=T.key||"_recharts-cursor";return $.createElement(W0e,{key:X,activeCoordinate:P,activePayload:I,activeTooltipIndex:N,chartName:n,element:T,isActive:W,layout:H,offset:R,tooltipAxisBandSize:O,tooltipEventType:F})}),Se(He(k),"renderPolarAxis",function(T,C,S){var E=un(T,"type.axisType"),P=un(k.state,"".concat(E,"Map")),I=P&&P[T.props["".concat(E,"Id")]];return D.cloneElement(T,te(te({},I),{},{className:De(E,I.className),key:T.key||"".concat(C,"-").concat(S),ticks:Vi(I,!0)}))}),Se(He(k),"renderPolarGrid",function(T){var C=T.props,S=C.radialLines,E=C.polarAngles,P=C.polarRadius,I=k.state,R=I.radiusAxisMap,N=I.angleAxisMap,O=Ra(R),F=Ra(N),W=F.cx,H=F.cy,X=F.innerRadius,V=F.outerRadius;return D.cloneElement(T,{polarAngles:Array.isArray(E)?E:Vi(F,!0).map(function(Q){return Q.coordinate}),polarRadius:Array.isArray(P)?P:Vi(O,!0).map(function(Q){return Q.coordinate}),cx:W,cy:H,innerRadius:X,outerRadius:V,key:T.key||"polar-grid",radialLines:S})}),Se(He(k),"renderLegend",function(){var T=k.state.formattedGraphicalItems,C=k.props,S=C.children,E=C.width,P=C.height,I=k.props.margin||{},R=E-(I.left||0)-(I.right||0),N=mL({children:S,formattedGraphicalItems:T,legendWidth:R,legendContent:u});if(!N)return null;var O=N.item,F=vO(N,q0e);return D.cloneElement(O,te(te({},F),{},{chartWidth:E,chartHeight:P,margin:I,onBBoxUpdate:k.handleLegendBBoxUpdate}))}),Se(He(k),"renderTooltip",function(){var T,C=k.props,S=C.children,E=C.accessibilityLayer,P=an(S,ni);if(!P)return null;var I=k.state,R=I.isTooltipActive,N=I.activeCoordinate,O=I.activePayload,F=I.activeLabel,W=I.offset,H=(T=P.props.active)!==null&&T!==void 0?T:R;return D.cloneElement(P,{viewBox:te(te({},W),{},{x:W.left,y:W.top}),active:H,label:F,payload:H?O:[],coordinate:N,accessibilityLayer:E})}),Se(He(k),"renderBrush",function(T){var C=k.props,S=C.margin,E=C.data,P=k.state,I=P.offset,R=P.dataStartIndex,N=P.dataEndIndex,O=P.updateId;return D.cloneElement(T,{key:T.key||"_recharts-brush",onChange:Uh(k.handleBrushChange,T.props.onChange),data:E,x:ue(T.props.x)?T.props.x:I.left,y:ue(T.props.y)?T.props.y:I.top+I.height+I.brushBottom-(S.bottom||0),width:ue(T.props.width)?T.props.width:I.width,startIndex:R,endIndex:N,updateId:"brush-".concat(O)})}),Se(He(k),"renderReferenceElement",function(T,C,S){if(!T)return null;var E=He(k),P=E.clipPathId,I=k.state,R=I.xAxisMap,N=I.yAxisMap,O=I.offset,F=T.props,W=F.xAxisId,H=F.yAxisId;return D.cloneElement(T,{key:T.key||"".concat(C,"-").concat(S),xAxis:R[W],yAxis:N[H],viewBox:{x:O.left,y:O.top,width:O.width,height:O.height},clipPathId:P})}),Se(He(k),"renderActivePoints",function(T){var C=T.item,S=T.activePoint,E=T.basePoint,P=T.childIndex,I=T.isRange,R=[],N=C.props.key,O=C.item.props,F=O.activeDot,W=O.dataKey,H=te(te({index:P,dataKey:W,cx:S.x,cy:S.y,r:4,fill:Pk(C.item),strokeWidth:2,stroke:"#fff",payload:S.payload,value:S.value,key:"".concat(N,"-activePoint-").concat(P)},Ae(F,!1)),gm(F));return R.push(v.renderActiveDot(F,H)),E?R.push(v.renderActiveDot(F,te(te({},H),{},{cx:E.x,cy:E.y,key:"".concat(N,"-basePoint-").concat(P)}))):I&&R.push(null),R}),Se(He(k),"renderGraphicChild",function(T,C,S){var E=k.filterFormatItem(T,C,S);if(!E)return null;var P=k.getTooltipEventType(),I=k.state,R=I.isTooltipActive,N=I.tooltipAxis,O=I.activeTooltipIndex,F=I.activeLabel,W=k.props.children,H=an(W,ni),X=E.props,V=X.points,Q=X.isRange,ee=X.baseLine,oe=E.item.props,Z=oe.activeDot,le=oe.hide,Ee=oe.activeBar,je=oe.activeShape,et=!!(!le&&R&&H&&(Z||Ee||je)),Fe={};P!=="axis"&&H&&H.props.trigger==="click"?Fe={onClick:Uh(k.handleItemMouseEnter,T.props.onClick)}:P!=="axis"&&(Fe={onMouseLeave:Uh(k.handleItemMouseLeave,T.props.onMouseLeave),onMouseEnter:Uh(k.handleItemMouseEnter,T.props.onMouseEnter)});var Mt=D.cloneElement(T,te(te({},E.props),Fe));function ce(L){return typeof N.dataKey=="function"?N.dataKey(L.payload):null}if(et)if(O>=0){var be,we;if(N.dataKey&&!N.allowDuplicatedCategory){var J=typeof N.dataKey=="function"?ce:"payload.".concat(N.dataKey.toString());be=Hb(V,J,F),we=Q&&ee&&Hb(ee,J,F)}else be=V==null?void 0:V[O],we=Q&&ee&&ee[O];if(je||Ee){var Ve=T.props.activeIndex!==void 0?T.props.activeIndex:O;return[D.cloneElement(T,te(te(te({},E.props),Fe),{},{activeIndex:Ve})),null,null]}if(!Me(be))return[Mt].concat(ac(k.renderActivePoints({item:E,activePoint:be,basePoint:we,childIndex:O,isRange:Q})))}else{var Pe,Ge=(Pe=k.getItemByXY(k.state.activeCoordinate))!==null&&Pe!==void 0?Pe:{graphicalItem:Mt},Xe=Ge.graphicalItem,se=Xe.item,M=se===void 0?T:se,U=Xe.childIndex,B=te(te(te({},E.props),Fe),{},{activeIndex:U});return[D.cloneElement(M,B),null,null]}return Q?[Mt,null,null]:[Mt,null]}),Se(He(k),"renderCustomized",function(T,C,S){return D.cloneElement(T,te(te({key:"recharts-customized-".concat(S)},k.props),k.state))}),Se(He(k),"renderMap",{CartesianGrid:{handler:Hh,once:!0},ReferenceArea:{handler:k.renderReferenceElement},ReferenceLine:{handler:Hh},ReferenceDot:{handler:k.renderReferenceElement},XAxis:{handler:Hh},YAxis:{handler:Hh},Brush:{handler:k.renderBrush,once:!0},Bar:{handler:k.renderGraphicChild},Line:{handler:k.renderGraphicChild},Area:{handler:k.renderGraphicChild},Radar:{handler:k.renderGraphicChild},RadialBar:{handler:k.renderGraphicChild},Scatter:{handler:k.renderGraphicChild},Pie:{handler:k.renderGraphicChild},Funnel:{handler:k.renderGraphicChild},Tooltip:{handler:k.renderCursor,once:!0},PolarGrid:{handler:k.renderPolarGrid,once:!0},PolarAngleAxis:{handler:k.renderPolarAxis},PolarRadiusAxis:{handler:k.renderPolarAxis},Customized:{handler:k.renderCustomized}}),k.clipPathId="".concat((y=_.id)!==null&&y!==void 0?y:jd("recharts"),"-clip"),k.throttleTriggeredAfterMouseMove=y$(k.triggeredAfterMouseMove,(x=_.throttleDelay)!==null&&x!==void 0?x:1e3/60),k.state={},k}return Z0e(v,[{key:"componentDidMount",value:function(){var y,x;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(y=this.props.margin.left)!==null&&y!==void 0?y:0,top:(x=this.props.margin.top)!==null&&x!==void 0?x:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var y=this.props,x=y.children,k=y.data,T=y.height,C=y.layout,S=an(x,ni);if(S){var E=S.props.defaultIndex;if(!(typeof E!="number"||E<0||E>this.state.tooltipTicks.length)){var P=this.state.tooltipTicks[E]&&this.state.tooltipTicks[E].value,I=hw(this.state,k,E,P),R=this.state.tooltipTicks[E].coordinate,N=(this.state.offset.top+T)/2,O=C==="horizontal",F=O?{x:R,y:N}:{y:R,x:N},W=this.state.formattedGraphicalItems.find(function(X){var V=X.item;return V.type.name==="Scatter"});W&&(F=te(te({},F),W.props.points[E].tooltipPosition),I=W.props.points[E].tooltipPayload);var H={activeTooltipIndex:E,isTooltipActive:!0,activeLabel:P,activePayload:I,activeCoordinate:F};this.setState(H),this.renderCursor(S),this.accessibilityManager.setIndex(E)}}}},{key:"getSnapshotBeforeUpdate",value:function(y,x){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==x.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==y.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==y.margin){var k,T;this.accessibilityManager.setDetails({offset:{left:(k=this.props.margin.left)!==null&&k!==void 0?k:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0}})}return null}},{key:"componentDidUpdate",value:function(y){Gb([an(y.children,ni)],[an(this.props.children,ni)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var y=an(this.props.children,ni);if(y&&typeof y.props.shared=="boolean"){var x=y.props.shared?"axis":"item";return l.indexOf(x)>=0?x:o}return o}},{key:"getMouseInfo",value:function(y){if(!this.container)return null;var x=this.container,k=x.getBoundingClientRect(),T=Sse(k),C={chartX:Math.round(y.pageX-T.left),chartY:Math.round(y.pageY-T.top)},S=k.width/x.offsetWidth||1,E=this.inRange(C.chartX,C.chartY,S);if(!E)return null;var P=this.state,I=P.xAxisMap,R=P.yAxisMap,N=this.getTooltipEventType();if(N!=="axis"&&I&&R){var O=Ra(I).scale,F=Ra(R).scale,W=O&&O.invert?O.invert(C.chartX):null,H=F&&F.invert?F.invert(C.chartY):null;return te(te({},C),{},{xValue:W,yValue:H})}var X=xO(this.state,this.props.data,this.props.layout,E);return X?te(te({},C),X):null}},{key:"inRange",value:function(y,x){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,T=this.props.layout,C=y/k,S=x/k;if(T==="horizontal"||T==="vertical"){var E=this.state.offset,P=C>=E.left&&C<=E.left+E.width&&S>=E.top&&S<=E.top+E.height;return P?{x:C,y:S}:null}var I=this.state,R=I.angleAxisMap,N=I.radiusAxisMap;if(R&&N){var O=Ra(R);return GP({x:C,y:S},O)}return null}},{key:"parseEventsOfWrapper",value:function(){var y=this.props.children,x=this.getTooltipEventType(),k=an(y,ni),T={};k&&x==="axis"&&(k.props.trigger==="click"?T={onClick:this.handleClick}:T={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var C=gm(this.props,this.handleOuterEvent);return te(te({},C),T)}},{key:"addListener",value:function(){y0.on(v0,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){y0.removeListener(v0,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(y,x,k){for(var T=this.state.formattedGraphicalItems,C=0,S=T.length;C<S;C++){var E=T[C];if(E.item===y||E.props.key===y.key||x===Wi(E.item.type)&&k===E.childIndex)return E}return null}},{key:"renderClipPath",value:function(){var y=this.clipPathId,x=this.state.offset,k=x.left,T=x.top,C=x.height,S=x.width;return $.createElement("defs",null,$.createElement("clipPath",{id:y},$.createElement("rect",{x:k,y:T,height:C,width:S})))}},{key:"getXScales",value:function(){var y=this.state.xAxisMap;return y?Object.entries(y).reduce(function(x,k){var T=yO(k,2),C=T[0],S=T[1];return te(te({},x),{},Se({},C,S.scale))},{}):null}},{key:"getYScales",value:function(){var y=this.state.yAxisMap;return y?Object.entries(y).reduce(function(x,k){var T=yO(k,2),C=T[0],S=T[1];return te(te({},x),{},Se({},C,S.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(y){var x;return(x=this.state.xAxisMap)===null||x===void 0||(x=x[y])===null||x===void 0?void 0:x.scale}},{key:"getYScaleByAxisId",value:function(y){var x;return(x=this.state.yAxisMap)===null||x===void 0||(x=x[y])===null||x===void 0?void 0:x.scale}},{key:"getItemByXY",value:function(y){var x=this.state,k=x.formattedGraphicalItems,T=x.activeItem;if(k&&k.length)for(var C=0,S=k.length;C<S;C++){var E=k[C],P=E.props,I=E.item,R=Wi(I.type);if(R==="Bar"){var N=(P.data||[]).find(function(H){return Lpe(y,H)});if(N)return{graphicalItem:E,payload:N}}else if(R==="RadialBar"){var O=(P.data||[]).find(function(H){return GP(y,H)});if(O)return{graphicalItem:E,payload:O}}else if(Ly(E,T)||Fy(E,T)||td(E,T)){var F=Tge({graphicalItem:E,activeTooltipItem:T,itemData:I.props.data}),W=I.props.activeIndex===void 0?F:I.props.activeIndex;return{graphicalItem:te(te({},E),{},{childIndex:W}),payload:td(E,T)?I.props.data[F]:E.props.data[F]}}}return null}},{key:"render",value:function(){var y=this;if(!FA(this))return null;var x=this.props,k=x.children,T=x.className,C=x.width,S=x.height,E=x.style,P=x.compact,I=x.title,R=x.desc,N=vO(x,H0e),O=Ae(N,!1);if(P)return $.createElement(rO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$.createElement(Yb,Xu({},O,{width:C,height:S,title:I,desc:R}),this.renderClipPath(),UA(k,this.renderMap)));if(this.props.accessibilityLayer){var F,W;O.tabIndex=(F=this.props.tabIndex)!==null&&F!==void 0?F:0,O.role=(W=this.props.role)!==null&&W!==void 0?W:"application",O.onKeyDown=function(X){y.accessibilityManager.keyboardEvent(X)},O.onFocus=function(){y.accessibilityManager.focus()}}var H=this.parseEventsOfWrapper();return $.createElement(rO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$.createElement("div",Xu({className:De("recharts-wrapper",T),style:te({position:"relative",cursor:"default",width:C,height:S},E)},H,{ref:function(V){y.container=V}}),$.createElement(Yb,Xu({},O,{width:C,height:S,title:I,desc:R,style:lbe}),this.renderClipPath(),UA(k,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}]),v}(D.Component),Se(r,"displayName",n),Se(r,"defaultProps",te({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Se(r,"getDerivedStateFromProps",function(b,v){var _=b.dataKey,y=b.data,x=b.children,k=b.width,T=b.height,C=b.layout,S=b.stackOffset,E=b.margin,P=v.dataStartIndex,I=v.dataEndIndex;if(v.updateId===void 0){var R=wO(b);return te(te(te({},R),{},{updateId:0},g(te(te({props:b},R),{},{updateId:0}),v)),{},{prevDataKey:_,prevData:y,prevWidth:k,prevHeight:T,prevLayout:C,prevStackOffset:S,prevMargin:E,prevChildren:x})}if(_!==v.prevDataKey||y!==v.prevData||k!==v.prevWidth||T!==v.prevHeight||C!==v.prevLayout||S!==v.prevStackOffset||!El(E,v.prevMargin)){var N=wO(b),O={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},F=te(te({},xO(v,y,C)),{},{updateId:v.updateId+1}),W=te(te(te({},N),O),F);return te(te(te({},W),g(te({props:b},W),v)),{},{prevDataKey:_,prevData:y,prevWidth:k,prevHeight:T,prevLayout:C,prevStackOffset:S,prevMargin:E,prevChildren:x})}if(!Gb(x,v.prevChildren)){var H,X,V,Q,ee=an(x,tc),oe=ee&&(H=(X=ee.props)===null||X===void 0?void 0:X.startIndex)!==null&&H!==void 0?H:P,Z=ee&&(V=(Q=ee.props)===null||Q===void 0?void 0:Q.endIndex)!==null&&V!==void 0?V:I,le=oe!==P||Z!==I,Ee=!Me(y),je=Ee&&!le?v.updateId:v.updateId+1;return te(te({updateId:je},g(te(te({props:b},v),{},{updateId:je,dataStartIndex:oe,dataEndIndex:Z}),v)),{},{prevChildren:x,dataStartIndex:oe,dataEndIndex:Z})}return null}),Se(r,"renderActiveDot",function(b,v){var _;return D.isValidElement(b)?_=D.cloneElement(b,v):Ce(b)?_=b(v):_=$.createElement(Ok,v),$.createElement(tt,{className:"recharts-active-dot",key:v.key},_)}),r},vbe=E4({chartName:"BarChart",GraphicalChild:Ps,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Uy},{axisType:"yAxis",AxisComp:By}],formatAxisMap:tve}),S4=E4({chartName:"PieChart",GraphicalChild:Ei,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:$y},{axisType:"radiusAxis",AxisComp:Dy}],formatAxisMap:hde,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const T4=({data:t})=>{const{isDarkMode:e}=D.useContext(Qn),r={backgroundColor:e?"#333":"#fff",axisColor:e?"#ccc":"#000",gridColor:e?"#888888":"#D1D1D1",tooltipBackgroundColor:e?"#6D6D6D":"#E7E7E7",barColor:"#FFC700"};return m.jsx(nk,{width:"100%",height:"100%",children:m.jsxs(vbe,{data:t,margin:{left:-24},children:[m.jsx(m4,{stroke:r.gridColor,strokeDasharray:"5 5"}),m.jsx(Uy,{dataKey:"name",stroke:r.axisColor}),m.jsx(By,{stroke:r.axisColor}),m.jsx(ni,{cursor:{fill:r.tooltipBackgroundColor}}),m.jsx(Ps,{type:"monotone",dataKey:"存款金額",fill:r.barColor})]})})};T4.propTypes={data:G.array.isRequired};const A4=({categoryData:t,habitCategories:e})=>{const r=Object.keys(t).map(n=>({name:e.find(i=>i.id===parseInt(n)).name,value:t[n]}));return m.jsx(nk,{width:"100%",height:"100%",children:m.jsx(S4,{children:m.jsx(Ei,{data:r,cx:"50%",cy:"50%",innerRadius:80,outerRadius:160,fill:"#8884d8",dataKey:"value",label:!0,children:r.map((n,i)=>m.jsx(Md,{fill:e.find(a=>a.name===n.name).color},`cell-${i}`))})})})};A4.propTypes={categoryData:G.object.isRequired,habitCategories:G.array.isRequired};const P4=({typeData:t,habitType:e})=>{const r=Object.keys(t).map(n=>{const i=e.find(a=>a.id===n);return i?{name:i.name,value:t[n]}:null}).filter(n=>n!==null);return m.jsx(nk,{width:"100%",height:"100%",children:m.jsx(S4,{children:m.jsx(Ei,{data:r,cx:"50%",cy:"50%",innerRadius:80,outerRadius:160,fill:"#8884d8",dataKey:"value",label:!0,children:r.map((n,i)=>m.jsx(Md,{fill:e.find(a=>a.name===n.name).color},`cell-${i}`))})})})};P4.propTypes={typeData:G.object.isRequired,habitType:G.array.isRequired};function bbe(){const[t,e]=D.useState("overview"),[r,n]=D.useState("week"),[i]=D.useState([{value:"week",label:"本週"},{value:"month",label:"本月"},{value:"year",label:"本年"}]),[a,o]=D.useState(0),[s,l]=D.useState(0),[c,u]=D.useState(0),[f,h]=D.useState([]),[p,g]=D.useState({}),[b,v]=D.useState({}),[_,y]=D.useState([]),{user:x}=D.useContext(Qn),k=[{id:0,name:"生產力",color:"#FF6961"},{id:1,name:"個人成長",color:"#FFB480"},{id:2,name:"運動健身",color:"#FFE552"},{id:3,name:"飲食健康",color:"#42D6A4"},{id:4,name:"心靈成長",color:"#08CAD1"},{id:5,name:"手作興趣",color:"#59ADF6"},{id:6,name:"財務管理",color:"#9D94FF"},{id:7,name:"環境生活",color:"#C780E8"}],T=[{id:"to-do",name:"養成",color:"#B2B814"},{id:"not-to-do",name:"戒除",color:"#D14D28"}];D.useEffect(()=>{(async()=>{if(x&&x.uid){const N=await cs(x.uid);y(N);const{startOfPeriod:O,endOfPeriod:F}=C(r),{completed:W,savings:H,total:X,chartData:V,categoryData:Q,typeData:ee}=S(N,O,F,r);o(W),l(H),u(X),h(V),g(Q),v(ee)}})()},[x,r]);const C=R=>{const N=new Date;let O,F;return R==="week"?(O=new Date(N.setDate(N.getDate()-N.getDay())),F=new Date(N.setDate(N.getDate()-N.getDay()+6))):R==="month"?(O=new Date(N.getFullYear(),N.getMonth(),1),F=new Date(N.getFullYear(),N.getMonth()+1,0)):(O=new Date(N.getFullYear(),0,1),F=new Date(N.getFullYear(),11,31)),O.setHours(0,0,0,0),F.setHours(23,59,59,999),{startOfPeriod:O,endOfPeriod:F}},S=(R,N,O,F)=>{let W=0,H=0,X=0,V=[],Q={},ee={};const oe={};if(F==="week")["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].forEach(le=>{oe[le]=0});else if(F==="month"){const Z=Math.ceil((O.getDate()-N.getDate()+1)/7);for(let le=1;le<=Z;le++)oe[`Week ${le}`]=0}else["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].forEach(le=>{oe[le]=0});return R.forEach(Z=>{Z.status.forEach(le=>{const Ee=new Date(le.date);Ee.setHours(0,0,0,0);const je=new Date;if(je.setHours(0,0,0,0),Ee<je&&Ee>=N&&Ee<=O){const et=E(Ee,F);le.completed?W+=1:(oe[et]+=Number(Z.amount),H+=1,X+=Number(Z.amount),Q[Z.category]||(Q[Z.category]=0),Q[Z.category]+=1,ee[Z.type]||(ee[Z.type]=0),ee[Z.type]+=1)}})}),V=Object.keys(oe).map(Z=>({name:Z,存款金額:oe[Z]})),[...V].sort((Z,le)=>{if(F==="week"){const Ee=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return Ee.indexOf(Z.name)-Ee.indexOf(le.name)}else if(F==="month"){const Ee=parseInt(Z.name.split(" ")[1],10),je=parseInt(le.name.split(" ")[1],10);return Ee-je}else{const Ee=new Date(Date.parse(Z.name+" 1, 2022")).getMonth(),je=new Date(Date.parse(le.name+" 1, 2022")).getMonth();return Ee-je}}),{completed:W,savings:H,total:X,chartData:V,categoryData:Q,typeData:ee}},E=(R,N)=>N==="week"?R.toLocaleDateString("en-US",{weekday:"short"}):N==="month"?`Week ${Math.ceil(R.getDate()/7)}`:R.toLocaleDateString("en-US",{month:"short"}),P=({completed:R,savings:N,total:O})=>m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-end items-center gap-1",children:[m.jsx("p",{className:"font-bold text-base leading-6 text-black dark:text-black-0",children:R}),m.jsx("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:"次"})]}),m.jsx("p",{className:"font-normal text-xs leading-4 md:text-sm md:leading-5 text-black dark:text-black-0",children:"完成習慣次數"})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-end items-center gap-1",children:[m.jsx("p",{className:"font-bold text-base leading-6 text-black dark:text-black-0",children:N}),m.jsx("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:"次"})]}),m.jsx("p",{className:"font-normal text-xs leading-4 md:text-sm md:leading-5 text-black dark:text-black-0",children:"存款次數"})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-end items-center gap-1",children:[m.jsx("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:"NT$"}),m.jsx("p",{className:"font-bold text-base leading-6 text-black dark:text-black-0",children:O})]}),m.jsx("p",{className:"font-normal text-xs leading-4 md:text-sm md:leading-5 text-black dark:text-black-0",children:"存款金額"})]})]}),I=(R,N,O)=>{const F=[];return R.forEach(W=>{W.status.forEach(H=>{const X=new Date(H.date);X.setHours(0,0,0,0);const V=new Date;V.setHours(0,0,0,0),X<V&&!H.completed&&X>=N&&X<=O&&F.push({id:W.id,title:W.title,date:H.date,amount:W.amount})})}),[...F].sort((W,H)=>new Date(H.date)-new Date(W.date)),F.slice(0,50).map((W,H)=>m.jsxs("li",{className:"py-2 px-4 grid grid-cols-5 bg-black-50 dark:bg-black-800 rounded-lg font-normal text-sm leading-5 hover:bg-black-0 dark:hover:bg-black-600",children:[m.jsx("p",{className:"text-black dark:text-black-0",children:String(H+1).padStart(2,"0")}),m.jsx("p",{className:"text-center text-black dark:text-black-0",children:new Date(W.date).toLocaleDateString()}),m.jsx("p",{className:"text-center col-span-2 overflow-scroll text-black dark:text-black-0",children:W.title}),m.jsxs("p",{className:"text-center text-black dark:text-black-0",children:["NT$",W.amount]})]},W.id+W.date))};return m.jsxs("div",{className:"p-4 md:py-10 space-y-4",children:[m.jsxs("ul",{className:"grid grid-cols-3 w-full",children:[m.jsx("li",{className:`border border-black-500 rounded-s-full py-1 font-normal text-sm leading-5 text-center ${t==="overview"?"bg-primary":"bg-black-50"}`,onClick:()=>e("overview"),children:"存款總覽"}),m.jsx("li",{className:`border-e border-y border-black-500 py-1 font-normal text-sm leading-5 text-center ${t==="category"?"bg-primary":"bg-black-50"}`,onClick:()=>e("category"),children:"習慣類別總覽"}),m.jsx("li",{className:`border-e border-y border-black-500 rounded-e-full py-1 font-normal text-sm leading-5 text-center ${t==="type"?"bg-primary":"bg-black-50"}`,onClick:()=>e("type"),children:"習慣類型總覽"})]}),t==="overview"&&m.jsxs("div",{children:[m.jsxs("div",{className:"p-4 bg-black-50 dark:bg-black-800 rounded-xl space-y-4",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{className:"relative group flex items-center flex-grow",children:[m.jsx("h2",{className:"font-bold text-xl leading-7 text-black dark:text-black-0",children:"存款總覽"}),m.jsx(xt.TbInfoCircle,{className:"w-6 h-6 text-black-500 dark:text-black-200 ml-2 inline-block"}),m.jsx("span",{className:"absolute top-0 left-32 transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto z-50 before:content-[''] before:absolute before:top-7 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark whitespace-normal break-words",children:"結算時間為每日 23:59:59，存款金額為當日未完成的習慣存款金額總和"})]}),m.jsx("div",{className:"relative",children:m.jsx(Qa,{options:i,value:r,onChange:n})})]}),P({completed:a,savings:s,total:c}),m.jsx("div",{className:"w-full h-52",children:m.jsx(T4,{data:f})})]}),m.jsxs("ul",{className:"space-y-2 mt-4",children:[m.jsxs("li",{className:"py-2 px-4 grid grid-cols-5 border border-black-500 rounded-lg font-normal text-sm leading-5",children:[m.jsx("p",{className:"text-black dark:text-black-0",children:"編號"}),m.jsx("p",{className:"text-center text-black dark:text-black-0",children:"日期"}),m.jsx("p",{className:"text-center col-span-2 text-black dark:text-black-0",children:"習慣名稱"}),m.jsx("p",{className:"text-center text-black dark:text-black-0",children:"習慣存款"})]}),I(_,C(r).startOfPeriod,C(r).endOfPeriod)]}),s===0&&m.jsxs(m.Fragment,{children:[m.jsx("p",{className:"text-center mt-2 font-normal text-xs leading-4 md:text-base md:leading-6 text-black dark:text-black-0",children:"找不到相關的存款資料"}),m.jsx("p",{className:"text-center mt-2 font-normal text-xs leading-4 md:text-base md:leading-6 text-black dark:text-black-0",children:"要不要試著培養一些習慣呢？"})]}),s>=50&&m.jsx("p",{className:"text-center mt-2 font-normal text-xs leading-4 md:text-base md:leading-6 text-black dark:text-black-0",children:"僅顯示最新的 50 筆存款記錄"})]}),t==="category"&&m.jsxs("div",{className:`p-4 bg-black-50 dark:bg-black-800 rounded-xl space-y-4 ${s===0?"min-h-screen":"h-fit"}`,children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{className:"relative group flex items-center flex-grow",children:[m.jsx("h2",{className:"font-bold text-xl leading-7 text-black dark:text-black-0",children:"習慣類別總覽"}),m.jsx(xt.TbInfoCircle,{className:"w-6 h-6 text-black-500 dark:text-black-200 ml-2 inline-block"}),m.jsx("span",{className:"absolute top-0 left-[168px] transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto z-50 before:content-[''] before:absolute before:top-7 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark whitespace-normal break-words",children:"來看看你的習慣類別分布吧！哪些類別的習慣讓你累積最多存款呢？"})]}),m.jsx("div",{className:"relative",children:m.jsx(Qa,{options:i,value:r,onChange:n})})]}),s===0?m.jsxs("div",{className:"space-y-2",children:[m.jsx("p",{className:"text-center font-normal text-base leading-6 text-black dark:text-black-0",children:"找不到相關的存款資料"}),m.jsx("p",{className:"text-center font-normal text-base leading-6 text-black dark:text-black-0",children:"要不要試著培養一些習慣呢？"})]}):m.jsxs("div",{children:[m.jsx("div",{className:"w-full h-[400px]",children:m.jsx(A4,{categoryData:p,habitCategories:k})}),m.jsx("ul",{className:"space-y-2",children:k.map(R=>m.jsxs("li",{className:"p-2 rounded flex justify-between items-center hover:bg-black-0 dark:hover:bg-black-600",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-6 h-6 rounded-full",style:{backgroundColor:R.color}}),m.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:R.name})]}),m.jsxs("p",{className:"font-bold text-lg leading-6 text-black dark:text-black-0",children:[((p[R.id]||0)/Object.values(p).reduce((N,O)=>N+O,0)*100).toFixed(1),"%"]})]},R.id))})]})]}),t==="type"&&m.jsxs("div",{className:`p-4 bg-black-50 dark:bg-black-800 rounded-xl space-y-4 ${s===0?"min-h-screen":"h-fit"}`,children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{className:"relative group flex items-center flex-grow",children:[m.jsx("h2",{className:"font-bold text-xl leading-7 text-black dark:text-black-0",children:"習慣類型總覽"}),m.jsx(xt.TbInfoCircle,{className:"w-6 h-6 text-black-500 dark:text-black-200 ml-2 inline-block"}),m.jsx("span",{className:"absolute top-0 left-[168px] transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto z-50 before:content-[''] before:absolute before:top-7 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark whitespace-normal break-words",children:"來看看你的習慣類型分布吧！你比較擅長養成還是戒除習慣呢？"})]}),m.jsx("div",{className:"relative",children:m.jsx(Qa,{options:i,value:r,onChange:n})})]}),s===0?m.jsxs("div",{className:"space-y-2",children:[m.jsx("p",{className:"text-center font-normal text-base leading-6 text-black dark:text-black-0",children:"找不到相關的存款資料"}),m.jsx("p",{className:"text-center font-normal text-base leading-6 text-black dark:text-black-0",children:"要不要試著培養一些習慣呢？"})]}):m.jsxs("div",{children:[m.jsx("div",{className:"w-full h-[400px]",children:m.jsx(P4,{typeData:b,habitType:T})}),m.jsx("ul",{className:"space-y-2",children:T.map(R=>m.jsxs("li",{className:"p-2 rounded flex justify-between items-center hover:bg-black-0 dark:hover:bg-black-600",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-6 h-6 rounded-full",style:{backgroundColor:R.color}}),m.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:R.name})]}),m.jsxs("p",{className:"font-bold text-lg leading-6 text-black dark:text-black-0",children:[((b[R.id]||0)/Object.values(b).reduce((N,O)=>N+O,0)*100).toFixed(1),"%"]})]},R.id))})]})]})]})}function xbe(){var p,g;const[t,e]=D.useState("habit"),[r,n]=D.useState([]),[i,a]=D.useState([]),{user:o}=D.useContext(Qn);D.useEffect(()=>{(async()=>{const{startOfWeek:v,endOfWeek:_}=s();if(t==="habit"){const x=[...await l(v,_)].sort((k,T)=>T.completedCount-k.completedCount);n(x)}else if(t==="savings"){const x=[...await c(v,_)].sort((k,T)=>T.totalSavings-k.totalSavings);a(x)}})()},[t]);const s=()=>{const b=new Date,v=new Date(b.setDate(b.getDate()-b.getDay())),_=new Date(b.setDate(b.getDate()-b.getDay()+6));return v.setHours(0,0,0,0),_.setHours(23,59,59,999),{startOfWeek:v,endOfWeek:_}},l=async(b,v)=>{const _=await bA();return await Promise.all(_.map(async x=>{const T=(await cs(x.uid)).reduce((C,S)=>C+S.status.filter(E=>{const P=new Date(E.date);return E.completed&&P>=b&&P<=v}).length,0);return{...x,completedCount:T}}))},c=async(b,v)=>{const _=await bA(),y=new Date;return y.setHours(0,0,0,0),await Promise.all(_.map(async k=>{const C=(await cs(k.uid)).reduce((S,E)=>{const P=E.amount,I=E.status.filter(R=>{const N=new Date(R.date);return!R.completed&&N>=b&&N<=v&&N<y}).length;return S+I*P},0);return{...k,totalSavings:C}}))},u=b=>({level:Math.floor(b/100)}),f=(b,v)=>[...b].sort((y,x)=>v==="habit"?x.completedCount-y.completedCount:x.totalSavings-y.totalSavings).slice(0,10).map((y,x)=>{const{level:k}=u(y.levelPoints);return m.jsxs("li",{className:"relative flex justify-between items-center py-2 px-4 bg-black-50 dark:bg-black-800 rounded-2xl hover:bg-black-0 dark:hover:bg-black-600",children:[m.jsx("div",{className:"flex items-center gap-3",children:x<3?m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"absolute top-[-4px]",children:m.jsxs("div",{className:"w-10 h-[68px] flex justify-center items-center bg-primary relative",children:[m.jsx("p",{className:"font-normal text-center text-3xl leading-9 font-lobster text-alert",children:x+1}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-34px] before:right-0 before:w-0 before:h-0 before:border-l-[20px] before:border-r-0 before:border-b-[12px] before:border-l-transparent before:border-r-transparent before:border-b-black-50 dark:before:border-b-black-800 before:z-20"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-34px] before:left-0 before:w-0 before:h-0 before:border-l-0 before:border-r-[20px] before:border-b-[12px] before:border-l-transparent before:border-r-transparent before:border-b-black-50 dark:before:border-b-black-800 before:z-20"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[30px] before:left-5 before:w-0 before:h-0 before:border-l-0 before:border-r-[3px] before:border-b-[4px] before:border-l-transparent before:border-r-transparent before:border-b-primary-dark before:z-20"})]})}),m.jsx("img",{src:y.avatar,alt:"user's avatar",className:"w-12 h-12 rounded-full ml-14 outline outline-primary-dark dark:outline-primary"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-normal text-lg leading-7 text-black dark:text-black-0",children:y.name}),m.jsxs("p",{className:"font-normal text-sm leading-5 text-black-700 dark:text-black-200",children:["Lv.",k]})]})]}):m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("p",{className:"w-10 h-auto font-normal text-center text-3xl leading-9 font-lobster text-black dark:text-black-0",children:x+1}),m.jsx("img",{src:y.avatar,alt:"user's avatar",className:"w-12 h-12 rounded-full outline outline-primary-dark dark:outline-primary"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-normal text-lg leading-7 text-black dark:text-black-0",children:y.name}),m.jsxs("p",{className:"font-normal text-sm leading-5 text-black-700 dark:text-black-200",children:["Lv.",k]})]})]})}),m.jsxs("div",{className:"flex flex-col items-end",children:[m.jsx("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:v==="habit"?"累積數量":"累積存款"}),v==="habit"?m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("p",{className:"font-bold text-base leading-6 text-black dark:text-black-0",children:y.completedCount}),m.jsx("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:"次"})]}):m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("p",{className:"font-bold text-base leading-6 text-black dark:text-black-0",children:y.totalSavings}),m.jsx("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:"元"})]})]})]},y.uid)}),h=(b,v,_)=>{const y=b.find(T=>T.uid===v.uid);if(!y)return null;const x=b.findIndex(T=>T.uid===v.uid)+1,{level:k}=u(y.levelPoints);return m.jsxs("div",{className:"flex justify-between py-2 px-4 bg-black-500 dark:bg-black-50 rounded-2xl",children:[m.jsxs("div",{className:"flex items-center gap-3 text-black-0 dark:text-black",children:[m.jsx("p",{className:"w-10 h-auto font-normal text-center text-3xl leading-9 font-lobster text-black-0 dark:text-black",children:x}),m.jsx("img",{src:y.avatar,alt:"user's avatar",className:"w-12 h-12 rounded-full outline dark:outline-primary-dark outline-primary"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-normal text-lg leading-7 text-white dark:text-black",children:y.name}),m.jsxs("p",{className:"font-normal text-sm leading-5 text-black-200 dark:text-black-700",children:["Lv.",k]})]})]}),m.jsxs("div",{className:"flex flex-col items-end text-black-0 dark:text-black",children:[m.jsx("p",{className:"font-normal text-sm leading-5",children:_==="habit"?"累積數量":"累積存款"}),_==="habit"?m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("p",{className:"font-bold text-base leading-6 text-black-0 dark:text-black",children:y.completedCount}),m.jsx("p",{className:"font-normal text-sm leading-5 text-black-0 dark:text-black",children:"次"})]}):m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("p",{className:"font-bold text-base leading-6 text-black-0 dark:text-black",children:y.totalSavings}),m.jsx("p",{className:"font-normal text-sm leading-5 text-black-0 dark:text-black",children:"元"})]})]})]})};return m.jsxs("div",{className:"p-4 md:py-10 space-y-4",children:[m.jsxs("ul",{className:"grid grid-cols-2 w-full pb-3",children:[m.jsx("li",{className:`border border-black-500 rounded-s-full py-1 font-normal text-sm leading-5 text-center ${t==="habit"?"bg-primary":"bg-black-50"}`,onClick:()=>e("habit"),children:"習慣排行"}),m.jsx("li",{className:`border-e border-y border-black-500 rounded-e-full py-1 font-normal text-sm leading-5 text-center ${t==="savings"?"bg-primary":"bg-black-50"}`,onClick:()=>e("savings"),children:"存款排行"})]}),t==="habit"&&m.jsxs("div",{className:"relative space-y-4",children:[m.jsxs("div",{className:"p-4 mt-4 bg-black-50 dark:bg-black-800 rounded-lg flex flex-col items-center",children:[m.jsxs("p",{className:"text-center font-normal text-base leading-6 text-black dark:text-black-0",children:["在 ",s().startOfWeek.toLocaleDateString(),"～",s().endOfWeek.toLocaleDateString()," 期間"]}),m.jsxs("div",{className:"flex justify-center items-center gap-x-1 flex-wrap",children:[m.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:"恭喜"}),m.jsx("p",{className:"font-bold text-xl leading-7 text-black dark:text-black-0",children:((p=r[0])==null?void 0:p.name)||"No.1"}),m.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:"成為累積最多次習慣的玩家"})]})]}),m.jsxs("div",{className:"absolute -top-8 inset-x-0 text-primary flex items-center justify-center",children:[m.jsx(Fs.TbCircleCheck,{className:"w-8 h-8"}),m.jsx(Fs.TbCircleCheckFilled,{className:"w-8 h-8"}),m.jsx(Fs.TbCircleCheck,{className:"w-8 h-8"})]}),m.jsx("ul",{className:"space-y-4 pb-20",children:f(r,"habit")}),m.jsx("div",{className:"fixed bottom-0 left-0 md:left-auto w-full max-w-full md:max-w-[1128px] mx-auto p-4 pb-[88px] bg-light dark:bg-black-950 md:p-0 md:py-4",children:h(r,o,"habit")})]}),t==="savings"&&m.jsxs("div",{className:"relative space-y-4",children:[m.jsxs("div",{className:"p-4 mt-4 bg-black-50 dark:bg-black-800 rounded-lg flex flex-col items-center",children:[m.jsxs("p",{className:"text-center font-normal text-base leading-6 text-black dark:text-black-0",children:["在 ",s().startOfWeek.toLocaleDateString(),"～",s().endOfWeek.toLocaleDateString()," 期間"]}),m.jsxs("div",{className:"flex justify-center items-center gap-x-1 flex-wrap",children:[m.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:"恭喜"}),m.jsx("p",{className:"font-bold text-xl leading-7 text-black dark:text-black-0",children:((g=i[0])==null?void 0:g.name)||"No.1"}),m.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:"成為累積最多存款的玩家"})]})]}),m.jsxs("div",{className:"absolute -top-8 inset-x-0 text-primary flex items-center justify-center",children:[m.jsx(Fs.TbCoin,{className:"w-8 h-8"}),m.jsx(Fs.TbCoinFilled,{className:"w-8 h-8"}),m.jsx(Fs.TbCoin,{className:"w-8 h-8"})]}),m.jsx("ul",{className:"space-y-4 pb-20",children:f(i,"savings")}),m.jsx("div",{className:"fixed bottom-0 left-0 md:left-auto w-full max-w-full md:max-w-[1128px] mx-auto p-4 pb-[88px] bg-light dark:bg-black-950 md:p-0 md:py-4",children:h(i,o,"savings")})]})]})}const pw=({options:t,onChange:e,theme:r})=>{const[n,i]=D.useState(!1),a=o=>{e(o),i(!1)};return m.jsxs("div",{className:"relative inline-block",children:[m.jsx(wu.TbDots,{className:`w-6 h-6 text-black ${r==="dark"?"dark:text-black-0":""} cursor-pointer hover:text-alert`,onClick:()=>i(!n)}),n&&m.jsx("ul",{className:"absolute z-10 mt-1 w-fit -right-4 bg-white border border-black-500 rounded-2xl shadow-lg text-center text-nowrap overflow-hidden",children:t.map(o=>m.jsx("li",{className:"px-4 py-2 hover:bg-primary-light cursor-pointer",onClick:()=>a(o.value),children:o.label},o.value))})]})};pw.propTypes={options:G.array.isRequired,value:G.string.isRequired,onChange:G.func.isRequired,theme:G.string.isRequired};const I4=({backgrounds:t,setPostBackground:e,isOpen:r,setIsOpen:n})=>m.jsx("div",{className:`absolute top-16 left-0 right-0 z-10 bg-black-0 border border-black-500 rounded-lg py-2 px-4 ${r?"block":"hidden"}`,children:m.jsx("div",{className:"flex gap-4 overflow-scroll",children:t.map((i,a)=>m.jsx("button",{className:"rounded w-6 h-6 flex-shrink-0 flex-grow-0",style:{backgroundImage:`url(${i})`,backgroundSize:"cover",backgroundPosition:"center"},onClick:()=>{e(i),n(!1)}},a))})});I4.propTypes={backgrounds:G.array.isRequired,setPostBackground:G.func.isRequired,isOpen:G.bool.isRequired,setIsOpen:G.func.isRequired};const O4=({postContent:t,setPostContent:e,postBackground:r,setPostBackground:n,handleAddPost:i,handlePostModal:a,user:o,isEditMode:s,handleUpdatePost:l,calculateTextColor:c})=>{const[u,f]=D.useState([]),[h,p]=D.useState(!1),[g,b]=D.useState(null);return D.useEffect(()=>{(async()=>{const _=await FD();f(_)})()},[]),D.useEffect(()=>{(async()=>{if(o&&o.uid){const _=await ii(o.uid);b(_)}})()},[o]),m.jsxs("div",{className:"space-y-4 relative",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10",children:g&&g.avatar?m.jsx("img",{src:g.avatar,alt:"avatar",className:"w-full h-full object-cover rounded-full"}):m.jsx("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:"No Image"})}),m.jsx("h3",{className:"font-bold text-base leading-6 text-black dark:text-black-0",children:g&&g.name?g.name:"Unknown"})]}),m.jsx(xt.TbX,{className:"w-6 h-6 hover:text-alert cursor-pointer text-black dark:text-black-0",onClick:a})]}),m.jsxs("div",{className:"flex justify-between items-center gap-4",children:[m.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0 text-nowrap",children:"選擇背景顏色"}),m.jsx("div",{className:"flex gap-4 overflow-scroll",children:u.map((v,_)=>m.jsx("button",{className:"rounded w-6 h-6 flex-shrink-0 flex-grow-0 border border-black-500",style:{backgroundImage:`url(${v})`,backgroundSize:"cover",backgroundPosition:"center"},onClick:()=>n(v)},_))})]}),m.jsx(I4,{backgrounds:u,setPostBackground:n,isOpen:h,setIsOpen:p}),m.jsx("div",{className:"w-full min-h-40 h-fit border rounded-xl bg-black-100 p-2 overflow-auto flex justify-center items-center",style:{backgroundImage:`url(${r})`,backgroundSize:"cover",backgroundPosition:"center"},children:m.jsx("textarea",{className:"w-full h-full bg-transparent border-none resize-none outline-none text-center placeholder-black font-normal text-base leading-6 md:text-xl md:leading-7 xl:text-2xl xl:leading-8",placeholder:"輸入貼文內容...",value:t,onChange:v=>e(v.target.value),style:{color:c(r)}})}),m.jsxs("div",{className:"flex gap-4",children:[s&&m.jsx("button",{className:"py-1 w-full bg-black-100 rounded-lg font-medium text-sm leading-5 hover:bg-black-300",onClick:a,children:"取消修改"}),m.jsx("button",{className:"py-1 w-full bg-primary rounded-lg font-medium text-sm leading-5 hover:bg-primary-dark",onClick:s?l:i,children:s?"確認修改":"發佈貼文"})]})]})};O4.propTypes={postContent:G.string.isRequired,setPostContent:G.func.isRequired,postBackground:G.string.isRequired,setPostBackground:G.func.isRequired,handleAddPost:G.func.isRequired,handlePostModal:G.func.isRequired,user:G.object,isEditMode:G.bool,handleUpdatePost:G.func,calculateTextColor:G.func.isRequired};function wbe(){const[t,e]=D.useState([]),[r,n]=D.useState("all"),[i]=D.useState([{label:"全部貼文",value:"all"},{label:"僅限自己",value:"personal"}]),[a,o]=D.useState({}),[s,l]=D.useState(""),[c,u]=D.useState({}),[f,h]=D.useState(!1),[p,g]=D.useState(null),[b,v]=D.useState(""),[_,y]=D.useState(""),[x,k]=D.useState([]),[T,C]=D.useState(!1),{user:S}=D.useContext(Qn),[E,P]=D.useState(null),[I,R]=D.useState(!1),[N,O]=D.useState(null),F=D.useRef(null);D.useEffect(()=>{(async()=>{const z=await Ch(),K=await Promise.all(z.map(async ne=>{const ve=await ii(ne.userID),_e=await Ls(ne.id);return{...ne,user:ve,comments:_e}}));e(K)})()},[]),D.useEffect(()=>{(async()=>{const z=await FD();k(z)})()},[]),D.useEffect(()=>{(async()=>{if(S&&S.uid){const z=await ii(S.uid);P(z)}})()},[S]);const W=r==="personal"?t.filter(L=>L.userID===S.uid):t,H=L=>{o(z=>({...z,[L]:!z[L]}))},X=async L=>{if(!s.trim()){B();return}const z=await ii(S.uid),K={content:s,userID:S.uid,userName:z.name,userAvatar:z.avatar};await pq(L,K),l("");const ne=await Ls(L);e(ve=>ve.map(_e=>_e.id===L?{..._e,comments:ne}:_e)),se()},V=L=>{u(z=>({...z,[L]:""}))},Q=(L,z)=>{O(()=>async()=>{await gq(L,z);const K=await Ls(L);e(ne=>ne.map(ve=>ve.id===L?{...ve,comments:K}:ve)),U()}),R(!0)},ee=async L=>{O(()=>async()=>{await hq(L),e(z=>z.filter(K=>K.id!==L)),Xe()}),R(!0)},oe=(L,z=null)=>{z?u(K=>({...K,[z]:L.comments.find(ne=>ne.id===z).content})):(g(L),h(!0))},Z=async(L,z,K=null)=>{if(K){const ne=c[K];if(!ne.trim()){B();return}await mq(L,K,{content:ne});const ve=await Ls(L);e(_e=>_e.map(Re=>Re.id===L?{...Re,comments:ve}:Re)),u(_e=>({..._e,[K]:""})),M()}else{await dq(L,z);const ne=await Ch();e(ne),h(!1),Ge()}},le=(L,z,K)=>{K==="edit"?oe(L,z):K==="delete"&&(z?Q(L.id,z):ee(L.id))},Ee=async L=>{try{await yq(L,S.uid);const z=await Ch(),K=await Promise.all(z.map(async ne=>{const ve=await ii(ne.userID),_e=await Ls(ne.id);return{...ne,user:ve,comments:_e}}));e(K)}catch(z){console.error(z)}},je=async L=>{try{await vq(L,S.uid);const z=await Ch(),K=await Promise.all(z.map(async ne=>{const ve=await ii(ne.userID),_e=await Ls(ne.id);return{...ne,user:ve,comments:_e}}));e(K)}catch(z){console.error(z)}},et=L=>{const z=new Date,K=new Date(L*1e3),ne=Math.floor((z-K)/1e3);return ne<3600?"剛剛":ne<86400?`${Math.floor(ne/3600)} 小時前`:ne<259200?`${Math.floor(ne/86400)} 天前`:K.toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit"})},Fe=async()=>{if(!b.trim()){B();return}if(S){const L=await ii(S.uid),z={content:b,background:_,userID:S.uid,user:L,createdTime:{seconds:Math.floor(Date.now()/1e3)},likes:[],comments:[]};await fq(S.uid,z),e(ne=>[z,...ne]),v(""),y(""),Pe();const K=document.querySelector("textarea");K&&(K.style.height="auto")}},Mt=()=>E?m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("img",{src:E.avatar,alt:"avatar",className:"w-12 h-12 object-cover rounded-full outline outline-primary-dark dark:outline-primary"}),m.jsx("p",{className:"font-bold text-lg leading-6 text-black dark:text-black-0",children:E.name})]}):m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-12 h-12 bg-black-500 rounded-full"}),m.jsx("p",{className:"font-bold text-lg leading-6 text-black dark:text-black-0",children:"Unknown"})]}),ce=L=>{if(!L)return"black";const z=L.match(/\d+/g),K=parseInt(z[0],10),ne=parseInt(z[1],10),ve=parseInt(z[2],10);return(K*299+ne*587+ve*114)/10>186?"black":"white"},be=()=>{C(!0)},we=L=>{F.current&&!F.current.contains(L.target)&&C(!1)};D.useEffect(()=>(document.addEventListener("mousedown",we),()=>{document.removeEventListener("mousedown",we)}),[]);const J=L=>{Ul(L,{icon:m.jsx("img",{src:Yg,alt:"Habit Piggy Logo",style:{width:"40px",height:"40px"}}),style:{borderRadius:"16px",background:"#212121",color:"#fff"},duration:3e3})},Ve=L=>{Ul.error(L,{style:{borderRadius:"16px",background:"#212121",color:"#fff"},duration:3e3})},Pe=()=>J("今天也是快樂的貓咪日"),Ge=()=>J("已更新貼文！"),Xe=()=>J("已刪除貼文！"),se=()=>J("已新增留言！"),M=()=>J("已更新留言！"),U=()=>J("已刪除留言！"),B=()=>Ve("沒有內容不能發布喔！");return m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"p-4 md:py-10 space-y-4",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h2",{className:"font-bold text-xl leading-7 text-black dark:text-black-0",children:"貼文總覽"}),m.jsx("div",{className:"relative",children:m.jsx(Qa,{options:i,value:r,onChange:n})})]}),m.jsx("div",{className:"relative",children:m.jsxs("div",{ref:F,className:"relative bg-black-50 dark:bg-black-800 p-4 rounded-xl space-y-2 md:space-y-3 z-0",onClick:be,children:[m.jsx("div",{className:`absolute inset-0 rounded-xl -z-10 ${T?"block":"hidden"}`,style:{boxShadow:"0 0 8px 1px rgba(250, 173, 20, 1)"}}),Mt(),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0 text-nowrap",children:"選擇背景顏色"}),m.jsx("div",{className:"flex gap-4 overflow-scroll",children:x.map((L,z)=>m.jsx("button",{className:"rounded w-6 h-6 flex-shrink-0 flex-grow-0 border border-black-500",style:{backgroundImage:`url(${L})`,backgroundSize:"cover",backgroundPosition:"center"},onClick:()=>y(L)},z))})]}),m.jsx("div",{className:"w-full min-h-40 h-fit border rounded-xl bg-black-100 p-2 overflow-auto flex justify-center items-center",style:{backgroundImage:`url(${_})`,backgroundSize:"cover",backgroundPosition:"center"},children:m.jsx("textarea",{className:"w-full h-fit bg-transparent border-none overflow-hidden resize-none outline-none text-center placeholder-black font-normal text-base leading-6 md:text-xl md:leading-7 xl:text-2xl xl:leading-8",placeholder:"輸入貼文內容...",value:b,onChange:L=>{v(L.target.value),L.target.style.height="auto",L.target.style.height=`${L.target.scrollHeight}px`},style:{color:ce(_)},rows:"1"})}),m.jsx("div",{className:"text-end",children:m.jsx("button",{className:"py-1 px-3 w-fit bg-primary rounded-lg font-medium text-sm leading-5 md:text-base md:leading-6 hover:bg-primary-dark",onClick:Fe,children:"發佈貼文"})})]})}),m.jsx("ul",{className:"space-y-4",children:W.map(L=>m.jsxs("li",{className:"p-4 bg-black-50 dark:bg-black-800 rounded-2xl space-y-3 w-full",children:[m.jsxs("div",{className:"flex justify-between items-center w-full",children:[m.jsxs("div",{className:"flex gap-3 items-center",children:[m.jsx("div",{className:"w-12 h-12",children:L.user&&m.jsx("img",{src:L.user.avatar,alt:"avatar",className:"w-full h-full object-cover rounded-full outline outline-primary-dark dark:outline-primary"})}),m.jsxs("div",{className:"flex flex-col",children:[m.jsx("h3",{className:"font-bold text-lg leading-6 text-black dark:text-black-0",children:L.user?L.user.name:"Unknown"}),m.jsx("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:et(L.createdTime.seconds)})]})]}),m.jsx(pw,{options:[{value:"edit",label:"編輯貼文"},{value:"delete",label:"刪除貼文"}],onChange:z=>le(L,null,z),theme:"dark"})]}),m.jsx("div",{className:`w-full min-h-52 h-fit flex justify-center items-center p-4 rounded-xl font-normal text-base leading-6 md:text-xl md:leading-7 xl:text-2xl xl:leading-8 ${L.background?"":"bg-slate-100"}`,style:L.background?{backgroundImage:`url(${L.background})`,backgroundSize:"cover",backgroundPosition:"center",color:ce(L.background)}:{color:ce(L.background)},children:m.jsx("p",{className:"text-center",children:L.content})}),m.jsxs("div",{className:"flex gap-3",children:[m.jsxs("div",{className:"flex gap-1",children:[L.likes&&L.likes.includes(S.uid)?m.jsx(wu.TbHeartFilled,{className:"w-6 h-6 cursor-pointer text-alert",onClick:()=>je(L.id)}):m.jsx(wu.TbHeart,{className:"w-6 h-6 cursor-pointer text-black dark:text-black-0 hover:text-alert",onClick:()=>Ee(L.id)}),m.jsx("p",{className:"text-black dark:text-black-0 font-normal text-base leading-6",children:L.likes?L.likes.length:0})]}),m.jsxs("div",{className:"flex gap-1",children:[m.jsx(wu.TbMessageChatbot,{className:"w-6 h-6 cursor-pointer text-black dark:text-black-0 hover:text-black dark:hover:text-black-200",onClick:()=>H(L.id)}),m.jsx("p",{className:"text-black dark:text-black-0 font-normal text-base leading-6",children:L.comments?L.comments.length:0})]})]}),m.jsxs("ul",{className:`space-y-3 ${a[L.id]?"block":"hidden"}`,children:[L.comments&&L.comments.map(z=>m.jsxs("li",{className:"flex justify-between items-center gap-3",children:[m.jsx("img",{src:z.userAvatar,alt:"user's avatar",className:"w-12 h-12 rounded-full"}),m.jsxs("div",{className:"bg-black-200 rounded-xl px-4 py-2 w-full flex justify-between items-center",children:[m.jsxs("div",{className:"w-full md:w-4/5",children:[m.jsxs("div",{className:"flex gap-2",children:[m.jsx("h3",{className:"font-medium text-sm leading-5 line-clamp-1",children:z.userName}),m.jsx("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0-700",children:et(z.updatedTime?z.updatedTime.seconds:z.createdTime.seconds)})]}),c[z.id]?m.jsxs("div",{className:"grid grid-cols-1 gap-x-2 md:flex md:items-center md:gap-2",children:[m.jsx("input",{type:"text",value:c[z.id],onChange:K=>u({...c,[z.id]:K.target.value}),className:"font-normal text-base leading-6 rounded px-2 py-1 w-full bg-black-0 text-black caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark my-1"}),m.jsxs("div",{className:"flex gap-x-2",children:[m.jsx("button",{className:"w-fit text-nowrap font-medium text-sm leading-5 bg-black-100 py-1 md:py-1.5 px-2 rounded hover:bg-black-300",onClick:()=>V(z.id),children:"取消修改"}),m.jsx("button",{className:"w-fit text-nowrap font-medium text-sm leading-5 bg-primary py-1 md:py-1.5 px-2 rounded hover:bg-primary-dark",onClick:()=>Z(L.id,null,z.id),children:"確認修改"})]})]}):m.jsx("p",{className:"font-normal text-base leading-6",children:z.content})]}),c[z.id]?null:m.jsx("div",{className:"flex flex-col",children:m.jsx(pw,{options:[{value:"edit",label:"編輯留言"},{value:"delete",label:"刪除留言"}],onChange:K=>le(L,z.id,K),theme:"light"})})]})]},z.id)),m.jsxs("li",{className:"flex justify-between items-center gap-2",children:[m.jsx("input",{type:"text",placeholder:"請輸入留言",className:"bg-black-100 text-black py-2 px-4 w-full rounded-2xl placeholder:text-black dark:text-black-0-500  caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark focus:bg-black-0",value:s,onChange:z=>l(z.target.value)}),m.jsx("div",{className:"w-10 h-10 bg-primary flex justify-center items-center rounded-full aspect-square cursor-pointer hover:bg-primary-dark",onClick:()=>X(L.id),children:m.jsx(wu.TbSend2,{className:"w-6 h-6 text-black"})})]})]})]},L.id))}),I&&m.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:m.jsxs("div",{className:"bg-white dark:bg-black-800 p-4 rounded-xl shadow-lg",children:[m.jsx("p",{className:"text-black dark:text-white mb-4",children:"你確定要執行這個操作嗎？"}),m.jsxs("div",{className:"flex justify-end gap-2",children:[m.jsx("button",{className:"py-1 px-3 bg-gray-300 rounded-lg",onClick:()=>R(!1),children:"取消"}),m.jsx("button",{className:"py-1 px-3 bg-primary rounded-lg text-black",onClick:()=>{N(),R(!1)},children:"確認"})]})]})})]}),m.jsx(Un,{isOpen:f,onRequestClose:()=>h(!1),children:m.jsx(O4,{postContent:p?p.content:"",setPostContent:L=>g(z=>({...z,content:L})),postBackground:p?p.background:"",setPostBackground:L=>g(z=>({...z,background:L})),handlePostModal:()=>h(!1),user:S,isEditMode:!0,handleUpdatePost:()=>Z(p.id,p),calculateTextColor:ce})})]})}const C4=({sortedAchievements:t,userAchievements:e,handleAchievementModal:r})=>m.jsxs("div",{className:"pt-9 pb-4 px-4 bg-black-50 dark:bg-black-800 space-y-4 rounded-2xl relative",children:[m.jsx("ul",{className:"grid grid-cols-2 gap-4 md:grid-cols-3",children:t.slice(0,6).map(n=>{const i=e.includes(n.id);return m.jsx("li",{className:`py-1 w-full flex justify-center items-center rounded-lg border-2 cursor-default ${i?"opacity-100 border-primary-dark bg-light":"opacity-50 border-black-500 bg-black-100 dark:border-black-300"}`,children:m.jsx("p",{className:`font-normal text-base leading-6 md:text-xl md:leading-7 stroke-text ${i?"text-primary z-0":"text-black"}`,"data-stroke":i?n.name:"",children:n.name})},n.id)})}),m.jsx("button",{className:"text-center w-full bg-primary rounded-xl font-medium text-sm leading-5 py-1 hover:bg-primary-dark",onClick:r,children:"更多成就"}),m.jsxs("div",{className:"bg-primary py-1 px-4 w-fit absolute -top-12 left-1/2 transform -translate-x-1/2",children:[m.jsx("p",{className:"font-lobster font-normal text-2xl leading-8 text-alert",children:"Achievement"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[-16px] before:w-0 before:h-0 before:border-l-[20px] before:border-r-0 before:border-t-[12px] before:border-l-primary before:border-r-transparent before:border-t-primary-dark before:z-20"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[114px] before:w-0 before:h-0 before:border-r-[20px] before:border-l-0 before:border-t-[12px] before:border-r-primary before:border-l-transparent before:border-t-primary-dark before:z-20"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[-46px] before:w-8 before:h-10 before:bg-primary"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[134px] before:w-8 before:h-10 before:bg-primary"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[166px] before:w-0 before:h-0 before:border-l-0 before:border-r-[20px] before:border-b-[20px] before:border-l-transparent before:border-r-transparent before:border-b-primary before:z-20"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-1 before:left-[166px] before:w-0 before:h-0 before:border-l-0 before:border-r-[20px] before:border-t-[20px] before:border-l-transparent before:border-r-transparent before:border-t-primary before:z-20"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[-66px] before:w-0 before:h-0 before:border-l-[20px] before:border-r-0 before:border-b-[20px] before:border-l-transparent before:border-r-transparent before:border-b-primary before:z-20"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-1 before:left-[-66px] before:w-0 before:h-0 before:border-l-[20px] before:border-r-0 before:border-t-[20px] before:border-l-transparent before:border-r-transparent before:border-t-primary before:z-20"})]})]});C4.propTypes={sortedAchievements:G.array.isRequired,userAchievements:G.array.isRequired,handleAchievementModal:G.func.isRequired};const N4=({sortedBadges:t,userBadges:e,handleBadgeModal:r})=>m.jsxs("div",{className:"pt-9 pb-4 px-4 bg-black-50 dark:bg-black-800 space-y-4 rounded-2xl relative",children:[m.jsx("ul",{className:"grid grid-cols-3 gap-4 md:grid-cols-6",children:t.slice(0,6).map((n,i)=>m.jsx("li",{className:"relative w-full h-fit",children:m.jsx("img",{src:n.image,alt:`Badge ${i}`,className:`w-full h-full object-cover ${e.includes(n.id)?"opacity-100":"opacity-30"}`})},n.id))}),m.jsx("button",{className:"text-center w-full bg-primary rounded-xl font-medium text-sm leading-5 py-1 hover:bg-primary-dark",onClick:r,children:"更多獎勵徽章"}),m.jsxs("div",{className:"bg-primary py-1 px-4 w-[150px] absolute -top-12 left-1/2 transform -translate-x-1/2",children:[m.jsx("p",{className:"font-lobster font-normal text-2xl leading-8 text-alert text-center",children:"Badge"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[-16px] before:w-0 before:h-0 before:border-l-[20px] before:border-r-0 before:border-t-[13px] before:border-l-primary before:border-r-transparent before:border-t-primary-dark before:z-20"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[114px] before:w-0 before:h-0 before:border-r-[20px] before:border-l-0 before:border-t-[13px] before:border-r-primary before:border-l-transparent before:border-t-primary-dark before:z-20"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[-46px] before:w-8 before:h-10 before:bg-primary"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[134px] before:w-8 before:h-10 before:bg-primary"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[166px] before:w-0 before:h-0 before:border-l-0 before:border-r-[20px] before:border-b-[20px] before:border-l-transparent before:border-r-transparent before:border-b-primary before:z-20"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-1 before:left-[166px] before:w-0 before:h-0 before:border-l-0 before:border-r-[20px] before:border-t-[20px] before:border-l-transparent before:border-r-transparent before:border-t-primary before:z-20"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[-66px] before:w-0 before:h-0 before:border-l-[20px] before:border-r-0 before:border-b-[20px] before:border-l-transparent before:border-r-transparent before:border-b-primary before:z-20"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-1 before:left-[-66px] before:w-0 before:h-0 before:border-l-[20px] before:border-r-0 before:border-t-[20px] before:border-l-transparent before:border-r-transparent before:border-t-primary before:z-20"})]})]});N4.propTypes={sortedBadges:G.array.isRequired,userBadges:G.array.isRequired,handleBadgeModal:G.func.isRequired};const R4=({handleAchievementModal:t,userAchievements:e,sortedAchievements:r})=>m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h3",{className:"font-bold text-lg leading-7 text-black dark:text-black-0",children:"你的成就"}),m.jsx(xt.TbX,{className:"w-8 h-8 cursor-pointer hover:text-alert text-black dark:text-black-0",onClick:t})]}),m.jsx("div",{className:"max-h-56 overflow-scroll",children:m.jsx("ul",{className:"grid grid-cols-2 gap-4",children:r.map(n=>{const i=e.includes(n.id);return m.jsxs("li",{children:[m.jsx("div",{className:`py-1 w-full flex justify-center items-center rounded-lg border-2 cursor-default ${i?"opacity-100 border-primary-dark bg-light":"opacity-50 border-black-500 bg-black-100 text-black dark:border-black-300"}`,children:m.jsx("p",{className:`font-normal text-base leading-6 md:text-xl md:leading-7 stroke-text ${i?"text-primary z-0":"text-black"}`,"data-stroke":i?n.name:"",children:n.name})}),m.jsx("p",{className:"mt-1 text-black dark:text-black-0 text-center font-normal text-xs leading-4 md:text-sm md:leading-5",children:n.description})]},n.id)})})})]});R4.propTypes={handleAchievementModal:G.func.isRequired,achievements:G.array.isRequired,userAchievements:G.array.isRequired,sortedAchievements:G.array.isRequired};const j4=({handleBadgeModal:t,sortedBadges:e,userBadges:r})=>m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h3",{className:"font-bold text-lg leading-7 text-black dark:text-black-0",children:"你的獎勵徽章"}),m.jsx(xt.TbX,{className:"w-8 h-8 cursor-pointer hover:text-alert text-black dark:text-black-0",onClick:t})]}),m.jsx("div",{className:"max-h-56 overflow-scroll",children:m.jsx("ul",{className:"grid grid-cols-3 gap-4",children:e.map((n,i)=>m.jsxs("li",{className:"relative w-full h-fit",children:[m.jsx("img",{src:n.image,alt:`Badge ${i}`,className:`w-full h-full object-cover ${r.includes(n.id)?"opacity-100":"opacity-30"}`}),m.jsx("div",{className:"mt-1 text-black dark:text-black-0 text-center font-normal text-xs leading-4 md:text-sm md:leading-5",children:n.description})]},n.id))})})]});j4.propTypes={handleBadgeModal:G.func.isRequired,sortedBadges:G.array.isRequired,userBadges:G.array.isRequired};function _be(){const{user:t}=D.useContext(Qn),[e,r]=D.useState(!1),[n,i]=D.useState(!1),[a,o]=D.useState(!1),[s,l]=D.useState(!1),[c,u]=D.useState(!1),[f,h]=D.useState(!0),[p,g]=D.useState({uid:"",email:"",name:"",introduction:"",avatar:"",levelPoints:0,isAcceptReminder:!1,isDarkMode:!1,achievements:[],badges:[],habits:[]}),[b,v]=D.useState([]),[_,y]=D.useState(null),[x,k]=D.useState({category:0,title:"",frequency:"daily",amount:0,startDate:"",endDate:"",status:[]}),[T,C]=D.useState(0),[S,E]=D.useState(!1),[P,I]=D.useState(""),R=D.useRef(null),[N,O]=D.useState(null),[F,W]=D.useState("all"),[H,X]=D.useState([]),[V,Q]=D.useState([]),[ee,oe]=D.useState([]),[Z,le]=D.useState([]),[Ee,je]=D.useState(kl),[et]=D.useState([{label:"全部習慣",value:"all"},{label:"進行中",value:"in-progress"},{label:"已結束",value:"finished"}]),Fe=[{id:0,name:"生產力",icon:Er.TbRocket},{id:1,name:"個人成長",icon:Er.TbBook},{id:2,name:"運動健身",icon:Er.TbWalk},{id:3,name:"飲食健康",icon:Er.TbBowlChopsticks},{id:4,name:"心靈成長",icon:Er.TbMoodHeart},{id:5,name:"手作興趣",icon:Er.TbHandGrab},{id:6,name:"財務管理",icon:Er.TbCash},{id:7,name:"環境生活",icon:Er.TbPlant}];D.useEffect(()=>{(async()=>{if(t){const ke=await ii(t.uid);ke&&g(ke),z(),Mt(),ce(t.uid),be(),we(t.uid)}})()},[t]),D.useEffect(()=>{const de=new Date;O({year:de.getFullYear(),month:de.getMonth(),day:de.getDate()})},[]);const Mt=async()=>{const de=await bq();X(de)},ce=async de=>{const ke=await xq(de);Q(ke)},be=async()=>{const de=await wq();oe(de)},we=async de=>{const ke=await _q(de);le(ke)},J=()=>{r(!e)},Ve=()=>{i(!n)},Pe=de=>{k({category:de.category,title:de.title,frequency:de.frequency,amount:de.amount,startDate:de.startDate,endDate:de.endDate,status:de.status,type:de.type}),o(!a),i(!1)},Ge=()=>{l(!s)},Xe=()=>{u(!c)},se=async de=>{if(t&&t.uid)try{await E1(t.uid,de),g(de),Wd()}catch(ke){console.error("更新資料失敗",ke)}},M=async de=>{await se(de),J()},U=async de=>{const{name:ke,value:Ue,files:ze}=de.target;if(ke==="avatar"&&ze&&ze[0]){const at=de.target.files[0],$t=["image/jpeg","image/jpg","image/png","image/gif"];if(!at||!$t.includes(at.type))return;try{const Lt=await LD(t.uid,at);g(Ct=>({...Ct,avatar:Lt}))}catch(Lt){console.error("上傳頭像失敗",Lt)}}else g(ke==="isDarkMode"||ke==="isAcceptReminder"?at=>({...at,[ke]:Ue==="true"}):at=>({...at,[ke]:Ue}))},B=de=>{const{name:ke,value:Ue}=de.target;if(ke==="frequency"){const ze={type:Ue},at=L(x.startDate,x.endDate,ze);k($t=>({...$t,frequency:ze,status:at}))}else k(ze=>({...ze,[ke]:Ue}))},L=(de,ke,Ue)=>{const ze=new Date(de),at=new Date(ke),$t=[];if(Ue.type==="daily")for(let Lt=ze;Lt<=at;Lt.setDate(Lt.getDate()+1))$t.push({date:new Date(Lt).toDateString(),completed:!1});else if(Ue.type==="weekly")for(let Lt=ze;Lt<=at;Lt.setDate(Lt.getDate()+7))$t.push({date:new Date(Lt).toDateString(),completed:!1});else if(Ue.type==="specificDays"){const Lt=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Ct=Ue.days||[];for(let Nn=ze;Nn<=at;Nn.setDate(Nn.getDate()+1))Ct.includes(Lt[Nn.getDay()])&&$t.push({date:new Date(Nn).toDateString(),completed:!1})}return $t},z=async()=>{if(t)try{const de=await cs(t.uid);v(de)}catch(de){console.error("Error fetching habits: ",de)}},K=de=>{I(de),E(!0)},ne=async()=>{if(t&&_){const de=new Date(x.startDate);if(new Date(x.endDate)<=de){Cc();return}const ze={..._,...x,id:_.id};await Ub(t.uid,_.id,ze),await _l(t.uid),await Bu(t.uid);const at=await Vu(t.uid,"habit");await Uu(t.uid,"habit",at),z(),o(!1),i(!1),qd()}else console.error("User not authenticated or habit not selected")},ve=async()=>{if(t&&_){await $D(t.uid,_.id),await _l(t.uid),await Bu(t.uid);const de=await Vu(t.uid,"habit");await Uu(t.uid,"habit",de);const ke=await cs(t.uid);v(ke),ke.filter(ze=>ze.category===_.category).length===0&&await VD(t.uid,_.category),z(),o(!1),i(!1),ko()}else console.error("User not authenticated or habit not selected")},_e=de=>{if(O(de),P){const ke=`${de.year}-${String(de.month+1).padStart(2,"0")}-${String(de.day).padStart(2,"0")}`;k(Ue=>({...Ue,[P]:ke})),E(!1),I("")}},Re=de=>{const ke=new Date;return ke.setHours(0,0,0,0),de.status.filter(ze=>{const at=new Date(ze.date);return at.setHours(0,0,0,0),at<ke&&!ze.completed}).length*de.amount},Wr=de=>{y(de),C(Re(de)),i(!0)},Is=[...b.filter(de=>{const ke=new Date;ke.setHours(0,0,0,0);const Ue=new Date(de.endDate);return Ue.setHours(0,0,0,0),F==="in-progress"?Ue>=ke:F==="finished"?Ue<ke:!0})].sort((de,ke)=>new Date(ke.endDate)-new Date(de.endDate)),ua=((de,ke)=>[...de].sort((Ue,ze)=>{const at=ke.includes(Ue.id),$t=ke.includes(ze.id);if(at&&!$t)return-1;if(!at&&$t)return 1;if(!at&&!$t){const Lt={habit:1,savings:2,streak:3},Ct=Lt[Ue.condition.type]||4,Nn=Lt[ze.condition.type]||4;if(Ct!==Nn)return Ct-Nn;if(Ue.condition.count!==ze.condition.count)return(Ue.condition.count||0)-(ze.condition.count||0);if(Ue.condition.amount!==ze.condition.amount)return(Ue.condition.amount||0)-(ze.condition.amount||0);if(Ue.condition.percent!==ze.condition.percent)return(Ue.condition.percent||0)-(ze.condition.percent||0)}return 0}))(H,V),da=((de,ke)=>[...de].sort((Ue,ze)=>{const at=ke.includes(Ue.id),$t=ke.includes(ze.id);return at&&!$t?-1:!at&&$t?1:0}))(ee,Z),Os=de=>{const ke=Math.floor(de/100),Ue=de%100;return{level:ke,points:Ue}},{level:ha,points:zd}=Os(p.levelPoints);D.useEffect(()=>{const de=setInterval(()=>{je(ke=>ke===kl?XD:kl)},250);return()=>clearInterval(de)},[]);const Ic=de=>{Ul(de,{icon:m.jsx("img",{src:Yg,alt:"Habit Piggy Logo",style:{width:"40px",height:"40px"}}),style:{borderRadius:"16px",background:"#212121",color:"#fff"},duration:3e3})},Oc=de=>{Ul.error(de,{style:{borderRadius:"16px",background:"#212121",color:"#fff"},duration:3e3})},Wd=()=>Ic("你知道嗎？每個人都有兩顆腎臟"),qd=()=>Ic("人要時時刻刻做好準備！"),ko=()=>Ic("這段感情只有我在付出🥲"),Cc=()=>Oc("結束日期必須晚於開始日期喔！");return m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"p-4 md:py-10 space-y-4",children:[m.jsxs("ul",{className:"grid grid-cols-2 w-full",children:[m.jsx("li",{className:`border border-black-500 rounded-s-full py-1 font-normal text-sm leading-5 text-center ${f?"bg-primary":"bg-black-50"}`,onClick:()=>h(!0),children:"會員管理"}),m.jsx("li",{className:`border-e border-y border-black-500 rounded-e-full py-1 font-normal text-sm leading-5 text-center ${f?"bg-black-50":"bg-primary"}`,onClick:()=>h(!1),children:"歷史習慣"})]}),f?m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h2",{className:"font-bold text-xl leading-7 text-black dark:text-black-0",children:"會員管理"}),m.jsx(GD.TbSettings,{className:"w-8 h-8 cursor-pointer hover:text-alert text-black dark:text-black-0",onClick:J})]}):m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h2",{className:"font-bold text-xl leading-7 text-black dark:text-black-0",children:"歷史習慣"}),m.jsx("div",{className:"relative",children:m.jsx(Qa,{options:et,value:F,onChange:W})})]}),f?m.jsxs("div",{className:"space-y-14",children:[m.jsxs("div",{className:"p-4 bg-black-50 dark:bg-black-800 rounded-2xl",children:[m.jsx("div",{className:"flex justify-between items-start mb-2",children:m.jsxs("div",{className:"flex gap-3",children:[m.jsx("img",{src:p.avatar,alt:"user's avatar",className:"w-12 h-12 rounded-full outline outline-primary-dark dark:outline-primary"}),m.jsxs("div",{className:"flex flex-col",children:[m.jsx("h3",{className:"font-bold text-base leading-6 text-black dark:text-black-0",children:p.name}),m.jsxs("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:["Lv.",ha]})]})]})}),m.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0 mb-4",children:p.introduction}),m.jsxs("div",{className:"w-full h-6 bg-light dark:bg-black-950 text-center rounded-2xl text-black dark:text-black-0 relative",children:[m.jsx("div",{className:"bg-primary-dark h-full rounded-2xl relative",style:{width:`${zd}%`},children:m.jsx("img",{src:Ee,alt:"habit piggy",className:"w-14 h-14 absolute top-2/3 transform -translate-y-2/3 z-20",style:{right:"-20px"}})}),m.jsxs("span",{className:"absolute inset-0 flex items-center justify-center",children:[zd,"%"]})]})]}),m.jsx(C4,{sortedAchievements:ua,userAchievements:V,handleAchievementModal:Ge}),m.jsx(N4,{sortedBadges:da,userBadges:Z,handleBadgeModal:Xe})]}):m.jsx(O1,{habits:Is,habitCategories:Fe,handleDetailClick:Wr})]}),m.jsx(Un,{isOpen:e,onClose:J,children:m.jsx(T1,{profileData:p,handleChange:U,handleSaveAndClose:M,handleSettingModal:J})}),m.jsx(Un,{isOpen:n,onClose:Ve,children:m.jsx(P1,{selectedHabit:_,handleDetailModal:Ve,uncompletedFine:T,handleEditModal:Pe,habitCategories:Fe})}),m.jsx(Un,{isOpen:a,onClose:Pe,children:m.jsx(I1,{habitData:x,handleHabitChange:B,handleUpdateHabit:ne,handleFocus:K,showMonthCalendar:S,calendarTarget:P,calendarRef:R,handleEditModal:Pe,handleDeleteHabit:ve,habitCategories:Fe,setHabitData:k,monthCalendarDate:N,handleMonthCalendarSelectDate:_e,setCalendarTarget:I,setShowMonthCalendar:E})}),m.jsx(Un,{isOpen:s,onClose:Ge,children:m.jsx(R4,{handleAchievementModal:Ge,userAchievements:V,sortedAchievements:ua})}),m.jsx(Un,{isOpen:c,onClose:Xe,children:m.jsx(j4,{handleBadgeModal:Xe,badges:ee,userBadges:Z,sortedBadges:da})})]})}function kbe(){return m.jsx("div",{children:m.jsx("h1",{children:"Error"})})}function D4({children:t,isModalOpen:e,modalContent:r}){const n=ys(),i=h_(),{setUser:a,isDarkMode:o}=D.useContext(Qn),[s,l]=D.useState(!1),c=async()=>{await cq(),a(null),i("/")},u=()=>{l(!s)},f=()=>{window.innerWidth>=1536?l(!0):l(!1)},h=()=>{window.innerWidth<1536&&s&&l(!s)};return D.useEffect(()=>(f(),window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)),[]),m.jsxs("div",{className:`font-huninn bg-light dark:bg-black-950 relative min-h-screen ${o?"dark":""}`,children:[n.pathname!=="/"?m.jsxs("nav",{className:`pt-2 pb-3 px-4 bg-black-50 dark:bg-black-800 fixed inset-x-0 bottom-0 flex gap-x-4 z-50 border-t border-primary md:p-4 md:flex-col md:justify-between md:border-t-0 md:border-r md:h-full transition-all duration-200 ease-in-out ${s?"md:w-[240px]":"md:w-20"}`,children:[m.jsxs("div",{className:`hidden md:flex md:items-center ${s?"md:justify-between":"md:justify-center"}`,children:[m.jsx("p",{className:`text-black dark:text-black-0 font-lobster font-normal text-2xl leading-8 ml-6 hidden text-nowrap ${s?"md:block":""}`,children:"Habit Piggy"}),m.jsx(kA.TbLayoutSidebarRight,{className:"w-6 h-6 md:w-8 md:h-8 text-black dark:text-black-0 hover:text-alert cursor-pointer",onClick:u})]}),m.jsxs("ul",{className:"grid grid-cols-5 items-center w-full md:grid-cols-1 md:gap-4 transition-all duration-200 ease-in-out",children:[m.jsx(Ms,{to:"/home",className:"block",onClick:h,children:m.jsxs("li",{className:`md:py-1 md:px-2 flex flex-col items-center gap-1 ${s?"md:rounded-full md:flex-row hover:md:bg-primary-light":""} ${n.pathname==="/home"&&s?"md:bg-primary":""}`,children:[m.jsx("div",{className:`flex justify-center items-center py-1 px-4 rounded-xl md:px-2 md:aspect-square ${s?"md:bg-transparent dark:bg-transparent":""} ${n.pathname==="/home"?"bg-light dark:bg-black-950":"hover:bg-primary-light"} ${n.pathname==="/home"&&s?"md:bg-transparent hover:bg-primary-light hover:md:bg-transparent":""}`,children:m.jsx(eu.TbHome2,{className:`w-6 h-6 md:w-8 md:h-8 ${s?"md:text-black dark:text-black-0":""} ${n.pathname==="/home"?"text-primary-dark":"text-black dark:text-black-0"} ${n.pathname==="/home"&&s?"":"md:text-black"} ${n.pathname==="/home"&&!s?"md:text-primary-dark":""}`})}),m.jsx("p",{className:"text-black dark:text-black-0 font-normal text-xs leading-4 text-nowrap md:text-base md:leading-6",children:"主頁"})]})}),m.jsx(Ms,{to:"/savings",className:"block",onClick:h,children:m.jsxs("li",{className:`md:py-1 md:px-2 flex flex-col items-center gap-1 ${s?"md:rounded-full md:flex-row hover:md:bg-primary-light":""} ${n.pathname==="/savings"&&s?"md:bg-primary":""}`,children:[m.jsx("div",{className:`flex justify-center items-center py-1 px-4 rounded-xl md:px-2 md:aspect-square ${s?"md:bg-transparent dark:bg-transparent":""} ${n.pathname==="/savings"?"bg-light dark:bg-black-950":"hover:bg-primary-light"} ${n.pathname==="/savings"&&s?"md:bg-transparent hover:bg-primary-light hover:md:bg-transparent":""}`,children:m.jsx(eu.TbCoin,{className:`w-6 h-6 md:w-8 md:h-8 ${s?"md:text-black dark:text-black-0":""} ${n.pathname==="/savings"?"text-primary-dark":"text-black dark:text-black-0"} ${n.pathname==="/savings"&&s?"":"md:text-black"} ${n.pathname==="/savings"&&!s?"md:text-primary-dark":""}`})}),m.jsx("p",{className:"text-black dark:text-black-0 font-normal text-xs leading-4 text-nowrap md:text-base md:leading-6",children:"存款"})]})}),m.jsx(Ms,{to:"/rank",className:"block",onClick:h,children:m.jsxs("li",{className:`md:py-1 md:px-2 flex flex-col items-center gap-1 ${s?"md:rounded-full md:flex-row hover:md:bg-primary-light":""} ${n.pathname==="/rank"&&s?"md:bg-primary":""}`,children:[m.jsx("div",{className:`flex justify-center items-center py-1 px-4 rounded-xl md:px-2 md:aspect-square ${s?"md:bg-transparent dark:bg-transparent":""} ${n.pathname==="/rank"?"bg-light dark:bg-black-950":"hover:bg-primary-light"} ${n.pathname==="/rank"&&s?"md:bg-transparent hover:bg-primary-light hover:md:bg-transparent":""}`,children:m.jsx(eu.TbMedal2,{className:`w-6 h-6 md:w-8 md:h-8 ${s?"md:text-black dark:text-black-0":""} ${n.pathname==="/rank"?"text-primary-dark":"text-black dark:text-black-0"} ${n.pathname==="/rank"&&s?"":"md:text-black"} ${n.pathname==="/rank"&&!s?"md:text-primary-dark":""}`})}),m.jsx("p",{className:"text-black dark:text-black-0 font-normal text-xs leading-4 text-nowrap md:text-base md:leading-6",children:"排行"})]})}),m.jsx(Ms,{to:"/posts",className:"block",onClick:h,children:m.jsxs("li",{className:`md:py-1 md:px-2 flex flex-col items-center gap-1 ${s?"md:rounded-full md:flex-row hover:md:bg-primary-light":""} ${n.pathname==="/posts"&&s?"md:bg-primary":""}`,children:[m.jsx("div",{className:`flex justify-center items-center py-1 px-4 rounded-xl md:px-2 md:aspect-square ${s?"md:bg-transparent dark:bg-transparent":""} ${n.pathname==="/posts"?"bg-light dark:bg-black-950":"hover:bg-primary-light"} ${n.pathname==="/posts"&&s?"md:bg-transparent hover:bg-primary-light hover:md:bg-transparent":""}`,children:m.jsx(eu.TbMessage,{className:`w-6 h-6 md:w-8 md:h-8 ${s?"md:text-black dark:text-black-0":""} ${n.pathname==="/posts"?"text-primary-dark":"text-black dark:text-black-0"} ${n.pathname==="/posts"&&s?"":"md:text-black"} ${n.pathname==="/posts"&&!s?"md:text-primary-dark":""}`})}),m.jsx("p",{className:"text-black dark:text-black-0 font-normal text-xs leading-4 text-nowrap md:text-base md:leading-6",children:"貼文"})]})}),m.jsx(Ms,{to:"/member",className:"block",onClick:h,children:m.jsxs("li",{className:`md:py-1 md:px-2 flex flex-col items-center gap-1 ${s?"md:rounded-full md:flex-row hover:md:bg-primary-light":""} ${n.pathname==="/member"&&s?"md:bg-primary":""}`,children:[m.jsx("div",{className:`flex justify-center items-center py-1 px-4 rounded-xl md:px-2 md:aspect-square ${s?"md:bg-transparent dark:bg-transparent":""} ${n.pathname==="/member"?"bg-light dark:bg-black-950":"hover:bg-primary-light"} ${n.pathname==="/member"&&s?"md:bg-transparent hover:bg-primary-light hover:md:bg-transparent":""}`,children:m.jsx(eu.TbMoodSmile,{className:`w-6 h-6 md:w-8 md:h-8 ${s?"md:text-black dark:text-black-0":""} ${n.pathname==="/member"?"text-primary-dark":"text-black dark:text-black-0"} ${n.pathname==="/member"&&s?"":"md:text-black"} ${n.pathname==="/member"&&!s?"md:text-primary-dark":""}`})}),m.jsx("p",{className:"text-black dark:text-black-0 font-normal text-xs leading-4 text-nowrap md:text-base md:leading-6",children:"會員"})]})})]}),m.jsx(Ms,{to:"/",className:`hidden md:block ${n.pathname==="/"?"invisible":""}`,onClick:()=>{c(),h()},children:m.jsxs("div",{className:`md:py-1 md:px-2 flex flex-col items-center gap-1 ${s?"md:rounded-full md:flex-row hover:md:bg-primary-light":""}`,children:[m.jsx("div",{className:`flex justify-center items-center py-1 px-4 rounded-xl md:px-2 md:aspect-square ${s?"md:bg-transparent dark:bg-transparent":"hover:bg-primary-light"}`,children:m.jsx(kA.TbLogout,{className:`w-6 h-6 md:w-8 md:h-8 dark:text-black-0 ${s?"md:text-black":""}`})}),m.jsx("p",{className:`text-black dark:text-black-0 ${s?"text-base leading-6 text-nowrap":"hidden"}`,children:"登出"})]})})]}):null,m.jsx("div",{className:`md:max-w-screen-md xl:max-w-[1160px] my-0 mx-auto flex flex-col md:flex-row min-h-screen relative ${s&&window.innerWidth<1536?"blur-sm":""}`,children:m.jsx("div",{className:"mt-0 mb-[86px] md:mb-0 w-full p-0 relative",children:t})}),e&&m.jsx(Un,{isOpen:e,children:r}),m.jsx(sK,{})]})}D4.propTypes={children:G.node,isModalOpen:G.bool.isRequired,modalContent:G.node};const Ks=({children:t})=>{const{user:e}=D.useContext(Qn);return e?t:m.jsx(qN,{to:"/"})};Ks.propTypes={children:G.node.isRequired};function Ebe(){return m.jsx(WD,{children:m.jsx(AF,{children:m.jsx(D4,{children:m.jsxs(xF,{children:[m.jsx(ba,{path:"/",element:m.jsx(yH,{})}),m.jsx(ba,{path:"/home",element:m.jsx(Ks,{children:m.jsx(lK,{})})}),m.jsx(ba,{path:"/savings",element:m.jsx(Ks,{children:m.jsx(bbe,{})})}),m.jsx(ba,{path:"/rank",element:m.jsx(Ks,{children:m.jsx(xbe,{})})}),m.jsx(ba,{path:"/posts",element:m.jsx(Ks,{children:m.jsx(wbe,{})})}),m.jsx(ba,{path:"/member",element:m.jsx(Ks,{children:m.jsx(_be,{})})}),m.jsx(ba,{path:"*",element:m.jsx(kbe,{})})]})})})})}DN(document.getElementById("root")).render(m.jsx(D.StrictMode,{children:m.jsx(Ebe,{})}));
