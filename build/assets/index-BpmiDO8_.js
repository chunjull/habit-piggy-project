function sL(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var eh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ze(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var zO={exports:{}},zp={},WO={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cf=Symbol.for("react.element"),lL=Symbol.for("react.portal"),uL=Symbol.for("react.fragment"),cL=Symbol.for("react.strict_mode"),fL=Symbol.for("react.profiler"),hL=Symbol.for("react.provider"),dL=Symbol.for("react.context"),pL=Symbol.for("react.forward_ref"),mL=Symbol.for("react.suspense"),gL=Symbol.for("react.memo"),yL=Symbol.for("react.lazy"),iE=Symbol.iterator;function vL(t){return t===null||typeof t!="object"?null:(t=iE&&t[iE]||t["@@iterator"],typeof t=="function"?t:null)}var qO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},HO=Object.assign,KO={};function sl(t,e,n){this.props=t,this.context=e,this.refs=KO,this.updater=n||qO}sl.prototype.isReactComponent={};sl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};sl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function GO(){}GO.prototype=sl.prototype;function q_(t,e,n){this.props=t,this.context=e,this.refs=KO,this.updater=n||qO}var H_=q_.prototype=new GO;H_.constructor=q_;HO(H_,sl.prototype);H_.isPureReactComponent=!0;var oE=Array.isArray,XO=Object.prototype.hasOwnProperty,K_={current:null},YO={key:!0,ref:!0,__self:!0,__source:!0};function QO(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)XO.call(e,r)&&!YO.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:cf,type:t,key:o,ref:a,props:i,_owner:K_.current}}function _L(t,e){return{$$typeof:cf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function G_(t){return typeof t=="object"&&t!==null&&t.$$typeof===cf}function wL(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var aE=/\/+/g;function $g(t,e){return typeof t=="object"&&t!==null&&t.key!=null?wL(""+t.key):e.toString(36)}function Fh(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case cf:case lL:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+$g(a,0):r,oE(i)?(n="",t!=null&&(n=t.replace(aE,"$&/")+"/"),Fh(i,e,n,"",function(u){return u})):i!=null&&(G_(i)&&(i=_L(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(aE,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",oE(t))for(var s=0;s<t.length;s++){o=t[s];var l=r+$g(o,s);a+=Fh(o,e,n,l,i)}else if(l=vL(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=r+$g(o,s++),a+=Fh(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function th(t,e,n){if(t==null)return t;var r=[],i=0;return Fh(t,r,"","",function(o){return e.call(n,o,i++)}),r}function bL(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var En={current:null},Uh={transition:null},xL={ReactCurrentDispatcher:En,ReactCurrentBatchConfig:Uh,ReactCurrentOwner:K_};function JO(){throw Error("act(...) is not supported in production builds of React.")}Ae.Children={map:th,forEach:function(t,e,n){th(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return th(t,function(){e++}),e},toArray:function(t){return th(t,function(e){return e})||[]},only:function(t){if(!G_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ae.Component=sl;Ae.Fragment=uL;Ae.Profiler=fL;Ae.PureComponent=q_;Ae.StrictMode=cL;Ae.Suspense=mL;Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xL;Ae.act=JO;Ae.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=HO({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=K_.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)XO.call(e,l)&&!YO.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:cf,type:t.type,key:i,ref:o,props:r,_owner:a}};Ae.createContext=function(t){return t={$$typeof:dL,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:hL,_context:t},t.Consumer=t};Ae.createElement=QO;Ae.createFactory=function(t){var e=QO.bind(null,t);return e.type=t,e};Ae.createRef=function(){return{current:null}};Ae.forwardRef=function(t){return{$$typeof:pL,render:t}};Ae.isValidElement=G_;Ae.lazy=function(t){return{$$typeof:yL,_payload:{_status:-1,_result:t},_init:bL}};Ae.memo=function(t,e){return{$$typeof:gL,type:t,compare:e===void 0?null:e}};Ae.startTransition=function(t){var e=Uh.transition;Uh.transition={};try{t()}finally{Uh.transition=e}};Ae.unstable_act=JO;Ae.useCallback=function(t,e){return En.current.useCallback(t,e)};Ae.useContext=function(t){return En.current.useContext(t)};Ae.useDebugValue=function(){};Ae.useDeferredValue=function(t){return En.current.useDeferredValue(t)};Ae.useEffect=function(t,e){return En.current.useEffect(t,e)};Ae.useId=function(){return En.current.useId()};Ae.useImperativeHandle=function(t,e,n){return En.current.useImperativeHandle(t,e,n)};Ae.useInsertionEffect=function(t,e){return En.current.useInsertionEffect(t,e)};Ae.useLayoutEffect=function(t,e){return En.current.useLayoutEffect(t,e)};Ae.useMemo=function(t,e){return En.current.useMemo(t,e)};Ae.useReducer=function(t,e,n){return En.current.useReducer(t,e,n)};Ae.useRef=function(t){return En.current.useRef(t)};Ae.useState=function(t){return En.current.useState(t)};Ae.useSyncExternalStore=function(t,e,n){return En.current.useSyncExternalStore(t,e,n)};Ae.useTransition=function(){return En.current.useTransition()};Ae.version="18.3.1";WO.exports=Ae;var j=WO.exports;const M=ze(j),EL=sL({__proto__:null,default:M},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SL=j,TL=Symbol.for("react.element"),AL=Symbol.for("react.fragment"),PL=Object.prototype.hasOwnProperty,IL=SL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,OL={key:!0,ref:!0,__self:!0,__source:!0};function ZO(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)PL.call(e,r)&&!OL.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:TL,type:t,key:o,ref:a,props:i,_owner:IL.current}}zp.Fragment=AL;zp.jsx=ZO;zp.jsxs=ZO;zO.exports=zp;var P=zO.exports,eC={exports:{}},qn={},tC={exports:{}},nC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,W){var Y=$.length;$.push(W);e:for(;0<Y;){var ne=Y-1>>>1,Z=$[ne];if(0<i(Z,W))$[ne]=W,$[Y]=Z,Y=ne;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var W=$[0],Y=$.pop();if(Y!==W){$[0]=Y;e:for(var ne=0,Z=$.length,se=Z>>>1;ne<se;){var Ce=2*(ne+1)-1,Ve=$[Ce],mt=Ce+1,Le=$[mt];if(0>i(Ve,Y))mt<Z&&0>i(Le,Ve)?($[ne]=Le,$[mt]=Y,ne=mt):($[ne]=Ve,$[Ce]=Y,ne=Ce);else if(mt<Z&&0>i(Le,Y))$[ne]=Le,$[mt]=Y,ne=mt;else break e}}return W}function i($,W){var Y=$.sortIndex-W.sortIndex;return Y!==0?Y:$.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,f=null,d=3,p=!1,g=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _($){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=$)r(u),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(u)}}function x($){if(y=!1,_($),!g)if(n(l)!==null)g=!0,B(T);else{var W=n(u);W!==null&&z(x,W.startTime-$)}}function T($,W){g=!1,y&&(y=!1,b(E),E=-1),p=!0;var Y=d;try{for(_(W),f=n(l);f!==null&&(!(f.expirationTime>W)||$&&!R());){var ne=f.callback;if(typeof ne=="function"){f.callback=null,d=f.priorityLevel;var Z=ne(f.expirationTime<=W);W=t.unstable_now(),typeof Z=="function"?f.callback=Z:f===n(l)&&r(l),_(W)}else r(l);f=n(l)}if(f!==null)var se=!0;else{var Ce=n(u);Ce!==null&&z(x,Ce.startTime-W),se=!1}return se}finally{f=null,d=Y,p=!1}}var O=!1,S=null,E=-1,I=5,C=-1;function R(){return!(t.unstable_now()-C<I)}function N(){if(S!==null){var $=t.unstable_now();C=$;var W=!0;try{W=S(!0,$)}finally{W?k():(O=!1,S=null)}}else O=!1}var k;if(typeof m=="function")k=function(){m(N)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,K=V.port2;V.port1.onmessage=N,k=function(){K.postMessage(null)}}else k=function(){v(N,0)};function B($){S=$,O||(O=!0,k())}function z($,W){E=v(function(){$(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,B(T))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(d){case 1:case 2:case 3:var W=3;break;default:W=d}var Y=d;d=W;try{return $()}finally{d=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,W){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var Y=d;d=$;try{return W()}finally{d=Y}},t.unstable_scheduleCallback=function($,W,Y){var ne=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ne+Y:ne):Y=ne,$){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=Y+Z,$={id:c++,callback:W,priorityLevel:$,startTime:Y,expirationTime:Z,sortIndex:-1},Y>ne?($.sortIndex=Y,e(u,$),n(l)===null&&$===n(u)&&(y?(b(E),E=-1):y=!0,z(x,Y-ne))):($.sortIndex=Z,e(l,$),g||p||(g=!0,B(T))),$},t.unstable_shouldYield=R,t.unstable_wrapCallback=function($){var W=d;return function(){var Y=d;d=W;try{return $.apply(this,arguments)}finally{d=Y}}}})(nC);tC.exports=nC;var CL=tC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kL=j,Wn=CL;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rC=new Set,Ku={};function Ia(t,e){Os(t,e),Os(t+"Capture",e)}function Os(t,e){for(Ku[t]=e,t=0;t<e.length;t++)rC.add(e[t])}var gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zy=Object.prototype.hasOwnProperty,RL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sE={},lE={};function NL(t){return Zy.call(lE,t)?!0:Zy.call(sE,t)?!1:RL.test(t)?lE[t]=!0:(sE[t]=!0,!1)}function DL(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function jL(t,e,n,r){if(e===null||typeof e>"u"||DL(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Sn(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Kt[t]=new Sn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Kt[e]=new Sn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Kt[t]=new Sn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Kt[t]=new Sn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Kt[t]=new Sn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Kt[t]=new Sn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Kt[t]=new Sn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Kt[t]=new Sn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Kt[t]=new Sn(t,5,!1,t.toLowerCase(),null,!1,!1)});var X_=/[\-:]([a-z])/g;function Y_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(X_,Y_);Kt[e]=new Sn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(X_,Y_);Kt[e]=new Sn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(X_,Y_);Kt[e]=new Sn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Kt[t]=new Sn(t,1,!1,t.toLowerCase(),null,!1,!1)});Kt.xlinkHref=new Sn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Kt[t]=new Sn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Q_(t,e,n,r){var i=Kt.hasOwnProperty(e)?Kt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(jL(e,n,i,r)&&(n=null),r||i===null?NL(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ii=kL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,nh=Symbol.for("react.element"),Za=Symbol.for("react.portal"),es=Symbol.for("react.fragment"),J_=Symbol.for("react.strict_mode"),ev=Symbol.for("react.profiler"),iC=Symbol.for("react.provider"),oC=Symbol.for("react.context"),Z_=Symbol.for("react.forward_ref"),tv=Symbol.for("react.suspense"),nv=Symbol.for("react.suspense_list"),ew=Symbol.for("react.memo"),Fi=Symbol.for("react.lazy"),aC=Symbol.for("react.offscreen"),uE=Symbol.iterator;function ql(t){return t===null||typeof t!="object"?null:(t=uE&&t[uE]||t["@@iterator"],typeof t=="function"?t:null)}var ht=Object.assign,Lg;function du(t){if(Lg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Lg=e&&e[1]||""}return`
`+Lg+t}var Vg=!1;function Fg(t,e){if(!t||Vg)return"";Vg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{Vg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?du(t):""}function ML(t){switch(t.tag){case 5:return du(t.type);case 16:return du("Lazy");case 13:return du("Suspense");case 19:return du("SuspenseList");case 0:case 2:case 15:return t=Fg(t.type,!1),t;case 11:return t=Fg(t.type.render,!1),t;case 1:return t=Fg(t.type,!0),t;default:return""}}function rv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case es:return"Fragment";case Za:return"Portal";case ev:return"Profiler";case J_:return"StrictMode";case tv:return"Suspense";case nv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case oC:return(t.displayName||"Context")+".Consumer";case iC:return(t._context.displayName||"Context")+".Provider";case Z_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ew:return e=t.displayName||null,e!==null?e:rv(t.type)||"Memo";case Fi:e=t._payload,t=t._init;try{return rv(t(e))}catch{}}return null}function $L(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rv(e);case 8:return e===J_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function vo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function sC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function LL(t){var e=sC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function rh(t){t._valueTracker||(t._valueTracker=LL(t))}function lC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=sC(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ld(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function iv(t,e){var n=e.checked;return ht({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function cE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=vo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function uC(t,e){e=e.checked,e!=null&&Q_(t,"checked",e,!1)}function ov(t,e){uC(t,e);var n=vo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?av(t,e.type,n):e.hasOwnProperty("defaultValue")&&av(t,e.type,vo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function fE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function av(t,e,n){(e!=="number"||ld(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var pu=Array.isArray;function gs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+vo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function sv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return ht({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function hE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(J(92));if(pu(n)){if(1<n.length)throw Error(J(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:vo(n)}}function cC(t,e){var n=vo(e.value),r=vo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function dE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function fC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?fC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ih,hC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ih=ih||document.createElement("div"),ih.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ih.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Gu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Tu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},VL=["Webkit","ms","Moz","O"];Object.keys(Tu).forEach(function(t){VL.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Tu[e]=Tu[t]})});function dC(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Tu.hasOwnProperty(t)&&Tu[t]?(""+e).trim():e+"px"}function pC(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=dC(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var FL=ht({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function uv(t,e){if(e){if(FL[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function cv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fv=null;function tw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hv=null,ys=null,vs=null;function pE(t){if(t=df(t)){if(typeof hv!="function")throw Error(J(280));var e=t.stateNode;e&&(e=Gp(e),hv(t.stateNode,t.type,e))}}function mC(t){ys?vs?vs.push(t):vs=[t]:ys=t}function gC(){if(ys){var t=ys,e=vs;if(vs=ys=null,pE(t),e)for(t=0;t<e.length;t++)pE(e[t])}}function yC(t,e){return t(e)}function vC(){}var Ug=!1;function _C(t,e,n){if(Ug)return t(e,n);Ug=!0;try{return yC(t,e,n)}finally{Ug=!1,(ys!==null||vs!==null)&&(vC(),gC())}}function Xu(t,e){var n=t.stateNode;if(n===null)return null;var r=Gp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(J(231,e,typeof n));return n}var dv=!1;if(gi)try{var Hl={};Object.defineProperty(Hl,"passive",{get:function(){dv=!0}}),window.addEventListener("test",Hl,Hl),window.removeEventListener("test",Hl,Hl)}catch{dv=!1}function UL(t,e,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Au=!1,ud=null,cd=!1,pv=null,BL={onError:function(t){Au=!0,ud=t}};function zL(t,e,n,r,i,o,a,s,l){Au=!1,ud=null,UL.apply(BL,arguments)}function WL(t,e,n,r,i,o,a,s,l){if(zL.apply(this,arguments),Au){if(Au){var u=ud;Au=!1,ud=null}else throw Error(J(198));cd||(cd=!0,pv=u)}}function Oa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function wC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function mE(t){if(Oa(t)!==t)throw Error(J(188))}function qL(t){var e=t.alternate;if(!e){if(e=Oa(t),e===null)throw Error(J(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return mE(i),t;if(o===r)return mE(i),e;o=o.sibling}throw Error(J(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?t:e}function bC(t){return t=qL(t),t!==null?xC(t):null}function xC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=xC(t);if(e!==null)return e;t=t.sibling}return null}var EC=Wn.unstable_scheduleCallback,gE=Wn.unstable_cancelCallback,HL=Wn.unstable_shouldYield,KL=Wn.unstable_requestPaint,bt=Wn.unstable_now,GL=Wn.unstable_getCurrentPriorityLevel,nw=Wn.unstable_ImmediatePriority,SC=Wn.unstable_UserBlockingPriority,fd=Wn.unstable_NormalPriority,XL=Wn.unstable_LowPriority,TC=Wn.unstable_IdlePriority,Wp=null,$r=null;function YL(t){if($r&&typeof $r.onCommitFiberRoot=="function")try{$r.onCommitFiberRoot(Wp,t,void 0,(t.current.flags&128)===128)}catch{}}var _r=Math.clz32?Math.clz32:ZL,QL=Math.log,JL=Math.LN2;function ZL(t){return t>>>=0,t===0?32:31-(QL(t)/JL|0)|0}var oh=64,ah=4194304;function mu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function hd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=mu(s):(o&=a,o!==0&&(r=mu(o)))}else a=n&~i,a!==0?r=mu(a):o!==0&&(r=mu(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-_r(e),i=1<<n,r|=t[n],e&=~i;return r}function eV(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tV(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-_r(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=eV(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function mv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function AC(){var t=oh;return oh<<=1,!(oh&4194240)&&(oh=64),t}function Bg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ff(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-_r(e),t[e]=n}function nV(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-_r(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function rw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-_r(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Be=0;function PC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var IC,iw,OC,CC,kC,gv=!1,sh=[],ro=null,io=null,oo=null,Yu=new Map,Qu=new Map,Wi=[],rV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yE(t,e){switch(t){case"focusin":case"focusout":ro=null;break;case"dragenter":case"dragleave":io=null;break;case"mouseover":case"mouseout":oo=null;break;case"pointerover":case"pointerout":Yu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qu.delete(e.pointerId)}}function Kl(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=df(e),e!==null&&iw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function iV(t,e,n,r,i){switch(e){case"focusin":return ro=Kl(ro,t,e,n,r,i),!0;case"dragenter":return io=Kl(io,t,e,n,r,i),!0;case"mouseover":return oo=Kl(oo,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Yu.set(o,Kl(Yu.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Qu.set(o,Kl(Qu.get(o)||null,t,e,n,r,i)),!0}return!1}function RC(t){var e=Qo(t.target);if(e!==null){var n=Oa(e);if(n!==null){if(e=n.tag,e===13){if(e=wC(n),e!==null){t.blockedOn=e,kC(t.priority,function(){OC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=yv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);fv=r,n.target.dispatchEvent(r),fv=null}else return e=df(n),e!==null&&iw(e),t.blockedOn=n,!1;e.shift()}return!0}function vE(t,e,n){Bh(t)&&n.delete(e)}function oV(){gv=!1,ro!==null&&Bh(ro)&&(ro=null),io!==null&&Bh(io)&&(io=null),oo!==null&&Bh(oo)&&(oo=null),Yu.forEach(vE),Qu.forEach(vE)}function Gl(t,e){t.blockedOn===e&&(t.blockedOn=null,gv||(gv=!0,Wn.unstable_scheduleCallback(Wn.unstable_NormalPriority,oV)))}function Ju(t){function e(i){return Gl(i,t)}if(0<sh.length){Gl(sh[0],t);for(var n=1;n<sh.length;n++){var r=sh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ro!==null&&Gl(ro,t),io!==null&&Gl(io,t),oo!==null&&Gl(oo,t),Yu.forEach(e),Qu.forEach(e),n=0;n<Wi.length;n++)r=Wi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Wi.length&&(n=Wi[0],n.blockedOn===null);)RC(n),n.blockedOn===null&&Wi.shift()}var _s=Ii.ReactCurrentBatchConfig,dd=!0;function aV(t,e,n,r){var i=Be,o=_s.transition;_s.transition=null;try{Be=1,ow(t,e,n,r)}finally{Be=i,_s.transition=o}}function sV(t,e,n,r){var i=Be,o=_s.transition;_s.transition=null;try{Be=4,ow(t,e,n,r)}finally{Be=i,_s.transition=o}}function ow(t,e,n,r){if(dd){var i=yv(t,e,n,r);if(i===null)Jg(t,e,r,pd,n),yE(t,r);else if(iV(i,t,e,n,r))r.stopPropagation();else if(yE(t,r),e&4&&-1<rV.indexOf(t)){for(;i!==null;){var o=df(i);if(o!==null&&IC(o),o=yv(t,e,n,r),o===null&&Jg(t,e,r,pd,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Jg(t,e,r,null,n)}}var pd=null;function yv(t,e,n,r){if(pd=null,t=tw(r),t=Qo(t),t!==null)if(e=Oa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=wC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return pd=t,null}function NC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(GL()){case nw:return 1;case SC:return 4;case fd:case XL:return 16;case TC:return 536870912;default:return 16}default:return 16}}var Ji=null,aw=null,zh=null;function DC(){if(zh)return zh;var t,e=aw,n=e.length,r,i="value"in Ji?Ji.value:Ji.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return zh=i.slice(t,1<r?1-r:void 0)}function Wh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function lh(){return!0}function _E(){return!1}function Hn(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?lh:_E,this.isPropagationStopped=_E,this}return ht(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=lh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=lh)},persist:function(){},isPersistent:lh}),e}var ll={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sw=Hn(ll),hf=ht({},ll,{view:0,detail:0}),lV=Hn(hf),zg,Wg,Xl,qp=ht({},hf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xl&&(Xl&&t.type==="mousemove"?(zg=t.screenX-Xl.screenX,Wg=t.screenY-Xl.screenY):Wg=zg=0,Xl=t),zg)},movementY:function(t){return"movementY"in t?t.movementY:Wg}}),wE=Hn(qp),uV=ht({},qp,{dataTransfer:0}),cV=Hn(uV),fV=ht({},hf,{relatedTarget:0}),qg=Hn(fV),hV=ht({},ll,{animationName:0,elapsedTime:0,pseudoElement:0}),dV=Hn(hV),pV=ht({},ll,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),mV=Hn(pV),gV=ht({},ll,{data:0}),bE=Hn(gV),yV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vV={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_V={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wV(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=_V[t])?!!e[t]:!1}function lw(){return wV}var bV=ht({},hf,{key:function(t){if(t.key){var e=yV[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Wh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vV[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lw,charCode:function(t){return t.type==="keypress"?Wh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xV=Hn(bV),EV=ht({},qp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xE=Hn(EV),SV=ht({},hf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lw}),TV=Hn(SV),AV=ht({},ll,{propertyName:0,elapsedTime:0,pseudoElement:0}),PV=Hn(AV),IV=ht({},qp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),OV=Hn(IV),CV=[9,13,27,32],uw=gi&&"CompositionEvent"in window,Pu=null;gi&&"documentMode"in document&&(Pu=document.documentMode);var kV=gi&&"TextEvent"in window&&!Pu,jC=gi&&(!uw||Pu&&8<Pu&&11>=Pu),EE=" ",SE=!1;function MC(t,e){switch(t){case"keyup":return CV.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $C(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ts=!1;function RV(t,e){switch(t){case"compositionend":return $C(e);case"keypress":return e.which!==32?null:(SE=!0,EE);case"textInput":return t=e.data,t===EE&&SE?null:t;default:return null}}function NV(t,e){if(ts)return t==="compositionend"||!uw&&MC(t,e)?(t=DC(),zh=aw=Ji=null,ts=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return jC&&e.locale!=="ko"?null:e.data;default:return null}}var DV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function TE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!DV[t.type]:e==="textarea"}function LC(t,e,n,r){mC(r),e=md(e,"onChange"),0<e.length&&(n=new sw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Iu=null,Zu=null;function jV(t){XC(t,0)}function Hp(t){var e=is(t);if(lC(e))return t}function MV(t,e){if(t==="change")return e}var VC=!1;if(gi){var Hg;if(gi){var Kg="oninput"in document;if(!Kg){var AE=document.createElement("div");AE.setAttribute("oninput","return;"),Kg=typeof AE.oninput=="function"}Hg=Kg}else Hg=!1;VC=Hg&&(!document.documentMode||9<document.documentMode)}function PE(){Iu&&(Iu.detachEvent("onpropertychange",FC),Zu=Iu=null)}function FC(t){if(t.propertyName==="value"&&Hp(Zu)){var e=[];LC(e,Zu,t,tw(t)),_C(jV,e)}}function $V(t,e,n){t==="focusin"?(PE(),Iu=e,Zu=n,Iu.attachEvent("onpropertychange",FC)):t==="focusout"&&PE()}function LV(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hp(Zu)}function VV(t,e){if(t==="click")return Hp(e)}function FV(t,e){if(t==="input"||t==="change")return Hp(e)}function UV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var xr=typeof Object.is=="function"?Object.is:UV;function ec(t,e){if(xr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Zy.call(e,i)||!xr(t[i],e[i]))return!1}return!0}function IE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function OE(t,e){var n=IE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=IE(n)}}function UC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?UC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function BC(){for(var t=window,e=ld();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ld(t.document)}return e}function cw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function BV(t){var e=BC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&UC(n.ownerDocument.documentElement,n)){if(r!==null&&cw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=OE(n,o);var a=OE(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var zV=gi&&"documentMode"in document&&11>=document.documentMode,ns=null,vv=null,Ou=null,_v=!1;function CE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_v||ns==null||ns!==ld(r)||(r=ns,"selectionStart"in r&&cw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ou&&ec(Ou,r)||(Ou=r,r=md(vv,"onSelect"),0<r.length&&(e=new sw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ns)))}function uh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var rs={animationend:uh("Animation","AnimationEnd"),animationiteration:uh("Animation","AnimationIteration"),animationstart:uh("Animation","AnimationStart"),transitionend:uh("Transition","TransitionEnd")},Gg={},zC={};gi&&(zC=document.createElement("div").style,"AnimationEvent"in window||(delete rs.animationend.animation,delete rs.animationiteration.animation,delete rs.animationstart.animation),"TransitionEvent"in window||delete rs.transitionend.transition);function Kp(t){if(Gg[t])return Gg[t];if(!rs[t])return t;var e=rs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in zC)return Gg[t]=e[n];return t}var WC=Kp("animationend"),qC=Kp("animationiteration"),HC=Kp("animationstart"),KC=Kp("transitionend"),GC=new Map,kE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function So(t,e){GC.set(t,e),Ia(e,[t])}for(var Xg=0;Xg<kE.length;Xg++){var Yg=kE[Xg],WV=Yg.toLowerCase(),qV=Yg[0].toUpperCase()+Yg.slice(1);So(WV,"on"+qV)}So(WC,"onAnimationEnd");So(qC,"onAnimationIteration");So(HC,"onAnimationStart");So("dblclick","onDoubleClick");So("focusin","onFocus");So("focusout","onBlur");So(KC,"onTransitionEnd");Os("onMouseEnter",["mouseout","mouseover"]);Os("onMouseLeave",["mouseout","mouseover"]);Os("onPointerEnter",["pointerout","pointerover"]);Os("onPointerLeave",["pointerout","pointerover"]);Ia("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ia("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ia("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ia("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ia("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ia("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HV=new Set("cancel close invalid load scroll toggle".split(" ").concat(gu));function RE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,WL(r,e,void 0,t),t.currentTarget=null}function XC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;RE(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;RE(i,s,u),o=l}}}if(cd)throw t=pv,cd=!1,pv=null,t}function nt(t,e){var n=e[Sv];n===void 0&&(n=e[Sv]=new Set);var r=t+"__bubble";n.has(r)||(YC(e,t,2,!1),n.add(r))}function Qg(t,e,n){var r=0;e&&(r|=4),YC(n,t,r,e)}var ch="_reactListening"+Math.random().toString(36).slice(2);function tc(t){if(!t[ch]){t[ch]=!0,rC.forEach(function(n){n!=="selectionchange"&&(HV.has(n)||Qg(n,!1,t),Qg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ch]||(e[ch]=!0,Qg("selectionchange",!1,e))}}function YC(t,e,n,r){switch(NC(e)){case 1:var i=aV;break;case 4:i=sV;break;default:i=ow}n=i.bind(null,e,n,t),i=void 0,!dv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Jg(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=Qo(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}_C(function(){var u=o,c=tw(n),f=[];e:{var d=GC.get(t);if(d!==void 0){var p=sw,g=t;switch(t){case"keypress":if(Wh(n)===0)break e;case"keydown":case"keyup":p=xV;break;case"focusin":g="focus",p=qg;break;case"focusout":g="blur",p=qg;break;case"beforeblur":case"afterblur":p=qg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=wE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=cV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=TV;break;case WC:case qC:case HC:p=dV;break;case KC:p=PV;break;case"scroll":p=lV;break;case"wheel":p=OV;break;case"copy":case"cut":case"paste":p=mV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=xE}var y=(e&4)!==0,v=!y&&t==="scroll",b=y?d!==null?d+"Capture":null:d;y=[];for(var m=u,_;m!==null;){_=m;var x=_.stateNode;if(_.tag===5&&x!==null&&(_=x,b!==null&&(x=Xu(m,b),x!=null&&y.push(nc(m,x,_)))),v)break;m=m.return}0<y.length&&(d=new p(d,g,null,n,c),f.push({event:d,listeners:y}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==fv&&(g=n.relatedTarget||n.fromElement)&&(Qo(g)||g[yi]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?Qo(g):null,g!==null&&(v=Oa(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(y=wE,x="onMouseLeave",b="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(y=xE,x="onPointerLeave",b="onPointerEnter",m="pointer"),v=p==null?d:is(p),_=g==null?d:is(g),d=new y(x,m+"leave",p,n,c),d.target=v,d.relatedTarget=_,x=null,Qo(c)===u&&(y=new y(b,m+"enter",g,n,c),y.target=_,y.relatedTarget=v,x=y),v=x,p&&g)t:{for(y=p,b=g,m=0,_=y;_;_=qa(_))m++;for(_=0,x=b;x;x=qa(x))_++;for(;0<m-_;)y=qa(y),m--;for(;0<_-m;)b=qa(b),_--;for(;m--;){if(y===b||b!==null&&y===b.alternate)break t;y=qa(y),b=qa(b)}y=null}else y=null;p!==null&&NE(f,d,p,y,!1),g!==null&&v!==null&&NE(f,v,g,y,!0)}}e:{if(d=u?is(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var T=MV;else if(TE(d))if(VC)T=FV;else{T=LV;var O=$V}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(T=VV);if(T&&(T=T(t,u))){LC(f,T,n,c);break e}O&&O(t,d,u),t==="focusout"&&(O=d._wrapperState)&&O.controlled&&d.type==="number"&&av(d,"number",d.value)}switch(O=u?is(u):window,t){case"focusin":(TE(O)||O.contentEditable==="true")&&(ns=O,vv=u,Ou=null);break;case"focusout":Ou=vv=ns=null;break;case"mousedown":_v=!0;break;case"contextmenu":case"mouseup":case"dragend":_v=!1,CE(f,n,c);break;case"selectionchange":if(zV)break;case"keydown":case"keyup":CE(f,n,c)}var S;if(uw)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else ts?MC(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(jC&&n.locale!=="ko"&&(ts||E!=="onCompositionStart"?E==="onCompositionEnd"&&ts&&(S=DC()):(Ji=c,aw="value"in Ji?Ji.value:Ji.textContent,ts=!0)),O=md(u,E),0<O.length&&(E=new bE(E,t,null,n,c),f.push({event:E,listeners:O}),S?E.data=S:(S=$C(n),S!==null&&(E.data=S)))),(S=kV?RV(t,n):NV(t,n))&&(u=md(u,"onBeforeInput"),0<u.length&&(c=new bE("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=S))}XC(f,e)})}function nc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function md(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Xu(t,n),o!=null&&r.unshift(nc(t,o,i)),o=Xu(t,e),o!=null&&r.push(nc(t,o,i))),t=t.return}return r}function qa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function NE(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=Xu(n,o),l!=null&&a.unshift(nc(n,l,s))):i||(l=Xu(n,o),l!=null&&a.push(nc(n,l,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var KV=/\r\n?/g,GV=/\u0000|\uFFFD/g;function DE(t){return(typeof t=="string"?t:""+t).replace(KV,`
`).replace(GV,"")}function fh(t,e,n){if(e=DE(e),DE(t)!==e&&n)throw Error(J(425))}function gd(){}var wv=null,bv=null;function xv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ev=typeof setTimeout=="function"?setTimeout:void 0,XV=typeof clearTimeout=="function"?clearTimeout:void 0,jE=typeof Promise=="function"?Promise:void 0,YV=typeof queueMicrotask=="function"?queueMicrotask:typeof jE<"u"?function(t){return jE.resolve(null).then(t).catch(QV)}:Ev;function QV(t){setTimeout(function(){throw t})}function Zg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ju(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ju(e)}function ao(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ME(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ul=Math.random().toString(36).slice(2),Rr="__reactFiber$"+ul,rc="__reactProps$"+ul,yi="__reactContainer$"+ul,Sv="__reactEvents$"+ul,JV="__reactListeners$"+ul,ZV="__reactHandles$"+ul;function Qo(t){var e=t[Rr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[yi]||n[Rr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ME(t);t!==null;){if(n=t[Rr])return n;t=ME(t)}return e}t=n,n=t.parentNode}return null}function df(t){return t=t[Rr]||t[yi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function is(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function Gp(t){return t[rc]||null}var Tv=[],os=-1;function To(t){return{current:t}}function at(t){0>os||(t.current=Tv[os],Tv[os]=null,os--)}function Je(t,e){os++,Tv[os]=t.current,t.current=e}var _o={},un=To(_o),On=To(!1),fa=_o;function Cs(t,e){var n=t.type.contextTypes;if(!n)return _o;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Cn(t){return t=t.childContextTypes,t!=null}function yd(){at(On),at(un)}function $E(t,e,n){if(un.current!==_o)throw Error(J(168));Je(un,e),Je(On,n)}function QC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(J(108,$L(t)||"Unknown",i));return ht({},n,r)}function vd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||_o,fa=un.current,Je(un,t),Je(On,On.current),!0}function LE(t,e,n){var r=t.stateNode;if(!r)throw Error(J(169));n?(t=QC(t,e,fa),r.__reactInternalMemoizedMergedChildContext=t,at(On),at(un),Je(un,t)):at(On),Je(On,n)}var ti=null,Xp=!1,ey=!1;function JC(t){ti===null?ti=[t]:ti.push(t)}function eF(t){Xp=!0,JC(t)}function Ao(){if(!ey&&ti!==null){ey=!0;var t=0,e=Be;try{var n=ti;for(Be=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ti=null,Xp=!1}catch(i){throw ti!==null&&(ti=ti.slice(t+1)),EC(nw,Ao),i}finally{Be=e,ey=!1}}return null}var as=[],ss=0,_d=null,wd=0,Qn=[],Jn=0,ha=null,ni=1,ri="";function Wo(t,e){as[ss++]=wd,as[ss++]=_d,_d=t,wd=e}function ZC(t,e,n){Qn[Jn++]=ni,Qn[Jn++]=ri,Qn[Jn++]=ha,ha=t;var r=ni;t=ri;var i=32-_r(r)-1;r&=~(1<<i),n+=1;var o=32-_r(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,ni=1<<32-_r(e)+i|n<<i|r,ri=o+t}else ni=1<<o|n<<i|r,ri=t}function fw(t){t.return!==null&&(Wo(t,1),ZC(t,1,0))}function hw(t){for(;t===_d;)_d=as[--ss],as[ss]=null,wd=as[--ss],as[ss]=null;for(;t===ha;)ha=Qn[--Jn],Qn[Jn]=null,ri=Qn[--Jn],Qn[Jn]=null,ni=Qn[--Jn],Qn[Jn]=null}var Bn=null,Fn=null,lt=!1,yr=null;function ek(t,e){var n=tr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function VE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Bn=t,Fn=ao(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Bn=t,Fn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ha!==null?{id:ni,overflow:ri}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=tr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Bn=t,Fn=null,!0):!1;default:return!1}}function Av(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Pv(t){if(lt){var e=Fn;if(e){var n=e;if(!VE(t,e)){if(Av(t))throw Error(J(418));e=ao(n.nextSibling);var r=Bn;e&&VE(t,e)?ek(r,n):(t.flags=t.flags&-4097|2,lt=!1,Bn=t)}}else{if(Av(t))throw Error(J(418));t.flags=t.flags&-4097|2,lt=!1,Bn=t}}}function FE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Bn=t}function hh(t){if(t!==Bn)return!1;if(!lt)return FE(t),lt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!xv(t.type,t.memoizedProps)),e&&(e=Fn)){if(Av(t))throw tk(),Error(J(418));for(;e;)ek(t,e),e=ao(e.nextSibling)}if(FE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Fn=ao(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Fn=null}}else Fn=Bn?ao(t.stateNode.nextSibling):null;return!0}function tk(){for(var t=Fn;t;)t=ao(t.nextSibling)}function ks(){Fn=Bn=null,lt=!1}function dw(t){yr===null?yr=[t]:yr.push(t)}var tF=Ii.ReactCurrentBatchConfig;function Yl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,t))}return t}function dh(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function UE(t){var e=t._init;return e(t._payload)}function nk(t){function e(b,m){if(t){var _=b.deletions;_===null?(b.deletions=[m],b.flags|=16):_.push(m)}}function n(b,m){if(!t)return null;for(;m!==null;)e(b,m),m=m.sibling;return null}function r(b,m){for(b=new Map;m!==null;)m.key!==null?b.set(m.key,m):b.set(m.index,m),m=m.sibling;return b}function i(b,m){return b=co(b,m),b.index=0,b.sibling=null,b}function o(b,m,_){return b.index=_,t?(_=b.alternate,_!==null?(_=_.index,_<m?(b.flags|=2,m):_):(b.flags|=2,m)):(b.flags|=1048576,m)}function a(b){return t&&b.alternate===null&&(b.flags|=2),b}function s(b,m,_,x){return m===null||m.tag!==6?(m=sy(_,b.mode,x),m.return=b,m):(m=i(m,_),m.return=b,m)}function l(b,m,_,x){var T=_.type;return T===es?c(b,m,_.props.children,x,_.key):m!==null&&(m.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Fi&&UE(T)===m.type)?(x=i(m,_.props),x.ref=Yl(b,m,_),x.return=b,x):(x=Qh(_.type,_.key,_.props,null,b.mode,x),x.ref=Yl(b,m,_),x.return=b,x)}function u(b,m,_,x){return m===null||m.tag!==4||m.stateNode.containerInfo!==_.containerInfo||m.stateNode.implementation!==_.implementation?(m=ly(_,b.mode,x),m.return=b,m):(m=i(m,_.children||[]),m.return=b,m)}function c(b,m,_,x,T){return m===null||m.tag!==7?(m=aa(_,b.mode,x,T),m.return=b,m):(m=i(m,_),m.return=b,m)}function f(b,m,_){if(typeof m=="string"&&m!==""||typeof m=="number")return m=sy(""+m,b.mode,_),m.return=b,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case nh:return _=Qh(m.type,m.key,m.props,null,b.mode,_),_.ref=Yl(b,null,m),_.return=b,_;case Za:return m=ly(m,b.mode,_),m.return=b,m;case Fi:var x=m._init;return f(b,x(m._payload),_)}if(pu(m)||ql(m))return m=aa(m,b.mode,_,null),m.return=b,m;dh(b,m)}return null}function d(b,m,_,x){var T=m!==null?m.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return T!==null?null:s(b,m,""+_,x);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case nh:return _.key===T?l(b,m,_,x):null;case Za:return _.key===T?u(b,m,_,x):null;case Fi:return T=_._init,d(b,m,T(_._payload),x)}if(pu(_)||ql(_))return T!==null?null:c(b,m,_,x,null);dh(b,_)}return null}function p(b,m,_,x,T){if(typeof x=="string"&&x!==""||typeof x=="number")return b=b.get(_)||null,s(m,b,""+x,T);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case nh:return b=b.get(x.key===null?_:x.key)||null,l(m,b,x,T);case Za:return b=b.get(x.key===null?_:x.key)||null,u(m,b,x,T);case Fi:var O=x._init;return p(b,m,_,O(x._payload),T)}if(pu(x)||ql(x))return b=b.get(_)||null,c(m,b,x,T,null);dh(m,x)}return null}function g(b,m,_,x){for(var T=null,O=null,S=m,E=m=0,I=null;S!==null&&E<_.length;E++){S.index>E?(I=S,S=null):I=S.sibling;var C=d(b,S,_[E],x);if(C===null){S===null&&(S=I);break}t&&S&&C.alternate===null&&e(b,S),m=o(C,m,E),O===null?T=C:O.sibling=C,O=C,S=I}if(E===_.length)return n(b,S),lt&&Wo(b,E),T;if(S===null){for(;E<_.length;E++)S=f(b,_[E],x),S!==null&&(m=o(S,m,E),O===null?T=S:O.sibling=S,O=S);return lt&&Wo(b,E),T}for(S=r(b,S);E<_.length;E++)I=p(S,b,E,_[E],x),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?E:I.key),m=o(I,m,E),O===null?T=I:O.sibling=I,O=I);return t&&S.forEach(function(R){return e(b,R)}),lt&&Wo(b,E),T}function y(b,m,_,x){var T=ql(_);if(typeof T!="function")throw Error(J(150));if(_=T.call(_),_==null)throw Error(J(151));for(var O=T=null,S=m,E=m=0,I=null,C=_.next();S!==null&&!C.done;E++,C=_.next()){S.index>E?(I=S,S=null):I=S.sibling;var R=d(b,S,C.value,x);if(R===null){S===null&&(S=I);break}t&&S&&R.alternate===null&&e(b,S),m=o(R,m,E),O===null?T=R:O.sibling=R,O=R,S=I}if(C.done)return n(b,S),lt&&Wo(b,E),T;if(S===null){for(;!C.done;E++,C=_.next())C=f(b,C.value,x),C!==null&&(m=o(C,m,E),O===null?T=C:O.sibling=C,O=C);return lt&&Wo(b,E),T}for(S=r(b,S);!C.done;E++,C=_.next())C=p(S,b,E,C.value,x),C!==null&&(t&&C.alternate!==null&&S.delete(C.key===null?E:C.key),m=o(C,m,E),O===null?T=C:O.sibling=C,O=C);return t&&S.forEach(function(N){return e(b,N)}),lt&&Wo(b,E),T}function v(b,m,_,x){if(typeof _=="object"&&_!==null&&_.type===es&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case nh:e:{for(var T=_.key,O=m;O!==null;){if(O.key===T){if(T=_.type,T===es){if(O.tag===7){n(b,O.sibling),m=i(O,_.props.children),m.return=b,b=m;break e}}else if(O.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Fi&&UE(T)===O.type){n(b,O.sibling),m=i(O,_.props),m.ref=Yl(b,O,_),m.return=b,b=m;break e}n(b,O);break}else e(b,O);O=O.sibling}_.type===es?(m=aa(_.props.children,b.mode,x,_.key),m.return=b,b=m):(x=Qh(_.type,_.key,_.props,null,b.mode,x),x.ref=Yl(b,m,_),x.return=b,b=x)}return a(b);case Za:e:{for(O=_.key;m!==null;){if(m.key===O)if(m.tag===4&&m.stateNode.containerInfo===_.containerInfo&&m.stateNode.implementation===_.implementation){n(b,m.sibling),m=i(m,_.children||[]),m.return=b,b=m;break e}else{n(b,m);break}else e(b,m);m=m.sibling}m=ly(_,b.mode,x),m.return=b,b=m}return a(b);case Fi:return O=_._init,v(b,m,O(_._payload),x)}if(pu(_))return g(b,m,_,x);if(ql(_))return y(b,m,_,x);dh(b,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,m!==null&&m.tag===6?(n(b,m.sibling),m=i(m,_),m.return=b,b=m):(n(b,m),m=sy(_,b.mode,x),m.return=b,b=m),a(b)):n(b,m)}return v}var Rs=nk(!0),rk=nk(!1),bd=To(null),xd=null,ls=null,pw=null;function mw(){pw=ls=xd=null}function gw(t){var e=bd.current;at(bd),t._currentValue=e}function Iv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ws(t,e){xd=t,pw=ls=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Pn=!0),t.firstContext=null)}function ar(t){var e=t._currentValue;if(pw!==t)if(t={context:t,memoizedValue:e,next:null},ls===null){if(xd===null)throw Error(J(308));ls=t,xd.dependencies={lanes:0,firstContext:t}}else ls=ls.next=t;return e}var Jo=null;function yw(t){Jo===null?Jo=[t]:Jo.push(t)}function ik(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,yw(e)):(n.next=i.next,i.next=n),e.interleaved=n,vi(t,r)}function vi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ui=!1;function vw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ok(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ci(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function so(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ne&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,vi(t,n)}return i=r.interleaved,i===null?(e.next=e,yw(r)):(e.next=i.next,i.next=e),r.interleaved=e,vi(t,n)}function qh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,rw(t,n)}}function BE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ed(t,e,n,r){var i=t.updateQueue;Ui=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;a=0,c=u=l=null,s=o;do{var d=s.lane,p=s.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=t,y=s;switch(d=e,p=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){f=g.call(p,f,d);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,d=typeof g=="function"?g.call(p,f,d):g,d==null)break e;f=ht({},f,d);break e;case 2:Ui=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[s]:d.push(s))}else p={eventTime:p,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=p,l=f):c=c.next=p,a|=d;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;d=s,s=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);pa|=a,t.lanes=a,t.memoizedState=f}}function zE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(J(191,i));i.call(r)}}}var pf={},Lr=To(pf),ic=To(pf),oc=To(pf);function Zo(t){if(t===pf)throw Error(J(174));return t}function _w(t,e){switch(Je(oc,e),Je(ic,t),Je(Lr,pf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=lv(e,t)}at(Lr),Je(Lr,e)}function Ns(){at(Lr),at(ic),at(oc)}function ak(t){Zo(oc.current);var e=Zo(Lr.current),n=lv(e,t.type);e!==n&&(Je(ic,t),Je(Lr,n))}function ww(t){ic.current===t&&(at(Lr),at(ic))}var ct=To(0);function Sd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ty=[];function bw(){for(var t=0;t<ty.length;t++)ty[t]._workInProgressVersionPrimary=null;ty.length=0}var Hh=Ii.ReactCurrentDispatcher,ny=Ii.ReactCurrentBatchConfig,da=0,ft=null,It=null,jt=null,Td=!1,Cu=!1,ac=0,nF=0;function Jt(){throw Error(J(321))}function xw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!xr(t[n],e[n]))return!1;return!0}function Ew(t,e,n,r,i,o){if(da=o,ft=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Hh.current=t===null||t.memoizedState===null?aF:sF,t=n(r,i),Cu){o=0;do{if(Cu=!1,ac=0,25<=o)throw Error(J(301));o+=1,jt=It=null,e.updateQueue=null,Hh.current=lF,t=n(r,i)}while(Cu)}if(Hh.current=Ad,e=It!==null&&It.next!==null,da=0,jt=It=ft=null,Td=!1,e)throw Error(J(300));return t}function Sw(){var t=ac!==0;return ac=0,t}function Cr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?ft.memoizedState=jt=t:jt=jt.next=t,jt}function sr(){if(It===null){var t=ft.alternate;t=t!==null?t.memoizedState:null}else t=It.next;var e=jt===null?ft.memoizedState:jt.next;if(e!==null)jt=e,It=t;else{if(t===null)throw Error(J(310));It=t,t={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},jt===null?ft.memoizedState=jt=t:jt=jt.next=t}return jt}function sc(t,e){return typeof e=="function"?e(t):e}function ry(t){var e=sr(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=It,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var c=u.lane;if((da&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,a=r):l=l.next=f,ft.lanes|=c,pa|=c}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,xr(r,e.memoizedState)||(Pn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,ft.lanes|=o,pa|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function iy(t){var e=sr(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);xr(o,e.memoizedState)||(Pn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function sk(){}function lk(t,e){var n=ft,r=sr(),i=e(),o=!xr(r.memoizedState,i);if(o&&(r.memoizedState=i,Pn=!0),r=r.queue,Tw(fk.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||jt!==null&&jt.memoizedState.tag&1){if(n.flags|=2048,lc(9,ck.bind(null,n,r,i,e),void 0,null),$t===null)throw Error(J(349));da&30||uk(n,e,i)}return i}function uk(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ft.updateQueue,e===null?(e={lastEffect:null,stores:null},ft.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ck(t,e,n,r){e.value=n,e.getSnapshot=r,hk(e)&&dk(t)}function fk(t,e,n){return n(function(){hk(e)&&dk(t)})}function hk(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!xr(t,n)}catch{return!0}}function dk(t){var e=vi(t,1);e!==null&&wr(e,t,1,-1)}function WE(t){var e=Cr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sc,lastRenderedState:t},e.queue=t,t=t.dispatch=oF.bind(null,ft,t),[e.memoizedState,t]}function lc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ft.updateQueue,e===null?(e={lastEffect:null,stores:null},ft.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function pk(){return sr().memoizedState}function Kh(t,e,n,r){var i=Cr();ft.flags|=t,i.memoizedState=lc(1|e,n,void 0,r===void 0?null:r)}function Yp(t,e,n,r){var i=sr();r=r===void 0?null:r;var o=void 0;if(It!==null){var a=It.memoizedState;if(o=a.destroy,r!==null&&xw(r,a.deps)){i.memoizedState=lc(e,n,o,r);return}}ft.flags|=t,i.memoizedState=lc(1|e,n,o,r)}function qE(t,e){return Kh(8390656,8,t,e)}function Tw(t,e){return Yp(2048,8,t,e)}function mk(t,e){return Yp(4,2,t,e)}function gk(t,e){return Yp(4,4,t,e)}function yk(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function vk(t,e,n){return n=n!=null?n.concat([t]):null,Yp(4,4,yk.bind(null,e,t),n)}function Aw(){}function _k(t,e){var n=sr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function wk(t,e){var n=sr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function bk(t,e,n){return da&21?(xr(n,e)||(n=AC(),ft.lanes|=n,pa|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Pn=!0),t.memoizedState=n)}function rF(t,e){var n=Be;Be=n!==0&&4>n?n:4,t(!0);var r=ny.transition;ny.transition={};try{t(!1),e()}finally{Be=n,ny.transition=r}}function xk(){return sr().memoizedState}function iF(t,e,n){var r=uo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ek(t))Sk(e,n);else if(n=ik(t,e,n,r),n!==null){var i=bn();wr(n,t,r,i),Tk(n,e,r)}}function oF(t,e,n){var r=uo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ek(t))Sk(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,xr(s,a)){var l=e.interleaved;l===null?(i.next=i,yw(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=ik(t,e,i,r),n!==null&&(i=bn(),wr(n,t,r,i),Tk(n,e,r))}}function Ek(t){var e=t.alternate;return t===ft||e!==null&&e===ft}function Sk(t,e){Cu=Td=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Tk(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,rw(t,n)}}var Ad={readContext:ar,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useInsertionEffect:Jt,useLayoutEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useMutableSource:Jt,useSyncExternalStore:Jt,useId:Jt,unstable_isNewReconciler:!1},aF={readContext:ar,useCallback:function(t,e){return Cr().memoizedState=[t,e===void 0?null:e],t},useContext:ar,useEffect:qE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Kh(4194308,4,yk.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Kh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Kh(4,2,t,e)},useMemo:function(t,e){var n=Cr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Cr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=iF.bind(null,ft,t),[r.memoizedState,t]},useRef:function(t){var e=Cr();return t={current:t},e.memoizedState=t},useState:WE,useDebugValue:Aw,useDeferredValue:function(t){return Cr().memoizedState=t},useTransition:function(){var t=WE(!1),e=t[0];return t=rF.bind(null,t[1]),Cr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ft,i=Cr();if(lt){if(n===void 0)throw Error(J(407));n=n()}else{if(n=e(),$t===null)throw Error(J(349));da&30||uk(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,qE(fk.bind(null,r,o,t),[t]),r.flags|=2048,lc(9,ck.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Cr(),e=$t.identifierPrefix;if(lt){var n=ri,r=ni;n=(r&~(1<<32-_r(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ac++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=nF++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},sF={readContext:ar,useCallback:_k,useContext:ar,useEffect:Tw,useImperativeHandle:vk,useInsertionEffect:mk,useLayoutEffect:gk,useMemo:wk,useReducer:ry,useRef:pk,useState:function(){return ry(sc)},useDebugValue:Aw,useDeferredValue:function(t){var e=sr();return bk(e,It.memoizedState,t)},useTransition:function(){var t=ry(sc)[0],e=sr().memoizedState;return[t,e]},useMutableSource:sk,useSyncExternalStore:lk,useId:xk,unstable_isNewReconciler:!1},lF={readContext:ar,useCallback:_k,useContext:ar,useEffect:Tw,useImperativeHandle:vk,useInsertionEffect:mk,useLayoutEffect:gk,useMemo:wk,useReducer:iy,useRef:pk,useState:function(){return iy(sc)},useDebugValue:Aw,useDeferredValue:function(t){var e=sr();return It===null?e.memoizedState=t:bk(e,It.memoizedState,t)},useTransition:function(){var t=iy(sc)[0],e=sr().memoizedState;return[t,e]},useMutableSource:sk,useSyncExternalStore:lk,useId:xk,unstable_isNewReconciler:!1};function pr(t,e){if(t&&t.defaultProps){e=ht({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ov(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ht({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Qp={isMounted:function(t){return(t=t._reactInternals)?Oa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=bn(),i=uo(t),o=ci(r,i);o.payload=e,n!=null&&(o.callback=n),e=so(t,o,i),e!==null&&(wr(e,t,i,r),qh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=bn(),i=uo(t),o=ci(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=so(t,o,i),e!==null&&(wr(e,t,i,r),qh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=bn(),r=uo(t),i=ci(n,r);i.tag=2,e!=null&&(i.callback=e),e=so(t,i,r),e!==null&&(wr(e,t,r,n),qh(e,t,r))}};function HE(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!ec(n,r)||!ec(i,o):!0}function Ak(t,e,n){var r=!1,i=_o,o=e.contextType;return typeof o=="object"&&o!==null?o=ar(o):(i=Cn(e)?fa:un.current,r=e.contextTypes,o=(r=r!=null)?Cs(t,i):_o),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Qp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function KE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Qp.enqueueReplaceState(e,e.state,null)}function Cv(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},vw(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=ar(o):(o=Cn(e)?fa:un.current,i.context=Cs(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Ov(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Qp.enqueueReplaceState(i,i.state,null),Ed(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ds(t,e){try{var n="",r=e;do n+=ML(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function oy(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function kv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var uF=typeof WeakMap=="function"?WeakMap:Map;function Pk(t,e,n){n=ci(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Id||(Id=!0,Uv=r),kv(t,e)},n}function Ik(t,e,n){n=ci(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){kv(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){kv(t,e),typeof r!="function"&&(lo===null?lo=new Set([this]):lo.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function GE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new uF;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=EF.bind(null,t,e,n),e.then(t,t))}function XE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function YE(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ci(-1,1),e.tag=2,so(n,e,1))),n.lanes|=1),t)}var cF=Ii.ReactCurrentOwner,Pn=!1;function gn(t,e,n,r){e.child=t===null?rk(e,null,n,r):Rs(e,t.child,n,r)}function QE(t,e,n,r,i){n=n.render;var o=e.ref;return ws(e,i),r=Ew(t,e,n,r,o,i),n=Sw(),t!==null&&!Pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,_i(t,e,i)):(lt&&n&&fw(e),e.flags|=1,gn(t,e,r,i),e.child)}function JE(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Dw(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Ok(t,e,o,r,i)):(t=Qh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:ec,n(a,r)&&t.ref===e.ref)return _i(t,e,i)}return e.flags|=1,t=co(o,r),t.ref=e.ref,t.return=e,e.child=t}function Ok(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(ec(o,r)&&t.ref===e.ref)if(Pn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Pn=!0);else return e.lanes=t.lanes,_i(t,e,i)}return Rv(t,e,n,r,i)}function Ck(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(cs,$n),$n|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Je(cs,$n),$n|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Je(cs,$n),$n|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Je(cs,$n),$n|=r;return gn(t,e,i,n),e.child}function kk(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Rv(t,e,n,r,i){var o=Cn(n)?fa:un.current;return o=Cs(e,o),ws(e,i),n=Ew(t,e,n,r,o,i),r=Sw(),t!==null&&!Pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,_i(t,e,i)):(lt&&r&&fw(e),e.flags|=1,gn(t,e,n,i),e.child)}function ZE(t,e,n,r,i){if(Cn(n)){var o=!0;vd(e)}else o=!1;if(ws(e,i),e.stateNode===null)Gh(t,e),Ak(e,n,r),Cv(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=ar(u):(u=Cn(n)?fa:un.current,u=Cs(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&KE(e,a,r,u),Ui=!1;var d=e.memoizedState;a.state=d,Ed(e,r,a,i),l=e.memoizedState,s!==r||d!==l||On.current||Ui?(typeof c=="function"&&(Ov(e,n,c,r),l=e.memoizedState),(s=Ui||HE(e,n,s,r,d,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,ok(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:pr(e.type,s),a.props=u,f=e.pendingProps,d=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=ar(l):(l=Cn(n)?fa:un.current,l=Cs(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||d!==l)&&KE(e,a,r,l),Ui=!1,d=e.memoizedState,a.state=d,Ed(e,r,a,i);var g=e.memoizedState;s!==f||d!==g||On.current||Ui?(typeof p=="function"&&(Ov(e,n,p,r),g=e.memoizedState),(u=Ui||HE(e,n,u,r,d,g,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),a.props=r,a.state=g,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Nv(t,e,n,r,o,i)}function Nv(t,e,n,r,i,o){kk(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&LE(e,n,!1),_i(t,e,o);r=e.stateNode,cF.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Rs(e,t.child,null,o),e.child=Rs(e,null,s,o)):gn(t,e,s,o),e.memoizedState=r.state,i&&LE(e,n,!0),e.child}function Rk(t){var e=t.stateNode;e.pendingContext?$E(t,e.pendingContext,e.pendingContext!==e.context):e.context&&$E(t,e.context,!1),_w(t,e.containerInfo)}function eS(t,e,n,r,i){return ks(),dw(i),e.flags|=256,gn(t,e,n,r),e.child}var Dv={dehydrated:null,treeContext:null,retryLane:0};function jv(t){return{baseLanes:t,cachePool:null,transitions:null}}function Nk(t,e,n){var r=e.pendingProps,i=ct.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Je(ct,i&1),t===null)return Pv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=em(a,r,0,null),t=aa(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=jv(n),e.memoizedState=Dv,t):Pw(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return fF(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=co(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=co(s,o):(o=aa(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?jv(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=Dv,r}return o=t.child,t=o.sibling,r=co(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Pw(t,e){return e=em({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ph(t,e,n,r){return r!==null&&dw(r),Rs(e,t.child,null,n),t=Pw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function fF(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=oy(Error(J(422))),ph(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=em({mode:"visible",children:r.children},i,0,null),o=aa(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Rs(e,t.child,null,a),e.child.memoizedState=jv(a),e.memoizedState=Dv,o);if(!(e.mode&1))return ph(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(J(419)),r=oy(o,r,void 0),ph(t,e,a,r)}if(s=(a&t.childLanes)!==0,Pn||s){if(r=$t,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,vi(t,i),wr(r,t,i,-1))}return Nw(),r=oy(Error(J(421))),ph(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=SF.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Fn=ao(i.nextSibling),Bn=e,lt=!0,yr=null,t!==null&&(Qn[Jn++]=ni,Qn[Jn++]=ri,Qn[Jn++]=ha,ni=t.id,ri=t.overflow,ha=e),e=Pw(e,r.children),e.flags|=4096,e)}function tS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Iv(t.return,e,n)}function ay(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Dk(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(gn(t,e,r.children,n),r=ct.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&tS(t,n,e);else if(t.tag===19)tS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Je(ct,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Sd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ay(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Sd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ay(e,!0,n,null,o);break;case"together":ay(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Gh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function _i(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),pa|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,n=co(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=co(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function hF(t,e,n){switch(e.tag){case 3:Rk(e),ks();break;case 5:ak(e);break;case 1:Cn(e.type)&&vd(e);break;case 4:_w(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Je(bd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Je(ct,ct.current&1),e.flags|=128,null):n&e.child.childLanes?Nk(t,e,n):(Je(ct,ct.current&1),t=_i(t,e,n),t!==null?t.sibling:null);Je(ct,ct.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Dk(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Je(ct,ct.current),r)break;return null;case 22:case 23:return e.lanes=0,Ck(t,e,n)}return _i(t,e,n)}var jk,Mv,Mk,$k;jk=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Mv=function(){};Mk=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Zo(Lr.current);var o=null;switch(n){case"input":i=iv(t,i),r=iv(t,r),o=[];break;case"select":i=ht({},i,{value:void 0}),r=ht({},r,{value:void 0}),o=[];break;case"textarea":i=sv(t,i),r=sv(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=gd)}uv(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ku.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ku.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&nt("scroll",t),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};$k=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ql(t,e){if(!lt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Zt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function dF(t,e,n){var r=e.pendingProps;switch(hw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(e),null;case 1:return Cn(e.type)&&yd(),Zt(e),null;case 3:return r=e.stateNode,Ns(),at(On),at(un),bw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(hh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,yr!==null&&(Wv(yr),yr=null))),Mv(t,e),Zt(e),null;case 5:ww(e);var i=Zo(oc.current);if(n=e.type,t!==null&&e.stateNode!=null)Mk(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(J(166));return Zt(e),null}if(t=Zo(Lr.current),hh(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Rr]=e,r[rc]=o,t=(e.mode&1)!==0,n){case"dialog":nt("cancel",r),nt("close",r);break;case"iframe":case"object":case"embed":nt("load",r);break;case"video":case"audio":for(i=0;i<gu.length;i++)nt(gu[i],r);break;case"source":nt("error",r);break;case"img":case"image":case"link":nt("error",r),nt("load",r);break;case"details":nt("toggle",r);break;case"input":cE(r,o),nt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},nt("invalid",r);break;case"textarea":hE(r,o),nt("invalid",r)}uv(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&fh(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&fh(r.textContent,s,t),i=["children",""+s]):Ku.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&nt("scroll",r)}switch(n){case"input":rh(r),fE(r,o,!0);break;case"textarea":rh(r),dE(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=gd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=fC(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Rr]=e,t[rc]=r,jk(t,e,!1,!1),e.stateNode=t;e:{switch(a=cv(n,r),n){case"dialog":nt("cancel",t),nt("close",t),i=r;break;case"iframe":case"object":case"embed":nt("load",t),i=r;break;case"video":case"audio":for(i=0;i<gu.length;i++)nt(gu[i],t);i=r;break;case"source":nt("error",t),i=r;break;case"img":case"image":case"link":nt("error",t),nt("load",t),i=r;break;case"details":nt("toggle",t),i=r;break;case"input":cE(t,r),i=iv(t,r),nt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ht({},r,{value:void 0}),nt("invalid",t);break;case"textarea":hE(t,r),i=sv(t,r),nt("invalid",t);break;default:i=r}uv(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?pC(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&hC(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Gu(t,l):typeof l=="number"&&Gu(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ku.hasOwnProperty(o)?l!=null&&o==="onScroll"&&nt("scroll",t):l!=null&&Q_(t,o,l,a))}switch(n){case"input":rh(t),fE(t,r,!1);break;case"textarea":rh(t),dE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+vo(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?gs(t,!!r.multiple,o,!1):r.defaultValue!=null&&gs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=gd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Zt(e),null;case 6:if(t&&e.stateNode!=null)$k(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(J(166));if(n=Zo(oc.current),Zo(Lr.current),hh(e)){if(r=e.stateNode,n=e.memoizedProps,r[Rr]=e,(o=r.nodeValue!==n)&&(t=Bn,t!==null))switch(t.tag){case 3:fh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&fh(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Rr]=e,e.stateNode=r}return Zt(e),null;case 13:if(at(ct),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(lt&&Fn!==null&&e.mode&1&&!(e.flags&128))tk(),ks(),e.flags|=98560,o=!1;else if(o=hh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(J(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(J(317));o[Rr]=e}else ks(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Zt(e),o=!1}else yr!==null&&(Wv(yr),yr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ct.current&1?Ot===0&&(Ot=3):Nw())),e.updateQueue!==null&&(e.flags|=4),Zt(e),null);case 4:return Ns(),Mv(t,e),t===null&&tc(e.stateNode.containerInfo),Zt(e),null;case 10:return gw(e.type._context),Zt(e),null;case 17:return Cn(e.type)&&yd(),Zt(e),null;case 19:if(at(ct),o=e.memoizedState,o===null)return Zt(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)Ql(o,!1);else{if(Ot!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Sd(t),a!==null){for(e.flags|=128,Ql(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Je(ct,ct.current&1|2),e.child}t=t.sibling}o.tail!==null&&bt()>js&&(e.flags|=128,r=!0,Ql(o,!1),e.lanes=4194304)}else{if(!r)if(t=Sd(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ql(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!lt)return Zt(e),null}else 2*bt()-o.renderingStartTime>js&&n!==1073741824&&(e.flags|=128,r=!0,Ql(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=bt(),e.sibling=null,n=ct.current,Je(ct,r?n&1|2:n&1),e):(Zt(e),null);case 22:case 23:return Rw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?$n&1073741824&&(Zt(e),e.subtreeFlags&6&&(e.flags|=8192)):Zt(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function pF(t,e){switch(hw(e),e.tag){case 1:return Cn(e.type)&&yd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ns(),at(On),at(un),bw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ww(e),null;case 13:if(at(ct),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));ks()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return at(ct),null;case 4:return Ns(),null;case 10:return gw(e.type._context),null;case 22:case 23:return Rw(),null;case 24:return null;default:return null}}var mh=!1,on=!1,mF=typeof WeakSet=="function"?WeakSet:Set,oe=null;function us(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){yt(t,e,r)}else n.current=null}function $v(t,e,n){try{n()}catch(r){yt(t,e,r)}}var nS=!1;function gF(t,e){if(wv=dd,t=BC(),cw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,c=0,f=t,d=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(s=a+i),f!==o||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===t)break t;if(d===n&&++u===i&&(s=a),d===o&&++c===r&&(l=a),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(bv={focusedElem:t,selectionRange:n},dd=!1,oe=e;oe!==null;)if(e=oe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,oe=t;else for(;oe!==null;){e=oe;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,v=g.memoizedState,b=e.stateNode,m=b.getSnapshotBeforeUpdate(e.elementType===e.type?y:pr(e.type,y),v);b.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(x){yt(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,oe=t;break}oe=e.return}return g=nS,nS=!1,g}function ku(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&$v(e,n,o)}i=i.next}while(i!==r)}}function Jp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Lv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Lk(t){var e=t.alternate;e!==null&&(t.alternate=null,Lk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Rr],delete e[rc],delete e[Sv],delete e[JV],delete e[ZV])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Vk(t){return t.tag===5||t.tag===3||t.tag===4}function rS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Vk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=gd));else if(r!==4&&(t=t.child,t!==null))for(Vv(t,e,n),t=t.sibling;t!==null;)Vv(t,e,n),t=t.sibling}function Fv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Fv(t,e,n),t=t.sibling;t!==null;)Fv(t,e,n),t=t.sibling}var Bt=null,mr=!1;function $i(t,e,n){for(n=n.child;n!==null;)Fk(t,e,n),n=n.sibling}function Fk(t,e,n){if($r&&typeof $r.onCommitFiberUnmount=="function")try{$r.onCommitFiberUnmount(Wp,n)}catch{}switch(n.tag){case 5:on||us(n,e);case 6:var r=Bt,i=mr;Bt=null,$i(t,e,n),Bt=r,mr=i,Bt!==null&&(mr?(t=Bt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Bt.removeChild(n.stateNode));break;case 18:Bt!==null&&(mr?(t=Bt,n=n.stateNode,t.nodeType===8?Zg(t.parentNode,n):t.nodeType===1&&Zg(t,n),Ju(t)):Zg(Bt,n.stateNode));break;case 4:r=Bt,i=mr,Bt=n.stateNode.containerInfo,mr=!0,$i(t,e,n),Bt=r,mr=i;break;case 0:case 11:case 14:case 15:if(!on&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&$v(n,e,a),i=i.next}while(i!==r)}$i(t,e,n);break;case 1:if(!on&&(us(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){yt(n,e,s)}$i(t,e,n);break;case 21:$i(t,e,n);break;case 22:n.mode&1?(on=(r=on)||n.memoizedState!==null,$i(t,e,n),on=r):$i(t,e,n);break;default:$i(t,e,n)}}function iS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new mF),e.forEach(function(r){var i=TF.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function hr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:Bt=s.stateNode,mr=!1;break e;case 3:Bt=s.stateNode.containerInfo,mr=!0;break e;case 4:Bt=s.stateNode.containerInfo,mr=!0;break e}s=s.return}if(Bt===null)throw Error(J(160));Fk(o,a,i),Bt=null,mr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){yt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Uk(e,t),e=e.sibling}function Uk(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(hr(e,t),Ir(t),r&4){try{ku(3,t,t.return),Jp(3,t)}catch(y){yt(t,t.return,y)}try{ku(5,t,t.return)}catch(y){yt(t,t.return,y)}}break;case 1:hr(e,t),Ir(t),r&512&&n!==null&&us(n,n.return);break;case 5:if(hr(e,t),Ir(t),r&512&&n!==null&&us(n,n.return),t.flags&32){var i=t.stateNode;try{Gu(i,"")}catch(y){yt(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&uC(i,o),cv(s,a);var u=cv(s,o);for(a=0;a<l.length;a+=2){var c=l[a],f=l[a+1];c==="style"?pC(i,f):c==="dangerouslySetInnerHTML"?hC(i,f):c==="children"?Gu(i,f):Q_(i,c,f,u)}switch(s){case"input":ov(i,o);break;case"textarea":cC(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?gs(i,!!o.multiple,p,!1):d!==!!o.multiple&&(o.defaultValue!=null?gs(i,!!o.multiple,o.defaultValue,!0):gs(i,!!o.multiple,o.multiple?[]:"",!1))}i[rc]=o}catch(y){yt(t,t.return,y)}}break;case 6:if(hr(e,t),Ir(t),r&4){if(t.stateNode===null)throw Error(J(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(y){yt(t,t.return,y)}}break;case 3:if(hr(e,t),Ir(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ju(e.containerInfo)}catch(y){yt(t,t.return,y)}break;case 4:hr(e,t),Ir(t);break;case 13:hr(e,t),Ir(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Cw=bt())),r&4&&iS(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(on=(u=on)||c,hr(e,t),on=u):hr(e,t),Ir(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(oe=t,c=t.child;c!==null;){for(f=oe=c;oe!==null;){switch(d=oe,p=d.child,d.tag){case 0:case 11:case 14:case 15:ku(4,d,d.return);break;case 1:us(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){yt(r,n,y)}}break;case 5:us(d,d.return);break;case 22:if(d.memoizedState!==null){aS(f);continue}}p!==null?(p.return=d,oe=p):aS(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=dC("display",a))}catch(y){yt(t,t.return,y)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){yt(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:hr(e,t),Ir(t),r&4&&iS(t);break;case 21:break;default:hr(e,t),Ir(t)}}function Ir(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Vk(n)){var r=n;break e}n=n.return}throw Error(J(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Gu(i,""),r.flags&=-33);var o=rS(t);Fv(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=rS(t);Vv(t,s,a);break;default:throw Error(J(161))}}catch(l){yt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function yF(t,e,n){oe=t,Bk(t)}function Bk(t,e,n){for(var r=(t.mode&1)!==0;oe!==null;){var i=oe,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||mh;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||on;s=mh;var u=on;if(mh=a,(on=l)&&!u)for(oe=i;oe!==null;)a=oe,l=a.child,a.tag===22&&a.memoizedState!==null?sS(i):l!==null?(l.return=a,oe=l):sS(i);for(;o!==null;)oe=o,Bk(o),o=o.sibling;oe=i,mh=s,on=u}oS(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,oe=o):oS(t)}}function oS(t){for(;oe!==null;){var e=oe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:on||Jp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!on)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:pr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&zE(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}zE(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Ju(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}on||e.flags&512&&Lv(e)}catch(d){yt(e,e.return,d)}}if(e===t){oe=null;break}if(n=e.sibling,n!==null){n.return=e.return,oe=n;break}oe=e.return}}function aS(t){for(;oe!==null;){var e=oe;if(e===t){oe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,oe=n;break}oe=e.return}}function sS(t){for(;oe!==null;){var e=oe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Jp(4,e)}catch(l){yt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){yt(e,i,l)}}var o=e.return;try{Lv(e)}catch(l){yt(e,o,l)}break;case 5:var a=e.return;try{Lv(e)}catch(l){yt(e,a,l)}}}catch(l){yt(e,e.return,l)}if(e===t){oe=null;break}var s=e.sibling;if(s!==null){s.return=e.return,oe=s;break}oe=e.return}}var vF=Math.ceil,Pd=Ii.ReactCurrentDispatcher,Iw=Ii.ReactCurrentOwner,rr=Ii.ReactCurrentBatchConfig,Ne=0,$t=null,St=null,qt=0,$n=0,cs=To(0),Ot=0,uc=null,pa=0,Zp=0,Ow=0,Ru=null,Tn=null,Cw=0,js=1/0,Zr=null,Id=!1,Uv=null,lo=null,gh=!1,Zi=null,Od=0,Nu=0,Bv=null,Xh=-1,Yh=0;function bn(){return Ne&6?bt():Xh!==-1?Xh:Xh=bt()}function uo(t){return t.mode&1?Ne&2&&qt!==0?qt&-qt:tF.transition!==null?(Yh===0&&(Yh=AC()),Yh):(t=Be,t!==0||(t=window.event,t=t===void 0?16:NC(t.type)),t):1}function wr(t,e,n,r){if(50<Nu)throw Nu=0,Bv=null,Error(J(185));ff(t,n,r),(!(Ne&2)||t!==$t)&&(t===$t&&(!(Ne&2)&&(Zp|=n),Ot===4&&qi(t,qt)),kn(t,r),n===1&&Ne===0&&!(e.mode&1)&&(js=bt()+500,Xp&&Ao()))}function kn(t,e){var n=t.callbackNode;tV(t,e);var r=hd(t,t===$t?qt:0);if(r===0)n!==null&&gE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&gE(n),e===1)t.tag===0?eF(lS.bind(null,t)):JC(lS.bind(null,t)),YV(function(){!(Ne&6)&&Ao()}),n=null;else{switch(PC(r)){case 1:n=nw;break;case 4:n=SC;break;case 16:n=fd;break;case 536870912:n=TC;break;default:n=fd}n=Yk(n,zk.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function zk(t,e){if(Xh=-1,Yh=0,Ne&6)throw Error(J(327));var n=t.callbackNode;if(bs()&&t.callbackNode!==n)return null;var r=hd(t,t===$t?qt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Cd(t,r);else{e=r;var i=Ne;Ne|=2;var o=qk();($t!==t||qt!==e)&&(Zr=null,js=bt()+500,oa(t,e));do try{bF();break}catch(s){Wk(t,s)}while(!0);mw(),Pd.current=o,Ne=i,St!==null?e=0:($t=null,qt=0,e=Ot)}if(e!==0){if(e===2&&(i=mv(t),i!==0&&(r=i,e=zv(t,i))),e===1)throw n=uc,oa(t,0),qi(t,r),kn(t,bt()),n;if(e===6)qi(t,r);else{if(i=t.current.alternate,!(r&30)&&!_F(i)&&(e=Cd(t,r),e===2&&(o=mv(t),o!==0&&(r=o,e=zv(t,o))),e===1))throw n=uc,oa(t,0),qi(t,r),kn(t,bt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(J(345));case 2:qo(t,Tn,Zr);break;case 3:if(qi(t,r),(r&130023424)===r&&(e=Cw+500-bt(),10<e)){if(hd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){bn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ev(qo.bind(null,t,Tn,Zr),e);break}qo(t,Tn,Zr);break;case 4:if(qi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-_r(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=bt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*vF(r/1960))-r,10<r){t.timeoutHandle=Ev(qo.bind(null,t,Tn,Zr),r);break}qo(t,Tn,Zr);break;case 5:qo(t,Tn,Zr);break;default:throw Error(J(329))}}}return kn(t,bt()),t.callbackNode===n?zk.bind(null,t):null}function zv(t,e){var n=Ru;return t.current.memoizedState.isDehydrated&&(oa(t,e).flags|=256),t=Cd(t,e),t!==2&&(e=Tn,Tn=n,e!==null&&Wv(e)),t}function Wv(t){Tn===null?Tn=t:Tn.push.apply(Tn,t)}function _F(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!xr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function qi(t,e){for(e&=~Ow,e&=~Zp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-_r(e),r=1<<n;t[n]=-1,e&=~r}}function lS(t){if(Ne&6)throw Error(J(327));bs();var e=hd(t,0);if(!(e&1))return kn(t,bt()),null;var n=Cd(t,e);if(t.tag!==0&&n===2){var r=mv(t);r!==0&&(e=r,n=zv(t,r))}if(n===1)throw n=uc,oa(t,0),qi(t,e),kn(t,bt()),n;if(n===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,qo(t,Tn,Zr),kn(t,bt()),null}function kw(t,e){var n=Ne;Ne|=1;try{return t(e)}finally{Ne=n,Ne===0&&(js=bt()+500,Xp&&Ao())}}function ma(t){Zi!==null&&Zi.tag===0&&!(Ne&6)&&bs();var e=Ne;Ne|=1;var n=rr.transition,r=Be;try{if(rr.transition=null,Be=1,t)return t()}finally{Be=r,rr.transition=n,Ne=e,!(Ne&6)&&Ao()}}function Rw(){$n=cs.current,at(cs)}function oa(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,XV(n)),St!==null)for(n=St.return;n!==null;){var r=n;switch(hw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&yd();break;case 3:Ns(),at(On),at(un),bw();break;case 5:ww(r);break;case 4:Ns();break;case 13:at(ct);break;case 19:at(ct);break;case 10:gw(r.type._context);break;case 22:case 23:Rw()}n=n.return}if($t=t,St=t=co(t.current,null),qt=$n=e,Ot=0,uc=null,Ow=Zp=pa=0,Tn=Ru=null,Jo!==null){for(e=0;e<Jo.length;e++)if(n=Jo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}Jo=null}return t}function Wk(t,e){do{var n=St;try{if(mw(),Hh.current=Ad,Td){for(var r=ft.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Td=!1}if(da=0,jt=It=ft=null,Cu=!1,ac=0,Iw.current=null,n===null||n.return===null){Ot=1,uc=e,St=null;break}e:{var o=t,a=n.return,s=n,l=e;if(e=qt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=XE(a);if(p!==null){p.flags&=-257,YE(p,a,s,o,e),p.mode&1&&GE(o,u,e),e=p,l=u;var g=e.updateQueue;if(g===null){var y=new Set;y.add(l),e.updateQueue=y}else g.add(l);break e}else{if(!(e&1)){GE(o,u,e),Nw();break e}l=Error(J(426))}}else if(lt&&s.mode&1){var v=XE(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),YE(v,a,s,o,e),dw(Ds(l,s));break e}}o=l=Ds(l,s),Ot!==4&&(Ot=2),Ru===null?Ru=[o]:Ru.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var b=Pk(o,l,e);BE(o,b);break e;case 1:s=l;var m=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof m.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(lo===null||!lo.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var x=Ik(o,s,e);BE(o,x);break e}}o=o.return}while(o!==null)}Kk(n)}catch(T){e=T,St===n&&n!==null&&(St=n=n.return);continue}break}while(!0)}function qk(){var t=Pd.current;return Pd.current=Ad,t===null?Ad:t}function Nw(){(Ot===0||Ot===3||Ot===2)&&(Ot=4),$t===null||!(pa&268435455)&&!(Zp&268435455)||qi($t,qt)}function Cd(t,e){var n=Ne;Ne|=2;var r=qk();($t!==t||qt!==e)&&(Zr=null,oa(t,e));do try{wF();break}catch(i){Wk(t,i)}while(!0);if(mw(),Ne=n,Pd.current=r,St!==null)throw Error(J(261));return $t=null,qt=0,Ot}function wF(){for(;St!==null;)Hk(St)}function bF(){for(;St!==null&&!HL();)Hk(St)}function Hk(t){var e=Xk(t.alternate,t,$n);t.memoizedProps=t.pendingProps,e===null?Kk(t):St=e,Iw.current=null}function Kk(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=pF(n,e),n!==null){n.flags&=32767,St=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ot=6,St=null;return}}else if(n=dF(n,e,$n),n!==null){St=n;return}if(e=e.sibling,e!==null){St=e;return}St=e=t}while(e!==null);Ot===0&&(Ot=5)}function qo(t,e,n){var r=Be,i=rr.transition;try{rr.transition=null,Be=1,xF(t,e,n,r)}finally{rr.transition=i,Be=r}return null}function xF(t,e,n,r){do bs();while(Zi!==null);if(Ne&6)throw Error(J(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(nV(t,o),t===$t&&(St=$t=null,qt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||gh||(gh=!0,Yk(fd,function(){return bs(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=rr.transition,rr.transition=null;var a=Be;Be=1;var s=Ne;Ne|=4,Iw.current=null,gF(t,n),Uk(n,t),BV(bv),dd=!!wv,bv=wv=null,t.current=n,yF(n),KL(),Ne=s,Be=a,rr.transition=o}else t.current=n;if(gh&&(gh=!1,Zi=t,Od=i),o=t.pendingLanes,o===0&&(lo=null),YL(n.stateNode),kn(t,bt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Id)throw Id=!1,t=Uv,Uv=null,t;return Od&1&&t.tag!==0&&bs(),o=t.pendingLanes,o&1?t===Bv?Nu++:(Nu=0,Bv=t):Nu=0,Ao(),null}function bs(){if(Zi!==null){var t=PC(Od),e=rr.transition,n=Be;try{if(rr.transition=null,Be=16>t?16:t,Zi===null)var r=!1;else{if(t=Zi,Zi=null,Od=0,Ne&6)throw Error(J(331));var i=Ne;for(Ne|=4,oe=t.current;oe!==null;){var o=oe,a=o.child;if(oe.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(oe=u;oe!==null;){var c=oe;switch(c.tag){case 0:case 11:case 15:ku(8,c,o)}var f=c.child;if(f!==null)f.return=c,oe=f;else for(;oe!==null;){c=oe;var d=c.sibling,p=c.return;if(Lk(c),c===u){oe=null;break}if(d!==null){d.return=p,oe=d;break}oe=p}}}var g=o.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}oe=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,oe=a;else e:for(;oe!==null;){if(o=oe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ku(9,o,o.return)}var b=o.sibling;if(b!==null){b.return=o.return,oe=b;break e}oe=o.return}}var m=t.current;for(oe=m;oe!==null;){a=oe;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,oe=_;else e:for(a=m;oe!==null;){if(s=oe,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Jp(9,s)}}catch(T){yt(s,s.return,T)}if(s===a){oe=null;break e}var x=s.sibling;if(x!==null){x.return=s.return,oe=x;break e}oe=s.return}}if(Ne=i,Ao(),$r&&typeof $r.onPostCommitFiberRoot=="function")try{$r.onPostCommitFiberRoot(Wp,t)}catch{}r=!0}return r}finally{Be=n,rr.transition=e}}return!1}function uS(t,e,n){e=Ds(n,e),e=Pk(t,e,1),t=so(t,e,1),e=bn(),t!==null&&(ff(t,1,e),kn(t,e))}function yt(t,e,n){if(t.tag===3)uS(t,t,n);else for(;e!==null;){if(e.tag===3){uS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(lo===null||!lo.has(r))){t=Ds(n,t),t=Ik(e,t,1),e=so(e,t,1),t=bn(),e!==null&&(ff(e,1,t),kn(e,t));break}}e=e.return}}function EF(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=bn(),t.pingedLanes|=t.suspendedLanes&n,$t===t&&(qt&n)===n&&(Ot===4||Ot===3&&(qt&130023424)===qt&&500>bt()-Cw?oa(t,0):Ow|=n),kn(t,e)}function Gk(t,e){e===0&&(t.mode&1?(e=ah,ah<<=1,!(ah&130023424)&&(ah=4194304)):e=1);var n=bn();t=vi(t,e),t!==null&&(ff(t,e,n),kn(t,n))}function SF(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Gk(t,n)}function TF(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(e),Gk(t,n)}var Xk;Xk=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||On.current)Pn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Pn=!1,hF(t,e,n);Pn=!!(t.flags&131072)}else Pn=!1,lt&&e.flags&1048576&&ZC(e,wd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Gh(t,e),t=e.pendingProps;var i=Cs(e,un.current);ws(e,n),i=Ew(null,e,r,t,i,n);var o=Sw();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Cn(r)?(o=!0,vd(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,vw(e),i.updater=Qp,e.stateNode=i,i._reactInternals=e,Cv(e,r,t,n),e=Nv(null,e,r,!0,o,n)):(e.tag=0,lt&&o&&fw(e),gn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Gh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=PF(r),t=pr(r,t),i){case 0:e=Rv(null,e,r,t,n);break e;case 1:e=ZE(null,e,r,t,n);break e;case 11:e=QE(null,e,r,t,n);break e;case 14:e=JE(null,e,r,pr(r.type,t),n);break e}throw Error(J(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pr(r,i),Rv(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pr(r,i),ZE(t,e,r,i,n);case 3:e:{if(Rk(e),t===null)throw Error(J(387));r=e.pendingProps,o=e.memoizedState,i=o.element,ok(t,e),Ed(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Ds(Error(J(423)),e),e=eS(t,e,r,n,i);break e}else if(r!==i){i=Ds(Error(J(424)),e),e=eS(t,e,r,n,i);break e}else for(Fn=ao(e.stateNode.containerInfo.firstChild),Bn=e,lt=!0,yr=null,n=rk(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ks(),r===i){e=_i(t,e,n);break e}gn(t,e,r,n)}e=e.child}return e;case 5:return ak(e),t===null&&Pv(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,xv(r,i)?a=null:o!==null&&xv(r,o)&&(e.flags|=32),kk(t,e),gn(t,e,a,n),e.child;case 6:return t===null&&Pv(e),null;case 13:return Nk(t,e,n);case 4:return _w(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Rs(e,null,r,n):gn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pr(r,i),QE(t,e,r,i,n);case 7:return gn(t,e,e.pendingProps,n),e.child;case 8:return gn(t,e,e.pendingProps.children,n),e.child;case 12:return gn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,Je(bd,r._currentValue),r._currentValue=a,o!==null)if(xr(o.value,a)){if(o.children===i.children&&!On.current){e=_i(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=ci(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Iv(o.return,n,e),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(J(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Iv(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}gn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ws(e,n),i=ar(i),r=r(i),e.flags|=1,gn(t,e,r,n),e.child;case 14:return r=e.type,i=pr(r,e.pendingProps),i=pr(r.type,i),JE(t,e,r,i,n);case 15:return Ok(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pr(r,i),Gh(t,e),e.tag=1,Cn(r)?(t=!0,vd(e)):t=!1,ws(e,n),Ak(e,r,i),Cv(e,r,i,n),Nv(null,e,r,!0,t,n);case 19:return Dk(t,e,n);case 22:return Ck(t,e,n)}throw Error(J(156,e.tag))};function Yk(t,e){return EC(t,e)}function AF(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tr(t,e,n,r){return new AF(t,e,n,r)}function Dw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function PF(t){if(typeof t=="function")return Dw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Z_)return 11;if(t===ew)return 14}return 2}function co(t,e){var n=t.alternate;return n===null?(n=tr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Qh(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")Dw(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case es:return aa(n.children,i,o,e);case J_:a=8,i|=8;break;case ev:return t=tr(12,n,e,i|2),t.elementType=ev,t.lanes=o,t;case tv:return t=tr(13,n,e,i),t.elementType=tv,t.lanes=o,t;case nv:return t=tr(19,n,e,i),t.elementType=nv,t.lanes=o,t;case aC:return em(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case iC:a=10;break e;case oC:a=9;break e;case Z_:a=11;break e;case ew:a=14;break e;case Fi:a=16,r=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=tr(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function aa(t,e,n,r){return t=tr(7,t,r,e),t.lanes=n,t}function em(t,e,n,r){return t=tr(22,t,r,e),t.elementType=aC,t.lanes=n,t.stateNode={isHidden:!1},t}function sy(t,e,n){return t=tr(6,t,null,e),t.lanes=n,t}function ly(t,e,n){return e=tr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function IF(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bg(0),this.expirationTimes=Bg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function jw(t,e,n,r,i,o,a,s,l){return t=new IF(t,e,n,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=tr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},vw(o),t}function OF(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Za,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Qk(t){if(!t)return _o;t=t._reactInternals;e:{if(Oa(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Cn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var n=t.type;if(Cn(n))return QC(t,n,e)}return e}function Jk(t,e,n,r,i,o,a,s,l){return t=jw(n,r,!0,t,i,o,a,s,l),t.context=Qk(null),n=t.current,r=bn(),i=uo(n),o=ci(r,i),o.callback=e??null,so(n,o,i),t.current.lanes=i,ff(t,i,r),kn(t,r),t}function tm(t,e,n,r){var i=e.current,o=bn(),a=uo(i);return n=Qk(n),e.context===null?e.context=n:e.pendingContext=n,e=ci(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=so(i,e,a),t!==null&&(wr(t,i,a,o),qh(t,i,a)),a}function kd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function cS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Mw(t,e){cS(t,e),(t=t.alternate)&&cS(t,e)}function CF(){return null}var Zk=typeof reportError=="function"?reportError:function(t){console.error(t)};function $w(t){this._internalRoot=t}nm.prototype.render=$w.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));tm(t,e,null,null)};nm.prototype.unmount=$w.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ma(function(){tm(null,t,null,null)}),e[yi]=null}};function nm(t){this._internalRoot=t}nm.prototype.unstable_scheduleHydration=function(t){if(t){var e=CC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Wi.length&&e!==0&&e<Wi[n].priority;n++);Wi.splice(n,0,t),n===0&&RC(t)}};function Lw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function rm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function fS(){}function kF(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=kd(a);o.call(u)}}var a=Jk(e,r,t,0,null,!1,!1,"",fS);return t._reactRootContainer=a,t[yi]=a.current,tc(t.nodeType===8?t.parentNode:t),ma(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=kd(l);s.call(u)}}var l=jw(t,0,!1,null,null,!1,!1,"",fS);return t._reactRootContainer=l,t[yi]=l.current,tc(t.nodeType===8?t.parentNode:t),ma(function(){tm(e,l,n,r)}),l}function im(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=kd(a);s.call(l)}}tm(e,a,t,i)}else a=kF(n,e,t,i,r);return kd(a)}IC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=mu(e.pendingLanes);n!==0&&(rw(e,n|1),kn(e,bt()),!(Ne&6)&&(js=bt()+500,Ao()))}break;case 13:ma(function(){var r=vi(t,1);if(r!==null){var i=bn();wr(r,t,1,i)}}),Mw(t,1)}};iw=function(t){if(t.tag===13){var e=vi(t,134217728);if(e!==null){var n=bn();wr(e,t,134217728,n)}Mw(t,134217728)}};OC=function(t){if(t.tag===13){var e=uo(t),n=vi(t,e);if(n!==null){var r=bn();wr(n,t,e,r)}Mw(t,e)}};CC=function(){return Be};kC=function(t,e){var n=Be;try{return Be=t,e()}finally{Be=n}};hv=function(t,e,n){switch(e){case"input":if(ov(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Gp(r);if(!i)throw Error(J(90));lC(r),ov(r,i)}}}break;case"textarea":cC(t,n);break;case"select":e=n.value,e!=null&&gs(t,!!n.multiple,e,!1)}};yC=kw;vC=ma;var RF={usingClientEntryPoint:!1,Events:[df,is,Gp,mC,gC,kw]},Jl={findFiberByHostInstance:Qo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},NF={bundleType:Jl.bundleType,version:Jl.version,rendererPackageName:Jl.rendererPackageName,rendererConfig:Jl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ii.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=bC(t),t===null?null:t.stateNode},findFiberByHostInstance:Jl.findFiberByHostInstance||CF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yh.isDisabled&&yh.supportsFiber)try{Wp=yh.inject(NF),$r=yh}catch{}}qn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RF;qn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lw(e))throw Error(J(200));return OF(t,e,null,n)};qn.createRoot=function(t,e){if(!Lw(t))throw Error(J(299));var n=!1,r="",i=Zk;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=jw(t,1,!1,null,null,n,!1,r,i),t[yi]=e.current,tc(t.nodeType===8?t.parentNode:t),new $w(e)};qn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=bC(e),t=t===null?null:t.stateNode,t};qn.flushSync=function(t){return ma(t)};qn.hydrate=function(t,e,n){if(!rm(e))throw Error(J(200));return im(null,t,e,!0,n)};qn.hydrateRoot=function(t,e,n){if(!Lw(t))throw Error(J(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=Zk;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=Jk(e,null,t,1,n??null,i,!1,o,a),t[yi]=e.current,tc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new nm(e)};qn.render=function(t,e,n){if(!rm(e))throw Error(J(200));return im(null,t,e,!1,n)};qn.unmountComponentAtNode=function(t){if(!rm(t))throw Error(J(40));return t._reactRootContainer?(ma(function(){im(null,null,t,!1,function(){t._reactRootContainer=null,t[yi]=null})}),!0):!1};qn.unstable_batchedUpdates=kw;qn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!rm(n))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return im(t,e,n,!1,r)};qn.version="18.3.1-next-f1338f8080-20240426";function eR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(eR)}catch(t){console.error(t)}}eR(),eC.exports=qn;var DF=eC.exports,tR,hS=DF;tR=hS.createRoot,hS.hydrateRoot;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cc(){return cc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cc.apply(this,arguments)}var eo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(eo||(eo={}));const dS="popstate";function jF(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:a,hash:s}=r.location;return qv("",{pathname:o,search:a,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Rd(i)}return $F(e,n,null,t)}function xt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function nR(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function MF(){return Math.random().toString(36).substr(2,8)}function pS(t,e){return{usr:t.state,key:t.key,idx:e}}function qv(t,e,n,r){return n===void 0&&(n=null),cc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?cl(e):e,{state:n,key:e&&e.key||r||MF()})}function Rd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function cl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function $F(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=eo.Pop,l=null,u=c();u==null&&(u=0,a.replaceState(cc({},a.state,{idx:u}),""));function c(){return(a.state||{idx:null}).idx}function f(){s=eo.Pop;let v=c(),b=v==null?null:v-u;u=v,l&&l({action:s,location:y.location,delta:b})}function d(v,b){s=eo.Push;let m=qv(y.location,v,b);u=c()+1;let _=pS(m,u),x=y.createHref(m);try{a.pushState(_,"",x)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(x)}o&&l&&l({action:s,location:y.location,delta:1})}function p(v,b){s=eo.Replace;let m=qv(y.location,v,b);u=c();let _=pS(m,u),x=y.createHref(m);a.replaceState(_,"",x),o&&l&&l({action:s,location:y.location,delta:0})}function g(v){let b=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof v=="string"?v:Rd(v);return m=m.replace(/ $/,"%20"),xt(b,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,b)}let y={get action(){return s},get location(){return t(i,a)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(dS,f),l=v,()=>{i.removeEventListener(dS,f),l=null}},createHref(v){return e(i,v)},createURL:g,encodeLocation(v){let b=g(v);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:d,replace:p,go(v){return a.go(v)}};return y}var mS;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(mS||(mS={}));function LF(t,e,n){return n===void 0&&(n="/"),VF(t,e,n,!1)}function VF(t,e,n,r){let i=typeof e=="string"?cl(e):e,o=Vw(i.pathname||"/",n);if(o==null)return null;let a=rR(t);FF(a);let s=null;for(let l=0;s==null&&l<a.length;++l){let u=QF(o);s=XF(a[l],u,r)}return s}function rR(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,s)=>{let l={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};l.relativePath.startsWith("/")&&(xt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=fo([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(xt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),rR(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:KF(u,o.index),routesMeta:c})};return t.forEach((o,a)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))i(o,a);else for(let l of iR(o.path))i(o,a,l)}),e}function iR(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=iR(r.join("/")),s=[];return s.push(...a.map(l=>l===""?o:[o,l].join("/"))),i&&s.push(...a),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function FF(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:GF(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const UF=/^:[\w-]+$/,BF=3,zF=2,WF=1,qF=10,HF=-2,gS=t=>t==="*";function KF(t,e){let n=t.split("/"),r=n.length;return n.some(gS)&&(r+=HF),e&&(r+=zF),n.filter(i=>!gS(i)).reduce((i,o)=>i+(UF.test(o)?BF:o===""?WF:qF),r)}function GF(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function XF(t,e,n){let{routesMeta:r}=t,i={},o="/",a=[];for(let s=0;s<r.length;++s){let l=r[s],u=s===r.length-1,c=o==="/"?e:e.slice(o.length)||"/",f=yS({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),d=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=yS({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:fo([o,f.pathname]),pathnameBase:t4(fo([o,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(o=fo([o,f.pathnameBase]))}return a}function yS(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=YF(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((u,c,f)=>{let{paramName:d,isOptional:p}=c;if(d==="*"){let y=s[f]||"";a=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const g=s[f];return p&&!g?u[d]=void 0:u[d]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:t}}function YF(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),nR(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function QF(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return nR(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Vw(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function JF(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?cl(t):t;return{pathname:n?n.startsWith("/")?n:ZF(n,e):e,search:n4(r),hash:r4(i)}}function ZF(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function uy(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function e4(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Fw(t,e){let n=e4(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Uw(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=cl(t):(i=cc({},t),xt(!i.pathname||!i.pathname.includes("?"),uy("?","pathname","search",i)),xt(!i.pathname||!i.pathname.includes("#"),uy("#","pathname","hash",i)),xt(!i.search||!i.search.includes("#"),uy("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let d=a.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}s=f>=0?e[f]:"/"}let l=JF(i,s),u=a&&a!=="/"&&a.endsWith("/"),c=(o||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const fo=t=>t.join("/").replace(/\/\/+/g,"/"),t4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),n4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,r4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function i4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const oR=["post","put","patch","delete"];new Set(oR);const o4=["get",...oR];new Set(o4);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fc(){return fc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fc.apply(this,arguments)}const Bw=j.createContext(null),a4=j.createContext(null),Po=j.createContext(null),om=j.createContext(null),Io=j.createContext({outlet:null,matches:[],isDataRoute:!1}),aR=j.createContext(null);function s4(t,e){let{relative:n}=e===void 0?{}:e;fl()||xt(!1);let{basename:r,navigator:i}=j.useContext(Po),{hash:o,pathname:a,search:s}=uR(t,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:fo([r,a])),i.createHref({pathname:l,search:s,hash:o})}function fl(){return j.useContext(om)!=null}function hl(){return fl()||xt(!1),j.useContext(om).location}function sR(t){j.useContext(Po).static||j.useLayoutEffect(t)}function lR(){let{isDataRoute:t}=j.useContext(Io);return t?w4():l4()}function l4(){fl()||xt(!1);let t=j.useContext(Bw),{basename:e,future:n,navigator:r}=j.useContext(Po),{matches:i}=j.useContext(Io),{pathname:o}=hl(),a=JSON.stringify(Fw(i,n.v7_relativeSplatPath)),s=j.useRef(!1);return sR(()=>{s.current=!0}),j.useCallback(function(u,c){if(c===void 0&&(c={}),!s.current)return;if(typeof u=="number"){r.go(u);return}let f=Uw(u,JSON.parse(a),o,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:fo([e,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[e,r,a,o,t])}function uR(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=j.useContext(Po),{matches:i}=j.useContext(Io),{pathname:o}=hl(),a=JSON.stringify(Fw(i,r.v7_relativeSplatPath));return j.useMemo(()=>Uw(t,JSON.parse(a),o,n==="path"),[t,a,o,n])}function u4(t,e){return c4(t,e)}function c4(t,e,n,r){fl()||xt(!1);let{navigator:i}=j.useContext(Po),{matches:o}=j.useContext(Io),a=o[o.length-1],s=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=hl(),c;if(e){var f;let v=typeof e=="string"?cl(e):e;l==="/"||(f=v.pathname)!=null&&f.startsWith(l)||xt(!1),c=v}else c=u;let d=c.pathname||"/",p=d;if(l!=="/"){let v=l.replace(/^\//,"").split("/");p="/"+d.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=LF(t,{pathname:p}),y=m4(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},s,v.params),pathname:fo([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:fo([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),o,n,r);return e&&y?j.createElement(om.Provider,{value:{location:fc({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:eo.Pop}},y):y}function f4(){let t=_4(),e=i4(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:i},n):null,null)}const h4=j.createElement(f4,null);class d4 extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?j.createElement(Io.Provider,{value:this.props.routeContext},j.createElement(aR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function p4(t){let{routeContext:e,match:n,children:r}=t,i=j.useContext(Bw);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(Io.Provider,{value:e},r)}function m4(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,s=(i=n)==null?void 0:i.errors;if(s!=null){let c=a.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);c>=0||xt(!1),a=a.slice(0,Math.min(a.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<a.length;c++){let f=a[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:d,errors:p}=n,g=f.route.loader&&d[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((c,f,d)=>{let p,g=!1,y=null,v=null;n&&(p=s&&f.route.id?s[f.route.id]:void 0,y=f.route.errorElement||h4,l&&(u<0&&d===0?(g=!0,v=null):u===d&&(g=!0,v=f.route.hydrateFallbackElement||null)));let b=e.concat(a.slice(0,d+1)),m=()=>{let _;return p?_=y:g?_=v:f.route.Component?_=j.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=c,j.createElement(p4,{match:f,routeContext:{outlet:c,matches:b,isDataRoute:n!=null},children:_})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?j.createElement(d4,{location:n.location,revalidation:n.revalidation,component:y,error:p,children:m(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):m()},null)}var cR=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(cR||{}),Nd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Nd||{});function g4(t){let e=j.useContext(Bw);return e||xt(!1),e}function y4(t){let e=j.useContext(a4);return e||xt(!1),e}function v4(t){let e=j.useContext(Io);return e||xt(!1),e}function fR(t){let e=v4(),n=e.matches[e.matches.length-1];return n.route.id||xt(!1),n.route.id}function _4(){var t;let e=j.useContext(aR),n=y4(Nd.UseRouteError),r=fR(Nd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function w4(){let{router:t}=g4(cR.UseNavigateStable),e=fR(Nd.UseNavigateStable),n=j.useRef(!1);return sR(()=>{n.current=!0}),j.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,fc({fromRouteId:e},o)))},[t,e])}function zw(t){let{to:e,replace:n,state:r,relative:i}=t;fl()||xt(!1);let{future:o,static:a}=j.useContext(Po),{matches:s}=j.useContext(Io),{pathname:l}=hl(),u=lR(),c=Uw(e,Fw(s,o.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(c);return j.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function Vi(t){xt(!1)}function b4(t){let{basename:e="/",children:n=null,location:r,navigationType:i=eo.Pop,navigator:o,static:a=!1,future:s}=t;fl()&&xt(!1);let l=e.replace(/^\/*/,"/"),u=j.useMemo(()=>({basename:l,navigator:o,static:a,future:fc({v7_relativeSplatPath:!1},s)}),[l,s,o,a]);typeof r=="string"&&(r=cl(r));let{pathname:c="/",search:f="",hash:d="",state:p=null,key:g="default"}=r,y=j.useMemo(()=>{let v=Vw(c,l);return v==null?null:{location:{pathname:v,search:f,hash:d,state:p,key:g},navigationType:i}},[l,c,f,d,p,g,i]);return y==null?null:j.createElement(Po.Provider,{value:u},j.createElement(om.Provider,{children:n,value:y}))}function x4(t){let{children:e,location:n}=t;return u4(Hv(e),n)}new Promise(()=>{});function Hv(t,e){e===void 0&&(e=[]);let n=[];return j.Children.forEach(t,(r,i)=>{if(!j.isValidElement(r))return;let o=[...e,i];if(r.type===j.Fragment){n.push.apply(n,Hv(r.props.children,o));return}r.type!==Vi&&xt(!1),!r.props.index||!r.props.children||xt(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Hv(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kv(){return Kv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kv.apply(this,arguments)}function E4(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function S4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function T4(t,e){return t.button===0&&(!e||e==="_self")&&!S4(t)}const A4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],P4="6";try{window.__reactRouterVersion=P4}catch{}const I4="startTransition",vS=EL[I4];function O4(t){let{basename:e,children:n,future:r,window:i}=t,o=j.useRef();o.current==null&&(o.current=jF({window:i,v5Compat:!0}));let a=o.current,[s,l]=j.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},c=j.useCallback(f=>{u&&vS?vS(()=>l(f)):l(f)},[l,u]);return j.useLayoutEffect(()=>a.listen(c),[a,c]),j.createElement(b4,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:a,future:r})}const C4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",k4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zl=j.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:s,target:l,to:u,preventScrollReset:c,unstable_viewTransition:f}=e,d=E4(e,A4),{basename:p}=j.useContext(Po),g,y=!1;if(typeof u=="string"&&k4.test(u)&&(g=u,C4))try{let _=new URL(window.location.href),x=u.startsWith("//")?new URL(_.protocol+u):new URL(u),T=Vw(x.pathname,p);x.origin===_.origin&&T!=null?u=T+x.search+x.hash:y=!0}catch{}let v=s4(u,{relative:i}),b=R4(u,{replace:a,state:s,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:f});function m(_){r&&r(_),_.defaultPrevented||b(_)}return j.createElement("a",Kv({},d,{href:g||v,onClick:y||o?r:m,ref:n,target:l}))});var _S;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(_S||(_S={}));var wS;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(wS||(wS={}));function R4(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a,unstable_viewTransition:s}=e===void 0?{}:e,l=lR(),u=hl(),c=uR(t,{relative:a});return j.useCallback(f=>{if(T4(f,n)){f.preventDefault();let d=r!==void 0?r:Rd(u)===Rd(c);l(t,{replace:d,state:i,preventScrollReset:o,relative:a,unstable_viewTransition:s})}},[u,l,c,r,i,n,t,o,a,s])}var bS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},N4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],a=t[n++],s=t[n++],l=((i&7)<<18|(o&63)<<12|(a&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},dR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,s=a?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,f=(o&3)<<4|s>>4;let d=(s&15)<<2|u>>6,p=u&63;l||(p=64,a||(d=64)),r.push(n[c],n[f],n[d],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(hR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):N4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||s==null||u==null||f==null)throw new D4;const d=o<<2|s>>4;if(r.push(d),u!==64){const p=s<<4&240|u>>2;if(r.push(p),f!==64){const g=u<<6&192|f;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class D4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const j4=function(t){const e=hR(t);return dR.encodeByteArray(e,!0)},Dd=function(t){return j4(t).replace(/\./g,"")},pR=function(t){try{return dR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4=()=>M4().__FIREBASE_DEFAULTS__,L4=()=>{if(typeof process>"u"||typeof bS>"u")return;const t=bS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},V4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&pR(t[1]);return e&&JSON.parse(e)},am=()=>{try{return $4()||L4()||V4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},mR=t=>{var e,n;return(n=(e=am())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},gR=t=>{const e=mR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},yR=()=>{var t;return(t=am())===null||t===void 0?void 0:t.config},vR=t=>{var e;return(e=am())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Dd(JSON.stringify(n)),Dd(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function U4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function B4(){var t;const e=(t=am())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function z4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function W4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function q4(){const t=cn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function H4(){return!B4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function K4(){try{return typeof indexedDB=="object"}catch{return!1}}function G4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4="FirebaseError";class Gr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=X4,Object.setPrototypeOf(this,Gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mf.prototype.create)}}class mf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?Y4(o,r):"Error",s=`${this.serviceName}: ${a} (${i}).`;return new Gr(i,s,r)}}function Y4(t,e){return t.replace(Q4,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Q4=/\{\$([^}]+)}/g;function J4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function jd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],a=e[i];if(xS(o)&&xS(a)){if(!jd(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function xS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function yu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function vu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Z4(t,e){const n=new eU(t,e);return n.subscribe.bind(n)}class eU{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");tU(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=cy),i.error===void 0&&(i.error=cy),i.complete===void 0&&(i.complete=cy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tU(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function cy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(t){return t&&t._delegate?t._delegate:t}class wo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new F4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iU(e))try{this.getOrInitializeService({instanceIdentifier:Ho})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ho){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ho){return this.instances.has(e)}getOptions(e=Ho){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(o);r===s&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:rU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ho){return this.component?this.component.multipleInstances?e:Ho:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rU(t){return t===Ho?void 0:t}function iU(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new nU(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ie||(Ie={}));const aU={debug:Ie.DEBUG,verbose:Ie.VERBOSE,info:Ie.INFO,warn:Ie.WARN,error:Ie.ERROR,silent:Ie.SILENT},sU=Ie.INFO,lU={[Ie.DEBUG]:"log",[Ie.VERBOSE]:"log",[Ie.INFO]:"info",[Ie.WARN]:"warn",[Ie.ERROR]:"error"},uU=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=lU[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ww{constructor(e){this.name=e,this._logLevel=sU,this._logHandler=uU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?aU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ie.DEBUG,...e),this._logHandler(this,Ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ie.VERBOSE,...e),this._logHandler(this,Ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ie.INFO,...e),this._logHandler(this,Ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ie.WARN,...e),this._logHandler(this,Ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ie.ERROR,...e),this._logHandler(this,Ie.ERROR,...e)}}const cU=(t,e)=>e.some(n=>t instanceof n);let ES,SS;function fU(){return ES||(ES=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hU(){return SS||(SS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wR=new WeakMap,Gv=new WeakMap,bR=new WeakMap,fy=new WeakMap,qw=new WeakMap;function dU(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(ho(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&wR.set(n,t)}).catch(()=>{}),qw.set(e,t),e}function pU(t){if(Gv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});Gv.set(t,e)}let Xv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Gv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ho(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function mU(t){Xv=t(Xv)}function gU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(hy(this),e,...n);return bR.set(r,e.sort?e.sort():[e]),ho(r)}:hU().includes(t)?function(...e){return t.apply(hy(this),e),ho(wR.get(this))}:function(...e){return ho(t.apply(hy(this),e))}}function yU(t){return typeof t=="function"?gU(t):(t instanceof IDBTransaction&&pU(t),cU(t,fU())?new Proxy(t,Xv):t)}function ho(t){if(t instanceof IDBRequest)return dU(t);if(fy.has(t))return fy.get(t);const e=yU(t);return e!==t&&(fy.set(t,e),qw.set(e,t)),e}const hy=t=>qw.get(t);function vU(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),s=ho(a);return r&&a.addEventListener("upgradeneeded",l=>{r(ho(a.result),l.oldVersion,l.newVersion,ho(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),s.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const _U=["get","getKey","getAll","getAllKeys","count"],wU=["put","add","delete","clear"],dy=new Map;function TS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(dy.get(e))return dy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=wU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||_U.includes(n)))return;const o=async function(a,...s){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(s.shift())),(await Promise.all([u[n](...s),i&&l.done]))[0]};return dy.set(e,o),o}mU(t=>({...t,get:(e,n,r)=>TS(e,n)||t.get(e,n,r),has:(e,n)=>!!TS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(xU(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function xU(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Yv="@firebase/app",AS="0.10.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wi=new Ww("@firebase/app"),EU="@firebase/app-compat",SU="@firebase/analytics-compat",TU="@firebase/analytics",AU="@firebase/app-check-compat",PU="@firebase/app-check",IU="@firebase/auth",OU="@firebase/auth-compat",CU="@firebase/database",kU="@firebase/database-compat",RU="@firebase/functions",NU="@firebase/functions-compat",DU="@firebase/installations",jU="@firebase/installations-compat",MU="@firebase/messaging",$U="@firebase/messaging-compat",LU="@firebase/performance",VU="@firebase/performance-compat",FU="@firebase/remote-config",UU="@firebase/remote-config-compat",BU="@firebase/storage",zU="@firebase/storage-compat",WU="@firebase/firestore",qU="@firebase/vertexai-preview",HU="@firebase/firestore-compat",KU="firebase",GU="10.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv="[DEFAULT]",XU={[Yv]:"fire-core",[EU]:"fire-core-compat",[TU]:"fire-analytics",[SU]:"fire-analytics-compat",[PU]:"fire-app-check",[AU]:"fire-app-check-compat",[IU]:"fire-auth",[OU]:"fire-auth-compat",[CU]:"fire-rtdb",[kU]:"fire-rtdb-compat",[RU]:"fire-fn",[NU]:"fire-fn-compat",[DU]:"fire-iid",[jU]:"fire-iid-compat",[MU]:"fire-fcm",[$U]:"fire-fcm-compat",[LU]:"fire-perf",[VU]:"fire-perf-compat",[FU]:"fire-rc",[UU]:"fire-rc-compat",[BU]:"fire-gcs",[zU]:"fire-gcs-compat",[WU]:"fire-fst",[HU]:"fire-fst-compat",[qU]:"fire-vertex","fire-js":"fire-js",[KU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md=new Map,YU=new Map,Jv=new Map;function PS(t,e){try{t.container.addComponent(e)}catch(n){wi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ga(t){const e=t.name;if(Jv.has(e))return wi.debug(`There were multiple attempts to register component ${e}.`),!1;Jv.set(e,t);for(const n of Md.values())PS(n,t);for(const n of YU.values())PS(n,t);return!0}function sm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Nr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},po=new mf("app","Firebase",QU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JU{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw po.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca=GU;function xR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Qv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw po.create("bad-app-name",{appName:String(i)});if(n||(n=yR()),!n)throw po.create("no-options");const o=Md.get(i);if(o){if(jd(n,o.options)&&jd(r,o.config))return o;throw po.create("duplicate-app",{appName:i})}const a=new oU(i);for(const l of Jv.values())a.addComponent(l);const s=new JU(n,r,a);return Md.set(i,s),s}function Hw(t=Qv){const e=Md.get(t);if(!e&&t===Qv&&yR())return xR();if(!e)throw po.create("no-app",{appName:t});return e}function Vr(t,e,n){var r;let i=(r=XU[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const s=[`Unable to register library "${i}" with version "${e}":`];o&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wi.warn(s.join(" "));return}ga(new wo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZU="firebase-heartbeat-database",eB=1,hc="firebase-heartbeat-store";let py=null;function ER(){return py||(py=vU(ZU,eB,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(hc)}catch(n){console.warn(n)}}}}).catch(t=>{throw po.create("idb-open",{originalErrorMessage:t.message})})),py}async function tB(t){try{const n=(await ER()).transaction(hc),r=await n.objectStore(hc).get(SR(t));return await n.done,r}catch(e){if(e instanceof Gr)wi.warn(e.message);else{const n=po.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});wi.warn(n.message)}}}async function IS(t,e){try{const r=(await ER()).transaction(hc,"readwrite");await r.objectStore(hc).put(e,SR(t)),await r.done}catch(n){if(n instanceof Gr)wi.warn(n.message);else{const r=po.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});wi.warn(r.message)}}}function SR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nB=1024,rB=30*24*60*60*1e3;class iB{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new aB(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=OS();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const s=new Date(a.date).valueOf();return Date.now()-s<=rB}),this._storage.overwrite(this._heartbeatsCache))}catch(r){wi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=OS(),{heartbeatsToSend:r,unsentEntries:i}=oB(this._heartbeatsCache.heartbeats),o=Dd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return wi.warn(n),""}}}function OS(){return new Date().toISOString().substring(0,10)}function oB(t,e=nB){const n=[];let r=t.slice();for(const i of t){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),CS(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),CS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class aB{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return K4()?G4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await tB(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return IS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return IS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function CS(t){return Dd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sB(t){ga(new wo("platform-logger",e=>new bU(e),"PRIVATE")),ga(new wo("heartbeat",e=>new iB(e),"PRIVATE")),Vr(Yv,AS,t),Vr(Yv,AS,"esm2017"),Vr("fire-js","")}sB("");function Kw(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function TR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lB=TR,AR=new mf("auth","Firebase",TR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d=new Ww("@firebase/auth");function uB(t,...e){$d.logLevel<=Ie.WARN&&$d.warn(`Auth (${Ca}): ${t}`,...e)}function Jh(t,...e){$d.logLevel<=Ie.ERROR&&$d.error(`Auth (${Ca}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(t,...e){throw Gw(t,...e)}function Fr(t,...e){return Gw(t,...e)}function PR(t,e,n){const r=Object.assign(Object.assign({},lB()),{[e]:n});return new mf("auth","Firebase",r).create(e,{appName:t.name})}function fi(t){return PR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return AR.create(t,...e)}function ge(t,e,...n){if(!t)throw Gw(e,...n)}function ii(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Jh(e),new Error(e)}function bi(t,e){t||ii(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function cB(){return kS()==="http:"||kS()==="https:"}function kS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cB()||z4()||"connection"in navigator)?navigator.onLine:!0}function hB(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,n){this.shortDelay=e,this.longDelay=n,bi(n>e,"Short delay should be less than long delay!"),this.isMobile=U4()||W4()}get(){return fB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(t,e){bi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pB=new yf(3e4,6e4);function Oo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Co(t,e,n,r,i={}){return OR(t,i,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});const s=gf(Object.assign({key:t.config.apiKey},a)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),IR.fetch()(CR(t,t.config.apiHost,n,s),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))})}async function OR(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},dB),e);try{const i=new gB(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw vh(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const s=o.ok?a.errorMessage:a.error.message,[l,u]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw vh(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw vh(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw vh(t,"user-disabled",a);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw PR(t,c,u);Er(t,c)}}catch(i){if(i instanceof Gr)throw i;Er(t,"network-request-failed",{message:String(i)})}}async function vf(t,e,n,r,i={}){const o=await Co(t,e,n,r,i);return"mfaPendingCredential"in o&&Er(t,"multi-factor-auth-required",{_serverResponse:o}),o}function CR(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Xw(t.config,i):`${t.config.apiScheme}://${i}`}function mB(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class gB{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Fr(this.auth,"network-request-failed")),pB.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function vh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Fr(t,e,r);return i.customData._tokenResponse=n,i}function RS(t){return t!==void 0&&t.enterprise!==void 0}class yB{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return mB(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function vB(t,e){return Co(t,"GET","/v2/recaptchaConfig",Oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _B(t,e){return Co(t,"POST","/v1/accounts:delete",e)}async function kR(t,e){return Co(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Du(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function wB(t,e=!1){const n=dt(t),r=await n.getIdToken(e),i=Yw(r);ge(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Du(my(i.auth_time)),issuedAtTime:Du(my(i.iat)),expirationTime:Du(my(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function my(t){return Number(t)*1e3}function Yw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Jh("JWT malformed, contained fewer than 3 sections"),null;try{const i=pR(n);return i?JSON.parse(i):(Jh("Failed to decode base64 JWT payload"),null)}catch(i){return Jh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function NS(t){const e=Yw(t);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Gr&&bB(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function bB({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Du(this.lastLoginAt),this.creationTime=Du(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ld(t){var e;const n=t.auth,r=await t.getIdToken(),i=await dc(t,kR(n,{idToken:r}));ge(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?RR(o.providerUserInfo):[],s=SB(t.providerData,a),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(s!=null&&s.length),c=l?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new e0(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,f)}async function EB(t){const e=dt(t);await Ld(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function SB(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function RR(t){return t.map(e=>{var{providerId:n}=e,r=Kw(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TB(t,e){const n=await OR(t,{},async()=>{const r=gf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=CR(t,i,"/v1/token",`key=${o}`),s=await t._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",IR.fetch()(a,{method:"POST",headers:s,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function AB(t,e){return Co(t,"POST","/v2/accounts:revokeToken",Oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):NS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ge(e.length!==0,"internal-error");const n=NS(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await TB(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new xs;return r&&(ge(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(ge(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(ge(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xs,this.toJSON())}_performRefresh(){return ii("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(t,e){ge(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class oi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Kw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xB(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new e0(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await dc(this,this.stsTokenManager.getToken(this.auth,e));return ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return wB(this,e)}reload(){return EB(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new oi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ld(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Nr(this.auth.app))return Promise.reject(fi(this.auth));const e=await this.getIdToken();return await dc(this,_B(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,a,s,l,u,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,p=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,g=(a=n.photoURL)!==null&&a!==void 0?a:void 0,y=(s=n.tenantId)!==null&&s!==void 0?s:void 0,v=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,b=(u=n.createdAt)!==null&&u!==void 0?u:void 0,m=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:_,emailVerified:x,isAnonymous:T,providerData:O,stsTokenManager:S}=n;ge(_&&S,e,"internal-error");const E=xs.fromJSON(this.name,S);ge(typeof _=="string",e,"internal-error"),Li(f,e.name),Li(d,e.name),ge(typeof x=="boolean",e,"internal-error"),ge(typeof T=="boolean",e,"internal-error"),Li(p,e.name),Li(g,e.name),Li(y,e.name),Li(v,e.name),Li(b,e.name),Li(m,e.name);const I=new oi({uid:_,auth:e,email:d,emailVerified:x,displayName:f,isAnonymous:T,photoURL:g,phoneNumber:p,tenantId:y,stsTokenManager:E,createdAt:b,lastLoginAt:m});return O&&Array.isArray(O)&&(I.providerData=O.map(C=>Object.assign({},C))),v&&(I._redirectEventId=v),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new xs;i.updateFromServerResponse(n);const o=new oi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ld(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ge(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?RR(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),s=new xs;s.updateFromIdToken(r);const l=new oi({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new e0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS=new Map;function ai(t){bi(t instanceof Function,"Expected a class definition");let e=DS.get(t);return e?(bi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,DS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}NR.type="NONE";const jS=NR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(t,e,n){return`firebase:${t}:${e}:${n}`}class Es{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Zh(this.userKey,i.apiKey,o),this.fullPersistenceKey=Zh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?oi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Es(ai(jS),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||ai(jS);const a=Zh(r,e.config.apiKey,e.name);let s=null;for(const u of n)try{const c=await u._get(a);if(c){const f=oi._fromJSON(e,c);u!==o&&(s=f),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Es(o,e,r):(o=l[0],s&&await o._set(a,s.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(a)}catch{}})),new Es(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($R(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(DR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(VR(e))return"Blackberry";if(FR(e))return"Webos";if(jR(e))return"Safari";if((e.includes("chrome/")||MR(e))&&!e.includes("edge/"))return"Chrome";if(LR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function DR(t=cn()){return/firefox\//i.test(t)}function jR(t=cn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function MR(t=cn()){return/crios\//i.test(t)}function $R(t=cn()){return/iemobile/i.test(t)}function LR(t=cn()){return/android/i.test(t)}function VR(t=cn()){return/blackberry/i.test(t)}function FR(t=cn()){return/webos/i.test(t)}function Qw(t=cn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function PB(t=cn()){var e;return Qw(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function IB(){return q4()&&document.documentMode===10}function UR(t=cn()){return Qw(t)||LR(t)||FR(t)||VR(t)||/windows phone/i.test(t)||$R(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(t,e=[]){let n;switch(t){case"Browser":n=MS(cn());break;case"Worker":n=`${MS(cn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ca}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OB{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((a,s)=>{try{const l=e(o);a(l)}catch(l){s(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CB(t,e={}){return Co(t,"GET","/v2/passwordPolicy",Oo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kB=6;class RB{constructor(e){var n,r,i,o;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:kB,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,a,s;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(s=l.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NB{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $S(this),this.idTokenSubscription=new $S(this),this.beforeStateQueue=new OB(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ai(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Es.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await kR(this,{idToken:e}),r=await oi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Nr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(s,s))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,s=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===s)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ld(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=hB()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Nr(this.app))return Promise.reject(fi(this));const n=e?dt(e):null;return n&&ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Nr(this.app)?Promise.reject(fi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Nr(this.app)?Promise.reject(fi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ai(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await CB(this),n=new RB(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new mf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await AB(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ai(e)||this._popupRedirectResolver;ge(n,this,"argument-error"),this.redirectPersistenceManager=await Es.create(this,[ai(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(s,this,"internal-error"),s.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=BR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&uB(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ka(t){return dt(t)}class $S{constructor(e){this.auth=e,this.observer=null,this.addObserver=Z4(n=>this.observer=n)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function DB(t){lm=t}function zR(t){return lm.loadJS(t)}function jB(){return lm.recaptchaEnterpriseScript}function MB(){return lm.gapiScript}function $B(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const LB="recaptcha-enterprise",VB="NO_RECAPTCHA";class FB{constructor(e){this.type=LB,this.auth=ka(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,s)=>{vB(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const u=new yB(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,a(u.siteKey)}}).catch(l=>{s(l)})})}function i(o,a,s){const l=window.grecaptcha;RS(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{a(u)}).catch(()=>{a(VB)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,a)=>{r(this.auth).then(s=>{if(!n&&RS(window.grecaptcha))i(s,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=jB();l.length!==0&&(l+=s),zR(l).then(()=>{i(s,o,a)}).catch(u=>{a(u)})}}).catch(s=>{a(s)})})}}async function LS(t,e,n,r=!1){const i=new FB(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function t0(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await LS(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await LS(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UB(t,e){const n=sm(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(jd(o,e??{}))return i;Er(i,"already-initialized")}return n.initialize({options:e})}function BB(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ai);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function zB(t,e,n){const r=ka(t);ge(r._canInitEmulator,r,"emulator-config-failed"),ge(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=WR(e),{host:a,port:s}=WB(e),l=s===null?"":`:${s}`;r.config.emulator={url:`${o}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),qB()}function WR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function WB(t){const e=WR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:VS(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:VS(a)}}}function VS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function qB(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ii("not implemented")}_getIdTokenResponse(e){return ii("not implemented")}_linkToIdToken(e,n){return ii("not implemented")}_getReauthenticationResolver(e){return ii("not implemented")}}async function HB(t,e){return Co(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KB(t,e){return vf(t,"POST","/v1/accounts:signInWithPassword",Oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GB(t,e){return vf(t,"POST","/v1/accounts:signInWithEmailLink",Oo(t,e))}async function XB(t,e){return vf(t,"POST","/v1/accounts:signInWithEmailLink",Oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc extends Jw{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new pc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new pc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return t0(e,n,"signInWithPassword",KB);case"emailLink":return GB(e,{email:this._email,oobCode:this._password});default:Er(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return t0(e,r,"signUpPassword",HB);case"emailLink":return XB(e,{idToken:n,email:this._email,oobCode:this._password});default:Er(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ss(t,e){return vf(t,"POST","/v1/accounts:signInWithIdp",Oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YB="http://localhost";class ya extends Jw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ya(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Er("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Kw(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new ya(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Ss(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ss(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ss(e,n)}buildRequest(){const e={requestUri:YB,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=gf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QB(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function JB(t){const e=yu(vu(t)).link,n=e?yu(vu(e)).deep_link_id:null,r=yu(vu(t)).deep_link_id;return(r?yu(vu(r)).link:null)||r||n||e||t}class Zw{constructor(e){var n,r,i,o,a,s;const l=yu(vu(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,f=QB((i=l.mode)!==null&&i!==void 0?i:null);ge(u&&c&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=c,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(a=l.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(s=l.tenantId)!==null&&s!==void 0?s:null}static parseLink(e){const n=JB(e);try{return new Zw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(){this.providerId=dl.PROVIDER_ID}static credential(e,n){return pc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Zw.parseLink(n);return ge(r,"argument-error"),pc._fromEmailAndCode(e,r.code,r.tenantId)}}dl.PROVIDER_ID="password";dl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";dl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f extends qR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends _f{constructor(){super("facebook.com")}static credential(e){return ya._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hi.credential(e.oauthAccessToken)}catch{return null}}}Hi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends _f{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ya._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ki.credential(n,r)}catch{return null}}}Ki.GOOGLE_SIGN_IN_METHOD="google.com";Ki.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends _f{constructor(){super("github.com")}static credential(e){return ya._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gi.credential(e.oauthAccessToken)}catch{return null}}}Gi.GITHUB_SIGN_IN_METHOD="github.com";Gi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends _f{constructor(){super("twitter.com")}static credential(e,n){return ya._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Xi.credential(n,r)}catch{return null}}}Xi.TWITTER_SIGN_IN_METHOD="twitter.com";Xi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZB(t,e){return vf(t,"POST","/v1/accounts:signUp",Oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await oi._fromIdTokenResponse(e,r,i),a=FS(r);return new va({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=FS(r);return new va({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function FS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd extends Gr{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Vd.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Vd(e,n,r,i)}}function HR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Vd._fromErrorAndOperation(t,o,e,r):o})}async function e3(t,e,n=!1){const r=await dc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return va._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t3(t,e,n=!1){const{auth:r}=t;if(Nr(r.app))return Promise.reject(fi(r));const i="reauthenticate";try{const o=await dc(t,HR(r,i,e,t),n);ge(o.idToken,r,"internal-error");const a=Yw(o.idToken);ge(a,r,"internal-error");const{sub:s}=a;return ge(t.uid===s,r,"user-mismatch"),va._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Er(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KR(t,e,n=!1){if(Nr(t.app))return Promise.reject(fi(t));const r="signIn",i=await HR(t,r,e),o=await va._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function n3(t,e){return KR(ka(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GR(t){const e=ka(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function r3(t,e,n){if(Nr(t.app))return Promise.reject(fi(t));const r=ka(t),a=await t0(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ZB).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&GR(t),l}),s=await va._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(s.user),s}function i3(t,e,n){return Nr(t.app)?Promise.reject(fi(t)):n3(dt(t),dl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&GR(t),r})}function o3(t,e,n,r){return dt(t).onIdTokenChanged(e,n,r)}function a3(t,e,n){return dt(t).beforeAuthStateChanged(e,n)}function s3(t,e,n,r){return dt(t).onAuthStateChanged(e,n,r)}function l3(t){return dt(t).signOut()}const Fd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Fd,"1"),this.storage.removeItem(Fd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3=1e3,c3=10;class YR extends XR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=UR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,s,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);IB()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,c3):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},u3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}YR.type="LOCAL";const f3=YR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR extends XR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}QR.type="SESSION";const JR=QR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new um(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(a).map(async u=>u(n.origin,o)),l=await h3(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}um.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((s,l)=>{const u=eb("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),s(d.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(){return window}function p3(t){Ur().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(){return typeof Ur().WorkerGlobalScope<"u"&&typeof Ur().importScripts=="function"}async function m3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function g3(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function y3(){return ZR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN="firebaseLocalStorageDb",v3=1,Ud="firebaseLocalStorage",tN="fbase_key";class wf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function cm(t,e){return t.transaction([Ud],e?"readwrite":"readonly").objectStore(Ud)}function _3(){const t=indexedDB.deleteDatabase(eN);return new wf(t).toPromise()}function n0(){const t=indexedDB.open(eN,v3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ud,{keyPath:tN})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ud)?e(r):(r.close(),await _3(),e(await n0()))})})}async function US(t,e,n){const r=cm(t,!0).put({[tN]:e,value:n});return new wf(r).toPromise()}async function w3(t,e){const n=cm(t,!1).get(e),r=await new wf(n).toPromise();return r===void 0?null:r.value}function BS(t,e){const n=cm(t,!0).delete(e);return new wf(n).toPromise()}const b3=800,x3=3;class nN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await n0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>x3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ZR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=um._getInstance(y3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await m3(),!this.activeServiceWorker)return;this.sender=new d3(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||g3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await n0();return await US(e,Fd,"1"),await BS(e,Fd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>US(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>w3(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>BS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=cm(i,!1).getAll();return new wf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),b3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nN.type="LOCAL";const E3=nN;new yf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S3(t,e){return e?ai(e):(ge(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb extends Jw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ss(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ss(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ss(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function T3(t){return KR(t.auth,new tb(t),t.bypassAuthState)}function A3(t){const{auth:e,user:n}=t;return ge(n,e,"internal-error"),t3(n,new tb(t),t.bypassAuthState)}async function P3(t){const{auth:e,user:n}=t;return ge(n,e,"internal-error"),e3(n,new tb(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:s}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return T3;case"linkViaPopup":case"linkViaRedirect":return P3;case"reauthViaPopup":case"reauthViaRedirect":return A3;default:Er(this.auth,"internal-error")}}resolve(e){bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I3=new yf(2e3,1e4);class fs extends rN{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,fs.currentPopupAction&&fs.currentPopupAction.cancel(),fs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){bi(this.filter.length===1,"Popup operations only handle one event");const e=eb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Fr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Fr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,I3.get())};e()}}fs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3="pendingRedirect",ed=new Map;class C3 extends rN{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ed.get(this.auth._key());if(!e){try{const r=await k3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ed.set(this.auth._key(),e)}return this.bypassAuthState||ed.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function k3(t,e){const n=D3(e),r=N3(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function R3(t,e){ed.set(t._key(),e)}function N3(t){return ai(t._redirectPersistence)}function D3(t){return Zh(O3,t.config.apiKey,t.name)}async function j3(t,e,n=!1){if(Nr(t.app))return Promise.reject(fi(t));const r=ka(t),i=S3(r,e),a=await new C3(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3=10*60*1e3;class $3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!L3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!iN(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Fr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=M3&&this.cachedEventUids.clear(),this.cachedEventUids.has(zS(e))}saveEventToCache(e){this.cachedEventUids.add(zS(e)),this.lastProcessedEventTime=Date.now()}}function zS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function iN({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function L3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iN(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V3(t,e={}){return Co(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,U3=/^https?/;async function B3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await V3(t);for(const n of e)try{if(z3(n))return}catch{}Er(t,"unauthorized-domain")}function z3(t){const e=Zv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!U3.test(n))return!1;if(F3.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W3=new yf(3e4,6e4);function WS(){const t=Ur().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function q3(t){return new Promise((e,n)=>{var r,i,o;function a(){WS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{WS(),n(Fr(t,"network-request-failed"))},timeout:W3.get()})}if(!((i=(r=Ur().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Ur().gapi)===null||o===void 0)&&o.load)a();else{const s=$B("iframefcb");return Ur()[s]=()=>{gapi.load?a():n(Fr(t,"network-request-failed"))},zR(`${MB()}?onload=${s}`).catch(l=>n(l))}}).catch(e=>{throw td=null,e})}let td=null;function H3(t){return td=td||q3(t),td}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3=new yf(5e3,15e3),G3="__/auth/iframe",X3="emulator/auth/iframe",Y3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Q3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function J3(t){const e=t.config;ge(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Xw(e,X3):`https://${t.config.authDomain}/${G3}`,r={apiKey:e.apiKey,appName:t.name,v:Ca},i=Q3.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${gf(r).slice(1)}`}async function Z3(t){const e=await H3(t),n=Ur().gapi;return ge(n,t,"internal-error"),e.open({where:document.body,url:J3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Y3,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const a=Fr(t,"network-request-failed"),s=Ur().setTimeout(()=>{o(a)},K3.get());function l(){Ur().clearTimeout(s),i(r)}r.ping(l).then(l,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},t6=500,n6=600,r6="_blank",i6="http://localhost";class qS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function o6(t,e,n,r=t6,i=n6){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},e6),{width:r.toString(),height:i.toString(),top:o,left:a}),u=cn().toLowerCase();n&&(s=MR(u)?r6:n),DR(u)&&(e=e||i6,l.scrollbars="yes");const c=Object.entries(l).reduce((d,[p,g])=>`${d}${p}=${g},`,"");if(PB(u)&&s!=="_self")return a6(e||"",s),new qS(null);const f=window.open(e||"",s,c);ge(f,t,"popup-blocked");try{f.focus()}catch{}return new qS(f)}function a6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s6="__/auth/handler",l6="emulator/auth/handler",u6=encodeURIComponent("fac");async function HS(t,e,n,r,i,o){ge(t.config.authDomain,t,"auth-domain-config-required"),ge(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ca,eventId:i};if(e instanceof qR){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",J4(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries({}))a[c]=f}if(e instanceof _f){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(a.scopes=c.join(","))}t.tenantId&&(a.tid=t.tenantId);const s=a;for(const c of Object.keys(s))s[c]===void 0&&delete s[c];const l=await t._getAppCheckToken(),u=l?`#${u6}=${encodeURIComponent(l)}`:"";return`${c6(t)}?${gf(s).slice(1)}${u}`}function c6({config:t}){return t.emulator?Xw(t,l6):`https://${t.authDomain}/${s6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy="webStorageSupport";class f6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=JR,this._completeRedirectFn=j3,this._overrideRedirectResult=R3}async _openPopup(e,n,r,i){var o;bi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await HS(e,n,r,Zv(),i);return o6(e,a,eb())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await HS(e,n,r,Zv(),i);return p3(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(bi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Z3(e),r=new $3(e);return n.register("authEvent",i=>(ge(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(gy,{type:gy},i=>{var o;const a=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[gy];a!==void 0&&n(!!a),Er(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=B3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return UR()||jR()||Qw()}}const h6=f6;var KS="@firebase/auth",GS="1.7.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function m6(t){ga(new wo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;ge(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:BR(t)},u=new NB(r,i,o,l);return BB(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ga(new wo("auth-internal",e=>{const n=ka(e.getProvider("auth").getImmediate());return(r=>new d6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vr(KS,GS,p6(t)),Vr(KS,GS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6=5*60,y6=vR("authIdTokenMaxAge")||g6;let XS=null;const v6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>y6)return;const i=n==null?void 0:n.token;XS!==i&&(XS=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function nb(t=Hw()){const e=sm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=UB(t,{popupRedirectResolver:h6,persistence:[E3,f3,JR]}),r=vR("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const a=v6(o.toString());a3(n,a,()=>a(n.currentUser)),o3(n,s=>a(s))}}const i=mR("auth");return i&&zB(n,`http://${i}`),n}function _6(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}DB({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Fr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",_6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});m6("Browser");var w6="firebase",b6="10.13.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vr(w6,b6,"app");var YS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sa,oN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,E){function I(){}I.prototype=E.prototype,S.D=E.prototype,S.prototype=new I,S.prototype.constructor=S,S.C=function(C,R,N){for(var k=Array(arguments.length-2),V=2;V<arguments.length;V++)k[V-2]=arguments[V];return E.prototype[R].apply(C,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,E,I){I||(I=0);var C=Array(16);if(typeof E=="string")for(var R=0;16>R;++R)C[R]=E.charCodeAt(I++)|E.charCodeAt(I++)<<8|E.charCodeAt(I++)<<16|E.charCodeAt(I++)<<24;else for(R=0;16>R;++R)C[R]=E[I++]|E[I++]<<8|E[I++]<<16|E[I++]<<24;E=S.g[0],I=S.g[1],R=S.g[2];var N=S.g[3],k=E+(N^I&(R^N))+C[0]+3614090360&4294967295;E=I+(k<<7&4294967295|k>>>25),k=N+(R^E&(I^R))+C[1]+3905402710&4294967295,N=E+(k<<12&4294967295|k>>>20),k=R+(I^N&(E^I))+C[2]+606105819&4294967295,R=N+(k<<17&4294967295|k>>>15),k=I+(E^R&(N^E))+C[3]+3250441966&4294967295,I=R+(k<<22&4294967295|k>>>10),k=E+(N^I&(R^N))+C[4]+4118548399&4294967295,E=I+(k<<7&4294967295|k>>>25),k=N+(R^E&(I^R))+C[5]+1200080426&4294967295,N=E+(k<<12&4294967295|k>>>20),k=R+(I^N&(E^I))+C[6]+2821735955&4294967295,R=N+(k<<17&4294967295|k>>>15),k=I+(E^R&(N^E))+C[7]+4249261313&4294967295,I=R+(k<<22&4294967295|k>>>10),k=E+(N^I&(R^N))+C[8]+1770035416&4294967295,E=I+(k<<7&4294967295|k>>>25),k=N+(R^E&(I^R))+C[9]+2336552879&4294967295,N=E+(k<<12&4294967295|k>>>20),k=R+(I^N&(E^I))+C[10]+4294925233&4294967295,R=N+(k<<17&4294967295|k>>>15),k=I+(E^R&(N^E))+C[11]+2304563134&4294967295,I=R+(k<<22&4294967295|k>>>10),k=E+(N^I&(R^N))+C[12]+1804603682&4294967295,E=I+(k<<7&4294967295|k>>>25),k=N+(R^E&(I^R))+C[13]+4254626195&4294967295,N=E+(k<<12&4294967295|k>>>20),k=R+(I^N&(E^I))+C[14]+2792965006&4294967295,R=N+(k<<17&4294967295|k>>>15),k=I+(E^R&(N^E))+C[15]+1236535329&4294967295,I=R+(k<<22&4294967295|k>>>10),k=E+(R^N&(I^R))+C[1]+4129170786&4294967295,E=I+(k<<5&4294967295|k>>>27),k=N+(I^R&(E^I))+C[6]+3225465664&4294967295,N=E+(k<<9&4294967295|k>>>23),k=R+(E^I&(N^E))+C[11]+643717713&4294967295,R=N+(k<<14&4294967295|k>>>18),k=I+(N^E&(R^N))+C[0]+3921069994&4294967295,I=R+(k<<20&4294967295|k>>>12),k=E+(R^N&(I^R))+C[5]+3593408605&4294967295,E=I+(k<<5&4294967295|k>>>27),k=N+(I^R&(E^I))+C[10]+38016083&4294967295,N=E+(k<<9&4294967295|k>>>23),k=R+(E^I&(N^E))+C[15]+3634488961&4294967295,R=N+(k<<14&4294967295|k>>>18),k=I+(N^E&(R^N))+C[4]+3889429448&4294967295,I=R+(k<<20&4294967295|k>>>12),k=E+(R^N&(I^R))+C[9]+568446438&4294967295,E=I+(k<<5&4294967295|k>>>27),k=N+(I^R&(E^I))+C[14]+3275163606&4294967295,N=E+(k<<9&4294967295|k>>>23),k=R+(E^I&(N^E))+C[3]+4107603335&4294967295,R=N+(k<<14&4294967295|k>>>18),k=I+(N^E&(R^N))+C[8]+1163531501&4294967295,I=R+(k<<20&4294967295|k>>>12),k=E+(R^N&(I^R))+C[13]+2850285829&4294967295,E=I+(k<<5&4294967295|k>>>27),k=N+(I^R&(E^I))+C[2]+4243563512&4294967295,N=E+(k<<9&4294967295|k>>>23),k=R+(E^I&(N^E))+C[7]+1735328473&4294967295,R=N+(k<<14&4294967295|k>>>18),k=I+(N^E&(R^N))+C[12]+2368359562&4294967295,I=R+(k<<20&4294967295|k>>>12),k=E+(I^R^N)+C[5]+4294588738&4294967295,E=I+(k<<4&4294967295|k>>>28),k=N+(E^I^R)+C[8]+2272392833&4294967295,N=E+(k<<11&4294967295|k>>>21),k=R+(N^E^I)+C[11]+1839030562&4294967295,R=N+(k<<16&4294967295|k>>>16),k=I+(R^N^E)+C[14]+4259657740&4294967295,I=R+(k<<23&4294967295|k>>>9),k=E+(I^R^N)+C[1]+2763975236&4294967295,E=I+(k<<4&4294967295|k>>>28),k=N+(E^I^R)+C[4]+1272893353&4294967295,N=E+(k<<11&4294967295|k>>>21),k=R+(N^E^I)+C[7]+4139469664&4294967295,R=N+(k<<16&4294967295|k>>>16),k=I+(R^N^E)+C[10]+3200236656&4294967295,I=R+(k<<23&4294967295|k>>>9),k=E+(I^R^N)+C[13]+681279174&4294967295,E=I+(k<<4&4294967295|k>>>28),k=N+(E^I^R)+C[0]+3936430074&4294967295,N=E+(k<<11&4294967295|k>>>21),k=R+(N^E^I)+C[3]+3572445317&4294967295,R=N+(k<<16&4294967295|k>>>16),k=I+(R^N^E)+C[6]+76029189&4294967295,I=R+(k<<23&4294967295|k>>>9),k=E+(I^R^N)+C[9]+3654602809&4294967295,E=I+(k<<4&4294967295|k>>>28),k=N+(E^I^R)+C[12]+3873151461&4294967295,N=E+(k<<11&4294967295|k>>>21),k=R+(N^E^I)+C[15]+530742520&4294967295,R=N+(k<<16&4294967295|k>>>16),k=I+(R^N^E)+C[2]+3299628645&4294967295,I=R+(k<<23&4294967295|k>>>9),k=E+(R^(I|~N))+C[0]+4096336452&4294967295,E=I+(k<<6&4294967295|k>>>26),k=N+(I^(E|~R))+C[7]+1126891415&4294967295,N=E+(k<<10&4294967295|k>>>22),k=R+(E^(N|~I))+C[14]+2878612391&4294967295,R=N+(k<<15&4294967295|k>>>17),k=I+(N^(R|~E))+C[5]+4237533241&4294967295,I=R+(k<<21&4294967295|k>>>11),k=E+(R^(I|~N))+C[12]+1700485571&4294967295,E=I+(k<<6&4294967295|k>>>26),k=N+(I^(E|~R))+C[3]+2399980690&4294967295,N=E+(k<<10&4294967295|k>>>22),k=R+(E^(N|~I))+C[10]+4293915773&4294967295,R=N+(k<<15&4294967295|k>>>17),k=I+(N^(R|~E))+C[1]+2240044497&4294967295,I=R+(k<<21&4294967295|k>>>11),k=E+(R^(I|~N))+C[8]+1873313359&4294967295,E=I+(k<<6&4294967295|k>>>26),k=N+(I^(E|~R))+C[15]+4264355552&4294967295,N=E+(k<<10&4294967295|k>>>22),k=R+(E^(N|~I))+C[6]+2734768916&4294967295,R=N+(k<<15&4294967295|k>>>17),k=I+(N^(R|~E))+C[13]+1309151649&4294967295,I=R+(k<<21&4294967295|k>>>11),k=E+(R^(I|~N))+C[4]+4149444226&4294967295,E=I+(k<<6&4294967295|k>>>26),k=N+(I^(E|~R))+C[11]+3174756917&4294967295,N=E+(k<<10&4294967295|k>>>22),k=R+(E^(N|~I))+C[2]+718787259&4294967295,R=N+(k<<15&4294967295|k>>>17),k=I+(N^(R|~E))+C[9]+3951481745&4294967295,S.g[0]=S.g[0]+E&4294967295,S.g[1]=S.g[1]+(R+(k<<21&4294967295|k>>>11))&4294967295,S.g[2]=S.g[2]+R&4294967295,S.g[3]=S.g[3]+N&4294967295}r.prototype.u=function(S,E){E===void 0&&(E=S.length);for(var I=E-this.blockSize,C=this.B,R=this.h,N=0;N<E;){if(R==0)for(;N<=I;)i(this,S,N),N+=this.blockSize;if(typeof S=="string"){for(;N<E;)if(C[R++]=S.charCodeAt(N++),R==this.blockSize){i(this,C),R=0;break}}else for(;N<E;)if(C[R++]=S[N++],R==this.blockSize){i(this,C),R=0;break}}this.h=R,this.o+=E},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var E=1;E<S.length-8;++E)S[E]=0;var I=8*this.o;for(E=S.length-8;E<S.length;++E)S[E]=I&255,I/=256;for(this.u(S),S=Array(16),E=I=0;4>E;++E)for(var C=0;32>C;C+=8)S[I++]=this.g[E]>>>C&255;return S};function o(S,E){var I=s;return Object.prototype.hasOwnProperty.call(I,S)?I[S]:I[S]=E(S)}function a(S,E){this.h=E;for(var I=[],C=!0,R=S.length-1;0<=R;R--){var N=S[R]|0;C&&N==E||(I[R]=N,C=!1)}this.g=I}var s={};function l(S){return-128<=S&&128>S?o(S,function(E){return new a([E|0],0>E?-1:0)}):new a([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return v(u(-S));for(var E=[],I=1,C=0;S>=I;C++)E[C]=S/I|0,I*=4294967296;return new a(E,0)}function c(S,E){if(S.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(S.charAt(0)=="-")return v(c(S.substring(1),E));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(E,8)),C=f,R=0;R<S.length;R+=8){var N=Math.min(8,S.length-R),k=parseInt(S.substring(R,R+N),E);8>N?(N=u(Math.pow(E,N)),C=C.j(N).add(u(k))):(C=C.j(I),C=C.add(u(k)))}return C}var f=l(0),d=l(1),p=l(16777216);t=a.prototype,t.m=function(){if(y(this))return-v(this).m();for(var S=0,E=1,I=0;I<this.g.length;I++){var C=this.i(I);S+=(0<=C?C:4294967296+C)*E,E*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(g(this))return"0";if(y(this))return"-"+v(this).toString(S);for(var E=u(Math.pow(S,6)),I=this,C="";;){var R=x(I,E).g;I=b(I,R.j(E));var N=((0<I.g.length?I.g[0]:I.h)>>>0).toString(S);if(I=R,g(I))return N+C;for(;6>N.length;)N="0"+N;C=N+C}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function g(S){if(S.h!=0)return!1;for(var E=0;E<S.g.length;E++)if(S.g[E]!=0)return!1;return!0}function y(S){return S.h==-1}t.l=function(S){return S=b(this,S),y(S)?-1:g(S)?0:1};function v(S){for(var E=S.g.length,I=[],C=0;C<E;C++)I[C]=~S.g[C];return new a(I,~S.h).add(d)}t.abs=function(){return y(this)?v(this):this},t.add=function(S){for(var E=Math.max(this.g.length,S.g.length),I=[],C=0,R=0;R<=E;R++){var N=C+(this.i(R)&65535)+(S.i(R)&65535),k=(N>>>16)+(this.i(R)>>>16)+(S.i(R)>>>16);C=k>>>16,N&=65535,k&=65535,I[R]=k<<16|N}return new a(I,I[I.length-1]&-2147483648?-1:0)};function b(S,E){return S.add(v(E))}t.j=function(S){if(g(this)||g(S))return f;if(y(this))return y(S)?v(this).j(v(S)):v(v(this).j(S));if(y(S))return v(this.j(v(S)));if(0>this.l(p)&&0>S.l(p))return u(this.m()*S.m());for(var E=this.g.length+S.g.length,I=[],C=0;C<2*E;C++)I[C]=0;for(C=0;C<this.g.length;C++)for(var R=0;R<S.g.length;R++){var N=this.i(C)>>>16,k=this.i(C)&65535,V=S.i(R)>>>16,K=S.i(R)&65535;I[2*C+2*R]+=k*K,m(I,2*C+2*R),I[2*C+2*R+1]+=N*K,m(I,2*C+2*R+1),I[2*C+2*R+1]+=k*V,m(I,2*C+2*R+1),I[2*C+2*R+2]+=N*V,m(I,2*C+2*R+2)}for(C=0;C<E;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=E;C<2*E;C++)I[C]=0;return new a(I,0)};function m(S,E){for(;(S[E]&65535)!=S[E];)S[E+1]+=S[E]>>>16,S[E]&=65535,E++}function _(S,E){this.g=S,this.h=E}function x(S,E){if(g(E))throw Error("division by zero");if(g(S))return new _(f,f);if(y(S))return E=x(v(S),E),new _(v(E.g),v(E.h));if(y(E))return E=x(S,v(E)),new _(v(E.g),E.h);if(30<S.g.length){if(y(S)||y(E))throw Error("slowDivide_ only works with positive integers.");for(var I=d,C=E;0>=C.l(S);)I=T(I),C=T(C);var R=O(I,1),N=O(C,1);for(C=O(C,2),I=O(I,2);!g(C);){var k=N.add(C);0>=k.l(S)&&(R=R.add(I),N=k),C=O(C,1),I=O(I,1)}return E=b(S,R.j(E)),new _(R,E)}for(R=f;0<=S.l(E);){for(I=Math.max(1,Math.floor(S.m()/E.m())),C=Math.ceil(Math.log(I)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),N=u(I),k=N.j(E);y(k)||0<k.l(S);)I-=C,N=u(I),k=N.j(E);g(N)&&(N=d),R=R.add(N),S=b(S,k)}return new _(R,S)}t.A=function(S){return x(this,S).h},t.and=function(S){for(var E=Math.max(this.g.length,S.g.length),I=[],C=0;C<E;C++)I[C]=this.i(C)&S.i(C);return new a(I,this.h&S.h)},t.or=function(S){for(var E=Math.max(this.g.length,S.g.length),I=[],C=0;C<E;C++)I[C]=this.i(C)|S.i(C);return new a(I,this.h|S.h)},t.xor=function(S){for(var E=Math.max(this.g.length,S.g.length),I=[],C=0;C<E;C++)I[C]=this.i(C)^S.i(C);return new a(I,this.h^S.h)};function T(S){for(var E=S.g.length+1,I=[],C=0;C<E;C++)I[C]=S.i(C)<<1|S.i(C-1)>>>31;return new a(I,S.h)}function O(S,E){var I=E>>5;E%=32;for(var C=S.g.length-I,R=[],N=0;N<C;N++)R[N]=0<E?S.i(N+I)>>>E|S.i(N+I+1)<<32-E:S.i(N+I);return new a(R,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,oN=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=c,sa=a}).apply(typeof YS<"u"?YS:typeof self<"u"?self:typeof window<"u"?window:{});var _h=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var aN,sN,_u,lN,nd,r0,uN,cN,fN;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,w,A){return h==Array.prototype||h==Object.prototype||(h[w]=A.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof _h=="object"&&_h];for(var w=0;w<h.length;++w){var A=h[w];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=n(this);function i(h,w){if(w)e:{var A=r;h=h.split(".");for(var D=0;D<h.length-1;D++){var L=h[D];if(!(L in A))break e;A=A[L]}h=h[h.length-1],D=A[h],w=w(D),w!=D&&w!=null&&e(A,h,{configurable:!0,writable:!0,value:w})}}function o(h,w){h instanceof String&&(h+="");var A=0,D=!1,L={next:function(){if(!D&&A<h.length){var U=A++;return{value:w(U,h[U]),done:!1}}return D=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(h){return h||function(){return o(this,function(w,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function l(h){var w=typeof h;return w=w!="object"?w:h?Array.isArray(h)?"array":w:"null",w=="array"||w=="object"&&typeof h.length=="number"}function u(h){var w=typeof h;return w=="object"&&h!=null||w=="function"}function c(h,w,A){return h.call.apply(h.bind,arguments)}function f(h,w,A){if(!h)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,D),h.apply(w,L)}}return function(){return h.apply(w,arguments)}}function d(h,w,A){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:f,d.apply(null,arguments)}function p(h,w){var A=Array.prototype.slice.call(arguments,1);return function(){var D=A.slice();return D.push.apply(D,arguments),h.apply(this,D)}}function g(h,w){function A(){}A.prototype=w.prototype,h.aa=w.prototype,h.prototype=new A,h.prototype.constructor=h,h.Qb=function(D,L,U){for(var te=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)te[Ge-2]=arguments[Ge];return w.prototype[L].apply(D,te)}}function y(h){const w=h.length;if(0<w){const A=Array(w);for(let D=0;D<w;D++)A[D]=h[D];return A}return[]}function v(h,w){for(let A=1;A<arguments.length;A++){const D=arguments[A];if(l(D)){const L=h.length||0,U=D.length||0;h.length=L+U;for(let te=0;te<U;te++)h[L+te]=D[te]}else h.push(D)}}class b{constructor(w,A){this.i=w,this.j=A,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function m(h){return/^[\s\xa0]*$/.test(h)}function _(){var h=s.navigator;return h&&(h=h.userAgent)?h:""}function x(h){return x[" "](h),h}x[" "]=function(){};var T=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function O(h,w,A){for(const D in h)w.call(A,h[D],D,h)}function S(h,w){for(const A in h)w.call(void 0,h[A],A,h)}function E(h){const w={};for(const A in h)w[A]=h[A];return w}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(h,w){let A,D;for(let L=1;L<arguments.length;L++){D=arguments[L];for(A in D)h[A]=D[A];for(let U=0;U<I.length;U++)A=I[U],Object.prototype.hasOwnProperty.call(D,A)&&(h[A]=D[A])}}function R(h){var w=1;h=h.split(":");const A=[];for(;0<w&&h.length;)A.push(h.shift()),w--;return h.length&&A.push(h.join(":")),A}function N(h){s.setTimeout(()=>{throw h},0)}function k(){var h=W;let w=null;return h.g&&(w=h.g,h.g=h.g.next,h.g||(h.h=null),w.next=null),w}class V{constructor(){this.h=this.g=null}add(w,A){const D=K.get();D.set(w,A),this.h?this.h.next=D:this.g=D,this.h=D}}var K=new b(()=>new B,h=>h.reset());class B{constructor(){this.next=this.g=this.h=null}set(w,A){this.h=w,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let z,$=!1,W=new V,Y=()=>{const h=s.Promise.resolve(void 0);z=()=>{h.then(ne)}};var ne=()=>{for(var h;h=k();){try{h.h.call(h.g)}catch(A){N(A)}var w=K;w.j(h),100>w.h&&(w.h++,h.next=w.g,w.g=h)}$=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(h,w){this.type=h,this.g=this.target=w,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var Ce=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var h=!1,w=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const A=()=>{};s.addEventListener("test",A,w),s.removeEventListener("test",A,w)}catch{}return h}();function Ve(h,w){if(se.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var A=this.type=h.type,D=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=w,w=h.relatedTarget){if(T){e:{try{x(w.nodeName);var L=!0;break e}catch{}L=!1}L||(w=null)}}else A=="mouseover"?w=h.fromElement:A=="mouseout"&&(w=h.toElement);this.relatedTarget=w,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:mt[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ve.aa.h.call(this)}}g(Ve,se);var mt={2:"touch",3:"pen",4:"mouse"};Ve.prototype.h=function(){Ve.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Le="closure_listenable_"+(1e6*Math.random()|0),fn=0;function re(h,w,A,D,L){this.listener=h,this.proxy=null,this.src=w,this.type=A,this.capture=!!D,this.ha=L,this.key=++fn,this.da=this.fa=!1}function he(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function pe(h){this.src=h,this.g={},this.h=0}pe.prototype.add=function(h,w,A,D,L){var U=h.toString();h=this.g[U],h||(h=this.g[U]=[],this.h++);var te=Fe(h,w,D,L);return-1<te?(w=h[te],A||(w.fa=!1)):(w=new re(w,this.src,U,!!D,L),w.fa=A,h.push(w)),w};function G(h,w){var A=w.type;if(A in h.g){var D=h.g[A],L=Array.prototype.indexOf.call(D,w,void 0),U;(U=0<=L)&&Array.prototype.splice.call(D,L,1),U&&(he(w),h.g[A].length==0&&(delete h.g[A],h.h--))}}function Fe(h,w,A,D){for(var L=0;L<h.length;++L){var U=h[L];if(!U.da&&U.listener==w&&U.capture==!!A&&U.ha==D)return L}return-1}var Ee="closure_lm_"+(1e6*Math.random()|0),Ke={};function qe(h,w,A,D,L){if(Array.isArray(w)){for(var U=0;U<w.length;U++)qe(h,w[U],A,D,L);return null}return A=Ni(A),h&&h[Le]?h.K(w,A,u(D)?!!D.capture:!!D,L):F(h,w,A,!1,D,L)}function F(h,w,A,D,L,U){if(!w)throw Error("Invalid event type");var te=u(L)?!!L.capture:!!L,Ge=ke(h);if(Ge||(h[Ee]=Ge=new pe(h)),A=Ge.add(w,A,D,te,U),A.proxy)return A;if(D=le(),A.proxy=D,D.src=h,D.listener=A,h.addEventListener)Ce||(L=te),L===void 0&&(L=!1),h.addEventListener(w.toString(),D,L);else if(h.attachEvent)h.attachEvent(de(w.toString()),D);else if(h.addListener&&h.removeListener)h.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return A}function le(){function h(A){return w.call(h.src,h.listener,A)}const w=$e;return h}function xe(h,w,A,D,L){if(Array.isArray(w))for(var U=0;U<w.length;U++)xe(h,w[U],A,D,L);else D=u(D)?!!D.capture:!!D,A=Ni(A),h&&h[Le]?(h=h.i,w=String(w).toString(),w in h.g&&(U=h.g[w],A=Fe(U,A,D,L),-1<A&&(he(U[A]),Array.prototype.splice.call(U,A,1),U.length==0&&(delete h.g[w],h.h--)))):h&&(h=ke(h))&&(w=h.g[w.toString()],h=-1,w&&(h=Fe(w,A,D,L)),(A=-1<h?w[h]:null)&&ce(A))}function ce(h){if(typeof h!="number"&&h&&!h.da){var w=h.src;if(w&&w[Le])G(w.i,h);else{var A=h.type,D=h.proxy;w.removeEventListener?w.removeEventListener(A,D,h.capture):w.detachEvent?w.detachEvent(de(A),D):w.addListener&&w.removeListener&&w.removeListener(D),(A=ke(w))?(G(A,h),A.h==0&&(A.src=null,w[Ee]=null)):he(h)}}}function de(h){return h in Ke?Ke[h]:Ke[h]="on"+h}function $e(h,w){if(h.da)h=!0;else{w=new Ve(w,this);var A=h.listener,D=h.ha||h.src;h.fa&&ce(h),h=A.call(D,w)}return h}function ke(h){return h=h[Ee],h instanceof pe?h:null}var Pr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ni(h){return typeof h=="function"?h:(h[Pr]||(h[Pr]=function(w){return h.handleEvent(w)}),h[Pr])}function Xt(){Z.call(this),this.i=new pe(this),this.M=this,this.F=null}g(Xt,Z),Xt.prototype[Le]=!0,Xt.prototype.removeEventListener=function(h,w,A,D){xe(this,h,w,A,D)};function hn(h,w){var A,D=h.F;if(D)for(A=[];D;D=D.F)A.push(D);if(h=h.M,D=w.type||w,typeof w=="string")w=new se(w,h);else if(w instanceof se)w.target=w.target||h;else{var L=w;w=new se(D,h),C(w,L)}if(L=!0,A)for(var U=A.length-1;0<=U;U--){var te=w.g=A[U];L=Vf(te,D,!0,w)&&L}if(te=w.g=h,L=Vf(te,D,!0,w)&&L,L=Vf(te,D,!1,w)&&L,A)for(U=0;U<A.length;U++)te=w.g=A[U],L=Vf(te,D,!1,w)&&L}Xt.prototype.N=function(){if(Xt.aa.N.call(this),this.i){var h=this.i,w;for(w in h.g){for(var A=h.g[w],D=0;D<A.length;D++)he(A[D]);delete h.g[w],h.h--}}this.F=null},Xt.prototype.K=function(h,w,A,D){return this.i.add(String(h),w,!1,A,D)},Xt.prototype.L=function(h,w,A,D){return this.i.add(String(h),w,!0,A,D)};function Vf(h,w,A,D){if(w=h.i.g[String(w)],!w)return!0;w=w.concat();for(var L=!0,U=0;U<w.length;++U){var te=w[U];if(te&&!te.da&&te.capture==A){var Ge=te.listener,Ft=te.ha||te.src;te.fa&&G(h.i,te),L=Ge.call(Ft,D)!==!1&&L}}return L&&!D.defaultPrevented}function ux(h,w,A){if(typeof h=="function")A&&(h=d(h,A));else if(h&&typeof h.handleEvent=="function")h=d(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:s.setTimeout(h,w||0)}function cx(h){h.g=ux(()=>{h.g=null,h.i&&(h.i=!1,cx(h))},h.l);const w=h.h;h.h=null,h.m.apply(null,w)}class j$ extends Z{constructor(w,A){super(),this.m=w,this.l=A,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:cx(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function kl(h){Z.call(this),this.h=h,this.g={}}g(kl,Z);var fx=[];function hx(h){O(h.g,function(w,A){this.g.hasOwnProperty(A)&&ce(w)},h),h.g={}}kl.prototype.N=function(){kl.aa.N.call(this),hx(this)},kl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bg=s.JSON.stringify,M$=s.JSON.parse,$$=class{stringify(h){return s.JSON.stringify(h,void 0)}parse(h){return s.JSON.parse(h,void 0)}};function xg(){}xg.prototype.h=null;function dx(h){return h.h||(h.h=h.i())}function px(){}var Rl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Eg(){se.call(this,"d")}g(Eg,se);function Sg(){se.call(this,"c")}g(Sg,se);var $o={},mx=null;function Ff(){return mx=mx||new Xt}$o.La="serverreachability";function gx(h){se.call(this,$o.La,h)}g(gx,se);function Nl(h){const w=Ff();hn(w,new gx(w))}$o.STAT_EVENT="statevent";function yx(h,w){se.call(this,$o.STAT_EVENT,h),this.stat=w}g(yx,se);function dn(h){const w=Ff();hn(w,new yx(w,h))}$o.Ma="timingevent";function vx(h,w){se.call(this,$o.Ma,h),this.size=w}g(vx,se);function Dl(h,w){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){h()},w)}function jl(){this.g=!0}jl.prototype.xa=function(){this.g=!1};function L$(h,w,A,D,L,U){h.info(function(){if(h.g)if(U)for(var te="",Ge=U.split("&"),Ft=0;Ft<Ge.length;Ft++){var De=Ge[Ft].split("=");if(1<De.length){var Yt=De[0];De=De[1];var Qt=Yt.split("_");te=2<=Qt.length&&Qt[1]=="type"?te+(Yt+"="+De+"&"):te+(Yt+"=redacted&")}}else te=null;else te=U;return"XMLHTTP REQ ("+D+") [attempt "+L+"]: "+w+`
`+A+`
`+te})}function V$(h,w,A,D,L,U,te){h.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+L+"]: "+w+`
`+A+`
`+U+" "+te})}function Ua(h,w,A,D){h.info(function(){return"XMLHTTP TEXT ("+w+"): "+U$(h,A)+(D?" "+D:"")})}function F$(h,w){h.info(function(){return"TIMEOUT: "+w})}jl.prototype.info=function(){};function U$(h,w){if(!h.g)return w;if(!w)return null;try{var A=JSON.parse(w);if(A){for(h=0;h<A.length;h++)if(Array.isArray(A[h])){var D=A[h];if(!(2>D.length)){var L=D[1];if(Array.isArray(L)&&!(1>L.length)){var U=L[0];if(U!="noop"&&U!="stop"&&U!="close")for(var te=1;te<L.length;te++)L[te]=""}}}}return bg(A)}catch{return w}}var Uf={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_x={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Tg;function Bf(){}g(Bf,xg),Bf.prototype.g=function(){return new XMLHttpRequest},Bf.prototype.i=function(){return{}},Tg=new Bf;function Di(h,w,A,D){this.j=h,this.i=w,this.l=A,this.R=D||1,this.U=new kl(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new wx}function wx(){this.i=null,this.g="",this.h=!1}var bx={},Ag={};function Pg(h,w,A){h.L=1,h.v=Hf(Qr(w)),h.m=A,h.P=!0,xx(h,null)}function xx(h,w){h.F=Date.now(),zf(h),h.A=Qr(h.v);var A=h.A,D=h.R;Array.isArray(D)||(D=[String(D)]),Mx(A.i,"t",D),h.C=0,A=h.j.J,h.h=new wx,h.g=eE(h.j,A?w:null,!h.m),0<h.O&&(h.M=new j$(d(h.Y,h,h.g),h.O)),w=h.U,A=h.g,D=h.ca;var L="readystatechange";Array.isArray(L)||(L&&(fx[0]=L.toString()),L=fx);for(var U=0;U<L.length;U++){var te=qe(A,L[U],D||w.handleEvent,!1,w.h||w);if(!te)break;w.g[te.key]=te}w=h.H?E(h.H):{},h.m?(h.u||(h.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,w)):(h.u="GET",h.g.ea(h.A,h.u,null,w)),Nl(),L$(h.i,h.u,h.A,h.l,h.R,h.m)}Di.prototype.ca=function(h){h=h.target;const w=this.M;w&&Jr(h)==3?w.j():this.Y(h)},Di.prototype.Y=function(h){try{if(h==this.g)e:{const Qt=Jr(this.g);var w=this.g.Ba();const Wa=this.g.Z();if(!(3>Qt)&&(Qt!=3||this.g&&(this.h.h||this.g.oa()||zx(this.g)))){this.J||Qt!=4||w==7||(w==8||0>=Wa?Nl(3):Nl(2)),Ig(this);var A=this.g.Z();this.X=A;t:if(Ex(this)){var D=zx(this.g);h="";var L=D.length,U=Jr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Lo(this),Ml(this);var te="";break t}this.h.i=new s.TextDecoder}for(w=0;w<L;w++)this.h.h=!0,h+=this.h.i.decode(D[w],{stream:!(U&&w==L-1)});D.length=0,this.h.g+=h,this.C=0,te=this.h.g}else te=this.g.oa();if(this.o=A==200,V$(this.i,this.u,this.A,this.l,this.R,Qt,A),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,Ft=this.g;if((Ge=Ft.g?Ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!m(Ge)){var De=Ge;break t}}De=null}if(A=De)Ua(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Og(this,A);else{this.o=!1,this.s=3,dn(12),Lo(this),Ml(this);break e}}if(this.P){A=!0;let fr;for(;!this.J&&this.C<te.length;)if(fr=B$(this,te),fr==Ag){Qt==4&&(this.s=4,dn(14),A=!1),Ua(this.i,this.l,null,"[Incomplete Response]");break}else if(fr==bx){this.s=4,dn(15),Ua(this.i,this.l,te,"[Invalid Chunk]"),A=!1;break}else Ua(this.i,this.l,fr,null),Og(this,fr);if(Ex(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qt!=4||te.length!=0||this.h.h||(this.s=1,dn(16),A=!1),this.o=this.o&&A,!A)Ua(this.i,this.l,te,"[Invalid Chunked Response]"),Lo(this),Ml(this);else if(0<te.length&&!this.W){this.W=!0;var Yt=this.j;Yt.g==this&&Yt.ba&&!Yt.M&&(Yt.j.info("Great, no buffering proxy detected. Bytes received: "+te.length),jg(Yt),Yt.M=!0,dn(11))}}else Ua(this.i,this.l,te,null),Og(this,te);Qt==4&&Lo(this),this.o&&!this.J&&(Qt==4?Yx(this.j,this):(this.o=!1,zf(this)))}else oL(this.g),A==400&&0<te.indexOf("Unknown SID")?(this.s=3,dn(12)):(this.s=0,dn(13)),Lo(this),Ml(this)}}}catch{}finally{}};function Ex(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function B$(h,w){var A=h.C,D=w.indexOf(`
`,A);return D==-1?Ag:(A=Number(w.substring(A,D)),isNaN(A)?bx:(D+=1,D+A>w.length?Ag:(w=w.slice(D,D+A),h.C=D+A,w)))}Di.prototype.cancel=function(){this.J=!0,Lo(this)};function zf(h){h.S=Date.now()+h.I,Sx(h,h.I)}function Sx(h,w){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Dl(d(h.ba,h),w)}function Ig(h){h.B&&(s.clearTimeout(h.B),h.B=null)}Di.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(F$(this.i,this.A),this.L!=2&&(Nl(),dn(17)),Lo(this),this.s=2,Ml(this)):Sx(this,this.S-h)};function Ml(h){h.j.G==0||h.J||Yx(h.j,h)}function Lo(h){Ig(h);var w=h.M;w&&typeof w.ma=="function"&&w.ma(),h.M=null,hx(h.U),h.g&&(w=h.g,h.g=null,w.abort(),w.ma())}function Og(h,w){try{var A=h.j;if(A.G!=0&&(A.g==h||Cg(A.h,h))){if(!h.K&&Cg(A.h,h)&&A.G==3){try{var D=A.Da.g.parse(w)}catch{D=null}if(Array.isArray(D)&&D.length==3){var L=D;if(L[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<h.F)Qf(A),Xf(A);else break e;Dg(A),dn(18)}}else A.za=L[1],0<A.za-A.T&&37500>L[2]&&A.F&&A.v==0&&!A.C&&(A.C=Dl(d(A.Za,A),6e3));if(1>=Px(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else Fo(A,11)}else if((h.K||A.g==h)&&Qf(A),!m(w))for(L=A.Da.g.parse(w),w=0;w<L.length;w++){let De=L[w];if(A.T=De[0],De=De[1],A.G==2)if(De[0]=="c"){A.K=De[1],A.ia=De[2];const Yt=De[3];Yt!=null&&(A.la=Yt,A.j.info("VER="+A.la));const Qt=De[4];Qt!=null&&(A.Aa=Qt,A.j.info("SVER="+A.Aa));const Wa=De[5];Wa!=null&&typeof Wa=="number"&&0<Wa&&(D=1.5*Wa,A.L=D,A.j.info("backChannelRequestTimeoutMs_="+D)),D=A;const fr=h.g;if(fr){const Zf=fr.g?fr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zf){var U=D.h;U.g||Zf.indexOf("spdy")==-1&&Zf.indexOf("quic")==-1&&Zf.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(kg(U,U.h),U.h=null))}if(D.D){const Mg=fr.g?fr.g.getResponseHeader("X-HTTP-Session-Id"):null;Mg&&(D.ya=Mg,tt(D.I,D.D,Mg))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-h.F,A.j.info("Handshake RTT: "+A.R+"ms")),D=A;var te=h;if(D.qa=Zx(D,D.J?D.ia:null,D.W),te.K){Ix(D.h,te);var Ge=te,Ft=D.L;Ft&&(Ge.I=Ft),Ge.B&&(Ig(Ge),zf(Ge)),D.g=te}else Gx(D);0<A.i.length&&Yf(A)}else De[0]!="stop"&&De[0]!="close"||Fo(A,7);else A.G==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?Fo(A,7):Ng(A):De[0]!="noop"&&A.l&&A.l.ta(De),A.v=0)}}Nl(4)}catch{}}var z$=class{constructor(h,w){this.g=h,this.map=w}};function Tx(h){this.l=h||10,s.PerformanceNavigationTiming?(h=s.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ax(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Px(h){return h.h?1:h.g?h.g.size:0}function Cg(h,w){return h.h?h.h==w:h.g?h.g.has(w):!1}function kg(h,w){h.g?h.g.add(w):h.h=w}function Ix(h,w){h.h&&h.h==w?h.h=null:h.g&&h.g.has(w)&&h.g.delete(w)}Tx.prototype.cancel=function(){if(this.i=Ox(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Ox(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let w=h.i;for(const A of h.g.values())w=w.concat(A.D);return w}return y(h.i)}function W$(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(l(h)){for(var w=[],A=h.length,D=0;D<A;D++)w.push(h[D]);return w}w=[],A=0;for(D in h)w[A++]=h[D];return w}function q$(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(l(h)||typeof h=="string"){var w=[];h=h.length;for(var A=0;A<h;A++)w.push(A);return w}w=[],A=0;for(const D in h)w[A++]=D;return w}}}function Cx(h,w){if(h.forEach&&typeof h.forEach=="function")h.forEach(w,void 0);else if(l(h)||typeof h=="string")Array.prototype.forEach.call(h,w,void 0);else for(var A=q$(h),D=W$(h),L=D.length,U=0;U<L;U++)w.call(void 0,D[U],A&&A[U],h)}var kx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function H$(h,w){if(h){h=h.split("&");for(var A=0;A<h.length;A++){var D=h[A].indexOf("="),L=null;if(0<=D){var U=h[A].substring(0,D);L=h[A].substring(D+1)}else U=h[A];w(U,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Vo(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Vo){this.h=h.h,Wf(this,h.j),this.o=h.o,this.g=h.g,qf(this,h.s),this.l=h.l;var w=h.i,A=new Vl;A.i=w.i,w.g&&(A.g=new Map(w.g),A.h=w.h),Rx(this,A),this.m=h.m}else h&&(w=String(h).match(kx))?(this.h=!1,Wf(this,w[1]||"",!0),this.o=$l(w[2]||""),this.g=$l(w[3]||"",!0),qf(this,w[4]),this.l=$l(w[5]||"",!0),Rx(this,w[6]||"",!0),this.m=$l(w[7]||"")):(this.h=!1,this.i=new Vl(null,this.h))}Vo.prototype.toString=function(){var h=[],w=this.j;w&&h.push(Ll(w,Nx,!0),":");var A=this.g;return(A||w=="file")&&(h.push("//"),(w=this.o)&&h.push(Ll(w,Nx,!0),"@"),h.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&h.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&h.push("/"),h.push(Ll(A,A.charAt(0)=="/"?X$:G$,!0))),(A=this.i.toString())&&h.push("?",A),(A=this.m)&&h.push("#",Ll(A,Q$)),h.join("")};function Qr(h){return new Vo(h)}function Wf(h,w,A){h.j=A?$l(w,!0):w,h.j&&(h.j=h.j.replace(/:$/,""))}function qf(h,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);h.s=w}else h.s=null}function Rx(h,w,A){w instanceof Vl?(h.i=w,J$(h.i,h.h)):(A||(w=Ll(w,Y$)),h.i=new Vl(w,h.h))}function tt(h,w,A){h.i.set(w,A)}function Hf(h){return tt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function $l(h,w){return h?w?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ll(h,w,A){return typeof h=="string"?(h=encodeURI(h).replace(w,K$),A&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function K$(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Nx=/[#\/\?@]/g,G$=/[#\?:]/g,X$=/[#\?]/g,Y$=/[#\?@]/g,Q$=/#/g;function Vl(h,w){this.h=this.g=null,this.i=h||null,this.j=!!w}function ji(h){h.g||(h.g=new Map,h.h=0,h.i&&H$(h.i,function(w,A){h.add(decodeURIComponent(w.replace(/\+/g," ")),A)}))}t=Vl.prototype,t.add=function(h,w){ji(this),this.i=null,h=Ba(this,h);var A=this.g.get(h);return A||this.g.set(h,A=[]),A.push(w),this.h+=1,this};function Dx(h,w){ji(h),w=Ba(h,w),h.g.has(w)&&(h.i=null,h.h-=h.g.get(w).length,h.g.delete(w))}function jx(h,w){return ji(h),w=Ba(h,w),h.g.has(w)}t.forEach=function(h,w){ji(this),this.g.forEach(function(A,D){A.forEach(function(L){h.call(w,L,D,this)},this)},this)},t.na=function(){ji(this);const h=Array.from(this.g.values()),w=Array.from(this.g.keys()),A=[];for(let D=0;D<w.length;D++){const L=h[D];for(let U=0;U<L.length;U++)A.push(w[D])}return A},t.V=function(h){ji(this);let w=[];if(typeof h=="string")jx(this,h)&&(w=w.concat(this.g.get(Ba(this,h))));else{h=Array.from(this.g.values());for(let A=0;A<h.length;A++)w=w.concat(h[A])}return w},t.set=function(h,w){return ji(this),this.i=null,h=Ba(this,h),jx(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[w]),this.h+=1,this},t.get=function(h,w){return h?(h=this.V(h),0<h.length?String(h[0]):w):w};function Mx(h,w,A){Dx(h,w),0<A.length&&(h.i=null,h.g.set(Ba(h,w),y(A)),h.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],w=Array.from(this.g.keys());for(var A=0;A<w.length;A++){var D=w[A];const U=encodeURIComponent(String(D)),te=this.V(D);for(D=0;D<te.length;D++){var L=U;te[D]!==""&&(L+="="+encodeURIComponent(String(te[D]))),h.push(L)}}return this.i=h.join("&")};function Ba(h,w){return w=String(w),h.j&&(w=w.toLowerCase()),w}function J$(h,w){w&&!h.j&&(ji(h),h.i=null,h.g.forEach(function(A,D){var L=D.toLowerCase();D!=L&&(Dx(this,D),Mx(this,L,A))},h)),h.j=w}function Z$(h,w){const A=new jl;if(s.Image){const D=new Image;D.onload=p(Mi,A,"TestLoadImage: loaded",!0,w,D),D.onerror=p(Mi,A,"TestLoadImage: error",!1,w,D),D.onabort=p(Mi,A,"TestLoadImage: abort",!1,w,D),D.ontimeout=p(Mi,A,"TestLoadImage: timeout",!1,w,D),s.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=h}else w(!1)}function eL(h,w){const A=new jl,D=new AbortController,L=setTimeout(()=>{D.abort(),Mi(A,"TestPingServer: timeout",!1,w)},1e4);fetch(h,{signal:D.signal}).then(U=>{clearTimeout(L),U.ok?Mi(A,"TestPingServer: ok",!0,w):Mi(A,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(L),Mi(A,"TestPingServer: error",!1,w)})}function Mi(h,w,A,D,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),D(A)}catch{}}function tL(){this.g=new $$}function nL(h,w,A){const D=A||"";try{Cx(h,function(L,U){let te=L;u(L)&&(te=bg(L)),w.push(D+U+"="+encodeURIComponent(te))})}catch(L){throw w.push(D+"type="+encodeURIComponent("_badmap")),L}}function Fl(h){this.l=h.Ub||null,this.j=h.eb||!1}g(Fl,xg),Fl.prototype.g=function(){return new Kf(this.l,this.j)},Fl.prototype.i=function(h){return function(){return h}}({});function Kf(h,w){Xt.call(this),this.D=h,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(Kf,Xt),t=Kf.prototype,t.open=function(h,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=w,this.readyState=1,Bl(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(w.body=h),(this.D||s).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ul(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Bl(this)),this.g&&(this.readyState=3,Bl(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$x(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function $x(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var w=h.value?h.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!h.done}))&&(this.response=this.responseText+=w)}h.done?Ul(this):Bl(this),this.readyState==3&&$x(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Ul(this))},t.Qa=function(h){this.g&&(this.response=h,Ul(this))},t.ga=function(){this.g&&Ul(this)};function Ul(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Bl(h)}t.setRequestHeader=function(h,w){this.u.append(h,w)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],w=this.h.entries();for(var A=w.next();!A.done;)A=A.value,h.push(A[0]+": "+A[1]),A=w.next();return h.join(`\r
`)};function Bl(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Kf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Lx(h){let w="";return O(h,function(A,D){w+=D,w+=":",w+=A,w+=`\r
`}),w}function Rg(h,w,A){e:{for(D in A){var D=!1;break e}D=!0}D||(A=Lx(A),typeof h=="string"?A!=null&&encodeURIComponent(String(A)):tt(h,w,A))}function gt(h){Xt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(gt,Xt);var rL=/^https?$/i,iL=["POST","PUT"];t=gt.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,w,A,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);w=w?w.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Tg.g(),this.v=this.o?dx(this.o):dx(Tg),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(w,String(h),!0),this.B=!1}catch(U){Vx(this,U);return}if(h=A||"",A=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var L in D)A.set(L,D[L]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const U of D.keys())A.set(U,D.get(U));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(A.keys()).find(U=>U.toLowerCase()=="content-type"),L=s.FormData&&h instanceof s.FormData,!(0<=Array.prototype.indexOf.call(iL,w,void 0))||D||L||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,te]of A)this.g.setRequestHeader(U,te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Bx(this),this.u=!0,this.g.send(h),this.u=!1}catch(U){Vx(this,U)}};function Vx(h,w){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=w,h.m=5,Fx(h),Gf(h)}function Fx(h){h.A||(h.A=!0,hn(h,"complete"),hn(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,hn(this,"complete"),hn(this,"abort"),Gf(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gf(this,!0)),gt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ux(this):this.bb())},t.bb=function(){Ux(this)};function Ux(h){if(h.h&&typeof a<"u"&&(!h.v[1]||Jr(h)!=4||h.Z()!=2)){if(h.u&&Jr(h)==4)ux(h.Ea,0,h);else if(hn(h,"readystatechange"),Jr(h)==4){h.h=!1;try{const te=h.Z();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var A;if(!(A=w)){var D;if(D=te===0){var L=String(h.D).match(kx)[1]||null;!L&&s.self&&s.self.location&&(L=s.self.location.protocol.slice(0,-1)),D=!rL.test(L?L.toLowerCase():"")}A=D}if(A)hn(h,"complete"),hn(h,"success");else{h.m=6;try{var U=2<Jr(h)?h.g.statusText:""}catch{U=""}h.l=U+" ["+h.Z()+"]",Fx(h)}}finally{Gf(h)}}}}function Gf(h,w){if(h.g){Bx(h);const A=h.g,D=h.v[0]?()=>{}:null;h.g=null,h.v=null,w||hn(h,"ready");try{A.onreadystatechange=D}catch{}}}function Bx(h){h.I&&(s.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function Jr(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<Jr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var w=this.g.responseText;return h&&w.indexOf(h)==0&&(w=w.substring(h.length)),M$(w)}};function zx(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function oL(h){const w={};h=(h.g&&2<=Jr(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<h.length;D++){if(m(h[D]))continue;var A=R(h[D]);const L=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const U=w[L]||[];w[L]=U,U.push(A)}S(w,function(D){return D.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zl(h,w,A){return A&&A.internalChannelParams&&A.internalChannelParams[h]||w}function Wx(h){this.Aa=0,this.i=[],this.j=new jl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zl("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zl("baseRetryDelayMs",5e3,h),this.cb=zl("retryDelaySeedMs",1e4,h),this.Wa=zl("forwardChannelMaxRetries",2,h),this.wa=zl("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Tx(h&&h.concurrentRequestLimit),this.Da=new tL,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Wx.prototype,t.la=8,t.G=1,t.connect=function(h,w,A,D){dn(0),this.W=h,this.H=w||{},A&&D!==void 0&&(this.H.OSID=A,this.H.OAID=D),this.F=this.X,this.I=Zx(this,null,this.W),Yf(this)};function Ng(h){if(qx(h),h.G==3){var w=h.U++,A=Qr(h.I);if(tt(A,"SID",h.K),tt(A,"RID",w),tt(A,"TYPE","terminate"),Wl(h,A),w=new Di(h,h.j,w),w.L=2,w.v=Hf(Qr(A)),A=!1,s.navigator&&s.navigator.sendBeacon)try{A=s.navigator.sendBeacon(w.v.toString(),"")}catch{}!A&&s.Image&&(new Image().src=w.v,A=!0),A||(w.g=eE(w.j,null),w.g.ea(w.v)),w.F=Date.now(),zf(w)}Jx(h)}function Xf(h){h.g&&(jg(h),h.g.cancel(),h.g=null)}function qx(h){Xf(h),h.u&&(s.clearTimeout(h.u),h.u=null),Qf(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&s.clearTimeout(h.s),h.s=null)}function Yf(h){if(!Ax(h.h)&&!h.s){h.s=!0;var w=h.Ga;z||Y(),$||(z(),$=!0),W.add(w,h),h.B=0}}function aL(h,w){return Px(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=w.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Dl(d(h.Ga,h,w),Qx(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const L=new Di(this,this.j,h);let U=this.o;if(this.S&&(U?(U=E(U),C(U,this.S)):U=this.S),this.m!==null||this.O||(L.H=U,U=null),this.P)e:{for(var w=0,A=0;A<this.i.length;A++){t:{var D=this.i[A];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(w+=D,4096<w){w=A;break e}if(w===4096||A===this.i.length-1){w=A+1;break e}}w=1e3}else w=1e3;w=Kx(this,L,w),A=Qr(this.I),tt(A,"RID",h),tt(A,"CVER",22),this.D&&tt(A,"X-HTTP-Session-Id",this.D),Wl(this,A),U&&(this.O?w="headers="+encodeURIComponent(String(Lx(U)))+"&"+w:this.m&&Rg(A,this.m,U)),kg(this.h,L),this.Ua&&tt(A,"TYPE","init"),this.P?(tt(A,"$req",w),tt(A,"SID","null"),L.T=!0,Pg(L,A,null)):Pg(L,A,w),this.G=2}}else this.G==3&&(h?Hx(this,h):this.i.length==0||Ax(this.h)||Hx(this))};function Hx(h,w){var A;w?A=w.l:A=h.U++;const D=Qr(h.I);tt(D,"SID",h.K),tt(D,"RID",A),tt(D,"AID",h.T),Wl(h,D),h.m&&h.o&&Rg(D,h.m,h.o),A=new Di(h,h.j,A,h.B+1),h.m===null&&(A.H=h.o),w&&(h.i=w.D.concat(h.i)),w=Kx(h,A,1e3),A.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),kg(h.h,A),Pg(A,D,w)}function Wl(h,w){h.H&&O(h.H,function(A,D){tt(w,D,A)}),h.l&&Cx({},function(A,D){tt(w,D,A)})}function Kx(h,w,A){A=Math.min(h.i.length,A);var D=h.l?d(h.l.Na,h.l,h):null;e:{var L=h.i;let U=-1;for(;;){const te=["count="+A];U==-1?0<A?(U=L[0].g,te.push("ofs="+U)):U=0:te.push("ofs="+U);let Ge=!0;for(let Ft=0;Ft<A;Ft++){let De=L[Ft].g;const Yt=L[Ft].map;if(De-=U,0>De)U=Math.max(0,L[Ft].g-100),Ge=!1;else try{nL(Yt,te,"req"+De+"_")}catch{D&&D(Yt)}}if(Ge){D=te.join("&");break e}}}return h=h.i.splice(0,A),w.D=h,D}function Gx(h){if(!h.g&&!h.u){h.Y=1;var w=h.Fa;z||Y(),$||(z(),$=!0),W.add(w,h),h.v=0}}function Dg(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Dl(d(h.Fa,h),Qx(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,Xx(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Dl(d(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dn(10),Xf(this),Xx(this))};function jg(h){h.A!=null&&(s.clearTimeout(h.A),h.A=null)}function Xx(h){h.g=new Di(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var w=Qr(h.qa);tt(w,"RID","rpc"),tt(w,"SID",h.K),tt(w,"AID",h.T),tt(w,"CI",h.F?"0":"1"),!h.F&&h.ja&&tt(w,"TO",h.ja),tt(w,"TYPE","xmlhttp"),Wl(h,w),h.m&&h.o&&Rg(w,h.m,h.o),h.L&&(h.g.I=h.L);var A=h.g;h=h.ia,A.L=1,A.v=Hf(Qr(w)),A.m=null,A.P=!0,xx(A,h)}t.Za=function(){this.C!=null&&(this.C=null,Xf(this),Dg(this),dn(19))};function Qf(h){h.C!=null&&(s.clearTimeout(h.C),h.C=null)}function Yx(h,w){var A=null;if(h.g==w){Qf(h),jg(h),h.g=null;var D=2}else if(Cg(h.h,w))A=w.D,Ix(h.h,w),D=1;else return;if(h.G!=0){if(w.o)if(D==1){A=w.m?w.m.length:0,w=Date.now()-w.F;var L=h.B;D=Ff(),hn(D,new vx(D,A)),Yf(h)}else Gx(h);else if(L=w.s,L==3||L==0&&0<w.X||!(D==1&&aL(h,w)||D==2&&Dg(h)))switch(A&&0<A.length&&(w=h.h,w.i=w.i.concat(A)),L){case 1:Fo(h,5);break;case 4:Fo(h,10);break;case 3:Fo(h,6);break;default:Fo(h,2)}}}function Qx(h,w){let A=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(A*=2),A*w}function Fo(h,w){if(h.j.info("Error code "+w),w==2){var A=d(h.fb,h),D=h.Xa;const L=!D;D=new Vo(D||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Wf(D,"https"),Hf(D),L?Z$(D.toString(),A):eL(D.toString(),A)}else dn(2);h.G=0,h.l&&h.l.sa(w),Jx(h),qx(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),dn(2)):(this.j.info("Failed to ping google.com"),dn(1))};function Jx(h){if(h.G=0,h.ka=[],h.l){const w=Ox(h.h);(w.length!=0||h.i.length!=0)&&(v(h.ka,w),v(h.ka,h.i),h.h.i.length=0,y(h.i),h.i.length=0),h.l.ra()}}function Zx(h,w,A){var D=A instanceof Vo?Qr(A):new Vo(A);if(D.g!="")w&&(D.g=w+"."+D.g),qf(D,D.s);else{var L=s.location;D=L.protocol,w=w?w+"."+L.hostname:L.hostname,L=+L.port;var U=new Vo(null);D&&Wf(U,D),w&&(U.g=w),L&&qf(U,L),A&&(U.l=A),D=U}return A=h.D,w=h.ya,A&&w&&tt(D,A,w),tt(D,"VER",h.la),Wl(h,D),D}function eE(h,w,A){if(w&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=h.Ca&&!h.pa?new gt(new Fl({eb:A})):new gt(h.pa),w.Ha(h.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function tE(){}t=tE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Jf(){}Jf.prototype.g=function(h,w){return new jn(h,w)};function jn(h,w){Xt.call(this),this.g=new Wx(w),this.l=h,this.h=w&&w.messageUrlParams||null,h=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(h?h["X-WebChannel-Content-Type"]=w.messageContentType:h={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(h?h["X-WebChannel-Client-Profile"]=w.va:h={"X-WebChannel-Client-Profile":w.va}),this.g.S=h,(h=w&&w.Sb)&&!m(h)&&(this.g.m=h),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!m(w)&&(this.g.D=w,h=this.h,h!==null&&w in h&&(h=this.h,w in h&&delete h[w])),this.j=new za(this)}g(jn,Xt),jn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},jn.prototype.close=function(){Ng(this.g)},jn.prototype.o=function(h){var w=this.g;if(typeof h=="string"){var A={};A.__data__=h,h=A}else this.u&&(A={},A.__data__=bg(h),h=A);w.i.push(new z$(w.Ya++,h)),w.G==3&&Yf(w)},jn.prototype.N=function(){this.g.l=null,delete this.j,Ng(this.g),delete this.g,jn.aa.N.call(this)};function nE(h){Eg.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var w=h.__sm__;if(w){e:{for(const A in w){h=A;break e}h=void 0}(this.i=h)&&(h=this.i,w=w!==null&&h in w?w[h]:void 0),this.data=w}else this.data=h}g(nE,Eg);function rE(){Sg.call(this),this.status=1}g(rE,Sg);function za(h){this.g=h}g(za,tE),za.prototype.ua=function(){hn(this.g,"a")},za.prototype.ta=function(h){hn(this.g,new nE(h))},za.prototype.sa=function(h){hn(this.g,new rE)},za.prototype.ra=function(){hn(this.g,"b")},Jf.prototype.createWebChannel=Jf.prototype.g,jn.prototype.send=jn.prototype.o,jn.prototype.open=jn.prototype.m,jn.prototype.close=jn.prototype.close,fN=function(){return new Jf},cN=function(){return Ff()},uN=$o,r0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Uf.NO_ERROR=0,Uf.TIMEOUT=8,Uf.HTTP_ERROR=6,nd=Uf,_x.COMPLETE="complete",lN=_x,px.EventType=Rl,Rl.OPEN="a",Rl.CLOSE="b",Rl.ERROR="c",Rl.MESSAGE="d",Xt.prototype.listen=Xt.prototype.K,_u=px,sN=Fl,gt.prototype.listenOnce=gt.prototype.L,gt.prototype.getLastError=gt.prototype.Ka,gt.prototype.getLastErrorCode=gt.prototype.Ba,gt.prototype.getStatus=gt.prototype.Z,gt.prototype.getResponseJson=gt.prototype.Oa,gt.prototype.getResponseText=gt.prototype.oa,gt.prototype.send=gt.prototype.ea,gt.prototype.setWithCredentials=gt.prototype.Ha,aN=gt}).apply(typeof _h<"u"?_h:typeof self<"u"?self:typeof window<"u"?window:{});const QS="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pl="10.13.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a=new Ww("@firebase/firestore");function eu(){return _a.logLevel}function ue(t,...e){if(_a.logLevel<=Ie.DEBUG){const n=e.map(rb);_a.debug(`Firestore (${pl}): ${t}`,...n)}}function xi(t,...e){if(_a.logLevel<=Ie.ERROR){const n=e.map(rb);_a.error(`Firestore (${pl}): ${t}`,...n)}}function Ms(t,...e){if(_a.logLevel<=Ie.WARN){const n=e.map(rb);_a.warn(`Firestore (${pl}): ${t}`,...n)}}function rb(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(t="Unexpected state"){const e=`FIRESTORE (${pl}) INTERNAL ASSERTION FAILED: `+t;throw xi(e),new Error(e)}function Ye(t,e){t||ve()}function be(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends Gr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class x6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(nn.UNAUTHENTICATED))}shutdown(){}}class E6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class S6{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new hi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new hi,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new hi)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ye(typeof r.accessToken=="string"),new hN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string"),new nn(e)}}class T6{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class A6{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new T6(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class P6{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class I6{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.R;return this.R=o.token,ue("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ye(typeof n.token=="string"),this.R=n.token,new P6(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=O6(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function je(t,e){return t<e?-1:t>e?1:0}function $s(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ie(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ie(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ie(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return et.fromMillis(Date.now())}static fromDate(e){return et.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new et(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.timestamp=e}static fromTimestamp(e){return new _e(e)}static min(){return new _e(new et(0,0))}static max(){return new _e(new et(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,n,r){n===void 0?n=0:n>e.length&&ve(),r===void 0?r=e.length-n:r>e.length-n&&ve(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return mc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof mc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),a=n.get(i);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ot extends mc{construct(e,n,r){return new ot(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ie(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ot(n)}static emptyPath(){return new ot([])}}const C6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends mc{construct(e,n,r){return new Wt(e,n,r)}static isValidIdentifier(e){return C6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Wt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ie(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new ie(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ie(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else s==="`"?(a=!a,i++):s!=="."||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new ie(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(n)}static emptyPath(){return new Wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.path=e}static fromPath(e){return new fe(ot.fromString(e))}static fromName(e){return new fe(ot.fromString(e).popFirst(5))}static empty(){return new fe(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new ot(e.slice()))}}function k6(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=_e.fromTimestamp(r===1e9?new et(n+1,0):new et(n,r));return new bo(i,fe.empty(),e)}function R6(t){return new bo(t.readTime,t.key,-1)}class bo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new bo(_e.min(),fe.empty(),-1)}static max(){return new bo(_e.max(),fe.empty(),-1)}}function N6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=fe.comparator(t.documentKey,e.documentKey),n!==0?n:je(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class j6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bf(t){if(t.code!==H.FAILED_PRECONDITION||t.message!==D6)throw t;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.reject(n)}static resolve(e){return new Q((n,r)=>{n(e)})}static reject(e){return new Q((n,r)=>{r(e)})}static waitFor(e){return new Q((n,r)=>{let i=0,o=0,a=!1;e.forEach(s=>{++i,s.next(()=>{++o,a&&o===i&&n()},l=>r(l))}),a=!0,o===i&&n()})}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next(i=>i?Q.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new Q((r,i)=>{const o=e.length,a=new Array(o);let s=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{a[u]=c,++s,s===o&&r(a)},c=>i(c))}})}static doWhile(e,n){return new Q((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function M6(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function xf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}ib.oe=-1;function fm(t){return t==null}function Bd(t){return t===0&&1/t==-1/0}function $6(t){return typeof t=="number"&&Number.isInteger(t)&&!Bd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ra(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function pN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,n){this.comparator=e,this.root=n||zt.EMPTY}insert(e,n){return new pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,zt.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wh(this.root,e,this.comparator,!1)}getReverseIterator(){return new wh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wh(this.root,e,this.comparator,!0)}}class wh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??zt.RED,this.left=i??zt.EMPTY,this.right=o??zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new zt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return zt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ve();const e=this.left.check();if(e!==this.right.check())throw ve();return e+(this.isRed()?0:1)}}zt.EMPTY=null,zt.RED=!0,zt.BLACK=!1;zt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve()}get value(){throw ve()}get color(){throw ve()}get left(){throw ve()}get right(){throw ve()}copy(e,n,r,i,o){return this}insert(e,n,r){return new zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ZS(this.data.getIterator())}getIteratorFrom(e){return new ZS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ht)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ht(this.comparator);return n.data=e,n}}class ZS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new Un([])}unionWith(e){let n=new Ht(Wt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Un(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $s(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new mN("Invalid base64 string: "+o):o}}(e);return new Gt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o}(e);return new Gt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const L6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xo(t){if(Ye(!!t),typeof t=="string"){let e=0;const n=L6.exec(t);if(Ye(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wt(t.seconds),nanos:wt(t.nanos)}}function wt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function wa(t){return typeof t=="string"?Gt.fromBase64String(t):Gt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ab(t){const e=t.mapValue.fields.__previous_value__;return ob(e)?ab(e):e}function gc(t){const e=xo(t.mapValue.fields.__local_write_time__.timestampValue);return new et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(e,n,r,i,o,a,s,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u}}class yc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new yc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof yc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ba(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ob(t)?4:U6(t)?9007199254740991:F6(t)?10:11:ve()}function Hr(t,e){if(t===e)return!0;const n=ba(t);if(n!==ba(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return gc(t).isEqual(gc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=xo(i.timestampValue),s=xo(o.timestampValue);return a.seconds===s.seconds&&a.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return wa(i.bytesValue).isEqual(wa(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return wt(i.geoPointValue.latitude)===wt(o.geoPointValue.latitude)&&wt(i.geoPointValue.longitude)===wt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return wt(i.integerValue)===wt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=wt(i.doubleValue),s=wt(o.doubleValue);return a===s?Bd(a)===Bd(s):isNaN(a)&&isNaN(s)}return!1}(t,e);case 9:return $s(t.arrayValue.values||[],e.arrayValue.values||[],Hr);case 10:case 11:return function(i,o){const a=i.mapValue.fields||{},s=o.mapValue.fields||{};if(JS(a)!==JS(s))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(s[l]===void 0||!Hr(a[l],s[l])))return!1;return!0}(t,e);default:return ve()}}function vc(t,e){return(t.values||[]).find(n=>Hr(n,e))!==void 0}function Ls(t,e){if(t===e)return 0;const n=ba(t),r=ba(e);if(n!==r)return je(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return je(t.booleanValue,e.booleanValue);case 2:return function(o,a){const s=wt(o.integerValue||o.doubleValue),l=wt(a.integerValue||a.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return eT(t.timestampValue,e.timestampValue);case 4:return eT(gc(t),gc(e));case 5:return je(t.stringValue,e.stringValue);case 6:return function(o,a){const s=wa(o),l=wa(a);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const s=o.split("/"),l=a.split("/");for(let u=0;u<s.length&&u<l.length;u++){const c=je(s[u],l[u]);if(c!==0)return c}return je(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const s=je(wt(o.latitude),wt(a.latitude));return s!==0?s:je(wt(o.longitude),wt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return tT(t.arrayValue,e.arrayValue);case 10:return function(o,a){var s,l,u,c;const f=o.fields||{},d=a.fields||{},p=(s=f.value)===null||s===void 0?void 0:s.arrayValue,g=(l=d.value)===null||l===void 0?void 0:l.arrayValue,y=je(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0);return y!==0?y:tT(p,g)}(t.mapValue,e.mapValue);case 11:return function(o,a){if(o===bh.mapValue&&a===bh.mapValue)return 0;if(o===bh.mapValue)return 1;if(a===bh.mapValue)return-1;const s=o.fields||{},l=Object.keys(s),u=a.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const d=je(l[f],c[f]);if(d!==0)return d;const p=Ls(s[l[f]],u[c[f]]);if(p!==0)return p}return je(l.length,c.length)}(t.mapValue,e.mapValue);default:throw ve()}}function eT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return je(t,e);const n=xo(t),r=xo(e),i=je(n.seconds,r.seconds);return i!==0?i:je(n.nanos,r.nanos)}function tT(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Ls(n[i],r[i]);if(o)return o}return je(n.length,r.length)}function Vs(t){return i0(t)}function i0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=xo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return wa(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return fe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=i0(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${i0(n.fields[a])}`;return i+"}"}(t.mapValue):ve()}function nT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function o0(t){return!!t&&"integerValue"in t}function sb(t){return!!t&&"arrayValue"in t}function rT(t){return!!t&&"nullValue"in t}function iT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function rd(t){return!!t&&"mapValue"in t}function F6(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ju(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ra(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ju(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ju(t.arrayValue.values[n]);return e}return Object.assign({},t)}function U6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.value=e}static empty(){return new An({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!rd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ju(n)}setAll(e){let n=Wt.emptyPath(),r={},i=[];e.forEach((a,s)=>{if(!n.isImmediateParentOf(s)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=s.popLast()}a?r[s.lastSegment()]=ju(a):i.push(s.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());rd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Hr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];rd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ra(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new An(ju(this.value))}}function gN(t){const e=[];return Ra(t.fields,(n,r)=>{const i=new Wt([n]);if(rd(r)){const o=gN(r.mapValue).fields;if(o.length===0)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)}),new Un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,n,r,i,o,a,s){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=s}static newInvalidDocument(e){return new an(e,0,_e.min(),_e.min(),_e.min(),An.empty(),0)}static newFoundDocument(e,n,r,i){return new an(e,1,n,_e.min(),r,i,0)}static newNoDocument(e,n){return new an(e,2,n,_e.min(),_e.min(),An.empty(),0)}static newUnknownDocument(e,n){return new an(e,3,n,_e.min(),_e.min(),An.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,n){this.position=e,this.inclusive=n}}function oT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(o.field.isKeyField()?r=fe.comparator(fe.fromName(a.referenceValue),n.key):r=Ls(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function aT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Hr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n="asc"){this.field=e,this.dir=n}}function B6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{}class Tt extends yN{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new W6(e,n,r):n==="array-contains"?new K6(e,r):n==="in"?new G6(e,r):n==="not-in"?new X6(e,r):n==="array-contains-any"?new Y6(e,r):new Tt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new q6(e,r):new H6(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ls(n,this.value)):n!==null&&ba(this.value)===ba(n)&&this.matchesComparison(Ls(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Sr extends yN{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Sr(e,n)}matches(e){return vN(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function vN(t){return t.op==="and"}function _N(t){return z6(t)&&vN(t)}function z6(t){for(const e of t.filters)if(e instanceof Sr)return!1;return!0}function a0(t){if(t instanceof Tt)return t.field.canonicalString()+t.op.toString()+Vs(t.value);if(_N(t))return t.filters.map(e=>a0(e)).join(",");{const e=t.filters.map(n=>a0(n)).join(",");return`${t.op}(${e})`}}function wN(t,e){return t instanceof Tt?function(r,i){return i instanceof Tt&&r.op===i.op&&r.field.isEqual(i.field)&&Hr(r.value,i.value)}(t,e):t instanceof Sr?function(r,i){return i instanceof Sr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,a,s)=>o&&wN(a,i.filters[s]),!0):!1}(t,e):void ve()}function bN(t){return t instanceof Tt?function(n){return`${n.field.canonicalString()} ${n.op} ${Vs(n.value)}`}(t):t instanceof Sr?function(n){return n.op.toString()+" {"+n.getFilters().map(bN).join(" ,")+"}"}(t):"Filter"}class W6 extends Tt{constructor(e,n,r){super(e,n,r),this.key=fe.fromName(r.referenceValue)}matches(e){const n=fe.comparator(e.key,this.key);return this.matchesComparison(n)}}class q6 extends Tt{constructor(e,n){super(e,"in",n),this.keys=xN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class H6 extends Tt{constructor(e,n){super(e,"not-in",n),this.keys=xN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function xN(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>fe.fromName(r.referenceValue))}class K6 extends Tt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return sb(n)&&vc(n.arrayValue,this.value)}}class G6 extends Tt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&vc(this.value.arrayValue,n)}}class X6 extends Tt{constructor(e,n){super(e,"not-in",n)}matches(e){if(vc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!vc(this.value.arrayValue,n)}}class Y6 extends Tt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!sb(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>vc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(e,n=null,r=[],i=[],o=null,a=null,s=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=s,this.ue=null}}function sT(t,e=null,n=[],r=[],i=null,o=null,a=null){return new Q6(t,e,n,r,i,o,a)}function lb(t){const e=be(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>a0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),fm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Vs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Vs(r)).join(",")),e.ue=n}return e.ue}function ub(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!B6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!wN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!aT(t.startAt,e.startAt)&&aT(t.endAt,e.endAt)}function s0(t){return fe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e,n=null,r=[],i=[],o=null,a="F",s=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=s,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function J6(t,e,n,r,i,o,a,s){return new ml(t,e,n,r,i,o,a,s)}function cb(t){return new ml(t)}function lT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function EN(t){return t.collectionGroup!==null}function Mu(t){const e=be(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let s=new Ht(Wt.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(s=s.add(u.field))})}),s})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new _c(o,r))}),n.has(Wt.keyField().canonicalString())||e.ce.push(new _c(Wt.keyField(),r))}return e.ce}function Br(t){const e=be(t);return e.le||(e.le=Z6(e,Mu(t))),e.le}function Z6(t,e){if(t.limitType==="F")return sT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new _c(i.field,o)});const n=t.endAt?new zd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new zd(t.startAt.position,t.startAt.inclusive):null;return sT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function l0(t,e){const n=t.filters.concat([e]);return new ml(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function u0(t,e,n){return new ml(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function hm(t,e){return ub(Br(t),Br(e))&&t.limitType===e.limitType}function SN(t){return`${lb(Br(t))}|lt:${t.limitType}`}function Xa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>bN(i)).join(", ")}]`),fm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Vs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Vs(i)).join(",")),`Target(${r})`}(Br(t))}; limitType=${t.limitType})`}function dm(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):fe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Mu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,s,l){const u=oT(a,s,l);return a.inclusive?u<=0:u<0}(r.startAt,Mu(r),i)||r.endAt&&!function(a,s,l){const u=oT(a,s,l);return a.inclusive?u>=0:u>0}(r.endAt,Mu(r),i))}(t,e)}function e9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function TN(t){return(e,n)=>{let r=!1;for(const i of Mu(t)){const o=t9(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function t9(t,e,n){const r=t.field.isKeyField()?fe.comparator(e.key,n.key):function(o,a,s){const l=a.data.field(o),u=s.data.field(o);return l!==null&&u!==null?Ls(l,u):ve()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ra(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return pN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n9=new pt(fe.comparator);function Ei(){return n9}const AN=new pt(fe.comparator);function wu(...t){let e=AN;for(const n of t)e=e.insert(n.key,n);return e}function PN(t){let e=AN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ea(){return $u()}function IN(){return $u()}function $u(){return new gl(t=>t.toString(),(t,e)=>t.isEqual(e))}const r9=new pt(fe.comparator),i9=new Ht(fe.comparator);function Pe(...t){let e=i9;for(const n of t)e=e.add(n);return e}const o9=new Ht(je);function a9(){return o9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bd(e)?"-0":e}}function ON(t){return{integerValue:""+t}}function s9(t,e){return $6(e)?ON(e):fb(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(){this._=void 0}}function l9(t,e,n){return t instanceof Wd?function(i,o){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&ob(o)&&(o=ab(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(n,e):t instanceof wc?kN(t,e):t instanceof bc?RN(t,e):function(i,o){const a=CN(i,o),s=uT(a)+uT(i.Pe);return o0(a)&&o0(i.Pe)?ON(s):fb(i.serializer,s)}(t,e)}function u9(t,e,n){return t instanceof wc?kN(t,e):t instanceof bc?RN(t,e):n}function CN(t,e){return t instanceof qd?function(r){return o0(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Wd extends pm{}class wc extends pm{constructor(e){super(),this.elements=e}}function kN(t,e){const n=NN(e);for(const r of t.elements)n.some(i=>Hr(i,r))||n.push(r);return{arrayValue:{values:n}}}class bc extends pm{constructor(e){super(),this.elements=e}}function RN(t,e){let n=NN(e);for(const r of t.elements)n=n.filter(i=>!Hr(i,r));return{arrayValue:{values:n}}}class qd extends pm{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function uT(t){return wt(t.integerValue||t.doubleValue)}function NN(t){return sb(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function c9(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof wc&&i instanceof wc||r instanceof bc&&i instanceof bc?$s(r.elements,i.elements,Hr):r instanceof qd&&i instanceof qd?Hr(r.Pe,i.Pe):r instanceof Wd&&i instanceof Wd}(t.transform,e.transform)}class f9{constructor(e,n){this.version=e,this.transformResults=n}}class ir{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ir}static exists(e){return new ir(void 0,e)}static updateTime(e){return new ir(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function id(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class mm{}function DN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new hb(t.key,ir.none()):new Ef(t.key,t.data,ir.none());{const n=t.data,r=An.empty();let i=new Ht(Wt.comparator);for(let o of e.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new ko(t.key,r,new Un(i.toArray()),ir.none())}}function h9(t,e,n){t instanceof Ef?function(i,o,a){const s=i.value.clone(),l=fT(i.fieldTransforms,o,a.transformResults);s.setAll(l),o.convertToFoundDocument(a.version,s).setHasCommittedMutations()}(t,e,n):t instanceof ko?function(i,o,a){if(!id(i.precondition,o))return void o.convertToUnknownDocument(a.version);const s=fT(i.fieldTransforms,o,a.transformResults),l=o.data;l.setAll(jN(i)),l.setAll(s),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Lu(t,e,n,r){return t instanceof Ef?function(o,a,s,l){if(!id(o.precondition,a))return s;const u=o.value.clone(),c=hT(o.fieldTransforms,l,a);return u.setAll(c),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ko?function(o,a,s,l){if(!id(o.precondition,a))return s;const u=hT(o.fieldTransforms,l,a),c=a.data;return c.setAll(jN(o)),c.setAll(u),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),s===null?null:s.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,a,s){return id(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):s}(t,e,n)}function d9(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=CN(r.transform,i||null);o!=null&&(n===null&&(n=An.empty()),n.set(r.field,o))}return n||null}function cT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&$s(r,i,(o,a)=>c9(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ef extends mm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ko extends mm{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function jN(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function fT(t,e,n){const r=new Map;Ye(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,u9(a,s,n[i]))}return r}function hT(t,e,n){const r=new Map;for(const i of t){const o=i.transform,a=n.data.field(i.field);r.set(i.field,l9(o,a,e))}return r}class hb extends mm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class p9 extends mm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&h9(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Lu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Lu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=IN();return this.mutations.forEach(i=>{const o=e.get(i.key),a=o.overlayedDocument;let s=this.applyToLocalView(a,o.mutatedFields);s=n.has(i.key)?null:s;const l=DN(a,s);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(_e.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Pe())}isEqual(e){return this.batchId===e.batchId&&$s(this.mutations,e.mutations,(n,r)=>cT(n,r))&&$s(this.baseMutations,e.baseMutations,(n,r)=>cT(n,r))}}class db{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ye(e.mutations.length===r.length);let i=function(){return r9}();const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new db(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et,Oe;function v9(t){switch(t){default:return ve();case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0}}function MN(t){if(t===void 0)return xi("GRPC error has no .code"),H.UNKNOWN;switch(t){case Et.OK:return H.OK;case Et.CANCELLED:return H.CANCELLED;case Et.UNKNOWN:return H.UNKNOWN;case Et.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case Et.INTERNAL:return H.INTERNAL;case Et.UNAVAILABLE:return H.UNAVAILABLE;case Et.UNAUTHENTICATED:return H.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case Et.NOT_FOUND:return H.NOT_FOUND;case Et.ALREADY_EXISTS:return H.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return H.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case Et.ABORTED:return H.ABORTED;case Et.OUT_OF_RANGE:return H.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return H.UNIMPLEMENTED;case Et.DATA_LOSS:return H.DATA_LOSS;default:return ve()}}(Oe=Et||(Et={}))[Oe.OK=0]="OK",Oe[Oe.CANCELLED=1]="CANCELLED",Oe[Oe.UNKNOWN=2]="UNKNOWN",Oe[Oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oe[Oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oe[Oe.NOT_FOUND=5]="NOT_FOUND",Oe[Oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oe[Oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oe[Oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oe[Oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oe[Oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oe[Oe.ABORTED=10]="ABORTED",Oe[Oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oe[Oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oe[Oe.INTERNAL=13]="INTERNAL",Oe[Oe.UNAVAILABLE=14]="UNAVAILABLE",Oe[Oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _9(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w9=new sa([4294967295,4294967295],0);function dT(t){const e=_9().encode(t),n=new oN;return n.update(e),new Uint8Array(n.digest())}function pT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new sa([n,r],0),new sa([i,o],0)]}class pb{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new bu(`Invalid padding: ${n}`);if(r<0)throw new bu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new bu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new bu(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=sa.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(sa.fromNumber(r)));return i.compare(w9)===1&&(i=new sa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=dT(e),[r,i]=pT(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);if(!this.de(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new pb(o,i,n);return r.forEach(s=>a.insert(s)),a}insert(e){if(this.Ie===0)return;const n=dT(e),[r,i]=pT(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class bu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Sf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new gm(_e.min(),i,new pt(je),Ei(),Pe())}}class Sf{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Sf(r,n,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class $N{constructor(e,n){this.targetId=e,this.me=n}}class LN{constructor(e,n,r=Gt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class mT{constructor(){this.fe=0,this.ge=yT(),this.pe=Gt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Pe(),n=Pe(),r=Pe();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ve()}}),new Sf(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=yT()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ye(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class b9{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ei(),this.qe=gT(),this.Qe=new pt(je)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ve()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(s0(o))if(r===0){const a=new fe(o.path);this.Ue(n,a,an.newNoDocument(a,_e.min()))}else Ye(r===1);else{const a=this.Ye(n);if(a!==r){const s=this.Ze(e),l=s?this.Xe(s,e,a):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let a,s;try{a=wa(r).toUint8Array()}catch(l){if(l instanceof mN)return Ms("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new pb(a,i,o)}catch(l){return Ms(l instanceof bu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.Ie===0?null:s}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const a=this.Le.tt(),s=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(s)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,a)=>{const s=this.Je(a);if(s){if(o.current&&s0(s.target)){const l=new fe(s.target.path);this.ke.get(l)!==null||this.it(a,l)||this.Ue(a,l,an.newNoDocument(l,e))}o.be&&(n.set(a,o.ve()),o.Ce())}});let r=Pe();this.qe.forEach((o,a)=>{let s=!0;a.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(r=r.add(o))}),this.ke.forEach((o,a)=>a.setReadTime(e));const i=new gm(e,n,this.Qe,this.ke,r);return this.ke=Ei(),this.qe=gT(),this.Qe=new pt(je),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new mT,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ht(je),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new mT),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function gT(){return new pt(fe.comparator)}function yT(){return new pt(fe.comparator)}const x9={asc:"ASCENDING",desc:"DESCENDING"},E9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},S9={and:"AND",or:"OR"};class T9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function c0(t,e){return t.useProto3Json||fm(e)?e:{value:e}}function Hd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function A9(t,e){return Hd(t,e.toTimestamp())}function zr(t){return Ye(!!t),_e.fromTimestamp(function(n){const r=xo(n);return new et(r.seconds,r.nanos)}(t))}function mb(t,e){return f0(t,e).canonicalString()}function f0(t,e){const n=function(i){return new ot(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function FN(t){const e=ot.fromString(t);return Ye(qN(e)),e}function h0(t,e){return mb(t.databaseId,e.path)}function yy(t,e){const n=FN(e);if(n.get(1)!==t.databaseId.projectId)throw new ie(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ie(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new fe(BN(n))}function UN(t,e){return mb(t.databaseId,e)}function P9(t){const e=FN(t);return e.length===4?ot.emptyPath():BN(e)}function d0(t){return new ot(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function BN(t){return Ye(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function vT(t,e,n){return{name:h0(t,e),fields:n.value.mapValue.fields}}function I9(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ve()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(Ye(c===void 0||typeof c=="string"),Gt.fromBase64String(c||"")):(Ye(c===void 0||c instanceof Buffer||c instanceof Uint8Array),Gt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(u){const c=u.code===void 0?H.UNKNOWN:MN(u.code);return new ie(c,u.message||"")}(a);n=new LN(r,i,o,s||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=yy(t,r.document.name),o=zr(r.document.updateTime),a=r.document.createTime?zr(r.document.createTime):_e.min(),s=new An({mapValue:{fields:r.document.fields}}),l=an.newFoundDocument(i,o,a,s),u=r.targetIds||[],c=r.removedTargetIds||[];n=new od(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=yy(t,r.document),o=r.readTime?zr(r.readTime):_e.min(),a=an.newNoDocument(i,o),s=r.removedTargetIds||[];n=new od([],s,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=yy(t,r.document),o=r.removedTargetIds||[];n=new od([],o,i,null)}else{if(!("filter"in e))return ve();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,a=new y9(i,o),s=r.targetId;n=new $N(s,a)}}return n}function O9(t,e){let n;if(e instanceof Ef)n={update:vT(t,e.key,e.value)};else if(e instanceof hb)n={delete:h0(t,e.key)};else if(e instanceof ko)n={update:vT(t,e.key,e.data),updateMask:L9(e.fieldMask)};else{if(!(e instanceof p9))return ve();n={verify:h0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,a){const s=a.transform;if(s instanceof Wd)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof wc)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof bc)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof qd)return{fieldPath:a.field.canonicalString(),increment:s.Pe};throw ve()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:A9(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ve()}(t,e.precondition)),n}function C9(t,e){return t&&t.length>0?(Ye(e!==void 0),t.map(n=>function(i,o){let a=i.updateTime?zr(i.updateTime):zr(o);return a.isEqual(_e.min())&&(a=zr(o)),new f9(a,i.transformResults||[])}(n,e))):[]}function k9(t,e){return{documents:[UN(t,e.path)]}}function R9(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=UN(t,i);const o=function(u){if(u.length!==0)return WN(Sr.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const a=function(u){if(u.length!==0)return u.map(c=>function(d){return{field:Ya(d.field),direction:j9(d.dir)}}(c))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const s=c0(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function N9(t){let e=P9(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ye(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(f){const d=zN(f);return d instanceof Sr&&_N(d)?d.getFilters():[d]}(n.where));let a=[];n.orderBy&&(a=function(f){return f.map(d=>function(g){return new _c(Qa(g.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(d))}(n.orderBy));let s=null;n.limit&&(s=function(f){let d;return d=typeof f=="object"?f.value:f,fm(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(f){const d=!!f.before,p=f.values||[];return new zd(p,d)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const d=!f.before,p=f.values||[];return new zd(p,d)}(n.endAt)),J6(e,i,a,o,s,"F",l,u)}function D9(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function zN(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Qa(n.unaryFilter.field);return Tt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Qa(n.unaryFilter.field);return Tt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Qa(n.unaryFilter.field);return Tt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Qa(n.unaryFilter.field);return Tt.create(a,"!=",{nullValue:"NULL_VALUE"});default:return ve()}}(t):t.fieldFilter!==void 0?function(n){return Tt.create(Qa(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ve()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Sr.create(n.compositeFilter.filters.map(r=>zN(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ve()}}(n.compositeFilter.op))}(t):ve()}function j9(t){return x9[t]}function M9(t){return E9[t]}function $9(t){return S9[t]}function Ya(t){return{fieldPath:t.canonicalString()}}function Qa(t){return Wt.fromServerFormat(t.fieldPath)}function WN(t){return t instanceof Tt?function(n){if(n.op==="=="){if(iT(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NAN"}};if(rT(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(iT(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NOT_NAN"}};if(rT(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ya(n.field),op:M9(n.op),value:n.value}}}(t):t instanceof Sr?function(n){const r=n.getFilters().map(i=>WN(i));return r.length===1?r[0]:{compositeFilter:{op:$9(n.op),filters:r}}}(t):ve()}function L9(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function qN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,n,r,i,o=_e.min(),a=_e.min(),s=Gt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new to(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new to(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new to(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new to(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V9{constructor(e){this.ct=e}}function F9(t){const e=N9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?u0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(){this.un=new B9}addToCollectionParentIndex(e,n){return this.un.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(bo.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(bo.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class B9{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ht(ot.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ht(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Fs(0)}static kn(){return new Fs(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{constructor(){this.changes=new gl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Lu(r.mutation,i,Un.empty(),et.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Pe()){const i=ea();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let a=wu();return o.forEach((s,l)=>{a=a.insert(s,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=ea();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Pe()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((a,s)=>{n.set(a,s)})})}computeViews(e,n,r,i){let o=Ei();const a=$u(),s=function(){return $u()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof ko)?o=o.insert(u.key,u):c!==void 0?(a.set(u.key,c.mutation.getFieldMask()),Lu(c.mutation,u,c.mutation.getFieldMask(),et.now())):a.set(u.key,Un.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>a.set(u,c)),n.forEach((u,c)=>{var f;return s.set(u,new W9(c,(f=a.get(u))!==null&&f!==void 0?f:null))}),s))}recalculateAndSaveOverlays(e,n){const r=$u();let i=new pt((a,s)=>a-s),o=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const s of a)s.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Un.empty();c=s.applyToLocalView(u,c),r.set(l,c);const f=(i.get(s.batchId)||Pe()).add(l);i=i.insert(s.batchId,f)})}).next(()=>{const a=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),u=l.key,c=l.value,f=IN();c.forEach(d=>{if(!o.has(d)){const p=DN(n.get(d),r.get(d));p!==null&&f.set(d,p),o=o.add(d)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,f))}return Q.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return fe.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):EN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):Q.resolve(ea());let s=-1,l=o;return a.next(u=>Q.forEach(u,(c,f)=>(s<f.largestBatchId&&(s=f.largestBatchId),o.get(c)?Q.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Pe())).next(c=>({batchId:s,changes:PN(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new fe(n)).next(r=>{let i=wu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let a=wu();return this.indexManager.getCollectionParents(e,o).next(s=>Q.forEach(s,l=>{const u=function(f,d){return new ml(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((f,d)=>{a=a.insert(f,d)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(a=>{o.forEach((l,u)=>{const c=u.getKey();a.get(c)===null&&(a=a.insert(c,an.newInvalidDocument(c)))});let s=wu();return a.forEach((l,u)=>{const c=o.get(l);c!==void 0&&Lu(c.mutation,u,Un.empty(),et.now()),dm(n,u)&&(s=s.insert(l,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Q.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:zr(i.createTime)}}(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:F9(i.bundledQuery),readTime:zr(i.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K9{constructor(){this.overlays=new pt(fe.comparator),this.Ir=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ea();return Q.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),Q.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const i=ea(),o=n.length+1,a=new fe(n.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const l=s.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Q.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new pt((u,c)=>u-c);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=ea(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const s=ea(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>s.set(u,c)),!(s.size()>=i)););return Q.resolve(s)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new g9(n,r));let o=this.Ir.get(n);o===void 0&&(o=Pe(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G9{constructor(){this.sessionToken=Gt.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(){this.Tr=new Ht(Nt.Er),this.dr=new Ht(Nt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Nt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Nt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new fe(new ot([])),r=new Nt(n,e),i=new Nt(n,e+1),o=[];return this.dr.forEachInRange([r,i],a=>{this.Vr(a),o.push(a.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new fe(new ot([])),r=new Nt(n,e),i=new Nt(n,e+1);let o=Pe();return this.dr.forEachInRange([r,i],a=>{o=o.add(a.key)}),o}containsKey(e){const n=new Nt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Nt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return fe.comparator(e.key,n.key)||je(e.wr,n.wr)}static Ar(e,n){return je(e.wr,n.wr)||fe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Ht(Nt.Er)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new m9(o,n,r,i);this.mutationQueue.push(a);for(const s of i)this.br=this.br.add(new Nt(s.key,o)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Q.resolve(a)}lookupMutationBatch(e,n){return Q.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return Q.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Nt(n,0),i=new Nt(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],a=>{const s=this.Dr(a.wr);o.push(s)}),Q.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ht(je);return n.forEach(i=>{const o=new Nt(i,0),a=new Nt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,a],s=>{r=r.add(s.wr)})}),Q.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;fe.isDocumentKey(o)||(o=o.child(""));const a=new Nt(new fe(o),0);let s=new Ht(je);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(s=s.add(l.wr)),!0)},a),Q.resolve(this.Cr(s))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ye(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Q.forEach(n.mutations,i=>{const o=new Nt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Nt(n,0),i=this.br.firstAfterOrEqual(r);return Q.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y9{constructor(e){this.Mr=e,this.docs=function(){return new pt(fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():an.newInvalidDocument(n))}getEntries(e,n){let r=Ei();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():an.newInvalidDocument(i))}),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Ei();const a=n.path,s=new fe(a.child("")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||N6(R6(c),r)<=0||(i.has(c.key)||dm(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return Q.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ve()}Or(e,n){return Q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Q9(this)}getSize(e){return Q.resolve(this.size)}}class Q9 extends z9{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),Q.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J9{constructor(e){this.persistence=e,this.Nr=new gl(n=>lb(n),ub),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.Lr=0,this.Br=new gb,this.targetCount=0,this.kr=Fs.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Q.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Fs(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Kn(n),Q.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((a,s)=>{s.sequenceNumber<=n&&r.get(s.targetId)===null&&(this.Nr.delete(a),o.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),Q.waitFor(o).next(()=>i)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(a=>{o.push(i.markPotentiallyOrphaned(e,a))}),Q.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z9{constructor(e,n){this.qr={},this.overlays={},this.Qr=new ib(0),this.Kr=!1,this.Kr=!0,this.$r=new G9,this.referenceDelegate=e(this),this.Ur=new J9(this),this.indexManager=new U9,this.remoteDocumentCache=function(i){return new Y9(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new V9(n),this.Gr=new H9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new K9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new X9(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ue("MemoryPersistence","Starting transaction:",e);const i=new e5(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return Q.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class e5 extends j6{constructor(e){super(),this.currentSequenceNumber=e}}class yb{constructor(e){this.persistence=e,this.Jr=new gb,this.Yr=null}static Zr(e){return new yb(e)}get Xr(){if(this.Yr)return this.Yr;throw ve()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.Xr,r=>{const i=fe.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,_e.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Q.or([()=>Q.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Pe(),i=Pe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new vb(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return H4()?8:M6(cn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new t5;return this.Xi(e,n,a).next(s=>{if(o.result=s,this.zi)return this.es(e,n,a,s.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(eu()<=Ie.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Xa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Q.resolve()):(eu()<=Ie.DEBUG&&ue("QueryEngine","Query:",Xa(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(eu()<=Ie.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Xa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Br(n))):Q.resolve())}Yi(e,n){if(lT(n))return Q.resolve(null);let r=Br(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=u0(n,null,"F"),r=Br(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const a=Pe(...o);return this.Ji.getDocuments(e,a).next(s=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,s);return this.ns(n,u,a,l.readTime)?this.Yi(e,u0(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return lT(n)||i.isEqual(_e.min())?Q.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const a=this.ts(n,o);return this.ns(n,a,r,i)?Q.resolve(null):(eu()<=Ie.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Xa(n)),this.rs(e,a,n,k6(i,-1)).next(s=>s))})}ts(e,n){let r=new Ht(TN(e));return n.forEach((i,o)=>{dm(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return eu()<=Ie.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Xa(n)),this.Ji.getDocumentsMatchingQuery(e,n,bo.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new pt(je),this._s=new gl(o=>lb(o),ub),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new q9(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function i5(t,e,n,r){return new r5(t,e,n,r)}async function HN(t,e){const n=be(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],s=[];let l=Pe();for(const u of i){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:a,addedBatchIds:s}))})})}function o5(t,e){const n=be(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(s,l,u,c){const f=u.batch,d=f.keys();let p=Q.resolve();return d.forEach(g=>{p=p.next(()=>c.getEntry(l,g)).next(y=>{const v=u.docVersions.get(g);Ye(v!==null),y.version.compareTo(v)<0&&(f.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),c.addEntry(y)))})}),p.next(()=>s.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let l=Pe();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(l=l.add(s.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function KN(t){const e=be(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function a5(t,e){const n=be(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const s=[];e.targetChanges.forEach((c,f)=>{const d=i.get(f);if(!d)return;s.push(n.Ur.removeMatchingKeys(o,c.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(o,c.addedDocuments,f)));let p=d.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(Gt.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(f,p),function(y,v,b){return y.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(d,p,c)&&s.push(n.Ur.updateTargetData(o,p))});let l=Ei(),u=Pe();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),s.push(s5(o,a,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(_e.min())){const c=n.Ur.getLastRemoteSnapshotVersion(o).next(f=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));s.push(c)}return Q.waitFor(s).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.os=i,o))}function s5(t,e,n){let r=Pe(),i=Pe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let a=Ei();return n.forEach((s,l)=>{const u=o.get(s);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(_e.min())?(e.removeEntry(s,l.readTime),a=a.insert(s,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),a=a.insert(s,l)):ue("LocalStore","Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",l.version)}),{Ps:a,Is:i}})}function l5(t,e){const n=be(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function u5(t,e){const n=be(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,Q.resolve(i)):n.Ur.allocateTargetId(r).next(a=>(i=new to(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function p0(t,e,n){const r=be(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!xf(a))throw a;ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function _T(t,e,n){const r=be(t);let i=_e.min(),o=Pe();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,c){const f=be(l),d=f._s.get(c);return d!==void 0?Q.resolve(f.os.get(d)):f.Ur.getTargetData(u,c)}(r,a,Br(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,s.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(a,e,n?i:_e.min(),n?o:Pe())).next(s=>(c5(r,e9(e),s),{documents:s,Ts:o})))}function c5(t,e,n){let r=t.us.get(e)||_e.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class wT{constructor(){this.activeTargetIds=a9()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class f5{constructor(){this.so=new wT,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new wT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xh=null;function vy(){return xh===null?xh=function(){return 268435456+Math.round(2147483648*Math.random())}():xh++,"0x"+xh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class m5 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,a){const s=vy(),l=this.xo(n,r.toUriEncodedString());ue("RestConnection",`Sending RPC '${n}' ${s}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,a),this.No(n,l,u,i).then(c=>(ue("RestConnection",`Received RPC '${n}' ${s}: `,c),c),c=>{throw Ms("RestConnection",`RPC '${n}' ${s} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,o,a,s){return this.Mo(n,r,i,o,a)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+pl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,a)=>n[a]=o),i&&i.headers.forEach((o,a)=>n[a]=o)}xo(n,r){const i=d5[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=vy();return new Promise((a,s)=>{const l=new aN;l.setWithCredentials(!0),l.listenOnce(lN.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case nd.NO_ERROR:const c=l.getResponseJson();ue(en,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),a(c);break;case nd.TIMEOUT:ue(en,`RPC '${e}' ${o} timed out`),s(new ie(H.DEADLINE_EXCEEDED,"Request time out"));break;case nd.HTTP_ERROR:const f=l.getStatus();if(ue(en,`RPC '${e}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const p=d==null?void 0:d.error;if(p&&p.status&&p.message){const g=function(v){const b=v.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(b)>=0?b:H.UNKNOWN}(p.status);s(new ie(g,p.message))}else s(new ie(H.UNKNOWN,"Server responded with status "+l.getStatus()))}else s(new ie(H.UNAVAILABLE,"Connection failed."));break;default:ve()}}finally{ue(en,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);ue(en,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=vy(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=fN(),s=cN(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new sN({})),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");ue(en,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=a.createWebChannel(c,l);let d=!1,p=!1;const g=new p5({Io:v=>{p?ue(en,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(d||(ue(en,`Opening RPC '${e}' stream ${i} transport.`),f.open(),d=!0),ue(en,`RPC '${e}' stream ${i} sending:`,v),f.send(v))},To:()=>f.close()}),y=(v,b,m)=>{v.listen(b,_=>{try{m(_)}catch(x){setTimeout(()=>{throw x},0)}})};return y(f,_u.EventType.OPEN,()=>{p||(ue(en,`RPC '${e}' stream ${i} transport opened.`),g.yo())}),y(f,_u.EventType.CLOSE,()=>{p||(p=!0,ue(en,`RPC '${e}' stream ${i} transport closed`),g.So())}),y(f,_u.EventType.ERROR,v=>{p||(p=!0,Ms(en,`RPC '${e}' stream ${i} transport errored:`,v),g.So(new ie(H.UNAVAILABLE,"The operation could not be completed")))}),y(f,_u.EventType.MESSAGE,v=>{var b;if(!p){const m=v.data[0];Ye(!!m);const _=m,x=_.error||((b=_[0])===null||b===void 0?void 0:b.error);if(x){ue(en,`RPC '${e}' stream ${i} received error:`,x);const T=x.status;let O=function(I){const C=Et[I];if(C!==void 0)return MN(C)}(T),S=x.message;O===void 0&&(O=H.INTERNAL,S="Unknown error status: "+T+" with message "+x.message),p=!0,g.So(new ie(O,S)),f.close()}else ue(en,`RPC '${e}' stream ${i} received:`,m),g.bo(m)}}),y(s,uN.STAT_EVENT,v=>{v.stat===r0.PROXY?ue(en,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===r0.NOPROXY&&ue(en,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.wo()},0),g}}function _y(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(t){return new T9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e,n,r,i,o,a,s,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new GN(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(xi(n.toString()),xi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ie(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class g5 extends XN{constructor(e,n,r,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=I9(this.serializer,e),r=function(o){if(!("targetChange"in o))return _e.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?_e.min():a.readTime?zr(a.readTime):_e.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=d0(this.serializer),n.addTarget=function(o,a){let s;const l=a.target;if(s=s0(l)?{documents:k9(o,l)}:{query:R9(o,l)._t},s.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){s.resumeToken=VN(o,a.resumeToken);const u=c0(o,a.expectedCount);u!==null&&(s.expectedCount=u)}else if(a.snapshotVersion.compareTo(_e.min())>0){s.readTime=Hd(o,a.snapshotVersion.toTimestamp());const u=c0(o,a.expectedCount);u!==null&&(s.expectedCount=u)}return s}(this.serializer,e);const r=D9(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=d0(this.serializer),n.removeTarget=e,this.a_(n)}}class y5 extends XN{constructor(e,n,r,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=C9(e.writeResults,e.commitTime),r=zr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=d0(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>O9(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ie(H.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Mo(e,f0(n,r),i,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ie(H.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Lo(e,f0(n,r),i,a,s,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ie(H.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class _5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(xi(n),this.D_=!1):ue("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(a=>{r.enqueueAndForget(async()=>{Na(this)&&(ue("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=be(l);u.L_.add(4),await Tf(u),u.q_.set("Unknown"),u.L_.delete(4),await vm(u)}(this))})}),this.q_=new _5(r,i)}}async function vm(t){if(Na(t))for(const e of t.B_)await e(!0)}async function Tf(t){for(const e of t.B_)await e(!1)}function YN(t,e){const n=be(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),xb(n)?bb(n):yl(n).r_()&&wb(n,e))}function _b(t,e){const n=be(t),r=yl(n);n.N_.delete(e),r.r_()&&QN(n,e),n.N_.size===0&&(r.r_()?r.o_():Na(n)&&n.q_.set("Unknown"))}function wb(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_e.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}yl(t).A_(e)}function QN(t,e){t.Q_.xe(e),yl(t).R_(e)}function bb(t){t.Q_=new b9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),yl(t).start(),t.q_.v_()}function xb(t){return Na(t)&&!yl(t).n_()&&t.N_.size>0}function Na(t){return be(t).L_.size===0}function JN(t){t.Q_=void 0}async function b5(t){t.q_.set("Online")}async function x5(t){t.N_.forEach((e,n)=>{wb(t,e)})}async function E5(t,e){JN(t),xb(t)?(t.q_.M_(e),bb(t)):t.q_.set("Unknown")}async function S5(t,e,n){if(t.q_.set("Online"),e instanceof LN&&e.state===2&&e.cause)try{await async function(i,o){const a=o.cause;for(const s of o.targetIds)i.N_.has(s)&&(await i.remoteSyncer.rejectListen(s,a),i.N_.delete(s),i.Q_.removeTarget(s))}(t,e)}catch(r){ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Kd(t,r)}else if(e instanceof od?t.Q_.Ke(e):e instanceof $N?t.Q_.He(e):t.Q_.We(e),!n.isEqual(_e.min()))try{const r=await KN(t.localStore);n.compareTo(r)>=0&&await function(o,a){const s=o.Q_.rt(a);return s.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.N_.get(u);c&&o.N_.set(u,c.withResumeToken(l.resumeToken,a))}}),s.targetMismatches.forEach((l,u)=>{const c=o.N_.get(l);if(!c)return;o.N_.set(l,c.withResumeToken(Gt.EMPTY_BYTE_STRING,c.snapshotVersion)),QN(o,l);const f=new to(c.target,l,u,c.sequenceNumber);wb(o,f)}),o.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){ue("RemoteStore","Failed to raise snapshot:",r),await Kd(t,r)}}async function Kd(t,e,n){if(!xf(e))throw e;t.L_.add(1),await Tf(t),t.q_.set("Offline"),n||(n=()=>KN(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ue("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await vm(t)})}function ZN(t,e){return e().catch(n=>Kd(t,n,e))}async function _m(t){const e=be(t),n=Eo(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;T5(e);)try{const i=await l5(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,A5(e,i)}catch(i){await Kd(e,i)}eD(e)&&tD(e)}function T5(t){return Na(t)&&t.O_.length<10}function A5(t,e){t.O_.push(e);const n=Eo(t);n.r_()&&n.V_&&n.m_(e.mutations)}function eD(t){return Na(t)&&!Eo(t).n_()&&t.O_.length>0}function tD(t){Eo(t).start()}async function P5(t){Eo(t).p_()}async function I5(t){const e=Eo(t);for(const n of t.O_)e.m_(n.mutations)}async function O5(t,e,n){const r=t.O_.shift(),i=db.from(r,e,n);await ZN(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await _m(t)}async function C5(t,e){e&&Eo(t).V_&&await async function(r,i){if(function(a){return v9(a)&&a!==H.ABORTED}(i.code)){const o=r.O_.shift();Eo(r).s_(),await ZN(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await _m(r)}}(t,e),eD(t)&&tD(t)}async function xT(t,e){const n=be(t);n.asyncQueue.verifyOperationInProgress(),ue("RemoteStore","RemoteStore received new credentials");const r=Na(n);n.L_.add(3),await Tf(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await vm(n)}async function k5(t,e){const n=be(t);e?(n.L_.delete(2),await vm(n)):e||(n.L_.add(2),await Tf(n),n.q_.set("Unknown"))}function yl(t){return t.K_||(t.K_=function(n,r,i){const o=be(n);return o.w_(),new g5(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:b5.bind(null,t),Ro:x5.bind(null,t),mo:E5.bind(null,t),d_:S5.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),xb(t)?bb(t):t.q_.set("Unknown")):(await t.K_.stop(),JN(t))})),t.K_}function Eo(t){return t.U_||(t.U_=function(n,r,i){const o=be(n);return o.w_(),new y5(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:P5.bind(null,t),mo:C5.bind(null,t),f_:I5.bind(null,t),g_:O5.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await _m(t)):(await t.U_.stop(),t.O_.length>0&&(ue("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new hi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const a=Date.now()+r,s=new Eb(e,n,a,i,o);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sb(t,e){if(xi("AsyncQueue",`${e}: ${t}`),xf(t))return new ie(H.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e){this.comparator=e?(n,r)=>e(n,r)||fe.comparator(n.key,r.key):(n,r)=>fe.comparator(n.key,r.key),this.keyedMap=wu(),this.sortedSet=new pt(this.comparator)}static emptySet(e){return new Ts(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ts)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ts;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(){this.W_=new pt(fe.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ve():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Us{constructor(e,n,r,i,o,a,s,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const a=[];return n.forEach(s=>{a.push({type:0,doc:s})}),new Us(e,n,Ts.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class N5{constructor(){this.queries=ST(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=be(n),o=i.queries;i.queries=ST(),o.forEach((a,s)=>{for(const l of s.j_)l.onError(r)})})(this,new ie(H.ABORTED,"Firestore shutting down"))}}function ST(){return new gl(t=>SN(t),hm)}async function nD(t,e){const n=be(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new R5,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const s=Sb(a,`Initialization of query '${Xa(e.query)}' failed`);return void e.onError(s)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&Tb(n)}async function rD(t,e){const n=be(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const a=o.j_.indexOf(e);a>=0&&(o.j_.splice(a,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function D5(t,e){const n=be(t);let r=!1;for(const i of e){const o=i.query,a=n.queries.get(o);if(a){for(const s of a.j_)s.X_(i)&&(r=!0);a.z_=i}}r&&Tb(n)}function j5(t,e,n){const r=be(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function Tb(t){t.Y_.forEach(e=>{e.next()})}var m0,TT;(TT=m0||(m0={})).ea="default",TT.Cache="cache";class iD{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Us(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Us.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==m0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e){this.key=e}}class aD{constructor(e){this.key=e}}class M5{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Pe(),this.mutatedKeys=Pe(),this.Aa=TN(e),this.Ra=new Ts(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new ET,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,a=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const d=i.get(c),p=dm(this.query,f)?f:null,g=!!d&&this.mutatedKeys.has(d.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let v=!1;d&&p?d.data.isEqual(p.data)?g!==y&&(r.track({type:3,doc:p}),v=!0):this.ga(d,p)||(r.track({type:2,doc:p}),v=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(s=!0)):!d&&p?(r.track({type:0,doc:p}),v=!0):d&&!p&&(r.track({type:1,doc:d}),v=!0,(l||u)&&(s=!0)),v&&(p?(a=a.add(p),o=y?o.add(c):o.delete(c)):(a=a.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const c=this.query.limitType==="F"?a.last():a.first();a=a.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Ra:a,fa:r,ns:s,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((c,f)=>function(p,g){const y=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve()}};return y(p)-y(g)}(c.type,f.type)||this.Aa(c.doc,f.doc)),this.pa(r),i=i!=null&&i;const s=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,a.length!==0||u?{snapshot:new Us(this.query,e.Ra,o,a,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:s}:{wa:s}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new ET,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Pe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new aD(r))}),this.da.forEach(r=>{e.has(r)||n.push(new oD(r))}),n}ba(e){this.Ta=e.Ts,this.da=Pe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Us.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class $5{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class L5{constructor(e){this.key=e,this.va=!1}}class V5{constructor(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new gl(s=>SN(s),hm),this.Ma=new Map,this.xa=new Set,this.Oa=new pt(fe.comparator),this.Na=new Map,this.La=new gb,this.Ba={},this.ka=new Map,this.qa=Fs.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function F5(t,e,n=!0){const r=hD(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await sD(r,e,n,!0),i}async function U5(t,e){const n=hD(t);await sD(n,e,!0,!1)}async function sD(t,e,n,r){const i=await u5(t.localStore,Br(e)),o=i.targetId,a=n?t.sharedClientState.addLocalQueryTarget(o):"not-current";let s;return r&&(s=await B5(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&YN(t.remoteStore,i),s}async function B5(t,e,n,r,i){t.Ka=(f,d,p)=>async function(y,v,b,m){let _=v.view.ma(b);_.ns&&(_=await _T(y.localStore,v.query,!1).then(({documents:S})=>v.view.ma(S,_)));const x=m&&m.targetChanges.get(v.targetId),T=m&&m.targetMismatches.get(v.targetId)!=null,O=v.view.applyChanges(_,y.isPrimaryClient,x,T);return PT(y,v.targetId,O.wa),O.snapshot}(t,f,d,p);const o=await _T(t.localStore,e,!0),a=new M5(e,o.Ts),s=a.ma(o.documents),l=Sf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=a.applyChanges(s,t.isPrimaryClient,l);PT(t,n,u.wa);const c=new $5(e,n,a);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function z5(t,e,n){const r=be(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(a=>!hm(a,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await p0(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&_b(r.remoteStore,i.targetId),g0(r,i.targetId)}).catch(bf)):(g0(r,i.targetId),await p0(r.localStore,i.targetId,!0))}async function W5(t,e){const n=be(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),_b(n.remoteStore,r.targetId))}async function q5(t,e,n){const r=J5(t);try{const i=await function(a,s){const l=be(a),u=et.now(),c=s.reduce((p,g)=>p.add(g.key),Pe());let f,d;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=Ei(),y=Pe();return l.cs.getEntries(p,c).next(v=>{g=v,g.forEach((b,m)=>{m.isValidDocument()||(y=y.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(v=>{f=v;const b=[];for(const m of s){const _=d9(m,f.get(m.key).overlayedDocument);_!=null&&b.push(new ko(m.key,_,gN(_.value.mapValue),ir.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,b,s)}).next(v=>{d=v;const b=v.applyToLocalDocumentSet(f,y);return l.documentOverlayCache.saveOverlays(p,v.batchId,b)})}).then(()=>({batchId:d.batchId,changes:PN(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,s,l){let u=a.Ba[a.currentUser.toKey()];u||(u=new pt(je)),u=u.insert(s,l),a.Ba[a.currentUser.toKey()]=u}(r,i.batchId,n),await Af(r,i.changes),await _m(r.remoteStore)}catch(i){const o=Sb(i,"Failed to persist write");n.reject(o)}}async function lD(t,e){const n=be(t);try{const r=await a5(n.localStore,e);e.targetChanges.forEach((i,o)=>{const a=n.Na.get(o);a&&(Ye(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?Ye(a.va):i.removedDocuments.size>0&&(Ye(a.va),a.va=!1))}),await Af(n,r,e)}catch(r){await bf(r)}}function AT(t,e,n){const r=be(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,a)=>{const s=a.view.Z_(e);s.snapshot&&i.push(s.snapshot)}),function(a,s){const l=be(a);l.onlineState=s;let u=!1;l.queries.forEach((c,f)=>{for(const d of f.j_)d.Z_(s)&&(u=!0)}),u&&Tb(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function H5(t,e,n){const r=be(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let a=new pt(fe.comparator);a=a.insert(o,an.newNoDocument(o,_e.min()));const s=Pe().add(o),l=new gm(_e.min(),new Map,new pt(je),a,s);await lD(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),Ab(r)}else await p0(r.localStore,e,!1).then(()=>g0(r,e,n)).catch(bf)}async function K5(t,e){const n=be(t),r=e.batch.batchId;try{const i=await o5(n.localStore,e);cD(n,r,null),uD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Af(n,i)}catch(i){await bf(i)}}async function G5(t,e,n){const r=be(t);try{const i=await function(a,s){const l=be(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,s).next(f=>(Ye(f!==null),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);cD(r,e,n),uD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Af(r,i)}catch(i){await bf(i)}}function uD(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function cD(t,e,n){const r=be(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function g0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||fD(t,r)})}function fD(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(_b(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Ab(t))}function PT(t,e,n){for(const r of n)r instanceof oD?(t.La.addReference(r.key,e),X5(t,r)):r instanceof aD?(ue("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||fD(t,r.key)):ve()}function X5(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ue("SyncEngine","New document in limbo: "+n),t.xa.add(r),Ab(t))}function Ab(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new fe(ot.fromString(e)),r=t.qa.next();t.Na.set(r,new L5(n)),t.Oa=t.Oa.insert(n,r),YN(t.remoteStore,new to(Br(cb(n.path)),r,"TargetPurposeLimboResolution",ib.oe))}}async function Af(t,e,n){const r=be(t),i=[],o=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((s,l)=>{a.push(r.Ka(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=vb.Wi(l.targetId,u);o.push(f)}}))}),await Promise.all(a),r.Ca.d_(i),await async function(l,u){const c=be(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Q.forEach(u,d=>Q.forEach(d.$i,p=>c.persistence.referenceDelegate.addReference(f,d.targetId,p)).next(()=>Q.forEach(d.Ui,p=>c.persistence.referenceDelegate.removeReference(f,d.targetId,p)))))}catch(f){if(!xf(f))throw f;ue("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const d=f.targetId;if(!f.fromCache){const p=c.os.get(d),g=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(g);c.os=c.os.insert(d,y)}}}(r.localStore,o))}async function Y5(t,e){const n=be(t);if(!n.currentUser.isEqual(e)){ue("SyncEngine","User change. New user:",e.toKey());const r=await HN(n.localStore,e);n.currentUser=e,function(o,a){o.ka.forEach(s=>{s.forEach(l=>{l.reject(new ie(H.CANCELLED,a))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Af(n,r.hs)}}function Q5(t,e){const n=be(t),r=n.Na.get(e);if(r&&r.va)return Pe().add(r.key);{let i=Pe();const o=n.Ma.get(e);if(!o)return i;for(const a of o){const s=n.Fa.get(a);i=i.unionWith(s.view.Va)}return i}}function hD(t){const e=be(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=lD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Q5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=H5.bind(null,e),e.Ca.d_=D5.bind(null,e.eventManager),e.Ca.$a=j5.bind(null,e.eventManager),e}function J5(t){const e=be(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=K5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=G5.bind(null,e),e}class IT{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=ym(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return i5(this.persistence,new n5,e.initialUser,this.serializer)}createPersistence(e){return new Z9(yb.Zr,this.serializer)}createSharedClientState(e){return new f5}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Z5{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>AT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Y5.bind(null,this.syncEngine),await k5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new N5}()}createDatastore(e){const n=ym(e.databaseInfo.databaseId),r=function(o){return new m5(o)}(e.databaseInfo);return function(o,a,s,l){return new v5(o,a,s,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,a,s){return new w5(r,i,o,a,s)}(this.localStore,this.datastore,e.asyncQueue,n=>AT(this.syncEngine,n,0),function(){return bT.D()?new bT:new h5}())}createSyncEngine(e,n){return function(i,o,a,s,l,u,c){const f=new V5(i,o,a,s,l,u);return c&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=be(i);ue("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await Tf(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):xi("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ez{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=nn.UNAUTHENTICATED,this.clientId=dN.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{ue("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ue("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ie(H.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Sb(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function wy(t,e){t.asyncQueue.verifyOperationInProgress(),ue("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await HN(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function OT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await nz(t);ue("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>xT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>xT(e.remoteStore,i)),t._onlineComponents=e}function tz(t){return t.name==="FirebaseError"?t.code===H.FAILED_PRECONDITION||t.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function nz(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ue("FirestoreClient","Using user provided OfflineComponentProvider");try{await wy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!tz(n))throw n;Ms("Error using user provided cache. Falling back to memory cache: "+n),await wy(t,new IT)}}else ue("FirestoreClient","Using default OfflineComponentProvider"),await wy(t,new IT);return t._offlineComponents}async function pD(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ue("FirestoreClient","Using user provided OnlineComponentProvider"),await OT(t,t._uninitializedComponentsProvider._online)):(ue("FirestoreClient","Using default OnlineComponentProvider"),await OT(t,new Z5))),t._onlineComponents}function rz(t){return pD(t).then(e=>e.syncEngine)}async function mD(t){const e=await pD(t),n=e.eventManager;return n.onListen=F5.bind(null,e.syncEngine),n.onUnlisten=z5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=U5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=W5.bind(null,e.syncEngine),n}function iz(t,e,n={}){const r=new hi;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,s,l,u){const c=new dD({next:d=>{a.enqueueAndForget(()=>rD(o,f));const p=d.docs.has(s);!p&&d.fromCache?u.reject(new ie(H.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&d.fromCache&&l&&l.source==="server"?u.reject(new ie(H.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),f=new iD(cb(s.path),c,{includeMetadataChanges:!0,_a:!0});return nD(o,f)}(await mD(t),t.asyncQueue,e,n,r)),r.promise}function oz(t,e,n={}){const r=new hi;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,s,l,u){const c=new dD({next:d=>{a.enqueueAndForget(()=>rD(o,f)),d.fromCache&&l.source==="server"?u.reject(new ie(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),f=new iD(s,c,{includeMetadataChanges:!0,_a:!0});return nD(o,f)}(await mD(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(t,e,n){if(!n)throw new ie(H.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function az(t,e,n,r){if(e===!0&&r===!0)throw new ie(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function kT(t){if(!fe.isDocumentKey(t))throw new ie(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function RT(t){if(fe.isDocumentKey(t))throw new ie(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function wm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ve()}function Tr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ie(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wm(t);throw new ie(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ie(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ie(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}az("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gD((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ie(H.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ie(H.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ie(H.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new NT({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ie(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ie(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new NT(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new x6;switch(r.type){case"firstParty":return new A6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ie(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=CT.get(n);r&&(ue("ComponentProvider","Removing Datastore"),CT.delete(n),r.terminate())}(this),Promise.resolve()}}function sz(t,e,n,r={}){var i;const o=(t=Tr(t,bm))._getSettings(),a=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==a&&Ms("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let s,l;if(typeof r.mockUserToken=="string")s=r.mockUserToken,l=nn.MOCK_USER;else{s=_R(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ie(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new nn(u)}t._authCredentials=new E6(new hN(s,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Da(this.firestore,e,this._query)}}class xn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xn(this.firestore,e,this._key)}}class mo extends Da{constructor(e,n,r){super(e,n,cb(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xn(this.firestore,null,new fe(e))}withConverter(e){return new mo(this.firestore,e,this._path)}}function Ro(t,e,...n){if(t=dt(t),yD("collection","path",e),t instanceof bm){const r=ot.fromString(e,...n);return RT(r),new mo(t,null,r)}{if(!(t instanceof xn||t instanceof mo))throw new ie(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ot.fromString(e,...n));return RT(r),new mo(t.firestore,null,r)}}function ur(t,e,...n){if(t=dt(t),arguments.length===1&&(e=dN.newId()),yD("doc","path",e),t instanceof bm){const r=ot.fromString(e,...n);return kT(r),new xn(t,null,new fe(r))}{if(!(t instanceof xn||t instanceof mo))throw new ie(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ot.fromString(e,...n));return kT(r),new xn(t.firestore,t instanceof mo?t.converter:null,new fe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lz{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new GN(this,"async_queue_retry"),this.Eu=()=>{const n=_y();n&&ue("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=_y();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=_y();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new hi;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!xf(e))throw e;ue("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const i=function(a){let s=a.message||"";return a.stack&&(s=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),s}(r);throw xi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const i=Eb.createAndSchedule(this,e,n,r,o=>this.Vu(o));return this.lu.push(i),i}du(){this.hu&&ve()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}class ja extends bm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new lz}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||vD(this),this._firestoreClient.terminate()}}function uz(t,e){const n=typeof t=="object"?t:Hw(),r=typeof t=="string"?t:"(default)",i=sm(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=gR("firestore");o&&sz(i,...o)}return i}function Pb(t){return t._firestoreClient||vD(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function vD(t){var e,n,r;const i=t._freezeSettings(),o=function(s,l,u,c){return new V6(s,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,gD(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new ez(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bs(Gt.fromBase64String(e))}catch(n){throw new ie(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Bs(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ie(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ie(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ie(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cz=/^__.*__$/;class fz{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ko(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ef(e,this.data,n,this.fieldTransforms)}}class _D{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ko(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function wD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve()}}class kb{constructor(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.yu(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new kb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Gd(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(wD(this.wu)&&cz.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class hz{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ym(e)}Nu(e,n,r,i=!1){return new kb({wu:e,methodName:n,Ou:r,path:Wt.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Em(t){const e=t._freezeSettings(),n=ym(t._databaseId);return new hz(t._databaseId,!!e.ignoreUndefinedProperties,n)}function bD(t,e,n,r,i,o={}){const a=t.Nu(o.merge||o.mergeFields?2:0,e,n,i);Rb("Data must be an object, but it was:",a,r);const s=xD(r,a);let l,u;if(o.merge)l=new Un(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){const c=[];for(const f of o.mergeFields){const d=y0(e,f,n);if(!a.contains(d))throw new ie(H.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);SD(c,d)||c.push(d)}l=new Un(c),u=a.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=a.fieldTransforms;return new fz(new An(s),l,u)}class Sm extends Ib{_toFieldTransform(e){if(e.wu!==2)throw e.wu===1?e.Mu(`${this._methodName}() can only appear at the top level of your update data`):e.Mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Sm}}function dz(t,e,n,r){const i=t.Nu(1,e,n);Rb("Data must be an object, but it was:",i,r);const o=[],a=An.empty();Ra(r,(l,u)=>{const c=Nb(e,l,n);u=dt(u);const f=i.Cu(c);if(u instanceof Sm)o.push(c);else{const d=Pf(u,f);d!=null&&(o.push(c),a.set(c,d))}});const s=new Un(o);return new _D(a,s,i.fieldTransforms)}function pz(t,e,n,r,i,o){const a=t.Nu(1,e,n),s=[y0(e,r,n)],l=[i];if(o.length%2!=0)throw new ie(H.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<o.length;d+=2)s.push(y0(e,o[d])),l.push(o[d+1]);const u=[],c=An.empty();for(let d=s.length-1;d>=0;--d)if(!SD(u,s[d])){const p=s[d];let g=l[d];g=dt(g);const y=a.Cu(p);if(g instanceof Sm)u.push(p);else{const v=Pf(g,y);v!=null&&(u.push(p),c.set(p,v))}}const f=new Un(u);return new _D(c,f,a.fieldTransforms)}function mz(t,e,n,r=!1){return Pf(n,t.Nu(r?4:3,e))}function Pf(t,e){if(ED(t=dt(t)))return Rb("Unsupported field value:",e,t),xD(t,e);if(t instanceof Ib)return function(r,i){if(!wD(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){const o=[];let a=0;for(const s of r){let l=Pf(s,i.Fu(a));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),a++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=dt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return s9(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=et.fromDate(r);return{timestampValue:Hd(i.serializer,o)}}if(r instanceof et){const o=new et(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Hd(i.serializer,o)}}if(r instanceof Ob)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Bs)return{bytesValue:VN(i.serializer,r._byteString)};if(r instanceof xn){const o=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw i.Mu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:mb(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Cb)return function(a,s){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(l=>{if(typeof l!="number")throw s.Mu("VectorValues must only contain numeric values.");return fb(s.serializer,l)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${wm(r)}`)}(t,e)}function xD(t,e){const n={};return pN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ra(t,(r,i)=>{const o=Pf(i,e.bu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function ED(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof et||t instanceof Ob||t instanceof Bs||t instanceof xn||t instanceof Ib||t instanceof Cb)}function Rb(t,e,n){if(!ED(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=wm(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function y0(t,e,n){if((e=dt(e))instanceof xm)return e._internalPath;if(typeof e=="string")return Nb(t,e);throw Gd("Field path arguments must be of type string or ",t,!1,void 0,n)}const gz=new RegExp("[~\\*/\\[\\]]");function Nb(t,e,n){if(e.search(gz)>=0)throw Gd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new xm(...e.split("."))._internalPath}catch{throw Gd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Gd(t,e,n,r,i){const o=r&&!r.isEmpty(),a=i!==void 0;let s=`Function ${e}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new ie(H.INVALID_ARGUMENT,s+t+l)}function SD(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new xn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new yz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Db("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class yz extends TD{data(){return super.data()}}function Db(t,e){return typeof e=="string"?Nb(t,e):e instanceof xm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vz(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ie(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jb{}class AD extends jb{}function _z(t,e,...n){let r=[];e instanceof jb&&r.push(e),r=r.concat(n),function(o){const a=o.filter(l=>l instanceof $b).length,s=o.filter(l=>l instanceof Mb).length;if(a>1||a>0&&s>0)throw new ie(H.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Mb extends AD{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Mb(e,n,r)}_apply(e){const n=this._parse(e);return PD(e._query,n),new Da(e.firestore,e.converter,l0(e._query,n))}_parse(e){const n=Em(e.firestore);return function(o,a,s,l,u,c,f){let d;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ie(H.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){jT(f,c);const p=[];for(const g of f)p.push(DT(l,o,g));d={arrayValue:{values:p}}}else d=DT(l,o,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||jT(f,c),d=mz(s,a,f,c==="in"||c==="not-in");return Tt.create(u,c,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class $b extends jb{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new $b(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Sr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let a=i;const s=o.getFlattenedFilters();for(const l of s)PD(a,l),a=l0(a,l)}(e._query,n),new Da(e.firestore,e.converter,l0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Lb extends AD{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Lb(e,n)}_apply(e){const n=function(i,o,a){if(i.startAt!==null)throw new ie(H.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ie(H.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new _c(o,a)}(e._query,this._field,this._direction);return new Da(e.firestore,e.converter,function(i,o){const a=i.explicitOrderBy.concat([o]);return new ml(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function wz(t,e="asc"){const n=e,r=Db("orderBy",t);return Lb._create(r,n)}function DT(t,e,n){if(typeof(n=dt(n))=="string"){if(n==="")throw new ie(H.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!EN(e)&&n.indexOf("/")!==-1)throw new ie(H.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ot.fromString(n));if(!fe.isDocumentKey(r))throw new ie(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return nT(t,new fe(r))}if(n instanceof xn)return nT(t,n._key);throw new ie(H.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wm(n)}.`)}function jT(t,e){if(!Array.isArray(t)||t.length===0)throw new ie(H.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function PD(t,e){const n=function(i,o){for(const a of i)for(const s of a.getFlattenedFilters())if(o.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ie(H.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ie(H.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class bz{convertValue(e,n="none"){switch(ba(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(wa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ve()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ra(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>wt(a.doubleValue));return new Cb(o)}convertGeoPoint(e){return new Ob(wt(e.latitude),wt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ab(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(gc(e));default:return null}}convertTimestamp(e){const n=xo(e);return new et(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ot.fromString(e);Ye(qN(r));const i=new yc(r.get(1),r.get(3)),o=new fe(r.popFirst(5));return i.isEqual(n)||xi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class OD extends TD{constructor(e,n,r,i,o,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ad(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Db("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ad extends OD{data(e={}){return super.data(e)}}class xz{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new xu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ad(this._firestore,this._userDataWriter,r.key,r,new xu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ie(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(s=>{const l=new ad(i._firestore,i._userDataWriter,s.doc.key,s.doc,new xu(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>o||s.type!==3).map(s=>{const l=new ad(i._firestore,i._userDataWriter,s.doc.key,s.doc,new xu(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return s.type!==0&&(u=a.indexOf(s.doc.key),a=a.delete(s.doc.key)),s.type!==1&&(a=a.add(s.doc),c=a.indexOf(s.doc.key)),{type:Ez(s.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Ez(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sz(t){t=Tr(t,xn);const e=Tr(t.firestore,ja);return iz(Pb(e),t._key).then(n=>Tz(e,t,n))}class CD extends bz{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new xn(this.firestore,null,n)}}function Tm(t){t=Tr(t,Da);const e=Tr(t.firestore,ja),n=Pb(e),r=new CD(e);return vz(t._query),oz(n,t._query).then(i=>new xz(e,r,t,i))}function kD(t,e,n){t=Tr(t,xn);const r=Tr(t.firestore,ja),i=ID(t.converter,e,n);return Am(r,[bD(Em(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ir.none())])}function RD(t,e,n,...r){t=Tr(t,xn);const i=Tr(t.firestore,ja),o=Em(i);let a;return a=typeof(e=dt(e))=="string"||e instanceof xm?pz(o,"updateDoc",t._key,e,n,r):dz(o,"updateDoc",t._key,e),Am(i,[a.toMutation(t._key,ir.exists(!0))])}function ND(t){return Am(Tr(t.firestore,ja),[new hb(t._key,ir.none())])}function Vb(t,e){const n=Tr(t.firestore,ja),r=ur(t),i=ID(t.converter,e);return Am(n,[bD(Em(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ir.exists(!1))]).then(()=>r)}function Am(t,e){return function(r,i){const o=new hi;return r.asyncQueue.enqueueAndForget(async()=>q5(await rz(r),i,o)),o.promise}(Pb(t),e)}function Tz(t,e,n){const r=n.docs.get(e._key),i=new CD(t);return new OD(t,i,e._key,r,new xu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){pl=i})(Ca),ga(new wo("firestore",(r,{instanceIdentifier:i,options:o})=>{const a=r.getProvider("app").getImmediate(),s=new ja(new S6(r.getProvider("auth-internal")),new I6(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ie(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yc(u.options.projectId,c)}(a,i),a);return o=Object.assign({useFetchStreams:n},o),s._setSettings(o),s},"PUBLIC").setMultipleInstances(!0)),Vr(QS,"4.7.1",e),Vr(QS,"4.7.1","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD="firebasestorage.googleapis.com",jD="storageBucket",Az=2*60*1e3,Pz=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t extends Gr{constructor(e,n,r=0){super(by(e),`Firebase Storage: ${n} (${by(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,_t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return by(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var vt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(vt||(vt={}));function by(t){return"storage/"+t}function Fb(){const t="An unknown error occurred, please check the error payload for server response.";return new _t(vt.UNKNOWN,t)}function Iz(t){return new _t(vt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Oz(t){return new _t(vt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Cz(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new _t(vt.UNAUTHENTICATED,t)}function kz(){return new _t(vt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Rz(t){return new _t(vt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Nz(){return new _t(vt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Dz(){return new _t(vt.CANCELED,"User canceled the upload/download.")}function jz(t){return new _t(vt.INVALID_URL,"Invalid URL '"+t+"'.")}function Mz(t){return new _t(vt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function $z(){return new _t(vt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+jD+"' property when initializing the app?")}function Lz(){return new _t(vt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Vz(){return new _t(vt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Fz(t){return new _t(vt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function v0(t){return new _t(vt.INVALID_ARGUMENT,t)}function MD(){return new _t(vt.APP_DELETED,"The Firebase app was deleted.")}function Uz(t){return new _t(vt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Vu(t,e){return new _t(vt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function tu(t){throw new _t(vt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=yn.makeFromUrl(e,n)}catch{return new yn(e,"")}if(r.path==="")return r;throw Mz(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(x){x.path.charAt(x.path.length-1)==="/"&&(x.path_=x.path_.slice(0,-1))}const a="(/(.*))?$",s=new RegExp("^gs://"+i+a,"i"),l={bucket:1,path:3};function u(x){x.path_=decodeURIComponent(x.path)}const c="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${c}/b/${i}/o${d}`,"i"),g={bucket:1,path:3},y=n===DD?"(?:storage.googleapis.com|storage.cloud.google.com)":n,v="([^?#]*)",b=new RegExp(`^https?://${y}/${i}/${v}`,"i"),_=[{regex:s,indices:l,postModify:o},{regex:p,indices:g,postModify:u},{regex:b,indices:{bucket:1,path:2},postModify:u}];for(let x=0;x<_.length;x++){const T=_[x],O=T.regex.exec(e);if(O){const S=O[T.indices.bucket];let E=O[T.indices.path];E||(E=""),r=new yn(S,E),T.postModify(r);break}}if(r==null)throw jz(e);return r}}class Bz{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zz(t,e,n){let r=1,i=null,o=null,a=!1,s=0;function l(){return s===2}let u=!1;function c(...v){u||(u=!0,e.apply(null,v))}function f(v){i=setTimeout(()=>{i=null,t(p,l())},v)}function d(){o&&clearTimeout(o)}function p(v,...b){if(u){d();return}if(v){d(),c.call(null,v,...b);return}if(l()||a){d(),c.call(null,v,...b);return}r<64&&(r*=2);let _;s===1?(s=2,_=0):_=(r+Math.random())*1e3,f(_)}let g=!1;function y(v){g||(g=!0,d(),!u&&(i!==null?(v||(s=2),clearTimeout(i),f(0)):v||(s=1)))}return f(0),o=setTimeout(()=>{a=!0,y(!0)},n),y}function Wz(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qz(t){return t!==void 0}function Hz(t){return typeof t=="object"&&!Array.isArray(t)}function Ub(t){return typeof t=="string"||t instanceof String}function MT(t){return Bb()&&t instanceof Blob}function Bb(){return typeof Blob<"u"}function _0(t,e,n,r){if(r<e)throw v0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw v0(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function $D(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var la;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(la||(la={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kz(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gz{constructor(e,n,r,i,o,a,s,l,u,c,f,d=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=a,this.callback_=s,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=f,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,g)=>{this.resolve_=p,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Eh(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const a=s=>{const l=s.loaded,u=s.lengthComputable?s.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&o.addUploadProgressListener(a),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(a),this.pendingConnection_=null;const s=o.getErrorCode()===la.NO_ERROR,l=o.getStatus();if(!s||Kz(l,this.additionalRetryCodes_)&&this.retry){const c=o.getErrorCode()===la.ABORT;r(!1,new Eh(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Eh(u,o))})},n=(r,i)=>{const o=this.resolve_,a=this.reject_,s=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(s,s.getResponse());qz(l)?o(l):o()}catch(l){a(l)}else if(s!==null){const l=Fb();l.serverResponse=s.getErrorText(),this.errorCallback_?a(this.errorCallback_(s,l)):a(l)}else if(i.canceled){const l=this.appDelete_?MD():Dz();a(l)}else{const l=Nz();a(l)}};this.canceled_?n(!1,new Eh(!1,null,!0)):this.backoffId_=zz(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Wz(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Eh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Xz(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Yz(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Qz(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Jz(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Zz(t,e,n,r,i,o,a=!0){const s=$D(t.urlParams),l=t.url+s,u=Object.assign({},t.headers);return Qz(u,e),Xz(u,n),Yz(u,o),Jz(u,r),new Gz(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eW(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function tW(...t){const e=eW();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Bb())return new Blob(t);throw new _t(vt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function nW(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rW(t){if(typeof atob>"u")throw Fz("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class xy{constructor(e,n){this.data=e,this.contentType=n||null}}function iW(t,e){switch(t){case Dr.RAW:return new xy(LD(e));case Dr.BASE64:case Dr.BASE64URL:return new xy(VD(t,e));case Dr.DATA_URL:return new xy(aW(e),sW(e))}throw Fb()}function LD(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,a=t.charCodeAt(++n);r=65536|(o&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function oW(t){let e;try{e=decodeURIComponent(t)}catch{throw Vu(Dr.DATA_URL,"Malformed data URL.")}return LD(e)}function VD(t,e){switch(t){case Dr.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Vu(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Dr.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Vu(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=rW(e)}catch(i){throw i.message.includes("polyfill")?i:Vu(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class FD{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Vu(Dr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=lW(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function aW(t){const e=new FD(t);return e.base64?VD(Dr.BASE64,e.rest):oW(e.rest)}function sW(t){return new FD(t).contentType}function lW(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,n){let r=0,i="";MT(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(MT(this.data_)){const r=this.data_,i=nW(r,e,n);return i===null?null:new Yi(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Yi(r,!0)}}static getBlob(...e){if(Bb()){const n=e.map(r=>r instanceof Yi?r.data_:r);return new Yi(tW.apply(null,n))}else{const n=e.map(a=>Ub(a)?iW(Dr.RAW,a).data:a.data_);let r=0;n.forEach(a=>{r+=a.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(a=>{for(let s=0;s<a.length;s++)i[o++]=a[s]}),new Yi(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(t){let e;try{e=JSON.parse(t)}catch{return null}return Hz(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uW(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function cW(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function UD(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fW(t,e){return e}class pn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||fW}}let Sh=null;function hW(t){return!Ub(t)||t.length<2?t:UD(t)}function BD(){if(Sh)return Sh;const t=[];t.push(new pn("bucket")),t.push(new pn("generation")),t.push(new pn("metageneration")),t.push(new pn("name","fullPath",!0));function e(o,a){return hW(a)}const n=new pn("name");n.xform=e,t.push(n);function r(o,a){return a!==void 0?Number(a):a}const i=new pn("size");return i.xform=r,t.push(i),t.push(new pn("timeCreated")),t.push(new pn("updated")),t.push(new pn("md5Hash",null,!0)),t.push(new pn("cacheControl",null,!0)),t.push(new pn("contentDisposition",null,!0)),t.push(new pn("contentEncoding",null,!0)),t.push(new pn("contentLanguage",null,!0)),t.push(new pn("contentType",null,!0)),t.push(new pn("metadata","customMetadata",!0)),Sh=t,Sh}function dW(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new yn(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function pW(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const a=n[o];r[a.local]=a.xform(r,e[a.server])}return dW(r,t),r}function zD(t,e,n){const r=zb(e);return r===null?null:pW(t,r,n)}function mW(t,e,n,r){const i=zb(e);if(i===null||!Ub(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const a=encodeURIComponent;return o.split(",").map(u=>{const c=t.bucket,f=t.fullPath,d="/b/"+a(c)+"/o/"+a(f),p=Pm(d,n,r),g=$D({alt:"media",token:u});return p+g})[0]}function gW(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="prefixes",LT="items";function yW(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[$T])for(const i of n[$T]){const o=i.replace(/\/$/,""),a=t._makeStorageReference(new yn(e,o));r.prefixes.push(a)}if(n[LT])for(const i of n[LT]){const o=t._makeStorageReference(new yn(e,i.name));r.items.push(o)}return r}function vW(t,e,n){const r=zb(n);return r===null?null:yW(t,e,r)}class Wb{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(t){if(!t)throw Fb()}function _W(t,e){function n(r,i){const o=zD(t,i,e);return qb(o!==null),o}return n}function wW(t,e){function n(r,i){const o=vW(t,e,i);return qb(o!==null),o}return n}function bW(t,e){function n(r,i){const o=zD(t,i,e);return qb(o!==null),mW(o,i,t.host,t._protocol)}return n}function Hb(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=kz():i=Cz():n.getStatus()===402?i=Oz(t.bucket):n.getStatus()===403?i=Rz(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function xW(t){const e=Hb(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=Iz(t.path)),o.serverResponse=i.serverResponse,o}return n}function EW(t,e,n,r,i){const o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);const a=e.bucketOnlyServerUrl(),s=Pm(a,t.host,t._protocol),l="GET",u=t.maxOperationRetryTime,c=new Wb(s,l,wW(t,e.bucket),u);return c.urlParams=o,c.errorHandler=Hb(e),c}function SW(t,e,n){const r=e.fullServerUrl(),i=Pm(r,t.host,t._protocol),o="GET",a=t.maxOperationRetryTime,s=new Wb(i,o,bW(t,n),a);return s.errorHandler=xW(e),s}function TW(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function AW(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=TW(null,e)),r}function PW(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function s(){let _="";for(let x=0;x<2;x++)_=_+Math.random().toString().slice(2);return _}const l=s();a["Content-Type"]="multipart/related; boundary="+l;const u=AW(e,r,i),c=gW(u,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,d=`\r
--`+l+"--",p=Yi.getBlob(f,r,d);if(p===null)throw Lz();const g={name:u.fullPath},y=Pm(o,t.host,t._protocol),v="POST",b=t.maxUploadRetryTime,m=new Wb(y,v,_W(t,n),b);return m.urlParams=g,m.headers=a,m.body=p.uploadData(),m.errorHandler=Hb(e),m}class IW{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=la.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=la.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=la.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw tu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw tu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw tu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw tu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw tu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class OW extends IW{initXhr(){this.xhr_.responseType="text"}}function Kb(){return new OW}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e,n){this._service=e,n instanceof yn?this._location=n:this._location=yn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new xa(e,n)}get root(){const e=new yn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return UD(this._location.path)}get storage(){return this._service}get parent(){const e=uW(this._location.path);if(e===null)return null;const n=new yn(this._location.bucket,e);return new xa(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Uz(e)}}function CW(t,e,n){t._throwIfRoot("uploadBytes");const r=PW(t.storage,t._location,BD(),new Yi(e,!0),n);return t.storage.makeRequestWithTokens(r,Kb).then(i=>({metadata:i,ref:t}))}function kW(t){const e={prefixes:[],items:[]};return WD(t,e).then(()=>e)}async function WD(t,e,n){const i=await RW(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&await WD(t,e,i.nextPageToken)}function RW(t,e){e!=null&&typeof e.maxResults=="number"&&_0("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=EW(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,Kb)}function NW(t){t._throwIfRoot("getDownloadURL");const e=SW(t.storage,t._location,BD());return t.storage.makeRequestWithTokens(e,Kb).then(n=>{if(n===null)throw Vz();return n})}function DW(t,e){const n=cW(t._location.path,e),r=new yn(t._location.bucket,n);return new xa(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jW(t){return/^[A-Za-z]+:\/\//.test(t)}function MW(t,e){return new xa(t,e)}function qD(t,e){if(t instanceof Gb){const n=t;if(n._bucket==null)throw $z();const r=new xa(n,n._bucket);return e!=null?qD(r,e):r}else return e!==void 0?DW(t,e):t}function $W(t,e){if(e&&jW(e)){if(t instanceof Gb)return MW(t,e);throw v0("To use ref(service, url), the first argument must be a Storage instance.")}else return qD(t,e)}function VT(t,e){const n=e==null?void 0:e[jD];return n==null?null:yn.makeFromBucketSpec(n,t)}function LW(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:_R(i,t.app.options.projectId))}class Gb{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=DD,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Az,this._maxUploadRetryTime=Pz,this._requests=new Set,i!=null?this._bucket=yn.makeFromBucketSpec(i,this._host):this._bucket=VT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=yn.makeFromBucketSpec(this._url,e):this._bucket=VT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){_0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){_0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new xa(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new Bz(MD());{const a=Zz(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const FT="@firebase/storage",UT="0.13.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD="storage";function VW(t,e,n){return t=dt(t),CW(t,e,n)}function FW(t){return t=dt(t),kW(t)}function Xb(t){return t=dt(t),NW(t)}function Yb(t,e){return t=dt(t),$W(t,e)}function UW(t=Hw(),e){t=dt(t);const r=sm(t,HD).getImmediate({identifier:e}),i=gR("storage");return i&&BW(r,...i),r}function BW(t,e,n,r={}){LW(t,e,n,r)}function zW(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Gb(n,r,i,e,Ca)}function WW(){ga(new wo(HD,zW,"PUBLIC").setMultipleInstances(!0)),Vr(FT,UT,""),Vr(FT,UT,"esm2017")}WW();const qW={apiKey:"AIzaSyAoA9vGq5gsjRVqngQcfX9wDHv03MFX8Mo",authDomain:"habit-piggy-project.firebaseapp.com",projectId:"habit-piggy-project",storageBucket:"habit-piggy-project.appspot.com",messagingSenderId:"230345565651",appId:"1:230345565651:web:4f5fae0a011a8a355cbb26",measurementId:"G-D5V6H13VEM"},KD=xR(qW),Rn=uz(KD),Qb=UW(KD),GD=nb();async function HW(t,e){try{const r=(await r3(GD,t,e)).user;console.log("User created: ",r);const i=ur(Rn,"users",r.uid);await kD(i,{uid:r.uid,email:r.email,name:"",introduction:"",avatar:"",createdTime:et.now(),levelPoints:0,isAcceptReminder:!1,achievements:[],badges:[]}),console.log("User data created with ID: ",r.uid),Ro(i,"habits"),console.log("Empty habits sub-collection created for user ID: ",r.uid)}catch(n){console.error("Error creating user: ",n.code,n.message)}}async function KW(){try{await l3(GD),console.log("User signed out")}catch(t){console.error("Error signing out: ",t.code,t.message)}}async function GW(t,e){try{const n=ur(Rn,"users",t);await kD(n,e,{merge:!0}),console.log("User profile updated with ID: ",t)}catch(n){console.error("Error updating user profile: ",n.code,n.message)}}async function w0(t){try{const e=ur(Rn,"users",t),n=await Sz(e);if(n.exists()){const r=n.data();if(!r.avatar){const i=await Ey("Piggy.png");r.avatar=i}return r}else return console.log("No such document!"),{name:"Unknown",levelPoints:0,avatar:await Ey("Piggy.png")}}catch(e){return console.error("Error getting user profile: ",e.code,e.message),{name:"Unknown",levelPoints:0,avatar:await Ey("Piggy.png")}}}async function BT(){try{const t=Ro(Rn,"users");return(await Tm(t)).docs.map(r=>({id:r.id,...r.data()}))}catch(t){return console.error("Error getting users: ",t.code,t.message),[]}}async function XW(t,e){try{const n=ur(Rn,"users",t),r=Ro(n,"habits");await Vb(r,{...e,createdTime:et.now()}),console.log("Habit added for user ID: ",t)}catch(n){console.error("Error adding habit: ",n.code,n.message)}}async function xc(t){try{const e=ur(Rn,"users",t),n=Ro(e,"habits");return(await Tm(n)).docs.map(o=>({id:o.id,...o.data()}))}catch(e){return console.error("Error getting habits: ",e.code,e.message),[]}}async function b0(t,e,n){try{const r=ur(Rn,"users",t,"habits",e);await RD(r,{...n,updatedTime:et.now()})}catch(r){console.error("Error updating habit: ",r.code,r.message)}}async function XD(t,e){try{const n=ur(Rn,"users",t,"habits",e);await ND(n),console.log("Habit deleted with ID: ",e)}catch(n){console.error("Error deleting habit: ",n.code,n.message)}}async function YD(t,e){try{const n=Ro(Rn,"posts"),r=await Vb(n,{...e,userID:t,createdTime:et.now(),updatedTime:et.now()});return console.log("Post added with ID: ",r.id),r.id}catch(n){console.error("Error adding post: ",n.code,n.message)}}async function YW(){try{const t=Ro(Rn,"posts"),e=_z(t,wz("createdTime","desc"));return(await Tm(e)).docs.map(i=>({id:i.id,...i.data()}))}catch(t){return console.error("Error getting posts: ",t.code,t.message),[]}}async function QW(t,e){try{const n=Yb(Qb,`avatars/${t}`),r=await VW(n,e),i=await Xb(r.ref);return console.log("Avatar uploaded: ",i),i}catch(n){return console.error("Error uploading avatar: ",n.code,n.message),null}}async function Ey(t){try{const e=Yb(Qb,`default_avatars/${t}`),n=await Xb(e);return console.log("Default avatar URL: ",n),n}catch(e){return console.error("Error getting default avatar: ",e.code,e.message),"https://firebasestorage.googleapis.com/v0/b/habit-piggy-project.appspot.com/o/avatars%2FPiggy.png?alt=media&token=be62eb4e-44a3-46c5-ba6d-bba575da75a8"}}async function JW(t,e){try{const n=ur(Rn,"posts",t),r=Ro(n,"comments");await Vb(r,{...e,createdTime:et.now()}),console.log("Comment added to post ID: ",t)}catch(n){console.error("Error adding comment: ",n.code,n.message)}}async function Th(t){try{const e=ur(Rn,"posts",t),n=Ro(e,"comments");return(await Tm(n)).docs.map(o=>({id:o.id,...o.data()}))}catch(e){return console.error("Error getting comments: ",e.code,e.message),[]}}async function ZW(t,e,n){try{const r=ur(Rn,"posts",t,"comments",e);await RD(r,{...n,updatedTime:et.now()}),console.log("Comment updated with ID: ",e)}catch(r){console.error("Error updating comment: ",r.code,r.message)}}async function e8(t,e){try{const n=ur(Rn,"posts",t,"comments",e);await ND(n),console.log("Comment deleted with ID: ",e)}catch(n){console.error("Error deleting comment: ",n.code,n.message)}}async function t8(){try{const t=Yb(Qb,"post_backgrounds"),n=(await FW(t)).items.map(i=>Xb(i));return await Promise.all(n)}catch(t){return console.error("Error getting post backgrounds: ",t.code,t.message),[]}}var QD={exports:{}},n8="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",r8=n8,i8=r8;function JD(){}function ZD(){}ZD.resetWarningCache=JD;var o8=function(){function t(r,i,o,a,s,l){if(l!==i8){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:ZD,resetWarningCache:JD};return n.PropTypes=n,n};QD.exports=o8();var a8=QD.exports;const X=ze(a8),Ma=j.createContext(),e2=({children:t})=>{const[e,n]=j.useState(null),r=nb();return j.useEffect(()=>{const i=s3(r,o=>{n(o)});return()=>i()},[r]),P.jsx(Ma.Provider,{value:{user:e,setUser:n},children:t})};e2.propTypes={children:X.node};function s8(){const[t,e]=j.useState(""),[n,r]=j.useState(""),[i,o]=j.useState(!0),[a,s]=j.useState(!1),{setUser:l}=j.useContext(Ma),u=async()=>{await HW(t,n),alert("Registered successfully"),o(!0),e(""),r("")},c=async()=>{const d=nb();try{const p=await i3(d,t,n);l(p.user),s(!0),console.log("Login with",t,n),e(""),r("")}catch(p){console.error("Error logging in: ",p.code,p.message)}},f=async()=>{await KW(),l(null),alert("Logged out successfully")};return a?P.jsx(zw,{to:"/home"}):P.jsxs("div",{className:"p-4 space-y-4",children:[P.jsxs("ul",{className:"grid grid-cols-2 w-full",children:[P.jsx("li",{className:`border p-2 text-center ${i?"bg-gray-200":""}`,onClick:()=>o(!0),children:"Login"}),P.jsx("li",{className:`border p-2 text-center ${i?"":"bg-gray-200"}`,onClick:()=>o(!1),children:"Register"})]}),i?P.jsxs("div",{className:"flex flex-col",children:[P.jsx("label",{htmlFor:"email",children:"Email"}),P.jsx("input",{type:"text",name:"email",id:"email",placeholder:"email",className:"border p-3",value:t,onChange:d=>e(d.target.value)}),P.jsx("label",{htmlFor:"password",children:"Password"}),P.jsx("input",{type:"password",name:"password",id:"password",placeholder:"password",className:"border p-3",value:n,onChange:d=>r(d.target.value)}),P.jsx("button",{className:"border p-3 mt-4",onClick:c,children:"Login"}),P.jsx("button",{className:"border bg-slate-300 p-3 mt-4",onClick:f,children:"Logout"})]}):P.jsxs("div",{className:"flex flex-col",children:[P.jsx("label",{htmlFor:"email",children:"Email"}),P.jsx("input",{type:"text",name:"email",id:"email",placeholder:"email",className:"border p-3",value:t,onChange:d=>e(d.target.value)}),P.jsx("label",{htmlFor:"password",children:"Password"}),P.jsx("input",{type:"password",name:"password",id:"password",placeholder:"password",className:"border p-3",value:n,onChange:d=>r(d.target.value)}),P.jsx("button",{className:"border p-3 mt-4",onClick:u,children:"Register"})]})]})}const t2=({date:t,onSelect:e,onWeekChange:n})=>{const[r]=j.useState(["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]),[i]=j.useState(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),[o,a]=j.useState(null),[s,l]=j.useState(null),[u,c]=j.useState(null);j.useEffect(()=>{const _=new Date;l({year:_.getFullYear(),month:_.getMonth(),day:_.getDate()}),a(t?{...t}:{year:_.getFullYear(),month:_.getMonth(),day:_.getDate()})},[t]),j.useEffect(()=>{if(o){const _=new Date(o.year,o.month,o.day-new Date(o.year,o.month,o.day).getDay()),x=[];for(let T=0;T<7;T++){const O=new Date(_);O.setDate(_.getDate()+T),x.push({year:O.getFullYear(),month:O.getMonth(),day:O.getDate()})}n(x)}},[o,n]);const f=()=>{if(!o)return[];const _=[],x=o.year,T=o.month,O=o.day,S=new Date(x,T,O-new Date(x,T,O).getDay());for(let E=0;E<7;E++){const I=new Date(S);I.setDate(S.getDate()+E),_.push({value:I.getDate(),year:I.getFullYear(),month:I.getMonth()})}return _},d=_=>{p(_)},p=_=>{a(x=>{const T=new Date(x.year,x.month,x.day+(_?7:-7)),O=new Date(T.getFullYear(),T.getMonth(),T.getDate()-T.getDay()),S={year:O.getFullYear(),month:O.getMonth(),day:O.getDate()};return c(S),e(S),{year:T.getFullYear(),month:T.getMonth(),day:T.getDate()}})},g=_=>{const x={...o,day:_.value,month:_.month,year:_.year};c(x),e(x)},y=_=>_.value===s.day&&s.year===_.year&&s.month===_.month,v=_=>u&&_.value===u.day&&u.year===_.year&&u.month===_.month;if(!o)return null;const b=new Date(o.year,o.month,o.day-new Date(o.year,o.month,o.day).getDay()),m=`${i[b.getMonth()]} ${b.getFullYear()}`;return P.jsxs("div",{className:"p-4 bg-slate-300",children:[P.jsxs("div",{className:"flex justify-between mb-3",children:[P.jsx("button",{onClick:()=>d(!1),children:"prev"}),P.jsx("h1",{children:m}),P.jsx("button",{onClick:()=>d(!0),children:"next"})]}),P.jsxs("div",{className:"grid grid-cols-7 gap-x-4 text-center",children:[r.map((_,x)=>P.jsx("div",{className:"font-bold",children:_},x)),f().map((_,x)=>P.jsx("div",{className:`border-t border-r flex items-center justify-center bg-white ${y(_)?"bg-yellow-400":v(_)?"bg-yellow-200":""}`,onClick:()=>g(_),children:_.value},x))]})]})};t2.propTypes={date:X.object,onSelect:X.func,onWeekChange:X.func.isRequired};const Jb=({profileData:t,handleSettingModal:e,handleChange:n,handleSaveAndClose:r})=>P.jsxs("div",{className:"space-y-4",children:[P.jsxs("div",{className:"flex justify-between",children:[P.jsx("h3",{children:"設定"}),P.jsx("button",{onClick:e,children:"Close"})]}),P.jsx("p",{className:"mb-1",children:"會員頭像"}),P.jsxs("div",{className:"flex items-center gap-3",children:[P.jsx("img",{src:t.avatar,alt:"user's avatar",className:"w-10 h-10"}),P.jsxs("div",{children:[P.jsx("input",{type:"file",name:"avatar",id:"profile",onChange:n,accept:"image/jpg,image/jpeg,image/png,image/gif",className:"w-full"}),P.jsx("p",{children:"您的頭像將會被公開。"})]})]}),P.jsxs("div",{className:"flex flex-col gap-1",children:[P.jsx("label",{htmlFor:"name",children:"會員名稱"}),P.jsx("input",{type:"text",name:"name",id:"name",placeholder:"會員名稱",className:"border py-1 px-4",value:t.name||"",onChange:n})]}),P.jsxs("div",{className:"flex flex-col gap-1",children:[P.jsx("label",{htmlFor:"introduction",children:"自我介紹"}),P.jsx("input",{type:"text",name:"introduction",id:"introduction",placeholder:"自我介紹",className:"border py-1 px-4",value:t.introduction||"",onChange:n})]}),P.jsx("div",{className:"border"}),P.jsxs("div",{className:"flex justify-between items-center",children:[P.jsx("p",{children:"主題"}),P.jsxs("select",{className:"border",children:[P.jsx("option",{value:"light",children:"淺色"}),P.jsx("option",{value:"dark",children:"深色"})]})]}),P.jsxs("div",{className:"flex justify-between items-center",children:[P.jsx("p",{children:"接收 Email 提醒"}),P.jsxs("select",{className:"border",children:[P.jsx("option",{value:"false",children:t.isAcceptReminder?"是":"否"}),P.jsx("option",{value:"true",children:"是"})]})]}),P.jsx("button",{className:"border bg-slate-300 w-full",onClick:r,children:"儲存"})]});Jb.propTypes={profileData:X.object.isRequired,handleChange:X.func.isRequired,handleSaveAndClose:X.func.isRequired,handleSettingModal:X.func.isRequired};const jr=({isOpen:t,children:e})=>{if(!t)return null;const n=M.isValidElement(e)&&e.type===Jb;return P.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:P.jsx("div",{className:`p-4 w-2/3 h-fit bg-slate-100 max-h-[80vh] overflow-auto space-y-4 ${n?"":"transform top-1/2 translate-y-[-50%]"}`,children:e})})};jr.propTypes={isOpen:X.bool.isRequired,children:X.node.isRequired};const Ec=({date:t,onSelect:e})=>{const[n]=j.useState(["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]),[r]=j.useState(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),[i,o]=j.useState(null),[a,s]=j.useState(null);j.useEffect(()=>{const g=new Date;s({year:g.getFullYear(),month:g.getMonth(),day:g.getDate()}),o(t?{...t}:{year:g.getFullYear(),month:g.getMonth(),day:g.getDate()})},[t]);const l=()=>{if(!i)return[];const g=[],y=i.year,v=i.month,b=new Date(y,v,1),m=new Date(y,v+1,0),_=b.getDay(),x=m.getDate();for(let T=0;T<_;T++)g.push(null);for(let T=1;T<=x;T++)g.push({value:T,year:y,month:v});return g},u=g=>{c(g)},c=g=>{o(y=>{const v=new Date(y.year,y.month+(g?1:-1),1);return{year:v.getFullYear(),month:v.getMonth(),day:v.getDate()}})},f=g=>{const y={...i,day:g.value,month:g.month,year:g.year};e(y)},d=g=>g&&g.value===a.day&&a.year===g.year&&a.month===g.month;if(!i)return null;const p=`${r[i.month]} ${i.year}`;return P.jsxs("div",{className:"p-4 bg-slate-300",children:[P.jsxs("div",{className:"flex justify-between mb-3",children:[P.jsx("button",{onClick:()=>u(!1),children:"prev"}),P.jsx("h1",{children:p}),P.jsx("button",{onClick:()=>u(!0),children:"next"})]}),P.jsxs("div",{className:"grid grid-cols-7 text-center",children:[n.map((g,y)=>P.jsx("div",{className:"font-bold",children:g},y)),l().map((g,y)=>P.jsx("div",{className:`border-t border-r flex items-center justify-center bg-white ${d(g)?"bg-yellow-500":""}`,onClick:()=>g&&f(g),children:g?g.value:""},y))]})]})};Ec.propTypes={date:X.object,onSelect:X.func};var n2={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},zT=M.createContext&&M.createContext(n2),l8=["attr","size","title"];function u8(t,e){if(t==null)return{};var n=c8(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function c8(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Xd(){return Xd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xd.apply(this,arguments)}function WT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WT(Object(n),!0).forEach(function(r){f8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function f8(t,e,n){return e=h8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h8(t){var e=d8(t,"string");return typeof e=="symbol"?e:e+""}function d8(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function r2(t){return t&&t.map((e,n)=>M.createElement(e.tag,Yd({key:n},e.attr),r2(e.child)))}function Nn(t){return e=>M.createElement(p8,Xd({attr:Yd({},t.attr)},e),r2(t.child))}function p8(t){var e=n=>{var{attr:r,size:i,title:o}=t,a=u8(t,l8),s=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),M.createElement("svg",Xd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:l,style:Yd(Yd({color:t.color||n.color},n.style),t.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),o&&M.createElement("title",null,o),t.children)};return zT!==void 0?M.createElement(zT.Consumer,null,n=>e(n)):e(n2)}function m8(t){return Nn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0"},child:[]},{tag:"path",attr:{d:"M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0"},child:[]},{tag:"path",attr:{d:"M3 6l0 13"},child:[]},{tag:"path",attr:{d:"M12 6l0 13"},child:[]},{tag:"path",attr:{d:"M21 6l0 13"},child:[]}]})(t)}function g8(t){return Nn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 11h16a1 1 0 0 1 1 1v.5c0 1.5 -2.517 5.573 -4 6.5v1a1 1 0 0 1 -1 1h-8a1 1 0 0 1 -1 -1v-1c-1.687 -1.054 -4 -5 -4 -6.5v-.5a1 1 0 0 1 1 -1z"},child:[]},{tag:"path",attr:{d:"M19 7l-14 1"},child:[]},{tag:"path",attr:{d:"M19 2l-14 3"},child:[]}]})(t)}function y8(t){return Nn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M7 9m0 2a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v6a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2z"},child:[]},{tag:"path",attr:{d:"M14 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"},child:[]},{tag:"path",attr:{d:"M17 9v-2a2 2 0 0 0 -2 -2h-10a2 2 0 0 0 -2 2v6a2 2 0 0 0 2 2h2"},child:[]}]})(t)}function v8(t){return Nn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12l5 5l10 -10"},child:[]}]})(t)}function _8(t){return Nn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"},child:[]},{tag:"path",attr:{d:"M14.8 9a2 2 0 0 0 -1.8 -1h-2a2 2 0 1 0 0 4h2a2 2 0 1 1 0 4h-2a2 2 0 0 1 -1.8 -1"},child:[]},{tag:"path",attr:{d:"M12 7v10"},child:[]}]})(t)}function w8(t){return Nn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 11v-3.5a1.5 1.5 0 0 1 3 0v2.5"},child:[]},{tag:"path",attr:{d:"M11 9.5v-3a1.5 1.5 0 0 1 3 0v3.5"},child:[]},{tag:"path",attr:{d:"M14 7.5a1.5 1.5 0 0 1 3 0v2.5"},child:[]},{tag:"path",attr:{d:"M17 9.5a1.5 1.5 0 0 1 3 0v4.5a6 6 0 0 1 -6 6h-2h.208a6 6 0 0 1 -5.012 -2.7l-.196 -.3c-.312 -.479 -1.407 -2.388 -3.286 -5.728a1.5 1.5 0 0 1 .536 -2.022a1.867 1.867 0 0 1 2.28 .28l1.47 1.47"},child:[]}]})(t)}function b8(t){return Nn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12l-2 0l9 -9l9 9l-2 0"},child:[]},{tag:"path",attr:{d:"M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7"},child:[]},{tag:"path",attr:{d:"M10 12h4v4h-4z"},child:[]}]})(t)}function x8(t){return Nn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 3h6l3 7l-6 2l-6 -2z"},child:[]},{tag:"path",attr:{d:"M12 12l-3 -9"},child:[]},{tag:"path",attr:{d:"M15 11l-3 -8"},child:[]},{tag:"path",attr:{d:"M12 19.5l-3 1.5l.5 -3.5l-2 -2l3 -.5l1.5 -3l1.5 3l3 .5l-2 2l.5 3.5z"},child:[]}]})(t)}function E8(t){return Nn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 9h8"},child:[]},{tag:"path",attr:{d:"M8 13h6"},child:[]},{tag:"path",attr:{d:"M18 4a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-5l-5 3v-3h-2a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12z"},child:[]}]})(t)}function S8(t){return Nn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12a9 9 0 1 0 -8.012 8.946"},child:[]},{tag:"path",attr:{d:"M9 10h.01"},child:[]},{tag:"path",attr:{d:"M15 10h.01"},child:[]},{tag:"path",attr:{d:"M9.5 15a3.59 3.59 0 0 0 2.774 .99"},child:[]},{tag:"path",attr:{d:"M18.994 21.5l2.518 -2.58a1.74 1.74 0 0 0 .004 -2.413a1.627 1.627 0 0 0 -2.346 -.005l-.168 .172l-.168 -.172a1.627 1.627 0 0 0 -2.346 -.004a1.74 1.74 0 0 0 -.004 2.412l2.51 2.59z"},child:[]}]})(t)}function T8(t){return Nn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"},child:[]},{tag:"path",attr:{d:"M9 10l.01 0"},child:[]},{tag:"path",attr:{d:"M15 10l.01 0"},child:[]},{tag:"path",attr:{d:"M9.5 15a3.5 3.5 0 0 0 5 0"},child:[]}]})(t)}function A8(t){return Nn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M7 15h10v4a2 2 0 0 1 -2 2h-6a2 2 0 0 1 -2 -2v-4z"},child:[]},{tag:"path",attr:{d:"M12 9a6 6 0 0 0 -6 -6h-3v2a6 6 0 0 0 6 6h3"},child:[]},{tag:"path",attr:{d:"M12 11a6 6 0 0 1 6 -6h3v1a6 6 0 0 1 -6 6h-3"},child:[]},{tag:"path",attr:{d:"M12 15l0 -6"},child:[]}]})(t)}function P8(t){return Nn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 13a8 8 0 0 1 7 7a6 6 0 0 0 3 -5a9 9 0 0 0 6 -8a3 3 0 0 0 -3 -3a9 9 0 0 0 -8 6a6 6 0 0 0 -5 3"},child:[]},{tag:"path",attr:{d:"M7 14a6 6 0 0 0 -3 6a6 6 0 0 0 6 -3"},child:[]},{tag:"path",attr:{d:"M15 9m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]}]})(t)}function I8(t){return Nn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M13 4m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M7 21l3 -4"},child:[]},{tag:"path",attr:{d:"M16 21l-2 -4l-3 -3l1 -6"},child:[]},{tag:"path",attr:{d:"M6 12l2 -3l4 -1l3 3l3 1"},child:[]}]})(t)}const nu={TbHome2:b8,TbCoin:_8,TbMedal2:x8,TbMessage:E8,TbMoodSmile:T8},rn={TbRocket:P8,TbBook:m8,TbWalk:I8,TbBowlChopsticks:g8,TbMoodHeart:S8,TbHandGrab:w8,TbCash:y8,TbPlant:A8},O8={TbCheck:v8},Im=({options:t,value:e,onChange:n})=>{const[r,i]=j.useState(!1),o=s=>{n(s),i(!1)},a=t.find(s=>s.id===e);return P.jsxs("div",{className:"relative",children:[P.jsx("div",{className:"cursor-pointer",onClick:()=>i(!r),children:e===null?P.jsx("div",{className:"bg-slate-300 w-10 h-10 rounded-full flex justify-center items-center",children:P.jsx(O8.TbCheck,{className:"w-8 h-8"})}):a&&P.jsx("div",{className:"bg-yellow-400 w-10 h-10 rounded-full flex justify-center items-center",children:P.jsx(a.icon,{className:"w-8 h-8"})})}),r&&P.jsx("ul",{className:"absolute top-12 z-10 bg-white border p-2 grid grid-cols-4 min-w-max gap-y-2 gap-x-4",children:t.map(s=>P.jsxs("li",{className:"w-16 h-fit cursor-pointer flex flex-col items-center gap-1 text-nowrap",onClick:()=>o(s.id),children:[P.jsx("div",{className:"bg-slate-300 w-10 h-10 rounded-full flex justify-center items-center hover:bg-yellow-400",children:P.jsx(s.icon,{className:"w-8 h-8"})}),s.name]},s.id))})]})};Im.propTypes={options:X.array.isRequired,value:X.any,onChange:X.func.isRequired};Im.defaultProps={value:null};const i2=({habitData:t,handleHabitChange:e,handleAddHabit:n,handleFocus:r,showMonthCalendar:i,calendarTarget:o,calendarRef:a,handleHabitModal:s,habitCategories:l,setHabitData:u,monthCalendarDate:c,handleMonthCalendarSelectDate:f})=>{const[d,p]=j.useState(t.frequency.days||[]);j.useEffect(()=>{p(t.frequency.days||[])},[t.frequency.days]);const g=y=>{const v=d.includes(y)?d.filter(b=>b!==y):[...d,y];p(v),u(b=>({...b,frequency:{...b.frequency,days:v}}))};return P.jsxs("div",{className:"space-y-4",children:[P.jsxs("div",{className:"flex justify-between gap-4",children:[P.jsxs("div",{className:"flex gap-4 w-full",children:[P.jsx(Im,{options:l,value:t.category,onChange:y=>e({target:{name:"category",value:y}})}),P.jsx("input",{type:"text",name:"title",placeholder:"輸入習慣名稱",className:"py-2 px-4 w-full",value:t.title,onChange:e})]}),P.jsx("button",{onClick:s,children:"close"})]}),P.jsxs("div",{className:"flex justify-between gap-4",children:[P.jsx("label",{htmlFor:"frequency",children:"習慣頻率"}),P.jsxs("div",{className:"flex items-center gap-2",children:[P.jsx("input",{type:"radio",name:"frequency",id:"daily",value:"daily",className:"appearance-none h-4 w-4 border border-gray-300 rounded-full checked:bg-slate-500 checked:border-transparent focus:outline-none",checked:t.frequency.type==="daily",onChange:e}),P.jsx("label",{htmlFor:"daily",children:"每日"})]}),P.jsxs("div",{className:"flex items-center gap-2",children:[P.jsx("input",{type:"radio",name:"frequency",id:"weekly",value:"weekly",className:"appearance-none h-4 w-4 border border-gray-300 rounded-full checked:bg-slate-500 checked:border-transparent focus:outline-none",checked:t.frequency.type==="weekly",onChange:e}),P.jsx("label",{htmlFor:"weekly",children:"每週"})]}),P.jsxs("div",{className:"flex items-center gap-2",children:[P.jsx("input",{type:"radio",name:"frequency",id:"specificDays",value:"specificDays",className:"appearance-none h-4 w-4 border border-gray-300 rounded-full checked:bg-slate-500 checked:border-transparent focus:outline-none",checked:t.frequency.type==="specificDays",onChange:e}),P.jsx("label",{htmlFor:"specificDays",children:"特定日期"})]})]}),t.frequency.type==="specificDays"&&P.jsx("div",{className:"grid grid-cols-7 gap-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((y,v)=>P.jsxs("div",{className:"text-center flex flex-col",children:[y,P.jsx("button",{className:`border ${d.includes(y)?"bg-yellow-400 text-white":""}`,onClick:()=>g(y),children:"DO"})]},v))}),P.jsxs("div",{className:"flex justify-between gap-4",children:[P.jsx("label",{htmlFor:"amount",children:"習慣罰款"}),P.jsxs("div",{className:"flex gap-2",children:[P.jsx("p",{children:"NT$"}),P.jsx("input",{type:"number",name:"amount",id:"amount",className:"px-4 text-end",value:t.amount,onChange:e})]})]}),P.jsxs("div",{className:"flex justify-between gap-4 w-full",children:[P.jsx("label",{htmlFor:"range",className:"text-nowrap",children:"養成期間"}),P.jsxs("div",{className:"relative",children:[P.jsx("input",{type:"text",name:"startDate",id:"startDate",className:"text-center w-28",placeholder:"開始日期",value:t.startDate,onFocus:()=>r("startDate"),onChange:e}),i&&o==="startDate"&&P.jsx("div",{ref:a,className:"absolute -top-36 -left-8 z-10 bg-white shadow-lg w-[300px]",children:P.jsx(Ec,{date:c,onSelect:f})})]}),P.jsx("p",{children:"~"}),P.jsxs("div",{className:"relative",children:[P.jsx("input",{type:"text",name:"endDate",id:"endDate",className:"text-center w-28",placeholder:"結束日期",value:t.endDate,onFocus:()=>r("endDate"),onChange:e}),i&&o==="endDate"&&P.jsx("div",{ref:a,className:"absolute -top-36 -left-64 z-10 bg-white shadow-lg w-[300px]",children:P.jsx(Ec,{date:c,onSelect:f})})]})]}),P.jsx("button",{className:"w-full border",onClick:n,children:"養成習慣"})]})};i2.propTypes={habitData:X.object.isRequired,handleHabitChange:X.func.isRequired,handleAddHabit:X.func.isRequired,handleFocus:X.func.isRequired,showMonthCalendar:X.bool.isRequired,calendarTarget:X.string.isRequired,selectedDate:X.object.isRequired,handleSelectDate:X.func.isRequired,calendarRef:X.object.isRequired,handleHabitModal:X.func.isRequired,habitCategories:X.array.isRequired,setHabitData:X.func.isRequired,monthCalendarDate:X.object.isRequired,handleMonthCalendarSelectDate:X.func.isRequired};const Zb=({selectedHabit:t,handleDetailModal:e,handlePostModal:n,uncompletedFine:r,handleEditModal:i,habitCategories:o})=>{const a=o.find(l=>l.id===t.category),s=a?a.icon:null;return P.jsxs("div",{className:"space-y-4",children:[P.jsxs("div",{className:"flex justify-between items-center",children:[P.jsxs("div",{className:"flex gap-4",children:[P.jsx("div",{className:"w-10 h-10 bg-yellow-400 rounded-full flex items-center justify-center",children:s&&P.jsx(s,{className:"w-8 h-8"})}),P.jsxs("div",{className:"flex flex-col",children:[P.jsxs("div",{className:"flex gap-2",children:[P.jsx("h3",{children:t.title}),P.jsx("button",{onClick:()=>i(t),children:"edit"})]}),P.jsx("p",{children:t.frequency.type})]})]}),P.jsx("button",{onClick:e,children:"close"})]}),P.jsxs("div",{className:"flex justify-between",children:[P.jsx("h3",{children:"養成期間："}),P.jsxs("p",{children:[t.startDate,"～",t.endDate]})]}),P.jsx("div",{className:"grid grid-cols-10 gap-3",children:t.status.map((l,u)=>P.jsx("div",{className:`border aspect-square ${u<t.status.filter(c=>c.completed).length?"bg-yellow-400":""}`},u))}),P.jsxs("div",{className:"flex justify-between",children:[P.jsx("p",{children:"累積存款："}),P.jsxs("p",{children:["NT$ ",r]})]}),P.jsx("button",{className:"py-1 w-full bg-yellow-400",onClick:n,children:"發佈貼文"})]})};Zb.propTypes={selectedHabit:X.object.isRequired,handleDetailModal:X.func.isRequired,handlePostModal:X.func.isRequired,uncompletedFine:X.number.isRequired,handleEditModal:X.func.isRequired,habitCategories:X.array.isRequired};const o2=({backgrounds:t,setPostBackground:e,isOpen:n,setIsOpen:r})=>P.jsx("div",{className:`absolute top-14 left-0 right-0 z-10 bg-white border p-4 ${n?"block":"hidden"}`,children:P.jsx("div",{className:"flex gap-4 overflow-scroll",children:t.map((i,o)=>P.jsx("button",{className:"rounded w-6 h-6 flex-shrink-0 flex-grow-0",style:{backgroundImage:`url(${i})`},onClick:()=>{e(i),r(!1)}},o))})});o2.propTypes={backgrounds:X.array.isRequired,setPostBackground:X.func.isRequired,isOpen:X.bool.isRequired,setIsOpen:X.func.isRequired};const e1=({postContent:t,setPostContent:e,postBackground:n,setPostBackground:r,handleAddPost:i,handlePostModal:o})=>{const[a,s]=j.useState([]),[l,u]=j.useState(!1);return j.useEffect(()=>{(async()=>{const f=await t8();s(f)})()},[]),P.jsxs("div",{className:"space-y-4 relative",children:[P.jsxs("div",{className:"flex justify-between items-center",children:[P.jsx("h3",{children:"發佈貼文"}),P.jsx("button",{onClick:o,children:"close"})]}),P.jsxs("div",{className:"flex justify-between gap-4",children:[P.jsx("p",{children:"選擇背景顏色"}),P.jsx("div",{className:"flex gap-4 overflow-scroll",children:a.slice(0,6).map((c,f)=>P.jsx("button",{className:"rounded w-6 h-6 flex-shrink-0 flex-grow-0",style:{backgroundImage:`url(${c})`},onClick:()=>r(c)},f))}),P.jsx("button",{className:"border",onClick:()=>u(!l),children:"menu"})]}),P.jsx(o2,{backgrounds:a,setPostBackground:r,isOpen:l,setIsOpen:u}),P.jsx("div",{className:"w-full min-h-40 h-fit border p-2 overflow-auto flex justify-center items-center",style:{backgroundImage:`url(${n})`,backgroundSize:"cover",backgroundPosition:"center"},children:P.jsx("textarea",{className:"w-full h-full bg-transparent border-none resize-none outline-none text-center",placeholder:"輸入貼文內容...",value:t,onChange:c=>e(c.target.value)})}),P.jsx("button",{className:"py-1 w-full bg-slate-300",onClick:i,children:"發佈"})]})};e1.propTypes={postContent:X.string.isRequired,setPostContent:X.func.isRequired,postBackground:X.string.isRequired,setPostBackground:X.func.isRequired,handleAddPost:X.func.isRequired,handlePostModal:X.func.isRequired};const t1=({habitData:t,handleHabitChange:e,handleUpdateHabit:n,handleDeleteHabit:r,handleFocus:i,showMonthCalendar:o,calendarTarget:a,calendarRef:s,handleEditModal:l,habitCategories:u,setHabitData:c,monthCalendarDate:f,handleMonthCalendarSelectDate:d})=>{const[p,g]=j.useState(t.frequency.days||[]);j.useEffect(()=>{g(t.frequency.days||[])},[t.frequency.days]);const y=b=>{const m=p.includes(b)?p.filter(_=>_!==b):[...p,b];g(m),c(_=>{const x={..._.frequency,days:m},T=v(_.startDate,_.endDate,x);return{..._,frequency:x,status:T}})},v=(b,m,_)=>{const x=new Date(b),T=new Date(m),O=[];if(_.type==="daily")for(let S=x;S<=T;S.setDate(S.getDate()+1))O.push({date:new Date(S).toDateString(),completed:!1});else if(_.type==="weekly")for(let S=x;S<=T;S.setDate(S.getDate()+7))O.push({date:new Date(S).toDateString(),completed:!1});else if(_.type==="specificDays"){const S=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],E=_.days||[];for(let I=x;I<=T;I.setDate(I.getDate()+1))E.includes(S[I.getDay()])&&O.push({date:new Date(I).toDateString(),completed:!1})}return O};return P.jsxs("div",{className:"space-y-4",children:[P.jsxs("div",{className:"flex justify-between gap-4",children:[P.jsxs("div",{className:"flex gap-4 w-full",children:[P.jsx(Im,{options:u,value:t.category,onChange:b=>e({target:{name:"category",value:b}})}),P.jsx("input",{type:"text",name:"title",placeholder:"輸入習慣名稱",className:"py-2 px-4 w-full",value:t.title,onChange:e})]}),P.jsx("button",{onClick:l,children:"close"})]}),P.jsxs("div",{className:"flex justify-between gap-4",children:[P.jsx("label",{htmlFor:"frequency",children:"習慣頻率"}),P.jsxs("div",{className:"flex items-center gap-2",children:[P.jsx("input",{type:"radio",name:"frequency",id:"daily",value:"daily",className:"appearance-none h-4 w-4 border border-gray-300 rounded-full checked:bg-slate-500 checked:border-transparent focus:outline-none",checked:t.frequency.type==="daily",onChange:e}),P.jsx("label",{htmlFor:"daily",children:"每日"})]}),P.jsxs("div",{className:"flex items-center gap-2",children:[P.jsx("input",{type:"radio",name:"frequency",id:"weekly",value:"weekly",className:"appearance-none h-4 w-4 border border-gray-300 rounded-full checked:bg-slate-500 checked:border-transparent focus:outline-none",checked:t.frequency.type==="weekly",onChange:e}),P.jsx("label",{htmlFor:"weekly",children:"每週"})]}),P.jsxs("div",{className:"flex items-center gap-2",children:[P.jsx("input",{type:"radio",name:"frequency",id:"specificDays",value:"specificDays",className:"appearance-none h-4 w-4 border border-gray-300 rounded-full checked:bg-slate-500 checked:border-transparent focus:outline-none",checked:t.frequency.type==="specificDays",onChange:e}),P.jsx("label",{htmlFor:"specificDays",children:"特定日期"})]})]}),t.frequency.type==="specificDays"&&P.jsx("div",{className:"grid grid-cols-7 gap-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((b,m)=>P.jsxs("div",{className:"text-center flex flex-col",children:[b,P.jsx("button",{className:`border ${p.includes(b)?"bg-yellow-400 text-white":""}`,onClick:()=>y(b),children:"DO"})]},m))}),P.jsxs("div",{className:"flex justify-between gap-4",children:[P.jsx("label",{htmlFor:"amount",children:"習慣罰款"}),P.jsxs("div",{className:"flex gap-2",children:[P.jsx("p",{children:"NT$"}),P.jsx("input",{type:"number",name:"amount",id:"amount",className:"px-4 text-end",value:t.amount,onChange:e})]})]}),P.jsxs("div",{className:"flex justify-between gap-4 w-full",children:[P.jsx("label",{htmlFor:"range",className:"text-nowrap",children:"養成期間"}),P.jsxs("div",{className:"relative",children:[P.jsx("input",{type:"text",name:"startDate",id:"startDate",className:"text-center w-28",placeholder:"開始日期",value:t.startDate,onFocus:()=>i("startDate"),onChange:e}),o&&a==="startDate"&&P.jsx("div",{ref:s,className:"absolute -top-36 -left-8 z-10 bg-white shadow-lg w-[300px]",children:P.jsx(Ec,{date:f,onSelect:d})})]}),P.jsx("p",{children:"~"}),P.jsxs("div",{className:"relative",children:[P.jsx("input",{type:"text",name:"endDate",id:"endDate",className:"text-center w-28",placeholder:"結束日期",value:t.endDate,onFocus:()=>i("endDate"),onChange:e}),o&&a==="endDate"&&P.jsx("div",{ref:s,className:"absolute -top-36 -left-64 z-10 bg-white shadow-lg w-[300px]",children:P.jsx(Ec,{date:f,onSelect:d})})]})]}),P.jsx("button",{className:"w-full border",onClick:n,children:"更新習慣"}),P.jsx("button",{className:"w-full border bg-red-500 text-white",onClick:r,children:"刪除習慣"})]})};t1.propTypes={habitData:X.object.isRequired,handleHabitChange:X.func.isRequired,handleUpdateHabit:X.func.isRequired,handleDeleteHabit:X.func.isRequired,handleFocus:X.func.isRequired,showMonthCalendar:X.bool.isRequired,calendarTarget:X.string.isRequired,selectedDate:X.object.isRequired,handleSelectDate:X.func.isRequired,calendarRef:X.object.isRequired,handleEditModal:X.func.isRequired,habitCategories:X.array.isRequired,setHabitData:X.func.isRequired,monthCalendarDate:X.object.isRequired,handleMonthCalendarSelectDate:X.func.isRequired};function C8(){const[t,e]=j.useState(!1),[n,r]=j.useState(!1),[i,o]=j.useState(!1),[a,s]=j.useState(!1),[l,u]=j.useState({category:null,title:"",frequency:{type:"daily"},amount:0,startDate:"",endDate:"",status:[]}),[c,f]=j.useState([]),[d,p]=j.useState(null),[g,y]=j.useState(!1),[v,b]=j.useState(""),[m,_]=j.useState(null),[x,T]=j.useState(""),[O,S]=j.useState(""),[E,I]=j.useState([]),[C,R]=j.useState(0),[N,k]=j.useState(null),[V,K]=j.useState(!1),B=j.useRef(null),{user:z}=j.useContext(Ma),$=[{id:0,name:"生產力",icon:rn.TbRocket},{id:1,name:"個人成長",icon:rn.TbBook},{id:2,name:"運動健身",icon:rn.TbWalk},{id:3,name:"飲食健康",icon:rn.TbBowlChopsticks},{id:4,name:"心靈成長",icon:rn.TbMoodHeart},{id:5,name:"手作興趣",icon:rn.TbHandGrab},{id:6,name:"財務管理",icon:rn.TbCash},{id:7,name:"環境生活",icon:rn.TbPlant}];j.useEffect(()=>{z&&Y()},[z]),j.useEffect(()=>{const F=le=>{B.current&&!B.current.contains(le.target)&&y(!1)};return document.addEventListener("mousedown",F),()=>{document.removeEventListener("mousedown",F)}},[]),j.useEffect(()=>{const F=new Date;p({year:F.getFullYear(),month:F.getMonth(),day:F.getDate()}),k({year:F.getFullYear(),month:F.getMonth(),day:F.getDate()})},[]);const W=(F,le,xe)=>{const ce=new Date(F),de=new Date(le),$e=new Date(xe);return ce.setHours(0,0,0,0),de.setHours(0,0,0,0),$e.setHours(23,59,59,999),ce>=de&&ce<=$e},Y=async(F=null)=>{const le=await xc(z.uid),xe=F?new Date(F.year,F.month,F.day):new Date,ce=le.filter(de=>W(xe,de.startDate,de.endDate)).sort((de,$e)=>new Date($e.endDate)-new Date(de.endDate));f(ce||[])},ne=()=>{e(!t),u({category:null,title:"",frequency:"daily",amount:0,startDate:"",endDate:"",status:[]})},Z=()=>{r(!n)},se=()=>{o(!i)},Ce=F=>{u({category:F.category,title:F.title,frequency:F.frequency,amount:F.amount,startDate:F.startDate,endDate:F.endDate,status:F.status}),s(!a)},Ve=F=>{const{name:le,value:xe}=F.target;if(le==="frequency"){const ce={type:xe},de=mt(l.startDate,l.endDate,ce);u($e=>({...$e,frequency:ce,status:de}))}else u(ce=>({...ce,[le]:xe}))},mt=(F,le,xe)=>{const ce=new Date(F),de=new Date(le),$e=[];if(xe.type==="daily")for(let ke=ce;ke<=de;ke.setDate(ke.getDate()+1))$e.push({date:new Date(ke).toDateString(),completed:!1});else if(xe.type==="weekly")for(let ke=ce;ke<=de;ke.setDate(ke.getDate()+7))$e.push({date:new Date(ke).toDateString(),completed:!1});else if(xe.type==="specificDays"){const ke=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Pr=l.frequency.days||[];for(let Ni=ce;Ni<=de;Ni.setDate(Ni.getDate()+1))Pr.includes(ke[Ni.getDay()])&&$e.push({date:new Date(Ni).toDateString(),completed:!1})}return $e},Le=async()=>{if(z){const F=new Date(l.startDate);if(new Date(l.endDate)<=F){alert("結束日期必須晚於開始日期");return}const xe=mt(l.startDate,l.endDate,l.frequency),ce={...l,status:xe};await XW(z.uid,ce),Y(),ne(),u({category:null,title:"",frequency:{type:"daily"},amount:0,startDate:"",endDate:"",status:[]})}else console.error("User not authenticated")},fn=async()=>{if(z&&m){const F=new Date(l.startDate);if(new Date(l.endDate)<=F){alert("結束日期必須晚於開始日期");return}const xe={...l,id:m.id};await b0(z.uid,m.id,xe),Y(),s(!1),r(!1)}else console.error("User not authenticated or habit not selected")},re=async()=>{z&&m?(await XD(z.uid,m.id),Y(),s(!1),r(!1)):console.error("User not authenticated or habit not selected")},he=async F=>{p(F),await Y(F),v&&(u(le=>({...le,[v]:`${F.year}-${String(F.month+1).padStart(2,"0")}-${String(F.day).padStart(2,"0")}`})),y(!1),b(""))},pe=F=>{k(F),v&&(u(le=>({...le,[v]:`${F.year}-${String(F.month+1).padStart(2,"0")}-${String(F.day).padStart(2,"0")}`})),y(!1),b(""))},G=F=>{b(F),y(!0)},Fe=async(F,le)=>{const xe=c.map(de=>{if(de.id===F){const $e=de.status.map(ke=>new Date(ke.date).toDateString()===new Date(le).toDateString()?{...ke,completed:!ke.completed}:ke);return{...de,status:$e}}return de});f(xe);const ce=xe.find(de=>de.id===F);try{await b0(z.uid,F,ce)}catch(de){console.error("Error updating habit in Firestore: ",de)}},Ee=F=>{const le=new Date;return le.setHours(0,0,0,0),F.status.filter(ce=>{const de=new Date(ce.date);return de.setHours(0,0,0,0),de<le&&!ce.completed}).length*F.amount},Ke=F=>{_(F),R(Ee(F)),r(!0)},qe=async()=>{if(!x.trim()){alert("請輸入貼文內容");return}if(z&&m){const F={content:x,background:O,habitId:m.id};await YD(z.uid,F),K(!0),se(),T(""),S("")}};return V?P.jsx(zw,{to:"/posts"}):P.jsxs(P.Fragment,{children:[P.jsx(t2,{date:d,onSelect:he,onWeekChange:I}),P.jsx("ul",{className:"space-y-4 p-4",children:Array.isArray(c)&&c.map(F=>{const le=$.find(ce=>ce.id===F.category),xe=le?le.icon:null;return P.jsxs("li",{className:"px-2 py-4 bg-slate-100",children:[P.jsxs("div",{className:"flex justify-between items-center",children:[P.jsxs("div",{className:"flex gap-2",children:[P.jsx("div",{className:"w-10 h-10 bg-yellow-400 rounded-full flex items-center justify-center",children:xe&&P.jsx(xe,{className:"w-8 h-8"})}),P.jsxs("div",{className:"flex flex-col",children:[P.jsx("h3",{children:F.title}),P.jsxs("div",{className:"flex",children:[P.jsxs("p",{children:[F.frequency.type,"｜罰款 $",F.amount,"｜已達成 ",F.status.filter(ce=>ce.completed).length]}),P.jsxs("p",{className:"text-gray-500",children:["/",F.status.length]})]})]})]}),P.jsx("button",{className:"bg-white",onClick:()=>Ke(F),children:"Detail"})]}),P.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((ce,de)=>P.jsx("div",{className:"text-center",children:ce},de)),E.map((ce,de)=>{const $e=F.status.find(ke=>new Date(ke.date).toDateString()===new Date(ce.year,ce.month,ce.day).toDateString());return P.jsx("button",{className:`border w-full ${$e&&$e.completed?"bg-yellow-400":"bg-gray-200"}`,onClick:()=>$e&&Fe(F.id,$e.date),disabled:!$e,children:$e?"CHECK":""},de)})]})]},F.id)})}),P.jsx("button",{className:"fixed right-4 bottom-28 bg-slate-300",onClick:ne,children:"add habit"}),P.jsx(jr,{isOpen:t,children:P.jsx(i2,{habitData:l,handleHabitChange:Ve,handleAddHabit:Le,handleFocus:G,showMonthCalendar:g,calendarTarget:v,calendarRef:B,handleHabitModal:ne,habitCategories:$,setHabitData:u,monthCalendarDate:N,handleMonthCalendarSelectDate:pe})}),P.jsx(jr,{isOpen:n,onClose:Z,children:P.jsx(Zb,{selectedHabit:m,handleDetailModal:Z,handlePostModal:se,uncompletedFine:C,handleEditModal:Ce,habitCategories:$})}),P.jsx(jr,{isOpen:i,onClose:se,children:P.jsx(e1,{postContent:x,setPostContent:T,postBackground:O,setPostBackground:S,handleAddPost:qe,handlePostModal:se})}),P.jsx(jr,{isOpen:a,onClose:Ce,children:P.jsx(t1,{habitData:l,handleHabitChange:Ve,handleUpdateHabit:fn,handleFocus:G,showMonthCalendar:g,calendarTarget:v,calendarRef:B,handleEditModal:Ce,handleDeleteHabit:re,habitCategories:$,setHabitData:u,monthCalendarDate:N,handleMonthCalendarSelectDate:pe})})]})}function a2(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=a2(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Se(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=a2(t))&&(r&&(r+=" "),r+=e);return r}var k8=Array.isArray,Dn=k8,R8=typeof eh=="object"&&eh&&eh.Object===Object&&eh,s2=R8,N8=s2,D8=typeof self=="object"&&self&&self.Object===Object&&self,j8=N8||D8||Function("return this")(),Xr=j8,M8=Xr,$8=M8.Symbol,If=$8,qT=If,l2=Object.prototype,L8=l2.hasOwnProperty,V8=l2.toString,ru=qT?qT.toStringTag:void 0;function F8(t){var e=L8.call(t,ru),n=t[ru];try{t[ru]=void 0;var r=!0}catch{}var i=V8.call(t);return r&&(e?t[ru]=n:delete t[ru]),i}var U8=F8,B8=Object.prototype,z8=B8.toString;function W8(t){return z8.call(t)}var q8=W8,HT=If,H8=U8,K8=q8,G8="[object Null]",X8="[object Undefined]",KT=HT?HT.toStringTag:void 0;function Y8(t){return t==null?t===void 0?X8:G8:KT&&KT in Object(t)?H8(t):K8(t)}var Oi=Y8;function Q8(t){return t!=null&&typeof t=="object"}var Ci=Q8,J8=Oi,Z8=Ci,eq="[object Symbol]";function tq(t){return typeof t=="symbol"||Z8(t)&&J8(t)==eq}var vl=tq,nq=Dn,rq=vl,iq=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,oq=/^\w*$/;function aq(t,e){if(nq(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||rq(t)?!0:oq.test(t)||!iq.test(t)||e!=null&&t in Object(e)}var n1=aq;function sq(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var No=sq;const _l=ze(No);var lq=Oi,uq=No,cq="[object AsyncFunction]",fq="[object Function]",hq="[object GeneratorFunction]",dq="[object Proxy]";function pq(t){if(!uq(t))return!1;var e=lq(t);return e==fq||e==hq||e==cq||e==dq}var r1=pq;const we=ze(r1);var mq=Xr,gq=mq["__core-js_shared__"],yq=gq,Sy=yq,GT=function(){var t=/[^.]+$/.exec(Sy&&Sy.keys&&Sy.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function vq(t){return!!GT&&GT in t}var _q=vq,wq=Function.prototype,bq=wq.toString;function xq(t){if(t!=null){try{return bq.call(t)}catch{}try{return t+""}catch{}}return""}var u2=xq,Eq=r1,Sq=_q,Tq=No,Aq=u2,Pq=/[\\^$.*+?()[\]{}|]/g,Iq=/^\[object .+?Constructor\]$/,Oq=Function.prototype,Cq=Object.prototype,kq=Oq.toString,Rq=Cq.hasOwnProperty,Nq=RegExp("^"+kq.call(Rq).replace(Pq,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Dq(t){if(!Tq(t)||Sq(t))return!1;var e=Eq(t)?Nq:Iq;return e.test(Aq(t))}var jq=Dq;function Mq(t,e){return t==null?void 0:t[e]}var $q=Mq,Lq=jq,Vq=$q;function Fq(t,e){var n=Vq(t,e);return Lq(n)?n:void 0}var $a=Fq,Uq=$a,Bq=Uq(Object,"create"),Om=Bq,XT=Om;function zq(){this.__data__=XT?XT(null):{},this.size=0}var Wq=zq;function qq(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Hq=qq,Kq=Om,Gq="__lodash_hash_undefined__",Xq=Object.prototype,Yq=Xq.hasOwnProperty;function Qq(t){var e=this.__data__;if(Kq){var n=e[t];return n===Gq?void 0:n}return Yq.call(e,t)?e[t]:void 0}var Jq=Qq,Zq=Om,eH=Object.prototype,tH=eH.hasOwnProperty;function nH(t){var e=this.__data__;return Zq?e[t]!==void 0:tH.call(e,t)}var rH=nH,iH=Om,oH="__lodash_hash_undefined__";function aH(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=iH&&e===void 0?oH:e,this}var sH=aH,lH=Wq,uH=Hq,cH=Jq,fH=rH,hH=sH;function wl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}wl.prototype.clear=lH;wl.prototype.delete=uH;wl.prototype.get=cH;wl.prototype.has=fH;wl.prototype.set=hH;var dH=wl;function pH(){this.__data__=[],this.size=0}var mH=pH;function gH(t,e){return t===e||t!==t&&e!==e}var i1=gH,yH=i1;function vH(t,e){for(var n=t.length;n--;)if(yH(t[n][0],e))return n;return-1}var Cm=vH,_H=Cm,wH=Array.prototype,bH=wH.splice;function xH(t){var e=this.__data__,n=_H(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():bH.call(e,n,1),--this.size,!0}var EH=xH,SH=Cm;function TH(t){var e=this.__data__,n=SH(e,t);return n<0?void 0:e[n][1]}var AH=TH,PH=Cm;function IH(t){return PH(this.__data__,t)>-1}var OH=IH,CH=Cm;function kH(t,e){var n=this.__data__,r=CH(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var RH=kH,NH=mH,DH=EH,jH=AH,MH=OH,$H=RH;function bl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}bl.prototype.clear=NH;bl.prototype.delete=DH;bl.prototype.get=jH;bl.prototype.has=MH;bl.prototype.set=$H;var km=bl,LH=$a,VH=Xr,FH=LH(VH,"Map"),o1=FH,YT=dH,UH=km,BH=o1;function zH(){this.size=0,this.__data__={hash:new YT,map:new(BH||UH),string:new YT}}var WH=zH;function qH(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var HH=qH,KH=HH;function GH(t,e){var n=t.__data__;return KH(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Rm=GH,XH=Rm;function YH(t){var e=XH(this,t).delete(t);return this.size-=e?1:0,e}var QH=YH,JH=Rm;function ZH(t){return JH(this,t).get(t)}var e7=ZH,t7=Rm;function n7(t){return t7(this,t).has(t)}var r7=n7,i7=Rm;function o7(t,e){var n=i7(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var a7=o7,s7=WH,l7=QH,u7=e7,c7=r7,f7=a7;function xl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}xl.prototype.clear=s7;xl.prototype.delete=l7;xl.prototype.get=u7;xl.prototype.has=c7;xl.prototype.set=f7;var a1=xl,c2=a1,h7="Expected a function";function s1(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(h7);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(s1.Cache||c2),n}s1.Cache=c2;var f2=s1;const d7=ze(f2);var p7=f2,m7=500;function g7(t){var e=p7(t,function(r){return n.size===m7&&n.clear(),r}),n=e.cache;return e}var y7=g7,v7=y7,_7=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,w7=/\\(\\)?/g,b7=v7(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(_7,function(n,r,i,o){e.push(i?o.replace(w7,"$1"):r||n)}),e}),x7=b7;function E7(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var l1=E7,QT=If,S7=l1,T7=Dn,A7=vl,P7=1/0,JT=QT?QT.prototype:void 0,ZT=JT?JT.toString:void 0;function h2(t){if(typeof t=="string")return t;if(T7(t))return S7(t,h2)+"";if(A7(t))return ZT?ZT.call(t):"";var e=t+"";return e=="0"&&1/t==-P7?"-0":e}var I7=h2,O7=I7;function C7(t){return t==null?"":O7(t)}var d2=C7,k7=Dn,R7=n1,N7=x7,D7=d2;function j7(t,e){return k7(t)?t:R7(t,e)?[t]:N7(D7(t))}var p2=j7,M7=vl,$7=1/0;function L7(t){if(typeof t=="string"||M7(t))return t;var e=t+"";return e=="0"&&1/t==-$7?"-0":e}var Nm=L7,V7=p2,F7=Nm;function U7(t,e){e=V7(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[F7(e[n++])];return n&&n==r?t:void 0}var u1=U7,B7=u1;function z7(t,e,n){var r=t==null?void 0:B7(t,e);return r===void 0?n:r}var m2=z7;const zn=ze(m2);function W7(t){return t==null}var q7=W7;const Te=ze(q7);var H7=Oi,K7=Dn,G7=Ci,X7="[object String]";function Y7(t){return typeof t=="string"||!K7(t)&&G7(t)&&H7(t)==X7}var Q7=Y7;const Of=ze(Q7);var g2={exports:{}},We={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lt=typeof Symbol=="function"&&Symbol.for,c1=Lt?Symbol.for("react.element"):60103,f1=Lt?Symbol.for("react.portal"):60106,Dm=Lt?Symbol.for("react.fragment"):60107,jm=Lt?Symbol.for("react.strict_mode"):60108,Mm=Lt?Symbol.for("react.profiler"):60114,$m=Lt?Symbol.for("react.provider"):60109,Lm=Lt?Symbol.for("react.context"):60110,h1=Lt?Symbol.for("react.async_mode"):60111,Vm=Lt?Symbol.for("react.concurrent_mode"):60111,Fm=Lt?Symbol.for("react.forward_ref"):60112,Um=Lt?Symbol.for("react.suspense"):60113,J7=Lt?Symbol.for("react.suspense_list"):60120,Bm=Lt?Symbol.for("react.memo"):60115,zm=Lt?Symbol.for("react.lazy"):60116,Z7=Lt?Symbol.for("react.block"):60121,eK=Lt?Symbol.for("react.fundamental"):60117,tK=Lt?Symbol.for("react.responder"):60118,nK=Lt?Symbol.for("react.scope"):60119;function Kn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case c1:switch(t=t.type,t){case h1:case Vm:case Dm:case Mm:case jm:case Um:return t;default:switch(t=t&&t.$$typeof,t){case Lm:case Fm:case zm:case Bm:case $m:return t;default:return e}}case f1:return e}}}function y2(t){return Kn(t)===Vm}We.AsyncMode=h1;We.ConcurrentMode=Vm;We.ContextConsumer=Lm;We.ContextProvider=$m;We.Element=c1;We.ForwardRef=Fm;We.Fragment=Dm;We.Lazy=zm;We.Memo=Bm;We.Portal=f1;We.Profiler=Mm;We.StrictMode=jm;We.Suspense=Um;We.isAsyncMode=function(t){return y2(t)||Kn(t)===h1};We.isConcurrentMode=y2;We.isContextConsumer=function(t){return Kn(t)===Lm};We.isContextProvider=function(t){return Kn(t)===$m};We.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===c1};We.isForwardRef=function(t){return Kn(t)===Fm};We.isFragment=function(t){return Kn(t)===Dm};We.isLazy=function(t){return Kn(t)===zm};We.isMemo=function(t){return Kn(t)===Bm};We.isPortal=function(t){return Kn(t)===f1};We.isProfiler=function(t){return Kn(t)===Mm};We.isStrictMode=function(t){return Kn(t)===jm};We.isSuspense=function(t){return Kn(t)===Um};We.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Dm||t===Vm||t===Mm||t===jm||t===Um||t===J7||typeof t=="object"&&t!==null&&(t.$$typeof===zm||t.$$typeof===Bm||t.$$typeof===$m||t.$$typeof===Lm||t.$$typeof===Fm||t.$$typeof===eK||t.$$typeof===tK||t.$$typeof===nK||t.$$typeof===Z7)};We.typeOf=Kn;g2.exports=We;var x0=g2.exports,rK=Oi,iK=Ci,oK="[object Number]";function aK(t){return typeof t=="number"||iK(t)&&rK(t)==oK}var v2=aK;const sK=ze(v2);var lK=v2;function uK(t){return lK(t)&&t!=+t}var cK=uK;const Cf=ze(cK);var vn=function(e){return e===0?0:e>0?1:-1},ta=function(e){return Of(e)&&e.indexOf("%")===e.length-1},ee=function(e){return sK(e)&&!Cf(e)},Ct=function(e){return ee(e)||Of(e)},fK=0,kf=function(e){var n=++fK;return"".concat(e||"").concat(n)},_n=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ee(e)&&!Of(e))return r;var o;if(ta(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return Cf(o)&&(o=r),i&&o>n&&(o=n),o},Qi=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},hK=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Bi=function(e,n){return ee(e)&&ee(n)?function(r){return e+r*(n-e)}:function(){return n}};function E0(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):zn(r,e))===n})}function As(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function S0(t){"@babel/helpers - typeof";return S0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S0(t)}var dK=["viewBox","children"],pK=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],eA=["points","pathLength"],Ty={svg:dK,polygon:eA,polyline:eA},d1=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Qd=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(j.isValidElement(e)&&(r=e.props),!_l(r))return null;var i={};return Object.keys(r).forEach(function(o){d1.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},mK=function(e,n,r){return function(i){return e(n,r,i),null}},Ea=function(e,n,r){if(!_l(e)||S0(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];d1.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=mK(a,n,r))}),i},gK=["children"],yK=["children"];function tA(t,e){if(t==null)return{};var n=vK(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vK(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var nA={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},di=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},rA=null,Ay=null,p1=function t(e){if(e===rA&&Array.isArray(Ay))return Ay;var n=[];return j.Children.forEach(e,function(r){Te(r)||(x0.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Ay=n,rA=e,n};function or(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return di(i)}):r=[di(e)],p1(t).forEach(function(i){var o=zn(i,"type.displayName")||zn(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Ln(t,e){var n=or(t,e);return n&&n[0]}var iA=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ee(r)||r<=0||!ee(i)||i<=0)},_K=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],wK=function(e){return e&&e.type&&Of(e.type)&&_K.indexOf(e.type)>=0},bK=function(e,n,r,i){var o,a=(o=Ty==null?void 0:Ty[i])!==null&&o!==void 0?o:[];return!we(e)&&(i&&a.includes(n)||pK.includes(n))||r&&d1.includes(n)},ye=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(j.isValidElement(e)&&(i=e.props),!_l(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;bK((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},T0=function t(e,n){if(e===n)return!0;var r=j.Children.count(e);if(r!==j.Children.count(n))return!1;if(r===0)return!0;if(r===1)return oA(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!oA(o,a))return!1}return!0},oA=function(e,n){if(Te(e)&&Te(n))return!0;if(!Te(e)&&!Te(n)){var r=e.props||{},i=r.children,o=tA(r,gK),a=n.props||{},s=a.children,l=tA(a,yK);return i&&s?As(o,l)&&T0(i,s):!i&&!s?As(o,l):!1}return!1},aA=function(e,n){var r=[],i={};return p1(e).forEach(function(o,a){if(wK(o))r.push(o);else if(o){var s=di(o.type),l=n[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var f=u(o,s,a);r.push(f),i[s]=!0}}}),r},xK=function(e){var n=e&&e.type;return n&&nA[n]?nA[n]:null},EK=function(e,n){return p1(n).indexOf(e)},SK=["children","width","height","viewBox","className","style","title","desc"];function A0(){return A0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},A0.apply(this,arguments)}function TK(t,e){if(t==null)return{};var n=AK(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function AK(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function P0(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,u=TK(t,SK),c=i||{width:n,height:r,x:0,y:0},f=Se("recharts-surface",o);return M.createElement("svg",A0({},ye(u,!0,"svg"),{className:f,width:n,height:r,style:a,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),M.createElement("title",null,s),M.createElement("desc",null,l),e)}var PK=["children","className"];function I0(){return I0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I0.apply(this,arguments)}function IK(t,e){if(t==null)return{};var n=OK(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function OK(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Ue=M.forwardRef(function(t,e){var n=t.children,r=t.className,i=IK(t,PK),o=Se("recharts-layer",r);return M.createElement("g",I0({className:o},ye(i,!0),{ref:e}),n)}),br=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function CK(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var kK=CK,RK=kK;function NK(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:RK(t,e,n)}var DK=NK,jK="\\ud800-\\udfff",MK="\\u0300-\\u036f",$K="\\ufe20-\\ufe2f",LK="\\u20d0-\\u20ff",VK=MK+$K+LK,FK="\\ufe0e\\ufe0f",UK="\\u200d",BK=RegExp("["+UK+jK+VK+FK+"]");function zK(t){return BK.test(t)}var _2=zK;function WK(t){return t.split("")}var qK=WK,w2="\\ud800-\\udfff",HK="\\u0300-\\u036f",KK="\\ufe20-\\ufe2f",GK="\\u20d0-\\u20ff",XK=HK+KK+GK,YK="\\ufe0e\\ufe0f",QK="["+w2+"]",O0="["+XK+"]",C0="\\ud83c[\\udffb-\\udfff]",JK="(?:"+O0+"|"+C0+")",b2="[^"+w2+"]",x2="(?:\\ud83c[\\udde6-\\uddff]){2}",E2="[\\ud800-\\udbff][\\udc00-\\udfff]",ZK="\\u200d",S2=JK+"?",T2="["+YK+"]?",eG="(?:"+ZK+"(?:"+[b2,x2,E2].join("|")+")"+T2+S2+")*",tG=T2+S2+eG,nG="(?:"+[b2+O0+"?",O0,x2,E2,QK].join("|")+")",rG=RegExp(C0+"(?="+C0+")|"+nG+tG,"g");function iG(t){return t.match(rG)||[]}var oG=iG,aG=qK,sG=_2,lG=oG;function uG(t){return sG(t)?lG(t):aG(t)}var cG=uG,fG=DK,hG=_2,dG=cG,pG=d2;function mG(t){return function(e){e=pG(e);var n=hG(e)?dG(e):void 0,r=n?n[0]:e.charAt(0),i=n?fG(n,1).join(""):e.slice(1);return r[t]()+i}}var gG=mG,yG=gG,vG=yG("toUpperCase"),_G=vG;const Wm=ze(_G);function Qe(t){return function(){return t}}const A2=Math.cos,Jd=Math.sin,Ar=Math.sqrt,Zd=Math.PI,qm=2*Zd,k0=Math.PI,R0=2*k0,Ko=1e-6,wG=R0-Ko;function P2(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function bG(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return P2;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class xG{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?P2:bG(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,u=i-n,c=a-e,f=s-n,d=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>Ko)if(!(Math.abs(f*l-u*c)>Ko)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-a,g=i-s,y=l*l+u*u,v=p*p+g*g,b=Math.sqrt(y),m=Math.sqrt(d),_=o*Math.tan((k0-Math.acos((y+d-v)/(2*b*m)))/2),x=_/m,T=_/b;Math.abs(x-1)>Ko&&this._append`L${e+x*c},${n+x*f}`,this._append`A${o},${o},0,0,${+(f*p>c*g)},${this._x1=e+T*l},${this._y1=n+T*u}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,c=n+l,f=1^a,d=a?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Ko||Math.abs(this._y1-c)>Ko)&&this._append`L${u},${c}`,r&&(d<0&&(d=d%R0+R0),d>wG?this._append`A${r},${r},0,1,${f},${e-s},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:d>Ko&&this._append`A${r},${r},0,${+(d>=k0)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function m1(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new xG(e)}function g1(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function I2(t){this._context=t}I2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Hm(t){return new I2(t)}function O2(t){return t[0]}function C2(t){return t[1]}function k2(t,e){var n=Qe(!0),r=null,i=Hm,o=null,a=m1(s);t=typeof t=="function"?t:t===void 0?O2:Qe(t),e=typeof e=="function"?e:e===void 0?C2:Qe(e);function s(l){var u,c=(l=g1(l)).length,f,d=!1,p;for(r==null&&(o=i(p=a())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+t(f,u,l),+e(f,u,l));if(p)return o=null,p+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Qe(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Qe(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Qe(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function Ah(t,e,n){var r=null,i=Qe(!0),o=null,a=Hm,s=null,l=m1(u);t=typeof t=="function"?t:t===void 0?O2:Qe(+t),e=typeof e=="function"?e:Qe(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?C2:Qe(+n);function u(f){var d,p,g,y=(f=g1(f)).length,v,b=!1,m,_=new Array(y),x=new Array(y);for(o==null&&(s=a(m=l())),d=0;d<=y;++d){if(!(d<y&&i(v=f[d],d,f))===b)if(b=!b)p=d,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),g=d-1;g>=p;--g)s.point(_[g],x[g]);s.lineEnd(),s.areaEnd()}b&&(_[d]=+t(v,d,f),x[d]=+e(v,d,f),s.point(r?+r(v,d,f):_[d],n?+n(v,d,f):x[d]))}if(m)return s=null,m+""||null}function c(){return k2().defined(i).curve(a).context(o)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Qe(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Qe(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Qe(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Qe(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Qe(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Qe(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Qe(!!f),u):i},u.curve=function(f){return arguments.length?(a=f,o!=null&&(s=a(o)),u):a},u.context=function(f){return arguments.length?(f==null?o=s=null:s=a(o=f),u):o},u}class R2{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function EG(t){return new R2(t,!0)}function SG(t){return new R2(t,!1)}const y1={draw(t,e){const n=Ar(e/Zd);t.moveTo(n,0),t.arc(0,0,n,0,qm)}},TG={draw(t,e){const n=Ar(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},N2=Ar(1/3),AG=N2*2,PG={draw(t,e){const n=Ar(e/AG),r=n*N2;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},IG={draw(t,e){const n=Ar(e),r=-n/2;t.rect(r,r,n,n)}},OG=.8908130915292852,D2=Jd(Zd/10)/Jd(7*Zd/10),CG=Jd(qm/10)*D2,kG=-A2(qm/10)*D2,RG={draw(t,e){const n=Ar(e*OG),r=CG*n,i=kG*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=qm*o/5,s=A2(a),l=Jd(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},Py=Ar(3),NG={draw(t,e){const n=-Ar(e/(Py*3));t.moveTo(0,n*2),t.lineTo(-Py*n,-n),t.lineTo(Py*n,-n),t.closePath()}},Gn=-.5,Xn=Ar(3)/2,N0=1/Ar(12),DG=(N0/2+1)*3,jG={draw(t,e){const n=Ar(e/DG),r=n/2,i=n*N0,o=r,a=n*N0+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(Gn*r-Xn*i,Xn*r+Gn*i),t.lineTo(Gn*o-Xn*a,Xn*o+Gn*a),t.lineTo(Gn*s-Xn*l,Xn*s+Gn*l),t.lineTo(Gn*r+Xn*i,Gn*i-Xn*r),t.lineTo(Gn*o+Xn*a,Gn*a-Xn*o),t.lineTo(Gn*s+Xn*l,Gn*l-Xn*s),t.closePath()}};function MG(t,e){let n=null,r=m1(i);t=typeof t=="function"?t:Qe(t||y1),e=typeof e=="function"?e:Qe(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Qe(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Qe(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function ep(){}function tp(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function j2(t){this._context=t}j2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:tp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:tp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function $G(t){return new j2(t)}function M2(t){this._context=t}M2.prototype={areaStart:ep,areaEnd:ep,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:tp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function LG(t){return new M2(t)}function $2(t){this._context=t}$2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:tp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function VG(t){return new $2(t)}function L2(t){this._context=t}L2.prototype={areaStart:ep,areaEnd:ep,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function FG(t){return new L2(t)}function sA(t){return t<0?-1:1}function lA(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(sA(o)+sA(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function uA(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Iy(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function np(t){this._context=t}np.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Iy(this,this._t0,uA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Iy(this,uA(this,n=lA(this,t,e)),n);break;default:Iy(this,this._t0,n=lA(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function V2(t){this._context=new F2(t)}(V2.prototype=Object.create(np.prototype)).point=function(t,e){np.prototype.point.call(this,e,t)};function F2(t){this._context=t}F2.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function UG(t){return new np(t)}function BG(t){return new V2(t)}function U2(t){this._context=t}U2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=cA(t),i=cA(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function cA(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function zG(t){return new U2(t)}function Km(t,e){this._context=t,this._t=e}Km.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function WG(t){return new Km(t,.5)}function qG(t){return new Km(t,0)}function HG(t){return new Km(t,1)}function zs(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function D0(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function KG(t,e){return t[e]}function GG(t){const e=[];return e.key=t,e}function XG(){var t=Qe([]),e=D0,n=zs,r=KG;function i(o){var a=Array.from(t.apply(this,arguments),GG),s,l=a.length,u=-1,c;for(const f of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(f,a[s].key,u,o)]).data=f;for(s=0,c=g1(e(a));s<l;++s)a[c[s]].index=s;return n(a,c),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Qe(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Qe(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?D0:typeof o=="function"?o:Qe(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??zs,i):n},i}function YG(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}zs(t,e)}}function QG(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}zs(t,e)}}function JG(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var c=t[e[s]],f=c[r][1]||0,d=c[r-1][1]||0,p=(f-d)/2,g=0;g<s;++g){var y=t[e[g]],v=y[r][1]||0,b=y[r-1][1]||0;p+=v-b}l+=f,u+=p*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,zs(t,e)}}function Sc(t){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sc(t)}var ZG=["type","size","sizeType"];function j0(){return j0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j0.apply(this,arguments)}function fA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fA(Object(n),!0).forEach(function(r){eX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eX(t,e,n){return e=tX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tX(t){var e=nX(t,"string");return Sc(e)=="symbol"?e:String(e)}function nX(t,e){if(Sc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rX(t,e){if(t==null)return{};var n=iX(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function iX(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var B2={symbolCircle:y1,symbolCross:TG,symbolDiamond:PG,symbolSquare:IG,symbolStar:RG,symbolTriangle:NG,symbolWye:jG},oX=Math.PI/180,aX=function(e){var n="symbol".concat(Wm(e));return B2[n]||y1},sX=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*oX;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},lX=function(e,n){B2["symbol".concat(Wm(e))]=n},v1=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=rX(e,ZG),u=hA(hA({},l),{},{type:r,size:o,sizeType:s}),c=function(){var v=aX(r),b=MG().type(v).size(sX(o,s,r));return b()},f=u.className,d=u.cx,p=u.cy,g=ye(u,!0);return d===+d&&p===+p&&o===+o?M.createElement("path",j0({},g,{className:Se("recharts-symbols",f),transform:"translate(".concat(d,", ").concat(p,")"),d:c()})):null};v1.registerSymbol=lX;function Ws(t){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ws(t)}function M0(){return M0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M0.apply(this,arguments)}function dA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dA(Object(n),!0).forEach(function(r){Tc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fX(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,W2(r.key),r)}}function hX(t,e,n){return e&&fX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dX(t,e,n){return e=rp(e),pX(t,z2()?Reflect.construct(e,n||[],rp(t).constructor):e.apply(t,n))}function pX(t,e){if(e&&(Ws(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mX(t)}function mX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function z2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z2=function(){return!!t})()}function rp(t){return rp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rp(t)}function gX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$0(t,e)}function $0(t,e){return $0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$0(t,e)}function Tc(t,e,n){return e=W2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W2(t){var e=yX(t,"string");return Ws(e)=="symbol"?e:String(e)}function yX(t,e){if(Ws(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ws(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yn=32,_1=function(t){gX(e,t);function e(){return cX(this,e),dX(this,e,arguments)}return hX(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=Yn/2,a=Yn/6,s=Yn/3,l=r.inactive?i:r.color;if(r.type==="plainline")return M.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:Yn,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return M.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(Yn,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return M.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Yn/8,"h").concat(Yn,"v").concat(Yn*3/4,"h").concat(-Yn,"z"),className:"recharts-legend-icon"});if(M.isValidElement(r.legendIcon)){var u=uX({},r);return delete u.legendIcon,M.cloneElement(r.legendIcon,u)}return M.createElement(v1,{fill:l,cx:o,cy:o,size:Yn,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:Yn,height:Yn},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,g){var y=p.formatter||l,v=Se(Tc(Tc({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var b=we(p.value)?null:p.value;br(!we(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var m=p.inactive?u:p.color;return M.createElement("li",M0({className:v,style:f,key:"legend-item-".concat(g)},Ea(r.props,p,g)),M.createElement(P0,{width:a,height:a,viewBox:c,style:d},r.renderIcon(p)),M.createElement("span",{className:"recharts-legend-item-text",style:{color:m}},y?y(b,p,g):b))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return M.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}]),e}(j.PureComponent);Tc(_1,"displayName","Legend");Tc(_1,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var vX=km;function _X(){this.__data__=new vX,this.size=0}var wX=_X;function bX(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var xX=bX;function EX(t){return this.__data__.get(t)}var SX=EX;function TX(t){return this.__data__.has(t)}var AX=TX,PX=km,IX=o1,OX=a1,CX=200;function kX(t,e){var n=this.__data__;if(n instanceof PX){var r=n.__data__;if(!IX||r.length<CX-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new OX(r)}return n.set(t,e),this.size=n.size,this}var RX=kX,NX=km,DX=wX,jX=xX,MX=SX,$X=AX,LX=RX;function El(t){var e=this.__data__=new NX(t);this.size=e.size}El.prototype.clear=DX;El.prototype.delete=jX;El.prototype.get=MX;El.prototype.has=$X;El.prototype.set=LX;var q2=El,VX="__lodash_hash_undefined__";function FX(t){return this.__data__.set(t,VX),this}var UX=FX;function BX(t){return this.__data__.has(t)}var zX=BX,WX=a1,qX=UX,HX=zX;function ip(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new WX;++e<n;)this.add(t[e])}ip.prototype.add=ip.prototype.push=qX;ip.prototype.has=HX;var H2=ip;function KX(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var K2=KX;function GX(t,e){return t.has(e)}var G2=GX,XX=H2,YX=K2,QX=G2,JX=1,ZX=2;function eY(t,e,n,r,i,o){var a=n&JX,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var f=-1,d=!0,p=n&ZX?new XX:void 0;for(o.set(t,e),o.set(e,t);++f<s;){var g=t[f],y=e[f];if(r)var v=a?r(y,g,f,e,t,o):r(g,y,f,t,e,o);if(v!==void 0){if(v)continue;d=!1;break}if(p){if(!YX(e,function(b,m){if(!QX(p,m)&&(g===b||i(g,b,n,r,o)))return p.push(m)})){d=!1;break}}else if(!(g===y||i(g,y,n,r,o))){d=!1;break}}return o.delete(t),o.delete(e),d}var X2=eY,tY=Xr,nY=tY.Uint8Array,rY=nY;function iY(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var oY=iY;function aY(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var w1=aY,pA=If,mA=rY,sY=i1,lY=X2,uY=oY,cY=w1,fY=1,hY=2,dY="[object Boolean]",pY="[object Date]",mY="[object Error]",gY="[object Map]",yY="[object Number]",vY="[object RegExp]",_Y="[object Set]",wY="[object String]",bY="[object Symbol]",xY="[object ArrayBuffer]",EY="[object DataView]",gA=pA?pA.prototype:void 0,Oy=gA?gA.valueOf:void 0;function SY(t,e,n,r,i,o,a){switch(n){case EY:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case xY:return!(t.byteLength!=e.byteLength||!o(new mA(t),new mA(e)));case dY:case pY:case yY:return sY(+t,+e);case mY:return t.name==e.name&&t.message==e.message;case vY:case wY:return t==e+"";case gY:var s=uY;case _Y:var l=r&fY;if(s||(s=cY),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=hY,a.set(t,e);var c=lY(s(t),s(e),r,i,o,a);return a.delete(t),c;case bY:if(Oy)return Oy.call(t)==Oy.call(e)}return!1}var TY=SY;function AY(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var Y2=AY,PY=Y2,IY=Dn;function OY(t,e,n){var r=e(t);return IY(t)?r:PY(r,n(t))}var CY=OY;function kY(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var RY=kY;function NY(){return[]}var DY=NY,jY=RY,MY=DY,$Y=Object.prototype,LY=$Y.propertyIsEnumerable,yA=Object.getOwnPropertySymbols,VY=yA?function(t){return t==null?[]:(t=Object(t),jY(yA(t),function(e){return LY.call(t,e)}))}:MY,FY=VY;function UY(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var BY=UY,zY=Oi,WY=Ci,qY="[object Arguments]";function HY(t){return WY(t)&&zY(t)==qY}var KY=HY,vA=KY,GY=Ci,Q2=Object.prototype,XY=Q2.hasOwnProperty,YY=Q2.propertyIsEnumerable,QY=vA(function(){return arguments}())?vA:function(t){return GY(t)&&XY.call(t,"callee")&&!YY.call(t,"callee")},b1=QY,op={exports:{}};function JY(){return!1}var ZY=JY;op.exports;(function(t,e){var n=Xr,r=ZY,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(op,op.exports);var J2=op.exports,eQ=9007199254740991,tQ=/^(?:0|[1-9]\d*)$/;function nQ(t,e){var n=typeof t;return e=e??eQ,!!e&&(n=="number"||n!="symbol"&&tQ.test(t))&&t>-1&&t%1==0&&t<e}var x1=nQ,rQ=9007199254740991;function iQ(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=rQ}var E1=iQ,oQ=Oi,aQ=E1,sQ=Ci,lQ="[object Arguments]",uQ="[object Array]",cQ="[object Boolean]",fQ="[object Date]",hQ="[object Error]",dQ="[object Function]",pQ="[object Map]",mQ="[object Number]",gQ="[object Object]",yQ="[object RegExp]",vQ="[object Set]",_Q="[object String]",wQ="[object WeakMap]",bQ="[object ArrayBuffer]",xQ="[object DataView]",EQ="[object Float32Array]",SQ="[object Float64Array]",TQ="[object Int8Array]",AQ="[object Int16Array]",PQ="[object Int32Array]",IQ="[object Uint8Array]",OQ="[object Uint8ClampedArray]",CQ="[object Uint16Array]",kQ="[object Uint32Array]",rt={};rt[EQ]=rt[SQ]=rt[TQ]=rt[AQ]=rt[PQ]=rt[IQ]=rt[OQ]=rt[CQ]=rt[kQ]=!0;rt[lQ]=rt[uQ]=rt[bQ]=rt[cQ]=rt[xQ]=rt[fQ]=rt[hQ]=rt[dQ]=rt[pQ]=rt[mQ]=rt[gQ]=rt[yQ]=rt[vQ]=rt[_Q]=rt[wQ]=!1;function RQ(t){return sQ(t)&&aQ(t.length)&&!!rt[oQ(t)]}var NQ=RQ;function DQ(t){return function(e){return t(e)}}var Z2=DQ,ap={exports:{}};ap.exports;(function(t,e){var n=s2,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(ap,ap.exports);var jQ=ap.exports,MQ=NQ,$Q=Z2,_A=jQ,wA=_A&&_A.isTypedArray,LQ=wA?$Q(wA):MQ,ej=LQ,VQ=BY,FQ=b1,UQ=Dn,BQ=J2,zQ=x1,WQ=ej,qQ=Object.prototype,HQ=qQ.hasOwnProperty;function KQ(t,e){var n=UQ(t),r=!n&&FQ(t),i=!n&&!r&&BQ(t),o=!n&&!r&&!i&&WQ(t),a=n||r||i||o,s=a?VQ(t.length,String):[],l=s.length;for(var u in t)(e||HQ.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||zQ(u,l)))&&s.push(u);return s}var GQ=KQ,XQ=Object.prototype;function YQ(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||XQ;return t===n}var QQ=YQ;function JQ(t,e){return function(n){return t(e(n))}}var tj=JQ,ZQ=tj,eJ=ZQ(Object.keys,Object),tJ=eJ,nJ=QQ,rJ=tJ,iJ=Object.prototype,oJ=iJ.hasOwnProperty;function aJ(t){if(!nJ(t))return rJ(t);var e=[];for(var n in Object(t))oJ.call(t,n)&&n!="constructor"&&e.push(n);return e}var sJ=aJ,lJ=r1,uJ=E1;function cJ(t){return t!=null&&uJ(t.length)&&!lJ(t)}var Rf=cJ,fJ=GQ,hJ=sJ,dJ=Rf;function pJ(t){return dJ(t)?fJ(t):hJ(t)}var Gm=pJ,mJ=CY,gJ=FY,yJ=Gm;function vJ(t){return mJ(t,yJ,gJ)}var _J=vJ,bA=_J,wJ=1,bJ=Object.prototype,xJ=bJ.hasOwnProperty;function EJ(t,e,n,r,i,o){var a=n&wJ,s=bA(t),l=s.length,u=bA(e),c=u.length;if(l!=c&&!a)return!1;for(var f=l;f--;){var d=s[f];if(!(a?d in e:xJ.call(e,d)))return!1}var p=o.get(t),g=o.get(e);if(p&&g)return p==e&&g==t;var y=!0;o.set(t,e),o.set(e,t);for(var v=a;++f<l;){d=s[f];var b=t[d],m=e[d];if(r)var _=a?r(m,b,d,e,t,o):r(b,m,d,t,e,o);if(!(_===void 0?b===m||i(b,m,n,r,o):_)){y=!1;break}v||(v=d=="constructor")}if(y&&!v){var x=t.constructor,T=e.constructor;x!=T&&"constructor"in t&&"constructor"in e&&!(typeof x=="function"&&x instanceof x&&typeof T=="function"&&T instanceof T)&&(y=!1)}return o.delete(t),o.delete(e),y}var SJ=EJ,TJ=$a,AJ=Xr,PJ=TJ(AJ,"DataView"),IJ=PJ,OJ=$a,CJ=Xr,kJ=OJ(CJ,"Promise"),RJ=kJ,NJ=$a,DJ=Xr,jJ=NJ(DJ,"Set"),nj=jJ,MJ=$a,$J=Xr,LJ=MJ($J,"WeakMap"),VJ=LJ,L0=IJ,V0=o1,F0=RJ,U0=nj,B0=VJ,rj=Oi,Sl=u2,xA="[object Map]",FJ="[object Object]",EA="[object Promise]",SA="[object Set]",TA="[object WeakMap]",AA="[object DataView]",UJ=Sl(L0),BJ=Sl(V0),zJ=Sl(F0),WJ=Sl(U0),qJ=Sl(B0),Go=rj;(L0&&Go(new L0(new ArrayBuffer(1)))!=AA||V0&&Go(new V0)!=xA||F0&&Go(F0.resolve())!=EA||U0&&Go(new U0)!=SA||B0&&Go(new B0)!=TA)&&(Go=function(t){var e=rj(t),n=e==FJ?t.constructor:void 0,r=n?Sl(n):"";if(r)switch(r){case UJ:return AA;case BJ:return xA;case zJ:return EA;case WJ:return SA;case qJ:return TA}return e});var HJ=Go,Cy=q2,KJ=X2,GJ=TY,XJ=SJ,PA=HJ,IA=Dn,OA=J2,YJ=ej,QJ=1,CA="[object Arguments]",kA="[object Array]",Ph="[object Object]",JJ=Object.prototype,RA=JJ.hasOwnProperty;function ZJ(t,e,n,r,i,o){var a=IA(t),s=IA(e),l=a?kA:PA(t),u=s?kA:PA(e);l=l==CA?Ph:l,u=u==CA?Ph:u;var c=l==Ph,f=u==Ph,d=l==u;if(d&&OA(t)){if(!OA(e))return!1;a=!0,c=!1}if(d&&!c)return o||(o=new Cy),a||YJ(t)?KJ(t,e,n,r,i,o):GJ(t,e,l,n,r,i,o);if(!(n&QJ)){var p=c&&RA.call(t,"__wrapped__"),g=f&&RA.call(e,"__wrapped__");if(p||g){var y=p?t.value():t,v=g?e.value():e;return o||(o=new Cy),i(y,v,n,r,o)}}return d?(o||(o=new Cy),XJ(t,e,n,r,i,o)):!1}var eZ=ZJ,tZ=eZ,NA=Ci;function ij(t,e,n,r,i){return t===e?!0:t==null||e==null||!NA(t)&&!NA(e)?t!==t&&e!==e:tZ(t,e,n,r,ij,i)}var S1=ij,nZ=q2,rZ=S1,iZ=1,oZ=2;function aZ(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var l=s[0],u=t[l],c=s[1];if(a&&s[2]){if(u===void 0&&!(l in t))return!1}else{var f=new nZ;if(r)var d=r(u,c,l,t,e,f);if(!(d===void 0?rZ(c,u,iZ|oZ,r,f):d))return!1}}return!0}var sZ=aZ,lZ=No;function uZ(t){return t===t&&!lZ(t)}var oj=uZ,cZ=oj,fZ=Gm;function hZ(t){for(var e=fZ(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,cZ(i)]}return e}var dZ=hZ;function pZ(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var aj=pZ,mZ=sZ,gZ=dZ,yZ=aj;function vZ(t){var e=gZ(t);return e.length==1&&e[0][2]?yZ(e[0][0],e[0][1]):function(n){return n===t||mZ(n,t,e)}}var _Z=vZ;function wZ(t,e){return t!=null&&e in Object(t)}var bZ=wZ,xZ=p2,EZ=b1,SZ=Dn,TZ=x1,AZ=E1,PZ=Nm;function IZ(t,e,n){e=xZ(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=PZ(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&AZ(i)&&TZ(a,i)&&(SZ(t)||EZ(t)))}var OZ=IZ,CZ=bZ,kZ=OZ;function RZ(t,e){return t!=null&&kZ(t,e,CZ)}var NZ=RZ,DZ=S1,jZ=m2,MZ=NZ,$Z=n1,LZ=oj,VZ=aj,FZ=Nm,UZ=1,BZ=2;function zZ(t,e){return $Z(t)&&LZ(e)?VZ(FZ(t),e):function(n){var r=jZ(n,t);return r===void 0&&r===e?MZ(n,t):DZ(e,r,UZ|BZ)}}var WZ=zZ;function qZ(t){return t}var Tl=qZ;function HZ(t){return function(e){return e==null?void 0:e[t]}}var KZ=HZ,GZ=u1;function XZ(t){return function(e){return GZ(e,t)}}var YZ=XZ,QZ=KZ,JZ=YZ,ZZ=n1,eee=Nm;function tee(t){return ZZ(t)?QZ(eee(t)):JZ(t)}var nee=tee,ree=_Z,iee=WZ,oee=Tl,aee=Dn,see=nee;function lee(t){return typeof t=="function"?t:t==null?oee:typeof t=="object"?aee(t)?iee(t[0],t[1]):ree(t):see(t)}var Yr=lee;function uee(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var sj=uee;function cee(t){return t!==t}var fee=cee;function hee(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var dee=hee,pee=sj,mee=fee,gee=dee;function yee(t,e,n){return e===e?gee(t,e,n):pee(t,mee,n)}var vee=yee,_ee=vee;function wee(t,e){var n=t==null?0:t.length;return!!n&&_ee(t,e,0)>-1}var bee=wee;function xee(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var Eee=xee;function See(){}var Tee=See,ky=nj,Aee=Tee,Pee=w1,Iee=1/0,Oee=ky&&1/Pee(new ky([,-0]))[1]==Iee?function(t){return new ky(t)}:Aee,Cee=Oee,kee=H2,Ree=bee,Nee=Eee,Dee=G2,jee=Cee,Mee=w1,$ee=200;function Lee(t,e,n){var r=-1,i=Ree,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=Nee;else if(o>=$ee){var u=e?null:jee(t);if(u)return Mee(u);a=!1,i=Dee,l=new kee}else l=e?[]:s;e:for(;++r<o;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,a&&f===f){for(var d=l.length;d--;)if(l[d]===f)continue e;e&&l.push(f),s.push(c)}else i(l,f,n)||(l!==s&&l.push(f),s.push(c))}return s}var Vee=Lee,Fee=Yr,Uee=Vee;function Bee(t,e){return t&&t.length?Uee(t,Fee(e)):[]}var zee=Bee;const DA=ze(zee);function lj(t,e,n){return e===!0?DA(t,n):we(e)?DA(t,e):t}function qs(t){"@babel/helpers - typeof";return qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qs(t)}var Wee=["ref"];function jA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jA(Object(n),!0).forEach(function(r){Xm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fj(r.key),r)}}function Hee(t,e,n){return e&&MA(t.prototype,e),n&&MA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kee(t,e,n){return e=sp(e),Gee(t,uj()?Reflect.construct(e,n||[],sp(t).constructor):e.apply(t,n))}function Gee(t,e){if(e&&(qs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cj(t)}function uj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uj=function(){return!!t})()}function sp(t){return sp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sp(t)}function cj(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z0(t,e)}function z0(t,e){return z0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},z0(t,e)}function Xm(t,e,n){return e=fj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fj(t){var e=Yee(t,"string");return qs(e)=="symbol"?e:String(e)}function Yee(t,e){if(qs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(qs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qee(t,e){if(t==null)return{};var n=Jee(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Jee(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Zee(t){return t.value}function ete(t,e){if(M.isValidElement(t))return M.cloneElement(t,e);if(typeof t=="function")return M.createElement(t,e);e.ref;var n=Qee(e,Wee);return M.createElement(_1,n)}var $A=1,Ac=function(t){Xee(e,t);function e(){var n;qee(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Kee(this,e,[].concat(i)),Xm(cj(n),"lastBoundingBox",{width:-1,height:-1}),n}return Hee(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>$A||Math.abs(i.height-this.lastBoundingBox.height)>$A)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Uo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,f,d;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var g=this.getBBoxSnapshot();d={top:((c||0)-g.height)/2}}else d=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Uo(Uo({},f),d)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,f=Uo(Uo({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return M.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){r.wrapperNode=p}},ete(o,Uo(Uo({},this.props),{},{payload:lj(c,u,Zee)})))}}],[{key:"getWithHeight",value:function(r,i){var o=r.props.layout;return o==="vertical"&&ee(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}]),e}(j.PureComponent);Xm(Ac,"displayName","Legend");Xm(Ac,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var LA=If,tte=b1,nte=Dn,VA=LA?LA.isConcatSpreadable:void 0;function rte(t){return nte(t)||tte(t)||!!(VA&&t&&t[VA])}var ite=rte,ote=Y2,ate=ite;function hj(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=ate),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?hj(s,e-1,n,r,i):ote(i,s):r||(i[i.length]=s)}return i}var dj=hj;function ste(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(n(o[l],l,o)===!1)break}return e}}var lte=ste,ute=lte,cte=ute(),fte=cte,hte=fte,dte=Gm;function pte(t,e){return t&&hte(t,e,dte)}var pj=pte,mte=Rf;function gte(t,e){return function(n,r){if(n==null)return n;if(!mte(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var yte=gte,vte=pj,_te=yte,wte=_te(vte),T1=wte,bte=T1,xte=Rf;function Ete(t,e){var n=-1,r=xte(t)?Array(t.length):[];return bte(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var mj=Ete;function Ste(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var Tte=Ste,FA=vl;function Ate(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=FA(t),a=e!==void 0,s=e===null,l=e===e,u=FA(e);if(!s&&!u&&!o&&t>e||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var Pte=Ate,Ite=Pte;function Ote(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=Ite(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var Cte=Ote,Ry=l1,kte=u1,Rte=Yr,Nte=mj,Dte=Tte,jte=Z2,Mte=Cte,$te=Tl,Lte=Dn;function Vte(t,e,n){e.length?e=Ry(e,function(o){return Lte(o)?function(a){return kte(a,o.length===1?o[0]:o)}:o}):e=[$te];var r=-1;e=Ry(e,jte(Rte));var i=Nte(t,function(o,a,s){var l=Ry(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return Dte(i,function(o,a){return Mte(o,a,n)})}var Fte=Vte;function Ute(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Bte=Ute,zte=Bte,UA=Math.max;function Wte(t,e,n){return e=UA(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=UA(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),zte(t,this,s)}}var qte=Wte;function Hte(t){return function(){return t}}var Kte=Hte,Gte=$a,Xte=function(){try{var t=Gte(Object,"defineProperty");return t({},"",{}),t}catch{}}(),gj=Xte,Yte=Kte,BA=gj,Qte=Tl,Jte=BA?function(t,e){return BA(t,"toString",{configurable:!0,enumerable:!1,value:Yte(e),writable:!0})}:Qte,Zte=Jte,ene=800,tne=16,nne=Date.now;function rne(t){var e=0,n=0;return function(){var r=nne(),i=tne-(r-n);if(n=r,i>0){if(++e>=ene)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var ine=rne,one=Zte,ane=ine,sne=ane(one),lne=sne,une=Tl,cne=qte,fne=lne;function hne(t,e){return fne(cne(t,e,une),t+"")}var dne=hne,pne=i1,mne=Rf,gne=x1,yne=No;function vne(t,e,n){if(!yne(n))return!1;var r=typeof e;return(r=="number"?mne(n)&&gne(e,n.length):r=="string"&&e in n)?pne(n[e],t):!1}var Ym=vne,_ne=dj,wne=Fte,bne=dne,zA=Ym,xne=bne(function(t,e){if(t==null)return[];var n=e.length;return n>1&&zA(t,e[0],e[1])?e=[]:n>2&&zA(e[0],e[1],e[2])&&(e=[e[0]]),wne(t,_ne(e,1),[])}),Ene=xne;const A1=ze(Ene);function Pc(t){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pc(t)}function W0(){return W0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W0.apply(this,arguments)}function Sne(t,e){return Ine(t)||Pne(t,e)||Ane(t,e)||Tne()}function Tne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ane(t,e){if(t){if(typeof t=="string")return WA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WA(t,e)}}function WA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Ine(t){if(Array.isArray(t))return t}function qA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ny(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qA(Object(n),!0).forEach(function(r){One(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function One(t,e,n){return e=Cne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cne(t){var e=kne(t,"string");return Pc(e)=="symbol"?e:String(e)}function kne(t,e){if(Pc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Pc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rne(t){return Array.isArray(t)&&Ct(t[0])&&Ct(t[1])?t.join(" ~ "):t}var Nne=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,f=e.formatter,d=e.itemSorter,p=e.wrapperClassName,g=e.labelClassName,y=e.label,v=e.labelFormatter,b=e.accessibilityLayer,m=b===void 0?!1:b,_=function(){if(c&&c.length){var N={padding:0,margin:0},k=(d?A1(c,d):c).map(function(V,K){if(V.type==="none")return null;var B=Ny({display:"block",paddingTop:4,paddingBottom:4,color:V.color||"#000"},s),z=V.formatter||f||Rne,$=V.value,W=V.name,Y=$,ne=W;if(z&&Y!=null&&ne!=null){var Z=z($,W,V,K,c);if(Array.isArray(Z)){var se=Sne(Z,2);Y=se[0],ne=se[1]}else Y=Z}return M.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(K),style:B},Ct(ne)?M.createElement("span",{className:"recharts-tooltip-item-name"},ne):null,Ct(ne)?M.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,M.createElement("span",{className:"recharts-tooltip-item-value"},Y),M.createElement("span",{className:"recharts-tooltip-item-unit"},V.unit||""))});return M.createElement("ul",{className:"recharts-tooltip-item-list",style:N},k)}return null},x=Ny({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),T=Ny({margin:0},u),O=!Te(y),S=O?y:"",E=Se("recharts-default-tooltip",p),I=Se("recharts-tooltip-label",g);O&&v&&c!==void 0&&c!==null&&(S=v(y,c));var C=m?{role:"status","aria-live":"assertive"}:{};return M.createElement("div",W0({className:E,style:x},C),M.createElement("p",{className:I,style:T},M.isValidElement(S)?S:"".concat(S)),_())};function Ic(t){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ic(t)}function Ih(t,e,n){return e=Dne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dne(t){var e=jne(t,"string");return Ic(e)=="symbol"?e:String(e)}function jne(t,e){if(Ic(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ic(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iu="recharts-tooltip-wrapper",Mne={visibility:"hidden"};function $ne(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Se(iu,Ih(Ih(Ih(Ih({},"".concat(iu,"-right"),ee(n)&&e&&ee(e.x)&&n>=e.x),"".concat(iu,"-left"),ee(n)&&e&&ee(e.x)&&n<e.x),"".concat(iu,"-bottom"),ee(r)&&e&&ee(e.y)&&r>=e.y),"".concat(iu,"-top"),ee(r)&&e&&ee(e.y)&&r<e.y))}function HA(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&ee(o[r]))return o[r];var c=n[r]-s-i,f=n[r]+i;if(e[r])return a[r]?c:f;if(a[r]){var d=c,p=l[r];return d<p?Math.max(f,l[r]):Math.max(c,l[r])}var g=f+s,y=l[r]+u;return g>y?Math.max(c,l[r]):Math.max(f,l[r])}function Lne(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Vne(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,c,f;return a.height>0&&a.width>0&&n?(c=HA({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),f=HA({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=Lne({translateX:c,translateY:f,useTranslate3d:s})):u=Mne,{cssProperties:u,cssClasses:$ne({translateX:c,translateY:f,coordinate:n})}}function Hs(t){"@babel/helpers - typeof";return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hs(t)}function KA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KA(Object(n),!0).forEach(function(r){K0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Une(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vj(r.key),r)}}function Bne(t,e,n){return e&&Une(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zne(t,e,n){return e=lp(e),Wne(t,yj()?Reflect.construct(e,n||[],lp(t).constructor):e.apply(t,n))}function Wne(t,e){if(e&&(Hs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q0(t)}function yj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yj=function(){return!!t})()}function lp(t){return lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lp(t)}function q0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H0(t,e)}function H0(t,e){return H0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},H0(t,e)}function K0(t,e,n){return e=vj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vj(t){var e=Hne(t,"string");return Hs(e)=="symbol"?e:String(e)}function Hne(t,e){if(Hs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Hs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var XA=1,Kne=function(t){qne(e,t);function e(){var n;Fne(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=zne(this,e,[].concat(i)),K0(q0(n),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),K0(q0(n),"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return Bne(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>XA||Math.abs(r.height-this.state.lastBoundingBox.height)>XA)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,f=i.hasPayload,d=i.isAnimationActive,p=i.offset,g=i.position,y=i.reverseDirection,v=i.useTranslate3d,b=i.viewBox,m=i.wrapperStyle,_=Vne({allowEscapeViewBox:a,coordinate:c,offsetTopLeft:p,position:g,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:b}),x=_.cssClasses,T=_.cssProperties,O=GA(GA({transition:d&&o?"transform ".concat(s,"ms ").concat(l):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},m);return M.createElement("div",{tabIndex:-1,className:x,style:O,ref:function(E){r.wrapperNode=E}},u)}}]),e}(j.PureComponent),Gne=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},pi={isSsr:Gne(),get:function(e){return pi[e]},set:function(e,n){if(typeof e=="string")pi[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){pi[i]=e[i]})}}};function Ks(t){"@babel/helpers - typeof";return Ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ks(t)}function YA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YA(Object(n),!0).forEach(function(r){P1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wj(r.key),r)}}function Qne(t,e,n){return e&&Yne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jne(t,e,n){return e=up(e),Zne(t,_j()?Reflect.construct(e,n||[],up(t).constructor):e.apply(t,n))}function Zne(t,e){if(e&&(Ks(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ere(t)}function ere(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _j(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_j=function(){return!!t})()}function up(t){return up=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},up(t)}function tre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&G0(t,e)}function G0(t,e){return G0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},G0(t,e)}function P1(t,e,n){return e=wj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wj(t){var e=nre(t,"string");return Ks(e)=="symbol"?e:String(e)}function nre(t,e){if(Ks(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ks(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rre(t){return t.dataKey}function ire(t,e){return M.isValidElement(t)?M.cloneElement(t,e):typeof t=="function"?M.createElement(t,e):M.createElement(Nne,e)}var kr=function(t){tre(e,t);function e(){return Xne(this,e),Jne(this,e,arguments)}return Qne(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,f=i.filterNull,d=i.isAnimationActive,p=i.offset,g=i.payload,y=i.payloadUniqBy,v=i.position,b=i.reverseDirection,m=i.useTranslate3d,_=i.viewBox,x=i.wrapperStyle,T=g??[];f&&T.length&&(T=lj(g.filter(function(S){return S.value!=null&&(S.hide!==!0||r.props.includeHidden)}),y,rre));var O=T.length>0;return M.createElement(Kne,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:d,active:o,coordinate:c,hasPayload:O,offset:p,position:v,reverseDirection:b,useTranslate3d:m,viewBox:_,wrapperStyle:x},ire(u,QA(QA({},this.props),{},{payload:T})))}}]),e}(j.PureComponent);P1(kr,"displayName","Tooltip");P1(kr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!pi.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var ore=Xr,are=function(){return ore.Date.now()},sre=are,lre=/\s/;function ure(t){for(var e=t.length;e--&&lre.test(t.charAt(e)););return e}var cre=ure,fre=cre,hre=/^\s+/;function dre(t){return t&&t.slice(0,fre(t)+1).replace(hre,"")}var pre=dre,mre=pre,JA=No,gre=vl,ZA=NaN,yre=/^[-+]0x[0-9a-f]+$/i,vre=/^0b[01]+$/i,_re=/^0o[0-7]+$/i,wre=parseInt;function bre(t){if(typeof t=="number")return t;if(gre(t))return ZA;if(JA(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=JA(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=mre(t);var n=vre.test(t);return n||_re.test(t)?wre(t.slice(2),n?2:8):yre.test(t)?ZA:+t}var bj=bre,xre=No,Dy=sre,eP=bj,Ere="Expected a function",Sre=Math.max,Tre=Math.min;function Are(t,e,n){var r,i,o,a,s,l,u=0,c=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(Ere);e=eP(e)||0,xre(n)&&(c=!!n.leading,f="maxWait"in n,o=f?Sre(eP(n.maxWait)||0,e):o,d="trailing"in n?!!n.trailing:d);function p(O){var S=r,E=i;return r=i=void 0,u=O,a=t.apply(E,S),a}function g(O){return u=O,s=setTimeout(b,e),c?p(O):a}function y(O){var S=O-l,E=O-u,I=e-S;return f?Tre(I,o-E):I}function v(O){var S=O-l,E=O-u;return l===void 0||S>=e||S<0||f&&E>=o}function b(){var O=Dy();if(v(O))return m(O);s=setTimeout(b,y(O))}function m(O){return s=void 0,d&&r?p(O):(r=i=void 0,a)}function _(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function x(){return s===void 0?a:m(Dy())}function T(){var O=Dy(),S=v(O);if(r=arguments,i=this,l=O,S){if(s===void 0)return g(l);if(f)return clearTimeout(s),s=setTimeout(b,e),p(l)}return s===void 0&&(s=setTimeout(b,e)),a}return T.cancel=_,T.flush=x,T}var Pre=Are,Ire=Pre,Ore=No,Cre="Expected a function";function kre(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Cre);return Ore(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ire(t,e,{leading:r,maxWait:e,trailing:i})}var Rre=kre;const xj=ze(Rre);function Oc(t){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oc(t)}function tP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tP(Object(n),!0).forEach(function(r){Nre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nre(t,e,n){return e=Dre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dre(t){var e=jre(t,"string");return Oc(e)=="symbol"?e:String(e)}function jre(t,e){if(Oc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Oc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mre(t,e){return Fre(t)||Vre(t,e)||Lre(t,e)||$re()}function $re(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lre(t,e){if(t){if(typeof t=="string")return nP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nP(t,e)}}function nP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Fre(t){if(Array.isArray(t))return t}var Ej=j.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,c=u===void 0?0:u,f=t.minHeight,d=t.maxHeight,p=t.children,g=t.debounce,y=g===void 0?0:g,v=t.id,b=t.className,m=t.onResize,_=t.style,x=_===void 0?{}:_,T=j.useRef(null),O=j.useRef();O.current=m,j.useImperativeHandle(e,function(){return Object.defineProperty(T.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),T.current},configurable:!0})});var S=j.useState({containerWidth:i.width,containerHeight:i.height}),E=Mre(S,2),I=E[0],C=E[1],R=j.useCallback(function(k,V){C(function(K){var B=Math.round(k),z=Math.round(V);return K.containerWidth===B&&K.containerHeight===z?K:{containerWidth:B,containerHeight:z}})},[]);j.useEffect(function(){var k=function(W){var Y,ne=W[0].contentRect,Z=ne.width,se=ne.height;R(Z,se),(Y=O.current)===null||Y===void 0||Y.call(O,Z,se)};y>0&&(k=xj(k,y,{trailing:!0,leading:!1}));var V=new ResizeObserver(k),K=T.current.getBoundingClientRect(),B=K.width,z=K.height;return R(B,z),V.observe(T.current),function(){V.disconnect()}},[R,y]);var N=j.useMemo(function(){var k=I.containerWidth,V=I.containerHeight;if(k<0||V<0)return null;br(ta(a)||ta(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),br(!n||n>0,"The aspect(%s) must be greater than zero.",n);var K=ta(a)?k:a,B=ta(l)?V:l;n&&n>0&&(K?B=K/n:B&&(K=B*n),d&&B>d&&(B=d)),br(K>0||B>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,K,B,a,l,c,f,n);var z=!Array.isArray(p)&&x0.isElement(p)&&di(p.type).endsWith("Chart");return M.Children.map(p,function($){return x0.isElement($)?j.cloneElement($,Oh({width:K,height:B},z?{style:Oh({height:"100%",width:"100%",maxHeight:B,maxWidth:K},$.props.style)}:{})):$})},[n,p,l,d,f,c,I,a]);return M.createElement("div",{id:v?"".concat(v):void 0,className:Se("recharts-responsive-container",b),style:Oh(Oh({},x),{},{width:a,height:l,minWidth:c,minHeight:f,maxHeight:d}),ref:T},N)}),Qm=function(e){return null};Qm.displayName="Cell";function Cc(t){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cc(t)}function rP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function X0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rP(Object(n),!0).forEach(function(r){Ure(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ure(t,e,n){return e=Bre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bre(t){var e=zre(t,"string");return Cc(e)=="symbol"?e:String(e)}function zre(t,e){if(Cc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Cc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ha={widthCache:{},cacheCount:0},Wre=2e3,qre={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},iP="recharts_measurement_span";function Hre(t){var e=X0({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Fu=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||pi.isSsr)return{width:0,height:0};var r=Hre(n),i=JSON.stringify({text:e,copyStyle:r});if(Ha.widthCache[i])return Ha.widthCache[i];try{var o=document.getElementById(iP);o||(o=document.createElement("span"),o.setAttribute("id",iP),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=X0(X0({},qre),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return Ha.widthCache[i]=l,++Ha.cacheCount>Wre&&(Ha.cacheCount=0,Ha.widthCache={}),l}catch{return{width:0,height:0}}},Kre=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function kc(t){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kc(t)}function cp(t,e){return Qre(t)||Yre(t,e)||Xre(t,e)||Gre()}function Gre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xre(t,e){if(t){if(typeof t=="string")return oP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oP(t,e)}}function oP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Qre(t){if(Array.isArray(t))return t}function Jre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eie(r.key),r)}}function Zre(t,e,n){return e&&aP(t.prototype,e),n&&aP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function eie(t){var e=tie(t,"string");return kc(e)=="symbol"?e:String(e)}function tie(t,e){if(kc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,lP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,nie=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,rie=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Sj={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},iie=Object.keys(Sj),hs="NaN";function oie(t,e){return t*Sj[e]}var Ch=function(){function t(e,n){Jre(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!nie.test(n)&&(this.num=NaN,this.unit=""),iie.includes(n)&&(this.num=oie(e,n),this.unit="px")}return Zre(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=rie.exec(n))!==null&&r!==void 0?r:[],o=cp(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}]),t}();function Tj(t){if(t.includes(hs))return hs;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=sP.exec(e))!==null&&n!==void 0?n:[],i=cp(r,4),o=i[1],a=i[2],s=i[3],l=Ch.parse(o??""),u=Ch.parse(s??""),c=a==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return hs;e=e.replace(sP,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,d=(f=lP.exec(e))!==null&&f!==void 0?f:[],p=cp(d,4),g=p[1],y=p[2],v=p[3],b=Ch.parse(g??""),m=Ch.parse(v??""),_=y==="+"?b.add(m):b.subtract(m);if(_.isNaN())return hs;e=e.replace(lP,_.toString())}return e}var uP=/\(([^()]*)\)/;function aie(t){for(var e=t;e.includes("(");){var n=uP.exec(e),r=cp(n,2),i=r[1];e=e.replace(uP,Tj(i))}return e}function sie(t){var e=t.replace(/\s+/g,"");return e=aie(e),e=Tj(e),e}function lie(t){try{return sie(t)}catch{return hs}}function jy(t){var e=lie(t.slice(5,-1));return e===hs?"":e}var uie=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],cie=["dx","dy","angle","className","breakAll"];function Y0(){return Y0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y0.apply(this,arguments)}function cP(t,e){if(t==null)return{};var n=fie(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fie(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function fP(t,e){return mie(t)||pie(t,e)||die(t,e)||hie()}function hie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function die(t,e){if(t){if(typeof t=="string")return hP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hP(t,e)}}function hP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function mie(t){if(Array.isArray(t))return t}var Aj=/[ \f\n\r\t\v\u2028\u2029]+/,Pj=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];Te(n)||(r?o=n.toString().split(""):o=n.toString().split(Aj));var a=o.map(function(l){return{word:l,width:Fu(l,i).width}}),s=r?0:Fu(" ",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},gie=function(e,n,r,i,o){var a=e.maxLines,s=e.children,l=e.style,u=e.breakAll,c=ee(a),f=s,d=function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return K.reduce(function(B,z){var $=z.word,W=z.width,Y=B[B.length-1];if(Y&&(i==null||o||Y.width+W+r<Number(i)))Y.words.push($),Y.width+=W+r;else{var ne={words:[$],width:W};B.push(ne)}return B},[])},p=d(n),g=function(K){return K.reduce(function(B,z){return B.width>z.width?B:z})};if(!c)return p;for(var y="…",v=function(K){var B=f.slice(0,K),z=Pj({breakAll:u,style:l,children:B+y}).wordsWithComputedWidth,$=d(z),W=$.length>a||g($).width>Number(i);return[W,$]},b=0,m=f.length-1,_=0,x;b<=m&&_<=f.length-1;){var T=Math.floor((b+m)/2),O=T-1,S=v(O),E=fP(S,2),I=E[0],C=E[1],R=v(T),N=fP(R,1),k=N[0];if(!I&&!k&&(b=T+1),I&&k&&(m=T-1),!I&&k){x=C;break}_++}return x||p},dP=function(e){var n=Te(e)?[]:e.toString().split(Aj);return[{words:n}]},yie=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((n||r)&&!pi.isSsr){var l,u,c=Pj({breakAll:a,children:i,style:o});if(c){var f=c.wordsWithComputedWidth,d=c.spaceWidth;l=f,u=d}else return dP(i);return gie({breakAll:a,children:i,maxLines:s,style:o},l,u,n,r)}return dP(i)},pP="#808080",Sa=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,f=c===void 0?!1:c,d=e.textAnchor,p=d===void 0?"start":d,g=e.verticalAnchor,y=g===void 0?"end":g,v=e.fill,b=v===void 0?pP:v,m=cP(e,uie),_=j.useMemo(function(){return yie({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:f,style:m.style,width:m.width})},[m.breakAll,m.children,m.maxLines,f,m.style,m.width]),x=m.dx,T=m.dy,O=m.angle,S=m.className,E=m.breakAll,I=cP(m,cie);if(!Ct(r)||!Ct(o))return null;var C=r+(ee(x)?x:0),R=o+(ee(T)?T:0),N;switch(y){case"start":N=jy("calc(".concat(u,")"));break;case"middle":N=jy("calc(".concat((_.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:N=jy("calc(".concat(_.length-1," * -").concat(s,")"));break}var k=[];if(f){var V=_[0].width,K=m.width;k.push("scale(".concat((ee(K)?K/V:1)/V,")"))}return O&&k.push("rotate(".concat(O,", ").concat(C,", ").concat(R,")")),k.length&&(I.transform=k.join(" ")),M.createElement("text",Y0({},ye(I,!0),{x:C,y:R,className:Se("recharts-text",S),textAnchor:p,fill:b.includes("url")?pP:b}),_.map(function(B,z){var $=B.words.join(E?"":" ");return M.createElement("tspan",{x:C,dy:z===0?N:s,key:$},$)}))};function go(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function vie(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function I1(t){let e,n,r;t.length!==2?(e=go,n=(s,l)=>go(t(s),l),r=(s,l)=>t(s)-l):(e=t===go||t===vie?t:_ie,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<0?u=f+1:c=f}while(u<c)}return u}function o(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function a(s,l,u=0,c=s.length){const f=i(s,l,u,c-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:a,right:o}}function _ie(){return 0}function Ij(t){return t===null?NaN:+t}function*wie(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const bie=I1(go),Nf=bie.right;I1(Ij).center;class mP extends Map{constructor(e,n=Sie){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(gP(this,e))}has(e){return super.has(gP(this,e))}set(e,n){return super.set(xie(this,e),n)}delete(e){return super.delete(Eie(this,e))}}function gP({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function xie({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Eie({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Sie(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Tie(t=go){if(t===go)return Oj;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function Oj(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Aie=Math.sqrt(50),Pie=Math.sqrt(10),Iie=Math.sqrt(2);function fp(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=Aie?10:o>=Pie?5:o>=Iie?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?fp(t,e,n*2):[s,l,u]}function Q0(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?fp(e,t,n):fp(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function J0(t,e,n){return e=+e,t=+t,n=+n,fp(t,e,n)[2]}function Z0(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?J0(e,t,n):J0(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function yP(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function vP(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function Cj(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?Oj:Tie(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(e-u*f/l+d)),g=Math.min(r,Math.floor(e+(l-u)*f/l+d));Cj(t,e,p,g,i)}const o=t[e];let a=n,s=r;for(ou(t,n,e),i(t[r],o)>0&&ou(t,n,r);a<s;){for(ou(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?ou(t,n,s):(++s,ou(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function ou(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Oie(t,e,n){if(t=Float64Array.from(wie(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return vP(t);if(e>=1)return yP(t);var r,i=(r-1)*e,o=Math.floor(i),a=yP(Cj(t,o).subarray(0,o+1)),s=vP(t.subarray(o+1));return a+(s-a)*(i-o)}}function Cie(t,e,n=Ij){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function kie(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function cr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ki(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const e_=Symbol("implicit");function O1(){var t=new mP,e=[],n=[],r=e_;function i(o){let a=t.get(o);if(a===void 0){if(r!==e_)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new mP;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return O1(e,n).unknown(r)},cr.apply(i,arguments),i}function Rc(){var t=O1().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var d=e().length,p=i<r,g=p?i:r,y=p?r:i;o=(y-g)/Math.max(1,d-l+u*2),s&&(o=Math.floor(o)),g+=(y-g-o*(d-l))*c,a=o*(1-l),s&&(g=Math.round(g),a=Math.round(a));var v=kie(d).map(function(b){return g+o*b});return n(p?v.reverse():v)}return t.domain=function(d){return arguments.length?(e(d),f()):e()},t.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,s=!0,f()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(d){return arguments.length?(s=!!d,f()):s},t.padding=function(d){return arguments.length?(l=Math.min(1,u=+d),f()):l},t.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),f()):l},t.paddingOuter=function(d){return arguments.length?(u=+d,f()):u},t.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),f()):c},t.copy=function(){return Rc(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},cr.apply(f(),arguments)}function kj(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return kj(e())},t}function Uu(){return kj(Rc.apply(null,arguments).paddingInner(1))}function C1(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Rj(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Df(){}var Nc=.7,hp=1/Nc,Ps="\\s*([+-]?\\d+)\\s*",Dc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Wr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Rie=/^#([0-9a-f]{3,8})$/,Nie=new RegExp(`^rgb\\(${Ps},${Ps},${Ps}\\)$`),Die=new RegExp(`^rgb\\(${Wr},${Wr},${Wr}\\)$`),jie=new RegExp(`^rgba\\(${Ps},${Ps},${Ps},${Dc}\\)$`),Mie=new RegExp(`^rgba\\(${Wr},${Wr},${Wr},${Dc}\\)$`),$ie=new RegExp(`^hsl\\(${Dc},${Wr},${Wr}\\)$`),Lie=new RegExp(`^hsla\\(${Dc},${Wr},${Wr},${Dc}\\)$`),_P={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};C1(Df,jc,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:wP,formatHex:wP,formatHex8:Vie,formatHsl:Fie,formatRgb:bP,toString:bP});function wP(){return this.rgb().formatHex()}function Vie(){return this.rgb().formatHex8()}function Fie(){return Nj(this).formatHsl()}function bP(){return this.rgb().formatRgb()}function jc(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Rie.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?xP(e):n===3?new In(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?kh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?kh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Nie.exec(t))?new In(e[1],e[2],e[3],1):(e=Die.exec(t))?new In(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=jie.exec(t))?kh(e[1],e[2],e[3],e[4]):(e=Mie.exec(t))?kh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=$ie.exec(t))?TP(e[1],e[2]/100,e[3]/100,1):(e=Lie.exec(t))?TP(e[1],e[2]/100,e[3]/100,e[4]):_P.hasOwnProperty(t)?xP(_P[t]):t==="transparent"?new In(NaN,NaN,NaN,0):null}function xP(t){return new In(t>>16&255,t>>8&255,t&255,1)}function kh(t,e,n,r){return r<=0&&(t=e=n=NaN),new In(t,e,n,r)}function Uie(t){return t instanceof Df||(t=jc(t)),t?(t=t.rgb(),new In(t.r,t.g,t.b,t.opacity)):new In}function t_(t,e,n,r){return arguments.length===1?Uie(t):new In(t,e,n,r??1)}function In(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}C1(In,t_,Rj(Df,{brighter(t){return t=t==null?hp:Math.pow(hp,t),new In(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Nc:Math.pow(Nc,t),new In(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new In(ua(this.r),ua(this.g),ua(this.b),dp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:EP,formatHex:EP,formatHex8:Bie,formatRgb:SP,toString:SP}));function EP(){return`#${na(this.r)}${na(this.g)}${na(this.b)}`}function Bie(){return`#${na(this.r)}${na(this.g)}${na(this.b)}${na((isNaN(this.opacity)?1:this.opacity)*255)}`}function SP(){const t=dp(this.opacity);return`${t===1?"rgb(":"rgba("}${ua(this.r)}, ${ua(this.g)}, ${ua(this.b)}${t===1?")":`, ${t})`}`}function dp(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ua(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function na(t){return t=ua(t),(t<16?"0":"")+t.toString(16)}function TP(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new vr(t,e,n,r)}function Nj(t){if(t instanceof vr)return new vr(t.h,t.s,t.l,t.opacity);if(t instanceof Df||(t=jc(t)),!t)return new vr;if(t instanceof vr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new vr(a,s,l,t.opacity)}function zie(t,e,n,r){return arguments.length===1?Nj(t):new vr(t,e,n,r??1)}function vr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}C1(vr,zie,Rj(Df,{brighter(t){return t=t==null?hp:Math.pow(hp,t),new vr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Nc:Math.pow(Nc,t),new vr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new In(My(t>=240?t-240:t+120,i,r),My(t,i,r),My(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new vr(AP(this.h),Rh(this.s),Rh(this.l),dp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=dp(this.opacity);return`${t===1?"hsl(":"hsla("}${AP(this.h)}, ${Rh(this.s)*100}%, ${Rh(this.l)*100}%${t===1?")":`, ${t})`}`}}));function AP(t){return t=(t||0)%360,t<0?t+360:t}function Rh(t){return Math.max(0,Math.min(1,t||0))}function My(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const k1=t=>()=>t;function Wie(t,e){return function(n){return t+n*e}}function qie(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Hie(t){return(t=+t)==1?Dj:function(e,n){return n-e?qie(e,n,t):k1(isNaN(e)?n:e)}}function Dj(t,e){var n=e-t;return n?Wie(t,n):k1(isNaN(t)?e:t)}const PP=function t(e){var n=Hie(e);function r(i,o){var a=n((i=t_(i)).r,(o=t_(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=Dj(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function Kie(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Gie(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Xie(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Al(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function Yie(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function pp(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Qie(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Al(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var n_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$y=new RegExp(n_.source,"g");function Jie(t){return function(){return t}}function Zie(t){return function(e){return t(e)+""}}function eoe(t,e){var n=n_.lastIndex=$y.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=n_.exec(t))&&(i=$y.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:pp(r,i)})),n=$y.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?Zie(l[0].x):Jie(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}function Al(t,e){var n=typeof e,r;return e==null||n==="boolean"?k1(e):(n==="number"?pp:n==="string"?(r=jc(e))?(e=r,PP):eoe:e instanceof jc?PP:e instanceof Date?Yie:Gie(e)?Kie:Array.isArray(e)?Xie:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Qie:pp)(t,e)}function R1(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function toe(t,e){e===void 0&&(e=t,t=Al);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function noe(t){return function(){return t}}function mp(t){return+t}var IP=[0,1];function wn(t){return t}function r_(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:noe(isNaN(e)?NaN:.5)}function roe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function ioe(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=r_(i,r),o=n(a,o)):(r=r_(r,i),o=n(o,a)),function(s){return o(r(s))}}function ooe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=r_(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=Nf(t,s,1,r)-1;return o[l](i[l](s))}}function jf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Jm(){var t=IP,e=IP,n=Al,r,i,o,a=wn,s,l,u;function c(){var d=Math.min(t.length,e.length);return a!==wn&&(a=roe(t[0],t[d-1])),s=d>2?ooe:ioe,l=u=null,f}function f(d){return d==null||isNaN(d=+d)?o:(l||(l=s(t.map(r),e,n)))(r(a(d)))}return f.invert=function(d){return a(i((u||(u=s(e,t.map(r),pp)))(d)))},f.domain=function(d){return arguments.length?(t=Array.from(d,mp),c()):t.slice()},f.range=function(d){return arguments.length?(e=Array.from(d),c()):e.slice()},f.rangeRound=function(d){return e=Array.from(d),n=R1,c()},f.clamp=function(d){return arguments.length?(a=d?!0:wn,c()):a!==wn},f.interpolate=function(d){return arguments.length?(n=d,c()):n},f.unknown=function(d){return arguments.length?(o=d,f):o},function(d,p){return r=d,i=p,c()}}function N1(){return Jm()(wn,wn)}function aoe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function gp(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Gs(t){return t=gp(Math.abs(t)),t?t[1]:NaN}function soe(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function loe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var uoe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Mc(t){if(!(e=uoe.exec(t)))throw new Error("invalid format: "+t);var e;return new D1({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Mc.prototype=D1.prototype;function D1(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}D1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function coe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var jj;function foe(t,e){var n=gp(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(jj=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+gp(t,Math.max(0,e+o-1))[0]}function OP(t,e){var n=gp(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const CP={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:aoe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>OP(t*100,e),r:OP,s:foe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function kP(t){return t}var RP=Array.prototype.map,NP=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function hoe(t){var e=t.grouping===void 0||t.thousands===void 0?kP:soe(RP.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?kP:loe(RP.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=Mc(f);var d=f.fill,p=f.align,g=f.sign,y=f.symbol,v=f.zero,b=f.width,m=f.comma,_=f.precision,x=f.trim,T=f.type;T==="n"?(m=!0,T="g"):CP[T]||(_===void 0&&(_=12),x=!0,T="g"),(v||d==="0"&&p==="=")&&(v=!0,d="0",p="=");var O=y==="$"?n:y==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",S=y==="$"?r:/[%p]/.test(T)?a:"",E=CP[T],I=/[defgprs%]/.test(T);_=_===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function C(R){var N=O,k=S,V,K,B;if(T==="c")k=E(R)+k,R="";else{R=+R;var z=R<0||1/R<0;if(R=isNaN(R)?l:E(Math.abs(R),_),x&&(R=coe(R)),z&&+R==0&&g!=="+"&&(z=!1),N=(z?g==="("?g:s:g==="-"||g==="("?"":g)+N,k=(T==="s"?NP[8+jj/3]:"")+k+(z&&g==="("?")":""),I){for(V=-1,K=R.length;++V<K;)if(B=R.charCodeAt(V),48>B||B>57){k=(B===46?i+R.slice(V+1):R.slice(V))+k,R=R.slice(0,V);break}}}m&&!v&&(R=e(R,1/0));var $=N.length+R.length+k.length,W=$<b?new Array(b-$+1).join(d):"";switch(m&&v&&(R=e(W+R,W.length?b-k.length:1/0),W=""),p){case"<":R=N+R+k+W;break;case"=":R=N+W+R+k;break;case"^":R=W.slice(0,$=W.length>>1)+N+R+k+W.slice($);break;default:R=W+N+R+k;break}return o(R)}return C.toString=function(){return f+""},C}function c(f,d){var p=u((f=Mc(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Gs(d)/3)))*3,y=Math.pow(10,-g),v=NP[8+g/3];return function(b){return p(y*b)+v}}return{format:u,formatPrefix:c}}var Nh,j1,Mj;doe({thousands:",",grouping:[3],currency:["$",""]});function doe(t){return Nh=hoe(t),j1=Nh.format,Mj=Nh.formatPrefix,Nh}function poe(t){return Math.max(0,-Gs(Math.abs(t)))}function moe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Gs(e)/3)))*3-Gs(Math.abs(t)))}function goe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Gs(e)-Gs(t))+1}function $j(t,e,n,r){var i=Z0(t,e,n),o;switch(r=Mc(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=moe(i,a))&&(r.precision=o),Mj(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=goe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=poe(i))&&(r.precision=o-(r.type==="%")*2);break}}return j1(r)}function Do(t){var e=t.domain;return t.ticks=function(n){var r=e();return Q0(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return $j(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,c=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);c-- >0;){if(u=J0(a,s,n),u===l)return r[i]=a,r[o]=s,e(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function yp(){var t=N1();return t.copy=function(){return jf(t,yp())},cr.apply(t,arguments),Do(t)}function Lj(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,mp),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return Lj(t).unknown(e)},t=arguments.length?Array.from(t,mp):[0,1],Do(n)}function Vj(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function DP(t){return Math.log(t)}function jP(t){return Math.exp(t)}function yoe(t){return-Math.log(-t)}function voe(t){return-Math.exp(-t)}function _oe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function woe(t){return t===10?_oe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function boe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function MP(t){return(e,n)=>-t(-e,n)}function M1(t){const e=t(DP,jP),n=e.domain;let r=10,i,o;function a(){return i=boe(r),o=woe(r),n()[0]<0?(i=MP(i),o=MP(o),t(yoe,voe)):t(DP,jP),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let d=i(u),p=i(c),g,y;const v=s==null?10:+s;let b=[];if(!(r%1)&&p-d<v){if(d=Math.floor(d),p=Math.ceil(p),u>0){for(;d<=p;++d)for(g=1;g<r;++g)if(y=d<0?g/o(-d):g*o(d),!(y<u)){if(y>c)break;b.push(y)}}else for(;d<=p;++d)for(g=r-1;g>=1;--g)if(y=d>0?g/o(-d):g*o(d),!(y<u)){if(y>c)break;b.push(y)}b.length*2<v&&(b=Q0(u,c,v))}else b=Q0(d,p,Math.min(p-d,v)).map(o);return f?b.reverse():b},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Mc(l)).precision==null&&(l.trim=!0),l=j1(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return c=>{let f=c/o(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},e.nice=()=>n(Vj(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function Fj(){const t=M1(Jm()).domain([1,10]);return t.copy=()=>jf(t,Fj()).base(t.base()),cr.apply(t,arguments),t}function $P(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function LP(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function $1(t){var e=1,n=t($P(e),LP(e));return n.constant=function(r){return arguments.length?t($P(e=+r),LP(e)):e},Do(n)}function Uj(){var t=$1(Jm());return t.copy=function(){return jf(t,Uj()).constant(t.constant())},cr.apply(t,arguments)}function VP(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function xoe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Eoe(t){return t<0?-t*t:t*t}function L1(t){var e=t(wn,wn),n=1;function r(){return n===1?t(wn,wn):n===.5?t(xoe,Eoe):t(VP(n),VP(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Do(e)}function V1(){var t=L1(Jm());return t.copy=function(){return jf(t,V1()).exponent(t.exponent())},cr.apply(t,arguments),t}function Soe(){return V1.apply(null,arguments).exponent(.5)}function FP(t){return Math.sign(t)*t*t}function Toe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Bj(){var t=N1(),e=[0,1],n=!1,r;function i(o){var a=Toe(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(FP(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,mp)).map(FP)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Bj(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},cr.apply(i,arguments),Do(i)}function zj(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=Cie(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[Nf(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(go),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return zj().domain(t).range(e).unknown(r)},cr.apply(o,arguments)}function Wj(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[Nf(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return Wj().domain([t,e]).range(i).unknown(o)},cr.apply(Do(a),arguments)}function qj(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Nf(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return qj().domain(t).range(e).unknown(n)},cr.apply(i,arguments)}const Ly=new Date,Vy=new Date;function kt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),e(o,s),t(o);while(u<o&&o<a);return l},i.filter=o=>kt(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(Ly.setTime(+o),Vy.setTime(+a),t(Ly),t(Vy),Math.floor(n(Ly,Vy))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const vp=kt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);vp.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?kt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):vp);vp.range;const si=1e3,nr=si*60,li=nr*60,Si=li*24,F1=Si*7,UP=Si*30,Fy=Si*365,ra=kt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*si)},(t,e)=>(e-t)/si,t=>t.getUTCSeconds());ra.range;const U1=kt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*si)},(t,e)=>{t.setTime(+t+e*nr)},(t,e)=>(e-t)/nr,t=>t.getMinutes());U1.range;const B1=kt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*nr)},(t,e)=>(e-t)/nr,t=>t.getUTCMinutes());B1.range;const z1=kt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*si-t.getMinutes()*nr)},(t,e)=>{t.setTime(+t+e*li)},(t,e)=>(e-t)/li,t=>t.getHours());z1.range;const W1=kt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*li)},(t,e)=>(e-t)/li,t=>t.getUTCHours());W1.range;const Mf=kt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*nr)/Si,t=>t.getDate()-1);Mf.range;const Zm=kt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Si,t=>t.getUTCDate()-1);Zm.range;const Hj=kt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Si,t=>Math.floor(t/Si));Hj.range;function La(t){return kt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*nr)/F1)}const eg=La(0),_p=La(1),Aoe=La(2),Poe=La(3),Xs=La(4),Ioe=La(5),Ooe=La(6);eg.range;_p.range;Aoe.range;Poe.range;Xs.range;Ioe.range;Ooe.range;function Va(t){return kt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/F1)}const tg=Va(0),wp=Va(1),Coe=Va(2),koe=Va(3),Ys=Va(4),Roe=Va(5),Noe=Va(6);tg.range;wp.range;Coe.range;koe.range;Ys.range;Roe.range;Noe.range;const q1=kt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());q1.range;const H1=kt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());H1.range;const Ti=kt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ti.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:kt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ti.range;const Ai=kt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ai.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:kt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ai.range;function Kj(t,e,n,r,i,o){const a=[[ra,1,si],[ra,5,5*si],[ra,15,15*si],[ra,30,30*si],[o,1,nr],[o,5,5*nr],[o,15,15*nr],[o,30,30*nr],[i,1,li],[i,3,3*li],[i,6,6*li],[i,12,12*li],[r,1,Si],[r,2,2*Si],[n,1,F1],[e,1,UP],[e,3,3*UP],[t,1,Fy]];function s(u,c,f){const d=c<u;d&&([u,c]=[c,u]);const p=f&&typeof f.range=="function"?f:l(u,c,f),g=p?p.range(u,+c+1):[];return d?g.reverse():g}function l(u,c,f){const d=Math.abs(c-u)/f,p=I1(([,,v])=>v).right(a,d);if(p===a.length)return t.every(Z0(u/Fy,c/Fy,f));if(p===0)return vp.every(Math.max(Z0(u,c,f),1));const[g,y]=a[d/a[p-1][2]<a[p][2]/d?p-1:p];return g.every(y)}return[s,l]}const[Doe,joe]=Kj(Ai,H1,tg,Hj,W1,B1),[Moe,$oe]=Kj(Ti,q1,eg,Mf,z1,U1);function Uy(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function By(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function au(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Loe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=su(i),c=lu(i),f=su(o),d=lu(o),p=su(a),g=lu(a),y=su(s),v=lu(s),b=su(l),m=lu(l),_={a:z,A:$,b:W,B:Y,c:null,d:KP,e:KP,f:sae,g:yae,G:_ae,H:iae,I:oae,j:aae,L:Gj,m:lae,M:uae,p:ne,q:Z,Q:YP,s:QP,S:cae,u:fae,U:hae,V:dae,w:pae,W:mae,x:null,X:null,y:gae,Y:vae,Z:wae,"%":XP},x={a:se,A:Ce,b:Ve,B:mt,c:null,d:GP,e:GP,f:Sae,g:Dae,G:Mae,H:bae,I:xae,j:Eae,L:Yj,m:Tae,M:Aae,p:Le,q:fn,Q:YP,s:QP,S:Pae,u:Iae,U:Oae,V:Cae,w:kae,W:Rae,x:null,X:null,y:Nae,Y:jae,Z:$ae,"%":XP},T={a:C,A:R,b:N,B:k,c:V,d:qP,e:qP,f:eae,g:WP,G:zP,H:HP,I:HP,j:Yoe,L:Zoe,m:Xoe,M:Qoe,p:I,q:Goe,Q:nae,s:rae,S:Joe,u:zoe,U:Woe,V:qoe,w:Boe,W:Hoe,x:K,X:B,y:WP,Y:zP,Z:Koe,"%":tae};_.x=O(n,_),_.X=O(r,_),_.c=O(e,_),x.x=O(n,x),x.X=O(r,x),x.c=O(e,x);function O(re,he){return function(pe){var G=[],Fe=-1,Ee=0,Ke=re.length,qe,F,le;for(pe instanceof Date||(pe=new Date(+pe));++Fe<Ke;)re.charCodeAt(Fe)===37&&(G.push(re.slice(Ee,Fe)),(F=BP[qe=re.charAt(++Fe)])!=null?qe=re.charAt(++Fe):F=qe==="e"?" ":"0",(le=he[qe])&&(qe=le(pe,F)),G.push(qe),Ee=Fe+1);return G.push(re.slice(Ee,Fe)),G.join("")}}function S(re,he){return function(pe){var G=au(1900,void 0,1),Fe=E(G,re,pe+="",0),Ee,Ke;if(Fe!=pe.length)return null;if("Q"in G)return new Date(G.Q);if("s"in G)return new Date(G.s*1e3+("L"in G?G.L:0));if(he&&!("Z"in G)&&(G.Z=0),"p"in G&&(G.H=G.H%12+G.p*12),G.m===void 0&&(G.m="q"in G?G.q:0),"V"in G){if(G.V<1||G.V>53)return null;"w"in G||(G.w=1),"Z"in G?(Ee=By(au(G.y,0,1)),Ke=Ee.getUTCDay(),Ee=Ke>4||Ke===0?wp.ceil(Ee):wp(Ee),Ee=Zm.offset(Ee,(G.V-1)*7),G.y=Ee.getUTCFullYear(),G.m=Ee.getUTCMonth(),G.d=Ee.getUTCDate()+(G.w+6)%7):(Ee=Uy(au(G.y,0,1)),Ke=Ee.getDay(),Ee=Ke>4||Ke===0?_p.ceil(Ee):_p(Ee),Ee=Mf.offset(Ee,(G.V-1)*7),G.y=Ee.getFullYear(),G.m=Ee.getMonth(),G.d=Ee.getDate()+(G.w+6)%7)}else("W"in G||"U"in G)&&("w"in G||(G.w="u"in G?G.u%7:"W"in G?1:0),Ke="Z"in G?By(au(G.y,0,1)).getUTCDay():Uy(au(G.y,0,1)).getDay(),G.m=0,G.d="W"in G?(G.w+6)%7+G.W*7-(Ke+5)%7:G.w+G.U*7-(Ke+6)%7);return"Z"in G?(G.H+=G.Z/100|0,G.M+=G.Z%100,By(G)):Uy(G)}}function E(re,he,pe,G){for(var Fe=0,Ee=he.length,Ke=pe.length,qe,F;Fe<Ee;){if(G>=Ke)return-1;if(qe=he.charCodeAt(Fe++),qe===37){if(qe=he.charAt(Fe++),F=T[qe in BP?he.charAt(Fe++):qe],!F||(G=F(re,pe,G))<0)return-1}else if(qe!=pe.charCodeAt(G++))return-1}return G}function I(re,he,pe){var G=u.exec(he.slice(pe));return G?(re.p=c.get(G[0].toLowerCase()),pe+G[0].length):-1}function C(re,he,pe){var G=p.exec(he.slice(pe));return G?(re.w=g.get(G[0].toLowerCase()),pe+G[0].length):-1}function R(re,he,pe){var G=f.exec(he.slice(pe));return G?(re.w=d.get(G[0].toLowerCase()),pe+G[0].length):-1}function N(re,he,pe){var G=b.exec(he.slice(pe));return G?(re.m=m.get(G[0].toLowerCase()),pe+G[0].length):-1}function k(re,he,pe){var G=y.exec(he.slice(pe));return G?(re.m=v.get(G[0].toLowerCase()),pe+G[0].length):-1}function V(re,he,pe){return E(re,e,he,pe)}function K(re,he,pe){return E(re,n,he,pe)}function B(re,he,pe){return E(re,r,he,pe)}function z(re){return a[re.getDay()]}function $(re){return o[re.getDay()]}function W(re){return l[re.getMonth()]}function Y(re){return s[re.getMonth()]}function ne(re){return i[+(re.getHours()>=12)]}function Z(re){return 1+~~(re.getMonth()/3)}function se(re){return a[re.getUTCDay()]}function Ce(re){return o[re.getUTCDay()]}function Ve(re){return l[re.getUTCMonth()]}function mt(re){return s[re.getUTCMonth()]}function Le(re){return i[+(re.getUTCHours()>=12)]}function fn(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var he=O(re+="",_);return he.toString=function(){return re},he},parse:function(re){var he=S(re+="",!1);return he.toString=function(){return re},he},utcFormat:function(re){var he=O(re+="",x);return he.toString=function(){return re},he},utcParse:function(re){var he=S(re+="",!0);return he.toString=function(){return re},he}}}var BP={"-":"",_:" ",0:"0"},Vt=/^\s*\d+/,Voe=/^%/,Foe=/[\\^$*+?|[\]().{}]/g;function Me(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Uoe(t){return t.replace(Foe,"\\$&")}function su(t){return new RegExp("^(?:"+t.map(Uoe).join("|")+")","i")}function lu(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Boe(t,e,n){var r=Vt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function zoe(t,e,n){var r=Vt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Woe(t,e,n){var r=Vt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function qoe(t,e,n){var r=Vt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Hoe(t,e,n){var r=Vt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function zP(t,e,n){var r=Vt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function WP(t,e,n){var r=Vt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Koe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Goe(t,e,n){var r=Vt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Xoe(t,e,n){var r=Vt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function qP(t,e,n){var r=Vt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Yoe(t,e,n){var r=Vt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function HP(t,e,n){var r=Vt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Qoe(t,e,n){var r=Vt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Joe(t,e,n){var r=Vt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Zoe(t,e,n){var r=Vt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function eae(t,e,n){var r=Vt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function tae(t,e,n){var r=Voe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function nae(t,e,n){var r=Vt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function rae(t,e,n){var r=Vt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function KP(t,e){return Me(t.getDate(),e,2)}function iae(t,e){return Me(t.getHours(),e,2)}function oae(t,e){return Me(t.getHours()%12||12,e,2)}function aae(t,e){return Me(1+Mf.count(Ti(t),t),e,3)}function Gj(t,e){return Me(t.getMilliseconds(),e,3)}function sae(t,e){return Gj(t,e)+"000"}function lae(t,e){return Me(t.getMonth()+1,e,2)}function uae(t,e){return Me(t.getMinutes(),e,2)}function cae(t,e){return Me(t.getSeconds(),e,2)}function fae(t){var e=t.getDay();return e===0?7:e}function hae(t,e){return Me(eg.count(Ti(t)-1,t),e,2)}function Xj(t){var e=t.getDay();return e>=4||e===0?Xs(t):Xs.ceil(t)}function dae(t,e){return t=Xj(t),Me(Xs.count(Ti(t),t)+(Ti(t).getDay()===4),e,2)}function pae(t){return t.getDay()}function mae(t,e){return Me(_p.count(Ti(t)-1,t),e,2)}function gae(t,e){return Me(t.getFullYear()%100,e,2)}function yae(t,e){return t=Xj(t),Me(t.getFullYear()%100,e,2)}function vae(t,e){return Me(t.getFullYear()%1e4,e,4)}function _ae(t,e){var n=t.getDay();return t=n>=4||n===0?Xs(t):Xs.ceil(t),Me(t.getFullYear()%1e4,e,4)}function wae(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Me(e/60|0,"0",2)+Me(e%60,"0",2)}function GP(t,e){return Me(t.getUTCDate(),e,2)}function bae(t,e){return Me(t.getUTCHours(),e,2)}function xae(t,e){return Me(t.getUTCHours()%12||12,e,2)}function Eae(t,e){return Me(1+Zm.count(Ai(t),t),e,3)}function Yj(t,e){return Me(t.getUTCMilliseconds(),e,3)}function Sae(t,e){return Yj(t,e)+"000"}function Tae(t,e){return Me(t.getUTCMonth()+1,e,2)}function Aae(t,e){return Me(t.getUTCMinutes(),e,2)}function Pae(t,e){return Me(t.getUTCSeconds(),e,2)}function Iae(t){var e=t.getUTCDay();return e===0?7:e}function Oae(t,e){return Me(tg.count(Ai(t)-1,t),e,2)}function Qj(t){var e=t.getUTCDay();return e>=4||e===0?Ys(t):Ys.ceil(t)}function Cae(t,e){return t=Qj(t),Me(Ys.count(Ai(t),t)+(Ai(t).getUTCDay()===4),e,2)}function kae(t){return t.getUTCDay()}function Rae(t,e){return Me(wp.count(Ai(t)-1,t),e,2)}function Nae(t,e){return Me(t.getUTCFullYear()%100,e,2)}function Dae(t,e){return t=Qj(t),Me(t.getUTCFullYear()%100,e,2)}function jae(t,e){return Me(t.getUTCFullYear()%1e4,e,4)}function Mae(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Ys(t):Ys.ceil(t),Me(t.getUTCFullYear()%1e4,e,4)}function $ae(){return"+0000"}function XP(){return"%"}function YP(t){return+t}function QP(t){return Math.floor(+t/1e3)}var Ka,Jj,Zj;Lae({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Lae(t){return Ka=Loe(t),Jj=Ka.format,Ka.parse,Zj=Ka.utcFormat,Ka.utcParse,Ka}function Vae(t){return new Date(t)}function Fae(t){return t instanceof Date?+t:+new Date(+t)}function K1(t,e,n,r,i,o,a,s,l,u){var c=N1(),f=c.invert,d=c.domain,p=u(".%L"),g=u(":%S"),y=u("%I:%M"),v=u("%I %p"),b=u("%a %d"),m=u("%b %d"),_=u("%B"),x=u("%Y");function T(O){return(l(O)<O?p:s(O)<O?g:a(O)<O?y:o(O)<O?v:r(O)<O?i(O)<O?b:m:n(O)<O?_:x)(O)}return c.invert=function(O){return new Date(f(O))},c.domain=function(O){return arguments.length?d(Array.from(O,Fae)):d().map(Vae)},c.ticks=function(O){var S=d();return t(S[0],S[S.length-1],O??10)},c.tickFormat=function(O,S){return S==null?T:u(S)},c.nice=function(O){var S=d();return(!O||typeof O.range!="function")&&(O=e(S[0],S[S.length-1],O??10)),O?d(Vj(S,O)):c},c.copy=function(){return jf(c,K1(t,e,n,r,i,o,a,s,l,u))},c}function Uae(){return cr.apply(K1(Moe,$oe,Ti,q1,eg,Mf,z1,U1,ra,Jj).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Bae(){return cr.apply(K1(Doe,joe,Ai,H1,tg,Zm,W1,B1,ra,Zj).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ng(){var t=0,e=1,n,r,i,o,a=wn,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:a(i===0?.5:(f=(o(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(a=f,u):a};function c(f){return function(d){var p,g;return arguments.length?([p,g]=d,a=f(p,g),u):[a(0),a(1)]}}return u.range=c(Al),u.rangeRound=c(R1),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function jo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function eM(){var t=Do(ng()(wn));return t.copy=function(){return jo(t,eM())},ki.apply(t,arguments)}function tM(){var t=M1(ng()).domain([1,10]);return t.copy=function(){return jo(t,tM()).base(t.base())},ki.apply(t,arguments)}function nM(){var t=$1(ng());return t.copy=function(){return jo(t,nM()).constant(t.constant())},ki.apply(t,arguments)}function G1(){var t=L1(ng());return t.copy=function(){return jo(t,G1()).exponent(t.exponent())},ki.apply(t,arguments)}function zae(){return G1.apply(null,arguments).exponent(.5)}function rM(){var t=[],e=wn;function n(r){if(r!=null&&!isNaN(r=+r))return e((Nf(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(go),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>Oie(t,o/r))},n.copy=function(){return rM(e).domain(t)},ki.apply(n,arguments)}function rg(){var t=0,e=.5,n=1,r=1,i,o,a,s,l,u=wn,c,f=!1,d;function p(y){return isNaN(y=+y)?d:(y=.5+((y=+c(y))-o)*(r*y<r*o?s:l),u(f?Math.max(0,Math.min(1,y)):y))}p.domain=function(y){return arguments.length?([t,e,n]=y,i=c(t=+t),o=c(e=+e),a=c(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,p):[t,e,n]},p.clamp=function(y){return arguments.length?(f=!!y,p):f},p.interpolator=function(y){return arguments.length?(u=y,p):u};function g(y){return function(v){var b,m,_;return arguments.length?([b,m,_]=v,u=toe(y,[b,m,_]),p):[u(0),u(.5),u(1)]}}return p.range=g(Al),p.rangeRound=g(R1),p.unknown=function(y){return arguments.length?(d=y,p):d},function(y){return c=y,i=y(t),o=y(e),a=y(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,p}}function iM(){var t=Do(rg()(wn));return t.copy=function(){return jo(t,iM())},ki.apply(t,arguments)}function oM(){var t=M1(rg()).domain([.1,1,10]);return t.copy=function(){return jo(t,oM()).base(t.base())},ki.apply(t,arguments)}function aM(){var t=$1(rg());return t.copy=function(){return jo(t,aM()).constant(t.constant())},ki.apply(t,arguments)}function X1(){var t=L1(rg());return t.copy=function(){return jo(t,X1()).exponent(t.exponent())},ki.apply(t,arguments)}function Wae(){return X1.apply(null,arguments).exponent(.5)}const JP=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Rc,scaleDiverging:iM,scaleDivergingLog:oM,scaleDivergingPow:X1,scaleDivergingSqrt:Wae,scaleDivergingSymlog:aM,scaleIdentity:Lj,scaleImplicit:e_,scaleLinear:yp,scaleLog:Fj,scaleOrdinal:O1,scalePoint:Uu,scalePow:V1,scaleQuantile:zj,scaleQuantize:Wj,scaleRadial:Bj,scaleSequential:eM,scaleSequentialLog:tM,scaleSequentialPow:G1,scaleSequentialQuantile:rM,scaleSequentialSqrt:zae,scaleSequentialSymlog:nM,scaleSqrt:Soe,scaleSymlog:Uj,scaleThreshold:qj,scaleTime:Uae,scaleUtc:Bae,tickFormat:$j},Symbol.toStringTag,{value:"Module"}));var qae=vl;function Hae(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!qae(a):n(a,s)))var s=a,l=o}return l}var ig=Hae;function Kae(t,e){return t>e}var sM=Kae,Gae=ig,Xae=sM,Yae=Tl;function Qae(t){return t&&t.length?Gae(t,Yae,Xae):void 0}var Jae=Qae;const og=ze(Jae);function Zae(t,e){return t<e}var lM=Zae,ese=ig,tse=lM,nse=Tl;function rse(t){return t&&t.length?ese(t,nse,tse):void 0}var ise=rse;const ag=ze(ise);var ose=l1,ase=Yr,sse=mj,lse=Dn;function use(t,e){var n=lse(t)?ose:sse;return n(t,ase(e))}var cse=use,fse=dj,hse=cse;function dse(t,e){return fse(hse(t,e),1)}var pse=dse;const mse=ze(pse);var gse=S1;function yse(t,e){return gse(t,e)}var vse=yse;const sg=ze(vse);var Pl=1e9,_se={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Q1,ut=!0,lr="[DecimalError] ",ca=lr+"Invalid argument: ",Y1=lr+"Exponent out of range: ",Il=Math.floor,Xo=Math.pow,wse=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Vn,Dt=1e7,it=7,uM=9007199254740991,bp=Il(uM/it),ae={};ae.absoluteValue=ae.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ae.comparedTo=ae.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};ae.decimalPlaces=ae.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*it;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ae.dividedBy=ae.div=function(t){return mi(this,new this.constructor(t))};ae.dividedToIntegerBy=ae.idiv=function(t){var e=this,n=e.constructor;return Xe(mi(e,new n(t),0,1),n.precision)};ae.equals=ae.eq=function(t){return!this.cmp(t)};ae.exponent=function(){return At(this)};ae.greaterThan=ae.gt=function(t){return this.cmp(t)>0};ae.greaterThanOrEqualTo=ae.gte=function(t){return this.cmp(t)>=0};ae.isInteger=ae.isint=function(){return this.e>this.d.length-2};ae.isNegative=ae.isneg=function(){return this.s<0};ae.isPositive=ae.ispos=function(){return this.s>0};ae.isZero=function(){return this.s===0};ae.lessThan=ae.lt=function(t){return this.cmp(t)<0};ae.lessThanOrEqualTo=ae.lte=function(t){return this.cmp(t)<1};ae.logarithm=ae.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Vn))throw Error(lr+"NaN");if(n.s<1)throw Error(lr+(n.s?"NaN":"-Infinity"));return n.eq(Vn)?new r(0):(ut=!1,e=mi($c(n,o),$c(t,o),o),ut=!0,Xe(e,i))};ae.minus=ae.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?hM(e,t):cM(e,(t.s=-t.s,t))};ae.modulo=ae.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(lr+"NaN");return n.s?(ut=!1,e=mi(n,t,0,1).times(t),ut=!0,n.minus(e)):Xe(new r(n),i)};ae.naturalExponential=ae.exp=function(){return fM(this)};ae.naturalLogarithm=ae.ln=function(){return $c(this)};ae.negated=ae.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ae.plus=ae.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?cM(e,t):hM(e,(t.s=-t.s,t))};ae.precision=ae.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ca+t);if(e=At(i)+1,r=i.d.length-1,n=r*it+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ae.squareRoot=ae.sqrt=function(){var t,e,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(lr+"NaN")}for(t=At(s),ut=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Mr(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Il((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(mi(s,o,a+2)).times(.5),Mr(o.d).slice(0,a)===(e=Mr(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Xe(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return ut=!0,Xe(r,n)};ae.times=ae.mul=function(t){var e,n,r,i,o,a,s,l,u,c=this,f=c.constructor,d=c.d,p=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,n=c.e+t.e,l=d.length,u=p.length,l<u&&(o=d,d=p,p=o,a=l,l=u,u=a),o=[],a=l+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+p[r]*d[i-r-1]+e,o[i--]=s%Dt|0,e=s/Dt|0;o[i]=(o[i]+e)%Dt|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,ut?Xe(t,f.precision):t};ae.toDecimalPlaces=ae.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Kr(t,0,Pl),e===void 0?e=r.rounding:Kr(e,0,8),Xe(n,t+At(n)+1,e))};ae.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Ta(r,!0):(Kr(t,0,Pl),e===void 0?e=i.rounding:Kr(e,0,8),r=Xe(new i(r),t+1,e),n=Ta(r,!0,t+1)),n};ae.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Ta(i):(Kr(t,0,Pl),e===void 0?e=o.rounding:Kr(e,0,8),r=Xe(new o(i),t+At(i)+1,e),n=Ta(r.abs(),!1,t+At(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ae.toInteger=ae.toint=function(){var t=this,e=t.constructor;return Xe(new e(t),At(t)+1,e.rounding)};ae.toNumber=function(){return+this};ae.toPower=ae.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(Vn);if(s=new l(s),!s.s){if(t.s<1)throw Error(lr+"Infinity");return s}if(s.eq(Vn))return s;if(r=l.precision,t.eq(Vn))return Xe(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=c<0?-c:c)<=uM){for(i=new l(Vn),e=Math.ceil(r/it+4),ut=!1;n%2&&(i=i.times(s),eI(i.d,e)),n=Il(n/2),n!==0;)s=s.times(s),eI(s.d,e);return ut=!0,t.s<0?new l(Vn).div(i):Xe(i,r)}}else if(o<0)throw Error(lr+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,ut=!1,i=t.times($c(s,r+u)),ut=!0,i=fM(i),i.s=o,i};ae.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=At(i),r=Ta(i,n<=o.toExpNeg||n>=o.toExpPos)):(Kr(t,1,Pl),e===void 0?e=o.rounding:Kr(e,0,8),i=Xe(new o(i),t,e),n=At(i),r=Ta(i,t<=n||n<=o.toExpNeg,t)),r};ae.toSignificantDigits=ae.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Kr(t,1,Pl),e===void 0?e=r.rounding:Kr(e,0,8)),Xe(new r(n),t,e)};ae.toString=ae.valueOf=ae.val=ae.toJSON=ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=At(t),n=t.constructor;return Ta(t,e<=n.toExpNeg||e>=n.toExpPos)};function cM(t,e){var n,r,i,o,a,s,l,u,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),ut?Xe(e,f):e;if(l=t.d,u=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=u.length):(r=u,i=a,s=l.length),a=Math.ceil(f/it),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/Dt|0,l[o]%=Dt;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,ut?Xe(e,f):e}function Kr(t,e,n){if(t!==~~t||t<e||t>n)throw Error(ca+t)}function Mr(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=it-r.length,n&&(o+=zi(n)),o+=r;a=t[e],r=a+"",n=it-r.length,n&&(o+=zi(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var mi=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%Dt|0,a=o/Dt|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*Dt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,u,c,f,d,p,g,y,v,b,m,_,x,T,O,S,E,I=r.constructor,C=r.s==i.s?1:-1,R=r.d,N=i.d;if(!r.s)return new I(r);if(!i.s)throw Error(lr+"Division by zero");for(l=r.e-i.e,S=N.length,T=R.length,p=new I(C),g=p.d=[],u=0;N[u]==(R[u]||0);)++u;if(N[u]>(R[u]||0)&&--l,o==null?m=o=I.precision:a?m=o+(At(r)-At(i))+1:m=o,m<0)return new I(0);if(m=m/it+2|0,u=0,S==1)for(c=0,N=N[0],m++;(u<T||c)&&m--;u++)_=c*Dt+(R[u]||0),g[u]=_/N|0,c=_%N|0;else{for(c=Dt/(N[0]+1)|0,c>1&&(N=t(N,c),R=t(R,c),S=N.length,T=R.length),x=S,y=R.slice(0,S),v=y.length;v<S;)y[v++]=0;E=N.slice(),E.unshift(0),O=N[0],N[1]>=Dt/2&&++O;do c=0,s=e(N,y,S,v),s<0?(b=y[0],S!=v&&(b=b*Dt+(y[1]||0)),c=b/O|0,c>1?(c>=Dt&&(c=Dt-1),f=t(N,c),d=f.length,v=y.length,s=e(f,y,d,v),s==1&&(c--,n(f,S<d?E:N,d))):(c==0&&(s=c=1),f=N.slice()),d=f.length,d<v&&f.unshift(0),n(y,f,v),s==-1&&(v=y.length,s=e(N,y,S,v),s<1&&(c++,n(y,S<v?E:N,v))),v=y.length):s===0&&(c++,y=[0]),g[u++]=c,s&&y[0]?y[v++]=R[x]||0:(y=[R[x]],v=1);while((x++<T||y[0]!==void 0)&&m--)}return g[0]||g.shift(),p.e=l,Xe(p,a?o+At(p)+1:o)}}();function fM(t,e){var n,r,i,o,a,s,l=0,u=0,c=t.constructor,f=c.precision;if(At(t)>16)throw Error(Y1+At(t));if(!t.s)return new c(Vn);for(e==null?(ut=!1,s=f):s=e,a=new c(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log(Xo(2,u))/Math.LN10*2+5|0,s+=r,n=i=o=new c(Vn),c.precision=s;;){if(i=Xe(i.times(t),s),n=n.times(++l),a=o.plus(mi(i,n,s)),Mr(a.d).slice(0,s)===Mr(o.d).slice(0,s)){for(;u--;)o=Xe(o.times(o),s);return c.precision=f,e==null?(ut=!0,Xe(o,f)):o}o=a}}function At(t){for(var e=t.e*it,n=t.d[0];n>=10;n/=10)e++;return e}function zy(t,e,n){if(e>t.LN10.sd())throw ut=!0,n&&(t.precision=n),Error(lr+"LN10 precision limit exceeded");return Xe(new t(t.LN10),e)}function zi(t){for(var e="";t--;)e+="0";return e}function $c(t,e){var n,r,i,o,a,s,l,u,c,f=1,d=10,p=t,g=p.d,y=p.constructor,v=y.precision;if(p.s<1)throw Error(lr+(p.s?"NaN":"-Infinity"));if(p.eq(Vn))return new y(0);if(e==null?(ut=!1,u=v):u=e,p.eq(10))return e==null&&(ut=!0),zy(y,u);if(u+=d,y.precision=u,n=Mr(g),r=n.charAt(0),o=At(p),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=Mr(p.d),r=n.charAt(0),f++;o=At(p),r>1?(p=new y("0."+n),o++):p=new y(r+"."+n.slice(1))}else return l=zy(y,u+2,v).times(o+""),p=$c(new y(r+"."+n.slice(1)),u-d).plus(l),y.precision=v,e==null?(ut=!0,Xe(p,v)):p;for(s=a=p=mi(p.minus(Vn),p.plus(Vn),u),c=Xe(p.times(p),u),i=3;;){if(a=Xe(a.times(c),u),l=s.plus(mi(a,new y(i),u)),Mr(l.d).slice(0,u)===Mr(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus(zy(y,u+2,v).times(o+""))),s=mi(s,new y(f),u),y.precision=v,e==null?(ut=!0,Xe(s,v)):s;s=l,i+=2}}function ZP(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Il(n/it),t.d=[],r=(n+1)%it,n<0&&(r+=it),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=it;r<i;)t.d.push(+e.slice(r,r+=it));e=e.slice(r),r=it-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),ut&&(t.e>bp||t.e<-bp))throw Error(Y1+n)}else t.s=0,t.e=0,t.d=[0];return t}function Xe(t,e,n){var r,i,o,a,s,l,u,c,f=t.d;for(a=1,o=f[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=it,i=e,u=f[c=0];else{if(c=Math.ceil((r+1)/it),o=f.length,c>=o)return t;for(u=o=f[c],a=1;o>=10;o/=10)a++;r%=it,i=r-it+a}if(n!==void 0&&(o=Xo(10,a-i-1),s=u/o%10|0,l=e<0||f[c+1]!==void 0||u%o,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/Xo(10,a-i):0:f[c-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=At(t),f.length=1,e=e-o-1,f[0]=Xo(10,(it-e%it)%it),t.e=Il(-e/it)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=c,o=1,c--):(f.length=c+1,o=Xo(10,it-r),f[c]=i>0?(u/Xo(10,a-i)%Xo(10,i)|0)*o:0),l)for(;;)if(c==0){(f[0]+=o)==Dt&&(f[0]=1,++t.e);break}else{if(f[c]+=o,f[c]!=Dt)break;f[c--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(ut&&(t.e>bp||t.e<-bp))throw Error(Y1+At(t));return t}function hM(t,e){var n,r,i,o,a,s,l,u,c,f,d=t.constructor,p=d.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new d(t),ut?Xe(e,p):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),a=u-r,a){for(c=a<0,c?(n=l,a=-a,s=f.length):(n=f,r=u,s=l.length),i=Math.max(Math.ceil(p/it),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}a=0}for(c&&(n=l,l=f,f=n,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>a;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=Dt-1;--l[o],l[i]+=Dt}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,ut?Xe(e,p):e):new d(0)}function Ta(t,e,n){var r,i=At(t),o=Mr(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+zi(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+zi(-i-1)+o,n&&(r=n-a)>0&&(o+=zi(r))):i>=a?(o+=zi(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+zi(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=zi(r))),t.s<0?"-"+o:o}function eI(t,e){if(t.length>e)return t.length=e,!0}function dM(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(ca+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return ZP(a,o.toString())}else if(typeof o!="string")throw Error(ca+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,wse.test(o))ZP(a,o);else throw Error(ca+o)}if(i.prototype=ae,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=dM,i.config=i.set=bse,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function bse(t){if(!t||typeof t!="object")throw Error(lr+"Object expected");var e,n,r,i=["precision",1,Pl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Il(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(ca+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ca+n+": "+r);return this}var Q1=dM(_se);Vn=new Q1(1);const He=Q1;function xse(t){return Ase(t)||Tse(t)||Sse(t)||Ese()}function Ese(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sse(t,e){if(t){if(typeof t=="string")return i_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i_(t,e)}}function Tse(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Ase(t){if(Array.isArray(t))return i_(t)}function i_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Pse=function(e){return e},pM={"@@functional/placeholder":!0},mM=function(e){return e===pM},tI=function(e){return function n(){return arguments.length===0||arguments.length===1&&mM(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Ise=function t(e,n){return e===1?n:tI(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==pM}).length;return a>=e?n.apply(void 0,i):t(e-a,tI(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(f){return mM(f)?l.shift():f});return n.apply(void 0,xse(c).concat(l))}))})},lg=function(e){return Ise(e.length,e)},o_=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Ose=lg(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Cse=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Pse;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},a_=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},gM=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function kse(t){var e;return t===0?e=1:e=Math.floor(new He(t).abs().log(10).toNumber())+1,e}function Rse(t,e,n){for(var r=new He(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var Nse=lg(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Dse=lg(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),jse=lg(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const ug={rangeStep:Rse,getDigitCount:kse,interpolateNumber:Nse,uninterpolateNumber:Dse,uninterpolateTruncation:jse};function s_(t){return Lse(t)||$se(t)||yM(t)||Mse()}function Mse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $se(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Lse(t){if(Array.isArray(t))return l_(t)}function Lc(t,e){return Use(t)||Fse(t,e)||yM(t,e)||Vse()}function Vse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yM(t,e){if(t){if(typeof t=="string")return l_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l_(t,e)}}function l_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fse(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function Use(t){if(Array.isArray(t))return t}function vM(t){var e=Lc(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function _M(t,e,n){if(t.lte(0))return new He(0);var r=ug.getDigitCount(t.toNumber()),i=new He(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new He(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return e?l:new He(Math.ceil(l))}function Bse(t,e,n){var r=1,i=new He(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new He(10).pow(ug.getDigitCount(t)-1),i=new He(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new He(Math.floor(t)))}else t===0?i=new He(Math.floor((e-1)/2)):n||(i=new He(Math.floor(t)));var a=Math.floor((e-1)/2),s=Cse(Ose(function(l){return i.add(new He(l-a).mul(r)).toNumber()}),o_);return s(0,e)}function wM(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new He(0),tickMin:new He(0),tickMax:new He(0)};var o=_M(new He(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new He(0):(a=new He(t).add(e).div(2),a=a.sub(new He(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new He(e).sub(a).div(o).toNumber()),u=s+l+1;return u>n?wM(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:o,tickMin:a.sub(new He(s).mul(o)),tickMax:a.add(new He(l).mul(o))})}function zse(t){var e=Lc(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=vM([n,r]),l=Lc(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var f=c===1/0?[u].concat(s_(o_(0,i-1).map(function(){return 1/0}))):[].concat(s_(o_(0,i-1).map(function(){return-1/0})),[c]);return n>r?a_(f):f}if(u===c)return Bse(u,i,o);var d=wM(u,c,a,o),p=d.step,g=d.tickMin,y=d.tickMax,v=ug.rangeStep(g,y.add(new He(.1).mul(p)),p);return n>r?a_(v):v}function Wse(t,e){var n=Lc(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=vM([r,i]),s=Lc(a,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),f=_M(new He(u).sub(l).div(c-1),o,0),d=[].concat(s_(ug.rangeStep(new He(l),new He(u).sub(new He(.99).mul(f)),f)),[u]);return r>i?a_(d):d}var qse=gM(zse),Hse=gM(Wse),Kse="Invariant failed";function Aa(t,e){throw new Error(Kse)}var Gse=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function xp(){return xp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xp.apply(this,arguments)}function Xse(t,e){return Zse(t)||Jse(t,e)||Qse(t,e)||Yse()}function Yse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qse(t,e){if(t){if(typeof t=="string")return nI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nI(t,e)}}function nI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jse(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Zse(t){if(Array.isArray(t))return t}function ele(t,e){if(t==null)return{};var n=tle(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tle(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function cg(t){var e=t.offset,n=t.layout,r=t.width,i=t.dataKey,o=t.data,a=t.dataPointFormatter,s=t.xAxis,l=t.yAxis,u=ele(t,Gse),c=ye(u,!1);t.direction==="x"&&s.type!=="number"&&Aa();var f=o.map(function(d){var p=a(d,i),g=p.x,y=p.y,v=p.value,b=p.errorVal;if(!b)return null;var m=[],_,x;if(Array.isArray(b)){var T=Xse(b,2);_=T[0],x=T[1]}else _=x=b;if(n==="vertical"){var O=s.scale,S=y+e,E=S+r,I=S-r,C=O(v-_),R=O(v+x);m.push({x1:R,y1:E,x2:R,y2:I}),m.push({x1:C,y1:S,x2:R,y2:S}),m.push({x1:C,y1:E,x2:C,y2:I})}else if(n==="horizontal"){var N=l.scale,k=g+e,V=k-r,K=k+r,B=N(v-_),z=N(v+x);m.push({x1:V,y1:z,x2:K,y2:z}),m.push({x1:k,y1:B,x2:k,y2:z}),m.push({x1:V,y1:B,x2:K,y2:B})}return M.createElement(Ue,xp({className:"recharts-errorBar",key:"bar-".concat(m.map(function($){return"".concat($.x1,"-").concat($.x2,"-").concat($.y1,"-").concat($.y2)}))},c),m.map(function($){return M.createElement("line",xp({},$,{key:"line-".concat($.x1,"-").concat($.x2,"-").concat($.y1,"-").concat($.y2)}))}))});return M.createElement(Ue,{className:"recharts-errorBars"},f)}cg.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"};cg.displayName="ErrorBar";function Vc(t){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vc(t)}function rI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rI(Object(n),!0).forEach(function(r){nle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nle(t,e,n){return e=rle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rle(t){var e=ile(t,"string");return Vc(e)=="symbol"?e:String(e)}function ile(t,e){if(Vc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Vc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bM=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=Ln(n,Ac);if(!a)return null;var s;return a.props&&a.props.payload?s=a.props&&a.props.payload:o==="children"?s=(r||[]).reduce(function(l,u){var c=u.item,f=u.props,d=f.sectors||f.data||[];return l.concat(d.map(function(p){return{type:a.props.iconType||c.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):s=(r||[]).map(function(l){var u=l.item,c=u.props,f=c.dataKey,d=c.name,p=c.legendType,g=c.hide;return{inactive:g,dataKey:f,type:a.props.iconType||p||"square",color:J1(u),value:d||f,payload:u.props}}),Wy(Wy(Wy({},a.props),Ac.getWithHeight(a,i)),{},{payload:s,item:a})};function Fc(t){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fc(t)}function iI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iI(Object(n),!0).forEach(function(r){Is(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Is(t,e,n){return e=ole(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ole(t){var e=ale(t,"string");return Fc(e)=="symbol"?e:String(e)}function ale(t,e){if(Fc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Fc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oI(t){return cle(t)||ule(t)||lle(t)||sle()}function sle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lle(t,e){if(t){if(typeof t=="string")return u_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u_(t,e)}}function ule(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cle(t){if(Array.isArray(t))return u_(t)}function u_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ln(t,e,n){return Te(t)||Te(e)?n:Ct(e)?zn(t,e,n):we(e)?e(t):n}function Bu(t,e,n,r){var i=mse(t,function(s){return ln(s,e)});if(n==="number"){var o=i.filter(function(s){return ee(s)||parseFloat(s)});return o.length?[ag(o),og(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!Te(s)}):i;return a.map(function(s){return Ct(s)||s instanceof Date?s:""})}var fle=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,f=i[u].coordinate,d=u>=s-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(vn(f-c)!==vn(d-f)){var g=[];if(vn(d-f)===vn(l[1]-l[0])){p=d;var y=f+l[1]-l[0];g[0]=Math.min(y,(y+c)/2),g[1]=Math.max(y,(y+c)/2)}else{p=c;var v=d+l[1]-l[0];g[0]=Math.min(f,(v+f)/2),g[1]=Math.max(f,(v+f)/2)}var b=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>b[0]&&e<=b[1]||e>=g[0]&&e<=g[1]){a=i[u].index;break}}else{var m=Math.min(c,d),_=Math.max(c,d);if(e>(m+f)/2&&e<=(_+f)/2){a=i[u].index;break}}}else for(var x=0;x<s;x++)if(x===0&&e<=(r[x].coordinate+r[x+1].coordinate)/2||x>0&&x<s-1&&e>(r[x].coordinate+r[x-1].coordinate)/2&&e<=(r[x].coordinate+r[x+1].coordinate)/2||x===s-1&&e>(r[x].coordinate+r[x-1].coordinate)/2){a=r[x].index;break}return a},J1=function(e){var n=e,r=n.type.displayName,i=e.props,o=i.stroke,a=i.fill,s;switch(r){case"Line":s=o;break;case"Area":case"Radar":s=o&&o!=="none"?o:a;break;default:s=a;break}return s},hle=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,u=s.length;l<u;l++)for(var c=o[s[l]].stackGroups,f=Object.keys(c),d=0,p=f.length;d<p;d++){var g=c[f[d]],y=g.items,v=g.cateAxisId,b=y.filter(function(T){return di(T.type).indexOf("Bar")>=0});if(b&&b.length){var m=b[0].props.barSize,_=b[0].props[v];a[_]||(a[_]=[]);var x=Te(m)?n:m;a[_].push({item:b[0],stackList:b.slice(1),barSize:Te(x)?void 0:_n(x,r,0)})}}return a},dle=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var u=_n(n,i,0,!0),c,f=[];if(a[0].barSize===+a[0].barSize){var d=!1,p=i/l,g=a.reduce(function(x,T){return x+T.barSize||0},0);g+=(l-1)*u,g>=i&&(g-=(l-1)*u,u=0),g>=i&&p>0&&(d=!0,p*=.9,g=l*p);var y=(i-g)/2>>0,v={offset:y-u,size:0};c=a.reduce(function(x,T){var O={item:T.item,position:{offset:v.offset+v.size+u,size:d?p:T.barSize}},S=[].concat(oI(x),[O]);return v=S[S.length-1].position,T.stackList&&T.stackList.length&&T.stackList.forEach(function(E){S.push({item:E,position:v})}),S},f)}else{var b=_n(r,i,0,!0);i-2*b-(l-1)*u<=0&&(u=0);var m=(i-2*b-(l-1)*u)/l;m>1&&(m>>=0);var _=s===+s?Math.min(m,s):m;c=a.reduce(function(x,T,O){var S=[].concat(oI(x),[{item:T.item,position:{offset:b+(m+u)*O+(m-_)/2,size:_}}]);return T.stackList&&T.stackList.length&&T.stackList.forEach(function(E){S.push({item:E,position:S[S.length-1].position})}),S},f)}return c},ple=function(e,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),u=bM({children:o,legendWidth:l});if(u){var c=i||{},f=c.width,d=c.height,p=u.align,g=u.verticalAlign,y=u.layout;if((y==="vertical"||y==="horizontal"&&g==="middle")&&p!=="center"&&ee(e[p]))return Zn(Zn({},e),{},Is({},p,e[p]+(f||0)));if((y==="horizontal"||y==="vertical"&&p==="center")&&g!=="middle"&&ee(e[g]))return Zn(Zn({},e),{},Is({},g,e[g]+(d||0)))}return e},mle=function(e,n,r){return Te(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},xM=function(e,n,r,i,o){var a=n.props.children,s=or(a,cg).filter(function(u){return mle(i,o,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var f=ln(c,r);if(Te(f))return u;var d=Array.isArray(f)?[ag(f),og(f)]:[f,f],p=l.reduce(function(g,y){var v=ln(c,y,0),b=d[0]-Math.abs(Array.isArray(v)?v[0]:v),m=d[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(b,g[0]),Math.max(m,g[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},gle=function(e,n,r,i,o){var a=n.map(function(s){return xM(e,s,r,o,i)}).filter(function(s){return!Te(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},EM=function(e,n,r,i,o){var a=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&xM(e,l,u,i)||Bu(e,u,r,o)});if(r==="number")return a.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,u){for(var c=0,f=u.length;c<f;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},SM=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},TM=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,a,s=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(a=!0),l.coordinate});return o||s.push(n),a||s.push(r),s},ui=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?vn(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(f){var d=o?o.indexOf(f):f;return{coordinate:i(d)+u,value:f,offset:u}});return c.filter(function(f){return!Cf(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,d){return{coordinate:i(f)+u,value:f,index:d,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,d){return{coordinate:i(f)+u,value:o?o[f]:f,index:d,offset:u}})},qy=new WeakMap,Dh=function(e,n){if(typeof n!="function")return e;qy.has(e)||qy.set(e,new WeakMap);var r=qy.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},AM=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:Rc(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:yp(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Uu(),realScaleType:"point"}:o==="category"?{scale:Rc(),realScaleType:"band"}:{scale:yp(),realScaleType:"linear"};if(Of(i)){var l="scale".concat(Wm(i));return{scale:(JP[l]||Uu)(),realScaleType:JP[l]?l:"point"}}return we(i)?{scale:i}:{scale:Uu(),realScaleType:"point"}},aI=1e-4,PM=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-aI,a=Math.max(i[0],i[1])+aI,s=e(n[0]),l=e(n[r-1]);(s<o||s>a||l<o||l>a)&&e.domain([n[0],n[r-1]])}},yle=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},vle=function(e,n){if(!n||n.length!==2||!ee(n[0])||!ee(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!ee(e[0])||e[0]<r)&&(o[0]=r),(!ee(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},_le=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=Cf(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1])}},wle=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=Cf(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},ble={sign:_le,expand:YG,none:zs,silhouette:QG,wiggle:JG,positive:wle},xle=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),o=ble[r],a=XG().keys(i).value(function(s,l){return+ln(s,l,0)}).order(D0).offset(o);return a(e)},Ele=function(e,n,r,i,o,a){if(!e)return null;var s=a?n.reverse():n,l={},u=s.reduce(function(f,d){var p=d.props,g=p.stackId,y=p.hide;if(y)return f;var v=d.props[r],b=f[v]||{hasStack:!1,stackGroups:{}};if(Ct(g)){var m=b.stackGroups[g]||{numericAxisId:r,cateAxisId:i,items:[]};m.items.push(d),b.hasStack=!0,b.stackGroups[g]=m}else b.stackGroups[kf("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[d]};return Zn(Zn({},f),{},Is({},v,b))},l),c={};return Object.keys(u).reduce(function(f,d){var p=u[d];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(y,v){var b=p.stackGroups[v];return Zn(Zn({},y),{},Is({},v,{numericAxisId:r,cateAxisId:i,items:b.items,stackedData:xle(e,b.items,o)}))},g)}return Zn(Zn({},f),{},Is({},d,p))},c)},IM=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=qse(u,o,s);return e.domain([ag(c),og(c)]),{niceTicks:c}}if(o&&i==="number"){var f=e.domain(),d=Hse(f,o,s);return{niceTicks:d}}return null},sI=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=ln(a,n.dataKey,n.domain[s]);return Te(l)?null:n.scale(l)-o/2+i},Sle=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},Tle=function(e,n){var r=e.props.stackId;if(Ct(r)){var i=n[r];if(i){var o=i.items.indexOf(e);return o>=0?i.stackedData[o]:null}}return null},Ale=function(e){return e.reduce(function(n,r){return[ag(r.concat([n[0]]).filter(ee)),og(r.concat([n[1]]).filter(ee))]},[1/0,-1/0])},OM=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(u,c){var f=Ale(c.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},lI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,uI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,c_=function(e,n,r){if(we(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ee(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(lI.test(e[0])){var o=+lI.exec(e[0])[1];i[0]=n[0]-o}else we(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ee(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(uI.test(e[1])){var a=+uI.exec(e[1])[1];i[1]=n[1]+a}else we(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Ep=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=A1(n,function(f){return f.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var u=o[s],c=o[s-1];a=Math.min((u.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},cI=function(e,n,r){return!e||!e.length||sg(e,zn(r,"type.defaultProps.domain"))?n:e},CM=function(e,n){var r=e.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return Zn(Zn({},ye(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:J1(e),value:ln(n,i),type:l,payload:n,chartType:u,hide:c})};function Uc(t){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uc(t)}function fI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ei(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fI(Object(n),!0).forEach(function(r){kM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kM(t,e,n){return e=Ple(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ple(t){var e=Ile(t,"string");return Uc(e)=="symbol"?e:String(e)}function Ile(t,e){if(Uc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Uc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ole(t,e){return Nle(t)||Rle(t,e)||kle(t,e)||Cle()}function Cle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kle(t,e){if(t){if(typeof t=="string")return hI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hI(t,e)}}function hI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rle(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Nle(t){if(Array.isArray(t))return t}var Sp=Math.PI/180,Dle=function(e){return e*180/Math.PI},Ze=function(e,n,r,i){return{x:e+Math.cos(-Sp*i)*r,y:n+Math.sin(-Sp*i)*r}},RM=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},jle=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.startAngle,u=e.endAngle,c=_n(e.cx,a,a/2),f=_n(e.cy,s,s/2),d=RM(a,s,r),p=_n(e.innerRadius,d,0),g=_n(e.outerRadius,d,d*.8),y=Object.keys(n);return y.reduce(function(v,b){var m=n[b],_=m.domain,x=m.reversed,T;if(Te(m.range))i==="angleAxis"?T=[l,u]:i==="radiusAxis"&&(T=[p,g]),x&&(T=[T[1],T[0]]);else{T=m.range;var O=T,S=Ole(O,2);l=S[0],u=S[1]}var E=AM(m,o),I=E.realScaleType,C=E.scale;C.domain(_).range(T),PM(C);var R=IM(C,ei(ei({},m),{},{realScaleType:I})),N=ei(ei(ei({},m),R),{},{range:T,radius:g,realScaleType:I,scale:C,cx:c,cy:f,innerRadius:p,outerRadius:g,startAngle:l,endAngle:u});return ei(ei({},v),{},kM({},b,N))},{})},Mle=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},$le=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,s=Mle({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,u=Math.acos(l);return i>a&&(u=2*Math.PI-u),{radius:s,angle:Dle(u),angleInRadian:u}},Lle=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},Vle=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},dI=function(e,n){var r=e.x,i=e.y,o=$le({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,u=n.outerRadius;if(a<l||a>u)return!1;if(a===0)return!0;var c=Lle(n),f=c.startAngle,d=c.endAngle,p=s,g;if(f<=d){for(;p>d;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=d}else{for(;p>f;)p-=360;for(;p<d;)p+=360;g=p>=d&&p<=f}return g?ei(ei({},n),{},{radius:a,angle:Vle(p,n)}):null},NM=function(e){return!j.isValidElement(e)&&!we(e)&&typeof e!="boolean"?e.className:""};function Bc(t){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bc(t)}var Fle=["offset"];function Ule(t){return qle(t)||Wle(t)||zle(t)||Ble()}function Ble(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zle(t,e){if(t){if(typeof t=="string")return f_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f_(t,e)}}function Wle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qle(t){if(Array.isArray(t))return f_(t)}function f_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Hle(t,e){if(t==null)return{};var n=Kle(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Kle(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function pI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pI(Object(n),!0).forEach(function(r){Gle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gle(t,e,n){return e=Xle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xle(t){var e=Yle(t,"string");return Bc(e)=="symbol"?e:String(e)}function Yle(t,e){if(Bc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Bc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zc(){return zc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zc.apply(this,arguments)}var Qle=function(e){var n=e.value,r=e.formatter,i=Te(e.children)?n:e.children;return we(r)?r(i):i},Jle=function(e,n){var r=vn(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Zle=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,u=l.cx,c=l.cy,f=l.innerRadius,d=l.outerRadius,p=l.startAngle,g=l.endAngle,y=l.clockWise,v=(f+d)/2,b=Jle(p,g),m=b>=0?1:-1,_,x;i==="insideStart"?(_=p+m*a,x=y):i==="insideEnd"?(_=g-m*a,x=!y):i==="end"&&(_=g+m*a,x=y),x=b<=0?x:!x;var T=Ze(u,c,v,_),O=Ze(u,c,v,_+(x?1:-1)*359),S="M".concat(T.x,",").concat(T.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(x?0:1,`,
    `).concat(O.x,",").concat(O.y),E=Te(e.id)?kf("recharts-radial-line-"):e.id;return M.createElement("text",zc({},r,{dominantBaseline:"central",className:Se("recharts-radial-bar-label",s)}),M.createElement("defs",null,M.createElement("path",{id:E,d:S})),M.createElement("textPath",{xlinkHref:"#".concat(E)},n))},eue=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,u=o.outerRadius,c=o.startAngle,f=o.endAngle,d=(c+f)/2;if(i==="outside"){var p=Ze(a,s,u+r,d),g=p.x,y=p.y;return{x:g,y,textAnchor:g>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var v=(l+u)/2,b=Ze(a,s,v,d),m=b.x,_=b.y;return{x:m,y:_,textAnchor:"middle",verticalAnchor:"middle"}},tue=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,s=a.x,l=a.y,u=a.width,c=a.height,f=c>=0?1:-1,d=f*i,p=f>0?"end":"start",g=f>0?"start":"end",y=u>=0?1:-1,v=y*i,b=y>0?"end":"start",m=y>0?"start":"end";if(o==="top"){var _={x:s+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return Pt(Pt({},_),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var x={x:s+u/2,y:l+c+d,textAnchor:"middle",verticalAnchor:g};return Pt(Pt({},x),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(o==="left"){var T={x:s-v,y:l+c/2,textAnchor:b,verticalAnchor:"middle"};return Pt(Pt({},T),r?{width:Math.max(T.x-r.x,0),height:c}:{})}if(o==="right"){var O={x:s+u+v,y:l+c/2,textAnchor:m,verticalAnchor:"middle"};return Pt(Pt({},O),r?{width:Math.max(r.x+r.width-O.x,0),height:c}:{})}var S=r?{width:u,height:c}:{};return o==="insideLeft"?Pt({x:s+v,y:l+c/2,textAnchor:m,verticalAnchor:"middle"},S):o==="insideRight"?Pt({x:s+u-v,y:l+c/2,textAnchor:b,verticalAnchor:"middle"},S):o==="insideTop"?Pt({x:s+u/2,y:l+d,textAnchor:"middle",verticalAnchor:g},S):o==="insideBottom"?Pt({x:s+u/2,y:l+c-d,textAnchor:"middle",verticalAnchor:p},S):o==="insideTopLeft"?Pt({x:s+v,y:l+d,textAnchor:m,verticalAnchor:g},S):o==="insideTopRight"?Pt({x:s+u-v,y:l+d,textAnchor:b,verticalAnchor:g},S):o==="insideBottomLeft"?Pt({x:s+v,y:l+c-d,textAnchor:m,verticalAnchor:p},S):o==="insideBottomRight"?Pt({x:s+u-v,y:l+c-d,textAnchor:b,verticalAnchor:p},S):_l(o)&&(ee(o.x)||ta(o.x))&&(ee(o.y)||ta(o.y))?Pt({x:s+_n(o.x,u),y:l+_n(o.y,c),textAnchor:"end",verticalAnchor:"end"},S):Pt({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},S)},nue=function(e){return"cx"in e&&ee(e.cx)};function Mt(t){var e=t.offset,n=e===void 0?5:e,r=Hle(t,Fle),i=Pt({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,u=i.content,c=i.className,f=c===void 0?"":c,d=i.textBreakAll;if(!o||Te(s)&&Te(l)&&!j.isValidElement(u)&&!we(u))return null;if(j.isValidElement(u))return j.cloneElement(u,i);var p;if(we(u)){if(p=j.createElement(u,i),j.isValidElement(p))return p}else p=Qle(i);var g=nue(o),y=ye(i,!0);if(g&&(a==="insideStart"||a==="insideEnd"||a==="end"))return Zle(i,p,y);var v=g?eue(i):tue(i);return M.createElement(Sa,zc({className:Se("recharts-label",f)},y,v,{breakAll:d}),p)}Mt.displayName="Label";var DM=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,f=e.x,d=e.y,p=e.top,g=e.left,y=e.width,v=e.height,b=e.clockWise,m=e.labelViewBox;if(m)return m;if(ee(y)&&ee(v)){if(ee(f)&&ee(d))return{x:f,y:d,width:y,height:v};if(ee(p)&&ee(g))return{x:p,y:g,width:y,height:v}}return ee(f)&&ee(d)?{x:f,y:d,width:0,height:0}:ee(n)&&ee(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:b}:e.viewBox?e.viewBox:{}},rue=function(e,n){return e?e===!0?M.createElement(Mt,{key:"label-implicit",viewBox:n}):Ct(e)?M.createElement(Mt,{key:"label-implicit",viewBox:n,value:e}):j.isValidElement(e)?e.type===Mt?j.cloneElement(e,{key:"label-implicit",viewBox:n}):M.createElement(Mt,{key:"label-implicit",content:e,viewBox:n}):we(e)?M.createElement(Mt,{key:"label-implicit",content:e,viewBox:n}):_l(e)?M.createElement(Mt,zc({viewBox:n},e,{key:"label-implicit"})):null:null},iue=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=DM(e),a=or(i,Mt).map(function(l,u){return j.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return a;var s=rue(e.label,n||o);return[s].concat(Ule(a))};Mt.parseViewBox=DM;Mt.renderCallByParent=iue;function oue(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var aue=oue;const sue=ze(aue);function Wc(t){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wc(t)}var lue=["valueAccessor"],uue=["data","dataKey","clockWise","id","textBreakAll"];function cue(t){return pue(t)||due(t)||hue(t)||fue()}function fue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hue(t,e){if(t){if(typeof t=="string")return h_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h_(t,e)}}function due(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pue(t){if(Array.isArray(t))return h_(t)}function h_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Tp(){return Tp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tp.apply(this,arguments)}function mI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mI(Object(n),!0).forEach(function(r){mue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mue(t,e,n){return e=gue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gue(t){var e=yue(t,"string");return Wc(e)=="symbol"?e:String(e)}function yue(t,e){if(Wc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Wc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yI(t,e){if(t==null)return{};var n=vue(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vue(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var _ue=function(e){return Array.isArray(e.value)?sue(e.value):e.value};function yo(t){var e=t.valueAccessor,n=e===void 0?_ue:e,r=yI(t,lue),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,u=yI(r,uue);return!i||!i.length?null:M.createElement(Ue,{className:"recharts-label-list"},i.map(function(c,f){var d=Te(o)?n(c,f):ln(c&&c.payload,o),p=Te(s)?{}:{id:"".concat(s,"-").concat(f)};return M.createElement(Mt,Tp({},ye(c,!0),u,p,{parentViewBox:c.parentViewBox,value:d,textBreakAll:l,viewBox:Mt.parseViewBox(Te(a)?c:gI(gI({},c),{},{clockWise:a})),key:"label-".concat(f),index:f}))}))}yo.displayName="LabelList";function wue(t,e){return t?t===!0?M.createElement(yo,{key:"labelList-implicit",data:e}):M.isValidElement(t)||we(t)?M.createElement(yo,{key:"labelList-implicit",data:e,content:t}):_l(t)?M.createElement(yo,Tp({data:e},t,{key:"labelList-implicit"})):null:null}function bue(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=or(r,yo).map(function(a,s){return j.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var o=wue(t.label,e);return[o].concat(cue(i))}yo.renderCallByParent=bue;function qc(t){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qc(t)}function d_(){return d_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d_.apply(this,arguments)}function vI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _I(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vI(Object(n),!0).forEach(function(r){xue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xue(t,e,n){return e=Eue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eue(t){var e=Sue(t,"string");return qc(e)=="symbol"?e:String(e)}function Sue(t,e){if(qc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(qc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tue=function(e,n){var r=vn(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},jh=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(s?1:-1)+i,f=Math.asin(l/c)/Sp,d=u?o:o+a*f,p=Ze(n,r,c,d),g=Ze(n,r,i,d),y=u?o-a*f:o,v=Ze(n,r,c*Math.cos(f*Sp),y);return{center:p,circleTangency:g,lineTangency:v,theta:f}},jM=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=Tue(a,s),u=a+l,c=Ze(n,r,o,a),f=Ze(n,r,o,u),d="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=Ze(n,r,i,a),g=Ze(n,r,i,u);d+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else d+="L ".concat(n,",").concat(r," Z");return d},Aue=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,f=vn(c-u),d=jh({cx:n,cy:r,radius:o,angle:u,sign:f,cornerRadius:a,cornerIsExternal:l}),p=d.circleTangency,g=d.lineTangency,y=d.theta,v=jh({cx:n,cy:r,radius:o,angle:c,sign:-f,cornerRadius:a,cornerIsExternal:l}),b=v.circleTangency,m=v.lineTangency,_=v.theta,x=l?Math.abs(u-c):Math.abs(u-c)-y-_;if(x<0)return s?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):jM({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c});var T="M ".concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(x>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
  `);if(i>0){var O=jh({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),S=O.circleTangency,E=O.lineTangency,I=O.theta,C=jh({cx:n,cy:r,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),R=C.circleTangency,N=C.lineTangency,k=C.theta,V=l?Math.abs(u-c):Math.abs(u-c)-I-k;if(V<0&&a===0)return"".concat(T,"L").concat(n,",").concat(r,"Z");T+="L".concat(N.x,",").concat(N.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(V>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,"Z")}else T+="L".concat(n,",").concat(r,"Z");return T},Pue={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},MM=function(e){var n=_I(_I({},Pue),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,f=n.endAngle,d=n.className;if(a<o||c===f)return null;var p=Se("recharts-sector",d),g=a-o,y=_n(s,g,0,!0),v;return y>0&&Math.abs(c-f)<360?v=Aue({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(y,g/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):v=jM({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:c,endAngle:f}),M.createElement("path",d_({},ye(n,!0),{className:p,d:v,role:"img"}))};function Hc(t){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hc(t)}function p_(){return p_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p_.apply(this,arguments)}function wI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wI(Object(n),!0).forEach(function(r){Iue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Iue(t,e,n){return e=Oue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oue(t){var e=Cue(t,"string");return Hc(e)=="symbol"?e:String(e)}function Cue(t,e){if(Hc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Hc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xI={curveBasisClosed:LG,curveBasisOpen:VG,curveBasis:$G,curveBumpX:EG,curveBumpY:SG,curveLinearClosed:FG,curveLinear:Hm,curveMonotoneX:UG,curveMonotoneY:BG,curveNatural:zG,curveStep:WG,curveStepAfter:HG,curveStepBefore:qG},Mh=function(e){return e.x===+e.x&&e.y===+e.y},uu=function(e){return e.x},cu=function(e){return e.y},kue=function(e,n){if(we(e))return e;var r="curve".concat(Wm(e));return(r==="curveMonotone"||r==="curveBump")&&n?xI["".concat(r).concat(n==="vertical"?"Y":"X")]:xI[r]||Hm},Rue=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=kue(r,s),f=u?o.filter(function(y){return Mh(y)}):o,d;if(Array.isArray(a)){var p=u?a.filter(function(y){return Mh(y)}):a,g=f.map(function(y,v){return bI(bI({},y),{},{base:p[v]})});return s==="vertical"?d=Ah().y(cu).x1(uu).x0(function(y){return y.base.x}):d=Ah().x(uu).y1(cu).y0(function(y){return y.base.y}),d.defined(Mh).curve(c),d(g)}return s==="vertical"&&ee(a)?d=Ah().y(cu).x1(uu).x0(a):ee(a)?d=Ah().x(uu).y1(cu).y0(a):d=k2().x(uu).y(cu),d.defined(Mh).curve(c),d(f)},m_=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?Rue(e):i;return M.createElement("path",p_({},ye(e,!1),Qd(e),{className:Se("recharts-curve",n),d:a,ref:o}))},Nue=Object.getOwnPropertyNames,Due=Object.getOwnPropertySymbols,jue=Object.prototype.hasOwnProperty;function EI(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function $h(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);var l=t(n,r,i);return o.delete(n),o.delete(r),l}}function SI(t){return Nue(t).concat(Due(t))}var $M=Object.hasOwn||function(t,e){return jue.call(t,e)};function Ol(t,e){return t||e?t===e:t===e||t!==t&&e!==e}var LM="_owner",TI=Object.getOwnPropertyDescriptor,AI=Object.keys;function Mue(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function $ue(t,e){return Ol(t.getTime(),e.getTime())}function PI(t,e,n){if(t.size!==e.size)return!1;for(var r={},i=t.entries(),o=0,a,s;(a=i.next())&&!a.done;){for(var l=e.entries(),u=!1,c=0;(s=l.next())&&!s.done;){var f=a.value,d=f[0],p=f[1],g=s.value,y=g[0],v=g[1];!u&&!r[c]&&(u=n.equals(d,y,o,c,t,e,n)&&n.equals(p,v,d,y,t,e,n))&&(r[c]=!0),c++}if(!u)return!1;o++}return!0}function Lue(t,e,n){var r=AI(t),i=r.length;if(AI(e).length!==i)return!1;for(var o;i-- >0;)if(o=r[i],o===LM&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!$M(e,o)||!n.equals(t[o],e[o],o,o,t,e,n))return!1;return!0}function fu(t,e,n){var r=SI(t),i=r.length;if(SI(e).length!==i)return!1;for(var o,a,s;i-- >0;)if(o=r[i],o===LM&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!$M(e,o)||!n.equals(t[o],e[o],o,o,t,e,n)||(a=TI(t,o),s=TI(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function Vue(t,e){return Ol(t.valueOf(),e.valueOf())}function Fue(t,e){return t.source===e.source&&t.flags===e.flags}function II(t,e,n){if(t.size!==e.size)return!1;for(var r={},i=t.values(),o,a;(o=i.next())&&!o.done;){for(var s=e.values(),l=!1,u=0;(a=s.next())&&!a.done;)!l&&!r[u]&&(l=n.equals(o.value,a.value,o.value,a.value,t,e,n))&&(r[u]=!0),u++;if(!l)return!1}return!0}function Uue(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}var Bue="[object Arguments]",zue="[object Boolean]",Wue="[object Date]",que="[object Map]",Hue="[object Number]",Kue="[object Object]",Gue="[object RegExp]",Xue="[object Set]",Yue="[object String]",Que=Array.isArray,OI=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,CI=Object.assign,Jue=Object.prototype.toString.call.bind(Object.prototype.toString);function Zue(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areMapsEqual,i=t.areObjectsEqual,o=t.arePrimitiveWrappersEqual,a=t.areRegExpsEqual,s=t.areSetsEqual,l=t.areTypedArraysEqual;return function(c,f,d){if(c===f)return!0;if(c==null||f==null||typeof c!="object"||typeof f!="object")return c!==c&&f!==f;var p=c.constructor;if(p!==f.constructor)return!1;if(p===Object)return i(c,f,d);if(Que(c))return e(c,f,d);if(OI!=null&&OI(c))return l(c,f,d);if(p===Date)return n(c,f,d);if(p===RegExp)return a(c,f,d);if(p===Map)return r(c,f,d);if(p===Set)return s(c,f,d);var g=Jue(c);return g===Wue?n(c,f,d):g===Gue?a(c,f,d):g===que?r(c,f,d):g===Xue?s(c,f,d):g===Kue?typeof c.then!="function"&&typeof f.then!="function"&&i(c,f,d):g===Bue?i(c,f,d):g===zue||g===Hue||g===Yue?o(c,f,d):!1}}function ece(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?fu:Mue,areDatesEqual:$ue,areMapsEqual:r?EI(PI,fu):PI,areObjectsEqual:r?fu:Lue,arePrimitiveWrappersEqual:Vue,areRegExpsEqual:Fue,areSetsEqual:r?EI(II,fu):II,areTypedArraysEqual:r?fu:Uue};if(n&&(i=CI({},i,n(i))),e){var o=$h(i.areArraysEqual),a=$h(i.areMapsEqual),s=$h(i.areObjectsEqual),l=$h(i.areSetsEqual);i=CI({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return i}function tce(t){return function(e,n,r,i,o,a,s){return t(e,n,s)}}function nce(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(l,u){var c=r(),f=c.cache,d=f===void 0?e?new WeakMap:void 0:f,p=c.meta;return n(l,u,{cache:d,equals:i,meta:p,strict:o})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,u){return n(l,u,a)}}var rce=Mo();Mo({strict:!0});Mo({circular:!0});Mo({circular:!0,strict:!0});Mo({createInternalComparator:function(){return Ol}});Mo({strict:!0,createInternalComparator:function(){return Ol}});Mo({circular:!0,createInternalComparator:function(){return Ol}});Mo({circular:!0,createInternalComparator:function(){return Ol},strict:!0});function Mo(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,a=o===void 0?!1:o,s=ece(t),l=Zue(s),u=r?r(l):tce(l);return nce({circular:n,comparator:l,createState:i,equals:u,strict:a})}function ice(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function kI(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):ice(i)};requestAnimationFrame(r)}function g_(t){"@babel/helpers - typeof";return g_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g_(t)}function oce(t){return uce(t)||lce(t)||sce(t)||ace()}function ace(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sce(t,e){if(t){if(typeof t=="string")return RI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RI(t,e)}}function RI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uce(t){if(Array.isArray(t))return t}function cce(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=oce(a),l=s[0],u=s.slice(1);if(typeof l=="number"){kI(i.bind(null,u),l);return}i(l),kI(i.bind(null,u));return}g_(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Kc(t){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kc(t)}function NI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NI(Object(n),!0).forEach(function(r){VM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VM(t,e,n){return e=fce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fce(t){var e=hce(t,"string");return Kc(e)==="symbol"?e:String(e)}function hce(t,e){if(Kc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Kc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dce=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},pce=function(e){return e},mce=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},zu=function(e,n){return Object.keys(n).reduce(function(r,i){return DI(DI({},r),{},VM({},i,e(i,n[i])))},{})},jI=function(e,n,r){return e.map(function(i){return"".concat(mce(i)," ").concat(n,"ms ").concat(r)}).join(",")};function gce(t,e){return _ce(t)||vce(t,e)||FM(t,e)||yce()}function yce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function _ce(t){if(Array.isArray(t))return t}function wce(t){return Ece(t)||xce(t)||FM(t)||bce()}function bce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FM(t,e){if(t){if(typeof t=="string")return y_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y_(t,e)}}function xce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ece(t){if(Array.isArray(t))return y_(t)}function y_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ap=1e-4,UM=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},BM=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},MI=function(e,n){return function(r){var i=UM(e,n);return BM(i,r)}},Sce=function(e,n){return function(r){var i=UM(e,n),o=[].concat(wce(i.map(function(a,s){return a*s}).slice(1)),[0]);return BM(o,r)}},$I=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),c=gce(u,4);i=c[0],o=c[1],a=c[2],s=c[3]}}}var f=MI(i,a),d=MI(o,s),p=Sce(i,a),g=function(b){return b>1?1:b<0?0:b},y=function(b){for(var m=b>1?1:b,_=m,x=0;x<8;++x){var T=f(_)-m,O=p(_);if(Math.abs(T-m)<Ap||O<Ap)return d(_);_=g(_-T/O)}return d(_)};return y.isStepper=!1,y},Tce=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(c,f,d){var p=-(c-f)*r,g=d*o,y=d+(p-g)*s/1e3,v=d*s/1e3+c;return Math.abs(v-f)<Ap&&Math.abs(y)<Ap?[f,0]:[v,y]};return l.isStepper=!0,l.dt=s,l},Ace=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return $I(i);case"spring":return Tce();default:if(i.split("(")[0]==="cubic-bezier")return $I(i)}return typeof i=="function"?i:null};function Gc(t){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gc(t)}function LI(t){return Oce(t)||Ice(t)||zM(t)||Pce()}function Pce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ice(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Oce(t){if(Array.isArray(t))return __(t)}function VI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ut(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VI(Object(n),!0).forEach(function(r){v_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function v_(t,e,n){return e=Cce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cce(t){var e=kce(t,"string");return Gc(e)==="symbol"?e:String(e)}function kce(t,e){if(Gc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Gc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rce(t,e){return jce(t)||Dce(t,e)||zM(t,e)||Nce()}function Nce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zM(t,e){if(t){if(typeof t=="string")return __(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return __(t,e)}}function __(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Dce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function jce(t){if(Array.isArray(t))return t}var Pp=function(e,n,r){return e+(n-e)*r},w_=function(e){var n=e.from,r=e.to;return n!==r},Mce=function t(e,n,r){var i=zu(function(o,a){if(w_(a)){var s=e(a.from,a.to,a.velocity),l=Rce(s,2),u=l[0],c=l[1];return Ut(Ut({},a),{},{from:u,velocity:c})}return a},n);return r<1?zu(function(o,a){return w_(a)?Ut(Ut({},a),{},{velocity:Pp(a.velocity,i[o].velocity,r),from:Pp(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const $ce=function(t,e,n,r,i){var o=dce(t,e),a=o.reduce(function(v,b){return Ut(Ut({},v),{},v_({},b,[t[b],e[b]]))},{}),s=o.reduce(function(v,b){return Ut(Ut({},v),{},v_({},b,{from:t[b],velocity:0,to:e[b]}))},{}),l=-1,u,c,f=function(){return null},d=function(){return zu(function(b,m){return m.from},s)},p=function(){return!Object.values(s).filter(w_).length},g=function(b){u||(u=b);var m=b-u,_=m/n.dt;s=Mce(n,s,_),i(Ut(Ut(Ut({},t),e),d())),u=b,p()||(l=requestAnimationFrame(f))},y=function(b){c||(c=b);var m=(b-c)/r,_=zu(function(T,O){return Pp.apply(void 0,LI(O).concat([n(m)]))},a);if(i(Ut(Ut(Ut({},t),e),_)),m<1)l=requestAnimationFrame(f);else{var x=zu(function(T,O){return Pp.apply(void 0,LI(O).concat([n(1)]))},a);i(Ut(Ut(Ut({},t),e),x))}};return f=n.isStepper?g:y,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Qs(t){"@babel/helpers - typeof";return Qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qs(t)}var Lce=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Vce(t,e){if(t==null)return{};var n=Fce(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Fce(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Hy(t){return Wce(t)||zce(t)||Bce(t)||Uce()}function Uce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bce(t,e){if(t){if(typeof t=="string")return b_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b_(t,e)}}function zce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Wce(t){if(Array.isArray(t))return b_(t)}function b_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function FI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FI(Object(n),!0).forEach(function(r){Eu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eu(t,e,n){return e=WM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,WM(r.key),r)}}function Kce(t,e,n){return e&&Hce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function WM(t){var e=Gce(t,"string");return Qs(e)==="symbol"?e:String(e)}function Gce(t,e){if(Qs(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Qs(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x_(t,e)}function x_(t,e){return x_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},x_(t,e)}function Yce(t){var e=Qce();return function(){var r=Ip(t),i;if(e){var o=Ip(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return E_(this,i)}}function E_(t,e){if(e&&(Qs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S_(t)}function S_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qce(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ip(t){return Ip=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ip(t)}var Pi=function(t){Xce(n,t);var e=Yce(n);function n(r,i){var o;qce(this,n),o=e.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,u=a.from,c=a.to,f=a.steps,d=a.children,p=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(S_(o)),o.changeStyle=o.changeStyle.bind(S_(o)),!s||p<=0)return o.state={style:{}},typeof d=="function"&&(o.state={style:c}),E_(o);if(f&&f.length)o.state={style:f[0].style};else if(u){if(typeof d=="function")return o.state={style:u},E_(o);o.state={style:l?Eu({},l,u):u}}else o.state={style:{}};return o}return Kce(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,c=o.to,f=o.from,d=this.state.style;if(s){if(!a){var p={style:l?Eu({},l,c):c};this.state&&d&&(l&&d[l]!==c||!l&&d!==c)&&this.setState(p);return}if(!(rce(i.to,c)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=g||u?f:i.to;if(this.state&&d){var v={style:l?Eu({},l,y):y};(l&&d[l]!==y||!l&&d!==y)&&this.setState(v)}this.runAnimation(dr(dr({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,f=i.onAnimationEnd,d=i.onAnimationStart,p=$ce(a,s,Ace(u),l,this.changeStyle),g=function(){o.stopJSAnimation=p()};this.manager.start([d,c,g,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,u=a[0],c=u.style,f=u.duration,d=f===void 0?0:f,p=function(y,v,b){if(b===0)return y;var m=v.duration,_=v.easing,x=_===void 0?"ease":_,T=v.style,O=v.properties,S=v.onAnimationEnd,E=b>0?a[b-1]:v,I=O||Object.keys(T);if(typeof x=="function"||x==="spring")return[].concat(Hy(y),[o.runJSAnimation.bind(o,{from:E.style,to:T,duration:m,easing:x}),m]);var C=jI(I,m,x),R=dr(dr(dr({},E.style),T),{},{transition:C});return[].concat(Hy(y),[R,m,S]).filter(pce)};return this.manager.start([l].concat(Hy(a.reduce(p,[c,Math.max(d,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=cce());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,d=i.steps,p=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(d.length>1){this.runStepAnimation(i);return}var y=s?Eu({},s,l):l,v=jI(Object.keys(y),a,u);g.start([c,o,dr(dr({},y),{},{transition:v}),a,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Vce(i,Lce),u=j.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!s||u===0||a<=0)return o;var f=function(p){var g=p.props,y=g.style,v=y===void 0?{}:y,b=g.className,m=j.cloneElement(p,dr(dr({},l),{},{style:dr(dr({},v),c),className:b}));return m};return u===1?f(j.Children.only(o)):M.createElement("div",null,j.Children.map(o,function(d){return f(d)}))}}]),n}(j.PureComponent);Pi.displayName="Animate";Pi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Pi.propTypes={from:X.oneOfType([X.object,X.string]),to:X.oneOfType([X.object,X.string]),attributeName:X.string,duration:X.number,begin:X.number,easing:X.oneOfType([X.string,X.func]),steps:X.arrayOf(X.shape({duration:X.number.isRequired,style:X.object.isRequired,easing:X.oneOfType([X.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),X.func]),properties:X.arrayOf("string"),onAnimationEnd:X.func})),children:X.oneOfType([X.node,X.func]),isActive:X.bool,canBegin:X.bool,onAnimationEnd:X.func,shouldReAnimate:X.bool,onAnimationStart:X.func,onAnimationReStart:X.func};X.object,X.object,X.object,X.element;X.object,X.object,X.object,X.oneOfType([X.array,X.element]),X.any;function Xc(t){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xc(t)}function Op(){return Op=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Op.apply(this,arguments)}function Jce(t,e){return nfe(t)||tfe(t,e)||efe(t,e)||Zce()}function Zce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function efe(t,e){if(t){if(typeof t=="string")return UI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UI(t,e)}}function UI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function nfe(t){if(Array.isArray(t))return t}function BI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BI(Object(n),!0).forEach(function(r){rfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rfe(t,e,n){return e=ife(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ife(t){var e=ofe(t,"string");return Xc(e)=="symbol"?e:String(e)}function ofe(t,e){if(Xc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WI=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(a>0&&o instanceof Array){for(var f=[0,0,0,0],d=0,p=4;d<p;d++)f[d]=o[d]>a?a:o[d];c="M".concat(e,",").concat(n+s*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),c+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*f[1])),c+="L ".concat(e+r,",").concat(n+i-s*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),c+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*f[3])),c+="Z"}else if(a>0&&o===+o&&o>0){var g=Math.min(a,o);c="M ".concat(e,",").concat(n+s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+l*g,",").concat(n,`
            L `).concat(e+r-l*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*g,`
            L `).concat(e+r,",").concat(n+i-s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r-l*g,",").concat(n+i,`
            L `).concat(e+l*g,",").concat(n+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*g," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},afe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(o,o+s),c=Math.max(o,o+s),f=Math.min(a,a+l),d=Math.max(a,a+l);return r>=u&&r<=c&&i>=f&&i<=d}return!1},sfe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Z1=function(e){var n=zI(zI({},sfe),e),r=j.useRef(),i=j.useState(-1),o=Jce(i,2),a=o[0],s=o[1];j.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var x=r.current.getTotalLength();x&&s(x)}catch{}},[]);var l=n.x,u=n.y,c=n.width,f=n.height,d=n.radius,p=n.className,g=n.animationEasing,y=n.animationDuration,v=n.animationBegin,b=n.isAnimationActive,m=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||c===0||f===0)return null;var _=Se("recharts-rectangle",p);return m?M.createElement(Pi,{canBegin:a>0,from:{width:c,height:f,x:l,y:u},to:{width:c,height:f,x:l,y:u},duration:y,animationEasing:g,isActive:m},function(x){var T=x.width,O=x.height,S=x.x,E=x.y;return M.createElement(Pi,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:y,isActive:b,easing:g},M.createElement("path",Op({},ye(n,!0),{className:_,d:WI(S,E,T,O,d),ref:r})))}):M.createElement("path",Op({},ye(n,!0),{className:_,d:WI(l,u,c,f,d)}))},lfe=["points","className","baseLinePoints","connectNulls"];function ds(){return ds=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ds.apply(this,arguments)}function ufe(t,e){if(t==null)return{};var n=cfe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cfe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function qI(t){return pfe(t)||dfe(t)||hfe(t)||ffe()}function ffe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hfe(t,e){if(t){if(typeof t=="string")return T_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T_(t,e)}}function dfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pfe(t){if(Array.isArray(t))return T_(t)}function T_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var HI=function(e){return e&&e.x===+e.x&&e.y===+e.y},mfe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){HI(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),HI(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Wu=function(e,n){var r=mfe(e);n&&(r=[r.reduce(function(o,a){return[].concat(qI(o),qI(a))},[])]);var i=r.map(function(o){return o.reduce(function(a,s,l){return"".concat(a).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},gfe=function(e,n,r){var i=Wu(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Wu(n.reverse(),r).slice(1))},yfe=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,o=e.connectNulls,a=ufe(e,lfe);if(!n||!n.length)return null;var s=Se("recharts-polygon",r);if(i&&i.length){var l=a.stroke&&a.stroke!=="none",u=gfe(n,i,o);return M.createElement("g",{className:s},M.createElement("path",ds({},ye(a,!0),{fill:u.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:u})),l?M.createElement("path",ds({},ye(a,!0),{fill:"none",d:Wu(n,o)})):null,l?M.createElement("path",ds({},ye(a,!0),{fill:"none",d:Wu(i,o)})):null)}var c=Wu(n,o);return M.createElement("path",ds({},ye(a,!0),{fill:c.slice(-1)==="Z"?a.fill:"none",className:s,d:c}))};function A_(){return A_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},A_.apply(this,arguments)}var ex=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=Se("recharts-dot",o);return n===+n&&r===+r&&i===+i?M.createElement("circle",A_({},ye(e,!1),Qd(e),{className:a,cx:n,cy:r,r:i})):null};function Yc(t){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yc(t)}var vfe=["x","y","top","left","width","height","className"];function P_(){return P_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},P_.apply(this,arguments)}function KI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _fe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KI(Object(n),!0).forEach(function(r){wfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wfe(t,e,n){return e=bfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bfe(t){var e=xfe(t,"string");return Yc(e)=="symbol"?e:String(e)}function xfe(t,e){if(Yc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Yc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Efe(t,e){if(t==null)return{};var n=Sfe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Sfe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Tfe=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},Afe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,u=l===void 0?0:l,c=e.width,f=c===void 0?0:c,d=e.height,p=d===void 0?0:d,g=e.className,y=Efe(e,vfe),v=_fe({x:r,y:o,top:s,left:u,width:f,height:p},y);return!ee(r)||!ee(o)||!ee(f)||!ee(p)||!ee(s)||!ee(u)?null:M.createElement("path",P_({},ye(v,!0),{className:Se("recharts-cross",g),d:Tfe(r,o,f,p,s,u)}))},Pfe=ig,Ife=sM,Ofe=Yr;function Cfe(t,e){return t&&t.length?Pfe(t,Ofe(e),Ife):void 0}var kfe=Cfe;const Rfe=ze(kfe);var Nfe=ig,Dfe=Yr,jfe=lM;function Mfe(t,e){return t&&t.length?Nfe(t,Dfe(e),jfe):void 0}var $fe=Mfe;const Lfe=ze($fe);var Vfe=["cx","cy","angle","ticks","axisLine"],Ffe=["ticks","tick","angle","tickFormatter","stroke"];function Js(t){"@babel/helpers - typeof";return Js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Js(t)}function qu(){return qu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qu.apply(this,arguments)}function GI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GI(Object(n),!0).forEach(function(r){fg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XI(t,e){if(t==null)return{};var n=Ufe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ufe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Bfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HM(r.key),r)}}function zfe(t,e,n){return e&&YI(t.prototype,e),n&&YI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wfe(t,e,n){return e=Cp(e),qfe(t,qM()?Reflect.construct(e,n||[],Cp(t).constructor):e.apply(t,n))}function qfe(t,e){if(e&&(Js(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hfe(t)}function Hfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qM=function(){return!!t})()}function Cp(t){return Cp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cp(t)}function Kfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I_(t,e)}function I_(t,e){return I_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},I_(t,e)}function fg(t,e,n){return e=HM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HM(t){var e=Gfe(t,"string");return Js(e)=="symbol"?e:String(e)}function Gfe(t,e){if(Js(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Js(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hg=function(t){Kfe(e,t);function e(){return Bfe(this,e),Wfe(this,e,arguments)}return zfe(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,o=this.props,a=o.angle,s=o.cx,l=o.cy;return Ze(s,l,i,a)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,s=r.ticks,l=Rfe(s,function(c){return c.coordinate||0}),u=Lfe(s,function(c){return c.coordinate||0});return{cx:i,cy:o,startAngle:a,endAngle:a,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,s=r.ticks,l=r.axisLine,u=XI(r,Vfe),c=s.reduce(function(g,y){return[Math.min(g[0],y.coordinate),Math.max(g[1],y.coordinate)]},[1/0,-1/0]),f=Ze(i,o,c[0],a),d=Ze(i,o,c[1],a),p=Bo(Bo(Bo({},ye(u,!1)),{},{fill:"none"},ye(l,!1)),{},{x1:f.x,y1:f.y,x2:d.x,y2:d.y});return M.createElement("line",qu({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,s=i.angle,l=i.tickFormatter,u=i.stroke,c=XI(i,Ffe),f=this.getTickTextAnchor(),d=ye(c,!1),p=ye(a,!1),g=o.map(function(y,v){var b=r.getTickValueCoord(y),m=Bo(Bo(Bo(Bo({textAnchor:f,transform:"rotate(".concat(90-s,", ").concat(b.x,", ").concat(b.y,")")},d),{},{stroke:"none",fill:u},p),{},{index:v},b),{},{payload:y});return M.createElement(Ue,qu({className:Se("recharts-polar-radius-axis-tick",NM(a)),key:"tick-".concat(y.coordinate)},Ea(r.props,y,v)),e.renderTickItem(a,m,l?l(y.value,v):y.value))});return M.createElement(Ue,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.axisLine,a=r.tick;return!i||!i.length?null:M.createElement(Ue,{className:Se("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),a&&this.renderTicks(),Mt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,o){var a;return M.isValidElement(r)?a=M.cloneElement(r,i):we(r)?a=r(i):a=M.createElement(Sa,qu({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),a}}]),e}(j.PureComponent);fg(hg,"displayName","PolarRadiusAxis");fg(hg,"axisType","radiusAxis");fg(hg,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Zs(t){"@babel/helpers - typeof";return Zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zs(t)}function Yo(){return Yo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yo.apply(this,arguments)}function QI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QI(Object(n),!0).forEach(function(r){dg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GM(r.key),r)}}function Yfe(t,e,n){return e&&JI(t.prototype,e),n&&JI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qfe(t,e,n){return e=kp(e),Jfe(t,KM()?Reflect.construct(e,n||[],kp(t).constructor):e.apply(t,n))}function Jfe(t,e){if(e&&(Zs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zfe(t)}function Zfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KM=function(){return!!t})()}function kp(t){return kp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kp(t)}function ehe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O_(t,e)}function O_(t,e){return O_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},O_(t,e)}function dg(t,e,n){return e=GM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GM(t){var e=the(t,"string");return Zs(e)=="symbol"?e:String(e)}function the(t,e){if(Zs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Zs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nhe=Math.PI/180,ZI=1e-5,pg=function(t){ehe(e,t);function e(){return Xfe(this,e),Qfe(this,e,arguments)}return Yfe(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.cx,a=i.cy,s=i.radius,l=i.orientation,u=i.tickSize,c=u||8,f=Ze(o,a,s,r.coordinate),d=Ze(o,a,s+(l==="inner"?-1:1)*c,r.coordinate);return{x1:f.x,y1:f.y,x2:d.x,y2:d.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,o=Math.cos(-r.coordinate*nhe),a;return o>ZI?a=i==="outer"?"start":"end":o<-ZI?a=i==="outer"?"end":"start":a="middle",a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.radius,s=r.axisLine,l=r.axisLineType,u=zo(zo({},ye(this.props,!1)),{},{fill:"none"},ye(s,!1));if(l==="circle")return M.createElement(ex,Yo({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:o,r:a}));var c=this.props.ticks,f=c.map(function(d){return Ze(i,o,a,d.coordinate)});return M.createElement(yfe,Yo({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,s=i.tickLine,l=i.tickFormatter,u=i.stroke,c=ye(this.props,!1),f=ye(a,!1),d=zo(zo({},c),{},{fill:"none"},ye(s,!1)),p=o.map(function(g,y){var v=r.getTickLineCoord(g),b=r.getTickTextAnchor(g),m=zo(zo(zo({textAnchor:b},c),{},{stroke:"none",fill:u},f),{},{index:y,payload:g,x:v.x2,y:v.y2});return M.createElement(Ue,Yo({className:Se("recharts-polar-angle-axis-tick",NM(a)),key:"tick-".concat(g.coordinate)},Ea(r.props,g,y)),s&&M.createElement("line",Yo({className:"recharts-polar-angle-axis-tick-line"},d,v)),a&&e.renderTickItem(a,m,l?l(g.value,y):g.value))});return M.createElement(Ue,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.radius,a=r.axisLine;return o<=0||!i||!i.length?null:M.createElement(Ue,{className:Se("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,o){var a;return M.isValidElement(r)?a=M.cloneElement(r,i):we(r)?a=r(i):a=M.createElement(Sa,Yo({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),a}}]),e}(j.PureComponent);dg(pg,"displayName","PolarAngleAxis");dg(pg,"axisType","angleAxis");dg(pg,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var rhe=tj,ihe=rhe(Object.getPrototypeOf,Object),ohe=ihe,ahe=Oi,she=ohe,lhe=Ci,uhe="[object Object]",che=Function.prototype,fhe=Object.prototype,XM=che.toString,hhe=fhe.hasOwnProperty,dhe=XM.call(Object);function phe(t){if(!lhe(t)||ahe(t)!=uhe)return!1;var e=she(t);if(e===null)return!0;var n=hhe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&XM.call(n)==dhe}var mhe=phe;const ghe=ze(mhe);var yhe=Oi,vhe=Ci,_he="[object Boolean]";function whe(t){return t===!0||t===!1||vhe(t)&&yhe(t)==_he}var bhe=whe;const xhe=ze(bhe);function Qc(t){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qc(t)}function Rp(){return Rp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rp.apply(this,arguments)}function Ehe(t,e){return Phe(t)||Ahe(t,e)||The(t,e)||She()}function She(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function The(t,e){if(t){if(typeof t=="string")return eO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eO(t,e)}}function eO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ahe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Phe(t){if(Array.isArray(t))return t}function tO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tO(Object(n),!0).forEach(function(r){Ihe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ihe(t,e,n){return e=Ohe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ohe(t){var e=Che(t,"string");return Qc(e)=="symbol"?e:String(e)}function Che(t,e){if(Qc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Qc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rO=function(e,n,r,i,o){var a=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-a/2,",").concat(n+o),s+="L ".concat(e+r-a/2-i,",").concat(n+o),s+="L ".concat(e,",").concat(n," Z"),s},khe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Rhe=function(e){var n=nO(nO({},khe),e),r=j.useRef(),i=j.useState(-1),o=Ehe(i,2),a=o[0],s=o[1];j.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&s(_)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,f=n.lowerWidth,d=n.height,p=n.className,g=n.animationEasing,y=n.animationDuration,v=n.animationBegin,b=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||d!==+d||c===0&&f===0||d===0)return null;var m=Se("recharts-trapezoid",p);return b?M.createElement(Pi,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:d,x:l,y:u},to:{upperWidth:c,lowerWidth:f,height:d,x:l,y:u},duration:y,animationEasing:g,isActive:b},function(_){var x=_.upperWidth,T=_.lowerWidth,O=_.height,S=_.x,E=_.y;return M.createElement(Pi,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:y,easing:g},M.createElement("path",Rp({},ye(n,!0),{className:m,d:rO(S,E,x,T,O),ref:r})))}):M.createElement("g",null,M.createElement("path",Rp({},ye(n,!0),{className:m,d:rO(l,u,c,f,d)})))},Nhe=["option","shapeType","propTransformer","activeClassName","isActive"];function Jc(t){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(t)}function Dhe(t,e){if(t==null)return{};var n=jhe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jhe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function iO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Np(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iO(Object(n),!0).forEach(function(r){Mhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mhe(t,e,n){return e=$he(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $he(t){var e=Lhe(t,"string");return Jc(e)=="symbol"?e:String(e)}function Lhe(t,e){if(Jc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Jc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vhe(t,e){return Np(Np({},e),t)}function Fhe(t,e){return t==="symbols"}function oO(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return M.createElement(Z1,n);case"trapezoid":return M.createElement(Rhe,n);case"sector":return M.createElement(MM,n);case"symbols":if(Fhe(e))return M.createElement(v1,n);break;default:return null}}function Uhe(t){return j.isValidElement(t)?t.props:t}function YM(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Vhe:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=Dhe(t,Nhe),u;if(j.isValidElement(e))u=j.cloneElement(e,Np(Np({},l),Uhe(e)));else if(we(e))u=e(l);else if(ghe(e)&&!xhe(e)){var c=i(e,l);u=M.createElement(oO,{shapeType:n,elementProps:c})}else{var f=l;u=M.createElement(oO,{shapeType:n,elementProps:f})}return s?M.createElement(Ue,{className:a},u):u}function mg(t,e){return e!=null&&"trapezoids"in t.props}function gg(t,e){return e!=null&&"sectors"in t.props}function Zc(t,e){return e!=null&&"points"in t.props}function Bhe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function zhe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Whe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function qhe(t,e){var n;return mg(t,e)?n=Bhe:gg(t,e)?n=zhe:Zc(t,e)&&(n=Whe),n}function Hhe(t,e){var n;return mg(t,e)?n="trapezoids":gg(t,e)?n="sectors":Zc(t,e)&&(n="points"),n}function Khe(t,e){if(mg(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(gg(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Zc(t,e)?e.payload:{}}function Ghe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Hhe(n,e),o=Khe(n,e),a=r.filter(function(l,u){var c=sg(o,l),f=n.props[i].filter(function(g){var y=qhe(n,e);return y(g,e)}),d=n.props[i].indexOf(f[f.length-1]),p=u===d;return c&&p}),s=r.indexOf(a[a.length-1]);return s}var sd;function el(t){"@babel/helpers - typeof";return el=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},el(t)}function ps(){return ps=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ps.apply(this,arguments)}function aO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function st(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aO(Object(n),!0).forEach(function(r){er(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,JM(r.key),r)}}function Yhe(t,e,n){return e&&sO(t.prototype,e),n&&sO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qhe(t,e,n){return e=Dp(e),Jhe(t,QM()?Reflect.construct(e,n||[],Dp(t).constructor):e.apply(t,n))}function Jhe(t,e){if(e&&(el(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ja(t)}function QM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QM=function(){return!!t})()}function Dp(t){return Dp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dp(t)}function Ja(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C_(t,e)}function C_(t,e){return C_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},C_(t,e)}function er(t,e,n){return e=JM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JM(t){var e=ede(t,"string");return el(e)=="symbol"?e:String(e)}function ede(t,e){if(el(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(el(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ri=function(t){Zhe(e,t);function e(n){var r;return Xhe(this,e),r=Qhe(this,e,[n]),er(Ja(r),"pieRef",null),er(Ja(r),"sectorRefs",[]),er(Ja(r),"id",kf("recharts-pie-")),er(Ja(r),"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),we(i)&&i()}),er(Ja(r),"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),we(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return Yhe(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.label,s=o.labelLine,l=o.dataKey,u=o.valueKey,c=ye(this.props,!1),f=ye(a,!1),d=ye(s,!1),p=a&&a.offsetRadius||20,g=r.map(function(y,v){var b=(y.startAngle+y.endAngle)/2,m=Ze(y.cx,y.cy,y.outerRadius+p,b),_=st(st(st(st({},c),y),{},{stroke:"none"},f),{},{index:v,textAnchor:e.getTextAnchor(m.x,y.cx)},m),x=st(st(st(st({},c),y),{},{fill:"none",stroke:y.fill},d),{},{index:v,points:[Ze(y.cx,y.cy,y.outerRadius,b),m],key:"line"}),T=l;return Te(l)&&Te(u)?T="value":Te(l)&&(T=u),M.createElement(Ue,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(v)},s&&e.renderLabelLineItem(s,x),e.renderLabelItem(a,_,ln(y,T)))});return M.createElement(Ue,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(r){var i=this,o=this.props,a=o.activeShape,s=o.blendStroke,l=o.inactiveShape;return r.map(function(u,c){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var f=i.isActiveIndex(c),d=l&&i.hasActiveIndex()?l:null,p=f?a:d,g=st(st({},u),{},{stroke:s?u.fill:u.stroke,tabIndex:-1});return M.createElement(Ue,ps({ref:function(v){v&&!i.sectorRefs.includes(v)&&i.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},Ea(i.props,u,c),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(c)}),M.createElement(YM,ps({option:p,isActive:f,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,o=i.sectors,a=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,u=i.animationEasing,c=i.animationId,f=this.state,d=f.prevSectors,p=f.prevIsAnimationActive;return M.createElement(Pi,{begin:s,duration:l,isActive:a,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(c,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var y=g.t,v=[],b=o&&o[0],m=b.startAngle;return o.forEach(function(_,x){var T=d&&d[x],O=x>0?zn(_,"paddingAngle",0):0;if(T){var S=Bi(T.endAngle-T.startAngle,_.endAngle-_.startAngle),E=st(st({},_),{},{startAngle:m+O,endAngle:m+S(y)+O});v.push(E),m=E.endAngle}else{var I=_.endAngle,C=_.startAngle,R=Bi(0,I-C),N=R(y),k=st(st({},_),{},{startAngle:m+O,endAngle:m+N+O});v.push(k),m=k.endAngle}}),M.createElement(Ue,null,r.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var a=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,o=r.isAnimationActive,a=this.state.prevSectors;return o&&i&&i.length&&(!a||!sg(a,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,o=i.hide,a=i.sectors,s=i.className,l=i.label,u=i.cx,c=i.cy,f=i.innerRadius,d=i.outerRadius,p=i.isAnimationActive,g=this.state.isAnimationFinished;if(o||!a||!a.length||!ee(u)||!ee(c)||!ee(f)||!ee(d))return null;var y=Se("recharts-pie",s);return M.createElement(Ue,{tabIndex:this.props.rootTabIndex,className:y,ref:function(b){r.pieRef=b}},this.renderSectors(),l&&this.renderLabels(a),Mt.renderCallByParent(this.props,null,!1),(!p||g)&&yo.renderCallByParent(this.props,a,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i){if(M.isValidElement(r))return M.cloneElement(r,i);if(we(r))return r(i);var o=Se("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return M.createElement(m_,ps({},i,{type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,i,o){if(M.isValidElement(r))return M.cloneElement(r,i);var a=o;if(we(r)&&(a=r(i),M.isValidElement(a)))return a;var s=Se("recharts-pie-label-text",typeof r!="boolean"&&!we(r)?r.className:"");return M.createElement(Sa,ps({},i,{alignmentBaseline:"middle",className:s}),a)}}]),e}(j.PureComponent);sd=Ri;er(Ri,"displayName","Pie");er(Ri,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!pi.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});er(Ri,"parseDeltaAngle",function(t,e){var n=vn(e-t),r=Math.min(Math.abs(e-t),360);return n*r});er(Ri,"getRealPieData",function(t){var e=t.props,n=e.data,r=e.children,i=ye(t.props,!1),o=or(r,Qm);return n&&n.length?n.map(function(a,s){return st(st(st({payload:a},i),a),o&&o[s]&&o[s].props)}):o&&o.length?o.map(function(a){return st(st({},i),a.props)}):[]});er(Ri,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,o=e.height,a=RM(i,o),s=r+_n(t.props.cx,i,i/2),l=n+_n(t.props.cy,o,o/2),u=_n(t.props.innerRadius,a,0),c=_n(t.props.outerRadius,a,a*.8),f=t.props.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:s,cy:l,innerRadius:u,outerRadius:c,maxRadius:f}});er(Ri,"getComposedData",function(t){var e=t.item,n=t.offset,r=sd.getRealPieData(e);if(!r||!r.length)return null;var i=e.props,o=i.cornerRadius,a=i.startAngle,s=i.endAngle,l=i.paddingAngle,u=i.dataKey,c=i.nameKey,f=i.valueKey,d=i.tooltipType,p=Math.abs(e.props.minAngle),g=sd.parseCoordinateOfPie(e,n),y=sd.parseDeltaAngle(a,s),v=Math.abs(y),b=u;Te(u)&&Te(f)?(br(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):Te(u)&&(br(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=f);var m=r.filter(function(E){return ln(E,b,0)!==0}).length,_=(v>=360?m:m-1)*l,x=v-m*p-_,T=r.reduce(function(E,I){var C=ln(I,b,0);return E+(ee(C)?C:0)},0),O;if(T>0){var S;O=r.map(function(E,I){var C=ln(E,b,0),R=ln(E,c,I),N=(ee(C)?C:0)/T,k;I?k=S.endAngle+vn(y)*l*(C!==0?1:0):k=a;var V=k+vn(y)*((C!==0?p:0)+N*x),K=(k+V)/2,B=(g.innerRadius+g.outerRadius)/2,z=[{name:R,value:C,payload:E,dataKey:b,type:d}],$=Ze(g.cx,g.cy,B,K);return S=st(st(st({percent:N,cornerRadius:o,name:R,tooltipPayload:z,midAngle:K,middleRadius:B,tooltipPosition:$},E),g),{},{value:ln(E,b),startAngle:k,endAngle:V,payload:E,paddingAngle:vn(y)*l}),S})}return st(st({},g),{},{sectors:O,data:r})});var tde=Math.ceil,nde=Math.max;function rde(t,e,n,r){for(var i=-1,o=nde(tde((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var ide=rde,ode=bj,lO=1/0,ade=17976931348623157e292;function sde(t){if(!t)return t===0?t:0;if(t=ode(t),t===lO||t===-lO){var e=t<0?-1:1;return e*ade}return t===t?t:0}var ZM=sde,lde=ide,ude=Ym,Ky=ZM;function cde(t){return function(e,n,r){return r&&typeof r!="number"&&ude(e,n,r)&&(n=r=void 0),e=Ky(e),n===void 0?(n=e,e=0):n=Ky(n),r=r===void 0?e<n?1:-1:Ky(r),lde(e,n,r,t)}}var fde=cde,hde=fde,dde=hde(),pde=dde;const jp=ze(pde);function ef(t){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ef(t)}function uO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uO(Object(n),!0).forEach(function(r){e$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function e$(t,e,n){return e=mde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mde(t){var e=gde(t,"string");return ef(e)=="symbol"?e:String(e)}function gde(t,e){if(ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yde=["Webkit","Moz","O","ms"],vde=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=yde.reduce(function(o,a){return cO(cO({},o),{},e$({},a+r,n))},{});return i[e]=n,i};function tl(t){"@babel/helpers - typeof";return tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tl(t)}function Mp(){return Mp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mp.apply(this,arguments)}function fO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fO(Object(n),!0).forEach(function(r){Mn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _de(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,n$(r.key),r)}}function wde(t,e,n){return e&&hO(t.prototype,e),n&&hO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function bde(t,e,n){return e=$p(e),xde(t,t$()?Reflect.construct(e,n||[],$p(t).constructor):e.apply(t,n))}function xde(t,e){if(e&&(tl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Or(t)}function t$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t$=function(){return!!t})()}function $p(t){return $p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$p(t)}function Or(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ede(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k_(t,e)}function k_(t,e){return k_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},k_(t,e)}function Mn(t,e,n){return e=n$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n$(t){var e=Sde(t,"string");return tl(e)=="symbol"?e:String(e)}function Sde(t,e){if(tl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(tl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tde=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=Uu().domain(jp(0,l)).range([o,o+a-s]),c=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},dO=function(e){return e.changedTouches&&!!e.changedTouches.length},nl=function(t){Ede(e,t);function e(n){var r;return _de(this,e),r=bde(this,e,[n]),Mn(Or(r),"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Mn(Or(r),"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Mn(Or(r),"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),Mn(Or(r),"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Mn(Or(r),"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Mn(Or(r),"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Mn(Or(r),"handleSlideDragStart",function(i){var o=dO(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(Or(r),"startX"),endX:r.handleTravellerDragStart.bind(Or(r),"endX")},r.state={},r}return wde(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,f=Math.min(i,o),d=Math.max(i,o),p=e.getIndexInRange(a,f),g=e.getIndexInRange(a,d);return{startIndex:p-p%l,endIndex:g===c?c:g-g%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=ln(o[r],s,r);return we(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,f=l.travellerWidth,d=l.startIndex,p=l.endIndex,g=l.onChange,y=r.pageX-o;y>0?y=Math.min(y,u+c-f-s,u+c-f-a):y<0&&(y=Math.max(y,u-a,u-s));var v=this.getIndex({startX:a+y,endX:s+y});(v.startIndex!==d||v.endIndex!==p)&&g&&g(v),this.setState({startX:a+y,endX:s+y,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=dO(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[a],c=this.props,f=c.x,d=c.width,p=c.travellerWidth,g=c.onChange,y=c.gap,v=c.data,b={startX:this.state.startX,endX:this.state.endX},m=r.pageX-o;m>0?m=Math.min(m,f+d-p-u):m<0&&(m=Math.max(m,f-u)),b[a]=u+m;var _=this.getIndex(b),x=_.startIndex,T=_.endIndex,O=function(){var E=v.length-1;return a==="startX"&&(s>l?x%y===0:T%y===0)||s<l&&T===E||a==="endX"&&(s>l?T%y===0:x%y===0)||s>l&&T===E};this.setState(Mn(Mn({},a,u+m),"brushMoveStartX",r.pageX),function(){g&&O()&&g(_)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,u=a.endX,c=this.state[i],f=s.indexOf(c);if(f!==-1){var d=f+r;if(!(d===-1||d>=s.length)){var p=s[d];i==="startX"&&p>=u||i==="endX"&&p<=l||this.setState(Mn({},i,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,u=r.stroke;return M.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,u=r.children,c=r.padding,f=j.Children.only(u);return f?M.cloneElement(f,{x:i,y:o,width:a,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,u=l.y,c=l.travellerWidth,f=l.height,d=l.traveller,p=l.ariaLabel,g=l.data,y=l.startIndex,v=l.endIndex,b=Math.max(r,this.props.x),m=Gy(Gy({},ye(this.props,!1)),{},{x:b,y:u,width:c,height:f}),_=p||"Min value: ".concat((o=g[y])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=g[v])===null||a===void 0?void 0:a.name);return M.createElement(Ue,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(T){["ArrowLeft","ArrowRight"].includes(T.key)&&(T.preventDefault(),T.stopPropagation(),s.handleTravellerMoveKeyboard(T.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(d,m))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,u=o.travellerWidth,c=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return M.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:a,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,f=c.startX,d=c.endX,p=5,g={pointerEvents:"none",fill:u};return M.createElement(Ue,{className:"recharts-brush-texts"},M.createElement(Sa,Mp({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,d)-p,y:a+s/2},g),this.getTextOfTick(i)),M.createElement(Sa,Mp({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,d)+l+p,y:a+s/2},g),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,u=r.width,c=r.height,f=r.alwaysShowText,d=this.state,p=d.startX,g=d.endX,y=d.isTextActive,v=d.isSlideMoving,b=d.isTravellerMoving,m=d.isTravellerFocused;if(!i||!i.length||!ee(s)||!ee(l)||!ee(u)||!ee(c)||u<=0||c<=0)return null;var _=Se("recharts-brush",o),x=M.Children.count(a)===1,T=vde("userSelect","none");return M.createElement(Ue,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:T},this.renderBackground(),x&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(y||v||b||m||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,u=Math.floor(o+s/2)-1;return M.createElement(M.Fragment,null,M.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),M.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),M.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return M.isValidElement(r)?o=M.cloneElement(r,i):we(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,f=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return Gy({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a},o&&o.length?Tde({data:o,width:a,x:s,travellerWidth:l,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var d=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:d}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}]),e}(j.PureComponent);Mn(nl,"displayName","Brush");Mn(nl,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Ade=T1;function Pde(t,e){var n;return Ade(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var Ide=Pde,Ode=K2,Cde=Yr,kde=Ide,Rde=Dn,Nde=Ym;function Dde(t,e,n){var r=Rde(t)?Ode:kde;return n&&Nde(t,e,n)&&(e=void 0),r(t,Cde(e))}var jde=Dde;const Mde=ze(jde);var qr=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},pO=gj;function $de(t,e,n){e=="__proto__"&&pO?pO(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Lde=$de,Vde=Lde,Fde=pj,Ude=Yr;function Bde(t,e){var n={};return e=Ude(e),Fde(t,function(r,i,o){Vde(n,i,e(r,i,o))}),n}var zde=Bde;const Wde=ze(zde);function qde(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var Hde=qde,Kde=T1;function Gde(t,e){var n=!0;return Kde(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var Xde=Gde,Yde=Hde,Qde=Xde,Jde=Yr,Zde=Dn,epe=Ym;function tpe(t,e,n){var r=Zde(t)?Yde:Qde;return n&&epe(t,e,n)&&(e=void 0),r(t,Jde(e))}var npe=tpe;const r$=ze(npe);var rpe=["x","y"];function tf(t){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(t)}function R_(){return R_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},R_.apply(this,arguments)}function mO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mO(Object(n),!0).forEach(function(r){ipe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ipe(t,e,n){return e=ope(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ope(t){var e=ape(t,"string");return tf(e)=="symbol"?e:String(e)}function ape(t,e){if(tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function spe(t,e){if(t==null)return{};var n=lpe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lpe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function upe(t,e){var n=t.x,r=t.y,i=spe(t,rpe),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),c=parseInt(u,10),f="".concat(e.width||i.width),d=parseInt(f,10);return hu(hu(hu(hu(hu({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:c,width:d,name:e.name,radius:e.radius})}function gO(t){return M.createElement(YM,R_({shapeType:"rectangle",propTransformer:upe,activeClassName:"recharts-active-bar"},t))}var cpe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=typeof r=="number";return o?e(r,i):(o||Aa(),n)}},fpe=["value","background"],i$;function rl(t){"@babel/helpers - typeof";return rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rl(t)}function hpe(t,e){if(t==null)return{};var n=dpe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dpe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Lp(){return Lp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lp.apply(this,arguments)}function yO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yO(Object(n),!0).forEach(function(r){no(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ppe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a$(r.key),r)}}function mpe(t,e,n){return e&&vO(t.prototype,e),n&&vO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gpe(t,e,n){return e=Vp(e),ype(t,o$()?Reflect.construct(e,n||[],Vp(t).constructor):e.apply(t,n))}function ype(t,e){if(e&&(rl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Su(t)}function o$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o$=function(){return!!t})()}function Vp(t){return Vp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vp(t)}function Su(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N_(t,e)}function N_(t,e){return N_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},N_(t,e)}function no(t,e,n){return e=a$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a$(t){var e=_pe(t,"string");return rl(e)=="symbol"?e:String(e)}function _pe(t,e){if(rl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(rl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fa=function(t){vpe(e,t);function e(){var n;ppe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=gpe(this,e,[].concat(i)),no(Su(n),"state",{isAnimationFinished:!1}),no(Su(n),"id",kf("recharts-bar-")),no(Su(n),"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),no(Su(n),"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return mpe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,u=o.activeBar,c=ye(this.props,!1);return r&&r.map(function(f,d){var p=d===l,g=p?u:a,y=Rt(Rt(Rt({},c),f),{},{isActive:p,option:g,index:d,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return M.createElement(Ue,Lp({className:"recharts-bar-rectangle"},Ea(i.props,f,d),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value)}),M.createElement(gO,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,f=i.animationId,d=this.state.prevData;return M.createElement(Pi,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,y=o.map(function(v,b){var m=d&&d[b];if(m){var _=Bi(m.x,v.x),x=Bi(m.y,v.y),T=Bi(m.width,v.width),O=Bi(m.height,v.height);return Rt(Rt({},v),{},{x:_(g),y:x(g),width:T(g),height:O(g)})}if(a==="horizontal"){var S=Bi(0,v.height),E=S(g);return Rt(Rt({},v),{},{y:v.y+v.height-E,height:E})}var I=Bi(0,v.width),C=I(g);return Rt(Rt({},v),{},{width:C})});return M.createElement(Ue,null,r.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!sg(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=ye(this.props.background,!1);return o.map(function(u,c){u.value;var f=u.background,d=hpe(u,fpe);if(!f)return null;var p=Rt(Rt(Rt(Rt(Rt({},d),{},{fill:"#eee"},f),l),Ea(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:c,key:"background-bar-".concat(c),className:"recharts-bar-background-rectangle"});return M.createElement(gO,Lp({option:r.props.background,isActive:c===s},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,f=or(c,cg);if(!f)return null;var d=u==="vertical"?a[0].height/2:a[0].width/2,p=function(v,b){var m=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:m,errorVal:ln(v,b)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return M.createElement(Ue,g,f.map(function(y){return M.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,offset:d,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,u=r.left,c=r.top,f=r.width,d=r.height,p=r.isAnimationActive,g=r.background,y=r.id;if(i||!o||!o.length)return null;var v=this.state.isAnimationFinished,b=Se("recharts-bar",a),m=s&&s.allowDataOverflow,_=l&&l.allowDataOverflow,x=m||_,T=Te(y)?this.id:y;return M.createElement(Ue,{className:b},m||_?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(T)},M.createElement("rect",{x:m?u:u-f/2,y:_?c:c-d/2,width:m?f:f*2,height:_?d:d*2}))):null,M.createElement(Ue,{className:"recharts-bar-rectangles",clipPath:x?"url(#clipPath-".concat(T,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(x,T),(!p||v)&&yo.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}]),e}(j.PureComponent);i$=Fa;no(Fa,"displayName","Bar");no(Fa,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!pi.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});no(Fa,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,d=t.offset,p=yle(r,n);if(!p)return null;var g=e.layout,y=n.props,v=y.dataKey,b=y.children,m=y.minPointSize,_=g==="horizontal"?a:o,x=u?_.scale.domain():null,T=Sle({numericAxis:_}),O=or(b,Qm),S=f.map(function(E,I){var C,R,N,k,V,K;u?C=vle(u[c+I],x):(C=ln(E,v),Array.isArray(C)||(C=[T,C]));var B=cpe(m,i$.defaultProps.minPointSize)(C[1],I);if(g==="horizontal"){var z,$=[a.scale(C[0]),a.scale(C[1])],W=$[0],Y=$[1];R=sI({axis:o,ticks:s,bandSize:i,offset:p.offset,entry:E,index:I}),N=(z=Y??W)!==null&&z!==void 0?z:void 0,k=p.size;var ne=W-Y;if(V=Number.isNaN(ne)?0:ne,K={x:R,y:a.y,width:k,height:a.height},Math.abs(B)>0&&Math.abs(V)<Math.abs(B)){var Z=vn(V||B)*(Math.abs(B)-Math.abs(V));N-=Z,V+=Z}}else{var se=[o.scale(C[0]),o.scale(C[1])],Ce=se[0],Ve=se[1];if(R=Ce,N=sI({axis:a,ticks:l,bandSize:i,offset:p.offset,entry:E,index:I}),k=Ve-Ce,V=p.size,K={x:o.x,y:N,width:o.width,height:V},Math.abs(B)>0&&Math.abs(k)<Math.abs(B)){var mt=vn(k||B)*(Math.abs(B)-Math.abs(k));k+=mt}}return Rt(Rt(Rt({},E),{},{x:R,y:N,width:k,height:V,value:u?C:C[1],payload:E,background:K},O&&O[I]&&O[I].props),{},{tooltipPayload:[CM(n,E)],tooltipPosition:{x:R+k/2,y:N+V/2}})});return Rt({data:S,layout:g},d)});function nf(t){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(t)}function wpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _O(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s$(r.key),r)}}function bpe(t,e,n){return e&&_O(t.prototype,e),n&&_O(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function wO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wO(Object(n),!0).forEach(function(r){yg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yg(t,e,n){return e=s$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s$(t){var e=xpe(t,"string");return nf(e)=="symbol"?e:String(e)}function xpe(t,e){if(nf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Epe=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.layout,u=e.children,c=Object.keys(n),f={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},d=!!Ln(u,Fa);return c.reduce(function(p,g){var y=n[g],v=y.orientation,b=y.domain,m=y.padding,_=m===void 0?{}:m,x=y.mirror,T=y.reversed,O="".concat(v).concat(x?"Mirror":""),S,E,I,C,R;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var N=b[1]-b[0],k=1/0,V=y.categoricalDomain.sort();if(V.forEach(function(Ce,Ve){Ve>0&&(k=Math.min((Ce||0)-(V[Ve-1]||0),k))}),Number.isFinite(k)){var K=k/N,B=y.layout==="vertical"?r.height:r.width;if(y.padding==="gap"&&(S=K*B/2),y.padding==="no-gap"){var z=_n(e.barCategoryGap,K*B),$=K*B/2;S=$-z-($-z)/B*z}}}i==="xAxis"?E=[r.left+(_.left||0)+(S||0),r.left+r.width-(_.right||0)-(S||0)]:i==="yAxis"?E=l==="horizontal"?[r.top+r.height-(_.bottom||0),r.top+(_.top||0)]:[r.top+(_.top||0)+(S||0),r.top+r.height-(_.bottom||0)-(S||0)]:E=y.range,T&&(E=[E[1],E[0]]);var W=AM(y,o,d),Y=W.scale,ne=W.realScaleType;Y.domain(b).range(E),PM(Y);var Z=IM(Y,gr(gr({},y),{},{realScaleType:ne}));i==="xAxis"?(R=v==="top"&&!x||v==="bottom"&&x,I=r.left,C=f[O]-R*y.height):i==="yAxis"&&(R=v==="left"&&!x||v==="right"&&x,I=f[O]-R*y.width,C=r.top);var se=gr(gr(gr({},y),Z),{},{realScaleType:ne,x:I,y:C,scale:Y,width:i==="xAxis"?r.width:y.width,height:i==="yAxis"?r.height:y.height});return se.bandSize=Ep(se,Z),!y.hide&&i==="xAxis"?f[O]+=(R?-1:1)*se.height:y.hide||(f[O]+=(R?-1:1)*se.width),gr(gr({},p),{},yg({},g,se))},{})},l$=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},Spe=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return l$({x:n,y:r},{x:i,y:o})},u$=function(){function t(e){wpe(this,t),this.scale=e}return bpe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}]),t}();yg(u$,"EPS",1e-4);var tx=function(e){var n=Object.keys(e).reduce(function(r,i){return gr(gr({},r),{},yg({},i,u$.create(e[i])))},{});return gr(gr({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return Wde(i,function(l,u){return n[u].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return r$(i,function(o,a){return n[a].isInRange(o)})}})};function Tpe(t){return(t%180+180)%180}var Ape=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Tpe(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},Ppe=Yr,Ipe=Rf,Ope=Gm;function Cpe(t){return function(e,n,r){var i=Object(e);if(!Ipe(e)){var o=Ppe(n);e=Ope(e),n=function(s){return o(i[s],s,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}var kpe=Cpe,Rpe=ZM;function Npe(t){var e=Rpe(t),n=e%1;return e===e?n?e-n:e:0}var Dpe=Npe,jpe=sj,Mpe=Yr,$pe=Dpe,Lpe=Math.max;function Vpe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:$pe(n);return i<0&&(i=Lpe(r+i,0)),jpe(t,Mpe(e),i)}var Fpe=Vpe,Upe=kpe,Bpe=Fpe,zpe=Upe(Bpe),Wpe=zpe;const qpe=ze(Wpe);var Hpe=d7(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),nx=j.createContext(void 0),rx=j.createContext(void 0),c$=j.createContext(void 0),f$=j.createContext({}),h$=j.createContext(void 0),d$=j.createContext(0),p$=j.createContext(0),bO=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,l=e.width,u=e.height,c=Hpe(o);return M.createElement(nx.Provider,{value:r},M.createElement(rx.Provider,{value:i},M.createElement(f$.Provider,{value:o},M.createElement(c$.Provider,{value:c},M.createElement(h$.Provider,{value:a},M.createElement(d$.Provider,{value:u},M.createElement(p$.Provider,{value:l},s)))))))},Kpe=function(){return j.useContext(h$)},m$=function(e){var n=j.useContext(nx);n==null&&Aa();var r=n[e];return r==null&&Aa(),r},Gpe=function(){var e=j.useContext(nx);return Qi(e)},Xpe=function(){var e=j.useContext(rx),n=qpe(e,function(r){return r$(r.domain,Number.isFinite)});return n||Qi(e)},g$=function(e){var n=j.useContext(rx);n==null&&Aa();var r=n[e];return r==null&&Aa(),r},Ype=function(){var e=j.useContext(c$);return e},Qpe=function(){return j.useContext(f$)},ix=function(){return j.useContext(p$)},ox=function(){return j.useContext(d$)};function rf(t){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rf(t)}function xO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xO(Object(n),!0).forEach(function(r){Jpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jpe(t,e,n){return e=Zpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zpe(t){var e=eme(t,"string");return rf(e)=="symbol"?e:String(e)}function eme(t,e){if(rf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tme(t,e){return ome(t)||ime(t,e)||rme(t,e)||nme()}function nme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rme(t,e){if(t){if(typeof t=="string")return SO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SO(t,e)}}function SO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ime(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function ome(t){if(Array.isArray(t))return t}function D_(){return D_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},D_.apply(this,arguments)}var ame=function(e,n){var r;return M.isValidElement(e)?r=M.cloneElement(e,n):we(e)?r=e(n):r=M.createElement("line",D_({},n,{className:"recharts-reference-line-line"})),r},sme=function(e,n,r,i,o,a,s,l,u){var c=o.x,f=o.y,d=o.width,p=o.height;if(r){var g=u.y,y=e.y.apply(g,{position:a});if(qr(u,"discard")&&!e.y.isInRange(y))return null;var v=[{x:c+d,y},{x:c,y}];return l==="left"?v.reverse():v}if(n){var b=u.x,m=e.x.apply(b,{position:a});if(qr(u,"discard")&&!e.x.isInRange(m))return null;var _=[{x:m,y:f+p},{x:m,y:f}];return s==="top"?_.reverse():_}if(i){var x=u.segment,T=x.map(function(O){return e.apply(O,{position:a})});return qr(u,"discard")&&Mde(T,function(O){return!e.isInRange(O)})?null:T}return null};function ax(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,u=Kpe(),c=m$(i),f=g$(o),d=Ype();if(!u||!d)return null;br(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=tx({x:c.scale,y:f.scale}),g=Ct(e),y=Ct(n),v=r&&r.length===2,b=sme(p,g,y,v,d,t.position,c.orientation,f.orientation,t);if(!b)return null;var m=tme(b,2),_=m[0],x=_.x,T=_.y,O=m[1],S=O.x,E=O.y,I=qr(t,"hidden")?"url(#".concat(u,")"):void 0,C=EO(EO({clipPath:I},ye(t,!0)),{},{x1:x,y1:T,x2:S,y2:E});return M.createElement(Ue,{className:Se("recharts-reference-line",s)},ame(a,C),Mt.renderCallByParent(t,Spe({x1:x,y1:T,x2:S,y2:E})))}ax.displayName="ReferenceLine";ax.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"};function of(t){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},of(t)}function j_(){return j_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j_.apply(this,arguments)}function TO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TO(Object(n),!0).forEach(function(r){lme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lme(t,e,n){return e=ume(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ume(t){var e=cme(t,"string");return of(e)=="symbol"?e:String(e)}function cme(t,e){if(of(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fme=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=tx({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return qr(e,"discard")&&!a.isInRange(s)?null:s};function $f(t){var e=t.x,n=t.y,r=t.r,i=t.alwaysShow,o=t.clipPathId,a=Ct(e),s=Ct(n);if(br(i===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!a||!s)return null;var l=fme(t);if(!l)return null;var u=l.x,c=l.y,f=t.shape,d=t.className,p=qr(t,"hidden")?"url(#".concat(o,")"):void 0,g=AO(AO({clipPath:p},ye(t,!0)),{},{cx:u,cy:c});return M.createElement(Ue,{className:Se("recharts-reference-dot",d)},$f.renderDot(f,g),Mt.renderCallByParent(t,{x:u-r,y:c-r,width:2*r,height:2*r}))}$f.displayName="ReferenceDot";$f.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1};$f.renderDot=function(t,e){var n;return M.isValidElement(t)?n=M.cloneElement(t,e):we(t)?n=t(e):n=M.createElement(ex,j_({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n};function af(t){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},af(t)}function M_(){return M_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M_.apply(this,arguments)}function PO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PO(Object(n),!0).forEach(function(r){hme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hme(t,e,n){return e=dme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dme(t){var e=pme(t,"string");return af(e)=="symbol"?e:String(e)}function pme(t,e){if(af(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(af(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mme=function(e,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,u=o.y2,c=o.xAxis,f=o.yAxis;if(!c||!f)return null;var d=tx({x:c.scale,y:f.scale}),p={x:e?d.x.apply(a,{position:"start"}):d.x.rangeMin,y:r?d.y.apply(l,{position:"start"}):d.y.rangeMin},g={x:n?d.x.apply(s,{position:"end"}):d.x.rangeMax,y:i?d.y.apply(u,{position:"end"}):d.y.rangeMax};return qr(o,"discard")&&(!d.isInRange(p)||!d.isInRange(g))?null:l$(p,g)};function Lf(t){var e=t.x1,n=t.x2,r=t.y1,i=t.y2,o=t.className,a=t.alwaysShow,s=t.clipPathId;br(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var l=Ct(e),u=Ct(n),c=Ct(r),f=Ct(i),d=t.shape;if(!l&&!u&&!c&&!f&&!d)return null;var p=mme(l,u,c,f,t);if(!p&&!d)return null;var g=qr(t,"hidden")?"url(#".concat(s,")"):void 0;return M.createElement(Ue,{className:Se("recharts-reference-area",o)},Lf.renderRect(d,IO(IO({clipPath:g},ye(t,!0)),p)),Mt.renderCallByParent(t,p))}Lf.displayName="ReferenceArea";Lf.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1};Lf.renderRect=function(t,e){var n;return M.isValidElement(t)?n=M.cloneElement(t,e):we(t)?n=t(e):n=M.createElement(Z1,M_({},e,{className:"recharts-reference-area-rect"})),n};function y$(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function gme(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Ape(r,n)}function yme(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function Fp(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function vme(t,e){return y$(t,e+1)}function _me(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,s=e.end,l=0,u=1,c=a,f=function(){var g=r==null?void 0:r[l];if(g===void 0)return{v:y$(r,u)};var y=l,v,b=function(){return v===void 0&&(v=n(g,y)),v},m=g.coordinate,_=l===0||Fp(t,m,b,c,s);_||(l=0,c=a,u+=1),_&&(c=m+t*(b()/2+i),l+=u)},d;u<=o.length;)if(d=f(),d)return d.v;return[]}function sf(t){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sf(t)}function OO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OO(Object(n),!0).forEach(function(r){wme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wme(t,e,n){return e=bme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bme(t){var e=xme(t,"string");return sf(e)=="symbol"?e:String(e)}function xme(t,e){if(sf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Eme(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,l=e.end,u=function(d){var p=o[d],g,y=function(){return g===void 0&&(g=n(p,d)),g};if(d===a-1){var v=t*(p.coordinate+t*y()/2-l);o[d]=p=tn(tn({},p),{},{tickCoord:v>0?p.coordinate-v*t:p.coordinate})}else o[d]=p=tn(tn({},p),{},{tickCoord:p.coordinate});var b=Fp(t,p.tickCoord,y,s,l);b&&(l=p.tickCoord-t*(y()/2+i),o[d]=tn(tn({},p),{},{isShow:!0}))},c=a-1;c>=0;c--)u(c);return o}function Sme(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=e.start,u=e.end;if(o){var c=r[s-1],f=n(c,s-1),d=t*(c.coordinate+t*f/2-u);a[s-1]=c=tn(tn({},c),{},{tickCoord:d>0?c.coordinate-d*t:c.coordinate});var p=Fp(t,c.tickCoord,function(){return f},l,u);p&&(u=c.tickCoord-t*(f/2+i),a[s-1]=tn(tn({},c),{},{isShow:!0}))}for(var g=o?s-1:s,y=function(m){var _=a[m],x,T=function(){return x===void 0&&(x=n(_,m)),x};if(m===0){var O=t*(_.coordinate-t*T()/2-l);a[m]=_=tn(tn({},_),{},{tickCoord:O<0?_.coordinate-O*t:_.coordinate})}else a[m]=_=tn(tn({},_),{},{tickCoord:_.coordinate});var S=Fp(t,_.tickCoord,T,l,u);S&&(l=_.tickCoord+t*(T()/2+i),a[m]=tn(tn({},_),{},{isShow:!0}))},v=0;v<g;v++)y(v);return a}function sx(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(ee(l)||pi.isSsr)return vme(i,typeof l=="number"&&ee(l)?l:0);var d=[],p=s==="top"||s==="bottom"?"width":"height",g=c&&p==="width"?Fu(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},y=function(_,x){var T=we(u)?u(_.value,x):_.value;return p==="width"?gme(Fu(T,{fontSize:e,letterSpacing:n}),g,f):Fu(T,{fontSize:e,letterSpacing:n})[p]},v=i.length>=2?vn(i[1].coordinate-i[0].coordinate):1,b=yme(o,v,p);return l==="equidistantPreserveStart"?_me(v,b,y,i,a):(l==="preserveStart"||l==="preserveStartEnd"?d=Sme(v,b,y,i,a,l==="preserveStartEnd"):d=Eme(v,b,y,i,a),d.filter(function(m){return m.isShow}))}var Tme=["viewBox"],Ame=["viewBox"],Pme=["ticks"];function il(t){"@babel/helpers - typeof";return il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},il(t)}function ms(){return ms=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ms.apply(this,arguments)}function CO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CO(Object(n),!0).forEach(function(r){lx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xy(t,e){if(t==null)return{};var n=Ime(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ime(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Ome(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_$(r.key),r)}}function Cme(t,e,n){return e&&kO(t.prototype,e),n&&kO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function kme(t,e,n){return e=Up(e),Rme(t,v$()?Reflect.construct(e,n||[],Up(t).constructor):e.apply(t,n))}function Rme(t,e){if(e&&(il(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nme(t)}function Nme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v$=function(){return!!t})()}function Up(t){return Up=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Up(t)}function Dme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$_(t,e)}function $_(t,e){return $_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$_(t,e)}function lx(t,e,n){return e=_$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _$(t){var e=jme(t,"string");return il(e)=="symbol"?e:String(e)}function jme(t,e){if(il(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(il(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cl=function(t){Dme(e,t);function e(n){var r;return Ome(this,e),r=kme(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Cme(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=Xy(r,Tme),s=this.props,l=s.viewBox,u=Xy(s,Ame);return!As(o,l)||!As(a,u)||!As(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,f=i.mirror,d=i.tickMargin,p,g,y,v,b,m,_=f?-1:1,x=r.tickSize||c,T=ee(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":p=g=r.coordinate,v=a+ +!f*l,y=v-_*x,m=y-_*d,b=T;break;case"left":y=v=r.coordinate,g=o+ +!f*s,p=g-_*x,b=p-_*d,m=T;break;case"right":y=v=r.coordinate,g=o+ +f*s,p=g+_*x,b=p+_*d,m=T;break;default:p=g=r.coordinate,v=a+ +f*l,y=v+_*x,m=y+_*d,b=T;break}return{line:{x1:p,y1:y,x2:g,y2:v},tick:{x:b,y:m}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,f=mn(mn(mn({},ye(this.props,!1)),ye(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var d=+(l==="top"&&!u||l==="bottom"&&u);f=mn(mn({},f),{},{x1:i,y1:o+d*s,x2:i+a,y2:o+d*s})}else{var p=+(l==="left"&&!u||l==="right"&&u);f=mn(mn({},f),{},{x1:i+p*a,y1:o,x2:i+p*a,y2:o+s})}return M.createElement("line",ms({},f,{className:Se("recharts-cartesian-axis-line",zn(c,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,f=s.tickFormatter,d=s.unit,p=sx(mn(mn({},this.props),{},{ticks:r}),i,o),g=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),v=ye(this.props,!1),b=ye(c,!1),m=mn(mn({},v),{},{fill:"none"},ye(l,!1)),_=p.map(function(x,T){var O=a.getTickLineCoord(x),S=O.line,E=O.tick,I=mn(mn(mn(mn({textAnchor:g,verticalAnchor:y},v),{},{stroke:"none",fill:u},b),E),{},{index:T,payload:x,visibleTicksCount:p.length,tickFormatter:f});return M.createElement(Ue,ms({className:"recharts-cartesian-axis-tick",key:"tick-".concat(x.value,"-").concat(x.coordinate,"-").concat(x.tickCoord)},Ea(a.props,x,T)),l&&M.createElement("line",ms({},m,S,{className:Se("recharts-cartesian-axis-tick-line",zn(l,"className"))})),c&&e.renderTickItem(c,I,"".concat(we(f)?f(x.value,T):x.value).concat(d||"")))});return M.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var f=this.props,d=f.ticks,p=Xy(f,Pme),g=d;return we(l)&&(g=d&&d.length>0?l(this.props):l(p)),a<=0||s<=0||!g||!g.length?null:M.createElement(Ue,{className:Se("recharts-cartesian-axis",u),ref:function(v){r.layerReference=v}},o&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Mt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a;return M.isValidElement(r)?a=M.cloneElement(r,i):we(r)?a=r(i):a=M.createElement(Sa,ms({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}]),e}(j.Component);lx(Cl,"displayName","CartesianAxis");lx(Cl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Mme=["x1","y1","x2","y2","key"],$me=["offset"];function Pa(t){"@babel/helpers - typeof";return Pa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pa(t)}function RO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RO(Object(n),!0).forEach(function(r){Lme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lme(t,e,n){return e=Vme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vme(t){var e=Fme(t,"string");return Pa(e)=="symbol"?e:String(e)}function Fme(t,e){if(Pa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Pa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ia(){return ia=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ia.apply(this,arguments)}function NO(t,e){if(t==null)return{};var n=Ume(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ume(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Bme=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height;return M.createElement("rect",{x:i,y:o,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function w$(t,e){var n;if(M.isValidElement(t))n=M.cloneElement(t,e);else if(we(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,a=e.y2,s=e.key,l=NO(e,Mme),u=ye(l,!1);u.offset;var c=NO(u,$me);n=M.createElement("line",ia({},c,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function zme(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=sn(sn({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return w$(i,u)});return M.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function Wme(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=sn(sn({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return w$(i,u)});return M.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function qme(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,a=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=s.map(function(d){return Math.round(d+i-i)}).sort(function(d,p){return d-p});i!==c[0]&&c.unshift(0);var f=c.map(function(d,p){var g=!c[p+1],y=g?i+a-d:c[p+1]-d;if(y<=0)return null;var v=p%e.length;return M.createElement("rect",{key:"react-".concat(p),y:d,x:r,height:y,width:o,stroke:"none",fill:e[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Hme(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,a=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(d){return Math.round(d+o-o)}).sort(function(d,p){return d-p});o!==c[0]&&c.unshift(0);var f=c.map(function(d,p){var g=!c[p+1],y=g?o+s-d:c[p+1]-d;if(y<=0)return null;var v=p%r.length;return M.createElement("rect",{key:"react-".concat(p),x:d,y:a,width:y,height:l,stroke:"none",fill:r[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Kme=function(e,n){var r=e.xAxis,i=e.width,o=e.height,a=e.offset;return TM(sx(sn(sn(sn({},Cl.defaultProps),r),{},{ticks:ui(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,n)},Gme=function(e,n){var r=e.yAxis,i=e.width,o=e.height,a=e.offset;return TM(sx(sn(sn(sn({},Cl.defaultProps),r),{},{ticks:ui(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,n)},Ga={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function b$(t){var e,n,r,i,o,a,s=ix(),l=ox(),u=Qpe(),c=sn(sn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Ga.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Ga.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Ga.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Ga.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:Ga.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:Ga.verticalFill,x:ee(t.x)?t.x:u.left,y:ee(t.y)?t.y:u.top,width:ee(t.width)?t.width:u.width,height:ee(t.height)?t.height:u.height}),f=c.x,d=c.y,p=c.width,g=c.height,y=c.syncWithTicks,v=c.horizontalValues,b=c.verticalValues,m=Gpe(),_=Xpe();if(!ee(p)||p<=0||!ee(g)||g<=0||!ee(f)||f!==+f||!ee(d)||d!==+d)return null;var x=c.verticalCoordinatesGenerator||Kme,T=c.horizontalCoordinatesGenerator||Gme,O=c.horizontalPoints,S=c.verticalPoints;if((!O||!O.length)&&we(T)){var E=v&&v.length,I=T({yAxis:_?sn(sn({},_),{},{ticks:E?v:_.ticks}):void 0,width:s,height:l,offset:u},E?!0:y);br(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Pa(I),"]")),Array.isArray(I)&&(O=I)}if((!S||!S.length)&&we(x)){var C=b&&b.length,R=x({xAxis:m?sn(sn({},m),{},{ticks:C?b:m.ticks}):void 0,width:s,height:l,offset:u},C?!0:y);br(Array.isArray(R),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Pa(R),"]")),Array.isArray(R)&&(S=R)}return M.createElement("g",{className:"recharts-cartesian-grid"},M.createElement(Bme,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height}),M.createElement(zme,ia({},c,{offset:u,horizontalPoints:O,xAxis:m,yAxis:_})),M.createElement(Wme,ia({},c,{offset:u,verticalPoints:S,xAxis:m,yAxis:_})),M.createElement(qme,ia({},c,{horizontalPoints:O})),M.createElement(Hme,ia({},c,{verticalPoints:S})))}b$.displayName="CartesianGrid";function L_(){return L_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L_.apply(this,arguments)}var vg=function(e){var n=e.xAxisId,r=ix(),i=ox(),o=m$(n);return o==null?null:M.createElement(Cl,L_({},o,{className:Se("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return ui(s,!0)}}))};vg.displayName="XAxis";vg.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};function V_(){return V_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},V_.apply(this,arguments)}var _g=function(e){var n=e.yAxisId,r=ix(),i=ox(),o=g$(n);return o==null?null:M.createElement(Cl,V_({},o,{className:Se("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return ui(s,!0)}}))};_g.displayName="YAxis";_g.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};function DO(t){return Jme(t)||Qme(t)||Yme(t)||Xme()}function Xme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yme(t,e){if(t){if(typeof t=="string")return F_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F_(t,e)}}function Qme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jme(t){if(Array.isArray(t))return F_(t)}function F_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var U_=function(e,n,r,i,o){var a=or(e,ax),s=or(e,$f),l=[].concat(DO(a),DO(s)),u=or(e,Lf),c="".concat(i,"Id"),f=i[0],d=n;if(l.length&&(d=l.reduce(function(y,v){if(v.props[c]===r&&qr(v.props,"extendDomain")&&ee(v.props[f])){var b=v.props[f];return[Math.min(y[0],b),Math.max(y[1],b)]}return y},d)),u.length){var p="".concat(f,"1"),g="".concat(f,"2");d=u.reduce(function(y,v){if(v.props[c]===r&&qr(v.props,"extendDomain")&&ee(v.props[p])&&ee(v.props[g])){var b=v.props[p],m=v.props[g];return[Math.min(y[0],b,m),Math.max(y[1],b,m)]}return y},d)}return o&&o.length&&(d=o.reduce(function(y,v){return ee(v)?[Math.min(y[0],v),Math.max(y[1],v)]:y},d)),d},x$={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,f,d){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,f||l,d),g=n?n+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,p=f.length,g=new Array(p);d<p;d++)g[d]=f[d].fn;return g},s.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,c,f,d,p,g){var y=n?n+u:u;if(!this._events[y])return!1;var v=this._events[y],b=arguments.length,m,_;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,c),!0;case 3:return v.fn.call(v.context,c,f),!0;case 4:return v.fn.call(v.context,c,f,d),!0;case 5:return v.fn.call(v.context,c,f,d,p),!0;case 6:return v.fn.call(v.context,c,f,d,p,g),!0}for(_=1,m=new Array(b-1);_<b;_++)m[_-1]=arguments[_];v.fn.apply(v.context,m)}else{var x=v.length,T;for(_=0;_<x;_++)switch(v[_].once&&this.removeListener(u,v[_].fn,void 0,!0),b){case 1:v[_].fn.call(v[_].context);break;case 2:v[_].fn.call(v[_].context,c);break;case 3:v[_].fn.call(v[_].context,c,f);break;case 4:v[_].fn.call(v[_].context,c,f,d);break;default:if(!m)for(T=1,m=new Array(b-1);T<b;T++)m[T-1]=arguments[T];v[_].fn.apply(v[_].context,m)}}return!0},s.prototype.on=function(u,c,f){return o(this,u,c,f,!1)},s.prototype.once=function(u,c,f){return o(this,u,c,f,!0)},s.prototype.removeListener=function(u,c,f,d){var p=n?n+u:u;if(!this._events[p])return this;if(!c)return a(this,p),this;var g=this._events[p];if(g.fn)g.fn===c&&(!d||g.once)&&(!f||g.context===f)&&a(this,p);else{for(var y=0,v=[],b=g.length;y<b;y++)(g[y].fn!==c||d&&!g[y].once||f&&g[y].context!==f)&&v.push(g[y]);v.length?this._events[p]=v.length===1?v[0]:v:a(this,p)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&a(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(x$);var Zme=x$.exports;const ege=ze(Zme);var Yy=new ege,Qy="recharts.syncMouseEvents";function lf(t){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lf(t)}function tge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,E$(r.key),r)}}function rge(t,e,n){return e&&nge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jy(t,e,n){return e=E$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E$(t){var e=ige(t,"string");return lf(e)=="symbol"?e:String(e)}function ige(t,e){if(lf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oge=function(){function t(){tge(this,t),Jy(this,"activeIndex",0),Jy(this,"coordinateList",[]),Jy(this,"layout","horizontal")}return rge(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,u=l===void 0?null:l,c=n.offset,f=c===void 0?null:c,d=n.mouseHandlerCallback,p=d===void 0?null:d;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+u,d=a+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:f,pageY:d})}}}]),t}();function age(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&ee(r)&&ee(i))return!0}return!1}function sge(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function S$(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=Ze(e,n,r,i),s=Ze(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function lge(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,f=e.angle,d=Ze(s,l,u,f),p=Ze(s,l,c,f);r=d.x,i=d.y,o=p.x,a=p.y}else return S$(e);return[{x:r,y:i},{x:o,y:a}]}function uf(t){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uf(t)}function jO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jO(Object(n),!0).forEach(function(r){uge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uge(t,e,n){return e=cge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cge(t){var e=fge(t,"string");return uf(e)=="symbol"?e:String(e)}function fge(t,e){if(uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hge(t){var e=t.element,n=t.tooltipEventType,r=t.isActive,i=t.activeCoordinate,o=t.activePayload,a=t.offset,s=t.activeTooltipIndex,l=t.tooltipAxisBandSize,u=t.layout,c=t.chartName;if(!e||!e.props.cursor||!r||!i||c!=="ScatterChart"&&n!=="axis")return null;var f,d=m_;if(c==="ScatterChart")f=i,d=Afe;else if(c==="BarChart")f=sge(u,i,a,l),d=Z1;else if(u==="radial"){var p=S$(i),g=p.cx,y=p.cy,v=p.radius,b=p.startAngle,m=p.endAngle;f={cx:g,cy:y,startAngle:b,endAngle:m,innerRadius:v,outerRadius:v},d=MM}else f={points:lge(u,i,a)},d=m_;var _=Lh(Lh(Lh(Lh({stroke:"#ccc",pointerEvents:"none"},a),f),ye(e.props.cursor,!1)),{},{payload:o,payloadIndex:s,className:Se("recharts-tooltip-cursor",e.props.cursor.className)});return j.isValidElement(e.props.cursor)?j.cloneElement(e.props.cursor,_):j.createElement(d,_)}var dge=["item"],pge=["children","className","width","height","style","compact","title","desc"];function ol(t){"@babel/helpers - typeof";return ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ol(t)}function Hu(){return Hu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hu.apply(this,arguments)}function MO(t,e){return yge(t)||gge(t,e)||A$(t,e)||mge()}function mge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function yge(t){if(Array.isArray(t))return t}function $O(t,e){if(t==null)return{};var n=vge(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vge(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function _ge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,P$(r.key),r)}}function bge(t,e,n){return e&&wge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xge(t,e,n){return e=Bp(e),Ege(t,T$()?Reflect.construct(e,n||[],Bp(t).constructor):e.apply(t,n))}function Ege(t,e){if(e&&(ol(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Re(t)}function T$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T$=function(){return!!t})()}function Bp(t){return Bp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bp(t)}function Re(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B_(t,e)}function B_(t,e){return B_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},B_(t,e)}function al(t){return Pge(t)||Age(t)||A$(t)||Tge()}function Tge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A$(t,e){if(t){if(typeof t=="string")return z_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z_(t,e)}}function Age(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Pge(t){if(Array.isArray(t))return z_(t)}function z_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function LO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function q(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LO(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function me(t,e,n){return e=P$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P$(t){var e=Ige(t,"string");return ol(e)=="symbol"?e:String(e)}function Ige(t,e){if(ol(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ol(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Oge={xAxis:["bottom","top"],yAxis:["left","right"]},Cge={width:"100%",height:"100%"},I$={x:0,y:0};function Vh(t){return t}var kge=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Rge=function(e,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return q(q(q({},i),Ze(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,u=i.angle;return q(q(q({},i),Ze(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return I$},wg=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(al(s),al(u)):s},[]);return a.length>0?a:e&&e.length&&ee(i)&&ee(o)?e.slice(i,o+1):[]};function O$(t){return t==="number"?[0,"auto"]:void 0}var W_=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,s=wg(n,e);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,u){var c,f=(c=u.props.data)!==null&&c!==void 0?c:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var d;if(a.dataKey&&!a.allowDuplicatedCategory){var p=f===void 0?s:f;d=E0(p,a.dataKey,i)}else d=f&&f[r]||s[r];return d?[].concat(al(l),[CM(u,d)]):l},[])},VO=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=kge(o,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=fle(a,s,u,l);if(c>=0&&u){var f=u[c]&&u[c].value,d=W_(e,n,c,f),p=Rge(r,s,c,o);return{activeTooltipIndex:c,activeLabel:f,activePayload:d,activeCoordinate:p}}return null},Nge=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,d=e.stackOffset,p=SM(c,o);return r.reduce(function(g,y){var v,b=y.props,m=b.type,_=b.dataKey,x=b.allowDataOverflow,T=b.allowDuplicatedCategory,O=b.scale,S=b.ticks,E=b.includeHidden,I=y.props[a];if(g[I])return g;var C=wg(e.data,{graphicalItems:i.filter(function(Z){return Z.props[a]===I}),dataStartIndex:l,dataEndIndex:u}),R=C.length,N,k,V;age(y.props.domain,x,m)&&(N=c_(y.props.domain,null,x),p&&(m==="number"||O!=="auto")&&(V=Bu(C,_,"category")));var K=O$(m);if(!N||N.length===0){var B,z=(B=y.props.domain)!==null&&B!==void 0?B:K;if(_){if(N=Bu(C,_,m),m==="category"&&p){var $=hK(N);T&&$?(k=N,N=jp(0,R)):T||(N=cI(z,N,y).reduce(function(Z,se){return Z.indexOf(se)>=0?Z:[].concat(al(Z),[se])},[]))}else if(m==="category")T?N=N.filter(function(Z){return Z!==""&&!Te(Z)}):N=cI(z,N,y).reduce(function(Z,se){return Z.indexOf(se)>=0||se===""||Te(se)?Z:[].concat(al(Z),[se])},[]);else if(m==="number"){var W=gle(C,i.filter(function(Z){return Z.props[a]===I&&(E||!Z.props.hide)}),_,o,c);W&&(N=W)}p&&(m==="number"||O!=="auto")&&(V=Bu(C,_,"category"))}else p?N=jp(0,R):s&&s[I]&&s[I].hasStack&&m==="number"?N=d==="expand"?[0,1]:OM(s[I].stackGroups,l,u):N=EM(C,i.filter(function(Z){return Z.props[a]===I&&(E||!Z.props.hide)}),m,c,!0);if(m==="number")N=U_(f,N,I,o,S),z&&(N=c_(z,N,x));else if(m==="category"&&z){var Y=z,ne=N.every(function(Z){return Y.indexOf(Z)>=0});ne&&(N=Y)}}return q(q({},g),{},me({},I,q(q({},y.props),{},{axisType:o,domain:N,categoricalDomain:V,duplicateDomain:k,originalDomain:(v=y.props.domain)!==null&&v!==void 0?v:K,isCategorical:p,layout:c})))},{})},Dge=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,d=wg(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),p=d.length,g=SM(c,o),y=-1;return r.reduce(function(v,b){var m=b.props[a],_=O$("number");if(!v[m]){y++;var x;return g?x=jp(0,p):s&&s[m]&&s[m].hasStack?(x=OM(s[m].stackGroups,l,u),x=U_(f,x,m,o)):(x=c_(_,EM(d,r.filter(function(T){return T.props[a]===m&&!T.props.hide}),"number",c),i.defaultProps.allowDataOverflow),x=U_(f,x,m,o)),q(q({},v),{},me({},m,q(q({axisType:o},i.defaultProps),{},{hide:!0,orientation:zn(Oge,"".concat(o,".").concat(y%2),null),domain:x,originalDomain:_,isCategorical:g,layout:c})))}return v},{})},jge=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,f="".concat(i,"Id"),d=or(c,o),p={};return d&&d.length?p=Nge(e,{axes:d,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):a&&a.length&&(p=Dge(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),p},Mge=function(e){var n=Qi(e),r=ui(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:A1(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Ep(n,r)}},FO=function(e){var n=e.children,r=e.defaultShowTooltip,i=Ln(n,nl),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},$ge=function(e){return!e||!e.length?!1:e.some(function(n){var r=di(n&&n.type);return r&&r.indexOf("Bar")>=0})},UO=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Lge=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,c=r.height,f=r.children,d=r.margin||{},p=Ln(f,nl),g=Ln(f,Ac),y=Object.keys(l).reduce(function(T,O){var S=l[O],E=S.orientation;return!S.mirror&&!S.hide?q(q({},T),{},me({},E,T[E]+S.width)):T},{left:d.left||0,right:d.right||0}),v=Object.keys(a).reduce(function(T,O){var S=a[O],E=S.orientation;return!S.mirror&&!S.hide?q(q({},T),{},me({},E,zn(T,"".concat(E))+S.height)):T},{top:d.top||0,bottom:d.bottom||0}),b=q(q({},v),y),m=b.bottom;p&&(b.bottom+=p.props.height||nl.defaultProps.height),g&&n&&(b=ple(b,i,r,n));var _=u-b.left-b.right,x=c-b.top-b.bottom;return q(q({brushBottom:m},b),{},{width:Math.max(_,0),height:Math.max(x,0)})},Vge=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},C$=function(e){var n,r=e.chartName,i=e.GraphicalChild,o=e.defaultTooltipEventType,a=o===void 0?"axis":o,s=e.validateTooltipEventTypes,l=s===void 0?["axis"]:s,u=e.axisComponents,c=e.legendContent,f=e.formatAxisMap,d=e.defaultProps,p=function(v,b){var m=b.graphicalItems,_=b.stackGroups,x=b.offset,T=b.updateId,O=b.dataStartIndex,S=b.dataEndIndex,E=v.barSize,I=v.layout,C=v.barGap,R=v.barCategoryGap,N=v.maxBarSize,k=UO(I),V=k.numericAxisName,K=k.cateAxisName,B=$ge(m),z=[];return m.forEach(function($,W){var Y=wg(v.data,{graphicalItems:[$],dataStartIndex:O,dataEndIndex:S}),ne=$.props,Z=ne.dataKey,se=ne.maxBarSize,Ce=$.props["".concat(V,"Id")],Ve=$.props["".concat(K,"Id")],mt={},Le=u.reduce(function(ce,de){var $e=b["".concat(de.axisType,"Map")],ke=$.props["".concat(de.axisType,"Id")];$e&&$e[ke]||de.axisType==="zAxis"||Aa();var Pr=$e[ke];return q(q({},ce),{},me(me({},de.axisType,Pr),"".concat(de.axisType,"Ticks"),ui(Pr)))},mt),fn=Le[K],re=Le["".concat(K,"Ticks")],he=_&&_[Ce]&&_[Ce].hasStack&&Tle($,_[Ce].stackGroups),pe=di($.type).indexOf("Bar")>=0,G=Ep(fn,re),Fe=[],Ee=B&&hle({barSize:E,stackGroups:_,totalSize:Vge(Le,K)});if(pe){var Ke,qe,F=Te(se)?N:se,le=(Ke=(qe=Ep(fn,re,!0))!==null&&qe!==void 0?qe:F)!==null&&Ke!==void 0?Ke:0;Fe=dle({barGap:C,barCategoryGap:R,bandSize:le!==G?le:G,sizeList:Ee[Ve],maxBarSize:F}),le!==G&&(Fe=Fe.map(function(ce){return q(q({},ce),{},{position:q(q({},ce.position),{},{offset:ce.position.offset-le/2})})}))}var xe=$&&$.type&&$.type.getComposedData;xe&&z.push({props:q(q({},xe(q(q({},Le),{},{displayedData:Y,props:v,dataKey:Z,item:$,bandSize:G,barPosition:Fe,offset:x,stackedData:he,layout:I,dataStartIndex:O,dataEndIndex:S}))),{},me(me(me({key:$.key||"item-".concat(W)},V,Le[V]),K,Le[K]),"animationId",T)),childIndex:EK($,v.children),item:$})}),z},g=function(v,b){var m=v.props,_=v.dataStartIndex,x=v.dataEndIndex,T=v.updateId;if(!iA({props:m}))return null;var O=m.children,S=m.layout,E=m.stackOffset,I=m.data,C=m.reverseStackOrder,R=UO(S),N=R.numericAxisName,k=R.cateAxisName,V=or(O,i),K=Ele(I,V,"".concat(N,"Id"),"".concat(k,"Id"),E,C),B=u.reduce(function(ne,Z){var se="".concat(Z.axisType,"Map");return q(q({},ne),{},me({},se,jge(m,q(q({},Z),{},{graphicalItems:V,stackGroups:Z.axisType===N&&K,dataStartIndex:_,dataEndIndex:x}))))},{}),z=Lge(q(q({},B),{},{props:m,graphicalItems:V}),b==null?void 0:b.legendBBox);Object.keys(B).forEach(function(ne){B[ne]=f(m,B[ne],z,ne.replace("Map",""),r)});var $=B["".concat(k,"Map")],W=Mge($),Y=p(m,q(q({},B),{},{dataStartIndex:_,dataEndIndex:x,updateId:T,graphicalItems:V,stackGroups:K,offset:z}));return q(q({formattedGraphicalItems:Y,graphicalItems:V,offset:z,stackGroups:K},W),B)};return n=function(y){Sge(v,y);function v(b){var m,_,x;return _ge(this,v),x=xge(this,v,[b]),me(Re(x),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),me(Re(x),"accessibilityManager",new oge),me(Re(x),"handleLegendBBoxUpdate",function(T){if(T){var O=x.state,S=O.dataStartIndex,E=O.dataEndIndex,I=O.updateId;x.setState(q({legendBBox:T},g({props:x.props,dataStartIndex:S,dataEndIndex:E,updateId:I},q(q({},x.state),{},{legendBBox:T}))))}}),me(Re(x),"handleReceiveSyncEvent",function(T,O,S){if(x.props.syncId===T){if(S===x.eventEmitterSymbol&&typeof x.props.syncMethod!="function")return;x.applySyncEvent(O)}}),me(Re(x),"handleBrushChange",function(T){var O=T.startIndex,S=T.endIndex;if(O!==x.state.dataStartIndex||S!==x.state.dataEndIndex){var E=x.state.updateId;x.setState(function(){return q({dataStartIndex:O,dataEndIndex:S},g({props:x.props,dataStartIndex:O,dataEndIndex:S,updateId:E},x.state))}),x.triggerSyncEvent({dataStartIndex:O,dataEndIndex:S})}}),me(Re(x),"handleMouseEnter",function(T){var O=x.getMouseInfo(T);if(O){var S=q(q({},O),{},{isTooltipActive:!0});x.setState(S),x.triggerSyncEvent(S);var E=x.props.onMouseEnter;we(E)&&E(S,T)}}),me(Re(x),"triggeredAfterMouseMove",function(T){var O=x.getMouseInfo(T),S=O?q(q({},O),{},{isTooltipActive:!0}):{isTooltipActive:!1};x.setState(S),x.triggerSyncEvent(S);var E=x.props.onMouseMove;we(E)&&E(S,T)}),me(Re(x),"handleItemMouseEnter",function(T){x.setState(function(){return{isTooltipActive:!0,activeItem:T,activePayload:T.tooltipPayload,activeCoordinate:T.tooltipPosition||{x:T.cx,y:T.cy}}})}),me(Re(x),"handleItemMouseLeave",function(){x.setState(function(){return{isTooltipActive:!1}})}),me(Re(x),"handleMouseMove",function(T){T.persist(),x.throttleTriggeredAfterMouseMove(T)}),me(Re(x),"handleMouseLeave",function(T){x.throttleTriggeredAfterMouseMove.cancel();var O={isTooltipActive:!1};x.setState(O),x.triggerSyncEvent(O);var S=x.props.onMouseLeave;we(S)&&S(O,T)}),me(Re(x),"handleOuterEvent",function(T){var O=xK(T),S=zn(x.props,"".concat(O));if(O&&we(S)){var E,I;/.*touch.*/i.test(O)?I=x.getMouseInfo(T.changedTouches[0]):I=x.getMouseInfo(T),S((E=I)!==null&&E!==void 0?E:{},T)}}),me(Re(x),"handleClick",function(T){var O=x.getMouseInfo(T);if(O){var S=q(q({},O),{},{isTooltipActive:!0});x.setState(S),x.triggerSyncEvent(S);var E=x.props.onClick;we(E)&&E(S,T)}}),me(Re(x),"handleMouseDown",function(T){var O=x.props.onMouseDown;if(we(O)){var S=x.getMouseInfo(T);O(S,T)}}),me(Re(x),"handleMouseUp",function(T){var O=x.props.onMouseUp;if(we(O)){var S=x.getMouseInfo(T);O(S,T)}}),me(Re(x),"handleTouchMove",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&x.throttleTriggeredAfterMouseMove(T.changedTouches[0])}),me(Re(x),"handleTouchStart",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&x.handleMouseDown(T.changedTouches[0])}),me(Re(x),"handleTouchEnd",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&x.handleMouseUp(T.changedTouches[0])}),me(Re(x),"triggerSyncEvent",function(T){x.props.syncId!==void 0&&Yy.emit(Qy,x.props.syncId,T,x.eventEmitterSymbol)}),me(Re(x),"applySyncEvent",function(T){var O=x.props,S=O.layout,E=O.syncMethod,I=x.state.updateId,C=T.dataStartIndex,R=T.dataEndIndex;if(T.dataStartIndex!==void 0||T.dataEndIndex!==void 0)x.setState(q({dataStartIndex:C,dataEndIndex:R},g({props:x.props,dataStartIndex:C,dataEndIndex:R,updateId:I},x.state)));else if(T.activeTooltipIndex!==void 0){var N=T.chartX,k=T.chartY,V=T.activeTooltipIndex,K=x.state,B=K.offset,z=K.tooltipTicks;if(!B)return;if(typeof E=="function")V=E(z,T);else if(E==="value"){V=-1;for(var $=0;$<z.length;$++)if(z[$].value===T.activeLabel){V=$;break}}var W=q(q({},B),{},{x:B.left,y:B.top}),Y=Math.min(N,W.x+W.width),ne=Math.min(k,W.y+W.height),Z=z[V]&&z[V].value,se=W_(x.state,x.props.data,V),Ce=z[V]?{x:S==="horizontal"?z[V].coordinate:Y,y:S==="horizontal"?ne:z[V].coordinate}:I$;x.setState(q(q({},T),{},{activeLabel:Z,activeCoordinate:Ce,activePayload:se,activeTooltipIndex:V}))}else x.setState(T)}),me(Re(x),"renderCursor",function(T){var O,S=x.state,E=S.isTooltipActive,I=S.activeCoordinate,C=S.activePayload,R=S.offset,N=S.activeTooltipIndex,k=S.tooltipAxisBandSize,V=x.getTooltipEventType(),K=(O=T.props.active)!==null&&O!==void 0?O:E,B=x.props.layout,z=T.key||"_recharts-cursor";return M.createElement(hge,{key:z,activeCoordinate:I,activePayload:C,activeTooltipIndex:N,chartName:r,element:T,isActive:K,layout:B,offset:R,tooltipAxisBandSize:k,tooltipEventType:V})}),me(Re(x),"renderPolarAxis",function(T,O,S){var E=zn(T,"type.axisType"),I=zn(x.state,"".concat(E,"Map")),C=I&&I[T.props["".concat(E,"Id")]];return j.cloneElement(T,q(q({},C),{},{className:Se(E,C.className),key:T.key||"".concat(O,"-").concat(S),ticks:ui(C,!0)}))}),me(Re(x),"renderPolarGrid",function(T){var O=T.props,S=O.radialLines,E=O.polarAngles,I=O.polarRadius,C=x.state,R=C.radiusAxisMap,N=C.angleAxisMap,k=Qi(R),V=Qi(N),K=V.cx,B=V.cy,z=V.innerRadius,$=V.outerRadius;return j.cloneElement(T,{polarAngles:Array.isArray(E)?E:ui(V,!0).map(function(W){return W.coordinate}),polarRadius:Array.isArray(I)?I:ui(k,!0).map(function(W){return W.coordinate}),cx:K,cy:B,innerRadius:z,outerRadius:$,key:T.key||"polar-grid",radialLines:S})}),me(Re(x),"renderLegend",function(){var T=x.state.formattedGraphicalItems,O=x.props,S=O.children,E=O.width,I=O.height,C=x.props.margin||{},R=E-(C.left||0)-(C.right||0),N=bM({children:S,formattedGraphicalItems:T,legendWidth:R,legendContent:c});if(!N)return null;var k=N.item,V=$O(N,dge);return j.cloneElement(k,q(q({},V),{},{chartWidth:E,chartHeight:I,margin:C,onBBoxUpdate:x.handleLegendBBoxUpdate}))}),me(Re(x),"renderTooltip",function(){var T,O=x.props,S=O.children,E=O.accessibilityLayer,I=Ln(S,kr);if(!I)return null;var C=x.state,R=C.isTooltipActive,N=C.activeCoordinate,k=C.activePayload,V=C.activeLabel,K=C.offset,B=(T=I.props.active)!==null&&T!==void 0?T:R;return j.cloneElement(I,{viewBox:q(q({},K),{},{x:K.left,y:K.top}),active:B,label:V,payload:B?k:[],coordinate:N,accessibilityLayer:E})}),me(Re(x),"renderBrush",function(T){var O=x.props,S=O.margin,E=O.data,I=x.state,C=I.offset,R=I.dataStartIndex,N=I.dataEndIndex,k=I.updateId;return j.cloneElement(T,{key:T.key||"_recharts-brush",onChange:Dh(x.handleBrushChange,T.props.onChange),data:E,x:ee(T.props.x)?T.props.x:C.left,y:ee(T.props.y)?T.props.y:C.top+C.height+C.brushBottom-(S.bottom||0),width:ee(T.props.width)?T.props.width:C.width,startIndex:R,endIndex:N,updateId:"brush-".concat(k)})}),me(Re(x),"renderReferenceElement",function(T,O,S){if(!T)return null;var E=Re(x),I=E.clipPathId,C=x.state,R=C.xAxisMap,N=C.yAxisMap,k=C.offset,V=T.props,K=V.xAxisId,B=V.yAxisId;return j.cloneElement(T,{key:T.key||"".concat(O,"-").concat(S),xAxis:R[K],yAxis:N[B],viewBox:{x:k.left,y:k.top,width:k.width,height:k.height},clipPathId:I})}),me(Re(x),"renderActivePoints",function(T){var O=T.item,S=T.activePoint,E=T.basePoint,I=T.childIndex,C=T.isRange,R=[],N=O.props.key,k=O.item.props,V=k.activeDot,K=k.dataKey,B=q(q({index:I,dataKey:K,cx:S.x,cy:S.y,r:4,fill:J1(O.item),strokeWidth:2,stroke:"#fff",payload:S.payload,value:S.value,key:"".concat(N,"-activePoint-").concat(I)},ye(V,!1)),Qd(V));return R.push(v.renderActiveDot(V,B)),E?R.push(v.renderActiveDot(V,q(q({},B),{},{cx:E.x,cy:E.y,key:"".concat(N,"-basePoint-").concat(I)}))):C&&R.push(null),R}),me(Re(x),"renderGraphicChild",function(T,O,S){var E=x.filterFormatItem(T,O,S);if(!E)return null;var I=x.getTooltipEventType(),C=x.state,R=C.isTooltipActive,N=C.tooltipAxis,k=C.activeTooltipIndex,V=C.activeLabel,K=x.props.children,B=Ln(K,kr),z=E.props,$=z.points,W=z.isRange,Y=z.baseLine,ne=E.item.props,Z=ne.activeDot,se=ne.hide,Ce=ne.activeBar,Ve=ne.activeShape,mt=!!(!se&&R&&B&&(Z||Ce||Ve)),Le={};I!=="axis"&&B&&B.props.trigger==="click"?Le={onClick:Dh(x.handleItemMouseEnter,T.props.onClick)}:I!=="axis"&&(Le={onMouseLeave:Dh(x.handleItemMouseLeave,T.props.onMouseLeave),onMouseEnter:Dh(x.handleItemMouseEnter,T.props.onMouseEnter)});var fn=j.cloneElement(T,q(q({},E.props),Le));function re(de){return typeof N.dataKey=="function"?N.dataKey(de.payload):null}if(mt)if(k>=0){var he,pe;if(N.dataKey&&!N.allowDuplicatedCategory){var G=typeof N.dataKey=="function"?re:"payload.".concat(N.dataKey.toString());he=E0($,G,V),pe=W&&Y&&E0(Y,G,V)}else he=$==null?void 0:$[k],pe=W&&Y&&Y[k];if(Ve||Ce){var Fe=T.props.activeIndex!==void 0?T.props.activeIndex:k;return[j.cloneElement(T,q(q(q({},E.props),Le),{},{activeIndex:Fe})),null,null]}if(!Te(he))return[fn].concat(al(x.renderActivePoints({item:E,activePoint:he,basePoint:pe,childIndex:k,isRange:W})))}else{var Ee,Ke=(Ee=x.getItemByXY(x.state.activeCoordinate))!==null&&Ee!==void 0?Ee:{graphicalItem:fn},qe=Ke.graphicalItem,F=qe.item,le=F===void 0?T:F,xe=qe.childIndex,ce=q(q(q({},E.props),Le),{},{activeIndex:xe});return[j.cloneElement(le,ce),null,null]}return W?[fn,null,null]:[fn,null]}),me(Re(x),"renderCustomized",function(T,O,S){return j.cloneElement(T,q(q({key:"recharts-customized-".concat(S)},x.props),x.state))}),me(Re(x),"renderMap",{CartesianGrid:{handler:Vh,once:!0},ReferenceArea:{handler:x.renderReferenceElement},ReferenceLine:{handler:Vh},ReferenceDot:{handler:x.renderReferenceElement},XAxis:{handler:Vh},YAxis:{handler:Vh},Brush:{handler:x.renderBrush,once:!0},Bar:{handler:x.renderGraphicChild},Line:{handler:x.renderGraphicChild},Area:{handler:x.renderGraphicChild},Radar:{handler:x.renderGraphicChild},RadialBar:{handler:x.renderGraphicChild},Scatter:{handler:x.renderGraphicChild},Pie:{handler:x.renderGraphicChild},Funnel:{handler:x.renderGraphicChild},Tooltip:{handler:x.renderCursor,once:!0},PolarGrid:{handler:x.renderPolarGrid,once:!0},PolarAngleAxis:{handler:x.renderPolarAxis},PolarRadiusAxis:{handler:x.renderPolarAxis},Customized:{handler:x.renderCustomized}}),x.clipPathId="".concat((m=b.id)!==null&&m!==void 0?m:kf("recharts"),"-clip"),x.throttleTriggeredAfterMouseMove=xj(x.triggeredAfterMouseMove,(_=b.throttleDelay)!==null&&_!==void 0?_:1e3/60),x.state={},x}return bge(v,[{key:"componentDidMount",value:function(){var m,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(m=this.props.margin.left)!==null&&m!==void 0?m:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var m=this.props,_=m.children,x=m.data,T=m.height,O=m.layout,S=Ln(_,kr);if(S){var E=S.props.defaultIndex;if(!(typeof E!="number"||E<0||E>this.state.tooltipTicks.length)){var I=this.state.tooltipTicks[E]&&this.state.tooltipTicks[E].value,C=W_(this.state,x,E,I),R=this.state.tooltipTicks[E].coordinate,N=(this.state.offset.top+T)/2,k=O==="horizontal",V=k?{x:R,y:N}:{y:R,x:N},K=this.state.formattedGraphicalItems.find(function(z){var $=z.item;return $.type.name==="Scatter"});K&&(V=q(q({},V),K.props.points[E].tooltipPosition),C=K.props.points[E].tooltipPayload);var B={activeTooltipIndex:E,isTooltipActive:!0,activeLabel:I,activePayload:C,activeCoordinate:V};this.setState(B),this.renderCursor(S),this.accessibilityManager.setIndex(E)}}}},{key:"getSnapshotBeforeUpdate",value:function(m,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==m.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==m.margin){var x,T;this.accessibilityManager.setDetails({offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0}})}return null}},{key:"componentDidUpdate",value:function(m){T0([Ln(m.children,kr)],[Ln(this.props.children,kr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var m=Ln(this.props.children,kr);if(m&&typeof m.props.shared=="boolean"){var _=m.props.shared?"axis":"item";return l.indexOf(_)>=0?_:a}return a}},{key:"getMouseInfo",value:function(m){if(!this.container)return null;var _=this.container,x=_.getBoundingClientRect(),T=Kre(x),O={chartX:Math.round(m.pageX-T.left),chartY:Math.round(m.pageY-T.top)},S=x.width/_.offsetWidth||1,E=this.inRange(O.chartX,O.chartY,S);if(!E)return null;var I=this.state,C=I.xAxisMap,R=I.yAxisMap,N=this.getTooltipEventType();if(N!=="axis"&&C&&R){var k=Qi(C).scale,V=Qi(R).scale,K=k&&k.invert?k.invert(O.chartX):null,B=V&&V.invert?V.invert(O.chartY):null;return q(q({},O),{},{xValue:K,yValue:B})}var z=VO(this.state,this.props.data,this.props.layout,E);return z?q(q({},O),z):null}},{key:"inRange",value:function(m,_){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,T=this.props.layout,O=m/x,S=_/x;if(T==="horizontal"||T==="vertical"){var E=this.state.offset,I=O>=E.left&&O<=E.left+E.width&&S>=E.top&&S<=E.top+E.height;return I?{x:O,y:S}:null}var C=this.state,R=C.angleAxisMap,N=C.radiusAxisMap;if(R&&N){var k=Qi(R);return dI({x:O,y:S},k)}return null}},{key:"parseEventsOfWrapper",value:function(){var m=this.props.children,_=this.getTooltipEventType(),x=Ln(m,kr),T={};x&&_==="axis"&&(x.props.trigger==="click"?T={onClick:this.handleClick}:T={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var O=Qd(this.props,this.handleOuterEvent);return q(q({},O),T)}},{key:"addListener",value:function(){Yy.on(Qy,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Yy.removeListener(Qy,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(m,_,x){for(var T=this.state.formattedGraphicalItems,O=0,S=T.length;O<S;O++){var E=T[O];if(E.item===m||E.props.key===m.key||_===di(E.item.type)&&x===E.childIndex)return E}return null}},{key:"renderClipPath",value:function(){var m=this.clipPathId,_=this.state.offset,x=_.left,T=_.top,O=_.height,S=_.width;return M.createElement("defs",null,M.createElement("clipPath",{id:m},M.createElement("rect",{x,y:T,height:O,width:S})))}},{key:"getXScales",value:function(){var m=this.state.xAxisMap;return m?Object.entries(m).reduce(function(_,x){var T=MO(x,2),O=T[0],S=T[1];return q(q({},_),{},me({},O,S.scale))},{}):null}},{key:"getYScales",value:function(){var m=this.state.yAxisMap;return m?Object.entries(m).reduce(function(_,x){var T=MO(x,2),O=T[0],S=T[1];return q(q({},_),{},me({},O,S.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(m){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[m])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(m){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[m])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(m){var _=this.state,x=_.formattedGraphicalItems,T=_.activeItem;if(x&&x.length)for(var O=0,S=x.length;O<S;O++){var E=x[O],I=E.props,C=E.item,R=di(C.type);if(R==="Bar"){var N=(I.data||[]).find(function(B){return afe(m,B)});if(N)return{graphicalItem:E,payload:N}}else if(R==="RadialBar"){var k=(I.data||[]).find(function(B){return dI(m,B)});if(k)return{graphicalItem:E,payload:k}}else if(mg(E,T)||gg(E,T)||Zc(E,T)){var V=Ghe({graphicalItem:E,activeTooltipItem:T,itemData:C.props.data}),K=C.props.activeIndex===void 0?V:C.props.activeIndex;return{graphicalItem:q(q({},E),{},{childIndex:K}),payload:Zc(E,T)?C.props.data[V]:E.props.data[V]}}}return null}},{key:"render",value:function(){var m=this;if(!iA(this))return null;var _=this.props,x=_.children,T=_.className,O=_.width,S=_.height,E=_.style,I=_.compact,C=_.title,R=_.desc,N=$O(_,pge),k=ye(N,!1);if(I)return M.createElement(bO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement(P0,Hu({},k,{width:O,height:S,title:C,desc:R}),this.renderClipPath(),aA(x,this.renderMap)));if(this.props.accessibilityLayer){var V,K;k.tabIndex=(V=this.props.tabIndex)!==null&&V!==void 0?V:0,k.role=(K=this.props.role)!==null&&K!==void 0?K:"application",k.onKeyDown=function(z){m.accessibilityManager.keyboardEvent(z)},k.onFocus=function(){m.accessibilityManager.focus()}}var B=this.parseEventsOfWrapper();return M.createElement(bO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement("div",Hu({className:Se("recharts-wrapper",T),style:q({position:"relative",cursor:"default",width:O,height:S},E)},B,{ref:function($){m.container=$}}),M.createElement(P0,Hu({},k,{width:O,height:S,title:C,desc:R,style:Cge}),this.renderClipPath(),aA(x,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}]),v}(j.Component),me(n,"displayName",r),me(n,"defaultProps",q({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),me(n,"getDerivedStateFromProps",function(y,v){var b=y.dataKey,m=y.data,_=y.children,x=y.width,T=y.height,O=y.layout,S=y.stackOffset,E=y.margin,I=v.dataStartIndex,C=v.dataEndIndex;if(v.updateId===void 0){var R=FO(y);return q(q(q({},R),{},{updateId:0},g(q(q({props:y},R),{},{updateId:0}),v)),{},{prevDataKey:b,prevData:m,prevWidth:x,prevHeight:T,prevLayout:O,prevStackOffset:S,prevMargin:E,prevChildren:_})}if(b!==v.prevDataKey||m!==v.prevData||x!==v.prevWidth||T!==v.prevHeight||O!==v.prevLayout||S!==v.prevStackOffset||!As(E,v.prevMargin)){var N=FO(y),k={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},V=q(q({},VO(v,m,O)),{},{updateId:v.updateId+1}),K=q(q(q({},N),k),V);return q(q(q({},K),g(q({props:y},K),v)),{},{prevDataKey:b,prevData:m,prevWidth:x,prevHeight:T,prevLayout:O,prevStackOffset:S,prevMargin:E,prevChildren:_})}if(!T0(_,v.prevChildren)){var B,z,$,W,Y=Ln(_,nl),ne=Y&&(B=(z=Y.props)===null||z===void 0?void 0:z.startIndex)!==null&&B!==void 0?B:I,Z=Y&&($=(W=Y.props)===null||W===void 0?void 0:W.endIndex)!==null&&$!==void 0?$:C,se=ne!==I||Z!==C,Ce=!Te(m),Ve=Ce&&!se?v.updateId:v.updateId+1;return q(q({updateId:Ve},g(q(q({props:y},v),{},{updateId:Ve,dataStartIndex:ne,dataEndIndex:Z}),v)),{},{prevChildren:_,dataStartIndex:ne,dataEndIndex:Z})}return null}),me(n,"renderActiveDot",function(y,v){var b;return j.isValidElement(y)?b=j.cloneElement(y,v):we(y)?b=y(v):b=M.createElement(ex,v),M.createElement(Ue,{className:"recharts-active-dot",key:v.key},b)}),n},Fge=C$({chartName:"BarChart",GraphicalChild:Fa,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:vg},{axisType:"yAxis",AxisComp:_g}],formatAxisMap:Epe}),Uge=C$({chartName:"PieChart",GraphicalChild:Ri,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:pg},{axisType:"radiusAxis",AxisComp:hg}],formatAxisMap:jle,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const k$=({data:t})=>P.jsx(Ej,{width:"100%",height:"100%",children:P.jsxs(Fge,{data:t,children:[P.jsx(b$,{stroke:"#E7E7E7",strokeDasharray:"5 5"}),P.jsx(vg,{dataKey:"name"}),P.jsx(_g,{}),P.jsx(kr,{cursor:{fill:"#E7E7E7"}}),P.jsx(Fa,{type:"monotone",dataKey:"存款金額",fill:"#FFC700"})]})});k$.propTypes={data:X.array.isRequired};const R$=({categoryData:t,habitCategories:e})=>{const n=Object.keys(t).map(r=>({name:e.find(i=>i.id===parseInt(r)).name,value:t[r]}));return P.jsx(Ej,{width:"100%",height:"100%",children:P.jsx(Uge,{children:P.jsx(Ri,{data:n,cx:"50%",cy:"50%",innerRadius:80,outerRadius:160,fill:"#8884d8",dataKey:"value",label:!0,children:n.map((r,i)=>P.jsx(Qm,{fill:e.find(o=>o.name===r.name).color},`cell-${i}`))})})})};R$.propTypes={categoryData:X.object.isRequired,habitCategories:X.array.isRequired};function Bge(){const[t,e]=j.useState(!0),[n,r]=j.useState("week"),[i,o]=j.useState(0),[a,s]=j.useState(0),[l,u]=j.useState(0),[c,f]=j.useState([]),[d,p]=j.useState({}),[g,y]=j.useState([]),{user:v}=j.useContext(Ma),b=[{id:0,name:"生產力",color:"#FF6961"},{id:1,name:"個人成長",color:"#FFB480"},{id:2,name:"運動健身",color:"#FFE552"},{id:3,name:"飲食健康",color:"#42D6A4"},{id:4,name:"心靈成長",color:"#08CAD1"},{id:5,name:"手作興趣",color:"#59ADF6"},{id:6,name:"財務管理",color:"#9D94FF"},{id:7,name:"環境生活",color:"#C780E8"}];j.useEffect(()=>{(async()=>{if(v&&v.uid){const E=await xc(v.uid);y(E);const{startOfPeriod:I,endOfPeriod:C}=m(n),{completed:R,savings:N,total:k,chartData:V,categoryData:K}=_(E,I,C,n);o(R),s(N),u(k),f(V),p(K)}})()},[v,n]);const m=S=>{const E=new Date;let I,C;return S==="week"?(I=new Date(E.setDate(E.getDate()-E.getDay())),C=new Date(E.setDate(E.getDate()-E.getDay()+6))):S==="month"?(I=new Date(E.getFullYear(),E.getMonth(),1),C=new Date(E.getFullYear(),E.getMonth()+1,0)):(I=new Date(E.getFullYear(),0,1),C=new Date(E.getFullYear(),11,31)),I.setHours(0,0,0,0),C.setHours(23,59,59,999),{startOfPeriod:I,endOfPeriod:C}},_=(S,E,I,C)=>{let R=0,N=0,k=0,V=[],K={};const B={};return S.forEach(z=>{z.status.forEach($=>{const W=new Date($.date);W.setHours(0,0,0,0);const Y=new Date;if(Y.setHours(0,0,0,0),W<Y&&W>=E&&W<=I){const ne=x(W,C);B[ne]||(B[ne]=0),$.completed?R+=1:(B[ne]+=Number(z.amount),N+=1,k+=Number(z.amount),K[z.category]||(K[z.category]=0),K[z.category]+=1)}})}),V=Object.keys(B).map(z=>({name:z,存款金額:B[z]})),V.sort((z,$)=>{if(C==="week"){const W=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return W.indexOf(z.name)-W.indexOf($.name)}else if(C==="month"){const W=parseInt(z.name.split(" ")[1],10),Y=parseInt($.name.split(" ")[1],10);return W-Y}else{const W=new Date(Date.parse(z.name+" 1, 2022")).getMonth(),Y=new Date(Date.parse($.name+" 1, 2022")).getMonth();return W-Y}}),{completed:R,savings:N,total:k,chartData:V,categoryData:K}},x=(S,E)=>E==="week"?S.toLocaleDateString("zh-TW",{weekday:"short"}):E==="month"?`Week ${Math.ceil(S.getDate()/7)}`:S.toLocaleDateString("zh-TW",{month:"short"}),T=({completed:S,savings:E,total:I})=>P.jsxs("div",{className:"flex justify-between items-center",children:[P.jsxs("div",{className:"text-end",children:[P.jsxs("p",{children:[S," 次"]}),P.jsx("p",{children:"完成習慣次數"})]}),P.jsxs("div",{className:"text-end",children:[P.jsxs("p",{children:[E," 次"]}),P.jsx("p",{children:"存款次數"})]}),P.jsxs("div",{className:"text-end",children:[P.jsxs("p",{children:["NT$",I]}),P.jsx("p",{children:"存款金額"})]})]}),O=(S,E,I)=>{const C=[];return S.forEach(R=>{R.status.forEach(N=>{const k=new Date(N.date);k.setHours(0,0,0,0);const V=new Date;V.setHours(0,0,0,0),k<V&&!N.completed&&k>=E&&k<=I&&C.push({id:R.id,title:R.title,date:N.date,amount:R.amount})})}),C.sort((R,N)=>new Date(N.date)-new Date(R.date)),C.slice(0,50).map((R,N)=>P.jsxs("li",{className:"py-2 px-4 grid grid-cols-4 bg-slate-300",children:[P.jsx("p",{children:String(N+1).padStart(2,"0")}),P.jsx("p",{className:"text-center",children:new Date(R.date).toLocaleDateString()}),P.jsx("p",{className:"text-center",children:R.title}),P.jsxs("p",{className:"text-center",children:["NT$",R.amount]})]},R.id+R.date))};return P.jsxs("div",{className:"p-4 space-y-4",children:[P.jsxs("ul",{className:"grid grid-cols-2 w-full",children:[P.jsx("li",{className:`border p-2 text-center ${t?"bg-gray-200":""}`,onClick:()=>e(!0),children:"存款總覽"}),P.jsx("li",{className:`border p-2 text-center ${t?"":"bg-gray-200"}`,onClick:()=>e(!1),children:"習慣類別總覽"})]}),t?P.jsxs("div",{children:[P.jsxs("div",{className:"p-4 border space-y-4",children:[P.jsxs("div",{className:"flex justify-between items-center",children:[P.jsx("h2",{children:"存款總覽"}),P.jsxs("select",{className:"border",value:n,onChange:S=>r(S.target.value),children:[P.jsx("option",{value:"week",children:"本週"}),P.jsx("option",{value:"month",children:"本月"}),P.jsx("option",{value:"all",children:"全部"})]})]}),T({completed:i,savings:a,total:l}),P.jsx("div",{className:"w-full h-52",children:P.jsx(k$,{data:c})})]}),P.jsxs("ul",{className:"space-y-2 mt-4",children:[P.jsxs("li",{className:"py-2 px-4 grid grid-cols-4 border",children:[P.jsx("p",{children:"編號"}),P.jsx("p",{className:"text-center",children:"日期"}),P.jsx("p",{className:"text-center",children:"習慣名稱"}),P.jsx("p",{className:"text-center",children:"習慣存款"})]}),O(g,m(n).startOfPeriod,m(n).endOfPeriod)]}),P.jsx("p",{className:"text-center mt-2",children:"僅顯示最新的 50 筆存款記錄"})]}):P.jsxs("div",{className:"p-4 border space-y-4 min-h-screen",children:[P.jsxs("div",{className:"flex justify-between items-center",children:[P.jsx("h2",{children:"習慣類別總覽"}),P.jsxs("select",{className:"border",value:n,onChange:S=>r(S.target.value),children:[P.jsx("option",{value:"week",children:"本週"}),P.jsx("option",{value:"month",children:"本月"}),P.jsx("option",{value:"all",children:"全部"})]})]}),a===0?P.jsx("p",{children:"查無資料"}):P.jsxs("div",{children:[P.jsx("div",{className:"w-full h-[400px]",children:P.jsx(R$,{categoryData:d,habitCategories:b})}),P.jsx("ul",{className:"space-y-3",children:b.map(S=>P.jsxs("li",{className:"flex justify-between items-center",children:[P.jsxs("div",{className:"flex items-center gap-3",children:[P.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:S.color}}),P.jsx("p",{children:S.name})]}),P.jsxs("p",{children:[((d[S.id]||0)/Object.values(d).reduce((E,I)=>E+I,0)*100).toFixed(1)," %"]})]},S.id))})]})]})]})}const N$=["習以為常","習蘭紅茶","自強不習","今非習比"],zge=["金豬玉葉","錙豬必較","豬圓玉潤","豬絲馬跡"],BO=()=>{const t=new Date(new Date().getFullYear(),0,1);return(Math.ceil(((new Date-t)/(24*60*60*1e3)+t.getDay()+1)/7)-1)%N$.length};function Wge(){var d,p;const[t,e]=j.useState("habit"),[n,r]=j.useState([]),[i,o]=j.useState([]),{user:a}=j.useContext(Ma);j.useEffect(()=>{(async()=>{const{startOfWeek:y,endOfWeek:v}=s();if(t==="habit"){const b=await l(y,v);r(b)}else if(t==="savings"){const b=await u(y,v);o(b)}})()},[t]);const s=()=>{const g=new Date,y=new Date(g.setDate(g.getDate()-g.getDay())),v=new Date(g.setDate(g.getDate()-g.getDay()+6));return y.setHours(0,0,0,0),v.setHours(23,59,59,999),{startOfWeek:y,endOfWeek:v}},l=async(g,y)=>{const v=await BT();return await Promise.all(v.map(async m=>{const x=(await xc(m.uid)).reduce((T,O)=>T+O.status.filter(S=>{const E=new Date(S.date);return S.completed&&E>=g&&E<=y}).length,0);return{...m,completedCount:x}}))},u=async(g,y)=>{const v=await BT(),b=new Date;return b.setHours(0,0,0,0),await Promise.all(v.map(async _=>{const T=(await xc(_.uid)).reduce((O,S)=>{const E=S.amount,I=S.status.filter(C=>{const R=new Date(C.date);return!C.completed&&R>=g&&R<=y&&R<b}).length;return O+I*E},0);return{..._,totalSavings:T}}))},c=(g,y)=>g.sort((b,m)=>y==="habit"?m.completedCount-b.completedCount:m.totalSavings-b.totalSavings).slice(0,10).map((b,m)=>P.jsxs("li",{className:"flex justify-between py-2 px-4 bg-slate-100",children:[P.jsxs("div",{className:"flex items-center gap-3",children:[P.jsx("p",{className:"w-10 h-auto",children:m+1}),P.jsx("img",{src:b.avatar,alt:"user's avatar",className:"w-10 h-10"}),P.jsx("div",{children:P.jsx("p",{children:b.name})})]}),P.jsxs("div",{className:"text-end",children:[P.jsx("p",{children:y==="habit"?"累積數量":"累積存款"}),P.jsx("p",{children:y==="habit"?`${b.completedCount} 次`:`${b.totalSavings} 元`})]})]},b.uid)),f=(g,y,v)=>{const b=g.find(_=>_.uid===y.uid);if(!b)return null;const m=g.findIndex(_=>_.uid===y.uid)+1;return P.jsxs("div",{className:"flex justify-between py-2 px-4 bg-slate-900",children:[P.jsxs("div",{className:"flex items-center gap-3 text-white",children:[P.jsx("p",{className:"w-10 h-auto",children:m}),P.jsx("img",{src:b.avatar,alt:"user's avatar",className:"w-10 h-10"}),P.jsx("div",{children:P.jsx("p",{children:b.name})})]}),P.jsxs("div",{className:"text-end text-white",children:[P.jsx("p",{children:v==="habit"?"累積數量":"累積存款"}),P.jsx("p",{children:v==="habit"?`${b.completedCount} 次`:`${b.totalSavings} 元`})]})]})};return P.jsxs("div",{className:"p-4 space-y-4",children:[P.jsxs("ul",{className:"grid grid-cols-2 w-full",children:[P.jsx("li",{className:`border p-2 text-center ${t==="habit"?"bg-gray-200":""}`,onClick:()=>e("habit"),children:"習慣排行"}),P.jsx("li",{className:`border p-2 text-center ${t==="savings"?"bg-gray-200":""}`,onClick:()=>e("savings"),children:"存款排行"})]}),t==="habit"&&P.jsxs("div",{children:[P.jsxs("div",{className:"p-4 mt-4 bg-slate-300",children:[P.jsxs("p",{className:"text-center",children:["在 ",s().startOfWeek.toLocaleDateString(),"～",s().endOfWeek.toLocaleDateString()," 期間"]}),P.jsxs("p",{className:"text-center",children:["恭喜 ",((d=n[0])==null?void 0:d.name)||"No.1"," 成為累積最多次習慣的玩家"]}),P.jsxs("p",{className:"text-center",children:["獲得",N$[BO()],"成就！"]})]}),P.jsx("ul",{className:"space-y-4",children:c(n,"habit")}),f(n,a,"habit")]}),t==="savings"&&P.jsxs("div",{children:[P.jsxs("div",{className:"p-4 mt-4 bg-slate-300",children:[P.jsxs("p",{className:"text-center",children:["在 ",s().startOfWeek.toLocaleDateString(),"～",s().endOfWeek.toLocaleDateString()," 期間"]}),P.jsxs("p",{className:"text-center",children:["恭喜 ",((p=i[0])==null?void 0:p.name)||"No.1"," 成為累積最多存款的玩家"]}),P.jsxs("p",{className:"text-center",children:["獲得",zge[BO()],"成就！"]})]}),P.jsx("ul",{className:"space-y-4",children:c(i,"savings")}),f(i,a,"savings")]})]})}function qge(){const[t,e]=j.useState([]),[n,r]=j.useState("all"),[i,o]=j.useState({}),[a,s]=j.useState(""),[l,u]=j.useState({}),{user:c}=j.useContext(Ma);j.useEffect(()=>{(async()=>{const _=await YW(),x=await Promise.all(_.map(async T=>{const O=await w0(T.userID),S=await Th(T.id);return{...T,user:O,comments:S}}));e(x)})()},[]);const f=n==="personal"?t.filter(m=>m.userID===c.uid):t,d=m=>{o(_=>({..._,[m]:!_[m]}))},p=async m=>{if(!a.trim()){alert("請輸入留言內容");return}const _=await w0(c.uid),x={content:a,userID:c.uid,userName:_.name,userAvatar:_.avatar};await JW(m,x),s("");const T=await Th(m);e(O=>O.map(S=>S.id===m?{...S,comments:T}:S))},g=m=>{u(_=>({..._,[m]:!_[m]}))},y=async(m,_)=>{const x=prompt("請輸入新的留言內容");if(!x.trim()){alert("請輸入留言內容");return}await ZW(m,_,{content:x});const T=await Th(m);e(O=>O.map(S=>S.id===m?{...S,comments:T}:S))},v=async(m,_)=>{await e8(m,_);const x=await Th(m);e(T=>T.map(O=>O.id===m?{...O,comments:x}:O))},b=(m,_,x)=>{x==="edit"?y(m,_):x==="delete"&&v(m,_)};return P.jsxs("div",{className:"p-4 space-y-4",children:[P.jsxs("div",{className:"flex justify-between items-center",children:[P.jsx("h2",{children:"貼文總覽"}),P.jsxs("select",{className:"border",value:n,onChange:m=>r(m.target.value),children:[P.jsx("option",{value:"all",children:"全部"}),P.jsx("option",{value:"personal",children:"僅限自己"})]})]}),P.jsx("ul",{className:"space-y-4",children:f.map(m=>P.jsxs("li",{className:"p-4 border space-y-2",children:[P.jsx("div",{className:"flex justify-between items-start",children:P.jsxs("div",{className:"flex gap-3",children:[P.jsx("div",{className:"w-10 h-10",children:m.user&&P.jsx("img",{src:m.user.avatar,alt:"avatar",className:"w-full h-full object-cover"})}),P.jsx("div",{className:"flex flex-col",children:P.jsxs("div",{className:"flex gap-2",children:[P.jsx("h3",{children:m.user?m.user.name:"Unknown"}),P.jsx("p",{children:new Date(m.createdTime.seconds*1e3).toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})})]})})]})}),P.jsx("div",{className:`w-full min-h-52 h-fit flex justify-center items-center p-4 ${m.background?"":"bg-slate-100"}`,style:m.background?{backgroundImage:`url(${m.background})`,backgroundSize:"cover",backgroundPosition:"center"}:{},children:P.jsx("p",{children:m.content})}),P.jsxs("div",{className:"flex gap-3",children:[P.jsx("button",{className:"border",children:"Like"}),P.jsxs("div",{className:"flex gap-1",children:[P.jsx("button",{className:"border",onClick:()=>d(m.id),children:"Comment"}),P.jsx("p",{children:m.comments?m.comments.length:0})]})]}),P.jsxs("ul",{className:`space-y-2 ${i[m.id]?"block":"hidden"}`,children:[m.comments&&m.comments.map(_=>P.jsxs("li",{className:"flex justify-between items-center gap-3",children:[P.jsx("img",{src:_.userAvatar,alt:"user's avatar",className:"w-10 h-10 bg-slate-100"}),P.jsxs("div",{className:"bg-slate-300 px-4 py-1 w-full flex justify-between items-center",children:[P.jsxs("div",{children:[P.jsxs("div",{className:"flex gap-2",children:[P.jsx("h3",{children:_.userName}),P.jsx("p",{children:new Date(_.createdTime.seconds*1e3).toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})})]}),P.jsx("p",{children:_.content})]}),P.jsxs("div",{className:"flex flex-col",children:[P.jsx("button",{className:"border",onClick:()=>g(_.id),children:"setting"}),l[_.id]&&P.jsxs("select",{className:"border",onChange:x=>b(m.id,_.id,x.target.value),children:[P.jsx("option",{value:"",children:"選擇操作"}),P.jsx("option",{value:"edit",children:"Edit"}),P.jsx("option",{value:"delete",children:"Delete"})]})]})]})]},_.id)),P.jsxs("li",{className:"flex justify-between items-center gap-2",children:[P.jsx("input",{type:"text",placeholder:"Add a comment",className:"border p-2 w-full",value:a,onChange:_=>s(_.target.value)}),P.jsx("button",{className:"border",onClick:()=>p(m.id),children:"Post"})]})]})]},m.id))})]})}function Hge(){const{user:t}=j.useContext(Ma),[e,n]=j.useState(!1),[r,i]=j.useState(!1),[o,a]=j.useState(!1),[s,l]=j.useState(!1),[u,c]=j.useState(!0),[f,d]=j.useState({uid:"",email:"",name:"",introduction:"",avatar:"",levelPoints:0,isAcceptReminder:!1,achievements:[],badges:[],habits:[]}),[p,g]=j.useState([]),[y,v]=j.useState(null),[b,m]=j.useState(""),[_,x]=j.useState({category:0,title:"",frequency:"daily",amount:0,startDate:"",endDate:"",status:[]}),[T,O]=j.useState(0),[S,E]=j.useState(null),[I,C]=j.useState(!1),[R,N]=j.useState(""),k=j.useRef(null),[V,K]=j.useState(!1),[B,z]=j.useState("all"),$=[{id:0,name:"生產力",icon:rn.TbRocket},{id:1,name:"個人成長",icon:rn.TbBook},{id:2,name:"運動健身",icon:rn.TbWalk},{id:3,name:"飲食健康",icon:rn.TbBowlChopsticks},{id:4,name:"心靈成長",icon:rn.TbMoodHeart},{id:5,name:"手作興趣",icon:rn.TbHandGrab},{id:6,name:"財務管理",icon:rn.TbCash},{id:7,name:"環境生活",icon:rn.TbPlant}];j.useEffect(()=>{(async()=>{if(t){const le=await w0(t.uid);le&&d(le),Le()}})()},[t]);const W=()=>{n(!e)},Y=()=>{i(!r)},ne=()=>{a(!o)},Z=F=>{x({category:F.category,title:F.title,frequency:F.frequency,amount:F.amount,startDate:F.startDate,endDate:F.endDate,status:F.status}),l(!s)},se=async()=>{if(t&&t.uid)try{await GW(t.uid,f),console.log("Profile updated successfully")}catch(F){console.error("Error updating profile: ",F)}},Ce=async()=>{await se(),W()},Ve=async F=>{const{name:le,value:xe,files:ce}=F.target;if(le==="avatar"&&ce&&ce[0]){const de=event.target.files[0],$e=["image/jpeg","image/jpg","image/png","image/gif"];if(!de||!$e.includes(de.type))return;try{const ke=await QW(t.uid,ce[0]);d(Pr=>({...Pr,avatar:ke}))}catch(ke){console.error("Error uploading avatar: ",ke)}}else d(de=>({...de,[le]:xe}))},mt=F=>{const{name:le,value:xe}=F.target;x(ce=>({...ce,[le]:xe}))},Le=async()=>{if(t)try{const F=await xc(t.uid);g(F)}catch(F){console.error("Error fetching habits: ",F)}},fn=async()=>{if(!b.trim()){alert("請輸入貼文內容");return}if(t&&y){const F={content:b,habitId:y.id};await YD(t.uid,F),K(!0),ne(),m("")}},re=async F=>{E(F),R&&(x(le=>({...le,[R]:`${F.year}-${String(F.month+1).padStart(2,"0")}-${String(F.day).padStart(2,"0")}`})),C(!1),N(""))},he=F=>{N(F),C(!0)},pe=async()=>{if(t&&y)try{await b0(t.uid,y.id,_),await Le(),l(!1),console.log("Habit updated successfully")}catch(F){console.error("Error updating habit: ",F)}else console.error("No user or selected habit")},G=async()=>{t&&y?(await XD(t.uid,y.id),Le(),l(!1),i(!1)):console.error("User not authenticated or habit not selected")},Fe=F=>{const le=new Date;return le.setHours(0,0,0,0),F.status.filter(ce=>{const de=new Date(ce.date);return de.setHours(0,0,0,0),de<le&&!ce.completed}).length*F.amount},Ee=F=>{v(F),O(Fe(F)),i(!0)},Ke=F=>{z(F.target.value)},qe=p.filter(F=>{const le=new Date;le.setHours(0,0,0,0);const xe=new Date(F.endDate);return xe.setHours(0,0,0,0),B==="in-progress"?xe>=le:B==="finished"?xe<le:!0}).sort((F,le)=>new Date(le.endDate)-new Date(F.endDate));return V?P.jsx(zw,{to:"/posts"}):P.jsxs(P.Fragment,{children:[P.jsxs("div",{className:"p-4 space-y-4",children:[P.jsxs("ul",{className:"grid grid-cols-2 w-full",children:[P.jsx("li",{className:`border p-2 text-center ${u?"bg-gray-200":""}`,onClick:()=>c(!0),children:"會員管理"}),P.jsx("li",{className:`border p-2 text-center ${u?"":"bg-gray-200"}`,onClick:()=>c(!1),children:"歷史習慣"})]}),u?P.jsxs("div",{className:"flex justify-between items-center",children:[P.jsx("h2",{children:"會員管理"}),P.jsx("button",{className:"border",onClick:W,children:"設定"})]}):P.jsxs("div",{className:"flex justify-between items-center",children:[P.jsx("h2",{children:"歷史習慣"}),P.jsxs("select",{className:"border",value:B,onChange:Ke,children:[P.jsx("option",{value:"all",children:"全部"}),P.jsx("option",{value:"in-progress",children:"進行中"}),P.jsx("option",{value:"finished",children:"已結束"})]})]}),u?P.jsxs("div",{children:[P.jsxs("div",{className:"p-4 border space-y-2",children:[P.jsx("div",{className:"flex justify-between items-start",children:P.jsxs("div",{className:"flex gap-3",children:[P.jsx("img",{src:f.avatar,alt:"user's avatar",className:"w-10 h-10"}),P.jsx("div",{className:"flex flex-col",children:P.jsx("h3",{children:f.name})})]})}),P.jsx("p",{children:f.introduction}),P.jsxs("div",{className:"w-full bg-slate-300 text-center",children:[f.levelPoints,"%"]})]}),P.jsxs("div",{className:"pt-8 pb-4 px-4 border space-y-4",children:[P.jsx("div",{className:"grid grid-cols-2 gap-4",children:f.achievements.map((F,le)=>P.jsx("button",{className:"border",children:F},le))}),P.jsx("button",{className:"text-center w-full bg-slate-300",children:"更多成就"})]}),P.jsxs("div",{className:"pt-8 pb-4 px-4 border space-y-4",children:[P.jsx("div",{className:"grid grid-cols-3 gap-4",children:f.badges.map((F,le)=>P.jsx("div",{className:"w-20 h-20 bg-slate-100",children:F},le))}),P.jsx("button",{className:"text-center w-full bg-slate-300",children:"更多獎勵徽章"})]})]}):P.jsx("ul",{className:"space-y-4",children:Array.isArray(qe)&&qe.map(F=>{const le=new Date;le.setHours(0,0,0,0);const xe=new Date(F.endDate);xe.setHours(0,0,0,0);const ce=xe<le,de=$.find(ke=>ke.id===F.category),$e=de?de.icon:null;return P.jsx("li",{className:`px-2 py-4 ${ce?"bg-slate-500":"bg-slate-100"}`,children:P.jsxs("div",{className:"flex justify-between items-center",children:[P.jsxs("div",{className:"flex gap-2",children:[P.jsx("div",{className:"w-10 h-10 bg-yellow-400 rounded-full flex items-center justify-center",children:$e&&P.jsx($e,{className:"w-8 h-8"})}),P.jsxs("div",{className:"flex flex-col",children:[P.jsx("h3",{children:F.title}),P.jsxs("div",{className:"flex",children:[P.jsxs("p",{children:[F.frequency.type,"｜罰款 $",F.amount,"｜已達成 ",F.status.filter(ke=>ke.completed).length]}),P.jsxs("p",{className:"text-gray-500",children:["/",F.status.length]})]})]})]}),P.jsx("button",{className:"bg-white",onClick:()=>Ee(F),children:"Detail"})]})},F.id)})})]}),P.jsx(jr,{isOpen:e,onClose:W,children:P.jsx(Jb,{profileData:f,handleChange:Ve,handleSaveAndClose:Ce,handleSettingModal:W})}),P.jsx(jr,{isOpen:r,onClose:Y,children:P.jsx(Zb,{selectedHabit:y,handleDetailModal:Y,handlePostModal:ne,uncompletedFine:T,handleEditModal:Z,habitCategories:$})}),P.jsx(jr,{isOpen:o,onClose:ne,children:P.jsx(e1,{postContent:b,setPostContent:m,handleAddPost:fn,handlePostModal:ne})}),P.jsx(jr,{isOpen:s,onClose:Z,children:P.jsx(t1,{habitData:_,handleHabitChange:mt,handleUpdateHabit:pe,handleFocus:he,showMonthCalendar:I,calendarTarget:R,selectedDate:S,handleSelectDate:re,calendarRef:k,handleEditModal:Z,handleDeleteHabit:G,habitCategories:$})})]})}function Kge(){return P.jsx("div",{children:P.jsx("h1",{children:"Error"})})}function D$({children:t,isModalOpen:e,modalContent:n}){const r=hl();return P.jsxs("div",{className:"flex flex-col md:flex-row min-h-screen relative",children:[P.jsx("nav",{className:"fixed inset-x-0 bottom-0 md:w-1/4 pt-4 pb-3 px-4 border bg-white z-10 md:fixed md:top-0 md:left-0 md:h-full md:overflow-auto",children:P.jsxs("ul",{className:"grid grid-cols-6 items-center md:grid-cols-1 md:gap-6",children:[P.jsx("li",{className:`p-2 rounded-lg hover:md:bg-yellow-300 ${r.pathname==="/home"?"md:bg-yellow-400":""}`,children:P.jsxs(Zl,{to:"/home",className:"flex flex-col items-center md:flex-row",children:[P.jsx(nu.TbHome2,{className:`w-6 h-6 md:mr-4 ${r.pathname==="/home"?"text-yellow-400 md:text-white":""}`}),P.jsx("p",{children:"Home"})]})}),P.jsx("li",{className:`p-2 rounded-lg hover:md:bg-yellow-300 ${r.pathname==="/savings"?"md:bg-yellow-400":""}`,children:P.jsxs(Zl,{to:"/savings",className:"flex flex-col items-center md:flex-row",children:[P.jsx(nu.TbCoin,{className:`w-6 h-6 md:mr-4 ${r.pathname==="/savings"?"text-yellow-400 md:text-white":""}`}),P.jsx("p",{children:"Savings"})]})}),P.jsx("li",{className:`p-2 rounded-lg hover:md:bg-yellow-300 ${r.pathname==="/rank"?"md:bg-yellow-400":""}`,children:P.jsxs(Zl,{to:"/rank",className:"flex flex-col items-center md:flex-row",children:[P.jsx(nu.TbMedal2,{className:`w-6 h-6 md:mr-4 ${r.pathname==="/rank"?"text-yellow-400 md:text-white":""}`}),P.jsx("p",{children:"Rank"})]})}),P.jsx("li",{className:`p-2 rounded-lg hover:md:bg-yellow-300 ${r.pathname==="/posts"?"md:bg-yellow-400":""}`,children:P.jsxs(Zl,{to:"/posts",className:"flex flex-col items-center md:flex-row",children:[P.jsx(nu.TbMessage,{className:`w-6 h-6 md:mr-4 ${r.pathname==="/posts"?"text-yellow-400 md:text-white":""}`}),P.jsx("p",{children:"Posts"})]})}),P.jsx("li",{className:`p-2 rounded-lg hover:md:bg-yellow-300 ${r.pathname==="/member"?"md:bg-yellow-400":""}`,children:P.jsxs(Zl,{to:"/member",className:"flex flex-col items-center md:flex-row",children:[P.jsx(nu.TbMoodSmile,{className:`w-6 h-6 md:mr-4 ${r.pathname==="/member"?"text-yellow-400 md:text-white":""}`}),P.jsx("p",{children:"Member"})]})})]})}),P.jsxs("div",{className:"mt-0 mb-[86px] md:mb-0 md:ml-[244px] w-full relative",children:[t,P.jsx(jr,{isOpen:e,children:n})]})]})}D$.propTypes={children:X.node,isModalOpen:X.bool.isRequired,modalContent:X.node};function Gge(){return P.jsx(e2,{children:P.jsx(O4,{children:P.jsx(D$,{children:P.jsxs(x4,{children:[P.jsx(Vi,{path:"/",element:P.jsx(s8,{})}),P.jsx(Vi,{path:"/home",element:P.jsx(C8,{})}),P.jsx(Vi,{path:"/savings",element:P.jsx(Bge,{})}),P.jsx(Vi,{path:"/rank",element:P.jsx(Wge,{})}),P.jsx(Vi,{path:"/posts",element:P.jsx(qge,{})}),P.jsx(Vi,{path:"/member",element:P.jsx(Hge,{})}),P.jsx(Vi,{path:"*",element:P.jsx(Kge,{})})]})})})})}tR(document.getElementById("root")).render(P.jsx(j.StrictMode,{children:P.jsx(Gge,{})}));
