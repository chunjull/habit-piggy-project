function rL(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Zf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Be(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var RO={exports:{}},Bp={},NO={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uf=Symbol.for("react.element"),iL=Symbol.for("react.portal"),oL=Symbol.for("react.fragment"),aL=Symbol.for("react.strict_mode"),sL=Symbol.for("react.profiler"),lL=Symbol.for("react.provider"),uL=Symbol.for("react.context"),cL=Symbol.for("react.forward_ref"),fL=Symbol.for("react.suspense"),hL=Symbol.for("react.memo"),dL=Symbol.for("react.lazy"),Gx=Symbol.iterator;function pL(t){return t===null||typeof t!="object"?null:(t=Gx&&t[Gx]||t["@@iterator"],typeof t=="function"?t:null)}var DO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jO=Object.assign,MO={};function sl(t,e,n){this.props=t,this.context=e,this.refs=MO,this.updater=n||DO}sl.prototype.isReactComponent={};sl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};sl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function $O(){}$O.prototype=sl.prototype;function B_(t,e,n){this.props=t,this.context=e,this.refs=MO,this.updater=n||DO}var z_=B_.prototype=new $O;z_.constructor=B_;jO(z_,sl.prototype);z_.isPureReactComponent=!0;var Xx=Array.isArray,LO=Object.prototype.hasOwnProperty,W_={current:null},VO={key:!0,ref:!0,__self:!0,__source:!0};function FO(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)LO.call(e,r)&&!VO.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:uf,type:t,key:o,ref:a,props:i,_owner:W_.current}}function mL(t,e){return{$$typeof:uf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function q_(t){return typeof t=="object"&&t!==null&&t.$$typeof===uf}function gL(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Yx=/\/+/g;function jg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?gL(""+t.key):e.toString(36)}function Vh(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case uf:case iL:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+jg(a,0):r,Xx(i)?(n="",t!=null&&(n=t.replace(Yx,"$&/")+"/"),Vh(i,e,n,"",function(u){return u})):i!=null&&(q_(i)&&(i=mL(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Yx,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",Xx(t))for(var s=0;s<t.length;s++){o=t[s];var l=r+jg(o,s);a+=Vh(o,e,n,l,i)}else if(l=pL(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=r+jg(o,s++),a+=Vh(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function eh(t,e,n){if(t==null)return t;var r=[],i=0;return Vh(t,r,"","",function(o){return e.call(n,o,i++)}),r}function yL(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var bn={current:null},Fh={transition:null},vL={ReactCurrentDispatcher:bn,ReactCurrentBatchConfig:Fh,ReactCurrentOwner:W_};function UO(){throw Error("act(...) is not supported in production builds of React.")}Ie.Children={map:eh,forEach:function(t,e,n){eh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return eh(t,function(){e++}),e},toArray:function(t){return eh(t,function(e){return e})||[]},only:function(t){if(!q_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ie.Component=sl;Ie.Fragment=oL;Ie.Profiler=sL;Ie.PureComponent=B_;Ie.StrictMode=aL;Ie.Suspense=fL;Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vL;Ie.act=UO;Ie.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=jO({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=W_.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)LO.call(e,l)&&!VO.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:uf,type:t.type,key:i,ref:o,props:r,_owner:a}};Ie.createContext=function(t){return t={$$typeof:uL,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:lL,_context:t},t.Consumer=t};Ie.createElement=FO;Ie.createFactory=function(t){var e=FO.bind(null,t);return e.type=t,e};Ie.createRef=function(){return{current:null}};Ie.forwardRef=function(t){return{$$typeof:cL,render:t}};Ie.isValidElement=q_;Ie.lazy=function(t){return{$$typeof:dL,_payload:{_status:-1,_result:t},_init:yL}};Ie.memo=function(t,e){return{$$typeof:hL,type:t,compare:e===void 0?null:e}};Ie.startTransition=function(t){var e=Fh.transition;Fh.transition={};try{t()}finally{Fh.transition=e}};Ie.unstable_act=UO;Ie.useCallback=function(t,e){return bn.current.useCallback(t,e)};Ie.useContext=function(t){return bn.current.useContext(t)};Ie.useDebugValue=function(){};Ie.useDeferredValue=function(t){return bn.current.useDeferredValue(t)};Ie.useEffect=function(t,e){return bn.current.useEffect(t,e)};Ie.useId=function(){return bn.current.useId()};Ie.useImperativeHandle=function(t,e,n){return bn.current.useImperativeHandle(t,e,n)};Ie.useInsertionEffect=function(t,e){return bn.current.useInsertionEffect(t,e)};Ie.useLayoutEffect=function(t,e){return bn.current.useLayoutEffect(t,e)};Ie.useMemo=function(t,e){return bn.current.useMemo(t,e)};Ie.useReducer=function(t,e,n){return bn.current.useReducer(t,e,n)};Ie.useRef=function(t){return bn.current.useRef(t)};Ie.useState=function(t){return bn.current.useState(t)};Ie.useSyncExternalStore=function(t,e,n){return bn.current.useSyncExternalStore(t,e,n)};Ie.useTransition=function(){return bn.current.useTransition()};Ie.version="18.3.1";NO.exports=Ie;var j=NO.exports;const M=Be(j),_L=rL({__proto__:null,default:M},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wL=j,bL=Symbol.for("react.element"),xL=Symbol.for("react.fragment"),EL=Object.prototype.hasOwnProperty,SL=wL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,TL={key:!0,ref:!0,__self:!0,__source:!0};function BO(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)EL.call(e,r)&&!TL.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:bL,type:t,key:o,ref:a,props:i,_owner:SL.current}}Bp.Fragment=xL;Bp.jsx=BO;Bp.jsxs=BO;RO.exports=Bp;var P=RO.exports,zO={exports:{}},Wn={},WO={exports:{}},qO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,z){var G=$.length;$.push(z);e:for(;0<G;){var re=G-1>>>1,ee=$[re];if(0<i(ee,z))$[re]=z,$[G]=ee,G=re;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var z=$[0],G=$.pop();if(G!==z){$[0]=G;e:for(var re=0,ee=$.length,ue=ee>>>1;re<ue;){var De=2*(re+1)-1,We=$[De],yt=De+1,Le=$[yt];if(0>i(We,G))yt<ee&&0>i(Le,We)?($[re]=Le,$[yt]=G,re=yt):($[re]=We,$[De]=G,re=De);else if(yt<ee&&0>i(Le,G))$[re]=Le,$[yt]=G,re=yt;else break e}}return z}function i($,z){var G=$.sortIndex-z.sortIndex;return G!==0?G:$.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,f=null,d=3,p=!1,m=!1,g=!1,_=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v($){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=$)r(u),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(u)}}function x($){if(g=!1,v($),!m)if(n(l)!==null)m=!0,U(T);else{var z=n(u);z!==null&&W(x,z.startTime-$)}}function T($,z){m=!1,g&&(g=!1,b(E),E=-1),p=!0;var G=d;try{for(v(z),f=n(l);f!==null&&(!(f.expirationTime>z)||$&&!R());){var re=f.callback;if(typeof re=="function"){f.callback=null,d=f.priorityLevel;var ee=re(f.expirationTime<=z);z=t.unstable_now(),typeof ee=="function"?f.callback=ee:f===n(l)&&r(l),v(z)}else r(l);f=n(l)}if(f!==null)var ue=!0;else{var De=n(u);De!==null&&W(x,De.startTime-z),ue=!1}return ue}finally{f=null,d=G,p=!1}}var O=!1,S=null,E=-1,I=5,C=-1;function R(){return!(t.unstable_now()-C<I)}function D(){if(S!==null){var $=t.unstable_now();C=$;var z=!0;try{z=S(!0,$)}finally{z?k():(O=!1,S=null)}}else O=!1}var k;if(typeof y=="function")k=function(){y(D)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,B=V.port2;V.port1.onmessage=D,k=function(){B.postMessage(null)}}else k=function(){_(D,0)};function U($){S=$,O||(O=!0,k())}function W($,z){E=_(function(){$(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,U(T))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(d){case 1:case 2:case 3:var z=3;break;default:z=d}var G=d;d=z;try{return $()}finally{d=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,z){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var G=d;d=$;try{return z()}finally{d=G}},t.unstable_scheduleCallback=function($,z,G){var re=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?re+G:re):G=re,$){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=G+ee,$={id:c++,callback:z,priorityLevel:$,startTime:G,expirationTime:ee,sortIndex:-1},G>re?($.sortIndex=G,e(u,$),n(l)===null&&$===n(u)&&(g?(b(E),E=-1):g=!0,W(x,G-re))):($.sortIndex=ee,e(l,$),m||p||(m=!0,U(T))),$},t.unstable_shouldYield=R,t.unstable_wrapCallback=function($){var z=d;return function(){var G=d;d=z;try{return $.apply(this,arguments)}finally{d=G}}}})(qO);WO.exports=qO;var AL=WO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PL=j,zn=AL;function Z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var HO=new Set,Hu={};function Pa(t,e){Os(t,e),Os(t+"Capture",e)}function Os(t,e){for(Hu[t]=e,t=0;t<e.length;t++)HO.add(e[t])}var mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qy=Object.prototype.hasOwnProperty,IL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Qx={},Jx={};function OL(t){return Qy.call(Jx,t)?!0:Qy.call(Qx,t)?!1:IL.test(t)?Jx[t]=!0:(Qx[t]=!0,!1)}function CL(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function kL(t,e,n,r){if(e===null||typeof e>"u"||CL(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function xn(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ht[t]=new xn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ht[e]=new xn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ht[t]=new xn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ht[t]=new xn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ht[t]=new xn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ht[t]=new xn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ht[t]=new xn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ht[t]=new xn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ht[t]=new xn(t,5,!1,t.toLowerCase(),null,!1,!1)});var H_=/[\-:]([a-z])/g;function K_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(H_,K_);Ht[e]=new xn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(H_,K_);Ht[e]=new xn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(H_,K_);Ht[e]=new xn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ht[t]=new xn(t,1,!1,t.toLowerCase(),null,!1,!1)});Ht.xlinkHref=new xn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ht[t]=new xn(t,1,!1,t.toLowerCase(),null,!0,!0)});function G_(t,e,n,r){var i=Ht.hasOwnProperty(e)?Ht[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(kL(e,n,i,r)&&(n=null),r||i===null?OL(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Pi=PL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,th=Symbol.for("react.element"),Za=Symbol.for("react.portal"),es=Symbol.for("react.fragment"),X_=Symbol.for("react.strict_mode"),Jy=Symbol.for("react.profiler"),KO=Symbol.for("react.provider"),GO=Symbol.for("react.context"),Y_=Symbol.for("react.forward_ref"),Zy=Symbol.for("react.suspense"),ev=Symbol.for("react.suspense_list"),Q_=Symbol.for("react.memo"),Vi=Symbol.for("react.lazy"),XO=Symbol.for("react.offscreen"),Zx=Symbol.iterator;function ql(t){return t===null||typeof t!="object"?null:(t=Zx&&t[Zx]||t["@@iterator"],typeof t=="function"?t:null)}var ct=Object.assign,Mg;function hu(t){if(Mg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Mg=e&&e[1]||""}return`
`+Mg+t}var $g=!1;function Lg(t,e){if(!t||$g)return"";$g=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{$g=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?hu(t):""}function RL(t){switch(t.tag){case 5:return hu(t.type);case 16:return hu("Lazy");case 13:return hu("Suspense");case 19:return hu("SuspenseList");case 0:case 2:case 15:return t=Lg(t.type,!1),t;case 11:return t=Lg(t.type.render,!1),t;case 1:return t=Lg(t.type,!0),t;default:return""}}function tv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case es:return"Fragment";case Za:return"Portal";case Jy:return"Profiler";case X_:return"StrictMode";case Zy:return"Suspense";case ev:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case GO:return(t.displayName||"Context")+".Consumer";case KO:return(t._context.displayName||"Context")+".Provider";case Y_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Q_:return e=t.displayName||null,e!==null?e:tv(t.type)||"Memo";case Vi:e=t._payload,t=t._init;try{return tv(t(e))}catch{}}return null}function NL(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tv(e);case 8:return e===X_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function yo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function YO(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function DL(t){var e=YO(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function nh(t){t._valueTracker||(t._valueTracker=DL(t))}function QO(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=YO(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function sd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function nv(t,e){var n=e.checked;return ct({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function eE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=yo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function JO(t,e){e=e.checked,e!=null&&G_(t,"checked",e,!1)}function rv(t,e){JO(t,e);var n=yo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?iv(t,e.type,n):e.hasOwnProperty("defaultValue")&&iv(t,e.type,yo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function tE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function iv(t,e,n){(e!=="number"||sd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var du=Array.isArray;function gs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+yo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ov(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Z(91));return ct({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function nE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Z(92));if(du(n)){if(1<n.length)throw Error(Z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:yo(n)}}function ZO(t,e){var n=yo(e.value),r=yo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function rE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function eC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function av(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?eC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var rh,tC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(rh=rh||document.createElement("div"),rh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=rh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ku(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Su={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jL=["Webkit","ms","Moz","O"];Object.keys(Su).forEach(function(t){jL.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Su[e]=Su[t]})});function nC(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Su.hasOwnProperty(t)&&Su[t]?(""+e).trim():e+"px"}function rC(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=nC(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var ML=ct({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sv(t,e){if(e){if(ML[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Z(62))}}function lv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uv=null;function J_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var cv=null,ys=null,vs=null;function iE(t){if(t=hf(t)){if(typeof cv!="function")throw Error(Z(280));var e=t.stateNode;e&&(e=Kp(e),cv(t.stateNode,t.type,e))}}function iC(t){ys?vs?vs.push(t):vs=[t]:ys=t}function oC(){if(ys){var t=ys,e=vs;if(vs=ys=null,iE(t),e)for(t=0;t<e.length;t++)iE(e[t])}}function aC(t,e){return t(e)}function sC(){}var Vg=!1;function lC(t,e,n){if(Vg)return t(e,n);Vg=!0;try{return aC(t,e,n)}finally{Vg=!1,(ys!==null||vs!==null)&&(sC(),oC())}}function Gu(t,e){var n=t.stateNode;if(n===null)return null;var r=Kp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Z(231,e,typeof n));return n}var fv=!1;if(mi)try{var Hl={};Object.defineProperty(Hl,"passive",{get:function(){fv=!0}}),window.addEventListener("test",Hl,Hl),window.removeEventListener("test",Hl,Hl)}catch{fv=!1}function $L(t,e,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Tu=!1,ld=null,ud=!1,hv=null,LL={onError:function(t){Tu=!0,ld=t}};function VL(t,e,n,r,i,o,a,s,l){Tu=!1,ld=null,$L.apply(LL,arguments)}function FL(t,e,n,r,i,o,a,s,l){if(VL.apply(this,arguments),Tu){if(Tu){var u=ld;Tu=!1,ld=null}else throw Error(Z(198));ud||(ud=!0,hv=u)}}function Ia(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function uC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function oE(t){if(Ia(t)!==t)throw Error(Z(188))}function UL(t){var e=t.alternate;if(!e){if(e=Ia(t),e===null)throw Error(Z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return oE(i),t;if(o===r)return oE(i),e;o=o.sibling}throw Error(Z(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(Z(189))}}if(n.alternate!==r)throw Error(Z(190))}if(n.tag!==3)throw Error(Z(188));return n.stateNode.current===n?t:e}function cC(t){return t=UL(t),t!==null?fC(t):null}function fC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=fC(t);if(e!==null)return e;t=t.sibling}return null}var hC=zn.unstable_scheduleCallback,aE=zn.unstable_cancelCallback,BL=zn.unstable_shouldYield,zL=zn.unstable_requestPaint,_t=zn.unstable_now,WL=zn.unstable_getCurrentPriorityLevel,Z_=zn.unstable_ImmediatePriority,dC=zn.unstable_UserBlockingPriority,cd=zn.unstable_NormalPriority,qL=zn.unstable_LowPriority,pC=zn.unstable_IdlePriority,zp=null,jr=null;function HL(t){if(jr&&typeof jr.onCommitFiberRoot=="function")try{jr.onCommitFiberRoot(zp,t,void 0,(t.current.flags&128)===128)}catch{}}var _r=Math.clz32?Math.clz32:XL,KL=Math.log,GL=Math.LN2;function XL(t){return t>>>=0,t===0?32:31-(KL(t)/GL|0)|0}var ih=64,oh=4194304;function pu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function fd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=pu(s):(o&=a,o!==0&&(r=pu(o)))}else a=n&~i,a!==0?r=pu(a):o!==0&&(r=pu(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-_r(e),i=1<<n,r|=t[n],e&=~i;return r}function YL(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function QL(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-_r(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=YL(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function dv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function mC(){var t=ih;return ih<<=1,!(ih&4194240)&&(ih=64),t}function Fg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function cf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-_r(e),t[e]=n}function JL(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-_r(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function ew(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-_r(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ue=0;function gC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var yC,tw,vC,_C,wC,pv=!1,ah=[],no=null,ro=null,io=null,Xu=new Map,Yu=new Map,zi=[],ZL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sE(t,e){switch(t){case"focusin":case"focusout":no=null;break;case"dragenter":case"dragleave":ro=null;break;case"mouseover":case"mouseout":io=null;break;case"pointerover":case"pointerout":Xu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yu.delete(e.pointerId)}}function Kl(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=hf(e),e!==null&&tw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function eV(t,e,n,r,i){switch(e){case"focusin":return no=Kl(no,t,e,n,r,i),!0;case"dragenter":return ro=Kl(ro,t,e,n,r,i),!0;case"mouseover":return io=Kl(io,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Xu.set(o,Kl(Xu.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Yu.set(o,Kl(Yu.get(o)||null,t,e,n,r,i)),!0}return!1}function bC(t){var e=Yo(t.target);if(e!==null){var n=Ia(e);if(n!==null){if(e=n.tag,e===13){if(e=uC(n),e!==null){t.blockedOn=e,wC(t.priority,function(){vC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Uh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=mv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);uv=r,n.target.dispatchEvent(r),uv=null}else return e=hf(n),e!==null&&tw(e),t.blockedOn=n,!1;e.shift()}return!0}function lE(t,e,n){Uh(t)&&n.delete(e)}function tV(){pv=!1,no!==null&&Uh(no)&&(no=null),ro!==null&&Uh(ro)&&(ro=null),io!==null&&Uh(io)&&(io=null),Xu.forEach(lE),Yu.forEach(lE)}function Gl(t,e){t.blockedOn===e&&(t.blockedOn=null,pv||(pv=!0,zn.unstable_scheduleCallback(zn.unstable_NormalPriority,tV)))}function Qu(t){function e(i){return Gl(i,t)}if(0<ah.length){Gl(ah[0],t);for(var n=1;n<ah.length;n++){var r=ah[n];r.blockedOn===t&&(r.blockedOn=null)}}for(no!==null&&Gl(no,t),ro!==null&&Gl(ro,t),io!==null&&Gl(io,t),Xu.forEach(e),Yu.forEach(e),n=0;n<zi.length;n++)r=zi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<zi.length&&(n=zi[0],n.blockedOn===null);)bC(n),n.blockedOn===null&&zi.shift()}var _s=Pi.ReactCurrentBatchConfig,hd=!0;function nV(t,e,n,r){var i=Ue,o=_s.transition;_s.transition=null;try{Ue=1,nw(t,e,n,r)}finally{Ue=i,_s.transition=o}}function rV(t,e,n,r){var i=Ue,o=_s.transition;_s.transition=null;try{Ue=4,nw(t,e,n,r)}finally{Ue=i,_s.transition=o}}function nw(t,e,n,r){if(hd){var i=mv(t,e,n,r);if(i===null)Yg(t,e,r,dd,n),sE(t,r);else if(eV(i,t,e,n,r))r.stopPropagation();else if(sE(t,r),e&4&&-1<ZL.indexOf(t)){for(;i!==null;){var o=hf(i);if(o!==null&&yC(o),o=mv(t,e,n,r),o===null&&Yg(t,e,r,dd,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Yg(t,e,r,null,n)}}var dd=null;function mv(t,e,n,r){if(dd=null,t=J_(r),t=Yo(t),t!==null)if(e=Ia(t),e===null)t=null;else if(n=e.tag,n===13){if(t=uC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return dd=t,null}function xC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(WL()){case Z_:return 1;case dC:return 4;case cd:case qL:return 16;case pC:return 536870912;default:return 16}default:return 16}}var Qi=null,rw=null,Bh=null;function EC(){if(Bh)return Bh;var t,e=rw,n=e.length,r,i="value"in Qi?Qi.value:Qi.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return Bh=i.slice(t,1<r?1-r:void 0)}function zh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function sh(){return!0}function uE(){return!1}function qn(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?sh:uE,this.isPropagationStopped=uE,this}return ct(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=sh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=sh)},persist:function(){},isPersistent:sh}),e}var ll={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},iw=qn(ll),ff=ct({},ll,{view:0,detail:0}),iV=qn(ff),Ug,Bg,Xl,Wp=ct({},ff,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ow,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xl&&(Xl&&t.type==="mousemove"?(Ug=t.screenX-Xl.screenX,Bg=t.screenY-Xl.screenY):Bg=Ug=0,Xl=t),Ug)},movementY:function(t){return"movementY"in t?t.movementY:Bg}}),cE=qn(Wp),oV=ct({},Wp,{dataTransfer:0}),aV=qn(oV),sV=ct({},ff,{relatedTarget:0}),zg=qn(sV),lV=ct({},ll,{animationName:0,elapsedTime:0,pseudoElement:0}),uV=qn(lV),cV=ct({},ll,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),fV=qn(cV),hV=ct({},ll,{data:0}),fE=qn(hV),dV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pV={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mV={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gV(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=mV[t])?!!e[t]:!1}function ow(){return gV}var yV=ct({},ff,{key:function(t){if(t.key){var e=dV[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=zh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?pV[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ow,charCode:function(t){return t.type==="keypress"?zh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),vV=qn(yV),_V=ct({},Wp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hE=qn(_V),wV=ct({},ff,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ow}),bV=qn(wV),xV=ct({},ll,{propertyName:0,elapsedTime:0,pseudoElement:0}),EV=qn(xV),SV=ct({},Wp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),TV=qn(SV),AV=[9,13,27,32],aw=mi&&"CompositionEvent"in window,Au=null;mi&&"documentMode"in document&&(Au=document.documentMode);var PV=mi&&"TextEvent"in window&&!Au,SC=mi&&(!aw||Au&&8<Au&&11>=Au),dE=" ",pE=!1;function TC(t,e){switch(t){case"keyup":return AV.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function AC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ts=!1;function IV(t,e){switch(t){case"compositionend":return AC(e);case"keypress":return e.which!==32?null:(pE=!0,dE);case"textInput":return t=e.data,t===dE&&pE?null:t;default:return null}}function OV(t,e){if(ts)return t==="compositionend"||!aw&&TC(t,e)?(t=EC(),Bh=rw=Qi=null,ts=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return SC&&e.locale!=="ko"?null:e.data;default:return null}}var CV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!CV[t.type]:e==="textarea"}function PC(t,e,n,r){iC(r),e=pd(e,"onChange"),0<e.length&&(n=new iw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Pu=null,Ju=null;function kV(t){LC(t,0)}function qp(t){var e=is(t);if(QO(e))return t}function RV(t,e){if(t==="change")return e}var IC=!1;if(mi){var Wg;if(mi){var qg="oninput"in document;if(!qg){var gE=document.createElement("div");gE.setAttribute("oninput","return;"),qg=typeof gE.oninput=="function"}Wg=qg}else Wg=!1;IC=Wg&&(!document.documentMode||9<document.documentMode)}function yE(){Pu&&(Pu.detachEvent("onpropertychange",OC),Ju=Pu=null)}function OC(t){if(t.propertyName==="value"&&qp(Ju)){var e=[];PC(e,Ju,t,J_(t)),lC(kV,e)}}function NV(t,e,n){t==="focusin"?(yE(),Pu=e,Ju=n,Pu.attachEvent("onpropertychange",OC)):t==="focusout"&&yE()}function DV(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qp(Ju)}function jV(t,e){if(t==="click")return qp(e)}function MV(t,e){if(t==="input"||t==="change")return qp(e)}function $V(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var xr=typeof Object.is=="function"?Object.is:$V;function Zu(t,e){if(xr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Qy.call(e,i)||!xr(t[i],e[i]))return!1}return!0}function vE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _E(t,e){var n=vE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=vE(n)}}function CC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?CC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function kC(){for(var t=window,e=sd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=sd(t.document)}return e}function sw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function LV(t){var e=kC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&CC(n.ownerDocument.documentElement,n)){if(r!==null&&sw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=_E(n,o);var a=_E(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var VV=mi&&"documentMode"in document&&11>=document.documentMode,ns=null,gv=null,Iu=null,yv=!1;function wE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;yv||ns==null||ns!==sd(r)||(r=ns,"selectionStart"in r&&sw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Iu&&Zu(Iu,r)||(Iu=r,r=pd(gv,"onSelect"),0<r.length&&(e=new iw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ns)))}function lh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var rs={animationend:lh("Animation","AnimationEnd"),animationiteration:lh("Animation","AnimationIteration"),animationstart:lh("Animation","AnimationStart"),transitionend:lh("Transition","TransitionEnd")},Hg={},RC={};mi&&(RC=document.createElement("div").style,"AnimationEvent"in window||(delete rs.animationend.animation,delete rs.animationiteration.animation,delete rs.animationstart.animation),"TransitionEvent"in window||delete rs.transitionend.transition);function Hp(t){if(Hg[t])return Hg[t];if(!rs[t])return t;var e=rs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in RC)return Hg[t]=e[n];return t}var NC=Hp("animationend"),DC=Hp("animationiteration"),jC=Hp("animationstart"),MC=Hp("transitionend"),$C=new Map,bE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Eo(t,e){$C.set(t,e),Pa(e,[t])}for(var Kg=0;Kg<bE.length;Kg++){var Gg=bE[Kg],FV=Gg.toLowerCase(),UV=Gg[0].toUpperCase()+Gg.slice(1);Eo(FV,"on"+UV)}Eo(NC,"onAnimationEnd");Eo(DC,"onAnimationIteration");Eo(jC,"onAnimationStart");Eo("dblclick","onDoubleClick");Eo("focusin","onFocus");Eo("focusout","onBlur");Eo(MC,"onTransitionEnd");Os("onMouseEnter",["mouseout","mouseover"]);Os("onMouseLeave",["mouseout","mouseover"]);Os("onPointerEnter",["pointerout","pointerover"]);Os("onPointerLeave",["pointerout","pointerover"]);Pa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BV=new Set("cancel close invalid load scroll toggle".split(" ").concat(mu));function xE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,FL(r,e,void 0,t),t.currentTarget=null}function LC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;xE(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;xE(i,s,u),o=l}}}if(ud)throw t=hv,ud=!1,hv=null,t}function et(t,e){var n=e[xv];n===void 0&&(n=e[xv]=new Set);var r=t+"__bubble";n.has(r)||(VC(e,t,2,!1),n.add(r))}function Xg(t,e,n){var r=0;e&&(r|=4),VC(n,t,r,e)}var uh="_reactListening"+Math.random().toString(36).slice(2);function ec(t){if(!t[uh]){t[uh]=!0,HO.forEach(function(n){n!=="selectionchange"&&(BV.has(n)||Xg(n,!1,t),Xg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[uh]||(e[uh]=!0,Xg("selectionchange",!1,e))}}function VC(t,e,n,r){switch(xC(e)){case 1:var i=nV;break;case 4:i=rV;break;default:i=nw}n=i.bind(null,e,n,t),i=void 0,!fv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Yg(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=Yo(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}lC(function(){var u=o,c=J_(n),f=[];e:{var d=$C.get(t);if(d!==void 0){var p=iw,m=t;switch(t){case"keypress":if(zh(n)===0)break e;case"keydown":case"keyup":p=vV;break;case"focusin":m="focus",p=zg;break;case"focusout":m="blur",p=zg;break;case"beforeblur":case"afterblur":p=zg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=cE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=aV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=bV;break;case NC:case DC:case jC:p=uV;break;case MC:p=EV;break;case"scroll":p=iV;break;case"wheel":p=TV;break;case"copy":case"cut":case"paste":p=fV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=hE}var g=(e&4)!==0,_=!g&&t==="scroll",b=g?d!==null?d+"Capture":null:d;g=[];for(var y=u,v;y!==null;){v=y;var x=v.stateNode;if(v.tag===5&&x!==null&&(v=x,b!==null&&(x=Gu(y,b),x!=null&&g.push(tc(y,x,v)))),_)break;y=y.return}0<g.length&&(d=new p(d,m,null,n,c),f.push({event:d,listeners:g}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==uv&&(m=n.relatedTarget||n.fromElement)&&(Yo(m)||m[gi]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=u,m=m?Yo(m):null,m!==null&&(_=Ia(m),m!==_||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(g=cE,x="onMouseLeave",b="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(g=hE,x="onPointerLeave",b="onPointerEnter",y="pointer"),_=p==null?d:is(p),v=m==null?d:is(m),d=new g(x,y+"leave",p,n,c),d.target=_,d.relatedTarget=v,x=null,Yo(c)===u&&(g=new g(b,y+"enter",m,n,c),g.target=v,g.relatedTarget=_,x=g),_=x,p&&m)t:{for(g=p,b=m,y=0,v=g;v;v=Wa(v))y++;for(v=0,x=b;x;x=Wa(x))v++;for(;0<y-v;)g=Wa(g),y--;for(;0<v-y;)b=Wa(b),v--;for(;y--;){if(g===b||b!==null&&g===b.alternate)break t;g=Wa(g),b=Wa(b)}g=null}else g=null;p!==null&&EE(f,d,p,g,!1),m!==null&&_!==null&&EE(f,_,m,g,!0)}}e:{if(d=u?is(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var T=RV;else if(mE(d))if(IC)T=MV;else{T=DV;var O=NV}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(T=jV);if(T&&(T=T(t,u))){PC(f,T,n,c);break e}O&&O(t,d,u),t==="focusout"&&(O=d._wrapperState)&&O.controlled&&d.type==="number"&&iv(d,"number",d.value)}switch(O=u?is(u):window,t){case"focusin":(mE(O)||O.contentEditable==="true")&&(ns=O,gv=u,Iu=null);break;case"focusout":Iu=gv=ns=null;break;case"mousedown":yv=!0;break;case"contextmenu":case"mouseup":case"dragend":yv=!1,wE(f,n,c);break;case"selectionchange":if(VV)break;case"keydown":case"keyup":wE(f,n,c)}var S;if(aw)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else ts?TC(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(SC&&n.locale!=="ko"&&(ts||E!=="onCompositionStart"?E==="onCompositionEnd"&&ts&&(S=EC()):(Qi=c,rw="value"in Qi?Qi.value:Qi.textContent,ts=!0)),O=pd(u,E),0<O.length&&(E=new fE(E,t,null,n,c),f.push({event:E,listeners:O}),S?E.data=S:(S=AC(n),S!==null&&(E.data=S)))),(S=PV?IV(t,n):OV(t,n))&&(u=pd(u,"onBeforeInput"),0<u.length&&(c=new fE("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=S))}LC(f,e)})}function tc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function pd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Gu(t,n),o!=null&&r.unshift(tc(t,o,i)),o=Gu(t,e),o!=null&&r.push(tc(t,o,i))),t=t.return}return r}function Wa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function EE(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=Gu(n,o),l!=null&&a.unshift(tc(n,l,s))):i||(l=Gu(n,o),l!=null&&a.push(tc(n,l,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var zV=/\r\n?/g,WV=/\u0000|\uFFFD/g;function SE(t){return(typeof t=="string"?t:""+t).replace(zV,`
`).replace(WV,"")}function ch(t,e,n){if(e=SE(e),SE(t)!==e&&n)throw Error(Z(425))}function md(){}var vv=null,_v=null;function wv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var bv=typeof setTimeout=="function"?setTimeout:void 0,qV=typeof clearTimeout=="function"?clearTimeout:void 0,TE=typeof Promise=="function"?Promise:void 0,HV=typeof queueMicrotask=="function"?queueMicrotask:typeof TE<"u"?function(t){return TE.resolve(null).then(t).catch(KV)}:bv;function KV(t){setTimeout(function(){throw t})}function Qg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Qu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Qu(e)}function oo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function AE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ul=Math.random().toString(36).slice(2),kr="__reactFiber$"+ul,nc="__reactProps$"+ul,gi="__reactContainer$"+ul,xv="__reactEvents$"+ul,GV="__reactListeners$"+ul,XV="__reactHandles$"+ul;function Yo(t){var e=t[kr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[gi]||n[kr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=AE(t);t!==null;){if(n=t[kr])return n;t=AE(t)}return e}t=n,n=t.parentNode}return null}function hf(t){return t=t[kr]||t[gi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function is(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Z(33))}function Kp(t){return t[nc]||null}var Ev=[],os=-1;function So(t){return{current:t}}function it(t){0>os||(t.current=Ev[os],Ev[os]=null,os--)}function Ye(t,e){os++,Ev[os]=t.current,t.current=e}var vo={},ln=So(vo),Pn=So(!1),ca=vo;function Cs(t,e){var n=t.type.contextTypes;if(!n)return vo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function In(t){return t=t.childContextTypes,t!=null}function gd(){it(Pn),it(ln)}function PE(t,e,n){if(ln.current!==vo)throw Error(Z(168));Ye(ln,e),Ye(Pn,n)}function FC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Z(108,NL(t)||"Unknown",i));return ct({},n,r)}function yd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||vo,ca=ln.current,Ye(ln,t),Ye(Pn,Pn.current),!0}function IE(t,e,n){var r=t.stateNode;if(!r)throw Error(Z(169));n?(t=FC(t,e,ca),r.__reactInternalMemoizedMergedChildContext=t,it(Pn),it(ln),Ye(ln,t)):it(Pn),Ye(Pn,n)}var Zr=null,Gp=!1,Jg=!1;function UC(t){Zr===null?Zr=[t]:Zr.push(t)}function YV(t){Gp=!0,UC(t)}function To(){if(!Jg&&Zr!==null){Jg=!0;var t=0,e=Ue;try{var n=Zr;for(Ue=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Zr=null,Gp=!1}catch(i){throw Zr!==null&&(Zr=Zr.slice(t+1)),hC(Z_,To),i}finally{Ue=e,Jg=!1}}return null}var as=[],ss=0,vd=null,_d=0,Qn=[],Jn=0,fa=null,ei=1,ti="";function zo(t,e){as[ss++]=_d,as[ss++]=vd,vd=t,_d=e}function BC(t,e,n){Qn[Jn++]=ei,Qn[Jn++]=ti,Qn[Jn++]=fa,fa=t;var r=ei;t=ti;var i=32-_r(r)-1;r&=~(1<<i),n+=1;var o=32-_r(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,ei=1<<32-_r(e)+i|n<<i|r,ti=o+t}else ei=1<<o|n<<i|r,ti=t}function lw(t){t.return!==null&&(zo(t,1),BC(t,1,0))}function uw(t){for(;t===vd;)vd=as[--ss],as[ss]=null,_d=as[--ss],as[ss]=null;for(;t===fa;)fa=Qn[--Jn],Qn[Jn]=null,ti=Qn[--Jn],Qn[Jn]=null,ei=Qn[--Jn],Qn[Jn]=null}var Un=null,Ln=null,at=!1,yr=null;function zC(t,e){var n=tr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function OE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Un=t,Ln=oo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Un=t,Ln=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=fa!==null?{id:ei,overflow:ti}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=tr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Un=t,Ln=null,!0):!1;default:return!1}}function Sv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Tv(t){if(at){var e=Ln;if(e){var n=e;if(!OE(t,e)){if(Sv(t))throw Error(Z(418));e=oo(n.nextSibling);var r=Un;e&&OE(t,e)?zC(r,n):(t.flags=t.flags&-4097|2,at=!1,Un=t)}}else{if(Sv(t))throw Error(Z(418));t.flags=t.flags&-4097|2,at=!1,Un=t}}}function CE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Un=t}function fh(t){if(t!==Un)return!1;if(!at)return CE(t),at=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!wv(t.type,t.memoizedProps)),e&&(e=Ln)){if(Sv(t))throw WC(),Error(Z(418));for(;e;)zC(t,e),e=oo(e.nextSibling)}if(CE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ln=oo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ln=null}}else Ln=Un?oo(t.stateNode.nextSibling):null;return!0}function WC(){for(var t=Ln;t;)t=oo(t.nextSibling)}function ks(){Ln=Un=null,at=!1}function cw(t){yr===null?yr=[t]:yr.push(t)}var QV=Pi.ReactCurrentBatchConfig;function Yl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Z(309));var r=n.stateNode}if(!r)throw Error(Z(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(Z(284));if(!n._owner)throw Error(Z(290,t))}return t}function hh(t,e){throw t=Object.prototype.toString.call(e),Error(Z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function kE(t){var e=t._init;return e(t._payload)}function qC(t){function e(b,y){if(t){var v=b.deletions;v===null?(b.deletions=[y],b.flags|=16):v.push(y)}}function n(b,y){if(!t)return null;for(;y!==null;)e(b,y),y=y.sibling;return null}function r(b,y){for(b=new Map;y!==null;)y.key!==null?b.set(y.key,y):b.set(y.index,y),y=y.sibling;return b}function i(b,y){return b=uo(b,y),b.index=0,b.sibling=null,b}function o(b,y,v){return b.index=v,t?(v=b.alternate,v!==null?(v=v.index,v<y?(b.flags|=2,y):v):(b.flags|=2,y)):(b.flags|=1048576,y)}function a(b){return t&&b.alternate===null&&(b.flags|=2),b}function s(b,y,v,x){return y===null||y.tag!==6?(y=oy(v,b.mode,x),y.return=b,y):(y=i(y,v),y.return=b,y)}function l(b,y,v,x){var T=v.type;return T===es?c(b,y,v.props.children,x,v.key):y!==null&&(y.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Vi&&kE(T)===y.type)?(x=i(y,v.props),x.ref=Yl(b,y,v),x.return=b,x):(x=Yh(v.type,v.key,v.props,null,b.mode,x),x.ref=Yl(b,y,v),x.return=b,x)}function u(b,y,v,x){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=ay(v,b.mode,x),y.return=b,y):(y=i(y,v.children||[]),y.return=b,y)}function c(b,y,v,x,T){return y===null||y.tag!==7?(y=oa(v,b.mode,x,T),y.return=b,y):(y=i(y,v),y.return=b,y)}function f(b,y,v){if(typeof y=="string"&&y!==""||typeof y=="number")return y=oy(""+y,b.mode,v),y.return=b,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case th:return v=Yh(y.type,y.key,y.props,null,b.mode,v),v.ref=Yl(b,null,y),v.return=b,v;case Za:return y=ay(y,b.mode,v),y.return=b,y;case Vi:var x=y._init;return f(b,x(y._payload),v)}if(du(y)||ql(y))return y=oa(y,b.mode,v,null),y.return=b,y;hh(b,y)}return null}function d(b,y,v,x){var T=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return T!==null?null:s(b,y,""+v,x);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case th:return v.key===T?l(b,y,v,x):null;case Za:return v.key===T?u(b,y,v,x):null;case Vi:return T=v._init,d(b,y,T(v._payload),x)}if(du(v)||ql(v))return T!==null?null:c(b,y,v,x,null);hh(b,v)}return null}function p(b,y,v,x,T){if(typeof x=="string"&&x!==""||typeof x=="number")return b=b.get(v)||null,s(y,b,""+x,T);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case th:return b=b.get(x.key===null?v:x.key)||null,l(y,b,x,T);case Za:return b=b.get(x.key===null?v:x.key)||null,u(y,b,x,T);case Vi:var O=x._init;return p(b,y,v,O(x._payload),T)}if(du(x)||ql(x))return b=b.get(v)||null,c(y,b,x,T,null);hh(y,x)}return null}function m(b,y,v,x){for(var T=null,O=null,S=y,E=y=0,I=null;S!==null&&E<v.length;E++){S.index>E?(I=S,S=null):I=S.sibling;var C=d(b,S,v[E],x);if(C===null){S===null&&(S=I);break}t&&S&&C.alternate===null&&e(b,S),y=o(C,y,E),O===null?T=C:O.sibling=C,O=C,S=I}if(E===v.length)return n(b,S),at&&zo(b,E),T;if(S===null){for(;E<v.length;E++)S=f(b,v[E],x),S!==null&&(y=o(S,y,E),O===null?T=S:O.sibling=S,O=S);return at&&zo(b,E),T}for(S=r(b,S);E<v.length;E++)I=p(S,b,E,v[E],x),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?E:I.key),y=o(I,y,E),O===null?T=I:O.sibling=I,O=I);return t&&S.forEach(function(R){return e(b,R)}),at&&zo(b,E),T}function g(b,y,v,x){var T=ql(v);if(typeof T!="function")throw Error(Z(150));if(v=T.call(v),v==null)throw Error(Z(151));for(var O=T=null,S=y,E=y=0,I=null,C=v.next();S!==null&&!C.done;E++,C=v.next()){S.index>E?(I=S,S=null):I=S.sibling;var R=d(b,S,C.value,x);if(R===null){S===null&&(S=I);break}t&&S&&R.alternate===null&&e(b,S),y=o(R,y,E),O===null?T=R:O.sibling=R,O=R,S=I}if(C.done)return n(b,S),at&&zo(b,E),T;if(S===null){for(;!C.done;E++,C=v.next())C=f(b,C.value,x),C!==null&&(y=o(C,y,E),O===null?T=C:O.sibling=C,O=C);return at&&zo(b,E),T}for(S=r(b,S);!C.done;E++,C=v.next())C=p(S,b,E,C.value,x),C!==null&&(t&&C.alternate!==null&&S.delete(C.key===null?E:C.key),y=o(C,y,E),O===null?T=C:O.sibling=C,O=C);return t&&S.forEach(function(D){return e(b,D)}),at&&zo(b,E),T}function _(b,y,v,x){if(typeof v=="object"&&v!==null&&v.type===es&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case th:e:{for(var T=v.key,O=y;O!==null;){if(O.key===T){if(T=v.type,T===es){if(O.tag===7){n(b,O.sibling),y=i(O,v.props.children),y.return=b,b=y;break e}}else if(O.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Vi&&kE(T)===O.type){n(b,O.sibling),y=i(O,v.props),y.ref=Yl(b,O,v),y.return=b,b=y;break e}n(b,O);break}else e(b,O);O=O.sibling}v.type===es?(y=oa(v.props.children,b.mode,x,v.key),y.return=b,b=y):(x=Yh(v.type,v.key,v.props,null,b.mode,x),x.ref=Yl(b,y,v),x.return=b,b=x)}return a(b);case Za:e:{for(O=v.key;y!==null;){if(y.key===O)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){n(b,y.sibling),y=i(y,v.children||[]),y.return=b,b=y;break e}else{n(b,y);break}else e(b,y);y=y.sibling}y=ay(v,b.mode,x),y.return=b,b=y}return a(b);case Vi:return O=v._init,_(b,y,O(v._payload),x)}if(du(v))return m(b,y,v,x);if(ql(v))return g(b,y,v,x);hh(b,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,y!==null&&y.tag===6?(n(b,y.sibling),y=i(y,v),y.return=b,b=y):(n(b,y),y=oy(v,b.mode,x),y.return=b,b=y),a(b)):n(b,y)}return _}var Rs=qC(!0),HC=qC(!1),wd=So(null),bd=null,ls=null,fw=null;function hw(){fw=ls=bd=null}function dw(t){var e=wd.current;it(wd),t._currentValue=e}function Av(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ws(t,e){bd=t,fw=ls=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Tn=!0),t.firstContext=null)}function ar(t){var e=t._currentValue;if(fw!==t)if(t={context:t,memoizedValue:e,next:null},ls===null){if(bd===null)throw Error(Z(308));ls=t,bd.dependencies={lanes:0,firstContext:t}}else ls=ls.next=t;return e}var Qo=null;function pw(t){Qo===null?Qo=[t]:Qo.push(t)}function KC(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,pw(e)):(n.next=i.next,i.next=n),e.interleaved=n,yi(t,r)}function yi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Fi=!1;function mw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function GC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ui(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ao(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ne&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,yi(t,n)}return i=r.interleaved,i===null?(e.next=e,pw(r)):(e.next=i.next,i.next=e),r.interleaved=e,yi(t,n)}function Wh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ew(t,n)}}function RE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function xd(t,e,n,r){var i=t.updateQueue;Fi=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;a=0,c=u=l=null,s=o;do{var d=s.lane,p=s.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=t,g=s;switch(d=e,p=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){f=m.call(p,f,d);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,d=typeof m=="function"?m.call(p,f,d):m,d==null)break e;f=ct({},f,d);break e;case 2:Fi=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[s]:d.push(s))}else p={eventTime:p,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=p,l=f):c=c.next=p,a|=d;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;d=s,s=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);da|=a,t.lanes=a,t.memoizedState=f}}function NE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Z(191,i));i.call(r)}}}var df={},Mr=So(df),rc=So(df),ic=So(df);function Jo(t){if(t===df)throw Error(Z(174));return t}function gw(t,e){switch(Ye(ic,e),Ye(rc,t),Ye(Mr,df),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:av(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=av(e,t)}it(Mr),Ye(Mr,e)}function Ns(){it(Mr),it(rc),it(ic)}function XC(t){Jo(ic.current);var e=Jo(Mr.current),n=av(e,t.type);e!==n&&(Ye(rc,t),Ye(Mr,n))}function yw(t){rc.current===t&&(it(Mr),it(rc))}var lt=So(0);function Ed(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Zg=[];function vw(){for(var t=0;t<Zg.length;t++)Zg[t]._workInProgressVersionPrimary=null;Zg.length=0}var qh=Pi.ReactCurrentDispatcher,ey=Pi.ReactCurrentBatchConfig,ha=0,ut=null,Pt=null,Dt=null,Sd=!1,Ou=!1,oc=0,JV=0;function Qt(){throw Error(Z(321))}function _w(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!xr(t[n],e[n]))return!1;return!0}function ww(t,e,n,r,i,o){if(ha=o,ut=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,qh.current=t===null||t.memoizedState===null?nF:rF,t=n(r,i),Ou){o=0;do{if(Ou=!1,oc=0,25<=o)throw Error(Z(301));o+=1,Dt=Pt=null,e.updateQueue=null,qh.current=iF,t=n(r,i)}while(Ou)}if(qh.current=Td,e=Pt!==null&&Pt.next!==null,ha=0,Dt=Pt=ut=null,Sd=!1,e)throw Error(Z(300));return t}function bw(){var t=oc!==0;return oc=0,t}function Or(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?ut.memoizedState=Dt=t:Dt=Dt.next=t,Dt}function sr(){if(Pt===null){var t=ut.alternate;t=t!==null?t.memoizedState:null}else t=Pt.next;var e=Dt===null?ut.memoizedState:Dt.next;if(e!==null)Dt=e,Pt=t;else{if(t===null)throw Error(Z(310));Pt=t,t={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},Dt===null?ut.memoizedState=Dt=t:Dt=Dt.next=t}return Dt}function ac(t,e){return typeof e=="function"?e(t):e}function ty(t){var e=sr(),n=e.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var r=Pt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var c=u.lane;if((ha&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,a=r):l=l.next=f,ut.lanes|=c,da|=c}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,xr(r,e.memoizedState)||(Tn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,ut.lanes|=o,da|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ny(t){var e=sr(),n=e.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);xr(o,e.memoizedState)||(Tn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function YC(){}function QC(t,e){var n=ut,r=sr(),i=e(),o=!xr(r.memoizedState,i);if(o&&(r.memoizedState=i,Tn=!0),r=r.queue,xw(ek.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Dt!==null&&Dt.memoizedState.tag&1){if(n.flags|=2048,sc(9,ZC.bind(null,n,r,i,e),void 0,null),Mt===null)throw Error(Z(349));ha&30||JC(n,e,i)}return i}function JC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ut.updateQueue,e===null?(e={lastEffect:null,stores:null},ut.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ZC(t,e,n,r){e.value=n,e.getSnapshot=r,tk(e)&&nk(t)}function ek(t,e,n){return n(function(){tk(e)&&nk(t)})}function tk(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!xr(t,n)}catch{return!0}}function nk(t){var e=yi(t,1);e!==null&&wr(e,t,1,-1)}function DE(t){var e=Or();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ac,lastRenderedState:t},e.queue=t,t=t.dispatch=tF.bind(null,ut,t),[e.memoizedState,t]}function sc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ut.updateQueue,e===null?(e={lastEffect:null,stores:null},ut.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function rk(){return sr().memoizedState}function Hh(t,e,n,r){var i=Or();ut.flags|=t,i.memoizedState=sc(1|e,n,void 0,r===void 0?null:r)}function Xp(t,e,n,r){var i=sr();r=r===void 0?null:r;var o=void 0;if(Pt!==null){var a=Pt.memoizedState;if(o=a.destroy,r!==null&&_w(r,a.deps)){i.memoizedState=sc(e,n,o,r);return}}ut.flags|=t,i.memoizedState=sc(1|e,n,o,r)}function jE(t,e){return Hh(8390656,8,t,e)}function xw(t,e){return Xp(2048,8,t,e)}function ik(t,e){return Xp(4,2,t,e)}function ok(t,e){return Xp(4,4,t,e)}function ak(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function sk(t,e,n){return n=n!=null?n.concat([t]):null,Xp(4,4,ak.bind(null,e,t),n)}function Ew(){}function lk(t,e){var n=sr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_w(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function uk(t,e){var n=sr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_w(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ck(t,e,n){return ha&21?(xr(n,e)||(n=mC(),ut.lanes|=n,da|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Tn=!0),t.memoizedState=n)}function ZV(t,e){var n=Ue;Ue=n!==0&&4>n?n:4,t(!0);var r=ey.transition;ey.transition={};try{t(!1),e()}finally{Ue=n,ey.transition=r}}function fk(){return sr().memoizedState}function eF(t,e,n){var r=lo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},hk(t))dk(e,n);else if(n=KC(t,e,n,r),n!==null){var i=_n();wr(n,t,r,i),pk(n,e,r)}}function tF(t,e,n){var r=lo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(hk(t))dk(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,xr(s,a)){var l=e.interleaved;l===null?(i.next=i,pw(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=KC(t,e,i,r),n!==null&&(i=_n(),wr(n,t,r,i),pk(n,e,r))}}function hk(t){var e=t.alternate;return t===ut||e!==null&&e===ut}function dk(t,e){Ou=Sd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function pk(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ew(t,n)}}var Td={readContext:ar,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useInsertionEffect:Qt,useLayoutEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useMutableSource:Qt,useSyncExternalStore:Qt,useId:Qt,unstable_isNewReconciler:!1},nF={readContext:ar,useCallback:function(t,e){return Or().memoizedState=[t,e===void 0?null:e],t},useContext:ar,useEffect:jE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Hh(4194308,4,ak.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Hh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Hh(4,2,t,e)},useMemo:function(t,e){var n=Or();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Or();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=eF.bind(null,ut,t),[r.memoizedState,t]},useRef:function(t){var e=Or();return t={current:t},e.memoizedState=t},useState:DE,useDebugValue:Ew,useDeferredValue:function(t){return Or().memoizedState=t},useTransition:function(){var t=DE(!1),e=t[0];return t=ZV.bind(null,t[1]),Or().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ut,i=Or();if(at){if(n===void 0)throw Error(Z(407));n=n()}else{if(n=e(),Mt===null)throw Error(Z(349));ha&30||JC(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,jE(ek.bind(null,r,o,t),[t]),r.flags|=2048,sc(9,ZC.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Or(),e=Mt.identifierPrefix;if(at){var n=ti,r=ei;n=(r&~(1<<32-_r(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=oc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=JV++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},rF={readContext:ar,useCallback:lk,useContext:ar,useEffect:xw,useImperativeHandle:sk,useInsertionEffect:ik,useLayoutEffect:ok,useMemo:uk,useReducer:ty,useRef:rk,useState:function(){return ty(ac)},useDebugValue:Ew,useDeferredValue:function(t){var e=sr();return ck(e,Pt.memoizedState,t)},useTransition:function(){var t=ty(ac)[0],e=sr().memoizedState;return[t,e]},useMutableSource:YC,useSyncExternalStore:QC,useId:fk,unstable_isNewReconciler:!1},iF={readContext:ar,useCallback:lk,useContext:ar,useEffect:xw,useImperativeHandle:sk,useInsertionEffect:ik,useLayoutEffect:ok,useMemo:uk,useReducer:ny,useRef:rk,useState:function(){return ny(ac)},useDebugValue:Ew,useDeferredValue:function(t){var e=sr();return Pt===null?e.memoizedState=t:ck(e,Pt.memoizedState,t)},useTransition:function(){var t=ny(ac)[0],e=sr().memoizedState;return[t,e]},useMutableSource:YC,useSyncExternalStore:QC,useId:fk,unstable_isNewReconciler:!1};function pr(t,e){if(t&&t.defaultProps){e=ct({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Pv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ct({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Yp={isMounted:function(t){return(t=t._reactInternals)?Ia(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=_n(),i=lo(t),o=ui(r,i);o.payload=e,n!=null&&(o.callback=n),e=ao(t,o,i),e!==null&&(wr(e,t,i,r),Wh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=_n(),i=lo(t),o=ui(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=ao(t,o,i),e!==null&&(wr(e,t,i,r),Wh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=_n(),r=lo(t),i=ui(n,r);i.tag=2,e!=null&&(i.callback=e),e=ao(t,i,r),e!==null&&(wr(e,t,r,n),Wh(e,t,r))}};function ME(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!Zu(n,r)||!Zu(i,o):!0}function mk(t,e,n){var r=!1,i=vo,o=e.contextType;return typeof o=="object"&&o!==null?o=ar(o):(i=In(e)?ca:ln.current,r=e.contextTypes,o=(r=r!=null)?Cs(t,i):vo),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Yp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function $E(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Yp.enqueueReplaceState(e,e.state,null)}function Iv(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},mw(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=ar(o):(o=In(e)?ca:ln.current,i.context=Cs(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Pv(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Yp.enqueueReplaceState(i,i.state,null),xd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ds(t,e){try{var n="",r=e;do n+=RL(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function ry(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ov(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var oF=typeof WeakMap=="function"?WeakMap:Map;function gk(t,e,n){n=ui(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Pd||(Pd=!0,Vv=r),Ov(t,e)},n}function yk(t,e,n){n=ui(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Ov(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Ov(t,e),typeof r!="function"&&(so===null?so=new Set([this]):so.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function LE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new oF;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=_F.bind(null,t,e,n),e.then(t,t))}function VE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function FE(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ui(-1,1),e.tag=2,ao(n,e,1))),n.lanes|=1),t)}var aF=Pi.ReactCurrentOwner,Tn=!1;function mn(t,e,n,r){e.child=t===null?HC(e,null,n,r):Rs(e,t.child,n,r)}function UE(t,e,n,r,i){n=n.render;var o=e.ref;return ws(e,i),r=ww(t,e,n,r,o,i),n=bw(),t!==null&&!Tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vi(t,e,i)):(at&&n&&lw(e),e.flags|=1,mn(t,e,r,i),e.child)}function BE(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!kw(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,vk(t,e,o,r,i)):(t=Yh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Zu,n(a,r)&&t.ref===e.ref)return vi(t,e,i)}return e.flags|=1,t=uo(o,r),t.ref=e.ref,t.return=e,e.child=t}function vk(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Zu(o,r)&&t.ref===e.ref)if(Tn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Tn=!0);else return e.lanes=t.lanes,vi(t,e,i)}return Cv(t,e,n,r,i)}function _k(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(cs,jn),jn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ye(cs,jn),jn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ye(cs,jn),jn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ye(cs,jn),jn|=r;return mn(t,e,i,n),e.child}function wk(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Cv(t,e,n,r,i){var o=In(n)?ca:ln.current;return o=Cs(e,o),ws(e,i),n=ww(t,e,n,r,o,i),r=bw(),t!==null&&!Tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vi(t,e,i)):(at&&r&&lw(e),e.flags|=1,mn(t,e,n,i),e.child)}function zE(t,e,n,r,i){if(In(n)){var o=!0;yd(e)}else o=!1;if(ws(e,i),e.stateNode===null)Kh(t,e),mk(e,n,r),Iv(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=ar(u):(u=In(n)?ca:ln.current,u=Cs(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&$E(e,a,r,u),Fi=!1;var d=e.memoizedState;a.state=d,xd(e,r,a,i),l=e.memoizedState,s!==r||d!==l||Pn.current||Fi?(typeof c=="function"&&(Pv(e,n,c,r),l=e.memoizedState),(s=Fi||ME(e,n,s,r,d,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,GC(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:pr(e.type,s),a.props=u,f=e.pendingProps,d=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=ar(l):(l=In(n)?ca:ln.current,l=Cs(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||d!==l)&&$E(e,a,r,l),Fi=!1,d=e.memoizedState,a.state=d,xd(e,r,a,i);var m=e.memoizedState;s!==f||d!==m||Pn.current||Fi?(typeof p=="function"&&(Pv(e,n,p,r),m=e.memoizedState),(u=Fi||ME(e,n,u,r,d,m,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,m,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,m,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),a.props=r,a.state=m,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return kv(t,e,n,r,o,i)}function kv(t,e,n,r,i,o){wk(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&IE(e,n,!1),vi(t,e,o);r=e.stateNode,aF.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Rs(e,t.child,null,o),e.child=Rs(e,null,s,o)):mn(t,e,s,o),e.memoizedState=r.state,i&&IE(e,n,!0),e.child}function bk(t){var e=t.stateNode;e.pendingContext?PE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&PE(t,e.context,!1),gw(t,e.containerInfo)}function WE(t,e,n,r,i){return ks(),cw(i),e.flags|=256,mn(t,e,n,r),e.child}var Rv={dehydrated:null,treeContext:null,retryLane:0};function Nv(t){return{baseLanes:t,cachePool:null,transitions:null}}function xk(t,e,n){var r=e.pendingProps,i=lt.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ye(lt,i&1),t===null)return Tv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Zp(a,r,0,null),t=oa(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Nv(n),e.memoizedState=Rv,t):Sw(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return sF(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=uo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=uo(s,o):(o=oa(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?Nv(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=Rv,r}return o=t.child,t=o.sibling,r=uo(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Sw(t,e){return e=Zp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function dh(t,e,n,r){return r!==null&&cw(r),Rs(e,t.child,null,n),t=Sw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function sF(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=ry(Error(Z(422))),dh(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Zp({mode:"visible",children:r.children},i,0,null),o=oa(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Rs(e,t.child,null,a),e.child.memoizedState=Nv(a),e.memoizedState=Rv,o);if(!(e.mode&1))return dh(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(Z(419)),r=ry(o,r,void 0),dh(t,e,a,r)}if(s=(a&t.childLanes)!==0,Tn||s){if(r=Mt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,yi(t,i),wr(r,t,i,-1))}return Cw(),r=ry(Error(Z(421))),dh(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=wF.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Ln=oo(i.nextSibling),Un=e,at=!0,yr=null,t!==null&&(Qn[Jn++]=ei,Qn[Jn++]=ti,Qn[Jn++]=fa,ei=t.id,ti=t.overflow,fa=e),e=Sw(e,r.children),e.flags|=4096,e)}function qE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Av(t.return,e,n)}function iy(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Ek(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(mn(t,e,r.children,n),r=lt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&qE(t,n,e);else if(t.tag===19)qE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ye(lt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ed(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),iy(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ed(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}iy(e,!0,n,null,o);break;case"together":iy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Kh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function vi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),da|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Z(153));if(e.child!==null){for(t=e.child,n=uo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=uo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function lF(t,e,n){switch(e.tag){case 3:bk(e),ks();break;case 5:XC(e);break;case 1:In(e.type)&&yd(e);break;case 4:gw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ye(wd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ye(lt,lt.current&1),e.flags|=128,null):n&e.child.childLanes?xk(t,e,n):(Ye(lt,lt.current&1),t=vi(t,e,n),t!==null?t.sibling:null);Ye(lt,lt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Ek(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ye(lt,lt.current),r)break;return null;case 22:case 23:return e.lanes=0,_k(t,e,n)}return vi(t,e,n)}var Sk,Dv,Tk,Ak;Sk=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Dv=function(){};Tk=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Jo(Mr.current);var o=null;switch(n){case"input":i=nv(t,i),r=nv(t,r),o=[];break;case"select":i=ct({},i,{value:void 0}),r=ct({},r,{value:void 0}),o=[];break;case"textarea":i=ov(t,i),r=ov(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=md)}sv(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Hu.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Hu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&et("scroll",t),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};Ak=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ql(t,e){if(!at)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Jt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function uF(t,e,n){var r=e.pendingProps;switch(uw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(e),null;case 1:return In(e.type)&&gd(),Jt(e),null;case 3:return r=e.stateNode,Ns(),it(Pn),it(ln),vw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(fh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,yr!==null&&(Bv(yr),yr=null))),Dv(t,e),Jt(e),null;case 5:yw(e);var i=Jo(ic.current);if(n=e.type,t!==null&&e.stateNode!=null)Tk(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Z(166));return Jt(e),null}if(t=Jo(Mr.current),fh(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[kr]=e,r[nc]=o,t=(e.mode&1)!==0,n){case"dialog":et("cancel",r),et("close",r);break;case"iframe":case"object":case"embed":et("load",r);break;case"video":case"audio":for(i=0;i<mu.length;i++)et(mu[i],r);break;case"source":et("error",r);break;case"img":case"image":case"link":et("error",r),et("load",r);break;case"details":et("toggle",r);break;case"input":eE(r,o),et("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},et("invalid",r);break;case"textarea":nE(r,o),et("invalid",r)}sv(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&ch(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&ch(r.textContent,s,t),i=["children",""+s]):Hu.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&et("scroll",r)}switch(n){case"input":nh(r),tE(r,o,!0);break;case"textarea":nh(r),rE(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=md)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=eC(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[kr]=e,t[nc]=r,Sk(t,e,!1,!1),e.stateNode=t;e:{switch(a=lv(n,r),n){case"dialog":et("cancel",t),et("close",t),i=r;break;case"iframe":case"object":case"embed":et("load",t),i=r;break;case"video":case"audio":for(i=0;i<mu.length;i++)et(mu[i],t);i=r;break;case"source":et("error",t),i=r;break;case"img":case"image":case"link":et("error",t),et("load",t),i=r;break;case"details":et("toggle",t),i=r;break;case"input":eE(t,r),i=nv(t,r),et("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ct({},r,{value:void 0}),et("invalid",t);break;case"textarea":nE(t,r),i=ov(t,r),et("invalid",t);break;default:i=r}sv(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?rC(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&tC(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ku(t,l):typeof l=="number"&&Ku(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Hu.hasOwnProperty(o)?l!=null&&o==="onScroll"&&et("scroll",t):l!=null&&G_(t,o,l,a))}switch(n){case"input":nh(t),tE(t,r,!1);break;case"textarea":nh(t),rE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+yo(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?gs(t,!!r.multiple,o,!1):r.defaultValue!=null&&gs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=md)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Jt(e),null;case 6:if(t&&e.stateNode!=null)Ak(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Z(166));if(n=Jo(ic.current),Jo(Mr.current),fh(e)){if(r=e.stateNode,n=e.memoizedProps,r[kr]=e,(o=r.nodeValue!==n)&&(t=Un,t!==null))switch(t.tag){case 3:ch(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ch(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[kr]=e,e.stateNode=r}return Jt(e),null;case 13:if(it(lt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(at&&Ln!==null&&e.mode&1&&!(e.flags&128))WC(),ks(),e.flags|=98560,o=!1;else if(o=fh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(Z(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Z(317));o[kr]=e}else ks(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Jt(e),o=!1}else yr!==null&&(Bv(yr),yr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||lt.current&1?It===0&&(It=3):Cw())),e.updateQueue!==null&&(e.flags|=4),Jt(e),null);case 4:return Ns(),Dv(t,e),t===null&&ec(e.stateNode.containerInfo),Jt(e),null;case 10:return dw(e.type._context),Jt(e),null;case 17:return In(e.type)&&gd(),Jt(e),null;case 19:if(it(lt),o=e.memoizedState,o===null)return Jt(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)Ql(o,!1);else{if(It!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Ed(t),a!==null){for(e.flags|=128,Ql(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ye(lt,lt.current&1|2),e.child}t=t.sibling}o.tail!==null&&_t()>js&&(e.flags|=128,r=!0,Ql(o,!1),e.lanes=4194304)}else{if(!r)if(t=Ed(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ql(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!at)return Jt(e),null}else 2*_t()-o.renderingStartTime>js&&n!==1073741824&&(e.flags|=128,r=!0,Ql(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=_t(),e.sibling=null,n=lt.current,Ye(lt,r?n&1|2:n&1),e):(Jt(e),null);case 22:case 23:return Ow(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?jn&1073741824&&(Jt(e),e.subtreeFlags&6&&(e.flags|=8192)):Jt(e),null;case 24:return null;case 25:return null}throw Error(Z(156,e.tag))}function cF(t,e){switch(uw(e),e.tag){case 1:return In(e.type)&&gd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ns(),it(Pn),it(ln),vw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return yw(e),null;case 13:if(it(lt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Z(340));ks()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return it(lt),null;case 4:return Ns(),null;case 10:return dw(e.type._context),null;case 22:case 23:return Ow(),null;case 24:return null;default:return null}}var ph=!1,rn=!1,fF=typeof WeakSet=="function"?WeakSet:Set,se=null;function us(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){dt(t,e,r)}else n.current=null}function jv(t,e,n){try{n()}catch(r){dt(t,e,r)}}var HE=!1;function hF(t,e){if(vv=hd,t=kC(),sw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,c=0,f=t,d=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(s=a+i),f!==o||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===t)break t;if(d===n&&++u===i&&(s=a),d===o&&++c===r&&(l=a),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(_v={focusedElem:t,selectionRange:n},hd=!1,se=e;se!==null;)if(e=se,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,se=t;else for(;se!==null;){e=se;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,_=m.memoizedState,b=e.stateNode,y=b.getSnapshotBeforeUpdate(e.elementType===e.type?g:pr(e.type,g),_);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(x){dt(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,se=t;break}se=e.return}return m=HE,HE=!1,m}function Cu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&jv(e,n,o)}i=i.next}while(i!==r)}}function Qp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Mv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Pk(t){var e=t.alternate;e!==null&&(t.alternate=null,Pk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[kr],delete e[nc],delete e[xv],delete e[GV],delete e[XV])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ik(t){return t.tag===5||t.tag===3||t.tag===4}function KE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ik(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $v(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=md));else if(r!==4&&(t=t.child,t!==null))for($v(t,e,n),t=t.sibling;t!==null;)$v(t,e,n),t=t.sibling}function Lv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Lv(t,e,n),t=t.sibling;t!==null;)Lv(t,e,n),t=t.sibling}var Ut=null,mr=!1;function Mi(t,e,n){for(n=n.child;n!==null;)Ok(t,e,n),n=n.sibling}function Ok(t,e,n){if(jr&&typeof jr.onCommitFiberUnmount=="function")try{jr.onCommitFiberUnmount(zp,n)}catch{}switch(n.tag){case 5:rn||us(n,e);case 6:var r=Ut,i=mr;Ut=null,Mi(t,e,n),Ut=r,mr=i,Ut!==null&&(mr?(t=Ut,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ut.removeChild(n.stateNode));break;case 18:Ut!==null&&(mr?(t=Ut,n=n.stateNode,t.nodeType===8?Qg(t.parentNode,n):t.nodeType===1&&Qg(t,n),Qu(t)):Qg(Ut,n.stateNode));break;case 4:r=Ut,i=mr,Ut=n.stateNode.containerInfo,mr=!0,Mi(t,e,n),Ut=r,mr=i;break;case 0:case 11:case 14:case 15:if(!rn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&jv(n,e,a),i=i.next}while(i!==r)}Mi(t,e,n);break;case 1:if(!rn&&(us(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){dt(n,e,s)}Mi(t,e,n);break;case 21:Mi(t,e,n);break;case 22:n.mode&1?(rn=(r=rn)||n.memoizedState!==null,Mi(t,e,n),rn=r):Mi(t,e,n);break;default:Mi(t,e,n)}}function GE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new fF),e.forEach(function(r){var i=bF.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function hr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:Ut=s.stateNode,mr=!1;break e;case 3:Ut=s.stateNode.containerInfo,mr=!0;break e;case 4:Ut=s.stateNode.containerInfo,mr=!0;break e}s=s.return}if(Ut===null)throw Error(Z(160));Ok(o,a,i),Ut=null,mr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){dt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Ck(e,t),e=e.sibling}function Ck(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(hr(e,t),Pr(t),r&4){try{Cu(3,t,t.return),Qp(3,t)}catch(g){dt(t,t.return,g)}try{Cu(5,t,t.return)}catch(g){dt(t,t.return,g)}}break;case 1:hr(e,t),Pr(t),r&512&&n!==null&&us(n,n.return);break;case 5:if(hr(e,t),Pr(t),r&512&&n!==null&&us(n,n.return),t.flags&32){var i=t.stateNode;try{Ku(i,"")}catch(g){dt(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&JO(i,o),lv(s,a);var u=lv(s,o);for(a=0;a<l.length;a+=2){var c=l[a],f=l[a+1];c==="style"?rC(i,f):c==="dangerouslySetInnerHTML"?tC(i,f):c==="children"?Ku(i,f):G_(i,c,f,u)}switch(s){case"input":rv(i,o);break;case"textarea":ZO(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?gs(i,!!o.multiple,p,!1):d!==!!o.multiple&&(o.defaultValue!=null?gs(i,!!o.multiple,o.defaultValue,!0):gs(i,!!o.multiple,o.multiple?[]:"",!1))}i[nc]=o}catch(g){dt(t,t.return,g)}}break;case 6:if(hr(e,t),Pr(t),r&4){if(t.stateNode===null)throw Error(Z(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(g){dt(t,t.return,g)}}break;case 3:if(hr(e,t),Pr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Qu(e.containerInfo)}catch(g){dt(t,t.return,g)}break;case 4:hr(e,t),Pr(t);break;case 13:hr(e,t),Pr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Pw=_t())),r&4&&GE(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(rn=(u=rn)||c,hr(e,t),rn=u):hr(e,t),Pr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(se=t,c=t.child;c!==null;){for(f=se=c;se!==null;){switch(d=se,p=d.child,d.tag){case 0:case 11:case 14:case 15:Cu(4,d,d.return);break;case 1:us(d,d.return);var m=d.stateNode;if(typeof m.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){dt(r,n,g)}}break;case 5:us(d,d.return);break;case 22:if(d.memoizedState!==null){YE(f);continue}}p!==null?(p.return=d,se=p):YE(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=nC("display",a))}catch(g){dt(t,t.return,g)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){dt(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:hr(e,t),Pr(t),r&4&&GE(t);break;case 21:break;default:hr(e,t),Pr(t)}}function Pr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Ik(n)){var r=n;break e}n=n.return}throw Error(Z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ku(i,""),r.flags&=-33);var o=KE(t);Lv(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=KE(t);$v(t,s,a);break;default:throw Error(Z(161))}}catch(l){dt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function dF(t,e,n){se=t,kk(t)}function kk(t,e,n){for(var r=(t.mode&1)!==0;se!==null;){var i=se,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||ph;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||rn;s=ph;var u=rn;if(ph=a,(rn=l)&&!u)for(se=i;se!==null;)a=se,l=a.child,a.tag===22&&a.memoizedState!==null?QE(i):l!==null?(l.return=a,se=l):QE(i);for(;o!==null;)se=o,kk(o),o=o.sibling;se=i,ph=s,rn=u}XE(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,se=o):XE(t)}}function XE(t){for(;se!==null;){var e=se;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:rn||Qp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!rn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:pr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&NE(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}NE(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Qu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}rn||e.flags&512&&Mv(e)}catch(d){dt(e,e.return,d)}}if(e===t){se=null;break}if(n=e.sibling,n!==null){n.return=e.return,se=n;break}se=e.return}}function YE(t){for(;se!==null;){var e=se;if(e===t){se=null;break}var n=e.sibling;if(n!==null){n.return=e.return,se=n;break}se=e.return}}function QE(t){for(;se!==null;){var e=se;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Qp(4,e)}catch(l){dt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){dt(e,i,l)}}var o=e.return;try{Mv(e)}catch(l){dt(e,o,l)}break;case 5:var a=e.return;try{Mv(e)}catch(l){dt(e,a,l)}}}catch(l){dt(e,e.return,l)}if(e===t){se=null;break}var s=e.sibling;if(s!==null){s.return=e.return,se=s;break}se=e.return}}var pF=Math.ceil,Ad=Pi.ReactCurrentDispatcher,Tw=Pi.ReactCurrentOwner,rr=Pi.ReactCurrentBatchConfig,Ne=0,Mt=null,Et=null,Wt=0,jn=0,cs=So(0),It=0,lc=null,da=0,Jp=0,Aw=0,ku=null,En=null,Pw=0,js=1/0,Qr=null,Pd=!1,Vv=null,so=null,mh=!1,Ji=null,Id=0,Ru=0,Fv=null,Gh=-1,Xh=0;function _n(){return Ne&6?_t():Gh!==-1?Gh:Gh=_t()}function lo(t){return t.mode&1?Ne&2&&Wt!==0?Wt&-Wt:QV.transition!==null?(Xh===0&&(Xh=mC()),Xh):(t=Ue,t!==0||(t=window.event,t=t===void 0?16:xC(t.type)),t):1}function wr(t,e,n,r){if(50<Ru)throw Ru=0,Fv=null,Error(Z(185));cf(t,n,r),(!(Ne&2)||t!==Mt)&&(t===Mt&&(!(Ne&2)&&(Jp|=n),It===4&&Wi(t,Wt)),On(t,r),n===1&&Ne===0&&!(e.mode&1)&&(js=_t()+500,Gp&&To()))}function On(t,e){var n=t.callbackNode;QL(t,e);var r=fd(t,t===Mt?Wt:0);if(r===0)n!==null&&aE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&aE(n),e===1)t.tag===0?YV(JE.bind(null,t)):UC(JE.bind(null,t)),HV(function(){!(Ne&6)&&To()}),n=null;else{switch(gC(r)){case 1:n=Z_;break;case 4:n=dC;break;case 16:n=cd;break;case 536870912:n=pC;break;default:n=cd}n=Vk(n,Rk.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Rk(t,e){if(Gh=-1,Xh=0,Ne&6)throw Error(Z(327));var n=t.callbackNode;if(bs()&&t.callbackNode!==n)return null;var r=fd(t,t===Mt?Wt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Od(t,r);else{e=r;var i=Ne;Ne|=2;var o=Dk();(Mt!==t||Wt!==e)&&(Qr=null,js=_t()+500,ia(t,e));do try{yF();break}catch(s){Nk(t,s)}while(!0);hw(),Ad.current=o,Ne=i,Et!==null?e=0:(Mt=null,Wt=0,e=It)}if(e!==0){if(e===2&&(i=dv(t),i!==0&&(r=i,e=Uv(t,i))),e===1)throw n=lc,ia(t,0),Wi(t,r),On(t,_t()),n;if(e===6)Wi(t,r);else{if(i=t.current.alternate,!(r&30)&&!mF(i)&&(e=Od(t,r),e===2&&(o=dv(t),o!==0&&(r=o,e=Uv(t,o))),e===1))throw n=lc,ia(t,0),Wi(t,r),On(t,_t()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Z(345));case 2:Wo(t,En,Qr);break;case 3:if(Wi(t,r),(r&130023424)===r&&(e=Pw+500-_t(),10<e)){if(fd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){_n(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=bv(Wo.bind(null,t,En,Qr),e);break}Wo(t,En,Qr);break;case 4:if(Wi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-_r(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=_t()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*pF(r/1960))-r,10<r){t.timeoutHandle=bv(Wo.bind(null,t,En,Qr),r);break}Wo(t,En,Qr);break;case 5:Wo(t,En,Qr);break;default:throw Error(Z(329))}}}return On(t,_t()),t.callbackNode===n?Rk.bind(null,t):null}function Uv(t,e){var n=ku;return t.current.memoizedState.isDehydrated&&(ia(t,e).flags|=256),t=Od(t,e),t!==2&&(e=En,En=n,e!==null&&Bv(e)),t}function Bv(t){En===null?En=t:En.push.apply(En,t)}function mF(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!xr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Wi(t,e){for(e&=~Aw,e&=~Jp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-_r(e),r=1<<n;t[n]=-1,e&=~r}}function JE(t){if(Ne&6)throw Error(Z(327));bs();var e=fd(t,0);if(!(e&1))return On(t,_t()),null;var n=Od(t,e);if(t.tag!==0&&n===2){var r=dv(t);r!==0&&(e=r,n=Uv(t,r))}if(n===1)throw n=lc,ia(t,0),Wi(t,e),On(t,_t()),n;if(n===6)throw Error(Z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Wo(t,En,Qr),On(t,_t()),null}function Iw(t,e){var n=Ne;Ne|=1;try{return t(e)}finally{Ne=n,Ne===0&&(js=_t()+500,Gp&&To())}}function pa(t){Ji!==null&&Ji.tag===0&&!(Ne&6)&&bs();var e=Ne;Ne|=1;var n=rr.transition,r=Ue;try{if(rr.transition=null,Ue=1,t)return t()}finally{Ue=r,rr.transition=n,Ne=e,!(Ne&6)&&To()}}function Ow(){jn=cs.current,it(cs)}function ia(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,qV(n)),Et!==null)for(n=Et.return;n!==null;){var r=n;switch(uw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&gd();break;case 3:Ns(),it(Pn),it(ln),vw();break;case 5:yw(r);break;case 4:Ns();break;case 13:it(lt);break;case 19:it(lt);break;case 10:dw(r.type._context);break;case 22:case 23:Ow()}n=n.return}if(Mt=t,Et=t=uo(t.current,null),Wt=jn=e,It=0,lc=null,Aw=Jp=da=0,En=ku=null,Qo!==null){for(e=0;e<Qo.length;e++)if(n=Qo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}Qo=null}return t}function Nk(t,e){do{var n=Et;try{if(hw(),qh.current=Td,Sd){for(var r=ut.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Sd=!1}if(ha=0,Dt=Pt=ut=null,Ou=!1,oc=0,Tw.current=null,n===null||n.return===null){It=1,lc=e,Et=null;break}e:{var o=t,a=n.return,s=n,l=e;if(e=Wt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=VE(a);if(p!==null){p.flags&=-257,FE(p,a,s,o,e),p.mode&1&&LE(o,u,e),e=p,l=u;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){LE(o,u,e),Cw();break e}l=Error(Z(426))}}else if(at&&s.mode&1){var _=VE(a);if(_!==null){!(_.flags&65536)&&(_.flags|=256),FE(_,a,s,o,e),cw(Ds(l,s));break e}}o=l=Ds(l,s),It!==4&&(It=2),ku===null?ku=[o]:ku.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var b=gk(o,l,e);RE(o,b);break e;case 1:s=l;var y=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(so===null||!so.has(v)))){o.flags|=65536,e&=-e,o.lanes|=e;var x=yk(o,s,e);RE(o,x);break e}}o=o.return}while(o!==null)}Mk(n)}catch(T){e=T,Et===n&&n!==null&&(Et=n=n.return);continue}break}while(!0)}function Dk(){var t=Ad.current;return Ad.current=Td,t===null?Td:t}function Cw(){(It===0||It===3||It===2)&&(It=4),Mt===null||!(da&268435455)&&!(Jp&268435455)||Wi(Mt,Wt)}function Od(t,e){var n=Ne;Ne|=2;var r=Dk();(Mt!==t||Wt!==e)&&(Qr=null,ia(t,e));do try{gF();break}catch(i){Nk(t,i)}while(!0);if(hw(),Ne=n,Ad.current=r,Et!==null)throw Error(Z(261));return Mt=null,Wt=0,It}function gF(){for(;Et!==null;)jk(Et)}function yF(){for(;Et!==null&&!BL();)jk(Et)}function jk(t){var e=Lk(t.alternate,t,jn);t.memoizedProps=t.pendingProps,e===null?Mk(t):Et=e,Tw.current=null}function Mk(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=cF(n,e),n!==null){n.flags&=32767,Et=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{It=6,Et=null;return}}else if(n=uF(n,e,jn),n!==null){Et=n;return}if(e=e.sibling,e!==null){Et=e;return}Et=e=t}while(e!==null);It===0&&(It=5)}function Wo(t,e,n){var r=Ue,i=rr.transition;try{rr.transition=null,Ue=1,vF(t,e,n,r)}finally{rr.transition=i,Ue=r}return null}function vF(t,e,n,r){do bs();while(Ji!==null);if(Ne&6)throw Error(Z(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Z(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(JL(t,o),t===Mt&&(Et=Mt=null,Wt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||mh||(mh=!0,Vk(cd,function(){return bs(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=rr.transition,rr.transition=null;var a=Ue;Ue=1;var s=Ne;Ne|=4,Tw.current=null,hF(t,n),Ck(n,t),LV(_v),hd=!!vv,_v=vv=null,t.current=n,dF(n),zL(),Ne=s,Ue=a,rr.transition=o}else t.current=n;if(mh&&(mh=!1,Ji=t,Id=i),o=t.pendingLanes,o===0&&(so=null),HL(n.stateNode),On(t,_t()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Pd)throw Pd=!1,t=Vv,Vv=null,t;return Id&1&&t.tag!==0&&bs(),o=t.pendingLanes,o&1?t===Fv?Ru++:(Ru=0,Fv=t):Ru=0,To(),null}function bs(){if(Ji!==null){var t=gC(Id),e=rr.transition,n=Ue;try{if(rr.transition=null,Ue=16>t?16:t,Ji===null)var r=!1;else{if(t=Ji,Ji=null,Id=0,Ne&6)throw Error(Z(331));var i=Ne;for(Ne|=4,se=t.current;se!==null;){var o=se,a=o.child;if(se.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(se=u;se!==null;){var c=se;switch(c.tag){case 0:case 11:case 15:Cu(8,c,o)}var f=c.child;if(f!==null)f.return=c,se=f;else for(;se!==null;){c=se;var d=c.sibling,p=c.return;if(Pk(c),c===u){se=null;break}if(d!==null){d.return=p,se=d;break}se=p}}}var m=o.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var _=g.sibling;g.sibling=null,g=_}while(g!==null)}}se=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,se=a;else e:for(;se!==null;){if(o=se,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Cu(9,o,o.return)}var b=o.sibling;if(b!==null){b.return=o.return,se=b;break e}se=o.return}}var y=t.current;for(se=y;se!==null;){a=se;var v=a.child;if(a.subtreeFlags&2064&&v!==null)v.return=a,se=v;else e:for(a=y;se!==null;){if(s=se,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Qp(9,s)}}catch(T){dt(s,s.return,T)}if(s===a){se=null;break e}var x=s.sibling;if(x!==null){x.return=s.return,se=x;break e}se=s.return}}if(Ne=i,To(),jr&&typeof jr.onPostCommitFiberRoot=="function")try{jr.onPostCommitFiberRoot(zp,t)}catch{}r=!0}return r}finally{Ue=n,rr.transition=e}}return!1}function ZE(t,e,n){e=Ds(n,e),e=gk(t,e,1),t=ao(t,e,1),e=_n(),t!==null&&(cf(t,1,e),On(t,e))}function dt(t,e,n){if(t.tag===3)ZE(t,t,n);else for(;e!==null;){if(e.tag===3){ZE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(so===null||!so.has(r))){t=Ds(n,t),t=yk(e,t,1),e=ao(e,t,1),t=_n(),e!==null&&(cf(e,1,t),On(e,t));break}}e=e.return}}function _F(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=_n(),t.pingedLanes|=t.suspendedLanes&n,Mt===t&&(Wt&n)===n&&(It===4||It===3&&(Wt&130023424)===Wt&&500>_t()-Pw?ia(t,0):Aw|=n),On(t,e)}function $k(t,e){e===0&&(t.mode&1?(e=oh,oh<<=1,!(oh&130023424)&&(oh=4194304)):e=1);var n=_n();t=yi(t,e),t!==null&&(cf(t,e,n),On(t,n))}function wF(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),$k(t,n)}function bF(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Z(314))}r!==null&&r.delete(e),$k(t,n)}var Lk;Lk=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Pn.current)Tn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Tn=!1,lF(t,e,n);Tn=!!(t.flags&131072)}else Tn=!1,at&&e.flags&1048576&&BC(e,_d,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Kh(t,e),t=e.pendingProps;var i=Cs(e,ln.current);ws(e,n),i=ww(null,e,r,t,i,n);var o=bw();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,In(r)?(o=!0,yd(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,mw(e),i.updater=Yp,e.stateNode=i,i._reactInternals=e,Iv(e,r,t,n),e=kv(null,e,r,!0,o,n)):(e.tag=0,at&&o&&lw(e),mn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Kh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=EF(r),t=pr(r,t),i){case 0:e=Cv(null,e,r,t,n);break e;case 1:e=zE(null,e,r,t,n);break e;case 11:e=UE(null,e,r,t,n);break e;case 14:e=BE(null,e,r,pr(r.type,t),n);break e}throw Error(Z(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pr(r,i),Cv(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pr(r,i),zE(t,e,r,i,n);case 3:e:{if(bk(e),t===null)throw Error(Z(387));r=e.pendingProps,o=e.memoizedState,i=o.element,GC(t,e),xd(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Ds(Error(Z(423)),e),e=WE(t,e,r,n,i);break e}else if(r!==i){i=Ds(Error(Z(424)),e),e=WE(t,e,r,n,i);break e}else for(Ln=oo(e.stateNode.containerInfo.firstChild),Un=e,at=!0,yr=null,n=HC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ks(),r===i){e=vi(t,e,n);break e}mn(t,e,r,n)}e=e.child}return e;case 5:return XC(e),t===null&&Tv(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,wv(r,i)?a=null:o!==null&&wv(r,o)&&(e.flags|=32),wk(t,e),mn(t,e,a,n),e.child;case 6:return t===null&&Tv(e),null;case 13:return xk(t,e,n);case 4:return gw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Rs(e,null,r,n):mn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pr(r,i),UE(t,e,r,i,n);case 7:return mn(t,e,e.pendingProps,n),e.child;case 8:return mn(t,e,e.pendingProps.children,n),e.child;case 12:return mn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,Ye(wd,r._currentValue),r._currentValue=a,o!==null)if(xr(o.value,a)){if(o.children===i.children&&!Pn.current){e=vi(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=ui(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Av(o.return,n,e),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(Z(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Av(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}mn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ws(e,n),i=ar(i),r=r(i),e.flags|=1,mn(t,e,r,n),e.child;case 14:return r=e.type,i=pr(r,e.pendingProps),i=pr(r.type,i),BE(t,e,r,i,n);case 15:return vk(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pr(r,i),Kh(t,e),e.tag=1,In(r)?(t=!0,yd(e)):t=!1,ws(e,n),mk(e,r,i),Iv(e,r,i,n),kv(null,e,r,!0,t,n);case 19:return Ek(t,e,n);case 22:return _k(t,e,n)}throw Error(Z(156,e.tag))};function Vk(t,e){return hC(t,e)}function xF(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tr(t,e,n,r){return new xF(t,e,n,r)}function kw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function EF(t){if(typeof t=="function")return kw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Y_)return 11;if(t===Q_)return 14}return 2}function uo(t,e){var n=t.alternate;return n===null?(n=tr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Yh(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")kw(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case es:return oa(n.children,i,o,e);case X_:a=8,i|=8;break;case Jy:return t=tr(12,n,e,i|2),t.elementType=Jy,t.lanes=o,t;case Zy:return t=tr(13,n,e,i),t.elementType=Zy,t.lanes=o,t;case ev:return t=tr(19,n,e,i),t.elementType=ev,t.lanes=o,t;case XO:return Zp(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case KO:a=10;break e;case GO:a=9;break e;case Y_:a=11;break e;case Q_:a=14;break e;case Vi:a=16,r=null;break e}throw Error(Z(130,t==null?t:typeof t,""))}return e=tr(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function oa(t,e,n,r){return t=tr(7,t,r,e),t.lanes=n,t}function Zp(t,e,n,r){return t=tr(22,t,r,e),t.elementType=XO,t.lanes=n,t.stateNode={isHidden:!1},t}function oy(t,e,n){return t=tr(6,t,null,e),t.lanes=n,t}function ay(t,e,n){return e=tr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function SF(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fg(0),this.expirationTimes=Fg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Rw(t,e,n,r,i,o,a,s,l){return t=new SF(t,e,n,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=tr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},mw(o),t}function TF(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Za,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Fk(t){if(!t)return vo;t=t._reactInternals;e:{if(Ia(t)!==t||t.tag!==1)throw Error(Z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(In(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Z(171))}if(t.tag===1){var n=t.type;if(In(n))return FC(t,n,e)}return e}function Uk(t,e,n,r,i,o,a,s,l){return t=Rw(n,r,!0,t,i,o,a,s,l),t.context=Fk(null),n=t.current,r=_n(),i=lo(n),o=ui(r,i),o.callback=e??null,ao(n,o,i),t.current.lanes=i,cf(t,i,r),On(t,r),t}function em(t,e,n,r){var i=e.current,o=_n(),a=lo(i);return n=Fk(n),e.context===null?e.context=n:e.pendingContext=n,e=ui(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ao(i,e,a),t!==null&&(wr(t,i,a,o),Wh(t,i,a)),a}function Cd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function eS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Nw(t,e){eS(t,e),(t=t.alternate)&&eS(t,e)}function AF(){return null}var Bk=typeof reportError=="function"?reportError:function(t){console.error(t)};function Dw(t){this._internalRoot=t}tm.prototype.render=Dw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Z(409));em(t,e,null,null)};tm.prototype.unmount=Dw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;pa(function(){em(null,t,null,null)}),e[gi]=null}};function tm(t){this._internalRoot=t}tm.prototype.unstable_scheduleHydration=function(t){if(t){var e=_C();t={blockedOn:null,target:t,priority:e};for(var n=0;n<zi.length&&e!==0&&e<zi[n].priority;n++);zi.splice(n,0,t),n===0&&bC(t)}};function jw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function nm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function tS(){}function PF(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Cd(a);o.call(u)}}var a=Uk(e,r,t,0,null,!1,!1,"",tS);return t._reactRootContainer=a,t[gi]=a.current,ec(t.nodeType===8?t.parentNode:t),pa(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=Cd(l);s.call(u)}}var l=Rw(t,0,!1,null,null,!1,!1,"",tS);return t._reactRootContainer=l,t[gi]=l.current,ec(t.nodeType===8?t.parentNode:t),pa(function(){em(e,l,n,r)}),l}function rm(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=Cd(a);s.call(l)}}em(e,a,t,i)}else a=PF(n,e,t,i,r);return Cd(a)}yC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=pu(e.pendingLanes);n!==0&&(ew(e,n|1),On(e,_t()),!(Ne&6)&&(js=_t()+500,To()))}break;case 13:pa(function(){var r=yi(t,1);if(r!==null){var i=_n();wr(r,t,1,i)}}),Nw(t,1)}};tw=function(t){if(t.tag===13){var e=yi(t,134217728);if(e!==null){var n=_n();wr(e,t,134217728,n)}Nw(t,134217728)}};vC=function(t){if(t.tag===13){var e=lo(t),n=yi(t,e);if(n!==null){var r=_n();wr(n,t,e,r)}Nw(t,e)}};_C=function(){return Ue};wC=function(t,e){var n=Ue;try{return Ue=t,e()}finally{Ue=n}};cv=function(t,e,n){switch(e){case"input":if(rv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Kp(r);if(!i)throw Error(Z(90));QO(r),rv(r,i)}}}break;case"textarea":ZO(t,n);break;case"select":e=n.value,e!=null&&gs(t,!!n.multiple,e,!1)}};aC=Iw;sC=pa;var IF={usingClientEntryPoint:!1,Events:[hf,is,Kp,iC,oC,Iw]},Jl={findFiberByHostInstance:Yo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},OF={bundleType:Jl.bundleType,version:Jl.version,rendererPackageName:Jl.rendererPackageName,rendererConfig:Jl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=cC(t),t===null?null:t.stateNode},findFiberByHostInstance:Jl.findFiberByHostInstance||AF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gh.isDisabled&&gh.supportsFiber)try{zp=gh.inject(OF),jr=gh}catch{}}Wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IF;Wn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jw(e))throw Error(Z(200));return TF(t,e,null,n)};Wn.createRoot=function(t,e){if(!jw(t))throw Error(Z(299));var n=!1,r="",i=Bk;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Rw(t,1,!1,null,null,n,!1,r,i),t[gi]=e.current,ec(t.nodeType===8?t.parentNode:t),new Dw(e)};Wn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Z(188)):(t=Object.keys(t).join(","),Error(Z(268,t)));return t=cC(e),t=t===null?null:t.stateNode,t};Wn.flushSync=function(t){return pa(t)};Wn.hydrate=function(t,e,n){if(!nm(e))throw Error(Z(200));return rm(null,t,e,!0,n)};Wn.hydrateRoot=function(t,e,n){if(!jw(t))throw Error(Z(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=Bk;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=Uk(e,null,t,1,n??null,i,!1,o,a),t[gi]=e.current,ec(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new tm(e)};Wn.render=function(t,e,n){if(!nm(e))throw Error(Z(200));return rm(null,t,e,!1,n)};Wn.unmountComponentAtNode=function(t){if(!nm(t))throw Error(Z(40));return t._reactRootContainer?(pa(function(){rm(null,null,t,!1,function(){t._reactRootContainer=null,t[gi]=null})}),!0):!1};Wn.unstable_batchedUpdates=Iw;Wn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!nm(n))throw Error(Z(200));if(t==null||t._reactInternals===void 0)throw Error(Z(38));return rm(t,e,n,!1,r)};Wn.version="18.3.1-next-f1338f8080-20240426";function zk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zk)}catch(t){console.error(t)}}zk(),zO.exports=Wn;var CF=zO.exports,Wk,nS=CF;Wk=nS.createRoot,nS.hydrateRoot;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uc(){return uc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uc.apply(this,arguments)}var Zi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Zi||(Zi={}));const rS="popstate";function kF(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:a,hash:s}=r.location;return zv("",{pathname:o,search:a,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:kd(i)}return NF(e,n,null,t)}function wt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function qk(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function RF(){return Math.random().toString(36).substr(2,8)}function iS(t,e){return{usr:t.state,key:t.key,idx:e}}function zv(t,e,n,r){return n===void 0&&(n=null),uc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?cl(e):e,{state:n,key:e&&e.key||r||RF()})}function kd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function cl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function NF(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=Zi.Pop,l=null,u=c();u==null&&(u=0,a.replaceState(uc({},a.state,{idx:u}),""));function c(){return(a.state||{idx:null}).idx}function f(){s=Zi.Pop;let _=c(),b=_==null?null:_-u;u=_,l&&l({action:s,location:g.location,delta:b})}function d(_,b){s=Zi.Push;let y=zv(g.location,_,b);u=c()+1;let v=iS(y,u),x=g.createHref(y);try{a.pushState(v,"",x)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(x)}o&&l&&l({action:s,location:g.location,delta:1})}function p(_,b){s=Zi.Replace;let y=zv(g.location,_,b);u=c();let v=iS(y,u),x=g.createHref(y);a.replaceState(v,"",x),o&&l&&l({action:s,location:g.location,delta:0})}function m(_){let b=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof _=="string"?_:kd(_);return y=y.replace(/ $/,"%20"),wt(b,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,b)}let g={get action(){return s},get location(){return t(i,a)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(rS,f),l=_,()=>{i.removeEventListener(rS,f),l=null}},createHref(_){return e(i,_)},createURL:m,encodeLocation(_){let b=m(_);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:d,replace:p,go(_){return a.go(_)}};return g}var oS;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(oS||(oS={}));function DF(t,e,n){return n===void 0&&(n="/"),jF(t,e,n,!1)}function jF(t,e,n,r){let i=typeof e=="string"?cl(e):e,o=Mw(i.pathname||"/",n);if(o==null)return null;let a=Hk(t);MF(a);let s=null;for(let l=0;s==null&&l<a.length;++l){let u=KF(o);s=qF(a[l],u,r)}return s}function Hk(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,s)=>{let l={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};l.relativePath.startsWith("/")&&(wt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=co([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(wt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Hk(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:zF(u,o.index),routesMeta:c})};return t.forEach((o,a)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))i(o,a);else for(let l of Kk(o.path))i(o,a,l)}),e}function Kk(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=Kk(r.join("/")),s=[];return s.push(...a.map(l=>l===""?o:[o,l].join("/"))),i&&s.push(...a),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function MF(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:WF(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const $F=/^:[\w-]+$/,LF=3,VF=2,FF=1,UF=10,BF=-2,aS=t=>t==="*";function zF(t,e){let n=t.split("/"),r=n.length;return n.some(aS)&&(r+=BF),e&&(r+=VF),n.filter(i=>!aS(i)).reduce((i,o)=>i+($F.test(o)?LF:o===""?FF:UF),r)}function WF(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function qF(t,e,n){let{routesMeta:r}=t,i={},o="/",a=[];for(let s=0;s<r.length;++s){let l=r[s],u=s===r.length-1,c=o==="/"?e:e.slice(o.length)||"/",f=sS({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),d=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=sS({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:co([o,f.pathname]),pathnameBase:QF(co([o,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(o=co([o,f.pathnameBase]))}return a}function sS(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=HF(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((u,c,f)=>{let{paramName:d,isOptional:p}=c;if(d==="*"){let g=s[f]||"";a=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const m=s[f];return p&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:t}}function HF(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),qk(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function KF(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qk(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Mw(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function GF(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?cl(t):t;return{pathname:n?n.startsWith("/")?n:XF(n,e):e,search:JF(r),hash:ZF(i)}}function XF(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function sy(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function YF(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function $w(t,e){let n=YF(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Lw(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=cl(t):(i=uc({},t),wt(!i.pathname||!i.pathname.includes("?"),sy("?","pathname","search",i)),wt(!i.pathname||!i.pathname.includes("#"),sy("#","pathname","hash",i)),wt(!i.search||!i.search.includes("#"),sy("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let d=a.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}s=f>=0?e[f]:"/"}let l=GF(i,s),u=a&&a!=="/"&&a.endsWith("/"),c=(o||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const co=t=>t.join("/").replace(/\/\/+/g,"/"),QF=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),JF=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ZF=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function e4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Gk=["post","put","patch","delete"];new Set(Gk);const t4=["get",...Gk];new Set(t4);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cc(){return cc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cc.apply(this,arguments)}const Vw=j.createContext(null),n4=j.createContext(null),Ao=j.createContext(null),im=j.createContext(null),Po=j.createContext({outlet:null,matches:[],isDataRoute:!1}),Xk=j.createContext(null);function r4(t,e){let{relative:n}=e===void 0?{}:e;fl()||wt(!1);let{basename:r,navigator:i}=j.useContext(Ao),{hash:o,pathname:a,search:s}=Jk(t,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:co([r,a])),i.createHref({pathname:l,search:s,hash:o})}function fl(){return j.useContext(im)!=null}function hl(){return fl()||wt(!1),j.useContext(im).location}function Yk(t){j.useContext(Ao).static||j.useLayoutEffect(t)}function Qk(){let{isDataRoute:t}=j.useContext(Po);return t?g4():i4()}function i4(){fl()||wt(!1);let t=j.useContext(Vw),{basename:e,future:n,navigator:r}=j.useContext(Ao),{matches:i}=j.useContext(Po),{pathname:o}=hl(),a=JSON.stringify($w(i,n.v7_relativeSplatPath)),s=j.useRef(!1);return Yk(()=>{s.current=!0}),j.useCallback(function(u,c){if(c===void 0&&(c={}),!s.current)return;if(typeof u=="number"){r.go(u);return}let f=Lw(u,JSON.parse(a),o,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:co([e,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[e,r,a,o,t])}function Jk(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=j.useContext(Ao),{matches:i}=j.useContext(Po),{pathname:o}=hl(),a=JSON.stringify($w(i,r.v7_relativeSplatPath));return j.useMemo(()=>Lw(t,JSON.parse(a),o,n==="path"),[t,a,o,n])}function o4(t,e){return a4(t,e)}function a4(t,e,n,r){fl()||wt(!1);let{navigator:i}=j.useContext(Ao),{matches:o}=j.useContext(Po),a=o[o.length-1],s=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=hl(),c;if(e){var f;let _=typeof e=="string"?cl(e):e;l==="/"||(f=_.pathname)!=null&&f.startsWith(l)||wt(!1),c=_}else c=u;let d=c.pathname||"/",p=d;if(l!=="/"){let _=l.replace(/^\//,"").split("/");p="/"+d.replace(/^\//,"").split("/").slice(_.length).join("/")}let m=DF(t,{pathname:p}),g=f4(m&&m.map(_=>Object.assign({},_,{params:Object.assign({},s,_.params),pathname:co([l,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:co([l,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),o,n,r);return e&&g?j.createElement(im.Provider,{value:{location:cc({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Zi.Pop}},g):g}function s4(){let t=m4(),e=e4(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:i},n):null,null)}const l4=j.createElement(s4,null);class u4 extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?j.createElement(Po.Provider,{value:this.props.routeContext},j.createElement(Xk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function c4(t){let{routeContext:e,match:n,children:r}=t,i=j.useContext(Vw);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(Po.Provider,{value:e},r)}function f4(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,s=(i=n)==null?void 0:i.errors;if(s!=null){let c=a.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);c>=0||wt(!1),a=a.slice(0,Math.min(a.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<a.length;c++){let f=a[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:d,errors:p}=n,m=f.route.loader&&d[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||m){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((c,f,d)=>{let p,m=!1,g=null,_=null;n&&(p=s&&f.route.id?s[f.route.id]:void 0,g=f.route.errorElement||l4,l&&(u<0&&d===0?(m=!0,_=null):u===d&&(m=!0,_=f.route.hydrateFallbackElement||null)));let b=e.concat(a.slice(0,d+1)),y=()=>{let v;return p?v=g:m?v=_:f.route.Component?v=j.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=c,j.createElement(c4,{match:f,routeContext:{outlet:c,matches:b,isDataRoute:n!=null},children:v})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?j.createElement(u4,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:y(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):y()},null)}var Zk=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Zk||{}),Rd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Rd||{});function h4(t){let e=j.useContext(Vw);return e||wt(!1),e}function d4(t){let e=j.useContext(n4);return e||wt(!1),e}function p4(t){let e=j.useContext(Po);return e||wt(!1),e}function eR(t){let e=p4(),n=e.matches[e.matches.length-1];return n.route.id||wt(!1),n.route.id}function m4(){var t;let e=j.useContext(Xk),n=d4(Rd.UseRouteError),r=eR(Rd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function g4(){let{router:t}=h4(Zk.UseNavigateStable),e=eR(Rd.UseNavigateStable),n=j.useRef(!1);return Yk(()=>{n.current=!0}),j.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,cc({fromRouteId:e},o)))},[t,e])}function Fw(t){let{to:e,replace:n,state:r,relative:i}=t;fl()||wt(!1);let{future:o,static:a}=j.useContext(Ao),{matches:s}=j.useContext(Po),{pathname:l}=hl(),u=Qk(),c=Lw(e,$w(s,o.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(c);return j.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function Li(t){wt(!1)}function y4(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Zi.Pop,navigator:o,static:a=!1,future:s}=t;fl()&&wt(!1);let l=e.replace(/^\/*/,"/"),u=j.useMemo(()=>({basename:l,navigator:o,static:a,future:cc({v7_relativeSplatPath:!1},s)}),[l,s,o,a]);typeof r=="string"&&(r=cl(r));let{pathname:c="/",search:f="",hash:d="",state:p=null,key:m="default"}=r,g=j.useMemo(()=>{let _=Mw(c,l);return _==null?null:{location:{pathname:_,search:f,hash:d,state:p,key:m},navigationType:i}},[l,c,f,d,p,m,i]);return g==null?null:j.createElement(Ao.Provider,{value:u},j.createElement(im.Provider,{children:n,value:g}))}function v4(t){let{children:e,location:n}=t;return o4(Wv(e),n)}new Promise(()=>{});function Wv(t,e){e===void 0&&(e=[]);let n=[];return j.Children.forEach(t,(r,i)=>{if(!j.isValidElement(r))return;let o=[...e,i];if(r.type===j.Fragment){n.push.apply(n,Wv(r.props.children,o));return}r.type!==Li&&wt(!1),!r.props.index||!r.props.children||wt(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Wv(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qv(){return qv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qv.apply(this,arguments)}function _4(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function w4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function b4(t,e){return t.button===0&&(!e||e==="_self")&&!w4(t)}const x4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],E4="6";try{window.__reactRouterVersion=E4}catch{}const S4="startTransition",lS=_L[S4];function T4(t){let{basename:e,children:n,future:r,window:i}=t,o=j.useRef();o.current==null&&(o.current=kF({window:i,v5Compat:!0}));let a=o.current,[s,l]=j.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},c=j.useCallback(f=>{u&&lS?lS(()=>l(f)):l(f)},[l,u]);return j.useLayoutEffect(()=>a.listen(c),[a,c]),j.createElement(y4,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:a,future:r})}const A4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",P4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qa=j.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:s,target:l,to:u,preventScrollReset:c,unstable_viewTransition:f}=e,d=_4(e,x4),{basename:p}=j.useContext(Ao),m,g=!1;if(typeof u=="string"&&P4.test(u)&&(m=u,A4))try{let v=new URL(window.location.href),x=u.startsWith("//")?new URL(v.protocol+u):new URL(u),T=Mw(x.pathname,p);x.origin===v.origin&&T!=null?u=T+x.search+x.hash:g=!0}catch{}let _=r4(u,{relative:i}),b=I4(u,{replace:a,state:s,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:f});function y(v){r&&r(v),v.defaultPrevented||b(v)}return j.createElement("a",qv({},d,{href:m||_,onClick:g||o?r:y,ref:n,target:l}))});var uS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(uS||(uS={}));var cS;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(cS||(cS={}));function I4(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a,unstable_viewTransition:s}=e===void 0?{}:e,l=Qk(),u=hl(),c=Jk(t,{relative:a});return j.useCallback(f=>{if(b4(f,n)){f.preventDefault();let d=r!==void 0?r:kd(u)===kd(c);l(t,{replace:d,state:i,preventScrollReset:o,relative:a,unstable_viewTransition:s})}},[u,l,c,r,i,n,t,o,a,s])}var fS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},O4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],a=t[n++],s=t[n++],l=((i&7)<<18|(o&63)<<12|(a&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},nR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,s=a?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,f=(o&3)<<4|s>>4;let d=(s&15)<<2|u>>6,p=u&63;l||(p=64,a||(d=64)),r.push(n[c],n[f],n[d],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(tR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):O4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||s==null||u==null||f==null)throw new C4;const d=o<<2|s>>4;if(r.push(d),u!==64){const p=s<<4&240|u>>2;if(r.push(p),f!==64){const m=u<<6&192|f;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class C4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const k4=function(t){const e=tR(t);return nR.encodeByteArray(e,!0)},Nd=function(t){return k4(t).replace(/\./g,"")},rR=function(t){try{return nR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4=()=>R4().__FIREBASE_DEFAULTS__,D4=()=>{if(typeof process>"u"||typeof fS>"u")return;const t=fS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},j4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&rR(t[1]);return e&&JSON.parse(e)},om=()=>{try{return N4()||D4()||j4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},iR=t=>{var e,n;return(n=(e=om())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},oR=t=>{const e=iR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},aR=()=>{var t;return(t=om())===null||t===void 0?void 0:t.config},sR=t=>{var e;return(e=om())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Nd(JSON.stringify(n)),Nd(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function L4(){var t;const e=(t=om())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function V4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function F4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function U4(){const t=un();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function B4(){return!L4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function z4(){try{return typeof indexedDB=="object"}catch{return!1}}function W4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4="FirebaseError";class Hr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=q4,Object.setPrototypeOf(this,Hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pf.prototype.create)}}class pf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?H4(o,r):"Error",s=`${this.serviceName}: ${a} (${i}).`;return new Hr(i,s,r)}}function H4(t,e){return t.replace(K4,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const K4=/\{\$([^}]+)}/g;function G4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Dd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],a=e[i];if(hS(o)&&hS(a)){if(!Dd(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function hS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function gu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function yu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function X4(t,e){const n=new Y4(t,e);return n.subscribe.bind(n)}class Y4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Q4(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ly),i.error===void 0&&(i.error=ly),i.complete===void 0&&(i.complete=ly);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Q4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ly(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(t){return t&&t._delegate?t._delegate:t}class _o{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new M4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eU(e))try{this.getOrInitializeService({instanceIdentifier:qo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=qo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qo){return this.instances.has(e)}getOptions(e=qo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(o);r===s&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Z4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=qo){return this.component?this.component.multipleInstances?e:qo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Z4(t){return t===qo?void 0:t}function eU(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new J4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ce||(Ce={}));const nU={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},rU=Ce.INFO,iU={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},oU=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=iU[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Uw{constructor(e){this.name=e,this._logLevel=rU,this._logHandler=oU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}}const aU=(t,e)=>e.some(n=>t instanceof n);let dS,pS;function sU(){return dS||(dS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lU(){return pS||(pS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uR=new WeakMap,Hv=new WeakMap,cR=new WeakMap,uy=new WeakMap,Bw=new WeakMap;function uU(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(fo(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&uR.set(n,t)}).catch(()=>{}),Bw.set(e,t),e}function cU(t){if(Hv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});Hv.set(t,e)}let Kv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Hv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||cR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function fU(t){Kv=t(Kv)}function hU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(cy(this),e,...n);return cR.set(r,e.sort?e.sort():[e]),fo(r)}:lU().includes(t)?function(...e){return t.apply(cy(this),e),fo(uR.get(this))}:function(...e){return fo(t.apply(cy(this),e))}}function dU(t){return typeof t=="function"?hU(t):(t instanceof IDBTransaction&&cU(t),aU(t,sU())?new Proxy(t,Kv):t)}function fo(t){if(t instanceof IDBRequest)return uU(t);if(uy.has(t))return uy.get(t);const e=dU(t);return e!==t&&(uy.set(t,e),Bw.set(e,t)),e}const cy=t=>Bw.get(t);function pU(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),s=fo(a);return r&&a.addEventListener("upgradeneeded",l=>{r(fo(a.result),l.oldVersion,l.newVersion,fo(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),s.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const mU=["get","getKey","getAll","getAllKeys","count"],gU=["put","add","delete","clear"],fy=new Map;function mS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(fy.get(e))return fy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=gU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||mU.includes(n)))return;const o=async function(a,...s){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(s.shift())),(await Promise.all([u[n](...s),i&&l.done]))[0]};return fy.set(e,o),o}fU(t=>({...t,get:(e,n,r)=>mS(e,n)||t.get(e,n,r),has:(e,n)=>!!mS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vU(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function vU(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Gv="@firebase/app",gS="0.10.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i=new Uw("@firebase/app"),_U="@firebase/app-compat",wU="@firebase/analytics-compat",bU="@firebase/analytics",xU="@firebase/app-check-compat",EU="@firebase/app-check",SU="@firebase/auth",TU="@firebase/auth-compat",AU="@firebase/database",PU="@firebase/database-compat",IU="@firebase/functions",OU="@firebase/functions-compat",CU="@firebase/installations",kU="@firebase/installations-compat",RU="@firebase/messaging",NU="@firebase/messaging-compat",DU="@firebase/performance",jU="@firebase/performance-compat",MU="@firebase/remote-config",$U="@firebase/remote-config-compat",LU="@firebase/storage",VU="@firebase/storage-compat",FU="@firebase/firestore",UU="@firebase/vertexai-preview",BU="@firebase/firestore-compat",zU="firebase",WU="10.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv="[DEFAULT]",qU={[Gv]:"fire-core",[_U]:"fire-core-compat",[bU]:"fire-analytics",[wU]:"fire-analytics-compat",[EU]:"fire-app-check",[xU]:"fire-app-check-compat",[SU]:"fire-auth",[TU]:"fire-auth-compat",[AU]:"fire-rtdb",[PU]:"fire-rtdb-compat",[IU]:"fire-fn",[OU]:"fire-fn-compat",[CU]:"fire-iid",[kU]:"fire-iid-compat",[RU]:"fire-fcm",[NU]:"fire-fcm-compat",[DU]:"fire-perf",[jU]:"fire-perf-compat",[MU]:"fire-rc",[$U]:"fire-rc-compat",[LU]:"fire-gcs",[VU]:"fire-gcs-compat",[FU]:"fire-fst",[BU]:"fire-fst-compat",[UU]:"fire-vertex","fire-js":"fire-js",[zU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd=new Map,HU=new Map,Yv=new Map;function yS(t,e){try{t.container.addComponent(e)}catch(n){_i.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ma(t){const e=t.name;if(Yv.has(e))return _i.debug(`There were multiple attempts to register component ${e}.`),!1;Yv.set(e,t);for(const n of jd.values())yS(n,t);for(const n of HU.values())yS(n,t);return!0}function am(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Rr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ho=new pf("app","Firebase",KU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _o("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ho.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa=WU;function fR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Xv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ho.create("bad-app-name",{appName:String(i)});if(n||(n=aR()),!n)throw ho.create("no-options");const o=jd.get(i);if(o){if(Dd(n,o.options)&&Dd(r,o.config))return o;throw ho.create("duplicate-app",{appName:i})}const a=new tU(i);for(const l of Yv.values())a.addComponent(l);const s=new GU(n,r,a);return jd.set(i,s),s}function zw(t=Xv){const e=jd.get(t);if(!e&&t===Xv&&aR())return fR();if(!e)throw ho.create("no-app",{appName:t});return e}function $r(t,e,n){var r;let i=(r=qU[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const s=[`Unable to register library "${i}" with version "${e}":`];o&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_i.warn(s.join(" "));return}ma(new _o(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XU="firebase-heartbeat-database",YU=1,fc="firebase-heartbeat-store";let hy=null;function hR(){return hy||(hy=pU(XU,YU,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(fc)}catch(n){console.warn(n)}}}}).catch(t=>{throw ho.create("idb-open",{originalErrorMessage:t.message})})),hy}async function QU(t){try{const n=(await hR()).transaction(fc),r=await n.objectStore(fc).get(dR(t));return await n.done,r}catch(e){if(e instanceof Hr)_i.warn(e.message);else{const n=ho.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});_i.warn(n.message)}}}async function vS(t,e){try{const r=(await hR()).transaction(fc,"readwrite");await r.objectStore(fc).put(e,dR(t)),await r.done}catch(n){if(n instanceof Hr)_i.warn(n.message);else{const r=ho.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});_i.warn(r.message)}}}function dR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JU=1024,ZU=30*24*60*60*1e3;class eB{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new nB(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=_S();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const s=new Date(a.date).valueOf();return Date.now()-s<=ZU}),this._storage.overwrite(this._heartbeatsCache))}catch(r){_i.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=_S(),{heartbeatsToSend:r,unsentEntries:i}=tB(this._heartbeatsCache.heartbeats),o=Nd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return _i.warn(n),""}}}function _S(){return new Date().toISOString().substring(0,10)}function tB(t,e=JU){const n=[];let r=t.slice();for(const i of t){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),wS(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),wS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class nB{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return z4()?W4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await QU(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return vS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return vS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function wS(t){return Nd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rB(t){ma(new _o("platform-logger",e=>new yU(e),"PRIVATE")),ma(new _o("heartbeat",e=>new eB(e),"PRIVATE")),$r(Gv,gS,t),$r(Gv,gS,"esm2017"),$r("fire-js","")}rB("");function Ww(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function pR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const iB=pR,mR=new pf("auth","Firebase",pR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md=new Uw("@firebase/auth");function oB(t,...e){Md.logLevel<=Ce.WARN&&Md.warn(`Auth (${Oa}): ${t}`,...e)}function Qh(t,...e){Md.logLevel<=Ce.ERROR&&Md.error(`Auth (${Oa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(t,...e){throw qw(t,...e)}function Lr(t,...e){return qw(t,...e)}function gR(t,e,n){const r=Object.assign(Object.assign({},iB()),{[e]:n});return new pf("auth","Firebase",r).create(e,{appName:t.name})}function ci(t){return gR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return mR.create(t,...e)}function ge(t,e,...n){if(!t)throw qw(e,...n)}function ni(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Qh(e),new Error(e)}function wi(t,e){t||ni(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function aB(){return bS()==="http:"||bS()==="https:"}function bS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aB()||V4()||"connection"in navigator)?navigator.onLine:!0}function lB(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,n){this.shortDelay=e,this.longDelay=n,wi(n>e,"Short delay should be less than long delay!"),this.isMobile=$4()||F4()}get(){return sB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(t,e){wi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cB=new gf(3e4,6e4);function Io(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Oo(t,e,n,r,i={}){return vR(t,i,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});const s=mf(Object.assign({key:t.config.apiKey},a)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),yR.fetch()(_R(t,t.config.apiHost,n,s),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))})}async function vR(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},uB),e);try{const i=new hB(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw yh(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const s=o.ok?a.errorMessage:a.error.message,[l,u]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw yh(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw yh(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw yh(t,"user-disabled",a);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw gR(t,c,u);Er(t,c)}}catch(i){if(i instanceof Hr)throw i;Er(t,"network-request-failed",{message:String(i)})}}async function yf(t,e,n,r,i={}){const o=await Oo(t,e,n,r,i);return"mfaPendingCredential"in o&&Er(t,"multi-factor-auth-required",{_serverResponse:o}),o}function _R(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Hw(t.config,i):`${t.config.apiScheme}://${i}`}function fB(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class hB{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Lr(this.auth,"network-request-failed")),cB.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function yh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Lr(t,e,r);return i.customData._tokenResponse=n,i}function xS(t){return t!==void 0&&t.enterprise!==void 0}class dB{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return fB(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function pB(t,e){return Oo(t,"GET","/v2/recaptchaConfig",Io(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mB(t,e){return Oo(t,"POST","/v1/accounts:delete",e)}async function wR(t,e){return Oo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gB(t,e=!1){const n=pt(t),r=await n.getIdToken(e),i=Kw(r);ge(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Nu(dy(i.auth_time)),issuedAtTime:Nu(dy(i.iat)),expirationTime:Nu(dy(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function dy(t){return Number(t)*1e3}function Kw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Qh("JWT malformed, contained fewer than 3 sections"),null;try{const i=rR(n);return i?JSON.parse(i):(Qh("Failed to decode base64 JWT payload"),null)}catch(i){return Qh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function ES(t){const e=Kw(t);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Hr&&yB(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function yB({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vB{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nu(this.lastLoginAt),this.creationTime=Nu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $d(t){var e;const n=t.auth,r=await t.getIdToken(),i=await hc(t,wR(n,{idToken:r}));ge(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?bR(o.providerUserInfo):[],s=wB(t.providerData,a),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(s!=null&&s.length),c=l?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Jv(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,f)}async function _B(t){const e=pt(t);await $d(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function wB(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function bR(t){return t.map(e=>{var{providerId:n}=e,r=Ww(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bB(t,e){const n=await vR(t,{},async()=>{const r=mf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=_R(t,i,"/v1/token",`key=${o}`),s=await t._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",yR.fetch()(a,{method:"POST",headers:s,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function xB(t,e){return Oo(t,"POST","/v2/accounts:revokeToken",Io(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ES(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ge(e.length!==0,"internal-error");const n=ES(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await bB(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new xs;return r&&(ge(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(ge(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(ge(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xs,this.toJSON())}_performRefresh(){return ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(t,e){ge(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ri{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Ww(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vB(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Jv(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await hc(this,this.stsTokenManager.getToken(this.auth,e));return ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return gB(this,e)}reload(){return _B(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ri(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await $d(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rr(this.auth.app))return Promise.reject(ci(this.auth));const e=await this.getIdToken();return await hc(this,mB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,a,s,l,u,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,p=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,m=(a=n.photoURL)!==null&&a!==void 0?a:void 0,g=(s=n.tenantId)!==null&&s!==void 0?s:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,b=(u=n.createdAt)!==null&&u!==void 0?u:void 0,y=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:v,emailVerified:x,isAnonymous:T,providerData:O,stsTokenManager:S}=n;ge(v&&S,e,"internal-error");const E=xs.fromJSON(this.name,S);ge(typeof v=="string",e,"internal-error"),$i(f,e.name),$i(d,e.name),ge(typeof x=="boolean",e,"internal-error"),ge(typeof T=="boolean",e,"internal-error"),$i(p,e.name),$i(m,e.name),$i(g,e.name),$i(_,e.name),$i(b,e.name),$i(y,e.name);const I=new ri({uid:v,auth:e,email:d,emailVerified:x,displayName:f,isAnonymous:T,photoURL:m,phoneNumber:p,tenantId:g,stsTokenManager:E,createdAt:b,lastLoginAt:y});return O&&Array.isArray(O)&&(I.providerData=O.map(C=>Object.assign({},C))),_&&(I._redirectEventId=_),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new xs;i.updateFromServerResponse(n);const o=new ri({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await $d(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ge(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?bR(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),s=new xs;s.updateFromIdToken(r);const l=new ri({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Jv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS=new Map;function ii(t){wi(t instanceof Function,"Expected a class definition");let e=SS.get(t);return e?(wi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,SS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}xR.type="NONE";const TS=xR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(t,e,n){return`firebase:${t}:${e}:${n}`}class Es{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Jh(this.userKey,i.apiKey,o),this.fullPersistenceKey=Jh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ri._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Es(ii(TS),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||ii(TS);const a=Jh(r,e.config.apiKey,e.name);let s=null;for(const u of n)try{const c=await u._get(a);if(c){const f=ri._fromJSON(e,c);u!==o&&(s=f),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Es(o,e,r):(o=l[0],s&&await o._set(a,s.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(a)}catch{}})),new Es(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(AR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ER(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(IR(e))return"Blackberry";if(OR(e))return"Webos";if(SR(e))return"Safari";if((e.includes("chrome/")||TR(e))&&!e.includes("edge/"))return"Chrome";if(PR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function ER(t=un()){return/firefox\//i.test(t)}function SR(t=un()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function TR(t=un()){return/crios\//i.test(t)}function AR(t=un()){return/iemobile/i.test(t)}function PR(t=un()){return/android/i.test(t)}function IR(t=un()){return/blackberry/i.test(t)}function OR(t=un()){return/webos/i.test(t)}function Gw(t=un()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function EB(t=un()){var e;return Gw(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function SB(){return U4()&&document.documentMode===10}function CR(t=un()){return Gw(t)||PR(t)||OR(t)||IR(t)||/windows phone/i.test(t)||AR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(t,e=[]){let n;switch(t){case"Browser":n=AS(un());break;case"Worker":n=`${AS(un())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Oa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TB{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((a,s)=>{try{const l=e(o);a(l)}catch(l){s(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AB(t,e={}){return Oo(t,"GET","/v2/passwordPolicy",Io(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PB=6;class IB{constructor(e){var n,r,i,o;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:PB,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,a,s;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(s=l.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OB{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new PS(this),this.idTokenSubscription=new PS(this),this.beforeStateQueue=new TB(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ii(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Es.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await wR(this,{idToken:e}),r=await ri._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Rr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(s,s))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,s=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===s)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await $d(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=lB()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Rr(this.app))return Promise.reject(ci(this));const n=e?pt(e):null;return n&&ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Rr(this.app)?Promise.reject(ci(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Rr(this.app)?Promise.reject(ci(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ii(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await AB(this),n=new IB(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new pf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await xB(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ii(e)||this._popupRedirectResolver;ge(n,this,"argument-error"),this.redirectPersistenceManager=await Es.create(this,[ii(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(s,this,"internal-error"),s.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=kR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&oB(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ca(t){return pt(t)}class PS{constructor(e){this.auth=e,this.observer=null,this.addObserver=X4(n=>this.observer=n)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function CB(t){sm=t}function RR(t){return sm.loadJS(t)}function kB(){return sm.recaptchaEnterpriseScript}function RB(){return sm.gapiScript}function NB(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const DB="recaptcha-enterprise",jB="NO_RECAPTCHA";class MB{constructor(e){this.type=DB,this.auth=Ca(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,s)=>{pB(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const u=new dB(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,a(u.siteKey)}}).catch(l=>{s(l)})})}function i(o,a,s){const l=window.grecaptcha;xS(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{a(u)}).catch(()=>{a(jB)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,a)=>{r(this.auth).then(s=>{if(!n&&xS(window.grecaptcha))i(s,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=kB();l.length!==0&&(l+=s),RR(l).then(()=>{i(s,o,a)}).catch(u=>{a(u)})}}).catch(s=>{a(s)})})}}async function IS(t,e,n,r=!1){const i=new MB(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Zv(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await IS(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await IS(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $B(t,e){const n=am(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Dd(o,e??{}))return i;Er(i,"already-initialized")}return n.initialize({options:e})}function LB(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ii);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function VB(t,e,n){const r=Ca(t);ge(r._canInitEmulator,r,"emulator-config-failed"),ge(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=NR(e),{host:a,port:s}=FB(e),l=s===null?"":`:${s}`;r.config.emulator={url:`${o}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),UB()}function NR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function FB(t){const e=NR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:OS(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:OS(a)}}}function OS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function UB(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ni("not implemented")}_getIdTokenResponse(e){return ni("not implemented")}_linkToIdToken(e,n){return ni("not implemented")}_getReauthenticationResolver(e){return ni("not implemented")}}async function BB(t,e){return Oo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zB(t,e){return yf(t,"POST","/v1/accounts:signInWithPassword",Io(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WB(t,e){return yf(t,"POST","/v1/accounts:signInWithEmailLink",Io(t,e))}async function qB(t,e){return yf(t,"POST","/v1/accounts:signInWithEmailLink",Io(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc extends Xw{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new dc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new dc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zv(e,n,"signInWithPassword",zB);case"emailLink":return WB(e,{email:this._email,oobCode:this._password});default:Er(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zv(e,r,"signUpPassword",BB);case"emailLink":return qB(e,{idToken:n,email:this._email,oobCode:this._password});default:Er(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ss(t,e){return yf(t,"POST","/v1/accounts:signInWithIdp",Io(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HB="http://localhost";class ga extends Xw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ga(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Er("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Ww(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new ga(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Ss(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ss(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ss(e,n)}buildRequest(){const e={requestUri:HB,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=mf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KB(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function GB(t){const e=gu(yu(t)).link,n=e?gu(yu(e)).deep_link_id:null,r=gu(yu(t)).deep_link_id;return(r?gu(yu(r)).link:null)||r||n||e||t}class Yw{constructor(e){var n,r,i,o,a,s;const l=gu(yu(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,f=KB((i=l.mode)!==null&&i!==void 0?i:null);ge(u&&c&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=c,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(a=l.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(s=l.tenantId)!==null&&s!==void 0?s:null}static parseLink(e){const n=GB(e);try{return new Yw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(){this.providerId=dl.PROVIDER_ID}static credential(e,n){return dc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Yw.parseLink(n);return ge(r,"argument-error"),dc._fromEmailAndCode(e,r.code,r.tenantId)}}dl.PROVIDER_ID="password";dl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";dl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf extends DR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends vf{constructor(){super("facebook.com")}static credential(e){return ga._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qi.credential(e.oauthAccessToken)}catch{return null}}}qi.FACEBOOK_SIGN_IN_METHOD="facebook.com";qi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends vf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ga._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Hi.credential(n,r)}catch{return null}}}Hi.GOOGLE_SIGN_IN_METHOD="google.com";Hi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends vf{constructor(){super("github.com")}static credential(e){return ga._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ki.credential(e.oauthAccessToken)}catch{return null}}}Ki.GITHUB_SIGN_IN_METHOD="github.com";Ki.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends vf{constructor(){super("twitter.com")}static credential(e,n){return ga._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Gi.credential(n,r)}catch{return null}}}Gi.TWITTER_SIGN_IN_METHOD="twitter.com";Gi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XB(t,e){return yf(t,"POST","/v1/accounts:signUp",Io(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await ri._fromIdTokenResponse(e,r,i),a=CS(r);return new ya({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=CS(r);return new ya({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function CS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld extends Hr{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ld.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Ld(e,n,r,i)}}function jR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Ld._fromErrorAndOperation(t,o,e,r):o})}async function YB(t,e,n=!1){const r=await hc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ya._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QB(t,e,n=!1){const{auth:r}=t;if(Rr(r.app))return Promise.reject(ci(r));const i="reauthenticate";try{const o=await hc(t,jR(r,i,e,t),n);ge(o.idToken,r,"internal-error");const a=Kw(o.idToken);ge(a,r,"internal-error");const{sub:s}=a;return ge(t.uid===s,r,"user-mismatch"),ya._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Er(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MR(t,e,n=!1){if(Rr(t.app))return Promise.reject(ci(t));const r="signIn",i=await jR(t,r,e),o=await ya._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function JB(t,e){return MR(Ca(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $R(t){const e=Ca(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ZB(t,e,n){if(Rr(t.app))return Promise.reject(ci(t));const r=Ca(t),a=await Zv(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",XB).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&$R(t),l}),s=await ya._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(s.user),s}function e3(t,e,n){return Rr(t.app)?Promise.reject(ci(t)):JB(pt(t),dl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&$R(t),r})}function t3(t,e,n,r){return pt(t).onIdTokenChanged(e,n,r)}function n3(t,e,n){return pt(t).beforeAuthStateChanged(e,n)}function r3(t,e,n,r){return pt(t).onAuthStateChanged(e,n,r)}function i3(t){return pt(t).signOut()}const Vd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Vd,"1"),this.storage.removeItem(Vd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3=1e3,a3=10;class VR extends LR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=CR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,s,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);SB()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,a3):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},o3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}VR.type="LOCAL";const s3=VR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR extends LR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}FR.type="SESSION";const UR=FR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new lm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(a).map(async u=>u(n.origin,o)),l=await l3(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((s,l)=>{const u=Qw("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),s(d.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(){return window}function c3(t){Vr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(){return typeof Vr().WorkerGlobalScope<"u"&&typeof Vr().importScripts=="function"}async function f3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function h3(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function d3(){return BR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR="firebaseLocalStorageDb",p3=1,Fd="firebaseLocalStorage",WR="fbase_key";class _f{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function um(t,e){return t.transaction([Fd],e?"readwrite":"readonly").objectStore(Fd)}function m3(){const t=indexedDB.deleteDatabase(zR);return new _f(t).toPromise()}function e0(){const t=indexedDB.open(zR,p3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Fd,{keyPath:WR})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Fd)?e(r):(r.close(),await m3(),e(await e0()))})})}async function kS(t,e,n){const r=um(t,!0).put({[WR]:e,value:n});return new _f(r).toPromise()}async function g3(t,e){const n=um(t,!1).get(e),r=await new _f(n).toPromise();return r===void 0?null:r.value}function RS(t,e){const n=um(t,!0).delete(e);return new _f(n).toPromise()}const y3=800,v3=3;class qR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await e0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>v3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return BR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lm._getInstance(d3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await f3(),!this.activeServiceWorker)return;this.sender=new u3(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||h3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await e0();return await kS(e,Vd,"1"),await RS(e,Vd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>kS(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>g3(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>RS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=um(i,!1).getAll();return new _f(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),y3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qR.type="LOCAL";const _3=qR;new gf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w3(t,e){return e?ii(e):(ge(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw extends Xw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ss(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ss(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ss(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function b3(t){return MR(t.auth,new Jw(t),t.bypassAuthState)}function x3(t){const{auth:e,user:n}=t;return ge(n,e,"internal-error"),QB(n,new Jw(t),t.bypassAuthState)}async function E3(t){const{auth:e,user:n}=t;return ge(n,e,"internal-error"),YB(n,new Jw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:s}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return b3;case"linkViaPopup":case"linkViaRedirect":return E3;case"reauthViaPopup":case"reauthViaRedirect":return x3;default:Er(this.auth,"internal-error")}}resolve(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3=new gf(2e3,1e4);class fs extends HR{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,fs.currentPopupAction&&fs.currentPopupAction.cancel(),fs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){wi(this.filter.length===1,"Popup operations only handle one event");const e=Qw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Lr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,S3.get())};e()}}fs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3="pendingRedirect",Zh=new Map;class A3 extends HR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Zh.get(this.auth._key());if(!e){try{const r=await P3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Zh.set(this.auth._key(),e)}return this.bypassAuthState||Zh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function P3(t,e){const n=C3(e),r=O3(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function I3(t,e){Zh.set(t._key(),e)}function O3(t){return ii(t._redirectPersistence)}function C3(t){return Jh(T3,t.config.apiKey,t.name)}async function k3(t,e,n=!1){if(Rr(t.app))return Promise.reject(ci(t));const r=Ca(t),i=w3(r,e),a=await new A3(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R3=10*60*1e3;class N3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!D3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!KR(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Lr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=R3&&this.cachedEventUids.clear(),this.cachedEventUids.has(NS(e))}saveEventToCache(e){this.cachedEventUids.add(NS(e)),this.lastProcessedEventTime=Date.now()}}function NS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function KR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function D3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return KR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j3(t,e={}){return Oo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$3=/^https?/;async function L3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await j3(t);for(const n of e)try{if(V3(n))return}catch{}Er(t,"unauthorized-domain")}function V3(t){const e=Qv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!$3.test(n))return!1;if(M3.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F3=new gf(3e4,6e4);function DS(){const t=Vr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function U3(t){return new Promise((e,n)=>{var r,i,o;function a(){DS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{DS(),n(Lr(t,"network-request-failed"))},timeout:F3.get()})}if(!((i=(r=Vr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Vr().gapi)===null||o===void 0)&&o.load)a();else{const s=NB("iframefcb");return Vr()[s]=()=>{gapi.load?a():n(Lr(t,"network-request-failed"))},RR(`${RB()}?onload=${s}`).catch(l=>n(l))}}).catch(e=>{throw ed=null,e})}let ed=null;function B3(t){return ed=ed||U3(t),ed}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z3=new gf(5e3,15e3),W3="__/auth/iframe",q3="emulator/auth/iframe",H3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},K3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function G3(t){const e=t.config;ge(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Hw(e,q3):`https://${t.config.authDomain}/${W3}`,r={apiKey:e.apiKey,appName:t.name,v:Oa},i=K3.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${mf(r).slice(1)}`}async function X3(t){const e=await B3(t),n=Vr().gapi;return ge(n,t,"internal-error"),e.open({where:document.body,url:G3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:H3,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const a=Lr(t,"network-request-failed"),s=Vr().setTimeout(()=>{o(a)},z3.get());function l(){Vr().clearTimeout(s),i(r)}r.ping(l).then(l,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Q3=500,J3=600,Z3="_blank",e6="http://localhost";class jS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function t6(t,e,n,r=Q3,i=J3){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},Y3),{width:r.toString(),height:i.toString(),top:o,left:a}),u=un().toLowerCase();n&&(s=TR(u)?Z3:n),ER(u)&&(e=e||e6,l.scrollbars="yes");const c=Object.entries(l).reduce((d,[p,m])=>`${d}${p}=${m},`,"");if(EB(u)&&s!=="_self")return n6(e||"",s),new jS(null);const f=window.open(e||"",s,c);ge(f,t,"popup-blocked");try{f.focus()}catch{}return new jS(f)}function n6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r6="__/auth/handler",i6="emulator/auth/handler",o6=encodeURIComponent("fac");async function MS(t,e,n,r,i,o){ge(t.config.authDomain,t,"auth-domain-config-required"),ge(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Oa,eventId:i};if(e instanceof DR){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",G4(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries({}))a[c]=f}if(e instanceof vf){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(a.scopes=c.join(","))}t.tenantId&&(a.tid=t.tenantId);const s=a;for(const c of Object.keys(s))s[c]===void 0&&delete s[c];const l=await t._getAppCheckToken(),u=l?`#${o6}=${encodeURIComponent(l)}`:"";return`${a6(t)}?${mf(s).slice(1)}${u}`}function a6({config:t}){return t.emulator?Hw(t,i6):`https://${t.authDomain}/${r6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py="webStorageSupport";class s6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=UR,this._completeRedirectFn=k3,this._overrideRedirectResult=I3}async _openPopup(e,n,r,i){var o;wi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await MS(e,n,r,Qv(),i);return t6(e,a,Qw())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await MS(e,n,r,Qv(),i);return c3(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(wi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await X3(e),r=new N3(e);return n.register("authEvent",i=>(ge(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(py,{type:py},i=>{var o;const a=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[py];a!==void 0&&n(!!a),Er(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=L3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return CR()||SR()||Gw()}}const l6=s6;var $S="@firebase/auth",LS="1.7.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function f6(t){ma(new _o("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;ge(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kR(t)},u=new OB(r,i,o,l);return LB(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ma(new _o("auth-internal",e=>{const n=Ca(e.getProvider("auth").getImmediate());return(r=>new u6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$r($S,LS,c6(t)),$r($S,LS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h6=5*60,d6=sR("authIdTokenMaxAge")||h6;let VS=null;const p6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>d6)return;const i=n==null?void 0:n.token;VS!==i&&(VS=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Zw(t=zw()){const e=am(t,"auth");if(e.isInitialized())return e.getImmediate();const n=$B(t,{popupRedirectResolver:l6,persistence:[_3,s3,UR]}),r=sR("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const a=p6(o.toString());n3(n,a,()=>a(n.currentUser)),t3(n,s=>a(s))}}const i=iR("auth");return i&&VB(n,`http://${i}`),n}function m6(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}CB({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Lr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",m6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});f6("Browser");var g6="firebase",y6="10.13.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$r(g6,y6,"app");var FS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var aa,GR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,E){function I(){}I.prototype=E.prototype,S.D=E.prototype,S.prototype=new I,S.prototype.constructor=S,S.C=function(C,R,D){for(var k=Array(arguments.length-2),V=2;V<arguments.length;V++)k[V-2]=arguments[V];return E.prototype[R].apply(C,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,E,I){I||(I=0);var C=Array(16);if(typeof E=="string")for(var R=0;16>R;++R)C[R]=E.charCodeAt(I++)|E.charCodeAt(I++)<<8|E.charCodeAt(I++)<<16|E.charCodeAt(I++)<<24;else for(R=0;16>R;++R)C[R]=E[I++]|E[I++]<<8|E[I++]<<16|E[I++]<<24;E=S.g[0],I=S.g[1],R=S.g[2];var D=S.g[3],k=E+(D^I&(R^D))+C[0]+3614090360&4294967295;E=I+(k<<7&4294967295|k>>>25),k=D+(R^E&(I^R))+C[1]+3905402710&4294967295,D=E+(k<<12&4294967295|k>>>20),k=R+(I^D&(E^I))+C[2]+606105819&4294967295,R=D+(k<<17&4294967295|k>>>15),k=I+(E^R&(D^E))+C[3]+3250441966&4294967295,I=R+(k<<22&4294967295|k>>>10),k=E+(D^I&(R^D))+C[4]+4118548399&4294967295,E=I+(k<<7&4294967295|k>>>25),k=D+(R^E&(I^R))+C[5]+1200080426&4294967295,D=E+(k<<12&4294967295|k>>>20),k=R+(I^D&(E^I))+C[6]+2821735955&4294967295,R=D+(k<<17&4294967295|k>>>15),k=I+(E^R&(D^E))+C[7]+4249261313&4294967295,I=R+(k<<22&4294967295|k>>>10),k=E+(D^I&(R^D))+C[8]+1770035416&4294967295,E=I+(k<<7&4294967295|k>>>25),k=D+(R^E&(I^R))+C[9]+2336552879&4294967295,D=E+(k<<12&4294967295|k>>>20),k=R+(I^D&(E^I))+C[10]+4294925233&4294967295,R=D+(k<<17&4294967295|k>>>15),k=I+(E^R&(D^E))+C[11]+2304563134&4294967295,I=R+(k<<22&4294967295|k>>>10),k=E+(D^I&(R^D))+C[12]+1804603682&4294967295,E=I+(k<<7&4294967295|k>>>25),k=D+(R^E&(I^R))+C[13]+4254626195&4294967295,D=E+(k<<12&4294967295|k>>>20),k=R+(I^D&(E^I))+C[14]+2792965006&4294967295,R=D+(k<<17&4294967295|k>>>15),k=I+(E^R&(D^E))+C[15]+1236535329&4294967295,I=R+(k<<22&4294967295|k>>>10),k=E+(R^D&(I^R))+C[1]+4129170786&4294967295,E=I+(k<<5&4294967295|k>>>27),k=D+(I^R&(E^I))+C[6]+3225465664&4294967295,D=E+(k<<9&4294967295|k>>>23),k=R+(E^I&(D^E))+C[11]+643717713&4294967295,R=D+(k<<14&4294967295|k>>>18),k=I+(D^E&(R^D))+C[0]+3921069994&4294967295,I=R+(k<<20&4294967295|k>>>12),k=E+(R^D&(I^R))+C[5]+3593408605&4294967295,E=I+(k<<5&4294967295|k>>>27),k=D+(I^R&(E^I))+C[10]+38016083&4294967295,D=E+(k<<9&4294967295|k>>>23),k=R+(E^I&(D^E))+C[15]+3634488961&4294967295,R=D+(k<<14&4294967295|k>>>18),k=I+(D^E&(R^D))+C[4]+3889429448&4294967295,I=R+(k<<20&4294967295|k>>>12),k=E+(R^D&(I^R))+C[9]+568446438&4294967295,E=I+(k<<5&4294967295|k>>>27),k=D+(I^R&(E^I))+C[14]+3275163606&4294967295,D=E+(k<<9&4294967295|k>>>23),k=R+(E^I&(D^E))+C[3]+4107603335&4294967295,R=D+(k<<14&4294967295|k>>>18),k=I+(D^E&(R^D))+C[8]+1163531501&4294967295,I=R+(k<<20&4294967295|k>>>12),k=E+(R^D&(I^R))+C[13]+2850285829&4294967295,E=I+(k<<5&4294967295|k>>>27),k=D+(I^R&(E^I))+C[2]+4243563512&4294967295,D=E+(k<<9&4294967295|k>>>23),k=R+(E^I&(D^E))+C[7]+1735328473&4294967295,R=D+(k<<14&4294967295|k>>>18),k=I+(D^E&(R^D))+C[12]+2368359562&4294967295,I=R+(k<<20&4294967295|k>>>12),k=E+(I^R^D)+C[5]+4294588738&4294967295,E=I+(k<<4&4294967295|k>>>28),k=D+(E^I^R)+C[8]+2272392833&4294967295,D=E+(k<<11&4294967295|k>>>21),k=R+(D^E^I)+C[11]+1839030562&4294967295,R=D+(k<<16&4294967295|k>>>16),k=I+(R^D^E)+C[14]+4259657740&4294967295,I=R+(k<<23&4294967295|k>>>9),k=E+(I^R^D)+C[1]+2763975236&4294967295,E=I+(k<<4&4294967295|k>>>28),k=D+(E^I^R)+C[4]+1272893353&4294967295,D=E+(k<<11&4294967295|k>>>21),k=R+(D^E^I)+C[7]+4139469664&4294967295,R=D+(k<<16&4294967295|k>>>16),k=I+(R^D^E)+C[10]+3200236656&4294967295,I=R+(k<<23&4294967295|k>>>9),k=E+(I^R^D)+C[13]+681279174&4294967295,E=I+(k<<4&4294967295|k>>>28),k=D+(E^I^R)+C[0]+3936430074&4294967295,D=E+(k<<11&4294967295|k>>>21),k=R+(D^E^I)+C[3]+3572445317&4294967295,R=D+(k<<16&4294967295|k>>>16),k=I+(R^D^E)+C[6]+76029189&4294967295,I=R+(k<<23&4294967295|k>>>9),k=E+(I^R^D)+C[9]+3654602809&4294967295,E=I+(k<<4&4294967295|k>>>28),k=D+(E^I^R)+C[12]+3873151461&4294967295,D=E+(k<<11&4294967295|k>>>21),k=R+(D^E^I)+C[15]+530742520&4294967295,R=D+(k<<16&4294967295|k>>>16),k=I+(R^D^E)+C[2]+3299628645&4294967295,I=R+(k<<23&4294967295|k>>>9),k=E+(R^(I|~D))+C[0]+4096336452&4294967295,E=I+(k<<6&4294967295|k>>>26),k=D+(I^(E|~R))+C[7]+1126891415&4294967295,D=E+(k<<10&4294967295|k>>>22),k=R+(E^(D|~I))+C[14]+2878612391&4294967295,R=D+(k<<15&4294967295|k>>>17),k=I+(D^(R|~E))+C[5]+4237533241&4294967295,I=R+(k<<21&4294967295|k>>>11),k=E+(R^(I|~D))+C[12]+1700485571&4294967295,E=I+(k<<6&4294967295|k>>>26),k=D+(I^(E|~R))+C[3]+2399980690&4294967295,D=E+(k<<10&4294967295|k>>>22),k=R+(E^(D|~I))+C[10]+4293915773&4294967295,R=D+(k<<15&4294967295|k>>>17),k=I+(D^(R|~E))+C[1]+2240044497&4294967295,I=R+(k<<21&4294967295|k>>>11),k=E+(R^(I|~D))+C[8]+1873313359&4294967295,E=I+(k<<6&4294967295|k>>>26),k=D+(I^(E|~R))+C[15]+4264355552&4294967295,D=E+(k<<10&4294967295|k>>>22),k=R+(E^(D|~I))+C[6]+2734768916&4294967295,R=D+(k<<15&4294967295|k>>>17),k=I+(D^(R|~E))+C[13]+1309151649&4294967295,I=R+(k<<21&4294967295|k>>>11),k=E+(R^(I|~D))+C[4]+4149444226&4294967295,E=I+(k<<6&4294967295|k>>>26),k=D+(I^(E|~R))+C[11]+3174756917&4294967295,D=E+(k<<10&4294967295|k>>>22),k=R+(E^(D|~I))+C[2]+718787259&4294967295,R=D+(k<<15&4294967295|k>>>17),k=I+(D^(R|~E))+C[9]+3951481745&4294967295,S.g[0]=S.g[0]+E&4294967295,S.g[1]=S.g[1]+(R+(k<<21&4294967295|k>>>11))&4294967295,S.g[2]=S.g[2]+R&4294967295,S.g[3]=S.g[3]+D&4294967295}r.prototype.u=function(S,E){E===void 0&&(E=S.length);for(var I=E-this.blockSize,C=this.B,R=this.h,D=0;D<E;){if(R==0)for(;D<=I;)i(this,S,D),D+=this.blockSize;if(typeof S=="string"){for(;D<E;)if(C[R++]=S.charCodeAt(D++),R==this.blockSize){i(this,C),R=0;break}}else for(;D<E;)if(C[R++]=S[D++],R==this.blockSize){i(this,C),R=0;break}}this.h=R,this.o+=E},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var E=1;E<S.length-8;++E)S[E]=0;var I=8*this.o;for(E=S.length-8;E<S.length;++E)S[E]=I&255,I/=256;for(this.u(S),S=Array(16),E=I=0;4>E;++E)for(var C=0;32>C;C+=8)S[I++]=this.g[E]>>>C&255;return S};function o(S,E){var I=s;return Object.prototype.hasOwnProperty.call(I,S)?I[S]:I[S]=E(S)}function a(S,E){this.h=E;for(var I=[],C=!0,R=S.length-1;0<=R;R--){var D=S[R]|0;C&&D==E||(I[R]=D,C=!1)}this.g=I}var s={};function l(S){return-128<=S&&128>S?o(S,function(E){return new a([E|0],0>E?-1:0)}):new a([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return _(u(-S));for(var E=[],I=1,C=0;S>=I;C++)E[C]=S/I|0,I*=4294967296;return new a(E,0)}function c(S,E){if(S.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(S.charAt(0)=="-")return _(c(S.substring(1),E));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(E,8)),C=f,R=0;R<S.length;R+=8){var D=Math.min(8,S.length-R),k=parseInt(S.substring(R,R+D),E);8>D?(D=u(Math.pow(E,D)),C=C.j(D).add(u(k))):(C=C.j(I),C=C.add(u(k)))}return C}var f=l(0),d=l(1),p=l(16777216);t=a.prototype,t.m=function(){if(g(this))return-_(this).m();for(var S=0,E=1,I=0;I<this.g.length;I++){var C=this.i(I);S+=(0<=C?C:4294967296+C)*E,E*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(m(this))return"0";if(g(this))return"-"+_(this).toString(S);for(var E=u(Math.pow(S,6)),I=this,C="";;){var R=x(I,E).g;I=b(I,R.j(E));var D=((0<I.g.length?I.g[0]:I.h)>>>0).toString(S);if(I=R,m(I))return D+C;for(;6>D.length;)D="0"+D;C=D+C}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function m(S){if(S.h!=0)return!1;for(var E=0;E<S.g.length;E++)if(S.g[E]!=0)return!1;return!0}function g(S){return S.h==-1}t.l=function(S){return S=b(this,S),g(S)?-1:m(S)?0:1};function _(S){for(var E=S.g.length,I=[],C=0;C<E;C++)I[C]=~S.g[C];return new a(I,~S.h).add(d)}t.abs=function(){return g(this)?_(this):this},t.add=function(S){for(var E=Math.max(this.g.length,S.g.length),I=[],C=0,R=0;R<=E;R++){var D=C+(this.i(R)&65535)+(S.i(R)&65535),k=(D>>>16)+(this.i(R)>>>16)+(S.i(R)>>>16);C=k>>>16,D&=65535,k&=65535,I[R]=k<<16|D}return new a(I,I[I.length-1]&-2147483648?-1:0)};function b(S,E){return S.add(_(E))}t.j=function(S){if(m(this)||m(S))return f;if(g(this))return g(S)?_(this).j(_(S)):_(_(this).j(S));if(g(S))return _(this.j(_(S)));if(0>this.l(p)&&0>S.l(p))return u(this.m()*S.m());for(var E=this.g.length+S.g.length,I=[],C=0;C<2*E;C++)I[C]=0;for(C=0;C<this.g.length;C++)for(var R=0;R<S.g.length;R++){var D=this.i(C)>>>16,k=this.i(C)&65535,V=S.i(R)>>>16,B=S.i(R)&65535;I[2*C+2*R]+=k*B,y(I,2*C+2*R),I[2*C+2*R+1]+=D*B,y(I,2*C+2*R+1),I[2*C+2*R+1]+=k*V,y(I,2*C+2*R+1),I[2*C+2*R+2]+=D*V,y(I,2*C+2*R+2)}for(C=0;C<E;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=E;C<2*E;C++)I[C]=0;return new a(I,0)};function y(S,E){for(;(S[E]&65535)!=S[E];)S[E+1]+=S[E]>>>16,S[E]&=65535,E++}function v(S,E){this.g=S,this.h=E}function x(S,E){if(m(E))throw Error("division by zero");if(m(S))return new v(f,f);if(g(S))return E=x(_(S),E),new v(_(E.g),_(E.h));if(g(E))return E=x(S,_(E)),new v(_(E.g),E.h);if(30<S.g.length){if(g(S)||g(E))throw Error("slowDivide_ only works with positive integers.");for(var I=d,C=E;0>=C.l(S);)I=T(I),C=T(C);var R=O(I,1),D=O(C,1);for(C=O(C,2),I=O(I,2);!m(C);){var k=D.add(C);0>=k.l(S)&&(R=R.add(I),D=k),C=O(C,1),I=O(I,1)}return E=b(S,R.j(E)),new v(R,E)}for(R=f;0<=S.l(E);){for(I=Math.max(1,Math.floor(S.m()/E.m())),C=Math.ceil(Math.log(I)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),D=u(I),k=D.j(E);g(k)||0<k.l(S);)I-=C,D=u(I),k=D.j(E);m(D)&&(D=d),R=R.add(D),S=b(S,k)}return new v(R,S)}t.A=function(S){return x(this,S).h},t.and=function(S){for(var E=Math.max(this.g.length,S.g.length),I=[],C=0;C<E;C++)I[C]=this.i(C)&S.i(C);return new a(I,this.h&S.h)},t.or=function(S){for(var E=Math.max(this.g.length,S.g.length),I=[],C=0;C<E;C++)I[C]=this.i(C)|S.i(C);return new a(I,this.h|S.h)},t.xor=function(S){for(var E=Math.max(this.g.length,S.g.length),I=[],C=0;C<E;C++)I[C]=this.i(C)^S.i(C);return new a(I,this.h^S.h)};function T(S){for(var E=S.g.length+1,I=[],C=0;C<E;C++)I[C]=S.i(C)<<1|S.i(C-1)>>>31;return new a(I,S.h)}function O(S,E){var I=E>>5;E%=32;for(var C=S.g.length-I,R=[],D=0;D<C;D++)R[D]=0<E?S.i(D+I)>>>E|S.i(D+I+1)<<32-E:S.i(D+I);return new a(R,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,GR=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=c,aa=a}).apply(typeof FS<"u"?FS:typeof self<"u"?self:typeof window<"u"?window:{});var vh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XR,YR,vu,QR,td,t0,JR,ZR,eN;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,w,A){return h==Array.prototype||h==Object.prototype||(h[w]=A.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof vh=="object"&&vh];for(var w=0;w<h.length;++w){var A=h[w];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=n(this);function i(h,w){if(w)e:{var A=r;h=h.split(".");for(var N=0;N<h.length-1;N++){var L=h[N];if(!(L in A))break e;A=A[L]}h=h[h.length-1],N=A[h],w=w(N),w!=N&&w!=null&&e(A,h,{configurable:!0,writable:!0,value:w})}}function o(h,w){h instanceof String&&(h+="");var A=0,N=!1,L={next:function(){if(!N&&A<h.length){var F=A++;return{value:w(F,h[F]),done:!1}}return N=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(h){return h||function(){return o(this,function(w,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function l(h){var w=typeof h;return w=w!="object"?w:h?Array.isArray(h)?"array":w:"null",w=="array"||w=="object"&&typeof h.length=="number"}function u(h){var w=typeof h;return w=="object"&&h!=null||w=="function"}function c(h,w,A){return h.call.apply(h.bind,arguments)}function f(h,w,A){if(!h)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,N),h.apply(w,L)}}return function(){return h.apply(w,arguments)}}function d(h,w,A){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:f,d.apply(null,arguments)}function p(h,w){var A=Array.prototype.slice.call(arguments,1);return function(){var N=A.slice();return N.push.apply(N,arguments),h.apply(this,N)}}function m(h,w){function A(){}A.prototype=w.prototype,h.aa=w.prototype,h.prototype=new A,h.prototype.constructor=h,h.Qb=function(N,L,F){for(var ne=Array(arguments.length-2),He=2;He<arguments.length;He++)ne[He-2]=arguments[He];return w.prototype[L].apply(N,ne)}}function g(h){const w=h.length;if(0<w){const A=Array(w);for(let N=0;N<w;N++)A[N]=h[N];return A}return[]}function _(h,w){for(let A=1;A<arguments.length;A++){const N=arguments[A];if(l(N)){const L=h.length||0,F=N.length||0;h.length=L+F;for(let ne=0;ne<F;ne++)h[L+ne]=N[ne]}else h.push(N)}}class b{constructor(w,A){this.i=w,this.j=A,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function y(h){return/^[\s\xa0]*$/.test(h)}function v(){var h=s.navigator;return h&&(h=h.userAgent)?h:""}function x(h){return x[" "](h),h}x[" "]=function(){};var T=v().indexOf("Gecko")!=-1&&!(v().toLowerCase().indexOf("webkit")!=-1&&v().indexOf("Edge")==-1)&&!(v().indexOf("Trident")!=-1||v().indexOf("MSIE")!=-1)&&v().indexOf("Edge")==-1;function O(h,w,A){for(const N in h)w.call(A,h[N],N,h)}function S(h,w){for(const A in h)w.call(void 0,h[A],A,h)}function E(h){const w={};for(const A in h)w[A]=h[A];return w}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(h,w){let A,N;for(let L=1;L<arguments.length;L++){N=arguments[L];for(A in N)h[A]=N[A];for(let F=0;F<I.length;F++)A=I[F],Object.prototype.hasOwnProperty.call(N,A)&&(h[A]=N[A])}}function R(h){var w=1;h=h.split(":");const A=[];for(;0<w&&h.length;)A.push(h.shift()),w--;return h.length&&A.push(h.join(":")),A}function D(h){s.setTimeout(()=>{throw h},0)}function k(){var h=z;let w=null;return h.g&&(w=h.g,h.g=h.g.next,h.g||(h.h=null),w.next=null),w}class V{constructor(){this.h=this.g=null}add(w,A){const N=B.get();N.set(w,A),this.h?this.h.next=N:this.g=N,this.h=N}}var B=new b(()=>new U,h=>h.reset());class U{constructor(){this.next=this.g=this.h=null}set(w,A){this.h=w,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let W,$=!1,z=new V,G=()=>{const h=s.Promise.resolve(void 0);W=()=>{h.then(re)}};var re=()=>{for(var h;h=k();){try{h.h.call(h.g)}catch(A){D(A)}var w=B;w.j(h),100>w.h&&(w.h++,h.next=w.g,w.g=h)}$=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(h,w){this.type=h,this.g=this.target=w,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var De=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var h=!1,w=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const A=()=>{};s.addEventListener("test",A,w),s.removeEventListener("test",A,w)}catch{}return h}();function We(h,w){if(ue.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var A=this.type=h.type,N=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=w,w=h.relatedTarget){if(T){e:{try{x(w.nodeName);var L=!0;break e}catch{}L=!1}L||(w=null)}}else A=="mouseover"?w=h.fromElement:A=="mouseout"&&(w=h.toElement);this.relatedTarget=w,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:yt[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&We.aa.h.call(this)}}m(We,ue);var yt={2:"touch",3:"pen",4:"mouse"};We.prototype.h=function(){We.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Le="closure_listenable_"+(1e6*Math.random()|0),cn=0;function ie(h,w,A,N,L){this.listener=h,this.proxy=null,this.src=w,this.type=A,this.capture=!!N,this.ha=L,this.key=++cn,this.da=this.fa=!1}function he(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ve(h){this.src=h,this.g={},this.h=0}ve.prototype.add=function(h,w,A,N,L){var F=h.toString();h=this.g[F],h||(h=this.g[F]=[],this.h++);var ne=Ve(h,w,N,L);return-1<ne?(w=h[ne],A||(w.fa=!1)):(w=new ie(w,this.src,F,!!N,L),w.fa=A,h.push(w)),w};function K(h,w){var A=w.type;if(A in h.g){var N=h.g[A],L=Array.prototype.indexOf.call(N,w,void 0),F;(F=0<=L)&&Array.prototype.splice.call(N,L,1),F&&(he(w),h.g[A].length==0&&(delete h.g[A],h.h--))}}function Ve(h,w,A,N){for(var L=0;L<h.length;++L){var F=h[L];if(!F.da&&F.listener==w&&F.capture==!!A&&F.ha==N)return L}return-1}var Se="closure_lm_"+(1e6*Math.random()|0),Q={};function de(h,w,A,N,L){if(Array.isArray(w)){for(var F=0;F<w.length;F++)de(h,w[F],A,N,L);return null}return A=J1(A),h&&h[Le]?h.K(w,A,u(N)?!!N.capture:!!N,L):J(h,w,A,!1,N,L)}function J(h,w,A,N,L,F){if(!w)throw Error("Invalid event type");var ne=u(L)?!!L.capture:!!L,He=bt(h);if(He||(h[Se]=He=new ve(h)),A=He.add(w,A,N,ne,F),A.proxy)return A;if(N=oe(),A.proxy=N,N.src=h,N.listener=A,h.addEventListener)De||(L=ne),L===void 0&&(L=!1),h.addEventListener(w.toString(),N,L);else if(h.attachEvent)h.attachEvent(Te(w.toString()),N);else if(h.addListener&&h.removeListener)h.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return A}function oe(){function h(A){return w.call(h.src,h.listener,A)}const w=Kn;return h}function pe(h,w,A,N,L){if(Array.isArray(w))for(var F=0;F<w.length;F++)pe(h,w[F],A,N,L);else N=u(N)?!!N.capture:!!N,A=J1(A),h&&h[Le]?(h=h.i,w=String(w).toString(),w in h.g&&(F=h.g[w],A=Ve(F,A,N,L),-1<A&&(he(F[A]),Array.prototype.splice.call(F,A,1),F.length==0&&(delete h.g[w],h.h--)))):h&&(h=bt(h))&&(w=h.g[w.toString()],h=-1,w&&(h=Ve(w,A,N,L)),(A=-1<h?w[h]:null)&&Ee(A))}function Ee(h){if(typeof h!="number"&&h&&!h.da){var w=h.src;if(w&&w[Le])K(w.i,h);else{var A=h.type,N=h.proxy;w.removeEventListener?w.removeEventListener(A,N,h.capture):w.detachEvent?w.detachEvent(Te(A),N):w.addListener&&w.removeListener&&w.removeListener(N),(A=bt(w))?(K(A,h),A.h==0&&(A.src=null,w[Se]=null)):he(h)}}}function Te(h){return h in Q?Q[h]:Q[h]="on"+h}function Kn(h,w){if(h.da)h=!0;else{w=new We(w,this);var A=h.listener,N=h.ha||h.src;h.fa&&Ee(h),h=A.call(N,w)}return h}function bt(h){return h=h[Se],h instanceof ve?h:null}var Ri="__closure_events_fn_"+(1e9*Math.random()>>>0);function J1(h){return typeof h=="function"?h:(h[Ri]||(h[Ri]=function(w){return h.handleEvent(w)}),h[Ri])}function Gt(){ee.call(this),this.i=new ve(this),this.M=this,this.F=null}m(Gt,ee),Gt.prototype[Le]=!0,Gt.prototype.removeEventListener=function(h,w,A,N){pe(this,h,w,A,N)};function fn(h,w){var A,N=h.F;if(N)for(A=[];N;N=N.F)A.push(N);if(h=h.M,N=w.type||w,typeof w=="string")w=new ue(w,h);else if(w instanceof ue)w.target=w.target||h;else{var L=w;w=new ue(N,h),C(w,L)}if(L=!0,A)for(var F=A.length-1;0<=F;F--){var ne=w.g=A[F];L=Lf(ne,N,!0,w)&&L}if(ne=w.g=h,L=Lf(ne,N,!0,w)&&L,L=Lf(ne,N,!1,w)&&L,A)for(F=0;F<A.length;F++)ne=w.g=A[F],L=Lf(ne,N,!1,w)&&L}Gt.prototype.N=function(){if(Gt.aa.N.call(this),this.i){var h=this.i,w;for(w in h.g){for(var A=h.g[w],N=0;N<A.length;N++)he(A[N]);delete h.g[w],h.h--}}this.F=null},Gt.prototype.K=function(h,w,A,N){return this.i.add(String(h),w,!1,A,N)},Gt.prototype.L=function(h,w,A,N){return this.i.add(String(h),w,!0,A,N)};function Lf(h,w,A,N){if(w=h.i.g[String(w)],!w)return!0;w=w.concat();for(var L=!0,F=0;F<w.length;++F){var ne=w[F];if(ne&&!ne.da&&ne.capture==A){var He=ne.listener,Vt=ne.ha||ne.src;ne.fa&&K(h.i,ne),L=He.call(Vt,N)!==!1&&L}}return L&&!N.defaultPrevented}function Z1(h,w,A){if(typeof h=="function")A&&(h=d(h,A));else if(h&&typeof h.handleEvent=="function")h=d(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:s.setTimeout(h,w||0)}function ex(h){h.g=Z1(()=>{h.g=null,h.i&&(h.i=!1,ex(h))},h.l);const w=h.h;h.h=null,h.m.apply(null,w)}class k$ extends ee{constructor(w,A){super(),this.m=w,this.l=A,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:ex(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function kl(h){ee.call(this),this.h=h,this.g={}}m(kl,ee);var tx=[];function nx(h){O(h.g,function(w,A){this.g.hasOwnProperty(A)&&Ee(w)},h),h.g={}}kl.prototype.N=function(){kl.aa.N.call(this),nx(this)},kl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _g=s.JSON.stringify,R$=s.JSON.parse,N$=class{stringify(h){return s.JSON.stringify(h,void 0)}parse(h){return s.JSON.parse(h,void 0)}};function wg(){}wg.prototype.h=null;function rx(h){return h.h||(h.h=h.i())}function ix(){}var Rl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function bg(){ue.call(this,"d")}m(bg,ue);function xg(){ue.call(this,"c")}m(xg,ue);var Mo={},ox=null;function Vf(){return ox=ox||new Gt}Mo.La="serverreachability";function ax(h){ue.call(this,Mo.La,h)}m(ax,ue);function Nl(h){const w=Vf();fn(w,new ax(w))}Mo.STAT_EVENT="statevent";function sx(h,w){ue.call(this,Mo.STAT_EVENT,h),this.stat=w}m(sx,ue);function hn(h){const w=Vf();fn(w,new sx(w,h))}Mo.Ma="timingevent";function lx(h,w){ue.call(this,Mo.Ma,h),this.size=w}m(lx,ue);function Dl(h,w){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){h()},w)}function jl(){this.g=!0}jl.prototype.xa=function(){this.g=!1};function D$(h,w,A,N,L,F){h.info(function(){if(h.g)if(F)for(var ne="",He=F.split("&"),Vt=0;Vt<He.length;Vt++){var je=He[Vt].split("=");if(1<je.length){var Xt=je[0];je=je[1];var Yt=Xt.split("_");ne=2<=Yt.length&&Yt[1]=="type"?ne+(Xt+"="+je+"&"):ne+(Xt+"=redacted&")}}else ne=null;else ne=F;return"XMLHTTP REQ ("+N+") [attempt "+L+"]: "+w+`
`+A+`
`+ne})}function j$(h,w,A,N,L,F,ne){h.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+L+"]: "+w+`
`+A+`
`+F+" "+ne})}function Fa(h,w,A,N){h.info(function(){return"XMLHTTP TEXT ("+w+"): "+$$(h,A)+(N?" "+N:"")})}function M$(h,w){h.info(function(){return"TIMEOUT: "+w})}jl.prototype.info=function(){};function $$(h,w){if(!h.g)return w;if(!w)return null;try{var A=JSON.parse(w);if(A){for(h=0;h<A.length;h++)if(Array.isArray(A[h])){var N=A[h];if(!(2>N.length)){var L=N[1];if(Array.isArray(L)&&!(1>L.length)){var F=L[0];if(F!="noop"&&F!="stop"&&F!="close")for(var ne=1;ne<L.length;ne++)L[ne]=""}}}}return _g(A)}catch{return w}}var Ff={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ux={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Eg;function Uf(){}m(Uf,wg),Uf.prototype.g=function(){return new XMLHttpRequest},Uf.prototype.i=function(){return{}},Eg=new Uf;function Ni(h,w,A,N){this.j=h,this.i=w,this.l=A,this.R=N||1,this.U=new kl(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new cx}function cx(){this.i=null,this.g="",this.h=!1}var fx={},Sg={};function Tg(h,w,A){h.L=1,h.v=qf(Xr(w)),h.m=A,h.P=!0,hx(h,null)}function hx(h,w){h.F=Date.now(),Bf(h),h.A=Xr(h.v);var A=h.A,N=h.R;Array.isArray(N)||(N=[String(N)]),Ax(A.i,"t",N),h.C=0,A=h.j.J,h.h=new cx,h.g=Wx(h.j,A?w:null,!h.m),0<h.O&&(h.M=new k$(d(h.Y,h,h.g),h.O)),w=h.U,A=h.g,N=h.ca;var L="readystatechange";Array.isArray(L)||(L&&(tx[0]=L.toString()),L=tx);for(var F=0;F<L.length;F++){var ne=de(A,L[F],N||w.handleEvent,!1,w.h||w);if(!ne)break;w.g[ne.key]=ne}w=h.H?E(h.H):{},h.m?(h.u||(h.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,w)):(h.u="GET",h.g.ea(h.A,h.u,null,w)),Nl(),D$(h.i,h.u,h.A,h.l,h.R,h.m)}Ni.prototype.ca=function(h){h=h.target;const w=this.M;w&&Yr(h)==3?w.j():this.Y(h)},Ni.prototype.Y=function(h){try{if(h==this.g)e:{const Yt=Yr(this.g);var w=this.g.Ba();const za=this.g.Z();if(!(3>Yt)&&(Yt!=3||this.g&&(this.h.h||this.g.oa()||Nx(this.g)))){this.J||Yt!=4||w==7||(w==8||0>=za?Nl(3):Nl(2)),Ag(this);var A=this.g.Z();this.X=A;t:if(dx(this)){var N=Nx(this.g);h="";var L=N.length,F=Yr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$o(this),Ml(this);var ne="";break t}this.h.i=new s.TextDecoder}for(w=0;w<L;w++)this.h.h=!0,h+=this.h.i.decode(N[w],{stream:!(F&&w==L-1)});N.length=0,this.h.g+=h,this.C=0,ne=this.h.g}else ne=this.g.oa();if(this.o=A==200,j$(this.i,this.u,this.A,this.l,this.R,Yt,A),this.o){if(this.T&&!this.K){t:{if(this.g){var He,Vt=this.g;if((He=Vt.g?Vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(He)){var je=He;break t}}je=null}if(A=je)Fa(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Pg(this,A);else{this.o=!1,this.s=3,hn(12),$o(this),Ml(this);break e}}if(this.P){A=!0;let fr;for(;!this.J&&this.C<ne.length;)if(fr=L$(this,ne),fr==Sg){Yt==4&&(this.s=4,hn(14),A=!1),Fa(this.i,this.l,null,"[Incomplete Response]");break}else if(fr==fx){this.s=4,hn(15),Fa(this.i,this.l,ne,"[Invalid Chunk]"),A=!1;break}else Fa(this.i,this.l,fr,null),Pg(this,fr);if(dx(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Yt!=4||ne.length!=0||this.h.h||(this.s=1,hn(16),A=!1),this.o=this.o&&A,!A)Fa(this.i,this.l,ne,"[Invalid Chunked Response]"),$o(this),Ml(this);else if(0<ne.length&&!this.W){this.W=!0;var Xt=this.j;Xt.g==this&&Xt.ba&&!Xt.M&&(Xt.j.info("Great, no buffering proxy detected. Bytes received: "+ne.length),Ng(Xt),Xt.M=!0,hn(11))}}else Fa(this.i,this.l,ne,null),Pg(this,ne);Yt==4&&$o(this),this.o&&!this.J&&(Yt==4?Fx(this.j,this):(this.o=!1,Bf(this)))}else tL(this.g),A==400&&0<ne.indexOf("Unknown SID")?(this.s=3,hn(12)):(this.s=0,hn(13)),$o(this),Ml(this)}}}catch{}finally{}};function dx(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function L$(h,w){var A=h.C,N=w.indexOf(`
`,A);return N==-1?Sg:(A=Number(w.substring(A,N)),isNaN(A)?fx:(N+=1,N+A>w.length?Sg:(w=w.slice(N,N+A),h.C=N+A,w)))}Ni.prototype.cancel=function(){this.J=!0,$o(this)};function Bf(h){h.S=Date.now()+h.I,px(h,h.I)}function px(h,w){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Dl(d(h.ba,h),w)}function Ag(h){h.B&&(s.clearTimeout(h.B),h.B=null)}Ni.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(M$(this.i,this.A),this.L!=2&&(Nl(),hn(17)),$o(this),this.s=2,Ml(this)):px(this,this.S-h)};function Ml(h){h.j.G==0||h.J||Fx(h.j,h)}function $o(h){Ag(h);var w=h.M;w&&typeof w.ma=="function"&&w.ma(),h.M=null,nx(h.U),h.g&&(w=h.g,h.g=null,w.abort(),w.ma())}function Pg(h,w){try{var A=h.j;if(A.G!=0&&(A.g==h||Ig(A.h,h))){if(!h.K&&Ig(A.h,h)&&A.G==3){try{var N=A.Da.g.parse(w)}catch{N=null}if(Array.isArray(N)&&N.length==3){var L=N;if(L[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<h.F)Yf(A),Gf(A);else break e;Rg(A),hn(18)}}else A.za=L[1],0<A.za-A.T&&37500>L[2]&&A.F&&A.v==0&&!A.C&&(A.C=Dl(d(A.Za,A),6e3));if(1>=yx(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else Vo(A,11)}else if((h.K||A.g==h)&&Yf(A),!y(w))for(L=A.Da.g.parse(w),w=0;w<L.length;w++){let je=L[w];if(A.T=je[0],je=je[1],A.G==2)if(je[0]=="c"){A.K=je[1],A.ia=je[2];const Xt=je[3];Xt!=null&&(A.la=Xt,A.j.info("VER="+A.la));const Yt=je[4];Yt!=null&&(A.Aa=Yt,A.j.info("SVER="+A.Aa));const za=je[5];za!=null&&typeof za=="number"&&0<za&&(N=1.5*za,A.L=N,A.j.info("backChannelRequestTimeoutMs_="+N)),N=A;const fr=h.g;if(fr){const Jf=fr.g?fr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jf){var F=N.h;F.g||Jf.indexOf("spdy")==-1&&Jf.indexOf("quic")==-1&&Jf.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Og(F,F.h),F.h=null))}if(N.D){const Dg=fr.g?fr.g.getResponseHeader("X-HTTP-Session-Id"):null;Dg&&(N.ya=Dg,Ze(N.I,N.D,Dg))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-h.F,A.j.info("Handshake RTT: "+A.R+"ms")),N=A;var ne=h;if(N.qa=zx(N,N.J?N.ia:null,N.W),ne.K){vx(N.h,ne);var He=ne,Vt=N.L;Vt&&(He.I=Vt),He.B&&(Ag(He),Bf(He)),N.g=ne}else Lx(N);0<A.i.length&&Xf(A)}else je[0]!="stop"&&je[0]!="close"||Vo(A,7);else A.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?Vo(A,7):kg(A):je[0]!="noop"&&A.l&&A.l.ta(je),A.v=0)}}Nl(4)}catch{}}var V$=class{constructor(h,w){this.g=h,this.map=w}};function mx(h){this.l=h||10,s.PerformanceNavigationTiming?(h=s.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function gx(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function yx(h){return h.h?1:h.g?h.g.size:0}function Ig(h,w){return h.h?h.h==w:h.g?h.g.has(w):!1}function Og(h,w){h.g?h.g.add(w):h.h=w}function vx(h,w){h.h&&h.h==w?h.h=null:h.g&&h.g.has(w)&&h.g.delete(w)}mx.prototype.cancel=function(){if(this.i=_x(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function _x(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let w=h.i;for(const A of h.g.values())w=w.concat(A.D);return w}return g(h.i)}function F$(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(l(h)){for(var w=[],A=h.length,N=0;N<A;N++)w.push(h[N]);return w}w=[],A=0;for(N in h)w[A++]=h[N];return w}function U$(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(l(h)||typeof h=="string"){var w=[];h=h.length;for(var A=0;A<h;A++)w.push(A);return w}w=[],A=0;for(const N in h)w[A++]=N;return w}}}function wx(h,w){if(h.forEach&&typeof h.forEach=="function")h.forEach(w,void 0);else if(l(h)||typeof h=="string")Array.prototype.forEach.call(h,w,void 0);else for(var A=U$(h),N=F$(h),L=N.length,F=0;F<L;F++)w.call(void 0,N[F],A&&A[F],h)}var bx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function B$(h,w){if(h){h=h.split("&");for(var A=0;A<h.length;A++){var N=h[A].indexOf("="),L=null;if(0<=N){var F=h[A].substring(0,N);L=h[A].substring(N+1)}else F=h[A];w(F,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Lo(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Lo){this.h=h.h,zf(this,h.j),this.o=h.o,this.g=h.g,Wf(this,h.s),this.l=h.l;var w=h.i,A=new Vl;A.i=w.i,w.g&&(A.g=new Map(w.g),A.h=w.h),xx(this,A),this.m=h.m}else h&&(w=String(h).match(bx))?(this.h=!1,zf(this,w[1]||"",!0),this.o=$l(w[2]||""),this.g=$l(w[3]||"",!0),Wf(this,w[4]),this.l=$l(w[5]||"",!0),xx(this,w[6]||"",!0),this.m=$l(w[7]||"")):(this.h=!1,this.i=new Vl(null,this.h))}Lo.prototype.toString=function(){var h=[],w=this.j;w&&h.push(Ll(w,Ex,!0),":");var A=this.g;return(A||w=="file")&&(h.push("//"),(w=this.o)&&h.push(Ll(w,Ex,!0),"@"),h.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&h.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&h.push("/"),h.push(Ll(A,A.charAt(0)=="/"?q$:W$,!0))),(A=this.i.toString())&&h.push("?",A),(A=this.m)&&h.push("#",Ll(A,K$)),h.join("")};function Xr(h){return new Lo(h)}function zf(h,w,A){h.j=A?$l(w,!0):w,h.j&&(h.j=h.j.replace(/:$/,""))}function Wf(h,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);h.s=w}else h.s=null}function xx(h,w,A){w instanceof Vl?(h.i=w,G$(h.i,h.h)):(A||(w=Ll(w,H$)),h.i=new Vl(w,h.h))}function Ze(h,w,A){h.i.set(w,A)}function qf(h){return Ze(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function $l(h,w){return h?w?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ll(h,w,A){return typeof h=="string"?(h=encodeURI(h).replace(w,z$),A&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function z$(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ex=/[#\/\?@]/g,W$=/[#\?:]/g,q$=/[#\?]/g,H$=/[#\?@]/g,K$=/#/g;function Vl(h,w){this.h=this.g=null,this.i=h||null,this.j=!!w}function Di(h){h.g||(h.g=new Map,h.h=0,h.i&&B$(h.i,function(w,A){h.add(decodeURIComponent(w.replace(/\+/g," ")),A)}))}t=Vl.prototype,t.add=function(h,w){Di(this),this.i=null,h=Ua(this,h);var A=this.g.get(h);return A||this.g.set(h,A=[]),A.push(w),this.h+=1,this};function Sx(h,w){Di(h),w=Ua(h,w),h.g.has(w)&&(h.i=null,h.h-=h.g.get(w).length,h.g.delete(w))}function Tx(h,w){return Di(h),w=Ua(h,w),h.g.has(w)}t.forEach=function(h,w){Di(this),this.g.forEach(function(A,N){A.forEach(function(L){h.call(w,L,N,this)},this)},this)},t.na=function(){Di(this);const h=Array.from(this.g.values()),w=Array.from(this.g.keys()),A=[];for(let N=0;N<w.length;N++){const L=h[N];for(let F=0;F<L.length;F++)A.push(w[N])}return A},t.V=function(h){Di(this);let w=[];if(typeof h=="string")Tx(this,h)&&(w=w.concat(this.g.get(Ua(this,h))));else{h=Array.from(this.g.values());for(let A=0;A<h.length;A++)w=w.concat(h[A])}return w},t.set=function(h,w){return Di(this),this.i=null,h=Ua(this,h),Tx(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[w]),this.h+=1,this},t.get=function(h,w){return h?(h=this.V(h),0<h.length?String(h[0]):w):w};function Ax(h,w,A){Sx(h,w),0<A.length&&(h.i=null,h.g.set(Ua(h,w),g(A)),h.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],w=Array.from(this.g.keys());for(var A=0;A<w.length;A++){var N=w[A];const F=encodeURIComponent(String(N)),ne=this.V(N);for(N=0;N<ne.length;N++){var L=F;ne[N]!==""&&(L+="="+encodeURIComponent(String(ne[N]))),h.push(L)}}return this.i=h.join("&")};function Ua(h,w){return w=String(w),h.j&&(w=w.toLowerCase()),w}function G$(h,w){w&&!h.j&&(Di(h),h.i=null,h.g.forEach(function(A,N){var L=N.toLowerCase();N!=L&&(Sx(this,N),Ax(this,L,A))},h)),h.j=w}function X$(h,w){const A=new jl;if(s.Image){const N=new Image;N.onload=p(ji,A,"TestLoadImage: loaded",!0,w,N),N.onerror=p(ji,A,"TestLoadImage: error",!1,w,N),N.onabort=p(ji,A,"TestLoadImage: abort",!1,w,N),N.ontimeout=p(ji,A,"TestLoadImage: timeout",!1,w,N),s.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=h}else w(!1)}function Y$(h,w){const A=new jl,N=new AbortController,L=setTimeout(()=>{N.abort(),ji(A,"TestPingServer: timeout",!1,w)},1e4);fetch(h,{signal:N.signal}).then(F=>{clearTimeout(L),F.ok?ji(A,"TestPingServer: ok",!0,w):ji(A,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(L),ji(A,"TestPingServer: error",!1,w)})}function ji(h,w,A,N,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),N(A)}catch{}}function Q$(){this.g=new N$}function J$(h,w,A){const N=A||"";try{wx(h,function(L,F){let ne=L;u(L)&&(ne=_g(L)),w.push(N+F+"="+encodeURIComponent(ne))})}catch(L){throw w.push(N+"type="+encodeURIComponent("_badmap")),L}}function Fl(h){this.l=h.Ub||null,this.j=h.eb||!1}m(Fl,wg),Fl.prototype.g=function(){return new Hf(this.l,this.j)},Fl.prototype.i=function(h){return function(){return h}}({});function Hf(h,w){Gt.call(this),this.D=h,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(Hf,Gt),t=Hf.prototype,t.open=function(h,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=w,this.readyState=1,Bl(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(w.body=h),(this.D||s).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ul(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Bl(this)),this.g&&(this.readyState=3,Bl(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Px(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Px(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var w=h.value?h.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!h.done}))&&(this.response=this.responseText+=w)}h.done?Ul(this):Bl(this),this.readyState==3&&Px(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Ul(this))},t.Qa=function(h){this.g&&(this.response=h,Ul(this))},t.ga=function(){this.g&&Ul(this)};function Ul(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Bl(h)}t.setRequestHeader=function(h,w){this.u.append(h,w)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],w=this.h.entries();for(var A=w.next();!A.done;)A=A.value,h.push(A[0]+": "+A[1]),A=w.next();return h.join(`\r
`)};function Bl(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Hf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Ix(h){let w="";return O(h,function(A,N){w+=N,w+=":",w+=A,w+=`\r
`}),w}function Cg(h,w,A){e:{for(N in A){var N=!1;break e}N=!0}N||(A=Ix(A),typeof h=="string"?A!=null&&encodeURIComponent(String(A)):Ze(h,w,A))}function ht(h){Gt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(ht,Gt);var Z$=/^https?$/i,eL=["POST","PUT"];t=ht.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,w,A,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);w=w?w.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Eg.g(),this.v=this.o?rx(this.o):rx(Eg),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(w,String(h),!0),this.B=!1}catch(F){Ox(this,F);return}if(h=A||"",A=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var L in N)A.set(L,N[L]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const F of N.keys())A.set(F,N.get(F));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(A.keys()).find(F=>F.toLowerCase()=="content-type"),L=s.FormData&&h instanceof s.FormData,!(0<=Array.prototype.indexOf.call(eL,w,void 0))||N||L||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,ne]of A)this.g.setRequestHeader(F,ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Rx(this),this.u=!0,this.g.send(h),this.u=!1}catch(F){Ox(this,F)}};function Ox(h,w){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=w,h.m=5,Cx(h),Kf(h)}function Cx(h){h.A||(h.A=!0,fn(h,"complete"),fn(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,fn(this,"complete"),fn(this,"abort"),Kf(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Kf(this,!0)),ht.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?kx(this):this.bb())},t.bb=function(){kx(this)};function kx(h){if(h.h&&typeof a<"u"&&(!h.v[1]||Yr(h)!=4||h.Z()!=2)){if(h.u&&Yr(h)==4)Z1(h.Ea,0,h);else if(fn(h,"readystatechange"),Yr(h)==4){h.h=!1;try{const ne=h.Z();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var A;if(!(A=w)){var N;if(N=ne===0){var L=String(h.D).match(bx)[1]||null;!L&&s.self&&s.self.location&&(L=s.self.location.protocol.slice(0,-1)),N=!Z$.test(L?L.toLowerCase():"")}A=N}if(A)fn(h,"complete"),fn(h,"success");else{h.m=6;try{var F=2<Yr(h)?h.g.statusText:""}catch{F=""}h.l=F+" ["+h.Z()+"]",Cx(h)}}finally{Kf(h)}}}}function Kf(h,w){if(h.g){Rx(h);const A=h.g,N=h.v[0]?()=>{}:null;h.g=null,h.v=null,w||fn(h,"ready");try{A.onreadystatechange=N}catch{}}}function Rx(h){h.I&&(s.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function Yr(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<Yr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var w=this.g.responseText;return h&&w.indexOf(h)==0&&(w=w.substring(h.length)),R$(w)}};function Nx(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function tL(h){const w={};h=(h.g&&2<=Yr(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<h.length;N++){if(y(h[N]))continue;var A=R(h[N]);const L=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const F=w[L]||[];w[L]=F,F.push(A)}S(w,function(N){return N.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zl(h,w,A){return A&&A.internalChannelParams&&A.internalChannelParams[h]||w}function Dx(h){this.Aa=0,this.i=[],this.j=new jl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zl("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zl("baseRetryDelayMs",5e3,h),this.cb=zl("retryDelaySeedMs",1e4,h),this.Wa=zl("forwardChannelMaxRetries",2,h),this.wa=zl("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new mx(h&&h.concurrentRequestLimit),this.Da=new Q$,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Dx.prototype,t.la=8,t.G=1,t.connect=function(h,w,A,N){hn(0),this.W=h,this.H=w||{},A&&N!==void 0&&(this.H.OSID=A,this.H.OAID=N),this.F=this.X,this.I=zx(this,null,this.W),Xf(this)};function kg(h){if(jx(h),h.G==3){var w=h.U++,A=Xr(h.I);if(Ze(A,"SID",h.K),Ze(A,"RID",w),Ze(A,"TYPE","terminate"),Wl(h,A),w=new Ni(h,h.j,w),w.L=2,w.v=qf(Xr(A)),A=!1,s.navigator&&s.navigator.sendBeacon)try{A=s.navigator.sendBeacon(w.v.toString(),"")}catch{}!A&&s.Image&&(new Image().src=w.v,A=!0),A||(w.g=Wx(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Bf(w)}Bx(h)}function Gf(h){h.g&&(Ng(h),h.g.cancel(),h.g=null)}function jx(h){Gf(h),h.u&&(s.clearTimeout(h.u),h.u=null),Yf(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&s.clearTimeout(h.s),h.s=null)}function Xf(h){if(!gx(h.h)&&!h.s){h.s=!0;var w=h.Ga;W||G(),$||(W(),$=!0),z.add(w,h),h.B=0}}function nL(h,w){return yx(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=w.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Dl(d(h.Ga,h,w),Ux(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const L=new Ni(this,this.j,h);let F=this.o;if(this.S&&(F?(F=E(F),C(F,this.S)):F=this.S),this.m!==null||this.O||(L.H=F,F=null),this.P)e:{for(var w=0,A=0;A<this.i.length;A++){t:{var N=this.i[A];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(w+=N,4096<w){w=A;break e}if(w===4096||A===this.i.length-1){w=A+1;break e}}w=1e3}else w=1e3;w=$x(this,L,w),A=Xr(this.I),Ze(A,"RID",h),Ze(A,"CVER",22),this.D&&Ze(A,"X-HTTP-Session-Id",this.D),Wl(this,A),F&&(this.O?w="headers="+encodeURIComponent(String(Ix(F)))+"&"+w:this.m&&Cg(A,this.m,F)),Og(this.h,L),this.Ua&&Ze(A,"TYPE","init"),this.P?(Ze(A,"$req",w),Ze(A,"SID","null"),L.T=!0,Tg(L,A,null)):Tg(L,A,w),this.G=2}}else this.G==3&&(h?Mx(this,h):this.i.length==0||gx(this.h)||Mx(this))};function Mx(h,w){var A;w?A=w.l:A=h.U++;const N=Xr(h.I);Ze(N,"SID",h.K),Ze(N,"RID",A),Ze(N,"AID",h.T),Wl(h,N),h.m&&h.o&&Cg(N,h.m,h.o),A=new Ni(h,h.j,A,h.B+1),h.m===null&&(A.H=h.o),w&&(h.i=w.D.concat(h.i)),w=$x(h,A,1e3),A.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Og(h.h,A),Tg(A,N,w)}function Wl(h,w){h.H&&O(h.H,function(A,N){Ze(w,N,A)}),h.l&&wx({},function(A,N){Ze(w,N,A)})}function $x(h,w,A){A=Math.min(h.i.length,A);var N=h.l?d(h.l.Na,h.l,h):null;e:{var L=h.i;let F=-1;for(;;){const ne=["count="+A];F==-1?0<A?(F=L[0].g,ne.push("ofs="+F)):F=0:ne.push("ofs="+F);let He=!0;for(let Vt=0;Vt<A;Vt++){let je=L[Vt].g;const Xt=L[Vt].map;if(je-=F,0>je)F=Math.max(0,L[Vt].g-100),He=!1;else try{J$(Xt,ne,"req"+je+"_")}catch{N&&N(Xt)}}if(He){N=ne.join("&");break e}}}return h=h.i.splice(0,A),w.D=h,N}function Lx(h){if(!h.g&&!h.u){h.Y=1;var w=h.Fa;W||G(),$||(W(),$=!0),z.add(w,h),h.v=0}}function Rg(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Dl(d(h.Fa,h),Ux(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,Vx(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Dl(d(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,hn(10),Gf(this),Vx(this))};function Ng(h){h.A!=null&&(s.clearTimeout(h.A),h.A=null)}function Vx(h){h.g=new Ni(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var w=Xr(h.qa);Ze(w,"RID","rpc"),Ze(w,"SID",h.K),Ze(w,"AID",h.T),Ze(w,"CI",h.F?"0":"1"),!h.F&&h.ja&&Ze(w,"TO",h.ja),Ze(w,"TYPE","xmlhttp"),Wl(h,w),h.m&&h.o&&Cg(w,h.m,h.o),h.L&&(h.g.I=h.L);var A=h.g;h=h.ia,A.L=1,A.v=qf(Xr(w)),A.m=null,A.P=!0,hx(A,h)}t.Za=function(){this.C!=null&&(this.C=null,Gf(this),Rg(this),hn(19))};function Yf(h){h.C!=null&&(s.clearTimeout(h.C),h.C=null)}function Fx(h,w){var A=null;if(h.g==w){Yf(h),Ng(h),h.g=null;var N=2}else if(Ig(h.h,w))A=w.D,vx(h.h,w),N=1;else return;if(h.G!=0){if(w.o)if(N==1){A=w.m?w.m.length:0,w=Date.now()-w.F;var L=h.B;N=Vf(),fn(N,new lx(N,A)),Xf(h)}else Lx(h);else if(L=w.s,L==3||L==0&&0<w.X||!(N==1&&nL(h,w)||N==2&&Rg(h)))switch(A&&0<A.length&&(w=h.h,w.i=w.i.concat(A)),L){case 1:Vo(h,5);break;case 4:Vo(h,10);break;case 3:Vo(h,6);break;default:Vo(h,2)}}}function Ux(h,w){let A=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(A*=2),A*w}function Vo(h,w){if(h.j.info("Error code "+w),w==2){var A=d(h.fb,h),N=h.Xa;const L=!N;N=new Lo(N||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||zf(N,"https"),qf(N),L?X$(N.toString(),A):Y$(N.toString(),A)}else hn(2);h.G=0,h.l&&h.l.sa(w),Bx(h),jx(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),hn(2)):(this.j.info("Failed to ping google.com"),hn(1))};function Bx(h){if(h.G=0,h.ka=[],h.l){const w=_x(h.h);(w.length!=0||h.i.length!=0)&&(_(h.ka,w),_(h.ka,h.i),h.h.i.length=0,g(h.i),h.i.length=0),h.l.ra()}}function zx(h,w,A){var N=A instanceof Lo?Xr(A):new Lo(A);if(N.g!="")w&&(N.g=w+"."+N.g),Wf(N,N.s);else{var L=s.location;N=L.protocol,w=w?w+"."+L.hostname:L.hostname,L=+L.port;var F=new Lo(null);N&&zf(F,N),w&&(F.g=w),L&&Wf(F,L),A&&(F.l=A),N=F}return A=h.D,w=h.ya,A&&w&&Ze(N,A,w),Ze(N,"VER",h.la),Wl(h,N),N}function Wx(h,w,A){if(w&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=h.Ca&&!h.pa?new ht(new Fl({eb:A})):new ht(h.pa),w.Ha(h.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function qx(){}t=qx.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Qf(){}Qf.prototype.g=function(h,w){return new Nn(h,w)};function Nn(h,w){Gt.call(this),this.g=new Dx(w),this.l=h,this.h=w&&w.messageUrlParams||null,h=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(h?h["X-WebChannel-Content-Type"]=w.messageContentType:h={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(h?h["X-WebChannel-Client-Profile"]=w.va:h={"X-WebChannel-Client-Profile":w.va}),this.g.S=h,(h=w&&w.Sb)&&!y(h)&&(this.g.m=h),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!y(w)&&(this.g.D=w,h=this.h,h!==null&&w in h&&(h=this.h,w in h&&delete h[w])),this.j=new Ba(this)}m(Nn,Gt),Nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Nn.prototype.close=function(){kg(this.g)},Nn.prototype.o=function(h){var w=this.g;if(typeof h=="string"){var A={};A.__data__=h,h=A}else this.u&&(A={},A.__data__=_g(h),h=A);w.i.push(new V$(w.Ya++,h)),w.G==3&&Xf(w)},Nn.prototype.N=function(){this.g.l=null,delete this.j,kg(this.g),delete this.g,Nn.aa.N.call(this)};function Hx(h){bg.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var w=h.__sm__;if(w){e:{for(const A in w){h=A;break e}h=void 0}(this.i=h)&&(h=this.i,w=w!==null&&h in w?w[h]:void 0),this.data=w}else this.data=h}m(Hx,bg);function Kx(){xg.call(this),this.status=1}m(Kx,xg);function Ba(h){this.g=h}m(Ba,qx),Ba.prototype.ua=function(){fn(this.g,"a")},Ba.prototype.ta=function(h){fn(this.g,new Hx(h))},Ba.prototype.sa=function(h){fn(this.g,new Kx)},Ba.prototype.ra=function(){fn(this.g,"b")},Qf.prototype.createWebChannel=Qf.prototype.g,Nn.prototype.send=Nn.prototype.o,Nn.prototype.open=Nn.prototype.m,Nn.prototype.close=Nn.prototype.close,eN=function(){return new Qf},ZR=function(){return Vf()},JR=Mo,t0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ff.NO_ERROR=0,Ff.TIMEOUT=8,Ff.HTTP_ERROR=6,td=Ff,ux.COMPLETE="complete",QR=ux,ix.EventType=Rl,Rl.OPEN="a",Rl.CLOSE="b",Rl.ERROR="c",Rl.MESSAGE="d",Gt.prototype.listen=Gt.prototype.K,vu=ix,YR=Fl,ht.prototype.listenOnce=ht.prototype.L,ht.prototype.getLastError=ht.prototype.Ka,ht.prototype.getLastErrorCode=ht.prototype.Ba,ht.prototype.getStatus=ht.prototype.Z,ht.prototype.getResponseJson=ht.prototype.Oa,ht.prototype.getResponseText=ht.prototype.oa,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Ha,XR=ht}).apply(typeof vh<"u"?vh:typeof self<"u"?self:typeof window<"u"?window:{});const US="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pl="10.13.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va=new Uw("@firebase/firestore");function Zl(){return va.logLevel}function ce(t,...e){if(va.logLevel<=Ce.DEBUG){const n=e.map(eb);va.debug(`Firestore (${pl}): ${t}`,...n)}}function bi(t,...e){if(va.logLevel<=Ce.ERROR){const n=e.map(eb);va.error(`Firestore (${pl}): ${t}`,...n)}}function Ms(t,...e){if(va.logLevel<=Ce.WARN){const n=e.map(eb);va.warn(`Firestore (${pl}): ${t}`,...n)}}function eb(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(t="Unexpected state"){const e=`FIRESTORE (${pl}) INTERNAL ASSERTION FAILED: `+t;throw bi(e),new Error(e)}function Ge(t,e){t||_e()}function xe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends Hr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class v6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(tn.UNAUTHENTICATED))}shutdown(){}}class _6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class w6{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new fi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new fi,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new fi)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ge(typeof r.accessToken=="string"),new tN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string"),new tn(e)}}class b6{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class x6{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new b6(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class E6{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class S6{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.R;return this.R=o.token,ce("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ge(typeof n.token=="string"),this.R=n.token,new E6(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=T6(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Me(t,e){return t<e?-1:t>e?1:0}function $s(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ae(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ae(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ae(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Je.fromMillis(Date.now())}static fromDate(e){return Je.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Je(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.timestamp=e}static fromTimestamp(e){return new we(e)}static min(){return new we(new Je(0,0))}static max(){return new we(new Je(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,n,r){n===void 0?n=0:n>e.length&&_e(),r===void 0?r=e.length-n:r>e.length-n&&_e(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return pc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof pc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),a=n.get(i);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class rt extends pc{construct(e,n,r){return new rt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ae(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new rt(n)}static emptyPath(){return new rt([])}}const A6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zt extends pc{construct(e,n,r){return new zt(e,n,r)}static isValidIdentifier(e){return A6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new zt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ae(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new ae(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ae(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else s==="`"?(a=!a,i++):s!=="."||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new ae(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zt(n)}static emptyPath(){return new zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.path=e}static fromPath(e){return new fe(rt.fromString(e))}static fromName(e){return new fe(rt.fromString(e).popFirst(5))}static empty(){return new fe(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new rt(e.slice()))}}function P6(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=we.fromTimestamp(r===1e9?new Je(n+1,0):new Je(n,r));return new wo(i,fe.empty(),e)}function I6(t){return new wo(t.readTime,t.key,-1)}class wo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new wo(we.min(),fe.empty(),-1)}static max(){return new wo(we.max(),fe.empty(),-1)}}function O6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=fe.comparator(t.documentKey,e.documentKey),n!==0?n:Me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class k6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wf(t){if(t.code!==H.FAILED_PRECONDITION||t.message!==C6)throw t;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Y((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Y?n:Y.resolve(n)}catch(n){return Y.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.reject(n)}static resolve(e){return new Y((n,r)=>{n(e)})}static reject(e){return new Y((n,r)=>{r(e)})}static waitFor(e){return new Y((n,r)=>{let i=0,o=0,a=!1;e.forEach(s=>{++i,s.next(()=>{++o,a&&o===i&&n()},l=>r(l))}),a=!0,o===i&&n()})}static or(e){let n=Y.resolve(!1);for(const r of e)n=n.next(i=>i?Y.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new Y((r,i)=>{const o=e.length,a=new Array(o);let s=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{a[u]=c,++s,s===o&&r(a)},c=>i(c))}})}static doWhile(e,n){return new Y((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function R6(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function bf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}tb.oe=-1;function cm(t){return t==null}function Ud(t){return t===0&&1/t==-1/0}function N6(t){return typeof t=="number"&&Number.isInteger(t)&&!Ud(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ka(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function rN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n){this.comparator=e,this.root=n||Bt.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Bt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _h(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _h(this.root,e,this.comparator,!1)}getReverseIterator(){return new _h(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _h(this.root,e,this.comparator,!0)}}class _h{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Bt.RED,this.left=i??Bt.EMPTY,this.right=o??Bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Bt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Bt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _e();const e=this.left.check();if(e!==this.right.check())throw _e();return e+(this.isRed()?0:1)}}Bt.EMPTY=null,Bt.RED=!0,Bt.BLACK=!1;Bt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e()}get value(){throw _e()}get color(){throw _e()}get left(){throw _e()}get right(){throw _e()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Bt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new zS(this.data.getIterator())}getIteratorFrom(e){return new zS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new qt(this.comparator);return n.data=e,n}}class zS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.fields=e,e.sort(zt.comparator)}static empty(){return new Vn([])}unionWith(e){let n=new qt(zt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $s(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new iN("Invalid base64 string: "+o):o}}(e);return new Kt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o}(e);return new Kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const D6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bo(t){if(Ge(!!t),typeof t=="string"){let e=0;const n=D6.exec(t);if(Ge(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vt(t.seconds),nanos:vt(t.nanos)}}function vt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function _a(t){return typeof t=="string"?Kt.fromBase64String(t):Kt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function rb(t){const e=t.mapValue.fields.__previous_value__;return nb(e)?rb(e):e}function mc(t){const e=bo(t.mapValue.fields.__local_write_time__.timestampValue);return new Je(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(e,n,r,i,o,a,s,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u}}class gc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new gc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof gc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function wa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?nb(t)?4:$6(t)?9007199254740991:M6(t)?10:11:_e()}function Wr(t,e){if(t===e)return!0;const n=wa(t);if(n!==wa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return mc(t).isEqual(mc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=bo(i.timestampValue),s=bo(o.timestampValue);return a.seconds===s.seconds&&a.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return _a(i.bytesValue).isEqual(_a(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return vt(i.geoPointValue.latitude)===vt(o.geoPointValue.latitude)&&vt(i.geoPointValue.longitude)===vt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return vt(i.integerValue)===vt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=vt(i.doubleValue),s=vt(o.doubleValue);return a===s?Ud(a)===Ud(s):isNaN(a)&&isNaN(s)}return!1}(t,e);case 9:return $s(t.arrayValue.values||[],e.arrayValue.values||[],Wr);case 10:case 11:return function(i,o){const a=i.mapValue.fields||{},s=o.mapValue.fields||{};if(BS(a)!==BS(s))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(s[l]===void 0||!Wr(a[l],s[l])))return!1;return!0}(t,e);default:return _e()}}function yc(t,e){return(t.values||[]).find(n=>Wr(n,e))!==void 0}function Ls(t,e){if(t===e)return 0;const n=wa(t),r=wa(e);if(n!==r)return Me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(t.booleanValue,e.booleanValue);case 2:return function(o,a){const s=vt(o.integerValue||o.doubleValue),l=vt(a.integerValue||a.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return WS(t.timestampValue,e.timestampValue);case 4:return WS(mc(t),mc(e));case 5:return Me(t.stringValue,e.stringValue);case 6:return function(o,a){const s=_a(o),l=_a(a);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const s=o.split("/"),l=a.split("/");for(let u=0;u<s.length&&u<l.length;u++){const c=Me(s[u],l[u]);if(c!==0)return c}return Me(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const s=Me(vt(o.latitude),vt(a.latitude));return s!==0?s:Me(vt(o.longitude),vt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return qS(t.arrayValue,e.arrayValue);case 10:return function(o,a){var s,l,u,c;const f=o.fields||{},d=a.fields||{},p=(s=f.value)===null||s===void 0?void 0:s.arrayValue,m=(l=d.value)===null||l===void 0?void 0:l.arrayValue,g=Me(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0);return g!==0?g:qS(p,m)}(t.mapValue,e.mapValue);case 11:return function(o,a){if(o===wh.mapValue&&a===wh.mapValue)return 0;if(o===wh.mapValue)return 1;if(a===wh.mapValue)return-1;const s=o.fields||{},l=Object.keys(s),u=a.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const d=Me(l[f],c[f]);if(d!==0)return d;const p=Ls(s[l[f]],u[c[f]]);if(p!==0)return p}return Me(l.length,c.length)}(t.mapValue,e.mapValue);default:throw _e()}}function WS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Me(t,e);const n=bo(t),r=bo(e),i=Me(n.seconds,r.seconds);return i!==0?i:Me(n.nanos,r.nanos)}function qS(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Ls(n[i],r[i]);if(o)return o}return Me(n.length,r.length)}function Vs(t){return n0(t)}function n0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=bo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return _a(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return fe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=n0(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${n0(n.fields[a])}`;return i+"}"}(t.mapValue):_e()}function HS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function r0(t){return!!t&&"integerValue"in t}function ib(t){return!!t&&"arrayValue"in t}function KS(t){return!!t&&"nullValue"in t}function GS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function nd(t){return!!t&&"mapValue"in t}function M6(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Du(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ka(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Du(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Du(t.arrayValue.values[n]);return e}return Object.assign({},t)}function $6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.value=e}static empty(){return new Sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!nd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Du(n)}setAll(e){let n=zt.emptyPath(),r={},i=[];e.forEach((a,s)=>{if(!n.isImmediateParentOf(s)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=s.popLast()}a?r[s.lastSegment()]=Du(a):i.push(s.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());nd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];nd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ka(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Sn(Du(this.value))}}function oN(t){const e=[];return ka(t.fields,(n,r)=>{const i=new zt([n]);if(nd(r)){const o=oN(r.mapValue).fields;if(o.length===0)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)}),new Vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e,n,r,i,o,a,s){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=s}static newInvalidDocument(e){return new on(e,0,we.min(),we.min(),we.min(),Sn.empty(),0)}static newFoundDocument(e,n,r,i){return new on(e,1,n,we.min(),r,i,0)}static newNoDocument(e,n){return new on(e,2,n,we.min(),we.min(),Sn.empty(),0)}static newUnknownDocument(e,n){return new on(e,3,n,we.min(),we.min(),Sn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof on&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,n){this.position=e,this.inclusive=n}}function XS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(o.field.isKeyField()?r=fe.comparator(fe.fromName(a.referenceValue),n.key):r=Ls(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function YS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Wr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,n="asc"){this.field=e,this.dir=n}}function L6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{}class St extends aN{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new F6(e,n,r):n==="array-contains"?new z6(e,r):n==="in"?new W6(e,r):n==="not-in"?new q6(e,r):n==="array-contains-any"?new H6(e,r):new St(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new U6(e,r):new B6(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ls(n,this.value)):n!==null&&wa(this.value)===wa(n)&&this.matchesComparison(Ls(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Sr extends aN{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Sr(e,n)}matches(e){return sN(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function sN(t){return t.op==="and"}function lN(t){return V6(t)&&sN(t)}function V6(t){for(const e of t.filters)if(e instanceof Sr)return!1;return!0}function i0(t){if(t instanceof St)return t.field.canonicalString()+t.op.toString()+Vs(t.value);if(lN(t))return t.filters.map(e=>i0(e)).join(",");{const e=t.filters.map(n=>i0(n)).join(",");return`${t.op}(${e})`}}function uN(t,e){return t instanceof St?function(r,i){return i instanceof St&&r.op===i.op&&r.field.isEqual(i.field)&&Wr(r.value,i.value)}(t,e):t instanceof Sr?function(r,i){return i instanceof Sr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,a,s)=>o&&uN(a,i.filters[s]),!0):!1}(t,e):void _e()}function cN(t){return t instanceof St?function(n){return`${n.field.canonicalString()} ${n.op} ${Vs(n.value)}`}(t):t instanceof Sr?function(n){return n.op.toString()+" {"+n.getFilters().map(cN).join(" ,")+"}"}(t):"Filter"}class F6 extends St{constructor(e,n,r){super(e,n,r),this.key=fe.fromName(r.referenceValue)}matches(e){const n=fe.comparator(e.key,this.key);return this.matchesComparison(n)}}class U6 extends St{constructor(e,n){super(e,"in",n),this.keys=fN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class B6 extends St{constructor(e,n){super(e,"not-in",n),this.keys=fN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function fN(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>fe.fromName(r.referenceValue))}class z6 extends St{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ib(n)&&yc(n.arrayValue,this.value)}}class W6 extends St{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&yc(this.value.arrayValue,n)}}class q6 extends St{constructor(e,n){super(e,"not-in",n)}matches(e){if(yc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!yc(this.value.arrayValue,n)}}class H6 extends St{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ib(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>yc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(e,n=null,r=[],i=[],o=null,a=null,s=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=s,this.ue=null}}function QS(t,e=null,n=[],r=[],i=null,o=null,a=null){return new K6(t,e,n,r,i,o,a)}function ob(t){const e=xe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>i0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),cm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Vs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Vs(r)).join(",")),e.ue=n}return e.ue}function ab(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!L6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!uN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!YS(t.startAt,e.startAt)&&YS(t.endAt,e.endAt)}function o0(t){return fe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e,n=null,r=[],i=[],o=null,a="F",s=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=s,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function G6(t,e,n,r,i,o,a,s){return new ml(t,e,n,r,i,o,a,s)}function sb(t){return new ml(t)}function JS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function hN(t){return t.collectionGroup!==null}function ju(t){const e=xe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let s=new qt(zt.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(s=s.add(u.field))})}),s})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new vc(o,r))}),n.has(zt.keyField().canonicalString())||e.ce.push(new vc(zt.keyField(),r))}return e.ce}function Fr(t){const e=xe(t);return e.le||(e.le=X6(e,ju(t))),e.le}function X6(t,e){if(t.limitType==="F")return QS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new vc(i.field,o)});const n=t.endAt?new Bd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Bd(t.startAt.position,t.startAt.inclusive):null;return QS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function a0(t,e){const n=t.filters.concat([e]);return new ml(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function s0(t,e,n){return new ml(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function fm(t,e){return ab(Fr(t),Fr(e))&&t.limitType===e.limitType}function dN(t){return`${ob(Fr(t))}|lt:${t.limitType}`}function Xa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>cN(i)).join(", ")}]`),cm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Vs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Vs(i)).join(",")),`Target(${r})`}(Fr(t))}; limitType=${t.limitType})`}function hm(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):fe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of ju(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,s,l){const u=XS(a,s,l);return a.inclusive?u<=0:u<0}(r.startAt,ju(r),i)||r.endAt&&!function(a,s,l){const u=XS(a,s,l);return a.inclusive?u>=0:u>0}(r.endAt,ju(r),i))}(t,e)}function Y6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function pN(t){return(e,n)=>{let r=!1;for(const i of ju(t)){const o=Q6(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Q6(t,e,n){const r=t.field.isKeyField()?fe.comparator(e.key,n.key):function(o,a,s){const l=a.data.field(o),u=s.data.field(o);return l!==null&&u!==null?Ls(l,u):_e()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return _e()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ka(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return rN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J6=new ft(fe.comparator);function xi(){return J6}const mN=new ft(fe.comparator);function _u(...t){let e=mN;for(const n of t)e=e.insert(n.key,n);return e}function gN(t){let e=mN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Zo(){return Mu()}function yN(){return Mu()}function Mu(){return new gl(t=>t.toString(),(t,e)=>t.isEqual(e))}const Z6=new ft(fe.comparator),e9=new qt(fe.comparator);function Oe(...t){let e=e9;for(const n of t)e=e.add(n);return e}const t9=new qt(Me);function n9(){return t9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ud(e)?"-0":e}}function vN(t){return{integerValue:""+t}}function r9(t,e){return N6(e)?vN(e):lb(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(){this._=void 0}}function i9(t,e,n){return t instanceof zd?function(i,o){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&nb(o)&&(o=rb(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(n,e):t instanceof _c?wN(t,e):t instanceof wc?bN(t,e):function(i,o){const a=_N(i,o),s=ZS(a)+ZS(i.Pe);return r0(a)&&r0(i.Pe)?vN(s):lb(i.serializer,s)}(t,e)}function o9(t,e,n){return t instanceof _c?wN(t,e):t instanceof wc?bN(t,e):n}function _N(t,e){return t instanceof Wd?function(r){return r0(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class zd extends dm{}class _c extends dm{constructor(e){super(),this.elements=e}}function wN(t,e){const n=xN(e);for(const r of t.elements)n.some(i=>Wr(i,r))||n.push(r);return{arrayValue:{values:n}}}class wc extends dm{constructor(e){super(),this.elements=e}}function bN(t,e){let n=xN(e);for(const r of t.elements)n=n.filter(i=>!Wr(i,r));return{arrayValue:{values:n}}}class Wd extends dm{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function ZS(t){return vt(t.integerValue||t.doubleValue)}function xN(t){return ib(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function a9(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof _c&&i instanceof _c||r instanceof wc&&i instanceof wc?$s(r.elements,i.elements,Wr):r instanceof Wd&&i instanceof Wd?Wr(r.Pe,i.Pe):r instanceof zd&&i instanceof zd}(t.transform,e.transform)}class s9{constructor(e,n){this.version=e,this.transformResults=n}}class ir{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ir}static exists(e){return new ir(void 0,e)}static updateTime(e){return new ir(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class pm{}function EN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ub(t.key,ir.none()):new xf(t.key,t.data,ir.none());{const n=t.data,r=Sn.empty();let i=new qt(zt.comparator);for(let o of e.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new Co(t.key,r,new Vn(i.toArray()),ir.none())}}function l9(t,e,n){t instanceof xf?function(i,o,a){const s=i.value.clone(),l=tT(i.fieldTransforms,o,a.transformResults);s.setAll(l),o.convertToFoundDocument(a.version,s).setHasCommittedMutations()}(t,e,n):t instanceof Co?function(i,o,a){if(!rd(i.precondition,o))return void o.convertToUnknownDocument(a.version);const s=tT(i.fieldTransforms,o,a.transformResults),l=o.data;l.setAll(SN(i)),l.setAll(s),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function $u(t,e,n,r){return t instanceof xf?function(o,a,s,l){if(!rd(o.precondition,a))return s;const u=o.value.clone(),c=nT(o.fieldTransforms,l,a);return u.setAll(c),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Co?function(o,a,s,l){if(!rd(o.precondition,a))return s;const u=nT(o.fieldTransforms,l,a),c=a.data;return c.setAll(SN(o)),c.setAll(u),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),s===null?null:s.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,a,s){return rd(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):s}(t,e,n)}function u9(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=_N(r.transform,i||null);o!=null&&(n===null&&(n=Sn.empty()),n.set(r.field,o))}return n||null}function eT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&$s(r,i,(o,a)=>a9(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class xf extends pm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Co extends pm{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function SN(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function tT(t,e,n){const r=new Map;Ge(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,o9(a,s,n[i]))}return r}function nT(t,e,n){const r=new Map;for(const i of t){const o=i.transform,a=n.data.field(i.field);r.set(i.field,i9(o,a,e))}return r}class ub extends pm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class c9 extends pm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f9{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&l9(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=$u(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=$u(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=yN();return this.mutations.forEach(i=>{const o=e.get(i.key),a=o.overlayedDocument;let s=this.applyToLocalView(a,o.mutatedFields);s=n.has(i.key)?null:s;const l=EN(a,s);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(we.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Oe())}isEqual(e){return this.batchId===e.batchId&&$s(this.mutations,e.mutations,(n,r)=>eT(n,r))&&$s(this.baseMutations,e.baseMutations,(n,r)=>eT(n,r))}}class cb{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ge(e.mutations.length===r.length);let i=function(){return Z6}();const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new cb(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h9{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt,ke;function p9(t){switch(t){default:return _e();case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0}}function TN(t){if(t===void 0)return bi("GRPC error has no .code"),H.UNKNOWN;switch(t){case xt.OK:return H.OK;case xt.CANCELLED:return H.CANCELLED;case xt.UNKNOWN:return H.UNKNOWN;case xt.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case xt.INTERNAL:return H.INTERNAL;case xt.UNAVAILABLE:return H.UNAVAILABLE;case xt.UNAUTHENTICATED:return H.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case xt.NOT_FOUND:return H.NOT_FOUND;case xt.ALREADY_EXISTS:return H.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return H.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case xt.ABORTED:return H.ABORTED;case xt.OUT_OF_RANGE:return H.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return H.UNIMPLEMENTED;case xt.DATA_LOSS:return H.DATA_LOSS;default:return _e()}}(ke=xt||(xt={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m9(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g9=new aa([4294967295,4294967295],0);function rT(t){const e=m9().encode(t),n=new GR;return n.update(e),new Uint8Array(n.digest())}function iT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new aa([n,r],0),new aa([i,o],0)]}class fb{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new wu(`Invalid padding: ${n}`);if(r<0)throw new wu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new wu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new wu(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=aa.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(aa.fromNumber(r)));return i.compare(g9)===1&&(i=new aa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=rT(e),[r,i]=iT(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);if(!this.de(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new fb(o,i,n);return r.forEach(s=>a.insert(s)),a}insert(e){if(this.Ie===0)return;const n=rT(e),[r,i]=iT(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class wu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ef.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new mm(we.min(),i,new ft(Me),xi(),Oe())}}class Ef{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ef(r,n,Oe(),Oe(),Oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class AN{constructor(e,n){this.targetId=e,this.me=n}}class PN{constructor(e,n,r=Kt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class oT{constructor(){this.fe=0,this.ge=sT(),this.pe=Kt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Oe(),n=Oe(),r=Oe();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:_e()}}),new Ef(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=sT()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ge(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class y9{constructor(e){this.Le=e,this.Be=new Map,this.ke=xi(),this.qe=aT(),this.Qe=new ft(Me)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:_e()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(o0(o))if(r===0){const a=new fe(o.path);this.Ue(n,a,on.newNoDocument(a,we.min()))}else Ge(r===1);else{const a=this.Ye(n);if(a!==r){const s=this.Ze(e),l=s?this.Xe(s,e,a):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let a,s;try{a=_a(r).toUint8Array()}catch(l){if(l instanceof iN)return Ms("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new fb(a,i,o)}catch(l){return Ms(l instanceof wu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.Ie===0?null:s}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const a=this.Le.tt(),s=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(s)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,a)=>{const s=this.Je(a);if(s){if(o.current&&o0(s.target)){const l=new fe(s.target.path);this.ke.get(l)!==null||this.it(a,l)||this.Ue(a,l,on.newNoDocument(l,e))}o.be&&(n.set(a,o.ve()),o.Ce())}});let r=Oe();this.qe.forEach((o,a)=>{let s=!0;a.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(r=r.add(o))}),this.ke.forEach((o,a)=>a.setReadTime(e));const i=new mm(e,n,this.Qe,this.ke,r);return this.ke=xi(),this.qe=aT(),this.Qe=new ft(Me),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new oT,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new qt(Me),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new oT),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function aT(){return new ft(fe.comparator)}function sT(){return new ft(fe.comparator)}const v9={asc:"ASCENDING",desc:"DESCENDING"},_9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},w9={and:"AND",or:"OR"};class b9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function l0(t,e){return t.useProto3Json||cm(e)?e:{value:e}}function qd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function x9(t,e){return qd(t,e.toTimestamp())}function Ur(t){return Ge(!!t),we.fromTimestamp(function(n){const r=bo(n);return new Je(r.seconds,r.nanos)}(t))}function hb(t,e){return u0(t,e).canonicalString()}function u0(t,e){const n=function(i){return new rt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function ON(t){const e=rt.fromString(t);return Ge(DN(e)),e}function c0(t,e){return hb(t.databaseId,e.path)}function my(t,e){const n=ON(e);if(n.get(1)!==t.databaseId.projectId)throw new ae(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ae(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new fe(kN(n))}function CN(t,e){return hb(t.databaseId,e)}function E9(t){const e=ON(t);return e.length===4?rt.emptyPath():kN(e)}function f0(t){return new rt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function kN(t){return Ge(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function lT(t,e,n){return{name:c0(t,e),fields:n.value.mapValue.fields}}function S9(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:_e()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(Ge(c===void 0||typeof c=="string"),Kt.fromBase64String(c||"")):(Ge(c===void 0||c instanceof Buffer||c instanceof Uint8Array),Kt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(u){const c=u.code===void 0?H.UNKNOWN:TN(u.code);return new ae(c,u.message||"")}(a);n=new PN(r,i,o,s||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=my(t,r.document.name),o=Ur(r.document.updateTime),a=r.document.createTime?Ur(r.document.createTime):we.min(),s=new Sn({mapValue:{fields:r.document.fields}}),l=on.newFoundDocument(i,o,a,s),u=r.targetIds||[],c=r.removedTargetIds||[];n=new id(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=my(t,r.document),o=r.readTime?Ur(r.readTime):we.min(),a=on.newNoDocument(i,o),s=r.removedTargetIds||[];n=new id([],s,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=my(t,r.document),o=r.removedTargetIds||[];n=new id([],o,i,null)}else{if(!("filter"in e))return _e();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,a=new d9(i,o),s=r.targetId;n=new AN(s,a)}}return n}function T9(t,e){let n;if(e instanceof xf)n={update:lT(t,e.key,e.value)};else if(e instanceof ub)n={delete:c0(t,e.key)};else if(e instanceof Co)n={update:lT(t,e.key,e.data),updateMask:D9(e.fieldMask)};else{if(!(e instanceof c9))return _e();n={verify:c0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,a){const s=a.transform;if(s instanceof zd)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof _c)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof wc)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Wd)return{fieldPath:a.field.canonicalString(),increment:s.Pe};throw _e()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:x9(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:_e()}(t,e.precondition)),n}function A9(t,e){return t&&t.length>0?(Ge(e!==void 0),t.map(n=>function(i,o){let a=i.updateTime?Ur(i.updateTime):Ur(o);return a.isEqual(we.min())&&(a=Ur(o)),new s9(a,i.transformResults||[])}(n,e))):[]}function P9(t,e){return{documents:[CN(t,e.path)]}}function I9(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=CN(t,i);const o=function(u){if(u.length!==0)return NN(Sr.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const a=function(u){if(u.length!==0)return u.map(c=>function(d){return{field:Ya(d.field),direction:k9(d.dir)}}(c))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const s=l0(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function O9(t){let e=E9(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ge(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(f){const d=RN(f);return d instanceof Sr&&lN(d)?d.getFilters():[d]}(n.where));let a=[];n.orderBy&&(a=function(f){return f.map(d=>function(m){return new vc(Qa(m.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(d))}(n.orderBy));let s=null;n.limit&&(s=function(f){let d;return d=typeof f=="object"?f.value:f,cm(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(f){const d=!!f.before,p=f.values||[];return new Bd(p,d)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const d=!f.before,p=f.values||[];return new Bd(p,d)}(n.endAt)),G6(e,i,a,o,s,"F",l,u)}function C9(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function RN(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Qa(n.unaryFilter.field);return St.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Qa(n.unaryFilter.field);return St.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Qa(n.unaryFilter.field);return St.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Qa(n.unaryFilter.field);return St.create(a,"!=",{nullValue:"NULL_VALUE"});default:return _e()}}(t):t.fieldFilter!==void 0?function(n){return St.create(Qa(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _e()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Sr.create(n.compositeFilter.filters.map(r=>RN(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return _e()}}(n.compositeFilter.op))}(t):_e()}function k9(t){return v9[t]}function R9(t){return _9[t]}function N9(t){return w9[t]}function Ya(t){return{fieldPath:t.canonicalString()}}function Qa(t){return zt.fromServerFormat(t.fieldPath)}function NN(t){return t instanceof St?function(n){if(n.op==="=="){if(GS(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NAN"}};if(KS(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(GS(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NOT_NAN"}};if(KS(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ya(n.field),op:R9(n.op),value:n.value}}}(t):t instanceof Sr?function(n){const r=n.getFilters().map(i=>NN(i));return r.length===1?r[0]:{compositeFilter:{op:N9(n.op),filters:r}}}(t):_e()}function D9(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function DN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e,n,r,i,o=we.min(),a=we.min(),s=Kt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new eo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new eo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new eo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new eo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{constructor(e){this.ct=e}}function M9(t){const e=O9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?s0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{constructor(){this.un=new L9}addToCollectionParentIndex(e,n){return this.un.add(n),Y.resolve()}getCollectionParents(e,n){return Y.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Y.resolve()}deleteFieldIndex(e,n){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,n){return Y.resolve()}getDocumentsMatchingTarget(e,n){return Y.resolve(null)}getIndexType(e,n){return Y.resolve(0)}getFieldIndexes(e,n){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,n){return Y.resolve(wo.min())}getMinOffsetFromCollectionGroup(e,n){return Y.resolve(wo.min())}updateCollectionGroup(e,n,r){return Y.resolve()}updateIndexEntries(e,n){return Y.resolve()}}class L9{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new qt(rt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new qt(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Fs(0)}static kn(){return new Fs(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V9{constructor(){this.changes=new gl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Y.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&$u(r.mutation,i,Vn.empty(),Je.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Oe()){const i=Zo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let a=_u();return o.forEach((s,l)=>{a=a.insert(s,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Zo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Oe()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((a,s)=>{n.set(a,s)})})}computeViews(e,n,r,i){let o=xi();const a=Mu(),s=function(){return Mu()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Co)?o=o.insert(u.key,u):c!==void 0?(a.set(u.key,c.mutation.getFieldMask()),$u(c.mutation,u,c.mutation.getFieldMask(),Je.now())):a.set(u.key,Vn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>a.set(u,c)),n.forEach((u,c)=>{var f;return s.set(u,new F9(c,(f=a.get(u))!==null&&f!==void 0?f:null))}),s))}recalculateAndSaveOverlays(e,n){const r=Mu();let i=new ft((a,s)=>a-s),o=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const s of a)s.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Vn.empty();c=s.applyToLocalView(u,c),r.set(l,c);const f=(i.get(s.batchId)||Oe()).add(l);i=i.insert(s.batchId,f)})}).next(()=>{const a=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),u=l.key,c=l.value,f=yN();c.forEach(d=>{if(!o.has(d)){const p=EN(n.get(d),r.get(d));p!==null&&f.set(d,p),o=o.add(d)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,f))}return Y.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return fe.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):hN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):Y.resolve(Zo());let s=-1,l=o;return a.next(u=>Y.forEach(u,(c,f)=>(s<f.largestBatchId&&(s=f.largestBatchId),o.get(c)?Y.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Oe())).next(c=>({batchId:s,changes:gN(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new fe(n)).next(r=>{let i=_u();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let a=_u();return this.indexManager.getCollectionParents(e,o).next(s=>Y.forEach(s,l=>{const u=function(f,d){return new ml(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((f,d)=>{a=a.insert(f,d)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(a=>{o.forEach((l,u)=>{const c=u.getKey();a.get(c)===null&&(a=a.insert(c,on.newInvalidDocument(c)))});let s=_u();return a.forEach((l,u)=>{const c=o.get(l);c!==void 0&&$u(c.mutation,u,Vn.empty(),Je.now()),hm(n,u)&&(s=s.insert(l,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Y.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ur(i.createTime)}}(n)),Y.resolve()}getNamedQuery(e,n){return Y.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:M9(i.bundledQuery),readTime:Ur(i.readTime)}}(n)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{constructor(){this.overlays=new ft(fe.comparator),this.Ir=new Map}getOverlay(e,n){return Y.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Zo();return Y.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),Y.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),Y.resolve()}getOverlaysForCollection(e,n,r){const i=Zo(),o=n.length+1,a=new fe(n.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const l=s.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Y.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new ft((u,c)=>u-c);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=Zo(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const s=Zo(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>s.set(u,c)),!(s.size()>=i)););return Y.resolve(s)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new h9(n,r));let o=this.Ir.get(n);o===void 0&&(o=Oe(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W9{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(){this.Tr=new qt(Rt.Er),this.dr=new qt(Rt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Rt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Rt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new fe(new rt([])),r=new Rt(n,e),i=new Rt(n,e+1),o=[];return this.dr.forEachInRange([r,i],a=>{this.Vr(a),o.push(a.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new fe(new rt([])),r=new Rt(n,e),i=new Rt(n,e+1);let o=Oe();return this.dr.forEachInRange([r,i],a=>{o=o.add(a.key)}),o}containsKey(e){const n=new Rt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Rt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return fe.comparator(e.key,n.key)||Me(e.wr,n.wr)}static Ar(e,n){return Me(e.wr,n.wr)||fe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new qt(Rt.Er)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new f9(o,n,r,i);this.mutationQueue.push(a);for(const s of i)this.br=this.br.add(new Rt(s.key,o)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Y.resolve(a)}lookupMutationBatch(e,n){return Y.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return Y.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Rt(n,0),i=new Rt(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],a=>{const s=this.Dr(a.wr);o.push(s)}),Y.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new qt(Me);return n.forEach(i=>{const o=new Rt(i,0),a=new Rt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,a],s=>{r=r.add(s.wr)})}),Y.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;fe.isDocumentKey(o)||(o=o.child(""));const a=new Rt(new fe(o),0);let s=new qt(Me);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(s=s.add(l.wr)),!0)},a),Y.resolve(this.Cr(s))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ge(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Y.forEach(n.mutations,i=>{const o=new Rt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Rt(n,0),i=this.br.firstAfterOrEqual(r);return Y.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9{constructor(e){this.Mr=e,this.docs=function(){return new ft(fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Y.resolve(r?r.document.mutableCopy():on.newInvalidDocument(n))}getEntries(e,n){let r=xi();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():on.newInvalidDocument(i))}),Y.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=xi();const a=n.path,s=new fe(a.child("")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||O6(I6(c),r)<=0||(i.has(c.key)||hm(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return Y.resolve(o)}getAllFromCollectionGroup(e,n,r,i){_e()}Or(e,n){return Y.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new K9(this)}getSize(e){return Y.resolve(this.size)}}class K9 extends V9{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),Y.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G9{constructor(e){this.persistence=e,this.Nr=new gl(n=>ob(n),ab),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.Lr=0,this.Br=new db,this.targetCount=0,this.kr=Fs.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Y.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Fs(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Y.resolve()}updateTargetData(e,n){return this.Kn(n),Y.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((a,s)=>{s.sequenceNumber<=n&&r.get(s.targetId)===null&&(this.Nr.delete(a),o.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),Y.waitFor(o).next(()=>i)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Y.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Y.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(a=>{o.push(i.markPotentiallyOrphaned(e,a))}),Y.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Y.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Y.resolve(r)}containsKey(e,n){return Y.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X9{constructor(e,n){this.qr={},this.overlays={},this.Qr=new tb(0),this.Kr=!1,this.Kr=!0,this.$r=new W9,this.referenceDelegate=e(this),this.Ur=new G9(this),this.indexManager=new $9,this.remoteDocumentCache=function(i){return new H9(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new j9(n),this.Gr=new B9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new z9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new q9(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ce("MemoryPersistence","Starting transaction:",e);const i=new Y9(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return Y.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class Y9 extends k6{constructor(e){super(),this.currentSequenceNumber=e}}class pb{constructor(e){this.persistence=e,this.Jr=new db,this.Yr=null}static Zr(e){return new pb(e)}get Xr(){if(this.Yr)return this.Yr;throw _e()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Y.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Y.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Y.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.Xr,r=>{const i=fe.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,we.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Y.or([()=>Y.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Oe(),i=Oe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new mb(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J9{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return B4()?8:R6(un())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new Q9;return this.Xi(e,n,a).next(s=>{if(o.result=s,this.zi)return this.es(e,n,a,s.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Zl()<=Ce.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Xa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Y.resolve()):(Zl()<=Ce.DEBUG&&ce("QueryEngine","Query:",Xa(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Zl()<=Ce.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Xa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fr(n))):Y.resolve())}Yi(e,n){if(JS(n))return Y.resolve(null);let r=Fr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=s0(n,null,"F"),r=Fr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const a=Oe(...o);return this.Ji.getDocuments(e,a).next(s=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,s);return this.ns(n,u,a,l.readTime)?this.Yi(e,s0(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return JS(n)||i.isEqual(we.min())?Y.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const a=this.ts(n,o);return this.ns(n,a,r,i)?Y.resolve(null):(Zl()<=Ce.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Xa(n)),this.rs(e,a,n,P6(i,-1)).next(s=>s))})}ts(e,n){let r=new qt(pN(e));return n.forEach((i,o)=>{hm(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Zl()<=Ce.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Xa(n)),this.Ji.getDocumentsMatchingQuery(e,n,wo.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z9{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new ft(Me),this._s=new gl(o=>ob(o),ab),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new U9(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function e5(t,e,n,r){return new Z9(t,e,n,r)}async function jN(t,e){const n=xe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],s=[];let l=Oe();for(const u of i){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:a,addedBatchIds:s}))})})}function t5(t,e){const n=xe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(s,l,u,c){const f=u.batch,d=f.keys();let p=Y.resolve();return d.forEach(m=>{p=p.next(()=>c.getEntry(l,m)).next(g=>{const _=u.docVersions.get(m);Ge(_!==null),g.version.compareTo(_)<0&&(f.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),c.addEntry(g)))})}),p.next(()=>s.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let l=Oe();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(l=l.add(s.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function MN(t){const e=xe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function n5(t,e){const n=xe(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const s=[];e.targetChanges.forEach((c,f)=>{const d=i.get(f);if(!d)return;s.push(n.Ur.removeMatchingKeys(o,c.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(o,c.addedDocuments,f)));let p=d.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(Kt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(f,p),function(g,_,b){return g.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(d,p,c)&&s.push(n.Ur.updateTargetData(o,p))});let l=xi(),u=Oe();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),s.push(r5(o,a,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(we.min())){const c=n.Ur.getLastRemoteSnapshotVersion(o).next(f=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));s.push(c)}return Y.waitFor(s).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.os=i,o))}function r5(t,e,n){let r=Oe(),i=Oe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let a=xi();return n.forEach((s,l)=>{const u=o.get(s);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(we.min())?(e.removeEntry(s,l.readTime),a=a.insert(s,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),a=a.insert(s,l)):ce("LocalStore","Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",l.version)}),{Ps:a,Is:i}})}function i5(t,e){const n=xe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function o5(t,e){const n=xe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,Y.resolve(i)):n.Ur.allocateTargetId(r).next(a=>(i=new eo(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function h0(t,e,n){const r=xe(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!bf(a))throw a;ce("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function uT(t,e,n){const r=xe(t);let i=we.min(),o=Oe();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,c){const f=xe(l),d=f._s.get(c);return d!==void 0?Y.resolve(f.os.get(d)):f.Ur.getTargetData(u,c)}(r,a,Fr(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,s.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(a,e,n?i:we.min(),n?o:Oe())).next(s=>(a5(r,Y6(e),s),{documents:s,Ts:o})))}function a5(t,e,n){let r=t.us.get(e)||we.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class cT{constructor(){this.activeTargetIds=n9()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class s5{constructor(){this.so=new cT,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new cT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bh=null;function gy(){return bh===null?bh=function(){return 268435456+Math.round(2147483648*Math.random())}():bh++,"0x"+bh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class f5 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,a){const s=gy(),l=this.xo(n,r.toUriEncodedString());ce("RestConnection",`Sending RPC '${n}' ${s}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,a),this.No(n,l,u,i).then(c=>(ce("RestConnection",`Received RPC '${n}' ${s}: `,c),c),c=>{throw Ms("RestConnection",`RPC '${n}' ${s} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,o,a,s){return this.Mo(n,r,i,o,a)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+pl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,a)=>n[a]=o),i&&i.headers.forEach((o,a)=>n[a]=o)}xo(n,r){const i=u5[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=gy();return new Promise((a,s)=>{const l=new XR;l.setWithCredentials(!0),l.listenOnce(QR.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case td.NO_ERROR:const c=l.getResponseJson();ce(Zt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),a(c);break;case td.TIMEOUT:ce(Zt,`RPC '${e}' ${o} timed out`),s(new ae(H.DEADLINE_EXCEEDED,"Request time out"));break;case td.HTTP_ERROR:const f=l.getStatus();if(ce(Zt,`RPC '${e}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const p=d==null?void 0:d.error;if(p&&p.status&&p.message){const m=function(_){const b=_.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(b)>=0?b:H.UNKNOWN}(p.status);s(new ae(m,p.message))}else s(new ae(H.UNKNOWN,"Server responded with status "+l.getStatus()))}else s(new ae(H.UNAVAILABLE,"Connection failed."));break;default:_e()}}finally{ce(Zt,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);ce(Zt,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=gy(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=eN(),s=ZR(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new YR({})),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");ce(Zt,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=a.createWebChannel(c,l);let d=!1,p=!1;const m=new c5({Io:_=>{p?ce(Zt,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(d||(ce(Zt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),d=!0),ce(Zt,`RPC '${e}' stream ${i} sending:`,_),f.send(_))},To:()=>f.close()}),g=(_,b,y)=>{_.listen(b,v=>{try{y(v)}catch(x){setTimeout(()=>{throw x},0)}})};return g(f,vu.EventType.OPEN,()=>{p||(ce(Zt,`RPC '${e}' stream ${i} transport opened.`),m.yo())}),g(f,vu.EventType.CLOSE,()=>{p||(p=!0,ce(Zt,`RPC '${e}' stream ${i} transport closed`),m.So())}),g(f,vu.EventType.ERROR,_=>{p||(p=!0,Ms(Zt,`RPC '${e}' stream ${i} transport errored:`,_),m.So(new ae(H.UNAVAILABLE,"The operation could not be completed")))}),g(f,vu.EventType.MESSAGE,_=>{var b;if(!p){const y=_.data[0];Ge(!!y);const v=y,x=v.error||((b=v[0])===null||b===void 0?void 0:b.error);if(x){ce(Zt,`RPC '${e}' stream ${i} received error:`,x);const T=x.status;let O=function(I){const C=xt[I];if(C!==void 0)return TN(C)}(T),S=x.message;O===void 0&&(O=H.INTERNAL,S="Unknown error status: "+T+" with message "+x.message),p=!0,m.So(new ae(O,S)),f.close()}else ce(Zt,`RPC '${e}' stream ${i} received:`,y),m.bo(y)}}),g(s,JR.STAT_EVENT,_=>{_.stat===t0.PROXY?ce(Zt,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===t0.NOPROXY&&ce(Zt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.wo()},0),m}}function yy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(t){return new b9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&ce("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,n,r,i,o,a,s,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new $N(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(bi(n.toString()),bi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ae(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ce("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class h5 extends LN{constructor(e,n,r,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=S9(this.serializer,e),r=function(o){if(!("targetChange"in o))return we.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?we.min():a.readTime?Ur(a.readTime):we.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=f0(this.serializer),n.addTarget=function(o,a){let s;const l=a.target;if(s=o0(l)?{documents:P9(o,l)}:{query:I9(o,l)._t},s.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){s.resumeToken=IN(o,a.resumeToken);const u=l0(o,a.expectedCount);u!==null&&(s.expectedCount=u)}else if(a.snapshotVersion.compareTo(we.min())>0){s.readTime=qd(o,a.snapshotVersion.toTimestamp());const u=l0(o,a.expectedCount);u!==null&&(s.expectedCount=u)}return s}(this.serializer,e);const r=C9(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=f0(this.serializer),n.removeTarget=e,this.a_(n)}}class d5 extends LN{constructor(e,n,r,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=A9(e.writeResults,e.commitTime),r=Ur(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=f0(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>T9(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ae(H.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Mo(e,u0(n,r),i,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ae(H.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Lo(e,u0(n,r),i,a,s,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ae(H.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class m5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(bi(n),this.D_=!1):ce("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(a=>{r.enqueueAndForget(async()=>{Ra(this)&&(ce("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=xe(l);u.L_.add(4),await Sf(u),u.q_.set("Unknown"),u.L_.delete(4),await ym(u)}(this))})}),this.q_=new m5(r,i)}}async function ym(t){if(Ra(t))for(const e of t.B_)await e(!0)}async function Sf(t){for(const e of t.B_)await e(!1)}function VN(t,e){const n=xe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),_b(n)?vb(n):yl(n).r_()&&yb(n,e))}function gb(t,e){const n=xe(t),r=yl(n);n.N_.delete(e),r.r_()&&FN(n,e),n.N_.size===0&&(r.r_()?r.o_():Ra(n)&&n.q_.set("Unknown"))}function yb(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}yl(t).A_(e)}function FN(t,e){t.Q_.xe(e),yl(t).R_(e)}function vb(t){t.Q_=new y9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),yl(t).start(),t.q_.v_()}function _b(t){return Ra(t)&&!yl(t).n_()&&t.N_.size>0}function Ra(t){return xe(t).L_.size===0}function UN(t){t.Q_=void 0}async function y5(t){t.q_.set("Online")}async function v5(t){t.N_.forEach((e,n)=>{yb(t,e)})}async function _5(t,e){UN(t),_b(t)?(t.q_.M_(e),vb(t)):t.q_.set("Unknown")}async function w5(t,e,n){if(t.q_.set("Online"),e instanceof PN&&e.state===2&&e.cause)try{await async function(i,o){const a=o.cause;for(const s of o.targetIds)i.N_.has(s)&&(await i.remoteSyncer.rejectListen(s,a),i.N_.delete(s),i.Q_.removeTarget(s))}(t,e)}catch(r){ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Hd(t,r)}else if(e instanceof id?t.Q_.Ke(e):e instanceof AN?t.Q_.He(e):t.Q_.We(e),!n.isEqual(we.min()))try{const r=await MN(t.localStore);n.compareTo(r)>=0&&await function(o,a){const s=o.Q_.rt(a);return s.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.N_.get(u);c&&o.N_.set(u,c.withResumeToken(l.resumeToken,a))}}),s.targetMismatches.forEach((l,u)=>{const c=o.N_.get(l);if(!c)return;o.N_.set(l,c.withResumeToken(Kt.EMPTY_BYTE_STRING,c.snapshotVersion)),FN(o,l);const f=new eo(c.target,l,u,c.sequenceNumber);yb(o,f)}),o.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){ce("RemoteStore","Failed to raise snapshot:",r),await Hd(t,r)}}async function Hd(t,e,n){if(!bf(e))throw e;t.L_.add(1),await Sf(t),t.q_.set("Offline"),n||(n=()=>MN(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ce("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await ym(t)})}function BN(t,e){return e().catch(n=>Hd(t,n,e))}async function vm(t){const e=xe(t),n=xo(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;b5(e);)try{const i=await i5(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,x5(e,i)}catch(i){await Hd(e,i)}zN(e)&&WN(e)}function b5(t){return Ra(t)&&t.O_.length<10}function x5(t,e){t.O_.push(e);const n=xo(t);n.r_()&&n.V_&&n.m_(e.mutations)}function zN(t){return Ra(t)&&!xo(t).n_()&&t.O_.length>0}function WN(t){xo(t).start()}async function E5(t){xo(t).p_()}async function S5(t){const e=xo(t);for(const n of t.O_)e.m_(n.mutations)}async function T5(t,e,n){const r=t.O_.shift(),i=cb.from(r,e,n);await BN(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await vm(t)}async function A5(t,e){e&&xo(t).V_&&await async function(r,i){if(function(a){return p9(a)&&a!==H.ABORTED}(i.code)){const o=r.O_.shift();xo(r).s_(),await BN(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await vm(r)}}(t,e),zN(t)&&WN(t)}async function hT(t,e){const n=xe(t);n.asyncQueue.verifyOperationInProgress(),ce("RemoteStore","RemoteStore received new credentials");const r=Ra(n);n.L_.add(3),await Sf(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await ym(n)}async function P5(t,e){const n=xe(t);e?(n.L_.delete(2),await ym(n)):e||(n.L_.add(2),await Sf(n),n.q_.set("Unknown"))}function yl(t){return t.K_||(t.K_=function(n,r,i){const o=xe(n);return o.w_(),new h5(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:y5.bind(null,t),Ro:v5.bind(null,t),mo:_5.bind(null,t),d_:w5.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),_b(t)?vb(t):t.q_.set("Unknown")):(await t.K_.stop(),UN(t))})),t.K_}function xo(t){return t.U_||(t.U_=function(n,r,i){const o=xe(n);return o.w_(),new d5(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:E5.bind(null,t),mo:A5.bind(null,t),f_:S5.bind(null,t),g_:T5.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await vm(t)):(await t.U_.stop(),t.O_.length>0&&(ce("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const a=Date.now()+r,s=new wb(e,n,a,i,o);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bb(t,e){if(bi("AsyncQueue",`${e}: ${t}`),bf(t))return new ae(H.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e){this.comparator=e?(n,r)=>e(n,r)||fe.comparator(n.key,r.key):(n,r)=>fe.comparator(n.key,r.key),this.keyedMap=_u(),this.sortedSet=new ft(this.comparator)}static emptySet(e){return new Ts(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ts)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ts;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(){this.W_=new ft(fe.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):_e():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Us{constructor(e,n,r,i,o,a,s,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const a=[];return n.forEach(s=>{a.push({type:0,doc:s})}),new Us(e,n,Ts.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class O5{constructor(){this.queries=pT(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=xe(n),o=i.queries;i.queries=pT(),o.forEach((a,s)=>{for(const l of s.j_)l.onError(r)})})(this,new ae(H.ABORTED,"Firestore shutting down"))}}function pT(){return new gl(t=>dN(t),fm)}async function qN(t,e){const n=xe(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new I5,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const s=bb(a,`Initialization of query '${Xa(e.query)}' failed`);return void e.onError(s)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&xb(n)}async function HN(t,e){const n=xe(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const a=o.j_.indexOf(e);a>=0&&(o.j_.splice(a,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function C5(t,e){const n=xe(t);let r=!1;for(const i of e){const o=i.query,a=n.queries.get(o);if(a){for(const s of a.j_)s.X_(i)&&(r=!0);a.z_=i}}r&&xb(n)}function k5(t,e,n){const r=xe(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function xb(t){t.Y_.forEach(e=>{e.next()})}var d0,mT;(mT=d0||(d0={})).ea="default",mT.Cache="cache";class KN{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Us(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Us.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==d0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e){this.key=e}}class XN{constructor(e){this.key=e}}class R5{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Oe(),this.mutatedKeys=Oe(),this.Aa=pN(e),this.Ra=new Ts(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new dT,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,a=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const d=i.get(c),p=hm(this.query,f)?f:null,m=!!d&&this.mutatedKeys.has(d.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let _=!1;d&&p?d.data.isEqual(p.data)?m!==g&&(r.track({type:3,doc:p}),_=!0):this.ga(d,p)||(r.track({type:2,doc:p}),_=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(s=!0)):!d&&p?(r.track({type:0,doc:p}),_=!0):d&&!p&&(r.track({type:1,doc:d}),_=!0,(l||u)&&(s=!0)),_&&(p?(a=a.add(p),o=g?o.add(c):o.delete(c)):(a=a.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const c=this.query.limitType==="F"?a.last():a.first();a=a.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Ra:a,fa:r,ns:s,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((c,f)=>function(p,m){const g=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e()}};return g(p)-g(m)}(c.type,f.type)||this.Aa(c.doc,f.doc)),this.pa(r),i=i!=null&&i;const s=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,a.length!==0||u?{snapshot:new Us(this.query,e.Ra,o,a,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:s}:{wa:s}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new dT,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Oe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new XN(r))}),this.da.forEach(r=>{e.has(r)||n.push(new GN(r))}),n}ba(e){this.Ta=e.Ts,this.da=Oe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Us.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class N5{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class D5{constructor(e){this.key=e,this.va=!1}}class j5{constructor(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new gl(s=>dN(s),fm),this.Ma=new Map,this.xa=new Set,this.Oa=new ft(fe.comparator),this.Na=new Map,this.La=new db,this.Ba={},this.ka=new Map,this.qa=Fs.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function M5(t,e,n=!0){const r=tD(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await YN(r,e,n,!0),i}async function $5(t,e){const n=tD(t);await YN(n,e,!0,!1)}async function YN(t,e,n,r){const i=await o5(t.localStore,Fr(e)),o=i.targetId,a=n?t.sharedClientState.addLocalQueryTarget(o):"not-current";let s;return r&&(s=await L5(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&VN(t.remoteStore,i),s}async function L5(t,e,n,r,i){t.Ka=(f,d,p)=>async function(g,_,b,y){let v=_.view.ma(b);v.ns&&(v=await uT(g.localStore,_.query,!1).then(({documents:S})=>_.view.ma(S,v)));const x=y&&y.targetChanges.get(_.targetId),T=y&&y.targetMismatches.get(_.targetId)!=null,O=_.view.applyChanges(v,g.isPrimaryClient,x,T);return yT(g,_.targetId,O.wa),O.snapshot}(t,f,d,p);const o=await uT(t.localStore,e,!0),a=new R5(e,o.Ts),s=a.ma(o.documents),l=Ef.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=a.applyChanges(s,t.isPrimaryClient,l);yT(t,n,u.wa);const c=new N5(e,n,a);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function V5(t,e,n){const r=xe(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(a=>!fm(a,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await h0(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&gb(r.remoteStore,i.targetId),p0(r,i.targetId)}).catch(wf)):(p0(r,i.targetId),await h0(r.localStore,i.targetId,!0))}async function F5(t,e){const n=xe(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),gb(n.remoteStore,r.targetId))}async function U5(t,e,n){const r=G5(t);try{const i=await function(a,s){const l=xe(a),u=Je.now(),c=s.reduce((p,m)=>p.add(m.key),Oe());let f,d;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=xi(),g=Oe();return l.cs.getEntries(p,c).next(_=>{m=_,m.forEach((b,y)=>{y.isValidDocument()||(g=g.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(_=>{f=_;const b=[];for(const y of s){const v=u9(y,f.get(y.key).overlayedDocument);v!=null&&b.push(new Co(y.key,v,oN(v.value.mapValue),ir.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,b,s)}).next(_=>{d=_;const b=_.applyToLocalDocumentSet(f,g);return l.documentOverlayCache.saveOverlays(p,_.batchId,b)})}).then(()=>({batchId:d.batchId,changes:gN(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,s,l){let u=a.Ba[a.currentUser.toKey()];u||(u=new ft(Me)),u=u.insert(s,l),a.Ba[a.currentUser.toKey()]=u}(r,i.batchId,n),await Tf(r,i.changes),await vm(r.remoteStore)}catch(i){const o=bb(i,"Failed to persist write");n.reject(o)}}async function QN(t,e){const n=xe(t);try{const r=await n5(n.localStore,e);e.targetChanges.forEach((i,o)=>{const a=n.Na.get(o);a&&(Ge(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?Ge(a.va):i.removedDocuments.size>0&&(Ge(a.va),a.va=!1))}),await Tf(n,r,e)}catch(r){await wf(r)}}function gT(t,e,n){const r=xe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,a)=>{const s=a.view.Z_(e);s.snapshot&&i.push(s.snapshot)}),function(a,s){const l=xe(a);l.onlineState=s;let u=!1;l.queries.forEach((c,f)=>{for(const d of f.j_)d.Z_(s)&&(u=!0)}),u&&xb(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function B5(t,e,n){const r=xe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let a=new ft(fe.comparator);a=a.insert(o,on.newNoDocument(o,we.min()));const s=Oe().add(o),l=new mm(we.min(),new Map,new ft(Me),a,s);await QN(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),Eb(r)}else await h0(r.localStore,e,!1).then(()=>p0(r,e,n)).catch(wf)}async function z5(t,e){const n=xe(t),r=e.batch.batchId;try{const i=await t5(n.localStore,e);ZN(n,r,null),JN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Tf(n,i)}catch(i){await wf(i)}}async function W5(t,e,n){const r=xe(t);try{const i=await function(a,s){const l=xe(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,s).next(f=>(Ge(f!==null),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);ZN(r,e,n),JN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Tf(r,i)}catch(i){await wf(i)}}function JN(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function ZN(t,e,n){const r=xe(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function p0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||eD(t,r)})}function eD(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(gb(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Eb(t))}function yT(t,e,n){for(const r of n)r instanceof GN?(t.La.addReference(r.key,e),q5(t,r)):r instanceof XN?(ce("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||eD(t,r.key)):_e()}function q5(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ce("SyncEngine","New document in limbo: "+n),t.xa.add(r),Eb(t))}function Eb(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new fe(rt.fromString(e)),r=t.qa.next();t.Na.set(r,new D5(n)),t.Oa=t.Oa.insert(n,r),VN(t.remoteStore,new eo(Fr(sb(n.path)),r,"TargetPurposeLimboResolution",tb.oe))}}async function Tf(t,e,n){const r=xe(t),i=[],o=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((s,l)=>{a.push(r.Ka(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=mb.Wi(l.targetId,u);o.push(f)}}))}),await Promise.all(a),r.Ca.d_(i),await async function(l,u){const c=xe(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Y.forEach(u,d=>Y.forEach(d.$i,p=>c.persistence.referenceDelegate.addReference(f,d.targetId,p)).next(()=>Y.forEach(d.Ui,p=>c.persistence.referenceDelegate.removeReference(f,d.targetId,p)))))}catch(f){if(!bf(f))throw f;ce("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const d=f.targetId;if(!f.fromCache){const p=c.os.get(d),m=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(m);c.os=c.os.insert(d,g)}}}(r.localStore,o))}async function H5(t,e){const n=xe(t);if(!n.currentUser.isEqual(e)){ce("SyncEngine","User change. New user:",e.toKey());const r=await jN(n.localStore,e);n.currentUser=e,function(o,a){o.ka.forEach(s=>{s.forEach(l=>{l.reject(new ae(H.CANCELLED,a))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Tf(n,r.hs)}}function K5(t,e){const n=xe(t),r=n.Na.get(e);if(r&&r.va)return Oe().add(r.key);{let i=Oe();const o=n.Ma.get(e);if(!o)return i;for(const a of o){const s=n.Fa.get(a);i=i.unionWith(s.view.Va)}return i}}function tD(t){const e=xe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=QN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=K5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=B5.bind(null,e),e.Ca.d_=C5.bind(null,e.eventManager),e.Ca.$a=k5.bind(null,e.eventManager),e}function G5(t){const e=xe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=z5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=W5.bind(null,e),e}class vT{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=gm(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return e5(this.persistence,new J9,e.initialUser,this.serializer)}createPersistence(e){return new X9(pb.Zr,this.serializer)}createSharedClientState(e){return new s5}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class X5{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>gT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=H5.bind(null,this.syncEngine),await P5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new O5}()}createDatastore(e){const n=gm(e.databaseInfo.databaseId),r=function(o){return new f5(o)}(e.databaseInfo);return function(o,a,s,l){return new p5(o,a,s,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,a,s){return new g5(r,i,o,a,s)}(this.localStore,this.datastore,e.asyncQueue,n=>gT(this.syncEngine,n,0),function(){return fT.D()?new fT:new l5}())}createSyncEngine(e,n){return function(i,o,a,s,l,u,c){const f=new j5(i,o,a,s,l,u);return c&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=xe(i);ce("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await Sf(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):bi("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=tn.UNAUTHENTICATED,this.clientId=nN.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{ce("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ce("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ae(H.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=bb(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function vy(t,e){t.asyncQueue.verifyOperationInProgress(),ce("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await jN(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function _T(t,e){t.asyncQueue.verifyOperationInProgress();const n=await J5(t);ce("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>hT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>hT(e.remoteStore,i)),t._onlineComponents=e}function Q5(t){return t.name==="FirebaseError"?t.code===H.FAILED_PRECONDITION||t.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function J5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ce("FirestoreClient","Using user provided OfflineComponentProvider");try{await vy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Q5(n))throw n;Ms("Error using user provided cache. Falling back to memory cache: "+n),await vy(t,new vT)}}else ce("FirestoreClient","Using default OfflineComponentProvider"),await vy(t,new vT);return t._offlineComponents}async function rD(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ce("FirestoreClient","Using user provided OnlineComponentProvider"),await _T(t,t._uninitializedComponentsProvider._online)):(ce("FirestoreClient","Using default OnlineComponentProvider"),await _T(t,new X5))),t._onlineComponents}function Z5(t){return rD(t).then(e=>e.syncEngine)}async function iD(t){const e=await rD(t),n=e.eventManager;return n.onListen=M5.bind(null,e.syncEngine),n.onUnlisten=V5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=$5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=F5.bind(null,e.syncEngine),n}function ez(t,e,n={}){const r=new fi;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,s,l,u){const c=new nD({next:d=>{a.enqueueAndForget(()=>HN(o,f));const p=d.docs.has(s);!p&&d.fromCache?u.reject(new ae(H.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&d.fromCache&&l&&l.source==="server"?u.reject(new ae(H.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),f=new KN(sb(s.path),c,{includeMetadataChanges:!0,_a:!0});return qN(o,f)}(await iD(t),t.asyncQueue,e,n,r)),r.promise}function tz(t,e,n={}){const r=new fi;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,s,l,u){const c=new nD({next:d=>{a.enqueueAndForget(()=>HN(o,f)),d.fromCache&&l.source==="server"?u.reject(new ae(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),f=new KN(s,c,{includeMetadataChanges:!0,_a:!0});return qN(o,f)}(await iD(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aD(t,e,n){if(!n)throw new ae(H.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function nz(t,e,n,r){if(e===!0&&r===!0)throw new ae(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function bT(t){if(!fe.isDocumentKey(t))throw new ae(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function xT(t){if(fe.isDocumentKey(t))throw new ae(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function _m(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":_e()}function Tr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ae(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=_m(t);throw new ae(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ae(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ae(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=oD((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ae(H.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ae(H.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ae(H.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ET({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ae(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ae(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ET(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new v6;switch(r.type){case"firstParty":return new x6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ae(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=wT.get(n);r&&(ce("ComponentProvider","Removing Datastore"),wT.delete(n),r.terminate())}(this),Promise.resolve()}}function rz(t,e,n,r={}){var i;const o=(t=Tr(t,wm))._getSettings(),a=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==a&&Ms("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let s,l;if(typeof r.mockUserToken=="string")s=r.mockUserToken,l=tn.MOCK_USER;else{s=lR(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ae(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new tn(u)}t._authCredentials=new _6(new tN(s,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Na(this.firestore,e,this._query)}}class wn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new po(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wn(this.firestore,e,this._key)}}class po extends Na{constructor(e,n,r){super(e,n,sb(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wn(this.firestore,null,new fe(e))}withConverter(e){return new po(this.firestore,e,this._path)}}function ko(t,e,...n){if(t=pt(t),aD("collection","path",e),t instanceof wm){const r=rt.fromString(e,...n);return xT(r),new po(t,null,r)}{if(!(t instanceof wn||t instanceof po))throw new ae(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rt.fromString(e,...n));return xT(r),new po(t.firestore,null,r)}}function ur(t,e,...n){if(t=pt(t),arguments.length===1&&(e=nN.newId()),aD("doc","path",e),t instanceof wm){const r=rt.fromString(e,...n);return bT(r),new wn(t,null,new fe(r))}{if(!(t instanceof wn||t instanceof po))throw new ae(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rt.fromString(e,...n));return bT(r),new wn(t.firestore,t instanceof po?t.converter:null,new fe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iz{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new $N(this,"async_queue_retry"),this.Eu=()=>{const n=yy();n&&ce("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=yy();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=yy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new fi;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!bf(e))throw e;ce("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const i=function(a){let s=a.message||"";return a.stack&&(s=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),s}(r);throw bi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const i=wb.createAndSchedule(this,e,n,r,o=>this.Vu(o));return this.lu.push(i),i}du(){this.hu&&_e()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}class Da extends wm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new iz}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||sD(this),this._firestoreClient.terminate()}}function oz(t,e){const n=typeof t=="object"?t:zw(),r=typeof t=="string"?t:"(default)",i=am(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=oR("firestore");o&&rz(i,...o)}return i}function Sb(t){return t._firestoreClient||sD(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function sD(t){var e,n,r;const i=t._freezeSettings(),o=function(s,l,u,c){return new j6(s,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,oD(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Y5(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bs(Kt.fromBase64String(e))}catch(n){throw new ae(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Bs(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ae(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ae(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ae(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const az=/^__.*__$/;class sz{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Co(e,this.data,this.fieldMask,n,this.fieldTransforms):new xf(e,this.data,n,this.fieldTransforms)}}class lD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Co(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function uD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e()}}class Ib{constructor(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.yu(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new Ib(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Kd(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(uD(this.wu)&&az.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class lz{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||gm(e)}Nu(e,n,r,i=!1){return new Ib({wu:e,methodName:n,Ou:r,path:zt.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xm(t){const e=t._freezeSettings(),n=gm(t._databaseId);return new lz(t._databaseId,!!e.ignoreUndefinedProperties,n)}function cD(t,e,n,r,i,o={}){const a=t.Nu(o.merge||o.mergeFields?2:0,e,n,i);Ob("Data must be an object, but it was:",a,r);const s=fD(r,a);let l,u;if(o.merge)l=new Vn(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){const c=[];for(const f of o.mergeFields){const d=m0(e,f,n);if(!a.contains(d))throw new ae(H.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);dD(c,d)||c.push(d)}l=new Vn(c),u=a.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=a.fieldTransforms;return new sz(new Sn(s),l,u)}class Em extends Tb{_toFieldTransform(e){if(e.wu!==2)throw e.wu===1?e.Mu(`${this._methodName}() can only appear at the top level of your update data`):e.Mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Em}}function uz(t,e,n,r){const i=t.Nu(1,e,n);Ob("Data must be an object, but it was:",i,r);const o=[],a=Sn.empty();ka(r,(l,u)=>{const c=Cb(e,l,n);u=pt(u);const f=i.Cu(c);if(u instanceof Em)o.push(c);else{const d=Af(u,f);d!=null&&(o.push(c),a.set(c,d))}});const s=new Vn(o);return new lD(a,s,i.fieldTransforms)}function cz(t,e,n,r,i,o){const a=t.Nu(1,e,n),s=[m0(e,r,n)],l=[i];if(o.length%2!=0)throw new ae(H.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<o.length;d+=2)s.push(m0(e,o[d])),l.push(o[d+1]);const u=[],c=Sn.empty();for(let d=s.length-1;d>=0;--d)if(!dD(u,s[d])){const p=s[d];let m=l[d];m=pt(m);const g=a.Cu(p);if(m instanceof Em)u.push(p);else{const _=Af(m,g);_!=null&&(u.push(p),c.set(p,_))}}const f=new Vn(u);return new lD(c,f,a.fieldTransforms)}function fz(t,e,n,r=!1){return Af(n,t.Nu(r?4:3,e))}function Af(t,e){if(hD(t=pt(t)))return Ob("Unsupported field value:",e,t),fD(t,e);if(t instanceof Tb)return function(r,i){if(!uD(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){const o=[];let a=0;for(const s of r){let l=Af(s,i.Fu(a));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),a++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=pt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return r9(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Je.fromDate(r);return{timestampValue:qd(i.serializer,o)}}if(r instanceof Je){const o=new Je(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:qd(i.serializer,o)}}if(r instanceof Ab)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Bs)return{bytesValue:IN(i.serializer,r._byteString)};if(r instanceof wn){const o=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw i.Mu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:hb(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Pb)return function(a,s){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(l=>{if(typeof l!="number")throw s.Mu("VectorValues must only contain numeric values.");return lb(s.serializer,l)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${_m(r)}`)}(t,e)}function fD(t,e){const n={};return rN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ka(t,(r,i)=>{const o=Af(i,e.bu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function hD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Je||t instanceof Ab||t instanceof Bs||t instanceof wn||t instanceof Tb||t instanceof Pb)}function Ob(t,e,n){if(!hD(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=_m(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function m0(t,e,n){if((e=pt(e))instanceof bm)return e._internalPath;if(typeof e=="string")return Cb(t,e);throw Kd("Field path arguments must be of type string or ",t,!1,void 0,n)}const hz=new RegExp("[~\\*/\\[\\]]");function Cb(t,e,n){if(e.search(hz)>=0)throw Kd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new bm(...e.split("."))._internalPath}catch{throw Kd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Kd(t,e,n,r,i){const o=r&&!r.isEmpty(),a=i!==void 0;let s=`Function ${e}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new ae(H.INVALID_ARGUMENT,s+t+l)}function dD(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new dz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(kb("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class dz extends pD{data(){return super.data()}}function kb(t,e){return typeof e=="string"?Cb(t,e):e instanceof bm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pz(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ae(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rb{}class mD extends Rb{}function mz(t,e,...n){let r=[];e instanceof Rb&&r.push(e),r=r.concat(n),function(o){const a=o.filter(l=>l instanceof Db).length,s=o.filter(l=>l instanceof Nb).length;if(a>1||a>0&&s>0)throw new ae(H.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Nb extends mD{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Nb(e,n,r)}_apply(e){const n=this._parse(e);return gD(e._query,n),new Na(e.firestore,e.converter,a0(e._query,n))}_parse(e){const n=xm(e.firestore);return function(o,a,s,l,u,c,f){let d;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ae(H.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){TT(f,c);const p=[];for(const m of f)p.push(ST(l,o,m));d={arrayValue:{values:p}}}else d=ST(l,o,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||TT(f,c),d=fz(s,a,f,c==="in"||c==="not-in");return St.create(u,c,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Db extends Rb{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Db(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Sr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let a=i;const s=o.getFlattenedFilters();for(const l of s)gD(a,l),a=a0(a,l)}(e._query,n),new Na(e.firestore,e.converter,a0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class jb extends mD{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new jb(e,n)}_apply(e){const n=function(i,o,a){if(i.startAt!==null)throw new ae(H.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ae(H.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new vc(o,a)}(e._query,this._field,this._direction);return new Na(e.firestore,e.converter,function(i,o){const a=i.explicitOrderBy.concat([o]);return new ml(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function gz(t,e="asc"){const n=e,r=kb("orderBy",t);return jb._create(r,n)}function ST(t,e,n){if(typeof(n=pt(n))=="string"){if(n==="")throw new ae(H.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hN(e)&&n.indexOf("/")!==-1)throw new ae(H.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(rt.fromString(n));if(!fe.isDocumentKey(r))throw new ae(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return HS(t,new fe(r))}if(n instanceof wn)return HS(t,n._key);throw new ae(H.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_m(n)}.`)}function TT(t,e){if(!Array.isArray(t)||t.length===0)throw new ae(H.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function gD(t,e){const n=function(i,o){for(const a of i)for(const s of a.getFlattenedFilters())if(o.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ae(H.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(H.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class yz{convertValue(e,n="none"){switch(wa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(_a(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ka(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>vt(a.doubleValue));return new Pb(o)}convertGeoPoint(e){return new Ab(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=rb(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(mc(e));default:return null}}convertTimestamp(e){const n=bo(e);return new Je(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=rt.fromString(e);Ge(DN(r));const i=new gc(r.get(1),r.get(3)),o=new fe(r.popFirst(5));return i.isEqual(n)||bi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vD extends pD{constructor(e,n,r,i,o,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new od(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(kb("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class od extends vD{data(e={}){return super.data(e)}}class vz{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new bu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new od(this._firestore,this._userDataWriter,r.key,r,new bu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ae(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(s=>{const l=new od(i._firestore,i._userDataWriter,s.doc.key,s.doc,new bu(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>o||s.type!==3).map(s=>{const l=new od(i._firestore,i._userDataWriter,s.doc.key,s.doc,new bu(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return s.type!==0&&(u=a.indexOf(s.doc.key),a=a.delete(s.doc.key)),s.type!==1&&(a=a.add(s.doc),c=a.indexOf(s.doc.key)),{type:_z(s.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function _z(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wz(t){t=Tr(t,wn);const e=Tr(t.firestore,Da);return ez(Sb(e),t._key).then(n=>bz(e,t,n))}class _D extends yz{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new wn(this.firestore,null,n)}}function Sm(t){t=Tr(t,Na);const e=Tr(t.firestore,Da),n=Sb(e),r=new _D(e);return pz(t._query),tz(n,t._query).then(i=>new vz(e,r,t,i))}function wD(t,e,n){t=Tr(t,wn);const r=Tr(t.firestore,Da),i=yD(t.converter,e,n);return Tm(r,[cD(xm(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ir.none())])}function bD(t,e,n,...r){t=Tr(t,wn);const i=Tr(t.firestore,Da),o=xm(i);let a;return a=typeof(e=pt(e))=="string"||e instanceof bm?cz(o,"updateDoc",t._key,e,n,r):uz(o,"updateDoc",t._key,e),Tm(i,[a.toMutation(t._key,ir.exists(!0))])}function xD(t){return Tm(Tr(t.firestore,Da),[new ub(t._key,ir.none())])}function Mb(t,e){const n=Tr(t.firestore,Da),r=ur(t),i=yD(t.converter,e);return Tm(n,[cD(xm(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ir.exists(!1))]).then(()=>r)}function Tm(t,e){return function(r,i){const o=new fi;return r.asyncQueue.enqueueAndForget(async()=>U5(await Z5(r),i,o)),o.promise}(Sb(t),e)}function bz(t,e,n){const r=n.docs.get(e._key),i=new _D(t);return new vD(t,i,e._key,r,new bu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){pl=i})(Oa),ma(new _o("firestore",(r,{instanceIdentifier:i,options:o})=>{const a=r.getProvider("app").getImmediate(),s=new Da(new w6(r.getProvider("auth-internal")),new S6(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ae(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gc(u.options.projectId,c)}(a,i),a);return o=Object.assign({useFetchStreams:n},o),s._setSettings(o),s},"PUBLIC").setMultipleInstances(!0)),$r(US,"4.7.1",e),$r(US,"4.7.1","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED="firebasestorage.googleapis.com",SD="storageBucket",xz=2*60*1e3,Ez=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt extends Hr{constructor(e,n,r=0){super(_y(e),`Firebase Storage: ${n} (${_y(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,gt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return _y(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var mt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(mt||(mt={}));function _y(t){return"storage/"+t}function $b(){const t="An unknown error occurred, please check the error payload for server response.";return new gt(mt.UNKNOWN,t)}function Sz(t){return new gt(mt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Tz(t){return new gt(mt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Az(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new gt(mt.UNAUTHENTICATED,t)}function Pz(){return new gt(mt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Iz(t){return new gt(mt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Oz(){return new gt(mt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Cz(){return new gt(mt.CANCELED,"User canceled the upload/download.")}function kz(t){return new gt(mt.INVALID_URL,"Invalid URL '"+t+"'.")}function Rz(t){return new gt(mt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Nz(){return new gt(mt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+SD+"' property when initializing the app?")}function Dz(){return new gt(mt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function jz(){return new gt(mt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Mz(t){return new gt(mt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function g0(t){return new gt(mt.INVALID_ARGUMENT,t)}function TD(){return new gt(mt.APP_DELETED,"The Firebase app was deleted.")}function $z(t){return new gt(mt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Lu(t,e){return new gt(mt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function eu(t){throw new gt(mt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Fn.makeFromUrl(e,n)}catch{return new Fn(e,"")}if(r.path==="")return r;throw Rz(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(x){x.path.charAt(x.path.length-1)==="/"&&(x.path_=x.path_.slice(0,-1))}const a="(/(.*))?$",s=new RegExp("^gs://"+i+a,"i"),l={bucket:1,path:3};function u(x){x.path_=decodeURIComponent(x.path)}const c="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${c}/b/${i}/o${d}`,"i"),m={bucket:1,path:3},g=n===ED?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",b=new RegExp(`^https?://${g}/${i}/${_}`,"i"),v=[{regex:s,indices:l,postModify:o},{regex:p,indices:m,postModify:u},{regex:b,indices:{bucket:1,path:2},postModify:u}];for(let x=0;x<v.length;x++){const T=v[x],O=T.regex.exec(e);if(O){const S=O[T.indices.bucket];let E=O[T.indices.path];E||(E=""),r=new Fn(S,E),T.postModify(r);break}}if(r==null)throw kz(e);return r}}class Lz{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vz(t,e,n){let r=1,i=null,o=null,a=!1,s=0;function l(){return s===2}let u=!1;function c(..._){u||(u=!0,e.apply(null,_))}function f(_){i=setTimeout(()=>{i=null,t(p,l())},_)}function d(){o&&clearTimeout(o)}function p(_,...b){if(u){d();return}if(_){d(),c.call(null,_,...b);return}if(l()||a){d(),c.call(null,_,...b);return}r<64&&(r*=2);let v;s===1?(s=2,v=0):v=(r+Math.random())*1e3,f(v)}let m=!1;function g(_){m||(m=!0,d(),!u&&(i!==null?(_||(s=2),clearTimeout(i),f(0)):_||(s=1)))}return f(0),o=setTimeout(()=>{a=!0,g(!0)},n),g}function Fz(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uz(t){return t!==void 0}function Bz(t){return typeof t=="object"&&!Array.isArray(t)}function Lb(t){return typeof t=="string"||t instanceof String}function AT(t){return Vb()&&t instanceof Blob}function Vb(){return typeof Blob<"u"}function PT(t,e,n,r){if(r<e)throw g0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw g0(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function AD(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var sa;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(sa||(sa={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zz(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wz{constructor(e,n,r,i,o,a,s,l,u,c,f,d=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=a,this.callback_=s,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=f,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,m)=>{this.resolve_=p,this.reject_=m,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new xh(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const a=s=>{const l=s.loaded,u=s.lengthComputable?s.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&o.addUploadProgressListener(a),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(a),this.pendingConnection_=null;const s=o.getErrorCode()===sa.NO_ERROR,l=o.getStatus();if(!s||zz(l,this.additionalRetryCodes_)&&this.retry){const c=o.getErrorCode()===sa.ABORT;r(!1,new xh(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new xh(u,o))})},n=(r,i)=>{const o=this.resolve_,a=this.reject_,s=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(s,s.getResponse());Uz(l)?o(l):o()}catch(l){a(l)}else if(s!==null){const l=$b();l.serverResponse=s.getErrorText(),this.errorCallback_?a(this.errorCallback_(s,l)):a(l)}else if(i.canceled){const l=this.appDelete_?TD():Cz();a(l)}else{const l=Oz();a(l)}};this.canceled_?n(!1,new xh(!1,null,!0)):this.backoffId_=Vz(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Fz(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class xh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function qz(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Hz(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Kz(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Gz(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Xz(t,e,n,r,i,o,a=!0){const s=AD(t.urlParams),l=t.url+s,u=Object.assign({},t.headers);return Kz(u,e),qz(u,n),Hz(u,o),Gz(u,r),new Wz(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yz(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Qz(...t){const e=Yz();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Vb())return new Blob(t);throw new gt(mt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Jz(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zz(t){if(typeof atob>"u")throw Mz("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class wy{constructor(e,n){this.data=e,this.contentType=n||null}}function eW(t,e){switch(t){case Nr.RAW:return new wy(PD(e));case Nr.BASE64:case Nr.BASE64URL:return new wy(ID(t,e));case Nr.DATA_URL:return new wy(nW(e),rW(e))}throw $b()}function PD(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,a=t.charCodeAt(++n);r=65536|(o&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function tW(t){let e;try{e=decodeURIComponent(t)}catch{throw Lu(Nr.DATA_URL,"Malformed data URL.")}return PD(e)}function ID(t,e){switch(t){case Nr.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Lu(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Nr.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Lu(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Zz(e)}catch(i){throw i.message.includes("polyfill")?i:Lu(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class OD{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Lu(Nr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=iW(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function nW(t){const e=new OD(t);return e.base64?ID(Nr.BASE64,e.rest):tW(e.rest)}function rW(t){return new OD(t).contentType}function iW(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,n){let r=0,i="";AT(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(AT(this.data_)){const r=this.data_,i=Jz(r,e,n);return i===null?null:new Xi(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Xi(r,!0)}}static getBlob(...e){if(Vb()){const n=e.map(r=>r instanceof Xi?r.data_:r);return new Xi(Qz.apply(null,n))}else{const n=e.map(a=>Lb(a)?eW(Nr.RAW,a).data:a.data_);let r=0;n.forEach(a=>{r+=a.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(a=>{for(let s=0;s<a.length;s++)i[o++]=a[s]}),new Xi(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(t){let e;try{e=JSON.parse(t)}catch{return null}return Bz(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oW(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function aW(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function kD(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sW(t,e){return e}class dn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||sW}}let Eh=null;function lW(t){return!Lb(t)||t.length<2?t:kD(t)}function RD(){if(Eh)return Eh;const t=[];t.push(new dn("bucket")),t.push(new dn("generation")),t.push(new dn("metageneration")),t.push(new dn("name","fullPath",!0));function e(o,a){return lW(a)}const n=new dn("name");n.xform=e,t.push(n);function r(o,a){return a!==void 0?Number(a):a}const i=new dn("size");return i.xform=r,t.push(i),t.push(new dn("timeCreated")),t.push(new dn("updated")),t.push(new dn("md5Hash",null,!0)),t.push(new dn("cacheControl",null,!0)),t.push(new dn("contentDisposition",null,!0)),t.push(new dn("contentEncoding",null,!0)),t.push(new dn("contentLanguage",null,!0)),t.push(new dn("contentType",null,!0)),t.push(new dn("metadata","customMetadata",!0)),Eh=t,Eh}function uW(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new Fn(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function cW(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const a=n[o];r[a.local]=a.xform(r,e[a.server])}return uW(r,t),r}function ND(t,e,n){const r=CD(e);return r===null?null:cW(t,r,n)}function fW(t,e,n,r){const i=CD(e);if(i===null||!Lb(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const a=encodeURIComponent;return o.split(",").map(u=>{const c=t.bucket,f=t.fullPath,d="/b/"+a(c)+"/o/"+a(f),p=Fb(d,n,r),m=AD({alt:"media",token:u});return p+m})[0]}function hW(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class DD{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(t){if(!t)throw $b()}function dW(t,e){function n(r,i){const o=ND(t,i,e);return jD(o!==null),o}return n}function pW(t,e){function n(r,i){const o=ND(t,i,e);return jD(o!==null),fW(o,i,t.host,t._protocol)}return n}function MD(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Pz():i=Az():n.getStatus()===402?i=Tz(t.bucket):n.getStatus()===403?i=Iz(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function mW(t){const e=MD(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=Sz(t.path)),o.serverResponse=i.serverResponse,o}return n}function gW(t,e,n){const r=e.fullServerUrl(),i=Fb(r,t.host,t._protocol),o="GET",a=t.maxOperationRetryTime,s=new DD(i,o,pW(t,n),a);return s.errorHandler=mW(e),s}function yW(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function vW(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=yW(null,e)),r}function _W(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function s(){let v="";for(let x=0;x<2;x++)v=v+Math.random().toString().slice(2);return v}const l=s();a["Content-Type"]="multipart/related; boundary="+l;const u=vW(e,r,i),c=hW(u,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,d=`\r
--`+l+"--",p=Xi.getBlob(f,r,d);if(p===null)throw Dz();const m={name:u.fullPath},g=Fb(o,t.host,t._protocol),_="POST",b=t.maxUploadRetryTime,y=new DD(g,_,dW(t,n),b);return y.urlParams=m,y.headers=a,y.body=p.uploadData(),y.errorHandler=MD(e),y}class wW{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=sa.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=sa.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=sa.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw eu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw eu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw eu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw eu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw eu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class bW extends wW{initXhr(){this.xhr_.responseType="text"}}function $D(){return new bW}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,n){this._service=e,n instanceof Fn?this._location=n:this._location=Fn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ba(e,n)}get root(){const e=new Fn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return kD(this._location.path)}get storage(){return this._service}get parent(){const e=oW(this._location.path);if(e===null)return null;const n=new Fn(this._location.bucket,e);return new ba(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw $z(e)}}function xW(t,e,n){t._throwIfRoot("uploadBytes");const r=_W(t.storage,t._location,RD(),new Xi(e,!0),n);return t.storage.makeRequestWithTokens(r,$D).then(i=>({metadata:i,ref:t}))}function EW(t){t._throwIfRoot("getDownloadURL");const e=gW(t.storage,t._location,RD());return t.storage.makeRequestWithTokens(e,$D).then(n=>{if(n===null)throw jz();return n})}function SW(t,e){const n=aW(t._location.path,e),r=new Fn(t._location.bucket,n);return new ba(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TW(t){return/^[A-Za-z]+:\/\//.test(t)}function AW(t,e){return new ba(t,e)}function LD(t,e){if(t instanceof Ub){const n=t;if(n._bucket==null)throw Nz();const r=new ba(n,n._bucket);return e!=null?LD(r,e):r}else return e!==void 0?SW(t,e):t}function PW(t,e){if(e&&TW(e)){if(t instanceof Ub)return AW(t,e);throw g0("To use ref(service, url), the first argument must be a Storage instance.")}else return LD(t,e)}function IT(t,e){const n=e==null?void 0:e[SD];return n==null?null:Fn.makeFromBucketSpec(n,t)}function IW(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:lR(i,t.app.options.projectId))}class Ub{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=ED,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=xz,this._maxUploadRetryTime=Ez,this._requests=new Set,i!=null?this._bucket=Fn.makeFromBucketSpec(i,this._host):this._bucket=IT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Fn.makeFromBucketSpec(this._url,e):this._bucket=IT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){PT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){PT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ba(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new Lz(TD());{const a=Xz(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const OT="@firebase/storage",CT="0.13.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD="storage";function OW(t,e,n){return t=pt(t),xW(t,e,n)}function FD(t){return t=pt(t),EW(t)}function UD(t,e){return t=pt(t),PW(t,e)}function CW(t=zw(),e){t=pt(t);const r=am(t,VD).getImmediate({identifier:e}),i=oR("storage");return i&&kW(r,...i),r}function kW(t,e,n,r={}){IW(t,e,n,r)}function RW(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Ub(n,r,i,e,Oa)}function NW(){ma(new _o(VD,RW,"PUBLIC").setMultipleInstances(!0)),$r(OT,CT,""),$r(OT,CT,"esm2017")}NW();const DW={apiKey:"AIzaSyAoA9vGq5gsjRVqngQcfX9wDHv03MFX8Mo",authDomain:"habit-piggy-project.firebaseapp.com",projectId:"habit-piggy-project",storageBucket:"habit-piggy-project.appspot.com",messagingSenderId:"230345565651",appId:"1:230345565651:web:4f5fae0a011a8a355cbb26",measurementId:"G-D5V6H13VEM"},BD=fR(DW),Cn=oz(BD),zD=CW(BD),WD=Zw();async function jW(t,e){try{const r=(await ZB(WD,t,e)).user;console.log("User created: ",r);const i=ur(Cn,"users",r.uid);await wD(i,{uid:r.uid,email:r.email,name:"",introduction:"",avatar:"",createdTime:Je.now(),levelPoints:0,isAcceptReminder:!1,achievements:[],badges:[]}),console.log("User data created with ID: ",r.uid),ko(i,"habits"),console.log("Empty habits sub-collection created for user ID: ",r.uid)}catch(n){console.error("Error creating user: ",n.code,n.message)}}async function MW(){try{await i3(WD),console.log("User signed out")}catch(t){console.error("Error signing out: ",t.code,t.message)}}async function $W(t,e){try{const n=ur(Cn,"users",t);await wD(n,e,{merge:!0}),console.log("User profile updated with ID: ",t)}catch(n){console.error("Error updating user profile: ",n.code,n.message)}}async function y0(t){try{const e=ur(Cn,"users",t),n=await wz(e);if(n.exists()){const r=n.data();if(!r.avatar){const i=await by("Piggy.png");r.avatar=i}return r}else return console.log("No such document!"),{name:"Unknown",levelPoints:0,avatar:await by("Piggy.png")}}catch(e){return console.error("Error getting user profile: ",e.code,e.message),{name:"Unknown",levelPoints:0,avatar:await by("Piggy.png")}}}async function kT(){try{const t=ko(Cn,"users");return(await Sm(t)).docs.map(r=>({id:r.id,...r.data()}))}catch(t){return console.error("Error getting users: ",t.code,t.message),[]}}async function LW(t,e){try{const n=ur(Cn,"users",t),r=ko(n,"habits");await Mb(r,{...e,createdTime:Je.now()}),console.log("Habit added for user ID: ",t)}catch(n){console.error("Error adding habit: ",n.code,n.message)}}async function bc(t){try{const e=ur(Cn,"users",t),n=ko(e,"habits");return(await Sm(n)).docs.map(o=>({id:o.id,...o.data()}))}catch(e){return console.error("Error getting habits: ",e.code,e.message),[]}}async function v0(t,e,n){try{const r=ur(Cn,"users",t,"habits",e);await bD(r,{...n,updatedTime:Je.now()})}catch(r){console.error("Error updating habit: ",r.code,r.message)}}async function qD(t,e){try{const n=ur(Cn,"users",t,"habits",e);await xD(n),console.log("Habit deleted with ID: ",e)}catch(n){console.error("Error deleting habit: ",n.code,n.message)}}async function HD(t,e){try{const n=ko(Cn,"posts"),r=await Mb(n,{...e,userID:t,createdTime:Je.now(),updatedTime:Je.now()});return console.log("Post added with ID: ",r.id),r.id}catch(n){console.error("Error adding post: ",n.code,n.message)}}async function VW(){try{const t=ko(Cn,"posts"),e=mz(t,gz("createdTime","desc"));return(await Sm(e)).docs.map(i=>({id:i.id,...i.data()}))}catch(t){return console.error("Error getting posts: ",t.code,t.message),[]}}async function FW(t,e){try{const n=UD(zD,`avatars/${t}`),r=await OW(n,e),i=await FD(r.ref);return console.log("Avatar uploaded: ",i),i}catch(n){return console.error("Error uploading avatar: ",n.code,n.message),null}}async function by(t){try{const e=UD(zD,`default_avatars/${t}`),n=await FD(e);return console.log("Default avatar URL: ",n),n}catch(e){return console.error("Error getting default avatar: ",e.code,e.message),"https://firebasestorage.googleapis.com/v0/b/habit-piggy-project.appspot.com/o/avatars%2FPiggy.png?alt=media&token=be62eb4e-44a3-46c5-ba6d-bba575da75a8"}}async function UW(t,e){try{const n=ur(Cn,"posts",t),r=ko(n,"comments");await Mb(r,{...e,createdTime:Je.now()}),console.log("Comment added to post ID: ",t)}catch(n){console.error("Error adding comment: ",n.code,n.message)}}async function Sh(t){try{const e=ur(Cn,"posts",t),n=ko(e,"comments");return(await Sm(n)).docs.map(o=>({id:o.id,...o.data()}))}catch(e){return console.error("Error getting comments: ",e.code,e.message),[]}}async function BW(t,e,n){try{const r=ur(Cn,"posts",t,"comments",e);await bD(r,{...n,updatedTime:Je.now()}),console.log("Comment updated with ID: ",e)}catch(r){console.error("Error updating comment: ",r.code,r.message)}}async function zW(t,e){try{const n=ur(Cn,"posts",t,"comments",e);await xD(n),console.log("Comment deleted with ID: ",e)}catch(n){console.error("Error deleting comment: ",n.code,n.message)}}var KD={exports:{}},WW="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",qW=WW,HW=qW;function GD(){}function XD(){}XD.resetWarningCache=GD;var KW=function(){function t(r,i,o,a,s,l){if(l!==HW){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:XD,resetWarningCache:GD};return n.PropTypes=n,n};KD.exports=KW();var GW=KD.exports;const X=Be(GW),ja=j.createContext(),YD=({children:t})=>{const[e,n]=j.useState(null),r=Zw();return j.useEffect(()=>{const i=r3(r,o=>{n(o)});return()=>i()},[r]),P.jsx(ja.Provider,{value:{user:e,setUser:n},children:t})};YD.propTypes={children:X.node};function XW(){const[t,e]=j.useState(""),[n,r]=j.useState(""),[i,o]=j.useState(!0),[a,s]=j.useState(!1),{setUser:l}=j.useContext(ja),u=async()=>{await jW(t,n),alert("Registered successfully"),o(!0),e(""),r("")},c=async()=>{const d=Zw();try{const p=await e3(d,t,n);l(p.user),s(!0),console.log("Login with",t,n),e(""),r("")}catch(p){console.error("Error logging in: ",p.code,p.message)}},f=async()=>{await MW(),l(null),alert("Logged out successfully")};return a?P.jsx(Fw,{to:"/home"}):P.jsxs("div",{className:"p-4 space-y-4 mb-16 md:mb-0",children:[P.jsxs("ul",{className:"grid grid-cols-2 w-full",children:[P.jsx("li",{className:`border p-2 text-center ${i?"bg-gray-200":""}`,onClick:()=>o(!0),children:"Login"}),P.jsx("li",{className:`border p-2 text-center ${i?"":"bg-gray-200"}`,onClick:()=>o(!1),children:"Register"})]}),i?P.jsxs("div",{className:"flex flex-col",children:[P.jsx("label",{htmlFor:"email",children:"Email"}),P.jsx("input",{type:"text",name:"email",id:"email",placeholder:"email",className:"border p-3",value:t,onChange:d=>e(d.target.value)}),P.jsx("label",{htmlFor:"password",children:"Password"}),P.jsx("input",{type:"password",name:"password",id:"password",placeholder:"password",className:"border p-3",value:n,onChange:d=>r(d.target.value)}),P.jsx("button",{className:"border p-3 mt-4",onClick:c,children:"Login"}),P.jsx("button",{className:"border bg-slate-300 p-3 mt-4",onClick:f,children:"Logout"})]}):P.jsxs("div",{className:"flex flex-col",children:[P.jsx("label",{htmlFor:"email",children:"Email"}),P.jsx("input",{type:"text",name:"email",id:"email",placeholder:"email",className:"border p-3",value:t,onChange:d=>e(d.target.value)}),P.jsx("label",{htmlFor:"password",children:"Password"}),P.jsx("input",{type:"password",name:"password",id:"password",placeholder:"password",className:"border p-3",value:n,onChange:d=>r(d.target.value)}),P.jsx("button",{className:"border p-3 mt-4",onClick:u,children:"Register"})]})]})}const QD=({date:t,onSelect:e,onWeekChange:n})=>{const[r]=j.useState(["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]),[i]=j.useState(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),[o,a]=j.useState(null),[s,l]=j.useState(null),[u,c]=j.useState(null);j.useEffect(()=>{const v=new Date;l({year:v.getFullYear(),month:v.getMonth(),day:v.getDate()}),a(t?{...t}:{year:v.getFullYear(),month:v.getMonth(),day:v.getDate()})},[t]),j.useEffect(()=>{if(o){const v=new Date(o.year,o.month,o.day-new Date(o.year,o.month,o.day).getDay()),x=[];for(let T=0;T<7;T++){const O=new Date(v);O.setDate(v.getDate()+T),x.push({year:O.getFullYear(),month:O.getMonth(),day:O.getDate()})}n(x)}},[o,n]);const f=()=>{if(!o)return[];const v=[],x=o.year,T=o.month,O=o.day,S=new Date(x,T,O-new Date(x,T,O).getDay());for(let E=0;E<7;E++){const I=new Date(S);I.setDate(S.getDate()+E),v.push({value:I.getDate(),year:I.getFullYear(),month:I.getMonth()})}return v},d=v=>{p(v)},p=v=>{a(x=>{const T=new Date(x.year,x.month,x.day+(v?7:-7)),O=new Date(T.getFullYear(),T.getMonth(),T.getDate()-T.getDay()),S={year:O.getFullYear(),month:O.getMonth(),day:O.getDate()};return c(S),e(S),{year:T.getFullYear(),month:T.getMonth(),day:T.getDate()}})},m=v=>{const x={...o,day:v.value,month:v.month,year:v.year};c(x),e(x)},g=v=>v.value===s.day&&s.year===v.year&&s.month===v.month,_=v=>u&&v.value===u.day&&u.year===v.year&&u.month===v.month;if(!o)return null;const b=new Date(o.year,o.month,o.day-new Date(o.year,o.month,o.day).getDay()),y=`${i[b.getMonth()]} ${b.getFullYear()}`;return P.jsxs("div",{className:"p-4 bg-slate-300",children:[P.jsxs("div",{className:"flex justify-between mb-3",children:[P.jsx("button",{onClick:()=>d(!1),children:"prev"}),P.jsx("h1",{children:y}),P.jsx("button",{onClick:()=>d(!0),children:"next"})]}),P.jsxs("div",{className:"grid grid-cols-7 gap-x-4 text-center",children:[r.map((v,x)=>P.jsx("div",{className:"font-bold",children:v},x)),f().map((v,x)=>P.jsx("div",{className:`border-t border-r flex items-center justify-center bg-white ${g(v)?"bg-yellow-400":_(v)?"bg-yellow-200":""}`,onClick:()=>m(v),children:v.value},x))]})]})};QD.propTypes={date:X.object,onSelect:X.func,onWeekChange:X.func.isRequired};const oi=({isOpen:t,children:e})=>t?P.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",children:P.jsx("div",{className:"p-4 bg-slate-100 w-2/3 h-fit space-y-4 md:w-1/2 md:ml-40",children:P.jsx("div",{className:"flex justify-between items-center",children:P.jsx("div",{className:"w-full",children:e})})})}):null;oi.propTypes={isOpen:X.bool.isRequired,children:X.node.isRequired};const xc=({date:t,onSelect:e})=>{const[n]=j.useState(["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]),[r]=j.useState(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),[i,o]=j.useState(null),[a,s]=j.useState(null);j.useEffect(()=>{const m=new Date;s({year:m.getFullYear(),month:m.getMonth(),day:m.getDate()}),o(t?{...t}:{year:m.getFullYear(),month:m.getMonth(),day:m.getDate()})},[t]);const l=()=>{if(!i)return[];const m=[],g=i.year,_=i.month,b=new Date(g,_,1),y=new Date(g,_+1,0),v=b.getDay(),x=y.getDate();for(let T=0;T<v;T++)m.push(null);for(let T=1;T<=x;T++)m.push({value:T,year:g,month:_});return m},u=m=>{c(m)},c=m=>{o(g=>{const _=new Date(g.year,g.month+(m?1:-1),1);return{year:_.getFullYear(),month:_.getMonth(),day:_.getDate()}})},f=m=>{const g={...i,day:m.value,month:m.month,year:m.year};e(g)},d=m=>m&&m.value===a.day&&a.year===m.year&&a.month===m.month;if(!i)return null;const p=`${r[i.month]} ${i.year}`;return P.jsxs("div",{className:"p-4 bg-slate-300",children:[P.jsxs("div",{className:"flex justify-between mb-3",children:[P.jsx("button",{onClick:()=>u(!1),children:"prev"}),P.jsx("h1",{children:p}),P.jsx("button",{onClick:()=>u(!0),children:"next"})]}),P.jsxs("div",{className:"grid grid-cols-7 text-center",children:[n.map((m,g)=>P.jsx("div",{className:"font-bold",children:m},g)),l().map((m,g)=>P.jsx("div",{className:`border-t border-r flex items-center justify-center bg-white ${d(m)?"bg-yellow-500":""}`,onClick:()=>m&&f(m),children:m?m.value:""},g))]})]})};xc.propTypes={date:X.object,onSelect:X.func};var JD={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},RT=M.createContext&&M.createContext(JD),YW=["attr","size","title"];function QW(t,e){if(t==null)return{};var n=JW(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function JW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Gd(){return Gd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gd.apply(this,arguments)}function NT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NT(Object(n),!0).forEach(function(r){ZW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZW(t,e,n){return e=e8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e8(t){var e=t8(t,"string");return typeof e=="symbol"?e:e+""}function t8(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZD(t){return t&&t.map((e,n)=>M.createElement(e.tag,Xd({key:n},e.attr),ZD(e.child)))}function kn(t){return e=>M.createElement(n8,Gd({attr:Xd({},t.attr)},e),ZD(t.child))}function n8(t){var e=n=>{var{attr:r,size:i,title:o}=t,a=QW(t,YW),s=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),M.createElement("svg",Gd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:l,style:Xd(Xd({color:t.color||n.color},n.style),t.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),o&&M.createElement("title",null,o),t.children)};return RT!==void 0?M.createElement(RT.Consumer,null,n=>e(n)):e(JD)}function r8(t){return kn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0"},child:[]},{tag:"path",attr:{d:"M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0"},child:[]},{tag:"path",attr:{d:"M3 6l0 13"},child:[]},{tag:"path",attr:{d:"M12 6l0 13"},child:[]},{tag:"path",attr:{d:"M21 6l0 13"},child:[]}]})(t)}function i8(t){return kn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 11h16a1 1 0 0 1 1 1v.5c0 1.5 -2.517 5.573 -4 6.5v1a1 1 0 0 1 -1 1h-8a1 1 0 0 1 -1 -1v-1c-1.687 -1.054 -4 -5 -4 -6.5v-.5a1 1 0 0 1 1 -1z"},child:[]},{tag:"path",attr:{d:"M19 7l-14 1"},child:[]},{tag:"path",attr:{d:"M19 2l-14 3"},child:[]}]})(t)}function o8(t){return kn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M7 9m0 2a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v6a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2z"},child:[]},{tag:"path",attr:{d:"M14 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"},child:[]},{tag:"path",attr:{d:"M17 9v-2a2 2 0 0 0 -2 -2h-10a2 2 0 0 0 -2 2v6a2 2 0 0 0 2 2h2"},child:[]}]})(t)}function a8(t){return kn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12l5 5l10 -10"},child:[]}]})(t)}function s8(t){return kn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"},child:[]},{tag:"path",attr:{d:"M14.8 9a2 2 0 0 0 -1.8 -1h-2a2 2 0 1 0 0 4h2a2 2 0 1 1 0 4h-2a2 2 0 0 1 -1.8 -1"},child:[]},{tag:"path",attr:{d:"M12 7v10"},child:[]}]})(t)}function l8(t){return kn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 11v-3.5a1.5 1.5 0 0 1 3 0v2.5"},child:[]},{tag:"path",attr:{d:"M11 9.5v-3a1.5 1.5 0 0 1 3 0v3.5"},child:[]},{tag:"path",attr:{d:"M14 7.5a1.5 1.5 0 0 1 3 0v2.5"},child:[]},{tag:"path",attr:{d:"M17 9.5a1.5 1.5 0 0 1 3 0v4.5a6 6 0 0 1 -6 6h-2h.208a6 6 0 0 1 -5.012 -2.7l-.196 -.3c-.312 -.479 -1.407 -2.388 -3.286 -5.728a1.5 1.5 0 0 1 .536 -2.022a1.867 1.867 0 0 1 2.28 .28l1.47 1.47"},child:[]}]})(t)}function u8(t){return kn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12l-2 0l9 -9l9 9l-2 0"},child:[]},{tag:"path",attr:{d:"M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7"},child:[]},{tag:"path",attr:{d:"M10 12h4v4h-4z"},child:[]}]})(t)}function c8(t){return kn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 3h6l3 7l-6 2l-6 -2z"},child:[]},{tag:"path",attr:{d:"M12 12l-3 -9"},child:[]},{tag:"path",attr:{d:"M15 11l-3 -8"},child:[]},{tag:"path",attr:{d:"M12 19.5l-3 1.5l.5 -3.5l-2 -2l3 -.5l1.5 -3l1.5 3l3 .5l-2 2l.5 3.5z"},child:[]}]})(t)}function f8(t){return kn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 9h8"},child:[]},{tag:"path",attr:{d:"M8 13h6"},child:[]},{tag:"path",attr:{d:"M18 4a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-5l-5 3v-3h-2a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12z"},child:[]}]})(t)}function h8(t){return kn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12a9 9 0 1 0 -8.012 8.946"},child:[]},{tag:"path",attr:{d:"M9 10h.01"},child:[]},{tag:"path",attr:{d:"M15 10h.01"},child:[]},{tag:"path",attr:{d:"M9.5 15a3.59 3.59 0 0 0 2.774 .99"},child:[]},{tag:"path",attr:{d:"M18.994 21.5l2.518 -2.58a1.74 1.74 0 0 0 .004 -2.413a1.627 1.627 0 0 0 -2.346 -.005l-.168 .172l-.168 -.172a1.627 1.627 0 0 0 -2.346 -.004a1.74 1.74 0 0 0 -.004 2.412l2.51 2.59z"},child:[]}]})(t)}function d8(t){return kn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"},child:[]},{tag:"path",attr:{d:"M9 10l.01 0"},child:[]},{tag:"path",attr:{d:"M15 10l.01 0"},child:[]},{tag:"path",attr:{d:"M9.5 15a3.5 3.5 0 0 0 5 0"},child:[]}]})(t)}function p8(t){return kn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M7 15h10v4a2 2 0 0 1 -2 2h-6a2 2 0 0 1 -2 -2v-4z"},child:[]},{tag:"path",attr:{d:"M12 9a6 6 0 0 0 -6 -6h-3v2a6 6 0 0 0 6 6h3"},child:[]},{tag:"path",attr:{d:"M12 11a6 6 0 0 1 6 -6h3v1a6 6 0 0 1 -6 6h-3"},child:[]},{tag:"path",attr:{d:"M12 15l0 -6"},child:[]}]})(t)}function m8(t){return kn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 13a8 8 0 0 1 7 7a6 6 0 0 0 3 -5a9 9 0 0 0 6 -8a3 3 0 0 0 -3 -3a9 9 0 0 0 -8 6a6 6 0 0 0 -5 3"},child:[]},{tag:"path",attr:{d:"M7 14a6 6 0 0 0 -3 6a6 6 0 0 0 6 -3"},child:[]},{tag:"path",attr:{d:"M15 9m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]}]})(t)}function g8(t){return kn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M13 4m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M7 21l3 -4"},child:[]},{tag:"path",attr:{d:"M16 21l-2 -4l-3 -3l1 -6"},child:[]},{tag:"path",attr:{d:"M6 12l2 -3l4 -1l3 3l3 1"},child:[]}]})(t)}const tu={TbHome2:u8,TbCoin:s8,TbMedal2:c8,TbMessage:f8,TbMoodSmile:d8},nn={TbRocket:m8,TbBook:r8,TbWalk:g8,TbBowlChopsticks:i8,TbMoodHeart:h8,TbHandGrab:l8,TbCash:o8,TbPlant:p8},y8={TbCheck:a8},Am=({options:t,value:e,onChange:n})=>{const[r,i]=j.useState(!1),o=s=>{n(s),i(!1)},a=t.find(s=>s.id===e);return P.jsxs("div",{className:"relative",children:[P.jsx("div",{className:"cursor-pointer",onClick:()=>i(!r),children:e===null?P.jsx("div",{className:"bg-slate-300 w-10 h-10 rounded-full flex justify-center items-center",children:P.jsx(y8.TbCheck,{className:"w-8 h-8"})}):a&&P.jsx("div",{className:"bg-yellow-400 w-10 h-10 rounded-full flex justify-center items-center",children:P.jsx(a.icon,{className:"w-8 h-8"})})}),r&&P.jsx("ul",{className:"absolute top-14 z-10 bg-white border p-4 grid grid-cols-4 min-w-max gap-6",children:t.map(s=>P.jsxs("li",{className:"w-16 h-fit cursor-pointer flex flex-col items-center gap-1 text-nowrap",onClick:()=>o(s.id),children:[P.jsx("div",{className:"bg-slate-300 w-10 h-10 rounded-full flex justify-center items-center hover:bg-yellow-400",children:P.jsx(s.icon,{className:"w-8 h-8"})}),s.name]},s.id))})]})};Am.propTypes={options:X.array.isRequired,value:X.any,onChange:X.func.isRequired};Am.defaultProps={value:null};const e2=({habitData:t,handleHabitChange:e,handleAddHabit:n,handleFocus:r,showMonthCalendar:i,calendarTarget:o,calendarRef:a,handleHabitModal:s,habitCategories:l,setHabitData:u,monthCalendarDate:c,handleMonthCalendarSelectDate:f})=>{const[d,p]=j.useState(t.frequency.days||[]);j.useEffect(()=>{p(t.frequency.days||[])},[t.frequency.days]);const m=g=>{const _=d.includes(g)?d.filter(b=>b!==g):[...d,g];p(_),u(b=>({...b,frequency:{...b.frequency,days:_}}))};return P.jsxs("div",{className:"space-y-4",children:[P.jsxs("div",{className:"flex justify-between gap-4",children:[P.jsxs("div",{className:"flex gap-4 w-full",children:[P.jsx(Am,{options:l,value:t.category,onChange:g=>e({target:{name:"category",value:g}})}),P.jsx("input",{type:"text",name:"title",placeholder:"",className:"py-2 px-4 w-full",value:t.title,onChange:e})]}),P.jsx("button",{onClick:s,children:"close"})]}),P.jsxs("div",{className:"flex justify-between gap-4",children:[P.jsx("label",{htmlFor:"frequency",children:""}),P.jsxs("div",{className:"flex items-center gap-2",children:[P.jsx("input",{type:"radio",name:"frequency",id:"daily",value:"daily",className:"appearance-none h-4 w-4 border border-gray-300 rounded-full checked:bg-slate-500 checked:border-transparent focus:outline-none",checked:t.frequency.type==="daily",onChange:e}),P.jsx("label",{htmlFor:"daily",children:""})]}),P.jsxs("div",{className:"flex items-center gap-2",children:[P.jsx("input",{type:"radio",name:"frequency",id:"weekly",value:"weekly",className:"appearance-none h-4 w-4 border border-gray-300 rounded-full checked:bg-slate-500 checked:border-transparent focus:outline-none",checked:t.frequency.type==="weekly",onChange:e}),P.jsx("label",{htmlFor:"weekly",children:""})]}),P.jsxs("div",{className:"flex items-center gap-2",children:[P.jsx("input",{type:"radio",name:"frequency",id:"specificDays",value:"specificDays",className:"appearance-none h-4 w-4 border border-gray-300 rounded-full checked:bg-slate-500 checked:border-transparent focus:outline-none",checked:t.frequency.type==="specificDays",onChange:e}),P.jsx("label",{htmlFor:"specificDays",children:""})]})]}),t.frequency.type==="specificDays"&&P.jsx("div",{className:"grid grid-cols-7 gap-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((g,_)=>P.jsxs("div",{className:"text-center flex flex-col",children:[g,P.jsx("button",{className:`border ${d.includes(g)?"bg-yellow-400 text-white":""}`,onClick:()=>m(g),children:"DO"})]},_))}),P.jsxs("div",{className:"flex justify-between gap-4",children:[P.jsx("label",{htmlFor:"amount",children:""}),P.jsxs("div",{className:"flex gap-2",children:[P.jsx("p",{children:"NT$"}),P.jsx("input",{type:"number",name:"amount",id:"amount",className:"px-4 text-end",value:t.amount,onChange:e})]})]}),P.jsxs("div",{className:"flex justify-between gap-4 w-full",children:[P.jsx("label",{htmlFor:"range",className:"text-nowrap",children:""}),P.jsxs("div",{className:"relative",children:[P.jsx("input",{type:"text",name:"startDate",id:"startDate",className:"text-center w-28",placeholder:"",value:t.startDate,onFocus:()=>r("startDate"),onChange:e}),i&&o==="startDate"&&P.jsx("div",{ref:a,className:"absolute z-10 bg-white shadow-lg w-[300px]",children:P.jsx(xc,{date:c,onSelect:f})})]}),P.jsx("p",{children:"~"}),P.jsxs("div",{className:"relative",children:[P.jsx("input",{type:"text",name:"endDate",id:"endDate",className:"text-center w-28",placeholder:"",value:t.endDate,onFocus:()=>r("endDate"),onChange:e}),i&&o==="endDate"&&P.jsx("div",{ref:a,className:"absolute z-10 bg-white shadow-lg w-[300px]",children:P.jsx(xc,{date:c,onSelect:f})})]})]}),P.jsx("button",{className:"w-full border",onClick:n,children:""})]})};e2.propTypes={habitData:X.object.isRequired,handleHabitChange:X.func.isRequired,handleAddHabit:X.func.isRequired,handleFocus:X.func.isRequired,showMonthCalendar:X.bool.isRequired,calendarTarget:X.string.isRequired,selectedDate:X.object.isRequired,handleSelectDate:X.func.isRequired,calendarRef:X.object.isRequired,handleHabitModal:X.func.isRequired,habitCategories:X.array.isRequired,setHabitData:X.func.isRequired,monthCalendarDate:X.object.isRequired,handleMonthCalendarSelectDate:X.func.isRequired};const Bb=({selectedHabit:t,handleDetailModal:e,handlePostModal:n,uncompletedFine:r,handleEditModal:i,habitCategories:o})=>{const a=o.find(l=>l.id===t.category),s=a?a.icon:null;return P.jsxs("div",{className:"space-y-4",children:[P.jsxs("div",{className:"flex justify-between items-center",children:[P.jsxs("div",{className:"flex gap-4",children:[P.jsx("div",{className:"w-10 h-10 bg-yellow-400 rounded-full flex items-center justify-center",children:s&&P.jsx(s,{className:"w-8 h-8"})}),P.jsxs("div",{className:"flex flex-col",children:[P.jsxs("div",{className:"flex gap-2",children:[P.jsx("h3",{children:t.title}),P.jsx("button",{onClick:()=>i(t),children:"edit"})]}),P.jsx("p",{children:t.frequency.type})]})]}),P.jsx("button",{onClick:e,children:"close"})]}),P.jsxs("div",{className:"flex justify-between",children:[P.jsx("h3",{children:""}),P.jsxs("p",{children:[t.startDate,"",t.endDate]})]}),P.jsx("div",{className:"grid grid-cols-10 gap-3",children:t.status.map((l,u)=>P.jsx("div",{className:`border h-9 md:h-12 ${u<t.status.filter(c=>c.completed).length?"bg-yellow-400":""}`},u))}),P.jsxs("div",{className:"flex justify-between",children:[P.jsx("p",{children:""}),P.jsxs("p",{children:["NT$ ",r]})]}),P.jsx("button",{className:"py-1 w-full bg-yellow-400",onClick:n,children:""})]})};Bb.propTypes={selectedHabit:X.object.isRequired,handleDetailModal:X.func.isRequired,handlePostModal:X.func.isRequired,uncompletedFine:X.number.isRequired,handleEditModal:X.func.isRequired,habitCategories:X.array.isRequired};const zb=({postContent:t,setPostContent:e,handleAddPost:n,handlePostModal:r})=>P.jsxs("div",{className:"space-y-4",children:[P.jsxs("div",{className:"flex justify-between items-center",children:[P.jsx("h3",{children:""}),P.jsx("button",{onClick:r,children:"close"})]}),P.jsx("textarea",{className:"w-full h-40 border p-2",placeholder:"...",required:!0,value:t,onChange:i=>e(i.target.value)}),P.jsx("button",{className:"py-1 w-full bg-slate-300",onClick:n,children:""})]});zb.propTypes={postContent:X.string.isRequired,setPostContent:X.func.isRequired,handleAddPost:X.func.isRequired,handlePostModal:X.func.isRequired};const Wb=({habitData:t,handleHabitChange:e,handleUpdateHabit:n,handleDeleteHabit:r,handleFocus:i,showMonthCalendar:o,calendarTarget:a,calendarRef:s,handleEditModal:l,habitCategories:u,setHabitData:c,monthCalendarDate:f,handleMonthCalendarSelectDate:d})=>{const[p,m]=j.useState(t.frequency.days||[]);j.useEffect(()=>{m(t.frequency.days||[])},[t.frequency.days]);const g=b=>{const y=p.includes(b)?p.filter(v=>v!==b):[...p,b];m(y),c(v=>{const x={...v.frequency,days:y},T=_(v.startDate,v.endDate,x);return{...v,frequency:x,status:T}})},_=(b,y,v)=>{const x=new Date(b),T=new Date(y),O=[];if(v.type==="daily")for(let S=x;S<=T;S.setDate(S.getDate()+1))O.push({date:new Date(S).toDateString(),completed:!1});else if(v.type==="weekly")for(let S=x;S<=T;S.setDate(S.getDate()+7))O.push({date:new Date(S).toDateString(),completed:!1});else if(v.type==="specificDays"){const S=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],E=v.days||[];for(let I=x;I<=T;I.setDate(I.getDate()+1))E.includes(S[I.getDay()])&&O.push({date:new Date(I).toDateString(),completed:!1})}return O};return P.jsxs("div",{className:"space-y-4",children:[P.jsxs("div",{className:"flex justify-between gap-4",children:[P.jsxs("div",{className:"flex gap-4 w-full",children:[P.jsx(Am,{options:u,value:t.category,onChange:b=>e({target:{name:"category",value:b}})}),P.jsx("input",{type:"text",name:"title",placeholder:"",className:"py-2 px-4 w-full",value:t.title,onChange:e})]}),P.jsx("button",{onClick:l,children:"close"})]}),P.jsxs("div",{className:"flex justify-between gap-4",children:[P.jsx("label",{htmlFor:"frequency",children:""}),P.jsxs("div",{className:"flex items-center gap-2",children:[P.jsx("input",{type:"radio",name:"frequency",id:"daily",value:"daily",className:"appearance-none h-4 w-4 border border-gray-300 rounded-full checked:bg-slate-500 checked:border-transparent focus:outline-none",checked:t.frequency.type==="daily",onChange:e}),P.jsx("label",{htmlFor:"daily",children:""})]}),P.jsxs("div",{className:"flex items-center gap-2",children:[P.jsx("input",{type:"radio",name:"frequency",id:"weekly",value:"weekly",className:"appearance-none h-4 w-4 border border-gray-300 rounded-full checked:bg-slate-500 checked:border-transparent focus:outline-none",checked:t.frequency.type==="weekly",onChange:e}),P.jsx("label",{htmlFor:"weekly",children:""})]}),P.jsxs("div",{className:"flex items-center gap-2",children:[P.jsx("input",{type:"radio",name:"frequency",id:"specificDays",value:"specificDays",className:"appearance-none h-4 w-4 border border-gray-300 rounded-full checked:bg-slate-500 checked:border-transparent focus:outline-none",checked:t.frequency.type==="specificDays",onChange:e}),P.jsx("label",{htmlFor:"specificDays",children:""})]})]}),t.frequency.type==="specificDays"&&P.jsx("div",{className:"grid grid-cols-7 gap-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((b,y)=>P.jsxs("div",{className:"text-center flex flex-col",children:[b,P.jsx("button",{className:`border ${p.includes(b)?"bg-yellow-400 text-white":""}`,onClick:()=>g(b),children:"DO"})]},y))}),P.jsxs("div",{className:"flex justify-between gap-4",children:[P.jsx("label",{htmlFor:"amount",children:""}),P.jsxs("div",{className:"flex gap-2",children:[P.jsx("p",{children:"NT$"}),P.jsx("input",{type:"number",name:"amount",id:"amount",className:"px-4",value:t.amount,onChange:e})]})]}),P.jsxs("div",{className:"flex justify-between gap-4 w-full",children:[P.jsx("label",{htmlFor:"range",className:"text-nowrap",children:""}),P.jsxs("div",{className:"relative",children:[P.jsx("input",{type:"text",name:"startDate",id:"startDate",className:"text-center w-28",placeholder:"",value:t.startDate,onFocus:()=>i("startDate"),onChange:e}),o&&a==="startDate"&&P.jsx("div",{ref:s,className:"absolute z-10 bg-white shadow-lg w-[300px]",children:P.jsx(xc,{date:f,onSelect:d})})]}),P.jsx("p",{children:"~"}),P.jsxs("div",{className:"relative",children:[P.jsx("input",{type:"text",name:"endDate",id:"endDate",className:"text-center w-28",placeholder:"",value:t.endDate,onFocus:()=>i("endDate"),onChange:e}),o&&a==="endDate"&&P.jsx("div",{ref:s,className:"absolute z-10 bg-white shadow-lg w-[300px]",children:P.jsx(xc,{date:f,onSelect:d})})]})]}),P.jsx("button",{className:"w-full border",onClick:n,children:""}),P.jsx("button",{className:"w-full border bg-red-500 text-white",onClick:r,children:""})]})};Wb.propTypes={habitData:X.object.isRequired,handleHabitChange:X.func.isRequired,handleUpdateHabit:X.func.isRequired,handleDeleteHabit:X.func.isRequired,handleFocus:X.func.isRequired,showMonthCalendar:X.bool.isRequired,calendarTarget:X.string.isRequired,selectedDate:X.object.isRequired,handleSelectDate:X.func.isRequired,calendarRef:X.object.isRequired,handleEditModal:X.func.isRequired,habitCategories:X.array.isRequired,setHabitData:X.func.isRequired,monthCalendarDate:X.object.isRequired,handleMonthCalendarSelectDate:X.func.isRequired};function v8(){const[t,e]=j.useState(!1),[n,r]=j.useState(!1),[i,o]=j.useState(!1),[a,s]=j.useState(!1),[l,u]=j.useState({category:null,title:"",frequency:{type:"daily"},amount:0,startDate:"",endDate:"",status:[]}),[c,f]=j.useState([]),[d,p]=j.useState(null),[m,g]=j.useState(!1),[_,b]=j.useState(""),[y,v]=j.useState(null),[x,T]=j.useState(""),[O,S]=j.useState([]),[E,I]=j.useState(0),[C,R]=j.useState(null),[D,k]=j.useState(!1),V=j.useRef(null),{user:B}=j.useContext(ja),U=[{id:0,name:"",icon:nn.TbRocket},{id:1,name:"",icon:nn.TbBook},{id:2,name:"",icon:nn.TbWalk},{id:3,name:"",icon:nn.TbBowlChopsticks},{id:4,name:"",icon:nn.TbMoodHeart},{id:5,name:"",icon:nn.TbHandGrab},{id:6,name:"",icon:nn.TbCash},{id:7,name:"",icon:nn.TbPlant}];j.useEffect(()=>{B&&$()},[B]),j.useEffect(()=>{const Q=de=>{V.current&&!V.current.contains(de.target)&&g(!1)};return document.addEventListener("mousedown",Q),()=>{document.removeEventListener("mousedown",Q)}},[]),j.useEffect(()=>{const Q=new Date;p({year:Q.getFullYear(),month:Q.getMonth(),day:Q.getDate()}),R({year:Q.getFullYear(),month:Q.getMonth(),day:Q.getDate()})},[]);const W=(Q,de,J)=>{const oe=new Date(Q),pe=new Date(de),Ee=new Date(J);return oe.setHours(0,0,0,0),pe.setHours(0,0,0,0),Ee.setHours(23,59,59,999),oe>=pe&&oe<=Ee},$=async(Q=null)=>{const de=await bc(B.uid),J=Q?new Date(Q.year,Q.month,Q.day):new Date,oe=de.filter(pe=>W(J,pe.startDate,pe.endDate)).sort((pe,Ee)=>new Date(Ee.endDate)-new Date(pe.endDate));f(oe||[])},z=()=>{e(!t),u({category:null,title:"",frequency:"daily",amount:0,startDate:"",endDate:"",status:[]})},G=()=>{r(!n)},re=()=>{o(!i)},ee=Q=>{u({category:Q.category,title:Q.title,frequency:Q.frequency,amount:Q.amount,startDate:Q.startDate,endDate:Q.endDate,status:Q.status}),s(!a)},ue=Q=>{const{name:de,value:J}=Q.target;if(de==="frequency"){const oe={type:J},pe=De(l.startDate,l.endDate,oe);u(Ee=>({...Ee,frequency:oe,status:pe}))}else u(oe=>({...oe,[de]:J}))},De=(Q,de,J)=>{const oe=new Date(Q),pe=new Date(de),Ee=[];if(J.type==="daily")for(let Te=oe;Te<=pe;Te.setDate(Te.getDate()+1))Ee.push({date:new Date(Te).toDateString(),completed:!1});else if(J.type==="weekly")for(let Te=oe;Te<=pe;Te.setDate(Te.getDate()+7))Ee.push({date:new Date(Te).toDateString(),completed:!1});else if(J.type==="specificDays"){const Te=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Kn=l.frequency.days||[];for(let bt=oe;bt<=pe;bt.setDate(bt.getDate()+1))Kn.includes(Te[bt.getDay()])&&Ee.push({date:new Date(bt).toDateString(),completed:!1})}return Ee},We=async()=>{if(B){const Q=new Date(l.startDate);if(new Date(l.endDate)<=Q){alert("");return}const J=De(l.startDate,l.endDate,l.frequency),oe={...l,status:J};await LW(B.uid,oe),$(),z(),u({category:null,title:"",frequency:{type:"daily"},amount:0,startDate:"",endDate:"",status:[]})}else console.error("User not authenticated")},yt=async()=>{if(B&&y){const Q=new Date(l.startDate);if(new Date(l.endDate)<=Q){alert("");return}const J={...l,id:y.id};await v0(B.uid,y.id,J),$(),s(!1),r(!1)}else console.error("User not authenticated or habit not selected")},Le=async()=>{B&&y?(await qD(B.uid,y.id),$(),s(!1),r(!1)):console.error("User not authenticated or habit not selected")},cn=async Q=>{p(Q),await $(Q),_&&(u(de=>({...de,[_]:`${Q.year}-${String(Q.month+1).padStart(2,"0")}-${String(Q.day).padStart(2,"0")}`})),g(!1),b(""))},ie=Q=>{R(Q),_&&(u(de=>({...de,[_]:`${Q.year}-${String(Q.month+1).padStart(2,"0")}-${String(Q.day).padStart(2,"0")}`})),g(!1),b(""))},he=Q=>{b(Q),g(!0)},ve=async(Q,de)=>{const J=c.map(pe=>{if(pe.id===Q){const Ee=pe.status.map(Te=>new Date(Te.date).toDateString()===new Date(de).toDateString()?{...Te,completed:!Te.completed}:Te);return{...pe,status:Ee}}return pe});f(J);const oe=J.find(pe=>pe.id===Q);try{await v0(B.uid,Q,oe)}catch(pe){console.error("Error updating habit in Firestore: ",pe)}},K=Q=>{const de=new Date;return de.setHours(0,0,0,0),Q.status.filter(oe=>{const pe=new Date(oe.date);return pe.setHours(0,0,0,0),pe<de&&!oe.completed}).length*Q.amount},Ve=Q=>{v(Q),I(K(Q)),r(!0)},Se=async()=>{if(!x.trim()){alert("");return}if(B&&y){const Q={content:x,habitId:y.id};await HD(B.uid,Q),k(!0),re(),T("")}};return D?P.jsx(Fw,{to:"/posts"}):P.jsxs(P.Fragment,{children:[P.jsx(QD,{date:d,onSelect:cn,onWeekChange:S}),P.jsx("ul",{className:"space-y-4 p-4 mb-11",children:Array.isArray(c)&&c.map(Q=>{const de=U.find(oe=>oe.id===Q.category),J=de?de.icon:null;return P.jsxs("li",{className:"px-2 py-4 bg-slate-100",children:[P.jsxs("div",{className:"flex justify-between items-center",children:[P.jsxs("div",{className:"flex gap-2",children:[P.jsx("div",{className:"w-10 h-10 bg-yellow-400 rounded-full flex items-center justify-center",children:J&&P.jsx(J,{className:"w-8 h-8"})}),P.jsxs("div",{className:"flex flex-col",children:[P.jsx("h3",{children:Q.title}),P.jsxs("div",{className:"flex",children:[P.jsxs("p",{children:[Q.frequency.type," $",Q.amount," ",Q.status.filter(oe=>oe.completed).length]}),P.jsxs("p",{className:"text-gray-500",children:["/",Q.status.length]})]})]})]}),P.jsx("button",{className:"bg-white",onClick:()=>Ve(Q),children:"Detail"})]}),P.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((oe,pe)=>P.jsx("div",{className:"text-center",children:oe},pe)),O.map((oe,pe)=>{const Ee=Q.status.find(Te=>new Date(Te.date).toDateString()===new Date(oe.year,oe.month,oe.day).toDateString());return P.jsx("button",{className:`border w-full ${Ee&&Ee.completed?"bg-yellow-400":"bg-gray-200"}`,onClick:()=>Ee&&ve(Q.id,Ee.date),disabled:!Ee,children:Ee?"CHECK":""},pe)})]})]},Q.id)})}),P.jsx("button",{className:"fixed right-4 bottom-20 bg-slate-300",onClick:z,children:"add habit"}),P.jsx(oi,{isOpen:t,children:P.jsx(e2,{habitData:l,handleHabitChange:ue,handleAddHabit:We,handleFocus:he,showMonthCalendar:m,calendarTarget:_,calendarRef:V,handleHabitModal:z,habitCategories:U,setHabitData:u,monthCalendarDate:C,handleMonthCalendarSelectDate:ie})}),P.jsx(oi,{isOpen:n,onClose:G,children:P.jsx(Bb,{selectedHabit:y,handleDetailModal:G,handlePostModal:re,uncompletedFine:E,handleEditModal:ee,habitCategories:U})}),P.jsx(oi,{isOpen:i,onClose:re,children:P.jsx(zb,{postContent:x,setPostContent:T,handleAddPost:Se,handlePostModal:re})}),P.jsx(oi,{isOpen:a,onClose:ee,children:P.jsx(Wb,{habitData:l,handleHabitChange:ue,handleUpdateHabit:yt,handleFocus:he,showMonthCalendar:m,calendarTarget:_,calendarRef:V,handleEditModal:ee,handleDeleteHabit:Le,habitCategories:U,setHabitData:u,monthCalendarDate:C,handleMonthCalendarSelectDate:ie})})]})}function t2(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=t2(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ae(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=t2(t))&&(r&&(r+=" "),r+=e);return r}var _8=Array.isArray,Rn=_8,w8=typeof Zf=="object"&&Zf&&Zf.Object===Object&&Zf,n2=w8,b8=n2,x8=typeof self=="object"&&self&&self.Object===Object&&self,E8=b8||x8||Function("return this")(),Kr=E8,S8=Kr,T8=S8.Symbol,Pf=T8,DT=Pf,r2=Object.prototype,A8=r2.hasOwnProperty,P8=r2.toString,nu=DT?DT.toStringTag:void 0;function I8(t){var e=A8.call(t,nu),n=t[nu];try{t[nu]=void 0;var r=!0}catch{}var i=P8.call(t);return r&&(e?t[nu]=n:delete t[nu]),i}var O8=I8,C8=Object.prototype,k8=C8.toString;function R8(t){return k8.call(t)}var N8=R8,jT=Pf,D8=O8,j8=N8,M8="[object Null]",$8="[object Undefined]",MT=jT?jT.toStringTag:void 0;function L8(t){return t==null?t===void 0?$8:M8:MT&&MT in Object(t)?D8(t):j8(t)}var Ii=L8;function V8(t){return t!=null&&typeof t=="object"}var Oi=V8,F8=Ii,U8=Oi,B8="[object Symbol]";function z8(t){return typeof t=="symbol"||U8(t)&&F8(t)==B8}var vl=z8,W8=Rn,q8=vl,H8=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,K8=/^\w*$/;function G8(t,e){if(W8(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||q8(t)?!0:K8.test(t)||!H8.test(t)||e!=null&&t in Object(e)}var qb=G8;function X8(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ro=X8;const _l=Be(Ro);var Y8=Ii,Q8=Ro,J8="[object AsyncFunction]",Z8="[object Function]",eq="[object GeneratorFunction]",tq="[object Proxy]";function nq(t){if(!Q8(t))return!1;var e=Y8(t);return e==Z8||e==eq||e==J8||e==tq}var Hb=nq;const be=Be(Hb);var rq=Kr,iq=rq["__core-js_shared__"],oq=iq,xy=oq,$T=function(){var t=/[^.]+$/.exec(xy&&xy.keys&&xy.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function aq(t){return!!$T&&$T in t}var sq=aq,lq=Function.prototype,uq=lq.toString;function cq(t){if(t!=null){try{return uq.call(t)}catch{}try{return t+""}catch{}}return""}var i2=cq,fq=Hb,hq=sq,dq=Ro,pq=i2,mq=/[\\^$.*+?()[\]{}|]/g,gq=/^\[object .+?Constructor\]$/,yq=Function.prototype,vq=Object.prototype,_q=yq.toString,wq=vq.hasOwnProperty,bq=RegExp("^"+_q.call(wq).replace(mq,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function xq(t){if(!dq(t)||hq(t))return!1;var e=fq(t)?bq:gq;return e.test(pq(t))}var Eq=xq;function Sq(t,e){return t==null?void 0:t[e]}var Tq=Sq,Aq=Eq,Pq=Tq;function Iq(t,e){var n=Pq(t,e);return Aq(n)?n:void 0}var Ma=Iq,Oq=Ma,Cq=Oq(Object,"create"),Pm=Cq,LT=Pm;function kq(){this.__data__=LT?LT(null):{},this.size=0}var Rq=kq;function Nq(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Dq=Nq,jq=Pm,Mq="__lodash_hash_undefined__",$q=Object.prototype,Lq=$q.hasOwnProperty;function Vq(t){var e=this.__data__;if(jq){var n=e[t];return n===Mq?void 0:n}return Lq.call(e,t)?e[t]:void 0}var Fq=Vq,Uq=Pm,Bq=Object.prototype,zq=Bq.hasOwnProperty;function Wq(t){var e=this.__data__;return Uq?e[t]!==void 0:zq.call(e,t)}var qq=Wq,Hq=Pm,Kq="__lodash_hash_undefined__";function Gq(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Hq&&e===void 0?Kq:e,this}var Xq=Gq,Yq=Rq,Qq=Dq,Jq=Fq,Zq=qq,eH=Xq;function wl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}wl.prototype.clear=Yq;wl.prototype.delete=Qq;wl.prototype.get=Jq;wl.prototype.has=Zq;wl.prototype.set=eH;var tH=wl;function nH(){this.__data__=[],this.size=0}var rH=nH;function iH(t,e){return t===e||t!==t&&e!==e}var Kb=iH,oH=Kb;function aH(t,e){for(var n=t.length;n--;)if(oH(t[n][0],e))return n;return-1}var Im=aH,sH=Im,lH=Array.prototype,uH=lH.splice;function cH(t){var e=this.__data__,n=sH(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():uH.call(e,n,1),--this.size,!0}var fH=cH,hH=Im;function dH(t){var e=this.__data__,n=hH(e,t);return n<0?void 0:e[n][1]}var pH=dH,mH=Im;function gH(t){return mH(this.__data__,t)>-1}var yH=gH,vH=Im;function _H(t,e){var n=this.__data__,r=vH(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var wH=_H,bH=rH,xH=fH,EH=pH,SH=yH,TH=wH;function bl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}bl.prototype.clear=bH;bl.prototype.delete=xH;bl.prototype.get=EH;bl.prototype.has=SH;bl.prototype.set=TH;var Om=bl,AH=Ma,PH=Kr,IH=AH(PH,"Map"),Gb=IH,VT=tH,OH=Om,CH=Gb;function kH(){this.size=0,this.__data__={hash:new VT,map:new(CH||OH),string:new VT}}var RH=kH;function NH(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var DH=NH,jH=DH;function MH(t,e){var n=t.__data__;return jH(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Cm=MH,$H=Cm;function LH(t){var e=$H(this,t).delete(t);return this.size-=e?1:0,e}var VH=LH,FH=Cm;function UH(t){return FH(this,t).get(t)}var BH=UH,zH=Cm;function WH(t){return zH(this,t).has(t)}var qH=WH,HH=Cm;function KH(t,e){var n=HH(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var GH=KH,XH=RH,YH=VH,QH=BH,JH=qH,ZH=GH;function xl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}xl.prototype.clear=XH;xl.prototype.delete=YH;xl.prototype.get=QH;xl.prototype.has=JH;xl.prototype.set=ZH;var Xb=xl,o2=Xb,e7="Expected a function";function Yb(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(e7);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Yb.Cache||o2),n}Yb.Cache=o2;var a2=Yb;const t7=Be(a2);var n7=a2,r7=500;function i7(t){var e=n7(t,function(r){return n.size===r7&&n.clear(),r}),n=e.cache;return e}var o7=i7,a7=o7,s7=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,l7=/\\(\\)?/g,u7=a7(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(s7,function(n,r,i,o){e.push(i?o.replace(l7,"$1"):r||n)}),e}),c7=u7;function f7(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var Qb=f7,FT=Pf,h7=Qb,d7=Rn,p7=vl,m7=1/0,UT=FT?FT.prototype:void 0,BT=UT?UT.toString:void 0;function s2(t){if(typeof t=="string")return t;if(d7(t))return h7(t,s2)+"";if(p7(t))return BT?BT.call(t):"";var e=t+"";return e=="0"&&1/t==-m7?"-0":e}var g7=s2,y7=g7;function v7(t){return t==null?"":y7(t)}var l2=v7,_7=Rn,w7=qb,b7=c7,x7=l2;function E7(t,e){return _7(t)?t:w7(t,e)?[t]:b7(x7(t))}var u2=E7,S7=vl,T7=1/0;function A7(t){if(typeof t=="string"||S7(t))return t;var e=t+"";return e=="0"&&1/t==-T7?"-0":e}var km=A7,P7=u2,I7=km;function O7(t,e){e=P7(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[I7(e[n++])];return n&&n==r?t:void 0}var Jb=O7,C7=Jb;function k7(t,e,n){var r=t==null?void 0:C7(t,e);return r===void 0?n:r}var c2=k7;const Bn=Be(c2);function R7(t){return t==null}var N7=R7;const Pe=Be(N7);var D7=Ii,j7=Rn,M7=Oi,$7="[object String]";function L7(t){return typeof t=="string"||!j7(t)&&M7(t)&&D7(t)==$7}var V7=L7;const If=Be(V7);var f2={exports:{}},ze={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $t=typeof Symbol=="function"&&Symbol.for,Zb=$t?Symbol.for("react.element"):60103,e1=$t?Symbol.for("react.portal"):60106,Rm=$t?Symbol.for("react.fragment"):60107,Nm=$t?Symbol.for("react.strict_mode"):60108,Dm=$t?Symbol.for("react.profiler"):60114,jm=$t?Symbol.for("react.provider"):60109,Mm=$t?Symbol.for("react.context"):60110,t1=$t?Symbol.for("react.async_mode"):60111,$m=$t?Symbol.for("react.concurrent_mode"):60111,Lm=$t?Symbol.for("react.forward_ref"):60112,Vm=$t?Symbol.for("react.suspense"):60113,F7=$t?Symbol.for("react.suspense_list"):60120,Fm=$t?Symbol.for("react.memo"):60115,Um=$t?Symbol.for("react.lazy"):60116,U7=$t?Symbol.for("react.block"):60121,B7=$t?Symbol.for("react.fundamental"):60117,z7=$t?Symbol.for("react.responder"):60118,W7=$t?Symbol.for("react.scope"):60119;function Hn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Zb:switch(t=t.type,t){case t1:case $m:case Rm:case Dm:case Nm:case Vm:return t;default:switch(t=t&&t.$$typeof,t){case Mm:case Lm:case Um:case Fm:case jm:return t;default:return e}}case e1:return e}}}function h2(t){return Hn(t)===$m}ze.AsyncMode=t1;ze.ConcurrentMode=$m;ze.ContextConsumer=Mm;ze.ContextProvider=jm;ze.Element=Zb;ze.ForwardRef=Lm;ze.Fragment=Rm;ze.Lazy=Um;ze.Memo=Fm;ze.Portal=e1;ze.Profiler=Dm;ze.StrictMode=Nm;ze.Suspense=Vm;ze.isAsyncMode=function(t){return h2(t)||Hn(t)===t1};ze.isConcurrentMode=h2;ze.isContextConsumer=function(t){return Hn(t)===Mm};ze.isContextProvider=function(t){return Hn(t)===jm};ze.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Zb};ze.isForwardRef=function(t){return Hn(t)===Lm};ze.isFragment=function(t){return Hn(t)===Rm};ze.isLazy=function(t){return Hn(t)===Um};ze.isMemo=function(t){return Hn(t)===Fm};ze.isPortal=function(t){return Hn(t)===e1};ze.isProfiler=function(t){return Hn(t)===Dm};ze.isStrictMode=function(t){return Hn(t)===Nm};ze.isSuspense=function(t){return Hn(t)===Vm};ze.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Rm||t===$m||t===Dm||t===Nm||t===Vm||t===F7||typeof t=="object"&&t!==null&&(t.$$typeof===Um||t.$$typeof===Fm||t.$$typeof===jm||t.$$typeof===Mm||t.$$typeof===Lm||t.$$typeof===B7||t.$$typeof===z7||t.$$typeof===W7||t.$$typeof===U7)};ze.typeOf=Hn;f2.exports=ze;var _0=f2.exports,q7=Ii,H7=Oi,K7="[object Number]";function G7(t){return typeof t=="number"||H7(t)&&q7(t)==K7}var d2=G7;const X7=Be(d2);var Y7=d2;function Q7(t){return Y7(t)&&t!=+t}var J7=Q7;const Of=Be(J7);var gn=function(e){return e===0?0:e>0?1:-1},ea=function(e){return If(e)&&e.indexOf("%")===e.length-1},te=function(e){return X7(e)&&!Of(e)},Ot=function(e){return te(e)||If(e)},Z7=0,Cf=function(e){var n=++Z7;return"".concat(e||"").concat(n)},yn=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!te(e)&&!If(e))return r;var o;if(ea(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return Of(o)&&(o=r),i&&o>n&&(o=n),o},Yi=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},eK=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Ui=function(e,n){return te(e)&&te(n)?function(r){return e+r*(n-e)}:function(){return n}};function w0(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Bn(r,e))===n})}function As(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function b0(t){"@babel/helpers - typeof";return b0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b0(t)}var tK=["viewBox","children"],nK=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],zT=["points","pathLength"],Ey={svg:tK,polygon:zT,polyline:zT},n1=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Yd=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(j.isValidElement(e)&&(r=e.props),!_l(r))return null;var i={};return Object.keys(r).forEach(function(o){n1.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},rK=function(e,n,r){return function(i){return e(n,r,i),null}},xa=function(e,n,r){if(!_l(e)||b0(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];n1.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=rK(a,n,r))}),i},iK=["children"],oK=["children"];function WT(t,e){if(t==null)return{};var n=aK(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aK(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var qT={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},hi=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},HT=null,Sy=null,r1=function t(e){if(e===HT&&Array.isArray(Sy))return Sy;var n=[];return j.Children.forEach(e,function(r){Pe(r)||(_0.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Sy=n,HT=e,n};function or(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return hi(i)}):r=[hi(e)],r1(t).forEach(function(i){var o=Bn(i,"type.displayName")||Bn(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Mn(t,e){var n=or(t,e);return n&&n[0]}var KT=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!te(r)||r<=0||!te(i)||i<=0)},sK=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],lK=function(e){return e&&e.type&&If(e.type)&&sK.indexOf(e.type)>=0},uK=function(e,n,r,i){var o,a=(o=Ey==null?void 0:Ey[i])!==null&&o!==void 0?o:[];return!be(e)&&(i&&a.includes(n)||nK.includes(n))||r&&n1.includes(n)},ye=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(j.isValidElement(e)&&(i=e.props),!_l(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;uK((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},x0=function t(e,n){if(e===n)return!0;var r=j.Children.count(e);if(r!==j.Children.count(n))return!1;if(r===0)return!0;if(r===1)return GT(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!GT(o,a))return!1}return!0},GT=function(e,n){if(Pe(e)&&Pe(n))return!0;if(!Pe(e)&&!Pe(n)){var r=e.props||{},i=r.children,o=WT(r,iK),a=n.props||{},s=a.children,l=WT(a,oK);return i&&s?As(o,l)&&x0(i,s):!i&&!s?As(o,l):!1}return!1},XT=function(e,n){var r=[],i={};return r1(e).forEach(function(o,a){if(lK(o))r.push(o);else if(o){var s=hi(o.type),l=n[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var f=u(o,s,a);r.push(f),i[s]=!0}}}),r},cK=function(e){var n=e&&e.type;return n&&qT[n]?qT[n]:null},fK=function(e,n){return r1(n).indexOf(e)},hK=["children","width","height","viewBox","className","style","title","desc"];function E0(){return E0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},E0.apply(this,arguments)}function dK(t,e){if(t==null)return{};var n=pK(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pK(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function S0(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,u=dK(t,hK),c=i||{width:n,height:r,x:0,y:0},f=Ae("recharts-surface",o);return M.createElement("svg",E0({},ye(u,!0,"svg"),{className:f,width:n,height:r,style:a,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),M.createElement("title",null,s),M.createElement("desc",null,l),e)}var mK=["children","className"];function T0(){return T0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},T0.apply(this,arguments)}function gK(t,e){if(t==null)return{};var n=yK(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yK(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Fe=M.forwardRef(function(t,e){var n=t.children,r=t.className,i=gK(t,mK),o=Ae("recharts-layer",r);return M.createElement("g",T0({className:o},ye(i,!0),{ref:e}),n)}),br=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function vK(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var _K=vK,wK=_K;function bK(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:wK(t,e,n)}var xK=bK,EK="\\ud800-\\udfff",SK="\\u0300-\\u036f",TK="\\ufe20-\\ufe2f",AK="\\u20d0-\\u20ff",PK=SK+TK+AK,IK="\\ufe0e\\ufe0f",OK="\\u200d",CK=RegExp("["+OK+EK+PK+IK+"]");function kK(t){return CK.test(t)}var p2=kK;function RK(t){return t.split("")}var NK=RK,m2="\\ud800-\\udfff",DK="\\u0300-\\u036f",jK="\\ufe20-\\ufe2f",MK="\\u20d0-\\u20ff",$K=DK+jK+MK,LK="\\ufe0e\\ufe0f",VK="["+m2+"]",A0="["+$K+"]",P0="\\ud83c[\\udffb-\\udfff]",FK="(?:"+A0+"|"+P0+")",g2="[^"+m2+"]",y2="(?:\\ud83c[\\udde6-\\uddff]){2}",v2="[\\ud800-\\udbff][\\udc00-\\udfff]",UK="\\u200d",_2=FK+"?",w2="["+LK+"]?",BK="(?:"+UK+"(?:"+[g2,y2,v2].join("|")+")"+w2+_2+")*",zK=w2+_2+BK,WK="(?:"+[g2+A0+"?",A0,y2,v2,VK].join("|")+")",qK=RegExp(P0+"(?="+P0+")|"+WK+zK,"g");function HK(t){return t.match(qK)||[]}var KK=HK,GK=NK,XK=p2,YK=KK;function QK(t){return XK(t)?YK(t):GK(t)}var JK=QK,ZK=xK,eG=p2,tG=JK,nG=l2;function rG(t){return function(e){e=nG(e);var n=eG(e)?tG(e):void 0,r=n?n[0]:e.charAt(0),i=n?ZK(n,1).join(""):e.slice(1);return r[t]()+i}}var iG=rG,oG=iG,aG=oG("toUpperCase"),sG=aG;const Bm=Be(sG);function Xe(t){return function(){return t}}const b2=Math.cos,Qd=Math.sin,Ar=Math.sqrt,Jd=Math.PI,zm=2*Jd,I0=Math.PI,O0=2*I0,Ho=1e-6,lG=O0-Ho;function x2(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function uG(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return x2;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class cG{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?x2:uG(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,u=i-n,c=a-e,f=s-n,d=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>Ho)if(!(Math.abs(f*l-u*c)>Ho)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-a,m=i-s,g=l*l+u*u,_=p*p+m*m,b=Math.sqrt(g),y=Math.sqrt(d),v=o*Math.tan((I0-Math.acos((g+d-_)/(2*b*y)))/2),x=v/y,T=v/b;Math.abs(x-1)>Ho&&this._append`L${e+x*c},${n+x*f}`,this._append`A${o},${o},0,0,${+(f*p>c*m)},${this._x1=e+T*l},${this._y1=n+T*u}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,c=n+l,f=1^a,d=a?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Ho||Math.abs(this._y1-c)>Ho)&&this._append`L${u},${c}`,r&&(d<0&&(d=d%O0+O0),d>lG?this._append`A${r},${r},0,1,${f},${e-s},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:d>Ho&&this._append`A${r},${r},0,${+(d>=I0)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function i1(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new cG(e)}function o1(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function E2(t){this._context=t}E2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Wm(t){return new E2(t)}function S2(t){return t[0]}function T2(t){return t[1]}function A2(t,e){var n=Xe(!0),r=null,i=Wm,o=null,a=i1(s);t=typeof t=="function"?t:t===void 0?S2:Xe(t),e=typeof e=="function"?e:e===void 0?T2:Xe(e);function s(l){var u,c=(l=o1(l)).length,f,d=!1,p;for(r==null&&(o=i(p=a())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+t(f,u,l),+e(f,u,l));if(p)return o=null,p+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Xe(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Xe(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Xe(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function Th(t,e,n){var r=null,i=Xe(!0),o=null,a=Wm,s=null,l=i1(u);t=typeof t=="function"?t:t===void 0?S2:Xe(+t),e=typeof e=="function"?e:Xe(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?T2:Xe(+n);function u(f){var d,p,m,g=(f=o1(f)).length,_,b=!1,y,v=new Array(g),x=new Array(g);for(o==null&&(s=a(y=l())),d=0;d<=g;++d){if(!(d<g&&i(_=f[d],d,f))===b)if(b=!b)p=d,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=d-1;m>=p;--m)s.point(v[m],x[m]);s.lineEnd(),s.areaEnd()}b&&(v[d]=+t(_,d,f),x[d]=+e(_,d,f),s.point(r?+r(_,d,f):v[d],n?+n(_,d,f):x[d]))}if(y)return s=null,y+""||null}function c(){return A2().defined(i).curve(a).context(o)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Xe(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Xe(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Xe(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Xe(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Xe(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Xe(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Xe(!!f),u):i},u.curve=function(f){return arguments.length?(a=f,o!=null&&(s=a(o)),u):a},u.context=function(f){return arguments.length?(f==null?o=s=null:s=a(o=f),u):o},u}class P2{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function fG(t){return new P2(t,!0)}function hG(t){return new P2(t,!1)}const a1={draw(t,e){const n=Ar(e/Jd);t.moveTo(n,0),t.arc(0,0,n,0,zm)}},dG={draw(t,e){const n=Ar(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},I2=Ar(1/3),pG=I2*2,mG={draw(t,e){const n=Ar(e/pG),r=n*I2;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},gG={draw(t,e){const n=Ar(e),r=-n/2;t.rect(r,r,n,n)}},yG=.8908130915292852,O2=Qd(Jd/10)/Qd(7*Jd/10),vG=Qd(zm/10)*O2,_G=-b2(zm/10)*O2,wG={draw(t,e){const n=Ar(e*yG),r=vG*n,i=_G*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=zm*o/5,s=b2(a),l=Qd(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},Ty=Ar(3),bG={draw(t,e){const n=-Ar(e/(Ty*3));t.moveTo(0,n*2),t.lineTo(-Ty*n,-n),t.lineTo(Ty*n,-n),t.closePath()}},Gn=-.5,Xn=Ar(3)/2,C0=1/Ar(12),xG=(C0/2+1)*3,EG={draw(t,e){const n=Ar(e/xG),r=n/2,i=n*C0,o=r,a=n*C0+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(Gn*r-Xn*i,Xn*r+Gn*i),t.lineTo(Gn*o-Xn*a,Xn*o+Gn*a),t.lineTo(Gn*s-Xn*l,Xn*s+Gn*l),t.lineTo(Gn*r+Xn*i,Gn*i-Xn*r),t.lineTo(Gn*o+Xn*a,Gn*a-Xn*o),t.lineTo(Gn*s+Xn*l,Gn*l-Xn*s),t.closePath()}};function SG(t,e){let n=null,r=i1(i);t=typeof t=="function"?t:Xe(t||a1),e=typeof e=="function"?e:Xe(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Xe(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Xe(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Zd(){}function ep(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function C2(t){this._context=t}C2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ep(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ep(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function TG(t){return new C2(t)}function k2(t){this._context=t}k2.prototype={areaStart:Zd,areaEnd:Zd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ep(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function AG(t){return new k2(t)}function R2(t){this._context=t}R2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:ep(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function PG(t){return new R2(t)}function N2(t){this._context=t}N2.prototype={areaStart:Zd,areaEnd:Zd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function IG(t){return new N2(t)}function YT(t){return t<0?-1:1}function QT(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(YT(o)+YT(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function JT(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Ay(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function tp(t){this._context=t}tp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ay(this,this._t0,JT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Ay(this,JT(this,n=QT(this,t,e)),n);break;default:Ay(this,this._t0,n=QT(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function D2(t){this._context=new j2(t)}(D2.prototype=Object.create(tp.prototype)).point=function(t,e){tp.prototype.point.call(this,e,t)};function j2(t){this._context=t}j2.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function OG(t){return new tp(t)}function CG(t){return new D2(t)}function M2(t){this._context=t}M2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=ZT(t),i=ZT(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function ZT(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function kG(t){return new M2(t)}function qm(t,e){this._context=t,this._t=e}qm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function RG(t){return new qm(t,.5)}function NG(t){return new qm(t,0)}function DG(t){return new qm(t,1)}function zs(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function k0(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function jG(t,e){return t[e]}function MG(t){const e=[];return e.key=t,e}function $G(){var t=Xe([]),e=k0,n=zs,r=jG;function i(o){var a=Array.from(t.apply(this,arguments),MG),s,l=a.length,u=-1,c;for(const f of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(f,a[s].key,u,o)]).data=f;for(s=0,c=o1(e(a));s<l;++s)a[c[s]].index=s;return n(a,c),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Xe(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Xe(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?k0:typeof o=="function"?o:Xe(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??zs,i):n},i}function LG(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}zs(t,e)}}function VG(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}zs(t,e)}}function FG(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var c=t[e[s]],f=c[r][1]||0,d=c[r-1][1]||0,p=(f-d)/2,m=0;m<s;++m){var g=t[e[m]],_=g[r][1]||0,b=g[r-1][1]||0;p+=_-b}l+=f,u+=p*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,zs(t,e)}}function Ec(t){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ec(t)}var UG=["type","size","sizeType"];function R0(){return R0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},R0.apply(this,arguments)}function eA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eA(Object(n),!0).forEach(function(r){BG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BG(t,e,n){return e=zG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zG(t){var e=WG(t,"string");return Ec(e)=="symbol"?e:String(e)}function WG(t,e){if(Ec(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ec(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qG(t,e){if(t==null)return{};var n=HG(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function HG(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var $2={symbolCircle:a1,symbolCross:dG,symbolDiamond:mG,symbolSquare:gG,symbolStar:wG,symbolTriangle:bG,symbolWye:EG},KG=Math.PI/180,GG=function(e){var n="symbol".concat(Bm(e));return $2[n]||a1},XG=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*KG;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},YG=function(e,n){$2["symbol".concat(Bm(e))]=n},s1=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=qG(e,UG),u=tA(tA({},l),{},{type:r,size:o,sizeType:s}),c=function(){var _=GG(r),b=SG().type(_).size(XG(o,s,r));return b()},f=u.className,d=u.cx,p=u.cy,m=ye(u,!0);return d===+d&&p===+p&&o===+o?M.createElement("path",R0({},m,{className:Ae("recharts-symbols",f),transform:"translate(".concat(d,", ").concat(p,")"),d:c()})):null};s1.registerSymbol=YG;function Ws(t){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ws(t)}function N0(){return N0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N0.apply(this,arguments)}function nA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nA(Object(n),!0).forEach(function(r){Sc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,V2(r.key),r)}}function eX(t,e,n){return e&&ZG(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tX(t,e,n){return e=np(e),nX(t,L2()?Reflect.construct(e,n||[],np(t).constructor):e.apply(t,n))}function nX(t,e){if(e&&(Ws(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rX(t)}function rX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L2=function(){return!!t})()}function np(t){return np=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},np(t)}function iX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D0(t,e)}function D0(t,e){return D0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},D0(t,e)}function Sc(t,e,n){return e=V2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V2(t){var e=oX(t,"string");return Ws(e)=="symbol"?e:String(e)}function oX(t,e){if(Ws(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ws(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yn=32,l1=function(t){iX(e,t);function e(){return JG(this,e),tX(this,e,arguments)}return eX(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=Yn/2,a=Yn/6,s=Yn/3,l=r.inactive?i:r.color;if(r.type==="plainline")return M.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:Yn,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return M.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(Yn,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return M.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Yn/8,"h").concat(Yn,"v").concat(Yn*3/4,"h").concat(-Yn,"z"),className:"recharts-legend-icon"});if(M.isValidElement(r.legendIcon)){var u=QG({},r);return delete u.legendIcon,M.cloneElement(r.legendIcon,u)}return M.createElement(s1,{fill:l,cx:o,cy:o,size:Yn,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:Yn,height:Yn},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,m){var g=p.formatter||l,_=Ae(Sc(Sc({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var b=be(p.value)?null:p.value;br(!be(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=p.inactive?u:p.color;return M.createElement("li",N0({className:_,style:f,key:"legend-item-".concat(m)},xa(r.props,p,m)),M.createElement(S0,{width:a,height:a,viewBox:c,style:d},r.renderIcon(p)),M.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},g?g(b,p,m):b))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return M.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}]),e}(j.PureComponent);Sc(l1,"displayName","Legend");Sc(l1,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var aX=Om;function sX(){this.__data__=new aX,this.size=0}var lX=sX;function uX(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var cX=uX;function fX(t){return this.__data__.get(t)}var hX=fX;function dX(t){return this.__data__.has(t)}var pX=dX,mX=Om,gX=Gb,yX=Xb,vX=200;function _X(t,e){var n=this.__data__;if(n instanceof mX){var r=n.__data__;if(!gX||r.length<vX-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new yX(r)}return n.set(t,e),this.size=n.size,this}var wX=_X,bX=Om,xX=lX,EX=cX,SX=hX,TX=pX,AX=wX;function El(t){var e=this.__data__=new bX(t);this.size=e.size}El.prototype.clear=xX;El.prototype.delete=EX;El.prototype.get=SX;El.prototype.has=TX;El.prototype.set=AX;var F2=El,PX="__lodash_hash_undefined__";function IX(t){return this.__data__.set(t,PX),this}var OX=IX;function CX(t){return this.__data__.has(t)}var kX=CX,RX=Xb,NX=OX,DX=kX;function rp(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new RX;++e<n;)this.add(t[e])}rp.prototype.add=rp.prototype.push=NX;rp.prototype.has=DX;var U2=rp;function jX(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var B2=jX;function MX(t,e){return t.has(e)}var z2=MX,$X=U2,LX=B2,VX=z2,FX=1,UX=2;function BX(t,e,n,r,i,o){var a=n&FX,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var f=-1,d=!0,p=n&UX?new $X:void 0;for(o.set(t,e),o.set(e,t);++f<s;){var m=t[f],g=e[f];if(r)var _=a?r(g,m,f,e,t,o):r(m,g,f,t,e,o);if(_!==void 0){if(_)continue;d=!1;break}if(p){if(!LX(e,function(b,y){if(!VX(p,y)&&(m===b||i(m,b,n,r,o)))return p.push(y)})){d=!1;break}}else if(!(m===g||i(m,g,n,r,o))){d=!1;break}}return o.delete(t),o.delete(e),d}var W2=BX,zX=Kr,WX=zX.Uint8Array,qX=WX;function HX(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var KX=HX;function GX(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var u1=GX,rA=Pf,iA=qX,XX=Kb,YX=W2,QX=KX,JX=u1,ZX=1,eY=2,tY="[object Boolean]",nY="[object Date]",rY="[object Error]",iY="[object Map]",oY="[object Number]",aY="[object RegExp]",sY="[object Set]",lY="[object String]",uY="[object Symbol]",cY="[object ArrayBuffer]",fY="[object DataView]",oA=rA?rA.prototype:void 0,Py=oA?oA.valueOf:void 0;function hY(t,e,n,r,i,o,a){switch(n){case fY:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case cY:return!(t.byteLength!=e.byteLength||!o(new iA(t),new iA(e)));case tY:case nY:case oY:return XX(+t,+e);case rY:return t.name==e.name&&t.message==e.message;case aY:case lY:return t==e+"";case iY:var s=QX;case sY:var l=r&ZX;if(s||(s=JX),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=eY,a.set(t,e);var c=YX(s(t),s(e),r,i,o,a);return a.delete(t),c;case uY:if(Py)return Py.call(t)==Py.call(e)}return!1}var dY=hY;function pY(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var q2=pY,mY=q2,gY=Rn;function yY(t,e,n){var r=e(t);return gY(t)?r:mY(r,n(t))}var vY=yY;function _Y(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var wY=_Y;function bY(){return[]}var xY=bY,EY=wY,SY=xY,TY=Object.prototype,AY=TY.propertyIsEnumerable,aA=Object.getOwnPropertySymbols,PY=aA?function(t){return t==null?[]:(t=Object(t),EY(aA(t),function(e){return AY.call(t,e)}))}:SY,IY=PY;function OY(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var CY=OY,kY=Ii,RY=Oi,NY="[object Arguments]";function DY(t){return RY(t)&&kY(t)==NY}var jY=DY,sA=jY,MY=Oi,H2=Object.prototype,$Y=H2.hasOwnProperty,LY=H2.propertyIsEnumerable,VY=sA(function(){return arguments}())?sA:function(t){return MY(t)&&$Y.call(t,"callee")&&!LY.call(t,"callee")},c1=VY,ip={exports:{}};function FY(){return!1}var UY=FY;ip.exports;(function(t,e){var n=Kr,r=UY,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(ip,ip.exports);var K2=ip.exports,BY=9007199254740991,zY=/^(?:0|[1-9]\d*)$/;function WY(t,e){var n=typeof t;return e=e??BY,!!e&&(n=="number"||n!="symbol"&&zY.test(t))&&t>-1&&t%1==0&&t<e}var f1=WY,qY=9007199254740991;function HY(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=qY}var h1=HY,KY=Ii,GY=h1,XY=Oi,YY="[object Arguments]",QY="[object Array]",JY="[object Boolean]",ZY="[object Date]",eQ="[object Error]",tQ="[object Function]",nQ="[object Map]",rQ="[object Number]",iQ="[object Object]",oQ="[object RegExp]",aQ="[object Set]",sQ="[object String]",lQ="[object WeakMap]",uQ="[object ArrayBuffer]",cQ="[object DataView]",fQ="[object Float32Array]",hQ="[object Float64Array]",dQ="[object Int8Array]",pQ="[object Int16Array]",mQ="[object Int32Array]",gQ="[object Uint8Array]",yQ="[object Uint8ClampedArray]",vQ="[object Uint16Array]",_Q="[object Uint32Array]",tt={};tt[fQ]=tt[hQ]=tt[dQ]=tt[pQ]=tt[mQ]=tt[gQ]=tt[yQ]=tt[vQ]=tt[_Q]=!0;tt[YY]=tt[QY]=tt[uQ]=tt[JY]=tt[cQ]=tt[ZY]=tt[eQ]=tt[tQ]=tt[nQ]=tt[rQ]=tt[iQ]=tt[oQ]=tt[aQ]=tt[sQ]=tt[lQ]=!1;function wQ(t){return XY(t)&&GY(t.length)&&!!tt[KY(t)]}var bQ=wQ;function xQ(t){return function(e){return t(e)}}var G2=xQ,op={exports:{}};op.exports;(function(t,e){var n=n2,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(op,op.exports);var EQ=op.exports,SQ=bQ,TQ=G2,lA=EQ,uA=lA&&lA.isTypedArray,AQ=uA?TQ(uA):SQ,X2=AQ,PQ=CY,IQ=c1,OQ=Rn,CQ=K2,kQ=f1,RQ=X2,NQ=Object.prototype,DQ=NQ.hasOwnProperty;function jQ(t,e){var n=OQ(t),r=!n&&IQ(t),i=!n&&!r&&CQ(t),o=!n&&!r&&!i&&RQ(t),a=n||r||i||o,s=a?PQ(t.length,String):[],l=s.length;for(var u in t)(e||DQ.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||kQ(u,l)))&&s.push(u);return s}var MQ=jQ,$Q=Object.prototype;function LQ(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||$Q;return t===n}var VQ=LQ;function FQ(t,e){return function(n){return t(e(n))}}var Y2=FQ,UQ=Y2,BQ=UQ(Object.keys,Object),zQ=BQ,WQ=VQ,qQ=zQ,HQ=Object.prototype,KQ=HQ.hasOwnProperty;function GQ(t){if(!WQ(t))return qQ(t);var e=[];for(var n in Object(t))KQ.call(t,n)&&n!="constructor"&&e.push(n);return e}var XQ=GQ,YQ=Hb,QQ=h1;function JQ(t){return t!=null&&QQ(t.length)&&!YQ(t)}var kf=JQ,ZQ=MQ,eJ=XQ,tJ=kf;function nJ(t){return tJ(t)?ZQ(t):eJ(t)}var Hm=nJ,rJ=vY,iJ=IY,oJ=Hm;function aJ(t){return rJ(t,oJ,iJ)}var sJ=aJ,cA=sJ,lJ=1,uJ=Object.prototype,cJ=uJ.hasOwnProperty;function fJ(t,e,n,r,i,o){var a=n&lJ,s=cA(t),l=s.length,u=cA(e),c=u.length;if(l!=c&&!a)return!1;for(var f=l;f--;){var d=s[f];if(!(a?d in e:cJ.call(e,d)))return!1}var p=o.get(t),m=o.get(e);if(p&&m)return p==e&&m==t;var g=!0;o.set(t,e),o.set(e,t);for(var _=a;++f<l;){d=s[f];var b=t[d],y=e[d];if(r)var v=a?r(y,b,d,e,t,o):r(b,y,d,t,e,o);if(!(v===void 0?b===y||i(b,y,n,r,o):v)){g=!1;break}_||(_=d=="constructor")}if(g&&!_){var x=t.constructor,T=e.constructor;x!=T&&"constructor"in t&&"constructor"in e&&!(typeof x=="function"&&x instanceof x&&typeof T=="function"&&T instanceof T)&&(g=!1)}return o.delete(t),o.delete(e),g}var hJ=fJ,dJ=Ma,pJ=Kr,mJ=dJ(pJ,"DataView"),gJ=mJ,yJ=Ma,vJ=Kr,_J=yJ(vJ,"Promise"),wJ=_J,bJ=Ma,xJ=Kr,EJ=bJ(xJ,"Set"),Q2=EJ,SJ=Ma,TJ=Kr,AJ=SJ(TJ,"WeakMap"),PJ=AJ,j0=gJ,M0=Gb,$0=wJ,L0=Q2,V0=PJ,J2=Ii,Sl=i2,fA="[object Map]",IJ="[object Object]",hA="[object Promise]",dA="[object Set]",pA="[object WeakMap]",mA="[object DataView]",OJ=Sl(j0),CJ=Sl(M0),kJ=Sl($0),RJ=Sl(L0),NJ=Sl(V0),Ko=J2;(j0&&Ko(new j0(new ArrayBuffer(1)))!=mA||M0&&Ko(new M0)!=fA||$0&&Ko($0.resolve())!=hA||L0&&Ko(new L0)!=dA||V0&&Ko(new V0)!=pA)&&(Ko=function(t){var e=J2(t),n=e==IJ?t.constructor:void 0,r=n?Sl(n):"";if(r)switch(r){case OJ:return mA;case CJ:return fA;case kJ:return hA;case RJ:return dA;case NJ:return pA}return e});var DJ=Ko,Iy=F2,jJ=W2,MJ=dY,$J=hJ,gA=DJ,yA=Rn,vA=K2,LJ=X2,VJ=1,_A="[object Arguments]",wA="[object Array]",Ah="[object Object]",FJ=Object.prototype,bA=FJ.hasOwnProperty;function UJ(t,e,n,r,i,o){var a=yA(t),s=yA(e),l=a?wA:gA(t),u=s?wA:gA(e);l=l==_A?Ah:l,u=u==_A?Ah:u;var c=l==Ah,f=u==Ah,d=l==u;if(d&&vA(t)){if(!vA(e))return!1;a=!0,c=!1}if(d&&!c)return o||(o=new Iy),a||LJ(t)?jJ(t,e,n,r,i,o):MJ(t,e,l,n,r,i,o);if(!(n&VJ)){var p=c&&bA.call(t,"__wrapped__"),m=f&&bA.call(e,"__wrapped__");if(p||m){var g=p?t.value():t,_=m?e.value():e;return o||(o=new Iy),i(g,_,n,r,o)}}return d?(o||(o=new Iy),$J(t,e,n,r,i,o)):!1}var BJ=UJ,zJ=BJ,xA=Oi;function Z2(t,e,n,r,i){return t===e?!0:t==null||e==null||!xA(t)&&!xA(e)?t!==t&&e!==e:zJ(t,e,n,r,Z2,i)}var d1=Z2,WJ=F2,qJ=d1,HJ=1,KJ=2;function GJ(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var l=s[0],u=t[l],c=s[1];if(a&&s[2]){if(u===void 0&&!(l in t))return!1}else{var f=new WJ;if(r)var d=r(u,c,l,t,e,f);if(!(d===void 0?qJ(c,u,HJ|KJ,r,f):d))return!1}}return!0}var XJ=GJ,YJ=Ro;function QJ(t){return t===t&&!YJ(t)}var ej=QJ,JJ=ej,ZJ=Hm;function eZ(t){for(var e=ZJ(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,JJ(i)]}return e}var tZ=eZ;function nZ(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var tj=nZ,rZ=XJ,iZ=tZ,oZ=tj;function aZ(t){var e=iZ(t);return e.length==1&&e[0][2]?oZ(e[0][0],e[0][1]):function(n){return n===t||rZ(n,t,e)}}var sZ=aZ;function lZ(t,e){return t!=null&&e in Object(t)}var uZ=lZ,cZ=u2,fZ=c1,hZ=Rn,dZ=f1,pZ=h1,mZ=km;function gZ(t,e,n){e=cZ(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=mZ(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&pZ(i)&&dZ(a,i)&&(hZ(t)||fZ(t)))}var yZ=gZ,vZ=uZ,_Z=yZ;function wZ(t,e){return t!=null&&_Z(t,e,vZ)}var bZ=wZ,xZ=d1,EZ=c2,SZ=bZ,TZ=qb,AZ=ej,PZ=tj,IZ=km,OZ=1,CZ=2;function kZ(t,e){return TZ(t)&&AZ(e)?PZ(IZ(t),e):function(n){var r=EZ(n,t);return r===void 0&&r===e?SZ(n,t):xZ(e,r,OZ|CZ)}}var RZ=kZ;function NZ(t){return t}var Tl=NZ;function DZ(t){return function(e){return e==null?void 0:e[t]}}var jZ=DZ,MZ=Jb;function $Z(t){return function(e){return MZ(e,t)}}var LZ=$Z,VZ=jZ,FZ=LZ,UZ=qb,BZ=km;function zZ(t){return UZ(t)?VZ(BZ(t)):FZ(t)}var WZ=zZ,qZ=sZ,HZ=RZ,KZ=Tl,GZ=Rn,XZ=WZ;function YZ(t){return typeof t=="function"?t:t==null?KZ:typeof t=="object"?GZ(t)?HZ(t[0],t[1]):qZ(t):XZ(t)}var Gr=YZ;function QZ(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var nj=QZ;function JZ(t){return t!==t}var ZZ=JZ;function eee(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var tee=eee,nee=nj,ree=ZZ,iee=tee;function oee(t,e,n){return e===e?iee(t,e,n):nee(t,ree,n)}var aee=oee,see=aee;function lee(t,e){var n=t==null?0:t.length;return!!n&&see(t,e,0)>-1}var uee=lee;function cee(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var fee=cee;function hee(){}var dee=hee,Oy=Q2,pee=dee,mee=u1,gee=1/0,yee=Oy&&1/mee(new Oy([,-0]))[1]==gee?function(t){return new Oy(t)}:pee,vee=yee,_ee=U2,wee=uee,bee=fee,xee=z2,Eee=vee,See=u1,Tee=200;function Aee(t,e,n){var r=-1,i=wee,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=bee;else if(o>=Tee){var u=e?null:Eee(t);if(u)return See(u);a=!1,i=xee,l=new _ee}else l=e?[]:s;e:for(;++r<o;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,a&&f===f){for(var d=l.length;d--;)if(l[d]===f)continue e;e&&l.push(f),s.push(c)}else i(l,f,n)||(l!==s&&l.push(f),s.push(c))}return s}var Pee=Aee,Iee=Gr,Oee=Pee;function Cee(t,e){return t&&t.length?Oee(t,Iee(e)):[]}var kee=Cee;const EA=Be(kee);function rj(t,e,n){return e===!0?EA(t,n):be(e)?EA(t,e):t}function qs(t){"@babel/helpers - typeof";return qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qs(t)}var Ree=["ref"];function SA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SA(Object(n),!0).forEach(function(r){Km(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aj(r.key),r)}}function Dee(t,e,n){return e&&TA(t.prototype,e),n&&TA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function jee(t,e,n){return e=ap(e),Mee(t,ij()?Reflect.construct(e,n||[],ap(t).constructor):e.apply(t,n))}function Mee(t,e){if(e&&(qs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oj(t)}function ij(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ij=function(){return!!t})()}function ap(t){return ap=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ap(t)}function oj(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $ee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F0(t,e)}function F0(t,e){return F0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},F0(t,e)}function Km(t,e,n){return e=aj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aj(t){var e=Lee(t,"string");return qs(e)=="symbol"?e:String(e)}function Lee(t,e){if(qs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(qs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vee(t,e){if(t==null)return{};var n=Fee(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Fee(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Uee(t){return t.value}function Bee(t,e){if(M.isValidElement(t))return M.cloneElement(t,e);if(typeof t=="function")return M.createElement(t,e);e.ref;var n=Vee(e,Ree);return M.createElement(l1,n)}var AA=1,Tc=function(t){$ee(e,t);function e(){var n;Nee(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=jee(this,e,[].concat(i)),Km(oj(n),"lastBoundingBox",{width:-1,height:-1}),n}return Dee(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>AA||Math.abs(i.height-this.lastBoundingBox.height)>AA)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Fo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,f,d;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var m=this.getBBoxSnapshot();d={top:((c||0)-m.height)/2}}else d=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Fo(Fo({},f),d)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,f=Fo(Fo({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return M.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){r.wrapperNode=p}},Bee(o,Fo(Fo({},this.props),{},{payload:rj(c,u,Uee)})))}}],[{key:"getWithHeight",value:function(r,i){var o=r.props.layout;return o==="vertical"&&te(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}]),e}(j.PureComponent);Km(Tc,"displayName","Legend");Km(Tc,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var PA=Pf,zee=c1,Wee=Rn,IA=PA?PA.isConcatSpreadable:void 0;function qee(t){return Wee(t)||zee(t)||!!(IA&&t&&t[IA])}var Hee=qee,Kee=q2,Gee=Hee;function sj(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=Gee),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?sj(s,e-1,n,r,i):Kee(i,s):r||(i[i.length]=s)}return i}var lj=sj;function Xee(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(n(o[l],l,o)===!1)break}return e}}var Yee=Xee,Qee=Yee,Jee=Qee(),Zee=Jee,ete=Zee,tte=Hm;function nte(t,e){return t&&ete(t,e,tte)}var uj=nte,rte=kf;function ite(t,e){return function(n,r){if(n==null)return n;if(!rte(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var ote=ite,ate=uj,ste=ote,lte=ste(ate),p1=lte,ute=p1,cte=kf;function fte(t,e){var n=-1,r=cte(t)?Array(t.length):[];return ute(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var cj=fte;function hte(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var dte=hte,OA=vl;function pte(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=OA(t),a=e!==void 0,s=e===null,l=e===e,u=OA(e);if(!s&&!u&&!o&&t>e||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var mte=pte,gte=mte;function yte(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=gte(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var vte=yte,Cy=Qb,_te=Jb,wte=Gr,bte=cj,xte=dte,Ete=G2,Ste=vte,Tte=Tl,Ate=Rn;function Pte(t,e,n){e.length?e=Cy(e,function(o){return Ate(o)?function(a){return _te(a,o.length===1?o[0]:o)}:o}):e=[Tte];var r=-1;e=Cy(e,Ete(wte));var i=bte(t,function(o,a,s){var l=Cy(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return xte(i,function(o,a){return Ste(o,a,n)})}var Ite=Pte;function Ote(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Cte=Ote,kte=Cte,CA=Math.max;function Rte(t,e,n){return e=CA(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=CA(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),kte(t,this,s)}}var Nte=Rte;function Dte(t){return function(){return t}}var jte=Dte,Mte=Ma,$te=function(){try{var t=Mte(Object,"defineProperty");return t({},"",{}),t}catch{}}(),fj=$te,Lte=jte,kA=fj,Vte=Tl,Fte=kA?function(t,e){return kA(t,"toString",{configurable:!0,enumerable:!1,value:Lte(e),writable:!0})}:Vte,Ute=Fte,Bte=800,zte=16,Wte=Date.now;function qte(t){var e=0,n=0;return function(){var r=Wte(),i=zte-(r-n);if(n=r,i>0){if(++e>=Bte)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Hte=qte,Kte=Ute,Gte=Hte,Xte=Gte(Kte),Yte=Xte,Qte=Tl,Jte=Nte,Zte=Yte;function ene(t,e){return Zte(Jte(t,e,Qte),t+"")}var tne=ene,nne=Kb,rne=kf,ine=f1,one=Ro;function ane(t,e,n){if(!one(n))return!1;var r=typeof e;return(r=="number"?rne(n)&&ine(e,n.length):r=="string"&&e in n)?nne(n[e],t):!1}var Gm=ane,sne=lj,lne=Ite,une=tne,RA=Gm,cne=une(function(t,e){if(t==null)return[];var n=e.length;return n>1&&RA(t,e[0],e[1])?e=[]:n>2&&RA(e[0],e[1],e[2])&&(e=[e[0]]),lne(t,sne(e,1),[])}),fne=cne;const m1=Be(fne);function Ac(t){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ac(t)}function U0(){return U0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},U0.apply(this,arguments)}function hne(t,e){return gne(t)||mne(t,e)||pne(t,e)||dne()}function dne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pne(t,e){if(t){if(typeof t=="string")return NA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NA(t,e)}}function NA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function gne(t){if(Array.isArray(t))return t}function DA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ky(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DA(Object(n),!0).forEach(function(r){yne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yne(t,e,n){return e=vne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vne(t){var e=_ne(t,"string");return Ac(e)=="symbol"?e:String(e)}function _ne(t,e){if(Ac(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ac(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wne(t){return Array.isArray(t)&&Ot(t[0])&&Ot(t[1])?t.join(" ~ "):t}var bne=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,f=e.formatter,d=e.itemSorter,p=e.wrapperClassName,m=e.labelClassName,g=e.label,_=e.labelFormatter,b=e.accessibilityLayer,y=b===void 0?!1:b,v=function(){if(c&&c.length){var D={padding:0,margin:0},k=(d?m1(c,d):c).map(function(V,B){if(V.type==="none")return null;var U=ky({display:"block",paddingTop:4,paddingBottom:4,color:V.color||"#000"},s),W=V.formatter||f||wne,$=V.value,z=V.name,G=$,re=z;if(W&&G!=null&&re!=null){var ee=W($,z,V,B,c);if(Array.isArray(ee)){var ue=hne(ee,2);G=ue[0],re=ue[1]}else G=ee}return M.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:U},Ot(re)?M.createElement("span",{className:"recharts-tooltip-item-name"},re):null,Ot(re)?M.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,M.createElement("span",{className:"recharts-tooltip-item-value"},G),M.createElement("span",{className:"recharts-tooltip-item-unit"},V.unit||""))});return M.createElement("ul",{className:"recharts-tooltip-item-list",style:D},k)}return null},x=ky({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),T=ky({margin:0},u),O=!Pe(g),S=O?g:"",E=Ae("recharts-default-tooltip",p),I=Ae("recharts-tooltip-label",m);O&&_&&c!==void 0&&c!==null&&(S=_(g,c));var C=y?{role:"status","aria-live":"assertive"}:{};return M.createElement("div",U0({className:E,style:x},C),M.createElement("p",{className:I,style:T},M.isValidElement(S)?S:"".concat(S)),v())};function Pc(t){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pc(t)}function Ph(t,e,n){return e=xne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xne(t){var e=Ene(t,"string");return Pc(e)=="symbol"?e:String(e)}function Ene(t,e){if(Pc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Pc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ru="recharts-tooltip-wrapper",Sne={visibility:"hidden"};function Tne(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Ae(ru,Ph(Ph(Ph(Ph({},"".concat(ru,"-right"),te(n)&&e&&te(e.x)&&n>=e.x),"".concat(ru,"-left"),te(n)&&e&&te(e.x)&&n<e.x),"".concat(ru,"-bottom"),te(r)&&e&&te(e.y)&&r>=e.y),"".concat(ru,"-top"),te(r)&&e&&te(e.y)&&r<e.y))}function jA(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&te(o[r]))return o[r];var c=n[r]-s-i,f=n[r]+i;if(e[r])return a[r]?c:f;if(a[r]){var d=c,p=l[r];return d<p?Math.max(f,l[r]):Math.max(c,l[r])}var m=f+s,g=l[r]+u;return m>g?Math.max(c,l[r]):Math.max(f,l[r])}function Ane(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Pne(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,c,f;return a.height>0&&a.width>0&&n?(c=jA({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),f=jA({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=Ane({translateX:c,translateY:f,useTranslate3d:s})):u=Sne,{cssProperties:u,cssClasses:Tne({translateX:c,translateY:f,coordinate:n})}}function Hs(t){"@babel/helpers - typeof";return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hs(t)}function MA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $A(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MA(Object(n),!0).forEach(function(r){W0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ine(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function One(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dj(r.key),r)}}function Cne(t,e,n){return e&&One(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kne(t,e,n){return e=sp(e),Rne(t,hj()?Reflect.construct(e,n||[],sp(t).constructor):e.apply(t,n))}function Rne(t,e){if(e&&(Hs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B0(t)}function hj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hj=function(){return!!t})()}function sp(t){return sp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sp(t)}function B0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z0(t,e)}function z0(t,e){return z0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},z0(t,e)}function W0(t,e,n){return e=dj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dj(t){var e=Dne(t,"string");return Hs(e)=="symbol"?e:String(e)}function Dne(t,e){if(Hs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Hs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LA=1,jne=function(t){Nne(e,t);function e(){var n;Ine(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=kne(this,e,[].concat(i)),W0(B0(n),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),W0(B0(n),"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return Cne(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>LA||Math.abs(r.height-this.state.lastBoundingBox.height)>LA)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,f=i.hasPayload,d=i.isAnimationActive,p=i.offset,m=i.position,g=i.reverseDirection,_=i.useTranslate3d,b=i.viewBox,y=i.wrapperStyle,v=Pne({allowEscapeViewBox:a,coordinate:c,offsetTopLeft:p,position:m,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:_,viewBox:b}),x=v.cssClasses,T=v.cssProperties,O=$A($A({transition:d&&o?"transform ".concat(s,"ms ").concat(l):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},y);return M.createElement("div",{tabIndex:-1,className:x,style:O,ref:function(E){r.wrapperNode=E}},u)}}]),e}(j.PureComponent),Mne=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},di={isSsr:Mne(),get:function(e){return di[e]},set:function(e,n){if(typeof e=="string")di[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){di[i]=e[i]})}}};function Ks(t){"@babel/helpers - typeof";return Ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ks(t)}function VA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VA(Object(n),!0).forEach(function(r){g1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $ne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mj(r.key),r)}}function Vne(t,e,n){return e&&Lne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fne(t,e,n){return e=lp(e),Une(t,pj()?Reflect.construct(e,n||[],lp(t).constructor):e.apply(t,n))}function Une(t,e){if(e&&(Ks(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bne(t)}function Bne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pj=function(){return!!t})()}function lp(t){return lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lp(t)}function zne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q0(t,e)}function q0(t,e){return q0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},q0(t,e)}function g1(t,e,n){return e=mj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mj(t){var e=Wne(t,"string");return Ks(e)=="symbol"?e:String(e)}function Wne(t,e){if(Ks(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ks(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qne(t){return t.dataKey}function Hne(t,e){return M.isValidElement(t)?M.cloneElement(t,e):typeof t=="function"?M.createElement(t,e):M.createElement(bne,e)}var Cr=function(t){zne(e,t);function e(){return $ne(this,e),Fne(this,e,arguments)}return Vne(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,f=i.filterNull,d=i.isAnimationActive,p=i.offset,m=i.payload,g=i.payloadUniqBy,_=i.position,b=i.reverseDirection,y=i.useTranslate3d,v=i.viewBox,x=i.wrapperStyle,T=m??[];f&&T.length&&(T=rj(m.filter(function(S){return S.value!=null&&(S.hide!==!0||r.props.includeHidden)}),g,qne));var O=T.length>0;return M.createElement(jne,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:d,active:o,coordinate:c,hasPayload:O,offset:p,position:_,reverseDirection:b,useTranslate3d:y,viewBox:v,wrapperStyle:x},Hne(u,FA(FA({},this.props),{},{payload:T})))}}]),e}(j.PureComponent);g1(Cr,"displayName","Tooltip");g1(Cr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!di.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Kne=Kr,Gne=function(){return Kne.Date.now()},Xne=Gne,Yne=/\s/;function Qne(t){for(var e=t.length;e--&&Yne.test(t.charAt(e)););return e}var Jne=Qne,Zne=Jne,ere=/^\s+/;function tre(t){return t&&t.slice(0,Zne(t)+1).replace(ere,"")}var nre=tre,rre=nre,UA=Ro,ire=vl,BA=NaN,ore=/^[-+]0x[0-9a-f]+$/i,are=/^0b[01]+$/i,sre=/^0o[0-7]+$/i,lre=parseInt;function ure(t){if(typeof t=="number")return t;if(ire(t))return BA;if(UA(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=UA(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=rre(t);var n=are.test(t);return n||sre.test(t)?lre(t.slice(2),n?2:8):ore.test(t)?BA:+t}var gj=ure,cre=Ro,Ry=Xne,zA=gj,fre="Expected a function",hre=Math.max,dre=Math.min;function pre(t,e,n){var r,i,o,a,s,l,u=0,c=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(fre);e=zA(e)||0,cre(n)&&(c=!!n.leading,f="maxWait"in n,o=f?hre(zA(n.maxWait)||0,e):o,d="trailing"in n?!!n.trailing:d);function p(O){var S=r,E=i;return r=i=void 0,u=O,a=t.apply(E,S),a}function m(O){return u=O,s=setTimeout(b,e),c?p(O):a}function g(O){var S=O-l,E=O-u,I=e-S;return f?dre(I,o-E):I}function _(O){var S=O-l,E=O-u;return l===void 0||S>=e||S<0||f&&E>=o}function b(){var O=Ry();if(_(O))return y(O);s=setTimeout(b,g(O))}function y(O){return s=void 0,d&&r?p(O):(r=i=void 0,a)}function v(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function x(){return s===void 0?a:y(Ry())}function T(){var O=Ry(),S=_(O);if(r=arguments,i=this,l=O,S){if(s===void 0)return m(l);if(f)return clearTimeout(s),s=setTimeout(b,e),p(l)}return s===void 0&&(s=setTimeout(b,e)),a}return T.cancel=v,T.flush=x,T}var mre=pre,gre=mre,yre=Ro,vre="Expected a function";function _re(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(vre);return yre(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),gre(t,e,{leading:r,maxWait:e,trailing:i})}var wre=_re;const yj=Be(wre);function Ic(t){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ic(t)}function WA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ih(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WA(Object(n),!0).forEach(function(r){bre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bre(t,e,n){return e=xre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xre(t){var e=Ere(t,"string");return Ic(e)=="symbol"?e:String(e)}function Ere(t,e){if(Ic(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ic(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sre(t,e){return Ire(t)||Pre(t,e)||Are(t,e)||Tre()}function Tre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Are(t,e){if(t){if(typeof t=="string")return qA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qA(t,e)}}function qA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Ire(t){if(Array.isArray(t))return t}var vj=j.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,c=u===void 0?0:u,f=t.minHeight,d=t.maxHeight,p=t.children,m=t.debounce,g=m===void 0?0:m,_=t.id,b=t.className,y=t.onResize,v=t.style,x=v===void 0?{}:v,T=j.useRef(null),O=j.useRef();O.current=y,j.useImperativeHandle(e,function(){return Object.defineProperty(T.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),T.current},configurable:!0})});var S=j.useState({containerWidth:i.width,containerHeight:i.height}),E=Sre(S,2),I=E[0],C=E[1],R=j.useCallback(function(k,V){C(function(B){var U=Math.round(k),W=Math.round(V);return B.containerWidth===U&&B.containerHeight===W?B:{containerWidth:U,containerHeight:W}})},[]);j.useEffect(function(){var k=function(z){var G,re=z[0].contentRect,ee=re.width,ue=re.height;R(ee,ue),(G=O.current)===null||G===void 0||G.call(O,ee,ue)};g>0&&(k=yj(k,g,{trailing:!0,leading:!1}));var V=new ResizeObserver(k),B=T.current.getBoundingClientRect(),U=B.width,W=B.height;return R(U,W),V.observe(T.current),function(){V.disconnect()}},[R,g]);var D=j.useMemo(function(){var k=I.containerWidth,V=I.containerHeight;if(k<0||V<0)return null;br(ea(a)||ea(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),br(!n||n>0,"The aspect(%s) must be greater than zero.",n);var B=ea(a)?k:a,U=ea(l)?V:l;n&&n>0&&(B?U=B/n:U&&(B=U*n),d&&U>d&&(U=d)),br(B>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,U,a,l,c,f,n);var W=!Array.isArray(p)&&_0.isElement(p)&&hi(p.type).endsWith("Chart");return M.Children.map(p,function($){return _0.isElement($)?j.cloneElement($,Ih({width:B,height:U},W?{style:Ih({height:"100%",width:"100%",maxHeight:U,maxWidth:B},$.props.style)}:{})):$})},[n,p,l,d,f,c,I,a]);return M.createElement("div",{id:_?"".concat(_):void 0,className:Ae("recharts-responsive-container",b),style:Ih(Ih({},x),{},{width:a,height:l,minWidth:c,minHeight:f,maxHeight:d}),ref:T},D)}),Xm=function(e){return null};Xm.displayName="Cell";function Oc(t){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oc(t)}function HA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function H0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HA(Object(n),!0).forEach(function(r){Ore(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ore(t,e,n){return e=Cre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cre(t){var e=kre(t,"string");return Oc(e)=="symbol"?e:String(e)}function kre(t,e){if(Oc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Oc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ha={widthCache:{},cacheCount:0},Rre=2e3,Nre={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},KA="recharts_measurement_span";function Dre(t){var e=H0({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Vu=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||di.isSsr)return{width:0,height:0};var r=Dre(n),i=JSON.stringify({text:e,copyStyle:r});if(Ha.widthCache[i])return Ha.widthCache[i];try{var o=document.getElementById(KA);o||(o=document.createElement("span"),o.setAttribute("id",KA),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=H0(H0({},Nre),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return Ha.widthCache[i]=l,++Ha.cacheCount>Rre&&(Ha.cacheCount=0,Ha.widthCache={}),l}catch{return{width:0,height:0}}},jre=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Cc(t){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cc(t)}function up(t,e){return Vre(t)||Lre(t,e)||$re(t,e)||Mre()}function Mre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $re(t,e){if(t){if(typeof t=="string")return GA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GA(t,e)}}function GA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Vre(t){if(Array.isArray(t))return t}function Fre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Bre(r.key),r)}}function Ure(t,e,n){return e&&XA(t.prototype,e),n&&XA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bre(t){var e=zre(t,"string");return Cc(e)=="symbol"?e:String(e)}function zre(t,e){if(Cc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var YA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,QA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Wre=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,qre=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,_j={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Hre=Object.keys(_j),hs="NaN";function Kre(t,e){return t*_j[e]}var Oh=function(){function t(e,n){Fre(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Wre.test(n)&&(this.num=NaN,this.unit=""),Hre.includes(n)&&(this.num=Kre(e,n),this.unit="px")}return Ure(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=qre.exec(n))!==null&&r!==void 0?r:[],o=up(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}]),t}();function wj(t){if(t.includes(hs))return hs;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=YA.exec(e))!==null&&n!==void 0?n:[],i=up(r,4),o=i[1],a=i[2],s=i[3],l=Oh.parse(o??""),u=Oh.parse(s??""),c=a==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return hs;e=e.replace(YA,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,d=(f=QA.exec(e))!==null&&f!==void 0?f:[],p=up(d,4),m=p[1],g=p[2],_=p[3],b=Oh.parse(m??""),y=Oh.parse(_??""),v=g==="+"?b.add(y):b.subtract(y);if(v.isNaN())return hs;e=e.replace(QA,v.toString())}return e}var JA=/\(([^()]*)\)/;function Gre(t){for(var e=t;e.includes("(");){var n=JA.exec(e),r=up(n,2),i=r[1];e=e.replace(JA,wj(i))}return e}function Xre(t){var e=t.replace(/\s+/g,"");return e=Gre(e),e=wj(e),e}function Yre(t){try{return Xre(t)}catch{return hs}}function Ny(t){var e=Yre(t.slice(5,-1));return e===hs?"":e}var Qre=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Jre=["dx","dy","angle","className","breakAll"];function K0(){return K0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},K0.apply(this,arguments)}function ZA(t,e){if(t==null)return{};var n=Zre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Zre(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function eP(t,e){return rie(t)||nie(t,e)||tie(t,e)||eie()}function eie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tie(t,e){if(t){if(typeof t=="string")return tP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tP(t,e)}}function tP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function rie(t){if(Array.isArray(t))return t}var bj=/[ \f\n\r\t\v\u2028\u2029]+/,xj=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];Pe(n)||(r?o=n.toString().split(""):o=n.toString().split(bj));var a=o.map(function(l){return{word:l,width:Vu(l,i).width}}),s=r?0:Vu("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},iie=function(e,n,r,i,o){var a=e.maxLines,s=e.children,l=e.style,u=e.breakAll,c=te(a),f=s,d=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce(function(U,W){var $=W.word,z=W.width,G=U[U.length-1];if(G&&(i==null||o||G.width+z+r<Number(i)))G.words.push($),G.width+=z+r;else{var re={words:[$],width:z};U.push(re)}return U},[])},p=d(n),m=function(B){return B.reduce(function(U,W){return U.width>W.width?U:W})};if(!c)return p;for(var g="",_=function(B){var U=f.slice(0,B),W=xj({breakAll:u,style:l,children:U+g}).wordsWithComputedWidth,$=d(W),z=$.length>a||m($).width>Number(i);return[z,$]},b=0,y=f.length-1,v=0,x;b<=y&&v<=f.length-1;){var T=Math.floor((b+y)/2),O=T-1,S=_(O),E=eP(S,2),I=E[0],C=E[1],R=_(T),D=eP(R,1),k=D[0];if(!I&&!k&&(b=T+1),I&&k&&(y=T-1),!I&&k){x=C;break}v++}return x||p},nP=function(e){var n=Pe(e)?[]:e.toString().split(bj);return[{words:n}]},oie=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((n||r)&&!di.isSsr){var l,u,c=xj({breakAll:a,children:i,style:o});if(c){var f=c.wordsWithComputedWidth,d=c.spaceWidth;l=f,u=d}else return nP(i);return iie({breakAll:a,children:i,maxLines:s,style:o},l,u,n,r)}return nP(i)},rP="#808080",Ea=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,f=c===void 0?!1:c,d=e.textAnchor,p=d===void 0?"start":d,m=e.verticalAnchor,g=m===void 0?"end":m,_=e.fill,b=_===void 0?rP:_,y=ZA(e,Qre),v=j.useMemo(function(){return oie({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),x=y.dx,T=y.dy,O=y.angle,S=y.className,E=y.breakAll,I=ZA(y,Jre);if(!Ot(r)||!Ot(o))return null;var C=r+(te(x)?x:0),R=o+(te(T)?T:0),D;switch(g){case"start":D=Ny("calc(".concat(u,")"));break;case"middle":D=Ny("calc(".concat((v.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:D=Ny("calc(".concat(v.length-1," * -").concat(s,")"));break}var k=[];if(f){var V=v[0].width,B=y.width;k.push("scale(".concat((te(B)?B/V:1)/V,")"))}return O&&k.push("rotate(".concat(O,", ").concat(C,", ").concat(R,")")),k.length&&(I.transform=k.join(" ")),M.createElement("text",K0({},ye(I,!0),{x:C,y:R,className:Ae("recharts-text",S),textAnchor:p,fill:b.includes("url")?rP:b}),v.map(function(U,W){var $=U.words.join(E?"":" ");return M.createElement("tspan",{x:C,dy:W===0?D:s,key:$},$)}))};function mo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function aie(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function y1(t){let e,n,r;t.length!==2?(e=mo,n=(s,l)=>mo(t(s),l),r=(s,l)=>t(s)-l):(e=t===mo||t===aie?t:sie,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<0?u=f+1:c=f}while(u<c)}return u}function o(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function a(s,l,u=0,c=s.length){const f=i(s,l,u,c-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:a,right:o}}function sie(){return 0}function Ej(t){return t===null?NaN:+t}function*lie(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const uie=y1(mo),Rf=uie.right;y1(Ej).center;class iP extends Map{constructor(e,n=hie){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(oP(this,e))}has(e){return super.has(oP(this,e))}set(e,n){return super.set(cie(this,e),n)}delete(e){return super.delete(fie(this,e))}}function oP({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function cie({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function fie({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function hie(t){return t!==null&&typeof t=="object"?t.valueOf():t}function die(t=mo){if(t===mo)return Sj;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function Sj(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const pie=Math.sqrt(50),mie=Math.sqrt(10),gie=Math.sqrt(2);function cp(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=pie?10:o>=mie?5:o>=gie?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?cp(t,e,n*2):[s,l,u]}function G0(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?cp(e,t,n):cp(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function X0(t,e,n){return e=+e,t=+t,n=+n,cp(t,e,n)[2]}function Y0(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?X0(e,t,n):X0(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function aP(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function sP(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function Tj(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?Sj:die(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(e-u*f/l+d)),m=Math.min(r,Math.floor(e+(l-u)*f/l+d));Tj(t,e,p,m,i)}const o=t[e];let a=n,s=r;for(iu(t,n,e),i(t[r],o)>0&&iu(t,n,r);a<s;){for(iu(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?iu(t,n,s):(++s,iu(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function iu(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function yie(t,e,n){if(t=Float64Array.from(lie(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return sP(t);if(e>=1)return aP(t);var r,i=(r-1)*e,o=Math.floor(i),a=aP(Tj(t,o).subarray(0,o+1)),s=sP(t.subarray(o+1));return a+(s-a)*(i-o)}}function vie(t,e,n=Ej){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function _ie(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function cr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ci(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Q0=Symbol("implicit");function v1(){var t=new iP,e=[],n=[],r=Q0;function i(o){let a=t.get(o);if(a===void 0){if(r!==Q0)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new iP;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return v1(e,n).unknown(r)},cr.apply(i,arguments),i}function kc(){var t=v1().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var d=e().length,p=i<r,m=p?i:r,g=p?r:i;o=(g-m)/Math.max(1,d-l+u*2),s&&(o=Math.floor(o)),m+=(g-m-o*(d-l))*c,a=o*(1-l),s&&(m=Math.round(m),a=Math.round(a));var _=_ie(d).map(function(b){return m+o*b});return n(p?_.reverse():_)}return t.domain=function(d){return arguments.length?(e(d),f()):e()},t.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,s=!0,f()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(d){return arguments.length?(s=!!d,f()):s},t.padding=function(d){return arguments.length?(l=Math.min(1,u=+d),f()):l},t.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),f()):l},t.paddingOuter=function(d){return arguments.length?(u=+d,f()):u},t.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),f()):c},t.copy=function(){return kc(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},cr.apply(f(),arguments)}function Aj(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Aj(e())},t}function Fu(){return Aj(kc.apply(null,arguments).paddingInner(1))}function _1(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Pj(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Nf(){}var Rc=.7,fp=1/Rc,Ps="\\s*([+-]?\\d+)\\s*",Nc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Br="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",wie=/^#([0-9a-f]{3,8})$/,bie=new RegExp(`^rgb\\(${Ps},${Ps},${Ps}\\)$`),xie=new RegExp(`^rgb\\(${Br},${Br},${Br}\\)$`),Eie=new RegExp(`^rgba\\(${Ps},${Ps},${Ps},${Nc}\\)$`),Sie=new RegExp(`^rgba\\(${Br},${Br},${Br},${Nc}\\)$`),Tie=new RegExp(`^hsl\\(${Nc},${Br},${Br}\\)$`),Aie=new RegExp(`^hsla\\(${Nc},${Br},${Br},${Nc}\\)$`),lP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};_1(Nf,Dc,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:uP,formatHex:uP,formatHex8:Pie,formatHsl:Iie,formatRgb:cP,toString:cP});function uP(){return this.rgb().formatHex()}function Pie(){return this.rgb().formatHex8()}function Iie(){return Ij(this).formatHsl()}function cP(){return this.rgb().formatRgb()}function Dc(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=wie.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?fP(e):n===3?new An(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Ch(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Ch(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=bie.exec(t))?new An(e[1],e[2],e[3],1):(e=xie.exec(t))?new An(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Eie.exec(t))?Ch(e[1],e[2],e[3],e[4]):(e=Sie.exec(t))?Ch(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Tie.exec(t))?pP(e[1],e[2]/100,e[3]/100,1):(e=Aie.exec(t))?pP(e[1],e[2]/100,e[3]/100,e[4]):lP.hasOwnProperty(t)?fP(lP[t]):t==="transparent"?new An(NaN,NaN,NaN,0):null}function fP(t){return new An(t>>16&255,t>>8&255,t&255,1)}function Ch(t,e,n,r){return r<=0&&(t=e=n=NaN),new An(t,e,n,r)}function Oie(t){return t instanceof Nf||(t=Dc(t)),t?(t=t.rgb(),new An(t.r,t.g,t.b,t.opacity)):new An}function J0(t,e,n,r){return arguments.length===1?Oie(t):new An(t,e,n,r??1)}function An(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}_1(An,J0,Pj(Nf,{brighter(t){return t=t==null?fp:Math.pow(fp,t),new An(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Rc:Math.pow(Rc,t),new An(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new An(la(this.r),la(this.g),la(this.b),hp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hP,formatHex:hP,formatHex8:Cie,formatRgb:dP,toString:dP}));function hP(){return`#${ta(this.r)}${ta(this.g)}${ta(this.b)}`}function Cie(){return`#${ta(this.r)}${ta(this.g)}${ta(this.b)}${ta((isNaN(this.opacity)?1:this.opacity)*255)}`}function dP(){const t=hp(this.opacity);return`${t===1?"rgb(":"rgba("}${la(this.r)}, ${la(this.g)}, ${la(this.b)}${t===1?")":`, ${t})`}`}function hp(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function la(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ta(t){return t=la(t),(t<16?"0":"")+t.toString(16)}function pP(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new vr(t,e,n,r)}function Ij(t){if(t instanceof vr)return new vr(t.h,t.s,t.l,t.opacity);if(t instanceof Nf||(t=Dc(t)),!t)return new vr;if(t instanceof vr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new vr(a,s,l,t.opacity)}function kie(t,e,n,r){return arguments.length===1?Ij(t):new vr(t,e,n,r??1)}function vr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}_1(vr,kie,Pj(Nf,{brighter(t){return t=t==null?fp:Math.pow(fp,t),new vr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Rc:Math.pow(Rc,t),new vr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new An(Dy(t>=240?t-240:t+120,i,r),Dy(t,i,r),Dy(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new vr(mP(this.h),kh(this.s),kh(this.l),hp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=hp(this.opacity);return`${t===1?"hsl(":"hsla("}${mP(this.h)}, ${kh(this.s)*100}%, ${kh(this.l)*100}%${t===1?")":`, ${t})`}`}}));function mP(t){return t=(t||0)%360,t<0?t+360:t}function kh(t){return Math.max(0,Math.min(1,t||0))}function Dy(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const w1=t=>()=>t;function Rie(t,e){return function(n){return t+n*e}}function Nie(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Die(t){return(t=+t)==1?Oj:function(e,n){return n-e?Nie(e,n,t):w1(isNaN(e)?n:e)}}function Oj(t,e){var n=e-t;return n?Rie(t,n):w1(isNaN(t)?e:t)}const gP=function t(e){var n=Die(e);function r(i,o){var a=n((i=J0(i)).r,(o=J0(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=Oj(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function jie(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Mie(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function $ie(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Al(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function Lie(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function dp(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Vie(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Al(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Z0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jy=new RegExp(Z0.source,"g");function Fie(t){return function(){return t}}function Uie(t){return function(e){return t(e)+""}}function Bie(t,e){var n=Z0.lastIndex=jy.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=Z0.exec(t))&&(i=jy.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:dp(r,i)})),n=jy.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?Uie(l[0].x):Fie(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}function Al(t,e){var n=typeof e,r;return e==null||n==="boolean"?w1(e):(n==="number"?dp:n==="string"?(r=Dc(e))?(e=r,gP):Bie:e instanceof Dc?gP:e instanceof Date?Lie:Mie(e)?jie:Array.isArray(e)?$ie:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Vie:dp)(t,e)}function b1(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function zie(t,e){e===void 0&&(e=t,t=Al);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function Wie(t){return function(){return t}}function pp(t){return+t}var yP=[0,1];function vn(t){return t}function e_(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Wie(isNaN(e)?NaN:.5)}function qie(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Hie(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=e_(i,r),o=n(a,o)):(r=e_(r,i),o=n(o,a)),function(s){return o(r(s))}}function Kie(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=e_(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=Rf(t,s,1,r)-1;return o[l](i[l](s))}}function Df(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ym(){var t=yP,e=yP,n=Al,r,i,o,a=vn,s,l,u;function c(){var d=Math.min(t.length,e.length);return a!==vn&&(a=qie(t[0],t[d-1])),s=d>2?Kie:Hie,l=u=null,f}function f(d){return d==null||isNaN(d=+d)?o:(l||(l=s(t.map(r),e,n)))(r(a(d)))}return f.invert=function(d){return a(i((u||(u=s(e,t.map(r),dp)))(d)))},f.domain=function(d){return arguments.length?(t=Array.from(d,pp),c()):t.slice()},f.range=function(d){return arguments.length?(e=Array.from(d),c()):e.slice()},f.rangeRound=function(d){return e=Array.from(d),n=b1,c()},f.clamp=function(d){return arguments.length?(a=d?!0:vn,c()):a!==vn},f.interpolate=function(d){return arguments.length?(n=d,c()):n},f.unknown=function(d){return arguments.length?(o=d,f):o},function(d,p){return r=d,i=p,c()}}function x1(){return Ym()(vn,vn)}function Gie(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function mp(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Gs(t){return t=mp(Math.abs(t)),t?t[1]:NaN}function Xie(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function Yie(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Qie=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function jc(t){if(!(e=Qie.exec(t)))throw new Error("invalid format: "+t);var e;return new E1({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}jc.prototype=E1.prototype;function E1(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}E1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Jie(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Cj;function Zie(t,e){var n=mp(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Cj=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+mp(t,Math.max(0,e+o-1))[0]}function vP(t,e){var n=mp(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const _P={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Gie,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>vP(t*100,e),r:vP,s:Zie,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function wP(t){return t}var bP=Array.prototype.map,xP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function eoe(t){var e=t.grouping===void 0||t.thousands===void 0?wP:Xie(bP.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?wP:Yie(bP.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=jc(f);var d=f.fill,p=f.align,m=f.sign,g=f.symbol,_=f.zero,b=f.width,y=f.comma,v=f.precision,x=f.trim,T=f.type;T==="n"?(y=!0,T="g"):_P[T]||(v===void 0&&(v=12),x=!0,T="g"),(_||d==="0"&&p==="=")&&(_=!0,d="0",p="=");var O=g==="$"?n:g==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",S=g==="$"?r:/[%p]/.test(T)?a:"",E=_P[T],I=/[defgprs%]/.test(T);v=v===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function C(R){var D=O,k=S,V,B,U;if(T==="c")k=E(R)+k,R="";else{R=+R;var W=R<0||1/R<0;if(R=isNaN(R)?l:E(Math.abs(R),v),x&&(R=Jie(R)),W&&+R==0&&m!=="+"&&(W=!1),D=(W?m==="("?m:s:m==="-"||m==="("?"":m)+D,k=(T==="s"?xP[8+Cj/3]:"")+k+(W&&m==="("?")":""),I){for(V=-1,B=R.length;++V<B;)if(U=R.charCodeAt(V),48>U||U>57){k=(U===46?i+R.slice(V+1):R.slice(V))+k,R=R.slice(0,V);break}}}y&&!_&&(R=e(R,1/0));var $=D.length+R.length+k.length,z=$<b?new Array(b-$+1).join(d):"";switch(y&&_&&(R=e(z+R,z.length?b-k.length:1/0),z=""),p){case"<":R=D+R+k+z;break;case"=":R=D+z+R+k;break;case"^":R=z.slice(0,$=z.length>>1)+D+R+k+z.slice($);break;default:R=z+D+R+k;break}return o(R)}return C.toString=function(){return f+""},C}function c(f,d){var p=u((f=jc(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(Gs(d)/3)))*3,g=Math.pow(10,-m),_=xP[8+m/3];return function(b){return p(g*b)+_}}return{format:u,formatPrefix:c}}var Rh,S1,kj;toe({thousands:",",grouping:[3],currency:["$",""]});function toe(t){return Rh=eoe(t),S1=Rh.format,kj=Rh.formatPrefix,Rh}function noe(t){return Math.max(0,-Gs(Math.abs(t)))}function roe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Gs(e)/3)))*3-Gs(Math.abs(t)))}function ioe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Gs(e)-Gs(t))+1}function Rj(t,e,n,r){var i=Y0(t,e,n),o;switch(r=jc(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=roe(i,a))&&(r.precision=o),kj(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=ioe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=noe(i))&&(r.precision=o-(r.type==="%")*2);break}}return S1(r)}function No(t){var e=t.domain;return t.ticks=function(n){var r=e();return G0(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Rj(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,c=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);c-- >0;){if(u=X0(a,s,n),u===l)return r[i]=a,r[o]=s,e(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function gp(){var t=x1();return t.copy=function(){return Df(t,gp())},cr.apply(t,arguments),No(t)}function Nj(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,pp),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return Nj(t).unknown(e)},t=arguments.length?Array.from(t,pp):[0,1],No(n)}function Dj(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function EP(t){return Math.log(t)}function SP(t){return Math.exp(t)}function ooe(t){return-Math.log(-t)}function aoe(t){return-Math.exp(-t)}function soe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function loe(t){return t===10?soe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function uoe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function TP(t){return(e,n)=>-t(-e,n)}function T1(t){const e=t(EP,SP),n=e.domain;let r=10,i,o;function a(){return i=uoe(r),o=loe(r),n()[0]<0?(i=TP(i),o=TP(o),t(ooe,aoe)):t(EP,SP),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let d=i(u),p=i(c),m,g;const _=s==null?10:+s;let b=[];if(!(r%1)&&p-d<_){if(d=Math.floor(d),p=Math.ceil(p),u>0){for(;d<=p;++d)for(m=1;m<r;++m)if(g=d<0?m/o(-d):m*o(d),!(g<u)){if(g>c)break;b.push(g)}}else for(;d<=p;++d)for(m=r-1;m>=1;--m)if(g=d>0?m/o(-d):m*o(d),!(g<u)){if(g>c)break;b.push(g)}b.length*2<_&&(b=G0(u,c,_))}else b=G0(d,p,Math.min(p-d,_)).map(o);return f?b.reverse():b},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=jc(l)).precision==null&&(l.trim=!0),l=S1(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return c=>{let f=c/o(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},e.nice=()=>n(Dj(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function jj(){const t=T1(Ym()).domain([1,10]);return t.copy=()=>Df(t,jj()).base(t.base()),cr.apply(t,arguments),t}function AP(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function PP(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function A1(t){var e=1,n=t(AP(e),PP(e));return n.constant=function(r){return arguments.length?t(AP(e=+r),PP(e)):e},No(n)}function Mj(){var t=A1(Ym());return t.copy=function(){return Df(t,Mj()).constant(t.constant())},cr.apply(t,arguments)}function IP(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function coe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function foe(t){return t<0?-t*t:t*t}function P1(t){var e=t(vn,vn),n=1;function r(){return n===1?t(vn,vn):n===.5?t(coe,foe):t(IP(n),IP(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},No(e)}function I1(){var t=P1(Ym());return t.copy=function(){return Df(t,I1()).exponent(t.exponent())},cr.apply(t,arguments),t}function hoe(){return I1.apply(null,arguments).exponent(.5)}function OP(t){return Math.sign(t)*t*t}function doe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function $j(){var t=x1(),e=[0,1],n=!1,r;function i(o){var a=doe(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(OP(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,pp)).map(OP)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return $j(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},cr.apply(i,arguments),No(i)}function Lj(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=vie(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[Rf(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(mo),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return Lj().domain(t).range(e).unknown(r)},cr.apply(o,arguments)}function Vj(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[Rf(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return Vj().domain([t,e]).range(i).unknown(o)},cr.apply(No(a),arguments)}function Fj(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Rf(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return Fj().domain(t).range(e).unknown(n)},cr.apply(i,arguments)}const My=new Date,$y=new Date;function Ct(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),e(o,s),t(o);while(u<o&&o<a);return l},i.filter=o=>Ct(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(My.setTime(+o),$y.setTime(+a),t(My),t($y),Math.floor(n(My,$y))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const yp=Ct(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);yp.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Ct(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):yp);yp.range;const ai=1e3,nr=ai*60,si=nr*60,Ei=si*24,O1=Ei*7,CP=Ei*30,Ly=Ei*365,na=Ct(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ai)},(t,e)=>(e-t)/ai,t=>t.getUTCSeconds());na.range;const C1=Ct(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ai)},(t,e)=>{t.setTime(+t+e*nr)},(t,e)=>(e-t)/nr,t=>t.getMinutes());C1.range;const k1=Ct(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*nr)},(t,e)=>(e-t)/nr,t=>t.getUTCMinutes());k1.range;const R1=Ct(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ai-t.getMinutes()*nr)},(t,e)=>{t.setTime(+t+e*si)},(t,e)=>(e-t)/si,t=>t.getHours());R1.range;const N1=Ct(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*si)},(t,e)=>(e-t)/si,t=>t.getUTCHours());N1.range;const jf=Ct(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*nr)/Ei,t=>t.getDate()-1);jf.range;const Qm=Ct(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ei,t=>t.getUTCDate()-1);Qm.range;const Uj=Ct(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ei,t=>Math.floor(t/Ei));Uj.range;function $a(t){return Ct(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*nr)/O1)}const Jm=$a(0),vp=$a(1),poe=$a(2),moe=$a(3),Xs=$a(4),goe=$a(5),yoe=$a(6);Jm.range;vp.range;poe.range;moe.range;Xs.range;goe.range;yoe.range;function La(t){return Ct(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/O1)}const Zm=La(0),_p=La(1),voe=La(2),_oe=La(3),Ys=La(4),woe=La(5),boe=La(6);Zm.range;_p.range;voe.range;_oe.range;Ys.range;woe.range;boe.range;const D1=Ct(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());D1.range;const j1=Ct(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());j1.range;const Si=Ct(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Si.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ct(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Si.range;const Ti=Ct(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ti.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ct(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ti.range;function Bj(t,e,n,r,i,o){const a=[[na,1,ai],[na,5,5*ai],[na,15,15*ai],[na,30,30*ai],[o,1,nr],[o,5,5*nr],[o,15,15*nr],[o,30,30*nr],[i,1,si],[i,3,3*si],[i,6,6*si],[i,12,12*si],[r,1,Ei],[r,2,2*Ei],[n,1,O1],[e,1,CP],[e,3,3*CP],[t,1,Ly]];function s(u,c,f){const d=c<u;d&&([u,c]=[c,u]);const p=f&&typeof f.range=="function"?f:l(u,c,f),m=p?p.range(u,+c+1):[];return d?m.reverse():m}function l(u,c,f){const d=Math.abs(c-u)/f,p=y1(([,,_])=>_).right(a,d);if(p===a.length)return t.every(Y0(u/Ly,c/Ly,f));if(p===0)return yp.every(Math.max(Y0(u,c,f),1));const[m,g]=a[d/a[p-1][2]<a[p][2]/d?p-1:p];return m.every(g)}return[s,l]}const[xoe,Eoe]=Bj(Ti,j1,Zm,Uj,N1,k1),[Soe,Toe]=Bj(Si,D1,Jm,jf,R1,C1);function Vy(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Fy(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ou(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Aoe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=au(i),c=su(i),f=au(o),d=su(o),p=au(a),m=su(a),g=au(s),_=su(s),b=au(l),y=su(l),v={a:W,A:$,b:z,B:G,c:null,d:MP,e:MP,f:Xoe,g:oae,G:sae,H:Hoe,I:Koe,j:Goe,L:zj,m:Yoe,M:Qoe,p:re,q:ee,Q:VP,s:FP,S:Joe,u:Zoe,U:eae,V:tae,w:nae,W:rae,x:null,X:null,y:iae,Y:aae,Z:lae,"%":LP},x={a:ue,A:De,b:We,B:yt,c:null,d:$P,e:$P,f:hae,g:xae,G:Sae,H:uae,I:cae,j:fae,L:qj,m:dae,M:pae,p:Le,q:cn,Q:VP,s:FP,S:mae,u:gae,U:yae,V:vae,w:_ae,W:wae,x:null,X:null,y:bae,Y:Eae,Z:Tae,"%":LP},T={a:C,A:R,b:D,B:k,c:V,d:DP,e:DP,f:Boe,g:NP,G:RP,H:jP,I:jP,j:Loe,L:Uoe,m:$oe,M:Voe,p:I,q:Moe,Q:Woe,s:qoe,S:Foe,u:koe,U:Roe,V:Noe,w:Coe,W:Doe,x:B,X:U,y:NP,Y:RP,Z:joe,"%":zoe};v.x=O(n,v),v.X=O(r,v),v.c=O(e,v),x.x=O(n,x),x.X=O(r,x),x.c=O(e,x);function O(ie,he){return function(ve){var K=[],Ve=-1,Se=0,Q=ie.length,de,J,oe;for(ve instanceof Date||(ve=new Date(+ve));++Ve<Q;)ie.charCodeAt(Ve)===37&&(K.push(ie.slice(Se,Ve)),(J=kP[de=ie.charAt(++Ve)])!=null?de=ie.charAt(++Ve):J=de==="e"?" ":"0",(oe=he[de])&&(de=oe(ve,J)),K.push(de),Se=Ve+1);return K.push(ie.slice(Se,Ve)),K.join("")}}function S(ie,he){return function(ve){var K=ou(1900,void 0,1),Ve=E(K,ie,ve+="",0),Se,Q;if(Ve!=ve.length)return null;if("Q"in K)return new Date(K.Q);if("s"in K)return new Date(K.s*1e3+("L"in K?K.L:0));if(he&&!("Z"in K)&&(K.Z=0),"p"in K&&(K.H=K.H%12+K.p*12),K.m===void 0&&(K.m="q"in K?K.q:0),"V"in K){if(K.V<1||K.V>53)return null;"w"in K||(K.w=1),"Z"in K?(Se=Fy(ou(K.y,0,1)),Q=Se.getUTCDay(),Se=Q>4||Q===0?_p.ceil(Se):_p(Se),Se=Qm.offset(Se,(K.V-1)*7),K.y=Se.getUTCFullYear(),K.m=Se.getUTCMonth(),K.d=Se.getUTCDate()+(K.w+6)%7):(Se=Vy(ou(K.y,0,1)),Q=Se.getDay(),Se=Q>4||Q===0?vp.ceil(Se):vp(Se),Se=jf.offset(Se,(K.V-1)*7),K.y=Se.getFullYear(),K.m=Se.getMonth(),K.d=Se.getDate()+(K.w+6)%7)}else("W"in K||"U"in K)&&("w"in K||(K.w="u"in K?K.u%7:"W"in K?1:0),Q="Z"in K?Fy(ou(K.y,0,1)).getUTCDay():Vy(ou(K.y,0,1)).getDay(),K.m=0,K.d="W"in K?(K.w+6)%7+K.W*7-(Q+5)%7:K.w+K.U*7-(Q+6)%7);return"Z"in K?(K.H+=K.Z/100|0,K.M+=K.Z%100,Fy(K)):Vy(K)}}function E(ie,he,ve,K){for(var Ve=0,Se=he.length,Q=ve.length,de,J;Ve<Se;){if(K>=Q)return-1;if(de=he.charCodeAt(Ve++),de===37){if(de=he.charAt(Ve++),J=T[de in kP?he.charAt(Ve++):de],!J||(K=J(ie,ve,K))<0)return-1}else if(de!=ve.charCodeAt(K++))return-1}return K}function I(ie,he,ve){var K=u.exec(he.slice(ve));return K?(ie.p=c.get(K[0].toLowerCase()),ve+K[0].length):-1}function C(ie,he,ve){var K=p.exec(he.slice(ve));return K?(ie.w=m.get(K[0].toLowerCase()),ve+K[0].length):-1}function R(ie,he,ve){var K=f.exec(he.slice(ve));return K?(ie.w=d.get(K[0].toLowerCase()),ve+K[0].length):-1}function D(ie,he,ve){var K=b.exec(he.slice(ve));return K?(ie.m=y.get(K[0].toLowerCase()),ve+K[0].length):-1}function k(ie,he,ve){var K=g.exec(he.slice(ve));return K?(ie.m=_.get(K[0].toLowerCase()),ve+K[0].length):-1}function V(ie,he,ve){return E(ie,e,he,ve)}function B(ie,he,ve){return E(ie,n,he,ve)}function U(ie,he,ve){return E(ie,r,he,ve)}function W(ie){return a[ie.getDay()]}function $(ie){return o[ie.getDay()]}function z(ie){return l[ie.getMonth()]}function G(ie){return s[ie.getMonth()]}function re(ie){return i[+(ie.getHours()>=12)]}function ee(ie){return 1+~~(ie.getMonth()/3)}function ue(ie){return a[ie.getUTCDay()]}function De(ie){return o[ie.getUTCDay()]}function We(ie){return l[ie.getUTCMonth()]}function yt(ie){return s[ie.getUTCMonth()]}function Le(ie){return i[+(ie.getUTCHours()>=12)]}function cn(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var he=O(ie+="",v);return he.toString=function(){return ie},he},parse:function(ie){var he=S(ie+="",!1);return he.toString=function(){return ie},he},utcFormat:function(ie){var he=O(ie+="",x);return he.toString=function(){return ie},he},utcParse:function(ie){var he=S(ie+="",!0);return he.toString=function(){return ie},he}}}var kP={"-":"",_:" ",0:"0"},Lt=/^\s*\d+/,Poe=/^%/,Ioe=/[\\^$*+?|[\]().{}]/g;function $e(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Ooe(t){return t.replace(Ioe,"\\$&")}function au(t){return new RegExp("^(?:"+t.map(Ooe).join("|")+")","i")}function su(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Coe(t,e,n){var r=Lt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function koe(t,e,n){var r=Lt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Roe(t,e,n){var r=Lt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Noe(t,e,n){var r=Lt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Doe(t,e,n){var r=Lt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function RP(t,e,n){var r=Lt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function NP(t,e,n){var r=Lt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function joe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Moe(t,e,n){var r=Lt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function $oe(t,e,n){var r=Lt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function DP(t,e,n){var r=Lt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Loe(t,e,n){var r=Lt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function jP(t,e,n){var r=Lt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Voe(t,e,n){var r=Lt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Foe(t,e,n){var r=Lt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Uoe(t,e,n){var r=Lt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Boe(t,e,n){var r=Lt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function zoe(t,e,n){var r=Poe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Woe(t,e,n){var r=Lt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function qoe(t,e,n){var r=Lt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function MP(t,e){return $e(t.getDate(),e,2)}function Hoe(t,e){return $e(t.getHours(),e,2)}function Koe(t,e){return $e(t.getHours()%12||12,e,2)}function Goe(t,e){return $e(1+jf.count(Si(t),t),e,3)}function zj(t,e){return $e(t.getMilliseconds(),e,3)}function Xoe(t,e){return zj(t,e)+"000"}function Yoe(t,e){return $e(t.getMonth()+1,e,2)}function Qoe(t,e){return $e(t.getMinutes(),e,2)}function Joe(t,e){return $e(t.getSeconds(),e,2)}function Zoe(t){var e=t.getDay();return e===0?7:e}function eae(t,e){return $e(Jm.count(Si(t)-1,t),e,2)}function Wj(t){var e=t.getDay();return e>=4||e===0?Xs(t):Xs.ceil(t)}function tae(t,e){return t=Wj(t),$e(Xs.count(Si(t),t)+(Si(t).getDay()===4),e,2)}function nae(t){return t.getDay()}function rae(t,e){return $e(vp.count(Si(t)-1,t),e,2)}function iae(t,e){return $e(t.getFullYear()%100,e,2)}function oae(t,e){return t=Wj(t),$e(t.getFullYear()%100,e,2)}function aae(t,e){return $e(t.getFullYear()%1e4,e,4)}function sae(t,e){var n=t.getDay();return t=n>=4||n===0?Xs(t):Xs.ceil(t),$e(t.getFullYear()%1e4,e,4)}function lae(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+$e(e/60|0,"0",2)+$e(e%60,"0",2)}function $P(t,e){return $e(t.getUTCDate(),e,2)}function uae(t,e){return $e(t.getUTCHours(),e,2)}function cae(t,e){return $e(t.getUTCHours()%12||12,e,2)}function fae(t,e){return $e(1+Qm.count(Ti(t),t),e,3)}function qj(t,e){return $e(t.getUTCMilliseconds(),e,3)}function hae(t,e){return qj(t,e)+"000"}function dae(t,e){return $e(t.getUTCMonth()+1,e,2)}function pae(t,e){return $e(t.getUTCMinutes(),e,2)}function mae(t,e){return $e(t.getUTCSeconds(),e,2)}function gae(t){var e=t.getUTCDay();return e===0?7:e}function yae(t,e){return $e(Zm.count(Ti(t)-1,t),e,2)}function Hj(t){var e=t.getUTCDay();return e>=4||e===0?Ys(t):Ys.ceil(t)}function vae(t,e){return t=Hj(t),$e(Ys.count(Ti(t),t)+(Ti(t).getUTCDay()===4),e,2)}function _ae(t){return t.getUTCDay()}function wae(t,e){return $e(_p.count(Ti(t)-1,t),e,2)}function bae(t,e){return $e(t.getUTCFullYear()%100,e,2)}function xae(t,e){return t=Hj(t),$e(t.getUTCFullYear()%100,e,2)}function Eae(t,e){return $e(t.getUTCFullYear()%1e4,e,4)}function Sae(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Ys(t):Ys.ceil(t),$e(t.getUTCFullYear()%1e4,e,4)}function Tae(){return"+0000"}function LP(){return"%"}function VP(t){return+t}function FP(t){return Math.floor(+t/1e3)}var Ka,Kj,Gj;Aae({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Aae(t){return Ka=Aoe(t),Kj=Ka.format,Ka.parse,Gj=Ka.utcFormat,Ka.utcParse,Ka}function Pae(t){return new Date(t)}function Iae(t){return t instanceof Date?+t:+new Date(+t)}function M1(t,e,n,r,i,o,a,s,l,u){var c=x1(),f=c.invert,d=c.domain,p=u(".%L"),m=u(":%S"),g=u("%I:%M"),_=u("%I %p"),b=u("%a %d"),y=u("%b %d"),v=u("%B"),x=u("%Y");function T(O){return(l(O)<O?p:s(O)<O?m:a(O)<O?g:o(O)<O?_:r(O)<O?i(O)<O?b:y:n(O)<O?v:x)(O)}return c.invert=function(O){return new Date(f(O))},c.domain=function(O){return arguments.length?d(Array.from(O,Iae)):d().map(Pae)},c.ticks=function(O){var S=d();return t(S[0],S[S.length-1],O??10)},c.tickFormat=function(O,S){return S==null?T:u(S)},c.nice=function(O){var S=d();return(!O||typeof O.range!="function")&&(O=e(S[0],S[S.length-1],O??10)),O?d(Dj(S,O)):c},c.copy=function(){return Df(c,M1(t,e,n,r,i,o,a,s,l,u))},c}function Oae(){return cr.apply(M1(Soe,Toe,Si,D1,Jm,jf,R1,C1,na,Kj).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Cae(){return cr.apply(M1(xoe,Eoe,Ti,j1,Zm,Qm,N1,k1,na,Gj).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function eg(){var t=0,e=1,n,r,i,o,a=vn,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:a(i===0?.5:(f=(o(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(a=f,u):a};function c(f){return function(d){var p,m;return arguments.length?([p,m]=d,a=f(p,m),u):[a(0),a(1)]}}return u.range=c(Al),u.rangeRound=c(b1),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function Do(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Xj(){var t=No(eg()(vn));return t.copy=function(){return Do(t,Xj())},Ci.apply(t,arguments)}function Yj(){var t=T1(eg()).domain([1,10]);return t.copy=function(){return Do(t,Yj()).base(t.base())},Ci.apply(t,arguments)}function Qj(){var t=A1(eg());return t.copy=function(){return Do(t,Qj()).constant(t.constant())},Ci.apply(t,arguments)}function $1(){var t=P1(eg());return t.copy=function(){return Do(t,$1()).exponent(t.exponent())},Ci.apply(t,arguments)}function kae(){return $1.apply(null,arguments).exponent(.5)}function Jj(){var t=[],e=vn;function n(r){if(r!=null&&!isNaN(r=+r))return e((Rf(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(mo),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>yie(t,o/r))},n.copy=function(){return Jj(e).domain(t)},Ci.apply(n,arguments)}function tg(){var t=0,e=.5,n=1,r=1,i,o,a,s,l,u=vn,c,f=!1,d;function p(g){return isNaN(g=+g)?d:(g=.5+((g=+c(g))-o)*(r*g<r*o?s:l),u(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([t,e,n]=g,i=c(t=+t),o=c(e=+e),a=c(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,p):[t,e,n]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(u=g,p):u};function m(g){return function(_){var b,y,v;return arguments.length?([b,y,v]=_,u=zie(g,[b,y,v]),p):[u(0),u(.5),u(1)]}}return p.range=m(Al),p.rangeRound=m(b1),p.unknown=function(g){return arguments.length?(d=g,p):d},function(g){return c=g,i=g(t),o=g(e),a=g(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,p}}function Zj(){var t=No(tg()(vn));return t.copy=function(){return Do(t,Zj())},Ci.apply(t,arguments)}function eM(){var t=T1(tg()).domain([.1,1,10]);return t.copy=function(){return Do(t,eM()).base(t.base())},Ci.apply(t,arguments)}function tM(){var t=A1(tg());return t.copy=function(){return Do(t,tM()).constant(t.constant())},Ci.apply(t,arguments)}function L1(){var t=P1(tg());return t.copy=function(){return Do(t,L1()).exponent(t.exponent())},Ci.apply(t,arguments)}function Rae(){return L1.apply(null,arguments).exponent(.5)}const UP=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:kc,scaleDiverging:Zj,scaleDivergingLog:eM,scaleDivergingPow:L1,scaleDivergingSqrt:Rae,scaleDivergingSymlog:tM,scaleIdentity:Nj,scaleImplicit:Q0,scaleLinear:gp,scaleLog:jj,scaleOrdinal:v1,scalePoint:Fu,scalePow:I1,scaleQuantile:Lj,scaleQuantize:Vj,scaleRadial:$j,scaleSequential:Xj,scaleSequentialLog:Yj,scaleSequentialPow:$1,scaleSequentialQuantile:Jj,scaleSequentialSqrt:kae,scaleSequentialSymlog:Qj,scaleSqrt:hoe,scaleSymlog:Mj,scaleThreshold:Fj,scaleTime:Oae,scaleUtc:Cae,tickFormat:Rj},Symbol.toStringTag,{value:"Module"}));var Nae=vl;function Dae(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!Nae(a):n(a,s)))var s=a,l=o}return l}var ng=Dae;function jae(t,e){return t>e}var nM=jae,Mae=ng,$ae=nM,Lae=Tl;function Vae(t){return t&&t.length?Mae(t,Lae,$ae):void 0}var Fae=Vae;const rg=Be(Fae);function Uae(t,e){return t<e}var rM=Uae,Bae=ng,zae=rM,Wae=Tl;function qae(t){return t&&t.length?Bae(t,Wae,zae):void 0}var Hae=qae;const ig=Be(Hae);var Kae=Qb,Gae=Gr,Xae=cj,Yae=Rn;function Qae(t,e){var n=Yae(t)?Kae:Xae;return n(t,Gae(e))}var Jae=Qae,Zae=lj,ese=Jae;function tse(t,e){return Zae(ese(t,e),1)}var nse=tse;const rse=Be(nse);var ise=d1;function ose(t,e){return ise(t,e)}var ase=ose;const og=Be(ase);var Pl=1e9,sse={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},F1,st=!0,lr="[DecimalError] ",ua=lr+"Invalid argument: ",V1=lr+"Exponent out of range: ",Il=Math.floor,Go=Math.pow,lse=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,$n,Nt=1e7,nt=7,iM=9007199254740991,wp=Il(iM/nt),le={};le.absoluteValue=le.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};le.comparedTo=le.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};le.decimalPlaces=le.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*nt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};le.dividedBy=le.div=function(t){return pi(this,new this.constructor(t))};le.dividedToIntegerBy=le.idiv=function(t){var e=this,n=e.constructor;return Ke(pi(e,new n(t),0,1),n.precision)};le.equals=le.eq=function(t){return!this.cmp(t)};le.exponent=function(){return Tt(this)};le.greaterThan=le.gt=function(t){return this.cmp(t)>0};le.greaterThanOrEqualTo=le.gte=function(t){return this.cmp(t)>=0};le.isInteger=le.isint=function(){return this.e>this.d.length-2};le.isNegative=le.isneg=function(){return this.s<0};le.isPositive=le.ispos=function(){return this.s>0};le.isZero=function(){return this.s===0};le.lessThan=le.lt=function(t){return this.cmp(t)<0};le.lessThanOrEqualTo=le.lte=function(t){return this.cmp(t)<1};le.logarithm=le.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq($n))throw Error(lr+"NaN");if(n.s<1)throw Error(lr+(n.s?"NaN":"-Infinity"));return n.eq($n)?new r(0):(st=!1,e=pi(Mc(n,o),Mc(t,o),o),st=!0,Ke(e,i))};le.minus=le.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?sM(e,t):oM(e,(t.s=-t.s,t))};le.modulo=le.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(lr+"NaN");return n.s?(st=!1,e=pi(n,t,0,1).times(t),st=!0,n.minus(e)):Ke(new r(n),i)};le.naturalExponential=le.exp=function(){return aM(this)};le.naturalLogarithm=le.ln=function(){return Mc(this)};le.negated=le.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};le.plus=le.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?oM(e,t):sM(e,(t.s=-t.s,t))};le.precision=le.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ua+t);if(e=Tt(i)+1,r=i.d.length-1,n=r*nt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};le.squareRoot=le.sqrt=function(){var t,e,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(lr+"NaN")}for(t=Tt(s),st=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Dr(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Il((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(pi(s,o,a+2)).times(.5),Dr(o.d).slice(0,a)===(e=Dr(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Ke(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return st=!0,Ke(r,n)};le.times=le.mul=function(t){var e,n,r,i,o,a,s,l,u,c=this,f=c.constructor,d=c.d,p=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,n=c.e+t.e,l=d.length,u=p.length,l<u&&(o=d,d=p,p=o,a=l,l=u,u=a),o=[],a=l+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+p[r]*d[i-r-1]+e,o[i--]=s%Nt|0,e=s/Nt|0;o[i]=(o[i]+e)%Nt|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,st?Ke(t,f.precision):t};le.toDecimalPlaces=le.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(qr(t,0,Pl),e===void 0?e=r.rounding:qr(e,0,8),Ke(n,t+Tt(n)+1,e))};le.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Sa(r,!0):(qr(t,0,Pl),e===void 0?e=i.rounding:qr(e,0,8),r=Ke(new i(r),t+1,e),n=Sa(r,!0,t+1)),n};le.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Sa(i):(qr(t,0,Pl),e===void 0?e=o.rounding:qr(e,0,8),r=Ke(new o(i),t+Tt(i)+1,e),n=Sa(r.abs(),!1,t+Tt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};le.toInteger=le.toint=function(){var t=this,e=t.constructor;return Ke(new e(t),Tt(t)+1,e.rounding)};le.toNumber=function(){return+this};le.toPower=le.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l($n);if(s=new l(s),!s.s){if(t.s<1)throw Error(lr+"Infinity");return s}if(s.eq($n))return s;if(r=l.precision,t.eq($n))return Ke(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=c<0?-c:c)<=iM){for(i=new l($n),e=Math.ceil(r/nt+4),st=!1;n%2&&(i=i.times(s),zP(i.d,e)),n=Il(n/2),n!==0;)s=s.times(s),zP(s.d,e);return st=!0,t.s<0?new l($n).div(i):Ke(i,r)}}else if(o<0)throw Error(lr+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,st=!1,i=t.times(Mc(s,r+u)),st=!0,i=aM(i),i.s=o,i};le.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=Tt(i),r=Sa(i,n<=o.toExpNeg||n>=o.toExpPos)):(qr(t,1,Pl),e===void 0?e=o.rounding:qr(e,0,8),i=Ke(new o(i),t,e),n=Tt(i),r=Sa(i,t<=n||n<=o.toExpNeg,t)),r};le.toSignificantDigits=le.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(qr(t,1,Pl),e===void 0?e=r.rounding:qr(e,0,8)),Ke(new r(n),t,e)};le.toString=le.valueOf=le.val=le.toJSON=le[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Tt(t),n=t.constructor;return Sa(t,e<=n.toExpNeg||e>=n.toExpPos)};function oM(t,e){var n,r,i,o,a,s,l,u,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),st?Ke(e,f):e;if(l=t.d,u=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=u.length):(r=u,i=a,s=l.length),a=Math.ceil(f/nt),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/Nt|0,l[o]%=Nt;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,st?Ke(e,f):e}function qr(t,e,n){if(t!==~~t||t<e||t>n)throw Error(ua+t)}function Dr(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=nt-r.length,n&&(o+=Bi(n)),o+=r;a=t[e],r=a+"",n=nt-r.length,n&&(o+=Bi(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var pi=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%Nt|0,a=o/Nt|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*Nt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,u,c,f,d,p,m,g,_,b,y,v,x,T,O,S,E,I=r.constructor,C=r.s==i.s?1:-1,R=r.d,D=i.d;if(!r.s)return new I(r);if(!i.s)throw Error(lr+"Division by zero");for(l=r.e-i.e,S=D.length,T=R.length,p=new I(C),m=p.d=[],u=0;D[u]==(R[u]||0);)++u;if(D[u]>(R[u]||0)&&--l,o==null?y=o=I.precision:a?y=o+(Tt(r)-Tt(i))+1:y=o,y<0)return new I(0);if(y=y/nt+2|0,u=0,S==1)for(c=0,D=D[0],y++;(u<T||c)&&y--;u++)v=c*Nt+(R[u]||0),m[u]=v/D|0,c=v%D|0;else{for(c=Nt/(D[0]+1)|0,c>1&&(D=t(D,c),R=t(R,c),S=D.length,T=R.length),x=S,g=R.slice(0,S),_=g.length;_<S;)g[_++]=0;E=D.slice(),E.unshift(0),O=D[0],D[1]>=Nt/2&&++O;do c=0,s=e(D,g,S,_),s<0?(b=g[0],S!=_&&(b=b*Nt+(g[1]||0)),c=b/O|0,c>1?(c>=Nt&&(c=Nt-1),f=t(D,c),d=f.length,_=g.length,s=e(f,g,d,_),s==1&&(c--,n(f,S<d?E:D,d))):(c==0&&(s=c=1),f=D.slice()),d=f.length,d<_&&f.unshift(0),n(g,f,_),s==-1&&(_=g.length,s=e(D,g,S,_),s<1&&(c++,n(g,S<_?E:D,_))),_=g.length):s===0&&(c++,g=[0]),m[u++]=c,s&&g[0]?g[_++]=R[x]||0:(g=[R[x]],_=1);while((x++<T||g[0]!==void 0)&&y--)}return m[0]||m.shift(),p.e=l,Ke(p,a?o+Tt(p)+1:o)}}();function aM(t,e){var n,r,i,o,a,s,l=0,u=0,c=t.constructor,f=c.precision;if(Tt(t)>16)throw Error(V1+Tt(t));if(!t.s)return new c($n);for(e==null?(st=!1,s=f):s=e,a=new c(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log(Go(2,u))/Math.LN10*2+5|0,s+=r,n=i=o=new c($n),c.precision=s;;){if(i=Ke(i.times(t),s),n=n.times(++l),a=o.plus(pi(i,n,s)),Dr(a.d).slice(0,s)===Dr(o.d).slice(0,s)){for(;u--;)o=Ke(o.times(o),s);return c.precision=f,e==null?(st=!0,Ke(o,f)):o}o=a}}function Tt(t){for(var e=t.e*nt,n=t.d[0];n>=10;n/=10)e++;return e}function Uy(t,e,n){if(e>t.LN10.sd())throw st=!0,n&&(t.precision=n),Error(lr+"LN10 precision limit exceeded");return Ke(new t(t.LN10),e)}function Bi(t){for(var e="";t--;)e+="0";return e}function Mc(t,e){var n,r,i,o,a,s,l,u,c,f=1,d=10,p=t,m=p.d,g=p.constructor,_=g.precision;if(p.s<1)throw Error(lr+(p.s?"NaN":"-Infinity"));if(p.eq($n))return new g(0);if(e==null?(st=!1,u=_):u=e,p.eq(10))return e==null&&(st=!0),Uy(g,u);if(u+=d,g.precision=u,n=Dr(m),r=n.charAt(0),o=Tt(p),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=Dr(p.d),r=n.charAt(0),f++;o=Tt(p),r>1?(p=new g("0."+n),o++):p=new g(r+"."+n.slice(1))}else return l=Uy(g,u+2,_).times(o+""),p=Mc(new g(r+"."+n.slice(1)),u-d).plus(l),g.precision=_,e==null?(st=!0,Ke(p,_)):p;for(s=a=p=pi(p.minus($n),p.plus($n),u),c=Ke(p.times(p),u),i=3;;){if(a=Ke(a.times(c),u),l=s.plus(pi(a,new g(i),u)),Dr(l.d).slice(0,u)===Dr(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus(Uy(g,u+2,_).times(o+""))),s=pi(s,new g(f),u),g.precision=_,e==null?(st=!0,Ke(s,_)):s;s=l,i+=2}}function BP(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Il(n/nt),t.d=[],r=(n+1)%nt,n<0&&(r+=nt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=nt;r<i;)t.d.push(+e.slice(r,r+=nt));e=e.slice(r),r=nt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),st&&(t.e>wp||t.e<-wp))throw Error(V1+n)}else t.s=0,t.e=0,t.d=[0];return t}function Ke(t,e,n){var r,i,o,a,s,l,u,c,f=t.d;for(a=1,o=f[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=nt,i=e,u=f[c=0];else{if(c=Math.ceil((r+1)/nt),o=f.length,c>=o)return t;for(u=o=f[c],a=1;o>=10;o/=10)a++;r%=nt,i=r-nt+a}if(n!==void 0&&(o=Go(10,a-i-1),s=u/o%10|0,l=e<0||f[c+1]!==void 0||u%o,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/Go(10,a-i):0:f[c-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=Tt(t),f.length=1,e=e-o-1,f[0]=Go(10,(nt-e%nt)%nt),t.e=Il(-e/nt)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=c,o=1,c--):(f.length=c+1,o=Go(10,nt-r),f[c]=i>0?(u/Go(10,a-i)%Go(10,i)|0)*o:0),l)for(;;)if(c==0){(f[0]+=o)==Nt&&(f[0]=1,++t.e);break}else{if(f[c]+=o,f[c]!=Nt)break;f[c--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(st&&(t.e>wp||t.e<-wp))throw Error(V1+Tt(t));return t}function sM(t,e){var n,r,i,o,a,s,l,u,c,f,d=t.constructor,p=d.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new d(t),st?Ke(e,p):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),a=u-r,a){for(c=a<0,c?(n=l,a=-a,s=f.length):(n=f,r=u,s=l.length),i=Math.max(Math.ceil(p/nt),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}a=0}for(c&&(n=l,l=f,f=n,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>a;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=Nt-1;--l[o],l[i]+=Nt}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,st?Ke(e,p):e):new d(0)}function Sa(t,e,n){var r,i=Tt(t),o=Dr(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+Bi(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Bi(-i-1)+o,n&&(r=n-a)>0&&(o+=Bi(r))):i>=a?(o+=Bi(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+Bi(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=Bi(r))),t.s<0?"-"+o:o}function zP(t,e){if(t.length>e)return t.length=e,!0}function lM(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(ua+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return BP(a,o.toString())}else if(typeof o!="string")throw Error(ua+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,lse.test(o))BP(a,o);else throw Error(ua+o)}if(i.prototype=le,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=lM,i.config=i.set=use,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function use(t){if(!t||typeof t!="object")throw Error(lr+"Object expected");var e,n,r,i=["precision",1,Pl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Il(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(ua+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ua+n+": "+r);return this}var F1=lM(sse);$n=new F1(1);const qe=F1;function cse(t){return pse(t)||dse(t)||hse(t)||fse()}function fse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hse(t,e){if(t){if(typeof t=="string")return t_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t_(t,e)}}function dse(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function pse(t){if(Array.isArray(t))return t_(t)}function t_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var mse=function(e){return e},uM={"@@functional/placeholder":!0},cM=function(e){return e===uM},WP=function(e){return function n(){return arguments.length===0||arguments.length===1&&cM(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},gse=function t(e,n){return e===1?n:WP(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==uM}).length;return a>=e?n.apply(void 0,i):t(e-a,WP(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(f){return cM(f)?l.shift():f});return n.apply(void 0,cse(c).concat(l))}))})},ag=function(e){return gse(e.length,e)},n_=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},yse=ag(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),vse=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return mse;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},r_=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},fM=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function _se(t){var e;return t===0?e=1:e=Math.floor(new qe(t).abs().log(10).toNumber())+1,e}function wse(t,e,n){for(var r=new qe(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var bse=ag(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),xse=ag(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Ese=ag(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const sg={rangeStep:wse,getDigitCount:_se,interpolateNumber:bse,uninterpolateNumber:xse,uninterpolateTruncation:Ese};function i_(t){return Ase(t)||Tse(t)||hM(t)||Sse()}function Sse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tse(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Ase(t){if(Array.isArray(t))return o_(t)}function $c(t,e){return Ose(t)||Ise(t,e)||hM(t,e)||Pse()}function Pse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hM(t,e){if(t){if(typeof t=="string")return o_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o_(t,e)}}function o_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ise(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function Ose(t){if(Array.isArray(t))return t}function dM(t){var e=$c(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function pM(t,e,n){if(t.lte(0))return new qe(0);var r=sg.getDigitCount(t.toNumber()),i=new qe(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new qe(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return e?l:new qe(Math.ceil(l))}function Cse(t,e,n){var r=1,i=new qe(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new qe(10).pow(sg.getDigitCount(t)-1),i=new qe(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new qe(Math.floor(t)))}else t===0?i=new qe(Math.floor((e-1)/2)):n||(i=new qe(Math.floor(t)));var a=Math.floor((e-1)/2),s=vse(yse(function(l){return i.add(new qe(l-a).mul(r)).toNumber()}),n_);return s(0,e)}function mM(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new qe(0),tickMin:new qe(0),tickMax:new qe(0)};var o=pM(new qe(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new qe(0):(a=new qe(t).add(e).div(2),a=a.sub(new qe(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new qe(e).sub(a).div(o).toNumber()),u=s+l+1;return u>n?mM(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:o,tickMin:a.sub(new qe(s).mul(o)),tickMax:a.add(new qe(l).mul(o))})}function kse(t){var e=$c(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=dM([n,r]),l=$c(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var f=c===1/0?[u].concat(i_(n_(0,i-1).map(function(){return 1/0}))):[].concat(i_(n_(0,i-1).map(function(){return-1/0})),[c]);return n>r?r_(f):f}if(u===c)return Cse(u,i,o);var d=mM(u,c,a,o),p=d.step,m=d.tickMin,g=d.tickMax,_=sg.rangeStep(m,g.add(new qe(.1).mul(p)),p);return n>r?r_(_):_}function Rse(t,e){var n=$c(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=dM([r,i]),s=$c(a,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),f=pM(new qe(u).sub(l).div(c-1),o,0),d=[].concat(i_(sg.rangeStep(new qe(l),new qe(u).sub(new qe(.99).mul(f)),f)),[u]);return r>i?r_(d):d}var Nse=fM(kse),Dse=fM(Rse),jse="Invariant failed";function Ta(t,e){throw new Error(jse)}var Mse=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function bp(){return bp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bp.apply(this,arguments)}function $se(t,e){return Use(t)||Fse(t,e)||Vse(t,e)||Lse()}function Lse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vse(t,e){if(t){if(typeof t=="string")return qP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qP(t,e)}}function qP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fse(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Use(t){if(Array.isArray(t))return t}function Bse(t,e){if(t==null)return{};var n=zse(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zse(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function lg(t){var e=t.offset,n=t.layout,r=t.width,i=t.dataKey,o=t.data,a=t.dataPointFormatter,s=t.xAxis,l=t.yAxis,u=Bse(t,Mse),c=ye(u,!1);t.direction==="x"&&s.type!=="number"&&Ta();var f=o.map(function(d){var p=a(d,i),m=p.x,g=p.y,_=p.value,b=p.errorVal;if(!b)return null;var y=[],v,x;if(Array.isArray(b)){var T=$se(b,2);v=T[0],x=T[1]}else v=x=b;if(n==="vertical"){var O=s.scale,S=g+e,E=S+r,I=S-r,C=O(_-v),R=O(_+x);y.push({x1:R,y1:E,x2:R,y2:I}),y.push({x1:C,y1:S,x2:R,y2:S}),y.push({x1:C,y1:E,x2:C,y2:I})}else if(n==="horizontal"){var D=l.scale,k=m+e,V=k-r,B=k+r,U=D(_-v),W=D(_+x);y.push({x1:V,y1:W,x2:B,y2:W}),y.push({x1:k,y1:U,x2:k,y2:W}),y.push({x1:V,y1:U,x2:B,y2:U})}return M.createElement(Fe,bp({className:"recharts-errorBar",key:"bar-".concat(y.map(function($){return"".concat($.x1,"-").concat($.x2,"-").concat($.y1,"-").concat($.y2)}))},c),y.map(function($){return M.createElement("line",bp({},$,{key:"line-".concat($.x1,"-").concat($.x2,"-").concat($.y1,"-").concat($.y2)}))}))});return M.createElement(Fe,{className:"recharts-errorBars"},f)}lg.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"};lg.displayName="ErrorBar";function Lc(t){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lc(t)}function HP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function By(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HP(Object(n),!0).forEach(function(r){Wse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wse(t,e,n){return e=qse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qse(t){var e=Hse(t,"string");return Lc(e)=="symbol"?e:String(e)}function Hse(t,e){if(Lc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Lc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gM=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=Mn(n,Tc);if(!a)return null;var s;return a.props&&a.props.payload?s=a.props&&a.props.payload:o==="children"?s=(r||[]).reduce(function(l,u){var c=u.item,f=u.props,d=f.sectors||f.data||[];return l.concat(d.map(function(p){return{type:a.props.iconType||c.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):s=(r||[]).map(function(l){var u=l.item,c=u.props,f=c.dataKey,d=c.name,p=c.legendType,m=c.hide;return{inactive:m,dataKey:f,type:a.props.iconType||p||"square",color:U1(u),value:d||f,payload:u.props}}),By(By(By({},a.props),Tc.getWithHeight(a,i)),{},{payload:s,item:a})};function Vc(t){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vc(t)}function KP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KP(Object(n),!0).forEach(function(r){Is(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Is(t,e,n){return e=Kse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kse(t){var e=Gse(t,"string");return Vc(e)=="symbol"?e:String(e)}function Gse(t,e){if(Vc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Vc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GP(t){return Jse(t)||Qse(t)||Yse(t)||Xse()}function Xse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yse(t,e){if(t){if(typeof t=="string")return a_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a_(t,e)}}function Qse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jse(t){if(Array.isArray(t))return a_(t)}function a_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sn(t,e,n){return Pe(t)||Pe(e)?n:Ot(e)?Bn(t,e,n):be(e)?e(t):n}function Uu(t,e,n,r){var i=rse(t,function(s){return sn(s,e)});if(n==="number"){var o=i.filter(function(s){return te(s)||parseFloat(s)});return o.length?[ig(o),rg(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!Pe(s)}):i;return a.map(function(s){return Ot(s)||s instanceof Date?s:""})}var Zse=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,f=i[u].coordinate,d=u>=s-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(gn(f-c)!==gn(d-f)){var m=[];if(gn(d-f)===gn(l[1]-l[0])){p=d;var g=f+l[1]-l[0];m[0]=Math.min(g,(g+c)/2),m[1]=Math.max(g,(g+c)/2)}else{p=c;var _=d+l[1]-l[0];m[0]=Math.min(f,(_+f)/2),m[1]=Math.max(f,(_+f)/2)}var b=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>b[0]&&e<=b[1]||e>=m[0]&&e<=m[1]){a=i[u].index;break}}else{var y=Math.min(c,d),v=Math.max(c,d);if(e>(y+f)/2&&e<=(v+f)/2){a=i[u].index;break}}}else for(var x=0;x<s;x++)if(x===0&&e<=(r[x].coordinate+r[x+1].coordinate)/2||x>0&&x<s-1&&e>(r[x].coordinate+r[x-1].coordinate)/2&&e<=(r[x].coordinate+r[x+1].coordinate)/2||x===s-1&&e>(r[x].coordinate+r[x-1].coordinate)/2){a=r[x].index;break}return a},U1=function(e){var n=e,r=n.type.displayName,i=e.props,o=i.stroke,a=i.fill,s;switch(r){case"Line":s=o;break;case"Area":case"Radar":s=o&&o!=="none"?o:a;break;default:s=a;break}return s},ele=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,u=s.length;l<u;l++)for(var c=o[s[l]].stackGroups,f=Object.keys(c),d=0,p=f.length;d<p;d++){var m=c[f[d]],g=m.items,_=m.cateAxisId,b=g.filter(function(T){return hi(T.type).indexOf("Bar")>=0});if(b&&b.length){var y=b[0].props.barSize,v=b[0].props[_];a[v]||(a[v]=[]);var x=Pe(y)?n:y;a[v].push({item:b[0],stackList:b.slice(1),barSize:Pe(x)?void 0:yn(x,r,0)})}}return a},tle=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var u=yn(n,i,0,!0),c,f=[];if(a[0].barSize===+a[0].barSize){var d=!1,p=i/l,m=a.reduce(function(x,T){return x+T.barSize||0},0);m+=(l-1)*u,m>=i&&(m-=(l-1)*u,u=0),m>=i&&p>0&&(d=!0,p*=.9,m=l*p);var g=(i-m)/2>>0,_={offset:g-u,size:0};c=a.reduce(function(x,T){var O={item:T.item,position:{offset:_.offset+_.size+u,size:d?p:T.barSize}},S=[].concat(GP(x),[O]);return _=S[S.length-1].position,T.stackList&&T.stackList.length&&T.stackList.forEach(function(E){S.push({item:E,position:_})}),S},f)}else{var b=yn(r,i,0,!0);i-2*b-(l-1)*u<=0&&(u=0);var y=(i-2*b-(l-1)*u)/l;y>1&&(y>>=0);var v=s===+s?Math.min(y,s):y;c=a.reduce(function(x,T,O){var S=[].concat(GP(x),[{item:T.item,position:{offset:b+(y+u)*O+(y-v)/2,size:v}}]);return T.stackList&&T.stackList.length&&T.stackList.forEach(function(E){S.push({item:E,position:S[S.length-1].position})}),S},f)}return c},nle=function(e,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),u=gM({children:o,legendWidth:l});if(u){var c=i||{},f=c.width,d=c.height,p=u.align,m=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&m==="middle")&&p!=="center"&&te(e[p]))return Zn(Zn({},e),{},Is({},p,e[p]+(f||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&m!=="middle"&&te(e[m]))return Zn(Zn({},e),{},Is({},m,e[m]+(d||0)))}return e},rle=function(e,n,r){return Pe(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},yM=function(e,n,r,i,o){var a=n.props.children,s=or(a,lg).filter(function(u){return rle(i,o,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var f=sn(c,r);if(Pe(f))return u;var d=Array.isArray(f)?[ig(f),rg(f)]:[f,f],p=l.reduce(function(m,g){var _=sn(c,g,0),b=d[0]-Math.abs(Array.isArray(_)?_[0]:_),y=d[1]+Math.abs(Array.isArray(_)?_[1]:_);return[Math.min(b,m[0]),Math.max(y,m[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},ile=function(e,n,r,i,o){var a=n.map(function(s){return yM(e,s,r,o,i)}).filter(function(s){return!Pe(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},vM=function(e,n,r,i,o){var a=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&yM(e,l,u,i)||Uu(e,u,r,o)});if(r==="number")return a.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,u){for(var c=0,f=u.length;c<f;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},_M=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},wM=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,a,s=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(a=!0),l.coordinate});return o||s.push(n),a||s.push(r),s},li=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?gn(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(f){var d=o?o.indexOf(f):f;return{coordinate:i(d)+u,value:f,offset:u}});return c.filter(function(f){return!Of(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,d){return{coordinate:i(f)+u,value:f,index:d,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,d){return{coordinate:i(f)+u,value:o?o[f]:f,index:d,offset:u}})},zy=new WeakMap,Nh=function(e,n){if(typeof n!="function")return e;zy.has(e)||zy.set(e,new WeakMap);var r=zy.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},bM=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:kc(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:gp(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Fu(),realScaleType:"point"}:o==="category"?{scale:kc(),realScaleType:"band"}:{scale:gp(),realScaleType:"linear"};if(If(i)){var l="scale".concat(Bm(i));return{scale:(UP[l]||Fu)(),realScaleType:UP[l]?l:"point"}}return be(i)?{scale:i}:{scale:Fu(),realScaleType:"point"}},XP=1e-4,xM=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-XP,a=Math.max(i[0],i[1])+XP,s=e(n[0]),l=e(n[r-1]);(s<o||s>a||l<o||l>a)&&e.domain([n[0],n[r-1]])}},ole=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},ale=function(e,n){if(!n||n.length!==2||!te(n[0])||!te(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!te(e[0])||e[0]<r)&&(o[0]=r),(!te(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},sle=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=Of(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1])}},lle=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=Of(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},ule={sign:sle,expand:LG,none:zs,silhouette:VG,wiggle:FG,positive:lle},cle=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),o=ule[r],a=$G().keys(i).value(function(s,l){return+sn(s,l,0)}).order(k0).offset(o);return a(e)},fle=function(e,n,r,i,o,a){if(!e)return null;var s=a?n.reverse():n,l={},u=s.reduce(function(f,d){var p=d.props,m=p.stackId,g=p.hide;if(g)return f;var _=d.props[r],b=f[_]||{hasStack:!1,stackGroups:{}};if(Ot(m)){var y=b.stackGroups[m]||{numericAxisId:r,cateAxisId:i,items:[]};y.items.push(d),b.hasStack=!0,b.stackGroups[m]=y}else b.stackGroups[Cf("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[d]};return Zn(Zn({},f),{},Is({},_,b))},l),c={};return Object.keys(u).reduce(function(f,d){var p=u[d];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,_){var b=p.stackGroups[_];return Zn(Zn({},g),{},Is({},_,{numericAxisId:r,cateAxisId:i,items:b.items,stackedData:cle(e,b.items,o)}))},m)}return Zn(Zn({},f),{},Is({},d,p))},c)},EM=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=Nse(u,o,s);return e.domain([ig(c),rg(c)]),{niceTicks:c}}if(o&&i==="number"){var f=e.domain(),d=Dse(f,o,s);return{niceTicks:d}}return null},YP=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=sn(a,n.dataKey,n.domain[s]);return Pe(l)?null:n.scale(l)-o/2+i},hle=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},dle=function(e,n){var r=e.props.stackId;if(Ot(r)){var i=n[r];if(i){var o=i.items.indexOf(e);return o>=0?i.stackedData[o]:null}}return null},ple=function(e){return e.reduce(function(n,r){return[ig(r.concat([n[0]]).filter(te)),rg(r.concat([n[1]]).filter(te))]},[1/0,-1/0])},SM=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(u,c){var f=ple(c.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},QP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,JP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,s_=function(e,n,r){if(be(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(te(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(QP.test(e[0])){var o=+QP.exec(e[0])[1];i[0]=n[0]-o}else be(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(te(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(JP.test(e[1])){var a=+JP.exec(e[1])[1];i[1]=n[1]+a}else be(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},xp=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=m1(n,function(f){return f.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var u=o[s],c=o[s-1];a=Math.min((u.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},ZP=function(e,n,r){return!e||!e.length||og(e,Bn(r,"type.defaultProps.domain"))?n:e},TM=function(e,n){var r=e.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return Zn(Zn({},ye(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:U1(e),value:sn(n,i),type:l,payload:n,chartType:u,hide:c})};function Fc(t){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fc(t)}function eI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eI(Object(n),!0).forEach(function(r){AM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AM(t,e,n){return e=mle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mle(t){var e=gle(t,"string");return Fc(e)=="symbol"?e:String(e)}function gle(t,e){if(Fc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Fc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yle(t,e){return ble(t)||wle(t,e)||_le(t,e)||vle()}function vle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _le(t,e){if(t){if(typeof t=="string")return tI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tI(t,e)}}function tI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wle(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function ble(t){if(Array.isArray(t))return t}var Ep=Math.PI/180,xle=function(e){return e*180/Math.PI},Qe=function(e,n,r,i){return{x:e+Math.cos(-Ep*i)*r,y:n+Math.sin(-Ep*i)*r}},PM=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Ele=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.startAngle,u=e.endAngle,c=yn(e.cx,a,a/2),f=yn(e.cy,s,s/2),d=PM(a,s,r),p=yn(e.innerRadius,d,0),m=yn(e.outerRadius,d,d*.8),g=Object.keys(n);return g.reduce(function(_,b){var y=n[b],v=y.domain,x=y.reversed,T;if(Pe(y.range))i==="angleAxis"?T=[l,u]:i==="radiusAxis"&&(T=[p,m]),x&&(T=[T[1],T[0]]);else{T=y.range;var O=T,S=yle(O,2);l=S[0],u=S[1]}var E=bM(y,o),I=E.realScaleType,C=E.scale;C.domain(v).range(T),xM(C);var R=EM(C,Jr(Jr({},y),{},{realScaleType:I})),D=Jr(Jr(Jr({},y),R),{},{range:T,radius:m,realScaleType:I,scale:C,cx:c,cy:f,innerRadius:p,outerRadius:m,startAngle:l,endAngle:u});return Jr(Jr({},_),{},AM({},b,D))},{})},Sle=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},Tle=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,s=Sle({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,u=Math.acos(l);return i>a&&(u=2*Math.PI-u),{radius:s,angle:xle(u),angleInRadian:u}},Ale=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},Ple=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},nI=function(e,n){var r=e.x,i=e.y,o=Tle({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,u=n.outerRadius;if(a<l||a>u)return!1;if(a===0)return!0;var c=Ale(n),f=c.startAngle,d=c.endAngle,p=s,m;if(f<=d){for(;p>d;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=d}else{for(;p>f;)p-=360;for(;p<d;)p+=360;m=p>=d&&p<=f}return m?Jr(Jr({},n),{},{radius:a,angle:Ple(p,n)}):null},IM=function(e){return!j.isValidElement(e)&&!be(e)&&typeof e!="boolean"?e.className:""};function Uc(t){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uc(t)}var Ile=["offset"];function Ole(t){return Nle(t)||Rle(t)||kle(t)||Cle()}function Cle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kle(t,e){if(t){if(typeof t=="string")return l_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l_(t,e)}}function Rle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Nle(t){if(Array.isArray(t))return l_(t)}function l_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Dle(t,e){if(t==null)return{};var n=jle(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jle(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function rI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function At(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rI(Object(n),!0).forEach(function(r){Mle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mle(t,e,n){return e=$le(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $le(t){var e=Lle(t,"string");return Uc(e)=="symbol"?e:String(e)}function Lle(t,e){if(Uc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Uc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bc(){return Bc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bc.apply(this,arguments)}var Vle=function(e){var n=e.value,r=e.formatter,i=Pe(e.children)?n:e.children;return be(r)?r(i):i},Fle=function(e,n){var r=gn(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Ule=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,u=l.cx,c=l.cy,f=l.innerRadius,d=l.outerRadius,p=l.startAngle,m=l.endAngle,g=l.clockWise,_=(f+d)/2,b=Fle(p,m),y=b>=0?1:-1,v,x;i==="insideStart"?(v=p+y*a,x=g):i==="insideEnd"?(v=m-y*a,x=!g):i==="end"&&(v=m+y*a,x=g),x=b<=0?x:!x;var T=Qe(u,c,_,v),O=Qe(u,c,_,v+(x?1:-1)*359),S="M".concat(T.x,",").concat(T.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(x?0:1,`,
    `).concat(O.x,",").concat(O.y),E=Pe(e.id)?Cf("recharts-radial-line-"):e.id;return M.createElement("text",Bc({},r,{dominantBaseline:"central",className:Ae("recharts-radial-bar-label",s)}),M.createElement("defs",null,M.createElement("path",{id:E,d:S})),M.createElement("textPath",{xlinkHref:"#".concat(E)},n))},Ble=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,u=o.outerRadius,c=o.startAngle,f=o.endAngle,d=(c+f)/2;if(i==="outside"){var p=Qe(a,s,u+r,d),m=p.x,g=p.y;return{x:m,y:g,textAnchor:m>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var _=(l+u)/2,b=Qe(a,s,_,d),y=b.x,v=b.y;return{x:y,y:v,textAnchor:"middle",verticalAnchor:"middle"}},zle=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,s=a.x,l=a.y,u=a.width,c=a.height,f=c>=0?1:-1,d=f*i,p=f>0?"end":"start",m=f>0?"start":"end",g=u>=0?1:-1,_=g*i,b=g>0?"end":"start",y=g>0?"start":"end";if(o==="top"){var v={x:s+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return At(At({},v),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var x={x:s+u/2,y:l+c+d,textAnchor:"middle",verticalAnchor:m};return At(At({},x),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(o==="left"){var T={x:s-_,y:l+c/2,textAnchor:b,verticalAnchor:"middle"};return At(At({},T),r?{width:Math.max(T.x-r.x,0),height:c}:{})}if(o==="right"){var O={x:s+u+_,y:l+c/2,textAnchor:y,verticalAnchor:"middle"};return At(At({},O),r?{width:Math.max(r.x+r.width-O.x,0),height:c}:{})}var S=r?{width:u,height:c}:{};return o==="insideLeft"?At({x:s+_,y:l+c/2,textAnchor:y,verticalAnchor:"middle"},S):o==="insideRight"?At({x:s+u-_,y:l+c/2,textAnchor:b,verticalAnchor:"middle"},S):o==="insideTop"?At({x:s+u/2,y:l+d,textAnchor:"middle",verticalAnchor:m},S):o==="insideBottom"?At({x:s+u/2,y:l+c-d,textAnchor:"middle",verticalAnchor:p},S):o==="insideTopLeft"?At({x:s+_,y:l+d,textAnchor:y,verticalAnchor:m},S):o==="insideTopRight"?At({x:s+u-_,y:l+d,textAnchor:b,verticalAnchor:m},S):o==="insideBottomLeft"?At({x:s+_,y:l+c-d,textAnchor:y,verticalAnchor:p},S):o==="insideBottomRight"?At({x:s+u-_,y:l+c-d,textAnchor:b,verticalAnchor:p},S):_l(o)&&(te(o.x)||ea(o.x))&&(te(o.y)||ea(o.y))?At({x:s+yn(o.x,u),y:l+yn(o.y,c),textAnchor:"end",verticalAnchor:"end"},S):At({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},S)},Wle=function(e){return"cx"in e&&te(e.cx)};function jt(t){var e=t.offset,n=e===void 0?5:e,r=Dle(t,Ile),i=At({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,u=i.content,c=i.className,f=c===void 0?"":c,d=i.textBreakAll;if(!o||Pe(s)&&Pe(l)&&!j.isValidElement(u)&&!be(u))return null;if(j.isValidElement(u))return j.cloneElement(u,i);var p;if(be(u)){if(p=j.createElement(u,i),j.isValidElement(p))return p}else p=Vle(i);var m=Wle(o),g=ye(i,!0);if(m&&(a==="insideStart"||a==="insideEnd"||a==="end"))return Ule(i,p,g);var _=m?Ble(i):zle(i);return M.createElement(Ea,Bc({className:Ae("recharts-label",f)},g,_,{breakAll:d}),p)}jt.displayName="Label";var OM=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,f=e.x,d=e.y,p=e.top,m=e.left,g=e.width,_=e.height,b=e.clockWise,y=e.labelViewBox;if(y)return y;if(te(g)&&te(_)){if(te(f)&&te(d))return{x:f,y:d,width:g,height:_};if(te(p)&&te(m))return{x:p,y:m,width:g,height:_}}return te(f)&&te(d)?{x:f,y:d,width:0,height:0}:te(n)&&te(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:b}:e.viewBox?e.viewBox:{}},qle=function(e,n){return e?e===!0?M.createElement(jt,{key:"label-implicit",viewBox:n}):Ot(e)?M.createElement(jt,{key:"label-implicit",viewBox:n,value:e}):j.isValidElement(e)?e.type===jt?j.cloneElement(e,{key:"label-implicit",viewBox:n}):M.createElement(jt,{key:"label-implicit",content:e,viewBox:n}):be(e)?M.createElement(jt,{key:"label-implicit",content:e,viewBox:n}):_l(e)?M.createElement(jt,Bc({viewBox:n},e,{key:"label-implicit"})):null:null},Hle=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=OM(e),a=or(i,jt).map(function(l,u){return j.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return a;var s=qle(e.label,n||o);return[s].concat(Ole(a))};jt.parseViewBox=OM;jt.renderCallByParent=Hle;function Kle(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Gle=Kle;const Xle=Be(Gle);function zc(t){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(t)}var Yle=["valueAccessor"],Qle=["data","dataKey","clockWise","id","textBreakAll"];function Jle(t){return nue(t)||tue(t)||eue(t)||Zle()}function Zle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eue(t,e){if(t){if(typeof t=="string")return u_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u_(t,e)}}function tue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nue(t){if(Array.isArray(t))return u_(t)}function u_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Sp(){return Sp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sp.apply(this,arguments)}function iI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iI(Object(n),!0).forEach(function(r){rue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rue(t,e,n){return e=iue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iue(t){var e=oue(t,"string");return zc(e)=="symbol"?e:String(e)}function oue(t,e){if(zc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(zc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aI(t,e){if(t==null)return{};var n=aue(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aue(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var sue=function(e){return Array.isArray(e.value)?Xle(e.value):e.value};function go(t){var e=t.valueAccessor,n=e===void 0?sue:e,r=aI(t,Yle),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,u=aI(r,Qle);return!i||!i.length?null:M.createElement(Fe,{className:"recharts-label-list"},i.map(function(c,f){var d=Pe(o)?n(c,f):sn(c&&c.payload,o),p=Pe(s)?{}:{id:"".concat(s,"-").concat(f)};return M.createElement(jt,Sp({},ye(c,!0),u,p,{parentViewBox:c.parentViewBox,value:d,textBreakAll:l,viewBox:jt.parseViewBox(Pe(a)?c:oI(oI({},c),{},{clockWise:a})),key:"label-".concat(f),index:f}))}))}go.displayName="LabelList";function lue(t,e){return t?t===!0?M.createElement(go,{key:"labelList-implicit",data:e}):M.isValidElement(t)||be(t)?M.createElement(go,{key:"labelList-implicit",data:e,content:t}):_l(t)?M.createElement(go,Sp({data:e},t,{key:"labelList-implicit"})):null:null}function uue(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=or(r,go).map(function(a,s){return j.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var o=lue(t.label,e);return[o].concat(Jle(i))}go.renderCallByParent=uue;function Wc(t){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wc(t)}function c_(){return c_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c_.apply(this,arguments)}function sI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sI(Object(n),!0).forEach(function(r){cue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cue(t,e,n){return e=fue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fue(t){var e=hue(t,"string");return Wc(e)=="symbol"?e:String(e)}function hue(t,e){if(Wc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Wc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var due=function(e,n){var r=gn(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Dh=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(s?1:-1)+i,f=Math.asin(l/c)/Ep,d=u?o:o+a*f,p=Qe(n,r,c,d),m=Qe(n,r,i,d),g=u?o-a*f:o,_=Qe(n,r,c*Math.cos(f*Ep),g);return{center:p,circleTangency:m,lineTangency:_,theta:f}},CM=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=due(a,s),u=a+l,c=Qe(n,r,o,a),f=Qe(n,r,o,u),d="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=Qe(n,r,i,a),m=Qe(n,r,i,u);d+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else d+="L ".concat(n,",").concat(r," Z");return d},pue=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,f=gn(c-u),d=Dh({cx:n,cy:r,radius:o,angle:u,sign:f,cornerRadius:a,cornerIsExternal:l}),p=d.circleTangency,m=d.lineTangency,g=d.theta,_=Dh({cx:n,cy:r,radius:o,angle:c,sign:-f,cornerRadius:a,cornerIsExternal:l}),b=_.circleTangency,y=_.lineTangency,v=_.theta,x=l?Math.abs(u-c):Math.abs(u-c)-g-v;if(x<0)return s?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):CM({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c});var T="M ".concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(x>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(i>0){var O=Dh({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),S=O.circleTangency,E=O.lineTangency,I=O.theta,C=Dh({cx:n,cy:r,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),R=C.circleTangency,D=C.lineTangency,k=C.theta,V=l?Math.abs(u-c):Math.abs(u-c)-I-k;if(V<0&&a===0)return"".concat(T,"L").concat(n,",").concat(r,"Z");T+="L".concat(D.x,",").concat(D.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(V>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,"Z")}else T+="L".concat(n,",").concat(r,"Z");return T},mue={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},kM=function(e){var n=lI(lI({},mue),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,f=n.endAngle,d=n.className;if(a<o||c===f)return null;var p=Ae("recharts-sector",d),m=a-o,g=yn(s,m,0,!0),_;return g>0&&Math.abs(c-f)<360?_=pue({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):_=CM({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:c,endAngle:f}),M.createElement("path",c_({},ye(n,!0),{className:p,d:_,role:"img"}))};function qc(t){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qc(t)}function f_(){return f_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f_.apply(this,arguments)}function uI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uI(Object(n),!0).forEach(function(r){gue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gue(t,e,n){return e=yue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yue(t){var e=vue(t,"string");return qc(e)=="symbol"?e:String(e)}function vue(t,e){if(qc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(qc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fI={curveBasisClosed:AG,curveBasisOpen:PG,curveBasis:TG,curveBumpX:fG,curveBumpY:hG,curveLinearClosed:IG,curveLinear:Wm,curveMonotoneX:OG,curveMonotoneY:CG,curveNatural:kG,curveStep:RG,curveStepAfter:DG,curveStepBefore:NG},jh=function(e){return e.x===+e.x&&e.y===+e.y},lu=function(e){return e.x},uu=function(e){return e.y},_ue=function(e,n){if(be(e))return e;var r="curve".concat(Bm(e));return(r==="curveMonotone"||r==="curveBump")&&n?fI["".concat(r).concat(n==="vertical"?"Y":"X")]:fI[r]||Wm},wue=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=_ue(r,s),f=u?o.filter(function(g){return jh(g)}):o,d;if(Array.isArray(a)){var p=u?a.filter(function(g){return jh(g)}):a,m=f.map(function(g,_){return cI(cI({},g),{},{base:p[_]})});return s==="vertical"?d=Th().y(uu).x1(lu).x0(function(g){return g.base.x}):d=Th().x(lu).y1(uu).y0(function(g){return g.base.y}),d.defined(jh).curve(c),d(m)}return s==="vertical"&&te(a)?d=Th().y(uu).x1(lu).x0(a):te(a)?d=Th().x(lu).y1(uu).y0(a):d=A2().x(lu).y(uu),d.defined(jh).curve(c),d(f)},h_=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?wue(e):i;return M.createElement("path",f_({},ye(e,!1),Yd(e),{className:Ae("recharts-curve",n),d:a,ref:o}))},bue=Object.getOwnPropertyNames,xue=Object.getOwnPropertySymbols,Eue=Object.prototype.hasOwnProperty;function hI(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function Mh(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);var l=t(n,r,i);return o.delete(n),o.delete(r),l}}function dI(t){return bue(t).concat(xue(t))}var RM=Object.hasOwn||function(t,e){return Eue.call(t,e)};function Ol(t,e){return t||e?t===e:t===e||t!==t&&e!==e}var NM="_owner",pI=Object.getOwnPropertyDescriptor,mI=Object.keys;function Sue(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Tue(t,e){return Ol(t.getTime(),e.getTime())}function gI(t,e,n){if(t.size!==e.size)return!1;for(var r={},i=t.entries(),o=0,a,s;(a=i.next())&&!a.done;){for(var l=e.entries(),u=!1,c=0;(s=l.next())&&!s.done;){var f=a.value,d=f[0],p=f[1],m=s.value,g=m[0],_=m[1];!u&&!r[c]&&(u=n.equals(d,g,o,c,t,e,n)&&n.equals(p,_,d,g,t,e,n))&&(r[c]=!0),c++}if(!u)return!1;o++}return!0}function Aue(t,e,n){var r=mI(t),i=r.length;if(mI(e).length!==i)return!1;for(var o;i-- >0;)if(o=r[i],o===NM&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!RM(e,o)||!n.equals(t[o],e[o],o,o,t,e,n))return!1;return!0}function cu(t,e,n){var r=dI(t),i=r.length;if(dI(e).length!==i)return!1;for(var o,a,s;i-- >0;)if(o=r[i],o===NM&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!RM(e,o)||!n.equals(t[o],e[o],o,o,t,e,n)||(a=pI(t,o),s=pI(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function Pue(t,e){return Ol(t.valueOf(),e.valueOf())}function Iue(t,e){return t.source===e.source&&t.flags===e.flags}function yI(t,e,n){if(t.size!==e.size)return!1;for(var r={},i=t.values(),o,a;(o=i.next())&&!o.done;){for(var s=e.values(),l=!1,u=0;(a=s.next())&&!a.done;)!l&&!r[u]&&(l=n.equals(o.value,a.value,o.value,a.value,t,e,n))&&(r[u]=!0),u++;if(!l)return!1}return!0}function Oue(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}var Cue="[object Arguments]",kue="[object Boolean]",Rue="[object Date]",Nue="[object Map]",Due="[object Number]",jue="[object Object]",Mue="[object RegExp]",$ue="[object Set]",Lue="[object String]",Vue=Array.isArray,vI=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,_I=Object.assign,Fue=Object.prototype.toString.call.bind(Object.prototype.toString);function Uue(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areMapsEqual,i=t.areObjectsEqual,o=t.arePrimitiveWrappersEqual,a=t.areRegExpsEqual,s=t.areSetsEqual,l=t.areTypedArraysEqual;return function(c,f,d){if(c===f)return!0;if(c==null||f==null||typeof c!="object"||typeof f!="object")return c!==c&&f!==f;var p=c.constructor;if(p!==f.constructor)return!1;if(p===Object)return i(c,f,d);if(Vue(c))return e(c,f,d);if(vI!=null&&vI(c))return l(c,f,d);if(p===Date)return n(c,f,d);if(p===RegExp)return a(c,f,d);if(p===Map)return r(c,f,d);if(p===Set)return s(c,f,d);var m=Fue(c);return m===Rue?n(c,f,d):m===Mue?a(c,f,d):m===Nue?r(c,f,d):m===$ue?s(c,f,d):m===jue?typeof c.then!="function"&&typeof f.then!="function"&&i(c,f,d):m===Cue?i(c,f,d):m===kue||m===Due||m===Lue?o(c,f,d):!1}}function Bue(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?cu:Sue,areDatesEqual:Tue,areMapsEqual:r?hI(gI,cu):gI,areObjectsEqual:r?cu:Aue,arePrimitiveWrappersEqual:Pue,areRegExpsEqual:Iue,areSetsEqual:r?hI(yI,cu):yI,areTypedArraysEqual:r?cu:Oue};if(n&&(i=_I({},i,n(i))),e){var o=Mh(i.areArraysEqual),a=Mh(i.areMapsEqual),s=Mh(i.areObjectsEqual),l=Mh(i.areSetsEqual);i=_I({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return i}function zue(t){return function(e,n,r,i,o,a,s){return t(e,n,s)}}function Wue(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(l,u){var c=r(),f=c.cache,d=f===void 0?e?new WeakMap:void 0:f,p=c.meta;return n(l,u,{cache:d,equals:i,meta:p,strict:o})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,u){return n(l,u,a)}}var que=jo();jo({strict:!0});jo({circular:!0});jo({circular:!0,strict:!0});jo({createInternalComparator:function(){return Ol}});jo({strict:!0,createInternalComparator:function(){return Ol}});jo({circular:!0,createInternalComparator:function(){return Ol}});jo({circular:!0,createInternalComparator:function(){return Ol},strict:!0});function jo(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,a=o===void 0?!1:o,s=Bue(t),l=Uue(s),u=r?r(l):zue(l);return Wue({circular:n,comparator:l,createState:i,equals:u,strict:a})}function Hue(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function wI(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):Hue(i)};requestAnimationFrame(r)}function d_(t){"@babel/helpers - typeof";return d_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d_(t)}function Kue(t){return Que(t)||Yue(t)||Xue(t)||Gue()}function Gue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xue(t,e){if(t){if(typeof t=="string")return bI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bI(t,e)}}function bI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Que(t){if(Array.isArray(t))return t}function Jue(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=Kue(a),l=s[0],u=s.slice(1);if(typeof l=="number"){wI(i.bind(null,u),l);return}i(l),wI(i.bind(null,u));return}d_(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Hc(t){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hc(t)}function xI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xI(Object(n),!0).forEach(function(r){DM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DM(t,e,n){return e=Zue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zue(t){var e=ece(t,"string");return Hc(e)==="symbol"?e:String(e)}function ece(t,e){if(Hc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Hc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tce=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},nce=function(e){return e},rce=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Bu=function(e,n){return Object.keys(n).reduce(function(r,i){return EI(EI({},r),{},DM({},i,e(i,n[i])))},{})},SI=function(e,n,r){return e.map(function(i){return"".concat(rce(i)," ").concat(n,"ms ").concat(r)}).join(",")};function ice(t,e){return sce(t)||ace(t,e)||jM(t,e)||oce()}function oce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ace(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function sce(t){if(Array.isArray(t))return t}function lce(t){return fce(t)||cce(t)||jM(t)||uce()}function uce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jM(t,e){if(t){if(typeof t=="string")return p_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p_(t,e)}}function cce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fce(t){if(Array.isArray(t))return p_(t)}function p_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Tp=1e-4,MM=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},$M=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},TI=function(e,n){return function(r){var i=MM(e,n);return $M(i,r)}},hce=function(e,n){return function(r){var i=MM(e,n),o=[].concat(lce(i.map(function(a,s){return a*s}).slice(1)),[0]);return $M(o,r)}},AI=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(_){return parseFloat(_)}),c=ice(u,4);i=c[0],o=c[1],a=c[2],s=c[3]}}}var f=TI(i,a),d=TI(o,s),p=hce(i,a),m=function(b){return b>1?1:b<0?0:b},g=function(b){for(var y=b>1?1:b,v=y,x=0;x<8;++x){var T=f(v)-y,O=p(v);if(Math.abs(T-y)<Tp||O<Tp)return d(v);v=m(v-T/O)}return d(v)};return g.isStepper=!1,g},dce=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(c,f,d){var p=-(c-f)*r,m=d*o,g=d+(p-m)*s/1e3,_=d*s/1e3+c;return Math.abs(_-f)<Tp&&Math.abs(g)<Tp?[f,0]:[_,g]};return l.isStepper=!0,l.dt=s,l},pce=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return AI(i);case"spring":return dce();default:if(i.split("(")[0]==="cubic-bezier")return AI(i)}return typeof i=="function"?i:null};function Kc(t){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kc(t)}function PI(t){return yce(t)||gce(t)||LM(t)||mce()}function mce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yce(t){if(Array.isArray(t))return g_(t)}function II(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ft(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?II(Object(n),!0).forEach(function(r){m_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):II(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function m_(t,e,n){return e=vce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vce(t){var e=_ce(t,"string");return Kc(e)==="symbol"?e:String(e)}function _ce(t,e){if(Kc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Kc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wce(t,e){return Ece(t)||xce(t,e)||LM(t,e)||bce()}function bce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LM(t,e){if(t){if(typeof t=="string")return g_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g_(t,e)}}function g_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Ece(t){if(Array.isArray(t))return t}var Ap=function(e,n,r){return e+(n-e)*r},y_=function(e){var n=e.from,r=e.to;return n!==r},Sce=function t(e,n,r){var i=Bu(function(o,a){if(y_(a)){var s=e(a.from,a.to,a.velocity),l=wce(s,2),u=l[0],c=l[1];return Ft(Ft({},a),{},{from:u,velocity:c})}return a},n);return r<1?Bu(function(o,a){return y_(a)?Ft(Ft({},a),{},{velocity:Ap(a.velocity,i[o].velocity,r),from:Ap(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const Tce=function(t,e,n,r,i){var o=tce(t,e),a=o.reduce(function(_,b){return Ft(Ft({},_),{},m_({},b,[t[b],e[b]]))},{}),s=o.reduce(function(_,b){return Ft(Ft({},_),{},m_({},b,{from:t[b],velocity:0,to:e[b]}))},{}),l=-1,u,c,f=function(){return null},d=function(){return Bu(function(b,y){return y.from},s)},p=function(){return!Object.values(s).filter(y_).length},m=function(b){u||(u=b);var y=b-u,v=y/n.dt;s=Sce(n,s,v),i(Ft(Ft(Ft({},t),e),d())),u=b,p()||(l=requestAnimationFrame(f))},g=function(b){c||(c=b);var y=(b-c)/r,v=Bu(function(T,O){return Ap.apply(void 0,PI(O).concat([n(y)]))},a);if(i(Ft(Ft(Ft({},t),e),v)),y<1)l=requestAnimationFrame(f);else{var x=Bu(function(T,O){return Ap.apply(void 0,PI(O).concat([n(1)]))},a);i(Ft(Ft(Ft({},t),e),x))}};return f=n.isStepper?m:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Qs(t){"@babel/helpers - typeof";return Qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qs(t)}var Ace=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Pce(t,e){if(t==null)return{};var n=Ice(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ice(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Wy(t){return Rce(t)||kce(t)||Cce(t)||Oce()}function Oce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cce(t,e){if(t){if(typeof t=="string")return v_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v_(t,e)}}function kce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Rce(t){if(Array.isArray(t))return v_(t)}function v_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function OI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OI(Object(n),!0).forEach(function(r){xu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xu(t,e,n){return e=VM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,VM(r.key),r)}}function jce(t,e,n){return e&&Dce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function VM(t){var e=Mce(t,"string");return Qs(e)==="symbol"?e:String(e)}function Mce(t,e){if(Qs(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Qs(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $ce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&__(t,e)}function __(t,e){return __=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},__(t,e)}function Lce(t){var e=Vce();return function(){var r=Pp(t),i;if(e){var o=Pp(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return w_(this,i)}}function w_(t,e){if(e&&(Qs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b_(t)}function b_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vce(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Pp(t){return Pp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pp(t)}var Ai=function(t){$ce(n,t);var e=Lce(n);function n(r,i){var o;Nce(this,n),o=e.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,u=a.from,c=a.to,f=a.steps,d=a.children,p=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(b_(o)),o.changeStyle=o.changeStyle.bind(b_(o)),!s||p<=0)return o.state={style:{}},typeof d=="function"&&(o.state={style:c}),w_(o);if(f&&f.length)o.state={style:f[0].style};else if(u){if(typeof d=="function")return o.state={style:u},w_(o);o.state={style:l?xu({},l,u):u}}else o.state={style:{}};return o}return jce(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,c=o.to,f=o.from,d=this.state.style;if(s){if(!a){var p={style:l?xu({},l,c):c};this.state&&d&&(l&&d[l]!==c||!l&&d!==c)&&this.setState(p);return}if(!(que(i.to,c)&&i.canBegin&&i.isActive)){var m=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=m||u?f:i.to;if(this.state&&d){var _={style:l?xu({},l,g):g};(l&&d[l]!==g||!l&&d!==g)&&this.setState(_)}this.runAnimation(dr(dr({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,f=i.onAnimationEnd,d=i.onAnimationStart,p=Tce(a,s,pce(u),l,this.changeStyle),m=function(){o.stopJSAnimation=p()};this.manager.start([d,c,m,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,u=a[0],c=u.style,f=u.duration,d=f===void 0?0:f,p=function(g,_,b){if(b===0)return g;var y=_.duration,v=_.easing,x=v===void 0?"ease":v,T=_.style,O=_.properties,S=_.onAnimationEnd,E=b>0?a[b-1]:_,I=O||Object.keys(T);if(typeof x=="function"||x==="spring")return[].concat(Wy(g),[o.runJSAnimation.bind(o,{from:E.style,to:T,duration:y,easing:x}),y]);var C=SI(I,y,x),R=dr(dr(dr({},E.style),T),{},{transition:C});return[].concat(Wy(g),[R,y,S]).filter(nce)};return this.manager.start([l].concat(Wy(a.reduce(p,[c,Math.max(d,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Jue());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,d=i.steps,p=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(d.length>1){this.runStepAnimation(i);return}var g=s?xu({},s,l):l,_=SI(Object.keys(g),a,u);m.start([c,o,dr(dr({},g),{},{transition:_}),a,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Pce(i,Ace),u=j.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!s||u===0||a<=0)return o;var f=function(p){var m=p.props,g=m.style,_=g===void 0?{}:g,b=m.className,y=j.cloneElement(p,dr(dr({},l),{},{style:dr(dr({},_),c),className:b}));return y};return u===1?f(j.Children.only(o)):M.createElement("div",null,j.Children.map(o,function(d){return f(d)}))}}]),n}(j.PureComponent);Ai.displayName="Animate";Ai.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ai.propTypes={from:X.oneOfType([X.object,X.string]),to:X.oneOfType([X.object,X.string]),attributeName:X.string,duration:X.number,begin:X.number,easing:X.oneOfType([X.string,X.func]),steps:X.arrayOf(X.shape({duration:X.number.isRequired,style:X.object.isRequired,easing:X.oneOfType([X.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),X.func]),properties:X.arrayOf("string"),onAnimationEnd:X.func})),children:X.oneOfType([X.node,X.func]),isActive:X.bool,canBegin:X.bool,onAnimationEnd:X.func,shouldReAnimate:X.bool,onAnimationStart:X.func,onAnimationReStart:X.func};X.object,X.object,X.object,X.element;X.object,X.object,X.object,X.oneOfType([X.array,X.element]),X.any;function Gc(t){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gc(t)}function Ip(){return Ip=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ip.apply(this,arguments)}function Fce(t,e){return Wce(t)||zce(t,e)||Bce(t,e)||Uce()}function Uce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bce(t,e){if(t){if(typeof t=="string")return CI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CI(t,e)}}function CI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Wce(t){if(Array.isArray(t))return t}function kI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kI(Object(n),!0).forEach(function(r){qce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qce(t,e,n){return e=Hce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hce(t){var e=Kce(t,"string");return Gc(e)=="symbol"?e:String(e)}function Kce(t,e){if(Gc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Gc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NI=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(a>0&&o instanceof Array){for(var f=[0,0,0,0],d=0,p=4;d<p;d++)f[d]=o[d]>a?a:o[d];c="M".concat(e,",").concat(n+s*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),c+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*f[1])),c+="L ".concat(e+r,",").concat(n+i-s*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),c+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*f[3])),c+="Z"}else if(a>0&&o===+o&&o>0){var m=Math.min(a,o);c="M ".concat(e,",").concat(n+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+l*m,",").concat(n,`
            L `).concat(e+r-l*m,",").concat(n,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*m,`
            L `).concat(e+r,",").concat(n+i-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+r-l*m,",").concat(n+i,`
            L `).concat(e+l*m,",").concat(n+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*m," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},Gce=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(o,o+s),c=Math.max(o,o+s),f=Math.min(a,a+l),d=Math.max(a,a+l);return r>=u&&r<=c&&i>=f&&i<=d}return!1},Xce={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},B1=function(e){var n=RI(RI({},Xce),e),r=j.useRef(),i=j.useState(-1),o=Fce(i,2),a=o[0],s=o[1];j.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var x=r.current.getTotalLength();x&&s(x)}catch{}},[]);var l=n.x,u=n.y,c=n.width,f=n.height,d=n.radius,p=n.className,m=n.animationEasing,g=n.animationDuration,_=n.animationBegin,b=n.isAnimationActive,y=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||c===0||f===0)return null;var v=Ae("recharts-rectangle",p);return y?M.createElement(Ai,{canBegin:a>0,from:{width:c,height:f,x:l,y:u},to:{width:c,height:f,x:l,y:u},duration:g,animationEasing:m,isActive:y},function(x){var T=x.width,O=x.height,S=x.x,E=x.y;return M.createElement(Ai,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:g,isActive:b,easing:m},M.createElement("path",Ip({},ye(n,!0),{className:v,d:NI(S,E,T,O,d),ref:r})))}):M.createElement("path",Ip({},ye(n,!0),{className:v,d:NI(l,u,c,f,d)}))},Yce=["points","className","baseLinePoints","connectNulls"];function ds(){return ds=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ds.apply(this,arguments)}function Qce(t,e){if(t==null)return{};var n=Jce(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Jce(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function DI(t){return nfe(t)||tfe(t)||efe(t)||Zce()}function Zce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function efe(t,e){if(t){if(typeof t=="string")return x_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x_(t,e)}}function tfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nfe(t){if(Array.isArray(t))return x_(t)}function x_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var jI=function(e){return e&&e.x===+e.x&&e.y===+e.y},rfe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){jI(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),jI(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},zu=function(e,n){var r=rfe(e);n&&(r=[r.reduce(function(o,a){return[].concat(DI(o),DI(a))},[])]);var i=r.map(function(o){return o.reduce(function(a,s,l){return"".concat(a).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},ife=function(e,n,r){var i=zu(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(zu(n.reverse(),r).slice(1))},ofe=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,o=e.connectNulls,a=Qce(e,Yce);if(!n||!n.length)return null;var s=Ae("recharts-polygon",r);if(i&&i.length){var l=a.stroke&&a.stroke!=="none",u=ife(n,i,o);return M.createElement("g",{className:s},M.createElement("path",ds({},ye(a,!0),{fill:u.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:u})),l?M.createElement("path",ds({},ye(a,!0),{fill:"none",d:zu(n,o)})):null,l?M.createElement("path",ds({},ye(a,!0),{fill:"none",d:zu(i,o)})):null)}var c=zu(n,o);return M.createElement("path",ds({},ye(a,!0),{fill:c.slice(-1)==="Z"?a.fill:"none",className:s,d:c}))};function E_(){return E_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},E_.apply(this,arguments)}var z1=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=Ae("recharts-dot",o);return n===+n&&r===+r&&i===+i?M.createElement("circle",E_({},ye(e,!1),Yd(e),{className:a,cx:n,cy:r,r:i})):null};function Xc(t){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xc(t)}var afe=["x","y","top","left","width","height","className"];function S_(){return S_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S_.apply(this,arguments)}function MI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sfe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MI(Object(n),!0).forEach(function(r){lfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lfe(t,e,n){return e=ufe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ufe(t){var e=cfe(t,"string");return Xc(e)=="symbol"?e:String(e)}function cfe(t,e){if(Xc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ffe(t,e){if(t==null)return{};var n=hfe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hfe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var dfe=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},pfe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,u=l===void 0?0:l,c=e.width,f=c===void 0?0:c,d=e.height,p=d===void 0?0:d,m=e.className,g=ffe(e,afe),_=sfe({x:r,y:o,top:s,left:u,width:f,height:p},g);return!te(r)||!te(o)||!te(f)||!te(p)||!te(s)||!te(u)?null:M.createElement("path",S_({},ye(_,!0),{className:Ae("recharts-cross",m),d:dfe(r,o,f,p,s,u)}))},mfe=ng,gfe=nM,yfe=Gr;function vfe(t,e){return t&&t.length?mfe(t,yfe(e),gfe):void 0}var _fe=vfe;const wfe=Be(_fe);var bfe=ng,xfe=Gr,Efe=rM;function Sfe(t,e){return t&&t.length?bfe(t,xfe(e),Efe):void 0}var Tfe=Sfe;const Afe=Be(Tfe);var Pfe=["cx","cy","angle","ticks","axisLine"],Ife=["ticks","tick","angle","tickFormatter","stroke"];function Js(t){"@babel/helpers - typeof";return Js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Js(t)}function Wu(){return Wu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wu.apply(this,arguments)}function $I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$I(Object(n),!0).forEach(function(r){ug(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$I(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LI(t,e){if(t==null)return{};var n=Ofe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ofe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Cfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UM(r.key),r)}}function kfe(t,e,n){return e&&VI(t.prototype,e),n&&VI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rfe(t,e,n){return e=Op(e),Nfe(t,FM()?Reflect.construct(e,n||[],Op(t).constructor):e.apply(t,n))}function Nfe(t,e){if(e&&(Js(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dfe(t)}function Dfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FM=function(){return!!t})()}function Op(t){return Op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Op(t)}function jfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T_(t,e)}function T_(t,e){return T_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},T_(t,e)}function ug(t,e,n){return e=UM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UM(t){var e=Mfe(t,"string");return Js(e)=="symbol"?e:String(e)}function Mfe(t,e){if(Js(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Js(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cg=function(t){jfe(e,t);function e(){return Cfe(this,e),Rfe(this,e,arguments)}return kfe(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,o=this.props,a=o.angle,s=o.cx,l=o.cy;return Qe(s,l,i,a)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,s=r.ticks,l=wfe(s,function(c){return c.coordinate||0}),u=Afe(s,function(c){return c.coordinate||0});return{cx:i,cy:o,startAngle:a,endAngle:a,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,s=r.ticks,l=r.axisLine,u=LI(r,Pfe),c=s.reduce(function(m,g){return[Math.min(m[0],g.coordinate),Math.max(m[1],g.coordinate)]},[1/0,-1/0]),f=Qe(i,o,c[0],a),d=Qe(i,o,c[1],a),p=Uo(Uo(Uo({},ye(u,!1)),{},{fill:"none"},ye(l,!1)),{},{x1:f.x,y1:f.y,x2:d.x,y2:d.y});return M.createElement("line",Wu({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,s=i.angle,l=i.tickFormatter,u=i.stroke,c=LI(i,Ife),f=this.getTickTextAnchor(),d=ye(c,!1),p=ye(a,!1),m=o.map(function(g,_){var b=r.getTickValueCoord(g),y=Uo(Uo(Uo(Uo({textAnchor:f,transform:"rotate(".concat(90-s,", ").concat(b.x,", ").concat(b.y,")")},d),{},{stroke:"none",fill:u},p),{},{index:_},b),{},{payload:g});return M.createElement(Fe,Wu({className:Ae("recharts-polar-radius-axis-tick",IM(a)),key:"tick-".concat(g.coordinate)},xa(r.props,g,_)),e.renderTickItem(a,y,l?l(g.value,_):g.value))});return M.createElement(Fe,{className:"recharts-polar-radius-axis-ticks"},m)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.axisLine,a=r.tick;return!i||!i.length?null:M.createElement(Fe,{className:Ae("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),a&&this.renderTicks(),jt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,o){var a;return M.isValidElement(r)?a=M.cloneElement(r,i):be(r)?a=r(i):a=M.createElement(Ea,Wu({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),a}}]),e}(j.PureComponent);ug(cg,"displayName","PolarRadiusAxis");ug(cg,"axisType","radiusAxis");ug(cg,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Zs(t){"@babel/helpers - typeof";return Zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zs(t)}function Xo(){return Xo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xo.apply(this,arguments)}function FI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FI(Object(n),!0).forEach(function(r){fg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $fe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zM(r.key),r)}}function Lfe(t,e,n){return e&&UI(t.prototype,e),n&&UI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vfe(t,e,n){return e=Cp(e),Ffe(t,BM()?Reflect.construct(e,n||[],Cp(t).constructor):e.apply(t,n))}function Ffe(t,e){if(e&&(Zs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ufe(t)}function Ufe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BM=function(){return!!t})()}function Cp(t){return Cp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cp(t)}function Bfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A_(t,e)}function A_(t,e){return A_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},A_(t,e)}function fg(t,e,n){return e=zM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zM(t){var e=zfe(t,"string");return Zs(e)=="symbol"?e:String(e)}function zfe(t,e){if(Zs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Zs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wfe=Math.PI/180,BI=1e-5,hg=function(t){Bfe(e,t);function e(){return $fe(this,e),Vfe(this,e,arguments)}return Lfe(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.cx,a=i.cy,s=i.radius,l=i.orientation,u=i.tickSize,c=u||8,f=Qe(o,a,s,r.coordinate),d=Qe(o,a,s+(l==="inner"?-1:1)*c,r.coordinate);return{x1:f.x,y1:f.y,x2:d.x,y2:d.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,o=Math.cos(-r.coordinate*Wfe),a;return o>BI?a=i==="outer"?"start":"end":o<-BI?a=i==="outer"?"end":"start":a="middle",a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.radius,s=r.axisLine,l=r.axisLineType,u=Bo(Bo({},ye(this.props,!1)),{},{fill:"none"},ye(s,!1));if(l==="circle")return M.createElement(z1,Xo({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:o,r:a}));var c=this.props.ticks,f=c.map(function(d){return Qe(i,o,a,d.coordinate)});return M.createElement(ofe,Xo({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,s=i.tickLine,l=i.tickFormatter,u=i.stroke,c=ye(this.props,!1),f=ye(a,!1),d=Bo(Bo({},c),{},{fill:"none"},ye(s,!1)),p=o.map(function(m,g){var _=r.getTickLineCoord(m),b=r.getTickTextAnchor(m),y=Bo(Bo(Bo({textAnchor:b},c),{},{stroke:"none",fill:u},f),{},{index:g,payload:m,x:_.x2,y:_.y2});return M.createElement(Fe,Xo({className:Ae("recharts-polar-angle-axis-tick",IM(a)),key:"tick-".concat(m.coordinate)},xa(r.props,m,g)),s&&M.createElement("line",Xo({className:"recharts-polar-angle-axis-tick-line"},d,_)),a&&e.renderTickItem(a,y,l?l(m.value,g):m.value))});return M.createElement(Fe,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.radius,a=r.axisLine;return o<=0||!i||!i.length?null:M.createElement(Fe,{className:Ae("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,o){var a;return M.isValidElement(r)?a=M.cloneElement(r,i):be(r)?a=r(i):a=M.createElement(Ea,Xo({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),a}}]),e}(j.PureComponent);fg(hg,"displayName","PolarAngleAxis");fg(hg,"axisType","angleAxis");fg(hg,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var qfe=Y2,Hfe=qfe(Object.getPrototypeOf,Object),Kfe=Hfe,Gfe=Ii,Xfe=Kfe,Yfe=Oi,Qfe="[object Object]",Jfe=Function.prototype,Zfe=Object.prototype,WM=Jfe.toString,ehe=Zfe.hasOwnProperty,the=WM.call(Object);function nhe(t){if(!Yfe(t)||Gfe(t)!=Qfe)return!1;var e=Xfe(t);if(e===null)return!0;var n=ehe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&WM.call(n)==the}var rhe=nhe;const ihe=Be(rhe);var ohe=Ii,ahe=Oi,she="[object Boolean]";function lhe(t){return t===!0||t===!1||ahe(t)&&ohe(t)==she}var uhe=lhe;const che=Be(uhe);function Yc(t){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yc(t)}function kp(){return kp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kp.apply(this,arguments)}function fhe(t,e){return mhe(t)||phe(t,e)||dhe(t,e)||hhe()}function hhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dhe(t,e){if(t){if(typeof t=="string")return zI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zI(t,e)}}function zI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function phe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function mhe(t){if(Array.isArray(t))return t}function WI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WI(Object(n),!0).forEach(function(r){ghe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ghe(t,e,n){return e=yhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yhe(t){var e=vhe(t,"string");return Yc(e)=="symbol"?e:String(e)}function vhe(t,e){if(Yc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Yc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var HI=function(e,n,r,i,o){var a=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-a/2,",").concat(n+o),s+="L ".concat(e+r-a/2-i,",").concat(n+o),s+="L ".concat(e,",").concat(n," Z"),s},_he={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},whe=function(e){var n=qI(qI({},_he),e),r=j.useRef(),i=j.useState(-1),o=fhe(i,2),a=o[0],s=o[1];j.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var v=r.current.getTotalLength();v&&s(v)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,f=n.lowerWidth,d=n.height,p=n.className,m=n.animationEasing,g=n.animationDuration,_=n.animationBegin,b=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||d!==+d||c===0&&f===0||d===0)return null;var y=Ae("recharts-trapezoid",p);return b?M.createElement(Ai,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:d,x:l,y:u},to:{upperWidth:c,lowerWidth:f,height:d,x:l,y:u},duration:g,animationEasing:m,isActive:b},function(v){var x=v.upperWidth,T=v.lowerWidth,O=v.height,S=v.x,E=v.y;return M.createElement(Ai,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:g,easing:m},M.createElement("path",kp({},ye(n,!0),{className:y,d:HI(S,E,x,T,O),ref:r})))}):M.createElement("g",null,M.createElement("path",kp({},ye(n,!0),{className:y,d:HI(l,u,c,f,d)})))},bhe=["option","shapeType","propTransformer","activeClassName","isActive"];function Qc(t){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qc(t)}function xhe(t,e){if(t==null)return{};var n=Ehe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ehe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function KI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KI(Object(n),!0).forEach(function(r){She(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function She(t,e,n){return e=The(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function The(t){var e=Ahe(t,"string");return Qc(e)=="symbol"?e:String(e)}function Ahe(t,e){if(Qc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Qc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Phe(t,e){return Rp(Rp({},e),t)}function Ihe(t,e){return t==="symbols"}function GI(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return M.createElement(B1,n);case"trapezoid":return M.createElement(whe,n);case"sector":return M.createElement(kM,n);case"symbols":if(Ihe(e))return M.createElement(s1,n);break;default:return null}}function Ohe(t){return j.isValidElement(t)?t.props:t}function qM(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Phe:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=xhe(t,bhe),u;if(j.isValidElement(e))u=j.cloneElement(e,Rp(Rp({},l),Ohe(e)));else if(be(e))u=e(l);else if(ihe(e)&&!che(e)){var c=i(e,l);u=M.createElement(GI,{shapeType:n,elementProps:c})}else{var f=l;u=M.createElement(GI,{shapeType:n,elementProps:f})}return s?M.createElement(Fe,{className:a},u):u}function dg(t,e){return e!=null&&"trapezoids"in t.props}function pg(t,e){return e!=null&&"sectors"in t.props}function Jc(t,e){return e!=null&&"points"in t.props}function Che(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function khe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Rhe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Nhe(t,e){var n;return dg(t,e)?n=Che:pg(t,e)?n=khe:Jc(t,e)&&(n=Rhe),n}function Dhe(t,e){var n;return dg(t,e)?n="trapezoids":pg(t,e)?n="sectors":Jc(t,e)&&(n="points"),n}function jhe(t,e){if(dg(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(pg(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Jc(t,e)?e.payload:{}}function Mhe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Dhe(n,e),o=jhe(n,e),a=r.filter(function(l,u){var c=og(o,l),f=n.props[i].filter(function(m){var g=Nhe(n,e);return g(m,e)}),d=n.props[i].indexOf(f[f.length-1]),p=u===d;return c&&p}),s=r.indexOf(a[a.length-1]);return s}var ad;function el(t){"@babel/helpers - typeof";return el=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},el(t)}function ps(){return ps=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ps.apply(this,arguments)}function XI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ot(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XI(Object(n),!0).forEach(function(r){er(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $he(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,KM(r.key),r)}}function Lhe(t,e,n){return e&&YI(t.prototype,e),n&&YI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vhe(t,e,n){return e=Np(e),Fhe(t,HM()?Reflect.construct(e,n||[],Np(t).constructor):e.apply(t,n))}function Fhe(t,e){if(e&&(el(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ja(t)}function HM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HM=function(){return!!t})()}function Np(t){return Np=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Np(t)}function Ja(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Uhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P_(t,e)}function P_(t,e){return P_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},P_(t,e)}function er(t,e,n){return e=KM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KM(t){var e=Bhe(t,"string");return el(e)=="symbol"?e:String(e)}function Bhe(t,e){if(el(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(el(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ki=function(t){Uhe(e,t);function e(n){var r;return $he(this,e),r=Vhe(this,e,[n]),er(Ja(r),"pieRef",null),er(Ja(r),"sectorRefs",[]),er(Ja(r),"id",Cf("recharts-pie-")),er(Ja(r),"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),be(i)&&i()}),er(Ja(r),"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),be(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return Lhe(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.label,s=o.labelLine,l=o.dataKey,u=o.valueKey,c=ye(this.props,!1),f=ye(a,!1),d=ye(s,!1),p=a&&a.offsetRadius||20,m=r.map(function(g,_){var b=(g.startAngle+g.endAngle)/2,y=Qe(g.cx,g.cy,g.outerRadius+p,b),v=ot(ot(ot(ot({},c),g),{},{stroke:"none"},f),{},{index:_,textAnchor:e.getTextAnchor(y.x,g.cx)},y),x=ot(ot(ot(ot({},c),g),{},{fill:"none",stroke:g.fill},d),{},{index:_,points:[Qe(g.cx,g.cy,g.outerRadius,b),y],key:"line"}),T=l;return Pe(l)&&Pe(u)?T="value":Pe(l)&&(T=u),M.createElement(Fe,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(_)},s&&e.renderLabelLineItem(s,x),e.renderLabelItem(a,v,sn(g,T)))});return M.createElement(Fe,{className:"recharts-pie-labels"},m)}},{key:"renderSectorsStatically",value:function(r){var i=this,o=this.props,a=o.activeShape,s=o.blendStroke,l=o.inactiveShape;return r.map(function(u,c){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var f=i.isActiveIndex(c),d=l&&i.hasActiveIndex()?l:null,p=f?a:d,m=ot(ot({},u),{},{stroke:s?u.fill:u.stroke,tabIndex:-1});return M.createElement(Fe,ps({ref:function(_){_&&!i.sectorRefs.includes(_)&&i.sectorRefs.push(_)},tabIndex:-1,className:"recharts-pie-sector"},xa(i.props,u,c),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(c)}),M.createElement(qM,ps({option:p,isActive:f,shapeType:"sector"},m)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,o=i.sectors,a=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,u=i.animationEasing,c=i.animationId,f=this.state,d=f.prevSectors,p=f.prevIsAnimationActive;return M.createElement(Ai,{begin:s,duration:l,isActive:a,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(c,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(m){var g=m.t,_=[],b=o&&o[0],y=b.startAngle;return o.forEach(function(v,x){var T=d&&d[x],O=x>0?Bn(v,"paddingAngle",0):0;if(T){var S=Ui(T.endAngle-T.startAngle,v.endAngle-v.startAngle),E=ot(ot({},v),{},{startAngle:y+O,endAngle:y+S(g)+O});_.push(E),y=E.endAngle}else{var I=v.endAngle,C=v.startAngle,R=Ui(0,I-C),D=R(g),k=ot(ot({},v),{},{startAngle:y+O,endAngle:y+D+O});_.push(k),y=k.endAngle}}),M.createElement(Fe,null,r.renderSectorsStatically(_))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var a=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,o=r.isAnimationActive,a=this.state.prevSectors;return o&&i&&i.length&&(!a||!og(a,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,o=i.hide,a=i.sectors,s=i.className,l=i.label,u=i.cx,c=i.cy,f=i.innerRadius,d=i.outerRadius,p=i.isAnimationActive,m=this.state.isAnimationFinished;if(o||!a||!a.length||!te(u)||!te(c)||!te(f)||!te(d))return null;var g=Ae("recharts-pie",s);return M.createElement(Fe,{tabIndex:this.props.rootTabIndex,className:g,ref:function(b){r.pieRef=b}},this.renderSectors(),l&&this.renderLabels(a),jt.renderCallByParent(this.props,null,!1),(!p||m)&&go.renderCallByParent(this.props,a,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i){if(M.isValidElement(r))return M.cloneElement(r,i);if(be(r))return r(i);var o=Ae("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return M.createElement(h_,ps({},i,{type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,i,o){if(M.isValidElement(r))return M.cloneElement(r,i);var a=o;if(be(r)&&(a=r(i),M.isValidElement(a)))return a;var s=Ae("recharts-pie-label-text",typeof r!="boolean"&&!be(r)?r.className:"");return M.createElement(Ea,ps({},i,{alignmentBaseline:"middle",className:s}),a)}}]),e}(j.PureComponent);ad=ki;er(ki,"displayName","Pie");er(ki,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!di.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});er(ki,"parseDeltaAngle",function(t,e){var n=gn(e-t),r=Math.min(Math.abs(e-t),360);return n*r});er(ki,"getRealPieData",function(t){var e=t.props,n=e.data,r=e.children,i=ye(t.props,!1),o=or(r,Xm);return n&&n.length?n.map(function(a,s){return ot(ot(ot({payload:a},i),a),o&&o[s]&&o[s].props)}):o&&o.length?o.map(function(a){return ot(ot({},i),a.props)}):[]});er(ki,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,o=e.height,a=PM(i,o),s=r+yn(t.props.cx,i,i/2),l=n+yn(t.props.cy,o,o/2),u=yn(t.props.innerRadius,a,0),c=yn(t.props.outerRadius,a,a*.8),f=t.props.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:s,cy:l,innerRadius:u,outerRadius:c,maxRadius:f}});er(ki,"getComposedData",function(t){var e=t.item,n=t.offset,r=ad.getRealPieData(e);if(!r||!r.length)return null;var i=e.props,o=i.cornerRadius,a=i.startAngle,s=i.endAngle,l=i.paddingAngle,u=i.dataKey,c=i.nameKey,f=i.valueKey,d=i.tooltipType,p=Math.abs(e.props.minAngle),m=ad.parseCoordinateOfPie(e,n),g=ad.parseDeltaAngle(a,s),_=Math.abs(g),b=u;Pe(u)&&Pe(f)?(br(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):Pe(u)&&(br(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=f);var y=r.filter(function(E){return sn(E,b,0)!==0}).length,v=(_>=360?y:y-1)*l,x=_-y*p-v,T=r.reduce(function(E,I){var C=sn(I,b,0);return E+(te(C)?C:0)},0),O;if(T>0){var S;O=r.map(function(E,I){var C=sn(E,b,0),R=sn(E,c,I),D=(te(C)?C:0)/T,k;I?k=S.endAngle+gn(g)*l*(C!==0?1:0):k=a;var V=k+gn(g)*((C!==0?p:0)+D*x),B=(k+V)/2,U=(m.innerRadius+m.outerRadius)/2,W=[{name:R,value:C,payload:E,dataKey:b,type:d}],$=Qe(m.cx,m.cy,U,B);return S=ot(ot(ot({percent:D,cornerRadius:o,name:R,tooltipPayload:W,midAngle:B,middleRadius:U,tooltipPosition:$},E),m),{},{value:sn(E,b),startAngle:k,endAngle:V,payload:E,paddingAngle:gn(g)*l}),S})}return ot(ot({},m),{},{sectors:O,data:r})});var zhe=Math.ceil,Whe=Math.max;function qhe(t,e,n,r){for(var i=-1,o=Whe(zhe((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var Hhe=qhe,Khe=gj,QI=1/0,Ghe=17976931348623157e292;function Xhe(t){if(!t)return t===0?t:0;if(t=Khe(t),t===QI||t===-QI){var e=t<0?-1:1;return e*Ghe}return t===t?t:0}var GM=Xhe,Yhe=Hhe,Qhe=Gm,qy=GM;function Jhe(t){return function(e,n,r){return r&&typeof r!="number"&&Qhe(e,n,r)&&(n=r=void 0),e=qy(e),n===void 0?(n=e,e=0):n=qy(n),r=r===void 0?e<n?1:-1:qy(r),Yhe(e,n,r,t)}}var Zhe=Jhe,ede=Zhe,tde=ede(),nde=tde;const Dp=Be(nde);function Zc(t){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(t)}function JI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JI(Object(n),!0).forEach(function(r){XM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XM(t,e,n){return e=rde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rde(t){var e=ide(t,"string");return Zc(e)=="symbol"?e:String(e)}function ide(t,e){if(Zc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Zc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ode=["Webkit","Moz","O","ms"],ade=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=ode.reduce(function(o,a){return ZI(ZI({},o),{},XM({},a+r,n))},{});return i[e]=n,i};function tl(t){"@babel/helpers - typeof";return tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tl(t)}function jp(){return jp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jp.apply(this,arguments)}function eO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eO(Object(n),!0).forEach(function(r){Dn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QM(r.key),r)}}function lde(t,e,n){return e&&tO(t.prototype,e),n&&tO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ude(t,e,n){return e=Mp(e),cde(t,YM()?Reflect.construct(e,n||[],Mp(t).constructor):e.apply(t,n))}function cde(t,e){if(e&&(tl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ir(t)}function YM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YM=function(){return!!t})()}function Mp(t){return Mp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mp(t)}function Ir(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I_(t,e)}function I_(t,e){return I_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},I_(t,e)}function Dn(t,e,n){return e=QM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QM(t){var e=hde(t,"string");return tl(e)=="symbol"?e:String(e)}function hde(t,e){if(tl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(tl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dde=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=Fu().domain(Dp(0,l)).range([o,o+a-s]),c=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},nO=function(e){return e.changedTouches&&!!e.changedTouches.length},nl=function(t){fde(e,t);function e(n){var r;return sde(this,e),r=ude(this,e,[n]),Dn(Ir(r),"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Dn(Ir(r),"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Dn(Ir(r),"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),Dn(Ir(r),"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Dn(Ir(r),"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Dn(Ir(r),"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Dn(Ir(r),"handleSlideDragStart",function(i){var o=nO(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(Ir(r),"startX"),endX:r.handleTravellerDragStart.bind(Ir(r),"endX")},r.state={},r}return lde(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,f=Math.min(i,o),d=Math.max(i,o),p=e.getIndexInRange(a,f),m=e.getIndexInRange(a,d);return{startIndex:p-p%l,endIndex:m===c?c:m-m%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=sn(o[r],s,r);return be(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,f=l.travellerWidth,d=l.startIndex,p=l.endIndex,m=l.onChange,g=r.pageX-o;g>0?g=Math.min(g,u+c-f-s,u+c-f-a):g<0&&(g=Math.max(g,u-a,u-s));var _=this.getIndex({startX:a+g,endX:s+g});(_.startIndex!==d||_.endIndex!==p)&&m&&m(_),this.setState({startX:a+g,endX:s+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=nO(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[a],c=this.props,f=c.x,d=c.width,p=c.travellerWidth,m=c.onChange,g=c.gap,_=c.data,b={startX:this.state.startX,endX:this.state.endX},y=r.pageX-o;y>0?y=Math.min(y,f+d-p-u):y<0&&(y=Math.max(y,f-u)),b[a]=u+y;var v=this.getIndex(b),x=v.startIndex,T=v.endIndex,O=function(){var E=_.length-1;return a==="startX"&&(s>l?x%g===0:T%g===0)||s<l&&T===E||a==="endX"&&(s>l?T%g===0:x%g===0)||s>l&&T===E};this.setState(Dn(Dn({},a,u+y),"brushMoveStartX",r.pageX),function(){m&&O()&&m(v)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,u=a.endX,c=this.state[i],f=s.indexOf(c);if(f!==-1){var d=f+r;if(!(d===-1||d>=s.length)){var p=s[d];i==="startX"&&p>=u||i==="endX"&&p<=l||this.setState(Dn({},i,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,u=r.stroke;return M.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,u=r.children,c=r.padding,f=j.Children.only(u);return f?M.cloneElement(f,{x:i,y:o,width:a,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,u=l.y,c=l.travellerWidth,f=l.height,d=l.traveller,p=l.ariaLabel,m=l.data,g=l.startIndex,_=l.endIndex,b=Math.max(r,this.props.x),y=Hy(Hy({},ye(this.props,!1)),{},{x:b,y:u,width:c,height:f}),v=p||"Min value: ".concat((o=m[g])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=m[_])===null||a===void 0?void 0:a.name);return M.createElement(Fe,{tabIndex:0,role:"slider","aria-label":v,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(T){["ArrowLeft","ArrowRight"].includes(T.key)&&(T.preventDefault(),T.stopPropagation(),s.handleTravellerMoveKeyboard(T.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(d,y))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,u=o.travellerWidth,c=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return M.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:a,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,f=c.startX,d=c.endX,p=5,m={pointerEvents:"none",fill:u};return M.createElement(Fe,{className:"recharts-brush-texts"},M.createElement(Ea,jp({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,d)-p,y:a+s/2},m),this.getTextOfTick(i)),M.createElement(Ea,jp({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,d)+l+p,y:a+s/2},m),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,u=r.width,c=r.height,f=r.alwaysShowText,d=this.state,p=d.startX,m=d.endX,g=d.isTextActive,_=d.isSlideMoving,b=d.isTravellerMoving,y=d.isTravellerFocused;if(!i||!i.length||!te(s)||!te(l)||!te(u)||!te(c)||u<=0||c<=0)return null;var v=Ae("recharts-brush",o),x=M.Children.count(a)===1,T=ade("userSelect","none");return M.createElement(Fe,{className:v,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:T},this.renderBackground(),x&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(g||_||b||y||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,u=Math.floor(o+s/2)-1;return M.createElement(M.Fragment,null,M.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),M.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),M.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return M.isValidElement(r)?o=M.cloneElement(r,i):be(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,f=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return Hy({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a},o&&o.length?dde({data:o,width:a,x:s,travellerWidth:l,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var d=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:d}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}]),e}(j.PureComponent);Dn(nl,"displayName","Brush");Dn(nl,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var pde=p1;function mde(t,e){var n;return pde(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var gde=mde,yde=B2,vde=Gr,_de=gde,wde=Rn,bde=Gm;function xde(t,e,n){var r=wde(t)?yde:_de;return n&&bde(t,e,n)&&(e=void 0),r(t,vde(e))}var Ede=xde;const Sde=Be(Ede);var zr=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},rO=fj;function Tde(t,e,n){e=="__proto__"&&rO?rO(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Ade=Tde,Pde=Ade,Ide=uj,Ode=Gr;function Cde(t,e){var n={};return e=Ode(e),Ide(t,function(r,i,o){Pde(n,i,e(r,i,o))}),n}var kde=Cde;const Rde=Be(kde);function Nde(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var Dde=Nde,jde=p1;function Mde(t,e){var n=!0;return jde(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var $de=Mde,Lde=Dde,Vde=$de,Fde=Gr,Ude=Rn,Bde=Gm;function zde(t,e,n){var r=Ude(t)?Lde:Vde;return n&&Bde(t,e,n)&&(e=void 0),r(t,Fde(e))}var Wde=zde;const JM=Be(Wde);var qde=["x","y"];function ef(t){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ef(t)}function O_(){return O_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O_.apply(this,arguments)}function iO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iO(Object(n),!0).forEach(function(r){Hde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hde(t,e,n){return e=Kde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kde(t){var e=Gde(t,"string");return ef(e)=="symbol"?e:String(e)}function Gde(t,e){if(ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xde(t,e){if(t==null)return{};var n=Yde(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Yde(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Qde(t,e){var n=t.x,r=t.y,i=Xde(t,qde),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),c=parseInt(u,10),f="".concat(e.width||i.width),d=parseInt(f,10);return fu(fu(fu(fu(fu({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:c,width:d,name:e.name,radius:e.radius})}function oO(t){return M.createElement(qM,O_({shapeType:"rectangle",propTransformer:Qde,activeClassName:"recharts-active-bar"},t))}var Jde=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=typeof r=="number";return o?e(r,i):(o||Ta(),n)}},Zde=["value","background"],ZM;function rl(t){"@babel/helpers - typeof";return rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rl(t)}function epe(t,e){if(t==null)return{};var n=tpe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tpe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function $p(){return $p=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$p.apply(this,arguments)}function aO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aO(Object(n),!0).forEach(function(r){to(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function npe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,t$(r.key),r)}}function rpe(t,e,n){return e&&sO(t.prototype,e),n&&sO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ipe(t,e,n){return e=Lp(e),ope(t,e$()?Reflect.construct(e,n||[],Lp(t).constructor):e.apply(t,n))}function ope(t,e){if(e&&(rl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eu(t)}function e$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e$=function(){return!!t})()}function Lp(t){return Lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lp(t)}function Eu(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ape(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C_(t,e)}function C_(t,e){return C_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},C_(t,e)}function to(t,e,n){return e=t$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t$(t){var e=spe(t,"string");return rl(e)=="symbol"?e:String(e)}function spe(t,e){if(rl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(rl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Va=function(t){ape(e,t);function e(){var n;npe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=ipe(this,e,[].concat(i)),to(Eu(n),"state",{isAnimationFinished:!1}),to(Eu(n),"id",Cf("recharts-bar-")),to(Eu(n),"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),to(Eu(n),"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return rpe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,u=o.activeBar,c=ye(this.props,!1);return r&&r.map(function(f,d){var p=d===l,m=p?u:a,g=kt(kt(kt({},c),f),{},{isActive:p,option:m,index:d,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return M.createElement(Fe,$p({className:"recharts-bar-rectangle"},xa(i.props,f,d),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value)}),M.createElement(oO,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,f=i.animationId,d=this.state.prevData;return M.createElement(Ai,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,g=o.map(function(_,b){var y=d&&d[b];if(y){var v=Ui(y.x,_.x),x=Ui(y.y,_.y),T=Ui(y.width,_.width),O=Ui(y.height,_.height);return kt(kt({},_),{},{x:v(m),y:x(m),width:T(m),height:O(m)})}if(a==="horizontal"){var S=Ui(0,_.height),E=S(m);return kt(kt({},_),{},{y:_.y+_.height-E,height:E})}var I=Ui(0,_.width),C=I(m);return kt(kt({},_),{},{width:C})});return M.createElement(Fe,null,r.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!og(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=ye(this.props.background,!1);return o.map(function(u,c){u.value;var f=u.background,d=epe(u,Zde);if(!f)return null;var p=kt(kt(kt(kt(kt({},d),{},{fill:"#eee"},f),l),xa(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:c,key:"background-bar-".concat(c),className:"recharts-bar-background-rectangle"});return M.createElement(oO,$p({option:r.props.background,isActive:c===s},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,f=or(c,lg);if(!f)return null;var d=u==="vertical"?a[0].height/2:a[0].width/2,p=function(_,b){var y=Array.isArray(_.value)?_.value[1]:_.value;return{x:_.x,y:_.y,value:y,errorVal:sn(_,b)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return M.createElement(Fe,m,f.map(function(g){return M.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,offset:d,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,u=r.left,c=r.top,f=r.width,d=r.height,p=r.isAnimationActive,m=r.background,g=r.id;if(i||!o||!o.length)return null;var _=this.state.isAnimationFinished,b=Ae("recharts-bar",a),y=s&&s.allowDataOverflow,v=l&&l.allowDataOverflow,x=y||v,T=Pe(g)?this.id:g;return M.createElement(Fe,{className:b},y||v?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(T)},M.createElement("rect",{x:y?u:u-f/2,y:v?c:c-d/2,width:y?f:f*2,height:v?d:d*2}))):null,M.createElement(Fe,{className:"recharts-bar-rectangles",clipPath:x?"url(#clipPath-".concat(T,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(x,T),(!p||_)&&go.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}]),e}(j.PureComponent);ZM=Va;to(Va,"displayName","Bar");to(Va,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!di.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});to(Va,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,d=t.offset,p=ole(r,n);if(!p)return null;var m=e.layout,g=n.props,_=g.dataKey,b=g.children,y=g.minPointSize,v=m==="horizontal"?a:o,x=u?v.scale.domain():null,T=hle({numericAxis:v}),O=or(b,Xm),S=f.map(function(E,I){var C,R,D,k,V,B;u?C=ale(u[c+I],x):(C=sn(E,_),Array.isArray(C)||(C=[T,C]));var U=Jde(y,ZM.defaultProps.minPointSize)(C[1],I);if(m==="horizontal"){var W,$=[a.scale(C[0]),a.scale(C[1])],z=$[0],G=$[1];R=YP({axis:o,ticks:s,bandSize:i,offset:p.offset,entry:E,index:I}),D=(W=G??z)!==null&&W!==void 0?W:void 0,k=p.size;var re=z-G;if(V=Number.isNaN(re)?0:re,B={x:R,y:a.y,width:k,height:a.height},Math.abs(U)>0&&Math.abs(V)<Math.abs(U)){var ee=gn(V||U)*(Math.abs(U)-Math.abs(V));D-=ee,V+=ee}}else{var ue=[o.scale(C[0]),o.scale(C[1])],De=ue[0],We=ue[1];if(R=De,D=YP({axis:a,ticks:l,bandSize:i,offset:p.offset,entry:E,index:I}),k=We-De,V=p.size,B={x:o.x,y:D,width:o.width,height:V},Math.abs(U)>0&&Math.abs(k)<Math.abs(U)){var yt=gn(k||U)*(Math.abs(U)-Math.abs(k));k+=yt}}return kt(kt(kt({},E),{},{x:R,y:D,width:k,height:V,value:u?C:C[1],payload:E,background:B},O&&O[I]&&O[I].props),{},{tooltipPayload:[TM(n,E)],tooltipPosition:{x:R+k/2,y:D+V/2}})});return kt({data:S,layout:m},d)});function tf(t){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(t)}function lpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,n$(r.key),r)}}function upe(t,e,n){return e&&lO(t.prototype,e),n&&lO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function uO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uO(Object(n),!0).forEach(function(r){mg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mg(t,e,n){return e=n$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n$(t){var e=cpe(t,"string");return tf(e)=="symbol"?e:String(e)}function cpe(t,e){if(tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fpe=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.layout,u=e.children,c=Object.keys(n),f={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},d=!!Mn(u,Va);return c.reduce(function(p,m){var g=n[m],_=g.orientation,b=g.domain,y=g.padding,v=y===void 0?{}:y,x=g.mirror,T=g.reversed,O="".concat(_).concat(x?"Mirror":""),S,E,I,C,R;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var D=b[1]-b[0],k=1/0,V=g.categoricalDomain.sort();if(V.forEach(function(De,We){We>0&&(k=Math.min((De||0)-(V[We-1]||0),k))}),Number.isFinite(k)){var B=k/D,U=g.layout==="vertical"?r.height:r.width;if(g.padding==="gap"&&(S=B*U/2),g.padding==="no-gap"){var W=yn(e.barCategoryGap,B*U),$=B*U/2;S=$-W-($-W)/U*W}}}i==="xAxis"?E=[r.left+(v.left||0)+(S||0),r.left+r.width-(v.right||0)-(S||0)]:i==="yAxis"?E=l==="horizontal"?[r.top+r.height-(v.bottom||0),r.top+(v.top||0)]:[r.top+(v.top||0)+(S||0),r.top+r.height-(v.bottom||0)-(S||0)]:E=g.range,T&&(E=[E[1],E[0]]);var z=bM(g,o,d),G=z.scale,re=z.realScaleType;G.domain(b).range(E),xM(G);var ee=EM(G,gr(gr({},g),{},{realScaleType:re}));i==="xAxis"?(R=_==="top"&&!x||_==="bottom"&&x,I=r.left,C=f[O]-R*g.height):i==="yAxis"&&(R=_==="left"&&!x||_==="right"&&x,I=f[O]-R*g.width,C=r.top);var ue=gr(gr(gr({},g),ee),{},{realScaleType:re,x:I,y:C,scale:G,width:i==="xAxis"?r.width:g.width,height:i==="yAxis"?r.height:g.height});return ue.bandSize=xp(ue,ee),!g.hide&&i==="xAxis"?f[O]+=(R?-1:1)*ue.height:g.hide||(f[O]+=(R?-1:1)*ue.width),gr(gr({},p),{},mg({},m,ue))},{})},r$=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},hpe=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return r$({x:n,y:r},{x:i,y:o})},i$=function(){function t(e){lpe(this,t),this.scale=e}return upe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}]),t}();mg(i$,"EPS",1e-4);var W1=function(e){var n=Object.keys(e).reduce(function(r,i){return gr(gr({},r),{},mg({},i,i$.create(e[i])))},{});return gr(gr({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return Rde(i,function(l,u){return n[u].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return JM(i,function(o,a){return n[a].isInRange(o)})}})};function dpe(t){return(t%180+180)%180}var ppe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=dpe(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},mpe=Gr,gpe=kf,ype=Hm;function vpe(t){return function(e,n,r){var i=Object(e);if(!gpe(e)){var o=mpe(n);e=ype(e),n=function(s){return o(i[s],s,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}var _pe=vpe,wpe=GM;function bpe(t){var e=wpe(t),n=e%1;return e===e?n?e-n:e:0}var xpe=bpe,Epe=nj,Spe=Gr,Tpe=xpe,Ape=Math.max;function Ppe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:Tpe(n);return i<0&&(i=Ape(r+i,0)),Epe(t,Spe(e),i)}var Ipe=Ppe,Ope=_pe,Cpe=Ipe,kpe=Ope(Cpe),Rpe=kpe;const Npe=Be(Rpe);var Dpe=t7(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),q1=j.createContext(void 0),H1=j.createContext(void 0),o$=j.createContext(void 0),a$=j.createContext({}),s$=j.createContext(void 0),l$=j.createContext(0),u$=j.createContext(0),cO=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,l=e.width,u=e.height,c=Dpe(o);return M.createElement(q1.Provider,{value:r},M.createElement(H1.Provider,{value:i},M.createElement(a$.Provider,{value:o},M.createElement(o$.Provider,{value:c},M.createElement(s$.Provider,{value:a},M.createElement(l$.Provider,{value:u},M.createElement(u$.Provider,{value:l},s)))))))},jpe=function(){return j.useContext(s$)},c$=function(e){var n=j.useContext(q1);n==null&&Ta();var r=n[e];return r==null&&Ta(),r},Mpe=function(){var e=j.useContext(q1);return Yi(e)},$pe=function(){var e=j.useContext(H1),n=Npe(e,function(r){return JM(r.domain,Number.isFinite)});return n||Yi(e)},f$=function(e){var n=j.useContext(H1);n==null&&Ta();var r=n[e];return r==null&&Ta(),r},Lpe=function(){var e=j.useContext(o$);return e},Vpe=function(){return j.useContext(a$)},K1=function(){return j.useContext(u$)},G1=function(){return j.useContext(l$)};function nf(t){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(t)}function fO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fO(Object(n),!0).forEach(function(r){Fpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fpe(t,e,n){return e=Upe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Upe(t){var e=Bpe(t,"string");return nf(e)=="symbol"?e:String(e)}function Bpe(t,e){if(nf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zpe(t,e){return Kpe(t)||Hpe(t,e)||qpe(t,e)||Wpe()}function Wpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qpe(t,e){if(t){if(typeof t=="string")return dO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dO(t,e)}}function dO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Hpe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Kpe(t){if(Array.isArray(t))return t}function k_(){return k_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},k_.apply(this,arguments)}var Gpe=function(e,n){var r;return M.isValidElement(e)?r=M.cloneElement(e,n):be(e)?r=e(n):r=M.createElement("line",k_({},n,{className:"recharts-reference-line-line"})),r},Xpe=function(e,n,r,i,o,a,s,l,u){var c=o.x,f=o.y,d=o.width,p=o.height;if(r){var m=u.y,g=e.y.apply(m,{position:a});if(zr(u,"discard")&&!e.y.isInRange(g))return null;var _=[{x:c+d,y:g},{x:c,y:g}];return l==="left"?_.reverse():_}if(n){var b=u.x,y=e.x.apply(b,{position:a});if(zr(u,"discard")&&!e.x.isInRange(y))return null;var v=[{x:y,y:f+p},{x:y,y:f}];return s==="top"?v.reverse():v}if(i){var x=u.segment,T=x.map(function(O){return e.apply(O,{position:a})});return zr(u,"discard")&&Sde(T,function(O){return!e.isInRange(O)})?null:T}return null};function X1(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,u=jpe(),c=c$(i),f=f$(o),d=Lpe();if(!u||!d)return null;br(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=W1({x:c.scale,y:f.scale}),m=Ot(e),g=Ot(n),_=r&&r.length===2,b=Xpe(p,m,g,_,d,t.position,c.orientation,f.orientation,t);if(!b)return null;var y=zpe(b,2),v=y[0],x=v.x,T=v.y,O=y[1],S=O.x,E=O.y,I=zr(t,"hidden")?"url(#".concat(u,")"):void 0,C=hO(hO({clipPath:I},ye(t,!0)),{},{x1:x,y1:T,x2:S,y2:E});return M.createElement(Fe,{className:Ae("recharts-reference-line",s)},Gpe(a,C),jt.renderCallByParent(t,hpe({x1:x,y1:T,x2:S,y2:E})))}X1.displayName="ReferenceLine";X1.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"};function rf(t){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rf(t)}function R_(){return R_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},R_.apply(this,arguments)}function pO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pO(Object(n),!0).forEach(function(r){Ype(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ype(t,e,n){return e=Qpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qpe(t){var e=Jpe(t,"string");return rf(e)=="symbol"?e:String(e)}function Jpe(t,e){if(rf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zpe=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=W1({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return zr(e,"discard")&&!a.isInRange(s)?null:s};function Mf(t){var e=t.x,n=t.y,r=t.r,i=t.alwaysShow,o=t.clipPathId,a=Ot(e),s=Ot(n);if(br(i===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!a||!s)return null;var l=Zpe(t);if(!l)return null;var u=l.x,c=l.y,f=t.shape,d=t.className,p=zr(t,"hidden")?"url(#".concat(o,")"):void 0,m=mO(mO({clipPath:p},ye(t,!0)),{},{cx:u,cy:c});return M.createElement(Fe,{className:Ae("recharts-reference-dot",d)},Mf.renderDot(f,m),jt.renderCallByParent(t,{x:u-r,y:c-r,width:2*r,height:2*r}))}Mf.displayName="ReferenceDot";Mf.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1};Mf.renderDot=function(t,e){var n;return M.isValidElement(t)?n=M.cloneElement(t,e):be(t)?n=t(e):n=M.createElement(z1,R_({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n};function of(t){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},of(t)}function N_(){return N_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N_.apply(this,arguments)}function gO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gO(Object(n),!0).forEach(function(r){eme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eme(t,e,n){return e=tme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tme(t){var e=nme(t,"string");return of(e)=="symbol"?e:String(e)}function nme(t,e){if(of(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rme=function(e,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,u=o.y2,c=o.xAxis,f=o.yAxis;if(!c||!f)return null;var d=W1({x:c.scale,y:f.scale}),p={x:e?d.x.apply(a,{position:"start"}):d.x.rangeMin,y:r?d.y.apply(l,{position:"start"}):d.y.rangeMin},m={x:n?d.x.apply(s,{position:"end"}):d.x.rangeMax,y:i?d.y.apply(u,{position:"end"}):d.y.rangeMax};return zr(o,"discard")&&(!d.isInRange(p)||!d.isInRange(m))?null:r$(p,m)};function $f(t){var e=t.x1,n=t.x2,r=t.y1,i=t.y2,o=t.className,a=t.alwaysShow,s=t.clipPathId;br(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var l=Ot(e),u=Ot(n),c=Ot(r),f=Ot(i),d=t.shape;if(!l&&!u&&!c&&!f&&!d)return null;var p=rme(l,u,c,f,t);if(!p&&!d)return null;var m=zr(t,"hidden")?"url(#".concat(s,")"):void 0;return M.createElement(Fe,{className:Ae("recharts-reference-area",o)},$f.renderRect(d,yO(yO({clipPath:m},ye(t,!0)),p)),jt.renderCallByParent(t,p))}$f.displayName="ReferenceArea";$f.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1};$f.renderRect=function(t,e){var n;return M.isValidElement(t)?n=M.cloneElement(t,e):be(t)?n=t(e):n=M.createElement(B1,N_({},e,{className:"recharts-reference-area-rect"})),n};function h$(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function ime(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return ppe(r,n)}function ome(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function Vp(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function ame(t,e){return h$(t,e+1)}function sme(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,s=e.end,l=0,u=1,c=a,f=function(){var m=r==null?void 0:r[l];if(m===void 0)return{v:h$(r,u)};var g=l,_,b=function(){return _===void 0&&(_=n(m,g)),_},y=m.coordinate,v=l===0||Vp(t,y,b,c,s);v||(l=0,c=a,u+=1),v&&(c=y+t*(b()/2+i),l+=u)},d;u<=o.length;)if(d=f(),d)return d.v;return[]}function af(t){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},af(t)}function vO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function en(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vO(Object(n),!0).forEach(function(r){lme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lme(t,e,n){return e=ume(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ume(t){var e=cme(t,"string");return af(e)=="symbol"?e:String(e)}function cme(t,e){if(af(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(af(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fme(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,l=e.end,u=function(d){var p=o[d],m,g=function(){return m===void 0&&(m=n(p,d)),m};if(d===a-1){var _=t*(p.coordinate+t*g()/2-l);o[d]=p=en(en({},p),{},{tickCoord:_>0?p.coordinate-_*t:p.coordinate})}else o[d]=p=en(en({},p),{},{tickCoord:p.coordinate});var b=Vp(t,p.tickCoord,g,s,l);b&&(l=p.tickCoord-t*(g()/2+i),o[d]=en(en({},p),{},{isShow:!0}))},c=a-1;c>=0;c--)u(c);return o}function hme(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=e.start,u=e.end;if(o){var c=r[s-1],f=n(c,s-1),d=t*(c.coordinate+t*f/2-u);a[s-1]=c=en(en({},c),{},{tickCoord:d>0?c.coordinate-d*t:c.coordinate});var p=Vp(t,c.tickCoord,function(){return f},l,u);p&&(u=c.tickCoord-t*(f/2+i),a[s-1]=en(en({},c),{},{isShow:!0}))}for(var m=o?s-1:s,g=function(y){var v=a[y],x,T=function(){return x===void 0&&(x=n(v,y)),x};if(y===0){var O=t*(v.coordinate-t*T()/2-l);a[y]=v=en(en({},v),{},{tickCoord:O<0?v.coordinate-O*t:v.coordinate})}else a[y]=v=en(en({},v),{},{tickCoord:v.coordinate});var S=Vp(t,v.tickCoord,T,l,u);S&&(l=v.tickCoord+t*(T()/2+i),a[y]=en(en({},v),{},{isShow:!0}))},_=0;_<m;_++)g(_);return a}function Y1(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(te(l)||di.isSsr)return ame(i,typeof l=="number"&&te(l)?l:0);var d=[],p=s==="top"||s==="bottom"?"width":"height",m=c&&p==="width"?Vu(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},g=function(v,x){var T=be(u)?u(v.value,x):v.value;return p==="width"?ime(Vu(T,{fontSize:e,letterSpacing:n}),m,f):Vu(T,{fontSize:e,letterSpacing:n})[p]},_=i.length>=2?gn(i[1].coordinate-i[0].coordinate):1,b=ome(o,_,p);return l==="equidistantPreserveStart"?sme(_,b,g,i,a):(l==="preserveStart"||l==="preserveStartEnd"?d=hme(_,b,g,i,a,l==="preserveStartEnd"):d=fme(_,b,g,i,a),d.filter(function(y){return y.isShow}))}var dme=["viewBox"],pme=["viewBox"],mme=["ticks"];function il(t){"@babel/helpers - typeof";return il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},il(t)}function ms(){return ms=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ms.apply(this,arguments)}function _O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_O(Object(n),!0).forEach(function(r){Q1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_O(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ky(t,e){if(t==null)return{};var n=gme(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gme(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function yme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,p$(r.key),r)}}function vme(t,e,n){return e&&wO(t.prototype,e),n&&wO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _me(t,e,n){return e=Fp(e),wme(t,d$()?Reflect.construct(e,n||[],Fp(t).constructor):e.apply(t,n))}function wme(t,e){if(e&&(il(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bme(t)}function bme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d$=function(){return!!t})()}function Fp(t){return Fp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fp(t)}function xme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D_(t,e)}function D_(t,e){return D_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},D_(t,e)}function Q1(t,e,n){return e=p$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p$(t){var e=Eme(t,"string");return il(e)=="symbol"?e:String(e)}function Eme(t,e){if(il(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(il(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cl=function(t){xme(e,t);function e(n){var r;return yme(this,e),r=_me(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return vme(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=Ky(r,dme),s=this.props,l=s.viewBox,u=Ky(s,pme);return!As(o,l)||!As(a,u)||!As(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,f=i.mirror,d=i.tickMargin,p,m,g,_,b,y,v=f?-1:1,x=r.tickSize||c,T=te(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":p=m=r.coordinate,_=a+ +!f*l,g=_-v*x,y=g-v*d,b=T;break;case"left":g=_=r.coordinate,m=o+ +!f*s,p=m-v*x,b=p-v*d,y=T;break;case"right":g=_=r.coordinate,m=o+ +f*s,p=m+v*x,b=p+v*d,y=T;break;default:p=m=r.coordinate,_=a+ +f*l,g=_+v*x,y=g+v*d,b=T;break}return{line:{x1:p,y1:g,x2:m,y2:_},tick:{x:b,y}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,f=pn(pn(pn({},ye(this.props,!1)),ye(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var d=+(l==="top"&&!u||l==="bottom"&&u);f=pn(pn({},f),{},{x1:i,y1:o+d*s,x2:i+a,y2:o+d*s})}else{var p=+(l==="left"&&!u||l==="right"&&u);f=pn(pn({},f),{},{x1:i+p*a,y1:o,x2:i+p*a,y2:o+s})}return M.createElement("line",ms({},f,{className:Ae("recharts-cartesian-axis-line",Bn(c,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,f=s.tickFormatter,d=s.unit,p=Y1(pn(pn({},this.props),{},{ticks:r}),i,o),m=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),_=ye(this.props,!1),b=ye(c,!1),y=pn(pn({},_),{},{fill:"none"},ye(l,!1)),v=p.map(function(x,T){var O=a.getTickLineCoord(x),S=O.line,E=O.tick,I=pn(pn(pn(pn({textAnchor:m,verticalAnchor:g},_),{},{stroke:"none",fill:u},b),E),{},{index:T,payload:x,visibleTicksCount:p.length,tickFormatter:f});return M.createElement(Fe,ms({className:"recharts-cartesian-axis-tick",key:"tick-".concat(x.value,"-").concat(x.coordinate,"-").concat(x.tickCoord)},xa(a.props,x,T)),l&&M.createElement("line",ms({},y,S,{className:Ae("recharts-cartesian-axis-tick-line",Bn(l,"className"))})),c&&e.renderTickItem(c,I,"".concat(be(f)?f(x.value,T):x.value).concat(d||"")))});return M.createElement("g",{className:"recharts-cartesian-axis-ticks"},v)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var f=this.props,d=f.ticks,p=Ky(f,mme),m=d;return be(l)&&(m=d&&d.length>0?l(this.props):l(p)),a<=0||s<=0||!m||!m.length?null:M.createElement(Fe,{className:Ae("recharts-cartesian-axis",u),ref:function(_){r.layerReference=_}},o&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),jt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a;return M.isValidElement(r)?a=M.cloneElement(r,i):be(r)?a=r(i):a=M.createElement(Ea,ms({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}]),e}(j.Component);Q1(Cl,"displayName","CartesianAxis");Q1(Cl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Sme=["x1","y1","x2","y2","key"],Tme=["offset"];function Aa(t){"@babel/helpers - typeof";return Aa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Aa(t)}function bO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function an(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bO(Object(n),!0).forEach(function(r){Ame(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ame(t,e,n){return e=Pme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pme(t){var e=Ime(t,"string");return Aa(e)=="symbol"?e:String(e)}function Ime(t,e){if(Aa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Aa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ra(){return ra=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ra.apply(this,arguments)}function xO(t,e){if(t==null)return{};var n=Ome(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ome(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Cme=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height;return M.createElement("rect",{x:i,y:o,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function m$(t,e){var n;if(M.isValidElement(t))n=M.cloneElement(t,e);else if(be(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,a=e.y2,s=e.key,l=xO(e,Sme),u=ye(l,!1);u.offset;var c=xO(u,Tme);n=M.createElement("line",ra({},c,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function kme(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=an(an({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return m$(i,u)});return M.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function Rme(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=an(an({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return m$(i,u)});return M.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function Nme(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,a=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=s.map(function(d){return Math.round(d+i-i)}).sort(function(d,p){return d-p});i!==c[0]&&c.unshift(0);var f=c.map(function(d,p){var m=!c[p+1],g=m?i+a-d:c[p+1]-d;if(g<=0)return null;var _=p%e.length;return M.createElement("rect",{key:"react-".concat(p),y:d,x:r,height:g,width:o,stroke:"none",fill:e[_],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Dme(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,a=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(d){return Math.round(d+o-o)}).sort(function(d,p){return d-p});o!==c[0]&&c.unshift(0);var f=c.map(function(d,p){var m=!c[p+1],g=m?o+s-d:c[p+1]-d;if(g<=0)return null;var _=p%r.length;return M.createElement("rect",{key:"react-".concat(p),x:d,y:a,width:g,height:l,stroke:"none",fill:r[_],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var jme=function(e,n){var r=e.xAxis,i=e.width,o=e.height,a=e.offset;return wM(Y1(an(an(an({},Cl.defaultProps),r),{},{ticks:li(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,n)},Mme=function(e,n){var r=e.yAxis,i=e.width,o=e.height,a=e.offset;return wM(Y1(an(an(an({},Cl.defaultProps),r),{},{ticks:li(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,n)},Ga={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function g$(t){var e,n,r,i,o,a,s=K1(),l=G1(),u=Vpe(),c=an(an({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Ga.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Ga.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Ga.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Ga.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:Ga.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:Ga.verticalFill,x:te(t.x)?t.x:u.left,y:te(t.y)?t.y:u.top,width:te(t.width)?t.width:u.width,height:te(t.height)?t.height:u.height}),f=c.x,d=c.y,p=c.width,m=c.height,g=c.syncWithTicks,_=c.horizontalValues,b=c.verticalValues,y=Mpe(),v=$pe();if(!te(p)||p<=0||!te(m)||m<=0||!te(f)||f!==+f||!te(d)||d!==+d)return null;var x=c.verticalCoordinatesGenerator||jme,T=c.horizontalCoordinatesGenerator||Mme,O=c.horizontalPoints,S=c.verticalPoints;if((!O||!O.length)&&be(T)){var E=_&&_.length,I=T({yAxis:v?an(an({},v),{},{ticks:E?_:v.ticks}):void 0,width:s,height:l,offset:u},E?!0:g);br(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Aa(I),"]")),Array.isArray(I)&&(O=I)}if((!S||!S.length)&&be(x)){var C=b&&b.length,R=x({xAxis:y?an(an({},y),{},{ticks:C?b:y.ticks}):void 0,width:s,height:l,offset:u},C?!0:g);br(Array.isArray(R),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Aa(R),"]")),Array.isArray(R)&&(S=R)}return M.createElement("g",{className:"recharts-cartesian-grid"},M.createElement(Cme,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height}),M.createElement(kme,ra({},c,{offset:u,horizontalPoints:O,xAxis:y,yAxis:v})),M.createElement(Rme,ra({},c,{offset:u,verticalPoints:S,xAxis:y,yAxis:v})),M.createElement(Nme,ra({},c,{horizontalPoints:O})),M.createElement(Dme,ra({},c,{verticalPoints:S})))}g$.displayName="CartesianGrid";function j_(){return j_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j_.apply(this,arguments)}var gg=function(e){var n=e.xAxisId,r=K1(),i=G1(),o=c$(n);return o==null?null:M.createElement(Cl,j_({},o,{className:Ae("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return li(s,!0)}}))};gg.displayName="XAxis";gg.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};function M_(){return M_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M_.apply(this,arguments)}var yg=function(e){var n=e.yAxisId,r=K1(),i=G1(),o=f$(n);return o==null?null:M.createElement(Cl,M_({},o,{className:Ae("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return li(s,!0)}}))};yg.displayName="YAxis";yg.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};function EO(t){return Fme(t)||Vme(t)||Lme(t)||$me()}function $me(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lme(t,e){if(t){if(typeof t=="string")return $_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $_(t,e)}}function Vme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Fme(t){if(Array.isArray(t))return $_(t)}function $_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var L_=function(e,n,r,i,o){var a=or(e,X1),s=or(e,Mf),l=[].concat(EO(a),EO(s)),u=or(e,$f),c="".concat(i,"Id"),f=i[0],d=n;if(l.length&&(d=l.reduce(function(g,_){if(_.props[c]===r&&zr(_.props,"extendDomain")&&te(_.props[f])){var b=_.props[f];return[Math.min(g[0],b),Math.max(g[1],b)]}return g},d)),u.length){var p="".concat(f,"1"),m="".concat(f,"2");d=u.reduce(function(g,_){if(_.props[c]===r&&zr(_.props,"extendDomain")&&te(_.props[p])&&te(_.props[m])){var b=_.props[p],y=_.props[m];return[Math.min(g[0],b,y),Math.max(g[1],b,y)]}return g},d)}return o&&o.length&&(d=o.reduce(function(g,_){return te(_)?[Math.min(g[0],_),Math.max(g[1],_)]:g},d)),d},y$={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,f,d){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,f||l,d),m=n?n+u:u;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,p=f.length,m=new Array(p);d<p;d++)m[d]=f[d].fn;return m},s.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,c,f,d,p,m){var g=n?n+u:u;if(!this._events[g])return!1;var _=this._events[g],b=arguments.length,y,v;if(_.fn){switch(_.once&&this.removeListener(u,_.fn,void 0,!0),b){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,c),!0;case 3:return _.fn.call(_.context,c,f),!0;case 4:return _.fn.call(_.context,c,f,d),!0;case 5:return _.fn.call(_.context,c,f,d,p),!0;case 6:return _.fn.call(_.context,c,f,d,p,m),!0}for(v=1,y=new Array(b-1);v<b;v++)y[v-1]=arguments[v];_.fn.apply(_.context,y)}else{var x=_.length,T;for(v=0;v<x;v++)switch(_[v].once&&this.removeListener(u,_[v].fn,void 0,!0),b){case 1:_[v].fn.call(_[v].context);break;case 2:_[v].fn.call(_[v].context,c);break;case 3:_[v].fn.call(_[v].context,c,f);break;case 4:_[v].fn.call(_[v].context,c,f,d);break;default:if(!y)for(T=1,y=new Array(b-1);T<b;T++)y[T-1]=arguments[T];_[v].fn.apply(_[v].context,y)}}return!0},s.prototype.on=function(u,c,f){return o(this,u,c,f,!1)},s.prototype.once=function(u,c,f){return o(this,u,c,f,!0)},s.prototype.removeListener=function(u,c,f,d){var p=n?n+u:u;if(!this._events[p])return this;if(!c)return a(this,p),this;var m=this._events[p];if(m.fn)m.fn===c&&(!d||m.once)&&(!f||m.context===f)&&a(this,p);else{for(var g=0,_=[],b=m.length;g<b;g++)(m[g].fn!==c||d&&!m[g].once||f&&m[g].context!==f)&&_.push(m[g]);_.length?this._events[p]=_.length===1?_[0]:_:a(this,p)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&a(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(y$);var Ume=y$.exports;const Bme=Be(Ume);var Gy=new Bme,Xy="recharts.syncMouseEvents";function sf(t){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sf(t)}function zme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,v$(r.key),r)}}function qme(t,e,n){return e&&Wme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yy(t,e,n){return e=v$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v$(t){var e=Hme(t,"string");return sf(e)=="symbol"?e:String(e)}function Hme(t,e){if(sf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kme=function(){function t(){zme(this,t),Yy(this,"activeIndex",0),Yy(this,"coordinateList",[]),Yy(this,"layout","horizontal")}return qme(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,u=l===void 0?null:l,c=n.offset,f=c===void 0?null:c,d=n.mouseHandlerCallback,p=d===void 0?null:d;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+u,d=a+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:f,pageY:d})}}}]),t}();function Gme(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&te(r)&&te(i))return!0}return!1}function Xme(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function _$(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=Qe(e,n,r,i),s=Qe(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function Yme(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,f=e.angle,d=Qe(s,l,u,f),p=Qe(s,l,c,f);r=d.x,i=d.y,o=p.x,a=p.y}else return _$(e);return[{x:r,y:i},{x:o,y:a}]}function lf(t){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lf(t)}function SO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $h(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SO(Object(n),!0).forEach(function(r){Qme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qme(t,e,n){return e=Jme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jme(t){var e=Zme(t,"string");return lf(e)=="symbol"?e:String(e)}function Zme(t,e){if(lf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ege(t){var e=t.element,n=t.tooltipEventType,r=t.isActive,i=t.activeCoordinate,o=t.activePayload,a=t.offset,s=t.activeTooltipIndex,l=t.tooltipAxisBandSize,u=t.layout,c=t.chartName;if(!e||!e.props.cursor||!r||!i||c!=="ScatterChart"&&n!=="axis")return null;var f,d=h_;if(c==="ScatterChart")f=i,d=pfe;else if(c==="BarChart")f=Xme(u,i,a,l),d=B1;else if(u==="radial"){var p=_$(i),m=p.cx,g=p.cy,_=p.radius,b=p.startAngle,y=p.endAngle;f={cx:m,cy:g,startAngle:b,endAngle:y,innerRadius:_,outerRadius:_},d=kM}else f={points:Yme(u,i,a)},d=h_;var v=$h($h($h($h({stroke:"#ccc",pointerEvents:"none"},a),f),ye(e.props.cursor,!1)),{},{payload:o,payloadIndex:s,className:Ae("recharts-tooltip-cursor",e.props.cursor.className)});return j.isValidElement(e.props.cursor)?j.cloneElement(e.props.cursor,v):j.createElement(d,v)}var tge=["item"],nge=["children","className","width","height","style","compact","title","desc"];function ol(t){"@babel/helpers - typeof";return ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ol(t)}function qu(){return qu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qu.apply(this,arguments)}function TO(t,e){return oge(t)||ige(t,e)||b$(t,e)||rge()}function rge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ige(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function oge(t){if(Array.isArray(t))return t}function AO(t,e){if(t==null)return{};var n=age(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function age(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function sge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,x$(r.key),r)}}function uge(t,e,n){return e&&lge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cge(t,e,n){return e=Up(e),fge(t,w$()?Reflect.construct(e,n||[],Up(t).constructor):e.apply(t,n))}function fge(t,e){if(e&&(ol(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Re(t)}function w$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w$=function(){return!!t})()}function Up(t){return Up=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Up(t)}function Re(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V_(t,e)}function V_(t,e){return V_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},V_(t,e)}function al(t){return mge(t)||pge(t)||b$(t)||dge()}function dge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b$(t,e){if(t){if(typeof t=="string")return F_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F_(t,e)}}function pge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mge(t){if(Array.isArray(t))return F_(t)}function F_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function PO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function q(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PO(Object(n),!0).forEach(function(r){me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function me(t,e,n){return e=x$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x$(t){var e=gge(t,"string");return ol(e)=="symbol"?e:String(e)}function gge(t,e){if(ol(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ol(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yge={xAxis:["bottom","top"],yAxis:["left","right"]},vge={width:"100%",height:"100%"},E$={x:0,y:0};function Lh(t){return t}var _ge=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},wge=function(e,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return q(q(q({},i),Qe(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,u=i.angle;return q(q(q({},i),Qe(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return E$},vg=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(al(s),al(u)):s},[]);return a.length>0?a:e&&e.length&&te(i)&&te(o)?e.slice(i,o+1):[]};function S$(t){return t==="number"?[0,"auto"]:void 0}var U_=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,s=vg(n,e);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,u){var c,f=(c=u.props.data)!==null&&c!==void 0?c:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var d;if(a.dataKey&&!a.allowDuplicatedCategory){var p=f===void 0?s:f;d=w0(p,a.dataKey,i)}else d=f&&f[r]||s[r];return d?[].concat(al(l),[TM(u,d)]):l},[])},IO=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=_ge(o,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=Zse(a,s,u,l);if(c>=0&&u){var f=u[c]&&u[c].value,d=U_(e,n,c,f),p=wge(r,s,c,o);return{activeTooltipIndex:c,activeLabel:f,activePayload:d,activeCoordinate:p}}return null},bge=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,d=e.stackOffset,p=_M(c,o);return r.reduce(function(m,g){var _,b=g.props,y=b.type,v=b.dataKey,x=b.allowDataOverflow,T=b.allowDuplicatedCategory,O=b.scale,S=b.ticks,E=b.includeHidden,I=g.props[a];if(m[I])return m;var C=vg(e.data,{graphicalItems:i.filter(function(ee){return ee.props[a]===I}),dataStartIndex:l,dataEndIndex:u}),R=C.length,D,k,V;Gme(g.props.domain,x,y)&&(D=s_(g.props.domain,null,x),p&&(y==="number"||O!=="auto")&&(V=Uu(C,v,"category")));var B=S$(y);if(!D||D.length===0){var U,W=(U=g.props.domain)!==null&&U!==void 0?U:B;if(v){if(D=Uu(C,v,y),y==="category"&&p){var $=eK(D);T&&$?(k=D,D=Dp(0,R)):T||(D=ZP(W,D,g).reduce(function(ee,ue){return ee.indexOf(ue)>=0?ee:[].concat(al(ee),[ue])},[]))}else if(y==="category")T?D=D.filter(function(ee){return ee!==""&&!Pe(ee)}):D=ZP(W,D,g).reduce(function(ee,ue){return ee.indexOf(ue)>=0||ue===""||Pe(ue)?ee:[].concat(al(ee),[ue])},[]);else if(y==="number"){var z=ile(C,i.filter(function(ee){return ee.props[a]===I&&(E||!ee.props.hide)}),v,o,c);z&&(D=z)}p&&(y==="number"||O!=="auto")&&(V=Uu(C,v,"category"))}else p?D=Dp(0,R):s&&s[I]&&s[I].hasStack&&y==="number"?D=d==="expand"?[0,1]:SM(s[I].stackGroups,l,u):D=vM(C,i.filter(function(ee){return ee.props[a]===I&&(E||!ee.props.hide)}),y,c,!0);if(y==="number")D=L_(f,D,I,o,S),W&&(D=s_(W,D,x));else if(y==="category"&&W){var G=W,re=D.every(function(ee){return G.indexOf(ee)>=0});re&&(D=G)}}return q(q({},m),{},me({},I,q(q({},g.props),{},{axisType:o,domain:D,categoricalDomain:V,duplicateDomain:k,originalDomain:(_=g.props.domain)!==null&&_!==void 0?_:B,isCategorical:p,layout:c})))},{})},xge=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,d=vg(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),p=d.length,m=_M(c,o),g=-1;return r.reduce(function(_,b){var y=b.props[a],v=S$("number");if(!_[y]){g++;var x;return m?x=Dp(0,p):s&&s[y]&&s[y].hasStack?(x=SM(s[y].stackGroups,l,u),x=L_(f,x,y,o)):(x=s_(v,vM(d,r.filter(function(T){return T.props[a]===y&&!T.props.hide}),"number",c),i.defaultProps.allowDataOverflow),x=L_(f,x,y,o)),q(q({},_),{},me({},y,q(q({axisType:o},i.defaultProps),{},{hide:!0,orientation:Bn(yge,"".concat(o,".").concat(g%2),null),domain:x,originalDomain:v,isCategorical:m,layout:c})))}return _},{})},Ege=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,f="".concat(i,"Id"),d=or(c,o),p={};return d&&d.length?p=bge(e,{axes:d,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):a&&a.length&&(p=xge(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),p},Sge=function(e){var n=Yi(e),r=li(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:m1(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:xp(n,r)}},OO=function(e){var n=e.children,r=e.defaultShowTooltip,i=Mn(n,nl),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},Tge=function(e){return!e||!e.length?!1:e.some(function(n){var r=hi(n&&n.type);return r&&r.indexOf("Bar")>=0})},CO=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Age=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,c=r.height,f=r.children,d=r.margin||{},p=Mn(f,nl),m=Mn(f,Tc),g=Object.keys(l).reduce(function(T,O){var S=l[O],E=S.orientation;return!S.mirror&&!S.hide?q(q({},T),{},me({},E,T[E]+S.width)):T},{left:d.left||0,right:d.right||0}),_=Object.keys(a).reduce(function(T,O){var S=a[O],E=S.orientation;return!S.mirror&&!S.hide?q(q({},T),{},me({},E,Bn(T,"".concat(E))+S.height)):T},{top:d.top||0,bottom:d.bottom||0}),b=q(q({},_),g),y=b.bottom;p&&(b.bottom+=p.props.height||nl.defaultProps.height),m&&n&&(b=nle(b,i,r,n));var v=u-b.left-b.right,x=c-b.top-b.bottom;return q(q({brushBottom:y},b),{},{width:Math.max(v,0),height:Math.max(x,0)})},Pge=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},T$=function(e){var n,r=e.chartName,i=e.GraphicalChild,o=e.defaultTooltipEventType,a=o===void 0?"axis":o,s=e.validateTooltipEventTypes,l=s===void 0?["axis"]:s,u=e.axisComponents,c=e.legendContent,f=e.formatAxisMap,d=e.defaultProps,p=function(_,b){var y=b.graphicalItems,v=b.stackGroups,x=b.offset,T=b.updateId,O=b.dataStartIndex,S=b.dataEndIndex,E=_.barSize,I=_.layout,C=_.barGap,R=_.barCategoryGap,D=_.maxBarSize,k=CO(I),V=k.numericAxisName,B=k.cateAxisName,U=Tge(y),W=[];return y.forEach(function($,z){var G=vg(_.data,{graphicalItems:[$],dataStartIndex:O,dataEndIndex:S}),re=$.props,ee=re.dataKey,ue=re.maxBarSize,De=$.props["".concat(V,"Id")],We=$.props["".concat(B,"Id")],yt={},Le=u.reduce(function(Ee,Te){var Kn=b["".concat(Te.axisType,"Map")],bt=$.props["".concat(Te.axisType,"Id")];Kn&&Kn[bt]||Te.axisType==="zAxis"||Ta();var Ri=Kn[bt];return q(q({},Ee),{},me(me({},Te.axisType,Ri),"".concat(Te.axisType,"Ticks"),li(Ri)))},yt),cn=Le[B],ie=Le["".concat(B,"Ticks")],he=v&&v[De]&&v[De].hasStack&&dle($,v[De].stackGroups),ve=hi($.type).indexOf("Bar")>=0,K=xp(cn,ie),Ve=[],Se=U&&ele({barSize:E,stackGroups:v,totalSize:Pge(Le,B)});if(ve){var Q,de,J=Pe(ue)?D:ue,oe=(Q=(de=xp(cn,ie,!0))!==null&&de!==void 0?de:J)!==null&&Q!==void 0?Q:0;Ve=tle({barGap:C,barCategoryGap:R,bandSize:oe!==K?oe:K,sizeList:Se[We],maxBarSize:J}),oe!==K&&(Ve=Ve.map(function(Ee){return q(q({},Ee),{},{position:q(q({},Ee.position),{},{offset:Ee.position.offset-oe/2})})}))}var pe=$&&$.type&&$.type.getComposedData;pe&&W.push({props:q(q({},pe(q(q({},Le),{},{displayedData:G,props:_,dataKey:ee,item:$,bandSize:K,barPosition:Ve,offset:x,stackedData:he,layout:I,dataStartIndex:O,dataEndIndex:S}))),{},me(me(me({key:$.key||"item-".concat(z)},V,Le[V]),B,Le[B]),"animationId",T)),childIndex:fK($,_.children),item:$})}),W},m=function(_,b){var y=_.props,v=_.dataStartIndex,x=_.dataEndIndex,T=_.updateId;if(!KT({props:y}))return null;var O=y.children,S=y.layout,E=y.stackOffset,I=y.data,C=y.reverseStackOrder,R=CO(S),D=R.numericAxisName,k=R.cateAxisName,V=or(O,i),B=fle(I,V,"".concat(D,"Id"),"".concat(k,"Id"),E,C),U=u.reduce(function(re,ee){var ue="".concat(ee.axisType,"Map");return q(q({},re),{},me({},ue,Ege(y,q(q({},ee),{},{graphicalItems:V,stackGroups:ee.axisType===D&&B,dataStartIndex:v,dataEndIndex:x}))))},{}),W=Age(q(q({},U),{},{props:y,graphicalItems:V}),b==null?void 0:b.legendBBox);Object.keys(U).forEach(function(re){U[re]=f(y,U[re],W,re.replace("Map",""),r)});var $=U["".concat(k,"Map")],z=Sge($),G=p(y,q(q({},U),{},{dataStartIndex:v,dataEndIndex:x,updateId:T,graphicalItems:V,stackGroups:B,offset:W}));return q(q({formattedGraphicalItems:G,graphicalItems:V,offset:W,stackGroups:B},z),U)};return n=function(g){hge(_,g);function _(b){var y,v,x;return sge(this,_),x=cge(this,_,[b]),me(Re(x),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),me(Re(x),"accessibilityManager",new Kme),me(Re(x),"handleLegendBBoxUpdate",function(T){if(T){var O=x.state,S=O.dataStartIndex,E=O.dataEndIndex,I=O.updateId;x.setState(q({legendBBox:T},m({props:x.props,dataStartIndex:S,dataEndIndex:E,updateId:I},q(q({},x.state),{},{legendBBox:T}))))}}),me(Re(x),"handleReceiveSyncEvent",function(T,O,S){if(x.props.syncId===T){if(S===x.eventEmitterSymbol&&typeof x.props.syncMethod!="function")return;x.applySyncEvent(O)}}),me(Re(x),"handleBrushChange",function(T){var O=T.startIndex,S=T.endIndex;if(O!==x.state.dataStartIndex||S!==x.state.dataEndIndex){var E=x.state.updateId;x.setState(function(){return q({dataStartIndex:O,dataEndIndex:S},m({props:x.props,dataStartIndex:O,dataEndIndex:S,updateId:E},x.state))}),x.triggerSyncEvent({dataStartIndex:O,dataEndIndex:S})}}),me(Re(x),"handleMouseEnter",function(T){var O=x.getMouseInfo(T);if(O){var S=q(q({},O),{},{isTooltipActive:!0});x.setState(S),x.triggerSyncEvent(S);var E=x.props.onMouseEnter;be(E)&&E(S,T)}}),me(Re(x),"triggeredAfterMouseMove",function(T){var O=x.getMouseInfo(T),S=O?q(q({},O),{},{isTooltipActive:!0}):{isTooltipActive:!1};x.setState(S),x.triggerSyncEvent(S);var E=x.props.onMouseMove;be(E)&&E(S,T)}),me(Re(x),"handleItemMouseEnter",function(T){x.setState(function(){return{isTooltipActive:!0,activeItem:T,activePayload:T.tooltipPayload,activeCoordinate:T.tooltipPosition||{x:T.cx,y:T.cy}}})}),me(Re(x),"handleItemMouseLeave",function(){x.setState(function(){return{isTooltipActive:!1}})}),me(Re(x),"handleMouseMove",function(T){T.persist(),x.throttleTriggeredAfterMouseMove(T)}),me(Re(x),"handleMouseLeave",function(T){x.throttleTriggeredAfterMouseMove.cancel();var O={isTooltipActive:!1};x.setState(O),x.triggerSyncEvent(O);var S=x.props.onMouseLeave;be(S)&&S(O,T)}),me(Re(x),"handleOuterEvent",function(T){var O=cK(T),S=Bn(x.props,"".concat(O));if(O&&be(S)){var E,I;/.*touch.*/i.test(O)?I=x.getMouseInfo(T.changedTouches[0]):I=x.getMouseInfo(T),S((E=I)!==null&&E!==void 0?E:{},T)}}),me(Re(x),"handleClick",function(T){var O=x.getMouseInfo(T);if(O){var S=q(q({},O),{},{isTooltipActive:!0});x.setState(S),x.triggerSyncEvent(S);var E=x.props.onClick;be(E)&&E(S,T)}}),me(Re(x),"handleMouseDown",function(T){var O=x.props.onMouseDown;if(be(O)){var S=x.getMouseInfo(T);O(S,T)}}),me(Re(x),"handleMouseUp",function(T){var O=x.props.onMouseUp;if(be(O)){var S=x.getMouseInfo(T);O(S,T)}}),me(Re(x),"handleTouchMove",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&x.throttleTriggeredAfterMouseMove(T.changedTouches[0])}),me(Re(x),"handleTouchStart",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&x.handleMouseDown(T.changedTouches[0])}),me(Re(x),"handleTouchEnd",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&x.handleMouseUp(T.changedTouches[0])}),me(Re(x),"triggerSyncEvent",function(T){x.props.syncId!==void 0&&Gy.emit(Xy,x.props.syncId,T,x.eventEmitterSymbol)}),me(Re(x),"applySyncEvent",function(T){var O=x.props,S=O.layout,E=O.syncMethod,I=x.state.updateId,C=T.dataStartIndex,R=T.dataEndIndex;if(T.dataStartIndex!==void 0||T.dataEndIndex!==void 0)x.setState(q({dataStartIndex:C,dataEndIndex:R},m({props:x.props,dataStartIndex:C,dataEndIndex:R,updateId:I},x.state)));else if(T.activeTooltipIndex!==void 0){var D=T.chartX,k=T.chartY,V=T.activeTooltipIndex,B=x.state,U=B.offset,W=B.tooltipTicks;if(!U)return;if(typeof E=="function")V=E(W,T);else if(E==="value"){V=-1;for(var $=0;$<W.length;$++)if(W[$].value===T.activeLabel){V=$;break}}var z=q(q({},U),{},{x:U.left,y:U.top}),G=Math.min(D,z.x+z.width),re=Math.min(k,z.y+z.height),ee=W[V]&&W[V].value,ue=U_(x.state,x.props.data,V),De=W[V]?{x:S==="horizontal"?W[V].coordinate:G,y:S==="horizontal"?re:W[V].coordinate}:E$;x.setState(q(q({},T),{},{activeLabel:ee,activeCoordinate:De,activePayload:ue,activeTooltipIndex:V}))}else x.setState(T)}),me(Re(x),"renderCursor",function(T){var O,S=x.state,E=S.isTooltipActive,I=S.activeCoordinate,C=S.activePayload,R=S.offset,D=S.activeTooltipIndex,k=S.tooltipAxisBandSize,V=x.getTooltipEventType(),B=(O=T.props.active)!==null&&O!==void 0?O:E,U=x.props.layout,W=T.key||"_recharts-cursor";return M.createElement(ege,{key:W,activeCoordinate:I,activePayload:C,activeTooltipIndex:D,chartName:r,element:T,isActive:B,layout:U,offset:R,tooltipAxisBandSize:k,tooltipEventType:V})}),me(Re(x),"renderPolarAxis",function(T,O,S){var E=Bn(T,"type.axisType"),I=Bn(x.state,"".concat(E,"Map")),C=I&&I[T.props["".concat(E,"Id")]];return j.cloneElement(T,q(q({},C),{},{className:Ae(E,C.className),key:T.key||"".concat(O,"-").concat(S),ticks:li(C,!0)}))}),me(Re(x),"renderPolarGrid",function(T){var O=T.props,S=O.radialLines,E=O.polarAngles,I=O.polarRadius,C=x.state,R=C.radiusAxisMap,D=C.angleAxisMap,k=Yi(R),V=Yi(D),B=V.cx,U=V.cy,W=V.innerRadius,$=V.outerRadius;return j.cloneElement(T,{polarAngles:Array.isArray(E)?E:li(V,!0).map(function(z){return z.coordinate}),polarRadius:Array.isArray(I)?I:li(k,!0).map(function(z){return z.coordinate}),cx:B,cy:U,innerRadius:W,outerRadius:$,key:T.key||"polar-grid",radialLines:S})}),me(Re(x),"renderLegend",function(){var T=x.state.formattedGraphicalItems,O=x.props,S=O.children,E=O.width,I=O.height,C=x.props.margin||{},R=E-(C.left||0)-(C.right||0),D=gM({children:S,formattedGraphicalItems:T,legendWidth:R,legendContent:c});if(!D)return null;var k=D.item,V=AO(D,tge);return j.cloneElement(k,q(q({},V),{},{chartWidth:E,chartHeight:I,margin:C,onBBoxUpdate:x.handleLegendBBoxUpdate}))}),me(Re(x),"renderTooltip",function(){var T,O=x.props,S=O.children,E=O.accessibilityLayer,I=Mn(S,Cr);if(!I)return null;var C=x.state,R=C.isTooltipActive,D=C.activeCoordinate,k=C.activePayload,V=C.activeLabel,B=C.offset,U=(T=I.props.active)!==null&&T!==void 0?T:R;return j.cloneElement(I,{viewBox:q(q({},B),{},{x:B.left,y:B.top}),active:U,label:V,payload:U?k:[],coordinate:D,accessibilityLayer:E})}),me(Re(x),"renderBrush",function(T){var O=x.props,S=O.margin,E=O.data,I=x.state,C=I.offset,R=I.dataStartIndex,D=I.dataEndIndex,k=I.updateId;return j.cloneElement(T,{key:T.key||"_recharts-brush",onChange:Nh(x.handleBrushChange,T.props.onChange),data:E,x:te(T.props.x)?T.props.x:C.left,y:te(T.props.y)?T.props.y:C.top+C.height+C.brushBottom-(S.bottom||0),width:te(T.props.width)?T.props.width:C.width,startIndex:R,endIndex:D,updateId:"brush-".concat(k)})}),me(Re(x),"renderReferenceElement",function(T,O,S){if(!T)return null;var E=Re(x),I=E.clipPathId,C=x.state,R=C.xAxisMap,D=C.yAxisMap,k=C.offset,V=T.props,B=V.xAxisId,U=V.yAxisId;return j.cloneElement(T,{key:T.key||"".concat(O,"-").concat(S),xAxis:R[B],yAxis:D[U],viewBox:{x:k.left,y:k.top,width:k.width,height:k.height},clipPathId:I})}),me(Re(x),"renderActivePoints",function(T){var O=T.item,S=T.activePoint,E=T.basePoint,I=T.childIndex,C=T.isRange,R=[],D=O.props.key,k=O.item.props,V=k.activeDot,B=k.dataKey,U=q(q({index:I,dataKey:B,cx:S.x,cy:S.y,r:4,fill:U1(O.item),strokeWidth:2,stroke:"#fff",payload:S.payload,value:S.value,key:"".concat(D,"-activePoint-").concat(I)},ye(V,!1)),Yd(V));return R.push(_.renderActiveDot(V,U)),E?R.push(_.renderActiveDot(V,q(q({},U),{},{cx:E.x,cy:E.y,key:"".concat(D,"-basePoint-").concat(I)}))):C&&R.push(null),R}),me(Re(x),"renderGraphicChild",function(T,O,S){var E=x.filterFormatItem(T,O,S);if(!E)return null;var I=x.getTooltipEventType(),C=x.state,R=C.isTooltipActive,D=C.tooltipAxis,k=C.activeTooltipIndex,V=C.activeLabel,B=x.props.children,U=Mn(B,Cr),W=E.props,$=W.points,z=W.isRange,G=W.baseLine,re=E.item.props,ee=re.activeDot,ue=re.hide,De=re.activeBar,We=re.activeShape,yt=!!(!ue&&R&&U&&(ee||De||We)),Le={};I!=="axis"&&U&&U.props.trigger==="click"?Le={onClick:Nh(x.handleItemMouseEnter,T.props.onClick)}:I!=="axis"&&(Le={onMouseLeave:Nh(x.handleItemMouseLeave,T.props.onMouseLeave),onMouseEnter:Nh(x.handleItemMouseEnter,T.props.onMouseEnter)});var cn=j.cloneElement(T,q(q({},E.props),Le));function ie(Te){return typeof D.dataKey=="function"?D.dataKey(Te.payload):null}if(yt)if(k>=0){var he,ve;if(D.dataKey&&!D.allowDuplicatedCategory){var K=typeof D.dataKey=="function"?ie:"payload.".concat(D.dataKey.toString());he=w0($,K,V),ve=z&&G&&w0(G,K,V)}else he=$==null?void 0:$[k],ve=z&&G&&G[k];if(We||De){var Ve=T.props.activeIndex!==void 0?T.props.activeIndex:k;return[j.cloneElement(T,q(q(q({},E.props),Le),{},{activeIndex:Ve})),null,null]}if(!Pe(he))return[cn].concat(al(x.renderActivePoints({item:E,activePoint:he,basePoint:ve,childIndex:k,isRange:z})))}else{var Se,Q=(Se=x.getItemByXY(x.state.activeCoordinate))!==null&&Se!==void 0?Se:{graphicalItem:cn},de=Q.graphicalItem,J=de.item,oe=J===void 0?T:J,pe=de.childIndex,Ee=q(q(q({},E.props),Le),{},{activeIndex:pe});return[j.cloneElement(oe,Ee),null,null]}return z?[cn,null,null]:[cn,null]}),me(Re(x),"renderCustomized",function(T,O,S){return j.cloneElement(T,q(q({key:"recharts-customized-".concat(S)},x.props),x.state))}),me(Re(x),"renderMap",{CartesianGrid:{handler:Lh,once:!0},ReferenceArea:{handler:x.renderReferenceElement},ReferenceLine:{handler:Lh},ReferenceDot:{handler:x.renderReferenceElement},XAxis:{handler:Lh},YAxis:{handler:Lh},Brush:{handler:x.renderBrush,once:!0},Bar:{handler:x.renderGraphicChild},Line:{handler:x.renderGraphicChild},Area:{handler:x.renderGraphicChild},Radar:{handler:x.renderGraphicChild},RadialBar:{handler:x.renderGraphicChild},Scatter:{handler:x.renderGraphicChild},Pie:{handler:x.renderGraphicChild},Funnel:{handler:x.renderGraphicChild},Tooltip:{handler:x.renderCursor,once:!0},PolarGrid:{handler:x.renderPolarGrid,once:!0},PolarAngleAxis:{handler:x.renderPolarAxis},PolarRadiusAxis:{handler:x.renderPolarAxis},Customized:{handler:x.renderCustomized}}),x.clipPathId="".concat((y=b.id)!==null&&y!==void 0?y:Cf("recharts"),"-clip"),x.throttleTriggeredAfterMouseMove=yj(x.triggeredAfterMouseMove,(v=b.throttleDelay)!==null&&v!==void 0?v:1e3/60),x.state={},x}return uge(_,[{key:"componentDidMount",value:function(){var y,v;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(y=this.props.margin.left)!==null&&y!==void 0?y:0,top:(v=this.props.margin.top)!==null&&v!==void 0?v:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var y=this.props,v=y.children,x=y.data,T=y.height,O=y.layout,S=Mn(v,Cr);if(S){var E=S.props.defaultIndex;if(!(typeof E!="number"||E<0||E>this.state.tooltipTicks.length)){var I=this.state.tooltipTicks[E]&&this.state.tooltipTicks[E].value,C=U_(this.state,x,E,I),R=this.state.tooltipTicks[E].coordinate,D=(this.state.offset.top+T)/2,k=O==="horizontal",V=k?{x:R,y:D}:{y:R,x:D},B=this.state.formattedGraphicalItems.find(function(W){var $=W.item;return $.type.name==="Scatter"});B&&(V=q(q({},V),B.props.points[E].tooltipPosition),C=B.props.points[E].tooltipPayload);var U={activeTooltipIndex:E,isTooltipActive:!0,activeLabel:I,activePayload:C,activeCoordinate:V};this.setState(U),this.renderCursor(S),this.accessibilityManager.setIndex(E)}}}},{key:"getSnapshotBeforeUpdate",value:function(y,v){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==v.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==y.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==y.margin){var x,T;this.accessibilityManager.setDetails({offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0}})}return null}},{key:"componentDidUpdate",value:function(y){x0([Mn(y.children,Cr)],[Mn(this.props.children,Cr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var y=Mn(this.props.children,Cr);if(y&&typeof y.props.shared=="boolean"){var v=y.props.shared?"axis":"item";return l.indexOf(v)>=0?v:a}return a}},{key:"getMouseInfo",value:function(y){if(!this.container)return null;var v=this.container,x=v.getBoundingClientRect(),T=jre(x),O={chartX:Math.round(y.pageX-T.left),chartY:Math.round(y.pageY-T.top)},S=x.width/v.offsetWidth||1,E=this.inRange(O.chartX,O.chartY,S);if(!E)return null;var I=this.state,C=I.xAxisMap,R=I.yAxisMap,D=this.getTooltipEventType();if(D!=="axis"&&C&&R){var k=Yi(C).scale,V=Yi(R).scale,B=k&&k.invert?k.invert(O.chartX):null,U=V&&V.invert?V.invert(O.chartY):null;return q(q({},O),{},{xValue:B,yValue:U})}var W=IO(this.state,this.props.data,this.props.layout,E);return W?q(q({},O),W):null}},{key:"inRange",value:function(y,v){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,T=this.props.layout,O=y/x,S=v/x;if(T==="horizontal"||T==="vertical"){var E=this.state.offset,I=O>=E.left&&O<=E.left+E.width&&S>=E.top&&S<=E.top+E.height;return I?{x:O,y:S}:null}var C=this.state,R=C.angleAxisMap,D=C.radiusAxisMap;if(R&&D){var k=Yi(R);return nI({x:O,y:S},k)}return null}},{key:"parseEventsOfWrapper",value:function(){var y=this.props.children,v=this.getTooltipEventType(),x=Mn(y,Cr),T={};x&&v==="axis"&&(x.props.trigger==="click"?T={onClick:this.handleClick}:T={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var O=Yd(this.props,this.handleOuterEvent);return q(q({},O),T)}},{key:"addListener",value:function(){Gy.on(Xy,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Gy.removeListener(Xy,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(y,v,x){for(var T=this.state.formattedGraphicalItems,O=0,S=T.length;O<S;O++){var E=T[O];if(E.item===y||E.props.key===y.key||v===hi(E.item.type)&&x===E.childIndex)return E}return null}},{key:"renderClipPath",value:function(){var y=this.clipPathId,v=this.state.offset,x=v.left,T=v.top,O=v.height,S=v.width;return M.createElement("defs",null,M.createElement("clipPath",{id:y},M.createElement("rect",{x,y:T,height:O,width:S})))}},{key:"getXScales",value:function(){var y=this.state.xAxisMap;return y?Object.entries(y).reduce(function(v,x){var T=TO(x,2),O=T[0],S=T[1];return q(q({},v),{},me({},O,S.scale))},{}):null}},{key:"getYScales",value:function(){var y=this.state.yAxisMap;return y?Object.entries(y).reduce(function(v,x){var T=TO(x,2),O=T[0],S=T[1];return q(q({},v),{},me({},O,S.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(y){var v;return(v=this.state.xAxisMap)===null||v===void 0||(v=v[y])===null||v===void 0?void 0:v.scale}},{key:"getYScaleByAxisId",value:function(y){var v;return(v=this.state.yAxisMap)===null||v===void 0||(v=v[y])===null||v===void 0?void 0:v.scale}},{key:"getItemByXY",value:function(y){var v=this.state,x=v.formattedGraphicalItems,T=v.activeItem;if(x&&x.length)for(var O=0,S=x.length;O<S;O++){var E=x[O],I=E.props,C=E.item,R=hi(C.type);if(R==="Bar"){var D=(I.data||[]).find(function(U){return Gce(y,U)});if(D)return{graphicalItem:E,payload:D}}else if(R==="RadialBar"){var k=(I.data||[]).find(function(U){return nI(y,U)});if(k)return{graphicalItem:E,payload:k}}else if(dg(E,T)||pg(E,T)||Jc(E,T)){var V=Mhe({graphicalItem:E,activeTooltipItem:T,itemData:C.props.data}),B=C.props.activeIndex===void 0?V:C.props.activeIndex;return{graphicalItem:q(q({},E),{},{childIndex:B}),payload:Jc(E,T)?C.props.data[V]:E.props.data[V]}}}return null}},{key:"render",value:function(){var y=this;if(!KT(this))return null;var v=this.props,x=v.children,T=v.className,O=v.width,S=v.height,E=v.style,I=v.compact,C=v.title,R=v.desc,D=AO(v,nge),k=ye(D,!1);if(I)return M.createElement(cO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement(S0,qu({},k,{width:O,height:S,title:C,desc:R}),this.renderClipPath(),XT(x,this.renderMap)));if(this.props.accessibilityLayer){var V,B;k.tabIndex=(V=this.props.tabIndex)!==null&&V!==void 0?V:0,k.role=(B=this.props.role)!==null&&B!==void 0?B:"application",k.onKeyDown=function(W){y.accessibilityManager.keyboardEvent(W)},k.onFocus=function(){y.accessibilityManager.focus()}}var U=this.parseEventsOfWrapper();return M.createElement(cO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement("div",qu({className:Ae("recharts-wrapper",T),style:q({position:"relative",cursor:"default",width:O,height:S},E)},U,{ref:function($){y.container=$}}),M.createElement(S0,qu({},k,{width:O,height:S,title:C,desc:R,style:vge}),this.renderClipPath(),XT(x,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}]),_}(j.Component),me(n,"displayName",r),me(n,"defaultProps",q({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),me(n,"getDerivedStateFromProps",function(g,_){var b=g.dataKey,y=g.data,v=g.children,x=g.width,T=g.height,O=g.layout,S=g.stackOffset,E=g.margin,I=_.dataStartIndex,C=_.dataEndIndex;if(_.updateId===void 0){var R=OO(g);return q(q(q({},R),{},{updateId:0},m(q(q({props:g},R),{},{updateId:0}),_)),{},{prevDataKey:b,prevData:y,prevWidth:x,prevHeight:T,prevLayout:O,prevStackOffset:S,prevMargin:E,prevChildren:v})}if(b!==_.prevDataKey||y!==_.prevData||x!==_.prevWidth||T!==_.prevHeight||O!==_.prevLayout||S!==_.prevStackOffset||!As(E,_.prevMargin)){var D=OO(g),k={chartX:_.chartX,chartY:_.chartY,isTooltipActive:_.isTooltipActive},V=q(q({},IO(_,y,O)),{},{updateId:_.updateId+1}),B=q(q(q({},D),k),V);return q(q(q({},B),m(q({props:g},B),_)),{},{prevDataKey:b,prevData:y,prevWidth:x,prevHeight:T,prevLayout:O,prevStackOffset:S,prevMargin:E,prevChildren:v})}if(!x0(v,_.prevChildren)){var U,W,$,z,G=Mn(v,nl),re=G&&(U=(W=G.props)===null||W===void 0?void 0:W.startIndex)!==null&&U!==void 0?U:I,ee=G&&($=(z=G.props)===null||z===void 0?void 0:z.endIndex)!==null&&$!==void 0?$:C,ue=re!==I||ee!==C,De=!Pe(y),We=De&&!ue?_.updateId:_.updateId+1;return q(q({updateId:We},m(q(q({props:g},_),{},{updateId:We,dataStartIndex:re,dataEndIndex:ee}),_)),{},{prevChildren:v,dataStartIndex:re,dataEndIndex:ee})}return null}),me(n,"renderActiveDot",function(g,_){var b;return j.isValidElement(g)?b=j.cloneElement(g,_):be(g)?b=g(_):b=M.createElement(z1,_),M.createElement(Fe,{className:"recharts-active-dot",key:_.key},b)}),n},Ige=T$({chartName:"BarChart",GraphicalChild:Va,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:gg},{axisType:"yAxis",AxisComp:yg}],formatAxisMap:fpe}),Oge=T$({chartName:"PieChart",GraphicalChild:ki,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:hg},{axisType:"radiusAxis",AxisComp:cg}],formatAxisMap:Ele,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const A$=({data:t})=>P.jsx(vj,{width:"100%",height:"100%",children:P.jsxs(Ige,{data:t,children:[P.jsx(g$,{stroke:"#E7E7E7",strokeDasharray:"5 5"}),P.jsx(gg,{dataKey:"name"}),P.jsx(yg,{}),P.jsx(Cr,{cursor:{fill:"#E7E7E7"}}),P.jsx(Va,{type:"monotone",dataKey:"",fill:"#FFC700"})]})});A$.propTypes={data:X.array.isRequired};const P$=({categoryData:t,habitCategories:e})=>{const n=Object.keys(t).map(r=>({name:e.find(i=>i.id===parseInt(r)).name,value:t[r]}));return P.jsx(vj,{width:"100%",height:"100%",children:P.jsx(Oge,{children:P.jsx(ki,{data:n,cx:"50%",cy:"50%",innerRadius:80,outerRadius:160,fill:"#8884d8",dataKey:"value",label:!0,children:n.map((r,i)=>P.jsx(Xm,{fill:e.find(o=>o.name===r.name).color},`cell-${i}`))})})})};P$.propTypes={categoryData:X.object.isRequired,habitCategories:X.array.isRequired};function Cge(){const[t,e]=j.useState(!0),[n,r]=j.useState("week"),[i,o]=j.useState(0),[a,s]=j.useState(0),[l,u]=j.useState(0),[c,f]=j.useState([]),[d,p]=j.useState({}),[m,g]=j.useState([]),{user:_}=j.useContext(ja),b=[{id:0,name:"",color:"#FF6961"},{id:1,name:"",color:"#FFB480"},{id:2,name:"",color:"#FFE552"},{id:3,name:"",color:"#42D6A4"},{id:4,name:"",color:"#08CAD1"},{id:5,name:"",color:"#59ADF6"},{id:6,name:"",color:"#9D94FF"},{id:7,name:"",color:"#C780E8"}];j.useEffect(()=>{(async()=>{if(_&&_.uid){const E=await bc(_.uid);g(E);const{startOfPeriod:I,endOfPeriod:C}=y(n),{completed:R,savings:D,total:k,chartData:V,categoryData:B}=v(E,I,C,n);o(R),s(D),u(k),f(V),p(B)}})()},[_,n]);const y=S=>{const E=new Date;let I,C;return S==="week"?(I=new Date(E.setDate(E.getDate()-E.getDay())),C=new Date(E.setDate(E.getDate()-E.getDay()+6))):S==="month"?(I=new Date(E.getFullYear(),E.getMonth(),1),C=new Date(E.getFullYear(),E.getMonth()+1,0)):(I=new Date(E.getFullYear(),0,1),C=new Date(E.getFullYear(),11,31)),I.setHours(0,0,0,0),C.setHours(23,59,59,999),{startOfPeriod:I,endOfPeriod:C}},v=(S,E,I,C)=>{let R=0,D=0,k=0,V=[],B={};const U={};return S.forEach(W=>{W.status.forEach($=>{const z=new Date($.date);z.setHours(0,0,0,0);const G=new Date;if(G.setHours(0,0,0,0),z<G&&z>=E&&z<=I){const re=x(z,C);U[re]||(U[re]=0),$.completed?R+=1:(U[re]+=Number(W.amount),D+=1,k+=Number(W.amount),B[W.category]||(B[W.category]=0),B[W.category]+=1)}})}),V=Object.keys(U).map(W=>({name:W,:U[W]})),V.sort((W,$)=>{if(C==="week"){const z=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return z.indexOf(W.name)-z.indexOf($.name)}else if(C==="month"){const z=parseInt(W.name.split(" ")[1],10),G=parseInt($.name.split(" ")[1],10);return z-G}else{const z=new Date(Date.parse(W.name+" 1, 2022")).getMonth(),G=new Date(Date.parse($.name+" 1, 2022")).getMonth();return z-G}}),{completed:R,savings:D,total:k,chartData:V,categoryData:B}},x=(S,E)=>E==="week"?S.toLocaleDateString("zh-TW",{weekday:"short"}):E==="month"?`Week ${Math.ceil(S.getDate()/7)}`:S.toLocaleDateString("zh-TW",{month:"short"}),T=({completed:S,savings:E,total:I})=>P.jsxs("div",{className:"flex justify-between items-center",children:[P.jsxs("div",{className:"text-end",children:[P.jsxs("p",{children:[S," "]}),P.jsx("p",{children:""})]}),P.jsxs("div",{className:"text-end",children:[P.jsxs("p",{children:[E," "]}),P.jsx("p",{children:""})]}),P.jsxs("div",{className:"text-end",children:[P.jsxs("p",{children:["NT$",I]}),P.jsx("p",{children:""})]})]}),O=(S,E,I)=>{const C=[];return S.forEach(R=>{R.status.forEach(D=>{const k=new Date(D.date);k.setHours(0,0,0,0);const V=new Date;V.setHours(0,0,0,0),k<V&&!D.completed&&k>=E&&k<=I&&C.push({id:R.id,title:R.title,date:D.date,amount:R.amount})})}),C.sort((R,D)=>new Date(D.date)-new Date(R.date)),C.slice(0,50).map((R,D)=>P.jsxs("li",{className:"py-2 px-4 grid grid-cols-4 bg-slate-300",children:[P.jsx("p",{children:String(D+1).padStart(2,"0")}),P.jsx("p",{className:"text-center",children:new Date(R.date).toLocaleDateString()}),P.jsx("p",{className:"text-center",children:R.title}),P.jsxs("p",{className:"text-center",children:["NT$",R.amount]})]},R.id+R.date))};return P.jsxs("div",{className:"p-4 space-y-4 mb-16 md:mb-0",children:[P.jsxs("ul",{className:"grid grid-cols-2 w-full",children:[P.jsx("li",{className:`border p-2 text-center ${t?"bg-gray-200":""}`,onClick:()=>e(!0),children:""}),P.jsx("li",{className:`border p-2 text-center ${t?"":"bg-gray-200"}`,onClick:()=>e(!1),children:""})]}),t?P.jsxs("div",{children:[P.jsxs("div",{className:"p-4 border space-y-4",children:[P.jsxs("div",{className:"flex justify-between items-center",children:[P.jsx("h2",{children:""}),P.jsxs("select",{className:"border",value:n,onChange:S=>r(S.target.value),children:[P.jsx("option",{value:"week",children:""}),P.jsx("option",{value:"month",children:""}),P.jsx("option",{value:"all",children:""})]})]}),T({completed:i,savings:a,total:l}),P.jsx("div",{className:"w-full h-52",children:P.jsx(A$,{data:c})})]}),P.jsxs("ul",{className:"space-y-2 mt-4",children:[P.jsxs("li",{className:"py-2 px-4 grid grid-cols-4 border",children:[P.jsx("p",{children:""}),P.jsx("p",{className:"text-center",children:""}),P.jsx("p",{className:"text-center",children:""}),P.jsx("p",{className:"text-center",children:""})]}),O(m,y(n).startOfPeriod,y(n).endOfPeriod)]}),P.jsx("p",{className:"text-center mt-2",children:" 50 "})]}):P.jsxs("div",{className:"p-4 border space-y-4 min-h-screen",children:[P.jsxs("div",{className:"flex justify-between items-center",children:[P.jsx("h2",{children:""}),P.jsxs("select",{className:"border",value:n,onChange:S=>r(S.target.value),children:[P.jsx("option",{value:"week",children:""}),P.jsx("option",{value:"month",children:""}),P.jsx("option",{value:"all",children:""})]})]}),a===0?P.jsx("p",{children:""}):P.jsxs("div",{children:[P.jsx("div",{className:"w-full h-[400px]",children:P.jsx(P$,{categoryData:d,habitCategories:b})}),P.jsx("ul",{className:"space-y-3",children:b.map(S=>P.jsxs("li",{className:"flex justify-between items-center",children:[P.jsxs("div",{className:"flex items-center gap-3",children:[P.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:S.color}}),P.jsx("p",{children:S.name})]}),P.jsxs("p",{children:[((d[S.id]||0)/Object.values(d).reduce((E,I)=>E+I,0)*100).toFixed(1)," %"]})]},S.id))})]})]})]})}const I$=["","","",""],kge=["","","",""],kO=()=>{const t=new Date(new Date().getFullYear(),0,1);return(Math.ceil(((new Date-t)/(24*60*60*1e3)+t.getDay()+1)/7)-1)%I$.length};function Rge(){var d,p;const[t,e]=j.useState("habit"),[n,r]=j.useState([]),[i,o]=j.useState([]),{user:a}=j.useContext(ja);j.useEffect(()=>{(async()=>{const{startOfWeek:g,endOfWeek:_}=s();if(t==="habit"){const b=await l(g,_);r(b)}else if(t==="savings"){const b=await u(g,_);o(b)}})()},[t]);const s=()=>{const m=new Date,g=new Date(m.setDate(m.getDate()-m.getDay())),_=new Date(m.setDate(m.getDate()-m.getDay()+6));return g.setHours(0,0,0,0),_.setHours(23,59,59,999),{startOfWeek:g,endOfWeek:_}},l=async(m,g)=>{const _=await kT();return await Promise.all(_.map(async y=>{const x=(await bc(y.uid)).reduce((T,O)=>T+O.status.filter(S=>{const E=new Date(S.date);return S.completed&&E>=m&&E<=g}).length,0);return{...y,completedCount:x}}))},u=async(m,g)=>{const _=await kT(),b=new Date;return b.setHours(0,0,0,0),await Promise.all(_.map(async v=>{const T=(await bc(v.uid)).reduce((O,S)=>{const E=S.amount,I=S.status.filter(C=>{const R=new Date(C.date);return!C.completed&&R>=m&&R<=g&&R<b}).length;return O+I*E},0);return{...v,totalSavings:T}}))},c=(m,g)=>m.sort((b,y)=>g==="habit"?y.completedCount-b.completedCount:y.totalSavings-b.totalSavings).slice(0,10).map((b,y)=>P.jsxs("li",{className:"flex justify-between py-2 px-4 bg-slate-100",children:[P.jsxs("div",{className:"flex items-center gap-3",children:[P.jsx("p",{className:"w-10 h-auto",children:y+1}),P.jsx("img",{src:b.avatar,alt:"user's avatar",className:"w-10 h-10"}),P.jsxs("div",{children:[P.jsx("p",{children:b.name}),P.jsxs("p",{children:["Lv. ",b.levelPoints]})]})]}),P.jsxs("div",{className:"text-end",children:[P.jsx("p",{children:g==="habit"?"":""}),P.jsx("p",{children:g==="habit"?`${b.completedCount} `:`${b.totalSavings} `})]})]},b.uid)),f=(m,g,_)=>{const b=m.find(v=>v.uid===g.uid);if(!b)return null;const y=m.findIndex(v=>v.uid===g.uid)+1;return P.jsxs("div",{className:"flex justify-between py-2 px-4 bg-slate-900",children:[P.jsxs("div",{className:"flex items-center gap-3 text-white",children:[P.jsx("p",{className:"w-10 h-auto",children:y}),P.jsx("img",{src:b.avatar,alt:"user's avatar",className:"w-10 h-10"}),P.jsxs("div",{children:[P.jsx("p",{children:b.name}),P.jsxs("p",{children:["Lv. ",b.levelPoints]})]})]}),P.jsxs("div",{className:"text-end text-white",children:[P.jsx("p",{children:_==="habit"?"":""}),P.jsx("p",{children:_==="habit"?`${b.completedCount} `:`${b.totalSavings} `})]})]})};return P.jsxs("div",{className:"p-4 space-y-4 mb-16 md:mb-0",children:[P.jsxs("ul",{className:"grid grid-cols-2 w-full",children:[P.jsx("li",{className:`border p-2 text-center ${t==="habit"?"bg-gray-200":""}`,onClick:()=>e("habit"),children:""}),P.jsx("li",{className:`border p-2 text-center ${t==="savings"?"bg-gray-200":""}`,onClick:()=>e("savings"),children:""})]}),t==="habit"&&P.jsxs("div",{children:[P.jsxs("div",{className:"p-4 mt-4 bg-slate-300",children:[P.jsxs("p",{className:"text-center",children:[" ",s().startOfWeek.toLocaleDateString(),"",s().endOfWeek.toLocaleDateString()," "]}),P.jsxs("p",{className:"text-center",children:[" ",((d=n[0])==null?void 0:d.name)||"No.1"," "]}),P.jsxs("p",{className:"text-center",children:["",I$[kO()],""]})]}),P.jsx("ul",{className:"space-y-4",children:c(n,"habit")}),f(n,a,"habit")]}),t==="savings"&&P.jsxs("div",{children:[P.jsxs("div",{className:"p-4 mt-4 bg-slate-300",children:[P.jsxs("p",{className:"text-center",children:[" ",s().startOfWeek.toLocaleDateString(),"",s().endOfWeek.toLocaleDateString()," "]}),P.jsxs("p",{className:"text-center",children:[" ",((p=i[0])==null?void 0:p.name)||"No.1"," "]}),P.jsxs("p",{className:"text-center",children:["",kge[kO()],""]})]}),P.jsx("ul",{className:"space-y-4",children:c(i,"savings")}),f(i,a,"savings")]})]})}function Nge(){const[t,e]=j.useState([]),[n,r]=j.useState("all"),[i,o]=j.useState({}),[a,s]=j.useState(""),[l,u]=j.useState({}),{user:c}=j.useContext(ja),f=["bg-red-100","bg-orange-100","bg-yellow-100","bg-green-100","bg-cyan-100","bg-blue-100","bg-indigo-100","bg-violet-100","bg-purple-100","bg-stone-100","bg-fuchsia-100","bg-rose-100"];j.useEffect(()=>{(async()=>{const x=await VW(),T=await Promise.all(x.map(async O=>{const S=await y0(O.userID),E=await Sh(O.id);return{...O,user:S,comments:E}}));e(T)})()},[]);const d=n==="personal"?t.filter(v=>v.userID===c.uid):t,p=v=>{o(x=>({...x,[v]:!x[v]}))},m=async v=>{if(!a.trim()){alert("");return}const x=await y0(c.uid),T={content:a,userID:c.uid,userName:x.name,userAvatar:x.avatar};await UW(v,T),s("");const O=await Sh(v);e(S=>S.map(E=>E.id===v?{...E,comments:O}:E))},g=v=>{u(x=>({...x,[v]:!x[v]}))},_=async(v,x)=>{const T=prompt("");if(!T.trim()){alert("");return}await BW(v,x,{content:T});const O=await Sh(v);e(S=>S.map(E=>E.id===v?{...E,comments:O}:E))},b=async(v,x)=>{await zW(v,x);const T=await Sh(v);e(O=>O.map(S=>S.id===v?{...S,comments:T}:S))},y=(v,x,T)=>{T==="edit"?_(v,x):T==="delete"&&b(v,x)};return P.jsxs("div",{className:"p-4 space-y-4 mb-16 md:mb-0",children:[P.jsxs("div",{className:"flex justify-between items-center",children:[P.jsx("h2",{children:""}),P.jsxs("select",{className:"border",value:n,onChange:v=>r(v.target.value),children:[P.jsx("option",{value:"all",children:""}),P.jsx("option",{value:"personal",children:""})]})]}),P.jsx("ul",{className:"space-y-4",children:d.map(v=>{const x=f[Math.floor(Math.random()*f.length)];return P.jsxs("li",{className:"p-4 border space-y-2",children:[P.jsx("div",{className:"flex justify-between items-start",children:P.jsxs("div",{className:"flex gap-3",children:[P.jsx("div",{className:"w-10 h-10",children:v.user&&P.jsx("img",{src:v.user.avatar,alt:"avatar",className:"w-full h-full object-cover"})}),P.jsx("div",{className:"flex flex-col",children:P.jsxs("div",{className:"flex gap-2",children:[P.jsx("h3",{children:v.user?v.user.name:"Unknown"}),P.jsx("p",{children:new Date(v.createdTime.seconds*1e3).toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})})]})})]})}),P.jsx("div",{className:`w-full min-h-52 h-fit ${x} flex justify-center items-center p-4`,children:P.jsx("p",{children:v.content})}),P.jsxs("div",{className:"flex gap-3",children:[P.jsx("button",{className:"border",children:"Like"}),P.jsxs("div",{className:"flex gap-1",children:[P.jsx("button",{className:"border",onClick:()=>p(v.id),children:"Comment"}),P.jsx("p",{children:v.comments?v.comments.length:0})]})]}),P.jsxs("ul",{className:`space-y-2 ${i[v.id]?"block":"hidden"}`,children:[v.comments&&v.comments.map(T=>P.jsxs("li",{className:"flex justify-between items-center gap-3",children:[P.jsx("img",{src:T.userAvatar,alt:"user's avatar",className:"w-10 h-10 bg-slate-100"}),P.jsxs("div",{className:"bg-slate-300 px-4 py-1 w-full flex justify-between items-center",children:[P.jsxs("div",{children:[P.jsxs("div",{className:"flex gap-2",children:[P.jsx("h3",{children:T.userName}),P.jsx("p",{children:new Date(T.createdTime.seconds*1e3).toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})})]}),P.jsx("p",{children:T.content})]}),P.jsxs("div",{className:"flex flex-col",children:[P.jsx("button",{className:"border",onClick:()=>g(T.id),children:"setting"}),l[T.id]&&P.jsxs("select",{className:"border",onChange:O=>y(v.id,T.id,O.target.value),children:[P.jsx("option",{value:"",children:""}),P.jsx("option",{value:"edit",children:"Edit"}),P.jsx("option",{value:"delete",children:"Delete"})]})]})]})]},T.id)),P.jsxs("li",{className:"flex justify-between items-center gap-2",children:[P.jsx("input",{type:"text",placeholder:"Add a comment",className:"border p-2 w-full",value:a,onChange:T=>s(T.target.value)}),P.jsx("button",{className:"border",onClick:()=>m(v.id),children:"Post"})]})]})]},v.id)})})]})}const O$=({profileData:t,handleSettingModal:e,handleChange:n,handleSaveAndClose:r})=>P.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",children:P.jsxs("div",{className:"p-4 bg-white w-2/3 h-fit space-y-4 md:w-1/2 md:ml-40",children:[P.jsxs("div",{className:"flex justify-between",children:[P.jsx("h3",{children:""}),P.jsx("button",{onClick:e,children:"Close"})]}),P.jsx("p",{className:"mb-1",children:""}),P.jsxs("div",{className:"flex items-center gap-3",children:[P.jsx("img",{src:t.avatar,alt:"user's avatar",className:"w-10 h-10"}),P.jsxs("div",{children:[P.jsx("input",{type:"file",name:"avatar",id:"profile",onChange:n,accept:"image/jpg,image/jpeg,image/png,image/gif"}),P.jsx("p",{children:""})]})]}),P.jsxs("div",{className:"flex flex-col gap-1",children:[P.jsx("label",{htmlFor:"name",children:""}),P.jsx("input",{type:"text",name:"name",id:"name",placeholder:"",className:"border py-1 px-4",value:t.name||"",onChange:n})]}),P.jsxs("div",{className:"flex flex-col gap-1",children:[P.jsx("label",{htmlFor:"introduction",children:""}),P.jsx("input",{type:"text",name:"introduction",id:"introduction",placeholder:"",className:"border py-1 px-4",value:t.introduction||"",onChange:n})]}),P.jsx("div",{className:"border"}),P.jsxs("div",{className:"flex justify-between items-center",children:[P.jsx("p",{children:""}),P.jsxs("select",{className:"border",children:[P.jsx("option",{value:"light",children:""}),P.jsx("option",{value:"dark",children:""})]})]}),P.jsxs("div",{className:"flex justify-between items-center",children:[P.jsx("p",{children:" Email "}),P.jsxs("select",{className:"border",children:[P.jsx("option",{value:"false",children:t.isAcceptReminder?"":""}),P.jsx("option",{value:"true",children:""})]})]}),P.jsx("button",{className:"border w-full",onClick:r,children:""})]})});O$.propTypes={profileData:X.object.isRequired,handleChange:X.func.isRequired,handleSaveAndClose:X.func.isRequired,handleSettingModal:X.func.isRequired};function Dge(){const{user:t}=j.useContext(ja),[e,n]=j.useState(!1),[r,i]=j.useState(!1),[o,a]=j.useState(!1),[s,l]=j.useState(!1),[u,c]=j.useState(!0),[f,d]=j.useState({uid:"",email:"",name:"",introduction:"",avatar:"",levelPoints:0,isAcceptReminder:!1,achievements:[],badges:[],habits:[]}),[p,m]=j.useState([]),[g,_]=j.useState(null),[b,y]=j.useState(""),[v,x]=j.useState({category:0,title:"",frequency:"daily",amount:0,startDate:"",endDate:"",status:[]}),[T,O]=j.useState(0),[S,E]=j.useState(null),[I,C]=j.useState(!1),[R,D]=j.useState(""),k=j.useRef(null),[V,B]=j.useState(!1),[U,W]=j.useState("all"),$=[{id:0,name:"",icon:nn.TbRocket},{id:1,name:"",icon:nn.TbBook},{id:2,name:"",icon:nn.TbWalk},{id:3,name:"",icon:nn.TbBowlChopsticks},{id:4,name:"",icon:nn.TbMoodHeart},{id:5,name:"",icon:nn.TbHandGrab},{id:6,name:"",icon:nn.TbCash},{id:7,name:"",icon:nn.TbPlant}];j.useEffect(()=>{(async()=>{if(t){const oe=await y0(t.uid);oe&&d(oe),Le()}})()},[t]);const z=()=>{n(!e)},G=()=>{i(!r)},re=()=>{a(!o)},ee=J=>{x({category:J.category,title:J.title,frequency:J.frequency,amount:J.amount,startDate:J.startDate,endDate:J.endDate,status:J.status}),l(!s)},ue=async()=>{if(t&&t.uid)try{await $W(t.uid,f),console.log("Profile updated successfully")}catch(J){console.error("Error updating profile: ",J)}},De=async()=>{await ue(),z()},We=async J=>{const{name:oe,value:pe,files:Ee}=J.target;if(oe==="avatar"&&Ee&&Ee[0]){const Te=event.target.files[0],Kn=["image/jpeg","image/jpg","image/png","image/gif"];if(!Te||!Kn.includes(Te.type))return;try{const bt=await FW(t.uid,Ee[0]);d(Ri=>({...Ri,avatar:bt}))}catch(bt){console.error("Error uploading avatar: ",bt)}}else d(Te=>({...Te,[oe]:pe}))},yt=J=>{const{name:oe,value:pe}=J.target;x(Ee=>({...Ee,[oe]:pe}))},Le=async()=>{if(t)try{const J=await bc(t.uid);m(J)}catch(J){console.error("Error fetching habits: ",J)}},cn=async()=>{if(!b.trim()){alert("");return}if(t&&g){const J={content:b,habitId:g.id};await HD(t.uid,J),B(!0),re(),y("")}},ie=async J=>{E(J),R&&(x(oe=>({...oe,[R]:`${J.year}-${String(J.month+1).padStart(2,"0")}-${String(J.day).padStart(2,"0")}`})),C(!1),D(""))},he=J=>{D(J),C(!0)},ve=async()=>{if(t&&g)try{await v0(t.uid,g.id,v),await Le(),l(!1),console.log("Habit updated successfully")}catch(J){console.error("Error updating habit: ",J)}else console.error("No user or selected habit")},K=async()=>{t&&g?(await qD(t.uid,g.id),Le(),l(!1),i(!1)):console.error("User not authenticated or habit not selected")},Ve=J=>{const oe=new Date;return oe.setHours(0,0,0,0),J.status.filter(Ee=>{const Te=new Date(Ee.date);return Te.setHours(0,0,0,0),Te<oe&&!Ee.completed}).length*J.amount},Se=J=>{_(J),O(Ve(J)),i(!0)},Q=J=>{W(J.target.value)},de=p.filter(J=>{const oe=new Date;oe.setHours(0,0,0,0);const pe=new Date(J.endDate);return pe.setHours(0,0,0,0),U==="in-progress"?pe>=oe:U==="finished"?pe<oe:!0}).sort((J,oe)=>new Date(oe.endDate)-new Date(J.endDate));return V?P.jsx(Fw,{to:"/posts"}):P.jsxs(P.Fragment,{children:[P.jsxs("div",{className:"p-4 space-y-4 mb-16 md:mb-0",children:[P.jsxs("ul",{className:"grid grid-cols-2 w-full",children:[P.jsx("li",{className:`border p-2 text-center ${u?"bg-gray-200":""}`,onClick:()=>c(!0),children:""}),P.jsx("li",{className:`border p-2 text-center ${u?"":"bg-gray-200"}`,onClick:()=>c(!1),children:""})]}),u?P.jsxs("div",{className:"flex justify-between items-center",children:[P.jsx("h2",{children:""}),P.jsx("button",{className:"border",onClick:z,children:""})]}):P.jsxs("div",{className:"flex justify-between items-center",children:[P.jsx("h2",{children:""}),P.jsxs("select",{className:"border",value:U,onChange:Q,children:[P.jsx("option",{value:"all",children:""}),P.jsx("option",{value:"in-progress",children:""}),P.jsx("option",{value:"finished",children:""})]})]}),u?P.jsxs("div",{children:[P.jsxs("div",{className:"p-4 border space-y-2",children:[P.jsx("div",{className:"flex justify-between items-start",children:P.jsxs("div",{className:"flex gap-3",children:[P.jsx("img",{src:f.avatar,alt:"user's avatar",className:"w-10 h-10"}),P.jsxs("div",{className:"flex flex-col",children:[P.jsx("h3",{children:f.name}),P.jsxs("p",{className:"text-slate-500",children:["Lv.",f.levelPoints]})]})]})}),P.jsx("p",{children:f.introduction}),P.jsxs("div",{className:"w-full bg-slate-300 text-center",children:[f.levelPoints,"%"]})]}),P.jsxs("div",{className:"pt-8 pb-4 px-4 border space-y-4",children:[P.jsx("div",{className:"grid grid-cols-2 gap-4",children:f.achievements.map((J,oe)=>P.jsx("button",{className:"border",children:J},oe))}),P.jsx("button",{className:"text-center w-full bg-slate-300",children:""})]}),P.jsxs("div",{className:"pt-8 pb-4 px-4 border space-y-4",children:[P.jsx("div",{className:"grid grid-cols-3 gap-4",children:f.badges.map((J,oe)=>P.jsx("div",{className:"w-20 h-20 bg-slate-100",children:J},oe))}),P.jsx("button",{className:"text-center w-full bg-slate-300",children:""})]})]}):P.jsx("ul",{className:"space-y-4",children:Array.isArray(de)&&de.map(J=>{const oe=new Date;oe.setHours(0,0,0,0);const pe=new Date(J.endDate);pe.setHours(0,0,0,0);const Ee=pe<oe,Te=$.find(bt=>bt.id===J.category),Kn=Te?Te.icon:null;return P.jsx("li",{className:`px-2 py-4 ${Ee?"bg-slate-500":"bg-slate-100"}`,children:P.jsxs("div",{className:"flex justify-between items-center",children:[P.jsxs("div",{className:"flex gap-2",children:[P.jsx("div",{className:"w-10 h-10 bg-yellow-400 rounded-full flex items-center justify-center",children:Kn&&P.jsx(Kn,{className:"w-8 h-8"})}),P.jsxs("div",{className:"flex flex-col",children:[P.jsx("h3",{children:J.title}),P.jsxs("div",{className:"flex",children:[P.jsxs("p",{children:[J.frequency.type," $",J.amount," ",J.status.filter(bt=>bt.completed).length]}),P.jsxs("p",{className:"text-gray-500",children:["/",J.status.length]})]})]})]}),P.jsx("button",{className:"bg-white",onClick:()=>Se(J),children:"Detail"})]})},J.id)})})]}),P.jsx(oi,{isOpen:e,onClose:z,children:P.jsx(O$,{profileData:f,handleChange:We,handleSaveAndClose:De,handleSettingModal:z})}),P.jsx(oi,{isOpen:r,onClose:G,children:P.jsx(Bb,{selectedHabit:g,handleDetailModal:G,handlePostModal:re,uncompletedFine:T,handleEditModal:ee,habitCategories:$})}),P.jsx(oi,{isOpen:o,onClose:re,children:P.jsx(zb,{postContent:b,setPostContent:y,handleAddPost:cn,handlePostModal:re})}),P.jsx(oi,{isOpen:s,onClose:ee,children:P.jsx(Wb,{habitData:v,handleHabitChange:yt,handleUpdateHabit:ve,handleFocus:he,showMonthCalendar:I,calendarTarget:R,selectedDate:S,handleSelectDate:ie,calendarRef:k,handleEditModal:ee,handleDeleteHabit:K,habitCategories:$})})]})}function jge(){return P.jsx("div",{children:P.jsx("h1",{children:"Error"})})}function C$({children:t}){const e=hl();return P.jsxs("div",{className:"flex flex-col md:flex-row min-h-screen",children:[P.jsx("nav",{className:"fixed inset-x-0 bottom-0 md:static md:w-1/4 pt-2 pb-3 px-4 border bg-white z-10",children:P.jsxs("ul",{className:"grid grid-cols-6 items-center md:grid-cols-1 md:gap-6",children:[P.jsx("li",{className:"p-2",children:P.jsx(qa,{to:"/",children:"Habit Piggy"})}),P.jsx("li",{className:"p-2",children:P.jsxs(qa,{to:"/home",className:"flex flex-col items-center md:flex-row",children:[P.jsx(tu.TbHome2,{className:`w-6 h-6 md:mr-4 ${e.pathname==="/home"?"text-yellow-400":""}`}),P.jsx("p",{children:"Home"})]})}),P.jsx("li",{className:"p-2",children:P.jsxs(qa,{to:"/savings",className:"flex flex-col items-center md:flex-row",children:[P.jsx(tu.TbCoin,{className:`w-6 h-6 md:mr-4 ${e.pathname==="/savings"?"text-yellow-400":""}`}),P.jsx("p",{children:"Savings"})]})}),P.jsx("li",{className:"p-2",children:P.jsxs(qa,{to:"/rank",className:"flex flex-col items-center md:flex-row",children:[P.jsx(tu.TbMedal2,{className:`w-6 h-6 md:mr-4 ${e.pathname==="/rank"?"text-yellow-400":""}`}),P.jsx("p",{children:"Rank"})]})}),P.jsx("li",{className:"p-2",children:P.jsxs(qa,{to:"/posts",className:"flex flex-col items-center md:flex-row",children:[P.jsx(tu.TbMessage,{className:`w-6 h-6 md:mr-4 ${e.pathname==="/posts"?"text-yellow-400":""}`}),P.jsx("p",{children:"Posts"})]})}),P.jsx("li",{className:"p-2",children:P.jsxs(qa,{to:"/member",className:"flex flex-col items-center md:flex-row",children:[P.jsx(tu.TbMoodSmile,{className:`w-6 h-6 md:mr-4 ${e.pathname==="/member"?"text-yellow-400":""}`}),P.jsx("p",{children:"Member"})]})})]})}),P.jsx("div",{className:"flex-1 mt-0",children:t})]})}C$.propTypes={children:X.node};function Mge(){return P.jsx(YD,{children:P.jsx(T4,{children:P.jsx(C$,{children:P.jsxs(v4,{children:[P.jsx(Li,{path:"/",element:P.jsx(XW,{})}),P.jsx(Li,{path:"/home",element:P.jsx(v8,{})}),P.jsx(Li,{path:"/savings",element:P.jsx(Cge,{})}),P.jsx(Li,{path:"/rank",element:P.jsx(Rge,{})}),P.jsx(Li,{path:"/posts",element:P.jsx(Nge,{})}),P.jsx(Li,{path:"/member",element:P.jsx(Dge,{})}),P.jsx(Li,{path:"*",element:P.jsx(jge,{})})]})})})})}Wk(document.getElementById("root")).render(P.jsx(j.StrictMode,{children:P.jsx(Mge,{})}));
