function o3(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function it(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _O={exports:{}},ig={},kO={exports:{}},$e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cd=Symbol.for("react.element"),s3=Symbol.for("react.portal"),l3=Symbol.for("react.fragment"),c3=Symbol.for("react.strict_mode"),u3=Symbol.for("react.profiler"),f3=Symbol.for("react.provider"),d3=Symbol.for("react.context"),h3=Symbol.for("react.forward_ref"),p3=Symbol.for("react.suspense"),m3=Symbol.for("react.memo"),g3=Symbol.for("react.lazy"),kE=Symbol.iterator;function y3(t){return t===null||typeof t!="object"?null:(t=kE&&t[kE]||t["@@iterator"],typeof t=="function"?t:null)}var EO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},SO=Object.assign,TO={};function oc(t,e,r){this.props=t,this.context=e,this.refs=TO,this.updater=r||EO}oc.prototype.isReactComponent={};oc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};oc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function AO(){}AO.prototype=oc.prototype;function cw(t,e,r){this.props=t,this.context=e,this.refs=TO,this.updater=r||EO}var uw=cw.prototype=new AO;uw.constructor=cw;SO(uw,oc.prototype);uw.isPureReactComponent=!0;var EE=Array.isArray,PO=Object.prototype.hasOwnProperty,fw={current:null},IO={key:!0,ref:!0,__self:!0,__source:!0};function OO(t,e,r){var n,i={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)PO.call(e,n)&&!IO.hasOwnProperty(n)&&(i[n]=e[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:cd,type:t,key:a,ref:o,props:i,_owner:fw.current}}function v3(t,e){return{$$typeof:cd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function dw(t){return typeof t=="object"&&t!==null&&t.$$typeof===cd}function b3(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var SE=/\/+/g;function Yy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?b3(""+t.key):e.toString(36)}function zh(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case cd:case s3:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+Yy(o,0):n,EE(i)?(r="",t!=null&&(r=t.replace(SE,"$&/")+"/"),zh(i,e,r,"",function(c){return c})):i!=null&&(dw(i)&&(i=v3(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(SE,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",EE(t))for(var s=0;s<t.length;s++){a=t[s];var l=n+Yy(a,s);o+=zh(a,e,r,l,i)}else if(l=y3(t),typeof l=="function")for(t=l.call(t),s=0;!(a=t.next()).done;)a=a.value,l=n+Yy(a,s++),o+=zh(a,e,r,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function rh(t,e,r){if(t==null)return t;var n=[],i=0;return zh(t,n,"","",function(a){return e.call(r,a,i++)}),n}function x3(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ur={current:null},Wh={transition:null},w3={ReactCurrentDispatcher:Ur,ReactCurrentBatchConfig:Wh,ReactCurrentOwner:fw};function CO(){throw Error("act(...) is not supported in production builds of React.")}$e.Children={map:rh,forEach:function(t,e,r){rh(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return rh(t,function(){e++}),e},toArray:function(t){return rh(t,function(e){return e})||[]},only:function(t){if(!dw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};$e.Component=oc;$e.Fragment=l3;$e.Profiler=u3;$e.PureComponent=cw;$e.StrictMode=c3;$e.Suspense=p3;$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=w3;$e.act=CO;$e.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=SO({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=fw.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)PO.call(e,l)&&!IO.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];n.children=s}return{$$typeof:cd,type:t.type,key:i,ref:a,props:n,_owner:o}};$e.createContext=function(t){return t={$$typeof:d3,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:f3,_context:t},t.Consumer=t};$e.createElement=OO;$e.createFactory=function(t){var e=OO.bind(null,t);return e.type=t,e};$e.createRef=function(){return{current:null}};$e.forwardRef=function(t){return{$$typeof:h3,render:t}};$e.isValidElement=dw;$e.lazy=function(t){return{$$typeof:g3,_payload:{_status:-1,_result:t},_init:x3}};$e.memo=function(t,e){return{$$typeof:m3,type:t,compare:e===void 0?null:e}};$e.startTransition=function(t){var e=Wh.transition;Wh.transition={};try{t()}finally{Wh.transition=e}};$e.unstable_act=CO;$e.useCallback=function(t,e){return Ur.current.useCallback(t,e)};$e.useContext=function(t){return Ur.current.useContext(t)};$e.useDebugValue=function(){};$e.useDeferredValue=function(t){return Ur.current.useDeferredValue(t)};$e.useEffect=function(t,e){return Ur.current.useEffect(t,e)};$e.useId=function(){return Ur.current.useId()};$e.useImperativeHandle=function(t,e,r){return Ur.current.useImperativeHandle(t,e,r)};$e.useInsertionEffect=function(t,e){return Ur.current.useInsertionEffect(t,e)};$e.useLayoutEffect=function(t,e){return Ur.current.useLayoutEffect(t,e)};$e.useMemo=function(t,e){return Ur.current.useMemo(t,e)};$e.useReducer=function(t,e,r){return Ur.current.useReducer(t,e,r)};$e.useRef=function(t){return Ur.current.useRef(t)};$e.useState=function(t){return Ur.current.useState(t)};$e.useSyncExternalStore=function(t,e,r){return Ur.current.useSyncExternalStore(t,e,r)};$e.useTransition=function(){return Ur.current.useTransition()};$e.version="18.3.1";kO.exports=$e;var M=kO.exports;const L=it(M),_3=o3({__proto__:null,default:L},[M]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k3=M,E3=Symbol.for("react.element"),S3=Symbol.for("react.fragment"),T3=Object.prototype.hasOwnProperty,A3=k3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,P3={key:!0,ref:!0,__self:!0,__source:!0};function NO(t,e,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)T3.call(e,n)&&!P3.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:E3,type:t,key:a,ref:o,props:i,_owner:A3.current}}ig.Fragment=S3;ig.jsx=NO;ig.jsxs=NO;_O.exports=ig;var m=_O.exports,RO={exports:{}},hn={},jO={exports:{}},DO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,G){var J=U.length;U.push(G);e:for(;0<J;){var oe=J-1>>>1,Y=U[oe];if(0<i(Y,G))U[oe]=G,U[J]=Y,J=oe;else break e}}function r(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var G=U[0],J=U.pop();if(J!==G){U[0]=J;e:for(var oe=0,Y=U.length,se=Y>>>1;oe<se;){var Ee=2*(oe+1)-1,Re=U[Ee],Ze=Ee+1,Ve=U[Ze];if(0>i(Re,J))Ze<Y&&0>i(Ve,Re)?(U[oe]=Ve,U[Ze]=J,oe=Ze):(U[oe]=Re,U[Ee]=J,oe=Ee);else if(Ze<Y&&0>i(Ve,J))U[oe]=Ve,U[Ze]=J,oe=Ze;else break e}}return G}function i(U,G){var J=U.sortIndex-G.sortIndex;return J!==0?J:U.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],c=[],u=1,f=null,h=3,p=!1,g=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(U){for(var G=r(c);G!==null;){if(G.callback===null)n(c);else if(G.startTime<=U)n(c),G.sortIndex=G.expirationTime,e(l,G);else break;G=r(c)}}function k(U){if(y=!1,x(U),!g)if(r(l)!==null)g=!0,W(T);else{var G=r(c);G!==null&&H(k,G.startTime-U)}}function T(U,G){g=!1,y&&(y=!1,_(E),E=-1),p=!0;var J=h;try{for(x(G),f=r(l);f!==null&&(!(f.expirationTime>G)||U&&!R());){var oe=f.callback;if(typeof oe=="function"){f.callback=null,h=f.priorityLevel;var Y=oe(f.expirationTime<=G);G=t.unstable_now(),typeof Y=="function"?f.callback=Y:f===r(l)&&n(l),x(G)}else n(l);f=r(l)}if(f!==null)var se=!0;else{var Ee=r(c);Ee!==null&&H(k,Ee.startTime-G),se=!1}return se}finally{f=null,h=J,p=!1}}var C=!1,S=null,E=-1,P=5,O=-1;function R(){return!(t.unstable_now()-O<P)}function N(){if(S!==null){var U=t.unstable_now();O=U;var G=!0;try{G=S(!0,U)}finally{G?I():(C=!1,S=null)}}else C=!1}var I;if(typeof v=="function")I=function(){v(N)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,B=V.port2;V.port1.onmessage=N,I=function(){B.postMessage(null)}}else I=function(){b(N,0)};function W(U){S=U,C||(C=!0,I())}function H(U,G){E=b(function(){U(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,W(T))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(U){switch(h){case 1:case 2:case 3:var G=3;break;default:G=h}var J=h;h=G;try{return U()}finally{h=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,G){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var J=h;h=U;try{return G()}finally{h=J}},t.unstable_scheduleCallback=function(U,G,J){var oe=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?oe+J:oe):J=oe,U){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=J+Y,U={id:u++,callback:G,priorityLevel:U,startTime:J,expirationTime:Y,sortIndex:-1},J>oe?(U.sortIndex=J,e(c,U),r(l)===null&&U===r(c)&&(y?(_(E),E=-1):y=!0,H(k,J-oe))):(U.sortIndex=Y,e(l,U),g||p||(g=!0,W(T))),U},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(U){var G=h;return function(){var J=h;h=G;try{return U.apply(this,arguments)}finally{h=J}}}})(DO);jO.exports=DO;var I3=jO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O3=M,dn=I3;function ae(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var MO=new Set,Gu={};function gs(t,e){Pl(t,e),Pl(t+"Capture",e)}function Pl(t,e){for(Gu[t]=e,t=0;t<e.length;t++)MO.add(e[t])}var Xi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p0=Object.prototype.hasOwnProperty,C3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,TE={},AE={};function N3(t){return p0.call(AE,t)?!0:p0.call(TE,t)?!1:C3.test(t)?AE[t]=!0:(TE[t]=!0,!1)}function R3(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function j3(t,e,r,n){if(e===null||typeof e>"u"||R3(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Br(t,e,r,n,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var pr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){pr[t]=new Br(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];pr[e]=new Br(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){pr[t]=new Br(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){pr[t]=new Br(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){pr[t]=new Br(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){pr[t]=new Br(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){pr[t]=new Br(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){pr[t]=new Br(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){pr[t]=new Br(t,5,!1,t.toLowerCase(),null,!1,!1)});var hw=/[\-:]([a-z])/g;function pw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(hw,pw);pr[e]=new Br(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(hw,pw);pr[e]=new Br(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(hw,pw);pr[e]=new Br(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){pr[t]=new Br(t,1,!1,t.toLowerCase(),null,!1,!1)});pr.xlinkHref=new Br("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){pr[t]=new Br(t,1,!1,t.toLowerCase(),null,!0,!0)});function mw(t,e,r,n){var i=pr.hasOwnProperty(e)?pr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(j3(e,r,i,n)&&(r=null),n||i===null?N3(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var la=O3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,nh=Symbol.for("react.element"),Xs=Symbol.for("react.portal"),Ys=Symbol.for("react.fragment"),gw=Symbol.for("react.strict_mode"),m0=Symbol.for("react.profiler"),$O=Symbol.for("react.provider"),LO=Symbol.for("react.context"),yw=Symbol.for("react.forward_ref"),g0=Symbol.for("react.suspense"),y0=Symbol.for("react.suspense_list"),vw=Symbol.for("react.memo"),_a=Symbol.for("react.lazy"),FO=Symbol.for("react.offscreen"),PE=Symbol.iterator;function Uc(t){return t===null||typeof t!="object"?null:(t=PE&&t[PE]||t["@@iterator"],typeof t=="function"?t:null)}var It=Object.assign,Qy;function cu(t){if(Qy===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Qy=e&&e[1]||""}return`
`+Qy+t}var Jy=!1;function Zy(t,e){if(!t||Jy)return"";Jy=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=s);break}}}finally{Jy=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?cu(t):""}function D3(t){switch(t.tag){case 5:return cu(t.type);case 16:return cu("Lazy");case 13:return cu("Suspense");case 19:return cu("SuspenseList");case 0:case 2:case 15:return t=Zy(t.type,!1),t;case 11:return t=Zy(t.type.render,!1),t;case 1:return t=Zy(t.type,!0),t;default:return""}}function v0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ys:return"Fragment";case Xs:return"Portal";case m0:return"Profiler";case gw:return"StrictMode";case g0:return"Suspense";case y0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case LO:return(t.displayName||"Context")+".Consumer";case $O:return(t._context.displayName||"Context")+".Provider";case yw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case vw:return e=t.displayName||null,e!==null?e:v0(t.type)||"Memo";case _a:e=t._payload,t=t._init;try{return v0(t(e))}catch{}}return null}function M3(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return v0(e);case 8:return e===gw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ro(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function VO(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function $3(t){var e=VO(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ih(t){t._valueTracker||(t._valueTracker=$3(t))}function UO(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=VO(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function gp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function b0(t,e){var r=e.checked;return It({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function IE(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=ro(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function BO(t,e){e=e.checked,e!=null&&mw(t,"checked",e,!1)}function x0(t,e){BO(t,e);var r=ro(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?w0(t,e.type,r):e.hasOwnProperty("defaultValue")&&w0(t,e.type,ro(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function OE(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function w0(t,e,r){(e!=="number"||gp(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var uu=Array.isArray;function hl(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ro(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function _0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ae(91));return It({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function CE(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(ae(92));if(uu(r)){if(1<r.length)throw Error(ae(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:ro(r)}}function zO(t,e){var r=ro(e.value),n=ro(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function NE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function WO(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function k0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?WO(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ah,qO=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ah=ah||document.createElement("div"),ah.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ah.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Xu(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var _u={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},L3=["Webkit","ms","Moz","O"];Object.keys(_u).forEach(function(t){L3.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),_u[e]=_u[t]})});function HO(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||_u.hasOwnProperty(t)&&_u[t]?(""+e).trim():e+"px"}function KO(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=HO(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var F3=It({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function E0(t,e){if(e){if(F3[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ae(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ae(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ae(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ae(62))}}function S0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var T0=null;function bw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var A0=null,pl=null,ml=null;function RE(t){if(t=dd(t)){if(typeof A0!="function")throw Error(ae(280));var e=t.stateNode;e&&(e=cg(e),A0(t.stateNode,t.type,e))}}function GO(t){pl?ml?ml.push(t):ml=[t]:pl=t}function XO(){if(pl){var t=pl,e=ml;if(ml=pl=null,RE(t),e)for(t=0;t<e.length;t++)RE(e[t])}}function YO(t,e){return t(e)}function QO(){}var ev=!1;function JO(t,e,r){if(ev)return t(e,r);ev=!0;try{return YO(t,e,r)}finally{ev=!1,(pl!==null||ml!==null)&&(QO(),XO())}}function Yu(t,e){var r=t.stateNode;if(r===null)return null;var n=cg(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(ae(231,e,typeof r));return r}var P0=!1;if(Xi)try{var Bc={};Object.defineProperty(Bc,"passive",{get:function(){P0=!0}}),window.addEventListener("test",Bc,Bc),window.removeEventListener("test",Bc,Bc)}catch{P0=!1}function V3(t,e,r,n,i,a,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(u){this.onError(u)}}var ku=!1,yp=null,vp=!1,I0=null,U3={onError:function(t){ku=!0,yp=t}};function B3(t,e,r,n,i,a,o,s,l){ku=!1,yp=null,V3.apply(U3,arguments)}function z3(t,e,r,n,i,a,o,s,l){if(B3.apply(this,arguments),ku){if(ku){var c=yp;ku=!1,yp=null}else throw Error(ae(198));vp||(vp=!0,I0=c)}}function ys(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function ZO(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function jE(t){if(ys(t)!==t)throw Error(ae(188))}function W3(t){var e=t.alternate;if(!e){if(e=ys(t),e===null)throw Error(ae(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return jE(i),t;if(a===n)return jE(i),e;a=a.sibling}throw Error(ae(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o)throw Error(ae(189))}}if(r.alternate!==n)throw Error(ae(190))}if(r.tag!==3)throw Error(ae(188));return r.stateNode.current===r?t:e}function eC(t){return t=W3(t),t!==null?tC(t):null}function tC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=tC(t);if(e!==null)return e;t=t.sibling}return null}var rC=dn.unstable_scheduleCallback,DE=dn.unstable_cancelCallback,q3=dn.unstable_shouldYield,H3=dn.unstable_requestPaint,Ft=dn.unstable_now,K3=dn.unstable_getCurrentPriorityLevel,xw=dn.unstable_ImmediatePriority,nC=dn.unstable_UserBlockingPriority,bp=dn.unstable_NormalPriority,G3=dn.unstable_LowPriority,iC=dn.unstable_IdlePriority,ag=null,ui=null;function X3(t){if(ui&&typeof ui.onCommitFiberRoot=="function")try{ui.onCommitFiberRoot(ag,t,void 0,(t.current.flags&128)===128)}catch{}}var Wn=Math.clz32?Math.clz32:J3,Y3=Math.log,Q3=Math.LN2;function J3(t){return t>>>=0,t===0?32:31-(Y3(t)/Q3|0)|0}var oh=64,sh=4194304;function fu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function xp(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,o=r&268435455;if(o!==0){var s=o&~i;s!==0?n=fu(s):(a&=o,a!==0&&(n=fu(a)))}else o=r&~i,o!==0?n=fu(o):a!==0&&(n=fu(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Wn(e),i=1<<r,n|=t[r],e&=~i;return n}function Z3(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function e5(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-Wn(a),s=1<<o,l=i[o];l===-1?(!(s&r)||s&n)&&(i[o]=Z3(s,e)):l<=e&&(t.expiredLanes|=s),a&=~s}}function O0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function aC(){var t=oh;return oh<<=1,!(oh&4194240)&&(oh=64),t}function tv(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function ud(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Wn(e),t[e]=r}function t5(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Wn(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function ww(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Wn(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var nt=0;function oC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var sC,_w,lC,cC,uC,C0=!1,lh=[],Ua=null,Ba=null,za=null,Qu=new Map,Ju=new Map,Ta=[],r5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ME(t,e){switch(t){case"focusin":case"focusout":Ua=null;break;case"dragenter":case"dragleave":Ba=null;break;case"mouseover":case"mouseout":za=null;break;case"pointerover":case"pointerout":Qu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ju.delete(e.pointerId)}}function zc(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=dd(e),e!==null&&_w(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function n5(t,e,r,n,i){switch(e){case"focusin":return Ua=zc(Ua,t,e,r,n,i),!0;case"dragenter":return Ba=zc(Ba,t,e,r,n,i),!0;case"mouseover":return za=zc(za,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return Qu.set(a,zc(Qu.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Ju.set(a,zc(Ju.get(a)||null,t,e,r,n,i)),!0}return!1}function fC(t){var e=Lo(t.target);if(e!==null){var r=ys(e);if(r!==null){if(e=r.tag,e===13){if(e=ZO(r),e!==null){t.blockedOn=e,uC(t.priority,function(){lC(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=N0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);T0=n,r.target.dispatchEvent(n),T0=null}else return e=dd(r),e!==null&&_w(e),t.blockedOn=r,!1;e.shift()}return!0}function $E(t,e,r){qh(t)&&r.delete(e)}function i5(){C0=!1,Ua!==null&&qh(Ua)&&(Ua=null),Ba!==null&&qh(Ba)&&(Ba=null),za!==null&&qh(za)&&(za=null),Qu.forEach($E),Ju.forEach($E)}function Wc(t,e){t.blockedOn===e&&(t.blockedOn=null,C0||(C0=!0,dn.unstable_scheduleCallback(dn.unstable_NormalPriority,i5)))}function Zu(t){function e(i){return Wc(i,t)}if(0<lh.length){Wc(lh[0],t);for(var r=1;r<lh.length;r++){var n=lh[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Ua!==null&&Wc(Ua,t),Ba!==null&&Wc(Ba,t),za!==null&&Wc(za,t),Qu.forEach(e),Ju.forEach(e),r=0;r<Ta.length;r++)n=Ta[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ta.length&&(r=Ta[0],r.blockedOn===null);)fC(r),r.blockedOn===null&&Ta.shift()}var gl=la.ReactCurrentBatchConfig,wp=!0;function a5(t,e,r,n){var i=nt,a=gl.transition;gl.transition=null;try{nt=1,kw(t,e,r,n)}finally{nt=i,gl.transition=a}}function o5(t,e,r,n){var i=nt,a=gl.transition;gl.transition=null;try{nt=4,kw(t,e,r,n)}finally{nt=i,gl.transition=a}}function kw(t,e,r,n){if(wp){var i=N0(t,e,r,n);if(i===null)fv(t,e,n,_p,r),ME(t,n);else if(n5(i,t,e,r,n))n.stopPropagation();else if(ME(t,n),e&4&&-1<r5.indexOf(t)){for(;i!==null;){var a=dd(i);if(a!==null&&sC(a),a=N0(t,e,r,n),a===null&&fv(t,e,n,_p,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else fv(t,e,n,null,r)}}var _p=null;function N0(t,e,r,n){if(_p=null,t=bw(n),t=Lo(t),t!==null)if(e=ys(t),e===null)t=null;else if(r=e.tag,r===13){if(t=ZO(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return _p=t,null}function dC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(K3()){case xw:return 1;case nC:return 4;case bp:case G3:return 16;case iC:return 536870912;default:return 16}default:return 16}}var Ma=null,Ew=null,Hh=null;function hC(){if(Hh)return Hh;var t,e=Ew,r=e.length,n,i="value"in Ma?Ma.value:Ma.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[a-n];n++);return Hh=i.slice(t,1<n?1-n:void 0)}function Kh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ch(){return!0}function LE(){return!1}function pn(t){function e(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(r=t[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ch:LE,this.isPropagationStopped=LE,this}return It(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ch)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ch)},persist:function(){},isPersistent:ch}),e}var sc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sw=pn(sc),fd=It({},sc,{view:0,detail:0}),s5=pn(fd),rv,nv,qc,og=It({},fd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==qc&&(qc&&t.type==="mousemove"?(rv=t.screenX-qc.screenX,nv=t.screenY-qc.screenY):nv=rv=0,qc=t),rv)},movementY:function(t){return"movementY"in t?t.movementY:nv}}),FE=pn(og),l5=It({},og,{dataTransfer:0}),c5=pn(l5),u5=It({},fd,{relatedTarget:0}),iv=pn(u5),f5=It({},sc,{animationName:0,elapsedTime:0,pseudoElement:0}),d5=pn(f5),h5=It({},sc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),p5=pn(h5),m5=It({},sc,{data:0}),VE=pn(m5),g5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},y5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},v5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function b5(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=v5[t])?!!e[t]:!1}function Tw(){return b5}var x5=It({},fd,{key:function(t){if(t.key){var e=g5[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Kh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?y5[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tw,charCode:function(t){return t.type==="keypress"?Kh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Kh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),w5=pn(x5),_5=It({},og,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),UE=pn(_5),k5=It({},fd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tw}),E5=pn(k5),S5=It({},sc,{propertyName:0,elapsedTime:0,pseudoElement:0}),T5=pn(S5),A5=It({},og,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),P5=pn(A5),I5=[9,13,27,32],Aw=Xi&&"CompositionEvent"in window,Eu=null;Xi&&"documentMode"in document&&(Eu=document.documentMode);var O5=Xi&&"TextEvent"in window&&!Eu,pC=Xi&&(!Aw||Eu&&8<Eu&&11>=Eu),BE=" ",zE=!1;function mC(t,e){switch(t){case"keyup":return I5.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qs=!1;function C5(t,e){switch(t){case"compositionend":return gC(e);case"keypress":return e.which!==32?null:(zE=!0,BE);case"textInput":return t=e.data,t===BE&&zE?null:t;default:return null}}function N5(t,e){if(Qs)return t==="compositionend"||!Aw&&mC(t,e)?(t=hC(),Hh=Ew=Ma=null,Qs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return pC&&e.locale!=="ko"?null:e.data;default:return null}}var R5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function WE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!R5[t.type]:e==="textarea"}function yC(t,e,r,n){GO(n),e=kp(e,"onChange"),0<e.length&&(r=new Sw("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Su=null,ef=null;function j5(t){PC(t,0)}function sg(t){var e=el(t);if(UO(e))return t}function D5(t,e){if(t==="change")return e}var vC=!1;if(Xi){var av;if(Xi){var ov="oninput"in document;if(!ov){var qE=document.createElement("div");qE.setAttribute("oninput","return;"),ov=typeof qE.oninput=="function"}av=ov}else av=!1;vC=av&&(!document.documentMode||9<document.documentMode)}function HE(){Su&&(Su.detachEvent("onpropertychange",bC),ef=Su=null)}function bC(t){if(t.propertyName==="value"&&sg(ef)){var e=[];yC(e,ef,t,bw(t)),JO(j5,e)}}function M5(t,e,r){t==="focusin"?(HE(),Su=e,ef=r,Su.attachEvent("onpropertychange",bC)):t==="focusout"&&HE()}function $5(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return sg(ef)}function L5(t,e){if(t==="click")return sg(e)}function F5(t,e){if(t==="input"||t==="change")return sg(e)}function V5(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Kn=typeof Object.is=="function"?Object.is:V5;function tf(t,e){if(Kn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!p0.call(e,i)||!Kn(t[i],e[i]))return!1}return!0}function KE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function GE(t,e){var r=KE(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=KE(r)}}function xC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?xC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function wC(){for(var t=window,e=gp();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=gp(t.document)}return e}function Pw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function U5(t){var e=wC(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&xC(r.ownerDocument.documentElement,r)){if(n!==null&&Pw(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=GE(r,a);var o=GE(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var B5=Xi&&"documentMode"in document&&11>=document.documentMode,Js=null,R0=null,Tu=null,j0=!1;function XE(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;j0||Js==null||Js!==gp(n)||(n=Js,"selectionStart"in n&&Pw(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Tu&&tf(Tu,n)||(Tu=n,n=kp(R0,"onSelect"),0<n.length&&(e=new Sw("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Js)))}function uh(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Zs={animationend:uh("Animation","AnimationEnd"),animationiteration:uh("Animation","AnimationIteration"),animationstart:uh("Animation","AnimationStart"),transitionend:uh("Transition","TransitionEnd")},sv={},_C={};Xi&&(_C=document.createElement("div").style,"AnimationEvent"in window||(delete Zs.animationend.animation,delete Zs.animationiteration.animation,delete Zs.animationstart.animation),"TransitionEvent"in window||delete Zs.transitionend.transition);function lg(t){if(sv[t])return sv[t];if(!Zs[t])return t;var e=Zs[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in _C)return sv[t]=e[r];return t}var kC=lg("animationend"),EC=lg("animationiteration"),SC=lg("animationstart"),TC=lg("transitionend"),AC=new Map,YE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function lo(t,e){AC.set(t,e),gs(e,[t])}for(var lv=0;lv<YE.length;lv++){var cv=YE[lv],z5=cv.toLowerCase(),W5=cv[0].toUpperCase()+cv.slice(1);lo(z5,"on"+W5)}lo(kC,"onAnimationEnd");lo(EC,"onAnimationIteration");lo(SC,"onAnimationStart");lo("dblclick","onDoubleClick");lo("focusin","onFocus");lo("focusout","onBlur");lo(TC,"onTransitionEnd");Pl("onMouseEnter",["mouseout","mouseover"]);Pl("onMouseLeave",["mouseout","mouseover"]);Pl("onPointerEnter",["pointerout","pointerover"]);Pl("onPointerLeave",["pointerout","pointerover"]);gs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gs("onBeforeInput",["compositionend","keypress","textInput","paste"]);gs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q5=new Set("cancel close invalid load scroll toggle".split(" ").concat(du));function QE(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,z3(n,e,void 0,t),t.currentTarget=null}function PC(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var s=n[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;QE(i,s,c),a=l}else for(o=0;o<n.length;o++){if(s=n[o],l=s.instance,c=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;QE(i,s,c),a=l}}}if(vp)throw t=I0,vp=!1,I0=null,t}function gt(t,e){var r=e[F0];r===void 0&&(r=e[F0]=new Set);var n=t+"__bubble";r.has(n)||(IC(e,t,2,!1),r.add(n))}function uv(t,e,r){var n=0;e&&(n|=4),IC(r,t,n,e)}var fh="_reactListening"+Math.random().toString(36).slice(2);function rf(t){if(!t[fh]){t[fh]=!0,MO.forEach(function(r){r!=="selectionchange"&&(q5.has(r)||uv(r,!1,t),uv(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fh]||(e[fh]=!0,uv("selectionchange",!1,e))}}function IC(t,e,r,n){switch(dC(e)){case 1:var i=a5;break;case 4:i=o5;break;default:i=kw}r=i.bind(null,e,r,t),i=void 0,!P0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function fv(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=Lo(s),o===null)return;if(l=o.tag,l===5||l===6){n=a=o;continue e}s=s.parentNode}}n=n.return}JO(function(){var c=a,u=bw(r),f=[];e:{var h=AC.get(t);if(h!==void 0){var p=Sw,g=t;switch(t){case"keypress":if(Kh(r)===0)break e;case"keydown":case"keyup":p=w5;break;case"focusin":g="focus",p=iv;break;case"focusout":g="blur",p=iv;break;case"beforeblur":case"afterblur":p=iv;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=FE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=c5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=E5;break;case kC:case EC:case SC:p=d5;break;case TC:p=T5;break;case"scroll":p=s5;break;case"wheel":p=P5;break;case"copy":case"cut":case"paste":p=p5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=UE}var y=(e&4)!==0,b=!y&&t==="scroll",_=y?h!==null?h+"Capture":null:h;y=[];for(var v=c,x;v!==null;){x=v;var k=x.stateNode;if(x.tag===5&&k!==null&&(x=k,_!==null&&(k=Yu(v,_),k!=null&&y.push(nf(v,k,x)))),b)break;v=v.return}0<y.length&&(h=new p(h,g,null,r,u),f.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&r!==T0&&(g=r.relatedTarget||r.fromElement)&&(Lo(g)||g[Yi]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=c,g=g?Lo(g):null,g!==null&&(b=ys(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(y=FE,k="onMouseLeave",_="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(y=UE,k="onPointerLeave",_="onPointerEnter",v="pointer"),b=p==null?h:el(p),x=g==null?h:el(g),h=new y(k,v+"leave",p,r,u),h.target=b,h.relatedTarget=x,k=null,Lo(u)===c&&(y=new y(_,v+"enter",g,r,u),y.target=x,y.relatedTarget=b,k=y),b=k,p&&g)t:{for(y=p,_=g,v=0,x=y;x;x=Ms(x))v++;for(x=0,k=_;k;k=Ms(k))x++;for(;0<v-x;)y=Ms(y),v--;for(;0<x-v;)_=Ms(_),x--;for(;v--;){if(y===_||_!==null&&y===_.alternate)break t;y=Ms(y),_=Ms(_)}y=null}else y=null;p!==null&&JE(f,h,p,y,!1),g!==null&&b!==null&&JE(f,b,g,y,!0)}}e:{if(h=c?el(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var T=D5;else if(WE(h))if(vC)T=F5;else{T=$5;var C=M5}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(T=L5);if(T&&(T=T(t,c))){yC(f,T,r,u);break e}C&&C(t,h,c),t==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&w0(h,"number",h.value)}switch(C=c?el(c):window,t){case"focusin":(WE(C)||C.contentEditable==="true")&&(Js=C,R0=c,Tu=null);break;case"focusout":Tu=R0=Js=null;break;case"mousedown":j0=!0;break;case"contextmenu":case"mouseup":case"dragend":j0=!1,XE(f,r,u);break;case"selectionchange":if(B5)break;case"keydown":case"keyup":XE(f,r,u)}var S;if(Aw)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Qs?mC(t,r)&&(E="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(pC&&r.locale!=="ko"&&(Qs||E!=="onCompositionStart"?E==="onCompositionEnd"&&Qs&&(S=hC()):(Ma=u,Ew="value"in Ma?Ma.value:Ma.textContent,Qs=!0)),C=kp(c,E),0<C.length&&(E=new VE(E,t,null,r,u),f.push({event:E,listeners:C}),S?E.data=S:(S=gC(r),S!==null&&(E.data=S)))),(S=O5?C5(t,r):N5(t,r))&&(c=kp(c,"onBeforeInput"),0<c.length&&(u=new VE("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:c}),u.data=S))}PC(f,e)})}function nf(t,e,r){return{instance:t,listener:e,currentTarget:r}}function kp(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Yu(t,r),a!=null&&n.unshift(nf(t,a,i)),a=Yu(t,e),a!=null&&n.push(nf(t,a,i))),t=t.return}return n}function Ms(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function JE(t,e,r,n,i){for(var a=e._reactName,o=[];r!==null&&r!==n;){var s=r,l=s.alternate,c=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&c!==null&&(s=c,i?(l=Yu(r,a),l!=null&&o.unshift(nf(r,l,s))):i||(l=Yu(r,a),l!=null&&o.push(nf(r,l,s)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var H5=/\r\n?/g,K5=/\u0000|\uFFFD/g;function ZE(t){return(typeof t=="string"?t:""+t).replace(H5,`
`).replace(K5,"")}function dh(t,e,r){if(e=ZE(e),ZE(t)!==e&&r)throw Error(ae(425))}function Ep(){}var D0=null,M0=null;function $0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var L0=typeof setTimeout=="function"?setTimeout:void 0,G5=typeof clearTimeout=="function"?clearTimeout:void 0,eS=typeof Promise=="function"?Promise:void 0,X5=typeof queueMicrotask=="function"?queueMicrotask:typeof eS<"u"?function(t){return eS.resolve(null).then(t).catch(Y5)}:L0;function Y5(t){setTimeout(function(){throw t})}function dv(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Zu(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Zu(e)}function Wa(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function tS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var lc=Math.random().toString(36).slice(2),ai="__reactFiber$"+lc,af="__reactProps$"+lc,Yi="__reactContainer$"+lc,F0="__reactEvents$"+lc,Q5="__reactListeners$"+lc,J5="__reactHandles$"+lc;function Lo(t){var e=t[ai];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Yi]||r[ai]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=tS(t);t!==null;){if(r=t[ai])return r;t=tS(t)}return e}t=r,r=t.parentNode}return null}function dd(t){return t=t[ai]||t[Yi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function el(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ae(33))}function cg(t){return t[af]||null}var V0=[],tl=-1;function co(t){return{current:t}}function _t(t){0>tl||(t.current=V0[tl],V0[tl]=null,tl--)}function ht(t,e){tl++,V0[tl]=t.current,t.current=e}var no={},Pr=co(no),Xr=co(!1),Jo=no;function Il(t,e){var r=t.type.contextTypes;if(!r)return no;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Yr(t){return t=t.childContextTypes,t!=null}function Sp(){_t(Xr),_t(Pr)}function rS(t,e,r){if(Pr.current!==no)throw Error(ae(168));ht(Pr,e),ht(Xr,r)}function OC(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(ae(108,M3(t)||"Unknown",i));return It({},r,n)}function Tp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||no,Jo=Pr.current,ht(Pr,t),ht(Xr,Xr.current),!0}function nS(t,e,r){var n=t.stateNode;if(!n)throw Error(ae(169));r?(t=OC(t,e,Jo),n.__reactInternalMemoizedMergedChildContext=t,_t(Xr),_t(Pr),ht(Pr,t)):_t(Xr),ht(Xr,r)}var Ri=null,ug=!1,hv=!1;function CC(t){Ri===null?Ri=[t]:Ri.push(t)}function Z5(t){ug=!0,CC(t)}function uo(){if(!hv&&Ri!==null){hv=!0;var t=0,e=nt;try{var r=Ri;for(nt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Ri=null,ug=!1}catch(i){throw Ri!==null&&(Ri=Ri.slice(t+1)),rC(xw,uo),i}finally{nt=e,hv=!1}}return null}var rl=[],nl=0,Ap=null,Pp=0,xn=[],wn=0,Zo=null,ji=1,Di="";function Co(t,e){rl[nl++]=Pp,rl[nl++]=Ap,Ap=t,Pp=e}function NC(t,e,r){xn[wn++]=ji,xn[wn++]=Di,xn[wn++]=Zo,Zo=t;var n=ji;t=Di;var i=32-Wn(n)-1;n&=~(1<<i),r+=1;var a=32-Wn(e)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,ji=1<<32-Wn(e)+i|r<<i|n,Di=a+t}else ji=1<<a|r<<i|n,Di=t}function Iw(t){t.return!==null&&(Co(t,1),NC(t,1,0))}function Ow(t){for(;t===Ap;)Ap=rl[--nl],rl[nl]=null,Pp=rl[--nl],rl[nl]=null;for(;t===Zo;)Zo=xn[--wn],xn[wn]=null,Di=xn[--wn],xn[wn]=null,ji=xn[--wn],xn[wn]=null}var un=null,sn=null,Et=!1,Vn=null;function RC(t,e){var r=Sn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function iS(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,un=t,sn=Wa(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,un=t,sn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Zo!==null?{id:ji,overflow:Di}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Sn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,un=t,sn=null,!0):!1;default:return!1}}function U0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function B0(t){if(Et){var e=sn;if(e){var r=e;if(!iS(t,e)){if(U0(t))throw Error(ae(418));e=Wa(r.nextSibling);var n=un;e&&iS(t,e)?RC(n,r):(t.flags=t.flags&-4097|2,Et=!1,un=t)}}else{if(U0(t))throw Error(ae(418));t.flags=t.flags&-4097|2,Et=!1,un=t}}}function aS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;un=t}function hh(t){if(t!==un)return!1;if(!Et)return aS(t),Et=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!$0(t.type,t.memoizedProps)),e&&(e=sn)){if(U0(t))throw jC(),Error(ae(418));for(;e;)RC(t,e),e=Wa(e.nextSibling)}if(aS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ae(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){sn=Wa(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}sn=null}}else sn=un?Wa(t.stateNode.nextSibling):null;return!0}function jC(){for(var t=sn;t;)t=Wa(t.nextSibling)}function Ol(){sn=un=null,Et=!1}function Cw(t){Vn===null?Vn=[t]:Vn.push(t)}var e6=la.ReactCurrentBatchConfig;function Hc(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ae(309));var n=r.stateNode}if(!n)throw Error(ae(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(ae(284));if(!r._owner)throw Error(ae(290,t))}return t}function ph(t,e){throw t=Object.prototype.toString.call(e),Error(ae(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function oS(t){var e=t._init;return e(t._payload)}function DC(t){function e(_,v){if(t){var x=_.deletions;x===null?(_.deletions=[v],_.flags|=16):x.push(v)}}function r(_,v){if(!t)return null;for(;v!==null;)e(_,v),v=v.sibling;return null}function n(_,v){for(_=new Map;v!==null;)v.key!==null?_.set(v.key,v):_.set(v.index,v),v=v.sibling;return _}function i(_,v){return _=Ga(_,v),_.index=0,_.sibling=null,_}function a(_,v,x){return _.index=x,t?(x=_.alternate,x!==null?(x=x.index,x<v?(_.flags|=2,v):x):(_.flags|=2,v)):(_.flags|=1048576,v)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function s(_,v,x,k){return v===null||v.tag!==6?(v=xv(x,_.mode,k),v.return=_,v):(v=i(v,x),v.return=_,v)}function l(_,v,x,k){var T=x.type;return T===Ys?u(_,v,x.props.children,k,x.key):v!==null&&(v.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===_a&&oS(T)===v.type)?(k=i(v,x.props),k.ref=Hc(_,v,x),k.return=_,k):(k=ep(x.type,x.key,x.props,null,_.mode,k),k.ref=Hc(_,v,x),k.return=_,k)}function c(_,v,x,k){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=wv(x,_.mode,k),v.return=_,v):(v=i(v,x.children||[]),v.return=_,v)}function u(_,v,x,k,T){return v===null||v.tag!==7?(v=Ko(x,_.mode,k,T),v.return=_,v):(v=i(v,x),v.return=_,v)}function f(_,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=xv(""+v,_.mode,x),v.return=_,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case nh:return x=ep(v.type,v.key,v.props,null,_.mode,x),x.ref=Hc(_,null,v),x.return=_,x;case Xs:return v=wv(v,_.mode,x),v.return=_,v;case _a:var k=v._init;return f(_,k(v._payload),x)}if(uu(v)||Uc(v))return v=Ko(v,_.mode,x,null),v.return=_,v;ph(_,v)}return null}function h(_,v,x,k){var T=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return T!==null?null:s(_,v,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case nh:return x.key===T?l(_,v,x,k):null;case Xs:return x.key===T?c(_,v,x,k):null;case _a:return T=x._init,h(_,v,T(x._payload),k)}if(uu(x)||Uc(x))return T!==null?null:u(_,v,x,k,null);ph(_,x)}return null}function p(_,v,x,k,T){if(typeof k=="string"&&k!==""||typeof k=="number")return _=_.get(x)||null,s(v,_,""+k,T);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case nh:return _=_.get(k.key===null?x:k.key)||null,l(v,_,k,T);case Xs:return _=_.get(k.key===null?x:k.key)||null,c(v,_,k,T);case _a:var C=k._init;return p(_,v,x,C(k._payload),T)}if(uu(k)||Uc(k))return _=_.get(x)||null,u(v,_,k,T,null);ph(v,k)}return null}function g(_,v,x,k){for(var T=null,C=null,S=v,E=v=0,P=null;S!==null&&E<x.length;E++){S.index>E?(P=S,S=null):P=S.sibling;var O=h(_,S,x[E],k);if(O===null){S===null&&(S=P);break}t&&S&&O.alternate===null&&e(_,S),v=a(O,v,E),C===null?T=O:C.sibling=O,C=O,S=P}if(E===x.length)return r(_,S),Et&&Co(_,E),T;if(S===null){for(;E<x.length;E++)S=f(_,x[E],k),S!==null&&(v=a(S,v,E),C===null?T=S:C.sibling=S,C=S);return Et&&Co(_,E),T}for(S=n(_,S);E<x.length;E++)P=p(S,_,E,x[E],k),P!==null&&(t&&P.alternate!==null&&S.delete(P.key===null?E:P.key),v=a(P,v,E),C===null?T=P:C.sibling=P,C=P);return t&&S.forEach(function(R){return e(_,R)}),Et&&Co(_,E),T}function y(_,v,x,k){var T=Uc(x);if(typeof T!="function")throw Error(ae(150));if(x=T.call(x),x==null)throw Error(ae(151));for(var C=T=null,S=v,E=v=0,P=null,O=x.next();S!==null&&!O.done;E++,O=x.next()){S.index>E?(P=S,S=null):P=S.sibling;var R=h(_,S,O.value,k);if(R===null){S===null&&(S=P);break}t&&S&&R.alternate===null&&e(_,S),v=a(R,v,E),C===null?T=R:C.sibling=R,C=R,S=P}if(O.done)return r(_,S),Et&&Co(_,E),T;if(S===null){for(;!O.done;E++,O=x.next())O=f(_,O.value,k),O!==null&&(v=a(O,v,E),C===null?T=O:C.sibling=O,C=O);return Et&&Co(_,E),T}for(S=n(_,S);!O.done;E++,O=x.next())O=p(S,_,E,O.value,k),O!==null&&(t&&O.alternate!==null&&S.delete(O.key===null?E:O.key),v=a(O,v,E),C===null?T=O:C.sibling=O,C=O);return t&&S.forEach(function(N){return e(_,N)}),Et&&Co(_,E),T}function b(_,v,x,k){if(typeof x=="object"&&x!==null&&x.type===Ys&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case nh:e:{for(var T=x.key,C=v;C!==null;){if(C.key===T){if(T=x.type,T===Ys){if(C.tag===7){r(_,C.sibling),v=i(C,x.props.children),v.return=_,_=v;break e}}else if(C.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===_a&&oS(T)===C.type){r(_,C.sibling),v=i(C,x.props),v.ref=Hc(_,C,x),v.return=_,_=v;break e}r(_,C);break}else e(_,C);C=C.sibling}x.type===Ys?(v=Ko(x.props.children,_.mode,k,x.key),v.return=_,_=v):(k=ep(x.type,x.key,x.props,null,_.mode,k),k.ref=Hc(_,v,x),k.return=_,_=k)}return o(_);case Xs:e:{for(C=x.key;v!==null;){if(v.key===C)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){r(_,v.sibling),v=i(v,x.children||[]),v.return=_,_=v;break e}else{r(_,v);break}else e(_,v);v=v.sibling}v=wv(x,_.mode,k),v.return=_,_=v}return o(_);case _a:return C=x._init,b(_,v,C(x._payload),k)}if(uu(x))return g(_,v,x,k);if(Uc(x))return y(_,v,x,k);ph(_,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(r(_,v.sibling),v=i(v,x),v.return=_,_=v):(r(_,v),v=xv(x,_.mode,k),v.return=_,_=v),o(_)):r(_,v)}return b}var Cl=DC(!0),MC=DC(!1),Ip=co(null),Op=null,il=null,Nw=null;function Rw(){Nw=il=Op=null}function jw(t){var e=Ip.current;_t(Ip),t._currentValue=e}function z0(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function yl(t,e){Op=t,Nw=il=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Kr=!0),t.firstContext=null)}function On(t){var e=t._currentValue;if(Nw!==t)if(t={context:t,memoizedValue:e,next:null},il===null){if(Op===null)throw Error(ae(308));il=t,Op.dependencies={lanes:0,firstContext:t}}else il=il.next=t;return e}var Fo=null;function Dw(t){Fo===null?Fo=[t]:Fo.push(t)}function $C(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,Dw(e)):(r.next=i.next,i.next=r),e.interleaved=r,Qi(t,n)}function Qi(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var ka=!1;function Mw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function LC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function zi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function qa(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Xe&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Qi(t,r)}return i=n.interleaved,i===null?(e.next=e,Dw(n)):(e.next=i.next,i.next=e),n.interleaved=e,Qi(t,r)}function Gh(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,ww(t,r)}}function sS(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Cp(t,e,r,n){var i=t.updateQueue;ka=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,c=l.next;l.next=null,o===null?a=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==o&&(s===null?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;o=0,u=c=l=null,s=a;do{var h=s.lane,p=s.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=t,y=s;switch(h=e,p=r,y.tag){case 1:if(g=y.payload,typeof g=="function"){f=g.call(p,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,h=typeof g=="function"?g.call(p,f,h):g,h==null)break e;f=It({},f,h);break e;case 2:ka=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(c=u=p,l=f):u=u.next=p,o|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);ts|=o,t.lanes=o,t.memoizedState=f}}function lS(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(ae(191,i));i.call(n)}}}var hd={},fi=co(hd),of=co(hd),sf=co(hd);function Vo(t){if(t===hd)throw Error(ae(174));return t}function $w(t,e){switch(ht(sf,e),ht(of,t),ht(fi,hd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:k0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=k0(e,t)}_t(fi),ht(fi,e)}function Nl(){_t(fi),_t(of),_t(sf)}function FC(t){Vo(sf.current);var e=Vo(fi.current),r=k0(e,t.type);e!==r&&(ht(of,t),ht(fi,r))}function Lw(t){of.current===t&&(_t(fi),_t(of))}var At=co(0);function Np(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var pv=[];function Fw(){for(var t=0;t<pv.length;t++)pv[t]._workInProgressVersionPrimary=null;pv.length=0}var Xh=la.ReactCurrentDispatcher,mv=la.ReactCurrentBatchConfig,es=0,Pt=null,Xt=null,rr=null,Rp=!1,Au=!1,lf=0,t6=0;function vr(){throw Error(ae(321))}function Vw(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Kn(t[r],e[r]))return!1;return!0}function Uw(t,e,r,n,i,a){if(es=a,Pt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Xh.current=t===null||t.memoizedState===null?a6:o6,t=r(n,i),Au){a=0;do{if(Au=!1,lf=0,25<=a)throw Error(ae(301));a+=1,rr=Xt=null,e.updateQueue=null,Xh.current=s6,t=r(n,i)}while(Au)}if(Xh.current=jp,e=Xt!==null&&Xt.next!==null,es=0,rr=Xt=Pt=null,Rp=!1,e)throw Error(ae(300));return t}function Bw(){var t=lf!==0;return lf=0,t}function ti(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rr===null?Pt.memoizedState=rr=t:rr=rr.next=t,rr}function Cn(){if(Xt===null){var t=Pt.alternate;t=t!==null?t.memoizedState:null}else t=Xt.next;var e=rr===null?Pt.memoizedState:rr.next;if(e!==null)rr=e,Xt=t;else{if(t===null)throw Error(ae(310));Xt=t,t={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},rr===null?Pt.memoizedState=rr=t:rr=rr.next=t}return rr}function cf(t,e){return typeof e=="function"?e(t):e}function gv(t){var e=Cn(),r=e.queue;if(r===null)throw Error(ae(311));r.lastRenderedReducer=t;var n=Xt,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var s=o=null,l=null,c=a;do{var u=c.lane;if((es&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=f,o=n):l=l.next=f,Pt.lanes|=u,ts|=u}c=c.next}while(c!==null&&c!==a);l===null?o=n:l.next=s,Kn(n,e.memoizedState)||(Kr=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,Pt.lanes|=a,ts|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function yv(t){var e=Cn(),r=e.queue;if(r===null)throw Error(ae(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);Kn(a,e.memoizedState)||(Kr=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function VC(){}function UC(t,e){var r=Pt,n=Cn(),i=e(),a=!Kn(n.memoizedState,i);if(a&&(n.memoizedState=i,Kr=!0),n=n.queue,zw(WC.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||rr!==null&&rr.memoizedState.tag&1){if(r.flags|=2048,uf(9,zC.bind(null,r,n,i,e),void 0,null),ir===null)throw Error(ae(349));es&30||BC(r,e,i)}return i}function BC(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Pt.updateQueue,e===null?(e={lastEffect:null,stores:null},Pt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function zC(t,e,r,n){e.value=r,e.getSnapshot=n,qC(e)&&HC(t)}function WC(t,e,r){return r(function(){qC(e)&&HC(t)})}function qC(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Kn(t,r)}catch{return!0}}function HC(t){var e=Qi(t,1);e!==null&&qn(e,t,1,-1)}function cS(t){var e=ti();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cf,lastRenderedState:t},e.queue=t,t=t.dispatch=i6.bind(null,Pt,t),[e.memoizedState,t]}function uf(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Pt.updateQueue,e===null?(e={lastEffect:null,stores:null},Pt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function KC(){return Cn().memoizedState}function Yh(t,e,r,n){var i=ti();Pt.flags|=t,i.memoizedState=uf(1|e,r,void 0,n===void 0?null:n)}function fg(t,e,r,n){var i=Cn();n=n===void 0?null:n;var a=void 0;if(Xt!==null){var o=Xt.memoizedState;if(a=o.destroy,n!==null&&Vw(n,o.deps)){i.memoizedState=uf(e,r,a,n);return}}Pt.flags|=t,i.memoizedState=uf(1|e,r,a,n)}function uS(t,e){return Yh(8390656,8,t,e)}function zw(t,e){return fg(2048,8,t,e)}function GC(t,e){return fg(4,2,t,e)}function XC(t,e){return fg(4,4,t,e)}function YC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function QC(t,e,r){return r=r!=null?r.concat([t]):null,fg(4,4,YC.bind(null,e,t),r)}function Ww(){}function JC(t,e){var r=Cn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Vw(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function ZC(t,e){var r=Cn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Vw(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function eN(t,e,r){return es&21?(Kn(r,e)||(r=aC(),Pt.lanes|=r,ts|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Kr=!0),t.memoizedState=r)}function r6(t,e){var r=nt;nt=r!==0&&4>r?r:4,t(!0);var n=mv.transition;mv.transition={};try{t(!1),e()}finally{nt=r,mv.transition=n}}function tN(){return Cn().memoizedState}function n6(t,e,r){var n=Ka(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},rN(t))nN(e,r);else if(r=$C(t,e,r,n),r!==null){var i=Fr();qn(r,t,n,i),iN(r,e,n)}}function i6(t,e,r){var n=Ka(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(rN(t))nN(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,s=a(o,r);if(i.hasEagerState=!0,i.eagerState=s,Kn(s,o)){var l=e.interleaved;l===null?(i.next=i,Dw(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=$C(t,e,i,n),r!==null&&(i=Fr(),qn(r,t,n,i),iN(r,e,n))}}function rN(t){var e=t.alternate;return t===Pt||e!==null&&e===Pt}function nN(t,e){Au=Rp=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function iN(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,ww(t,r)}}var jp={readContext:On,useCallback:vr,useContext:vr,useEffect:vr,useImperativeHandle:vr,useInsertionEffect:vr,useLayoutEffect:vr,useMemo:vr,useReducer:vr,useRef:vr,useState:vr,useDebugValue:vr,useDeferredValue:vr,useTransition:vr,useMutableSource:vr,useSyncExternalStore:vr,useId:vr,unstable_isNewReconciler:!1},a6={readContext:On,useCallback:function(t,e){return ti().memoizedState=[t,e===void 0?null:e],t},useContext:On,useEffect:uS,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Yh(4194308,4,YC.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Yh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Yh(4,2,t,e)},useMemo:function(t,e){var r=ti();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=ti();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=n6.bind(null,Pt,t),[n.memoizedState,t]},useRef:function(t){var e=ti();return t={current:t},e.memoizedState=t},useState:cS,useDebugValue:Ww,useDeferredValue:function(t){return ti().memoizedState=t},useTransition:function(){var t=cS(!1),e=t[0];return t=r6.bind(null,t[1]),ti().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Pt,i=ti();if(Et){if(r===void 0)throw Error(ae(407));r=r()}else{if(r=e(),ir===null)throw Error(ae(349));es&30||BC(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,uS(WC.bind(null,n,a,t),[t]),n.flags|=2048,uf(9,zC.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=ti(),e=ir.identifierPrefix;if(Et){var r=Di,n=ji;r=(n&~(1<<32-Wn(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=lf++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=t6++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},o6={readContext:On,useCallback:JC,useContext:On,useEffect:zw,useImperativeHandle:QC,useInsertionEffect:GC,useLayoutEffect:XC,useMemo:ZC,useReducer:gv,useRef:KC,useState:function(){return gv(cf)},useDebugValue:Ww,useDeferredValue:function(t){var e=Cn();return eN(e,Xt.memoizedState,t)},useTransition:function(){var t=gv(cf)[0],e=Cn().memoizedState;return[t,e]},useMutableSource:VC,useSyncExternalStore:UC,useId:tN,unstable_isNewReconciler:!1},s6={readContext:On,useCallback:JC,useContext:On,useEffect:zw,useImperativeHandle:QC,useInsertionEffect:GC,useLayoutEffect:XC,useMemo:ZC,useReducer:yv,useRef:KC,useState:function(){return yv(cf)},useDebugValue:Ww,useDeferredValue:function(t){var e=Cn();return Xt===null?e.memoizedState=t:eN(e,Xt.memoizedState,t)},useTransition:function(){var t=yv(cf)[0],e=Cn().memoizedState;return[t,e]},useMutableSource:VC,useSyncExternalStore:UC,useId:tN,unstable_isNewReconciler:!1};function $n(t,e){if(t&&t.defaultProps){e=It({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function W0(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:It({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var dg={isMounted:function(t){return(t=t._reactInternals)?ys(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Fr(),i=Ka(t),a=zi(n,i);a.payload=e,r!=null&&(a.callback=r),e=qa(t,a,i),e!==null&&(qn(e,t,i,n),Gh(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Fr(),i=Ka(t),a=zi(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=qa(t,a,i),e!==null&&(qn(e,t,i,n),Gh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Fr(),n=Ka(t),i=zi(r,n);i.tag=2,e!=null&&(i.callback=e),e=qa(t,i,n),e!==null&&(qn(e,t,n,r),Gh(e,t,n))}};function fS(t,e,r,n,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!tf(r,n)||!tf(i,a):!0}function aN(t,e,r){var n=!1,i=no,a=e.contextType;return typeof a=="object"&&a!==null?a=On(a):(i=Yr(e)?Jo:Pr.current,n=e.contextTypes,a=(n=n!=null)?Il(t,i):no),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=dg,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function dS(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&dg.enqueueReplaceState(e,e.state,null)}function q0(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},Mw(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=On(a):(a=Yr(e)?Jo:Pr.current,i.context=Il(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(W0(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&dg.enqueueReplaceState(i,i.state,null),Cp(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Rl(t,e){try{var r="",n=e;do r+=D3(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function vv(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function H0(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var l6=typeof WeakMap=="function"?WeakMap:Map;function oN(t,e,r){r=zi(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Mp||(Mp=!0,rb=n),H0(t,e)},r}function sN(t,e,r){r=zi(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){H0(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){H0(t,e),typeof n!="function"&&(Ha===null?Ha=new Set([this]):Ha.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function hS(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new l6;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=_6.bind(null,t,e,r),e.then(t,t))}function pS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function mS(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=zi(-1,1),e.tag=2,qa(r,e,1))),r.lanes|=1),t)}var c6=la.ReactCurrentOwner,Kr=!1;function Rr(t,e,r,n){e.child=t===null?MC(e,null,r,n):Cl(e,t.child,r,n)}function gS(t,e,r,n,i){r=r.render;var a=e.ref;return yl(e,i),n=Uw(t,e,r,n,a,i),r=Bw(),t!==null&&!Kr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ji(t,e,i)):(Et&&r&&Iw(e),e.flags|=1,Rr(t,e,n,i),e.child)}function yS(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!Jw(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,lN(t,e,a,n,i)):(t=ep(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:tf,r(o,n)&&t.ref===e.ref)return Ji(t,e,i)}return e.flags|=1,t=Ga(a,n),t.ref=e.ref,t.return=e,e.child=t}function lN(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(tf(a,n)&&t.ref===e.ref)if(Kr=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(Kr=!0);else return e.lanes=t.lanes,Ji(t,e,i)}return K0(t,e,r,n,i)}function cN(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ht(ol,nn),nn|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ht(ol,nn),nn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,ht(ol,nn),nn|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,ht(ol,nn),nn|=n;return Rr(t,e,i,r),e.child}function uN(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function K0(t,e,r,n,i){var a=Yr(r)?Jo:Pr.current;return a=Il(e,a),yl(e,i),r=Uw(t,e,r,n,a,i),n=Bw(),t!==null&&!Kr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ji(t,e,i)):(Et&&n&&Iw(e),e.flags|=1,Rr(t,e,r,i),e.child)}function vS(t,e,r,n,i){if(Yr(r)){var a=!0;Tp(e)}else a=!1;if(yl(e,i),e.stateNode===null)Qh(t,e),aN(e,r,n),q0(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=On(c):(c=Yr(r)?Jo:Pr.current,c=Il(e,c));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||l!==c)&&dS(e,o,n,c),ka=!1;var h=e.memoizedState;o.state=h,Cp(e,n,o,i),l=e.memoizedState,s!==n||h!==l||Xr.current||ka?(typeof u=="function"&&(W0(e,r,u,n),l=e.memoizedState),(s=ka||fS(e,r,s,n,h,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=c,n=s):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,LC(t,e),s=e.memoizedProps,c=e.type===e.elementType?s:$n(e.type,s),o.props=c,f=e.pendingProps,h=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=On(l):(l=Yr(r)?Jo:Pr.current,l=Il(e,l));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||h!==l)&&dS(e,o,n,l),ka=!1,h=e.memoizedState,o.state=h,Cp(e,n,o,i);var g=e.memoizedState;s!==f||h!==g||Xr.current||ka?(typeof p=="function"&&(W0(e,r,p,n),g=e.memoizedState),(c=ka||fS(e,r,c,n,h,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),o.props=n,o.state=g,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return G0(t,e,r,n,a,i)}function G0(t,e,r,n,i,a){uN(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&nS(e,r,!1),Ji(t,e,a);n=e.stateNode,c6.current=e;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Cl(e,t.child,null,a),e.child=Cl(e,null,s,a)):Rr(t,e,s,a),e.memoizedState=n.state,i&&nS(e,r,!0),e.child}function fN(t){var e=t.stateNode;e.pendingContext?rS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&rS(t,e.context,!1),$w(t,e.containerInfo)}function bS(t,e,r,n,i){return Ol(),Cw(i),e.flags|=256,Rr(t,e,r,n),e.child}var X0={dehydrated:null,treeContext:null,retryLane:0};function Y0(t){return{baseLanes:t,cachePool:null,transitions:null}}function dN(t,e,r){var n=e.pendingProps,i=At.current,a=!1,o=(e.flags&128)!==0,s;if((s=o)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ht(At,i&1),t===null)return B0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,a?(n=e.mode,a=e.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=mg(o,n,0,null),t=Ko(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Y0(r),e.memoizedState=X0,t):qw(e,o));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return u6(t,e,o,n,s,i,r);if(a){a=n.fallback,o=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Ga(i,l),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=Ga(s,a):(a=Ko(a,o,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,o=t.child.memoizedState,o=o===null?Y0(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~r,e.memoizedState=X0,n}return a=t.child,t=a.sibling,n=Ga(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function qw(t,e){return e=mg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function mh(t,e,r,n){return n!==null&&Cw(n),Cl(e,t.child,null,r),t=qw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function u6(t,e,r,n,i,a,o){if(r)return e.flags&256?(e.flags&=-257,n=vv(Error(ae(422))),mh(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=mg({mode:"visible",children:n.children},i,0,null),a=Ko(a,i,o,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&Cl(e,t.child,null,o),e.child.memoizedState=Y0(o),e.memoizedState=X0,a);if(!(e.mode&1))return mh(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,a=Error(ae(419)),n=vv(a,n,void 0),mh(t,e,o,n)}if(s=(o&t.childLanes)!==0,Kr||s){if(n=ir,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Qi(t,i),qn(n,t,i,-1))}return Qw(),n=vv(Error(ae(421))),mh(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=k6.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,sn=Wa(i.nextSibling),un=e,Et=!0,Vn=null,t!==null&&(xn[wn++]=ji,xn[wn++]=Di,xn[wn++]=Zo,ji=t.id,Di=t.overflow,Zo=e),e=qw(e,n.children),e.flags|=4096,e)}function xS(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),z0(t.return,e,r)}function bv(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function hN(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(Rr(t,e,n.children,r),n=At.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xS(t,r,e);else if(t.tag===19)xS(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(ht(At,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Np(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),bv(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Np(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}bv(e,!0,r,null,a);break;case"together":bv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Qh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ji(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),ts|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ae(153));if(e.child!==null){for(t=e.child,r=Ga(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Ga(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function f6(t,e,r){switch(e.tag){case 3:fN(e),Ol();break;case 5:FC(e);break;case 1:Yr(e.type)&&Tp(e);break;case 4:$w(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;ht(Ip,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(ht(At,At.current&1),e.flags|=128,null):r&e.child.childLanes?dN(t,e,r):(ht(At,At.current&1),t=Ji(t,e,r),t!==null?t.sibling:null);ht(At,At.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return hN(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ht(At,At.current),n)break;return null;case 22:case 23:return e.lanes=0,cN(t,e,r)}return Ji(t,e,r)}var pN,Q0,mN,gN;pN=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Q0=function(){};mN=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Vo(fi.current);var a=null;switch(r){case"input":i=b0(t,i),n=b0(t,n),a=[];break;case"select":i=It({},i,{value:void 0}),n=It({},n,{value:void 0}),a=[];break;case"textarea":i=_0(t,i),n=_0(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Ep)}E0(r,n);var o;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var s=i[c];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Gu.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in n){var l=n[c];if(s=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(a||(a=[]),a.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Gu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&gt("scroll",t),a||s===l||(a=[])):(a=a||[]).push(c,l))}r&&(a=a||[]).push("style",r);var c=a;(e.updateQueue=c)&&(e.flags|=4)}};gN=function(t,e,r,n){r!==n&&(e.flags|=4)};function Kc(t,e){if(!Et)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function br(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function d6(t,e,r){var n=e.pendingProps;switch(Ow(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return br(e),null;case 1:return Yr(e.type)&&Sp(),br(e),null;case 3:return n=e.stateNode,Nl(),_t(Xr),_t(Pr),Fw(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(hh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Vn!==null&&(ab(Vn),Vn=null))),Q0(t,e),br(e),null;case 5:Lw(e);var i=Vo(sf.current);if(r=e.type,t!==null&&e.stateNode!=null)mN(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(ae(166));return br(e),null}if(t=Vo(fi.current),hh(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[ai]=e,n[af]=a,t=(e.mode&1)!==0,r){case"dialog":gt("cancel",n),gt("close",n);break;case"iframe":case"object":case"embed":gt("load",n);break;case"video":case"audio":for(i=0;i<du.length;i++)gt(du[i],n);break;case"source":gt("error",n);break;case"img":case"image":case"link":gt("error",n),gt("load",n);break;case"details":gt("toggle",n);break;case"input":IE(n,a),gt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},gt("invalid",n);break;case"textarea":CE(n,a),gt("invalid",n)}E0(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?n.textContent!==s&&(a.suppressHydrationWarning!==!0&&dh(n.textContent,s,t),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&dh(n.textContent,s,t),i=["children",""+s]):Gu.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&gt("scroll",n)}switch(r){case"input":ih(n),OE(n,a,!0);break;case"textarea":ih(n),NE(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Ep)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=WO(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[ai]=e,t[af]=n,pN(t,e,!1,!1),e.stateNode=t;e:{switch(o=S0(r,n),r){case"dialog":gt("cancel",t),gt("close",t),i=n;break;case"iframe":case"object":case"embed":gt("load",t),i=n;break;case"video":case"audio":for(i=0;i<du.length;i++)gt(du[i],t);i=n;break;case"source":gt("error",t),i=n;break;case"img":case"image":case"link":gt("error",t),gt("load",t),i=n;break;case"details":gt("toggle",t),i=n;break;case"input":IE(t,n),i=b0(t,n),gt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=It({},n,{value:void 0}),gt("invalid",t);break;case"textarea":CE(t,n),i=_0(t,n),gt("invalid",t);break;default:i=n}E0(r,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?KO(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&qO(t,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Xu(t,l):typeof l=="number"&&Xu(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Gu.hasOwnProperty(a)?l!=null&&a==="onScroll"&&gt("scroll",t):l!=null&&mw(t,a,l,o))}switch(r){case"input":ih(t),OE(t,n,!1);break;case"textarea":ih(t),NE(t);break;case"option":n.value!=null&&t.setAttribute("value",""+ro(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?hl(t,!!n.multiple,a,!1):n.defaultValue!=null&&hl(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ep)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return br(e),null;case 6:if(t&&e.stateNode!=null)gN(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(ae(166));if(r=Vo(sf.current),Vo(fi.current),hh(e)){if(n=e.stateNode,r=e.memoizedProps,n[ai]=e,(a=n.nodeValue!==r)&&(t=un,t!==null))switch(t.tag){case 3:dh(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&dh(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ai]=e,e.stateNode=n}return br(e),null;case 13:if(_t(At),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Et&&sn!==null&&e.mode&1&&!(e.flags&128))jC(),Ol(),e.flags|=98560,a=!1;else if(a=hh(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(ae(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ae(317));a[ai]=e}else Ol(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;br(e),a=!1}else Vn!==null&&(ab(Vn),Vn=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||At.current&1?Yt===0&&(Yt=3):Qw())),e.updateQueue!==null&&(e.flags|=4),br(e),null);case 4:return Nl(),Q0(t,e),t===null&&rf(e.stateNode.containerInfo),br(e),null;case 10:return jw(e.type._context),br(e),null;case 17:return Yr(e.type)&&Sp(),br(e),null;case 19:if(_t(At),a=e.memoizedState,a===null)return br(e),null;if(n=(e.flags&128)!==0,o=a.rendering,o===null)if(n)Kc(a,!1);else{if(Yt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Np(t),o!==null){for(e.flags|=128,Kc(a,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return ht(At,At.current&1|2),e.child}t=t.sibling}a.tail!==null&&Ft()>jl&&(e.flags|=128,n=!0,Kc(a,!1),e.lanes=4194304)}else{if(!n)if(t=Np(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Kc(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Et)return br(e),null}else 2*Ft()-a.renderingStartTime>jl&&r!==1073741824&&(e.flags|=128,n=!0,Kc(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(r=a.last,r!==null?r.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Ft(),e.sibling=null,r=At.current,ht(At,n?r&1|2:r&1),e):(br(e),null);case 22:case 23:return Yw(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?nn&1073741824&&(br(e),e.subtreeFlags&6&&(e.flags|=8192)):br(e),null;case 24:return null;case 25:return null}throw Error(ae(156,e.tag))}function h6(t,e){switch(Ow(e),e.tag){case 1:return Yr(e.type)&&Sp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Nl(),_t(Xr),_t(Pr),Fw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Lw(e),null;case 13:if(_t(At),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ae(340));Ol()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return _t(At),null;case 4:return Nl(),null;case 10:return jw(e.type._context),null;case 22:case 23:return Yw(),null;case 24:return null;default:return null}}var gh=!1,Er=!1,p6=typeof WeakSet=="function"?WeakSet:Set,pe=null;function al(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Rt(t,e,n)}else r.current=null}function J0(t,e,r){try{r()}catch(n){Rt(t,e,n)}}var wS=!1;function m6(t,e){if(D0=wp,t=wC(),Pw(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,s=-1,l=-1,c=0,u=0,f=t,h=null;t:for(;;){for(var p;f!==r||i!==0&&f.nodeType!==3||(s=o+i),f!==a||n!==0&&f.nodeType!==3||(l=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===r&&++c===i&&(s=o),h===a&&++u===n&&(l=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(M0={focusedElem:t,selectionRange:r},wp=!1,pe=e;pe!==null;)if(e=pe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,pe=t;else for(;pe!==null;){e=pe;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,b=g.memoizedState,_=e.stateNode,v=_.getSnapshotBeforeUpdate(e.elementType===e.type?y:$n(e.type,y),b);_.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ae(163))}}catch(k){Rt(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,pe=t;break}pe=e.return}return g=wS,wS=!1,g}function Pu(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&J0(e,r,a)}i=i.next}while(i!==n)}}function hg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Z0(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function yN(t){var e=t.alternate;e!==null&&(t.alternate=null,yN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ai],delete e[af],delete e[F0],delete e[Q5],delete e[J5])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function vN(t){return t.tag===5||t.tag===3||t.tag===4}function _S(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||vN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function eb(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Ep));else if(n!==4&&(t=t.child,t!==null))for(eb(t,e,r),t=t.sibling;t!==null;)eb(t,e,r),t=t.sibling}function tb(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(tb(t,e,r),t=t.sibling;t!==null;)tb(t,e,r),t=t.sibling}var cr=null,Ln=!1;function ba(t,e,r){for(r=r.child;r!==null;)bN(t,e,r),r=r.sibling}function bN(t,e,r){if(ui&&typeof ui.onCommitFiberUnmount=="function")try{ui.onCommitFiberUnmount(ag,r)}catch{}switch(r.tag){case 5:Er||al(r,e);case 6:var n=cr,i=Ln;cr=null,ba(t,e,r),cr=n,Ln=i,cr!==null&&(Ln?(t=cr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):cr.removeChild(r.stateNode));break;case 18:cr!==null&&(Ln?(t=cr,r=r.stateNode,t.nodeType===8?dv(t.parentNode,r):t.nodeType===1&&dv(t,r),Zu(t)):dv(cr,r.stateNode));break;case 4:n=cr,i=Ln,cr=r.stateNode.containerInfo,Ln=!0,ba(t,e,r),cr=n,Ln=i;break;case 0:case 11:case 14:case 15:if(!Er&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&J0(r,e,o),i=i.next}while(i!==n)}ba(t,e,r);break;case 1:if(!Er&&(al(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){Rt(r,e,s)}ba(t,e,r);break;case 21:ba(t,e,r);break;case 22:r.mode&1?(Er=(n=Er)||r.memoizedState!==null,ba(t,e,r),Er=n):ba(t,e,r);break;default:ba(t,e,r)}}function kS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new p6),e.forEach(function(n){var i=E6.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Dn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 5:cr=s.stateNode,Ln=!1;break e;case 3:cr=s.stateNode.containerInfo,Ln=!0;break e;case 4:cr=s.stateNode.containerInfo,Ln=!0;break e}s=s.return}if(cr===null)throw Error(ae(160));bN(a,o,i),cr=null,Ln=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Rt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)xN(e,t),e=e.sibling}function xN(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Dn(e,t),Zn(t),n&4){try{Pu(3,t,t.return),hg(3,t)}catch(y){Rt(t,t.return,y)}try{Pu(5,t,t.return)}catch(y){Rt(t,t.return,y)}}break;case 1:Dn(e,t),Zn(t),n&512&&r!==null&&al(r,r.return);break;case 5:if(Dn(e,t),Zn(t),n&512&&r!==null&&al(r,r.return),t.flags&32){var i=t.stateNode;try{Xu(i,"")}catch(y){Rt(t,t.return,y)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=r!==null?r.memoizedProps:a,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&BO(i,a),S0(s,o);var c=S0(s,a);for(o=0;o<l.length;o+=2){var u=l[o],f=l[o+1];u==="style"?KO(i,f):u==="dangerouslySetInnerHTML"?qO(i,f):u==="children"?Xu(i,f):mw(i,u,f,c)}switch(s){case"input":x0(i,a);break;case"textarea":zO(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?hl(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?hl(i,!!a.multiple,a.defaultValue,!0):hl(i,!!a.multiple,a.multiple?[]:"",!1))}i[af]=a}catch(y){Rt(t,t.return,y)}}break;case 6:if(Dn(e,t),Zn(t),n&4){if(t.stateNode===null)throw Error(ae(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(y){Rt(t,t.return,y)}}break;case 3:if(Dn(e,t),Zn(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Zu(e.containerInfo)}catch(y){Rt(t,t.return,y)}break;case 4:Dn(e,t),Zn(t);break;case 13:Dn(e,t),Zn(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Gw=Ft())),n&4&&kS(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(Er=(c=Er)||u,Dn(e,t),Er=c):Dn(e,t),Zn(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(pe=t,u=t.child;u!==null;){for(f=pe=u;pe!==null;){switch(h=pe,p=h.child,h.tag){case 0:case 11:case 14:case 15:Pu(4,h,h.return);break;case 1:al(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){Rt(n,r,y)}}break;case 5:al(h,h.return);break;case 22:if(h.memoizedState!==null){SS(f);continue}}p!==null?(p.return=h,pe=p):SS(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=HO("display",o))}catch(y){Rt(t,t.return,y)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(y){Rt(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Dn(e,t),Zn(t),n&4&&kS(t);break;case 21:break;default:Dn(e,t),Zn(t)}}function Zn(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(vN(r)){var n=r;break e}r=r.return}throw Error(ae(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Xu(i,""),n.flags&=-33);var a=_S(t);tb(t,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,s=_S(t);eb(t,s,o);break;default:throw Error(ae(161))}}catch(l){Rt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function g6(t,e,r){pe=t,wN(t)}function wN(t,e,r){for(var n=(t.mode&1)!==0;pe!==null;){var i=pe,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||gh;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Er;s=gh;var c=Er;if(gh=o,(Er=l)&&!c)for(pe=i;pe!==null;)o=pe,l=o.child,o.tag===22&&o.memoizedState!==null?TS(i):l!==null?(l.return=o,pe=l):TS(i);for(;a!==null;)pe=a,wN(a),a=a.sibling;pe=i,gh=s,Er=c}ES(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,pe=a):ES(t)}}function ES(t){for(;pe!==null;){var e=pe;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Er||hg(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Er)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:$n(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&lS(e,a,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}lS(e,o,r)}break;case 5:var s=e.stateNode;if(r===null&&e.flags&4){r=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Zu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ae(163))}Er||e.flags&512&&Z0(e)}catch(h){Rt(e,e.return,h)}}if(e===t){pe=null;break}if(r=e.sibling,r!==null){r.return=e.return,pe=r;break}pe=e.return}}function SS(t){for(;pe!==null;){var e=pe;if(e===t){pe=null;break}var r=e.sibling;if(r!==null){r.return=e.return,pe=r;break}pe=e.return}}function TS(t){for(;pe!==null;){var e=pe;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{hg(4,e)}catch(l){Rt(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){Rt(e,i,l)}}var a=e.return;try{Z0(e)}catch(l){Rt(e,a,l)}break;case 5:var o=e.return;try{Z0(e)}catch(l){Rt(e,o,l)}}}catch(l){Rt(e,e.return,l)}if(e===t){pe=null;break}var s=e.sibling;if(s!==null){s.return=e.return,pe=s;break}pe=e.return}}var y6=Math.ceil,Dp=la.ReactCurrentDispatcher,Hw=la.ReactCurrentOwner,An=la.ReactCurrentBatchConfig,Xe=0,ir=null,Bt=null,dr=0,nn=0,ol=co(0),Yt=0,ff=null,ts=0,pg=0,Kw=0,Iu=null,qr=null,Gw=0,jl=1/0,Ci=null,Mp=!1,rb=null,Ha=null,yh=!1,$a=null,$p=0,Ou=0,nb=null,Jh=-1,Zh=0;function Fr(){return Xe&6?Ft():Jh!==-1?Jh:Jh=Ft()}function Ka(t){return t.mode&1?Xe&2&&dr!==0?dr&-dr:e6.transition!==null?(Zh===0&&(Zh=aC()),Zh):(t=nt,t!==0||(t=window.event,t=t===void 0?16:dC(t.type)),t):1}function qn(t,e,r,n){if(50<Ou)throw Ou=0,nb=null,Error(ae(185));ud(t,r,n),(!(Xe&2)||t!==ir)&&(t===ir&&(!(Xe&2)&&(pg|=r),Yt===4&&Aa(t,dr)),Qr(t,n),r===1&&Xe===0&&!(e.mode&1)&&(jl=Ft()+500,ug&&uo()))}function Qr(t,e){var r=t.callbackNode;e5(t,e);var n=xp(t,t===ir?dr:0);if(n===0)r!==null&&DE(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&DE(r),e===1)t.tag===0?Z5(AS.bind(null,t)):CC(AS.bind(null,t)),X5(function(){!(Xe&6)&&uo()}),r=null;else{switch(oC(n)){case 1:r=xw;break;case 4:r=nC;break;case 16:r=bp;break;case 536870912:r=iC;break;default:r=bp}r=IN(r,_N.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function _N(t,e){if(Jh=-1,Zh=0,Xe&6)throw Error(ae(327));var r=t.callbackNode;if(vl()&&t.callbackNode!==r)return null;var n=xp(t,t===ir?dr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Lp(t,n);else{e=n;var i=Xe;Xe|=2;var a=EN();(ir!==t||dr!==e)&&(Ci=null,jl=Ft()+500,Ho(t,e));do try{x6();break}catch(s){kN(t,s)}while(!0);Rw(),Dp.current=a,Xe=i,Bt!==null?e=0:(ir=null,dr=0,e=Yt)}if(e!==0){if(e===2&&(i=O0(t),i!==0&&(n=i,e=ib(t,i))),e===1)throw r=ff,Ho(t,0),Aa(t,n),Qr(t,Ft()),r;if(e===6)Aa(t,n);else{if(i=t.current.alternate,!(n&30)&&!v6(i)&&(e=Lp(t,n),e===2&&(a=O0(t),a!==0&&(n=a,e=ib(t,a))),e===1))throw r=ff,Ho(t,0),Aa(t,n),Qr(t,Ft()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(ae(345));case 2:No(t,qr,Ci);break;case 3:if(Aa(t,n),(n&130023424)===n&&(e=Gw+500-Ft(),10<e)){if(xp(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Fr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=L0(No.bind(null,t,qr,Ci),e);break}No(t,qr,Ci);break;case 4:if(Aa(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-Wn(n);a=1<<o,o=e[o],o>i&&(i=o),n&=~a}if(n=i,n=Ft()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*y6(n/1960))-n,10<n){t.timeoutHandle=L0(No.bind(null,t,qr,Ci),n);break}No(t,qr,Ci);break;case 5:No(t,qr,Ci);break;default:throw Error(ae(329))}}}return Qr(t,Ft()),t.callbackNode===r?_N.bind(null,t):null}function ib(t,e){var r=Iu;return t.current.memoizedState.isDehydrated&&(Ho(t,e).flags|=256),t=Lp(t,e),t!==2&&(e=qr,qr=r,e!==null&&ab(e)),t}function ab(t){qr===null?qr=t:qr.push.apply(qr,t)}function v6(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Kn(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Aa(t,e){for(e&=~Kw,e&=~pg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Wn(e),n=1<<r;t[r]=-1,e&=~n}}function AS(t){if(Xe&6)throw Error(ae(327));vl();var e=xp(t,0);if(!(e&1))return Qr(t,Ft()),null;var r=Lp(t,e);if(t.tag!==0&&r===2){var n=O0(t);n!==0&&(e=n,r=ib(t,n))}if(r===1)throw r=ff,Ho(t,0),Aa(t,e),Qr(t,Ft()),r;if(r===6)throw Error(ae(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,No(t,qr,Ci),Qr(t,Ft()),null}function Xw(t,e){var r=Xe;Xe|=1;try{return t(e)}finally{Xe=r,Xe===0&&(jl=Ft()+500,ug&&uo())}}function rs(t){$a!==null&&$a.tag===0&&!(Xe&6)&&vl();var e=Xe;Xe|=1;var r=An.transition,n=nt;try{if(An.transition=null,nt=1,t)return t()}finally{nt=n,An.transition=r,Xe=e,!(Xe&6)&&uo()}}function Yw(){nn=ol.current,_t(ol)}function Ho(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,G5(r)),Bt!==null)for(r=Bt.return;r!==null;){var n=r;switch(Ow(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Sp();break;case 3:Nl(),_t(Xr),_t(Pr),Fw();break;case 5:Lw(n);break;case 4:Nl();break;case 13:_t(At);break;case 19:_t(At);break;case 10:jw(n.type._context);break;case 22:case 23:Yw()}r=r.return}if(ir=t,Bt=t=Ga(t.current,null),dr=nn=e,Yt=0,ff=null,Kw=pg=ts=0,qr=Iu=null,Fo!==null){for(e=0;e<Fo.length;e++)if(r=Fo[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}Fo=null}return t}function kN(t,e){do{var r=Bt;try{if(Rw(),Xh.current=jp,Rp){for(var n=Pt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Rp=!1}if(es=0,rr=Xt=Pt=null,Au=!1,lf=0,Hw.current=null,r===null||r.return===null){Yt=1,ff=e,Bt=null;break}e:{var a=t,o=r.return,s=r,l=e;if(e=dr,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=s,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=pS(o);if(p!==null){p.flags&=-257,mS(p,o,s,a,e),p.mode&1&&hS(a,c,e),e=p,l=c;var g=e.updateQueue;if(g===null){var y=new Set;y.add(l),e.updateQueue=y}else g.add(l);break e}else{if(!(e&1)){hS(a,c,e),Qw();break e}l=Error(ae(426))}}else if(Et&&s.mode&1){var b=pS(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),mS(b,o,s,a,e),Cw(Rl(l,s));break e}}a=l=Rl(l,s),Yt!==4&&(Yt=2),Iu===null?Iu=[a]:Iu.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var _=oN(a,l,e);sS(a,_);break e;case 1:s=l;var v=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ha===null||!Ha.has(x)))){a.flags|=65536,e&=-e,a.lanes|=e;var k=sN(a,s,e);sS(a,k);break e}}a=a.return}while(a!==null)}TN(r)}catch(T){e=T,Bt===r&&r!==null&&(Bt=r=r.return);continue}break}while(!0)}function EN(){var t=Dp.current;return Dp.current=jp,t===null?jp:t}function Qw(){(Yt===0||Yt===3||Yt===2)&&(Yt=4),ir===null||!(ts&268435455)&&!(pg&268435455)||Aa(ir,dr)}function Lp(t,e){var r=Xe;Xe|=2;var n=EN();(ir!==t||dr!==e)&&(Ci=null,Ho(t,e));do try{b6();break}catch(i){kN(t,i)}while(!0);if(Rw(),Xe=r,Dp.current=n,Bt!==null)throw Error(ae(261));return ir=null,dr=0,Yt}function b6(){for(;Bt!==null;)SN(Bt)}function x6(){for(;Bt!==null&&!q3();)SN(Bt)}function SN(t){var e=PN(t.alternate,t,nn);t.memoizedProps=t.pendingProps,e===null?TN(t):Bt=e,Hw.current=null}function TN(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=h6(r,e),r!==null){r.flags&=32767,Bt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Yt=6,Bt=null;return}}else if(r=d6(r,e,nn),r!==null){Bt=r;return}if(e=e.sibling,e!==null){Bt=e;return}Bt=e=t}while(e!==null);Yt===0&&(Yt=5)}function No(t,e,r){var n=nt,i=An.transition;try{An.transition=null,nt=1,w6(t,e,r,n)}finally{An.transition=i,nt=n}return null}function w6(t,e,r,n){do vl();while($a!==null);if(Xe&6)throw Error(ae(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(ae(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(t5(t,a),t===ir&&(Bt=ir=null,dr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||yh||(yh=!0,IN(bp,function(){return vl(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=An.transition,An.transition=null;var o=nt;nt=1;var s=Xe;Xe|=4,Hw.current=null,m6(t,r),xN(r,t),U5(M0),wp=!!D0,M0=D0=null,t.current=r,g6(r),H3(),Xe=s,nt=o,An.transition=a}else t.current=r;if(yh&&(yh=!1,$a=t,$p=i),a=t.pendingLanes,a===0&&(Ha=null),X3(r.stateNode),Qr(t,Ft()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Mp)throw Mp=!1,t=rb,rb=null,t;return $p&1&&t.tag!==0&&vl(),a=t.pendingLanes,a&1?t===nb?Ou++:(Ou=0,nb=t):Ou=0,uo(),null}function vl(){if($a!==null){var t=oC($p),e=An.transition,r=nt;try{if(An.transition=null,nt=16>t?16:t,$a===null)var n=!1;else{if(t=$a,$a=null,$p=0,Xe&6)throw Error(ae(331));var i=Xe;for(Xe|=4,pe=t.current;pe!==null;){var a=pe,o=a.child;if(pe.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(pe=c;pe!==null;){var u=pe;switch(u.tag){case 0:case 11:case 15:Pu(8,u,a)}var f=u.child;if(f!==null)f.return=u,pe=f;else for(;pe!==null;){u=pe;var h=u.sibling,p=u.return;if(yN(u),u===c){pe=null;break}if(h!==null){h.return=p,pe=h;break}pe=p}}}var g=a.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}pe=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,pe=o;else e:for(;pe!==null;){if(a=pe,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Pu(9,a,a.return)}var _=a.sibling;if(_!==null){_.return=a.return,pe=_;break e}pe=a.return}}var v=t.current;for(pe=v;pe!==null;){o=pe;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,pe=x;else e:for(o=v;pe!==null;){if(s=pe,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:hg(9,s)}}catch(T){Rt(s,s.return,T)}if(s===o){pe=null;break e}var k=s.sibling;if(k!==null){k.return=s.return,pe=k;break e}pe=s.return}}if(Xe=i,uo(),ui&&typeof ui.onPostCommitFiberRoot=="function")try{ui.onPostCommitFiberRoot(ag,t)}catch{}n=!0}return n}finally{nt=r,An.transition=e}}return!1}function PS(t,e,r){e=Rl(r,e),e=oN(t,e,1),t=qa(t,e,1),e=Fr(),t!==null&&(ud(t,1,e),Qr(t,e))}function Rt(t,e,r){if(t.tag===3)PS(t,t,r);else for(;e!==null;){if(e.tag===3){PS(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ha===null||!Ha.has(n))){t=Rl(r,t),t=sN(e,t,1),e=qa(e,t,1),t=Fr(),e!==null&&(ud(e,1,t),Qr(e,t));break}}e=e.return}}function _6(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Fr(),t.pingedLanes|=t.suspendedLanes&r,ir===t&&(dr&r)===r&&(Yt===4||Yt===3&&(dr&130023424)===dr&&500>Ft()-Gw?Ho(t,0):Kw|=r),Qr(t,e)}function AN(t,e){e===0&&(t.mode&1?(e=sh,sh<<=1,!(sh&130023424)&&(sh=4194304)):e=1);var r=Fr();t=Qi(t,e),t!==null&&(ud(t,e,r),Qr(t,r))}function k6(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),AN(t,r)}function E6(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(ae(314))}n!==null&&n.delete(e),AN(t,r)}var PN;PN=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Xr.current)Kr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Kr=!1,f6(t,e,r);Kr=!!(t.flags&131072)}else Kr=!1,Et&&e.flags&1048576&&NC(e,Pp,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Qh(t,e),t=e.pendingProps;var i=Il(e,Pr.current);yl(e,r),i=Uw(null,e,n,t,i,r);var a=Bw();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Yr(n)?(a=!0,Tp(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Mw(e),i.updater=dg,e.stateNode=i,i._reactInternals=e,q0(e,n,t,r),e=G0(null,e,n,!0,a,r)):(e.tag=0,Et&&a&&Iw(e),Rr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Qh(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=T6(n),t=$n(n,t),i){case 0:e=K0(null,e,n,t,r);break e;case 1:e=vS(null,e,n,t,r);break e;case 11:e=gS(null,e,n,t,r);break e;case 14:e=yS(null,e,n,$n(n.type,t),r);break e}throw Error(ae(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:$n(n,i),K0(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:$n(n,i),vS(t,e,n,i,r);case 3:e:{if(fN(e),t===null)throw Error(ae(387));n=e.pendingProps,a=e.memoizedState,i=a.element,LC(t,e),Cp(e,n,null,r);var o=e.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Rl(Error(ae(423)),e),e=bS(t,e,n,r,i);break e}else if(n!==i){i=Rl(Error(ae(424)),e),e=bS(t,e,n,r,i);break e}else for(sn=Wa(e.stateNode.containerInfo.firstChild),un=e,Et=!0,Vn=null,r=MC(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ol(),n===i){e=Ji(t,e,r);break e}Rr(t,e,n,r)}e=e.child}return e;case 5:return FC(e),t===null&&B0(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,$0(n,i)?o=null:a!==null&&$0(n,a)&&(e.flags|=32),uN(t,e),Rr(t,e,o,r),e.child;case 6:return t===null&&B0(e),null;case 13:return dN(t,e,r);case 4:return $w(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Cl(e,null,n,r):Rr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:$n(n,i),gS(t,e,n,i,r);case 7:return Rr(t,e,e.pendingProps,r),e.child;case 8:return Rr(t,e,e.pendingProps.children,r),e.child;case 12:return Rr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,ht(Ip,n._currentValue),n._currentValue=o,a!==null)if(Kn(a.value,o)){if(a.children===i.children&&!Xr.current){e=Ji(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=zi(-1,r&-r),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),z0(a.return,r,e),s.lanes|=r;break}l=l.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(ae(341));o.lanes|=r,s=o.alternate,s!==null&&(s.lanes|=r),z0(o,r,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Rr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,yl(e,r),i=On(i),n=n(i),e.flags|=1,Rr(t,e,n,r),e.child;case 14:return n=e.type,i=$n(n,e.pendingProps),i=$n(n.type,i),yS(t,e,n,i,r);case 15:return lN(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:$n(n,i),Qh(t,e),e.tag=1,Yr(n)?(t=!0,Tp(e)):t=!1,yl(e,r),aN(e,n,i),q0(e,n,i,r),G0(null,e,n,!0,t,r);case 19:return hN(t,e,r);case 22:return cN(t,e,r)}throw Error(ae(156,e.tag))};function IN(t,e){return rC(t,e)}function S6(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(t,e,r,n){return new S6(t,e,r,n)}function Jw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function T6(t){if(typeof t=="function")return Jw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===yw)return 11;if(t===vw)return 14}return 2}function Ga(t,e){var r=t.alternate;return r===null?(r=Sn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function ep(t,e,r,n,i,a){var o=2;if(n=t,typeof t=="function")Jw(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ys:return Ko(r.children,i,a,e);case gw:o=8,i|=8;break;case m0:return t=Sn(12,r,e,i|2),t.elementType=m0,t.lanes=a,t;case g0:return t=Sn(13,r,e,i),t.elementType=g0,t.lanes=a,t;case y0:return t=Sn(19,r,e,i),t.elementType=y0,t.lanes=a,t;case FO:return mg(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $O:o=10;break e;case LO:o=9;break e;case yw:o=11;break e;case vw:o=14;break e;case _a:o=16,n=null;break e}throw Error(ae(130,t==null?t:typeof t,""))}return e=Sn(o,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function Ko(t,e,r,n){return t=Sn(7,t,n,e),t.lanes=r,t}function mg(t,e,r,n){return t=Sn(22,t,n,e),t.elementType=FO,t.lanes=r,t.stateNode={isHidden:!1},t}function xv(t,e,r){return t=Sn(6,t,null,e),t.lanes=r,t}function wv(t,e,r){return e=Sn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function A6(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tv(0),this.expirationTimes=tv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tv(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Zw(t,e,r,n,i,a,o,s,l){return t=new A6(t,e,r,s,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Sn(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mw(a),t}function P6(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xs,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function ON(t){if(!t)return no;t=t._reactInternals;e:{if(ys(t)!==t||t.tag!==1)throw Error(ae(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Yr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ae(171))}if(t.tag===1){var r=t.type;if(Yr(r))return OC(t,r,e)}return e}function CN(t,e,r,n,i,a,o,s,l){return t=Zw(r,n,!0,t,i,a,o,s,l),t.context=ON(null),r=t.current,n=Fr(),i=Ka(r),a=zi(n,i),a.callback=e??null,qa(r,a,i),t.current.lanes=i,ud(t,i,n),Qr(t,n),t}function gg(t,e,r,n){var i=e.current,a=Fr(),o=Ka(i);return r=ON(r),e.context===null?e.context=r:e.pendingContext=r,e=zi(a,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=qa(i,e,o),t!==null&&(qn(t,i,o,a),Gh(t,i,o)),o}function Fp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function IS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function e_(t,e){IS(t,e),(t=t.alternate)&&IS(t,e)}function I6(){return null}var NN=typeof reportError=="function"?reportError:function(t){console.error(t)};function t_(t){this._internalRoot=t}yg.prototype.render=t_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ae(409));gg(t,e,null,null)};yg.prototype.unmount=t_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;rs(function(){gg(null,t,null,null)}),e[Yi]=null}};function yg(t){this._internalRoot=t}yg.prototype.unstable_scheduleHydration=function(t){if(t){var e=cC();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ta.length&&e!==0&&e<Ta[r].priority;r++);Ta.splice(r,0,t),r===0&&fC(t)}};function r_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function vg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function OS(){}function O6(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var c=Fp(o);a.call(c)}}var o=CN(e,n,t,0,null,!1,!1,"",OS);return t._reactRootContainer=o,t[Yi]=o.current,rf(t.nodeType===8?t.parentNode:t),rs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var c=Fp(l);s.call(c)}}var l=Zw(t,0,!1,null,null,!1,!1,"",OS);return t._reactRootContainer=l,t[Yi]=l.current,rf(t.nodeType===8?t.parentNode:t),rs(function(){gg(e,l,r,n)}),l}function bg(t,e,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=Fp(o);s.call(l)}}gg(e,o,t,i)}else o=O6(r,e,t,i,n);return Fp(o)}sC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=fu(e.pendingLanes);r!==0&&(ww(e,r|1),Qr(e,Ft()),!(Xe&6)&&(jl=Ft()+500,uo()))}break;case 13:rs(function(){var n=Qi(t,1);if(n!==null){var i=Fr();qn(n,t,1,i)}}),e_(t,1)}};_w=function(t){if(t.tag===13){var e=Qi(t,134217728);if(e!==null){var r=Fr();qn(e,t,134217728,r)}e_(t,134217728)}};lC=function(t){if(t.tag===13){var e=Ka(t),r=Qi(t,e);if(r!==null){var n=Fr();qn(r,t,e,n)}e_(t,e)}};cC=function(){return nt};uC=function(t,e){var r=nt;try{return nt=t,e()}finally{nt=r}};A0=function(t,e,r){switch(e){case"input":if(x0(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=cg(n);if(!i)throw Error(ae(90));UO(n),x0(n,i)}}}break;case"textarea":zO(t,r);break;case"select":e=r.value,e!=null&&hl(t,!!r.multiple,e,!1)}};YO=Xw;QO=rs;var C6={usingClientEntryPoint:!1,Events:[dd,el,cg,GO,XO,Xw]},Gc={findFiberByHostInstance:Lo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},N6={bundleType:Gc.bundleType,version:Gc.version,rendererPackageName:Gc.rendererPackageName,rendererConfig:Gc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:la.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=eC(t),t===null?null:t.stateNode},findFiberByHostInstance:Gc.findFiberByHostInstance||I6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vh.isDisabled&&vh.supportsFiber)try{ag=vh.inject(N6),ui=vh}catch{}}hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C6;hn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!r_(e))throw Error(ae(200));return P6(t,e,null,r)};hn.createRoot=function(t,e){if(!r_(t))throw Error(ae(299));var r=!1,n="",i=NN;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Zw(t,1,!1,null,null,r,!1,n,i),t[Yi]=e.current,rf(t.nodeType===8?t.parentNode:t),new t_(e)};hn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ae(188)):(t=Object.keys(t).join(","),Error(ae(268,t)));return t=eC(e),t=t===null?null:t.stateNode,t};hn.flushSync=function(t){return rs(t)};hn.hydrate=function(t,e,r){if(!vg(e))throw Error(ae(200));return bg(null,t,e,!0,r)};hn.hydrateRoot=function(t,e,r){if(!r_(t))throw Error(ae(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=NN;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=CN(e,null,t,1,r??null,i,!1,a,o),t[Yi]=e.current,rf(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new yg(e)};hn.render=function(t,e,r){if(!vg(e))throw Error(ae(200));return bg(null,t,e,!1,r)};hn.unmountComponentAtNode=function(t){if(!vg(t))throw Error(ae(40));return t._reactRootContainer?(rs(function(){bg(null,null,t,!1,function(){t._reactRootContainer=null,t[Yi]=null})}),!0):!1};hn.unstable_batchedUpdates=Xw;hn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!vg(r))throw Error(ae(200));if(t==null||t._reactInternals===void 0)throw Error(ae(38));return bg(t,e,r,!1,n)};hn.version="18.3.1-next-f1338f8080-20240426";function RN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(RN)}catch(t){console.error(t)}}RN(),RO.exports=hn;var R6=RO.exports,jN,CS=R6;jN=CS.createRoot,CS.hydrateRoot;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function df(){return df=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},df.apply(this,arguments)}var La;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(La||(La={}));const NS="popstate";function j6(t){t===void 0&&(t={});function e(n,i){let{pathname:a,search:o,hash:s}=n.location;return ob("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Vp(i)}return M6(e,r,null,t)}function Vt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function DN(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function D6(){return Math.random().toString(36).substr(2,8)}function RS(t,e){return{usr:t.state,key:t.key,idx:e}}function ob(t,e,r,n){return r===void 0&&(r=null),df({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?cc(e):e,{state:r,key:e&&e.key||n||D6()})}function Vp(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function cc(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function M6(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,s=La.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(df({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function f(){s=La.Pop;let b=u(),_=b==null?null:b-c;c=b,l&&l({action:s,location:y.location,delta:_})}function h(b,_){s=La.Push;let v=ob(y.location,b,_);c=u()+1;let x=RS(v,c),k=y.createHref(v);try{o.pushState(x,"",k)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(k)}a&&l&&l({action:s,location:y.location,delta:1})}function p(b,_){s=La.Replace;let v=ob(y.location,b,_);c=u();let x=RS(v,c),k=y.createHref(v);o.replaceState(x,"",k),a&&l&&l({action:s,location:y.location,delta:0})}function g(b){let _=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof b=="string"?b:Vp(b);return v=v.replace(/ $/,"%20"),Vt(_,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,_)}let y={get action(){return s},get location(){return t(i,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(NS,f),l=b,()=>{i.removeEventListener(NS,f),l=null}},createHref(b){return e(i,b)},createURL:g,encodeLocation(b){let _=g(b);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:h,replace:p,go(b){return o.go(b)}};return y}var jS;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(jS||(jS={}));function $6(t,e,r){return r===void 0&&(r="/"),L6(t,e,r,!1)}function L6(t,e,r,n){let i=typeof e=="string"?cc(e):e,a=n_(i.pathname||"/",r);if(a==null)return null;let o=MN(t);F6(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let c=Y6(a);s=G6(o[l],c,n)}return s}function MN(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,o,s)=>{let l={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};l.relativePath.startsWith("/")&&(Vt(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=Xa([n,l.relativePath]),u=r.concat(l);a.children&&a.children.length>0&&(Vt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),MN(a.children,e,u,c)),!(a.path==null&&!a.index)&&e.push({path:c,score:H6(c,a.index),routesMeta:u})};return t.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let l of $N(a.path))i(a,o,l)}),e}function $N(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=$N(n.join("/")),s=[];return s.push(...o.map(l=>l===""?a:[a,l].join("/"))),i&&s.push(...o),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function F6(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:K6(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const V6=/^:[\w-]+$/,U6=3,B6=2,z6=1,W6=10,q6=-2,DS=t=>t==="*";function H6(t,e){let r=t.split("/"),n=r.length;return r.some(DS)&&(n+=q6),e&&(n+=B6),r.filter(i=>!DS(i)).reduce((i,a)=>i+(V6.test(a)?U6:a===""?z6:W6),n)}function K6(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function G6(t,e,r){let{routesMeta:n}=t,i={},a="/",o=[];for(let s=0;s<n.length;++s){let l=n[s],c=s===n.length-1,u=a==="/"?e:e.slice(a.length)||"/",f=MS({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!f&&c&&r&&!n[n.length-1].route.index&&(f=MS({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Xa([a,f.pathname]),pathnameBase:eF(Xa([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=Xa([a,f.pathnameBase]))}return o}function MS(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=X6(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:n.reduce((c,u,f)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let y=s[f]||"";o=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const g=s[f];return p&&!g?c[h]=void 0:c[h]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:o,pattern:t}}function X6(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),DN(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(n.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function Y6(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return DN(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function n_(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function Q6(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?cc(t):t;return{pathname:r?r.startsWith("/")?r:J6(r,e):e,search:tF(n),hash:rF(i)}}function J6(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function _v(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Z6(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function i_(t,e){let r=Z6(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function a_(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=cc(t):(i=df({},t),Vt(!i.pathname||!i.pathname.includes("?"),_v("?","pathname","search",i)),Vt(!i.pathname||!i.pathname.includes("#"),_v("#","pathname","hash",i)),Vt(!i.search||!i.search.includes("#"),_v("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=r;else{let f=e.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}s=f>=0?e[f]:"/"}let l=Q6(i,s),c=o&&o!=="/"&&o.endsWith("/"),u=(a||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Xa=t=>t.join("/").replace(/\/\/+/g,"/"),eF=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),tF=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,rF=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function nF(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const LN=["post","put","patch","delete"];new Set(LN);const iF=["get",...LN];new Set(iF);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hf(){return hf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hf.apply(this,arguments)}const o_=M.createContext(null),aF=M.createContext(null),fo=M.createContext(null),xg=M.createContext(null),ho=M.createContext({outlet:null,matches:[],isDataRoute:!1}),FN=M.createContext(null);function oF(t,e){let{relative:r}=e===void 0?{}:e;uc()||Vt(!1);let{basename:n,navigator:i}=M.useContext(fo),{hash:a,pathname:o,search:s}=UN(t,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:Xa([n,o])),i.createHref({pathname:l,search:s,hash:a})}function uc(){return M.useContext(xg)!=null}function vs(){return uc()||Vt(!1),M.useContext(xg).location}function VN(t){M.useContext(fo).static||M.useLayoutEffect(t)}function s_(){let{isDataRoute:t}=M.useContext(ho);return t?bF():sF()}function sF(){uc()||Vt(!1);let t=M.useContext(o_),{basename:e,future:r,navigator:n}=M.useContext(fo),{matches:i}=M.useContext(ho),{pathname:a}=vs(),o=JSON.stringify(i_(i,r.v7_relativeSplatPath)),s=M.useRef(!1);return VN(()=>{s.current=!0}),M.useCallback(function(c,u){if(u===void 0&&(u={}),!s.current)return;if(typeof c=="number"){n.go(c);return}let f=a_(c,JSON.parse(o),a,u.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Xa([e,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[e,n,o,a,t])}function UN(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=M.useContext(fo),{matches:i}=M.useContext(ho),{pathname:a}=vs(),o=JSON.stringify(i_(i,n.v7_relativeSplatPath));return M.useMemo(()=>a_(t,JSON.parse(o),a,r==="path"),[t,o,a,r])}function lF(t,e){return cF(t,e)}function cF(t,e,r,n){uc()||Vt(!1);let{navigator:i}=M.useContext(fo),{matches:a}=M.useContext(ho),o=a[a.length-1],s=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=vs(),u;if(e){var f;let b=typeof e=="string"?cc(e):e;l==="/"||(f=b.pathname)!=null&&f.startsWith(l)||Vt(!1),u=b}else u=c;let h=u.pathname||"/",p=h;if(l!=="/"){let b=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let g=$6(t,{pathname:p}),y=pF(g&&g.map(b=>Object.assign({},b,{params:Object.assign({},s,b.params),pathname:Xa([l,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:Xa([l,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),a,r,n);return e&&y?M.createElement(xg.Provider,{value:{location:hf({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:La.Pop}},y):y}function uF(){let t=vF(),e=nF(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),r?M.createElement("pre",{style:i},r):null,null)}const fF=M.createElement(uF,null);class dF extends M.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?M.createElement(ho.Provider,{value:this.props.routeContext},M.createElement(FN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function hF(t){let{routeContext:e,match:r,children:n}=t,i=M.useContext(o_);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),M.createElement(ho.Provider,{value:e},n)}function pF(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,s=(i=r)==null?void 0:i.errors;if(s!=null){let u=o.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);u>=0||Vt(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let f=o[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:h,errors:p}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,f,h)=>{let p,g=!1,y=null,b=null;r&&(p=s&&f.route.id?s[f.route.id]:void 0,y=f.route.errorElement||fF,l&&(c<0&&h===0?(g=!0,b=null):c===h&&(g=!0,b=f.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,h+1)),v=()=>{let x;return p?x=y:g?x=b:f.route.Component?x=M.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=u,M.createElement(hF,{match:f,routeContext:{outlet:u,matches:_,isDataRoute:r!=null},children:x})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?M.createElement(dF,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:v(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):v()},null)}var BN=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(BN||{}),Up=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Up||{});function mF(t){let e=M.useContext(o_);return e||Vt(!1),e}function gF(t){let e=M.useContext(aF);return e||Vt(!1),e}function yF(t){let e=M.useContext(ho);return e||Vt(!1),e}function zN(t){let e=yF(),r=e.matches[e.matches.length-1];return r.route.id||Vt(!1),r.route.id}function vF(){var t;let e=M.useContext(FN),r=gF(Up.UseRouteError),n=zN(Up.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function bF(){let{router:t}=mF(BN.UseNavigateStable),e=zN(Up.UseNavigateStable),r=M.useRef(!1);return VN(()=>{r.current=!0}),M.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,hf({fromRouteId:e},a)))},[t,e])}function WN(t){let{to:e,replace:r,state:n,relative:i}=t;uc()||Vt(!1);let{future:a,static:o}=M.useContext(fo),{matches:s}=M.useContext(ho),{pathname:l}=vs(),c=s_(),u=a_(e,i_(s,a.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(u);return M.useEffect(()=>c(JSON.parse(f),{replace:r,state:n,relative:i}),[c,f,i,r,n]),null}function wa(t){Vt(!1)}function xF(t){let{basename:e="/",children:r=null,location:n,navigationType:i=La.Pop,navigator:a,static:o=!1,future:s}=t;uc()&&Vt(!1);let l=e.replace(/^\/*/,"/"),c=M.useMemo(()=>({basename:l,navigator:a,static:o,future:hf({v7_relativeSplatPath:!1},s)}),[l,s,a,o]);typeof n=="string"&&(n=cc(n));let{pathname:u="/",search:f="",hash:h="",state:p=null,key:g="default"}=n,y=M.useMemo(()=>{let b=n_(u,l);return b==null?null:{location:{pathname:b,search:f,hash:h,state:p,key:g},navigationType:i}},[l,u,f,h,p,g,i]);return y==null?null:M.createElement(fo.Provider,{value:c},M.createElement(xg.Provider,{children:r,value:y}))}function wF(t){let{children:e,location:r}=t;return lF(sb(e),r)}new Promise(()=>{});function sb(t,e){e===void 0&&(e=[]);let r=[];return M.Children.forEach(t,(n,i)=>{if(!M.isValidElement(n))return;let a=[...e,i];if(n.type===M.Fragment){r.push.apply(r,sb(n.props.children,a));return}n.type!==wa&&Vt(!1),!n.props.index||!n.props.children||Vt(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=sb(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lb(){return lb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lb.apply(this,arguments)}function _F(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function kF(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function EF(t,e){return t.button===0&&(!e||e==="_self")&&!kF(t)}const SF=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],TF="6";try{window.__reactRouterVersion=TF}catch{}const AF="startTransition",$S=_3[AF];function PF(t){let{basename:e,children:r,future:n,window:i}=t,a=M.useRef();a.current==null&&(a.current=j6({window:i,v5Compat:!0}));let o=a.current,[s,l]=M.useState({action:o.action,location:o.location}),{v7_startTransition:c}=n||{},u=M.useCallback(f=>{c&&$S?$S(()=>l(f)):l(f)},[l,c]);return M.useLayoutEffect(()=>o.listen(u),[o,u]),M.createElement(xF,{basename:e,children:r,location:s.location,navigationType:s.action,navigator:o,future:n})}const IF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",OF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$s=M.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:a,replace:o,state:s,target:l,to:c,preventScrollReset:u,unstable_viewTransition:f}=e,h=_F(e,SF),{basename:p}=M.useContext(fo),g,y=!1;if(typeof c=="string"&&OF.test(c)&&(g=c,IF))try{let x=new URL(window.location.href),k=c.startsWith("//")?new URL(x.protocol+c):new URL(c),T=n_(k.pathname,p);k.origin===x.origin&&T!=null?c=T+k.search+k.hash:y=!0}catch{}let b=oF(c,{relative:i}),_=CF(c,{replace:o,state:s,target:l,preventScrollReset:u,relative:i,unstable_viewTransition:f});function v(x){n&&n(x),x.defaultPrevented||_(x)}return M.createElement("a",lb({},h,{href:g||b,onClick:y||a?n:v,ref:r,target:l}))});var LS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(LS||(LS={}));var FS;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(FS||(FS={}));function CF(t,e){let{target:r,replace:n,state:i,preventScrollReset:a,relative:o,unstable_viewTransition:s}=e===void 0?{}:e,l=s_(),c=vs(),u=UN(t,{relative:o});return M.useCallback(f=>{if(EF(f,r)){f.preventDefault();let h=n!==void 0?n:Vp(c)===Vp(u);l(t,{replace:h,state:i,preventScrollReset:a,relative:o,unstable_viewTransition:s})}},[c,l,u,n,i,r,t,a,o,s])}var pd=t=>t.type==="checkbox",sl=t=>t instanceof Date,jr=t=>t==null;const qN=t=>typeof t=="object";var qt=t=>!jr(t)&&!Array.isArray(t)&&qN(t)&&!sl(t),NF=t=>qt(t)&&t.target?pd(t.target)?t.target.checked:t.target.value:t,RF=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,jF=(t,e)=>t.has(RF(e)),DF=t=>{const e=t.constructor&&t.constructor.prototype;return qt(e)&&e.hasOwnProperty("isPrototypeOf")},l_=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function bn(t){let e;const r=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(l_&&(t instanceof Blob||t instanceof FileList))&&(r||qt(t)))if(e=r?[]:{},!r&&!DF(t))e=t;else for(const n in t)t.hasOwnProperty(n)&&(e[n]=bn(t[n]));else return t;return e}var wg=t=>Array.isArray(t)?t.filter(Boolean):[],$t=t=>t===void 0,ye=(t,e,r)=>{if(!e||!qt(t))return r;const n=wg(e.split(/[,[\].]+?/)).reduce((i,a)=>jr(i)?i:i[a],t);return $t(n)||n===t?$t(t[e])?r:t[e]:n},ri=t=>typeof t=="boolean",c_=t=>/^\w*$/.test(t),HN=t=>wg(t.replace(/["|']|\]/g,"").split(/\.|\[/)),yt=(t,e,r)=>{let n=-1;const i=c_(e)?[e]:HN(e),a=i.length,o=a-1;for(;++n<a;){const s=i[n];let l=r;if(n!==o){const c=t[s];l=qt(c)||Array.isArray(c)?c:isNaN(+i[n+1])?{}:[]}if(s==="__proto__")return;t[s]=l,t=t[s]}return t};const VS={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Un={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ii={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};L.createContext(null);var MF=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(i,a,{get:()=>{const o=a;return e._proxyFormState[o]!==Un.all&&(e._proxyFormState[o]=!n||Un.all),t[o]}});return i},Wr=t=>qt(t)&&!Object.keys(t).length,$F=(t,e,r,n)=>{r(t);const{name:i,...a}=t;return Wr(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(o=>e[o]===Un.all)},tp=t=>Array.isArray(t)?t:[t];function LF(t){const e=L.useRef(t);e.current=t,L.useEffect(()=>{const r=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{r&&r.unsubscribe()}},[t.disabled])}var oi=t=>typeof t=="string",FF=(t,e,r,n,i)=>oi(t)?(n&&e.watch.add(t),ye(r,t,i)):Array.isArray(t)?t.map(a=>(n&&e.watch.add(a),ye(r,a))):(n&&(e.watchAll=!0),r),VF=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},US=t=>({isOnSubmit:!t||t===Un.onSubmit,isOnBlur:t===Un.onBlur,isOnChange:t===Un.onChange,isOnAll:t===Un.all,isOnTouch:t===Un.onTouched}),BS=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Cu=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const a=ye(t,i);if(a){const{_f:o,...s}=a;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!n)return!0;if(o.ref&&e(o.ref,o.name)&&!n)return!0;if(Cu(s,e))break}else if(qt(s)&&Cu(s,e))break}}};var UF=(t,e,r)=>{const n=tp(ye(t,r));return yt(n,"root",e[r]),yt(t,r,n),t},u_=t=>t.type==="file",Mi=t=>typeof t=="function",Bp=t=>{if(!l_)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},rp=t=>oi(t),f_=t=>t.type==="radio",zp=t=>t instanceof RegExp;const zS={value:!1,isValid:!1},WS={value:!0,isValid:!0};var KN=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!$t(t[0].attributes.value)?$t(t[0].value)||t[0].value===""?WS:{value:t[0].value,isValid:!0}:WS:zS}return zS};const qS={isValid:!1,value:null};var GN=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,qS):qS;function HS(t,e,r="validate"){if(rp(t)||Array.isArray(t)&&t.every(rp)||ri(t)&&!t)return{type:r,message:rp(t)?t:"",ref:e}}var Ls=t=>qt(t)&&!zp(t)?t:{value:t,message:""},KS=async(t,e,r,n,i)=>{const{ref:a,refs:o,required:s,maxLength:l,minLength:c,min:u,max:f,pattern:h,validate:p,name:g,valueAsNumber:y,mount:b,disabled:_}=t._f,v=ye(e,g);if(!b||_)return{};const x=o?o[0]:a,k=N=>{n&&x.reportValidity&&(x.setCustomValidity(ri(N)?"":N||""),x.reportValidity())},T={},C=f_(a),S=pd(a),E=C||S,P=(y||u_(a))&&$t(a.value)&&$t(v)||Bp(a)&&a.value===""||v===""||Array.isArray(v)&&!v.length,O=VF.bind(null,g,r,T),R=(N,I,V,B=Ii.maxLength,W=Ii.minLength)=>{const H=N?I:V;T[g]={type:N?B:W,message:H,ref:a,...O(N?B:W,H)}};if(i?!Array.isArray(v)||!v.length:s&&(!E&&(P||jr(v))||ri(v)&&!v||S&&!KN(o).isValid||C&&!GN(o).isValid)){const{value:N,message:I}=rp(s)?{value:!!s,message:s}:Ls(s);if(N&&(T[g]={type:Ii.required,message:I,ref:x,...O(Ii.required,I)},!r))return k(I),T}if(!P&&(!jr(u)||!jr(f))){let N,I;const V=Ls(f),B=Ls(u);if(!jr(v)&&!isNaN(v)){const W=a.valueAsNumber||v&&+v;jr(V.value)||(N=W>V.value),jr(B.value)||(I=W<B.value)}else{const W=a.valueAsDate||new Date(v),H=J=>new Date(new Date().toDateString()+" "+J),U=a.type=="time",G=a.type=="week";oi(V.value)&&v&&(N=U?H(v)>H(V.value):G?v>V.value:W>new Date(V.value)),oi(B.value)&&v&&(I=U?H(v)<H(B.value):G?v<B.value:W<new Date(B.value))}if((N||I)&&(R(!!N,V.message,B.message,Ii.max,Ii.min),!r))return k(T[g].message),T}if((l||c)&&!P&&(oi(v)||i&&Array.isArray(v))){const N=Ls(l),I=Ls(c),V=!jr(N.value)&&v.length>+N.value,B=!jr(I.value)&&v.length<+I.value;if((V||B)&&(R(V,N.message,I.message),!r))return k(T[g].message),T}if(h&&!P&&oi(v)){const{value:N,message:I}=Ls(h);if(zp(N)&&!v.match(N)&&(T[g]={type:Ii.pattern,message:I,ref:a,...O(Ii.pattern,I)},!r))return k(I),T}if(p){if(Mi(p)){const N=await p(v,e),I=HS(N,x);if(I&&(T[g]={...I,...O(Ii.validate,I.message)},!r))return k(I.message),T}else if(qt(p)){let N={};for(const I in p){if(!Wr(N)&&!r)break;const V=HS(await p[I](v,e),x,I);V&&(N={...V,...O(I,V.message)},k(V.message),r&&(T[g]=N))}if(!Wr(N)&&(T[g]={ref:x,...N},!r))return T}}return k(!0),T};function BF(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=$t(t)?n++:t[e[n++]];return t}function zF(t){for(const e in t)if(t.hasOwnProperty(e)&&!$t(t[e]))return!1;return!0}function Gt(t,e){const r=Array.isArray(e)?e:c_(e)?[e]:HN(e),n=r.length===1?t:BF(t,r),i=r.length-1,a=r[i];return n&&delete n[a],i!==0&&(qt(n)&&Wr(n)||Array.isArray(n)&&zF(n))&&Gt(t,r.slice(0,-1)),t}var kv=()=>{let t=[];return{get observers(){return t},next:i=>{for(const a of t)a.next&&a.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(a=>a!==i)}}),unsubscribe:()=>{t=[]}}},Wp=t=>jr(t)||!qN(t);function Pa(t,e){if(Wp(t)||Wp(e))return t===e;if(sl(t)&&sl(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const i of r){const a=t[i];if(!n.includes(i))return!1;if(i!=="ref"){const o=e[i];if(sl(a)&&sl(o)||qt(a)&&qt(o)||Array.isArray(a)&&Array.isArray(o)?!Pa(a,o):a!==o)return!1}}return!0}var XN=t=>t.type==="select-multiple",WF=t=>f_(t)||pd(t),Ev=t=>Bp(t)&&t.isConnected,YN=t=>{for(const e in t)if(Mi(t[e]))return!0;return!1};function qp(t,e={}){const r=Array.isArray(t);if(qt(t)||r)for(const n in t)Array.isArray(t[n])||qt(t[n])&&!YN(t[n])?(e[n]=Array.isArray(t[n])?[]:{},qp(t[n],e[n])):jr(t[n])||(e[n]=!0);return e}function QN(t,e,r){const n=Array.isArray(t);if(qt(t)||n)for(const i in t)Array.isArray(t[i])||qt(t[i])&&!YN(t[i])?$t(e)||Wp(r[i])?r[i]=Array.isArray(t[i])?qp(t[i],[]):{...qp(t[i])}:QN(t[i],jr(e)?{}:e[i],r[i]):r[i]=!Pa(t[i],e[i]);return r}var bh=(t,e)=>QN(t,e,qp(e)),JN=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>$t(t)?t:e?t===""?NaN:t&&+t:r&&oi(t)?new Date(t):n?n(t):t;function Sv(t){const e=t.ref;if(!(t.refs?t.refs.every(r=>r.disabled):e.disabled))return u_(e)?e.files:f_(e)?GN(t.refs).value:XN(e)?[...e.selectedOptions].map(({value:r})=>r):pd(e)?KN(t.refs).value:JN($t(e.value)?t.ref.value:e.value,t)}var qF=(t,e,r,n)=>{const i={};for(const a of t){const o=ye(e,a);o&&yt(i,a,o._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},Xc=t=>$t(t)?t:zp(t)?t.source:qt(t)?zp(t.value)?t.value.source:t.value:t;const GS="AsyncFunction";var HF=t=>(!t||!t.validate)&&!!(Mi(t.validate)&&t.validate.constructor.name===GS||qt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===GS)),KF=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function XS(t,e,r){const n=ye(t,r);if(n||c_(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const a=i.join("."),o=ye(e,a),s=ye(t,a);if(o&&!Array.isArray(o)&&r!==a)return{name:r};if(s&&s.type)return{name:a,error:s};i.pop()}return{name:r}}var GF=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,XF=(t,e)=>!wg(ye(t,e)).length&&Gt(t,e);const YF={mode:Un.onSubmit,reValidateMode:Un.onChange,shouldFocusError:!0};function QF(t={}){let e={...YF,...t},r={submitCount:0,isDirty:!1,isLoading:Mi(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=qt(e.defaultValues)||qt(e.values)?bn(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:bn(i),o={action:!1,mount:!1,watch:!1},s={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:kv(),array:kv(),state:kv()},h=US(e.mode),p=US(e.reValidateMode),g=e.criteriaMode===Un.all,y=j=>$=>{clearTimeout(c),c=setTimeout(j,$)},b=async j=>{if(u.isValid||j){const $=e.resolver?Wr((await E()).errors):await O(n,!0);$!==r.isValid&&f.state.next({isValid:$})}},_=(j,$)=>{(u.isValidating||u.validatingFields)&&((j||Array.from(s.mount)).forEach(F=>{F&&($?yt(r.validatingFields,F,$):Gt(r.validatingFields,F))}),f.state.next({validatingFields:r.validatingFields,isValidating:!Wr(r.validatingFields)}))},v=(j,$=[],F,X,Z=!0,ne=!0)=>{if(X&&F){if(o.action=!0,ne&&Array.isArray(ye(n,j))){const de=F(ye(n,j),X.argA,X.argB);Z&&yt(n,j,de)}if(ne&&Array.isArray(ye(r.errors,j))){const de=F(ye(r.errors,j),X.argA,X.argB);Z&&yt(r.errors,j,de),XF(r.errors,j)}if(u.touchedFields&&ne&&Array.isArray(ye(r.touchedFields,j))){const de=F(ye(r.touchedFields,j),X.argA,X.argB);Z&&yt(r.touchedFields,j,de)}u.dirtyFields&&(r.dirtyFields=bh(i,a)),f.state.next({name:j,isDirty:N(j,$),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else yt(a,j,$)},x=(j,$)=>{yt(r.errors,j,$),f.state.next({errors:r.errors})},k=j=>{r.errors=j,f.state.next({errors:r.errors,isValid:!1})},T=(j,$,F,X)=>{const Z=ye(n,j);if(Z){const ne=ye(a,j,$t(F)?ye(i,j):F);$t(ne)||X&&X.defaultChecked||$?yt(a,j,$?ne:Sv(Z._f)):B(j,ne),o.mount&&b()}},C=(j,$,F,X,Z)=>{let ne=!1,de=!1;const Be={name:j},De=!!(ye(n,j)&&ye(n,j)._f&&ye(n,j)._f.disabled);if(!F||X){u.isDirty&&(de=r.isDirty,r.isDirty=Be.isDirty=N(),ne=de!==Be.isDirty);const Le=De||Pa(ye(i,j),$);de=!!(!De&&ye(r.dirtyFields,j)),Le||De?Gt(r.dirtyFields,j):yt(r.dirtyFields,j,!0),Be.dirtyFields=r.dirtyFields,ne=ne||u.dirtyFields&&de!==!Le}if(F){const Le=ye(r.touchedFields,j);Le||(yt(r.touchedFields,j,F),Be.touchedFields=r.touchedFields,ne=ne||u.touchedFields&&Le!==F)}return ne&&Z&&f.state.next(Be),ne?Be:{}},S=(j,$,F,X)=>{const Z=ye(r.errors,j),ne=u.isValid&&ri($)&&r.isValid!==$;if(t.delayError&&F?(l=y(()=>x(j,F)),l(t.delayError)):(clearTimeout(c),l=null,F?yt(r.errors,j,F):Gt(r.errors,j)),(F?!Pa(Z,F):Z)||!Wr(X)||ne){const de={...X,...ne&&ri($)?{isValid:$}:{},errors:r.errors,name:j};r={...r,...de},f.state.next(de)}},E=async j=>{_(j,!0);const $=await e.resolver(a,e.context,qF(j||s.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return _(j),$},P=async j=>{const{errors:$}=await E(j);if(j)for(const F of j){const X=ye($,F);X?yt(r.errors,F,X):Gt(r.errors,F)}else r.errors=$;return $},O=async(j,$,F={valid:!0})=>{for(const X in j){const Z=j[X];if(Z){const{_f:ne,...de}=Z;if(ne){const Be=s.array.has(ne.name),De=Z._f&&HF(Z._f);De&&u.validatingFields&&_([X],!0);const Le=await KS(Z,a,g,e.shouldUseNativeValidation&&!$,Be);if(De&&u.validatingFields&&_([X]),Le[ne.name]&&(F.valid=!1,$))break;!$&&(ye(Le,ne.name)?Be?UF(r.errors,Le,ne.name):yt(r.errors,ne.name,Le[ne.name]):Gt(r.errors,ne.name))}!Wr(de)&&await O(de,$,F)}}return F.valid},R=()=>{for(const j of s.unMount){const $=ye(n,j);$&&($._f.refs?$._f.refs.every(F=>!Ev(F)):!Ev($._f.ref))&&Ze(j)}s.unMount=new Set},N=(j,$)=>(j&&$&&yt(a,j,$),!Pa(oe(),i)),I=(j,$,F)=>FF(j,s,{...o.mount?a:$t($)?i:oi(j)?{[j]:$}:$},F,$),V=j=>wg(ye(o.mount?a:i,j,t.shouldUnregister?ye(i,j,[]):[])),B=(j,$,F={})=>{const X=ye(n,j);let Z=$;if(X){const ne=X._f;ne&&(!ne.disabled&&yt(a,j,JN($,ne)),Z=Bp(ne.ref)&&jr($)?"":$,XN(ne.ref)?[...ne.ref.options].forEach(de=>de.selected=Z.includes(de.value)):ne.refs?pd(ne.ref)?ne.refs.length>1?ne.refs.forEach(de=>(!de.defaultChecked||!de.disabled)&&(de.checked=Array.isArray(Z)?!!Z.find(Be=>Be===de.value):Z===de.value)):ne.refs[0]&&(ne.refs[0].checked=!!Z):ne.refs.forEach(de=>de.checked=de.value===Z):u_(ne.ref)?ne.ref.value="":(ne.ref.value=Z,ne.ref.type||f.values.next({name:j,values:{...a}})))}(F.shouldDirty||F.shouldTouch)&&C(j,Z,F.shouldTouch,F.shouldDirty,!0),F.shouldValidate&&J(j)},W=(j,$,F)=>{for(const X in $){const Z=$[X],ne=`${j}.${X}`,de=ye(n,ne);(s.array.has(j)||!Wp(Z)||de&&!de._f)&&!sl(Z)?W(ne,Z,F):B(ne,Z,F)}},H=(j,$,F={})=>{const X=ye(n,j),Z=s.array.has(j),ne=bn($);yt(a,j,ne),Z?(f.array.next({name:j,values:{...a}}),(u.isDirty||u.dirtyFields)&&F.shouldDirty&&f.state.next({name:j,dirtyFields:bh(i,a),isDirty:N(j,ne)})):X&&!X._f&&!jr(ne)?W(j,ne,F):B(j,ne,F),BS(j,s)&&f.state.next({...r}),f.values.next({name:o.mount?j:void 0,values:{...a}})},U=async j=>{o.mount=!0;const $=j.target;let F=$.name,X=!0;const Z=ye(n,F),ne=()=>$.type?Sv(Z._f):NF(j),de=Be=>{X=Number.isNaN(Be)||Pa(Be,ye(a,F,Be))};if(Z){let Be,De;const Le=ne(),zr=j.type===VS.BLUR||j.type===VS.FOCUS_OUT,Os=!KF(Z._f)&&!e.resolver&&!ye(r.errors,F)&&!Z._f.deps||GF(zr,ye(r.touchedFields,F),r.isSubmitted,p,h),Eo=BS(F,s,zr);yt(a,F,Le),zr?(Z._f.onBlur&&Z._f.onBlur(j),l&&l(0)):Z._f.onChange&&Z._f.onChange(j);const da=C(F,Le,zr,!1),ha=!Wr(da)||Eo;if(!zr&&f.values.next({name:F,type:j.type,values:{...a}}),Os)return u.isValid&&(t.mode==="onBlur"?zr&&b():b()),ha&&f.state.next({name:F,...Eo?{}:da});if(!zr&&Eo&&f.state.next({...r}),e.resolver){const{errors:pa}=await E([F]);if(de(Le),X){const Cs=XS(r.errors,n,F),ma=XS(pa,n,Cs.name||F);Be=ma.error,F=ma.name,De=Wr(pa)}}else _([F],!0),Be=(await KS(Z,a,g,e.shouldUseNativeValidation))[F],_([F]),de(Le),X&&(Be?De=!1:u.isValid&&(De=await O(n,!0)));X&&(Z._f.deps&&J(Z._f.deps),S(F,De,Be,da))}},G=(j,$)=>{if(ye(r.errors,$)&&j.focus)return j.focus(),1},J=async(j,$={})=>{let F,X;const Z=tp(j);if(e.resolver){const ne=await P($t(j)?j:Z);F=Wr(ne),X=j?!Z.some(de=>ye(ne,de)):F}else j?(X=(await Promise.all(Z.map(async ne=>{const de=ye(n,ne);return await O(de&&de._f?{[ne]:de}:de)}))).every(Boolean),!(!X&&!r.isValid)&&b()):X=F=await O(n);return f.state.next({...!oi(j)||u.isValid&&F!==r.isValid?{}:{name:j},...e.resolver||!j?{isValid:F}:{},errors:r.errors}),$.shouldFocus&&!X&&Cu(n,G,j?Z:s.mount),X},oe=j=>{const $={...o.mount?a:i};return $t(j)?$:oi(j)?ye($,j):j.map(F=>ye($,F))},Y=(j,$)=>({invalid:!!ye(($||r).errors,j),isDirty:!!ye(($||r).dirtyFields,j),error:ye(($||r).errors,j),isValidating:!!ye(r.validatingFields,j),isTouched:!!ye(($||r).touchedFields,j)}),se=j=>{j&&tp(j).forEach($=>Gt(r.errors,$)),f.state.next({errors:j?r.errors:{}})},Ee=(j,$,F)=>{const X=(ye(n,j,{_f:{}})._f||{}).ref,Z=ye(r.errors,j)||{},{ref:ne,message:de,type:Be,...De}=Z;yt(r.errors,j,{...De,...$,ref:X}),f.state.next({name:j,errors:r.errors,isValid:!1}),F&&F.shouldFocus&&X&&X.focus&&X.focus()},Re=(j,$)=>Mi(j)?f.values.subscribe({next:F=>j(I(void 0,$),F)}):I(j,$,!0),Ze=(j,$={})=>{for(const F of j?tp(j):s.mount)s.mount.delete(F),s.array.delete(F),$.keepValue||(Gt(n,F),Gt(a,F)),!$.keepError&&Gt(r.errors,F),!$.keepDirty&&Gt(r.dirtyFields,F),!$.keepTouched&&Gt(r.touchedFields,F),!$.keepIsValidating&&Gt(r.validatingFields,F),!e.shouldUnregister&&!$.keepDefaultValue&&Gt(i,F);f.values.next({values:{...a}}),f.state.next({...r,...$.keepDirty?{isDirty:N()}:{}}),!$.keepIsValid&&b()},Ve=({disabled:j,name:$,field:F,fields:X,value:Z})=>{if(ri(j)&&o.mount||j){const ne=j?void 0:$t(Z)?Sv(F?F._f:ye(X,$)._f):Z;yt(a,$,ne),C($,ne,!1,!1,!0)}},Mt=(j,$={})=>{let F=ye(n,j);const X=ri($.disabled)||ri(t.disabled);return yt(n,j,{...F||{},_f:{...F&&F._f?F._f:{ref:{name:j}},name:j,mount:!0,...$}}),s.mount.add(j),F?Ve({field:F,disabled:ri($.disabled)?$.disabled:t.disabled,name:j,value:$.value}):T(j,!0,$.value),{...X?{disabled:$.disabled||t.disabled}:{},...e.progressive?{required:!!$.required,min:Xc($.min),max:Xc($.max),minLength:Xc($.minLength),maxLength:Xc($.maxLength),pattern:Xc($.pattern)}:{},name:j,onChange:U,onBlur:U,ref:Z=>{if(Z){Mt(j,$),F=ye(n,j);const ne=$t(Z.value)&&Z.querySelectorAll&&Z.querySelectorAll("input,select,textarea")[0]||Z,de=WF(ne),Be=F._f.refs||[];if(de?Be.find(De=>De===ne):ne===F._f.ref)return;yt(n,j,{_f:{...F._f,...de?{refs:[...Be.filter(Ev),ne,...Array.isArray(ye(i,j))?[{}]:[]],ref:{type:ne.type,name:j}}:{ref:ne}}}),T(j,!1,void 0,ne)}else F=ye(n,j,{}),F._f&&(F._f.mount=!1),(e.shouldUnregister||$.shouldUnregister)&&!(jF(s.array,j)&&o.action)&&s.unMount.add(j)}}},ce=()=>e.shouldFocusError&&Cu(n,G,s.mount),xe=j=>{ri(j)&&(f.state.next({disabled:j}),Cu(n,($,F)=>{const X=ye(n,F);X&&($.disabled=X._f.disabled||j,Array.isArray(X._f.refs)&&X._f.refs.forEach(Z=>{Z.disabled=X._f.disabled||j}))},0,!1))},_e=(j,$)=>async F=>{let X;F&&(F.preventDefault&&F.preventDefault(),F.persist&&F.persist());let Z=bn(a);if(f.state.next({isSubmitting:!0}),e.resolver){const{errors:ne,values:de}=await E();r.errors=ne,Z=de}else await O(n);if(Gt(r.errors,"root"),Wr(r.errors)){f.state.next({errors:{}});try{await j(Z,F)}catch(ne){X=ne}}else $&&await $({...r.errors},F),ce(),setTimeout(ce);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Wr(r.errors)&&!X,submitCount:r.submitCount+1,errors:r.errors}),X)throw X},Q=(j,$={})=>{ye(n,j)&&($t($.defaultValue)?H(j,bn(ye(i,j))):(H(j,$.defaultValue),yt(i,j,bn($.defaultValue))),$.keepTouched||Gt(r.touchedFields,j),$.keepDirty||(Gt(r.dirtyFields,j),r.isDirty=$.defaultValue?N(j,bn(ye(i,j))):N()),$.keepError||(Gt(r.errors,j),u.isValid&&b()),f.state.next({...r}))},Ue=(j,$={})=>{const F=j?bn(j):i,X=bn(F),Z=Wr(j),ne=Z?i:X;if($.keepDefaultValues||(i=F),!$.keepValues){if($.keepDirtyValues)for(const de of s.mount)ye(r.dirtyFields,de)?yt(ne,de,ye(a,de)):H(de,ye(ne,de));else{if(l_&&$t(j))for(const de of s.mount){const Be=ye(n,de);if(Be&&Be._f){const De=Array.isArray(Be._f.refs)?Be._f.refs[0]:Be._f.ref;if(Bp(De)){const Le=De.closest("form");if(Le){Le.reset();break}}}}n={}}a=t.shouldUnregister?$.keepDefaultValues?bn(i):{}:bn(ne),f.array.next({values:{...ne}}),f.values.next({values:{...ne}})}s={mount:$.keepDirtyValues?s.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!$.keepIsValid||!!$.keepDirtyValues,o.watch=!!t.shouldUnregister,f.state.next({submitCount:$.keepSubmitCount?r.submitCount:0,isDirty:Z?!1:$.keepDirty?r.isDirty:!!($.keepDefaultValues&&!Pa(j,i)),isSubmitted:$.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Z?{}:$.keepDirtyValues?$.keepDefaultValues&&a?bh(i,a):r.dirtyFields:$.keepDefaultValues&&j?bh(i,j):$.keepDirty?r.dirtyFields:{},touchedFields:$.keepTouched?r.touchedFields:{},errors:$.keepErrors?r.errors:{},isSubmitSuccessful:$.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},re=(j,$)=>Ue(Mi(j)?j(a):j,$);return{control:{register:Mt,unregister:Ze,getFieldState:Y,handleSubmit:_e,setError:Ee,_executeSchema:E,_getWatch:I,_getDirty:N,_updateValid:b,_removeUnmounted:R,_updateFieldArray:v,_updateDisabledField:Ve,_getFieldArray:V,_reset:Ue,_resetDefaultValues:()=>Mi(e.defaultValues)&&e.defaultValues().then(j=>{re(j,e.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:j=>{r={...r,...j}},_disableForm:xe,_subjects:f,_proxyFormState:u,_setErrors:k,get _fields(){return n},get _formValues(){return a},get _state(){return o},set _state(j){o=j},get _defaultValues(){return i},get _names(){return s},set _names(j){s=j},get _formState(){return r},set _formState(j){r=j},get _options(){return e},set _options(j){e={...e,...j}}},trigger:J,register:Mt,handleSubmit:_e,watch:Re,setValue:H,getValues:oe,reset:re,resetField:Q,clearErrors:se,unregister:Ze,setError:Ee,setFocus:(j,$={})=>{const F=ye(n,j),X=F&&F._f;if(X){const Z=X.refs?X.refs[0]:X.ref;Z.focus&&(Z.focus(),$.shouldSelect&&Z.select())}},getFieldState:Y}}function ZN(t={}){const e=L.useRef(),r=L.useRef(),[n,i]=L.useState({isDirty:!1,isValidating:!1,isLoading:Mi(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Mi(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...QF(t),formState:n});const a=e.current.control;return a._options=t,LF({subject:a._subjects.state,next:o=>{$F(o,a._proxyFormState,a._updateFormState)&&i({...a._formState})}}),L.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),L.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==n.isDirty&&a._subjects.state.next({isDirty:o})}},[a,n.isDirty]),L.useEffect(()=>{t.values&&!Pa(t.values,r.current)?(a._reset(t.values,a._options.resetOptions),r.current=t.values,i(o=>({...o}))):a._resetDefaultValues()},[t.values,a]),L.useEffect(()=>{t.errors&&a._setErrors(t.errors)},[t.errors,a]),L.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),L.useEffect(()=>{t.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})},[t.shouldUnregister,a]),e.current.formState=MF(n,a),e.current}var YS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},JF=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],o=t[r++],s=t[r++],l=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const a=t[r++],o=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},tR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,s=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=a>>2,f=(a&3)<<4|s>>4;let h=(s&15)<<2|c>>6,p=c&63;l||(p=64,o||(h=64)),n.push(r[u],r[f],r[h],r[p])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(eR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):JF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],s=i<t.length?r[t.charAt(i)]:0;++i;const c=i<t.length?r[t.charAt(i)]:64;++i;const f=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||s==null||c==null||f==null)throw new ZF;const h=a<<2|s>>4;if(n.push(h),c!==64){const p=s<<4&240|c>>2;if(n.push(p),f!==64){const g=c<<6&192|f;n.push(g)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ZF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eV=function(t){const e=eR(t);return tR.encodeByteArray(e,!0)},Hp=function(t){return eV(t).replace(/\./g,"")},rR=function(t){try{return tR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rV=()=>tV().__FIREBASE_DEFAULTS__,nV=()=>{if(typeof process>"u"||typeof YS>"u")return;const t=YS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},iV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&rR(t[1]);return e&&JSON.parse(e)},_g=()=>{try{return rV()||nV()||iV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},nR=t=>{var e,r;return(r=(e=_g())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},iR=t=>{const e=nR(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},aR=()=>{var t;return(t=_g())===null||t===void 0?void 0:t.config},oR=t=>{var e;return(e=_g())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Hp(JSON.stringify(r)),Hp(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ir())}function sV(){var t;const e=(t=_g())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function cV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uV(){const t=Ir();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function fV(){return!sV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dV(){try{return typeof indexedDB=="object"}catch{return!1}}function hV(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV="FirebaseError";class wi extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=pV,Object.setPrototypeOf(this,wi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,md.prototype.create)}}class md{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?mV(a,n):"Error",s=`${this.serviceName}: ${o} (${i}).`;return new wi(i,s,n)}}function mV(t,e){return t.replace(gV,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const gV=/\{\$([^}]+)}/g;function yV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Kp(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],o=e[i];if(QS(a)&&QS(o)){if(!Kp(a,o))return!1}else if(a!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function QS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function hu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function pu(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function vV(t,e){const r=new bV(t,e);return r.subscribe.bind(r)}class bV{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");xV(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=Tv),i.error===void 0&&(i.error=Tv),i.complete===void 0&&(i.complete=Tv);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xV(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function Tv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(t){return t&&t._delegate?t._delegate:t}class io{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new aV;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kV(e))try{this.getOrInitializeService({instanceIdentifier:Ro})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=Ro){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ro){return this.instances.has(e)}getOptions(e=Ro){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(a);n===s&&o.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&e(o,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:_V(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Ro){return this.component?this.component.multipleInstances?e:Ro:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _V(t){return t===Ro?void 0:t}function kV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new wV(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(qe||(qe={}));const SV={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},TV=qe.INFO,AV={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},PV=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=AV[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class d_{constructor(e){this.name=e,this._logLevel=TV,this._logHandler=PV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?SV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const IV=(t,e)=>e.some(r=>t instanceof r);let JS,ZS;function OV(){return JS||(JS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CV(){return ZS||(ZS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lR=new WeakMap,cb=new WeakMap,cR=new WeakMap,Av=new WeakMap,h_=new WeakMap;function NV(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{r(Ya(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&lR.set(r,t)}).catch(()=>{}),h_.set(e,t),e}function RV(t){if(cb.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{r(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});cb.set(t,e)}let ub={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return cb.get(t);if(e==="objectStoreNames")return t.objectStoreNames||cR.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Ya(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function jV(t){ub=t(ub)}function DV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Pv(this),e,...r);return cR.set(n,e.sort?e.sort():[e]),Ya(n)}:CV().includes(t)?function(...e){return t.apply(Pv(this),e),Ya(lR.get(this))}:function(...e){return Ya(t.apply(Pv(this),e))}}function MV(t){return typeof t=="function"?DV(t):(t instanceof IDBTransaction&&RV(t),IV(t,OV())?new Proxy(t,ub):t)}function Ya(t){if(t instanceof IDBRequest)return NV(t);if(Av.has(t))return Av.get(t);const e=MV(t);return e!==t&&(Av.set(t,e),h_.set(e,t)),e}const Pv=t=>h_.get(t);function $V(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),s=Ya(o);return n&&o.addEventListener("upgradeneeded",l=>{n(Ya(o.result),l.oldVersion,l.newVersion,Ya(o.transaction),l)}),r&&o.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),s.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),s}const LV=["get","getKey","getAll","getAllKeys","count"],FV=["put","add","delete","clear"],Iv=new Map;function eT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Iv.get(e))return Iv.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=FV.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||LV.includes(r)))return;const a=async function(o,...s){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(s.shift())),(await Promise.all([c[r](...s),i&&l.done]))[0]};return Iv.set(e,a),a}jV(t=>({...t,get:(e,r,n)=>eT(e,r)||t.get(e,r,n),has:(e,r)=>!!eT(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(UV(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function UV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const fb="@firebase/app",tT="0.10.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi=new d_("@firebase/app"),BV="@firebase/app-compat",zV="@firebase/analytics-compat",WV="@firebase/analytics",qV="@firebase/app-check-compat",HV="@firebase/app-check",KV="@firebase/auth",GV="@firebase/auth-compat",XV="@firebase/database",YV="@firebase/database-compat",QV="@firebase/functions",JV="@firebase/functions-compat",ZV="@firebase/installations",eU="@firebase/installations-compat",tU="@firebase/messaging",rU="@firebase/messaging-compat",nU="@firebase/performance",iU="@firebase/performance-compat",aU="@firebase/remote-config",oU="@firebase/remote-config-compat",sU="@firebase/storage",lU="@firebase/storage-compat",cU="@firebase/firestore",uU="@firebase/vertexai-preview",fU="@firebase/firestore-compat",dU="firebase",hU="10.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db="[DEFAULT]",pU={[fb]:"fire-core",[BV]:"fire-core-compat",[WV]:"fire-analytics",[zV]:"fire-analytics-compat",[HV]:"fire-app-check",[qV]:"fire-app-check-compat",[KV]:"fire-auth",[GV]:"fire-auth-compat",[XV]:"fire-rtdb",[YV]:"fire-rtdb-compat",[QV]:"fire-fn",[JV]:"fire-fn-compat",[ZV]:"fire-iid",[eU]:"fire-iid-compat",[tU]:"fire-fcm",[rU]:"fire-fcm-compat",[nU]:"fire-perf",[iU]:"fire-perf-compat",[aU]:"fire-rc",[oU]:"fire-rc-compat",[sU]:"fire-gcs",[lU]:"fire-gcs-compat",[cU]:"fire-fst",[fU]:"fire-fst-compat",[uU]:"fire-vertex","fire-js":"fire-js",[dU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp=new Map,mU=new Map,hb=new Map;function rT(t,e){try{t.container.addComponent(e)}catch(r){Zi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function ns(t){const e=t.name;if(hb.has(e))return Zi.debug(`There were multiple attempts to register component ${e}.`),!1;hb.set(e,t);for(const r of Gp.values())rT(r,t);for(const r of mU.values())rT(r,t);return!0}function kg(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function si(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qa=new md("app","Firebase",gU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yU{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new io("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs=hU;function uR(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:db,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw Qa.create("bad-app-name",{appName:String(i)});if(r||(r=aR()),!r)throw Qa.create("no-options");const a=Gp.get(i);if(a){if(Kp(r,a.options)&&Kp(n,a.config))return a;throw Qa.create("duplicate-app",{appName:i})}const o=new EV(i);for(const l of hb.values())o.addComponent(l);const s=new yU(r,n,o);return Gp.set(i,s),s}function p_(t=db){const e=Gp.get(t);if(!e&&t===db&&aR())return uR();if(!e)throw Qa.create("no-app",{appName:t});return e}function di(t,e,r){var n;let i=(n=pU[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const a=i.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const s=[`Unable to register library "${i}" with version "${e}":`];a&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zi.warn(s.join(" "));return}ns(new io(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vU="firebase-heartbeat-database",bU=1,pf="firebase-heartbeat-store";let Ov=null;function fR(){return Ov||(Ov=$V(vU,bU,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(pf)}catch(r){console.warn(r)}}}}).catch(t=>{throw Qa.create("idb-open",{originalErrorMessage:t.message})})),Ov}async function xU(t){try{const r=(await fR()).transaction(pf),n=await r.objectStore(pf).get(dR(t));return await r.done,n}catch(e){if(e instanceof wi)Zi.warn(e.message);else{const r=Qa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zi.warn(r.message)}}}async function nT(t,e){try{const n=(await fR()).transaction(pf,"readwrite");await n.objectStore(pf).put(e,dR(t)),await n.done}catch(r){if(r instanceof wi)Zi.warn(r.message);else{const n=Qa.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Zi.warn(n.message)}}}function dR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wU=1024,_U=30*24*60*60*1e3;class kU{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new SU(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=iT();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=_U}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Zi.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=iT(),{heartbeatsToSend:n,unsentEntries:i}=EU(this._heartbeatsCache.heartbeats),a=Hp(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return Zi.warn(r),""}}}function iT(){return new Date().toISOString().substring(0,10)}function EU(t,e=wU){const r=[];let n=t.slice();for(const i of t){const a=r.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),aT(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),aT(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class SU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dV()?hV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await xU(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return nT(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return nT(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function aT(t){return Hp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TU(t){ns(new io("platform-logger",e=>new VV(e),"PRIVATE")),ns(new io("heartbeat",e=>new kU(e),"PRIVATE")),di(fb,tT,t),di(fb,tT,"esm2017"),di("fire-js","")}TU("");function m_(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function hR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const AU=hR,pR=new md("auth","Firebase",hR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp=new d_("@firebase/auth");function PU(t,...e){Xp.logLevel<=qe.WARN&&Xp.warn(`Auth (${bs}): ${t}`,...e)}function np(t,...e){Xp.logLevel<=qe.ERROR&&Xp.error(`Auth (${bs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(t,...e){throw g_(t,...e)}function hi(t,...e){return g_(t,...e)}function mR(t,e,r){const n=Object.assign(Object.assign({},AU()),{[e]:r});return new md("auth","Firebase",n).create(e,{appName:t.name})}function Wi(t){return mR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function g_(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return pR.create(t,...e)}function Te(t,e,...r){if(!t)throw g_(e,...r)}function $i(t){const e="INTERNAL ASSERTION FAILED: "+t;throw np(e),new Error(e)}function ea(t,e){t||$i(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function IU(){return oT()==="http:"||oT()==="https:"}function oT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(IU()||lV()||"connection"in navigator)?navigator.onLine:!0}function CU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,r){this.shortDelay=e,this.longDelay=r,ea(r>e,"Short delay should be less than long delay!"),this.isMobile=oV()||cV()}get(){return OU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y_(t,e){ea(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RU=new yd(3e4,6e4);function po(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function mo(t,e,r,n,i={}){return yR(t,i,async()=>{let a={},o={};n&&(e==="GET"?o=n:a={body:JSON.stringify(n)});const s=gd(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),gR.fetch()(vR(t,t.config.apiHost,r,s),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},a))})}async function yR(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},NU),e);try{const i=new DU(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw xh(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const s=a.ok?o.errorMessage:o.error.message,[l,c]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw xh(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw xh(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw xh(t,"user-disabled",o);const u=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw mR(t,u,c);Gn(t,u)}}catch(i){if(i instanceof wi)throw i;Gn(t,"network-request-failed",{message:String(i)})}}async function vd(t,e,r,n,i={}){const a=await mo(t,e,r,n,i);return"mfaPendingCredential"in a&&Gn(t,"multi-factor-auth-required",{_serverResponse:a}),a}function vR(t,e,r,n){const i=`${e}${r}?${n}`;return t.config.emulator?y_(t.config,i):`${t.config.apiScheme}://${i}`}function jU(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class DU{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(hi(this.auth,"network-request-failed")),RU.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function xh(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=hi(t,e,n);return i.customData._tokenResponse=r,i}function sT(t){return t!==void 0&&t.enterprise!==void 0}class MU{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return jU(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function $U(t,e){return mo(t,"GET","/v2/recaptchaConfig",po(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LU(t,e){return mo(t,"POST","/v1/accounts:delete",e)}async function bR(t,e){return mo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function FU(t,e=!1){const r=Ot(t),n=await r.getIdToken(e),i=v_(n);Te(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:Nu(Cv(i.auth_time)),issuedAtTime:Nu(Cv(i.iat)),expirationTime:Nu(Cv(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Cv(t){return Number(t)*1e3}function v_(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return np("JWT malformed, contained fewer than 3 sections"),null;try{const i=rR(r);return i?JSON.parse(i):(np("Failed to decode base64 JWT payload"),null)}catch(i){return np("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function lT(t){const e=v_(t);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mf(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof wi&&VU(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function VU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nu(this.lastLoginAt),this.creationTime=Nu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yp(t){var e;const r=t.auth,n=await t.getIdToken(),i=await mf(t,bR(r,{idToken:n}));Te(i==null?void 0:i.users.length,r,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const o=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?xR(a.providerUserInfo):[],s=zU(t.providerData,o),l=t.isAnonymous,c=!(t.email&&a.passwordHash)&&!(s!=null&&s.length),u=l?c:!1,f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new mb(a.createdAt,a.lastLoginAt),isAnonymous:u};Object.assign(t,f)}async function BU(t){const e=Ot(t);await Yp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function zU(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function xR(t){return t.map(e=>{var{providerId:r}=e,n=m_(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WU(t,e){const r=await yR(t,{},async()=>{const n=gd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=vR(t,i,"/v1/token",`key=${a}`),s=await t._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",gR.fetch()(o,{method:"POST",headers:s,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function qU(t,e){return mo(t,"POST","/v2/accounts:revokeToken",po(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):lT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const r=lT(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await WU(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,o=new bl;return n&&(Te(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),i&&(Te(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(Te(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bl,this.toJSON())}_performRefresh(){return $i("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xa(t,e){Te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Li{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,a=m_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new UU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new mb(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const r=await mf(this,this.stsTokenManager.getToken(this.auth,e));return Te(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return FU(this,e)}reload(){return BU(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Li(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Yp(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(si(this.auth.app))return Promise.reject(Wi(this.auth));const e=await this.getIdToken();return await mf(this,LU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,a,o,s,l,c,u;const f=(n=r.displayName)!==null&&n!==void 0?n:void 0,h=(i=r.email)!==null&&i!==void 0?i:void 0,p=(a=r.phoneNumber)!==null&&a!==void 0?a:void 0,g=(o=r.photoURL)!==null&&o!==void 0?o:void 0,y=(s=r.tenantId)!==null&&s!==void 0?s:void 0,b=(l=r._redirectEventId)!==null&&l!==void 0?l:void 0,_=(c=r.createdAt)!==null&&c!==void 0?c:void 0,v=(u=r.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:x,emailVerified:k,isAnonymous:T,providerData:C,stsTokenManager:S}=r;Te(x&&S,e,"internal-error");const E=bl.fromJSON(this.name,S);Te(typeof x=="string",e,"internal-error"),xa(f,e.name),xa(h,e.name),Te(typeof k=="boolean",e,"internal-error"),Te(typeof T=="boolean",e,"internal-error"),xa(p,e.name),xa(g,e.name),xa(y,e.name),xa(b,e.name),xa(_,e.name),xa(v,e.name);const P=new Li({uid:x,auth:e,email:h,emailVerified:k,displayName:f,isAnonymous:T,photoURL:g,phoneNumber:p,tenantId:y,stsTokenManager:E,createdAt:_,lastLoginAt:v});return C&&Array.isArray(C)&&(P.providerData=C.map(O=>Object.assign({},O))),b&&(P._redirectEventId=b),P}static async _fromIdTokenResponse(e,r,n=!1){const i=new bl;i.updateFromServerResponse(r);const a=new Li({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Yp(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];Te(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?xR(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),s=new bl;s.updateFromIdToken(n);const l=new Li({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new mb(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT=new Map;function Fi(t){ea(t instanceof Function,"Expected a class definition");let e=cT.get(t);return e?(ea(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,cT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}wR.type="NONE";const uT=wR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ip(t,e,r){return`firebase:${t}:${e}:${r}`}class xl{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=ip(this.userKey,i.apiKey,a),this.fullPersistenceKey=ip("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Li._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new xl(Fi(uT),e,n);const i=(await Promise.all(r.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let a=i[0]||Fi(uT);const o=ip(n,e.config.apiKey,e.name);let s=null;for(const c of r)try{const u=await c._get(o);if(u){const f=Li._fromJSON(e,u);c!==a&&(s=f),a=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new xl(a,e,n):(a=l[0],s&&await a._set(o,s.toJSON()),await Promise.all(r.map(async c=>{if(c!==a)try{await c._remove(o)}catch{}})),new xl(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(SR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_R(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(AR(e))return"Blackberry";if(PR(e))return"Webos";if(kR(e))return"Safari";if((e.includes("chrome/")||ER(e))&&!e.includes("edge/"))return"Chrome";if(TR(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function _R(t=Ir()){return/firefox\//i.test(t)}function kR(t=Ir()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ER(t=Ir()){return/crios\//i.test(t)}function SR(t=Ir()){return/iemobile/i.test(t)}function TR(t=Ir()){return/android/i.test(t)}function AR(t=Ir()){return/blackberry/i.test(t)}function PR(t=Ir()){return/webos/i.test(t)}function b_(t=Ir()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function HU(t=Ir()){var e;return b_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function KU(){return uV()&&document.documentMode===10}function IR(t=Ir()){return b_(t)||TR(t)||PR(t)||AR(t)||/windows phone/i.test(t)||SR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(t,e=[]){let r;switch(t){case"Browser":r=fT(Ir());break;case"Worker":r=`${fT(Ir())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${bs}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((o,s)=>{try{const l=e(a);o(l)}catch(l){s(l)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XU(t,e={}){return mo(t,"GET","/v2/passwordPolicy",po(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YU=6;class QU{constructor(e){var r,n,i,a;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=o.minPasswordLength)!==null&&r!==void 0?r:YU,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,a,o,s;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(r=l.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(a=l.containsUppercaseLetter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),l}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JU{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dT(this),this.idTokenSubscription=new dT(this),this.beforeStateQueue=new GU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Fi(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await xl.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await bR(this,{idToken:e}),n=await Li._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(si(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,s=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===s)&&(l!=null&&l.user)&&(i=l.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Yp(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=CU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(si(this.app))return Promise.reject(Wi(this));const r=e?Ot(e):null;return r&&Te(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return si(this.app)?Promise.reject(Wi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return si(this.app)?Promise.reject(Wi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await XU(this),r=new QU(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new md("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await qU(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Fi(e)||this._popupRedirectResolver;Te(r,this,"argument-error"),this.redirectPersistenceManager=await xl.create(this,[Fi(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(s,this,"internal-error"),s.then(()=>{o||a(this.currentUser)}),typeof r=="function"){const l=e.addObserver(r,n,i);return()=>{o=!0,l()}}else{const l=e.addObserver(r);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=OR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&PU(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function xs(t){return Ot(t)}class dT{constructor(e){this.auth=e,this.observer=null,this.addObserver=vV(r=>this.observer=r)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZU(t){Eg=t}function CR(t){return Eg.loadJS(t)}function eB(){return Eg.recaptchaEnterpriseScript}function tB(){return Eg.gapiScript}function rB(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const nB="recaptcha-enterprise",iB="NO_RECAPTCHA";class aB{constructor(e){this.type=nB,this.auth=xs(e)}async verify(e="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,s)=>{$U(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const c=new MU(l);return a.tenantId==null?a._agentRecaptchaConfig=c:a._tenantRecaptchaConfigs[a.tenantId]=c,o(c.siteKey)}}).catch(l=>{s(l)})})}function i(a,o,s){const l=window.grecaptcha;sT(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(c=>{o(c)}).catch(()=>{o(iB)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,o)=>{n(this.auth).then(s=>{if(!r&&sT(window.grecaptcha))i(s,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=eB();l.length!==0&&(l+=s),CR(l).then(()=>{i(s,a,o)}).catch(c=>{o(c)})}}).catch(s=>{o(s)})})}}async function hT(t,e,r,n=!1){const i=new aB(t);let a;try{a=await i.verify(r)}catch{a=await i.verify(r,!0)}const o=Object.assign({},e);return n?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function gb(t,e,r,n){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await hT(t,e,r,r==="getOobCode");return n(t,a)}else return n(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await hT(t,e,r,r==="getOobCode");return n(t,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oB(t,e){const r=kg(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(Kp(a,e??{}))return i;Gn(i,"already-initialized")}return r.initialize({options:e})}function sB(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Fi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function lB(t,e,r){const n=xs(t);Te(n._canInitEmulator,n,"emulator-config-failed"),Te(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=NR(e),{host:o,port:s}=cB(e),l=s===null?"":`:${s}`;n.config.emulator={url:`${a}//${o}${l}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),uB()}function NR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function cB(t){const e=NR(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:pT(n.substr(a.length+1))}}else{const[a,o]=n.split(":");return{host:a,port:pT(o)}}}function pT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function uB(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return $i("not implemented")}_getIdTokenResponse(e){return $i("not implemented")}_linkToIdToken(e,r){return $i("not implemented")}_getReauthenticationResolver(e){return $i("not implemented")}}async function fB(t,e){return mo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dB(t,e){return vd(t,"POST","/v1/accounts:signInWithPassword",po(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hB(t,e){return vd(t,"POST","/v1/accounts:signInWithEmailLink",po(t,e))}async function pB(t,e){return vd(t,"POST","/v1/accounts:signInWithEmailLink",po(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf extends x_{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new gf(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new gf(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gb(e,r,"signInWithPassword",dB);case"emailLink":return hB(e,{email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gb(e,n,"signUpPassword",fB);case"emailLink":return pB(e,{idToken:r,email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wl(t,e){return vd(t,"POST","/v1/accounts:signInWithIdp",po(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mB="http://localhost";class is extends x_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new is(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Gn("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,a=m_(r,["providerId","signInMethod"]);if(!n||!i)return null;const o=new is(n,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return wl(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,wl(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,wl(e,r)}buildRequest(){const e={requestUri:mB,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=gd(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gB(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function yB(t){const e=hu(pu(t)).link,r=e?hu(pu(e)).deep_link_id:null,n=hu(pu(t)).deep_link_id;return(n?hu(pu(n)).link:null)||n||r||e||t}class w_{constructor(e){var r,n,i,a,o,s;const l=hu(pu(e)),c=(r=l.apiKey)!==null&&r!==void 0?r:null,u=(n=l.oobCode)!==null&&n!==void 0?n:null,f=gB((i=l.mode)!==null&&i!==void 0?i:null);Te(c&&u&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=u,this.continueUrl=(a=l.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(s=l.tenantId)!==null&&s!==void 0?s:null}static parseLink(e){const r=yB(e);try{return new w_(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(){this.providerId=fc.PROVIDER_ID}static credential(e,r){return gf._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=w_.parseLink(r);return Te(n,"argument-error"),gf._fromEmailAndCode(e,n.code,n.tenantId)}}fc.PROVIDER_ID="password";fc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";fc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd extends RR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia extends bd{constructor(){super("facebook.com")}static credential(e){return is._fromParams({providerId:Ia.PROVIDER_ID,signInMethod:Ia.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ia.credentialFromTaggedObject(e)}static credentialFromError(e){return Ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ia.credential(e.oauthAccessToken)}catch{return null}}}Ia.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ia.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa extends bd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return is._fromParams({providerId:Oa.PROVIDER_ID,signInMethod:Oa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Oa.credentialFromTaggedObject(e)}static credentialFromError(e){return Oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Oa.credential(r,n)}catch{return null}}}Oa.GOOGLE_SIGN_IN_METHOD="google.com";Oa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca extends bd{constructor(){super("github.com")}static credential(e){return is._fromParams({providerId:Ca.PROVIDER_ID,signInMethod:Ca.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ca.credentialFromTaggedObject(e)}static credentialFromError(e){return Ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ca.credential(e.oauthAccessToken)}catch{return null}}}Ca.GITHUB_SIGN_IN_METHOD="github.com";Ca.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na extends bd{constructor(){super("twitter.com")}static credential(e,r){return is._fromParams({providerId:Na.PROVIDER_ID,signInMethod:Na.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Na.credentialFromTaggedObject(e)}static credentialFromError(e){return Na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Na.credential(r,n)}catch{return null}}}Na.TWITTER_SIGN_IN_METHOD="twitter.com";Na.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vB(t,e){return vd(t,"POST","/v1/accounts:signUp",po(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await Li._fromIdTokenResponse(e,n,i),o=mT(n);return new as({user:a,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=mT(n);return new as({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function mT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp extends wi{constructor(e,r,n,i){var a;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Qp.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new Qp(e,r,n,i)}}function jR(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Qp._fromErrorAndOperation(t,a,e,n):a})}async function bB(t,e,r=!1){const n=await mf(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return as._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xB(t,e,r=!1){const{auth:n}=t;if(si(n.app))return Promise.reject(Wi(n));const i="reauthenticate";try{const a=await mf(t,jR(n,i,e,t),r);Te(a.idToken,n,"internal-error");const o=v_(a.idToken);Te(o,n,"internal-error");const{sub:s}=o;return Te(t.uid===s,n,"user-mismatch"),as._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Gn(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DR(t,e,r=!1){if(si(t.app))return Promise.reject(Wi(t));const n="signIn",i=await jR(t,n,e),a=await as._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}async function wB(t,e){return DR(xs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MR(t){const e=xs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function _B(t,e,r){if(si(t.app))return Promise.reject(Wi(t));const n=xs(t),o=await gb(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",vB).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&MR(t),l}),s=await as._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(s.user),s}function gT(t,e,r){return si(t.app)?Promise.reject(Wi(t)):wB(Ot(t),fc.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&MR(t),n})}function kB(t,e,r,n){return Ot(t).onIdTokenChanged(e,r,n)}function EB(t,e,r){return Ot(t).beforeAuthStateChanged(e,r)}function SB(t,e,r,n){return Ot(t).onAuthStateChanged(e,r,n)}function TB(t){return Ot(t).signOut()}const Jp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Jp,"1"),this.storage.removeItem(Jp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AB=1e3,PB=10;class LR extends $R{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=IR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,s,l)=>{this.notifyListeners(o,l)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},a=this.storage.getItem(n);KU()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,PB):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},AB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}LR.type="LOCAL";const IB=LR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR extends $R{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}FR.type="SESSION";const VR=FR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OB(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new Sg(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const s=Array.from(o).map(async c=>c(r.origin,a)),l=await OB(s);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Sg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CB{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((s,l)=>{const c=__("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),s(h.data.response);break;default:clearTimeout(u),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:r},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(){return window}function NB(t){pi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(){return typeof pi().WorkerGlobalScope<"u"&&typeof pi().importScripts=="function"}async function RB(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jB(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function DB(){return UR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR="firebaseLocalStorageDb",MB=1,Zp="firebaseLocalStorage",zR="fbase_key";class xd{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Tg(t,e){return t.transaction([Zp],e?"readwrite":"readonly").objectStore(Zp)}function $B(){const t=indexedDB.deleteDatabase(BR);return new xd(t).toPromise()}function yb(){const t=indexedDB.open(BR,MB);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Zp,{keyPath:zR})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Zp)?e(n):(n.close(),await $B(),e(await yb()))})})}async function yT(t,e,r){const n=Tg(t,!0).put({[zR]:e,value:r});return new xd(n).toPromise()}async function LB(t,e){const r=Tg(t,!1).get(e),n=await new xd(r).toPromise();return n===void 0?null:n.value}function vT(t,e){const r=Tg(t,!0).delete(e);return new xd(r).toPromise()}const FB=800,VB=3;class WR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yb(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>VB)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return UR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Sg._getInstance(DB()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await RB(),!this.activeServiceWorker)return;this.sender=new CB(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yb();return await yT(e,Jp,"1"),await vT(e,Jp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>yT(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>LB(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>vT(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Tg(i,!1).getAll();return new xd(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),FB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}WR.type="LOCAL";const UB=WR;new yd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BB(t,e){return e?Fi(e):(Te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_ extends x_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wl(e,this._buildIdpRequest())}_linkToIdToken(e,r){return wl(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return wl(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function zB(t){return DR(t.auth,new k_(t),t.bypassAuthState)}function WB(t){const{auth:e,user:r}=t;return Te(r,e,"internal-error"),xB(r,new k_(t),t.bypassAuthState)}async function qB(t){const{auth:e,user:r}=t;return Te(r,e,"internal-error"),bB(r,new k_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:o,type:s}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zB;case"linkViaPopup":case"linkViaRedirect":return qB;case"reauthViaPopup":case"reauthViaRedirect":return WB;default:Gn(this.auth,"internal-error")}}resolve(e){ea(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ea(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HB=new yd(2e3,1e4);class ll extends qR{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,ll.currentPopupAction&&ll.currentPopupAction.cancel(),ll.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){ea(this.filter.length===1,"Popup operations only handle one event");const e=__();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(hi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ll.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,HB.get())};e()}}ll.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KB="pendingRedirect",ap=new Map;class GB extends qR{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=ap.get(this.auth._key());if(!e){try{const n=await XB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}ap.set(this.auth._key(),e)}return this.bypassAuthState||ap.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XB(t,e){const r=JB(e),n=QB(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function YB(t,e){ap.set(t._key(),e)}function QB(t){return Fi(t._redirectPersistence)}function JB(t){return ip(KB,t.config.apiKey,t.name)}async function ZB(t,e,r=!1){if(si(t.app))return Promise.reject(Wi(t));const n=xs(t),i=BB(n,e),o=await new GB(n,i,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e9=10*60*1e3;class t9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!r9(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!HR(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(hi(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=e9&&this.cachedEventUids.clear(),this.cachedEventUids.has(bT(e))}saveEventToCache(e){this.cachedEventUids.add(bT(e)),this.lastProcessedEventTime=Date.now()}}function bT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function HR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function r9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return HR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n9(t,e={}){return mo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,a9=/^https?/;async function o9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await n9(t);for(const r of e)try{if(s9(r))return}catch{}Gn(t,"unauthorized-domain")}function s9(t){const e=pb(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!a9.test(r))return!1;if(i9.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l9=new yd(3e4,6e4);function xT(){const t=pi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function c9(t){return new Promise((e,r)=>{var n,i,a;function o(){xT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{xT(),r(hi(t,"network-request-failed"))},timeout:l9.get()})}if(!((i=(n=pi().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=pi().gapi)===null||a===void 0)&&a.load)o();else{const s=rB("iframefcb");return pi()[s]=()=>{gapi.load?o():r(hi(t,"network-request-failed"))},CR(`${tB()}?onload=${s}`).catch(l=>r(l))}}).catch(e=>{throw op=null,e})}let op=null;function u9(t){return op=op||c9(t),op}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f9=new yd(5e3,15e3),d9="__/auth/iframe",h9="emulator/auth/iframe",p9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},m9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function g9(t){const e=t.config;Te(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?y_(e,h9):`https://${t.config.authDomain}/${d9}`,n={apiKey:e.apiKey,appName:t.name,v:bs},i=m9.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${gd(n).slice(1)}`}async function y9(t){const e=await u9(t),r=pi().gapi;return Te(r,t,"internal-error"),e.open({where:document.body,url:g9(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:p9,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const o=hi(t,"network-request-failed"),s=pi().setTimeout(()=>{a(o)},f9.get());function l(){pi().clearTimeout(s),i(n)}n.ping(l).then(l,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},b9=500,x9=600,w9="_blank",_9="http://localhost";class wT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function k9(t,e,r,n=b9,i=x9){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let s="";const l=Object.assign(Object.assign({},v9),{width:n.toString(),height:i.toString(),top:a,left:o}),c=Ir().toLowerCase();r&&(s=ER(c)?w9:r),_R(c)&&(e=e||_9,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[p,g])=>`${h}${p}=${g},`,"");if(HU(c)&&s!=="_self")return E9(e||"",s),new wT(null);const f=window.open(e||"",s,u);Te(f,t,"popup-blocked");try{f.focus()}catch{}return new wT(f)}function E9(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S9="__/auth/handler",T9="emulator/auth/handler",A9=encodeURIComponent("fac");async function _T(t,e,r,n,i,a){Te(t.config.authDomain,t,"auth-domain-config-required"),Te(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:bs,eventId:i};if(e instanceof RR){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",yV(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries({}))o[u]=f}if(e instanceof bd){const u=e.getScopes().filter(f=>f!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const s=o;for(const u of Object.keys(s))s[u]===void 0&&delete s[u];const l=await t._getAppCheckToken(),c=l?`#${A9}=${encodeURIComponent(l)}`:"";return`${P9(t)}?${gd(s).slice(1)}${c}`}function P9({config:t}){return t.emulator?y_(t,T9):`https://${t.authDomain}/${S9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="webStorageSupport";class I9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=VR,this._completeRedirectFn=ZB,this._overrideRedirectResult=YB}async _openPopup(e,r,n,i){var a;ea((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await _T(e,r,n,pb(),i);return k9(e,o,__())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await _T(e,r,n,pb(),i);return NB(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(ea(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await y9(e),n=new t9(e);return r.register("authEvent",i=>(Te(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Nv,{type:Nv},i=>{var a;const o=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[Nv];o!==void 0&&r(!!o),Gn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=o9(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return IR()||kR()||b_()}}const O9=I9;var kT="@firebase/auth",ET="1.7.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function R9(t){ns(new io("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=n.options;Te(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:o,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:OR(t)},c=new JU(n,i,a,l);return sB(c,r),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),ns(new io("auth-internal",e=>{const r=xs(e.getProvider("auth").getImmediate());return(n=>new C9(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),di(kT,ET,N9(t)),di(kT,ET,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j9=5*60,D9=oR("authIdTokenMaxAge")||j9;let ST=null;const M9=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>D9)return;const i=r==null?void 0:r.token;ST!==i&&(ST=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function em(t=p_()){const e=kg(t,"auth");if(e.isInitialized())return e.getImmediate();const r=oB(t,{popupRedirectResolver:O9,persistence:[UB,IB,VR]}),n=oR("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const o=M9(a.toString());EB(r,o,()=>o(r.currentUser)),kB(r,s=>o(s))}}const i=nR("auth");return i&&lB(r,`http://${i}`),r}function $9(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}ZU({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=hi("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",$9().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});R9("Browser");var L9="firebase",F9="10.13.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */di(L9,F9,"app");var TT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Go,KR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,E){function P(){}P.prototype=E.prototype,S.D=E.prototype,S.prototype=new P,S.prototype.constructor=S,S.C=function(O,R,N){for(var I=Array(arguments.length-2),V=2;V<arguments.length;V++)I[V-2]=arguments[V];return E.prototype[R].apply(O,I)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,E,P){P||(P=0);var O=Array(16);if(typeof E=="string")for(var R=0;16>R;++R)O[R]=E.charCodeAt(P++)|E.charCodeAt(P++)<<8|E.charCodeAt(P++)<<16|E.charCodeAt(P++)<<24;else for(R=0;16>R;++R)O[R]=E[P++]|E[P++]<<8|E[P++]<<16|E[P++]<<24;E=S.g[0],P=S.g[1],R=S.g[2];var N=S.g[3],I=E+(N^P&(R^N))+O[0]+3614090360&4294967295;E=P+(I<<7&4294967295|I>>>25),I=N+(R^E&(P^R))+O[1]+3905402710&4294967295,N=E+(I<<12&4294967295|I>>>20),I=R+(P^N&(E^P))+O[2]+606105819&4294967295,R=N+(I<<17&4294967295|I>>>15),I=P+(E^R&(N^E))+O[3]+3250441966&4294967295,P=R+(I<<22&4294967295|I>>>10),I=E+(N^P&(R^N))+O[4]+4118548399&4294967295,E=P+(I<<7&4294967295|I>>>25),I=N+(R^E&(P^R))+O[5]+1200080426&4294967295,N=E+(I<<12&4294967295|I>>>20),I=R+(P^N&(E^P))+O[6]+2821735955&4294967295,R=N+(I<<17&4294967295|I>>>15),I=P+(E^R&(N^E))+O[7]+4249261313&4294967295,P=R+(I<<22&4294967295|I>>>10),I=E+(N^P&(R^N))+O[8]+1770035416&4294967295,E=P+(I<<7&4294967295|I>>>25),I=N+(R^E&(P^R))+O[9]+2336552879&4294967295,N=E+(I<<12&4294967295|I>>>20),I=R+(P^N&(E^P))+O[10]+4294925233&4294967295,R=N+(I<<17&4294967295|I>>>15),I=P+(E^R&(N^E))+O[11]+2304563134&4294967295,P=R+(I<<22&4294967295|I>>>10),I=E+(N^P&(R^N))+O[12]+1804603682&4294967295,E=P+(I<<7&4294967295|I>>>25),I=N+(R^E&(P^R))+O[13]+4254626195&4294967295,N=E+(I<<12&4294967295|I>>>20),I=R+(P^N&(E^P))+O[14]+2792965006&4294967295,R=N+(I<<17&4294967295|I>>>15),I=P+(E^R&(N^E))+O[15]+1236535329&4294967295,P=R+(I<<22&4294967295|I>>>10),I=E+(R^N&(P^R))+O[1]+4129170786&4294967295,E=P+(I<<5&4294967295|I>>>27),I=N+(P^R&(E^P))+O[6]+3225465664&4294967295,N=E+(I<<9&4294967295|I>>>23),I=R+(E^P&(N^E))+O[11]+643717713&4294967295,R=N+(I<<14&4294967295|I>>>18),I=P+(N^E&(R^N))+O[0]+3921069994&4294967295,P=R+(I<<20&4294967295|I>>>12),I=E+(R^N&(P^R))+O[5]+3593408605&4294967295,E=P+(I<<5&4294967295|I>>>27),I=N+(P^R&(E^P))+O[10]+38016083&4294967295,N=E+(I<<9&4294967295|I>>>23),I=R+(E^P&(N^E))+O[15]+3634488961&4294967295,R=N+(I<<14&4294967295|I>>>18),I=P+(N^E&(R^N))+O[4]+3889429448&4294967295,P=R+(I<<20&4294967295|I>>>12),I=E+(R^N&(P^R))+O[9]+568446438&4294967295,E=P+(I<<5&4294967295|I>>>27),I=N+(P^R&(E^P))+O[14]+3275163606&4294967295,N=E+(I<<9&4294967295|I>>>23),I=R+(E^P&(N^E))+O[3]+4107603335&4294967295,R=N+(I<<14&4294967295|I>>>18),I=P+(N^E&(R^N))+O[8]+1163531501&4294967295,P=R+(I<<20&4294967295|I>>>12),I=E+(R^N&(P^R))+O[13]+2850285829&4294967295,E=P+(I<<5&4294967295|I>>>27),I=N+(P^R&(E^P))+O[2]+4243563512&4294967295,N=E+(I<<9&4294967295|I>>>23),I=R+(E^P&(N^E))+O[7]+1735328473&4294967295,R=N+(I<<14&4294967295|I>>>18),I=P+(N^E&(R^N))+O[12]+2368359562&4294967295,P=R+(I<<20&4294967295|I>>>12),I=E+(P^R^N)+O[5]+4294588738&4294967295,E=P+(I<<4&4294967295|I>>>28),I=N+(E^P^R)+O[8]+2272392833&4294967295,N=E+(I<<11&4294967295|I>>>21),I=R+(N^E^P)+O[11]+1839030562&4294967295,R=N+(I<<16&4294967295|I>>>16),I=P+(R^N^E)+O[14]+4259657740&4294967295,P=R+(I<<23&4294967295|I>>>9),I=E+(P^R^N)+O[1]+2763975236&4294967295,E=P+(I<<4&4294967295|I>>>28),I=N+(E^P^R)+O[4]+1272893353&4294967295,N=E+(I<<11&4294967295|I>>>21),I=R+(N^E^P)+O[7]+4139469664&4294967295,R=N+(I<<16&4294967295|I>>>16),I=P+(R^N^E)+O[10]+3200236656&4294967295,P=R+(I<<23&4294967295|I>>>9),I=E+(P^R^N)+O[13]+681279174&4294967295,E=P+(I<<4&4294967295|I>>>28),I=N+(E^P^R)+O[0]+3936430074&4294967295,N=E+(I<<11&4294967295|I>>>21),I=R+(N^E^P)+O[3]+3572445317&4294967295,R=N+(I<<16&4294967295|I>>>16),I=P+(R^N^E)+O[6]+76029189&4294967295,P=R+(I<<23&4294967295|I>>>9),I=E+(P^R^N)+O[9]+3654602809&4294967295,E=P+(I<<4&4294967295|I>>>28),I=N+(E^P^R)+O[12]+3873151461&4294967295,N=E+(I<<11&4294967295|I>>>21),I=R+(N^E^P)+O[15]+530742520&4294967295,R=N+(I<<16&4294967295|I>>>16),I=P+(R^N^E)+O[2]+3299628645&4294967295,P=R+(I<<23&4294967295|I>>>9),I=E+(R^(P|~N))+O[0]+4096336452&4294967295,E=P+(I<<6&4294967295|I>>>26),I=N+(P^(E|~R))+O[7]+1126891415&4294967295,N=E+(I<<10&4294967295|I>>>22),I=R+(E^(N|~P))+O[14]+2878612391&4294967295,R=N+(I<<15&4294967295|I>>>17),I=P+(N^(R|~E))+O[5]+4237533241&4294967295,P=R+(I<<21&4294967295|I>>>11),I=E+(R^(P|~N))+O[12]+1700485571&4294967295,E=P+(I<<6&4294967295|I>>>26),I=N+(P^(E|~R))+O[3]+2399980690&4294967295,N=E+(I<<10&4294967295|I>>>22),I=R+(E^(N|~P))+O[10]+4293915773&4294967295,R=N+(I<<15&4294967295|I>>>17),I=P+(N^(R|~E))+O[1]+2240044497&4294967295,P=R+(I<<21&4294967295|I>>>11),I=E+(R^(P|~N))+O[8]+1873313359&4294967295,E=P+(I<<6&4294967295|I>>>26),I=N+(P^(E|~R))+O[15]+4264355552&4294967295,N=E+(I<<10&4294967295|I>>>22),I=R+(E^(N|~P))+O[6]+2734768916&4294967295,R=N+(I<<15&4294967295|I>>>17),I=P+(N^(R|~E))+O[13]+1309151649&4294967295,P=R+(I<<21&4294967295|I>>>11),I=E+(R^(P|~N))+O[4]+4149444226&4294967295,E=P+(I<<6&4294967295|I>>>26),I=N+(P^(E|~R))+O[11]+3174756917&4294967295,N=E+(I<<10&4294967295|I>>>22),I=R+(E^(N|~P))+O[2]+718787259&4294967295,R=N+(I<<15&4294967295|I>>>17),I=P+(N^(R|~E))+O[9]+3951481745&4294967295,S.g[0]=S.g[0]+E&4294967295,S.g[1]=S.g[1]+(R+(I<<21&4294967295|I>>>11))&4294967295,S.g[2]=S.g[2]+R&4294967295,S.g[3]=S.g[3]+N&4294967295}n.prototype.u=function(S,E){E===void 0&&(E=S.length);for(var P=E-this.blockSize,O=this.B,R=this.h,N=0;N<E;){if(R==0)for(;N<=P;)i(this,S,N),N+=this.blockSize;if(typeof S=="string"){for(;N<E;)if(O[R++]=S.charCodeAt(N++),R==this.blockSize){i(this,O),R=0;break}}else for(;N<E;)if(O[R++]=S[N++],R==this.blockSize){i(this,O),R=0;break}}this.h=R,this.o+=E},n.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var E=1;E<S.length-8;++E)S[E]=0;var P=8*this.o;for(E=S.length-8;E<S.length;++E)S[E]=P&255,P/=256;for(this.u(S),S=Array(16),E=P=0;4>E;++E)for(var O=0;32>O;O+=8)S[P++]=this.g[E]>>>O&255;return S};function a(S,E){var P=s;return Object.prototype.hasOwnProperty.call(P,S)?P[S]:P[S]=E(S)}function o(S,E){this.h=E;for(var P=[],O=!0,R=S.length-1;0<=R;R--){var N=S[R]|0;O&&N==E||(P[R]=N,O=!1)}this.g=P}var s={};function l(S){return-128<=S&&128>S?a(S,function(E){return new o([E|0],0>E?-1:0)}):new o([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return b(c(-S));for(var E=[],P=1,O=0;S>=P;O++)E[O]=S/P|0,P*=4294967296;return new o(E,0)}function u(S,E){if(S.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(S.charAt(0)=="-")return b(u(S.substring(1),E));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=c(Math.pow(E,8)),O=f,R=0;R<S.length;R+=8){var N=Math.min(8,S.length-R),I=parseInt(S.substring(R,R+N),E);8>N?(N=c(Math.pow(E,N)),O=O.j(N).add(c(I))):(O=O.j(P),O=O.add(c(I)))}return O}var f=l(0),h=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(y(this))return-b(this).m();for(var S=0,E=1,P=0;P<this.g.length;P++){var O=this.i(P);S+=(0<=O?O:4294967296+O)*E,E*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(g(this))return"0";if(y(this))return"-"+b(this).toString(S);for(var E=c(Math.pow(S,6)),P=this,O="";;){var R=k(P,E).g;P=_(P,R.j(E));var N=((0<P.g.length?P.g[0]:P.h)>>>0).toString(S);if(P=R,g(P))return N+O;for(;6>N.length;)N="0"+N;O=N+O}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function g(S){if(S.h!=0)return!1;for(var E=0;E<S.g.length;E++)if(S.g[E]!=0)return!1;return!0}function y(S){return S.h==-1}t.l=function(S){return S=_(this,S),y(S)?-1:g(S)?0:1};function b(S){for(var E=S.g.length,P=[],O=0;O<E;O++)P[O]=~S.g[O];return new o(P,~S.h).add(h)}t.abs=function(){return y(this)?b(this):this},t.add=function(S){for(var E=Math.max(this.g.length,S.g.length),P=[],O=0,R=0;R<=E;R++){var N=O+(this.i(R)&65535)+(S.i(R)&65535),I=(N>>>16)+(this.i(R)>>>16)+(S.i(R)>>>16);O=I>>>16,N&=65535,I&=65535,P[R]=I<<16|N}return new o(P,P[P.length-1]&-2147483648?-1:0)};function _(S,E){return S.add(b(E))}t.j=function(S){if(g(this)||g(S))return f;if(y(this))return y(S)?b(this).j(b(S)):b(b(this).j(S));if(y(S))return b(this.j(b(S)));if(0>this.l(p)&&0>S.l(p))return c(this.m()*S.m());for(var E=this.g.length+S.g.length,P=[],O=0;O<2*E;O++)P[O]=0;for(O=0;O<this.g.length;O++)for(var R=0;R<S.g.length;R++){var N=this.i(O)>>>16,I=this.i(O)&65535,V=S.i(R)>>>16,B=S.i(R)&65535;P[2*O+2*R]+=I*B,v(P,2*O+2*R),P[2*O+2*R+1]+=N*B,v(P,2*O+2*R+1),P[2*O+2*R+1]+=I*V,v(P,2*O+2*R+1),P[2*O+2*R+2]+=N*V,v(P,2*O+2*R+2)}for(O=0;O<E;O++)P[O]=P[2*O+1]<<16|P[2*O];for(O=E;O<2*E;O++)P[O]=0;return new o(P,0)};function v(S,E){for(;(S[E]&65535)!=S[E];)S[E+1]+=S[E]>>>16,S[E]&=65535,E++}function x(S,E){this.g=S,this.h=E}function k(S,E){if(g(E))throw Error("division by zero");if(g(S))return new x(f,f);if(y(S))return E=k(b(S),E),new x(b(E.g),b(E.h));if(y(E))return E=k(S,b(E)),new x(b(E.g),E.h);if(30<S.g.length){if(y(S)||y(E))throw Error("slowDivide_ only works with positive integers.");for(var P=h,O=E;0>=O.l(S);)P=T(P),O=T(O);var R=C(P,1),N=C(O,1);for(O=C(O,2),P=C(P,2);!g(O);){var I=N.add(O);0>=I.l(S)&&(R=R.add(P),N=I),O=C(O,1),P=C(P,1)}return E=_(S,R.j(E)),new x(R,E)}for(R=f;0<=S.l(E);){for(P=Math.max(1,Math.floor(S.m()/E.m())),O=Math.ceil(Math.log(P)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),N=c(P),I=N.j(E);y(I)||0<I.l(S);)P-=O,N=c(P),I=N.j(E);g(N)&&(N=h),R=R.add(N),S=_(S,I)}return new x(R,S)}t.A=function(S){return k(this,S).h},t.and=function(S){for(var E=Math.max(this.g.length,S.g.length),P=[],O=0;O<E;O++)P[O]=this.i(O)&S.i(O);return new o(P,this.h&S.h)},t.or=function(S){for(var E=Math.max(this.g.length,S.g.length),P=[],O=0;O<E;O++)P[O]=this.i(O)|S.i(O);return new o(P,this.h|S.h)},t.xor=function(S){for(var E=Math.max(this.g.length,S.g.length),P=[],O=0;O<E;O++)P[O]=this.i(O)^S.i(O);return new o(P,this.h^S.h)};function T(S){for(var E=S.g.length+1,P=[],O=0;O<E;O++)P[O]=S.i(O)<<1|S.i(O-1)>>>31;return new o(P,S.h)}function C(S,E){var P=E>>5;E%=32;for(var O=S.g.length-P,R=[],N=0;N<O;N++)R[N]=0<E?S.i(N+P)>>>E|S.i(N+P+1)<<32-E:S.i(N+P);return new o(R,S.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,KR=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,Go=o}).apply(typeof TT<"u"?TT:typeof self<"u"?self:typeof window<"u"?window:{});var wh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var GR,XR,mu,YR,sp,vb,QR,JR,ZR;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,w,A){return d==Array.prototype||d==Object.prototype||(d[w]=A.value),d};function r(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof wh=="object"&&wh];for(var w=0;w<d.length;++w){var A=d[w];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var n=r(this);function i(d,w){if(w)e:{var A=n;d=d.split(".");for(var D=0;D<d.length-1;D++){var z=d[D];if(!(z in A))break e;A=A[z]}d=d[d.length-1],D=A[d],w=w(D),w!=D&&w!=null&&e(A,d,{configurable:!0,writable:!0,value:w})}}function a(d,w){d instanceof String&&(d+="");var A=0,D=!1,z={next:function(){if(!D&&A<d.length){var K=A++;return{value:w(K,d[K]),done:!1}}return D=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}i("Array.prototype.values",function(d){return d||function(){return a(this,function(w,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function l(d){var w=typeof d;return w=w!="object"?w:d?Array.isArray(d)?"array":w:"null",w=="array"||w=="object"&&typeof d.length=="number"}function c(d){var w=typeof d;return w=="object"&&d!=null||w=="function"}function u(d,w,A){return d.call.apply(d.bind,arguments)}function f(d,w,A){if(!d)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,D),d.apply(w,z)}}return function(){return d.apply(w,arguments)}}function h(d,w,A){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,h.apply(null,arguments)}function p(d,w){var A=Array.prototype.slice.call(arguments,1);return function(){var D=A.slice();return D.push.apply(D,arguments),d.apply(this,D)}}function g(d,w){function A(){}A.prototype=w.prototype,d.aa=w.prototype,d.prototype=new A,d.prototype.constructor=d,d.Qb=function(D,z,K){for(var ue=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)ue[lt-2]=arguments[lt];return w.prototype[z].apply(D,ue)}}function y(d){const w=d.length;if(0<w){const A=Array(w);for(let D=0;D<w;D++)A[D]=d[D];return A}return[]}function b(d,w){for(let A=1;A<arguments.length;A++){const D=arguments[A];if(l(D)){const z=d.length||0,K=D.length||0;d.length=z+K;for(let ue=0;ue<K;ue++)d[z+ue]=D[ue]}else d.push(D)}}class _{constructor(w,A){this.i=w,this.j=A,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function v(d){return/^[\s\xa0]*$/.test(d)}function x(){var d=s.navigator;return d&&(d=d.userAgent)?d:""}function k(d){return k[" "](d),d}k[" "]=function(){};var T=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function C(d,w,A){for(const D in d)w.call(A,d[D],D,d)}function S(d,w){for(const A in d)w.call(void 0,d[A],A,d)}function E(d){const w={};for(const A in d)w[A]=d[A];return w}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(d,w){let A,D;for(let z=1;z<arguments.length;z++){D=arguments[z];for(A in D)d[A]=D[A];for(let K=0;K<P.length;K++)A=P[K],Object.prototype.hasOwnProperty.call(D,A)&&(d[A]=D[A])}}function R(d){var w=1;d=d.split(":");const A=[];for(;0<w&&d.length;)A.push(d.shift()),w--;return d.length&&A.push(d.join(":")),A}function N(d){s.setTimeout(()=>{throw d},0)}function I(){var d=G;let w=null;return d.g&&(w=d.g,d.g=d.g.next,d.g||(d.h=null),w.next=null),w}class V{constructor(){this.h=this.g=null}add(w,A){const D=B.get();D.set(w,A),this.h?this.h.next=D:this.g=D,this.h=D}}var B=new _(()=>new W,d=>d.reset());class W{constructor(){this.next=this.g=this.h=null}set(w,A){this.h=w,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let H,U=!1,G=new V,J=()=>{const d=s.Promise.resolve(void 0);H=()=>{d.then(oe)}};var oe=()=>{for(var d;d=I();){try{d.h.call(d.g)}catch(A){N(A)}var w=B;w.j(d),100>w.h&&(w.h++,d.next=w.g,w.g=d)}U=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(d,w){this.type=d,this.g=this.target=w,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var Ee=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var d=!1,w=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const A=()=>{};s.addEventListener("test",A,w),s.removeEventListener("test",A,w)}catch{}return d}();function Re(d,w){if(se.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var A=this.type=d.type,D=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=w,w=d.relatedTarget){if(T){e:{try{k(w.nodeName);var z=!0;break e}catch{}z=!1}z||(w=null)}}else A=="mouseover"?w=d.fromElement:A=="mouseout"&&(w=d.toElement);this.relatedTarget=w,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Ze[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Re.aa.h.call(this)}}g(Re,se);var Ze={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Ve="closure_listenable_"+(1e6*Math.random()|0),Mt=0;function ce(d,w,A,D,z){this.listener=d,this.proxy=null,this.src=w,this.type=A,this.capture=!!D,this.ha=z,this.key=++Mt,this.da=this.fa=!1}function xe(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function _e(d){this.src=d,this.g={},this.h=0}_e.prototype.add=function(d,w,A,D,z){var K=d.toString();d=this.g[K],d||(d=this.g[K]=[],this.h++);var ue=Ue(d,w,D,z);return-1<ue?(w=d[ue],A||(w.fa=!1)):(w=new ce(w,this.src,K,!!D,z),w.fa=A,d.push(w)),w};function Q(d,w){var A=w.type;if(A in d.g){var D=d.g[A],z=Array.prototype.indexOf.call(D,w,void 0),K;(K=0<=z)&&Array.prototype.splice.call(D,z,1),K&&(xe(w),d.g[A].length==0&&(delete d.g[A],d.h--))}}function Ue(d,w,A,D){for(var z=0;z<d.length;++z){var K=d[z];if(!K.da&&K.listener==w&&K.capture==!!A&&K.ha==D)return z}return-1}var re="closure_lm_"+(1e6*Math.random()|0),ge={};function be(d,w,A,D,z){if(Array.isArray(w)){for(var K=0;K<w.length;K++)be(d,w[K],A,D,z);return null}return A=Be(A),d&&d[Ve]?d.K(w,A,c(D)?!!D.capture:!!D,z):ke(d,w,A,!1,D,z)}function ke(d,w,A,D,z,K){if(!w)throw Error("Invalid event type");var ue=c(z)?!!z.capture:!!z,lt=ne(d);if(lt||(d[re]=lt=new _e(d)),A=lt.add(w,A,D,ue,K),A.proxy)return A;if(D=j(),A.proxy=D,D.src=d,D.listener=A,d.addEventListener)Ee||(z=ue),z===void 0&&(z=!1),d.addEventListener(w.toString(),D,z);else if(d.attachEvent)d.attachEvent(X(w.toString()),D);else if(d.addListener&&d.removeListener)d.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return A}function j(){function d(A){return w.call(d.src,d.listener,A)}const w=Z;return d}function $(d,w,A,D,z){if(Array.isArray(w))for(var K=0;K<w.length;K++)$(d,w[K],A,D,z);else D=c(D)?!!D.capture:!!D,A=Be(A),d&&d[Ve]?(d=d.i,w=String(w).toString(),w in d.g&&(K=d.g[w],A=Ue(K,A,D,z),-1<A&&(xe(K[A]),Array.prototype.splice.call(K,A,1),K.length==0&&(delete d.g[w],d.h--)))):d&&(d=ne(d))&&(w=d.g[w.toString()],d=-1,w&&(d=Ue(w,A,D,z)),(A=-1<d?w[d]:null)&&F(A))}function F(d){if(typeof d!="number"&&d&&!d.da){var w=d.src;if(w&&w[Ve])Q(w.i,d);else{var A=d.type,D=d.proxy;w.removeEventListener?w.removeEventListener(A,D,d.capture):w.detachEvent?w.detachEvent(X(A),D):w.addListener&&w.removeListener&&w.removeListener(D),(A=ne(w))?(Q(A,d),A.h==0&&(A.src=null,w[re]=null)):xe(d)}}}function X(d){return d in ge?ge[d]:ge[d]="on"+d}function Z(d,w){if(d.da)d=!0;else{w=new Re(w,this);var A=d.listener,D=d.ha||d.src;d.fa&&F(d),d=A.call(D,w)}return d}function ne(d){return d=d[re],d instanceof _e?d:null}var de="__closure_events_fn_"+(1e9*Math.random()>>>0);function Be(d){return typeof d=="function"?d:(d[de]||(d[de]=function(w){return d.handleEvent(w)}),d[de])}function De(){Y.call(this),this.i=new _e(this),this.M=this,this.F=null}g(De,Y),De.prototype[Ve]=!0,De.prototype.removeEventListener=function(d,w,A,D){$(this,d,w,A,D)};function Le(d,w){var A,D=d.F;if(D)for(A=[];D;D=D.F)A.push(D);if(d=d.M,D=w.type||w,typeof w=="string")w=new se(w,d);else if(w instanceof se)w.target=w.target||d;else{var z=w;w=new se(D,d),O(w,z)}if(z=!0,A)for(var K=A.length-1;0<=K;K--){var ue=w.g=A[K];z=zr(ue,D,!0,w)&&z}if(ue=w.g=d,z=zr(ue,D,!0,w)&&z,z=zr(ue,D,!1,w)&&z,A)for(K=0;K<A.length;K++)ue=w.g=A[K],z=zr(ue,D,!1,w)&&z}De.prototype.N=function(){if(De.aa.N.call(this),this.i){var d=this.i,w;for(w in d.g){for(var A=d.g[w],D=0;D<A.length;D++)xe(A[D]);delete d.g[w],d.h--}}this.F=null},De.prototype.K=function(d,w,A,D){return this.i.add(String(d),w,!1,A,D)},De.prototype.L=function(d,w,A,D){return this.i.add(String(d),w,!0,A,D)};function zr(d,w,A,D){if(w=d.i.g[String(w)],!w)return!0;w=w.concat();for(var z=!0,K=0;K<w.length;++K){var ue=w[K];if(ue&&!ue.da&&ue.capture==A){var lt=ue.listener,sr=ue.ha||ue.src;ue.fa&&Q(d.i,ue),z=lt.call(sr,D)!==!1&&z}}return z&&!D.defaultPrevented}function Os(d,w,A){if(typeof d=="function")A&&(d=h(d,A));else if(d&&typeof d.handleEvent=="function")d=h(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:s.setTimeout(d,w||0)}function Eo(d){d.g=Os(()=>{d.g=null,d.i&&(d.i=!1,Eo(d))},d.l);const w=d.h;d.h=null,d.m.apply(null,w)}class da extends Y{constructor(w,A){super(),this.m=w,this.l=A,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Eo(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ha(d){Y.call(this),this.h=d,this.g={}}g(ha,Y);var pa=[];function Cs(d){C(d.g,function(w,A){this.g.hasOwnProperty(A)&&F(w)},d),d.g={}}ha.prototype.N=function(){ha.aa.N.call(this),Cs(this)},ha.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ma=s.JSON.stringify,Ud=s.JSON.parse,$y=class{stringify(d){return s.JSON.stringify(d,void 0)}parse(d){return s.JSON.parse(d,void 0)}};function fe(){}fe.prototype.h=null;function Pe(d){return d.h||(d.h=d.i())}function ze(){}var We={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function tt(){se.call(this,"d")}g(tt,se);function Ht(){se.call(this,"c")}g(Ht,se);var ft={},Ti=null;function en(){return Ti=Ti||new De}ft.La="serverreachability";function Dk(d){se.call(this,ft.La,d)}g(Dk,se);function Ic(d){const w=en();Le(w,new Dk(w))}ft.STAT_EVENT="statevent";function Mk(d,w){se.call(this,ft.STAT_EVENT,d),this.stat=w}g(Mk,se);function Or(d){const w=en();Le(w,new Mk(w,d))}ft.Ma="timingevent";function $k(d,w){se.call(this,ft.Ma,d),this.size=w}g($k,se);function Oc(d,w){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){d()},w)}function Cc(){this.g=!0}Cc.prototype.xa=function(){this.g=!1};function $4(d,w,A,D,z,K){d.info(function(){if(d.g)if(K)for(var ue="",lt=K.split("&"),sr=0;sr<lt.length;sr++){var Ye=lt[sr].split("=");if(1<Ye.length){var gr=Ye[0];Ye=Ye[1];var yr=gr.split("_");ue=2<=yr.length&&yr[1]=="type"?ue+(gr+"="+Ye+"&"):ue+(gr+"=redacted&")}}else ue=null;else ue=K;return"XMLHTTP REQ ("+D+") [attempt "+z+"]: "+w+`
`+A+`
`+ue})}function L4(d,w,A,D,z,K,ue){d.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+z+"]: "+w+`
`+A+`
`+K+" "+ue})}function Ns(d,w,A,D){d.info(function(){return"XMLHTTP TEXT ("+w+"): "+V4(d,A)+(D?" "+D:"")})}function F4(d,w){d.info(function(){return"TIMEOUT: "+w})}Cc.prototype.info=function(){};function V4(d,w){if(!d.g)return w;if(!w)return null;try{var A=JSON.parse(w);if(A){for(d=0;d<A.length;d++)if(Array.isArray(A[d])){var D=A[d];if(!(2>D.length)){var z=D[1];if(Array.isArray(z)&&!(1>z.length)){var K=z[0];if(K!="noop"&&K!="stop"&&K!="close")for(var ue=1;ue<z.length;ue++)z[ue]=""}}}}return ma(A)}catch{return w}}var Bd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Lk={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ly;function zd(){}g(zd,fe),zd.prototype.g=function(){return new XMLHttpRequest},zd.prototype.i=function(){return{}},Ly=new zd;function ga(d,w,A,D){this.j=d,this.i=w,this.l=A,this.R=D||1,this.U=new ha(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Fk}function Fk(){this.i=null,this.g="",this.h=!1}var Vk={},Fy={};function Vy(d,w,A){d.L=1,d.v=Kd(Ai(w)),d.m=A,d.P=!0,Uk(d,null)}function Uk(d,w){d.F=Date.now(),Wd(d),d.A=Ai(d.v);var A=d.A,D=d.R;Array.isArray(D)||(D=[String(D)]),tE(A.i,"t",D),d.C=0,A=d.j.J,d.h=new Fk,d.g=bE(d.j,A?w:null,!d.m),0<d.O&&(d.M=new da(h(d.Y,d,d.g),d.O)),w=d.U,A=d.g,D=d.ca;var z="readystatechange";Array.isArray(z)||(z&&(pa[0]=z.toString()),z=pa);for(var K=0;K<z.length;K++){var ue=be(A,z[K],D||w.handleEvent,!1,w.h||w);if(!ue)break;w.g[ue.key]=ue}w=d.H?E(d.H):{},d.m?(d.u||(d.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,w)):(d.u="GET",d.g.ea(d.A,d.u,null,w)),Ic(),$4(d.i,d.u,d.A,d.l,d.R,d.m)}ga.prototype.ca=function(d){d=d.target;const w=this.M;w&&Pi(d)==3?w.j():this.Y(d)},ga.prototype.Y=function(d){try{if(d==this.g)e:{const yr=Pi(this.g);var w=this.g.Ba();const Ds=this.g.Z();if(!(3>yr)&&(yr!=3||this.g&&(this.h.h||this.g.oa()||lE(this.g)))){this.J||yr!=4||w==7||(w==8||0>=Ds?Ic(3):Ic(2)),Uy(this);var A=this.g.Z();this.X=A;t:if(Bk(this)){var D=lE(this.g);d="";var z=D.length,K=Pi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){So(this),Nc(this);var ue="";break t}this.h.i=new s.TextDecoder}for(w=0;w<z;w++)this.h.h=!0,d+=this.h.i.decode(D[w],{stream:!(K&&w==z-1)});D.length=0,this.h.g+=d,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=A==200,L4(this.i,this.u,this.A,this.l,this.R,yr,A),this.o){if(this.T&&!this.K){t:{if(this.g){var lt,sr=this.g;if((lt=sr.g?sr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(lt)){var Ye=lt;break t}}Ye=null}if(A=Ye)Ns(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,By(this,A);else{this.o=!1,this.s=3,Or(12),So(this),Nc(this);break e}}if(this.P){A=!0;let jn;for(;!this.J&&this.C<ue.length;)if(jn=U4(this,ue),jn==Fy){yr==4&&(this.s=4,Or(14),A=!1),Ns(this.i,this.l,null,"[Incomplete Response]");break}else if(jn==Vk){this.s=4,Or(15),Ns(this.i,this.l,ue,"[Invalid Chunk]"),A=!1;break}else Ns(this.i,this.l,jn,null),By(this,jn);if(Bk(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),yr!=4||ue.length!=0||this.h.h||(this.s=1,Or(16),A=!1),this.o=this.o&&A,!A)Ns(this.i,this.l,ue,"[Invalid Chunked Response]"),So(this),Nc(this);else if(0<ue.length&&!this.W){this.W=!0;var gr=this.j;gr.g==this&&gr.ba&&!gr.M&&(gr.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),Gy(gr),gr.M=!0,Or(11))}}else Ns(this.i,this.l,ue,null),By(this,ue);yr==4&&So(this),this.o&&!this.J&&(yr==4?mE(this.j,this):(this.o=!1,Wd(this)))}else i3(this.g),A==400&&0<ue.indexOf("Unknown SID")?(this.s=3,Or(12)):(this.s=0,Or(13)),So(this),Nc(this)}}}catch{}finally{}};function Bk(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function U4(d,w){var A=d.C,D=w.indexOf(`
`,A);return D==-1?Fy:(A=Number(w.substring(A,D)),isNaN(A)?Vk:(D+=1,D+A>w.length?Fy:(w=w.slice(D,D+A),d.C=D+A,w)))}ga.prototype.cancel=function(){this.J=!0,So(this)};function Wd(d){d.S=Date.now()+d.I,zk(d,d.I)}function zk(d,w){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Oc(h(d.ba,d),w)}function Uy(d){d.B&&(s.clearTimeout(d.B),d.B=null)}ga.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(F4(this.i,this.A),this.L!=2&&(Ic(),Or(17)),So(this),this.s=2,Nc(this)):zk(this,this.S-d)};function Nc(d){d.j.G==0||d.J||mE(d.j,d)}function So(d){Uy(d);var w=d.M;w&&typeof w.ma=="function"&&w.ma(),d.M=null,Cs(d.U),d.g&&(w=d.g,d.g=null,w.abort(),w.ma())}function By(d,w){try{var A=d.j;if(A.G!=0&&(A.g==d||zy(A.h,d))){if(!d.K&&zy(A.h,d)&&A.G==3){try{var D=A.Da.g.parse(w)}catch{D=null}if(Array.isArray(D)&&D.length==3){var z=D;if(z[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<d.F)Jd(A),Yd(A);else break e;Ky(A),Or(18)}}else A.za=z[1],0<A.za-A.T&&37500>z[2]&&A.F&&A.v==0&&!A.C&&(A.C=Oc(h(A.Za,A),6e3));if(1>=Hk(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else Ao(A,11)}else if((d.K||A.g==d)&&Jd(A),!v(w))for(z=A.Da.g.parse(w),w=0;w<z.length;w++){let Ye=z[w];if(A.T=Ye[0],Ye=Ye[1],A.G==2)if(Ye[0]=="c"){A.K=Ye[1],A.ia=Ye[2];const gr=Ye[3];gr!=null&&(A.la=gr,A.j.info("VER="+A.la));const yr=Ye[4];yr!=null&&(A.Aa=yr,A.j.info("SVER="+A.Aa));const Ds=Ye[5];Ds!=null&&typeof Ds=="number"&&0<Ds&&(D=1.5*Ds,A.L=D,A.j.info("backChannelRequestTimeoutMs_="+D)),D=A;const jn=d.g;if(jn){const eh=jn.g?jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(eh){var K=D.h;K.g||eh.indexOf("spdy")==-1&&eh.indexOf("quic")==-1&&eh.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Wy(K,K.h),K.h=null))}if(D.D){const Xy=jn.g?jn.g.getResponseHeader("X-HTTP-Session-Id"):null;Xy&&(D.ya=Xy,mt(D.I,D.D,Xy))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-d.F,A.j.info("Handshake RTT: "+A.R+"ms")),D=A;var ue=d;if(D.qa=vE(D,D.J?D.ia:null,D.W),ue.K){Kk(D.h,ue);var lt=ue,sr=D.L;sr&&(lt.I=sr),lt.B&&(Uy(lt),Wd(lt)),D.g=ue}else hE(D);0<A.i.length&&Qd(A)}else Ye[0]!="stop"&&Ye[0]!="close"||Ao(A,7);else A.G==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?Ao(A,7):Hy(A):Ye[0]!="noop"&&A.l&&A.l.ta(Ye),A.v=0)}}Ic(4)}catch{}}var B4=class{constructor(d,w){this.g=d,this.map=w}};function Wk(d){this.l=d||10,s.PerformanceNavigationTiming?(d=s.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qk(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Hk(d){return d.h?1:d.g?d.g.size:0}function zy(d,w){return d.h?d.h==w:d.g?d.g.has(w):!1}function Wy(d,w){d.g?d.g.add(w):d.h=w}function Kk(d,w){d.h&&d.h==w?d.h=null:d.g&&d.g.has(w)&&d.g.delete(w)}Wk.prototype.cancel=function(){if(this.i=Gk(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Gk(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let w=d.i;for(const A of d.g.values())w=w.concat(A.D);return w}return y(d.i)}function z4(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var w=[],A=d.length,D=0;D<A;D++)w.push(d[D]);return w}w=[],A=0;for(D in d)w[A++]=d[D];return w}function W4(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var w=[];d=d.length;for(var A=0;A<d;A++)w.push(A);return w}w=[],A=0;for(const D in d)w[A++]=D;return w}}}function Xk(d,w){if(d.forEach&&typeof d.forEach=="function")d.forEach(w,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,w,void 0);else for(var A=W4(d),D=z4(d),z=D.length,K=0;K<z;K++)w.call(void 0,D[K],A&&A[K],d)}var Yk=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function q4(d,w){if(d){d=d.split("&");for(var A=0;A<d.length;A++){var D=d[A].indexOf("="),z=null;if(0<=D){var K=d[A].substring(0,D);z=d[A].substring(D+1)}else K=d[A];w(K,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function To(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof To){this.h=d.h,qd(this,d.j),this.o=d.o,this.g=d.g,Hd(this,d.s),this.l=d.l;var w=d.i,A=new Dc;A.i=w.i,w.g&&(A.g=new Map(w.g),A.h=w.h),Qk(this,A),this.m=d.m}else d&&(w=String(d).match(Yk))?(this.h=!1,qd(this,w[1]||"",!0),this.o=Rc(w[2]||""),this.g=Rc(w[3]||"",!0),Hd(this,w[4]),this.l=Rc(w[5]||"",!0),Qk(this,w[6]||"",!0),this.m=Rc(w[7]||"")):(this.h=!1,this.i=new Dc(null,this.h))}To.prototype.toString=function(){var d=[],w=this.j;w&&d.push(jc(w,Jk,!0),":");var A=this.g;return(A||w=="file")&&(d.push("//"),(w=this.o)&&d.push(jc(w,Jk,!0),"@"),d.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&d.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&d.push("/"),d.push(jc(A,A.charAt(0)=="/"?G4:K4,!0))),(A=this.i.toString())&&d.push("?",A),(A=this.m)&&d.push("#",jc(A,Y4)),d.join("")};function Ai(d){return new To(d)}function qd(d,w,A){d.j=A?Rc(w,!0):w,d.j&&(d.j=d.j.replace(/:$/,""))}function Hd(d,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);d.s=w}else d.s=null}function Qk(d,w,A){w instanceof Dc?(d.i=w,Q4(d.i,d.h)):(A||(w=jc(w,X4)),d.i=new Dc(w,d.h))}function mt(d,w,A){d.i.set(w,A)}function Kd(d){return mt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Rc(d,w){return d?w?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function jc(d,w,A){return typeof d=="string"?(d=encodeURI(d).replace(w,H4),A&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function H4(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Jk=/[#\/\?@]/g,K4=/[#\?:]/g,G4=/[#\?]/g,X4=/[#\?@]/g,Y4=/#/g;function Dc(d,w){this.h=this.g=null,this.i=d||null,this.j=!!w}function ya(d){d.g||(d.g=new Map,d.h=0,d.i&&q4(d.i,function(w,A){d.add(decodeURIComponent(w.replace(/\+/g," ")),A)}))}t=Dc.prototype,t.add=function(d,w){ya(this),this.i=null,d=Rs(this,d);var A=this.g.get(d);return A||this.g.set(d,A=[]),A.push(w),this.h+=1,this};function Zk(d,w){ya(d),w=Rs(d,w),d.g.has(w)&&(d.i=null,d.h-=d.g.get(w).length,d.g.delete(w))}function eE(d,w){return ya(d),w=Rs(d,w),d.g.has(w)}t.forEach=function(d,w){ya(this),this.g.forEach(function(A,D){A.forEach(function(z){d.call(w,z,D,this)},this)},this)},t.na=function(){ya(this);const d=Array.from(this.g.values()),w=Array.from(this.g.keys()),A=[];for(let D=0;D<w.length;D++){const z=d[D];for(let K=0;K<z.length;K++)A.push(w[D])}return A},t.V=function(d){ya(this);let w=[];if(typeof d=="string")eE(this,d)&&(w=w.concat(this.g.get(Rs(this,d))));else{d=Array.from(this.g.values());for(let A=0;A<d.length;A++)w=w.concat(d[A])}return w},t.set=function(d,w){return ya(this),this.i=null,d=Rs(this,d),eE(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[w]),this.h+=1,this},t.get=function(d,w){return d?(d=this.V(d),0<d.length?String(d[0]):w):w};function tE(d,w,A){Zk(d,w),0<A.length&&(d.i=null,d.g.set(Rs(d,w),y(A)),d.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],w=Array.from(this.g.keys());for(var A=0;A<w.length;A++){var D=w[A];const K=encodeURIComponent(String(D)),ue=this.V(D);for(D=0;D<ue.length;D++){var z=K;ue[D]!==""&&(z+="="+encodeURIComponent(String(ue[D]))),d.push(z)}}return this.i=d.join("&")};function Rs(d,w){return w=String(w),d.j&&(w=w.toLowerCase()),w}function Q4(d,w){w&&!d.j&&(ya(d),d.i=null,d.g.forEach(function(A,D){var z=D.toLowerCase();D!=z&&(Zk(this,D),tE(this,z,A))},d)),d.j=w}function J4(d,w){const A=new Cc;if(s.Image){const D=new Image;D.onload=p(va,A,"TestLoadImage: loaded",!0,w,D),D.onerror=p(va,A,"TestLoadImage: error",!1,w,D),D.onabort=p(va,A,"TestLoadImage: abort",!1,w,D),D.ontimeout=p(va,A,"TestLoadImage: timeout",!1,w,D),s.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=d}else w(!1)}function Z4(d,w){const A=new Cc,D=new AbortController,z=setTimeout(()=>{D.abort(),va(A,"TestPingServer: timeout",!1,w)},1e4);fetch(d,{signal:D.signal}).then(K=>{clearTimeout(z),K.ok?va(A,"TestPingServer: ok",!0,w):va(A,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(z),va(A,"TestPingServer: error",!1,w)})}function va(d,w,A,D,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),D(A)}catch{}}function e3(){this.g=new $y}function t3(d,w,A){const D=A||"";try{Xk(d,function(z,K){let ue=z;c(z)&&(ue=ma(z)),w.push(D+K+"="+encodeURIComponent(ue))})}catch(z){throw w.push(D+"type="+encodeURIComponent("_badmap")),z}}function Mc(d){this.l=d.Ub||null,this.j=d.eb||!1}g(Mc,fe),Mc.prototype.g=function(){return new Gd(this.l,this.j)},Mc.prototype.i=function(d){return function(){return d}}({});function Gd(d,w){De.call(this),this.D=d,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(Gd,De),t=Gd.prototype,t.open=function(d,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=w,this.readyState=1,Lc(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(w.body=d),(this.D||s).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$c(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Lc(this)),this.g&&(this.readyState=3,Lc(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;rE(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function rE(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var w=d.value?d.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!d.done}))&&(this.response=this.responseText+=w)}d.done?$c(this):Lc(this),this.readyState==3&&rE(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,$c(this))},t.Qa=function(d){this.g&&(this.response=d,$c(this))},t.ga=function(){this.g&&$c(this)};function $c(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Lc(d)}t.setRequestHeader=function(d,w){this.u.append(d,w)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],w=this.h.entries();for(var A=w.next();!A.done;)A=A.value,d.push(A[0]+": "+A[1]),A=w.next();return d.join(`\r
`)};function Lc(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Gd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function nE(d){let w="";return C(d,function(A,D){w+=D,w+=":",w+=A,w+=`\r
`}),w}function qy(d,w,A){e:{for(D in A){var D=!1;break e}D=!0}D||(A=nE(A),typeof d=="string"?A!=null&&encodeURIComponent(String(A)):mt(d,w,A))}function Nt(d){De.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(Nt,De);var r3=/^https?$/i,n3=["POST","PUT"];t=Nt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,w,A,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);w=w?w.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ly.g(),this.v=this.o?Pe(this.o):Pe(Ly),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(w,String(d),!0),this.B=!1}catch(K){iE(this,K);return}if(d=A||"",A=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var z in D)A.set(z,D[z]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const K of D.keys())A.set(K,D.get(K));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(A.keys()).find(K=>K.toLowerCase()=="content-type"),z=s.FormData&&d instanceof s.FormData,!(0<=Array.prototype.indexOf.call(n3,w,void 0))||D||z||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ue]of A)this.g.setRequestHeader(K,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{sE(this),this.u=!0,this.g.send(d),this.u=!1}catch(K){iE(this,K)}};function iE(d,w){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=w,d.m=5,aE(d),Xd(d)}function aE(d){d.A||(d.A=!0,Le(d,"complete"),Le(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Le(this,"complete"),Le(this,"abort"),Xd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xd(this,!0)),Nt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?oE(this):this.bb())},t.bb=function(){oE(this)};function oE(d){if(d.h&&typeof o<"u"&&(!d.v[1]||Pi(d)!=4||d.Z()!=2)){if(d.u&&Pi(d)==4)Os(d.Ea,0,d);else if(Le(d,"readystatechange"),Pi(d)==4){d.h=!1;try{const ue=d.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var A;if(!(A=w)){var D;if(D=ue===0){var z=String(d.D).match(Yk)[1]||null;!z&&s.self&&s.self.location&&(z=s.self.location.protocol.slice(0,-1)),D=!r3.test(z?z.toLowerCase():"")}A=D}if(A)Le(d,"complete"),Le(d,"success");else{d.m=6;try{var K=2<Pi(d)?d.g.statusText:""}catch{K=""}d.l=K+" ["+d.Z()+"]",aE(d)}}finally{Xd(d)}}}}function Xd(d,w){if(d.g){sE(d);const A=d.g,D=d.v[0]?()=>{}:null;d.g=null,d.v=null,w||Le(d,"ready");try{A.onreadystatechange=D}catch{}}}function sE(d){d.I&&(s.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function Pi(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<Pi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var w=this.g.responseText;return d&&w.indexOf(d)==0&&(w=w.substring(d.length)),Ud(w)}};function lE(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function i3(d){const w={};d=(d.g&&2<=Pi(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<d.length;D++){if(v(d[D]))continue;var A=R(d[D]);const z=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const K=w[z]||[];w[z]=K,K.push(A)}S(w,function(D){return D.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fc(d,w,A){return A&&A.internalChannelParams&&A.internalChannelParams[d]||w}function cE(d){this.Aa=0,this.i=[],this.j=new Cc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fc("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fc("baseRetryDelayMs",5e3,d),this.cb=Fc("retryDelaySeedMs",1e4,d),this.Wa=Fc("forwardChannelMaxRetries",2,d),this.wa=Fc("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Wk(d&&d.concurrentRequestLimit),this.Da=new e3,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=cE.prototype,t.la=8,t.G=1,t.connect=function(d,w,A,D){Or(0),this.W=d,this.H=w||{},A&&D!==void 0&&(this.H.OSID=A,this.H.OAID=D),this.F=this.X,this.I=vE(this,null,this.W),Qd(this)};function Hy(d){if(uE(d),d.G==3){var w=d.U++,A=Ai(d.I);if(mt(A,"SID",d.K),mt(A,"RID",w),mt(A,"TYPE","terminate"),Vc(d,A),w=new ga(d,d.j,w),w.L=2,w.v=Kd(Ai(A)),A=!1,s.navigator&&s.navigator.sendBeacon)try{A=s.navigator.sendBeacon(w.v.toString(),"")}catch{}!A&&s.Image&&(new Image().src=w.v,A=!0),A||(w.g=bE(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Wd(w)}yE(d)}function Yd(d){d.g&&(Gy(d),d.g.cancel(),d.g=null)}function uE(d){Yd(d),d.u&&(s.clearTimeout(d.u),d.u=null),Jd(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&s.clearTimeout(d.s),d.s=null)}function Qd(d){if(!qk(d.h)&&!d.s){d.s=!0;var w=d.Ga;H||J(),U||(H(),U=!0),G.add(w,d),d.B=0}}function a3(d,w){return Hk(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=w.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Oc(h(d.Ga,d,w),gE(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const z=new ga(this,this.j,d);let K=this.o;if(this.S&&(K?(K=E(K),O(K,this.S)):K=this.S),this.m!==null||this.O||(z.H=K,K=null),this.P)e:{for(var w=0,A=0;A<this.i.length;A++){t:{var D=this.i[A];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(w+=D,4096<w){w=A;break e}if(w===4096||A===this.i.length-1){w=A+1;break e}}w=1e3}else w=1e3;w=dE(this,z,w),A=Ai(this.I),mt(A,"RID",d),mt(A,"CVER",22),this.D&&mt(A,"X-HTTP-Session-Id",this.D),Vc(this,A),K&&(this.O?w="headers="+encodeURIComponent(String(nE(K)))+"&"+w:this.m&&qy(A,this.m,K)),Wy(this.h,z),this.Ua&&mt(A,"TYPE","init"),this.P?(mt(A,"$req",w),mt(A,"SID","null"),z.T=!0,Vy(z,A,null)):Vy(z,A,w),this.G=2}}else this.G==3&&(d?fE(this,d):this.i.length==0||qk(this.h)||fE(this))};function fE(d,w){var A;w?A=w.l:A=d.U++;const D=Ai(d.I);mt(D,"SID",d.K),mt(D,"RID",A),mt(D,"AID",d.T),Vc(d,D),d.m&&d.o&&qy(D,d.m,d.o),A=new ga(d,d.j,A,d.B+1),d.m===null&&(A.H=d.o),w&&(d.i=w.D.concat(d.i)),w=dE(d,A,1e3),A.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Wy(d.h,A),Vy(A,D,w)}function Vc(d,w){d.H&&C(d.H,function(A,D){mt(w,D,A)}),d.l&&Xk({},function(A,D){mt(w,D,A)})}function dE(d,w,A){A=Math.min(d.i.length,A);var D=d.l?h(d.l.Na,d.l,d):null;e:{var z=d.i;let K=-1;for(;;){const ue=["count="+A];K==-1?0<A?(K=z[0].g,ue.push("ofs="+K)):K=0:ue.push("ofs="+K);let lt=!0;for(let sr=0;sr<A;sr++){let Ye=z[sr].g;const gr=z[sr].map;if(Ye-=K,0>Ye)K=Math.max(0,z[sr].g-100),lt=!1;else try{t3(gr,ue,"req"+Ye+"_")}catch{D&&D(gr)}}if(lt){D=ue.join("&");break e}}}return d=d.i.splice(0,A),w.D=d,D}function hE(d){if(!d.g&&!d.u){d.Y=1;var w=d.Fa;H||J(),U||(H(),U=!0),G.add(w,d),d.v=0}}function Ky(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Oc(h(d.Fa,d),gE(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,pE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Oc(h(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Or(10),Yd(this),pE(this))};function Gy(d){d.A!=null&&(s.clearTimeout(d.A),d.A=null)}function pE(d){d.g=new ga(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var w=Ai(d.qa);mt(w,"RID","rpc"),mt(w,"SID",d.K),mt(w,"AID",d.T),mt(w,"CI",d.F?"0":"1"),!d.F&&d.ja&&mt(w,"TO",d.ja),mt(w,"TYPE","xmlhttp"),Vc(d,w),d.m&&d.o&&qy(w,d.m,d.o),d.L&&(d.g.I=d.L);var A=d.g;d=d.ia,A.L=1,A.v=Kd(Ai(w)),A.m=null,A.P=!0,Uk(A,d)}t.Za=function(){this.C!=null&&(this.C=null,Yd(this),Ky(this),Or(19))};function Jd(d){d.C!=null&&(s.clearTimeout(d.C),d.C=null)}function mE(d,w){var A=null;if(d.g==w){Jd(d),Gy(d),d.g=null;var D=2}else if(zy(d.h,w))A=w.D,Kk(d.h,w),D=1;else return;if(d.G!=0){if(w.o)if(D==1){A=w.m?w.m.length:0,w=Date.now()-w.F;var z=d.B;D=en(),Le(D,new $k(D,A)),Qd(d)}else hE(d);else if(z=w.s,z==3||z==0&&0<w.X||!(D==1&&a3(d,w)||D==2&&Ky(d)))switch(A&&0<A.length&&(w=d.h,w.i=w.i.concat(A)),z){case 1:Ao(d,5);break;case 4:Ao(d,10);break;case 3:Ao(d,6);break;default:Ao(d,2)}}}function gE(d,w){let A=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(A*=2),A*w}function Ao(d,w){if(d.j.info("Error code "+w),w==2){var A=h(d.fb,d),D=d.Xa;const z=!D;D=new To(D||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||qd(D,"https"),Kd(D),z?J4(D.toString(),A):Z4(D.toString(),A)}else Or(2);d.G=0,d.l&&d.l.sa(w),yE(d),uE(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Or(2)):(this.j.info("Failed to ping google.com"),Or(1))};function yE(d){if(d.G=0,d.ka=[],d.l){const w=Gk(d.h);(w.length!=0||d.i.length!=0)&&(b(d.ka,w),b(d.ka,d.i),d.h.i.length=0,y(d.i),d.i.length=0),d.l.ra()}}function vE(d,w,A){var D=A instanceof To?Ai(A):new To(A);if(D.g!="")w&&(D.g=w+"."+D.g),Hd(D,D.s);else{var z=s.location;D=z.protocol,w=w?w+"."+z.hostname:z.hostname,z=+z.port;var K=new To(null);D&&qd(K,D),w&&(K.g=w),z&&Hd(K,z),A&&(K.l=A),D=K}return A=d.D,w=d.ya,A&&w&&mt(D,A,w),mt(D,"VER",d.la),Vc(d,D),D}function bE(d,w,A){if(w&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=d.Ca&&!d.pa?new Nt(new Mc({eb:A})):new Nt(d.pa),w.Ha(d.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function xE(){}t=xE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Zd(){}Zd.prototype.g=function(d,w){return new tn(d,w)};function tn(d,w){De.call(this),this.g=new cE(w),this.l=d,this.h=w&&w.messageUrlParams||null,d=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(d?d["X-WebChannel-Content-Type"]=w.messageContentType:d={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(d?d["X-WebChannel-Client-Profile"]=w.va:d={"X-WebChannel-Client-Profile":w.va}),this.g.S=d,(d=w&&w.Sb)&&!v(d)&&(this.g.m=d),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!v(w)&&(this.g.D=w,d=this.h,d!==null&&w in d&&(d=this.h,w in d&&delete d[w])),this.j=new js(this)}g(tn,De),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Hy(this.g)},tn.prototype.o=function(d){var w=this.g;if(typeof d=="string"){var A={};A.__data__=d,d=A}else this.u&&(A={},A.__data__=ma(d),d=A);w.i.push(new B4(w.Ya++,d)),w.G==3&&Qd(w)},tn.prototype.N=function(){this.g.l=null,delete this.j,Hy(this.g),delete this.g,tn.aa.N.call(this)};function wE(d){tt.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var w=d.__sm__;if(w){e:{for(const A in w){d=A;break e}d=void 0}(this.i=d)&&(d=this.i,w=w!==null&&d in w?w[d]:void 0),this.data=w}else this.data=d}g(wE,tt);function _E(){Ht.call(this),this.status=1}g(_E,Ht);function js(d){this.g=d}g(js,xE),js.prototype.ua=function(){Le(this.g,"a")},js.prototype.ta=function(d){Le(this.g,new wE(d))},js.prototype.sa=function(d){Le(this.g,new _E)},js.prototype.ra=function(){Le(this.g,"b")},Zd.prototype.createWebChannel=Zd.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,ZR=function(){return new Zd},JR=function(){return en()},QR=ft,vb={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Bd.NO_ERROR=0,Bd.TIMEOUT=8,Bd.HTTP_ERROR=6,sp=Bd,Lk.COMPLETE="complete",YR=Lk,ze.EventType=We,We.OPEN="a",We.CLOSE="b",We.ERROR="c",We.MESSAGE="d",De.prototype.listen=De.prototype.K,mu=ze,XR=Mc,Nt.prototype.listenOnce=Nt.prototype.L,Nt.prototype.getLastError=Nt.prototype.Ka,Nt.prototype.getLastErrorCode=Nt.prototype.Ba,Nt.prototype.getStatus=Nt.prototype.Z,Nt.prototype.getResponseJson=Nt.prototype.Oa,Nt.prototype.getResponseText=Nt.prototype.oa,Nt.prototype.send=Nt.prototype.ea,Nt.prototype.setWithCredentials=Nt.prototype.Ha,GR=Nt}).apply(typeof wh<"u"?wh:typeof self<"u"?self:typeof window<"u"?window:{});const AT="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_r.UNAUTHENTICATED=new _r(null),_r.GOOGLE_CREDENTIALS=new _r("google-credentials-uid"),_r.FIRST_PARTY=new _r("first-party-uid"),_r.MOCK_USER=new _r("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dc="10.13.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os=new d_("@firebase/firestore");function Yc(){return os.logLevel}function ve(t,...e){if(os.logLevel<=qe.DEBUG){const r=e.map(E_);os.debug(`Firestore (${dc}): ${t}`,...r)}}function ta(t,...e){if(os.logLevel<=qe.ERROR){const r=e.map(E_);os.error(`Firestore (${dc}): ${t}`,...r)}}function Dl(t,...e){if(os.logLevel<=qe.WARN){const r=e.map(E_);os.warn(`Firestore (${dc}): ${t}`,...r)}}function E_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(t="Unexpected state"){const e=`FIRESTORE (${dc}) INTERNAL ASSERTION FAILED: `+t;throw ta(e),new Error(e)}function ut(t,e){t||Ie()}function Ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends wi{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class V9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(_r.UNAUTHENTICATED))}shutdown(){}}class U9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class B9{constructor(e){this.t=e,this.currentUser=_r.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let a=new qi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new qi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new qi)}},0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(ut(typeof n.accessToken=="string"),new ej(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ut(e===null||typeof e=="string"),new _r(e)}}class z9{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=_r.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class W9{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new z9(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(_r.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class q9{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class H9{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){const n=a=>{a.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.R;return this.R=a.token,ve("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const i=a=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(ut(typeof r.token=="string"),this.R=r.token,new q9(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=K9(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%e.length))}return n}}function Qe(t,e){return t<e?-1:t>e?1:0}function Ml(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new he(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new he(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new he(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new st(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new st(0,0))}static max(){return new Oe(new st(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,r,n){r===void 0?r=0:r>e.length&&Ie(),n===void 0?n=e.length-r:n>e.length-r&&Ie(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return yf.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof yf?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=e.get(i),o=r.get(i);if(a<o)return-1;if(a>o)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class xt extends yf{construct(e,r,n){return new xt(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new he(te.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new xt(r)}static emptyPath(){return new xt([])}}const G9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fr extends yf{construct(e,r,n){return new fr(e,r,n)}static isValidIdentifier(e){return G9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new fr(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new he(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new he(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new he(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,i+=2}else s==="`"?(o=!o,i++):s!=="."||o?(n+=s,i++):(a(),i++)}if(a(),o)throw new he(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fr(r)}static emptyPath(){return new fr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(xt.fromString(e))}static fromName(e){return new we(xt.fromString(e).popFirst(5))}static empty(){return new we(xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return xt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new xt(e.slice()))}}function X9(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Oe.fromTimestamp(n===1e9?new st(r+1,0):new st(r,n));return new ao(i,we.empty(),e)}function Y9(t){return new ao(t.readTime,t.key,-1)}class ao{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new ao(Oe.min(),we.empty(),-1)}static max(){return new ao(Oe.max(),we.empty(),-1)}}function Q9(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=we.comparator(t.documentKey,e.documentKey),r!==0?r:Qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Z9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wd(t){if(t.code!==te.FAILED_PRECONDITION||t.message!==J9)throw t;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new ie((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof ie?r:ie.resolve(r)}catch(r){return ie.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):ie.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):ie.reject(r)}static resolve(e){return new ie((r,n)=>{r(e)})}static reject(e){return new ie((r,n)=>{n(e)})}static waitFor(e){return new ie((r,n)=>{let i=0,a=0,o=!1;e.forEach(s=>{++i,s.next(()=>{++a,o&&a===i&&r()},l=>n(l))}),o=!0,a===i&&r()})}static or(e){let r=ie.resolve(!1);for(const n of e)r=r.next(i=>i?ie.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(e,r){return new ie((n,i)=>{const a=e.length,o=new Array(a);let s=0;for(let l=0;l<a;l++){const c=l;r(e[c]).next(u=>{o[c]=u,++s,s===a&&n(o)},u=>i(u))}})}static doWhile(e,r){return new ie((n,i)=>{const a=()=>{e()===!0?r().next(()=>{a()},i):n()};a()})}}function e8(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function _d(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}S_.oe=-1;function Ag(t){return t==null}function tm(t){return t===0&&1/t==-1/0}function t8(t){return typeof t=="number"&&Number.isInteger(t)&&!tm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function ws(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function rj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,r){this.comparator=e,this.root=r||ur.EMPTY}insert(e,r){return new Ct(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,ur.BLACK,null,null))}remove(e){return new Ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ur.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _h(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _h(this.root,e,this.comparator,!1)}getReverseIterator(){return new _h(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _h(this.root,e,this.comparator,!0)}}class _h{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ur{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??ur.RED,this.left=i??ur.EMPTY,this.right=a??ur.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new ur(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ur.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return ur.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ur.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ur.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ie();const e=this.left.check();if(e!==this.right.check())throw Ie();return e+(this.isRed()?0:1)}}ur.EMPTY=null,ur.RED=!0,ur.BLACK=!1;ur.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie()}get value(){throw Ie()}get color(){throw Ie()}get left(){throw Ie()}get right(){throw Ie()}copy(e,r,n,i,a){return this}insert(e,r,n){return new ur(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this.comparator=e,this.data=new Ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new IT(this.data.getIterator())}getIteratorFrom(e){return new IT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof hr)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new hr(this.comparator);return r.data=e,r}}class IT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.fields=e,e.sort(fr.comparator)}static empty(){return new ln([])}unionWith(e){let r=new hr(fr.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new ln(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Ml(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new nj("Invalid base64 string: "+a):a}}(e);return new mr(r)}static fromUint8Array(e){const r=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new mr(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mr.EMPTY_BYTE_STRING=new mr("");const r8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oo(t){if(ut(!!t),typeof t=="string"){let e=0;const r=r8.exec(t);if(ut(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Lt(t.seconds),nanos:Lt(t.nanos)}}function Lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ss(t){return typeof t=="string"?mr.fromBase64String(t):mr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function A_(t){const e=t.mapValue.fields.__previous_value__;return T_(e)?A_(e):e}function vf(t){const e=oo(t.mapValue.fields.__local_write_time__.timestampValue);return new st(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n8{constructor(e,r,n,i,a,o,s,l,c){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=c}}class bf{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new bf("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof bf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ls(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?T_(t)?4:a8(t)?9007199254740991:i8(t)?10:11:Ie()}function bi(t,e){if(t===e)return!0;const r=ls(t);if(r!==ls(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return vf(t).isEqual(vf(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=oo(i.timestampValue),s=oo(a.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return ss(i.bytesValue).isEqual(ss(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return Lt(i.geoPointValue.latitude)===Lt(a.geoPointValue.latitude)&&Lt(i.geoPointValue.longitude)===Lt(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Lt(i.integerValue)===Lt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=Lt(i.doubleValue),s=Lt(a.doubleValue);return o===s?tm(o)===tm(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return Ml(t.arrayValue.values||[],e.arrayValue.values||[],bi);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},s=a.mapValue.fields||{};if(PT(o)!==PT(s))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(s[l]===void 0||!bi(o[l],s[l])))return!1;return!0}(t,e);default:return Ie()}}function xf(t,e){return(t.values||[]).find(r=>bi(r,e))!==void 0}function $l(t,e){if(t===e)return 0;const r=ls(t),n=ls(e);if(r!==n)return Qe(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Qe(t.booleanValue,e.booleanValue);case 2:return function(a,o){const s=Lt(a.integerValue||a.doubleValue),l=Lt(o.integerValue||o.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return OT(t.timestampValue,e.timestampValue);case 4:return OT(vf(t),vf(e));case 5:return Qe(t.stringValue,e.stringValue);case 6:return function(a,o){const s=ss(a),l=ss(o);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const s=a.split("/"),l=o.split("/");for(let c=0;c<s.length&&c<l.length;c++){const u=Qe(s[c],l[c]);if(u!==0)return u}return Qe(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const s=Qe(Lt(a.latitude),Lt(o.latitude));return s!==0?s:Qe(Lt(a.longitude),Lt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return CT(t.arrayValue,e.arrayValue);case 10:return function(a,o){var s,l,c,u;const f=a.fields||{},h=o.fields||{},p=(s=f.value)===null||s===void 0?void 0:s.arrayValue,g=(l=h.value)===null||l===void 0?void 0:l.arrayValue,y=Qe(((c=p==null?void 0:p.values)===null||c===void 0?void 0:c.length)||0,((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0);return y!==0?y:CT(p,g)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===kh.mapValue&&o===kh.mapValue)return 0;if(a===kh.mapValue)return 1;if(o===kh.mapValue)return-1;const s=a.fields||{},l=Object.keys(s),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const h=Qe(l[f],u[f]);if(h!==0)return h;const p=$l(s[l[f]],c[u[f]]);if(p!==0)return p}return Qe(l.length,u.length)}(t.mapValue,e.mapValue);default:throw Ie()}}function OT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Qe(t,e);const r=oo(t),n=oo(e),i=Qe(r.seconds,n.seconds);return i!==0?i:Qe(r.nanos,n.nanos)}function CT(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=$l(r[i],n[i]);if(a)return a}return Qe(r.length,n.length)}function Ll(t){return bb(t)}function bb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=oo(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return ss(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return we.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=bb(a);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const o of n)a?a=!1:i+=",",i+=`${o}:${bb(r.fields[o])}`;return i+"}"}(t.mapValue):Ie()}function NT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function xb(t){return!!t&&"integerValue"in t}function P_(t){return!!t&&"arrayValue"in t}function RT(t){return!!t&&"nullValue"in t}function jT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function lp(t){return!!t&&"mapValue"in t}function i8(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function Ru(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ws(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=Ru(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Ru(t.arrayValue.values[r]);return e}return Object.assign({},t)}function a8(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e){this.value=e}static empty(){return new Hr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!lp(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ru(r)}setAll(e){let r=fr.emptyPath(),n={},i=[];e.forEach((o,s)=>{if(!r.isImmediateParentOf(s)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=s.popLast()}o?n[s.lastSegment()]=Ru(o):i.push(s.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());lp(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return bi(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];lp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){ws(r,(i,a)=>e[i]=a);for(const i of n)delete e[i]}clone(){return new Hr(Ru(this.value))}}function ij(t){const e=[];return ws(t.fields,(r,n)=>{const i=new fr([r]);if(lp(n)){const a=ij(n.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)}),new ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e,r,n,i,a,o,s){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}static newInvalidDocument(e){return new Sr(e,0,Oe.min(),Oe.min(),Oe.min(),Hr.empty(),0)}static newFoundDocument(e,r,n,i){return new Sr(e,1,r,Oe.min(),n,i,0)}static newNoDocument(e,r){return new Sr(e,2,r,Oe.min(),Oe.min(),Hr.empty(),0)}static newUnknownDocument(e,r){return new Sr(e,3,r,Oe.min(),Oe.min(),Hr.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Sr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Sr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e,r){this.position=e,this.inclusive=r}}function DT(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?n=we.comparator(we.fromName(o.referenceValue),r.key):n=$l(o,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function MT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!bi(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,r="asc"){this.field=e,this.dir=r}}function o8(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{}class zt extends aj{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new l8(e,r,n):r==="array-contains"?new f8(e,n):r==="in"?new d8(e,n):r==="not-in"?new h8(e,n):r==="array-contains-any"?new p8(e,n):new zt(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new c8(e,n):new u8(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison($l(r,this.value)):r!==null&&ls(this.value)===ls(r)&&this.matchesComparison($l(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xn extends aj{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new Xn(e,r)}matches(e){return oj(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function oj(t){return t.op==="and"}function sj(t){return s8(t)&&oj(t)}function s8(t){for(const e of t.filters)if(e instanceof Xn)return!1;return!0}function wb(t){if(t instanceof zt)return t.field.canonicalString()+t.op.toString()+Ll(t.value);if(sj(t))return t.filters.map(e=>wb(e)).join(",");{const e=t.filters.map(r=>wb(r)).join(",");return`${t.op}(${e})`}}function lj(t,e){return t instanceof zt?function(n,i){return i instanceof zt&&n.op===i.op&&n.field.isEqual(i.field)&&bi(n.value,i.value)}(t,e):t instanceof Xn?function(n,i){return i instanceof Xn&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,o,s)=>a&&lj(o,i.filters[s]),!0):!1}(t,e):void Ie()}function cj(t){return t instanceof zt?function(r){return`${r.field.canonicalString()} ${r.op} ${Ll(r.value)}`}(t):t instanceof Xn?function(r){return r.op.toString()+" {"+r.getFilters().map(cj).join(" ,")+"}"}(t):"Filter"}class l8 extends zt{constructor(e,r,n){super(e,r,n),this.key=we.fromName(n.referenceValue)}matches(e){const r=we.comparator(e.key,this.key);return this.matchesComparison(r)}}class c8 extends zt{constructor(e,r){super(e,"in",r),this.keys=uj("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class u8 extends zt{constructor(e,r){super(e,"not-in",r),this.keys=uj("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function uj(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>we.fromName(n.referenceValue))}class f8 extends zt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return P_(r)&&xf(r.arrayValue,this.value)}}class d8 extends zt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&xf(this.value.arrayValue,r)}}class h8 extends zt{constructor(e,r){super(e,"not-in",r)}matches(e){if(xf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!xf(this.value.arrayValue,r)}}class p8 extends zt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!P_(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>xf(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m8{constructor(e,r=null,n=[],i=[],a=null,o=null,s=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ue=null}}function $T(t,e=null,r=[],n=[],i=null,a=null,o=null){return new m8(t,e,r,n,i,a,o)}function I_(t){const e=Ne(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>wb(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),Ag(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>Ll(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>Ll(n)).join(",")),e.ue=r}return e.ue}function O_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!o8(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!lj(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!MT(t.startAt,e.startAt)&&MT(t.endAt,e.endAt)}function _b(t){return we.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,r=null,n=[],i=[],a=null,o="F",s=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function g8(t,e,r,n,i,a,o,s){return new hc(t,e,r,n,i,a,o,s)}function C_(t){return new hc(t)}function LT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function fj(t){return t.collectionGroup!==null}function ju(t){const e=Ne(t);if(e.ce===null){e.ce=[];const r=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let s=new hr(fr.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(s=s.add(c.field))})}),s})(e).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||e.ce.push(new wf(a,n))}),r.has(fr.keyField().canonicalString())||e.ce.push(new wf(fr.keyField(),n))}return e.ce}function mi(t){const e=Ne(t);return e.le||(e.le=y8(e,ju(t))),e.le}function y8(t,e){if(t.limitType==="F")return $T(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new wf(i.field,a)});const r=t.endAt?new rm(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new rm(t.startAt.position,t.startAt.inclusive):null;return $T(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function kb(t,e){const r=t.filters.concat([e]);return new hc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function Eb(t,e,r){return new hc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Pg(t,e){return O_(mi(t),mi(e))&&t.limitType===e.limitType}function dj(t){return`${I_(mi(t))}|lt:${t.limitType}`}function Ws(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>cj(i)).join(", ")}]`),Ag(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>Ll(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>Ll(i)).join(",")),`Target(${n})`}(mi(t))}; limitType=${t.limitType})`}function Ig(t,e){return e.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):we.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(t,e)&&function(n,i){for(const a of ju(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(o,s,l){const c=DT(o,s,l);return o.inclusive?c<=0:c<0}(n.startAt,ju(n),i)||n.endAt&&!function(o,s,l){const c=DT(o,s,l);return o.inclusive?c>=0:c>0}(n.endAt,ju(n),i))}(t,e)}function v8(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function hj(t){return(e,r)=>{let n=!1;for(const i of ju(t)){const a=b8(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function b8(t,e,r){const n=t.field.isKeyField()?we.comparator(e.key,r.key):function(a,o,s){const l=o.data.field(a),c=s.data.field(a);return l!==null&&c!==null?$l(l,c):Ie()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Ie()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ws(this.inner,(r,n)=>{for(const[i,a]of n)e(i,a)})}isEmpty(){return rj(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x8=new Ct(we.comparator);function ra(){return x8}const pj=new Ct(we.comparator);function gu(...t){let e=pj;for(const r of t)e=e.insert(r.key,r);return e}function mj(t){let e=pj;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function Uo(){return Du()}function gj(){return Du()}function Du(){return new pc(t=>t.toString(),(t,e)=>t.isEqual(e))}const w8=new Ct(we.comparator),_8=new hr(we.comparator);function Fe(...t){let e=_8;for(const r of t)e=e.add(r);return e}const k8=new hr(Qe);function E8(){return k8}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tm(e)?"-0":e}}function yj(t){return{integerValue:""+t}}function S8(t,e){return t8(e)?yj(e):N_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(){this._=void 0}}function T8(t,e,r){return t instanceof nm?function(i,a){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&T_(a)&&(a=A_(a)),a&&(o.fields.__previous_value__=a),{mapValue:o}}(r,e):t instanceof _f?bj(t,e):t instanceof kf?xj(t,e):function(i,a){const o=vj(i,a),s=FT(o)+FT(i.Pe);return xb(o)&&xb(i.Pe)?yj(s):N_(i.serializer,s)}(t,e)}function A8(t,e,r){return t instanceof _f?bj(t,e):t instanceof kf?xj(t,e):r}function vj(t,e){return t instanceof im?function(n){return xb(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class nm extends Og{}class _f extends Og{constructor(e){super(),this.elements=e}}function bj(t,e){const r=wj(e);for(const n of t.elements)r.some(i=>bi(i,n))||r.push(n);return{arrayValue:{values:r}}}class kf extends Og{constructor(e){super(),this.elements=e}}function xj(t,e){let r=wj(e);for(const n of t.elements)r=r.filter(i=>!bi(i,n));return{arrayValue:{values:r}}}class im extends Og{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function FT(t){return Lt(t.integerValue||t.doubleValue)}function wj(t){return P_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function P8(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof _f&&i instanceof _f||n instanceof kf&&i instanceof kf?Ml(n.elements,i.elements,bi):n instanceof im&&i instanceof im?bi(n.Pe,i.Pe):n instanceof nm&&i instanceof nm}(t.transform,e.transform)}class I8{constructor(e,r){this.version=e,this.transformResults=r}}class Pn{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Pn}static exists(e){return new Pn(void 0,e)}static updateTime(e){return new Pn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Cg{}function _j(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new R_(t.key,Pn.none()):new kd(t.key,t.data,Pn.none());{const r=t.data,n=Hr.empty();let i=new hr(fr.comparator);for(let a of e.fields)if(!i.has(a)){let o=r.field(a);o===null&&a.length>1&&(a=a.popLast(),o=r.field(a)),o===null?n.delete(a):n.set(a,o),i=i.add(a)}return new go(t.key,n,new ln(i.toArray()),Pn.none())}}function O8(t,e,r){t instanceof kd?function(i,a,o){const s=i.value.clone(),l=UT(i.fieldTransforms,a,o.transformResults);s.setAll(l),a.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,r):t instanceof go?function(i,a,o){if(!cp(i.precondition,a))return void a.convertToUnknownDocument(o.version);const s=UT(i.fieldTransforms,a,o.transformResults),l=a.data;l.setAll(kj(i)),l.setAll(s),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,r):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,r)}function Mu(t,e,r,n){return t instanceof kd?function(a,o,s,l){if(!cp(a.precondition,o))return s;const c=a.value.clone(),u=BT(a.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,r,n):t instanceof go?function(a,o,s,l){if(!cp(a.precondition,o))return s;const c=BT(a.fieldTransforms,l,o),u=o.data;return u.setAll(kj(a)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),s===null?null:s.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(f=>f.field))}(t,e,r,n):function(a,o,s){return cp(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(t,e,r)}function C8(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=vj(n.transform,i||null);a!=null&&(r===null&&(r=Hr.empty()),r.set(n.field,a))}return r||null}function VT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Ml(n,i,(a,o)=>P8(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class kd extends Cg{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class go extends Cg{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function kj(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function UT(t,e,r){const n=new Map;ut(t.length===r.length);for(let i=0;i<r.length;i++){const a=t[i],o=a.transform,s=e.data.field(a.field);n.set(a.field,A8(o,s,r[i]))}return n}function BT(t,e,r){const n=new Map;for(const i of t){const a=i.transform,o=r.data.field(i.field);n.set(i.field,T8(a,o,e))}return n}class R_ extends Cg{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class N8 extends Cg{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R8{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&O8(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Mu(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Mu(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=gj();return this.mutations.forEach(i=>{const a=e.get(i.key),o=a.overlayedDocument;let s=this.applyToLocalView(o,a.mutatedFields);s=r.has(i.key)?null:s;const l=_j(o,s);l!==null&&n.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Oe.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Fe())}isEqual(e){return this.batchId===e.batchId&&Ml(this.mutations,e.mutations,(r,n)=>VT(r,n))&&Ml(this.baseMutations,e.baseMutations,(r,n)=>VT(r,n))}}class j_{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){ut(e.mutations.length===n.length);let i=function(){return w8}();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,n[o].version);return new j_(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j8{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D8{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut,He;function M8(t){switch(t){default:return Ie();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0}}function Ej(t){if(t===void 0)return ta("GRPC error has no .code"),te.UNKNOWN;switch(t){case Ut.OK:return te.OK;case Ut.CANCELLED:return te.CANCELLED;case Ut.UNKNOWN:return te.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return te.INTERNAL;case Ut.UNAVAILABLE:return te.UNAVAILABLE;case Ut.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Ut.NOT_FOUND:return te.NOT_FOUND;case Ut.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Ut.ABORTED:return te.ABORTED;case Ut.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Ut.DATA_LOSS:return te.DATA_LOSS;default:return Ie()}}(He=Ut||(Ut={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $8(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L8=new Go([4294967295,4294967295],0);function zT(t){const e=$8().encode(t),r=new KR;return r.update(e),new Uint8Array(r.digest())}function WT(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Go([r,n],0),new Go([i,a],0)]}class D_{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new yu(`Invalid padding: ${r}`);if(n<0)throw new yu(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new yu(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new yu(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Go.fromNumber(this.Ie)}Ee(e,r,n){let i=e.add(r.multiply(Go.fromNumber(n)));return i.compare(L8)===1&&(i=new Go([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=zT(e),[n,i]=WT(r);for(let a=0;a<this.hashCount;a++){const o=this.Ee(n,i,a);if(!this.de(o))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new D_(a,i,r);return n.forEach(s=>o.insert(s)),o}insert(e){if(this.Ie===0)return;const r=zT(e),[n,i]=WT(r);for(let a=0;a<this.hashCount;a++){const o=this.Ee(n,i,a);this.Ae(o)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class yu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,Ed.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new Ng(Oe.min(),i,new Ct(Qe),ra(),Fe())}}class Ed{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Ed(n,r,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e,r,n,i){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=i}}class Sj{constructor(e,r){this.targetId=e,this.me=r}}class Tj{constructor(e,r,n=mr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class qT{constructor(){this.fe=0,this.ge=KT(),this.pe=mr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Fe(),r=Fe(),n=Fe();return this.ge.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:Ie()}}),new Ed(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=KT()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ut(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class F8{constructor(e){this.Le=e,this.Be=new Map,this.ke=ra(),this.qe=HT(),this.Qe=new Ct(Qe)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:Ie()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,i)=>{this.ze(i)&&r(i)})}He(e){const r=e.targetId,n=e.me.count,i=this.Je(r);if(i){const a=i.target;if(_b(a))if(n===0){const o=new we(a.path);this.Ue(r,o,Sr.newNoDocument(o,Oe.min()))}else ut(n===1);else{const o=this.Ye(r);if(o!==n){const s=this.Ze(e),l=s?this.Xe(s,e,o):1;if(l!==0){this.je(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,c)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let o,s;try{o=ss(n).toUint8Array()}catch(l){if(l instanceof nj)return Dl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new D_(o,i,a)}catch(l){return Dl(l instanceof yu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.Ie===0?null:s}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const o=this.Le.tt(),s=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(s)||(this.Ue(r,a,null),i++)}),i}rt(e){const r=new Map;this.Be.forEach((a,o)=>{const s=this.Je(o);if(s){if(a.current&&_b(s.target)){const l=new we(s.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Sr.newNoDocument(l,e))}a.be&&(r.set(o,a.ve()),a.Ce())}});let n=Fe();this.qe.forEach((a,o)=>{let s=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(n=n.add(a))}),this.ke.forEach((a,o)=>o.setReadTime(e));const i=new Ng(e,r,this.Qe,this.ke,n);return this.ke=ra(),this.qe=HT(),this.Qe=new Ct(Qe),i}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new qT,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new hr(Qe),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||ve("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new qT),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function HT(){return new Ct(we.comparator)}function KT(){return new Ct(we.comparator)}const V8={asc:"ASCENDING",desc:"DESCENDING"},U8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},B8={and:"AND",or:"OR"};class z8{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Sb(t,e){return t.useProto3Json||Ag(e)?e:{value:e}}function am(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Aj(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function W8(t,e){return am(t,e.toTimestamp())}function gi(t){return ut(!!t),Oe.fromTimestamp(function(r){const n=oo(r);return new st(n.seconds,n.nanos)}(t))}function M_(t,e){return Tb(t,e).canonicalString()}function Tb(t,e){const r=function(i){return new xt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function Pj(t){const e=xt.fromString(t);return ut(Rj(e)),e}function Ab(t,e){return M_(t.databaseId,e.path)}function Rv(t,e){const r=Pj(e);if(r.get(1)!==t.databaseId.projectId)throw new he(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new he(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new we(Oj(r))}function Ij(t,e){return M_(t.databaseId,e)}function q8(t){const e=Pj(t);return e.length===4?xt.emptyPath():Oj(e)}function Pb(t){return new xt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Oj(t){return ut(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function GT(t,e,r){return{name:Ab(t,e),fields:r.value.mapValue.fields}}function H8(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Ie()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(c,u){return c.useProto3Json?(ut(u===void 0||typeof u=="string"),mr.fromBase64String(u||"")):(ut(u===void 0||u instanceof Buffer||u instanceof Uint8Array),mr.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,s=o&&function(c){const u=c.code===void 0?te.UNKNOWN:Ej(c.code);return new he(u,c.message||"")}(o);r=new Tj(n,i,a,s||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=Rv(t,n.document.name),a=gi(n.document.updateTime),o=n.document.createTime?gi(n.document.createTime):Oe.min(),s=new Hr({mapValue:{fields:n.document.fields}}),l=Sr.newFoundDocument(i,a,o,s),c=n.targetIds||[],u=n.removedTargetIds||[];r=new up(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=Rv(t,n.document),a=n.readTime?gi(n.readTime):Oe.min(),o=Sr.newNoDocument(i,a),s=n.removedTargetIds||[];r=new up([],s,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=Rv(t,n.document),a=n.removedTargetIds||[];r=new up([],a,i,null)}else{if(!("filter"in e))return Ie();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,o=new D8(i,a),s=n.targetId;r=new Sj(s,o)}}return r}function K8(t,e){let r;if(e instanceof kd)r={update:GT(t,e.key,e.value)};else if(e instanceof R_)r={delete:Ab(t,e.key)};else if(e instanceof go)r={update:GT(t,e.key,e.data),updateMask:rz(e.fieldMask)};else{if(!(e instanceof N8))return Ie();r={verify:Ab(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(a,o){const s=o.transform;if(s instanceof nm)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof _f)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof kf)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof im)return{fieldPath:o.field.canonicalString(),increment:s.Pe};throw Ie()}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:W8(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ie()}(t,e.precondition)),r}function G8(t,e){return t&&t.length>0?(ut(e!==void 0),t.map(r=>function(i,a){let o=i.updateTime?gi(i.updateTime):gi(a);return o.isEqual(Oe.min())&&(o=gi(a)),new I8(o,i.transformResults||[])}(r,e))):[]}function X8(t,e){return{documents:[Ij(t,e.path)]}}function Y8(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=Ij(t,i);const a=function(c){if(c.length!==0)return Nj(Xn.create(c,"and"))}(e.filters);a&&(r.structuredQuery.where=a);const o=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:qs(h.field),direction:Z8(h.dir)}}(u))}(e.orderBy);o&&(r.structuredQuery.orderBy=o);const s=Sb(t,e.limit);return s!==null&&(r.structuredQuery.limit=s),e.startAt&&(r.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:r,parent:i}}function Q8(t){let e=q8(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){ut(n===1);const u=r.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let a=[];r.where&&(a=function(f){const h=Cj(f);return h instanceof Xn&&sj(h)?h.getFilters():[h]}(r.where));let o=[];r.orderBy&&(o=function(f){return f.map(h=>function(g){return new wf(Hs(g.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(r.orderBy));let s=null;r.limit&&(s=function(f){let h;return h=typeof f=="object"?f.value:f,Ag(h)?null:h}(r.limit));let l=null;r.startAt&&(l=function(f){const h=!!f.before,p=f.values||[];return new rm(p,h)}(r.startAt));let c=null;return r.endAt&&(c=function(f){const h=!f.before,p=f.values||[];return new rm(p,h)}(r.endAt)),g8(e,i,o,a,s,"F",l,c)}function J8(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function Cj(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Hs(r.unaryFilter.field);return zt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Hs(r.unaryFilter.field);return zt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Hs(r.unaryFilter.field);return zt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Hs(r.unaryFilter.field);return zt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ie()}}(t):t.fieldFilter!==void 0?function(r){return zt.create(Hs(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ie()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return Xn.create(r.compositeFilter.filters.map(n=>Cj(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ie()}}(r.compositeFilter.op))}(t):Ie()}function Z8(t){return V8[t]}function ez(t){return U8[t]}function tz(t){return B8[t]}function qs(t){return{fieldPath:t.canonicalString()}}function Hs(t){return fr.fromServerFormat(t.fieldPath)}function Nj(t){return t instanceof zt?function(r){if(r.op==="=="){if(jT(r.value))return{unaryFilter:{field:qs(r.field),op:"IS_NAN"}};if(RT(r.value))return{unaryFilter:{field:qs(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(jT(r.value))return{unaryFilter:{field:qs(r.field),op:"IS_NOT_NAN"}};if(RT(r.value))return{unaryFilter:{field:qs(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qs(r.field),op:ez(r.op),value:r.value}}}(t):t instanceof Xn?function(r){const n=r.getFilters().map(i=>Nj(i));return n.length===1?n[0]:{compositeFilter:{op:tz(r.op),filters:n}}}(t):Ie()}function rz(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function Rj(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,r,n,i,a=Oe.min(),o=Oe.min(),s=mr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new Fa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Fa(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nz{constructor(e){this.ct=e}}function iz(t){const e=Q8({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Eb(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class az{constructor(){this.un=new oz}addToCollectionParentIndex(e,r){return this.un.add(r),ie.resolve()}getCollectionParents(e,r){return ie.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return ie.resolve()}deleteFieldIndex(e,r){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,r){return ie.resolve()}getDocumentsMatchingTarget(e,r){return ie.resolve(null)}getIndexType(e,r){return ie.resolve(0)}getFieldIndexes(e,r){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,r){return ie.resolve(ao.min())}getMinOffsetFromCollectionGroup(e,r){return ie.resolve(ao.min())}updateCollectionGroup(e,r,n){return ie.resolve()}updateIndexEntries(e,r){return ie.resolve()}}class oz{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new hr(xt.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new hr(xt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Fl(0)}static kn(){return new Fl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sz{constructor(){this.changes=new pc(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Sr.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?ie.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lz{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cz{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&Mu(n.mutation,i,ln.empty(),st.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Fe()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Fe()){const i=Uo();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(a=>{let o=gu();return a.forEach((s,l)=>{o=o.insert(s,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,r){const n=Uo();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Fe()))}populateOverlays(e,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((o,s)=>{r.set(o,s)})})}computeViews(e,r,n,i){let a=ra();const o=Du(),s=function(){return Du()}();return r.forEach((l,c)=>{const u=n.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof go)?a=a.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Mu(u.mutation,c,u.mutation.getFieldMask(),st.now())):o.set(c.key,ln.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((c,u)=>o.set(c,u)),r.forEach((c,u)=>{var f;return s.set(c,new lz(u,(f=o.get(c))!==null&&f!==void 0?f:null))}),s))}recalculateAndSaveOverlays(e,r){const n=Du();let i=new Ct((o,s)=>o-s),a=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>{for(const s of o)s.keys().forEach(l=>{const c=r.get(l);if(c===null)return;let u=n.get(l)||ln.empty();u=s.applyToLocalView(c,u),n.set(l,u);const f=(i.get(s.batchId)||Fe()).add(l);i=i.insert(s.batchId,f)})}).next(()=>{const o=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),c=l.key,u=l.value,f=gj();u.forEach(h=>{if(!a.has(h)){const p=_j(r.get(h),n.get(h));p!==null&&f.set(h,p),a=a.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return ie.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(o){return we.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):fj(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):ie.resolve(Uo());let s=-1,l=a;return o.next(c=>ie.forEach(c,(u,f)=>(s<f.largestBatchId&&(s=f.largestBatchId),a.get(u)?ie.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,a)).next(()=>this.computeViews(e,l,c,Fe())).next(u=>({batchId:s,changes:mj(u)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new we(r)).next(n=>{let i=gu();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let o=gu();return this.indexManager.getCollectionParents(e,a).next(s=>ie.forEach(s,l=>{const c=function(f,h){return new hc(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,c,n,i).next(u=>{u.forEach((f,h)=>{o=o.insert(f,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i))).next(o=>{a.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,Sr.newInvalidDocument(u)))});let s=gu();return o.forEach((l,c)=>{const u=a.get(l);u!==void 0&&Mu(u.mutation,c,ln.empty(),st.now()),Ig(r,c)&&(s=s.insert(l,c))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uz{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return ie.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:gi(i.createTime)}}(r)),ie.resolve()}getNamedQuery(e,r){return ie.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(i){return{name:i.name,query:iz(i.bundledQuery),readTime:gi(i.readTime)}}(r)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fz{constructor(){this.overlays=new Ct(we.comparator),this.Ir=new Map}getOverlay(e,r){return ie.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Uo();return ie.forEach(r,i=>this.getOverlay(e,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,a)=>{this.ht(e,r,a)}),ie.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(n)),ie.resolve()}getOverlaysForCollection(e,r,n){const i=Uo(),a=r.length+1,o=new we(r.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const l=s.getNext().value,c=l.getKey();if(!r.isPrefixOf(c.path))break;c.path.length===a&&l.largestBatchId>n&&i.set(l.getKey(),l)}return ie.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new Ct((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===r&&c.largestBatchId>n){let u=a.get(c.largestBatchId);u===null&&(u=Uo(),a=a.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const s=Uo(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>s.set(c,u)),!(s.size()>=i)););return ie.resolve(s)}ht(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new j8(r,n));let a=this.Ir.get(r);a===void 0&&(a=Fe(),this.Ir.set(r,a)),this.Ir.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dz{constructor(){this.sessionToken=mr.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(){this.Tr=new hr(er.Er),this.dr=new hr(er.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new er(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new er(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new we(new xt([])),n=new er(r,e),i=new er(r,e+1),a=[];return this.dr.forEachInRange([n,i],o=>{this.Vr(o),a.push(o.key)}),a}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new we(new xt([])),n=new er(r,e),i=new er(r,e+1);let a=Fe();return this.dr.forEachInRange([n,i],o=>{a=a.add(o.key)}),a}containsKey(e){const r=new er(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class er{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return we.comparator(e.key,r.key)||Qe(e.wr,r.wr)}static Ar(e,r){return Qe(e.wr,r.wr)||we.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hz{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new hr(er.Er)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new R8(a,r,n,i);this.mutationQueue.push(o);for(const s of i)this.br=this.br.add(new er(s.key,a)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return ie.resolve(o)}lookupMutationBatch(e,r){return ie.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.vr(n),a=i<0?0:i;return ie.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new er(r,0),i=new er(r,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([n,i],o=>{const s=this.Dr(o.wr);a.push(s)}),ie.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new hr(Qe);return r.forEach(i=>{const a=new er(i,0),o=new er(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,o],s=>{n=n.add(s.wr)})}),ie.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;we.isDocumentKey(a)||(a=a.child(""));const o=new er(new we(a),0);let s=new hr(Qe);return this.br.forEachWhile(l=>{const c=l.key.path;return!!n.isPrefixOf(c)&&(c.length===i&&(s=s.add(l.wr)),!0)},o),ie.resolve(this.Cr(s))}Cr(e){const r=[];return e.forEach(n=>{const i=this.Dr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){ut(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return ie.forEach(r.mutations,i=>{const a=new er(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new er(r,0),i=this.br.firstAfterOrEqual(n);return ie.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pz{constructor(e){this.Mr=e,this.docs=function(){return new Ct(we.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,o=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return ie.resolve(n?n.document.mutableCopy():Sr.newInvalidDocument(r))}getEntries(e,r){let n=ra();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():Sr.newInvalidDocument(i))}),ie.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=ra();const o=r.path,s=new we(o.child("")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Q9(Y9(u),n)<=0||(i.has(u.key)||Ig(r,u))&&(a=a.insert(u.key,u.mutableCopy()))}return ie.resolve(a)}getAllFromCollectionGroup(e,r,n,i){Ie()}Or(e,r){return ie.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new mz(this)}getSize(e){return ie.resolve(this.size)}}class mz extends sz{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)}),ie.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gz{constructor(e){this.persistence=e,this.Nr=new pc(r=>I_(r),O_),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new $_,this.targetCount=0,this.kr=Fl.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,i)=>r(i)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),ie.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new Fl(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,ie.resolve()}updateTargetData(e,r){return this.Kn(r),ie.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.Nr.forEach((o,s)=>{s.sequenceNumber<=r&&n.get(s.targetId)===null&&(this.Nr.delete(o),a.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),ie.waitFor(a).next(()=>i)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return ie.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),ie.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(o=>{a.push(i.markPotentiallyOrphaned(e,o))}),ie.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),ie.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return ie.resolve(n)}containsKey(e,r){return ie.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yz{constructor(e,r){this.qr={},this.overlays={},this.Qr=new S_(0),this.Kr=!1,this.Kr=!0,this.$r=new dz,this.referenceDelegate=e(this),this.Ur=new gz(this),this.indexManager=new az,this.remoteDocumentCache=function(i){return new pz(i)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new nz(r),this.Gr=new uz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new fz,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new hz(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){ve("MemoryPersistence","Starting transaction:",e);const i=new vz(this.Qr.next());return this.referenceDelegate.zr(),n(i).next(a=>this.referenceDelegate.jr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Hr(e,r){return ie.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class vz extends Z9{constructor(e){super(),this.currentSequenceNumber=e}}class L_{constructor(e){this.persistence=e,this.Jr=new $_,this.Yr=null}static Zr(e){return new L_(e)}get Xr(){if(this.Yr)return this.Yr;throw Ie()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),ie.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),ie.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),ie.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(i=>this.Xr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(a=>this.Xr.add(a.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.Xr,n=>{const i=we.fromPath(n);return this.ei(e,i).next(a=>{a||r.removeEntry(i,Oe.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return ie.or([()=>ie.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(e,r){let n=Fe(),i=Fe();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new F_(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bz{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xz{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return fV()?8:e8(Ir())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.Yi(e,r).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.Zi(e,r,i,n).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new bz;return this.Xi(e,r,o).next(s=>{if(a.result=s,this.zi)return this.es(e,r,o,s.size)})}).next(()=>a.result)}es(e,r,n,i){return n.documentReadCount<this.ji?(Yc()<=qe.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",Ws(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ie.resolve()):(Yc()<=qe.DEBUG&&ve("QueryEngine","Query:",Ws(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(Yc()<=qe.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",Ws(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mi(r))):ie.resolve())}Yi(e,r){if(LT(r))return ie.resolve(null);let n=mi(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=Eb(r,null,"F"),n=mi(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const o=Fe(...a);return this.Ji.getDocuments(e,o).next(s=>this.indexManager.getMinOffset(e,n).next(l=>{const c=this.ts(r,s);return this.ns(r,c,o,l.readTime)?this.Yi(e,Eb(r,null,"F")):this.rs(e,c,r,l)}))})))}Zi(e,r,n,i){return LT(r)||i.isEqual(Oe.min())?ie.resolve(null):this.Ji.getDocuments(e,n).next(a=>{const o=this.ts(r,a);return this.ns(r,o,n,i)?ie.resolve(null):(Yc()<=qe.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ws(r)),this.rs(e,o,r,X9(i,-1)).next(s=>s))})}ts(e,r){let n=new hr(hj(e));return r.forEach((i,a)=>{Ig(e,a)&&(n=n.add(a))}),n}ns(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(e,r,n){return Yc()<=qe.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",Ws(r)),this.Ji.getDocumentsMatchingQuery(e,r,ao.min(),n)}rs(e,r,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next(a=>(r.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wz{constructor(e,r,n,i){this.persistence=e,this.ss=r,this.serializer=i,this.os=new Ct(Qe),this._s=new pc(a=>I_(a),O_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cz(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function _z(t,e,r,n){return new wz(t,e,r,n)}async function jj(t,e){const r=Ne(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const o=[],s=[];let l=Fe();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of a){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return r.localDocuments.getDocuments(n,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:s}))})})}function kz(t,e){const r=Ne(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),a=r.cs.newChangeBuffer({trackRemovals:!0});return function(s,l,c,u){const f=c.batch,h=f.keys();let p=ie.resolve();return h.forEach(g=>{p=p.next(()=>u.getEntry(l,g)).next(y=>{const b=c.docVersions.get(g);ut(b!==null),y.version.compareTo(b)<0&&(f.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),u.addEntry(y)))})}),p.next(()=>s.mutationQueue.removeMutationBatch(l,f))}(r,n,e,a).next(()=>a.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(s){let l=Fe();for(let c=0;c<s.mutationResults.length;++c)s.mutationResults[c].transformResults.length>0&&(l=l.add(s.batch.mutations[c].key));return l}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function Dj(t){const e=Ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function Ez(t,e){const r=Ne(t),n=e.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const s=[];e.targetChanges.forEach((u,f)=>{const h=i.get(f);if(!h)return;s.push(r.Ur.removeMatchingKeys(a,u.removedDocuments,f).next(()=>r.Ur.addMatchingKeys(a,u.addedDocuments,f)));let p=h.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(mr.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,n)),i=i.insert(f,p),function(y,b,_){return y.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(h,p,u)&&s.push(r.Ur.updateTargetData(a,p))});let l=ra(),c=Fe();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&s.push(r.persistence.referenceDelegate.updateLimboDocument(a,u))}),s.push(Sz(a,o,e.documentUpdates).next(u=>{l=u.Ps,c=u.Is})),!n.isEqual(Oe.min())){const u=r.Ur.getLastRemoteSnapshotVersion(a).next(f=>r.Ur.setTargetsMetadata(a,a.currentSequenceNumber,n));s.push(u)}return ie.waitFor(s).next(()=>o.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,l,c)).next(()=>l)}).then(a=>(r.os=i,a))}function Sz(t,e,r){let n=Fe(),i=Fe();return r.forEach(a=>n=n.add(a)),e.getEntries(t,n).next(a=>{let o=ra();return r.forEach((s,l)=>{const c=a.get(s);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(Oe.min())?(e.removeEntry(s,l.readTime),o=o.insert(s,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(s,l)):ve("LocalStore","Ignoring outdated watch update for ",s,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function Tz(t,e){const r=Ne(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function Az(t,e){const r=Ne(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Ur.getTargetData(n,e).next(a=>a?(i=a,ie.resolve(i)):r.Ur.allocateTargetId(n).next(o=>(i=new Fa(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function Ib(t,e,r){const n=Ne(t),i=n.os.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,o=>n.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!_d(o))throw o;ve("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function XT(t,e,r){const n=Ne(t);let i=Oe.min(),a=Fe();return n.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const f=Ne(l),h=f._s.get(u);return h!==void 0?ie.resolve(f.os.get(h)):f.Ur.getTargetData(c,u)}(n,o,mi(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(o,s.targetId).next(l=>{a=l})}).next(()=>n.ss.getDocumentsMatchingQuery(o,e,r?i:Oe.min(),r?a:Fe())).next(s=>(Pz(n,v8(e),s),{documents:s,Ts:a})))}function Pz(t,e,r){let n=t.us.get(e)||Oe.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),t.us.set(e,n)}class YT{constructor(){this.activeTargetIds=E8()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Iz{constructor(){this.so=new YT,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new YT,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oz{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ve("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ve("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eh=null;function jv(){return Eh===null?Eh=function(){return 268435456+Math.round(2147483648*Math.random())}():Eh++,"0x"+Eh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nz{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr="WebChannelConnection";class Rz extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(r,n,i,a,o){const s=jv(),l=this.xo(r,n.toUriEncodedString());ve("RestConnection",`Sending RPC '${r}' ${s}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,a,o),this.No(r,l,c,i).then(u=>(ve("RestConnection",`Received RPC '${r}' ${s}: `,u),u),u=>{throw Dl("RestConnection",`RPC '${r}' ${s} failed with error: `,u,"url: ",l,"request:",i),u})}Lo(r,n,i,a,o,s){return this.Mo(r,n,i,a,o)}Oo(r,n,i){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+dc}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,o)=>r[o]=a),i&&i.headers.forEach((a,o)=>r[o]=a)}xo(r,n){const i=Cz[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,i){const a=jv();return new Promise((o,s)=>{const l=new GR;l.setWithCredentials(!0),l.listenOnce(YR.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case sp.NO_ERROR:const u=l.getResponseJson();ve(xr,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(u)),o(u);break;case sp.TIMEOUT:ve(xr,`RPC '${e}' ${a} timed out`),s(new he(te.DEADLINE_EXCEEDED,"Request time out"));break;case sp.HTTP_ERROR:const f=l.getStatus();if(ve(xr,`RPC '${e}' ${a} failed with status:`,f,"response text:",l.getResponseText()),f>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const g=function(b){const _=b.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(_)>=0?_:te.UNKNOWN}(p.status);s(new he(g,p.message))}else s(new he(te.UNKNOWN,"Server responded with status "+l.getStatus()))}else s(new he(te.UNAVAILABLE,"Connection failed."));break;default:Ie()}}finally{ve(xr,`RPC '${e}' ${a} completed.`)}});const c=JSON.stringify(i);ve(xr,`RPC '${e}' ${a} sending request:`,i),l.send(r,"POST",c,n,15)})}Bo(e,r,n){const i=jv(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ZR(),s=JR(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new XR({})),this.Oo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const u=a.join("");ve(xr,`Creating RPC '${e}' stream ${i}: ${u}`,l);const f=o.createWebChannel(u,l);let h=!1,p=!1;const g=new Nz({Io:b=>{p?ve(xr,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(h||(ve(xr,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),ve(xr,`RPC '${e}' stream ${i} sending:`,b),f.send(b))},To:()=>f.close()}),y=(b,_,v)=>{b.listen(_,x=>{try{v(x)}catch(k){setTimeout(()=>{throw k},0)}})};return y(f,mu.EventType.OPEN,()=>{p||(ve(xr,`RPC '${e}' stream ${i} transport opened.`),g.yo())}),y(f,mu.EventType.CLOSE,()=>{p||(p=!0,ve(xr,`RPC '${e}' stream ${i} transport closed`),g.So())}),y(f,mu.EventType.ERROR,b=>{p||(p=!0,Dl(xr,`RPC '${e}' stream ${i} transport errored:`,b),g.So(new he(te.UNAVAILABLE,"The operation could not be completed")))}),y(f,mu.EventType.MESSAGE,b=>{var _;if(!p){const v=b.data[0];ut(!!v);const x=v,k=x.error||((_=x[0])===null||_===void 0?void 0:_.error);if(k){ve(xr,`RPC '${e}' stream ${i} received error:`,k);const T=k.status;let C=function(P){const O=Ut[P];if(O!==void 0)return Ej(O)}(T),S=k.message;C===void 0&&(C=te.INTERNAL,S="Unknown error status: "+T+" with message "+k.message),p=!0,g.So(new he(C,S)),f.close()}else ve(xr,`RPC '${e}' stream ${i} received:`,v),g.bo(v)}}),y(s,QR.STAT_EVENT,b=>{b.stat===vb.PROXY?ve(xr,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===vb.NOPROXY&&ve(xr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.wo()},0),g}}function Dv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(t){return new z8(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(e,r,n=1e3,i=1.5,a=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&ve("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j{constructor(e,r,n,i,a,o,s,l){this.ui=e,this.Ho=n,this.Jo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Mj(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===te.RESOURCE_EXHAUSTED?(ta(r.toString()),ta("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Yo===r&&this.P_(n,i)},n=>{e(()=>{const i=new he(te.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{n(()=>this.I_(i))}),this.stream.onMessage(i=>{n(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ve("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(ve("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class jz extends $j{constructor(e,r,n,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=H8(this.serializer,e),n=function(a){if(!("targetChange"in a))return Oe.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?Oe.min():o.readTime?gi(o.readTime):Oe.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=Pb(this.serializer),r.addTarget=function(a,o){let s;const l=o.target;if(s=_b(l)?{documents:X8(a,l)}:{query:Y8(a,l)._t},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=Aj(a,o.resumeToken);const c=Sb(a,o.expectedCount);c!==null&&(s.expectedCount=c)}else if(o.snapshotVersion.compareTo(Oe.min())>0){s.readTime=am(a,o.snapshotVersion.toTimestamp());const c=Sb(a,o.expectedCount);c!==null&&(s.expectedCount=c)}return s}(this.serializer,e);const n=J8(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=Pb(this.serializer),r.removeTarget=e,this.a_(r)}}class Dz extends $j{constructor(e,r,n,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return ut(!!e.streamToken),this.lastStreamToken=e.streamToken,ut(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ut(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=G8(e.writeResults,e.commitTime),n=gi(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=Pb(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>K8(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mz extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new he(te.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Mo(e,Tb(r,n),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new he(te.UNKNOWN,a.toString())})}Lo(e,r,n,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Lo(e,Tb(r,n),i,o,s,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new he(te.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class $z{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ta(r),this.D_=!1):ve("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lz{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(o=>{n.enqueueAndForget(async()=>{_s(this)&&(ve("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Ne(l);c.L_.add(4),await Sd(c),c.q_.set("Unknown"),c.L_.delete(4),await jg(c)}(this))})}),this.q_=new $z(n,i)}}async function jg(t){if(_s(t))for(const e of t.B_)await e(!0)}async function Sd(t){for(const e of t.B_)await e(!1)}function Lj(t,e){const r=Ne(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),z_(r)?B_(r):mc(r).r_()&&U_(r,e))}function V_(t,e){const r=Ne(t),n=mc(r);r.N_.delete(e),n.r_()&&Fj(r,e),r.N_.size===0&&(n.r_()?n.o_():_s(r)&&r.q_.set("Unknown"))}function U_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}mc(t).A_(e)}function Fj(t,e){t.Q_.xe(e),mc(t).R_(e)}function B_(t){t.Q_=new F8({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),mc(t).start(),t.q_.v_()}function z_(t){return _s(t)&&!mc(t).n_()&&t.N_.size>0}function _s(t){return Ne(t).L_.size===0}function Vj(t){t.Q_=void 0}async function Fz(t){t.q_.set("Online")}async function Vz(t){t.N_.forEach((e,r)=>{U_(t,e)})}async function Uz(t,e){Vj(t),z_(t)?(t.q_.M_(e),B_(t)):t.q_.set("Unknown")}async function Bz(t,e,r){if(t.q_.set("Online"),e instanceof Tj&&e.state===2&&e.cause)try{await async function(i,a){const o=a.cause;for(const s of a.targetIds)i.N_.has(s)&&(await i.remoteSyncer.rejectListen(s,o),i.N_.delete(s),i.Q_.removeTarget(s))}(t,e)}catch(n){ve("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await om(t,n)}else if(e instanceof up?t.Q_.Ke(e):e instanceof Sj?t.Q_.He(e):t.Q_.We(e),!r.isEqual(Oe.min()))try{const n=await Dj(t.localStore);r.compareTo(n)>=0&&await function(a,o){const s=a.Q_.rt(o);return s.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=a.N_.get(c);u&&a.N_.set(c,u.withResumeToken(l.resumeToken,o))}}),s.targetMismatches.forEach((l,c)=>{const u=a.N_.get(l);if(!u)return;a.N_.set(l,u.withResumeToken(mr.EMPTY_BYTE_STRING,u.snapshotVersion)),Fj(a,l);const f=new Fa(u.target,l,c,u.sequenceNumber);U_(a,f)}),a.remoteSyncer.applyRemoteEvent(s)}(t,r)}catch(n){ve("RemoteStore","Failed to raise snapshot:",n),await om(t,n)}}async function om(t,e,r){if(!_d(e))throw e;t.L_.add(1),await Sd(t),t.q_.set("Offline"),r||(r=()=>Dj(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ve("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await jg(t)})}function Uj(t,e){return e().catch(r=>om(t,r,e))}async function Dg(t){const e=Ne(t),r=so(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;zz(e);)try{const i=await Tz(e.localStore,n);if(i===null){e.O_.length===0&&r.o_();break}n=i.batchId,Wz(e,i)}catch(i){await om(e,i)}Bj(e)&&zj(e)}function zz(t){return _s(t)&&t.O_.length<10}function Wz(t,e){t.O_.push(e);const r=so(t);r.r_()&&r.V_&&r.m_(e.mutations)}function Bj(t){return _s(t)&&!so(t).n_()&&t.O_.length>0}function zj(t){so(t).start()}async function qz(t){so(t).p_()}async function Hz(t){const e=so(t);for(const r of t.O_)e.m_(r.mutations)}async function Kz(t,e,r){const n=t.O_.shift(),i=j_.from(n,e,r);await Uj(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Dg(t)}async function Gz(t,e){e&&so(t).V_&&await async function(n,i){if(function(o){return M8(o)&&o!==te.ABORTED}(i.code)){const a=n.O_.shift();so(n).s_(),await Uj(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Dg(n)}}(t,e),Bj(t)&&zj(t)}async function JT(t,e){const r=Ne(t);r.asyncQueue.verifyOperationInProgress(),ve("RemoteStore","RemoteStore received new credentials");const n=_s(r);r.L_.add(3),await Sd(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await jg(r)}async function Xz(t,e){const r=Ne(t);e?(r.L_.delete(2),await jg(r)):e||(r.L_.add(2),await Sd(r),r.q_.set("Unknown"))}function mc(t){return t.K_||(t.K_=function(r,n,i){const a=Ne(r);return a.w_(),new jz(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:Fz.bind(null,t),Ro:Vz.bind(null,t),mo:Uz.bind(null,t),d_:Bz.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),z_(t)?B_(t):t.q_.set("Unknown")):(await t.K_.stop(),Vj(t))})),t.K_}function so(t){return t.U_||(t.U_=function(r,n,i){const a=Ne(r);return a.w_(),new Dz(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:qz.bind(null,t),mo:Gz.bind(null,t),f_:Hz.bind(null,t),g_:Kz.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Dg(t)):(await t.U_.stop(),t.O_.length>0&&(ve("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new qi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const o=Date.now()+n,s=new W_(e,r,o,i,a);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function q_(t,e){if(ta("AsyncQueue",`${e}: ${t}`),_d(t))return new he(te.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e){this.comparator=e?(r,n)=>e(r,n)||we.comparator(r.key,n.key):(r,n)=>we.comparator(r.key,n.key),this.keyedMap=gu(),this.sortedSet=new Ct(this.comparator)}static emptySet(e){return new _l(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof _l)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new _l;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(){this.W_=new Ct(we.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):Ie():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class Vl{constructor(e,r,n,i,a,o,s,l,c){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,r,n,i,a){const o=[];return r.forEach(s=>{o.push({type:0,doc:s})}),new Vl(e,r,_l.emptySet(r),o,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yz{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Qz{constructor(){this.queries=eA(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=Ne(r),a=i.queries;i.queries=eA(),a.forEach((o,s)=>{for(const l of s.j_)l.onError(n)})})(this,new he(te.ABORTED,"Firestore shutting down"))}}function eA(){return new pc(t=>dj(t),Pg)}async function Wj(t,e){const r=Ne(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.H_()&&e.J_()&&(n=2):(a=new Yz,n=e.J_()?0:1);try{switch(n){case 0:a.z_=await r.onListen(i,!0);break;case 1:a.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(o){const s=q_(o,`Initialization of query '${Ws(e.query)}' failed`);return void e.onError(s)}r.queries.set(i,a),a.j_.push(e),e.Z_(r.onlineState),a.z_&&e.X_(a.z_)&&H_(r)}async function qj(t,e){const r=Ne(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const o=a.j_.indexOf(e);o>=0&&(a.j_.splice(o,1),a.j_.length===0?i=e.J_()?0:1:!a.H_()&&e.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function Jz(t,e){const r=Ne(t);let n=!1;for(const i of e){const a=i.query,o=r.queries.get(a);if(o){for(const s of o.j_)s.X_(i)&&(n=!0);o.z_=i}}n&&H_(r)}function Zz(t,e,r){const n=Ne(t),i=n.queries.get(e);if(i)for(const a of i.j_)a.onError(r);n.queries.delete(e)}function H_(t){t.Y_.forEach(e=>{e.next()})}var Ob,tA;(tA=Ob||(Ob={})).ea="default",tA.Cache="cache";class Hj{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new Vl(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=Vl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Ob.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{constructor(e){this.key=e}}class Gj{constructor(e){this.key=e}}class e7{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Fe(),this.mutatedKeys=Fe(),this.Aa=hj(e),this.Ra=new _l(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new ZT,i=r?r.Ra:this.Ra;let a=r?r.mutatedKeys:this.mutatedKeys,o=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,f)=>{const h=i.get(u),p=Ig(this.query,f)?f:null,g=!!h&&this.mutatedKeys.has(h.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let b=!1;h&&p?h.data.isEqual(p.data)?g!==y&&(n.track({type:3,doc:p}),b=!0):this.ga(h,p)||(n.track({type:2,doc:p}),b=!0,(l&&this.Aa(p,l)>0||c&&this.Aa(p,c)<0)&&(s=!0)):!h&&p?(n.track({type:0,doc:p}),b=!0):h&&!p&&(n.track({type:1,doc:h}),b=!0,(l||c)&&(s=!0)),b&&(p?(o=o.add(p),a=y?a.add(u):a.delete(u)):(o=o.delete(u),a=a.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),a=a.delete(u.key),n.track({type:1,doc:u})}return{Ra:o,fa:n,ns:s,mutatedKeys:a}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((u,f)=>function(p,g){const y=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie()}};return y(p)-y(g)}(u.type,f.type)||this.Aa(u.doc,f.doc)),this.pa(n),i=i!=null&&i;const s=r&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new Vl(this.query,e.Ra,a,o,e.mutatedKeys,l===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:s}:{wa:s}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new ZT,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Fe(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new Gj(n))}),this.da.forEach(n=>{e.has(n)||r.push(new Kj(n))}),r}ba(e){this.Ta=e.Ts,this.da=Fe();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return Vl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class t7{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class r7{constructor(e){this.key=e,this.va=!1}}class n7{constructor(e,r,n,i,a,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new pc(s=>dj(s),Pg),this.Ma=new Map,this.xa=new Set,this.Oa=new Ct(we.comparator),this.Na=new Map,this.La=new $_,this.Ba={},this.ka=new Map,this.qa=Fl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function i7(t,e,r=!0){const n=eD(t);let i;const a=n.Fa.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await Xj(n,e,r,!0),i}async function a7(t,e){const r=eD(t);await Xj(r,e,!0,!1)}async function Xj(t,e,r,n){const i=await Az(t.localStore,mi(e)),a=i.targetId,o=r?t.sharedClientState.addLocalQueryTarget(a):"not-current";let s;return n&&(s=await o7(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&r&&Lj(t.remoteStore,i),s}async function o7(t,e,r,n,i){t.Ka=(f,h,p)=>async function(y,b,_,v){let x=b.view.ma(_);x.ns&&(x=await XT(y.localStore,b.query,!1).then(({documents:S})=>b.view.ma(S,x)));const k=v&&v.targetChanges.get(b.targetId),T=v&&v.targetMismatches.get(b.targetId)!=null,C=b.view.applyChanges(x,y.isPrimaryClient,k,T);return nA(y,b.targetId,C.wa),C.snapshot}(t,f,h,p);const a=await XT(t.localStore,e,!0),o=new e7(e,a.Ts),s=o.ma(a.documents),l=Ed.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),c=o.applyChanges(s,t.isPrimaryClient,l);nA(t,r,c.wa);const u=new t7(e,r,o);return t.Fa.set(e,u),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),c.snapshot}async function s7(t,e,r){const n=Ne(t),i=n.Fa.get(e),a=n.Ma.get(i.targetId);if(a.length>1)return n.Ma.set(i.targetId,a.filter(o=>!Pg(o,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Ib(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&V_(n.remoteStore,i.targetId),Cb(n,i.targetId)}).catch(wd)):(Cb(n,i.targetId),await Ib(n.localStore,i.targetId,!0))}async function l7(t,e){const r=Ne(t),n=r.Fa.get(e),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),V_(r.remoteStore,n.targetId))}async function c7(t,e,r){const n=g7(t);try{const i=await function(o,s){const l=Ne(o),c=st.now(),u=s.reduce((p,g)=>p.add(g.key),Fe());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=ra(),y=Fe();return l.cs.getEntries(p,u).next(b=>{g=b,g.forEach((_,v)=>{v.isValidDocument()||(y=y.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(b=>{f=b;const _=[];for(const v of s){const x=C8(v,f.get(v.key).overlayedDocument);x!=null&&_.push(new go(v.key,x,ij(x.value.mapValue),Pn.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,_,s)}).next(b=>{h=b;const _=b.applyToLocalDocumentSet(f,y);return l.documentOverlayCache.saveOverlays(p,b.batchId,_)})}).then(()=>({batchId:h.batchId,changes:mj(f)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(o,s,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new Ct(Qe)),c=c.insert(s,l),o.Ba[o.currentUser.toKey()]=c}(n,i.batchId,r),await Td(n,i.changes),await Dg(n.remoteStore)}catch(i){const a=q_(i,"Failed to persist write");r.reject(a)}}async function Yj(t,e){const r=Ne(t);try{const n=await Ez(r.localStore,e);e.targetChanges.forEach((i,a)=>{const o=r.Na.get(a);o&&(ut(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?ut(o.va):i.removedDocuments.size>0&&(ut(o.va),o.va=!1))}),await Td(r,n,e)}catch(n){await wd(n)}}function rA(t,e,r){const n=Ne(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach((a,o)=>{const s=o.view.Z_(e);s.snapshot&&i.push(s.snapshot)}),function(o,s){const l=Ne(o);l.onlineState=s;let c=!1;l.queries.forEach((u,f)=>{for(const h of f.j_)h.Z_(s)&&(c=!0)}),c&&H_(l)}(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function u7(t,e,r){const n=Ne(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Na.get(e),a=i&&i.key;if(a){let o=new Ct(we.comparator);o=o.insert(a,Sr.newNoDocument(a,Oe.min()));const s=Fe().add(a),l=new Ng(Oe.min(),new Map,new Ct(Qe),o,s);await Yj(n,l),n.Oa=n.Oa.remove(a),n.Na.delete(e),K_(n)}else await Ib(n.localStore,e,!1).then(()=>Cb(n,e,r)).catch(wd)}async function f7(t,e){const r=Ne(t),n=e.batch.batchId;try{const i=await kz(r.localStore,e);Jj(r,n,null),Qj(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Td(r,i)}catch(i){await wd(i)}}async function d7(t,e,r){const n=Ne(t);try{const i=await function(o,s){const l=Ne(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,s).next(f=>(ut(f!==null),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(n.localStore,e);Jj(n,e,r),Qj(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Td(n,i)}catch(i){await wd(i)}}function Qj(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function Jj(t,e,r){const n=Ne(t);let i=n.Ba[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function Cb(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||Zj(t,n)})}function Zj(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(V_(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),K_(t))}function nA(t,e,r){for(const n of r)n instanceof Kj?(t.La.addReference(n.key,e),h7(t,n)):n instanceof Gj?(ve("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||Zj(t,n.key)):Ie()}function h7(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(ve("SyncEngine","New document in limbo: "+r),t.xa.add(n),K_(t))}function K_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new we(xt.fromString(e)),n=t.qa.next();t.Na.set(n,new r7(r)),t.Oa=t.Oa.insert(r,n),Lj(t.remoteStore,new Fa(mi(C_(r.path)),n,"TargetPurposeLimboResolution",S_.oe))}}async function Td(t,e,r){const n=Ne(t),i=[],a=[],o=[];n.Fa.isEmpty()||(n.Fa.forEach((s,l)=>{o.push(n.Ka(l,e,r).then(c=>{var u;if((c||r)&&n.isPrimaryClient){const f=c?!c.fromCache:(u=r==null?void 0:r.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=F_.Wi(l.targetId,c);a.push(f)}}))}),await Promise.all(o),n.Ca.d_(i),await async function(l,c){const u=Ne(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ie.forEach(c,h=>ie.forEach(h.$i,p=>u.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>ie.forEach(h.Ui,p=>u.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!_d(f))throw f;ve("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const p=u.os.get(h),g=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(g);u.os=u.os.insert(h,y)}}}(n.localStore,a))}async function p7(t,e){const r=Ne(t);if(!r.currentUser.isEqual(e)){ve("SyncEngine","User change. New user:",e.toKey());const n=await jj(r.localStore,e);r.currentUser=e,function(a,o){a.ka.forEach(s=>{s.forEach(l=>{l.reject(new he(te.CANCELLED,o))})}),a.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Td(r,n.hs)}}function m7(t,e){const r=Ne(t),n=r.Na.get(e);if(n&&n.va)return Fe().add(n.key);{let i=Fe();const a=r.Ma.get(e);if(!a)return i;for(const o of a){const s=r.Fa.get(o);i=i.unionWith(s.view.Va)}return i}}function eD(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Yj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=m7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=u7.bind(null,e),e.Ca.d_=Jz.bind(null,e.eventManager),e.Ca.$a=Zz.bind(null,e.eventManager),e}function g7(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=f7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=d7.bind(null,e),e}class iA{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Rg(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,r){return null}createIndexBackfillerScheduler(e,r){return null}createLocalStore(e){return _z(this.persistence,new xz,e.initialUser,this.serializer)}createPersistence(e){return new yz(L_.Zr,this.serializer)}createSharedClientState(e){return new Iz}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class y7{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>rA(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=p7.bind(null,this.syncEngine),await Xz(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Qz}()}createDatastore(e){const r=Rg(e.databaseInfo.databaseId),n=function(a){return new Rz(a)}(e.databaseInfo);return function(a,o,s,l){return new Mz(a,o,s,l)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,a,o,s){return new Lz(n,i,a,o,s)}(this.localStore,this.datastore,e.asyncQueue,r=>rA(this.syncEngine,r,0),function(){return QT.D()?new QT:new Oz}())}createSyncEngine(e,r){return function(i,a,o,s,l,c,u){const f=new n7(i,a,o,s,l,c);return u&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const a=Ne(i);ve("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await Sd(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):ta("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v7{constructor(e,r,n,i){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=_r.UNAUTHENTICATED,this.clientId=tj.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,async a=>{ve("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(n,a=>(ve("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new he(te.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=q_(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Mv(t,e){t.asyncQueue.verifyOperationInProgress(),ve("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await jj(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function aA(t,e){t.asyncQueue.verifyOperationInProgress();const r=await x7(t);ve("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>JT(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>JT(e.remoteStore,i)),t._onlineComponents=e}function b7(t){return t.name==="FirebaseError"?t.code===te.FAILED_PRECONDITION||t.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function x7(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ve("FirestoreClient","Using user provided OfflineComponentProvider");try{await Mv(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!b7(r))throw r;Dl("Error using user provided cache. Falling back to memory cache: "+r),await Mv(t,new iA)}}else ve("FirestoreClient","Using default OfflineComponentProvider"),await Mv(t,new iA);return t._offlineComponents}async function rD(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ve("FirestoreClient","Using user provided OnlineComponentProvider"),await aA(t,t._uninitializedComponentsProvider._online)):(ve("FirestoreClient","Using default OnlineComponentProvider"),await aA(t,new y7))),t._onlineComponents}function w7(t){return rD(t).then(e=>e.syncEngine)}async function nD(t){const e=await rD(t),r=e.eventManager;return r.onListen=i7.bind(null,e.syncEngine),r.onUnlisten=s7.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=a7.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=l7.bind(null,e.syncEngine),r}function _7(t,e,r={}){const n=new qi;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,c){const u=new tD({next:h=>{o.enqueueAndForget(()=>qj(a,f));const p=h.docs.has(s);!p&&h.fromCache?c.reject(new he(te.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?c.reject(new he(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new Hj(C_(s.path),u,{includeMetadataChanges:!0,_a:!0});return Wj(a,f)}(await nD(t),t.asyncQueue,e,r,n)),n.promise}function k7(t,e,r={}){const n=new qi;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,c){const u=new tD({next:h=>{o.enqueueAndForget(()=>qj(a,f)),h.fromCache&&l.source==="server"?c.reject(new he(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new Hj(s,u,{includeMetadataChanges:!0,_a:!0});return Wj(a,f)}(await nD(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aD(t,e,r){if(!r)throw new he(te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function E7(t,e,r,n){if(e===!0&&n===!0)throw new he(te.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function sA(t){if(!we.isDocumentKey(t))throw new he(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function lA(t){if(we.isDocumentKey(t))throw new he(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Mg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ie()}function Yn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new he(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Mg(t);throw new he(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new he(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new he(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}E7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iD((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $g{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cA({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new he(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new he(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cA(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new V9;switch(n.type){case"firstParty":return new W9(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new he(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=oA.get(r);n&&(ve("ComponentProvider","Removing Datastore"),oA.delete(r),n.terminate())}(this),Promise.resolve()}}function S7(t,e,r,n={}){var i;const a=(t=Yn(t,$g))._getSettings(),o=`${e}:${r}`;if(a.host!=="firestore.googleapis.com"&&a.host!==o&&Dl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),n.mockUserToken){let s,l;if(typeof n.mockUserToken=="string")s=n.mockUserToken,l=_r.MOCK_USER;else{s=sR(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=n.mockUserToken.sub||n.mockUserToken.user_id;if(!c)throw new he(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new _r(c)}t._authCredentials=new U9(new ej(s,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new ks(this.firestore,e,this._query)}}class Vr{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ja(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vr(this.firestore,e,this._key)}}class Ja extends ks{constructor(e,r,n){super(e,r,C_(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vr(this.firestore,null,new we(e))}withConverter(e){return new Ja(this.firestore,e,this._path)}}function Jr(t,e,...r){if(t=Ot(t),aD("collection","path",e),t instanceof $g){const n=xt.fromString(e,...r);return lA(n),new Ja(t,null,n)}{if(!(t instanceof Vr||t instanceof Ja))throw new he(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(xt.fromString(e,...r));return lA(n),new Ja(t.firestore,null,n)}}function Tt(t,e,...r){if(t=Ot(t),arguments.length===1&&(e=tj.newId()),aD("doc","path",e),t instanceof $g){const n=xt.fromString(e,...r);return sA(n),new Vr(t,null,new we(n))}{if(!(t instanceof Vr||t instanceof Ja))throw new he(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(xt.fromString(e,...r));return sA(n),new Vr(t.firestore,t instanceof Ja?t.converter:null,new we(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new Mj(this,"async_queue_retry"),this.Eu=()=>{const r=Dv();r&&ve("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()};const e=Dv();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const r=Dv();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const r=new qi;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!_d(e))throw e;ve("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const r=this.au.then(()=>(this.Pu=!0,e().catch(n=>{this.hu=n,this.Pu=!1;const i=function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),s}(n);throw ta("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.Pu=!1,n))));return this.au=r,r}enqueueAfterDelay(e,r,n){this.du(),this.Tu.indexOf(e)>-1&&(r=0);const i=W_.createAndSchedule(this,e,r,n,a=>this.Vu(a));return this.lu.push(i),i}du(){this.hu&&Ie()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const r of this.lu)if(r.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.lu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const r=this.lu.indexOf(e);this.lu.splice(r,1)}}class Es extends $g{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=function(){return new T7}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||oD(this),this._firestoreClient.terminate()}}function A7(t,e){const r=typeof t=="object"?t:p_(),n=typeof t=="string"?t:"(default)",i=kg(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=iR("firestore");a&&S7(i,...a)}return i}function G_(t){return t._firestoreClient||oD(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function oD(t){var e,r,n;const i=t._freezeSettings(),a=function(s,l,c,u){return new n8(s,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,iD(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new v7(t._authCredentials,t._appCheckCredentials,t._queue,a),!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ul(mr.fromBase64String(e))}catch(r){throw new he(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Ul(mr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new he(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new he(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new he(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P7=/^__.*__$/;class I7{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new go(e,this.data,this.fieldMask,r,this.fieldTransforms):new kd(e,this.data,r,this.fieldTransforms)}}class sD{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new go(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function lD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie()}}class J_{constructor(e,r,n,i,a,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.yu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new J_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Su({path:n,Du:!1});return i.vu(e),i}Cu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Su({path:n,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return sm(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(lD(this.wu)&&P7.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class O7{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||Rg(e)}Nu(e,r,n,i=!1){return new J_({wu:e,methodName:r,Ou:n,path:fr.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fg(t){const e=t._freezeSettings(),r=Rg(t._databaseId);return new O7(t._databaseId,!!e.ignoreUndefinedProperties,r)}function cD(t,e,r,n,i,a={}){const o=t.Nu(a.merge||a.mergeFields?2:0,e,r,i);Z_("Data must be an object, but it was:",o,n);const s=uD(n,o);let l,c;if(a.merge)l=new ln(o.fieldMask),c=o.fieldTransforms;else if(a.mergeFields){const u=[];for(const f of a.mergeFields){const h=Nb(e,f,r);if(!o.contains(h))throw new he(te.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);dD(u,h)||u.push(h)}l=new ln(u),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new I7(new Hr(s),l,c)}class Vg extends X_{_toFieldTransform(e){if(e.wu!==2)throw e.wu===1?e.Mu(`${this._methodName}() can only appear at the top level of your update data`):e.Mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vg}}function C7(t,e,r,n){const i=t.Nu(1,e,r);Z_("Data must be an object, but it was:",i,n);const a=[],o=Hr.empty();ws(n,(l,c)=>{const u=e1(e,l,r);c=Ot(c);const f=i.Cu(u);if(c instanceof Vg)a.push(u);else{const h=Ad(c,f);h!=null&&(a.push(u),o.set(u,h))}});const s=new ln(a);return new sD(o,s,i.fieldTransforms)}function N7(t,e,r,n,i,a){const o=t.Nu(1,e,r),s=[Nb(e,n,r)],l=[i];if(a.length%2!=0)throw new he(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<a.length;h+=2)s.push(Nb(e,a[h])),l.push(a[h+1]);const c=[],u=Hr.empty();for(let h=s.length-1;h>=0;--h)if(!dD(c,s[h])){const p=s[h];let g=l[h];g=Ot(g);const y=o.Cu(p);if(g instanceof Vg)c.push(p);else{const b=Ad(g,y);b!=null&&(c.push(p),u.set(p,b))}}const f=new ln(c);return new sD(u,f,o.fieldTransforms)}function R7(t,e,r,n=!1){return Ad(r,t.Nu(n?4:3,e))}function Ad(t,e){if(fD(t=Ot(t)))return Z_("Unsupported field value:",e,t),uD(t,e);if(t instanceof X_)return function(n,i){if(!lD(i.wu))throw i.Mu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(n,i){const a=[];let o=0;for(const s of n){let l=Ad(s,i.Fu(o));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),o++}return{arrayValue:{values:a}}}(t,e)}return function(n,i){if((n=Ot(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return S8(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=st.fromDate(n);return{timestampValue:am(i.serializer,a)}}if(n instanceof st){const a=new st(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:am(i.serializer,a)}}if(n instanceof Y_)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ul)return{bytesValue:Aj(i.serializer,n._byteString)};if(n instanceof Vr){const a=i.databaseId,o=n.firestore._databaseId;if(!o.isEqual(a))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:M_(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof Q_)return function(o,s){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw s.Mu("VectorValues must only contain numeric values.");return N_(s.serializer,l)})}}}}}}(n,i);throw i.Mu(`Unsupported field value: ${Mg(n)}`)}(t,e)}function uD(t,e){const r={};return rj(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ws(t,(n,i)=>{const a=Ad(i,e.bu(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function fD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof st||t instanceof Y_||t instanceof Ul||t instanceof Vr||t instanceof X_||t instanceof Q_)}function Z_(t,e,r){if(!fD(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=Mg(r);throw n==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+n)}}function Nb(t,e,r){if((e=Ot(e))instanceof Lg)return e._internalPath;if(typeof e=="string")return e1(t,e);throw sm("Field path arguments must be of type string or ",t,!1,void 0,r)}const j7=new RegExp("[~\\*/\\[\\]]");function e1(t,e,r){if(e.search(j7)>=0)throw sm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Lg(...e.split("."))._internalPath}catch{throw sm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function sm(t,e,r,n,i){const a=n&&!n.isEmpty(),o=i!==void 0;let s=`Function ${e}() called with invalid data`;r&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(a||o)&&(l+=" (found",a&&(l+=` in field ${n}`),o&&(l+=` in document ${i}`),l+=")"),new he(te.INVALID_ARGUMENT,s+t+l)}function dD(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Vr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new D7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(t1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class D7 extends hD{data(){return super.data()}}function t1(t,e){return typeof e=="string"?e1(t,e):e instanceof Lg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M7(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new he(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class r1{}class pD extends r1{}function mD(t,e,...r){let n=[];e instanceof r1&&n.push(e),n=n.concat(r),function(a){const o=a.filter(l=>l instanceof i1).length,s=a.filter(l=>l instanceof n1).length;if(o>1||o>0&&s>0)throw new he(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class n1 extends pD{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new n1(e,r,n)}_apply(e){const r=this._parse(e);return yD(e._query,r),new ks(e.firestore,e.converter,kb(e._query,r))}_parse(e){const r=Fg(e.firestore);return function(a,o,s,l,c,u,f){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new he(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){fA(f,u);const p=[];for(const g of f)p.push(uA(l,a,g));h={arrayValue:{values:p}}}else h=uA(l,a,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||fA(f,u),h=R7(s,o,f,u==="in"||u==="not-in");return zt.create(c,u,h)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}class i1 extends r1{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new i1(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:Xn.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,a){let o=i;const s=a.getFlattenedFilters();for(const l of s)yD(o,l),o=kb(o,l)}(e._query,r),new ks(e.firestore,e.converter,kb(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class a1 extends pD{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new a1(e,r)}_apply(e){const r=function(i,a,o){if(i.startAt!==null)throw new he(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new he(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wf(a,o)}(e._query,this._field,this._direction);return new ks(e.firestore,e.converter,function(i,a){const o=i.explicitOrderBy.concat([a]);return new hc(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function gD(t,e="asc"){const r=e,n=t1("orderBy",t);return a1._create(n,r)}function uA(t,e,r){if(typeof(r=Ot(r))=="string"){if(r==="")throw new he(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fj(e)&&r.indexOf("/")!==-1)throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(xt.fromString(r));if(!we.isDocumentKey(n))throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return NT(t,new we(n))}if(r instanceof Vr)return NT(t,r._key);throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mg(r)}.`)}function fA(t,e){if(!Array.isArray(t)||t.length===0)throw new he(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function yD(t,e){const r=function(i,a){for(const o of i)for(const s of o.getFlattenedFilters())if(a.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new he(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class $7{convertValue(e,r="none"){switch(ls(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(ss(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return ws(e,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(e){var r,n,i;const a=(i=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(o=>Lt(o.doubleValue));return new Q_(a)}convertGeoPoint(e){return new Y_(Lt(e.latitude),Lt(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=A_(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(vf(e));default:return null}}convertTimestamp(e){const r=oo(e);return new st(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=xt.fromString(e);ut(Rj(n));const i=new bf(n.get(1),n.get(3)),a=new we(n.popFirst(5));return i.isEqual(r)||ta(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bD extends hD{constructor(e,r,n,i,a,o){super(e,r,n,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new fp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(t1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class fp extends bD{data(e={}){return super.data(e)}}class L7{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new vu(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new fp(this._firestore,this._userDataWriter,n.key,n,new vu(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new he(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(s=>{const l=new fp(i._firestore,i._userDataWriter,s.doc.key,s.doc,new vu(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>a||s.type!==3).map(s=>{const l=new fp(i._firestore,i._userDataWriter,s.doc.key,s.doc,new vu(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return s.type!==0&&(c=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),u=o.indexOf(s.doc.key)),{type:F7(s.type),doc:l,oldIndex:c,newIndex:u}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function F7(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yo(t){t=Yn(t,Vr);const e=Yn(t.firestore,Es);return _7(G_(e),t._key).then(r=>V7(e,t,r))}class xD extends $7{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ul(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Vr(this.firestore,null,r)}}function _i(t){t=Yn(t,ks);const e=Yn(t.firestore,Es),r=G_(e),n=new xD(e);return M7(t._query),k7(r,t._query).then(i=>new L7(e,n,t,i))}function wD(t,e,r){t=Yn(t,Vr);const n=Yn(t.firestore,Es),i=vD(t.converter,e,r);return Bg(n,[cD(Fg(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,Pn.none())])}function vo(t,e,r,...n){t=Yn(t,Vr);const i=Yn(t.firestore,Es),a=Fg(i);let o;return o=typeof(e=Ot(e))=="string"||e instanceof Lg?N7(a,"updateDoc",t._key,e,r,n):C7(a,"updateDoc",t._key,e),Bg(i,[o.toMutation(t._key,Pn.exists(!0))])}function Ug(t){return Bg(Yn(t.firestore,Es),[new R_(t._key,Pn.none())])}function o1(t,e){const r=Yn(t.firestore,Es),n=Tt(t),i=vD(t.converter,e);return Bg(r,[cD(Fg(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,Pn.exists(!1))]).then(()=>n)}function Bg(t,e){return function(n,i){const a=new qi;return n.asyncQueue.enqueueAndForget(async()=>c7(await w7(n),i,a)),a.promise}(G_(t),e)}function V7(t,e,r){const n=r.docs.get(e._key),i=new xD(t);return new bD(t,i,e._key,n,new vu(r.hasPendingWrites,r.fromCache),e.converter)}(function(e,r=!0){(function(i){dc=i})(bs),ns(new io("firestore",(n,{instanceIdentifier:i,options:a})=>{const o=n.getProvider("app").getImmediate(),s=new Es(new B9(n.getProvider("auth-internal")),new H9(n.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new he(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bf(c.options.projectId,u)}(o,i),o);return a=Object.assign({useFetchStreams:r},a),s._setSettings(a),s},"PUBLIC").setMultipleInstances(!0)),di(AT,"4.7.1",e),di(AT,"4.7.1","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D="firebasestorage.googleapis.com",kD="storageBucket",U7=2*60*1e3,B7=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt extends wi{constructor(e,r,n=0){super($v(e),`Firebase Storage: ${r} (${$v(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Dt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return $v(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var jt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(jt||(jt={}));function $v(t){return"storage/"+t}function s1(){const t="An unknown error occurred, please check the error payload for server response.";return new Dt(jt.UNKNOWN,t)}function z7(t){return new Dt(jt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function W7(t){return new Dt(jt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function q7(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Dt(jt.UNAUTHENTICATED,t)}function H7(){return new Dt(jt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function K7(t){return new Dt(jt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function G7(){return new Dt(jt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function X7(){return new Dt(jt.CANCELED,"User canceled the upload/download.")}function Y7(t){return new Dt(jt.INVALID_URL,"Invalid URL '"+t+"'.")}function Q7(t){return new Dt(jt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function J7(){return new Dt(jt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+kD+"' property when initializing the app?")}function Z7(){return new Dt(jt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function eW(){return new Dt(jt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function tW(t){return new Dt(jt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Rb(t){return new Dt(jt.INVALID_ARGUMENT,t)}function ED(){return new Dt(jt.APP_DELETED,"The Firebase app was deleted.")}function rW(t){return new Dt(jt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function $u(t,e){return new Dt(jt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Qc(t){throw new Dt(jt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=Dr.makeFromUrl(e,r)}catch{return new Dr(e,"")}if(n.path==="")return n;throw Q7(e)}static makeFromUrl(e,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function a(k){k.path.charAt(k.path.length-1)==="/"&&(k.path_=k.path_.slice(0,-1))}const o="(/(.*))?$",s=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(k){k.path_=decodeURIComponent(k.path)}const u="v[A-Za-z0-9_]+",f=r.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${u}/b/${i}/o${h}`,"i"),g={bucket:1,path:3},y=r===_D?"(?:storage.googleapis.com|storage.cloud.google.com)":r,b="([^?#]*)",_=new RegExp(`^https?://${y}/${i}/${b}`,"i"),x=[{regex:s,indices:l,postModify:a},{regex:p,indices:g,postModify:c},{regex:_,indices:{bucket:1,path:2},postModify:c}];for(let k=0;k<x.length;k++){const T=x[k],C=T.regex.exec(e);if(C){const S=C[T.indices.bucket];let E=C[T.indices.path];E||(E=""),n=new Dr(S,E),T.postModify(n);break}}if(n==null)throw Y7(e);return n}}class nW{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iW(t,e,r){let n=1,i=null,a=null,o=!1,s=0;function l(){return s===2}let c=!1;function u(...b){c||(c=!0,e.apply(null,b))}function f(b){i=setTimeout(()=>{i=null,t(p,l())},b)}function h(){a&&clearTimeout(a)}function p(b,..._){if(c){h();return}if(b){h(),u.call(null,b,..._);return}if(l()||o){h(),u.call(null,b,..._);return}n<64&&(n*=2);let x;s===1?(s=2,x=0):x=(n+Math.random())*1e3,f(x)}let g=!1;function y(b){g||(g=!0,h(),!c&&(i!==null?(b||(s=2),clearTimeout(i),f(0)):b||(s=1)))}return f(0),a=setTimeout(()=>{o=!0,y(!0)},r),y}function aW(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oW(t){return t!==void 0}function sW(t){return typeof t=="object"&&!Array.isArray(t)}function l1(t){return typeof t=="string"||t instanceof String}function dA(t){return c1()&&t instanceof Blob}function c1(){return typeof Blob<"u"}function jb(t,e,r,n){if(n<e)throw Rb(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw Rb(`Invalid value for '${t}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg(t,e,r){let n=e;return r==null&&(n=`https://${e}`),`${r}://${n}/v0${t}`}function SD(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const i=e(n)+"="+e(t[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var Xo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Xo||(Xo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lW(t,e){const r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return r||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cW{constructor(e,r,n,i,a,o,s,l,c,u,f,h=!0){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=f,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,g)=>{this.resolve_=p,this.reject_=g,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new Sh(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=s=>{const l=s.loaded,c=s.lengthComputable?s.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const s=a.getErrorCode()===Xo.NO_ERROR,l=a.getStatus();if(!s||lW(l,this.additionalRetryCodes_)&&this.retry){const u=a.getErrorCode()===Xo.ABORT;n(!1,new Sh(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;n(!0,new Sh(c,a))})},r=(n,i)=>{const a=this.resolve_,o=this.reject_,s=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(s,s.getResponse());oW(l)?a(l):a()}catch(l){o(l)}else if(s!==null){const l=s1();l.serverResponse=s.getErrorText(),this.errorCallback_?o(this.errorCallback_(s,l)):o(l)}else if(i.canceled){const l=this.appDelete_?ED():X7();o(l)}else{const l=G7();o(l)}};this.canceled_?r(!1,new Sh(!1,null,!0)):this.backoffId_=iW(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&aW(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Sh{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function uW(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function fW(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function dW(t,e){e&&(t["X-Firebase-GMPID"]=e)}function hW(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function pW(t,e,r,n,i,a,o=!0){const s=SD(t.urlParams),l=t.url+s,c=Object.assign({},t.headers);return dW(c,e),uW(c,r),fW(c,a),hW(c,n),new cW(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mW(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function gW(...t){const e=mW();if(e!==void 0){const r=new e;for(let n=0;n<t.length;n++)r.append(t[n]);return r.getBlob()}else{if(c1())return new Blob(t);throw new Dt(jt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function yW(t,e,r){return t.webkitSlice?t.webkitSlice(e,r):t.mozSlice?t.mozSlice(e,r):t.slice?t.slice(e,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vW(t){if(typeof atob>"u")throw tW("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Lv{constructor(e,r){this.data=e,this.contentType=r||null}}function bW(t,e){switch(t){case li.RAW:return new Lv(TD(e));case li.BASE64:case li.BASE64URL:return new Lv(AD(t,e));case li.DATA_URL:return new Lv(wW(e),_W(e))}throw s1()}function TD(t){const e=[];for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(r<t.length-1&&(t.charCodeAt(r+1)&64512)===56320))e.push(239,191,189);else{const a=n,o=t.charCodeAt(++r);n=65536|(a&1023)<<10|o&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function xW(t){let e;try{e=decodeURIComponent(t)}catch{throw $u(li.DATA_URL,"Malformed data URL.")}return TD(e)}function AD(t,e){switch(t){case li.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw $u(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case li.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw $u(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=vW(e)}catch(i){throw i.message.includes("polyfill")?i:$u(t,"Invalid character found")}const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}class PD{constructor(e){this.base64=!1,this.contentType=null;const r=e.match(/^data:([^,]+)?,/);if(r===null)throw $u(li.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=r[1]||null;n!=null&&(this.base64=kW(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function wW(t){const e=new PD(t);return e.base64?AD(li.BASE64,e.rest):xW(e.rest)}function _W(t){return new PD(t).contentType}function kW(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,r){let n=0,i="";dA(e)?(this.data_=e,n=e.size,i=e.type):e instanceof ArrayBuffer?(r?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(r?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,r){if(dA(this.data_)){const n=this.data_,i=yW(n,e,r);return i===null?null:new Ra(i)}else{const n=new Uint8Array(this.data_.buffer,e,r-e);return new Ra(n,!0)}}static getBlob(...e){if(c1()){const r=e.map(n=>n instanceof Ra?n.data_:n);return new Ra(gW.apply(null,r))}else{const r=e.map(o=>l1(o)?bW(li.RAW,o).data:o.data_);let n=0;r.forEach(o=>{n+=o.byteLength});const i=new Uint8Array(n);let a=0;return r.forEach(o=>{for(let s=0;s<o.length;s++)i[a++]=o[s]}),new Ra(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(t){let e;try{e=JSON.parse(t)}catch{return null}return sW(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EW(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function SW(t,e){const r=e.split("/").filter(n=>n.length>0).join("/");return t.length===0?r:t+"/"+r}function ID(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TW(t,e){return e}class Cr{constructor(e,r,n,i){this.server=e,this.local=r||e,this.writable=!!n,this.xform=i||TW}}let Th=null;function AW(t){return!l1(t)||t.length<2?t:ID(t)}function OD(){if(Th)return Th;const t=[];t.push(new Cr("bucket")),t.push(new Cr("generation")),t.push(new Cr("metageneration")),t.push(new Cr("name","fullPath",!0));function e(a,o){return AW(o)}const r=new Cr("name");r.xform=e,t.push(r);function n(a,o){return o!==void 0?Number(o):o}const i=new Cr("size");return i.xform=n,t.push(i),t.push(new Cr("timeCreated")),t.push(new Cr("updated")),t.push(new Cr("md5Hash",null,!0)),t.push(new Cr("cacheControl",null,!0)),t.push(new Cr("contentDisposition",null,!0)),t.push(new Cr("contentEncoding",null,!0)),t.push(new Cr("contentLanguage",null,!0)),t.push(new Cr("contentType",null,!0)),t.push(new Cr("metadata","customMetadata",!0)),Th=t,Th}function PW(t,e){function r(){const n=t.bucket,i=t.fullPath,a=new Dr(n,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:r})}function IW(t,e,r){const n={};n.type="file";const i=r.length;for(let a=0;a<i;a++){const o=r[a];n[o.local]=o.xform(n,e[o.server])}return PW(n,t),n}function CD(t,e,r){const n=u1(e);return n===null?null:IW(t,n,r)}function OW(t,e,r,n){const i=u1(e);if(i===null||!l1(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const o=encodeURIComponent;return a.split(",").map(c=>{const u=t.bucket,f=t.fullPath,h="/b/"+o(u)+"/o/"+o(f),p=zg(h,r,n),g=SD({alt:"media",token:c});return p+g})[0]}function CW(t,e){const r={},n=e.length;for(let i=0;i<n;i++){const a=e[i];a.writable&&(r[a.server]=t[a.local])}return JSON.stringify(r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA="prefixes",pA="items";function NW(t,e,r){const n={prefixes:[],items:[],nextPageToken:r.nextPageToken};if(r[hA])for(const i of r[hA]){const a=i.replace(/\/$/,""),o=t._makeStorageReference(new Dr(e,a));n.prefixes.push(o)}if(r[pA])for(const i of r[pA]){const a=t._makeStorageReference(new Dr(e,i.name));n.items.push(a)}return n}function RW(t,e,r){const n=u1(r);return n===null?null:NW(t,e,n)}class f1{constructor(e,r,n,i){this.url=e,this.method=r,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(t){if(!t)throw s1()}function jW(t,e){function r(n,i){const a=CD(t,i,e);return d1(a!==null),a}return r}function DW(t,e){function r(n,i){const a=RW(t,e,i);return d1(a!==null),a}return r}function MW(t,e){function r(n,i){const a=CD(t,i,e);return d1(a!==null),OW(a,i,t.host,t._protocol)}return r}function h1(t){function e(r,n){let i;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?i=H7():i=q7():r.getStatus()===402?i=W7(t.bucket):r.getStatus()===403?i=K7(t.path):i=n,i.status=r.getStatus(),i.serverResponse=n.serverResponse,i}return e}function $W(t){const e=h1(t);function r(n,i){let a=e(n,i);return n.getStatus()===404&&(a=z7(t.path)),a.serverResponse=i.serverResponse,a}return r}function LW(t,e,r,n,i){const a={};e.isRoot?a.prefix="":a.prefix=e.path+"/",r.length>0&&(a.delimiter=r),n&&(a.pageToken=n),i&&(a.maxResults=i);const o=e.bucketOnlyServerUrl(),s=zg(o,t.host,t._protocol),l="GET",c=t.maxOperationRetryTime,u=new f1(s,l,DW(t,e.bucket),c);return u.urlParams=a,u.errorHandler=h1(e),u}function FW(t,e,r){const n=e.fullServerUrl(),i=zg(n,t.host,t._protocol),a="GET",o=t.maxOperationRetryTime,s=new f1(i,a,MW(t,r),o);return s.errorHandler=$W(e),s}function VW(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function UW(t,e,r){const n=Object.assign({},r);return n.fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=VW(null,e)),n}function BW(t,e,r,n,i){const a=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function s(){let x="";for(let k=0;k<2;k++)x=x+Math.random().toString().slice(2);return x}const l=s();o["Content-Type"]="multipart/related; boundary="+l;const c=UW(e,n,i),u=CW(c,r),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,h=`\r
--`+l+"--",p=Ra.getBlob(f,n,h);if(p===null)throw Z7();const g={name:c.fullPath},y=zg(a,t.host,t._protocol),b="POST",_=t.maxUploadRetryTime,v=new f1(y,b,jW(t,r),_);return v.urlParams=g,v.headers=o,v.body=p.uploadData(),v.errorHandler=h1(e),v}class zW{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Xo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Xo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Xo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,n,i){if(this.sent_)throw Qc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,e,!0),i!==void 0)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return n!==void 0?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Qc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Qc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Qc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Qc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class WW extends zW{initXhr(){this.xhr_.responseType="text"}}function p1(){return new WW}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e,r){this._service=e,r instanceof Dr?this._location=r:this._location=Dr.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new cs(e,r)}get root(){const e=new Dr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ID(this._location.path)}get storage(){return this._service}get parent(){const e=EW(this._location.path);if(e===null)return null;const r=new Dr(this._location.bucket,e);return new cs(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw rW(e)}}function qW(t,e,r){t._throwIfRoot("uploadBytes");const n=BW(t.storage,t._location,OD(),new Ra(e,!0),r);return t.storage.makeRequestWithTokens(n,p1).then(i=>({metadata:i,ref:t}))}function HW(t){const e={prefixes:[],items:[]};return ND(t,e).then(()=>e)}async function ND(t,e,r){const i=await KW(t,{pageToken:r});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&await ND(t,e,i.nextPageToken)}function KW(t,e){e!=null&&typeof e.maxResults=="number"&&jb("options.maxResults",1,1e3,e.maxResults);const r=e||{},n=LW(t.storage,t._location,"/",r.pageToken,r.maxResults);return t.storage.makeRequestWithTokens(n,p1)}function GW(t){t._throwIfRoot("getDownloadURL");const e=FW(t.storage,t._location,OD());return t.storage.makeRequestWithTokens(e,p1).then(r=>{if(r===null)throw eW();return r})}function XW(t,e){const r=SW(t._location.path,e),n=new Dr(t._location.bucket,r);return new cs(t.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YW(t){return/^[A-Za-z]+:\/\//.test(t)}function QW(t,e){return new cs(t,e)}function RD(t,e){if(t instanceof m1){const r=t;if(r._bucket==null)throw J7();const n=new cs(r,r._bucket);return e!=null?RD(n,e):n}else return e!==void 0?XW(t,e):t}function JW(t,e){if(e&&YW(e)){if(t instanceof m1)return QW(t,e);throw Rb("To use ref(service, url), the first argument must be a Storage instance.")}else return RD(t,e)}function mA(t,e){const r=e==null?void 0:e[kD];return r==null?null:Dr.makeFromBucketSpec(r,t)}function ZW(t,e,r,n={}){t.host=`${e}:${r}`,t._protocol="http";const{mockUserToken:i}=n;i&&(t._overrideAuthToken=typeof i=="string"?i:sR(i,t.app.options.projectId))}class m1{constructor(e,r,n,i,a){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=_D,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=U7,this._maxUploadRetryTime=B7,this._requests=new Set,i!=null?this._bucket=Dr.makeFromBucketSpec(i,this._host):this._bucket=mA(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Dr.makeFromBucketSpec(this._url,e):this._bucket=mA(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){jb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){jb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new cs(this,e)}_makeRequest(e,r,n,i,a=!0){if(this._deleted)return new nW(ED());{const o=pW(e,this._appId,n,i,r,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}const gA="@firebase/storage",yA="0.13.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD="storage";function eq(t,e,r){return t=Ot(t),qW(t,e,r)}function tq(t){return t=Ot(t),HW(t)}function g1(t){return t=Ot(t),GW(t)}function y1(t,e){return t=Ot(t),JW(t,e)}function rq(t=p_(),e){t=Ot(t);const n=kg(t,jD).getImmediate({identifier:e}),i=iR("storage");return i&&nq(n,...i),n}function nq(t,e,r,n={}){ZW(t,e,r,n)}function iq(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new m1(r,n,i,e,bs)}function aq(){ns(new io(jD,iq,"PUBLIC").setMultipleInstances(!0)),di(gA,yA,""),di(gA,yA,"esm2017")}aq();const oq={apiKey:"AIzaSyAoA9vGq5gsjRVqngQcfX9wDHv03MFX8Mo",authDomain:"habit-piggy-project.firebaseapp.com",projectId:"habit-piggy-project",storageBucket:"habit-piggy-project.appspot.com",messagingSenderId:"230345565651",appId:"1:230345565651:web:4f5fae0a011a8a355cbb26",measurementId:"G-D5V6H13VEM"},DD=uR(oq),et=A7(DD),v1=rq(DD),MD=em();async function sq(t,e,r,n){try{const a=(await _B(MD,t,e)).user;console.log("User created: ",a);const o=Tt(et,"users",a.uid);await wD(o,{uid:a.uid,email:a.email,account:r,name:n,introduction:"我要養成好習慣！",avatar:"https://firebasestorage.googleapis.com/v0/b/habit-piggy-project.appspot.com/o/default_avatars%2FPiggy.png?alt=media&token=abb71b06-4b8d-41ce-b087-f3aa0d3e86f9",createdTime:st.now(),levelPoints:0,isAcceptReminder:!1,isDarkMode:!1,achievements:[],badges:[]}),console.log("User data created with ID: ",a.uid),Jr(o,"habits"),console.log("Empty habits sub-collection created for user ID: ",a.uid)}catch(i){console.error("Error creating user: ",i.code,i.message)}}async function lq(){try{await TB(MD),console.log("User signed out")}catch(t){console.error("Error signing out: ",t.code,t.message)}}async function b1(t,e){try{const r=Tt(et,"users",t);await wD(r,e,{merge:!0}),console.log("User profile updated with ID: ",t)}catch(r){console.error("Error updating user profile: ",r.code,r.message)}}async function ii(t){try{const e=Tt(et,"users",t),r=await yo(e);return r.exists()?r.data():(console.log("No such document!"),{name:"Unknown",levelPoints:0,avatar:await bA("Piggy.png")})}catch(e){return console.error("Error getting user profile: ",e.code,e.message),{name:"Unknown",levelPoints:0,avatar:await bA("Piggy.png")}}}async function vA(){try{const t=Jr(et,"users");return(await _i(t)).docs.map(n=>({id:n.id,...n.data()}))}catch(t){return console.error("Error getting users: ",t.code,t.message),[]}}async function cq(t,e){try{const r=Tt(et,"users",t),n=Jr(r,"habits");await o1(n,{...e,createdTime:st.now(),updatedTime:st.now()}),console.log("Habit added for user ID: ",t)}catch(r){console.error("Error adding habit: ",r.code,r.message)}}async function us(t){try{const e=Tt(et,"users",t),r=Jr(e,"habits"),n=mD(r,gD("updatedTime","desc"));return(await _i(n)).docs.map(o=>({id:o.id,...o.data()}))}catch(e){return console.error("Error getting habits: ",e.code,e.message),[]}}async function Db(t,e,r){try{const n=Tt(et,"users",t,"habits",e);await vo(n,{...r,updatedTime:st.now()})}catch(n){console.error("Error updating habit: ",n.code,n.message)}}async function $D(t,e){try{const r=Tt(et,"users",t,"habits",e);await Ug(r),console.log("Habit deleted with ID: ",e)}catch(r){console.error("Error deleting habit: ",r.code,r.message)}}async function uq(t,e){try{const r=Jr(et,"posts"),n=await o1(r,{...e,userID:t,createdTime:st.now(),updatedTime:st.now()});return console.log("Post added with ID: ",n.id),n.id}catch(r){console.error("Error adding post: ",r.code,r.message)}}async function fq(t,e){try{const r=Tt(et,"posts",t);await vo(r,{...e,updatedTime:st.now()}),console.log("Post updated with ID: ",t)}catch(r){console.error("Error updating post: ",r.code,r.message)}}async function dq(t){try{const e=Tt(et,"posts",t);await Ug(e),console.log("Post deleted with ID: ",t)}catch(e){console.error("Error deleting post: ",e.code,e.message)}}async function Ah(){try{const t=Jr(et,"posts"),e=mD(t,gD("createdTime","desc"));return(await _i(e)).docs.map(i=>({id:i.id,...i.data()}))}catch(t){return console.error("Error getting posts: ",t.code,t.message),[]}}async function LD(t,e){try{const r=y1(v1,`avatars/${t}`),n=await eq(r,e),i=await g1(n.ref);return console.log("Avatar uploaded: ",i),i}catch(r){return console.error("Error uploading avatar: ",r.code,r.message),null}}async function bA(t){try{const e=y1(v1,`default_avatars/${t}`),r=await g1(e);return console.log("Default avatar URL: ",r),r}catch(e){return console.error("Error getting default avatar: ",e.code,e.message),"https://firebasestorage.googleapis.com/v0/b/habit-piggy-project.appspot.com/o/avatars%2FPiggy.png?alt=media&token=be62eb4e-44a3-46c5-ba6d-bba575da75a8"}}async function hq(t,e){try{const r=Tt(et,"posts",t),n=Jr(r,"comments");await o1(n,{...e,createdTime:st.now()}),console.log("Comment added to post ID: ",t)}catch(r){console.error("Error adding comment: ",r.code,r.message)}}async function Fs(t){try{const e=Tt(et,"posts",t),r=Jr(e,"comments");return(await _i(r)).docs.map(a=>({id:a.id,...a.data()}))}catch(e){return console.error("Error getting comments: ",e.code,e.message),[]}}async function pq(t,e,r){try{const n=Tt(et,"posts",t,"comments",e);await vo(n,{...r,updatedTime:st.now()}),console.log("Comment updated with ID: ",e)}catch(n){console.error("Error updating comment: ",n.code,n.message)}}async function mq(t,e){try{const r=Tt(et,"posts",t,"comments",e);await Ug(r),console.log("Comment deleted with ID: ",e)}catch(r){console.error("Error deleting comment: ",r.code,r.message)}}async function FD(){try{const t=y1(v1,"post_backgrounds"),r=(await tq(t)).items.map(i=>g1(i));return await Promise.all(r)}catch(t){return console.error("Error getting post backgrounds: ",t.code,t.message),[]}}async function gq(t,e){try{const r=Tt(et,"posts",t),n=await yo(r);if(n.exists()){const a=n.data().likes||[];a.includes(e)||(a.push(e),await vo(r,{likes:a}),console.log("Like added to post ID: ",t))}}catch(r){console.error("Error adding like: ",r.code,r.message)}}async function yq(t,e){try{const r=Tt(et,"posts",t),n=await yo(r);if(n.exists()){const a=n.data().likes||[],o=a.indexOf(e);if(o>-1){a.splice(o,1),await vo(r,{likes:a}),console.log("Like removed from post ID: ",t);const s=Tt(et,"posts",t,"likes",e);await Ug(s),console.log("Like document removed for user ID: ",e)}}}catch(r){console.error("Error removing like: ",r.code,r.message)}}async function vq(){try{return(await _i(Jr(et,"achievements"))).docs.map(r=>({id:r.id,...r.data()}))}catch(t){return console.error("Error getting achievements: ",t.code,t.message),[]}}async function bq(t){try{const e=Tt(et,"users",t),r=await yo(e);return r.exists()?r.data().achievements||[]:(console.log("No such document!"),[])}catch(e){return console.error("Error getting user achievements: ",e.code,e.message),[]}}async function Lu(t,e){try{const r=Tt(et,"users",t),n=Jr(r,"habits"),a=(await _i(n)).docs.map(c=>({id:c.id,...c.data()}));let o=0;const s=new Date,l=new Date(s.getFullYear(),s.getMonth(),s.getDate());switch(e){case"habit":o=a.reduce((c,u)=>{const f=u.status.filter(h=>h.completed&&new Date(h.date)<l).length;return c+f},0);break;case"savings":o=a.reduce((c,u)=>{const f=u.status.filter(h=>!h.completed&&new Date(h.date)<l).length;return c+u.amount*f},0);break;case"streak":o=a.reduce((c,u)=>{const f=u.status.filter(p=>p.completed&&new Date(p.date)<l).length,h=u.status.filter(p=>new Date(p.date)<l).length;return c+(h>0?f/h:0)},0)/a.length;break;default:throw new Error("Invalid task type")}return o}catch(r){return console.error("Error calculating task value: ",r.code,r.message),0}}async function Fu(t,e,r){try{const n=await _i(Jr(et,"achievements")),i=Tt(et,"users",t),a=await yo(i),o=a.exists()?a.data().achievements||[]:[];n.forEach(async s=>{const l=s.data(),c=l.condition;let u=!1;c.type===e&&(e==="habit"&&r>=c.count?u=!0:e==="savings"&&r>=c.amount||e==="streak"&&r>=c.count),u&&!o.includes(s.id)&&(o.push(s.id),await vo(i,{achievements:o}),console.log(`Achievement ${l.name} awarded to user ID: ${t}`))})}catch(n){console.error("Error checking and awarding achievements: ",n.code,n.message)}}async function xq(){try{const t=Jr(et,"badges");return(await _i(t)).docs.map(n=>({id:n.id,...n.data()}))}catch(t){return console.error("Error getting badges: ",t.code,t.message),[]}}async function wq(t){try{const e=Tt(et,"users",t),r=await yo(e);return r.exists()?r.data().badges||[]:(console.log("No such document!"),[])}catch(e){return console.error("Error getting user badges: ",e.code,e.message),[]}}async function kl(t){try{const e=Tt(et,"users",t),r=Jr(e,"habits");return(await _i(r)).docs.map(o=>({id:o.id,...o.data()})).reduce((o,s)=>{const l=s.category;return o[l]||(o[l]=0),o[l]++,o},{})}catch(e){return console.error("Error calculating badges: ",e.code,e.message),{}}}async function Vu(t){try{const e=await _i(Jr(et,"badges")),r=Tt(et,"users",t),n=await yo(r),i=n.exists()?n.data().badges||[]:[],a=await kl(t);e.forEach(async o=>{const s=o.data(),l=s.condition;let c=!1;a[l.category]&&a[l.category]>=l.times&&(c=!0),c&&!i.includes(o.id)&&(i.push(o.id),await vo(r,{badges:i}),console.log(`Badge ${s.description} awarded to user ID: ${t}`))})}catch(e){console.error("Error checking and awarding badges: ",e.code,e.message)}}async function VD(t,e){try{const r=Tt(et,"users",t),n=await yo(r);if(n.exists()){const a=n.data().badges.filter(o=>o.category!==e);await vo(r,{badges:a}),console.log(`Badge for category ${e} removed for user ID: ${t}`)}}catch(r){console.error("Error removing badge: ",r.code,r.message)}}var UD={exports:{}},_q="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",kq=_q,Eq=kq;function BD(){}function zD(){}zD.resetWarningCache=BD;var Sq=function(){function t(n,i,a,o,s,l){if(l!==Eq){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:zD,resetWarningCache:BD};return r.PropTypes=r,r};UD.exports=Sq();var Tq=UD.exports;const q=it(Tq),Qn=M.createContext(),WD=({children:t})=>{const[e,r]=M.useState(null),[n,i]=M.useState(!1),a=em();return M.useEffect(()=>{const o=SB(a,async s=>{if(s){const l=await ii(s.uid);r({...s,...l}),i(l.isDarkMode||!1)}else r(null),i(!1)});return()=>o()},[a]),M.useEffect(()=>{n?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[n]),m.jsx(Qn.Provider,{value:{user:e,setUser:r,isDarkMode:n,setIsDarkMode:i},children:t})};WD.propTypes={children:q.node};var qD={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},xA=L.createContext&&L.createContext(qD),Aq=["attr","size","title"];function Pq(t,e){if(t==null)return{};var r=Iq(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Iq(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function lm(){return lm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lm.apply(this,arguments)}function wA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wA(Object(r),!0).forEach(function(n){Oq(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Oq(t,e,r){return e=Cq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cq(t){var e=Nq(t,"string");return typeof e=="symbol"?e:e+""}function Nq(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HD(t){return t&&t.map((e,r)=>L.createElement(e.tag,cm({key:r},e.attr),HD(e.child)))}function Ke(t){return e=>L.createElement(Rq,lm({attr:cm({},t.attr)},e),HD(t.child))}function Rq(t){var e=r=>{var{attr:n,size:i,title:a}=t,o=Pq(t,Aq),s=i||r.size||"1em",l;return r.className&&(l=r.className),t.className&&(l=(l?l+" ":"")+t.className),L.createElement("svg",lm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:l,style:cm(cm({color:t.color||r.color},r.style),t.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),a&&L.createElement("title",null,a),t.children)};return xA!==void 0?L.createElement(xA.Consumer,null,r=>e(r)):e(qD)}function jq(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-1.293 5.953a1 1 0 0 0 -1.32 -.083l-.094 .083l-3.293 3.292l-1.293 -1.292l-.094 -.083a1 1 0 0 0 -1.403 1.403l.083 .094l2 2l.094 .083a1 1 0 0 0 1.226 0l.094 -.083l4 -4l.083 -.094a1 1 0 0 0 -.083 -1.32z"},child:[]}]})(t)}function Dq(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 3.34a10 10 0 1 1 -15 8.66l.005 -.324a10 10 0 0 1 14.995 -8.336zm-5 2.66a1 1 0 0 0 -1 1a3 3 0 1 0 0 6v2a1.024 1.024 0 0 1 -.866 -.398l-.068 -.101a1 1 0 0 0 -1.732 .998a3 3 0 0 0 2.505 1.5h.161a1 1 0 0 0 .883 .994l.117 .007a1 1 0 0 0 1 -1l.176 -.005a3 3 0 0 0 -.176 -5.995v-2c.358 -.012 .671 .14 .866 .398l.068 .101a1 1 0 0 0 1.732 -.998a3 3 0 0 0 -2.505 -1.501h-.161a1 1 0 0 0 -1 -1zm1 7a1 1 0 0 1 0 2v-2zm-2 -4v2a1 1 0 0 1 0 -2z"},child:[]}]})(t)}function Mq(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M6.979 3.074a6 6 0 0 1 4.988 1.425l.037 .033l.034 -.03a6 6 0 0 1 4.733 -1.44l.246 .036a6 6 0 0 1 3.364 10.008l-.18 .185l-.048 .041l-7.45 7.379a1 1 0 0 1 -1.313 .082l-.094 -.082l-7.493 -7.422a6 6 0 0 1 3.176 -10.215z"},child:[]}]})(t)}function $q(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"},child:[]},{tag:"path",attr:{d:"M12 8v4"},child:[]},{tag:"path",attr:{d:"M12 16h.01"},child:[]}]})(t)}function Lq(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0"},child:[]},{tag:"path",attr:{d:"M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0"},child:[]},{tag:"path",attr:{d:"M3 6l0 13"},child:[]},{tag:"path",attr:{d:"M12 6l0 13"},child:[]},{tag:"path",attr:{d:"M21 6l0 13"},child:[]}]})(t)}function Fq(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 11h16a1 1 0 0 1 1 1v.5c0 1.5 -2.517 5.573 -4 6.5v1a1 1 0 0 1 -1 1h-8a1 1 0 0 1 -1 -1v-1c-1.687 -1.054 -4 -5 -4 -6.5v-.5a1 1 0 0 1 1 -1z"},child:[]},{tag:"path",attr:{d:"M19 7l-14 1"},child:[]},{tag:"path",attr:{d:"M19 2l-14 3"},child:[]}]})(t)}function Vq(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 7a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12zm12 -4v4m-8 -4v4m-4 4h16m-9.995 3h.01m3.99 0h.01"},child:[]},{tag:"path",attr:{d:"M10.005 17a3.5 3.5 0 0 0 4 0"},child:[]}]})(t)}function Uq(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M7 9m0 2a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v6a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2z"},child:[]},{tag:"path",attr:{d:"M14 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"},child:[]},{tag:"path",attr:{d:"M17 9v-2a2 2 0 0 0 -2 -2h-10a2 2 0 0 0 -2 2v6a2 2 0 0 0 2 2h2"},child:[]}]})(t)}function Bq(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12l5 5l10 -10"},child:[]}]})(t)}function zq(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 9l6 6l6 -6"},child:[]}]})(t)}function Wq(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 6l-6 6l6 6"},child:[]}]})(t)}function qq(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 6l6 6l-6 6"},child:[]}]})(t)}function Hq(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"},child:[]},{tag:"path",attr:{d:"M9 12l2 2l4 -4"},child:[]}]})(t)}function KD(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"},child:[]},{tag:"path",attr:{d:"M14.8 9a2 2 0 0 0 -1.8 -1h-2a2 2 0 1 0 0 4h2a2 2 0 1 1 0 4h-2a2 2 0 0 1 -1.8 -1"},child:[]},{tag:"path",attr:{d:"M12 7v10"},child:[]}]})(t)}function Kq(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]}]})(t)}function Gq(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 11v-3.5a1.5 1.5 0 0 1 3 0v2.5"},child:[]},{tag:"path",attr:{d:"M11 9.5v-3a1.5 1.5 0 0 1 3 0v3.5"},child:[]},{tag:"path",attr:{d:"M14 7.5a1.5 1.5 0 0 1 3 0v2.5"},child:[]},{tag:"path",attr:{d:"M17 9.5a1.5 1.5 0 0 1 3 0v4.5a6 6 0 0 1 -6 6h-2h.208a6 6 0 0 1 -5.012 -2.7l-.196 -.3c-.312 -.479 -1.407 -2.388 -3.286 -5.728a1.5 1.5 0 0 1 .536 -2.022a1.867 1.867 0 0 1 2.28 .28l1.47 1.47"},child:[]}]})(t)}function Xq(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19.5 12.572l-7.5 7.428l-7.5 -7.428a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"},child:[]}]})(t)}function Yq(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12l-2 0l9 -9l9 9l-2 0"},child:[]},{tag:"path",attr:{d:"M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7"},child:[]},{tag:"path",attr:{d:"M10 12h4v4h-4z"},child:[]}]})(t)}function Qq(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"},child:[]},{tag:"path",attr:{d:"M12 9h.01"},child:[]},{tag:"path",attr:{d:"M11 12h1v4h1"},child:[]}]})(t)}function Jq(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z"},child:[]},{tag:"path",attr:{d:"M15 4l0 16"},child:[]}]})(t)}function Zq(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2"},child:[]},{tag:"path",attr:{d:"M9 12h12l-3 -3"},child:[]},{tag:"path",attr:{d:"M18 15l3 -3"},child:[]}]})(t)}function eH(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 3h6l3 7l-6 2l-6 -2z"},child:[]},{tag:"path",attr:{d:"M12 12l-3 -9"},child:[]},{tag:"path",attr:{d:"M15 11l-3 -8"},child:[]},{tag:"path",attr:{d:"M12 19.5l-3 1.5l.5 -3.5l-2 -2l3 -.5l1.5 -3l1.5 3l3 .5l-2 2l.5 3.5z"},child:[]}]})(t)}function tH(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 4a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-5l-5 3v-3h-2a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12z"},child:[]},{tag:"path",attr:{d:"M9.5 9h.01"},child:[]},{tag:"path",attr:{d:"M14.5 9h.01"},child:[]},{tag:"path",attr:{d:"M9.5 13a3.5 3.5 0 0 0 5 0"},child:[]}]})(t)}function rH(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 9h8"},child:[]},{tag:"path",attr:{d:"M8 13h6"},child:[]},{tag:"path",attr:{d:"M18 4a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-5l-5 3v-3h-2a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12z"},child:[]}]})(t)}function nH(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12a9 9 0 1 0 -8.012 8.946"},child:[]},{tag:"path",attr:{d:"M9 10h.01"},child:[]},{tag:"path",attr:{d:"M15 10h.01"},child:[]},{tag:"path",attr:{d:"M9.5 15a3.59 3.59 0 0 0 2.774 .99"},child:[]},{tag:"path",attr:{d:"M18.994 21.5l2.518 -2.58a1.74 1.74 0 0 0 .004 -2.413a1.627 1.627 0 0 0 -2.346 -.005l-.168 .172l-.168 -.172a1.627 1.627 0 0 0 -2.346 -.004a1.74 1.74 0 0 0 -.004 2.412l2.51 2.59z"},child:[]}]})(t)}function iH(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"},child:[]},{tag:"path",attr:{d:"M9 10l.01 0"},child:[]},{tag:"path",attr:{d:"M15 10l.01 0"},child:[]},{tag:"path",attr:{d:"M9.5 15a3.5 3.5 0 0 0 5 0"},child:[]}]})(t)}function aH(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 8h.01"},child:[]},{tag:"path",attr:{d:"M3 6a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v12a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3v-12z"},child:[]},{tag:"path",attr:{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l5 5"},child:[]},{tag:"path",attr:{d:"M14 14l1 -1c.928 -.893 2.072 -.893 3 0l3 3"},child:[]}]})(t)}function oH(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M7 15h10v4a2 2 0 0 1 -2 2h-6a2 2 0 0 1 -2 -2v-4z"},child:[]},{tag:"path",attr:{d:"M12 9a6 6 0 0 0 -6 -6h-3v2a6 6 0 0 0 6 6h3"},child:[]},{tag:"path",attr:{d:"M12 11a6 6 0 0 1 6 -6h3v1a6 6 0 0 1 -6 6h-3"},child:[]},{tag:"path",attr:{d:"M12 15l0 -6"},child:[]}]})(t)}function sH(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 5l0 14"},child:[]},{tag:"path",attr:{d:"M5 12l14 0"},child:[]}]})(t)}function lH(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 13a8 8 0 0 1 7 7a6 6 0 0 0 3 -5a9 9 0 0 0 6 -8a3 3 0 0 0 -3 -3a9 9 0 0 0 -8 6a6 6 0 0 0 -5 3"},child:[]},{tag:"path",attr:{d:"M7 14a6 6 0 0 0 -3 6a6 6 0 0 0 6 -3"},child:[]},{tag:"path",attr:{d:"M15 9m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]}]})(t)}function cH(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4.698 4.034l16.302 7.966l-16.302 7.966a.503 .503 0 0 1 -.546 -.124a.555 .555 0 0 1 -.12 -.568l2.468 -7.274l-2.468 -7.274a.555 .555 0 0 1 .12 -.568a.503 .503 0 0 1 .546 -.124z"},child:[]},{tag:"path",attr:{d:"M6.5 12h14.5"},child:[]}]})(t)}function uH(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z"},child:[]},{tag:"path",attr:{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0"},child:[]}]})(t)}function fH(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M13 4m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M7 21l3 -4"},child:[]},{tag:"path",attr:{d:"M16 21l-2 -4l-3 -3l1 -6"},child:[]},{tag:"path",attr:{d:"M6 12l2 -3l4 -1l3 3l3 1"},child:[]}]})(t)}function dH(t){return Ke({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 6l-12 12"},child:[]},{tag:"path",attr:{d:"M6 6l12 12"},child:[]}]})(t)}const Jc={TbHome2:Yq,TbCoin:KD,TbMedal2:eH,TbMessage:rH,TbMoodSmile:iH},kr={TbRocket:lH,TbBook:Lq,TbWalk:fH,TbBowlChopsticks:Fq,TbMoodHeart:nH,TbHandGrab:Gq,TbCash:Uq,TbPlant:oH},x1={TbCheck:Bq},um={TbChevronLeft:Wq,TbChevronRight:qq},hH={TbCalendarSmile:Vq},pH={TbPlus:sH},wt={TbX:dH,TbInfoCircle:Qq,TbAlertCircle:$q},mH={TbChevronDown:zq},bu={TbHeart:Xq,TbHeartFilled:Mq,TbMessageChatbot:tH,TbDots:Kq,TbSend2:cH},Vs={TbCircleCheck:Hq,TbCircleCheckFilled:jq,TbCoin:KD,TbCoinFilled:Dq},GD={TbSettings:uH,TbPhoto:aH},_A={TbLogout:Zq,TbLayoutSidebarRight:Jq},El="/assets/habit-piggy-loading-1-B5_9kssG.svg",XD="data:image/svg+xml,%3csvg%20width='400'%20height='400'%20viewBox='0%200%20400%20400'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_621_231)'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M71.3763%20235.358C60.4405%20237.822%2050.0101%20240.148%2039.1823%20243.038C34.0177%20244.417%2028.3404%20246.414%2023.2452%20248.048C28.0237%20252.579%2031.2249%20254.302%2035.9444%20258.874C35.9464%20258.875%2025.2946%20268.037%2017.9071%20274.836C31.5676%20273.098%2048.0961%20264.815%2056.949%20259.742C53.5028%20256.663%2049.934%20253.573%2046.2392%20250.794C54.5474%20245.55%2063.0089%20240.496%2071.3763%20235.358Z'%20fill='%23FFDE6A'%20stroke='%23FFDE6A'%20stroke-width='3.94849'%20stroke-miterlimit='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M323.975%2087.699C329.923%2086.1051%20335.366%2091.5484%20333.772%2097.497L321.22%20144.342C319.627%20150.29%20312.191%20152.283%20307.836%20147.928L273.543%20113.635C269.189%20109.281%20271.181%20101.845%20277.13%20100.251L323.975%2087.699Z'%20fill='%23FFC700'/%3e%3cpath%20d='M240.41%20320.176C238.827%20315.772%20241.347%20310.955%20245.868%20309.744L267.709%20303.892C272.23%20302.68%20276.82%20305.592%20277.652%20310.197L283.358%20341.797C284.098%20345.892%20281.575%20349.869%20277.556%20350.946L260.867%20355.418C256.848%20356.495%20252.675%20354.311%20251.268%20350.396L240.41%20320.176Z'%20fill='%23FFC700'/%3e%3cpath%20d='M201.348%20310.197C202.18%20305.592%20206.77%20302.68%20211.291%20303.892L233.132%20309.744C237.653%20310.955%20240.173%20315.772%20238.59%20320.176L227.732%20350.396C226.325%20354.311%20222.152%20356.495%20218.133%20355.418L201.444%20350.946C197.425%20349.869%20194.902%20345.892%20195.642%20341.797L201.348%20310.197Z'%20fill='%23FFC700'/%3e%3ccircle%20cx='191'%20cy='206'%20r='140'%20fill='%23FFDE6A'/%3e%3cpath%20d='M246.5%20182.125C246.5%20193.554%20237.956%20202.75%20227.5%20202.75C217.044%20202.75%20208.5%20193.554%20208.5%20182.125C208.5%20170.696%20217.044%20161.5%20227.5%20161.5C237.956%20161.5%20246.5%20170.696%20246.5%20182.125Z'%20fill='%23F6F6F6'%20stroke='%23454545'/%3e%3cellipse%20cx='232.375'%20cy='182.125'%20rx='14.625'%20ry='16.25'%20fill='%23454545'/%3e%3cpath%20d='M325.5%20182.125C325.5%20193.554%20316.956%20202.75%20306.5%20202.75C296.043%20202.75%20287.5%20193.554%20287.5%20182.125C287.5%20170.696%20296.043%20161.5%20306.5%20161.5C316.956%20161.5%20325.5%20170.696%20325.5%20182.125Z'%20fill='%23F6F6F6'%20stroke='%23454545'/%3e%3cellipse%20cx='311.375'%20cy='182.125'%20rx='14.625'%20ry='16.25'%20fill='%23454545'/%3e%3cpath%20d='M106.348%20310.197C107.18%20305.592%20111.77%20302.68%20116.291%20303.892L138.132%20309.744C142.653%20310.955%20145.173%20315.772%20143.59%20320.176L132.732%20350.396C131.325%20354.311%20127.152%20356.495%20123.133%20355.418L106.444%20350.946C102.425%20349.869%2099.9021%20345.892%20100.641%20341.797L106.348%20310.197Z'%20fill='%23FFC700'/%3e%3cpath%20d='M145.41%20320.176C143.827%20315.772%20146.347%20310.955%20150.868%20309.744L172.709%20303.892C177.23%20302.68%20181.82%20305.592%20182.652%20310.197L188.358%20341.797C189.098%20345.892%20186.575%20349.869%20182.556%20350.946L165.867%20355.418C161.848%20356.495%20157.675%20354.311%20156.268%20350.396L145.41%20320.176Z'%20fill='%23FFC700'/%3e%3cpath%20d='M135.527%20100.443C133.934%2094.4946%20139.377%2089.0513%20145.325%2090.6452L198.862%20104.99C204.811%20106.584%20206.803%20114.02%20202.449%20118.375L163.257%20157.566C158.902%20161.921%20151.467%20159.929%20149.873%20153.98L135.527%20100.443Z'%20fill='%23FFC700'/%3e%3cellipse%20cx='234.471'%20cy='267.604'%20rx='12'%20ry='16'%20transform='rotate(45%20234.471%20267.604)'%20fill='%23E17F63'/%3e%3cpath%20d='M254%20259.132C254%20266.588%20251.127%20271.132%20244.5%20271.132C237.873%20271.132%20231.5%20264.088%20231.5%20256.632C231.5%20249.177%20235.373%20245.632%20242%20245.632C248.627%20245.632%20254%20251.677%20254%20259.132Z'%20fill='%23FFDE6A'/%3e%3cpath%20d='M230%20256C238.182%20270.711%20245.81%20275.071%20264.641%20276'%20stroke='%23454545'%20stroke-width='4'%20stroke-linecap='round'/%3e%3cpath%20d='M315%20226.599C315%20252.984%20297.091%20268.8%20275%20268.8C252.909%20268.8%20235%20252.984%20235%20226.599C235%20200.214%20252.909%20184%20275%20184C297.091%20184%20315%20200.214%20315%20226.599Z'%20fill='%23FFC700'/%3e%3cpath%20d='M279.4%20226C279.4%20230.418%20276.618%20234%20272.2%20234C267.782%20234%20265%20230.418%20265%20226C265%20221.582%20267.782%20218%20272.2%20218C276.618%20218%20279.4%20221.582%20279.4%20226Z'%20fill='%23454545'/%3e%3cpath%20d='M301.8%20226C301.8%20230.418%20299.018%20234%20294.6%20234C290.182%20234%20287.4%20230.418%20287.4%20226C287.4%20221.582%20290.182%20218%20294.6%20218C299.018%20218%20301.8%20221.582%20301.8%20226Z'%20fill='%23454545'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_621_231'%3e%3crect%20width='400'%20height='400'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",YD="/assets/habit-piggy-logo-Bg83H3Q_.svg";function gH(){const{register:t,handleSubmit:e,watch:r,formState:{errors:n}}=ZN(),[i,a]=M.useState(!0),[o,s]=M.useState(!1),[l,c]=M.useState(!1),[u,f]=M.useState(El),{setUser:h}=M.useContext(Qn),[p,g]=M.useState(""),[y,b]=M.useState(0),[_,v]=M.useState(!1),x={0:"I'm Habit Piggy!",1:"I'm Hungry!",2:"Do Your Habits!",3:"Or Feed me!",4:"Feed me!"};M.useEffect(()=>{let S;return l&&(S=setInterval(()=>{f(E=>E===El?XD:El)},250)),()=>clearInterval(S)},[l]),M.useEffect(()=>{const S=Object.keys(x);let E=0;const P=setInterval(()=>{E<S.length?(b(E),E++):(clearInterval(P),v(!0))},2e3);return()=>clearInterval(P)});const k=()=>{_&&b(4)},T=async S=>{const{email:E,registerPassword:P,account:O,name:R}=S;try{await sq(E,P,O,R);const N=em(),I=await gT(N,E,P);h(I.user),c(!0),setTimeout(()=>{s(!0)},2e3)}catch(N){console.error("Error registering user: ",N.code,N.message)}},C=async S=>{const{loginEmail:E,loginPassword:P}=S,O=em();try{const R=await gT(O,E,P);h(R.user),c(!0),setTimeout(()=>{s(!0)},2e3)}catch(R){g("帳號或密碼錯誤"),console.error("Error logging in: ",R.code,R.message)}};return o?m.jsx(WN,{to:"/home"}):l?m.jsxs("div",{className:"flex flex-col justify-center items-center h-screen gap-4",children:[m.jsx("img",{src:u,alt:"loading",className:"w-40 h-40"}),m.jsx("p",{className:"font-normal text-base text-black dark:text-black-0",children:"準備好培養習慣了嗎？"})]}):m.jsxs("div",{className:"p-4 md:py-10 space-y-4",children:[m.jsxs("ul",{className:"grid grid-cols-2 w-full",children:[m.jsx("li",{className:`border border-black-500 rounded-s-full py-1 font-normal text-sm leading-5 text-center ${i?"bg-primary":"bg-black-50"}`,onClick:()=>a(!0),children:"登入帳號"}),m.jsx("li",{className:`border-e border-y border-black-500 rounded-e-full py-1 font-normal text-sm leading-5 text-center ${i?"bg-black-50":"bg-primary"}`,onClick:()=>a(!1),children:"註冊帳號"})]}),i?m.jsxs("div",{className:"relative min-h-screen",children:[m.jsxs("form",{onSubmit:e(C),className:"flex flex-col",children:[m.jsx("label",{htmlFor:"loginEmail",className:"font-bold text-base leading-6 mb-2 text-black dark:text-black-0",children:"帳號"}),m.jsx("input",{type:"text",name:"loginEmail",id:"loginEmail",placeholder:"請輸入帳號或 Email",className:`py-2 px-4 w-full rounded-xl border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-base leading-6 dark:bg-black-100 placeholder-black ${n.loginEmail?"":"mb-4"}`,...t("loginEmail",{required:"Email 是必填項目"})}),n.loginEmail&&m.jsx("p",{className:"text-alert pl-4 mt-1 mb-3",children:n.loginEmail.message}),m.jsx("label",{htmlFor:"loginPassword",className:"font-bold text-base leading-6 mb-2 text-black dark:text-black-0",children:"密碼"}),m.jsx("input",{type:"password",name:"loginPassword",id:"loginPassword",placeholder:"請輸入密碼",className:`py-2 px-4 w-full rounded-xl border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-base leading-6 dark:bg-black-100 placeholder-black ${n.loginPassword?"":"mb-8"}`,...t("loginPassword",{required:"密碼是必填項目"})}),n.loginPassword&&m.jsx("p",{className:"text-alert pl-4 mt-1 mb-3",children:n.loginPassword.message}),p&&m.jsx("p",{className:"text-alert",children:p}),m.jsx("button",{type:"submit",className:"w-full rounded-lg bg-primary font-bold text-base leading-6 py-2 hover:bg-primary-dark",children:"登入帳號"})]}),m.jsx("div",{className:"flex justify-center absolute bottom-20 inset-x-0",children:m.jsxs("div",{className:"flex flex-col items-center",children:[m.jsxs("div",{className:"bg-black-50 w-fit h-fit rounded-full relative mt-4",children:[m.jsx("p",{className:"text-black font-lobster font-normal text-2xl leading-8 md:text-4xl md:leading-tight py-4 px-8",children:x[y]}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-20 before:w-0 before:h-0 before:border-l-0 before:border-r-[20px] before:border-t-[20px] before:border-l-transparent before:border-r-transparent before:border-t-black-50 before:z-20"})]}),m.jsx("img",{src:YD,alt:"Habit Piggy",className:"w-60 h-60 md:w-80 md:h-80",onClick:k})]})})]}):m.jsxs("form",{onSubmit:e(T),className:"flex flex-col",children:[m.jsx("label",{htmlFor:"email",className:"font-bold text-base leading-6 mb-2 text-black dark:text-black-0",children:"Email"}),m.jsx("input",{type:"text",name:"email",id:"email",placeholder:"請輸入 Email",className:`py-2 px-4 w-full rounded-xl border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-base leading-6 dark:bg-black-100 placeholder-black ${n.email?"":"mb-4"}`,...t("email",{required:"Email 是必填項目"})}),n.email&&m.jsx("p",{className:"text-alert pl-4 mt-1 mb-3",children:n.email.message}),m.jsxs("div",{className:"relative group flex items-center mb-2",children:[m.jsx("label",{htmlFor:"account",className:"font-bold text-base leading-6 text-black dark:text-black-0",children:"帳號"}),m.jsx(wt.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200 ml-2 inline-block"}),m.jsx("span",{className:"absolute -bottom-1 left-[72px] transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto z-50 before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark whitespace-normal break-words",children:"帳號可以是英文、數字或符號的組合"})]}),m.jsx("input",{type:"text",name:"account",id:"account",placeholder:"請輸入帳號",className:`py-2 px-4 w-full rounded-xl border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-base leading-6 dark:bg-black-100 placeholder-black ${n.account?"":"mb-4"}`,...t("account",{required:"帳號是必填項目"})}),n.account&&m.jsx("p",{className:"text-alert pl-4 mt-1 mb-3",children:n.account.message}),m.jsxs("div",{className:"relative group flex items-center mb-2",children:[m.jsx("label",{htmlFor:"registerPassword",className:"font-bold text-base leading-6 text-black dark:text-black-0",children:"密碼"}),m.jsx(wt.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200 ml-2 inline-block"}),m.jsx("span",{className:"absolute -bottom-1 left-[72px] transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto z-50 before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark whitespace-normal break-words",children:"密碼可以是英文、數字或符號的組合，至少需要 6 個字符"})]}),m.jsx("input",{type:"password",name:"registerPassword",id:"registerPassword",placeholder:"請輸入密碼",className:`py-2 px-4 w-full rounded-xl border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-base leading-6 dark:bg-black-100 placeholder-black ${n.registerPassword?"":"mb-4"}`,...t("registerPassword",{required:"密碼是必填項目",minLength:{value:6,message:"密碼至少需要 6 個字符"}})}),n.registerPassword&&m.jsx("p",{className:"text-alert pl-4 mt-1 mb-3",children:n.registerPassword.message}),m.jsx("label",{htmlFor:"registerCheckPassword",className:"font-bold text-base leading-6 mb-2 text-black dark:text-black-0",children:"確認密碼"}),m.jsx("input",{type:"password",name:"registerCheckPassword",id:"registerCheckPassword",placeholder:"請再次輸入密碼",className:`py-2 px-4 w-full rounded-xl border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-base leading-6 dark:bg-black-100 placeholder-black ${n.registerCheckPassword?"":"mb-4"}`,...t("registerCheckPassword",{required:"確認密碼是必填項目",validate:S=>S===r("registerPassword")||"密碼不一致",minLength:{value:6,message:"密碼至少需要 6 個字符"}})}),n.registerCheckPassword&&m.jsx("p",{className:"text-alert pl-4 mt-1 mb-3",children:n.registerCheckPassword.message}),m.jsxs("div",{className:"relative group flex items-center mb-2",children:[m.jsx("label",{htmlFor:"name",className:"font-bold text-base leading-6 text-black dark:text-black-0",children:"會員名稱"}),m.jsx(wt.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200 ml-2 inline-block"}),m.jsx("span",{className:"absolute -bottom-1 left-[104px] transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto z-50 before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark whitespace-normal break-words",children:"會員名稱可以是中文、英文、數字或符號，但不得超過 9 個字符"})]}),m.jsx("input",{type:"text",name:"name",id:"name",placeholder:"請輸入會員名稱",className:`py-2 px-4 w-full rounded-xl border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-base leading-6 dark:bg-black-100 placeholder-black ${n.name?"":"mb-8"}`,...t("name",{required:"會員名稱是必填項目",maxLength:{value:9,message:"會員名稱不得超過 9 個字符"}})}),n.name&&m.jsx("p",{className:"text-alert pl-4 mt-1 mb-3",children:n.name.message}),m.jsx("button",{type:"submit",className:"w-full rounded-lg bg-primary font-bold text-base leading-6 py-2 hover:bg-primary-dark",children:"註冊帳號"})]})]})}const QD=({date:t,onSelect:e,onWeekChange:r})=>{const[n]=M.useState(["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]),[i]=M.useState(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),[a,o]=M.useState(null),[s,l]=M.useState(null),[c,u]=M.useState(null);M.useEffect(()=>{const x=new Date;l({year:x.getFullYear(),month:x.getMonth(),day:x.getDate()}),o(t?{...t}:{year:x.getFullYear(),month:x.getMonth(),day:x.getDate()})},[t]),M.useEffect(()=>{if(a){const x=new Date(a.year,a.month,a.day-new Date(a.year,a.month,a.day).getDay()),k=[];for(let T=0;T<7;T++){const C=new Date(x);C.setDate(x.getDate()+T),k.push({year:C.getFullYear(),month:C.getMonth(),day:C.getDate()})}r(k)}},[a,r]);const f=()=>{if(!a)return[];const x=[],k=a.year,T=a.month,C=a.day,S=new Date(k,T,C-new Date(k,T,C).getDay());for(let E=0;E<7;E++){const P=new Date(S);P.setDate(S.getDate()+E),x.push({value:P.getDate(),year:P.getFullYear(),month:P.getMonth()})}return x},h=x=>{p(x)},p=x=>{o(k=>{const T=new Date(k.year,k.month,k.day+(x?7:-7)),C=new Date(T.getFullYear(),T.getMonth(),T.getDate()-T.getDay()),S={year:C.getFullYear(),month:C.getMonth(),day:C.getDate()};return u(S),e(S),{year:T.getFullYear(),month:T.getMonth(),day:T.getDate()}})},g=x=>{const k={...a,day:x.value,month:x.month,year:x.year};u(k),e(k)},y=x=>x.value===s.day&&s.year===x.year&&s.month===x.month,b=x=>c&&x.value===c.day&&c.year===x.year&&c.month===x.month;if(!a)return null;const _=new Date(a.year,a.month,a.day-new Date(a.year,a.month,a.day).getDay()),v=`${i[_.getMonth()]} ${_.getFullYear()}`;return m.jsxs("div",{className:"p-4 md:pt-6 bg-black-50 dark:bg-black-800 rounded-b-3xl",children:[m.jsxs("div",{className:"flex justify-between mb-3",children:[m.jsx("button",{onClick:()=>h(!1),children:m.jsx(um.TbChevronLeft,{className:"w-6 h-6 text-black dark:text-black-0 hover:text-alert"})}),m.jsx("h1",{className:"font-bold text-lg leading-6 text-black dark:text-black-0",children:v}),m.jsx("button",{onClick:()=>h(!0),children:m.jsx(um.TbChevronRight,{className:"w-6 h-6 text-black dark:text-black-0 hover:text-alert"})})]}),m.jsx("div",{className:"grid grid-cols-7 gap-y-1 gap-x-2 md:gap-x-4 text-center",children:f().map((x,k)=>m.jsxs("div",{className:`py-1 px-1 flex flex-col items-center gap-1 rounded-lg cursor-pointer ${y(x)?"bg-primary":b(x)?"bg-primary-light":"bg-transparent hover:bg-primary-light"}`,onClick:()=>g(x),children:[m.jsx("div",{className:`font-bold text-lg leading-6 ${y(x)?"text-black dark:text-black-0-0":b(x)?"text-black":"text-black dark:text-black-0"}`,children:x.value}),m.jsx("div",{className:`font-medium text-sm leading-5 ${y(x)?"text-black dark:text-black-0-0":b(x)?"text-black":"text-black dark:text-black-0"}`,children:n[new Date(x.year,x.month,x.value).getDay()]})]},k))})]})};QD.propTypes={date:q.object,onSelect:q.func,onWeekChange:q.func.isRequired};const Za=({options:t,value:e,onChange:r})=>{const[n,i]=M.useState(!1),a=s=>{r(s),i(!1)},o=t.find(s=>s.value===e)||t[0];return m.jsxs("div",{className:"relative inline-block w-full",children:[m.jsxs("div",{className:"border border-black-500 rounded-2xl px-4 py-0.5 bg-white cursor-pointer flex justify-between items-center",onClick:()=>i(!n),children:[m.jsx("span",{children:o.label}),m.jsx(mH.TbChevronDown,{className:"w-6 h-6 text-black"})]}),n&&m.jsx("ul",{className:"absolute right-0 z-10 mt-1 min-w-fit w-full bg-white border border-black-500 rounded-2xl shadow-lg text-center overflow-hidden",children:t.map(s=>m.jsx("li",{className:"px-4 py-2 hover:bg-primary-light cursor-pointer",onClick:()=>a(s.value),children:s.label},s.value))})]})};Za.propTypes={options:q.array.isRequired,value:q.string.isRequired,onChange:q.func.isRequired};const w1=({profileData:t,handleSettingModal:e,handleSaveAndClose:r})=>{const{setIsDarkMode:n,user:i}=M.useContext(Qn),[a,o]=M.useState(t);M.useEffect(()=>{o(t)},[t]);const{register:s,handleSubmit:l,formState:{errors:c},watch:u}=ZN({defaultValues:{name:a.name||"",introduction:a.introduction||""}}),f=u("name"),h=a.isDarkMode?"true":"false",p=a.isAcceptReminder?"true":"false",g=[{value:"false",label:"淺色"},{value:"true",label:"深色"}],y=[{value:"false",label:"否"},{value:"true",label:"是"}],b=x=>{o(k=>({...k,isDarkMode:x==="true"})),n(x==="true")},_=x=>{const{name:k,value:T,files:C}=x.target;if(k==="avatar"&&C&&C[0]){const S=x.target.files[0],E=["image/jpeg","image/jpg","image/png","image/gif"];if(!S||!E.includes(S.type))return;o(P=>({...P,avatar:URL.createObjectURL(S),avatarFile:S}))}else o(S=>({...S,[k]:T}))},v=async x=>{try{if(a.avatarFile){const k=await LD(i.uid,a.avatarFile);a.avatar=k}await b1(i.uid,{...a,...x}),r({...a,...x})}catch(k){console.error("更新資料失敗",k)}};return m.jsxs("form",{onSubmit:l(v),className:"space-y-4",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h3",{className:"font-bold text-lg leading-7 text-black dark:text-black-0",children:"設定"}),m.jsx(wt.TbX,{className:"w-8 h-8 cursor-pointer hover:text-alert text-black dark:text-black-0",onClick:e})]}),m.jsxs("div",{children:[m.jsx("p",{className:"mb-1 font-normal text-base leading-6 text-black dark:text-black-0",children:"會員頭像"}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("img",{src:a.avatar,alt:"user's avatar",className:"w-12 h-12 rounded-full outline outline-primary-dark dark:outline-primary"}),m.jsxs("div",{className:"space-y-1",children:[m.jsxs("div",{className:"relative inline-block",children:[m.jsx("input",{type:"file",name:"avatar",id:"profile",onChange:_,accept:"image/jpg,image/jpeg,image/png,image/gif",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer hidden"}),m.jsxs("label",{htmlFor:"profile",className:"cursor-pointer bg-primary text-black font-medium text-sm leading-5 py-1 px-2 rounded-lg flex items-center gap-2 hover:bg-primary-dark",children:[m.jsx(GD.TbPhoto,{className:"w-5 h-5"}),"更換頭像"]})]}),m.jsx("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:"您的頭像將會被公開。"})]})]})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"relative group flex items-center mb-2",children:[m.jsx("label",{htmlFor:"name",className:"font-bold text-base leading-6 text-black dark:text-black-0",children:"會員名稱"}),m.jsx(wt.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200 ml-2 inline-block"}),m.jsx("span",{className:"absolute -bottom-1 left-[104px] transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto z-50 before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark whitespace-normal break-words",children:"會員名稱可以是中文、英文、數字或符號，但不得超過 9 個字符"})]}),m.jsx("input",{type:"text",name:"name",id:"name",placeholder:"請輸入會員名稱",className:`px-4 py-1 w-full rounded border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-base leading-6 ${c.name||f.length>9?"mb-1":"mb-4"}`,...s("name",{required:"會員名稱是必填項目",maxLength:{value:9,message:"會員名稱不得超過 9 個字符"}})}),(c.name||f.length>9)&&m.jsx("p",{className:"text-alert dark:text-red-500 mt-1 mb-3",children:c.name?c.name.message:"會員名稱不得超過 9 個字符"})]}),m.jsxs("div",{className:"flex flex-col gap-1",children:[m.jsx("label",{htmlFor:"introduction",className:"mb-1 font-normal text-base leading-6 text-black dark:text-black-0",children:"自我介紹"}),m.jsx("input",{type:"text",name:"introduction",id:"introduction",placeholder:"自我介紹",className:"px-4 py-1 w-full rounded border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-base leading-6",...s("introduction")})]}),m.jsx("div",{className:"border"}),m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:"主題色彩"}),m.jsx("div",{className:"relative w-fit text-nowrap",children:m.jsx(Za,{options:g,value:h,onChange:b})})]}),m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:"接收 Email 提醒"}),m.jsx("div",{className:"relative w-fit",children:m.jsx(Za,{options:y,value:p,onChange:x=>o(k=>({...k,isAcceptReminder:x==="true"}))})})]}),m.jsx("button",{type:"submit",className:"text-center w-full bg-primary rounded-xl font-medium text-sm leading-5 py-1 hover:bg-primary-dark",children:"儲存"})]})};w1.propTypes={profileData:q.object.isRequired,handleSaveAndClose:q.func.isRequired,handleSettingModal:q.func.isRequired};const Bn=({isOpen:t,children:e})=>{if(!t)return null;const r=L.isValidElement(e)&&e.type===w1;return m.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:m.jsx("div",{className:"rounded-2xl py-6 px-4 w-11/12 md:w-1/3 h-fit bg-black-50 dark:bg-black-600 max-h-[80vh] overflow-auto space-y-4 ",children:e})})};Bn.propTypes={isOpen:q.bool.isRequired,children:q.node.isRequired};const _1=({date:t,onSelect:e})=>{const[r]=M.useState(["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]),[n]=M.useState(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),[i,a]=M.useState(null),[o,s]=M.useState(null);M.useEffect(()=>{const g=new Date;s({year:g.getFullYear(),month:g.getMonth(),day:g.getDate()}),a(t?{...t}:{year:g.getFullYear(),month:g.getMonth(),day:g.getDate()})},[t]);const l=()=>{if(!i)return[];const g=[],y=i.year,b=i.month,_=new Date(y,b,1),v=new Date(y,b+1,0),x=_.getDay(),k=v.getDate();for(let T=0;T<x;T++)g.push(null);for(let T=1;T<=k;T++)g.push({value:T,year:y,month:b});return g},c=g=>{u(g)},u=g=>{a(y=>{const b=new Date(y.year,y.month+(g?1:-1),1);return{year:b.getFullYear(),month:b.getMonth(),day:b.getDate()}})},f=g=>{const y={...i,day:g.value,month:g.month,year:g.year};e(y)},h=g=>g&&g.value===o.day&&o.year===g.year&&o.month===g.month;if(!i)return null;const p=`${n[i.month]} ${i.year}`;return m.jsxs("div",{className:"p-4 bg-light dark:bg-black-800 rounded-2xl",children:[m.jsxs("div",{className:"flex justify-between mb-3",children:[m.jsx("button",{onClick:()=>c(!1),children:m.jsx(um.TbChevronLeft,{className:"w-6 h-6 text-black dark:text-black-0 hover:text-alert"})}),m.jsx("h1",{className:"font-bold text-base leading-6 text-black dark:text-black-0",children:p}),m.jsx("button",{onClick:()=>c(!0),children:m.jsx(um.TbChevronRight,{className:"w-6 h-6 text-black dark:text-black-0 hover:text-alert"})})]}),m.jsxs("div",{className:"grid grid-cols-7 text-center gap-1",children:[r.map((g,y)=>m.jsx("div",{className:"font-medium text-sm leading-5 text-black dark:text-black-0",children:g},y)),l().map((g,y)=>m.jsx("div",{className:`rounded-full aspect-square flex items-center justify-center cursor-pointer ${h(g)?"bg-primary":"bg-white hover:bg-primary-light"}`,onClick:()=>g&&f(g),children:g?g.value:""},y))]})]})};_1.propTypes={date:q.object,onSelect:q.func};const Wg=({options:t,value:e,onChange:r})=>{const n=a=>{r(a)},i=t.find(a=>a.id===e);return m.jsx("div",{className:"w-full",children:m.jsx("ul",{className:"grid grid-cols-4 gap-2",children:t.map(a=>m.jsxs("li",{className:"w-16 h-fit cursor-pointer flex flex-col items-center gap-1 text-nowrap font-normal text-xs leading-4",onClick:()=>n(a.id),children:[m.jsx("div",{className:`w-10 h-10 rounded-full flex justify-center items-center ${i&&i.id===a.id?"bg-primary":"bg-black-200 hover:bg-primary"}`,children:m.jsx(a.icon,{className:"w-8 h-8"})}),m.jsx("p",{className:"text-black dark:text-black-0",children:a.name})]},a.id))})})};Wg.propTypes={options:q.array.isRequired,value:q.any,onChange:q.func.isRequired};Wg.defaultProps={value:null};const JD=({habitData:t,handleHabitChange:e,handleAddHabit:r,handleFocus:n,showMonthCalendar:i,calendarRef:a,handleHabitModal:o,habitCategories:s,setHabitData:l,monthCalendarDate:c,handleMonthCalendarSelectDate:u,setCalendarTarget:f,setShowMonthCalendar:h})=>{const[p,g]=M.useState(t.frequency.days||[]),[y,b]=M.useState({});M.useEffect(()=>{g(t.frequency.days||[])},[t.frequency.days]);const _=P=>{const O=p.includes(P)?p.filter(R=>R!==P):[...p,P];g(O),l(R=>({...R,frequency:{...R.frequency,days:O}}))},v=M.useRef(null),x=M.useRef(null),k=()=>{f("startDate"),h(!0)},T=()=>{f("endDate"),h(!0)},C=()=>{const P={};return t.title||(P.title="請輸入習慣名稱"),!t.category&&t.category!==0&&(P.category="請選擇習慣類別"),t.frequency.type||(P.frequency="請選擇習慣頻率"),t.frequency.type==="specificDays"&&p.length===0&&(P.days="請選擇至少一天"),t.type||(P.type="請選擇習慣類型"),t.amount||(P.amount="請輸入罰款金額"),t.startDate||(P.startDate="請選擇開始日期"),t.endDate||(P.endDate="請選擇結束日期"),b(P),Object.keys(P).length===0},S=()=>{C()&&r()},E=P=>{const{name:O,value:R}=P.target;e(P),b(N=>{const I={...N};return R&&delete I[O],I})};return m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex justify-between items-center gap-4",children:[m.jsx("div",{className:"flex items-center gap-4 w-full",children:m.jsx("input",{type:"text",name:"title",placeholder:"輸入習慣名稱",className:"py-1.5 px-4 w-full rounded-xl border caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-sm leading-5 dark:bg-black-100 placeholder-black",value:t.title,onChange:E})}),m.jsx(wt.TbX,{className:"w-6 h-6 hover:text-alert cursor-pointer text-black dark:text-black-0",onClick:o})]}),m.jsxs("div",{className:"flex justify-between items-start gap-4",children:[m.jsxs("div",{className:"relative flex items-center gap-1 group",children:[m.jsxs("label",{htmlFor:"category",className:"text-nowrap text-black dark:text-black-0 group-hover:relative",children:["習慣類別",m.jsx("span",{className:"absolute -bottom-1 left-24 transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto z-50 before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"你想要培養什麼類別的習慣呢？"})]}),m.jsx(wt.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200"})]}),m.jsx(Wg,{options:s,value:t.category,onChange:P=>E({target:{name:"category",value:P}})})]}),m.jsxs("div",{className:"flex justify-between gap-4",children:[m.jsxs("div",{className:"relative flex items-center gap-1 group",children:[m.jsxs("label",{htmlFor:"frequency",className:"text-nowrap text-black dark:text-black-0 group-hover:relative",children:["習慣頻率",m.jsx("span",{className:"absolute -bottom-1 left-24 transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"你想要怎麼安排習慣頻率呢？"})]}),m.jsx(wt.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200"})]}),m.jsxs("div",{className:"w-full grid grid-cols-3 gap-3",children:[m.jsxs("div",{children:[m.jsx("input",{type:"radio",name:"frequency",id:"daily",value:"daily",className:"appearance-none hidden",checked:t.frequency.type==="daily",onChange:E}),m.jsx("label",{htmlFor:"daily",className:`font-normal text-sm leading-5 block text-center py-px rounded border ${t.frequency.type==="daily"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"每日"})]}),m.jsxs("div",{children:[m.jsx("input",{type:"radio",name:"frequency",id:"weekly",value:"weekly",className:"appearance-none hidden",checked:t.frequency.type==="weekly",onChange:E}),m.jsx("label",{htmlFor:"weekly",className:`font-normal text-sm leading-5 block text-center py-px rounded border ${t.frequency.type==="weekly"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"每週"})]}),m.jsxs("div",{children:[m.jsx("input",{type:"radio",name:"frequency",id:"specificDays",value:"specificDays",className:"appearance-none hidden",checked:t.frequency.type==="specificDays",onChange:E}),m.jsx("label",{htmlFor:"specificDays",className:`font-normal text-sm leading-5 block text-center py-px rounded border ${t.frequency.type==="specificDays"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"特定日期"})]})]})]}),t.frequency.type==="specificDays"&&m.jsx("div",{className:"grid grid-cols-7 gap-2 md:gap-4",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((P,O)=>m.jsxs("div",{className:"text-center flex flex-col justify-center items-center gap-1 text-black dark:text-black-0",children:[P,m.jsx(x1.TbCheck,{className:`w-10 h-10 rounded-full p-1 border border-black-500 dark:border-black-300 ${p.includes(P)?"bg-primary text-white border-primary dark:border-primary":"text-black dark:text-black-0 hover:bg-primary-light"}`,onClick:()=>_(P)})]},O))}),m.jsxs("div",{className:"flex justify-between gap-4",children:[m.jsxs("div",{className:"relative flex items-center gap-1 group",children:[m.jsxs("label",{htmlFor:"type",className:"text-nowrap text-black dark:text-black-0 group-hover:relative",children:["習慣類型",m.jsx("span",{className:"absolute -bottom-1 left-24 transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"你想要養成還是戒除呢？"})]}),m.jsx(wt.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200"})]}),m.jsxs("div",{className:"w-full grid grid-cols-2 gap-3",children:[m.jsxs("div",{children:[m.jsx("input",{type:"radio",name:"type",id:"to-do",value:"to-do",className:"appearance-none hidden",checked:t.type==="to-do",onChange:E}),m.jsx("label",{htmlFor:"to-do",className:`font-normal text-sm leading-5 block text-center py-px rounded border ${t.type==="to-do"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"養成"})]}),m.jsxs("div",{children:[m.jsx("input",{type:"radio",name:"type",id:"not-to-do",value:"not-to-do",className:"appearance-none hidden",checked:t.type==="not-to-do",onChange:E}),m.jsx("label",{htmlFor:"not-to-do",className:`font-normal text-sm leading-5 block text-center py-px rounded border ${t.type==="not-to-do"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"戒除"})]})]})]}),m.jsxs("div",{className:"flex justify-between gap-4",children:[m.jsxs("div",{className:"relative flex items-center gap-1 group",children:[m.jsxs("label",{htmlFor:"amount",className:"text-nowrap text-black dark:text-black-0 group-hover:relative",children:["習慣罰款",m.jsx("span",{className:"absolute -bottom-1 left-24 transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"如果沒完成習慣，你想支付多少罰款呢？"})]}),m.jsx(wt.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200"})]}),m.jsxs("div",{className:"flex gap-2 w-full",children:[m.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:"NT$"}),m.jsx("input",{type:"number",name:"amount",id:"amount",className:"px-4 text-end w-full rounded border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-sm leading-5 no-spinner dark:bg-black-100 dark:placeholder-black-400",placeholder:"請輸入未完成習慣的罰款",value:t.amount,onChange:E,min:0,onKeyDown:P=>P.key==="-"&&P.preventDefault()})]})]}),m.jsxs("div",{className:"flex justify-between gap-4 w-full",children:[m.jsxs("div",{className:"relative flex items-center gap-1 group",children:[m.jsxs("label",{htmlFor:"time",className:"text-nowrap text-black dark:text-black-0 group-hover:relative",children:["養成期間",m.jsx("span",{className:"absolute -bottom-1 left-24 transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto z-50 before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"你想要在什麼時候培養這個習慣呢？"})]}),m.jsx(wt.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200"})]}),m.jsxs("div",{className:"border border-black-300 w-full rounded py-0.5 px-4 flex justify-between items-center bg-black-0 dark:bg-black-100 relative",children:[m.jsx("button",{className:"text-center w-1/2 font-normal text-sm leading-5 text-black",onClick:k,children:t.startDate||"開始日期"}),m.jsx("p",{className:"px-2 text-black dark:text-black-0-300 font-normal text-sm leading-5",children:"-"}),m.jsx("button",{className:"text-center w-1/2 font-normal text-sm leading-5 text-black",onClick:T,children:t.endDate||"結束日期"})]}),m.jsx("input",{type:"text",name:"startDate",id:"startDate",className:"hidden",ref:v,placeholder:"開始日期",value:t.startDate,onFocus:()=>n("startDate"),onChange:E}),m.jsx("input",{type:"text",name:"endDate",id:"endDate",className:"hidden",ref:x,placeholder:"結束日期",value:t.endDate,onFocus:()=>n("endDate"),onChange:E}),i&&m.jsx("div",{ref:a,className:"w-3/5 md:w-1/6 absolute bottom-0 md:-bottom-12 2xl:-bottom-16 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-10",children:m.jsx(_1,{date:c,onSelect:u})})]}),m.jsxs("div",{className:"space-y-2",children:[y.title&&m.jsx("p",{className:"text-alert text-sm leading-5",children:y.title}),y.category&&m.jsx("p",{className:"text-alert text-sm leading-5",children:y.category}),y.frequency&&m.jsx("p",{className:"text-alert text-sm leading-5",children:y.frequency}),y.days&&m.jsx("p",{className:"text-alert text-sm leading-5",children:y.days}),y.type&&m.jsx("p",{className:"text-alert text-sm leading-5",children:y.type}),y.amount&&m.jsx("p",{className:"text-alert text-sm leading-5",children:y.amount}),y.startDate&&m.jsx("p",{className:"text-alert text-sm leading-5",children:y.startDate}),y.endDate&&m.jsx("p",{className:"text-alert text-sm leading-5",children:y.endDate}),m.jsx("button",{className:"w-full rounded-lg bg-primary font-medium text-sm leading-5 py-1 hover:bg-primary-dark",onClick:S,children:"養成習慣"})]})]})};JD.propTypes={habitData:q.object.isRequired,handleHabitChange:q.func.isRequired,handleAddHabit:q.func.isRequired,handleFocus:q.func.isRequired,showMonthCalendar:q.bool.isRequired,calendarTarget:q.string.isRequired,selectedDate:q.object.isRequired,handleSelectDate:q.func.isRequired,calendarRef:q.object.isRequired,handleHabitModal:q.func.isRequired,habitCategories:q.array.isRequired,setHabitData:q.func.isRequired,monthCalendarDate:q.object.isRequired,handleMonthCalendarSelectDate:q.func.isRequired,setCalendarTarget:q.func.isRequired,setShowMonthCalendar:q.func.isRequired};const k1=({selectedHabit:t,handleDetailModal:e,uncompletedFine:r,handleEditModal:n,habitCategories:i})=>{const a=i.find(u=>u.id===t.category),o=a?a.icon:null,s=u=>{switch(u.type){case"daily":return"每日";case"weekly":return"每週";case"specificDays":return"特定日期";default:return""}},l=[{bottom:0,left:0},{bottom:2,left:-1},{bottom:-1,left:-2},{bottom:2,left:0},{bottom:1,left:-1},{bottom:2,left:-2},{bottom:-2,left:1},{bottom:2,left:1}],c=u=>{const f=u.bottom>=0?`bottom-${u.bottom}`:`-bottom-${Math.abs(u.bottom)}`,h=u.left>=0?`left-${u.left}`:`-left-${Math.abs(u.left)}`;return`${f} ${h}`};return m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{className:"flex gap-4 items-center",children:[m.jsx("div",{className:"w-10 h-10 bg-primary rounded-full flex items-center justify-center",children:o&&m.jsx(o,{className:"w-8 h-8"})}),m.jsx("div",{className:"flex flex-col",children:m.jsx("div",{className:"flex items-center gap-2",children:m.jsx("h3",{className:"font-bold text-lg leading-6 text-black dark:text-black-0",children:t.title})})})]}),m.jsx(wt.TbX,{className:"w-6 h-6 hover:text-alert cursor-pointer text-black dark:text-black-0",onClick:e})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("h3",{className:"text-black dark:text-black-0",children:"養成頻率："}),m.jsx("p",{className:"text-black dark:text-black-0",children:s(t.frequency)})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("h3",{className:"text-black dark:text-black-0",children:"養成期間："}),m.jsxs("p",{className:"text-black dark:text-black-0",children:[t.startDate,"～",t.endDate]})]}),m.jsx("div",{className:"grid grid-cols-5 md:grid-cols-7 2xl:grid-cols-10 gap-2 md:gap-3 max-h-40 overflow-y-auto overflow-x-hidden",children:t.status.map((u,f)=>m.jsx("div",{className:"border border-black-500 dark:border-black-300 rounded aspect-square bg-black-50 relative",children:u.completed&&m.jsx("div",{className:`border-2 border-alert rounded-full aspect-square flex justify-center items-center absolute ${c(l[f%l.length])}`,children:m.jsx("p",{className:"font-lobster font-normal text-sm leading-5 text-alert -rotate-[30deg] p-1 w-12 h-10 flex items-center justify-center",children:new Date(u.date).toLocaleDateString("zh-TW",{month:"2-digit",day:"2-digit"})})})},f))}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("p",{className:"text-black dark:text-black-0",children:"累積存款："}),m.jsxs("p",{className:"text-black dark:text-black-0",children:["NT$ ",r]})]}),m.jsx("button",{className:"py-1 w-full bg-primary hover:bg-primary-dark rounded-lg font-medium text-sm leading-5",onClick:()=>n(t),children:"編輯習慣"})]})};k1.propTypes={selectedHabit:q.object.isRequired,handleDetailModal:q.func.isRequired,handlePostModal:q.func.isRequired,uncompletedFine:q.number.isRequired,handleEditModal:q.func.isRequired,habitCategories:q.array.isRequired};const E1=({habitData:t,handleHabitChange:e,handleUpdateHabit:r,handleDeleteHabit:n,handleFocus:i,showMonthCalendar:a,calendarRef:o,handleEditModal:s,habitCategories:l,setHabitData:c,monthCalendarDate:u,handleMonthCalendarSelectDate:f,setCalendarTarget:h,setShowMonthCalendar:p})=>{const[g,y]=M.useState(t.frequency.days||[]),[b,_]=M.useState({}),[v,x]=M.useState(!1),[k,T]=M.useState(null);M.useEffect(()=>{y(t.frequency.days||[])},[t.frequency.days]);const C=B=>{const W=g.includes(B)?g.filter(H=>H!==B):[...g,B];y(W),c(H=>{const U={...H.frequency,days:W},G=S(H.startDate,H.endDate,U);return{...H,frequency:U,status:G}})},S=(B,W,H)=>{const U=new Date(B),G=new Date(W),J=[];if(H.type==="daily")for(let oe=U;oe<=G;oe.setDate(oe.getDate()+1))J.push({date:new Date(oe).toDateString(),completed:!1});else if(H.type==="weekly")for(let oe=U;oe<=G;oe.setDate(oe.getDate()+7))J.push({date:new Date(oe).toDateString(),completed:!1});else if(H.type==="specificDays"){const oe=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Y=H.days||[];for(let se=U;se<=G;se.setDate(se.getDate()+1))Y.includes(oe[se.getDay()])&&J.push({date:new Date(se).toDateString(),completed:!1})}return J},E=M.useRef(null),P=M.useRef(null),O=()=>{h("startDate"),p(!0)},R=()=>{h("endDate"),p(!0)},N=()=>{const B={};return t.title||(B.title="請輸入習慣名稱"),!t.category&&t.category!==0&&(B.category="請選擇習慣類別"),t.frequency.type||(B.frequency="請選擇習慣頻率"),t.frequency.type==="specificDays"&&g.length===0&&(B.days="請選擇至少一天"),t.type||(B.type="請選擇習慣類型"),t.amount||(B.amount="請輸入罰款金額"),t.startDate||(B.startDate="請選擇開始日期"),t.endDate||(B.endDate="請選擇結束日期"),_(B),Object.keys(B).length===0},I=()=>{N()&&r()},V=B=>{const{name:W,value:H}=B.target;e(B),_(U=>{const G={...U};return H&&delete G[W],G})};return m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex justify-between items-center gap-4",children:[m.jsx("div",{className:"flex items-center gap-4 w-full",children:m.jsx("input",{type:"text",name:"title",placeholder:"輸入習慣名稱",className:"py-1.5 px-4 w-full rounded-xl border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-sm leading-5 dark:bg-black-100 dark:placeholder-black",value:t.title,onChange:V})}),m.jsx(wt.TbX,{className:"w-6 h-6 hover:text-alert cursor-pointer text-black dark:text-black-0",onClick:s})]}),m.jsxs("div",{className:"flex justify-between items-start gap-4",children:[m.jsxs("div",{className:"relative flex items-center gap-1 group",children:[m.jsxs("label",{htmlFor:"category",className:"text-nowrap text-black dark:text-black-0 group-hover:relative",children:["習慣類別",m.jsx("span",{className:"absolute -bottom-1 left-24 transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto z-50 before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"你想要培養什麼類別的習慣呢？"})]}),m.jsx(wt.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200"})]}),m.jsx(Wg,{options:l,value:t.category,onChange:B=>e({target:{name:"category",value:B}})})]}),m.jsxs("div",{className:"flex justify-between gap-4",children:[m.jsxs("div",{className:"relative flex items-center gap-1 group",children:[m.jsxs("label",{htmlFor:"frequency",className:"text-nowrap text-black dark:text-black-0 group-hover:relative",children:["習慣頻率",m.jsx("span",{className:"absolute -bottom-1 left-24 transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"你想要怎麼安排習慣頻率呢？"})]}),m.jsx(wt.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200"})]}),m.jsxs("div",{className:"w-full grid grid-cols-3 gap-3",children:[m.jsxs("div",{children:[m.jsx("input",{type:"radio",name:"frequency",id:"daily",value:"daily",className:"appearance-none hidden",checked:t.frequency.type==="daily",onChange:V}),m.jsx("label",{htmlFor:"daily",className:`font-normal text-sm leading-5 block text-center py-px rounded border ${t.frequency.type==="daily"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"每日"})]}),m.jsxs("div",{children:[m.jsx("input",{type:"radio",name:"frequency",id:"weekly",value:"weekly",className:"appearance-none hidden",checked:t.frequency.type==="weekly",onChange:V}),m.jsx("label",{htmlFor:"weekly",className:`font-normal text-sm leading-5 block text-center py-px rounded border ${t.frequency.type==="weekly"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"每週"})]}),m.jsxs("div",{children:[m.jsx("input",{type:"radio",name:"frequency",id:"specificDays",value:"specificDays",className:"appearance-none hidden",checked:t.frequency.type==="specificDays",onChange:V}),m.jsx("label",{htmlFor:"specificDays",className:`font-normal text-sm leading-5 block text-center py-px rounded border ${t.frequency.type==="specificDays"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"特定日期"})]})]})]}),t.frequency.type==="specificDays"&&m.jsx("div",{className:"grid grid-cols-7 gap-2 md:gap-4",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((B,W)=>m.jsxs("div",{className:"text-center flex flex-col justify-center items-center gap-1 text-black dark:text-black-0",children:[B,m.jsx(x1.TbCheck,{className:`w-10 h-10 rounded-full p-1 border border-black-500 ${g.includes(B)?"bg-primary text-white border-primary":"text-black dark:text-black-0 hover:bg-primary-light"}`,onClick:()=>C(B)})]},W))}),m.jsxs("div",{className:"flex justify-between gap-4",children:[m.jsxs("div",{className:"relative flex items-center gap-1 group",children:[m.jsxs("label",{htmlFor:"type",className:"text-nowrap text-black dark:text-black-0 group-hover:relative",children:["習慣類型",m.jsx("span",{className:"absolute -bottom-1 left-24 transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"你想要養成還是戒除呢？"})]}),m.jsx(wt.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200"})]}),m.jsxs("div",{className:"w-full grid grid-cols-2 gap-3",children:[m.jsxs("div",{children:[m.jsx("input",{type:"radio",name:"type",id:"to-do",value:"to-do",className:"appearance-none hidden",checked:t.type==="to-do",onChange:V}),m.jsx("label",{htmlFor:"to-do",className:`font-normal text-sm leading-5 block text-center py-px rounded border ${t.type==="to-do"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"養成"})]}),m.jsxs("div",{children:[m.jsx("input",{type:"radio",name:"type",id:"not-to-do",value:"not-to-do",className:"appearance-none hidden",checked:t.type==="not-to-do",onChange:V}),m.jsx("label",{htmlFor:"not-to-do",className:`font-normal text-sm leading-5 block text-center py-px rounded border ${t.type==="not-to-do"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"戒除"})]})]})]}),m.jsxs("div",{className:"flex justify-between gap-4",children:[m.jsxs("div",{className:"relative flex items-center gap-1 group",children:[m.jsxs("label",{htmlFor:"amount",className:"text-nowrap text-black dark:text-black-0 group-hover:relative",children:["習慣罰款",m.jsx("span",{className:"absolute -bottom-1 left-24 transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"如果沒完成習慣，你想支付多少罰款呢？"})]}),m.jsx(wt.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200"})]}),m.jsxs("div",{className:"flex gap-2 w-full",children:[m.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:"NT$"}),m.jsx("input",{type:"number",name:"amount",id:"amount",className:"px-4 text-end w-full rounded border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-sm leading-5 no-spinner dark:bg-black-100 dark:placeholder-black",placeholder:"請輸入未完成習慣的罰款金額",value:t.amount,onChange:V,min:0,onKeyDown:B=>B.key==="-"&&B.preventDefault()})]})]}),m.jsxs("div",{className:"flex justify-between gap-4 w-full",children:[m.jsxs("div",{className:"relative flex items-center gap-1 group",children:[m.jsxs("label",{htmlFor:"time",className:"text-nowrap text-black dark:text-black-0 group-hover:relative",children:["養成期間",m.jsx("span",{className:"absolute -bottom-1 left-24 transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto z-50 before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"你想要在什麼時候培養這個習慣呢？"})]}),m.jsx(wt.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200"})]}),m.jsxs("div",{className:"border border-black-300 w-full rounded py-0.5 px-4 flex justify-between items-center bg-black-0 dark:bg-black-100 relative",children:[m.jsx("button",{className:"text-center w-1/2 font-normal text-sm leading-5 text-black",onClick:O,children:t.startDate||"開始日期"}),m.jsx("p",{className:"px-2 text-black font-normal text-sm leading-5",children:"-"}),m.jsx("button",{className:"text-center w-1/2 font-normal text-sm leading-5 text-black",onClick:R,children:t.endDate||"結束日期"})]}),m.jsx("input",{type:"text",name:"startDate",id:"startDate",className:"hidden",ref:E,placeholder:"開始日期",value:t.startDate,onFocus:()=>i("startDate"),onChange:V}),m.jsx("input",{type:"text",name:"endDate",id:"endDate",className:"hidden",ref:P,placeholder:"結束日期",value:t.endDate,onFocus:()=>i("endDate"),onChange:V}),a&&m.jsx("div",{ref:o,className:"w-3/5 md:w-1/6 absolute bottom-0 md:-bottom-12 2xl:-bottom-16 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-10",children:m.jsx(_1,{date:u,onSelect:f})})]}),m.jsxs("div",{className:"space-y-2",children:[b.title&&m.jsx("p",{className:"text-alert text-sm leading-5",children:b.title}),b.category&&m.jsx("p",{className:"text-alert text-sm leading-5",children:b.category}),b.frequency&&m.jsx("p",{className:"text-alert text-sm leading-5",children:b.frequency}),b.days&&m.jsx("p",{className:"text-alert text-sm leading-5",children:b.days}),b.type&&m.jsx("p",{className:"text-alert text-sm leading-5",children:b.type}),b.amount&&m.jsx("p",{className:"text-alert text-sm leading-5",children:b.amount}),b.startDate&&m.jsx("p",{className:"text-alert text-sm leading-5",children:b.startDate}),b.endDate&&m.jsx("p",{className:"text-alert text-sm leading-5",children:b.endDate}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsx("button",{className:"w-full py-1 font-normal text-sm leading-5 bg-alert text-white rounded-lg",onClick:()=>{T(()=>n),x(!0)},children:"刪除習慣"}),m.jsx("button",{className:"w-full py-1 font-normal text-sm leading-5 bg-primary rounded-lg hover:bg-primary-dark",onClick:()=>{T(()=>I),x(!0)},children:"更新習慣"}),v&&m.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:m.jsxs("div",{className:"bg-white dark:bg-black-800 p-4 rounded-xl shadow-lg",children:[m.jsx("p",{className:"text-black dark:text-white mb-4",children:"你確定要執行這個操作嗎？"}),m.jsxs("div",{className:"flex justify-end gap-2",children:[m.jsx("button",{className:"py-1 px-3 bg-gray-300 rounded-lg",onClick:()=>x(!1),children:"取消"}),m.jsx("button",{className:"py-1 px-3 bg-primary rounded-lg text-black",onClick:()=>{k(),x(!1)},children:"確認"})]})]})})]})]})]})};E1.propTypes={habitData:q.object.isRequired,handleHabitChange:q.func.isRequired,handleUpdateHabit:q.func.isRequired,handleDeleteHabit:q.func.isRequired,handleFocus:q.func.isRequired,showMonthCalendar:q.bool.isRequired,calendarTarget:q.string.isRequired,selectedDate:q.object.isRequired,handleSelectDate:q.func.isRequired,calendarRef:q.object.isRequired,handleEditModal:q.func.isRequired,habitCategories:q.array.isRequired,setHabitData:q.func.isRequired,monthCalendarDate:q.object.isRequired,handleMonthCalendarSelectDate:q.func.isRequired,setCalendarTarget:q.func.isRequired,setShowMonthCalendar:q.func.isRequired};const S1=({habits:t,habitCategories:e,handleDetailClick:r,weekDates:n,handleCheck:i})=>{const a=vs(),o=s=>{switch(s){case"to-do":return"養成";case"not-to-do":return"戒除";default:return""}};return m.jsx("ul",{className:`space-y-4 mt-2 ${a.pathname==="/home"?"p-4":""}`,children:Array.isArray(t)&&t.map(s=>{const l=new Date;l.setHours(0,0,0,0);const c=new Date(s.endDate);c.setHours(0,0,0,0);const u=c<l,f=e.find(p=>p.id===s.category),h=f?f.icon:null;return m.jsxs("li",{className:`p-4 rounded-2xl ${u?"bg-black-300 hover:bg-black-200 dark:bg-black-800 dark:hover:bg-black-900":"bg-black-50 dark:bg-black-500 hover:bg-black-0 dark:hover:bg-black-600"}`,children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"w-10 h-10 bg-primary rounded-full flex items-center justify-center",children:h&&m.jsx(h,{className:"w-8 h-8"})}),m.jsxs("div",{className:"flex flex-col",children:[m.jsx("h3",{className:"font-bold text-base leading-6 text-black dark:text-black-0",children:s.title}),m.jsxs("div",{className:"flex",children:[m.jsxs("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:[o(s.type),"｜罰款 $",s.amount,"｜已達成 ",s.status.filter(p=>p.completed).length]}),m.jsxs("p",{className:"text-black-500 dark:text-black-300 font-normal text-sm leading-5",children:["/",s.status.length]})]})]})]}),m.jsx("button",{className:"text-black dark:text-black-0 hover:text-alert",onClick:()=>r(s),children:m.jsx(hH.TbCalendarSmile,{className:"w-6 h-6 md:w-8 md:h-8"})})]}),n&&m.jsxs("div",{className:"grid grid-cols-7 gap-y-1",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((p,g)=>m.jsx("div",{className:"text-center text-sm leading-5 md:font-normal md:text-base md:leading-6 text-black dark:text-black-0",children:p},g)),n.map((p,g)=>{const y=s.status.find(b=>new Date(b.date).toDateString()===new Date(p.year,p.month,p.day).toDateString());return m.jsx("div",{className:"flex flex-col items-center",children:y?u&&!y.completed?m.jsx(wt.TbX,{className:"w-10 h-10 md:w-12 md:h-12 border-2 rounded-full bg-alert text-black-0 border-alert cursor-not-allowed"}):m.jsx(x1.TbCheck,{className:`w-10 h-10 md:w-12 md:h-12 border-2 rounded-full ${y.completed?"bg-primary text-black-0 border-primary":"text-black-500 dark:text-black-0 border-black-500 dark:border-black-300"} ${u?"cursor-not-allowed":"cursor-pointer hover:bg-primary-light"}`,onClick:()=>!u&&y&&i(s.id,y.date),disabled:!y}):m.jsx("div",{className:`w-10 h-10 md:w-12 md:h-12 rounded-full cursor-not-allowed border-2 border-dashed ${u?"bg-black-transparent border-black-500":"bg-transparent border-black-300"}`})},g)})]})]},s.id)})})};S1.propTypes={habits:q.array.isRequired,habitCategories:q.array.isRequired,handleDetailClick:q.func.isRequired,weekDates:q.array,handleCheck:q.func};let yH={data:""},vH=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||yH,bH=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,xH=/\/\*[^]*?\*\/|  +/g,kA=/\n+/g,ja=(t,e)=>{let r="",n="",i="";for(let a in t){let o=t[a];a[0]=="@"?a[1]=="i"?r=a+" "+o+";":n+=a[1]=="f"?ja(o,a):a+"{"+ja(o,a[1]=="k"?"":e)+"}":typeof o=="object"?n+=ja(o,e?e.replace(/([^,])+/g,s=>a.replace(/(^:.*)|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,s):s?s+" "+l:l)):a):o!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=ja.p?ja.p(a,o):a+":"+o+";")}return r+(e&&i?e+"{"+i+"}":i)+n},Oi={},ZD=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+ZD(t[r]);return e}return t},wH=(t,e,r,n,i)=>{let a=ZD(t),o=Oi[a]||(Oi[a]=(l=>{let c=0,u=11;for(;c<l.length;)u=101*u+l.charCodeAt(c++)>>>0;return"go"+u})(a));if(!Oi[o]){let l=a!==t?t:(c=>{let u,f,h=[{}];for(;u=bH.exec(c.replace(xH,""));)u[4]?h.shift():u[3]?(f=u[3].replace(kA," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][u[1]]=u[2].replace(kA," ").trim();return h[0]})(t);Oi[o]=ja(i?{["@keyframes "+o]:l}:l,r?"":"."+o)}let s=r&&Oi.g?Oi.g:null;return r&&(Oi.g=Oi[o]),((l,c,u,f)=>{f?c.data=c.data.replace(f,l):c.data.indexOf(l)===-1&&(c.data=u?l+c.data:c.data+l)})(Oi[o],e,n,s),o},_H=(t,e,r)=>t.reduce((n,i,a)=>{let o=e[a];if(o&&o.call){let s=o(r),l=s&&s.props&&s.props.className||/^go/.test(s)&&s;o=l?"."+l:s&&typeof s=="object"?s.props?"":ja(s,""):s===!1?"":s}return n+i+(o??"")},"");function qg(t){let e=this||{},r=t.call?t(e.p):t;return wH(r.unshift?r.raw?_H(r,[].slice.call(arguments,1),e.p):r.reduce((n,i)=>Object.assign(n,i&&i.call?i(e.p):i),{}):r,vH(e.target),e.g,e.o,e.k)}let eM,Mb,$b;qg.bind({g:1});let na=qg.bind({k:1});function kH(t,e,r,n){ja.p=e,eM=t,Mb=r,$b=n}function bo(t,e){let r=this||{};return function(){let n=arguments;function i(a,o){let s=Object.assign({},a),l=s.className||i.className;r.p=Object.assign({theme:Mb&&Mb()},s),r.o=/ *go\d+/.test(l),s.className=qg.apply(r,n)+(l?" "+l:"");let c=t;return t[0]&&(c=s.as||t,delete s.as),$b&&c[0]&&$b(s),eM(c,s)}return i}}var EH=t=>typeof t=="function",fm=(t,e)=>EH(t)?t(e):t,SH=(()=>{let t=0;return()=>(++t).toString()})(),tM=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),TH=20,dp=new Map,AH=1e3,EA=t=>{if(dp.has(t))return;let e=setTimeout(()=>{dp.delete(t),Ss({type:4,toastId:t})},AH);dp.set(t,e)},PH=t=>{let e=dp.get(t);e&&clearTimeout(e)},Lb=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,TH)};case 1:return e.toast.id&&PH(e.toast.id),{...t,toasts:t.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:r}=e;return t.toasts.find(a=>a.id===r.id)?Lb(t,{type:1,toast:r}):Lb(t,{type:0,toast:r});case 3:let{toastId:n}=e;return n?EA(n):t.toasts.forEach(a=>{EA(a.id)}),{...t,toasts:t.toasts.map(a=>a.id===n||n===void 0?{...a,visible:!1}:a)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+i}))}}},hp=[],pp={toasts:[],pausedAt:void 0},Ss=t=>{pp=Lb(pp,t),hp.forEach(e=>{e(pp)})},IH={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},OH=(t={})=>{let[e,r]=M.useState(pp);M.useEffect(()=>(hp.push(r),()=>{let i=hp.indexOf(r);i>-1&&hp.splice(i,1)}),[e]);let n=e.toasts.map(i=>{var a,o;return{...t,...t[i.type],...i,duration:i.duration||((a=t[i.type])==null?void 0:a.duration)||(t==null?void 0:t.duration)||IH[i.type],style:{...t.style,...(o=t[i.type])==null?void 0:o.style,...i.style}}});return{...e,toasts:n}},CH=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||SH()}),Pd=t=>(e,r)=>{let n=CH(e,t,r);return Ss({type:2,toast:n}),n.id},cn=(t,e)=>Pd("blank")(t,e);cn.error=Pd("error");cn.success=Pd("success");cn.loading=Pd("loading");cn.custom=Pd("custom");cn.dismiss=t=>{Ss({type:3,toastId:t})};cn.remove=t=>Ss({type:4,toastId:t});cn.promise=(t,e,r)=>{let n=cn.loading(e.loading,{...r,...r==null?void 0:r.loading});return t.then(i=>(cn.success(fm(e.success,i),{id:n,...r,...r==null?void 0:r.success}),i)).catch(i=>{cn.error(fm(e.error,i),{id:n,...r,...r==null?void 0:r.error})}),t};var NH=(t,e)=>{Ss({type:1,toast:{id:t,height:e}})},RH=()=>{Ss({type:5,time:Date.now()})},jH=t=>{let{toasts:e,pausedAt:r}=OH(t);M.useEffect(()=>{if(r)return;let a=Date.now(),o=e.map(s=>{if(s.duration===1/0)return;let l=(s.duration||0)+s.pauseDuration-(a-s.createdAt);if(l<0){s.visible&&cn.dismiss(s.id);return}return setTimeout(()=>cn.dismiss(s.id),l)});return()=>{o.forEach(s=>s&&clearTimeout(s))}},[e,r]);let n=M.useCallback(()=>{r&&Ss({type:6,time:Date.now()})},[r]),i=M.useCallback((a,o)=>{let{reverseOrder:s=!1,gutter:l=8,defaultPosition:c}=o||{},u=e.filter(p=>(p.position||c)===(a.position||c)&&p.height),f=u.findIndex(p=>p.id===a.id),h=u.filter((p,g)=>g<f&&p.visible).length;return u.filter(p=>p.visible).slice(...s?[h+1]:[0,h]).reduce((p,g)=>p+(g.height||0)+l,0)},[e]);return{toasts:e,handlers:{updateHeight:NH,startPause:RH,endPause:n,calculateOffset:i}}},DH=na`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,MH=na`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,$H=na`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,LH=bo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${DH} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${MH} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${$H} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,FH=na`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,VH=bo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${FH} 1s linear infinite;
`,UH=na`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,BH=na`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,zH=bo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${UH} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${BH} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,WH=bo("div")`
  position: absolute;
`,qH=bo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,HH=na`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,KH=bo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${HH} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,GH=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?M.createElement(KH,null,e):e:r==="blank"?null:M.createElement(qH,null,M.createElement(VH,{...n}),r!=="loading"&&M.createElement(WH,null,r==="error"?M.createElement(LH,{...n}):M.createElement(zH,{...n})))},XH=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,YH=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,QH="0%{opacity:0;} 100%{opacity:1;}",JH="0%{opacity:1;} 100%{opacity:0;}",ZH=bo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,eK=bo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,tK=(t,e)=>{let r=t.includes("top")?1:-1,[n,i]=tM()?[QH,JH]:[XH(r),YH(r)];return{animation:e?`${na(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${na(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},rK=M.memo(({toast:t,position:e,style:r,children:n})=>{let i=t.height?tK(t.position||e||"top-center",t.visible):{opacity:0},a=M.createElement(GH,{toast:t}),o=M.createElement(eK,{...t.ariaProps},fm(t.message,t));return M.createElement(ZH,{className:t.className,style:{...i,...r,...t.style}},typeof n=="function"?n({icon:a,message:o}):M.createElement(M.Fragment,null,a,o))});kH(M.createElement);var nK=({id:t,className:e,style:r,onHeightUpdate:n,children:i})=>{let a=M.useCallback(o=>{if(o){let s=()=>{let l=o.getBoundingClientRect().height;n(t,l)};s(),new MutationObserver(s).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return M.createElement("div",{ref:a,className:e,style:r},i)},iK=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:tM()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...i}},aK=qg`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ph=16,T1=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:i,containerStyle:a,containerClassName:o})=>{let{toasts:s,handlers:l}=jH(r);return M.createElement("div",{style:{position:"fixed",zIndex:9999,top:Ph,left:Ph,right:Ph,bottom:Ph,pointerEvents:"none",...a},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},s.map(c=>{let u=c.position||e,f=l.calculateOffset(c,{reverseOrder:t,gutter:n,defaultPosition:e}),h=iK(u,f);return M.createElement(nK,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?aK:"",style:h},c.type==="custom"?fm(c.message,c):i?i(c):M.createElement(rK,{toast:c,position:u}))}))};const _n=t=>{cn(t,{icon:m.jsx("img",{src:YD,alt:"Habit Piggy Logo",style:{width:"40px",height:"40px"}}),style:{borderRadius:"16px",background:"#212121",color:"#fff"},duration:3e3})};function oK(){const[t,e]=M.useState(!1),[r,n]=M.useState(!1),[i,a]=M.useState(!1),[o,s]=M.useState({category:null,title:"",frequency:{type:"daily"},amount:0,startDate:"",endDate:"",status:[],type:""}),[l,c]=M.useState([]),[u,f]=M.useState(null),[h,p]=M.useState(!1),[g,y]=M.useState(""),[b,_]=M.useState(null),[v,x]=M.useState([]),[k,T]=M.useState(0),[C,S]=M.useState(null),E=M.useRef(null),{user:P}=M.useContext(Qn),O=[{id:0,name:"生產力",icon:kr.TbRocket},{id:1,name:"個人成長",icon:kr.TbBook},{id:2,name:"運動健身",icon:kr.TbWalk},{id:3,name:"飲食健康",icon:kr.TbBowlChopsticks},{id:4,name:"心靈成長",icon:kr.TbMoodHeart},{id:5,name:"手作興趣",icon:kr.TbHandGrab},{id:6,name:"財務管理",icon:kr.TbCash},{id:7,name:"環境生活",icon:kr.TbPlant}];M.useEffect(()=>{P&&N()}),M.useEffect(()=>{const re=ge=>{E.current&&!E.current.contains(ge.target)&&p(!1)};return document.addEventListener("mousedown",re),()=>{document.removeEventListener("mousedown",re)}},[]),M.useEffect(()=>{const re=new Date;f({year:re.getFullYear(),month:re.getMonth(),day:re.getDate()}),S({year:re.getFullYear(),month:re.getMonth(),day:re.getDate()})},[]);const R=(re,ge,be)=>{const ke=new Date(re),j=new Date(ge),$=new Date(be);return ke.setHours(0,0,0,0),j.setHours(0,0,0,0),$.setHours(23,59,59,999),ke>=j&&ke<=$},N=async(re=null)=>{const ge=await us(P.uid),be=re?new Date(re.year,re.month,re.day):new Date,j=ge.sort(($,F)=>new Date(F.createdTime)-new Date($.createdTime)).filter($=>R(be,$.startDate,$.endDate)).sort(($,F)=>new Date(F.endDate)-new Date($.endDate));c(j||[])},I=()=>{e(!t),s({category:null,title:"",frequency:"daily",amount:0,startDate:"",endDate:"",status:[],type:""})},V=()=>{n(!r)},B=re=>{s({category:re.category,title:re.title,frequency:re.frequency,amount:re.amount,startDate:re.startDate,endDate:re.endDate,status:re.status,type:re.type}),n(!1),a(!i)},W=re=>{const{name:ge,value:be}=re.target;if(ge==="frequency"){let ke;be==="specificDays"?ke={type:be,days:o.frequency.days||[]}:ke={type:be};const j=H(o.startDate,o.endDate,ke);s($=>({...$,frequency:ke,status:j}))}else if(ge==="startDate"||ge==="endDate"){const ke={...o,[ge]:be},j=H(ke.startDate,ke.endDate,ke.frequency);s($=>({...$,[ge]:be,status:j}))}else s(ke=>({...ke,[ge]:be}))},H=(re,ge,be)=>{const ke=new Date(re),j=new Date(ge),$=[];if(be.type==="daily")for(let F=ke;F<=j;F.setDate(F.getDate()+1))$.push({date:new Date(F).toDateString(),completed:!1});else if(be.type==="weekly")for(let F=new Date(ke);F<=j;F.setDate(F.getDate()+7)){const X=new Date(F);X.setDate(X.getDate()+(6-X.getDay())),X<=j&&$.push({date:X.toDateString(),completed:!1})}else if(be.type==="specificDays"){const F=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],X=Object.values(be.days)||[];for(let Z=new Date(ke);Z<=j;Z.setDate(Z.getDate()+1))X.includes(F[Z.getDay()])&&$.push({date:new Date(Z).toDateString(),completed:!1})}return $},U=async()=>{if(P){const re=new Date(o.startDate);if(new Date(o.endDate)<=re){alert("結束日期必須晚於開始日期");return}const be=H(o.startDate,o.endDate,o.frequency),ke={...o,status:be};await cq(P.uid,ke),await kl(P.uid),await Vu(P.uid),N(),I(),s({category:null,title:"",frequency:{type:"daily"},amount:0,startDate:"",endDate:"",status:[],type:""}),ce()}else console.error("User not authenticated")},G=async()=>{if(P&&b){const re=new Date(o.startDate);if(new Date(o.endDate)<=re){alert("結束日期必須晚於開始日期");return}const ke={...b,...o,id:b.id};await Db(P.uid,b.id,ke),await kl(P.uid),await Vu(P.uid);const j=await Lu(P.uid,"habit");await Fu(P.uid,"habit",j),N(),a(!1),n(!1),xe()}else console.error("User not authenticated or habit not selected")},J=async()=>{if(P&&b){await $D(P.uid,b.id),await kl(P.uid),await Vu(P.uid);const re=await Lu(P.uid,"habit");await Fu(P.uid,"habit",re);const ge=await us(P.uid);c(ge),ge.filter(ke=>ke.category===b.category).length===0&&await VD(P.uid,b.category),N(),a(!1),n(!1),_e()}else console.error("User not authenticated or habit not selected")},oe=async re=>{f(re),await N(re),g&&(s(ge=>({...ge,[g]:`${re.year}-${String(re.month+1).padStart(2,"0")}-${String(re.day).padStart(2,"0")}`})),p(!1),y(""))},Y=re=>{if(S(re),g){const ge=`${re.year}-${String(re.month+1).padStart(2,"0")}-${String(re.day).padStart(2,"0")}`;s(be=>({...be,[g]:ge})),p(!1),y("")}},se=re=>{y(re),p(!0)},Ee=async(re,ge)=>{try{const be=await ii(re),ke=Number(be.levelPoints),j=Number(ge),$=ke+j;await b1(re,{levelPoints:$})}catch(be){console.error("Error getting user profile: ",be)}},Re=async(re,ge)=>{const be=l.map(j=>{if(j.id===re){const $=j.status.map(F=>{if(new Date(F.date).toDateString()===new Date(ge).toDateString()){const X=!F.completed;return X?(Ee(P.uid,j.amount),Q()):(Ee(P.uid,-j.amount),Ue()),{...F,completed:X}}return F});return{...j,status:$}}return j});c(be);const ke=be.find(j=>j.id===re);try{await Db(P.uid,re,ke),await Mt("habit")}catch(j){console.error("Error updating habit in Firestore: ",j)}},Ze=re=>{const ge=new Date;return ge.setHours(0,0,0,0),re.status.filter(ke=>{const j=new Date(ke.date);return j.setHours(0,0,0,0),j<ge&&!ke.completed}).length*re.amount},Ve=re=>{_(re),T(Ze(re)),n(!0)},Mt=async re=>{if(!(!P||!P.uid))try{const ge=await Lu(P.uid,re);await Fu(P.uid,re,ge)}catch(ge){console.error("Error handling achievements: ",ge)}},ce=()=>_n("從今天開始培養習慣吧！"),xe=()=>_n("人要時時刻刻做好準備！"),_e=()=>_n("人都會忘記初心的嗎？"),Q=()=>_n("你好棒！繼續保持！"),Ue=()=>_n("要記得回來完成喔！");return m.jsxs("div",{className:"md:pb-6",children:[m.jsx(QD,{date:u,onSelect:oe,onWeekChange:x}),m.jsx(S1,{habits:l,habitCategories:O,handleDetailClick:Ve,weekDates:v,handleCheck:Re}),m.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-full flex items-center justify-center fixed right-4 bottom-20 md:bottom-10 bg-primary hover:bg-primary-dark cursor-pointer",onClick:I,children:m.jsx(pH.TbPlus,{className:"w-8 h-8 md:w-10 md:h-10 text-black-0"})}),m.jsx(T1,{}),m.jsx(Bn,{isOpen:t,children:m.jsx(JD,{habitData:o,handleHabitChange:W,handleAddHabit:U,handleFocus:se,showMonthCalendar:h,calendarRef:E,handleHabitModal:I,habitCategories:O,setHabitData:s,monthCalendarDate:C,handleMonthCalendarSelectDate:Y,setCalendarTarget:y,setShowMonthCalendar:p})}),m.jsx(Bn,{isOpen:r,onClose:V,children:m.jsx(k1,{selectedHabit:b,handleDetailModal:V,uncompletedFine:k,handleEditModal:B,habitCategories:O})}),m.jsx(Bn,{isOpen:i,onClose:B,children:m.jsx(E1,{habitData:o,handleHabitChange:W,handleUpdateHabit:G,handleFocus:se,showMonthCalendar:h,calendarTarget:g,calendarRef:E,handleEditModal:B,handleDeleteHabit:J,habitCategories:O,setHabitData:s,monthCalendarDate:C,handleMonthCalendarSelectDate:Y,setCalendarTarget:y,setShowMonthCalendar:p})})]})}function rM(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=rM(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function je(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=rM(t))&&(n&&(n+=" "),n+=e);return n}var sK=Array.isArray,Zr=sK,lK=typeof th=="object"&&th&&th.Object===Object&&th,nM=lK,cK=nM,uK=typeof self=="object"&&self&&self.Object===Object&&self,fK=cK||uK||Function("return this")(),ki=fK,dK=ki,hK=dK.Symbol,Id=hK,SA=Id,iM=Object.prototype,pK=iM.hasOwnProperty,mK=iM.toString,Zc=SA?SA.toStringTag:void 0;function gK(t){var e=pK.call(t,Zc),r=t[Zc];try{t[Zc]=void 0;var n=!0}catch{}var i=mK.call(t);return n&&(e?t[Zc]=r:delete t[Zc]),i}var yK=gK,vK=Object.prototype,bK=vK.toString;function xK(t){return bK.call(t)}var wK=xK,TA=Id,_K=yK,kK=wK,EK="[object Null]",SK="[object Undefined]",AA=TA?TA.toStringTag:void 0;function TK(t){return t==null?t===void 0?SK:EK:AA&&AA in Object(t)?_K(t):kK(t)}var ca=TK;function AK(t){return t!=null&&typeof t=="object"}var ua=AK,PK=ca,IK=ua,OK="[object Symbol]";function CK(t){return typeof t=="symbol"||IK(t)&&PK(t)==OK}var gc=CK,NK=Zr,RK=gc,jK=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,DK=/^\w*$/;function MK(t,e){if(NK(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||RK(t)?!0:DK.test(t)||!jK.test(t)||e!=null&&t in Object(e)}var A1=MK;function $K(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var xo=$K;const yc=it(xo);var LK=ca,FK=xo,VK="[object AsyncFunction]",UK="[object Function]",BK="[object GeneratorFunction]",zK="[object Proxy]";function WK(t){if(!FK(t))return!1;var e=LK(t);return e==UK||e==BK||e==VK||e==zK}var P1=WK;const Ce=it(P1);var qK=ki,HK=qK["__core-js_shared__"],KK=HK,Fv=KK,PA=function(){var t=/[^.]+$/.exec(Fv&&Fv.keys&&Fv.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function GK(t){return!!PA&&PA in t}var XK=GK,YK=Function.prototype,QK=YK.toString;function JK(t){if(t!=null){try{return QK.call(t)}catch{}try{return t+""}catch{}}return""}var aM=JK,ZK=P1,eG=XK,tG=xo,rG=aM,nG=/[\\^$.*+?()[\]{}|]/g,iG=/^\[object .+?Constructor\]$/,aG=Function.prototype,oG=Object.prototype,sG=aG.toString,lG=oG.hasOwnProperty,cG=RegExp("^"+sG.call(lG).replace(nG,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function uG(t){if(!tG(t)||eG(t))return!1;var e=ZK(t)?cG:iG;return e.test(rG(t))}var fG=uG;function dG(t,e){return t==null?void 0:t[e]}var hG=dG,pG=fG,mG=hG;function gG(t,e){var r=mG(t,e);return pG(r)?r:void 0}var Ts=gG,yG=Ts,vG=yG(Object,"create"),Hg=vG,IA=Hg;function bG(){this.__data__=IA?IA(null):{},this.size=0}var xG=bG;function wG(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var _G=wG,kG=Hg,EG="__lodash_hash_undefined__",SG=Object.prototype,TG=SG.hasOwnProperty;function AG(t){var e=this.__data__;if(kG){var r=e[t];return r===EG?void 0:r}return TG.call(e,t)?e[t]:void 0}var PG=AG,IG=Hg,OG=Object.prototype,CG=OG.hasOwnProperty;function NG(t){var e=this.__data__;return IG?e[t]!==void 0:CG.call(e,t)}var RG=NG,jG=Hg,DG="__lodash_hash_undefined__";function MG(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=jG&&e===void 0?DG:e,this}var $G=MG,LG=xG,FG=_G,VG=PG,UG=RG,BG=$G;function vc(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}vc.prototype.clear=LG;vc.prototype.delete=FG;vc.prototype.get=VG;vc.prototype.has=UG;vc.prototype.set=BG;var zG=vc;function WG(){this.__data__=[],this.size=0}var qG=WG;function HG(t,e){return t===e||t!==t&&e!==e}var I1=HG,KG=I1;function GG(t,e){for(var r=t.length;r--;)if(KG(t[r][0],e))return r;return-1}var Kg=GG,XG=Kg,YG=Array.prototype,QG=YG.splice;function JG(t){var e=this.__data__,r=XG(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():QG.call(e,r,1),--this.size,!0}var ZG=JG,eX=Kg;function tX(t){var e=this.__data__,r=eX(e,t);return r<0?void 0:e[r][1]}var rX=tX,nX=Kg;function iX(t){return nX(this.__data__,t)>-1}var aX=iX,oX=Kg;function sX(t,e){var r=this.__data__,n=oX(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var lX=sX,cX=qG,uX=ZG,fX=rX,dX=aX,hX=lX;function bc(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}bc.prototype.clear=cX;bc.prototype.delete=uX;bc.prototype.get=fX;bc.prototype.has=dX;bc.prototype.set=hX;var Gg=bc,pX=Ts,mX=ki,gX=pX(mX,"Map"),O1=gX,OA=zG,yX=Gg,vX=O1;function bX(){this.size=0,this.__data__={hash:new OA,map:new(vX||yX),string:new OA}}var xX=bX;function wX(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var _X=wX,kX=_X;function EX(t,e){var r=t.__data__;return kX(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Xg=EX,SX=Xg;function TX(t){var e=SX(this,t).delete(t);return this.size-=e?1:0,e}var AX=TX,PX=Xg;function IX(t){return PX(this,t).get(t)}var OX=IX,CX=Xg;function NX(t){return CX(this,t).has(t)}var RX=NX,jX=Xg;function DX(t,e){var r=jX(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var MX=DX,$X=xX,LX=AX,FX=OX,VX=RX,UX=MX;function xc(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}xc.prototype.clear=$X;xc.prototype.delete=LX;xc.prototype.get=FX;xc.prototype.has=VX;xc.prototype.set=UX;var C1=xc,oM=C1,BX="Expected a function";function N1(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(BX);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=t.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(N1.Cache||oM),r}N1.Cache=oM;var sM=N1;const zX=it(sM);var WX=sM,qX=500;function HX(t){var e=WX(t,function(n){return r.size===qX&&r.clear(),n}),r=e.cache;return e}var KX=HX,GX=KX,XX=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,YX=/\\(\\)?/g,QX=GX(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(XX,function(r,n,i,a){e.push(i?a.replace(YX,"$1"):n||r)}),e}),JX=QX;function ZX(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var R1=ZX,CA=Id,eY=R1,tY=Zr,rY=gc,nY=1/0,NA=CA?CA.prototype:void 0,RA=NA?NA.toString:void 0;function lM(t){if(typeof t=="string")return t;if(tY(t))return eY(t,lM)+"";if(rY(t))return RA?RA.call(t):"";var e=t+"";return e=="0"&&1/t==-nY?"-0":e}var iY=lM,aY=iY;function oY(t){return t==null?"":aY(t)}var cM=oY,sY=Zr,lY=A1,cY=JX,uY=cM;function fY(t,e){return sY(t)?t:lY(t,e)?[t]:cY(uY(t))}var uM=fY,dY=gc,hY=1/0;function pY(t){if(typeof t=="string"||dY(t))return t;var e=t+"";return e=="0"&&1/t==-hY?"-0":e}var Yg=pY,mY=uM,gY=Yg;function yY(t,e){e=mY(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[gY(e[r++])];return r&&r==n?t:void 0}var j1=yY,vY=j1;function bY(t,e,r){var n=t==null?void 0:vY(t,e);return n===void 0?r:n}var fM=bY;const fn=it(fM);function xY(t){return t==null}var wY=xY;const Me=it(wY);var _Y=ca,kY=Zr,EY=ua,SY="[object String]";function TY(t){return typeof t=="string"||!kY(t)&&EY(t)&&_Y(t)==SY}var AY=TY;const Od=it(AY);var dM={exports:{}},at={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ar=typeof Symbol=="function"&&Symbol.for,D1=ar?Symbol.for("react.element"):60103,M1=ar?Symbol.for("react.portal"):60106,Qg=ar?Symbol.for("react.fragment"):60107,Jg=ar?Symbol.for("react.strict_mode"):60108,Zg=ar?Symbol.for("react.profiler"):60114,ey=ar?Symbol.for("react.provider"):60109,ty=ar?Symbol.for("react.context"):60110,$1=ar?Symbol.for("react.async_mode"):60111,ry=ar?Symbol.for("react.concurrent_mode"):60111,ny=ar?Symbol.for("react.forward_ref"):60112,iy=ar?Symbol.for("react.suspense"):60113,PY=ar?Symbol.for("react.suspense_list"):60120,ay=ar?Symbol.for("react.memo"):60115,oy=ar?Symbol.for("react.lazy"):60116,IY=ar?Symbol.for("react.block"):60121,OY=ar?Symbol.for("react.fundamental"):60117,CY=ar?Symbol.for("react.responder"):60118,NY=ar?Symbol.for("react.scope"):60119;function mn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case D1:switch(t=t.type,t){case $1:case ry:case Qg:case Zg:case Jg:case iy:return t;default:switch(t=t&&t.$$typeof,t){case ty:case ny:case oy:case ay:case ey:return t;default:return e}}case M1:return e}}}function hM(t){return mn(t)===ry}at.AsyncMode=$1;at.ConcurrentMode=ry;at.ContextConsumer=ty;at.ContextProvider=ey;at.Element=D1;at.ForwardRef=ny;at.Fragment=Qg;at.Lazy=oy;at.Memo=ay;at.Portal=M1;at.Profiler=Zg;at.StrictMode=Jg;at.Suspense=iy;at.isAsyncMode=function(t){return hM(t)||mn(t)===$1};at.isConcurrentMode=hM;at.isContextConsumer=function(t){return mn(t)===ty};at.isContextProvider=function(t){return mn(t)===ey};at.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===D1};at.isForwardRef=function(t){return mn(t)===ny};at.isFragment=function(t){return mn(t)===Qg};at.isLazy=function(t){return mn(t)===oy};at.isMemo=function(t){return mn(t)===ay};at.isPortal=function(t){return mn(t)===M1};at.isProfiler=function(t){return mn(t)===Zg};at.isStrictMode=function(t){return mn(t)===Jg};at.isSuspense=function(t){return mn(t)===iy};at.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Qg||t===ry||t===Zg||t===Jg||t===iy||t===PY||typeof t=="object"&&t!==null&&(t.$$typeof===oy||t.$$typeof===ay||t.$$typeof===ey||t.$$typeof===ty||t.$$typeof===ny||t.$$typeof===OY||t.$$typeof===CY||t.$$typeof===NY||t.$$typeof===IY)};at.typeOf=mn;dM.exports=at;var Fb=dM.exports,RY=ca,jY=ua,DY="[object Number]";function MY(t){return typeof t=="number"||jY(t)&&RY(t)==DY}var pM=MY;const $Y=it(pM);var LY=pM;function FY(t){return LY(t)&&t!=+t}var VY=FY;const Cd=it(VY);var Mr=function(e){return e===0?0:e>0?1:-1},Bo=function(e){return Od(e)&&e.indexOf("%")===e.length-1},le=function(e){return $Y(e)&&!Cd(e)},Qt=function(e){return le(e)||Od(e)},UY=0,Nd=function(e){var r=++UY;return"".concat(e||"").concat(r)},$r=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!le(e)&&!Od(e))return n;var a;if(Bo(e)){var o=e.indexOf("%");a=r*parseFloat(e.slice(0,o))/100}else a=+e;return Cd(a)&&(a=n),i&&a>r&&(a=r),a},Da=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},BY=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},Ea=function(e,r){return le(e)&&le(r)?function(n){return e+n*(r-e)}:function(){return r}};function Vb(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):fn(n,e))===r})}function Sl(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function Ub(t){"@babel/helpers - typeof";return Ub=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ub(t)}var zY=["viewBox","children"],WY=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],jA=["points","pathLength"],Vv={svg:zY,polygon:jA,polyline:jA},L1=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],dm=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(M.isValidElement(e)&&(n=e.props),!yc(n))return null;var i={};return Object.keys(n).forEach(function(a){L1.includes(a)&&(i[a]=r||function(o){return n[a](n,o)})}),i},qY=function(e,r,n){return function(i){return e(r,n,i),null}},fs=function(e,r,n){if(!yc(e)||Ub(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];L1.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=qY(o,r,n))}),i},HY=["children"],KY=["children"];function DA(t,e){if(t==null)return{};var r=GY(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function GY(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var MA={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},Hi=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},$A=null,Uv=null,F1=function t(e){if(e===$A&&Array.isArray(Uv))return Uv;var r=[];return M.Children.forEach(e,function(n){Me(n)||(Fb.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),Uv=r,$A=e,r};function In(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Hi(i)}):n=[Hi(e)],F1(t).forEach(function(i){var a=fn(i,"type.displayName")||fn(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function an(t,e){var r=In(t,e);return r&&r[0]}var LA=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!le(n)||n<=0||!le(i)||i<=0)},XY=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],YY=function(e){return e&&e.type&&Od(e.type)&&XY.indexOf(e.type)>=0},QY=function(e,r,n,i){var a,o=(a=Vv==null?void 0:Vv[i])!==null&&a!==void 0?a:[];return!Ce(e)&&(i&&o.includes(r)||WY.includes(r))||n&&L1.includes(r)},Ae=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(M.isValidElement(e)&&(i=e.props),!yc(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;QY((s=i)===null||s===void 0?void 0:s[o],o,r,n)&&(a[o]=i[o])}),a},Bb=function t(e,r){if(e===r)return!0;var n=M.Children.count(e);if(n!==M.Children.count(r))return!1;if(n===0)return!0;if(n===1)return FA(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],o=r[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!FA(a,o))return!1}return!0},FA=function(e,r){if(Me(e)&&Me(r))return!0;if(!Me(e)&&!Me(r)){var n=e.props||{},i=n.children,a=DA(n,HY),o=r.props||{},s=o.children,l=DA(o,KY);return i&&s?Sl(a,l)&&Bb(i,s):!i&&!s?Sl(a,l):!1}return!1},VA=function(e,r){var n=[],i={};return F1(e).forEach(function(a,o){if(YY(a))n.push(a);else if(a){var s=Hi(a.type),l=r[s]||{},c=l.handler,u=l.once;if(c&&(!u||!i[s])){var f=c(a,s,o);n.push(f),i[s]=!0}}}),n},JY=function(e){var r=e&&e.type;return r&&MA[r]?MA[r]:null},ZY=function(e,r){return F1(r).indexOf(e)},eQ=["children","width","height","viewBox","className","style","title","desc"];function zb(){return zb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zb.apply(this,arguments)}function tQ(t,e){if(t==null)return{};var r=rQ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function rQ(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Wb(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,o=t.style,s=t.title,l=t.desc,c=tQ(t,eQ),u=i||{width:r,height:n,x:0,y:0},f=je("recharts-surface",a);return L.createElement("svg",zb({},Ae(c,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),L.createElement("title",null,s),L.createElement("desc",null,l),e)}var nQ=["children","className"];function qb(){return qb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qb.apply(this,arguments)}function iQ(t,e){if(t==null)return{};var r=aQ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function aQ(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var rt=L.forwardRef(function(t,e){var r=t.children,n=t.className,i=iQ(t,nQ),a=je("recharts-layer",n);return L.createElement("g",qb({className:a},Ae(i,!0),{ref:e}),r)}),Hn=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function oQ(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(i);++n<i;)a[n]=t[n+e];return a}var sQ=oQ,lQ=sQ;function cQ(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:lQ(t,e,r)}var uQ=cQ,fQ="\\ud800-\\udfff",dQ="\\u0300-\\u036f",hQ="\\ufe20-\\ufe2f",pQ="\\u20d0-\\u20ff",mQ=dQ+hQ+pQ,gQ="\\ufe0e\\ufe0f",yQ="\\u200d",vQ=RegExp("["+yQ+fQ+mQ+gQ+"]");function bQ(t){return vQ.test(t)}var mM=bQ;function xQ(t){return t.split("")}var wQ=xQ,gM="\\ud800-\\udfff",_Q="\\u0300-\\u036f",kQ="\\ufe20-\\ufe2f",EQ="\\u20d0-\\u20ff",SQ=_Q+kQ+EQ,TQ="\\ufe0e\\ufe0f",AQ="["+gM+"]",Hb="["+SQ+"]",Kb="\\ud83c[\\udffb-\\udfff]",PQ="(?:"+Hb+"|"+Kb+")",yM="[^"+gM+"]",vM="(?:\\ud83c[\\udde6-\\uddff]){2}",bM="[\\ud800-\\udbff][\\udc00-\\udfff]",IQ="\\u200d",xM=PQ+"?",wM="["+TQ+"]?",OQ="(?:"+IQ+"(?:"+[yM,vM,bM].join("|")+")"+wM+xM+")*",CQ=wM+xM+OQ,NQ="(?:"+[yM+Hb+"?",Hb,vM,bM,AQ].join("|")+")",RQ=RegExp(Kb+"(?="+Kb+")|"+NQ+CQ,"g");function jQ(t){return t.match(RQ)||[]}var DQ=jQ,MQ=wQ,$Q=mM,LQ=DQ;function FQ(t){return $Q(t)?LQ(t):MQ(t)}var VQ=FQ,UQ=uQ,BQ=mM,zQ=VQ,WQ=cM;function qQ(t){return function(e){e=WQ(e);var r=BQ(e)?zQ(e):void 0,n=r?r[0]:e.charAt(0),i=r?UQ(r,1).join(""):e.slice(1);return n[t]()+i}}var HQ=qQ,KQ=HQ,GQ=KQ("toUpperCase"),XQ=GQ;const sy=it(XQ);function dt(t){return function(){return t}}const _M=Math.cos,hm=Math.sin,Jn=Math.sqrt,pm=Math.PI,ly=2*pm,Gb=Math.PI,Xb=2*Gb,jo=1e-6,YQ=Xb-jo;function kM(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function QQ(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return kM;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class JQ{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?kM:QQ(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=n-e,c=i-r,u=o-e,f=s-r,h=u*u+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(h>jo)if(!(Math.abs(f*l-c*u)>jo)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let p=n-o,g=i-s,y=l*l+c*c,b=p*p+g*g,_=Math.sqrt(y),v=Math.sqrt(h),x=a*Math.tan((Gb-Math.acos((y+h-b)/(2*_*v)))/2),k=x/v,T=x/_;Math.abs(k-1)>jo&&this._append`L${e+k*u},${r+k*f}`,this._append`A${a},${a},0,0,${+(f*p>u*g)},${this._x1=e+T*l},${this._y1=r+T*c}`}}arc(e,r,n,i,a,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),l=n*Math.sin(i),c=e+s,u=r+l,f=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>jo||Math.abs(this._y1-u)>jo)&&this._append`L${c},${u}`,n&&(h<0&&(h=h%Xb+Xb),h>YQ?this._append`A${n},${n},0,1,${f},${e-s},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=u}`:h>jo&&this._append`A${n},${n},0,${+(h>=Gb)},${f},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function V1(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new JQ(e)}function U1(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function EM(t){this._context=t}EM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function cy(t){return new EM(t)}function SM(t){return t[0]}function TM(t){return t[1]}function AM(t,e){var r=dt(!0),n=null,i=cy,a=null,o=V1(s);t=typeof t=="function"?t:t===void 0?SM:dt(t),e=typeof e=="function"?e:e===void 0?TM:dt(e);function s(l){var c,u=(l=U1(l)).length,f,h=!1,p;for(n==null&&(a=i(p=o())),c=0;c<=u;++c)!(c<u&&r(f=l[c],c,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(f,c,l),+e(f,c,l));if(p)return a=null,p+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:dt(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:dt(+l),s):e},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:dt(!!l),s):r},s.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),s):i},s.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),s):n},s}function Ih(t,e,r){var n=null,i=dt(!0),a=null,o=cy,s=null,l=V1(c);t=typeof t=="function"?t:t===void 0?SM:dt(+t),e=typeof e=="function"?e:dt(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?TM:dt(+r);function c(f){var h,p,g,y=(f=U1(f)).length,b,_=!1,v,x=new Array(y),k=new Array(y);for(a==null&&(s=o(v=l())),h=0;h<=y;++h){if(!(h<y&&i(b=f[h],h,f))===_)if(_=!_)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),g=h-1;g>=p;--g)s.point(x[g],k[g]);s.lineEnd(),s.areaEnd()}_&&(x[h]=+t(b,h,f),k[h]=+e(b,h,f),s.point(n?+n(b,h,f):x[h],r?+r(b,h,f):k[h]))}if(v)return s=null,v+""||null}function u(){return AM().defined(i).curve(o).context(a)}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:dt(+f),n=null,c):t},c.x0=function(f){return arguments.length?(t=typeof f=="function"?f:dt(+f),c):t},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:dt(+f),c):n},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:dt(+f),r=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:dt(+f),c):e},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:dt(+f),c):r},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(r)},c.lineX1=function(){return u().x(n).y(e)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:dt(!!f),c):i},c.curve=function(f){return arguments.length?(o=f,a!=null&&(s=o(a)),c):o},c.context=function(f){return arguments.length?(f==null?a=s=null:s=o(a=f),c):a},c}class PM{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function ZQ(t){return new PM(t,!0)}function eJ(t){return new PM(t,!1)}const B1={draw(t,e){const r=Jn(e/pm);t.moveTo(r,0),t.arc(0,0,r,0,ly)}},tJ={draw(t,e){const r=Jn(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},IM=Jn(1/3),rJ=IM*2,nJ={draw(t,e){const r=Jn(e/rJ),n=r*IM;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},iJ={draw(t,e){const r=Jn(e),n=-r/2;t.rect(n,n,r,r)}},aJ=.8908130915292852,OM=hm(pm/10)/hm(7*pm/10),oJ=hm(ly/10)*OM,sJ=-_M(ly/10)*OM,lJ={draw(t,e){const r=Jn(e*aJ),n=oJ*r,i=sJ*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const o=ly*a/5,s=_M(o),l=hm(o);t.lineTo(l*r,-s*r),t.lineTo(s*n-l*i,l*n+s*i)}t.closePath()}},Bv=Jn(3),cJ={draw(t,e){const r=-Jn(e/(Bv*3));t.moveTo(0,r*2),t.lineTo(-Bv*r,-r),t.lineTo(Bv*r,-r),t.closePath()}},gn=-.5,yn=Jn(3)/2,Yb=1/Jn(12),uJ=(Yb/2+1)*3,fJ={draw(t,e){const r=Jn(e/uJ),n=r/2,i=r*Yb,a=n,o=r*Yb+r,s=-a,l=o;t.moveTo(n,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(gn*n-yn*i,yn*n+gn*i),t.lineTo(gn*a-yn*o,yn*a+gn*o),t.lineTo(gn*s-yn*l,yn*s+gn*l),t.lineTo(gn*n+yn*i,gn*i-yn*n),t.lineTo(gn*a+yn*o,gn*o-yn*a),t.lineTo(gn*s+yn*l,gn*l-yn*s),t.closePath()}};function dJ(t,e){let r=null,n=V1(i);t=typeof t=="function"?t:dt(t||B1),e=typeof e=="function"?e:dt(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:dt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:dt(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function mm(){}function gm(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function CM(t){this._context=t}CM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:gm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:gm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function hJ(t){return new CM(t)}function NM(t){this._context=t}NM.prototype={areaStart:mm,areaEnd:mm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:gm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function pJ(t){return new NM(t)}function RM(t){this._context=t}RM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:gm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function mJ(t){return new RM(t)}function jM(t){this._context=t}jM.prototype={areaStart:mm,areaEnd:mm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function gJ(t){return new jM(t)}function UA(t){return t<0?-1:1}function BA(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(UA(a)+UA(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function zA(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function zv(t,e,r){var n=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-n)/3;t._context.bezierCurveTo(n+s,i+s*e,a-s,o-s*r,a,o)}function ym(t){this._context=t}ym.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:zv(this,this._t0,zA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,zv(this,zA(this,r=BA(this,t,e)),r);break;default:zv(this,this._t0,r=BA(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function DM(t){this._context=new MM(t)}(DM.prototype=Object.create(ym.prototype)).point=function(t,e){ym.prototype.point.call(this,e,t)};function MM(t){this._context=t}MM.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function yJ(t){return new ym(t)}function vJ(t){return new DM(t)}function $M(t){this._context=t}$M.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=WA(t),i=WA(e),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function WA(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function bJ(t){return new $M(t)}function uy(t,e){this._context=t,this._t=e}uy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function xJ(t){return new uy(t,.5)}function wJ(t){return new uy(t,0)}function _J(t){return new uy(t,1)}function Bl(t,e){if((o=t.length)>1)for(var r=1,n,i,a=t[e[0]],o,s=a.length;r<o;++r)for(i=a,a=t[e[r]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Qb(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function kJ(t,e){return t[e]}function EJ(t){const e=[];return e.key=t,e}function SJ(){var t=dt([]),e=Qb,r=Bl,n=kJ;function i(a){var o=Array.from(t.apply(this,arguments),EJ),s,l=o.length,c=-1,u;for(const f of a)for(s=0,++c;s<l;++s)(o[s][c]=[0,+n(f,o[s].key,c,a)]).data=f;for(s=0,u=U1(e(o));s<l;++s)o[u[s]].index=s;return r(o,u),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:dt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:dt(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?Qb:typeof a=="function"?a:dt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??Bl,i):r},i}function TJ(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}Bl(t,e)}}function AJ(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var o=0,s=0;o<i;++o)s+=t[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}Bl(t,e)}}function PJ(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var s=0,l=0,c=0;s<o;++s){for(var u=t[e[s]],f=u[n][1]||0,h=u[n-1][1]||0,p=(f-h)/2,g=0;g<s;++g){var y=t[e[g]],b=y[n][1]||0,_=y[n-1][1]||0;p+=b-_}l+=f,c+=p*f}i[n-1][1]+=i[n-1][0]=r,l&&(r-=c/l)}i[n-1][1]+=i[n-1][0]=r,Bl(t,e)}}function Ef(t){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ef(t)}var IJ=["type","size","sizeType"];function Jb(){return Jb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jb.apply(this,arguments)}function qA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function HA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qA(Object(r),!0).forEach(function(n){OJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OJ(t,e,r){return e=CJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CJ(t){var e=NJ(t,"string");return Ef(e)=="symbol"?e:String(e)}function NJ(t,e){if(Ef(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ef(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RJ(t,e){if(t==null)return{};var r=jJ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function jJ(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var LM={symbolCircle:B1,symbolCross:tJ,symbolDiamond:nJ,symbolSquare:iJ,symbolStar:lJ,symbolTriangle:cJ,symbolWye:fJ},DJ=Math.PI/180,MJ=function(e){var r="symbol".concat(sy(e));return LM[r]||B1},$J=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*DJ;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},LJ=function(e,r){LM["symbol".concat(sy(e))]=r},z1=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,o=e.sizeType,s=o===void 0?"area":o,l=RJ(e,IJ),c=HA(HA({},l),{},{type:n,size:a,sizeType:s}),u=function(){var b=MJ(n),_=dJ().type(b).size($J(a,s,n));return _()},f=c.className,h=c.cx,p=c.cy,g=Ae(c,!0);return h===+h&&p===+p&&a===+a?L.createElement("path",Jb({},g,{className:je("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};z1.registerSymbol=LJ;function zl(t){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zl(t)}function Zb(){return Zb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zb.apply(this,arguments)}function KA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function FJ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KA(Object(r),!0).forEach(function(n){Sf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function VJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,VM(n.key),n)}}function BJ(t,e,r){return e&&UJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zJ(t,e,r){return e=vm(e),WJ(t,FM()?Reflect.construct(e,r||[],vm(t).constructor):e.apply(t,r))}function WJ(t,e){if(e&&(zl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qJ(t)}function qJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FM=function(){return!!t})()}function vm(t){return vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vm(t)}function HJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ex(t,e)}function ex(t,e){return ex=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ex(t,e)}function Sf(t,e,r){return e=VM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VM(t){var e=KJ(t,"string");return zl(e)=="symbol"?e:String(e)}function KJ(t,e){if(zl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(zl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vn=32,W1=function(t){HJ(e,t);function e(){return VJ(this,e),zJ(this,e,arguments)}return BJ(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=vn/2,o=vn/6,s=vn/3,l=n.inactive?i:n.color;if(n.type==="plainline")return L.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:vn,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return L.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(vn,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return L.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(vn/8,"h").concat(vn,"v").concat(vn*3/4,"h").concat(-vn,"z"),className:"recharts-legend-icon"});if(L.isValidElement(n.legendIcon)){var c=FJ({},n);return delete c.legendIcon,L.cloneElement(n.legendIcon,c)}return L.createElement(z1,{fill:l,cx:a,cy:a,size:vn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:vn,height:vn},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,g){var y=p.formatter||l,b=je(Sf(Sf({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var _=Ce(p.value)?null:p.value;Hn(!Ce(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var v=p.inactive?c:p.color;return L.createElement("li",Zb({className:b,style:f,key:"legend-item-".concat(g)},fs(n.props,p,g)),L.createElement(Wb,{width:o,height:o,viewBox:u,style:h},n.renderIcon(p)),L.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},y?y(_,p,g):_))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,o=n.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return L.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}]),e}(M.PureComponent);Sf(W1,"displayName","Legend");Sf(W1,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var GJ=Gg;function XJ(){this.__data__=new GJ,this.size=0}var YJ=XJ;function QJ(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var JJ=QJ;function ZJ(t){return this.__data__.get(t)}var eZ=ZJ;function tZ(t){return this.__data__.has(t)}var rZ=tZ,nZ=Gg,iZ=O1,aZ=C1,oZ=200;function sZ(t,e){var r=this.__data__;if(r instanceof nZ){var n=r.__data__;if(!iZ||n.length<oZ-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new aZ(n)}return r.set(t,e),this.size=r.size,this}var lZ=sZ,cZ=Gg,uZ=YJ,fZ=JJ,dZ=eZ,hZ=rZ,pZ=lZ;function wc(t){var e=this.__data__=new cZ(t);this.size=e.size}wc.prototype.clear=uZ;wc.prototype.delete=fZ;wc.prototype.get=dZ;wc.prototype.has=hZ;wc.prototype.set=pZ;var UM=wc,mZ="__lodash_hash_undefined__";function gZ(t){return this.__data__.set(t,mZ),this}var yZ=gZ;function vZ(t){return this.__data__.has(t)}var bZ=vZ,xZ=C1,wZ=yZ,_Z=bZ;function bm(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new xZ;++e<r;)this.add(t[e])}bm.prototype.add=bm.prototype.push=wZ;bm.prototype.has=_Z;var BM=bm;function kZ(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var zM=kZ;function EZ(t,e){return t.has(e)}var WM=EZ,SZ=BM,TZ=zM,AZ=WM,PZ=1,IZ=2;function OZ(t,e,r,n,i,a){var o=r&PZ,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var c=a.get(t),u=a.get(e);if(c&&u)return c==e&&u==t;var f=-1,h=!0,p=r&IZ?new SZ:void 0;for(a.set(t,e),a.set(e,t);++f<s;){var g=t[f],y=e[f];if(n)var b=o?n(y,g,f,e,t,a):n(g,y,f,t,e,a);if(b!==void 0){if(b)continue;h=!1;break}if(p){if(!TZ(e,function(_,v){if(!AZ(p,v)&&(g===_||i(g,_,r,n,a)))return p.push(v)})){h=!1;break}}else if(!(g===y||i(g,y,r,n,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var qM=OZ,CZ=ki,NZ=CZ.Uint8Array,RZ=NZ;function jZ(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var DZ=jZ;function MZ(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var q1=MZ,GA=Id,XA=RZ,$Z=I1,LZ=qM,FZ=DZ,VZ=q1,UZ=1,BZ=2,zZ="[object Boolean]",WZ="[object Date]",qZ="[object Error]",HZ="[object Map]",KZ="[object Number]",GZ="[object RegExp]",XZ="[object Set]",YZ="[object String]",QZ="[object Symbol]",JZ="[object ArrayBuffer]",ZZ="[object DataView]",YA=GA?GA.prototype:void 0,Wv=YA?YA.valueOf:void 0;function eee(t,e,r,n,i,a,o){switch(r){case ZZ:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case JZ:return!(t.byteLength!=e.byteLength||!a(new XA(t),new XA(e)));case zZ:case WZ:case KZ:return $Z(+t,+e);case qZ:return t.name==e.name&&t.message==e.message;case GZ:case YZ:return t==e+"";case HZ:var s=FZ;case XZ:var l=n&UZ;if(s||(s=VZ),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;n|=BZ,o.set(t,e);var u=LZ(s(t),s(e),n,i,a,o);return o.delete(t),u;case QZ:if(Wv)return Wv.call(t)==Wv.call(e)}return!1}var tee=eee;function ree(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var HM=ree,nee=HM,iee=Zr;function aee(t,e,r){var n=e(t);return iee(t)?n:nee(n,r(t))}var oee=aee;function see(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[i++]=o)}return a}var lee=see;function cee(){return[]}var uee=cee,fee=lee,dee=uee,hee=Object.prototype,pee=hee.propertyIsEnumerable,QA=Object.getOwnPropertySymbols,mee=QA?function(t){return t==null?[]:(t=Object(t),fee(QA(t),function(e){return pee.call(t,e)}))}:dee,gee=mee;function yee(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var vee=yee,bee=ca,xee=ua,wee="[object Arguments]";function _ee(t){return xee(t)&&bee(t)==wee}var kee=_ee,JA=kee,Eee=ua,KM=Object.prototype,See=KM.hasOwnProperty,Tee=KM.propertyIsEnumerable,Aee=JA(function(){return arguments}())?JA:function(t){return Eee(t)&&See.call(t,"callee")&&!Tee.call(t,"callee")},H1=Aee,xm={exports:{}};function Pee(){return!1}var Iee=Pee;xm.exports;(function(t,e){var r=ki,n=Iee,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?r.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||n;t.exports=c})(xm,xm.exports);var GM=xm.exports,Oee=9007199254740991,Cee=/^(?:0|[1-9]\d*)$/;function Nee(t,e){var r=typeof t;return e=e??Oee,!!e&&(r=="number"||r!="symbol"&&Cee.test(t))&&t>-1&&t%1==0&&t<e}var K1=Nee,Ree=9007199254740991;function jee(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Ree}var G1=jee,Dee=ca,Mee=G1,$ee=ua,Lee="[object Arguments]",Fee="[object Array]",Vee="[object Boolean]",Uee="[object Date]",Bee="[object Error]",zee="[object Function]",Wee="[object Map]",qee="[object Number]",Hee="[object Object]",Kee="[object RegExp]",Gee="[object Set]",Xee="[object String]",Yee="[object WeakMap]",Qee="[object ArrayBuffer]",Jee="[object DataView]",Zee="[object Float32Array]",ete="[object Float64Array]",tte="[object Int8Array]",rte="[object Int16Array]",nte="[object Int32Array]",ite="[object Uint8Array]",ate="[object Uint8ClampedArray]",ote="[object Uint16Array]",ste="[object Uint32Array]",vt={};vt[Zee]=vt[ete]=vt[tte]=vt[rte]=vt[nte]=vt[ite]=vt[ate]=vt[ote]=vt[ste]=!0;vt[Lee]=vt[Fee]=vt[Qee]=vt[Vee]=vt[Jee]=vt[Uee]=vt[Bee]=vt[zee]=vt[Wee]=vt[qee]=vt[Hee]=vt[Kee]=vt[Gee]=vt[Xee]=vt[Yee]=!1;function lte(t){return $ee(t)&&Mee(t.length)&&!!vt[Dee(t)]}var cte=lte;function ute(t){return function(e){return t(e)}}var XM=ute,wm={exports:{}};wm.exports;(function(t,e){var r=nM,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(wm,wm.exports);var fte=wm.exports,dte=cte,hte=XM,ZA=fte,e2=ZA&&ZA.isTypedArray,pte=e2?hte(e2):dte,YM=pte,mte=vee,gte=H1,yte=Zr,vte=GM,bte=K1,xte=YM,wte=Object.prototype,_te=wte.hasOwnProperty;function kte(t,e){var r=yte(t),n=!r&&gte(t),i=!r&&!n&&vte(t),a=!r&&!n&&!i&&xte(t),o=r||n||i||a,s=o?mte(t.length,String):[],l=s.length;for(var c in t)(e||_te.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||bte(c,l)))&&s.push(c);return s}var Ete=kte,Ste=Object.prototype;function Tte(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||Ste;return t===r}var Ate=Tte;function Pte(t,e){return function(r){return t(e(r))}}var QM=Pte,Ite=QM,Ote=Ite(Object.keys,Object),Cte=Ote,Nte=Ate,Rte=Cte,jte=Object.prototype,Dte=jte.hasOwnProperty;function Mte(t){if(!Nte(t))return Rte(t);var e=[];for(var r in Object(t))Dte.call(t,r)&&r!="constructor"&&e.push(r);return e}var $te=Mte,Lte=P1,Fte=G1;function Vte(t){return t!=null&&Fte(t.length)&&!Lte(t)}var Rd=Vte,Ute=Ete,Bte=$te,zte=Rd;function Wte(t){return zte(t)?Ute(t):Bte(t)}var fy=Wte,qte=oee,Hte=gee,Kte=fy;function Gte(t){return qte(t,Kte,Hte)}var Xte=Gte,t2=Xte,Yte=1,Qte=Object.prototype,Jte=Qte.hasOwnProperty;function Zte(t,e,r,n,i,a){var o=r&Yte,s=t2(t),l=s.length,c=t2(e),u=c.length;if(l!=u&&!o)return!1;for(var f=l;f--;){var h=s[f];if(!(o?h in e:Jte.call(e,h)))return!1}var p=a.get(t),g=a.get(e);if(p&&g)return p==e&&g==t;var y=!0;a.set(t,e),a.set(e,t);for(var b=o;++f<l;){h=s[f];var _=t[h],v=e[h];if(n)var x=o?n(v,_,h,e,t,a):n(_,v,h,t,e,a);if(!(x===void 0?_===v||i(_,v,r,n,a):x)){y=!1;break}b||(b=h=="constructor")}if(y&&!b){var k=t.constructor,T=e.constructor;k!=T&&"constructor"in t&&"constructor"in e&&!(typeof k=="function"&&k instanceof k&&typeof T=="function"&&T instanceof T)&&(y=!1)}return a.delete(t),a.delete(e),y}var ere=Zte,tre=Ts,rre=ki,nre=tre(rre,"DataView"),ire=nre,are=Ts,ore=ki,sre=are(ore,"Promise"),lre=sre,cre=Ts,ure=ki,fre=cre(ure,"Set"),JM=fre,dre=Ts,hre=ki,pre=dre(hre,"WeakMap"),mre=pre,tx=ire,rx=O1,nx=lre,ix=JM,ax=mre,ZM=ca,_c=aM,r2="[object Map]",gre="[object Object]",n2="[object Promise]",i2="[object Set]",a2="[object WeakMap]",o2="[object DataView]",yre=_c(tx),vre=_c(rx),bre=_c(nx),xre=_c(ix),wre=_c(ax),Do=ZM;(tx&&Do(new tx(new ArrayBuffer(1)))!=o2||rx&&Do(new rx)!=r2||nx&&Do(nx.resolve())!=n2||ix&&Do(new ix)!=i2||ax&&Do(new ax)!=a2)&&(Do=function(t){var e=ZM(t),r=e==gre?t.constructor:void 0,n=r?_c(r):"";if(n)switch(n){case yre:return o2;case vre:return r2;case bre:return n2;case xre:return i2;case wre:return a2}return e});var _re=Do,qv=UM,kre=qM,Ere=tee,Sre=ere,s2=_re,l2=Zr,c2=GM,Tre=YM,Are=1,u2="[object Arguments]",f2="[object Array]",Oh="[object Object]",Pre=Object.prototype,d2=Pre.hasOwnProperty;function Ire(t,e,r,n,i,a){var o=l2(t),s=l2(e),l=o?f2:s2(t),c=s?f2:s2(e);l=l==u2?Oh:l,c=c==u2?Oh:c;var u=l==Oh,f=c==Oh,h=l==c;if(h&&c2(t)){if(!c2(e))return!1;o=!0,u=!1}if(h&&!u)return a||(a=new qv),o||Tre(t)?kre(t,e,r,n,i,a):Ere(t,e,l,r,n,i,a);if(!(r&Are)){var p=u&&d2.call(t,"__wrapped__"),g=f&&d2.call(e,"__wrapped__");if(p||g){var y=p?t.value():t,b=g?e.value():e;return a||(a=new qv),i(y,b,r,n,a)}}return h?(a||(a=new qv),Sre(t,e,r,n,i,a)):!1}var Ore=Ire,Cre=Ore,h2=ua;function e$(t,e,r,n,i){return t===e?!0:t==null||e==null||!h2(t)&&!h2(e)?t!==t&&e!==e:Cre(t,e,r,n,e$,i)}var X1=e$,Nre=UM,Rre=X1,jre=1,Dre=2;function Mre(t,e,r,n){var i=r.length,a=i,o=!n;if(t==null)return!a;for(t=Object(t);i--;){var s=r[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=r[i];var l=s[0],c=t[l],u=s[1];if(o&&s[2]){if(c===void 0&&!(l in t))return!1}else{var f=new Nre;if(n)var h=n(c,u,l,t,e,f);if(!(h===void 0?Rre(u,c,jre|Dre,n,f):h))return!1}}return!0}var $re=Mre,Lre=xo;function Fre(t){return t===t&&!Lre(t)}var t$=Fre,Vre=t$,Ure=fy;function Bre(t){for(var e=Ure(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,Vre(i)]}return e}var zre=Bre;function Wre(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var r$=Wre,qre=$re,Hre=zre,Kre=r$;function Gre(t){var e=Hre(t);return e.length==1&&e[0][2]?Kre(e[0][0],e[0][1]):function(r){return r===t||qre(r,t,e)}}var Xre=Gre;function Yre(t,e){return t!=null&&e in Object(t)}var Qre=Yre,Jre=uM,Zre=H1,ene=Zr,tne=K1,rne=G1,nne=Yg;function ine(t,e,r){e=Jre(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var o=nne(e[n]);if(!(a=t!=null&&r(t,o)))break;t=t[o]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&rne(i)&&tne(o,i)&&(ene(t)||Zre(t)))}var ane=ine,one=Qre,sne=ane;function lne(t,e){return t!=null&&sne(t,e,one)}var cne=lne,une=X1,fne=fM,dne=cne,hne=A1,pne=t$,mne=r$,gne=Yg,yne=1,vne=2;function bne(t,e){return hne(t)&&pne(e)?mne(gne(t),e):function(r){var n=fne(r,t);return n===void 0&&n===e?dne(r,t):une(e,n,yne|vne)}}var xne=bne;function wne(t){return t}var kc=wne;function _ne(t){return function(e){return e==null?void 0:e[t]}}var kne=_ne,Ene=j1;function Sne(t){return function(e){return Ene(e,t)}}var Tne=Sne,Ane=kne,Pne=Tne,Ine=A1,One=Yg;function Cne(t){return Ine(t)?Ane(One(t)):Pne(t)}var Nne=Cne,Rne=Xre,jne=xne,Dne=kc,Mne=Zr,$ne=Nne;function Lne(t){return typeof t=="function"?t:t==null?Dne:typeof t=="object"?Mne(t)?jne(t[0],t[1]):Rne(t):$ne(t)}var Ei=Lne;function Fne(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var n$=Fne;function Vne(t){return t!==t}var Une=Vne;function Bne(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var zne=Bne,Wne=n$,qne=Une,Hne=zne;function Kne(t,e,r){return e===e?Hne(t,e,r):Wne(t,qne,r)}var Gne=Kne,Xne=Gne;function Yne(t,e){var r=t==null?0:t.length;return!!r&&Xne(t,e,0)>-1}var Qne=Yne;function Jne(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var Zne=Jne;function eie(){}var tie=eie,Hv=JM,rie=tie,nie=q1,iie=1/0,aie=Hv&&1/nie(new Hv([,-0]))[1]==iie?function(t){return new Hv(t)}:rie,oie=aie,sie=BM,lie=Qne,cie=Zne,uie=WM,fie=oie,die=q1,hie=200;function pie(t,e,r){var n=-1,i=lie,a=t.length,o=!0,s=[],l=s;if(r)o=!1,i=cie;else if(a>=hie){var c=e?null:fie(t);if(c)return die(c);o=!1,i=uie,l=new sie}else l=e?[]:s;e:for(;++n<a;){var u=t[n],f=e?e(u):u;if(u=r||u!==0?u:0,o&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),s.push(u)}else i(l,f,r)||(l!==s&&l.push(f),s.push(u))}return s}var mie=pie,gie=Ei,yie=mie;function vie(t,e){return t&&t.length?yie(t,gie(e)):[]}var bie=vie;const p2=it(bie);function i$(t,e,r){return e===!0?p2(t,r):Ce(e)?p2(t,e):t}function Wl(t){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wl(t)}var xie=["ref"];function m2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Po(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?m2(Object(r),!0).forEach(function(n){dy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,s$(n.key),n)}}function _ie(t,e,r){return e&&g2(t.prototype,e),r&&g2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function kie(t,e,r){return e=_m(e),Eie(t,a$()?Reflect.construct(e,r||[],_m(t).constructor):e.apply(t,r))}function Eie(t,e){if(e&&(Wl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o$(t)}function a$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a$=function(){return!!t})()}function _m(t){return _m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_m(t)}function o$(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ox(t,e)}function ox(t,e){return ox=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ox(t,e)}function dy(t,e,r){return e=s$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s$(t){var e=Tie(t,"string");return Wl(e)=="symbol"?e:String(e)}function Tie(t,e){if(Wl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Wl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Aie(t,e){if(t==null)return{};var r=Pie(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Pie(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Iie(t){return t.value}function Oie(t,e){if(L.isValidElement(t))return L.cloneElement(t,e);if(typeof t=="function")return L.createElement(t,e);e.ref;var r=Aie(e,xie);return L.createElement(W1,r)}var y2=1,Tf=function(t){Sie(e,t);function e(){var r;wie(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=kie(this,e,[].concat(i)),dy(o$(r),"lastBoundingBox",{width:-1,height:-1}),r}return _ie(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>y2||Math.abs(i.height-this.lastBoundingBox.height)>y2)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Po({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();f={left:((c||0)-p.width)/2}}else f=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var g=this.getBBoxSnapshot();h={top:((u||0)-g.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Po(Po({},f),h)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,f=Po(Po({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return L.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},Oie(a,Po(Po({},this.props),{},{payload:i$(u,c,Iie)})))}}],[{key:"getWithHeight",value:function(n,i){var a=n.props.layout;return a==="vertical"&&le(n.props.height)?{height:n.props.height}:a==="horizontal"?{width:n.props.width||i}:null}}]),e}(M.PureComponent);dy(Tf,"displayName","Legend");dy(Tf,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var v2=Id,Cie=H1,Nie=Zr,b2=v2?v2.isConcatSpreadable:void 0;function Rie(t){return Nie(t)||Cie(t)||!!(b2&&t&&t[b2])}var jie=Rie,Die=HM,Mie=jie;function l$(t,e,r,n,i){var a=-1,o=t.length;for(r||(r=Mie),i||(i=[]);++a<o;){var s=t[a];e>0&&r(s)?e>1?l$(s,e-1,r,n,i):Die(i,s):n||(i[i.length]=s)}return i}var c$=l$;function $ie(t){return function(e,r,n){for(var i=-1,a=Object(e),o=n(e),s=o.length;s--;){var l=o[t?s:++i];if(r(a[l],l,a)===!1)break}return e}}var Lie=$ie,Fie=Lie,Vie=Fie(),Uie=Vie,Bie=Uie,zie=fy;function Wie(t,e){return t&&Bie(t,e,zie)}var u$=Wie,qie=Rd;function Hie(t,e){return function(r,n){if(r==null)return r;if(!qie(r))return t(r,n);for(var i=r.length,a=e?i:-1,o=Object(r);(e?a--:++a<i)&&n(o[a],a,o)!==!1;);return r}}var Kie=Hie,Gie=u$,Xie=Kie,Yie=Xie(Gie),Y1=Yie,Qie=Y1,Jie=Rd;function Zie(t,e){var r=-1,n=Jie(t)?Array(t.length):[];return Qie(t,function(i,a,o){n[++r]=e(i,a,o)}),n}var f$=Zie;function eae(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var tae=eae,x2=gc;function rae(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,a=x2(t),o=e!==void 0,s=e===null,l=e===e,c=x2(e);if(!s&&!c&&!a&&t>e||a&&o&&l&&!s&&!c||n&&o&&l||!r&&l||!i)return 1;if(!n&&!a&&!c&&t<e||c&&r&&i&&!n&&!a||s&&r&&i||!o&&i||!l)return-1}return 0}var nae=rae,iae=nae;function aae(t,e,r){for(var n=-1,i=t.criteria,a=e.criteria,o=i.length,s=r.length;++n<o;){var l=iae(i[n],a[n]);if(l){if(n>=s)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return t.index-e.index}var oae=aae,Kv=R1,sae=j1,lae=Ei,cae=f$,uae=tae,fae=XM,dae=oae,hae=kc,pae=Zr;function mae(t,e,r){e.length?e=Kv(e,function(a){return pae(a)?function(o){return sae(o,a.length===1?a[0]:a)}:a}):e=[hae];var n=-1;e=Kv(e,fae(lae));var i=cae(t,function(a,o,s){var l=Kv(e,function(c){return c(a)});return{criteria:l,index:++n,value:a}});return uae(i,function(a,o){return dae(a,o,r)})}var gae=mae;function yae(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var vae=yae,bae=vae,w2=Math.max;function xae(t,e,r){return e=w2(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=w2(n.length-e,0),o=Array(a);++i<a;)o[i]=n[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=n[i];return s[e]=r(o),bae(t,this,s)}}var wae=xae;function _ae(t){return function(){return t}}var kae=_ae,Eae=Ts,Sae=function(){try{var t=Eae(Object,"defineProperty");return t({},"",{}),t}catch{}}(),d$=Sae,Tae=kae,_2=d$,Aae=kc,Pae=_2?function(t,e){return _2(t,"toString",{configurable:!0,enumerable:!1,value:Tae(e),writable:!0})}:Aae,Iae=Pae,Oae=800,Cae=16,Nae=Date.now;function Rae(t){var e=0,r=0;return function(){var n=Nae(),i=Cae-(n-r);if(r=n,i>0){if(++e>=Oae)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var jae=Rae,Dae=Iae,Mae=jae,$ae=Mae(Dae),Lae=$ae,Fae=kc,Vae=wae,Uae=Lae;function Bae(t,e){return Uae(Vae(t,e,Fae),t+"")}var zae=Bae,Wae=I1,qae=Rd,Hae=K1,Kae=xo;function Gae(t,e,r){if(!Kae(r))return!1;var n=typeof e;return(n=="number"?qae(r)&&Hae(e,r.length):n=="string"&&e in r)?Wae(r[e],t):!1}var hy=Gae,Xae=c$,Yae=gae,Qae=zae,k2=hy,Jae=Qae(function(t,e){if(t==null)return[];var r=e.length;return r>1&&k2(t,e[0],e[1])?e=[]:r>2&&k2(e[0],e[1],e[2])&&(e=[e[0]]),Yae(t,Xae(e,1),[])}),Zae=Jae;const Q1=it(Zae);function Af(t){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Af(t)}function sx(){return sx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sx.apply(this,arguments)}function eoe(t,e){return ioe(t)||noe(t,e)||roe(t,e)||toe()}function toe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function roe(t,e){if(t){if(typeof t=="string")return E2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E2(t,e)}}function E2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function noe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function ioe(t){if(Array.isArray(t))return t}function S2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Gv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?S2(Object(r),!0).forEach(function(n){aoe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aoe(t,e,r){return e=ooe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ooe(t){var e=soe(t,"string");return Af(e)=="symbol"?e:String(e)}function soe(t,e){if(Af(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function loe(t){return Array.isArray(t)&&Qt(t[0])&&Qt(t[1])?t.join(" ~ "):t}var coe=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,s=o===void 0?{}:o,l=e.labelStyle,c=l===void 0?{}:l,u=e.payload,f=e.formatter,h=e.itemSorter,p=e.wrapperClassName,g=e.labelClassName,y=e.label,b=e.labelFormatter,_=e.accessibilityLayer,v=_===void 0?!1:_,x=function(){if(u&&u.length){var N={padding:0,margin:0},I=(h?Q1(u,h):u).map(function(V,B){if(V.type==="none")return null;var W=Gv({display:"block",paddingTop:4,paddingBottom:4,color:V.color||"#000"},s),H=V.formatter||f||loe,U=V.value,G=V.name,J=U,oe=G;if(H&&J!=null&&oe!=null){var Y=H(U,G,V,B,u);if(Array.isArray(Y)){var se=eoe(Y,2);J=se[0],oe=se[1]}else J=Y}return L.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:W},Qt(oe)?L.createElement("span",{className:"recharts-tooltip-item-name"},oe):null,Qt(oe)?L.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,L.createElement("span",{className:"recharts-tooltip-item-value"},J),L.createElement("span",{className:"recharts-tooltip-item-unit"},V.unit||""))});return L.createElement("ul",{className:"recharts-tooltip-item-list",style:N},I)}return null},k=Gv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),T=Gv({margin:0},c),C=!Me(y),S=C?y:"",E=je("recharts-default-tooltip",p),P=je("recharts-tooltip-label",g);C&&b&&u!==void 0&&u!==null&&(S=b(y,u));var O=v?{role:"status","aria-live":"assertive"}:{};return L.createElement("div",sx({className:E,style:k},O),L.createElement("p",{className:P,style:T},L.isValidElement(S)?S:"".concat(S)),x())};function Pf(t){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pf(t)}function Ch(t,e,r){return e=uoe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uoe(t){var e=foe(t,"string");return Pf(e)=="symbol"?e:String(e)}function foe(t,e){if(Pf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eu="recharts-tooltip-wrapper",doe={visibility:"hidden"};function hoe(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return je(eu,Ch(Ch(Ch(Ch({},"".concat(eu,"-right"),le(r)&&e&&le(e.x)&&r>=e.x),"".concat(eu,"-left"),le(r)&&e&&le(e.x)&&r<e.x),"".concat(eu,"-bottom"),le(n)&&e&&le(e.y)&&n>=e.y),"".concat(eu,"-top"),le(n)&&e&&le(e.y)&&n<e.y))}function T2(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(a&&le(a[n]))return a[n];var u=r[n]-s-i,f=r[n]+i;if(e[n])return o[n]?u:f;if(o[n]){var h=u,p=l[n];return h<p?Math.max(f,l[n]):Math.max(u,l[n])}var g=f+s,y=l[n]+c;return g>y?Math.max(u,l[n]):Math.max(f,l[n])}function poe(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function moe(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,c,u,f;return o.height>0&&o.width>0&&r?(u=T2({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=T2({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=poe({translateX:u,translateY:f,useTranslate3d:s})):c=doe,{cssProperties:c,cssClasses:hoe({translateX:u,translateY:f,coordinate:r})}}function ql(t){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ql(t)}function A2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function P2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?A2(Object(r),!0).forEach(function(n){ux(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function goe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yoe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,p$(n.key),n)}}function voe(t,e,r){return e&&yoe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function boe(t,e,r){return e=km(e),xoe(t,h$()?Reflect.construct(e,r||[],km(t).constructor):e.apply(t,r))}function xoe(t,e){if(e&&(ql(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lx(t)}function h$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h$=function(){return!!t})()}function km(t){return km=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},km(t)}function lx(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function woe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cx(t,e)}function cx(t,e){return cx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},cx(t,e)}function ux(t,e,r){return e=p$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function p$(t){var e=_oe(t,"string");return ql(e)=="symbol"?e:String(e)}function _oe(t,e){if(ql(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ql(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var I2=1,koe=function(t){woe(e,t);function e(){var r;goe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=boe(this,e,[].concat(i)),ux(lx(r),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),ux(lx(r),"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,c,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),r}return voe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>I2||Math.abs(n.height-this.state.lastBoundingBox.height)>I2)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,p=i.offset,g=i.position,y=i.reverseDirection,b=i.useTranslate3d,_=i.viewBox,v=i.wrapperStyle,x=moe({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:p,position:g,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:_}),k=x.cssClasses,T=x.cssProperties,C=P2(P2({transition:h&&a?"transform ".concat(s,"ms ").concat(l):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},v);return L.createElement("div",{tabIndex:-1,className:k,style:C,ref:function(E){n.wrapperNode=E}},c)}}]),e}(M.PureComponent),Eoe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ki={isSsr:Eoe(),get:function(e){return Ki[e]},set:function(e,r){if(typeof e=="string")Ki[e]=r;else{var n=Object.keys(e);n&&n.length&&n.forEach(function(i){Ki[i]=e[i]})}}};function Hl(t){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hl(t)}function O2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function C2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?O2(Object(r),!0).forEach(function(n){J1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Soe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Toe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,g$(n.key),n)}}function Aoe(t,e,r){return e&&Toe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Poe(t,e,r){return e=Em(e),Ioe(t,m$()?Reflect.construct(e,r||[],Em(t).constructor):e.apply(t,r))}function Ioe(t,e){if(e&&(Hl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ooe(t)}function Ooe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m$=function(){return!!t})()}function Em(t){return Em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Em(t)}function Coe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fx(t,e)}function fx(t,e){return fx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},fx(t,e)}function J1(t,e,r){return e=g$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function g$(t){var e=Noe(t,"string");return Hl(e)=="symbol"?e:String(e)}function Noe(t,e){if(Hl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Hl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Roe(t){return t.dataKey}function joe(t,e){return L.isValidElement(t)?L.cloneElement(t,e):typeof t=="function"?L.createElement(t,e):L.createElement(coe,e)}var ni=function(t){Coe(e,t);function e(){return Soe(this,e),Poe(this,e,arguments)}return Aoe(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,f=i.filterNull,h=i.isAnimationActive,p=i.offset,g=i.payload,y=i.payloadUniqBy,b=i.position,_=i.reverseDirection,v=i.useTranslate3d,x=i.viewBox,k=i.wrapperStyle,T=g??[];f&&T.length&&(T=i$(g.filter(function(S){return S.value!=null&&(S.hide!==!0||n.props.includeHidden)}),y,Roe));var C=T.length>0;return L.createElement(koe,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:h,active:a,coordinate:u,hasPayload:C,offset:p,position:b,reverseDirection:_,useTranslate3d:v,viewBox:x,wrapperStyle:k},joe(c,C2(C2({},this.props),{},{payload:T})))}}]),e}(M.PureComponent);J1(ni,"displayName","Tooltip");J1(ni,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ki.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Doe=ki,Moe=function(){return Doe.Date.now()},$oe=Moe,Loe=/\s/;function Foe(t){for(var e=t.length;e--&&Loe.test(t.charAt(e)););return e}var Voe=Foe,Uoe=Voe,Boe=/^\s+/;function zoe(t){return t&&t.slice(0,Uoe(t)+1).replace(Boe,"")}var Woe=zoe,qoe=Woe,N2=xo,Hoe=gc,R2=NaN,Koe=/^[-+]0x[0-9a-f]+$/i,Goe=/^0b[01]+$/i,Xoe=/^0o[0-7]+$/i,Yoe=parseInt;function Qoe(t){if(typeof t=="number")return t;if(Hoe(t))return R2;if(N2(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=N2(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=qoe(t);var r=Goe.test(t);return r||Xoe.test(t)?Yoe(t.slice(2),r?2:8):Koe.test(t)?R2:+t}var y$=Qoe,Joe=xo,Xv=$oe,j2=y$,Zoe="Expected a function",ese=Math.max,tse=Math.min;function rse(t,e,r){var n,i,a,o,s,l,c=0,u=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(Zoe);e=j2(e)||0,Joe(r)&&(u=!!r.leading,f="maxWait"in r,a=f?ese(j2(r.maxWait)||0,e):a,h="trailing"in r?!!r.trailing:h);function p(C){var S=n,E=i;return n=i=void 0,c=C,o=t.apply(E,S),o}function g(C){return c=C,s=setTimeout(_,e),u?p(C):o}function y(C){var S=C-l,E=C-c,P=e-S;return f?tse(P,a-E):P}function b(C){var S=C-l,E=C-c;return l===void 0||S>=e||S<0||f&&E>=a}function _(){var C=Xv();if(b(C))return v(C);s=setTimeout(_,y(C))}function v(C){return s=void 0,h&&n?p(C):(n=i=void 0,o)}function x(){s!==void 0&&clearTimeout(s),c=0,n=l=i=s=void 0}function k(){return s===void 0?o:v(Xv())}function T(){var C=Xv(),S=b(C);if(n=arguments,i=this,l=C,S){if(s===void 0)return g(l);if(f)return clearTimeout(s),s=setTimeout(_,e),p(l)}return s===void 0&&(s=setTimeout(_,e)),o}return T.cancel=x,T.flush=k,T}var nse=rse,ise=nse,ase=xo,ose="Expected a function";function sse(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(ose);return ase(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),ise(t,e,{leading:n,maxWait:e,trailing:i})}var lse=sse;const v$=it(lse);function If(t){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},If(t)}function D2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Nh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?D2(Object(r),!0).forEach(function(n){cse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cse(t,e,r){return e=use(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function use(t){var e=fse(t,"string");return If(e)=="symbol"?e:String(e)}function fse(t,e){if(If(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(If(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dse(t,e){return gse(t)||mse(t,e)||pse(t,e)||hse()}function hse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pse(t,e){if(t){if(typeof t=="string")return M2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M2(t,e)}}function M2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function mse(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function gse(t){if(Array.isArray(t))return t}var Z1=M.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,o=a===void 0?"100%":a,s=t.height,l=s===void 0?"100%":s,c=t.minWidth,u=c===void 0?0:c,f=t.minHeight,h=t.maxHeight,p=t.children,g=t.debounce,y=g===void 0?0:g,b=t.id,_=t.className,v=t.onResize,x=t.style,k=x===void 0?{}:x,T=M.useRef(null),C=M.useRef();C.current=v,M.useImperativeHandle(e,function(){return Object.defineProperty(T.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),T.current},configurable:!0})});var S=M.useState({containerWidth:i.width,containerHeight:i.height}),E=dse(S,2),P=E[0],O=E[1],R=M.useCallback(function(I,V){O(function(B){var W=Math.round(I),H=Math.round(V);return B.containerWidth===W&&B.containerHeight===H?B:{containerWidth:W,containerHeight:H}})},[]);M.useEffect(function(){var I=function(G){var J,oe=G[0].contentRect,Y=oe.width,se=oe.height;R(Y,se),(J=C.current)===null||J===void 0||J.call(C,Y,se)};y>0&&(I=v$(I,y,{trailing:!0,leading:!1}));var V=new ResizeObserver(I),B=T.current.getBoundingClientRect(),W=B.width,H=B.height;return R(W,H),V.observe(T.current),function(){V.disconnect()}},[R,y]);var N=M.useMemo(function(){var I=P.containerWidth,V=P.containerHeight;if(I<0||V<0)return null;Hn(Bo(o)||Bo(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),Hn(!r||r>0,"The aspect(%s) must be greater than zero.",r);var B=Bo(o)?I:o,W=Bo(l)?V:l;r&&r>0&&(B?W=B/r:W&&(B=W*r),h&&W>h&&(W=h)),Hn(B>0||W>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,W,o,l,u,f,r);var H=!Array.isArray(p)&&Fb.isElement(p)&&Hi(p.type).endsWith("Chart");return L.Children.map(p,function(U){return Fb.isElement(U)?M.cloneElement(U,Nh({width:B,height:W},H?{style:Nh({height:"100%",width:"100%",maxHeight:W,maxWidth:B},U.props.style)}:{})):U})},[r,p,l,h,f,u,P,o]);return L.createElement("div",{id:b?"".concat(b):void 0,className:je("recharts-responsive-container",_),style:Nh(Nh({},k),{},{width:o,height:l,minWidth:u,minHeight:f,maxHeight:h}),ref:T},N)}),jd=function(e){return null};jd.displayName="Cell";function Of(t){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Of(t)}function $2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$2(Object(r),!0).forEach(function(n){yse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yse(t,e,r){return e=vse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vse(t){var e=bse(t,"string");return Of(e)=="symbol"?e:String(e)}function bse(t,e){if(Of(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Of(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Us={widthCache:{},cacheCount:0},xse=2e3,wse={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},L2="recharts_measurement_span";function _se(t){var e=dx({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Uu=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ki.isSsr)return{width:0,height:0};var n=_se(r),i=JSON.stringify({text:e,copyStyle:n});if(Us.widthCache[i])return Us.widthCache[i];try{var a=document.getElementById(L2);a||(a=document.createElement("span"),a.setAttribute("id",L2),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=dx(dx({},wse),n);Object.assign(a.style,o),a.textContent="".concat(e);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return Us.widthCache[i]=l,++Us.cacheCount>xse&&(Us.cacheCount=0,Us.widthCache={}),l}catch{return{width:0,height:0}}},kse=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Cf(t){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cf(t)}function Sm(t,e){return Ase(t)||Tse(t,e)||Sse(t,e)||Ese()}function Ese(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sse(t,e){if(t){if(typeof t=="string")return F2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F2(t,e)}}function F2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Tse(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Ase(t){if(Array.isArray(t))return t}function Pse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ose(n.key),n)}}function Ise(t,e,r){return e&&V2(t.prototype,e),r&&V2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ose(t){var e=Cse(t,"string");return Cf(e)=="symbol"?e:String(e)}function Cse(t,e){if(Cf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var U2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,B2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Nse=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Rse=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,b$={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},jse=Object.keys(b$),cl="NaN";function Dse(t,e){return t*b$[e]}var Rh=function(){function t(e,r){Pse(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!Nse.test(r)&&(this.num=NaN,this.unit=""),jse.includes(r)&&(this.num=Dse(e,r),this.unit="px")}return Ise(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=Rse.exec(r))!==null&&n!==void 0?n:[],a=Sm(i,3),o=a[1],s=a[2];return new t(parseFloat(o),s??"")}}]),t}();function x$(t){if(t.includes(cl))return cl;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=U2.exec(e))!==null&&r!==void 0?r:[],i=Sm(n,4),a=i[1],o=i[2],s=i[3],l=Rh.parse(a??""),c=Rh.parse(s??""),u=o==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return cl;e=e.replace(U2,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=B2.exec(e))!==null&&f!==void 0?f:[],p=Sm(h,4),g=p[1],y=p[2],b=p[3],_=Rh.parse(g??""),v=Rh.parse(b??""),x=y==="+"?_.add(v):_.subtract(v);if(x.isNaN())return cl;e=e.replace(B2,x.toString())}return e}var z2=/\(([^()]*)\)/;function Mse(t){for(var e=t;e.includes("(");){var r=z2.exec(e),n=Sm(r,2),i=n[1];e=e.replace(z2,x$(i))}return e}function $se(t){var e=t.replace(/\s+/g,"");return e=Mse(e),e=x$(e),e}function Lse(t){try{return $se(t)}catch{return cl}}function Yv(t){var e=Lse(t.slice(5,-1));return e===cl?"":e}var Fse=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Vse=["dx","dy","angle","className","breakAll"];function hx(){return hx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hx.apply(this,arguments)}function W2(t,e){if(t==null)return{};var r=Use(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Use(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function q2(t,e){return qse(t)||Wse(t,e)||zse(t,e)||Bse()}function Bse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zse(t,e){if(t){if(typeof t=="string")return H2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H2(t,e)}}function H2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Wse(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function qse(t){if(Array.isArray(t))return t}var w$=/[ \f\n\r\t\v\u2028\u2029]+/,_$=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];Me(r)||(n?a=r.toString().split(""):a=r.toString().split(w$));var o=a.map(function(l){return{word:l,width:Uu(l,i).width}}),s=n?0:Uu(" ",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},Hse=function(e,r,n,i,a){var o=e.maxLines,s=e.children,l=e.style,c=e.breakAll,u=le(o),f=s,h=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce(function(W,H){var U=H.word,G=H.width,J=W[W.length-1];if(J&&(i==null||a||J.width+G+n<Number(i)))J.words.push(U),J.width+=G+n;else{var oe={words:[U],width:G};W.push(oe)}return W},[])},p=h(r),g=function(B){return B.reduce(function(W,H){return W.width>H.width?W:H})};if(!u)return p;for(var y="…",b=function(B){var W=f.slice(0,B),H=_$({breakAll:c,style:l,children:W+y}).wordsWithComputedWidth,U=h(H),G=U.length>o||g(U).width>Number(i);return[G,U]},_=0,v=f.length-1,x=0,k;_<=v&&x<=f.length-1;){var T=Math.floor((_+v)/2),C=T-1,S=b(C),E=q2(S,2),P=E[0],O=E[1],R=b(T),N=q2(R,1),I=N[0];if(!P&&!I&&(_=T+1),P&&I&&(v=T-1),!P&&I){k=O;break}x++}return k||p},K2=function(e){var r=Me(e)?[]:e.toString().split(w$);return[{words:r}]},Kse=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,s=e.maxLines;if((r||n)&&!Ki.isSsr){var l,c,u=_$({breakAll:o,children:i,style:a});if(u){var f=u.wordsWithComputedWidth,h=u.spaceWidth;l=f,c=h}else return K2(i);return Hse({breakAll:o,children:i,maxLines:s,style:a},l,c,r,n)}return K2(i)},G2="#808080",ds=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.lineHeight,s=o===void 0?"1em":o,l=e.capHeight,c=l===void 0?"0.71em":l,u=e.scaleToFit,f=u===void 0?!1:u,h=e.textAnchor,p=h===void 0?"start":h,g=e.verticalAnchor,y=g===void 0?"end":g,b=e.fill,_=b===void 0?G2:b,v=W2(e,Fse),x=M.useMemo(function(){return Kse({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:f,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,f,v.style,v.width]),k=v.dx,T=v.dy,C=v.angle,S=v.className,E=v.breakAll,P=W2(v,Vse);if(!Qt(n)||!Qt(a))return null;var O=n+(le(k)?k:0),R=a+(le(T)?T:0),N;switch(y){case"start":N=Yv("calc(".concat(c,")"));break;case"middle":N=Yv("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:N=Yv("calc(".concat(x.length-1," * -").concat(s,")"));break}var I=[];if(f){var V=x[0].width,B=v.width;I.push("scale(".concat((le(B)?B/V:1)/V,")"))}return C&&I.push("rotate(".concat(C,", ").concat(O,", ").concat(R,")")),I.length&&(P.transform=I.join(" ")),L.createElement("text",hx({},Ae(P,!0),{x:O,y:R,className:je("recharts-text",S),textAnchor:p,fill:_.includes("url")?G2:_}),x.map(function(W,H){var U=W.words.join(E?"":" ");return L.createElement("tspan",{x:O,dy:H===0?N:s,key:U},U)}))};function eo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Gse(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ek(t){let e,r,n;t.length!==2?(e=eo,r=(s,l)=>eo(t(s),l),n=(s,l)=>t(s)-l):(e=t===eo||t===Gse?t:Xse,r=t,n=t);function i(s,l,c=0,u=s.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;r(s[f],l)<0?c=f+1:u=f}while(c<u)}return c}function a(s,l,c=0,u=s.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;r(s[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function o(s,l,c=0,u=s.length){const f=i(s,l,c,u-1);return f>c&&n(s[f-1],l)>-n(s[f],l)?f-1:f}return{left:i,center:o,right:a}}function Xse(){return 0}function k$(t){return t===null?NaN:+t}function*Yse(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const Qse=ek(eo),Dd=Qse.right;ek(k$).center;class X2 extends Map{constructor(e,r=ele){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(Y2(this,e))}has(e){return super.has(Y2(this,e))}set(e,r){return super.set(Jse(this,e),r)}delete(e){return super.delete(Zse(this,e))}}function Y2({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function Jse({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function Zse({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function ele(t){return t!==null&&typeof t=="object"?t.valueOf():t}function tle(t=eo){if(t===eo)return E$;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function E$(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const rle=Math.sqrt(50),nle=Math.sqrt(10),ile=Math.sqrt(2);function Tm(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=rle?10:a>=nle?5:a>=ile?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/o,s=Math.round(t*c),l=Math.round(e*c),s/c<t&&++s,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*o,s=Math.round(t/c),l=Math.round(e/c),s*c<t&&++s,l*c>e&&--l),l<s&&.5<=r&&r<2?Tm(t,e,r*2):[s,l,c]}function px(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,o]=n?Tm(e,t,r):Tm(t,e,r);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(n)if(o<0)for(let c=0;c<s;++c)l[c]=(a-c)/-o;else for(let c=0;c<s;++c)l[c]=(a-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(i+c)/-o;else for(let c=0;c<s;++c)l[c]=(i+c)*o;return l}function mx(t,e,r){return e=+e,t=+t,r=+r,Tm(t,e,r)[2]}function gx(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?mx(e,t,r):mx(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function Q2(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function J2(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function S$(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?E$:tle(i);n>r;){if(n-r>600){const l=n-r+1,c=e-r+1,u=Math.log(l),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),p=Math.max(r,Math.floor(e-c*f/l+h)),g=Math.min(n,Math.floor(e+(l-c)*f/l+h));S$(t,e,p,g,i)}const a=t[e];let o=r,s=n;for(tu(t,r,e),i(t[n],a)>0&&tu(t,r,n);o<s;){for(tu(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[r],a)===0?tu(t,r,s):(++s,tu(t,s,n)),s<=e&&(r=s+1),e<=s&&(n=s-1)}return t}function tu(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function ale(t,e,r){if(t=Float64Array.from(Yse(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return J2(t);if(e>=1)return Q2(t);var n,i=(n-1)*e,a=Math.floor(i),o=Q2(S$(t,a).subarray(0,a+1)),s=J2(t.subarray(a+1));return o+(s-o)*(i-a)}}function ole(t,e,r=k$){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),o=+r(t[a],a,t),s=+r(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function sle(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function Rn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function fa(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const yx=Symbol("implicit");function tk(){var t=new X2,e=[],r=[],n=yx;function i(a){let o=t.get(a);if(o===void 0){if(n!==yx)return n;t.set(a,o=e.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new X2;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return tk(e,r).unknown(n)},Rn.apply(i,arguments),i}function Nf(){var t=tk().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,o,s=!1,l=0,c=0,u=.5;delete t.unknown;function f(){var h=e().length,p=i<n,g=p?i:n,y=p?n:i;a=(y-g)/Math.max(1,h-l+c*2),s&&(a=Math.floor(a)),g+=(y-g-a*(h-l))*u,o=a*(1-l),s&&(g=Math.round(g),o=Math.round(o));var b=sle(h).map(function(_){return g+a*_});return r(p?b.reverse():b)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},t.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,s=!0,f()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(h){return arguments.length?(s=!!h,f()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},t.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),f()):u},t.copy=function(){return Nf(e(),[n,i]).round(s).paddingInner(l).paddingOuter(c).align(u)},Rn.apply(f(),arguments)}function T$(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return T$(e())},t}function Bu(){return T$(Nf.apply(null,arguments).paddingInner(1))}function rk(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function A$(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Md(){}var Rf=.7,Am=1/Rf,Tl="\\s*([+-]?\\d+)\\s*",jf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",yi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",lle=/^#([0-9a-f]{3,8})$/,cle=new RegExp(`^rgb\\(${Tl},${Tl},${Tl}\\)$`),ule=new RegExp(`^rgb\\(${yi},${yi},${yi}\\)$`),fle=new RegExp(`^rgba\\(${Tl},${Tl},${Tl},${jf}\\)$`),dle=new RegExp(`^rgba\\(${yi},${yi},${yi},${jf}\\)$`),hle=new RegExp(`^hsl\\(${jf},${yi},${yi}\\)$`),ple=new RegExp(`^hsla\\(${jf},${yi},${yi},${jf}\\)$`),Z2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};rk(Md,Df,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:eP,formatHex:eP,formatHex8:mle,formatHsl:gle,formatRgb:tP,toString:tP});function eP(){return this.rgb().formatHex()}function mle(){return this.rgb().formatHex8()}function gle(){return P$(this).formatHsl()}function tP(){return this.rgb().formatRgb()}function Df(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=lle.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?rP(e):r===3?new Gr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?jh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?jh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=cle.exec(t))?new Gr(e[1],e[2],e[3],1):(e=ule.exec(t))?new Gr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=fle.exec(t))?jh(e[1],e[2],e[3],e[4]):(e=dle.exec(t))?jh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=hle.exec(t))?aP(e[1],e[2]/100,e[3]/100,1):(e=ple.exec(t))?aP(e[1],e[2]/100,e[3]/100,e[4]):Z2.hasOwnProperty(t)?rP(Z2[t]):t==="transparent"?new Gr(NaN,NaN,NaN,0):null}function rP(t){return new Gr(t>>16&255,t>>8&255,t&255,1)}function jh(t,e,r,n){return n<=0&&(t=e=r=NaN),new Gr(t,e,r,n)}function yle(t){return t instanceof Md||(t=Df(t)),t?(t=t.rgb(),new Gr(t.r,t.g,t.b,t.opacity)):new Gr}function vx(t,e,r,n){return arguments.length===1?yle(t):new Gr(t,e,r,n??1)}function Gr(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}rk(Gr,vx,A$(Md,{brighter(t){return t=t==null?Am:Math.pow(Am,t),new Gr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Rf:Math.pow(Rf,t),new Gr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Gr(Yo(this.r),Yo(this.g),Yo(this.b),Pm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:nP,formatHex:nP,formatHex8:vle,formatRgb:iP,toString:iP}));function nP(){return`#${zo(this.r)}${zo(this.g)}${zo(this.b)}`}function vle(){return`#${zo(this.r)}${zo(this.g)}${zo(this.b)}${zo((isNaN(this.opacity)?1:this.opacity)*255)}`}function iP(){const t=Pm(this.opacity);return`${t===1?"rgb(":"rgba("}${Yo(this.r)}, ${Yo(this.g)}, ${Yo(this.b)}${t===1?")":`, ${t})`}`}function Pm(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Yo(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function zo(t){return t=Yo(t),(t<16?"0":"")+t.toString(16)}function aP(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new zn(t,e,r,n)}function P$(t){if(t instanceof zn)return new zn(t.h,t.s,t.l,t.opacity);if(t instanceof Md||(t=Df(t)),!t)return new zn;if(t instanceof zn)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(r-n)/s+(r<n)*6:r===a?o=(n-e)/s+2:o=(e-r)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new zn(o,s,l,t.opacity)}function ble(t,e,r,n){return arguments.length===1?P$(t):new zn(t,e,r,n??1)}function zn(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}rk(zn,ble,A$(Md,{brighter(t){return t=t==null?Am:Math.pow(Am,t),new zn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Rf:Math.pow(Rf,t),new zn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Gr(Qv(t>=240?t-240:t+120,i,n),Qv(t,i,n),Qv(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new zn(oP(this.h),Dh(this.s),Dh(this.l),Pm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Pm(this.opacity);return`${t===1?"hsl(":"hsla("}${oP(this.h)}, ${Dh(this.s)*100}%, ${Dh(this.l)*100}%${t===1?")":`, ${t})`}`}}));function oP(t){return t=(t||0)%360,t<0?t+360:t}function Dh(t){return Math.max(0,Math.min(1,t||0))}function Qv(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const nk=t=>()=>t;function xle(t,e){return function(r){return t+r*e}}function wle(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function _le(t){return(t=+t)==1?I$:function(e,r){return r-e?wle(e,r,t):nk(isNaN(e)?r:e)}}function I$(t,e){var r=e-t;return r?xle(t,r):nk(isNaN(t)?e:t)}const sP=function t(e){var r=_le(e);function n(i,a){var o=r((i=vx(i)).r,(a=vx(a)).r),s=r(i.g,a.g),l=r(i.b,a.b),c=I$(i.opacity,a.opacity);return function(u){return i.r=o(u),i.g=s(u),i.b=l(u),i.opacity=c(u),i+""}}return n.gamma=t,n}(1);function kle(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function Ele(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Sle(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=Ec(t[o],e[o]);for(;o<r;++o)a[o]=e[o];return function(s){for(o=0;o<n;++o)a[o]=i[o](s);return a}}function Tle(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Im(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Ale(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Ec(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var bx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Jv=new RegExp(bx.source,"g");function Ple(t){return function(){return t}}function Ile(t){return function(e){return t(e)+""}}function Ole(t,e){var r=bx.lastIndex=Jv.lastIndex=0,n,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(n=bx.exec(t))&&(i=Jv.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:Im(n,i)})),r=Jv.lastIndex;return r<e.length&&(a=e.slice(r),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?Ile(l[0].x):Ple(e):(e=l.length,function(c){for(var u=0,f;u<e;++u)s[(f=l[u]).i]=f.x(c);return s.join("")})}function Ec(t,e){var r=typeof e,n;return e==null||r==="boolean"?nk(e):(r==="number"?Im:r==="string"?(n=Df(e))?(e=n,sP):Ole:e instanceof Df?sP:e instanceof Date?Tle:Ele(e)?kle:Array.isArray(e)?Sle:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Ale:Im)(t,e)}function ik(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function Cle(t,e){e===void 0&&(e=t,t=Ec);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[s](o-s)}}function Nle(t){return function(){return t}}function Om(t){return+t}var lP=[0,1];function Lr(t){return t}function xx(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:Nle(isNaN(e)?NaN:.5)}function Rle(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function jle(t,e,r){var n=t[0],i=t[1],a=e[0],o=e[1];return i<n?(n=xx(i,n),a=r(o,a)):(n=xx(n,i),a=r(a,o)),function(s){return a(n(s))}}function Dle(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=xx(t[o],t[o+1]),a[o]=r(e[o],e[o+1]);return function(s){var l=Dd(t,s,1,n)-1;return a[l](i[l](s))}}function $d(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function py(){var t=lP,e=lP,r=Ec,n,i,a,o=Lr,s,l,c;function u(){var h=Math.min(t.length,e.length);return o!==Lr&&(o=Rle(t[0],t[h-1])),s=h>2?Dle:jle,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=s(t.map(n),e,r)))(n(o(h)))}return f.invert=function(h){return o(i((c||(c=s(e,t.map(n),Im)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,Om),u()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),u()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),r=ik,u()},f.clamp=function(h){return arguments.length?(o=h?!0:Lr,u()):o!==Lr},f.interpolate=function(h){return arguments.length?(r=h,u()):r},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,p){return n=h,i=p,u()}}function ak(){return py()(Lr,Lr)}function Mle(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Cm(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Kl(t){return t=Cm(Math.abs(t)),t?t[1]:NaN}function $le(t,e){return function(r,n){for(var i=r.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),a.push(r.substring(i-=s,i+s)),!((l+=s+1)>n));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function Lle(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var Fle=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Mf(t){if(!(e=Fle.exec(t)))throw new Error("invalid format: "+t);var e;return new ok({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Mf.prototype=ok.prototype;function ok(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}ok.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Vle(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var O$;function Ule(t,e){var r=Cm(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(O$=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Cm(t,Math.max(0,e+a-1))[0]}function cP(t,e){var r=Cm(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const uP={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Mle,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>cP(t*100,e),r:cP,s:Ule,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function fP(t){return t}var dP=Array.prototype.map,hP=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Ble(t){var e=t.grouping===void 0||t.thousands===void 0?fP:$le(dP.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?fP:Lle(dP.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(f){f=Mf(f);var h=f.fill,p=f.align,g=f.sign,y=f.symbol,b=f.zero,_=f.width,v=f.comma,x=f.precision,k=f.trim,T=f.type;T==="n"?(v=!0,T="g"):uP[T]||(x===void 0&&(x=12),k=!0,T="g"),(b||h==="0"&&p==="=")&&(b=!0,h="0",p="=");var C=y==="$"?r:y==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",S=y==="$"?n:/[%p]/.test(T)?o:"",E=uP[T],P=/[defgprs%]/.test(T);x=x===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function O(R){var N=C,I=S,V,B,W;if(T==="c")I=E(R)+I,R="";else{R=+R;var H=R<0||1/R<0;if(R=isNaN(R)?l:E(Math.abs(R),x),k&&(R=Vle(R)),H&&+R==0&&g!=="+"&&(H=!1),N=(H?g==="("?g:s:g==="-"||g==="("?"":g)+N,I=(T==="s"?hP[8+O$/3]:"")+I+(H&&g==="("?")":""),P){for(V=-1,B=R.length;++V<B;)if(W=R.charCodeAt(V),48>W||W>57){I=(W===46?i+R.slice(V+1):R.slice(V))+I,R=R.slice(0,V);break}}}v&&!b&&(R=e(R,1/0));var U=N.length+R.length+I.length,G=U<_?new Array(_-U+1).join(h):"";switch(v&&b&&(R=e(G+R,G.length?_-I.length:1/0),G=""),p){case"<":R=N+R+I+G;break;case"=":R=N+G+R+I;break;case"^":R=G.slice(0,U=G.length>>1)+N+R+I+G.slice(U);break;default:R=G+N+R+I;break}return a(R)}return O.toString=function(){return f+""},O}function u(f,h){var p=c((f=Mf(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Kl(h)/3)))*3,y=Math.pow(10,-g),b=hP[8+g/3];return function(_){return p(y*_)+b}}return{format:c,formatPrefix:u}}var Mh,sk,C$;zle({thousands:",",grouping:[3],currency:["$",""]});function zle(t){return Mh=Ble(t),sk=Mh.format,C$=Mh.formatPrefix,Mh}function Wle(t){return Math.max(0,-Kl(Math.abs(t)))}function qle(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Kl(e)/3)))*3-Kl(Math.abs(t)))}function Hle(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Kl(e)-Kl(t))+1}function N$(t,e,r,n){var i=gx(t,e,r),a;switch(n=Mf(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=qle(i,o))&&(n.precision=a),C$(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=Hle(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=Wle(i))&&(n.precision=a-(n.type==="%")*2);break}}return sk(n)}function wo(t){var e=t.domain;return t.ticks=function(r){var n=e();return px(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return N$(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,o=n[i],s=n[a],l,c,u=10;for(s<o&&(c=o,o=s,s=c,c=i,i=a,a=c);u-- >0;){if(c=mx(o,s,r),c===l)return n[i]=o,n[a]=s,e(n);if(c>0)o=Math.floor(o/c)*c,s=Math.ceil(s/c)*c;else if(c<0)o=Math.ceil(o*c)/c,s=Math.floor(s*c)/c;else break;l=c}return t},t}function Nm(){var t=ak();return t.copy=function(){return $d(t,Nm())},Rn.apply(t,arguments),wo(t)}function R$(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Om),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return R$(t).unknown(e)},t=arguments.length?Array.from(t,Om):[0,1],wo(r)}function j$(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),t[r]=e.floor(i),t[n]=e.ceil(a),t}function pP(t){return Math.log(t)}function mP(t){return Math.exp(t)}function Kle(t){return-Math.log(-t)}function Gle(t){return-Math.exp(-t)}function Xle(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Yle(t){return t===10?Xle:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Qle(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function gP(t){return(e,r)=>-t(-e,r)}function lk(t){const e=t(pP,mP),r=e.domain;let n=10,i,a;function o(){return i=Qle(n),a=Yle(n),r()[0]<0?(i=gP(i),a=gP(a),t(Kle,Gle)):t(pP,mP),e}return e.base=function(s){return arguments.length?(n=+s,o()):n},e.domain=function(s){return arguments.length?(r(s),o()):r()},e.ticks=s=>{const l=r();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let h=i(c),p=i(u),g,y;const b=s==null?10:+s;let _=[];if(!(n%1)&&p-h<b){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(g=1;g<n;++g)if(y=h<0?g/a(-h):g*a(h),!(y<c)){if(y>u)break;_.push(y)}}else for(;h<=p;++h)for(g=n-1;g>=1;--g)if(y=h>0?g/a(-h):g*a(h),!(y<c)){if(y>u)break;_.push(y)}_.length*2<b&&(_=px(c,u,b))}else _=px(h,p,Math.min(p-h,b)).map(a);return f?_.reverse():_},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Mf(l)).precision==null&&(l.trim=!0),l=sk(l)),s===1/0)return l;const c=Math.max(1,n*s/e.ticks().length);return u=>{let f=u/a(Math.round(i(u)));return f*n<n-.5&&(f*=n),f<=c?l(u):""}},e.nice=()=>r(j$(r(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function D$(){const t=lk(py()).domain([1,10]);return t.copy=()=>$d(t,D$()).base(t.base()),Rn.apply(t,arguments),t}function yP(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function vP(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function ck(t){var e=1,r=t(yP(e),vP(e));return r.constant=function(n){return arguments.length?t(yP(e=+n),vP(e)):e},wo(r)}function M$(){var t=ck(py());return t.copy=function(){return $d(t,M$()).constant(t.constant())},Rn.apply(t,arguments)}function bP(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Jle(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Zle(t){return t<0?-t*t:t*t}function uk(t){var e=t(Lr,Lr),r=1;function n(){return r===1?t(Lr,Lr):r===.5?t(Jle,Zle):t(bP(r),bP(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},wo(e)}function fk(){var t=uk(py());return t.copy=function(){return $d(t,fk()).exponent(t.exponent())},Rn.apply(t,arguments),t}function ece(){return fk.apply(null,arguments).exponent(.5)}function xP(t){return Math.sign(t)*t*t}function tce(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function $$(){var t=ak(),e=[0,1],r=!1,n;function i(a){var o=tce(t(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return t.invert(xP(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Om)).map(xP)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return $$(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Rn.apply(i,arguments),wo(i)}function L$(){var t=[],e=[],r=[],n;function i(){var o=0,s=Math.max(1,e.length);for(r=new Array(s-1);++o<s;)r[o-1]=ole(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?n:e[Dd(r,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:t[0],s<r.length?r[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(eo),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return L$().domain(t).range(e).unknown(n)},Rn.apply(a,arguments)}function F$(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[Dd(n,l,0,r)]:a}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,n[0]]:c>=r?[n[r-1],e]:[n[c-1],n[c]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return F$().domain([t,e]).range(i).unknown(a)},Rn.apply(wo(o),arguments)}function V$(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[Dd(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return V$().domain(t).range(e).unknown(r)},Rn.apply(i,arguments)}const Zv=new Date,e0=new Date;function Jt(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let c;do l.push(c=new Date(+a)),e(a,s),t(a);while(c<a&&a<o);return l},i.filter=a=>Jt(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),r&&(i.count=(a,o)=>(Zv.setTime(+a),e0.setTime(+o),t(Zv),t(e0),Math.floor(r(Zv,e0))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Rm=Jt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Rm.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Jt(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Rm);Rm.range;const Vi=1e3,Tn=Vi*60,Ui=Tn*60,ia=Ui*24,dk=ia*7,wP=ia*30,t0=ia*365,Wo=Jt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Vi)},(t,e)=>(e-t)/Vi,t=>t.getUTCSeconds());Wo.range;const hk=Jt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Vi)},(t,e)=>{t.setTime(+t+e*Tn)},(t,e)=>(e-t)/Tn,t=>t.getMinutes());hk.range;const pk=Jt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Tn)},(t,e)=>(e-t)/Tn,t=>t.getUTCMinutes());pk.range;const mk=Jt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Vi-t.getMinutes()*Tn)},(t,e)=>{t.setTime(+t+e*Ui)},(t,e)=>(e-t)/Ui,t=>t.getHours());mk.range;const gk=Jt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ui)},(t,e)=>(e-t)/Ui,t=>t.getUTCHours());gk.range;const Ld=Jt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Tn)/ia,t=>t.getDate()-1);Ld.range;const my=Jt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ia,t=>t.getUTCDate()-1);my.range;const U$=Jt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ia,t=>Math.floor(t/ia));U$.range;function As(t){return Jt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Tn)/dk)}const gy=As(0),jm=As(1),rce=As(2),nce=As(3),Gl=As(4),ice=As(5),ace=As(6);gy.range;jm.range;rce.range;nce.range;Gl.range;ice.range;ace.range;function Ps(t){return Jt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/dk)}const yy=Ps(0),Dm=Ps(1),oce=Ps(2),sce=Ps(3),Xl=Ps(4),lce=Ps(5),cce=Ps(6);yy.range;Dm.range;oce.range;sce.range;Xl.range;lce.range;cce.range;const yk=Jt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());yk.range;const vk=Jt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());vk.range;const aa=Jt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());aa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Jt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});aa.range;const oa=Jt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());oa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Jt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});oa.range;function B$(t,e,r,n,i,a){const o=[[Wo,1,Vi],[Wo,5,5*Vi],[Wo,15,15*Vi],[Wo,30,30*Vi],[a,1,Tn],[a,5,5*Tn],[a,15,15*Tn],[a,30,30*Tn],[i,1,Ui],[i,3,3*Ui],[i,6,6*Ui],[i,12,12*Ui],[n,1,ia],[n,2,2*ia],[r,1,dk],[e,1,wP],[e,3,3*wP],[t,1,t0]];function s(c,u,f){const h=u<c;h&&([c,u]=[u,c]);const p=f&&typeof f.range=="function"?f:l(c,u,f),g=p?p.range(c,+u+1):[];return h?g.reverse():g}function l(c,u,f){const h=Math.abs(u-c)/f,p=ek(([,,b])=>b).right(o,h);if(p===o.length)return t.every(gx(c/t0,u/t0,f));if(p===0)return Rm.every(Math.max(gx(c,u,f),1));const[g,y]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return g.every(y)}return[s,l]}const[uce,fce]=B$(oa,vk,yy,U$,gk,pk),[dce,hce]=B$(aa,yk,gy,Ld,mk,hk);function r0(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function n0(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ru(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function pce(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,c=nu(i),u=iu(i),f=nu(a),h=iu(a),p=nu(o),g=iu(o),y=nu(s),b=iu(s),_=nu(l),v=iu(l),x={a:H,A:U,b:G,B:J,c:null,d:AP,e:AP,f:$ce,g:Kce,G:Xce,H:jce,I:Dce,j:Mce,L:z$,m:Lce,M:Fce,p:oe,q:Y,Q:OP,s:CP,S:Vce,u:Uce,U:Bce,V:zce,w:Wce,W:qce,x:null,X:null,y:Hce,Y:Gce,Z:Yce,"%":IP},k={a:se,A:Ee,b:Re,B:Ze,c:null,d:PP,e:PP,f:eue,g:uue,G:due,H:Qce,I:Jce,j:Zce,L:q$,m:tue,M:rue,p:Ve,q:Mt,Q:OP,s:CP,S:nue,u:iue,U:aue,V:oue,w:sue,W:lue,x:null,X:null,y:cue,Y:fue,Z:hue,"%":IP},T={a:O,A:R,b:N,B:I,c:V,d:SP,e:SP,f:Oce,g:EP,G:kP,H:TP,I:TP,j:Tce,L:Ice,m:Sce,M:Ace,p:P,q:Ece,Q:Nce,s:Rce,S:Pce,u:bce,U:xce,V:wce,w:vce,W:_ce,x:B,X:W,y:EP,Y:kP,Z:kce,"%":Cce};x.x=C(r,x),x.X=C(n,x),x.c=C(e,x),k.x=C(r,k),k.X=C(n,k),k.c=C(e,k);function C(ce,xe){return function(_e){var Q=[],Ue=-1,re=0,ge=ce.length,be,ke,j;for(_e instanceof Date||(_e=new Date(+_e));++Ue<ge;)ce.charCodeAt(Ue)===37&&(Q.push(ce.slice(re,Ue)),(ke=_P[be=ce.charAt(++Ue)])!=null?be=ce.charAt(++Ue):ke=be==="e"?" ":"0",(j=xe[be])&&(be=j(_e,ke)),Q.push(be),re=Ue+1);return Q.push(ce.slice(re,Ue)),Q.join("")}}function S(ce,xe){return function(_e){var Q=ru(1900,void 0,1),Ue=E(Q,ce,_e+="",0),re,ge;if(Ue!=_e.length)return null;if("Q"in Q)return new Date(Q.Q);if("s"in Q)return new Date(Q.s*1e3+("L"in Q?Q.L:0));if(xe&&!("Z"in Q)&&(Q.Z=0),"p"in Q&&(Q.H=Q.H%12+Q.p*12),Q.m===void 0&&(Q.m="q"in Q?Q.q:0),"V"in Q){if(Q.V<1||Q.V>53)return null;"w"in Q||(Q.w=1),"Z"in Q?(re=n0(ru(Q.y,0,1)),ge=re.getUTCDay(),re=ge>4||ge===0?Dm.ceil(re):Dm(re),re=my.offset(re,(Q.V-1)*7),Q.y=re.getUTCFullYear(),Q.m=re.getUTCMonth(),Q.d=re.getUTCDate()+(Q.w+6)%7):(re=r0(ru(Q.y,0,1)),ge=re.getDay(),re=ge>4||ge===0?jm.ceil(re):jm(re),re=Ld.offset(re,(Q.V-1)*7),Q.y=re.getFullYear(),Q.m=re.getMonth(),Q.d=re.getDate()+(Q.w+6)%7)}else("W"in Q||"U"in Q)&&("w"in Q||(Q.w="u"in Q?Q.u%7:"W"in Q?1:0),ge="Z"in Q?n0(ru(Q.y,0,1)).getUTCDay():r0(ru(Q.y,0,1)).getDay(),Q.m=0,Q.d="W"in Q?(Q.w+6)%7+Q.W*7-(ge+5)%7:Q.w+Q.U*7-(ge+6)%7);return"Z"in Q?(Q.H+=Q.Z/100|0,Q.M+=Q.Z%100,n0(Q)):r0(Q)}}function E(ce,xe,_e,Q){for(var Ue=0,re=xe.length,ge=_e.length,be,ke;Ue<re;){if(Q>=ge)return-1;if(be=xe.charCodeAt(Ue++),be===37){if(be=xe.charAt(Ue++),ke=T[be in _P?xe.charAt(Ue++):be],!ke||(Q=ke(ce,_e,Q))<0)return-1}else if(be!=_e.charCodeAt(Q++))return-1}return Q}function P(ce,xe,_e){var Q=c.exec(xe.slice(_e));return Q?(ce.p=u.get(Q[0].toLowerCase()),_e+Q[0].length):-1}function O(ce,xe,_e){var Q=p.exec(xe.slice(_e));return Q?(ce.w=g.get(Q[0].toLowerCase()),_e+Q[0].length):-1}function R(ce,xe,_e){var Q=f.exec(xe.slice(_e));return Q?(ce.w=h.get(Q[0].toLowerCase()),_e+Q[0].length):-1}function N(ce,xe,_e){var Q=_.exec(xe.slice(_e));return Q?(ce.m=v.get(Q[0].toLowerCase()),_e+Q[0].length):-1}function I(ce,xe,_e){var Q=y.exec(xe.slice(_e));return Q?(ce.m=b.get(Q[0].toLowerCase()),_e+Q[0].length):-1}function V(ce,xe,_e){return E(ce,e,xe,_e)}function B(ce,xe,_e){return E(ce,r,xe,_e)}function W(ce,xe,_e){return E(ce,n,xe,_e)}function H(ce){return o[ce.getDay()]}function U(ce){return a[ce.getDay()]}function G(ce){return l[ce.getMonth()]}function J(ce){return s[ce.getMonth()]}function oe(ce){return i[+(ce.getHours()>=12)]}function Y(ce){return 1+~~(ce.getMonth()/3)}function se(ce){return o[ce.getUTCDay()]}function Ee(ce){return a[ce.getUTCDay()]}function Re(ce){return l[ce.getUTCMonth()]}function Ze(ce){return s[ce.getUTCMonth()]}function Ve(ce){return i[+(ce.getUTCHours()>=12)]}function Mt(ce){return 1+~~(ce.getUTCMonth()/3)}return{format:function(ce){var xe=C(ce+="",x);return xe.toString=function(){return ce},xe},parse:function(ce){var xe=S(ce+="",!1);return xe.toString=function(){return ce},xe},utcFormat:function(ce){var xe=C(ce+="",k);return xe.toString=function(){return ce},xe},utcParse:function(ce){var xe=S(ce+="",!0);return xe.toString=function(){return ce},xe}}}var _P={"-":"",_:" ",0:"0"},or=/^\s*\d+/,mce=/^%/,gce=/[\\^$*+?|[\]().{}]/g;function Je(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function yce(t){return t.replace(gce,"\\$&")}function nu(t){return new RegExp("^(?:"+t.map(yce).join("|")+")","i")}function iu(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function vce(t,e,r){var n=or.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function bce(t,e,r){var n=or.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function xce(t,e,r){var n=or.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function wce(t,e,r){var n=or.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function _ce(t,e,r){var n=or.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function kP(t,e,r){var n=or.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function EP(t,e,r){var n=or.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function kce(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Ece(t,e,r){var n=or.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function Sce(t,e,r){var n=or.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function SP(t,e,r){var n=or.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function Tce(t,e,r){var n=or.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function TP(t,e,r){var n=or.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function Ace(t,e,r){var n=or.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function Pce(t,e,r){var n=or.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function Ice(t,e,r){var n=or.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function Oce(t,e,r){var n=or.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Cce(t,e,r){var n=mce.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function Nce(t,e,r){var n=or.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function Rce(t,e,r){var n=or.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function AP(t,e){return Je(t.getDate(),e,2)}function jce(t,e){return Je(t.getHours(),e,2)}function Dce(t,e){return Je(t.getHours()%12||12,e,2)}function Mce(t,e){return Je(1+Ld.count(aa(t),t),e,3)}function z$(t,e){return Je(t.getMilliseconds(),e,3)}function $ce(t,e){return z$(t,e)+"000"}function Lce(t,e){return Je(t.getMonth()+1,e,2)}function Fce(t,e){return Je(t.getMinutes(),e,2)}function Vce(t,e){return Je(t.getSeconds(),e,2)}function Uce(t){var e=t.getDay();return e===0?7:e}function Bce(t,e){return Je(gy.count(aa(t)-1,t),e,2)}function W$(t){var e=t.getDay();return e>=4||e===0?Gl(t):Gl.ceil(t)}function zce(t,e){return t=W$(t),Je(Gl.count(aa(t),t)+(aa(t).getDay()===4),e,2)}function Wce(t){return t.getDay()}function qce(t,e){return Je(jm.count(aa(t)-1,t),e,2)}function Hce(t,e){return Je(t.getFullYear()%100,e,2)}function Kce(t,e){return t=W$(t),Je(t.getFullYear()%100,e,2)}function Gce(t,e){return Je(t.getFullYear()%1e4,e,4)}function Xce(t,e){var r=t.getDay();return t=r>=4||r===0?Gl(t):Gl.ceil(t),Je(t.getFullYear()%1e4,e,4)}function Yce(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Je(e/60|0,"0",2)+Je(e%60,"0",2)}function PP(t,e){return Je(t.getUTCDate(),e,2)}function Qce(t,e){return Je(t.getUTCHours(),e,2)}function Jce(t,e){return Je(t.getUTCHours()%12||12,e,2)}function Zce(t,e){return Je(1+my.count(oa(t),t),e,3)}function q$(t,e){return Je(t.getUTCMilliseconds(),e,3)}function eue(t,e){return q$(t,e)+"000"}function tue(t,e){return Je(t.getUTCMonth()+1,e,2)}function rue(t,e){return Je(t.getUTCMinutes(),e,2)}function nue(t,e){return Je(t.getUTCSeconds(),e,2)}function iue(t){var e=t.getUTCDay();return e===0?7:e}function aue(t,e){return Je(yy.count(oa(t)-1,t),e,2)}function H$(t){var e=t.getUTCDay();return e>=4||e===0?Xl(t):Xl.ceil(t)}function oue(t,e){return t=H$(t),Je(Xl.count(oa(t),t)+(oa(t).getUTCDay()===4),e,2)}function sue(t){return t.getUTCDay()}function lue(t,e){return Je(Dm.count(oa(t)-1,t),e,2)}function cue(t,e){return Je(t.getUTCFullYear()%100,e,2)}function uue(t,e){return t=H$(t),Je(t.getUTCFullYear()%100,e,2)}function fue(t,e){return Je(t.getUTCFullYear()%1e4,e,4)}function due(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Xl(t):Xl.ceil(t),Je(t.getUTCFullYear()%1e4,e,4)}function hue(){return"+0000"}function IP(){return"%"}function OP(t){return+t}function CP(t){return Math.floor(+t/1e3)}var Bs,K$,G$;pue({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function pue(t){return Bs=pce(t),K$=Bs.format,Bs.parse,G$=Bs.utcFormat,Bs.utcParse,Bs}function mue(t){return new Date(t)}function gue(t){return t instanceof Date?+t:+new Date(+t)}function bk(t,e,r,n,i,a,o,s,l,c){var u=ak(),f=u.invert,h=u.domain,p=c(".%L"),g=c(":%S"),y=c("%I:%M"),b=c("%I %p"),_=c("%a %d"),v=c("%b %d"),x=c("%B"),k=c("%Y");function T(C){return(l(C)<C?p:s(C)<C?g:o(C)<C?y:a(C)<C?b:n(C)<C?i(C)<C?_:v:r(C)<C?x:k)(C)}return u.invert=function(C){return new Date(f(C))},u.domain=function(C){return arguments.length?h(Array.from(C,gue)):h().map(mue)},u.ticks=function(C){var S=h();return t(S[0],S[S.length-1],C??10)},u.tickFormat=function(C,S){return S==null?T:c(S)},u.nice=function(C){var S=h();return(!C||typeof C.range!="function")&&(C=e(S[0],S[S.length-1],C??10)),C?h(j$(S,C)):u},u.copy=function(){return $d(u,bk(t,e,r,n,i,a,o,s,l,c))},u}function yue(){return Rn.apply(bk(dce,hce,aa,yk,gy,Ld,mk,hk,Wo,K$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function vue(){return Rn.apply(bk(uce,fce,oa,vk,yy,my,gk,pk,Wo,G$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function vy(){var t=0,e=1,r,n,i,a,o=Lr,s=!1,l;function c(f){return f==null||isNaN(f=+f)?l:o(i===0?.5:(f=(a(f)-r)*i,s?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([t,e]=f,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),c):[t,e]},c.clamp=function(f){return arguments.length?(s=!!f,c):s},c.interpolator=function(f){return arguments.length?(o=f,c):o};function u(f){return function(h){var p,g;return arguments.length?([p,g]=h,o=f(p,g),c):[o(0),o(1)]}}return c.range=u(Ec),c.rangeRound=u(ik),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return a=f,r=f(t),n=f(e),i=r===n?0:1/(n-r),c}}function _o(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function X$(){var t=wo(vy()(Lr));return t.copy=function(){return _o(t,X$())},fa.apply(t,arguments)}function Y$(){var t=lk(vy()).domain([1,10]);return t.copy=function(){return _o(t,Y$()).base(t.base())},fa.apply(t,arguments)}function Q$(){var t=ck(vy());return t.copy=function(){return _o(t,Q$()).constant(t.constant())},fa.apply(t,arguments)}function xk(){var t=uk(vy());return t.copy=function(){return _o(t,xk()).exponent(t.exponent())},fa.apply(t,arguments)}function bue(){return xk.apply(null,arguments).exponent(.5)}function J$(){var t=[],e=Lr;function r(n){if(n!=null&&!isNaN(n=+n))return e((Dd(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(eo),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>ale(t,a/n))},r.copy=function(){return J$(e).domain(t)},fa.apply(r,arguments)}function by(){var t=0,e=.5,r=1,n=1,i,a,o,s,l,c=Lr,u,f=!1,h;function p(y){return isNaN(y=+y)?h:(y=.5+((y=+u(y))-a)*(n*y<n*a?s:l),c(f?Math.max(0,Math.min(1,y)):y))}p.domain=function(y){return arguments.length?([t,e,r]=y,i=u(t=+t),a=u(e=+e),o=u(r=+r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,p):[t,e,r]},p.clamp=function(y){return arguments.length?(f=!!y,p):f},p.interpolator=function(y){return arguments.length?(c=y,p):c};function g(y){return function(b){var _,v,x;return arguments.length?([_,v,x]=b,c=Cle(y,[_,v,x]),p):[c(0),c(.5),c(1)]}}return p.range=g(Ec),p.rangeRound=g(ik),p.unknown=function(y){return arguments.length?(h=y,p):h},function(y){return u=y,i=y(t),a=y(e),o=y(r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,p}}function Z$(){var t=wo(by()(Lr));return t.copy=function(){return _o(t,Z$())},fa.apply(t,arguments)}function eL(){var t=lk(by()).domain([.1,1,10]);return t.copy=function(){return _o(t,eL()).base(t.base())},fa.apply(t,arguments)}function tL(){var t=ck(by());return t.copy=function(){return _o(t,tL()).constant(t.constant())},fa.apply(t,arguments)}function wk(){var t=uk(by());return t.copy=function(){return _o(t,wk()).exponent(t.exponent())},fa.apply(t,arguments)}function xue(){return wk.apply(null,arguments).exponent(.5)}const NP=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Nf,scaleDiverging:Z$,scaleDivergingLog:eL,scaleDivergingPow:wk,scaleDivergingSqrt:xue,scaleDivergingSymlog:tL,scaleIdentity:R$,scaleImplicit:yx,scaleLinear:Nm,scaleLog:D$,scaleOrdinal:tk,scalePoint:Bu,scalePow:fk,scaleQuantile:L$,scaleQuantize:F$,scaleRadial:$$,scaleSequential:X$,scaleSequentialLog:Y$,scaleSequentialPow:xk,scaleSequentialQuantile:J$,scaleSequentialSqrt:bue,scaleSequentialSymlog:Q$,scaleSqrt:ece,scaleSymlog:M$,scaleThreshold:V$,scaleTime:yue,scaleUtc:vue,tickFormat:N$},Symbol.toStringTag,{value:"Module"}));var wue=gc;function _ue(t,e,r){for(var n=-1,i=t.length;++n<i;){var a=t[n],o=e(a);if(o!=null&&(s===void 0?o===o&&!wue(o):r(o,s)))var s=o,l=a}return l}var xy=_ue;function kue(t,e){return t>e}var rL=kue,Eue=xy,Sue=rL,Tue=kc;function Aue(t){return t&&t.length?Eue(t,Tue,Sue):void 0}var Pue=Aue;const wy=it(Pue);function Iue(t,e){return t<e}var nL=Iue,Oue=xy,Cue=nL,Nue=kc;function Rue(t){return t&&t.length?Oue(t,Nue,Cue):void 0}var jue=Rue;const _y=it(jue);var Due=R1,Mue=Ei,$ue=f$,Lue=Zr;function Fue(t,e){var r=Lue(t)?Due:$ue;return r(t,Mue(e))}var Vue=Fue,Uue=c$,Bue=Vue;function zue(t,e){return Uue(Bue(t,e),1)}var Wue=zue;const que=it(Wue);var Hue=X1;function Kue(t,e){return Hue(t,e)}var Gue=Kue;const ky=it(Gue);var Sc=1e9,Xue={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},kk,St=!0,Nn="[DecimalError] ",Qo=Nn+"Invalid argument: ",_k=Nn+"Exponent out of range: ",Tc=Math.floor,Mo=Math.pow,Yue=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,on,tr=1e7,bt=7,iL=9007199254740991,Mm=Tc(iL/bt),me={};me.absoluteValue=me.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};me.comparedTo=me.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};me.decimalPlaces=me.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*bt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};me.dividedBy=me.div=function(t){return Gi(this,new this.constructor(t))};me.dividedToIntegerBy=me.idiv=function(t){var e=this,r=e.constructor;return ct(Gi(e,new r(t),0,1),r.precision)};me.equals=me.eq=function(t){return!this.cmp(t)};me.exponent=function(){return Wt(this)};me.greaterThan=me.gt=function(t){return this.cmp(t)>0};me.greaterThanOrEqualTo=me.gte=function(t){return this.cmp(t)>=0};me.isInteger=me.isint=function(){return this.e>this.d.length-2};me.isNegative=me.isneg=function(){return this.s<0};me.isPositive=me.ispos=function(){return this.s>0};me.isZero=function(){return this.s===0};me.lessThan=me.lt=function(t){return this.cmp(t)<0};me.lessThanOrEqualTo=me.lte=function(t){return this.cmp(t)<1};me.logarithm=me.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(on))throw Error(Nn+"NaN");if(r.s<1)throw Error(Nn+(r.s?"NaN":"-Infinity"));return r.eq(on)?new n(0):(St=!1,e=Gi($f(r,a),$f(t,a),a),St=!0,ct(e,i))};me.minus=me.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?sL(e,t):aL(e,(t.s=-t.s,t))};me.modulo=me.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Nn+"NaN");return r.s?(St=!1,e=Gi(r,t,0,1).times(t),St=!0,r.minus(e)):ct(new n(r),i)};me.naturalExponential=me.exp=function(){return oL(this)};me.naturalLogarithm=me.ln=function(){return $f(this)};me.negated=me.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};me.plus=me.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?aL(e,t):sL(e,(t.s=-t.s,t))};me.precision=me.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Qo+t);if(e=Wt(i)+1,n=i.d.length-1,r=n*bt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};me.squareRoot=me.sqrt=function(){var t,e,r,n,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Nn+"NaN")}for(t=Wt(s),St=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=ci(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Tc((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(i.toString()),r=l.precision,i=o=r+3;;)if(a=n,n=a.plus(Gi(s,a,o+2)).times(.5),ci(a.d).slice(0,o)===(e=ci(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(ct(a,r+1,0),a.times(a).eq(s)){n=a;break}}else if(e!="9999")break;o+=4}return St=!0,ct(n,r)};me.times=me.mul=function(t){var e,r,n,i,a,o,s,l,c,u=this,f=u.constructor,h=u.d,p=(t=new f(t)).d;if(!u.s||!t.s)return new f(0);for(t.s*=u.s,r=u.e+t.e,l=h.length,c=p.length,l<c&&(a=h,h=p,p=a,o=l,l=c,c=o),a=[],o=l+c,n=o;n--;)a.push(0);for(n=c;--n>=0;){for(e=0,i=l+n;i>n;)s=a[i]+p[n]*h[i-n-1]+e,a[i--]=s%tr|0,e=s/tr|0;a[i]=(a[i]+e)%tr|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,St?ct(t,f.precision):t};me.toDecimalPlaces=me.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(xi(t,0,Sc),e===void 0?e=n.rounding:xi(e,0,8),ct(r,t+Wt(r)+1,e))};me.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=hs(n,!0):(xi(t,0,Sc),e===void 0?e=i.rounding:xi(e,0,8),n=ct(new i(n),t+1,e),r=hs(n,!0,t+1)),r};me.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?hs(i):(xi(t,0,Sc),e===void 0?e=a.rounding:xi(e,0,8),n=ct(new a(i),t+Wt(i)+1,e),r=hs(n.abs(),!1,t+Wt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};me.toInteger=me.toint=function(){var t=this,e=t.constructor;return ct(new e(t),Wt(t)+1,e.rounding)};me.toNumber=function(){return+this};me.toPower=me.pow=function(t){var e,r,n,i,a,o,s=this,l=s.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(on);if(s=new l(s),!s.s){if(t.s<1)throw Error(Nn+"Infinity");return s}if(s.eq(on))return s;if(n=l.precision,t.eq(on))return ct(s,n);if(e=t.e,r=t.d.length-1,o=e>=r,a=s.s,o){if((r=u<0?-u:u)<=iL){for(i=new l(on),e=Math.ceil(n/bt+4),St=!1;r%2&&(i=i.times(s),jP(i.d,e)),r=Tc(r/2),r!==0;)s=s.times(s),jP(s.d,e);return St=!0,t.s<0?new l(on).div(i):ct(i,n)}}else if(a<0)throw Error(Nn+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,s.s=1,St=!1,i=t.times($f(s,n+c)),St=!0,i=oL(i),i.s=a,i};me.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=Wt(i),n=hs(i,r<=a.toExpNeg||r>=a.toExpPos)):(xi(t,1,Sc),e===void 0?e=a.rounding:xi(e,0,8),i=ct(new a(i),t,e),r=Wt(i),n=hs(i,t<=r||r<=a.toExpNeg,t)),n};me.toSignificantDigits=me.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(xi(t,1,Sc),e===void 0?e=n.rounding:xi(e,0,8)),ct(new n(r),t,e)};me.toString=me.valueOf=me.val=me.toJSON=me[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Wt(t),r=t.constructor;return hs(t,e<=r.toExpNeg||e>=r.toExpPos)};function aL(t,e){var r,n,i,a,o,s,l,c,u=t.constructor,f=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),St?ct(e,f):e;if(l=t.d,c=e.d,o=t.e,i=e.e,l=l.slice(),a=o-i,a){for(a<0?(n=l,a=-a,s=c.length):(n=c,i=o,s=l.length),o=Math.ceil(f/bt),s=o>s?o+1:s+1,a>s&&(a=s,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(s=l.length,a=c.length,s-a<0&&(a=s,n=c,c=l,l=n),r=0;a;)r=(l[--a]=l[a]+c[a]+r)/tr|0,l[a]%=tr;for(r&&(l.unshift(r),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,St?ct(e,f):e}function xi(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Qo+t)}function ci(t){var e,r,n,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)n=t[e]+"",r=bt-n.length,r&&(a+=Sa(r)),a+=n;o=t[e],n=o+"",r=bt-n.length,r&&(a+=Sa(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Gi=function(){function t(n,i){var a,o=0,s=n.length;for(n=n.slice();s--;)a=n[s]*i+o,n[s]=a%tr|0,o=a/tr|0;return o&&n.unshift(o),n}function e(n,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(n[s]!=i[s]){l=n[s]>i[s]?1:-1;break}return l}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*tr+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var s,l,c,u,f,h,p,g,y,b,_,v,x,k,T,C,S,E,P=n.constructor,O=n.s==i.s?1:-1,R=n.d,N=i.d;if(!n.s)return new P(n);if(!i.s)throw Error(Nn+"Division by zero");for(l=n.e-i.e,S=N.length,T=R.length,p=new P(O),g=p.d=[],c=0;N[c]==(R[c]||0);)++c;if(N[c]>(R[c]||0)&&--l,a==null?v=a=P.precision:o?v=a+(Wt(n)-Wt(i))+1:v=a,v<0)return new P(0);if(v=v/bt+2|0,c=0,S==1)for(u=0,N=N[0],v++;(c<T||u)&&v--;c++)x=u*tr+(R[c]||0),g[c]=x/N|0,u=x%N|0;else{for(u=tr/(N[0]+1)|0,u>1&&(N=t(N,u),R=t(R,u),S=N.length,T=R.length),k=S,y=R.slice(0,S),b=y.length;b<S;)y[b++]=0;E=N.slice(),E.unshift(0),C=N[0],N[1]>=tr/2&&++C;do u=0,s=e(N,y,S,b),s<0?(_=y[0],S!=b&&(_=_*tr+(y[1]||0)),u=_/C|0,u>1?(u>=tr&&(u=tr-1),f=t(N,u),h=f.length,b=y.length,s=e(f,y,h,b),s==1&&(u--,r(f,S<h?E:N,h))):(u==0&&(s=u=1),f=N.slice()),h=f.length,h<b&&f.unshift(0),r(y,f,b),s==-1&&(b=y.length,s=e(N,y,S,b),s<1&&(u++,r(y,S<b?E:N,b))),b=y.length):s===0&&(u++,y=[0]),g[c++]=u,s&&y[0]?y[b++]=R[k]||0:(y=[R[k]],b=1);while((k++<T||y[0]!==void 0)&&v--)}return g[0]||g.shift(),p.e=l,ct(p,o?a+Wt(p)+1:a)}}();function oL(t,e){var r,n,i,a,o,s,l=0,c=0,u=t.constructor,f=u.precision;if(Wt(t)>16)throw Error(_k+Wt(t));if(!t.s)return new u(on);for(e==null?(St=!1,s=f):s=e,o=new u(.03125);t.abs().gte(.1);)t=t.times(o),c+=5;for(n=Math.log(Mo(2,c))/Math.LN10*2+5|0,s+=n,r=i=a=new u(on),u.precision=s;;){if(i=ct(i.times(t),s),r=r.times(++l),o=a.plus(Gi(i,r,s)),ci(o.d).slice(0,s)===ci(a.d).slice(0,s)){for(;c--;)a=ct(a.times(a),s);return u.precision=f,e==null?(St=!0,ct(a,f)):a}a=o}}function Wt(t){for(var e=t.e*bt,r=t.d[0];r>=10;r/=10)e++;return e}function i0(t,e,r){if(e>t.LN10.sd())throw St=!0,r&&(t.precision=r),Error(Nn+"LN10 precision limit exceeded");return ct(new t(t.LN10),e)}function Sa(t){for(var e="";t--;)e+="0";return e}function $f(t,e){var r,n,i,a,o,s,l,c,u,f=1,h=10,p=t,g=p.d,y=p.constructor,b=y.precision;if(p.s<1)throw Error(Nn+(p.s?"NaN":"-Infinity"));if(p.eq(on))return new y(0);if(e==null?(St=!1,c=b):c=e,p.eq(10))return e==null&&(St=!0),i0(y,c);if(c+=h,y.precision=c,r=ci(g),n=r.charAt(0),a=Wt(p),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(t),r=ci(p.d),n=r.charAt(0),f++;a=Wt(p),n>1?(p=new y("0."+r),a++):p=new y(n+"."+r.slice(1))}else return l=i0(y,c+2,b).times(a+""),p=$f(new y(n+"."+r.slice(1)),c-h).plus(l),y.precision=b,e==null?(St=!0,ct(p,b)):p;for(s=o=p=Gi(p.minus(on),p.plus(on),c),u=ct(p.times(p),c),i=3;;){if(o=ct(o.times(u),c),l=s.plus(Gi(o,new y(i),c)),ci(l.d).slice(0,c)===ci(s.d).slice(0,c))return s=s.times(2),a!==0&&(s=s.plus(i0(y,c+2,b).times(a+""))),s=Gi(s,new y(f),c),y.precision=b,e==null?(St=!0,ct(s,b)):s;s=l,i+=2}}function RP(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Tc(r/bt),t.d=[],n=(r+1)%bt,r<0&&(n+=bt),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=bt;n<i;)t.d.push(+e.slice(n,n+=bt));e=e.slice(n),n=bt-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),St&&(t.e>Mm||t.e<-Mm))throw Error(_k+r)}else t.s=0,t.e=0,t.d=[0];return t}function ct(t,e,r){var n,i,a,o,s,l,c,u,f=t.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(n=e-o,n<0)n+=bt,i=e,c=f[u=0];else{if(u=Math.ceil((n+1)/bt),a=f.length,u>=a)return t;for(c=a=f[u],o=1;a>=10;a/=10)o++;n%=bt,i=n-bt+o}if(r!==void 0&&(a=Mo(10,o-i-1),s=c/a%10|0,l=e<0||f[u+1]!==void 0||c%a,l=r<4?(s||l)&&(r==0||r==(t.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?i>0?c/Mo(10,o-i):0:f[u-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return l?(a=Wt(t),f.length=1,e=e-a-1,f[0]=Mo(10,(bt-e%bt)%bt),t.e=Tc(-e/bt)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=u,a=1,u--):(f.length=u+1,a=Mo(10,bt-n),f[u]=i>0?(c/Mo(10,o-i)%Mo(10,i)|0)*a:0),l)for(;;)if(u==0){(f[0]+=a)==tr&&(f[0]=1,++t.e);break}else{if(f[u]+=a,f[u]!=tr)break;f[u--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(St&&(t.e>Mm||t.e<-Mm))throw Error(_k+Wt(t));return t}function sL(t,e){var r,n,i,a,o,s,l,c,u,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),St?ct(e,p):e;if(l=t.d,f=e.d,n=e.e,c=t.e,l=l.slice(),o=c-n,o){for(u=o<0,u?(r=l,o=-o,s=f.length):(r=f,n=c,s=l.length),i=Math.max(Math.ceil(p/bt),s)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=l.length,s=f.length,u=i<s,u&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){u=l[i]<f[i];break}o=0}for(u&&(r=l,l=f,f=r,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>o;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=tr-1;--l[a],l[i]+=tr}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,St?ct(e,p):e):new h(0)}function hs(t,e,r){var n,i=Wt(t),a=ci(t.d),o=a.length;return e?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+Sa(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Sa(-i-1)+a,r&&(n=r-o)>0&&(a+=Sa(n))):i>=o?(a+=Sa(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+Sa(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=Sa(n))),t.s<0?"-"+a:a}function jP(t,e){if(t.length>e)return t.length=e,!0}function lL(t){var e,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Qo+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return RP(o,a.toString())}else if(typeof a!="string")throw Error(Qo+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,Yue.test(a))RP(o,a);else throw Error(Qo+a)}if(i.prototype=me,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=lL,i.config=i.set=Que,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function Que(t){if(!t||typeof t!="object")throw Error(Nn+"Object expected");var e,r,n,i=["precision",1,Sc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Tc(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Qo+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Qo+r+": "+n);return this}var kk=lL(Xue);on=new kk(1);const ot=kk;function Jue(t){return rfe(t)||tfe(t)||efe(t)||Zue()}function Zue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function efe(t,e){if(t){if(typeof t=="string")return wx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wx(t,e)}}function tfe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function rfe(t){if(Array.isArray(t))return wx(t)}function wx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var nfe=function(e){return e},cL={"@@functional/placeholder":!0},uL=function(e){return e===cL},DP=function(e){return function r(){return arguments.length===0||arguments.length===1&&uL(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},ife=function t(e,r){return e===1?r:DP(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==cL}).length;return o>=e?r.apply(void 0,i):t(e-o,DP(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var u=i.map(function(f){return uL(f)?l.shift():f});return r.apply(void 0,Jue(u).concat(l))}))})},Ey=function(e){return ife(e.length,e)},_x=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},afe=Ey(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),ofe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return nfe;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},kx=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},fL=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r&&a.every(function(s,l){return s===r[l]})||(r=a,n=e.apply(void 0,a)),n}};function sfe(t){var e;return t===0?e=1:e=Math.floor(new ot(t).abs().log(10).toNumber())+1,e}function lfe(t,e,r){for(var n=new ot(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var cfe=Ey(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),ufe=Ey(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),ffe=Ey(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const Sy={rangeStep:lfe,getDigitCount:sfe,interpolateNumber:cfe,uninterpolateNumber:ufe,uninterpolateTruncation:ffe};function Ex(t){return pfe(t)||hfe(t)||dL(t)||dfe()}function dfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hfe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function pfe(t){if(Array.isArray(t))return Sx(t)}function Lf(t,e){return yfe(t)||gfe(t,e)||dL(t,e)||mfe()}function mfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dL(t,e){if(t){if(typeof t=="string")return Sx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sx(t,e)}}function Sx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function gfe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(n=(s=o.next()).done)&&(r.push(s.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,a=l}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw a}}return r}}function yfe(t){if(Array.isArray(t))return t}function hL(t){var e=Lf(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function pL(t,e,r){if(t.lte(0))return new ot(0);var n=Sy.getDigitCount(t.toNumber()),i=new ot(10).pow(n),a=t.div(i),o=n!==1?.05:.1,s=new ot(Math.ceil(a.div(o).toNumber())).add(r).mul(o),l=s.mul(i);return e?l:new ot(Math.ceil(l))}function vfe(t,e,r){var n=1,i=new ot(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new ot(10).pow(Sy.getDigitCount(t)-1),i=new ot(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new ot(Math.floor(t)))}else t===0?i=new ot(Math.floor((e-1)/2)):r||(i=new ot(Math.floor(t)));var o=Math.floor((e-1)/2),s=ofe(afe(function(l){return i.add(new ot(l-o).mul(n)).toNumber()}),_x);return s(0,e)}function mL(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new ot(0),tickMin:new ot(0),tickMax:new ot(0)};var a=pL(new ot(e).sub(t).div(r-1),n,i),o;t<=0&&e>=0?o=new ot(0):(o=new ot(t).add(e).div(2),o=o.sub(new ot(o).mod(a)));var s=Math.ceil(o.sub(t).div(a).toNumber()),l=Math.ceil(new ot(e).sub(o).div(a).toNumber()),c=s+l+1;return c>r?mL(t,e,r,n,i+1):(c<r&&(l=e>0?l+(r-c):l,s=e>0?s:s+(r-c)),{step:a,tickMin:o.sub(new ot(s).mul(a)),tickMax:o.add(new ot(l).mul(a))})}function bfe(t){var e=Lf(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=hL([r,n]),l=Lf(s,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var f=u===1/0?[c].concat(Ex(_x(0,i-1).map(function(){return 1/0}))):[].concat(Ex(_x(0,i-1).map(function(){return-1/0})),[u]);return r>n?kx(f):f}if(c===u)return vfe(c,i,a);var h=mL(c,u,o,a),p=h.step,g=h.tickMin,y=h.tickMax,b=Sy.rangeStep(g,y.add(new ot(.1).mul(p)),p);return r>n?kx(b):b}function xfe(t,e){var r=Lf(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=hL([n,i]),s=Lf(o,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[n,i];if(l===c)return[l];var u=Math.max(e,2),f=pL(new ot(c).sub(l).div(u-1),a,0),h=[].concat(Ex(Sy.rangeStep(new ot(l),new ot(c).sub(new ot(.99).mul(f)),f)),[c]);return n>i?kx(h):h}var wfe=fL(bfe),_fe=fL(xfe),kfe="Invariant failed";function ps(t,e){throw new Error(kfe)}var Efe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function $m(){return $m=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$m.apply(this,arguments)}function Sfe(t,e){return Ife(t)||Pfe(t,e)||Afe(t,e)||Tfe()}function Tfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Afe(t,e){if(t){if(typeof t=="string")return MP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MP(t,e)}}function MP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Pfe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Ife(t){if(Array.isArray(t))return t}function Ofe(t,e){if(t==null)return{};var r=Cfe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Cfe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Ty(t){var e=t.offset,r=t.layout,n=t.width,i=t.dataKey,a=t.data,o=t.dataPointFormatter,s=t.xAxis,l=t.yAxis,c=Ofe(t,Efe),u=Ae(c,!1);t.direction==="x"&&s.type!=="number"&&ps();var f=a.map(function(h){var p=o(h,i),g=p.x,y=p.y,b=p.value,_=p.errorVal;if(!_)return null;var v=[],x,k;if(Array.isArray(_)){var T=Sfe(_,2);x=T[0],k=T[1]}else x=k=_;if(r==="vertical"){var C=s.scale,S=y+e,E=S+n,P=S-n,O=C(b-x),R=C(b+k);v.push({x1:R,y1:E,x2:R,y2:P}),v.push({x1:O,y1:S,x2:R,y2:S}),v.push({x1:O,y1:E,x2:O,y2:P})}else if(r==="horizontal"){var N=l.scale,I=g+e,V=I-n,B=I+n,W=N(b-x),H=N(b+k);v.push({x1:V,y1:H,x2:B,y2:H}),v.push({x1:I,y1:W,x2:I,y2:H}),v.push({x1:V,y1:W,x2:B,y2:W})}return L.createElement(rt,$m({className:"recharts-errorBar",key:"bar-".concat(v.map(function(U){return"".concat(U.x1,"-").concat(U.x2,"-").concat(U.y1,"-").concat(U.y2)}))},u),v.map(function(U){return L.createElement("line",$m({},U,{key:"line-".concat(U.x1,"-").concat(U.x2,"-").concat(U.y1,"-").concat(U.y2)}))}))});return L.createElement(rt,{className:"recharts-errorBars"},f)}Ty.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"};Ty.displayName="ErrorBar";function Ff(t){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ff(t)}function $P(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function a0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$P(Object(r),!0).forEach(function(n){Nfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$P(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nfe(t,e,r){return e=Rfe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rfe(t){var e=jfe(t,"string");return Ff(e)=="symbol"?e:String(e)}function jfe(t,e){if(Ff(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ff(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gL=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=an(r,Tf);if(!o)return null;var s;return o.props&&o.props.payload?s=o.props&&o.props.payload:a==="children"?s=(n||[]).reduce(function(l,c){var u=c.item,f=c.props,h=f.sectors||f.data||[];return l.concat(h.map(function(p){return{type:o.props.iconType||u.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):s=(n||[]).map(function(l){var c=l.item,u=c.props,f=u.dataKey,h=u.name,p=u.legendType,g=u.hide;return{inactive:g,dataKey:f,type:o.props.iconType||p||"square",color:Ek(c),value:h||f,payload:c.props}}),a0(a0(a0({},o.props),Tf.getWithHeight(o,i)),{},{payload:s,item:o})};function Vf(t){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vf(t)}function LP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LP(Object(r),!0).forEach(function(n){Al(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Al(t,e,r){return e=Dfe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dfe(t){var e=Mfe(t,"string");return Vf(e)=="symbol"?e:String(e)}function Mfe(t,e){if(Vf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FP(t){return Vfe(t)||Ffe(t)||Lfe(t)||$fe()}function $fe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lfe(t,e){if(t){if(typeof t=="string")return Tx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tx(t,e)}}function Ffe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Vfe(t){if(Array.isArray(t))return Tx(t)}function Tx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ar(t,e,r){return Me(t)||Me(e)?r:Qt(e)?fn(t,e,r):Ce(e)?e(t):r}function zu(t,e,r,n){var i=que(t,function(s){return Ar(s,e)});if(r==="number"){var a=i.filter(function(s){return le(s)||parseFloat(s)});return a.length?[_y(a),wy(a)]:[1/0,-1/0]}var o=n?i.filter(function(s){return!Me(s)}):i;return o.map(function(s){return Qt(s)||s instanceof Date?s:""})}var Ufe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,c=0;c<s;c++){var u=c>0?i[c-1].coordinate:i[s-1].coordinate,f=i[c].coordinate,h=c>=s-1?i[0].coordinate:i[c+1].coordinate,p=void 0;if(Mr(f-u)!==Mr(h-f)){var g=[];if(Mr(h-f)===Mr(l[1]-l[0])){p=h;var y=f+l[1]-l[0];g[0]=Math.min(y,(y+u)/2),g[1]=Math.max(y,(y+u)/2)}else{p=u;var b=h+l[1]-l[0];g[0]=Math.min(f,(b+f)/2),g[1]=Math.max(f,(b+f)/2)}var _=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>_[0]&&e<=_[1]||e>=g[0]&&e<=g[1]){o=i[c].index;break}}else{var v=Math.min(u,h),x=Math.max(u,h);if(e>(v+f)/2&&e<=(x+f)/2){o=i[c].index;break}}}else for(var k=0;k<s;k++)if(k===0&&e<=(n[k].coordinate+n[k+1].coordinate)/2||k>0&&k<s-1&&e>(n[k].coordinate+n[k-1].coordinate)/2&&e<=(n[k].coordinate+n[k+1].coordinate)/2||k===s-1&&e>(n[k].coordinate+n[k-1].coordinate)/2){o=n[k].index;break}return o},Ek=function(e){var r=e,n=r.type.displayName,i=e.props,a=i.stroke,o=i.fill,s;switch(n){case"Line":s=a;break;case"Area":case"Radar":s=a&&a!=="none"?a:o;break;default:s=o;break}return s},Bfe=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,c=s.length;l<c;l++)for(var u=a[s[l]].stackGroups,f=Object.keys(u),h=0,p=f.length;h<p;h++){var g=u[f[h]],y=g.items,b=g.cateAxisId,_=y.filter(function(T){return Hi(T.type).indexOf("Bar")>=0});if(_&&_.length){var v=_[0].props.barSize,x=_[0].props[b];o[x]||(o[x]=[]);var k=Me(v)?r:v;o[x].push({item:_[0],stackList:_.slice(1),barSize:Me(k)?void 0:$r(k,n,0)})}}return o},zfe=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,s=e.maxBarSize,l=o.length;if(l<1)return null;var c=$r(r,i,0,!0),u,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=i/l,g=o.reduce(function(k,T){return k+T.barSize||0},0);g+=(l-1)*c,g>=i&&(g-=(l-1)*c,c=0),g>=i&&p>0&&(h=!0,p*=.9,g=l*p);var y=(i-g)/2>>0,b={offset:y-c,size:0};u=o.reduce(function(k,T){var C={item:T.item,position:{offset:b.offset+b.size+c,size:h?p:T.barSize}},S=[].concat(FP(k),[C]);return b=S[S.length-1].position,T.stackList&&T.stackList.length&&T.stackList.forEach(function(E){S.push({item:E,position:b})}),S},f)}else{var _=$r(n,i,0,!0);i-2*_-(l-1)*c<=0&&(c=0);var v=(i-2*_-(l-1)*c)/l;v>1&&(v>>=0);var x=s===+s?Math.min(v,s):v;u=o.reduce(function(k,T,C){var S=[].concat(FP(k),[{item:T.item,position:{offset:_+(v+c)*C+(v-x)/2,size:x}}]);return T.stackList&&T.stackList.length&&T.stackList.forEach(function(E){S.push({item:E,position:S[S.length-1].position})}),S},f)}return u},Wfe=function(e,r,n,i){var a=n.children,o=n.width,s=n.margin,l=o-(s.left||0)-(s.right||0),c=gL({children:a,legendWidth:l});if(c){var u=i||{},f=u.width,h=u.height,p=c.align,g=c.verticalAlign,y=c.layout;if((y==="vertical"||y==="horizontal"&&g==="middle")&&p!=="center"&&le(e[p]))return kn(kn({},e),{},Al({},p,e[p]+(f||0)));if((y==="horizontal"||y==="vertical"&&p==="center")&&g!=="middle"&&le(e[g]))return kn(kn({},e),{},Al({},g,e[g]+(h||0)))}return e},qfe=function(e,r,n){return Me(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},yL=function(e,r,n,i,a){var o=r.props.children,s=In(o,Ty).filter(function(c){return qfe(i,a,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return e.reduce(function(c,u){var f=Ar(u,n);if(Me(f))return c;var h=Array.isArray(f)?[_y(f),wy(f)]:[f,f],p=l.reduce(function(g,y){var b=Ar(u,y,0),_=h[0]-Math.abs(Array.isArray(b)?b[0]:b),v=h[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(_,g[0]),Math.max(v,g[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},Hfe=function(e,r,n,i,a){var o=r.map(function(s){return yL(e,s,n,a,i)}).filter(function(s){return!Me(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},vL=function(e,r,n,i,a){var o=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&yL(e,l,c,i)||zu(e,c,n,a)});if(n==="number")return o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,c){for(var u=0,f=c.length;u<f;u++)s[c[u]]||(s[c[u]]=!0,l.push(c[u]));return l},[])},bL=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},xL=function(e,r,n,i){if(i)return e.map(function(l){return l.coordinate});var a,o,s=e.map(function(l){return l.coordinate===r&&(a=!0),l.coordinate===n&&(o=!0),l.coordinate});return a||s.push(r),o||s.push(n),s},Bi=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Mr(s[0]-s[1])*2*c:c,r&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+c,value:f,offset:c}});return u.filter(function(f){return!Cd(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+c,value:f,index:h,offset:c}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+c,value:f,offset:c}}):i.domain().map(function(f,h){return{coordinate:i(f)+c,value:a?a[f]:f,index:h,offset:c}})},o0=new WeakMap,$h=function(e,r){if(typeof r!="function")return e;o0.has(e)||o0.set(e,new WeakMap);var n=o0.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},wL=function(e,r,n){var i=e.scale,a=e.type,o=e.layout,s=e.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:Nf(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:Nm(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Bu(),realScaleType:"point"}:a==="category"?{scale:Nf(),realScaleType:"band"}:{scale:Nm(),realScaleType:"linear"};if(Od(i)){var l="scale".concat(sy(i));return{scale:(NP[l]||Bu)(),realScaleType:NP[l]?l:"point"}}return Ce(i)?{scale:i}:{scale:Bu(),realScaleType:"point"}},VP=1e-4,_L=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-VP,o=Math.max(i[0],i[1])+VP,s=e(r[0]),l=e(r[n-1]);(s<a||s>o||l<a||l>o)&&e.domain([r[0],r[n-1]])}},Kfe=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},Gfe=function(e,r){if(!r||r.length!==2||!le(r[0])||!le(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!le(e[0])||e[0]<n)&&(a[0]=n),(!le(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},Xfe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0,s=0;s<r;++s){var l=Cd(e[s][n][1])?e[s][n][0]:e[s][n][1];l>=0?(e[s][n][0]=a,e[s][n][1]=a+l,a=e[s][n][1]):(e[s][n][0]=o,e[s][n][1]=o+l,o=e[s][n][1])}},Yfe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0;o<r;++o){var s=Cd(e[o][n][1])?e[o][n][0]:e[o][n][1];s>=0?(e[o][n][0]=a,e[o][n][1]=a+s,a=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},Qfe={sign:Xfe,expand:TJ,none:Bl,silhouette:AJ,wiggle:PJ,positive:Yfe},Jfe=function(e,r,n){var i=r.map(function(s){return s.props.dataKey}),a=Qfe[n],o=SJ().keys(i).value(function(s,l){return+Ar(s,l,0)}).order(Qb).offset(a);return o(e)},Zfe=function(e,r,n,i,a,o){if(!e)return null;var s=o?r.reverse():r,l={},c=s.reduce(function(f,h){var p=h.props,g=p.stackId,y=p.hide;if(y)return f;var b=h.props[n],_=f[b]||{hasStack:!1,stackGroups:{}};if(Qt(g)){var v=_.stackGroups[g]||{numericAxisId:n,cateAxisId:i,items:[]};v.items.push(h),_.hasStack=!0,_.stackGroups[g]=v}else _.stackGroups[Nd("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[h]};return kn(kn({},f),{},Al({},b,_))},l),u={};return Object.keys(c).reduce(function(f,h){var p=c[h];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(y,b){var _=p.stackGroups[b];return kn(kn({},y),{},Al({},b,{numericAxisId:n,cateAxisId:i,items:_.items,stackedData:Jfe(e,_.items,a)}))},g)}return kn(kn({},f),{},Al({},h,p))},u)},kL=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,o=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var c=e.domain();if(!c.length)return null;var u=wfe(c,a,s);return e.domain([_y(u),wy(u)]),{niceTicks:u}}if(a&&i==="number"){var f=e.domain(),h=_fe(f,a,s);return{niceTicks:h}}return null},UP=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,s=e.index;if(r.type==="category")return n[s]?n[s].coordinate+i:null;var l=Ar(o,r.dataKey,r.domain[s]);return Me(l)?null:r.scale(l)-a/2+i},ede=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},tde=function(e,r){var n=e.props.stackId;if(Qt(n)){var i=r[n];if(i){var a=i.items.indexOf(e);return a>=0?i.stackedData[a]:null}}return null},rde=function(e){return e.reduce(function(r,n){return[_y(n.concat([r[0]]).filter(le)),wy(n.concat([r[1]]).filter(le))]},[1/0,-1/0])},EL=function(e,r,n){return Object.keys(e).reduce(function(i,a){var o=e[a],s=o.stackedData,l=s.reduce(function(c,u){var f=rde(u.slice(r,n+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},BP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,zP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ax=function(e,r,n){if(Ce(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(le(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(BP.test(e[0])){var a=+BP.exec(e[0])[1];i[0]=r[0]-a}else Ce(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(le(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(zP.test(e[1])){var o=+zP.exec(e[1])[1];i[1]=r[1]+o}else Ce(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},Lm=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=Q1(r,function(f){return f.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var c=a[s],u=a[s-1];o=Math.min((c.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},WP=function(e,r,n){return!e||!e.length||ky(e,fn(n,"type.defaultProps.domain"))?r:e},SL=function(e,r){var n=e.props,i=n.dataKey,a=n.name,o=n.unit,s=n.formatter,l=n.tooltipType,c=n.chartType,u=n.hide;return kn(kn({},Ae(e,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:Ek(e),value:Ar(r,i),type:l,payload:r,chartType:c,hide:u})};function Uf(t){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(t)}function qP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ni(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qP(Object(r),!0).forEach(function(n){TL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TL(t,e,r){return e=nde(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nde(t){var e=ide(t,"string");return Uf(e)=="symbol"?e:String(e)}function ide(t,e){if(Uf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ade(t,e){return cde(t)||lde(t,e)||sde(t,e)||ode()}function ode(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sde(t,e){if(t){if(typeof t=="string")return HP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HP(t,e)}}function HP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function lde(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function cde(t){if(Array.isArray(t))return t}var Fm=Math.PI/180,ude=function(e){return e*180/Math.PI},pt=function(e,r,n,i){return{x:e+Math.cos(-Fm*i)*n,y:r+Math.sin(-Fm*i)*n}},AL=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},fde=function(e,r,n,i,a){var o=e.width,s=e.height,l=e.startAngle,c=e.endAngle,u=$r(e.cx,o,o/2),f=$r(e.cy,s,s/2),h=AL(o,s,n),p=$r(e.innerRadius,h,0),g=$r(e.outerRadius,h,h*.8),y=Object.keys(r);return y.reduce(function(b,_){var v=r[_],x=v.domain,k=v.reversed,T;if(Me(v.range))i==="angleAxis"?T=[l,c]:i==="radiusAxis"&&(T=[p,g]),k&&(T=[T[1],T[0]]);else{T=v.range;var C=T,S=ade(C,2);l=S[0],c=S[1]}var E=wL(v,a),P=E.realScaleType,O=E.scale;O.domain(x).range(T),_L(O);var R=kL(O,Ni(Ni({},v),{},{realScaleType:P})),N=Ni(Ni(Ni({},v),R),{},{range:T,radius:g,realScaleType:P,scale:O,cx:u,cy:f,innerRadius:p,outerRadius:g,startAngle:l,endAngle:c});return Ni(Ni({},b),{},TL({},_,N))},{})},dde=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-o,2))},hde=function(e,r){var n=e.x,i=e.y,a=r.cx,o=r.cy,s=dde({x:n,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(n-a)/s,c=Math.acos(l);return i>o&&(c=2*Math.PI-c),{radius:s,angle:ude(c),angleInRadian:c}},pde=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return{startAngle:r-o*360,endAngle:n-o*360}},mde=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),o=Math.floor(i/360),s=Math.min(a,o);return e+s*360},KP=function(e,r){var n=e.x,i=e.y,a=hde({x:n,y:i},r),o=a.radius,s=a.angle,l=r.innerRadius,c=r.outerRadius;if(o<l||o>c)return!1;if(o===0)return!0;var u=pde(r),f=u.startAngle,h=u.endAngle,p=s,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?Ni(Ni({},r),{},{radius:o,angle:mde(p,r)}):null},PL=function(e){return!M.isValidElement(e)&&!Ce(e)&&typeof e!="boolean"?e.className:""};function Bf(t){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bf(t)}var gde=["offset"];function yde(t){return wde(t)||xde(t)||bde(t)||vde()}function vde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bde(t,e){if(t){if(typeof t=="string")return Px(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Px(t,e)}}function xde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wde(t){if(Array.isArray(t))return Px(t)}function Px(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _de(t,e){if(t==null)return{};var r=kde(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function kde(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function GP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Kt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GP(Object(r),!0).forEach(function(n){Ede(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ede(t,e,r){return e=Sde(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sde(t){var e=Tde(t,"string");return Bf(e)=="symbol"?e:String(e)}function Tde(t,e){if(Bf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zf(){return zf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zf.apply(this,arguments)}var Ade=function(e){var r=e.value,n=e.formatter,i=Me(e.children)?r:e.children;return Ce(n)?n(i):i},Pde=function(e,r){var n=Mr(r-e),i=Math.min(Math.abs(r-e),360);return n*i},Ide=function(e,r,n){var i=e.position,a=e.viewBox,o=e.offset,s=e.className,l=a,c=l.cx,u=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,g=l.endAngle,y=l.clockWise,b=(f+h)/2,_=Pde(p,g),v=_>=0?1:-1,x,k;i==="insideStart"?(x=p+v*o,k=y):i==="insideEnd"?(x=g-v*o,k=!y):i==="end"&&(x=g+v*o,k=y),k=_<=0?k:!k;var T=pt(c,u,b,x),C=pt(c,u,b,x+(k?1:-1)*359),S="M".concat(T.x,",").concat(T.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(k?0:1,`,
    `).concat(C.x,",").concat(C.y),E=Me(e.id)?Nd("recharts-radial-line-"):e.id;return L.createElement("text",zf({},n,{dominantBaseline:"central",className:je("recharts-radial-bar-label",s)}),L.createElement("defs",null,L.createElement("path",{id:E,d:S})),L.createElement("textPath",{xlinkHref:"#".concat(E)},r))},Ode=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,o=a.cx,s=a.cy,l=a.innerRadius,c=a.outerRadius,u=a.startAngle,f=a.endAngle,h=(u+f)/2;if(i==="outside"){var p=pt(o,s,c+n,h),g=p.x,y=p.y;return{x:g,y,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var b=(l+c)/2,_=pt(o,s,b,h),v=_.x,x=_.y;return{x:v,y:x,textAnchor:"middle",verticalAnchor:"middle"}},Cde=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,o=r,s=o.x,l=o.y,c=o.width,u=o.height,f=u>=0?1:-1,h=f*i,p=f>0?"end":"start",g=f>0?"start":"end",y=c>=0?1:-1,b=y*i,_=y>0?"end":"start",v=y>0?"start":"end";if(a==="top"){var x={x:s+c/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return Kt(Kt({},x),n?{height:Math.max(l-n.y,0),width:c}:{})}if(a==="bottom"){var k={x:s+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:g};return Kt(Kt({},k),n?{height:Math.max(n.y+n.height-(l+u),0),width:c}:{})}if(a==="left"){var T={x:s-b,y:l+u/2,textAnchor:_,verticalAnchor:"middle"};return Kt(Kt({},T),n?{width:Math.max(T.x-n.x,0),height:u}:{})}if(a==="right"){var C={x:s+c+b,y:l+u/2,textAnchor:v,verticalAnchor:"middle"};return Kt(Kt({},C),n?{width:Math.max(n.x+n.width-C.x,0),height:u}:{})}var S=n?{width:c,height:u}:{};return a==="insideLeft"?Kt({x:s+b,y:l+u/2,textAnchor:v,verticalAnchor:"middle"},S):a==="insideRight"?Kt({x:s+c-b,y:l+u/2,textAnchor:_,verticalAnchor:"middle"},S):a==="insideTop"?Kt({x:s+c/2,y:l+h,textAnchor:"middle",verticalAnchor:g},S):a==="insideBottom"?Kt({x:s+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:p},S):a==="insideTopLeft"?Kt({x:s+b,y:l+h,textAnchor:v,verticalAnchor:g},S):a==="insideTopRight"?Kt({x:s+c-b,y:l+h,textAnchor:_,verticalAnchor:g},S):a==="insideBottomLeft"?Kt({x:s+b,y:l+u-h,textAnchor:v,verticalAnchor:p},S):a==="insideBottomRight"?Kt({x:s+c-b,y:l+u-h,textAnchor:_,verticalAnchor:p},S):yc(a)&&(le(a.x)||Bo(a.x))&&(le(a.y)||Bo(a.y))?Kt({x:s+$r(a.x,c),y:l+$r(a.y,u),textAnchor:"end",verticalAnchor:"end"},S):Kt({x:s+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},S)},Nde=function(e){return"cx"in e&&le(e.cx)};function nr(t){var e=t.offset,r=e===void 0?5:e,n=_de(t,gde),i=Kt({offset:r},n),a=i.viewBox,o=i.position,s=i.value,l=i.children,c=i.content,u=i.className,f=u===void 0?"":u,h=i.textBreakAll;if(!a||Me(s)&&Me(l)&&!M.isValidElement(c)&&!Ce(c))return null;if(M.isValidElement(c))return M.cloneElement(c,i);var p;if(Ce(c)){if(p=M.createElement(c,i),M.isValidElement(p))return p}else p=Ade(i);var g=Nde(a),y=Ae(i,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Ide(i,p,y);var b=g?Ode(i):Cde(i);return L.createElement(ds,zf({className:je("recharts-label",f)},y,b,{breakAll:h}),p)}nr.displayName="Label";var IL=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,s=e.r,l=e.radius,c=e.innerRadius,u=e.outerRadius,f=e.x,h=e.y,p=e.top,g=e.left,y=e.width,b=e.height,_=e.clockWise,v=e.labelViewBox;if(v)return v;if(le(y)&&le(b)){if(le(f)&&le(h))return{x:f,y:h,width:y,height:b};if(le(p)&&le(g))return{x:p,y:g,width:y,height:b}}return le(f)&&le(h)?{x:f,y:h,width:0,height:0}:le(r)&&le(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:o||i||0,innerRadius:c||0,outerRadius:u||l||s||0,clockWise:_}:e.viewBox?e.viewBox:{}},Rde=function(e,r){return e?e===!0?L.createElement(nr,{key:"label-implicit",viewBox:r}):Qt(e)?L.createElement(nr,{key:"label-implicit",viewBox:r,value:e}):M.isValidElement(e)?e.type===nr?M.cloneElement(e,{key:"label-implicit",viewBox:r}):L.createElement(nr,{key:"label-implicit",content:e,viewBox:r}):Ce(e)?L.createElement(nr,{key:"label-implicit",content:e,viewBox:r}):yc(e)?L.createElement(nr,zf({viewBox:r},e,{key:"label-implicit"})):null:null},jde=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=IL(e),o=In(i,nr).map(function(l,c){return M.cloneElement(l,{viewBox:r||a,key:"label-".concat(c)})});if(!n)return o;var s=Rde(e.label,r||a);return[s].concat(yde(o))};nr.parseViewBox=IL;nr.renderCallByParent=jde;function Dde(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Mde=Dde;const $de=it(Mde);function Wf(t){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wf(t)}var Lde=["valueAccessor"],Fde=["data","dataKey","clockWise","id","textBreakAll"];function Vde(t){return Wde(t)||zde(t)||Bde(t)||Ude()}function Ude(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bde(t,e){if(t){if(typeof t=="string")return Ix(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ix(t,e)}}function zde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Wde(t){if(Array.isArray(t))return Ix(t)}function Ix(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Vm(){return Vm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vm.apply(this,arguments)}function XP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function YP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XP(Object(r),!0).forEach(function(n){qde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qde(t,e,r){return e=Hde(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hde(t){var e=Kde(t,"string");return Wf(e)=="symbol"?e:String(e)}function Kde(t,e){if(Wf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QP(t,e){if(t==null)return{};var r=Gde(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Gde(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var Xde=function(e){return Array.isArray(e.value)?$de(e.value):e.value};function to(t){var e=t.valueAccessor,r=e===void 0?Xde:e,n=QP(t,Lde),i=n.data,a=n.dataKey,o=n.clockWise,s=n.id,l=n.textBreakAll,c=QP(n,Fde);return!i||!i.length?null:L.createElement(rt,{className:"recharts-label-list"},i.map(function(u,f){var h=Me(a)?r(u,f):Ar(u&&u.payload,a),p=Me(s)?{}:{id:"".concat(s,"-").concat(f)};return L.createElement(nr,Vm({},Ae(u,!0),c,p,{parentViewBox:u.parentViewBox,value:h,textBreakAll:l,viewBox:nr.parseViewBox(Me(o)?u:YP(YP({},u),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}to.displayName="LabelList";function Yde(t,e){return t?t===!0?L.createElement(to,{key:"labelList-implicit",data:e}):L.isValidElement(t)||Ce(t)?L.createElement(to,{key:"labelList-implicit",data:e,content:t}):yc(t)?L.createElement(to,Vm({data:e},t,{key:"labelList-implicit"})):null:null}function Qde(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=In(n,to).map(function(o,s){return M.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!r)return i;var a=Yde(t.label,e);return[a].concat(Vde(i))}to.renderCallByParent=Qde;function qf(t){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qf(t)}function Ox(){return Ox=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ox.apply(this,arguments)}function JP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ZP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JP(Object(r),!0).forEach(function(n){Jde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jde(t,e,r){return e=Zde(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zde(t){var e=ehe(t,"string");return qf(e)=="symbol"?e:String(e)}function ehe(t,e){if(qf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var the=function(e,r){var n=Mr(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},Lh=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,o=e.sign,s=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,u=l*(s?1:-1)+i,f=Math.asin(l/u)/Fm,h=c?a:a+o*f,p=pt(r,n,u,h),g=pt(r,n,i,h),y=c?a-o*f:a,b=pt(r,n,u*Math.cos(f*Fm),y);return{center:p,circleTangency:g,lineTangency:b,theta:f}},OL=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,s=e.endAngle,l=the(o,s),c=o+l,u=pt(r,n,a,o),f=pt(r,n,a,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=pt(r,n,i,o),g=pt(r,n,i,c);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},rhe=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,u=e.endAngle,f=Mr(u-c),h=Lh({cx:r,cy:n,radius:a,angle:c,sign:f,cornerRadius:o,cornerIsExternal:l}),p=h.circleTangency,g=h.lineTangency,y=h.theta,b=Lh({cx:r,cy:n,radius:a,angle:u,sign:-f,cornerRadius:o,cornerIsExternal:l}),_=b.circleTangency,v=b.lineTangency,x=b.theta,k=l?Math.abs(c-u):Math.abs(c-u)-y-x;if(k<0)return s?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):OL({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:c,endAngle:u});var T="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(k>180),",").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
  `);if(i>0){var C=Lh({cx:r,cy:n,radius:i,angle:c,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),S=C.circleTangency,E=C.lineTangency,P=C.theta,O=Lh({cx:r,cy:n,radius:i,angle:u,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),R=O.circleTangency,N=O.lineTangency,I=O.theta,V=l?Math.abs(c-u):Math.abs(c-u)-P-I;if(V<0&&o===0)return"".concat(T,"L").concat(r,",").concat(n,"Z");T+="L".concat(N.x,",").concat(N.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(V>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,"Z")}else T+="L".concat(r,",").concat(n,"Z");return T},nhe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},CL=function(e){var r=ZP(ZP({},nhe),e),n=r.cx,i=r.cy,a=r.innerRadius,o=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,u=r.startAngle,f=r.endAngle,h=r.className;if(o<a||u===f)return null;var p=je("recharts-sector",h),g=o-a,y=$r(s,g,0,!0),b;return y>0&&Math.abs(u-f)<360?b=rhe({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(y,g/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:f}):b=OL({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:u,endAngle:f}),L.createElement("path",Ox({},Ae(r,!0),{className:p,d:b,role:"img"}))};function Hf(t){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hf(t)}function Cx(){return Cx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cx.apply(this,arguments)}function eI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eI(Object(r),!0).forEach(function(n){ihe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ihe(t,e,r){return e=ahe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ahe(t){var e=ohe(t,"string");return Hf(e)=="symbol"?e:String(e)}function ohe(t,e){if(Hf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rI={curveBasisClosed:pJ,curveBasisOpen:mJ,curveBasis:hJ,curveBumpX:ZQ,curveBumpY:eJ,curveLinearClosed:gJ,curveLinear:cy,curveMonotoneX:yJ,curveMonotoneY:vJ,curveNatural:bJ,curveStep:xJ,curveStepAfter:_J,curveStepBefore:wJ},Fh=function(e){return e.x===+e.x&&e.y===+e.y},au=function(e){return e.x},ou=function(e){return e.y},she=function(e,r){if(Ce(e))return e;var n="curve".concat(sy(e));return(n==="curveMonotone"||n==="curveBump")&&r?rI["".concat(n).concat(r==="vertical"?"Y":"X")]:rI[n]||cy},lhe=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,o=e.baseLine,s=e.layout,l=e.connectNulls,c=l===void 0?!1:l,u=she(n,s),f=c?a.filter(function(y){return Fh(y)}):a,h;if(Array.isArray(o)){var p=c?o.filter(function(y){return Fh(y)}):o,g=f.map(function(y,b){return tI(tI({},y),{},{base:p[b]})});return s==="vertical"?h=Ih().y(ou).x1(au).x0(function(y){return y.base.x}):h=Ih().x(au).y1(ou).y0(function(y){return y.base.y}),h.defined(Fh).curve(u),h(g)}return s==="vertical"&&le(o)?h=Ih().y(ou).x1(au).x0(o):le(o)?h=Ih().x(au).y1(ou).y0(o):h=AM().x(au).y(ou),h.defined(Fh).curve(u),h(f)},Nx=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?lhe(e):i;return L.createElement("path",Cx({},Ae(e,!1),dm(e),{className:je("recharts-curve",r),d:o,ref:a}))},che=Object.getOwnPropertyNames,uhe=Object.getOwnPropertySymbols,fhe=Object.prototype.hasOwnProperty;function nI(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function Vh(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var a=i.cache,o=a.get(r),s=a.get(n);if(o&&s)return o===n&&s===r;a.set(r,n),a.set(n,r);var l=t(r,n,i);return a.delete(r),a.delete(n),l}}function iI(t){return che(t).concat(uhe(t))}var NL=Object.hasOwn||function(t,e){return fhe.call(t,e)};function Ac(t,e){return t||e?t===e:t===e||t!==t&&e!==e}var RL="_owner",aI=Object.getOwnPropertyDescriptor,oI=Object.keys;function dhe(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function hhe(t,e){return Ac(t.getTime(),e.getTime())}function sI(t,e,r){if(t.size!==e.size)return!1;for(var n={},i=t.entries(),a=0,o,s;(o=i.next())&&!o.done;){for(var l=e.entries(),c=!1,u=0;(s=l.next())&&!s.done;){var f=o.value,h=f[0],p=f[1],g=s.value,y=g[0],b=g[1];!c&&!n[u]&&(c=r.equals(h,y,a,u,t,e,r)&&r.equals(p,b,h,y,t,e,r))&&(n[u]=!0),u++}if(!c)return!1;a++}return!0}function phe(t,e,r){var n=oI(t),i=n.length;if(oI(e).length!==i)return!1;for(var a;i-- >0;)if(a=n[i],a===RL&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!NL(e,a)||!r.equals(t[a],e[a],a,a,t,e,r))return!1;return!0}function su(t,e,r){var n=iI(t),i=n.length;if(iI(e).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=n[i],a===RL&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!NL(e,a)||!r.equals(t[a],e[a],a,a,t,e,r)||(o=aI(t,a),s=aI(e,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function mhe(t,e){return Ac(t.valueOf(),e.valueOf())}function ghe(t,e){return t.source===e.source&&t.flags===e.flags}function lI(t,e,r){if(t.size!==e.size)return!1;for(var n={},i=t.values(),a,o;(a=i.next())&&!a.done;){for(var s=e.values(),l=!1,c=0;(o=s.next())&&!o.done;)!l&&!n[c]&&(l=r.equals(a.value,o.value,a.value,o.value,t,e,r))&&(n[c]=!0),c++;if(!l)return!1}return!0}function yhe(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}var vhe="[object Arguments]",bhe="[object Boolean]",xhe="[object Date]",whe="[object Map]",_he="[object Number]",khe="[object Object]",Ehe="[object RegExp]",She="[object Set]",The="[object String]",Ahe=Array.isArray,cI=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,uI=Object.assign,Phe=Object.prototype.toString.call.bind(Object.prototype.toString);function Ihe(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areMapsEqual,i=t.areObjectsEqual,a=t.arePrimitiveWrappersEqual,o=t.areRegExpsEqual,s=t.areSetsEqual,l=t.areTypedArraysEqual;return function(u,f,h){if(u===f)return!0;if(u==null||f==null||typeof u!="object"||typeof f!="object")return u!==u&&f!==f;var p=u.constructor;if(p!==f.constructor)return!1;if(p===Object)return i(u,f,h);if(Ahe(u))return e(u,f,h);if(cI!=null&&cI(u))return l(u,f,h);if(p===Date)return r(u,f,h);if(p===RegExp)return o(u,f,h);if(p===Map)return n(u,f,h);if(p===Set)return s(u,f,h);var g=Phe(u);return g===xhe?r(u,f,h):g===Ehe?o(u,f,h):g===whe?n(u,f,h):g===She?s(u,f,h):g===khe?typeof u.then!="function"&&typeof f.then!="function"&&i(u,f,h):g===vhe?i(u,f,h):g===bhe||g===_he||g===The?a(u,f,h):!1}}function Ohe(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?su:dhe,areDatesEqual:hhe,areMapsEqual:n?nI(sI,su):sI,areObjectsEqual:n?su:phe,arePrimitiveWrappersEqual:mhe,areRegExpsEqual:ghe,areSetsEqual:n?nI(lI,su):lI,areTypedArraysEqual:n?su:yhe};if(r&&(i=uI({},i,r(i))),e){var a=Vh(i.areArraysEqual),o=Vh(i.areMapsEqual),s=Vh(i.areObjectsEqual),l=Vh(i.areSetsEqual);i=uI({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return i}function Che(t){return function(e,r,n,i,a,o,s){return t(e,r,s)}}function Nhe(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,a=t.strict;if(n)return function(l,c){var u=n(),f=u.cache,h=f===void 0?e?new WeakMap:void 0:f,p=u.meta;return r(l,c,{cache:h,equals:i,meta:p,strict:a})};if(e)return function(l,c){return r(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,c){return r(l,c,o)}}var Rhe=ko();ko({strict:!0});ko({circular:!0});ko({circular:!0,strict:!0});ko({createInternalComparator:function(){return Ac}});ko({strict:!0,createInternalComparator:function(){return Ac}});ko({circular:!0,createInternalComparator:function(){return Ac}});ko({circular:!0,createInternalComparator:function(){return Ac},strict:!0});function ko(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,s=Ohe(t),l=Ihe(s),c=n?n(l):Che(l);return Nhe({circular:r,comparator:l,createState:i,equals:c,strict:o})}function jhe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function fI(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):jhe(i)};requestAnimationFrame(n)}function Rx(t){"@babel/helpers - typeof";return Rx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rx(t)}function Dhe(t){return Fhe(t)||Lhe(t)||$he(t)||Mhe()}function Mhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $he(t,e){if(t){if(typeof t=="string")return dI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dI(t,e)}}function dI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Lhe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Fhe(t){if(Array.isArray(t))return t}function Vhe(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,s=Dhe(o),l=s[0],c=s.slice(1);if(typeof l=="number"){fI(i.bind(null,c),l);return}i(l),fI(i.bind(null,c));return}Rx(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Kf(t){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(t)}function hI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hI(Object(r),!0).forEach(function(n){jL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jL(t,e,r){return e=Uhe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Uhe(t){var e=Bhe(t,"string");return Kf(e)==="symbol"?e:String(e)}function Bhe(t,e){if(Kf(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Kf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zhe=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},Whe=function(e){return e},qhe=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Wu=function(e,r){return Object.keys(r).reduce(function(n,i){return pI(pI({},n),{},jL({},i,e(i,r[i])))},{})},mI=function(e,r,n){return e.map(function(i){return"".concat(qhe(i)," ").concat(r,"ms ").concat(n)}).join(",")};function Hhe(t,e){return Xhe(t)||Ghe(t,e)||DL(t,e)||Khe()}function Khe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ghe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Xhe(t){if(Array.isArray(t))return t}function Yhe(t){return Zhe(t)||Jhe(t)||DL(t)||Qhe()}function Qhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DL(t,e){if(t){if(typeof t=="string")return jx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jx(t,e)}}function Jhe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zhe(t){if(Array.isArray(t))return jx(t)}function jx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Um=1e-4,ML=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},$L=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},gI=function(e,r){return function(n){var i=ML(e,r);return $L(i,n)}},epe=function(e,r){return function(n){var i=ML(e,r),a=[].concat(Yhe(i.map(function(o,s){return o*s}).slice(1)),[0]);return $L(a,n)}},yI=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],o=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),u=Hhe(c,4);i=u[0],a=u[1],o=u[2],s=u[3]}}}var f=gI(i,o),h=gI(a,s),p=epe(i,o),g=function(_){return _>1?1:_<0?0:_},y=function(_){for(var v=_>1?1:_,x=v,k=0;k<8;++k){var T=f(x)-v,C=p(x);if(Math.abs(T-v)<Um||C<Um)return h(x);x=g(x-T/C)}return h(x)};return y.isStepper=!1,y},tpe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,o=e.dt,s=o===void 0?17:o,l=function(u,f,h){var p=-(u-f)*n,g=h*a,y=h+(p-g)*s/1e3,b=h*s/1e3+u;return Math.abs(b-f)<Um&&Math.abs(y)<Um?[f,0]:[b,y]};return l.isStepper=!0,l.dt=s,l},rpe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return yI(i);case"spring":return tpe();default:if(i.split("(")[0]==="cubic-bezier")return yI(i)}return typeof i=="function"?i:null};function Gf(t){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gf(t)}function vI(t){return ape(t)||ipe(t)||LL(t)||npe()}function npe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ipe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ape(t){if(Array.isArray(t))return Mx(t)}function bI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bI(Object(r),!0).forEach(function(n){Dx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Dx(t,e,r){return e=ope(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ope(t){var e=spe(t,"string");return Gf(e)==="symbol"?e:String(e)}function spe(t,e){if(Gf(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Gf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lpe(t,e){return fpe(t)||upe(t,e)||LL(t,e)||cpe()}function cpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LL(t,e){if(t){if(typeof t=="string")return Mx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mx(t,e)}}function Mx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function upe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function fpe(t){if(Array.isArray(t))return t}var Bm=function(e,r,n){return e+(r-e)*n},$x=function(e){var r=e.from,n=e.to;return r!==n},dpe=function t(e,r,n){var i=Wu(function(a,o){if($x(o)){var s=e(o.from,o.to,o.velocity),l=lpe(s,2),c=l[0],u=l[1];return lr(lr({},o),{},{from:c,velocity:u})}return o},r);return n<1?Wu(function(a,o){return $x(o)?lr(lr({},o),{},{velocity:Bm(o.velocity,i[a].velocity,n),from:Bm(o.from,i[a].from,n)}):o},r):t(e,i,n-1)};const hpe=function(t,e,r,n,i){var a=zhe(t,e),o=a.reduce(function(b,_){return lr(lr({},b),{},Dx({},_,[t[_],e[_]]))},{}),s=a.reduce(function(b,_){return lr(lr({},b),{},Dx({},_,{from:t[_],velocity:0,to:e[_]}))},{}),l=-1,c,u,f=function(){return null},h=function(){return Wu(function(_,v){return v.from},s)},p=function(){return!Object.values(s).filter($x).length},g=function(_){c||(c=_);var v=_-c,x=v/r.dt;s=dpe(r,s,x),i(lr(lr(lr({},t),e),h())),c=_,p()||(l=requestAnimationFrame(f))},y=function(_){u||(u=_);var v=(_-u)/n,x=Wu(function(T,C){return Bm.apply(void 0,vI(C).concat([r(v)]))},o);if(i(lr(lr(lr({},t),e),x)),v<1)l=requestAnimationFrame(f);else{var k=Wu(function(T,C){return Bm.apply(void 0,vI(C).concat([r(1)]))},o);i(lr(lr(lr({},t),e),k))}};return f=r.isStepper?g:y,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Yl(t){"@babel/helpers - typeof";return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yl(t)}var ppe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function mpe(t,e){if(t==null)return{};var r=gpe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gpe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function s0(t){return xpe(t)||bpe(t)||vpe(t)||ype()}function ype(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vpe(t,e){if(t){if(typeof t=="string")return Lx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lx(t,e)}}function bpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xpe(t){if(Array.isArray(t))return Lx(t)}function Lx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function xI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xI(Object(r),!0).forEach(function(n){xu(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xu(t,e,r){return e=FL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _pe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,FL(n.key),n)}}function kpe(t,e,r){return e&&_pe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function FL(t){var e=Epe(t,"string");return Yl(e)==="symbol"?e:String(e)}function Epe(t,e){if(Yl(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Yl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Spe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fx(t,e)}function Fx(t,e){return Fx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Fx(t,e)}function Tpe(t){var e=Ape();return function(){var n=zm(t),i;if(e){var a=zm(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Vx(this,i)}}function Vx(t,e){if(e&&(Yl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ux(t)}function Ux(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ape(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function zm(t){return zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zm(t)}var sa=function(t){Spe(r,t);var e=Tpe(r);function r(n,i){var a;wpe(this,r),a=e.call(this,n,i);var o=a.props,s=o.isActive,l=o.attributeName,c=o.from,u=o.to,f=o.steps,h=o.children,p=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(Ux(a)),a.changeStyle=a.changeStyle.bind(Ux(a)),!s||p<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:u}),Vx(a);if(f&&f.length)a.state={style:f[0].style};else if(c){if(typeof h=="function")return a.state={style:c},Vx(a);a.state={style:l?xu({},l,c):c}}else a.state={style:{}};return a}return kpe(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,c=a.shouldReAnimate,u=a.to,f=a.from,h=this.state.style;if(s){if(!o){var p={style:l?xu({},l,u):u};this.state&&h&&(l&&h[l]!==u||!l&&h!==u)&&this.setState(p);return}if(!(Rhe(i.to,u)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=g||c?f:i.to;if(this.state&&h){var b={style:l?xu({},l,y):y};(l&&h[l]!==y||!l&&h!==y)&&this.setState(b)}this.runAnimation(Mn(Mn({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,c=i.easing,u=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=hpe(o,s,rpe(c),l,this.changeStyle),g=function(){a.stopJSAnimation=p()};this.manager.start([h,u,g,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,c=o[0],u=c.style,f=c.duration,h=f===void 0?0:f,p=function(y,b,_){if(_===0)return y;var v=b.duration,x=b.easing,k=x===void 0?"ease":x,T=b.style,C=b.properties,S=b.onAnimationEnd,E=_>0?o[_-1]:b,P=C||Object.keys(T);if(typeof k=="function"||k==="spring")return[].concat(s0(y),[a.runJSAnimation.bind(a,{from:E.style,to:T,duration:v,easing:k}),v]);var O=mI(P,v,k),R=Mn(Mn(Mn({},E.style),T),{},{transition:O});return[].concat(s0(y),[R,v,S]).filter(Whe)};return this.manager.start([l].concat(s0(o.reduce(p,[u,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Vhe());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var y=s?xu({},s,l):l,b=mI(Object.keys(y),o,c);g.start([u,a,Mn(Mn({},y),{},{transition:b}),o,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=mpe(i,ppe),c=M.Children.count(a),u=this.state.style;if(typeof a=="function")return a(u);if(!s||c===0||o<=0)return a;var f=function(p){var g=p.props,y=g.style,b=y===void 0?{}:y,_=g.className,v=M.cloneElement(p,Mn(Mn({},l),{},{style:Mn(Mn({},b),u),className:_}));return v};return c===1?f(M.Children.only(a)):L.createElement("div",null,M.Children.map(a,function(h){return f(h)}))}}]),r}(M.PureComponent);sa.displayName="Animate";sa.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};sa.propTypes={from:q.oneOfType([q.object,q.string]),to:q.oneOfType([q.object,q.string]),attributeName:q.string,duration:q.number,begin:q.number,easing:q.oneOfType([q.string,q.func]),steps:q.arrayOf(q.shape({duration:q.number.isRequired,style:q.object.isRequired,easing:q.oneOfType([q.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),q.func]),properties:q.arrayOf("string"),onAnimationEnd:q.func})),children:q.oneOfType([q.node,q.func]),isActive:q.bool,canBegin:q.bool,onAnimationEnd:q.func,shouldReAnimate:q.bool,onAnimationStart:q.func,onAnimationReStart:q.func};q.object,q.object,q.object,q.element;q.object,q.object,q.object,q.oneOfType([q.array,q.element]),q.any;function Xf(t){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xf(t)}function Wm(){return Wm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wm.apply(this,arguments)}function Ppe(t,e){return Npe(t)||Cpe(t,e)||Ope(t,e)||Ipe()}function Ipe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ope(t,e){if(t){if(typeof t=="string")return wI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wI(t,e)}}function wI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Cpe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Npe(t){if(Array.isArray(t))return t}function _I(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_I(Object(r),!0).forEach(function(n){Rpe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_I(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rpe(t,e,r){return e=jpe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jpe(t){var e=Dpe(t,"string");return Xf(e)=="symbol"?e:String(e)}function Dpe(t,e){if(Xf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var EI=function(e,r,n,i,a){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),s=i>=0?1:-1,l=n>=0?1:-1,c=i>=0&&n>=0||i<0&&n<0?1:0,u;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=a[h]>o?o:a[h];u="M".concat(e,",").concat(r+s*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(e+l*f[0],",").concat(r)),u+="L ".concat(e+n-l*f[1],",").concat(r),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(e+n,",").concat(r+s*f[1])),u+="L ".concat(e+n,",").concat(r+i-s*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(e+n-l*f[2],",").concat(r+i)),u+="L ".concat(e+l*f[3],",").concat(r+i),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(r+i-s*f[3])),u+="Z"}else if(o>0&&a===+a&&a>0){var g=Math.min(o,a);u="M ".concat(e,",").concat(r+s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+l*g,",").concat(r,`
            L `).concat(e+n-l*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+n,",").concat(r+s*g,`
            L `).concat(e+n,",").concat(r+i-s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+n-l*g,",").concat(r+i,`
            L `).concat(e+l*g,",").concat(r+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e,",").concat(r+i-s*g," Z")}else u="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return u},Mpe=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,o=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(a,a+s),u=Math.max(a,a+s),f=Math.min(o,o+l),h=Math.max(o,o+l);return n>=c&&n<=u&&i>=f&&i<=h}return!1},$pe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Sk=function(e){var r=kI(kI({},$pe),e),n=M.useRef(),i=M.useState(-1),a=Ppe(i,2),o=a[0],s=a[1];M.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var k=n.current.getTotalLength();k&&s(k)}catch{}},[]);var l=r.x,c=r.y,u=r.width,f=r.height,h=r.radius,p=r.className,g=r.animationEasing,y=r.animationDuration,b=r.animationBegin,_=r.isAnimationActive,v=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var x=je("recharts-rectangle",p);return v?L.createElement(sa,{canBegin:o>0,from:{width:u,height:f,x:l,y:c},to:{width:u,height:f,x:l,y:c},duration:y,animationEasing:g,isActive:v},function(k){var T=k.width,C=k.height,S=k.x,E=k.y;return L.createElement(sa,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,isActive:_,easing:g},L.createElement("path",Wm({},Ae(r,!0),{className:x,d:EI(S,E,T,C,h),ref:n})))}):L.createElement("path",Wm({},Ae(r,!0),{className:x,d:EI(l,c,u,f,h)}))},Lpe=["points","className","baseLinePoints","connectNulls"];function ul(){return ul=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ul.apply(this,arguments)}function Fpe(t,e){if(t==null)return{};var r=Vpe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Vpe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function SI(t){return Wpe(t)||zpe(t)||Bpe(t)||Upe()}function Upe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bpe(t,e){if(t){if(typeof t=="string")return Bx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bx(t,e)}}function zpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Wpe(t){if(Array.isArray(t))return Bx(t)}function Bx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var TI=function(e){return e&&e.x===+e.x&&e.y===+e.y},qpe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){TI(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),TI(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},qu=function(e,r){var n=qpe(e);r&&(n=[n.reduce(function(a,o){return[].concat(SI(a),SI(o))},[])]);var i=n.map(function(a){return a.reduce(function(o,s,l){return"".concat(o).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},Hpe=function(e,r,n){var i=qu(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(qu(r.reverse(),n).slice(1))},Kpe=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,a=e.connectNulls,o=Fpe(e,Lpe);if(!r||!r.length)return null;var s=je("recharts-polygon",n);if(i&&i.length){var l=o.stroke&&o.stroke!=="none",c=Hpe(r,i,a);return L.createElement("g",{className:s},L.createElement("path",ul({},Ae(o,!0),{fill:c.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:c})),l?L.createElement("path",ul({},Ae(o,!0),{fill:"none",d:qu(r,a)})):null,l?L.createElement("path",ul({},Ae(o,!0),{fill:"none",d:qu(i,a)})):null)}var u=qu(r,a);return L.createElement("path",ul({},Ae(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:s,d:u}))};function zx(){return zx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zx.apply(this,arguments)}var Tk=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,o=je("recharts-dot",a);return r===+r&&n===+n&&i===+i?L.createElement("circle",zx({},Ae(e,!1),dm(e),{className:o,cx:r,cy:n,r:i})):null};function Yf(t){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yf(t)}var Gpe=["x","y","top","left","width","height","className"];function Wx(){return Wx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wx.apply(this,arguments)}function AI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xpe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AI(Object(r),!0).forEach(function(n){Ype(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ype(t,e,r){return e=Qpe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qpe(t){var e=Jpe(t,"string");return Yf(e)=="symbol"?e:String(e)}function Jpe(t,e){if(Yf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zpe(t,e){if(t==null)return{};var r=eme(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function eme(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var tme=function(e,r,n,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},rme=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.top,s=o===void 0?0:o,l=e.left,c=l===void 0?0:l,u=e.width,f=u===void 0?0:u,h=e.height,p=h===void 0?0:h,g=e.className,y=Zpe(e,Gpe),b=Xpe({x:n,y:a,top:s,left:c,width:f,height:p},y);return!le(n)||!le(a)||!le(f)||!le(p)||!le(s)||!le(c)?null:L.createElement("path",Wx({},Ae(b,!0),{className:je("recharts-cross",g),d:tme(n,a,f,p,s,c)}))},nme=xy,ime=rL,ame=Ei;function ome(t,e){return t&&t.length?nme(t,ame(e),ime):void 0}var sme=ome;const lme=it(sme);var cme=xy,ume=Ei,fme=nL;function dme(t,e){return t&&t.length?cme(t,ume(e),fme):void 0}var hme=dme;const pme=it(hme);var mme=["cx","cy","angle","ticks","axisLine"],gme=["ticks","tick","angle","tickFormatter","stroke"];function Ql(t){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ql(t)}function Hu(){return Hu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hu.apply(this,arguments)}function PI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Io(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PI(Object(r),!0).forEach(function(n){Ay(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function II(t,e){if(t==null)return{};var r=yme(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function yme(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function vme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,UL(n.key),n)}}function bme(t,e,r){return e&&OI(t.prototype,e),r&&OI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function xme(t,e,r){return e=qm(e),wme(t,VL()?Reflect.construct(e,r||[],qm(t).constructor):e.apply(t,r))}function wme(t,e){if(e&&(Ql(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _me(t)}function _me(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VL=function(){return!!t})()}function qm(t){return qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qm(t)}function kme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qx(t,e)}function qx(t,e){return qx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},qx(t,e)}function Ay(t,e,r){return e=UL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UL(t){var e=Eme(t,"string");return Ql(e)=="symbol"?e:String(e)}function Eme(t,e){if(Ql(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ql(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Py=function(t){kme(e,t);function e(){return vme(this,e),xme(this,e,arguments)}return bme(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,o=a.angle,s=a.cx,l=a.cy;return pt(s,l,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,s=n.ticks,l=lme(s,function(u){return u.coordinate||0}),c=pme(s,function(u){return u.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,s=n.ticks,l=n.axisLine,c=II(n,mme),u=s.reduce(function(g,y){return[Math.min(g[0],y.coordinate),Math.max(g[1],y.coordinate)]},[1/0,-1/0]),f=pt(i,a,u[0],o),h=pt(i,a,u[1],o),p=Io(Io(Io({},Ae(c,!1)),{},{fill:"none"},Ae(l,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return L.createElement("line",Hu({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,s=i.angle,l=i.tickFormatter,c=i.stroke,u=II(i,gme),f=this.getTickTextAnchor(),h=Ae(u,!1),p=Ae(o,!1),g=a.map(function(y,b){var _=n.getTickValueCoord(y),v=Io(Io(Io(Io({textAnchor:f,transform:"rotate(".concat(90-s,", ").concat(_.x,", ").concat(_.y,")")},h),{},{stroke:"none",fill:c},p),{},{index:b},_),{},{payload:y});return L.createElement(rt,Hu({className:je("recharts-polar-radius-axis-tick",PL(o)),key:"tick-".concat(y.coordinate)},fs(n.props,y,b)),e.renderTickItem(o,v,l?l(y.value,b):y.value))});return L.createElement(rt,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,o=n.tick;return!i||!i.length?null:L.createElement(rt,{className:je("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),nr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var o;return L.isValidElement(n)?o=L.cloneElement(n,i):Ce(n)?o=n(i):o=L.createElement(ds,Hu({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}]),e}(M.PureComponent);Ay(Py,"displayName","PolarRadiusAxis");Ay(Py,"axisType","radiusAxis");Ay(Py,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Jl(t){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jl(t)}function $o(){return $o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$o.apply(this,arguments)}function CI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Oo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CI(Object(r),!0).forEach(function(n){Iy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Sme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zL(n.key),n)}}function Tme(t,e,r){return e&&NI(t.prototype,e),r&&NI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ame(t,e,r){return e=Hm(e),Pme(t,BL()?Reflect.construct(e,r||[],Hm(t).constructor):e.apply(t,r))}function Pme(t,e){if(e&&(Jl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ime(t)}function Ime(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BL=function(){return!!t})()}function Hm(t){return Hm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hm(t)}function Ome(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hx(t,e)}function Hx(t,e){return Hx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Hx(t,e)}function Iy(t,e,r){return e=zL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zL(t){var e=Cme(t,"string");return Jl(e)=="symbol"?e:String(e)}function Cme(t,e){if(Jl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Jl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nme=Math.PI/180,RI=1e-5,Oy=function(t){Ome(e,t);function e(){return Sme(this,e),Ame(this,e,arguments)}return Tme(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,o=i.cy,s=i.radius,l=i.orientation,c=i.tickSize,u=c||8,f=pt(a,o,s,n.coordinate),h=pt(a,o,s+(l==="inner"?-1:1)*u,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*Nme),o;return a>RI?o=i==="outer"?"start":"end":a<-RI?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.radius,s=n.axisLine,l=n.axisLineType,c=Oo(Oo({},Ae(this.props,!1)),{},{fill:"none"},Ae(s,!1));if(l==="circle")return L.createElement(Tk,$o({className:"recharts-polar-angle-axis-line"},c,{cx:i,cy:a,r:o}));var u=this.props.ticks,f=u.map(function(h){return pt(i,a,o,h.coordinate)});return L.createElement(Kpe,$o({className:"recharts-polar-angle-axis-line"},c,{points:f}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,s=i.tickLine,l=i.tickFormatter,c=i.stroke,u=Ae(this.props,!1),f=Ae(o,!1),h=Oo(Oo({},u),{},{fill:"none"},Ae(s,!1)),p=a.map(function(g,y){var b=n.getTickLineCoord(g),_=n.getTickTextAnchor(g),v=Oo(Oo(Oo({textAnchor:_},u),{},{stroke:"none",fill:c},f),{},{index:y,payload:g,x:b.x2,y:b.y2});return L.createElement(rt,$o({className:je("recharts-polar-angle-axis-tick",PL(o)),key:"tick-".concat(g.coordinate)},fs(n.props,g,y)),s&&L.createElement("line",$o({className:"recharts-polar-angle-axis-tick-line"},h,b)),o&&e.renderTickItem(o,v,l?l(g.value,y):g.value))});return L.createElement(rt,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,o=n.axisLine;return a<=0||!i||!i.length?null:L.createElement(rt,{className:je("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var o;return L.isValidElement(n)?o=L.cloneElement(n,i):Ce(n)?o=n(i):o=L.createElement(ds,$o({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}]),e}(M.PureComponent);Iy(Oy,"displayName","PolarAngleAxis");Iy(Oy,"axisType","angleAxis");Iy(Oy,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Rme=QM,jme=Rme(Object.getPrototypeOf,Object),Dme=jme,Mme=ca,$me=Dme,Lme=ua,Fme="[object Object]",Vme=Function.prototype,Ume=Object.prototype,WL=Vme.toString,Bme=Ume.hasOwnProperty,zme=WL.call(Object);function Wme(t){if(!Lme(t)||Mme(t)!=Fme)return!1;var e=$me(t);if(e===null)return!0;var r=Bme.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&WL.call(r)==zme}var qme=Wme;const Hme=it(qme);var Kme=ca,Gme=ua,Xme="[object Boolean]";function Yme(t){return t===!0||t===!1||Gme(t)&&Kme(t)==Xme}var Qme=Yme;const Jme=it(Qme);function Qf(t){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qf(t)}function Km(){return Km=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Km.apply(this,arguments)}function Zme(t,e){return nge(t)||rge(t,e)||tge(t,e)||ege()}function ege(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tge(t,e){if(t){if(typeof t=="string")return jI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jI(t,e)}}function jI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function rge(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function nge(t){if(Array.isArray(t))return t}function DI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function MI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DI(Object(r),!0).forEach(function(n){ige(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ige(t,e,r){return e=age(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function age(t){var e=oge(t,"string");return Qf(e)=="symbol"?e:String(e)}function oge(t,e){if(Qf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $I=function(e,r,n,i,a){var o=n-i,s;return s="M ".concat(e,",").concat(r),s+="L ".concat(e+n,",").concat(r),s+="L ".concat(e+n-o/2,",").concat(r+a),s+="L ".concat(e+n-o/2-i,",").concat(r+a),s+="L ".concat(e,",").concat(r," Z"),s},sge={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},lge=function(e){var r=MI(MI({},sge),e),n=M.useRef(),i=M.useState(-1),a=Zme(i,2),o=a[0],s=a[1];M.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var x=n.current.getTotalLength();x&&s(x)}catch{}},[]);var l=r.x,c=r.y,u=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,g=r.animationEasing,y=r.animationDuration,b=r.animationBegin,_=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||h!==+h||u===0&&f===0||h===0)return null;var v=je("recharts-trapezoid",p);return _?L.createElement(sa,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:u,lowerWidth:f,height:h,x:l,y:c},duration:y,animationEasing:g,isActive:_},function(x){var k=x.upperWidth,T=x.lowerWidth,C=x.height,S=x.x,E=x.y;return L.createElement(sa,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,easing:g},L.createElement("path",Km({},Ae(r,!0),{className:v,d:$I(S,E,k,T,C),ref:n})))}):L.createElement("g",null,L.createElement("path",Km({},Ae(r,!0),{className:v,d:$I(l,c,u,f,h)})))},cge=["option","shapeType","propTransformer","activeClassName","isActive"];function Jf(t){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jf(t)}function uge(t,e){if(t==null)return{};var r=fge(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function fge(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function LI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Gm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LI(Object(r),!0).forEach(function(n){dge(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dge(t,e,r){return e=hge(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hge(t){var e=pge(t,"string");return Jf(e)=="symbol"?e:String(e)}function pge(t,e){if(Jf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mge(t,e){return Gm(Gm({},e),t)}function gge(t,e){return t==="symbols"}function FI(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return L.createElement(Sk,r);case"trapezoid":return L.createElement(lge,r);case"sector":return L.createElement(CL,r);case"symbols":if(gge(e))return L.createElement(z1,r);break;default:return null}}function yge(t){return M.isValidElement(t)?t.props:t}function qL(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?mge:n,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,s=t.isActive,l=uge(t,cge),c;if(M.isValidElement(e))c=M.cloneElement(e,Gm(Gm({},l),yge(e)));else if(Ce(e))c=e(l);else if(Hme(e)&&!Jme(e)){var u=i(e,l);c=L.createElement(FI,{shapeType:r,elementProps:u})}else{var f=l;c=L.createElement(FI,{shapeType:r,elementProps:f})}return s?L.createElement(rt,{className:o},c):c}function Cy(t,e){return e!=null&&"trapezoids"in t.props}function Ny(t,e){return e!=null&&"sectors"in t.props}function Zf(t,e){return e!=null&&"points"in t.props}function vge(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function bge(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function xge(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function wge(t,e){var r;return Cy(t,e)?r=vge:Ny(t,e)?r=bge:Zf(t,e)&&(r=xge),r}function _ge(t,e){var r;return Cy(t,e)?r="trapezoids":Ny(t,e)?r="sectors":Zf(t,e)&&(r="points"),r}function kge(t,e){if(Cy(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Ny(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Zf(t,e)?e.payload:{}}function Ege(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=_ge(r,e),a=kge(r,e),o=n.filter(function(l,c){var u=ky(a,l),f=r.props[i].filter(function(g){var y=wge(r,e);return y(g,e)}),h=r.props[i].indexOf(f[f.length-1]),p=c===h;return u&&p}),s=n.indexOf(o[o.length-1]);return s}var mp;function Zl(t){"@babel/helpers - typeof";return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zl(t)}function fl(){return fl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fl.apply(this,arguments)}function VI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VI(Object(r),!0).forEach(function(n){En(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Sge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,KL(n.key),n)}}function Tge(t,e,r){return e&&UI(t.prototype,e),r&&UI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Age(t,e,r){return e=Xm(e),Pge(t,HL()?Reflect.construct(e,r||[],Xm(t).constructor):e.apply(t,r))}function Pge(t,e){if(e&&(Zl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ks(t)}function HL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HL=function(){return!!t})()}function Xm(t){return Xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xm(t)}function Ks(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ige(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kx(t,e)}function Kx(t,e){return Kx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Kx(t,e)}function En(t,e,r){return e=KL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KL(t){var e=Oge(t,"string");return Zl(e)=="symbol"?e:String(e)}function Oge(t,e){if(Zl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Zl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Si=function(t){Ige(e,t);function e(r){var n;return Sge(this,e),n=Age(this,e,[r]),En(Ks(n),"pieRef",null),En(Ks(n),"sectorRefs",[]),En(Ks(n),"id",Nd("recharts-pie-")),En(Ks(n),"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ce(i)&&i()}),En(Ks(n),"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ce(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Tge(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,s=a.labelLine,l=a.dataKey,c=a.valueKey,u=Ae(this.props,!1),f=Ae(o,!1),h=Ae(s,!1),p=o&&o.offsetRadius||20,g=n.map(function(y,b){var _=(y.startAngle+y.endAngle)/2,v=pt(y.cx,y.cy,y.outerRadius+p,_),x=kt(kt(kt(kt({},u),y),{},{stroke:"none"},f),{},{index:b,textAnchor:e.getTextAnchor(v.x,y.cx)},v),k=kt(kt(kt(kt({},u),y),{},{fill:"none",stroke:y.fill},h),{},{index:b,points:[pt(y.cx,y.cy,y.outerRadius,_),v],key:"line"}),T=l;return Me(l)&&Me(c)?T="value":Me(l)&&(T=c),L.createElement(rt,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(b)},s&&e.renderLabelLineItem(s,k),e.renderLabelItem(o,x,Ar(y,T)))});return L.createElement(rt,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,o=a.activeShape,s=a.blendStroke,l=a.inactiveShape;return n.map(function(c,u){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&n.length!==1)return null;var f=i.isActiveIndex(u),h=l&&i.hasActiveIndex()?l:null,p=f?o:h,g=kt(kt({},c),{},{stroke:s?c.fill:c.stroke,tabIndex:-1});return L.createElement(rt,fl({ref:function(b){b&&!i.sectorRefs.includes(b)&&i.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},fs(i.props,c,u),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(u)}),L.createElement(qL,fl({option:p,isActive:f,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,o=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,c=i.animationEasing,u=i.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return L.createElement(sa,{begin:s,duration:l,isActive:o,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var y=g.t,b=[],_=a&&a[0],v=_.startAngle;return a.forEach(function(x,k){var T=h&&h[k],C=k>0?fn(x,"paddingAngle",0):0;if(T){var S=Ea(T.endAngle-T.startAngle,x.endAngle-x.startAngle),E=kt(kt({},x),{},{startAngle:v+C,endAngle:v+S(y)+C});b.push(E),v=E.endAngle}else{var P=x.endAngle,O=x.startAngle,R=Ea(0,P-O),N=R(y),I=kt(kt({},x),{},{startAngle:v+C,endAngle:v+N+C});b.push(I),v=I.endAngle}}),L.createElement(rt,null,n.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!ky(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,o=i.sectors,s=i.className,l=i.label,c=i.cx,u=i.cy,f=i.innerRadius,h=i.outerRadius,p=i.isAnimationActive,g=this.state.isAnimationFinished;if(a||!o||!o.length||!le(c)||!le(u)||!le(f)||!le(h))return null;var y=je("recharts-pie",s);return L.createElement(rt,{tabIndex:this.props.rootTabIndex,className:y,ref:function(_){n.pieRef=_}},this.renderSectors(),l&&this.renderLabels(o),nr.renderCallByParent(this.props,null,!1),(!p||g)&&to.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i){if(L.isValidElement(n))return L.cloneElement(n,i);if(Ce(n))return n(i);var a=je("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return L.createElement(Nx,fl({},i,{type:"linear",className:a}))}},{key:"renderLabelItem",value:function(n,i,a){if(L.isValidElement(n))return L.cloneElement(n,i);var o=a;if(Ce(n)&&(o=n(i),L.isValidElement(o)))return o;var s=je("recharts-pie-label-text",typeof n!="boolean"&&!Ce(n)?n.className:"");return L.createElement(ds,fl({},i,{alignmentBaseline:"middle",className:s}),o)}}]),e}(M.PureComponent);mp=Si;En(Si,"displayName","Pie");En(Si,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ki.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});En(Si,"parseDeltaAngle",function(t,e){var r=Mr(e-t),n=Math.min(Math.abs(e-t),360);return r*n});En(Si,"getRealPieData",function(t){var e=t.props,r=e.data,n=e.children,i=Ae(t.props,!1),a=In(n,jd);return r&&r.length?r.map(function(o,s){return kt(kt(kt({payload:o},i),o),a&&a[s]&&a[s].props)}):a&&a.length?a.map(function(o){return kt(kt({},i),o.props)}):[]});En(Si,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,a=e.height,o=AL(i,a),s=n+$r(t.props.cx,i,i/2),l=r+$r(t.props.cy,a,a/2),c=$r(t.props.innerRadius,o,0),u=$r(t.props.outerRadius,o,o*.8),f=t.props.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:s,cy:l,innerRadius:c,outerRadius:u,maxRadius:f}});En(Si,"getComposedData",function(t){var e=t.item,r=t.offset,n=mp.getRealPieData(e);if(!n||!n.length)return null;var i=e.props,a=i.cornerRadius,o=i.startAngle,s=i.endAngle,l=i.paddingAngle,c=i.dataKey,u=i.nameKey,f=i.valueKey,h=i.tooltipType,p=Math.abs(e.props.minAngle),g=mp.parseCoordinateOfPie(e,r),y=mp.parseDeltaAngle(o,s),b=Math.abs(y),_=c;Me(c)&&Me(f)?(Hn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_="value"):Me(c)&&(Hn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_=f);var v=n.filter(function(E){return Ar(E,_,0)!==0}).length,x=(b>=360?v:v-1)*l,k=b-v*p-x,T=n.reduce(function(E,P){var O=Ar(P,_,0);return E+(le(O)?O:0)},0),C;if(T>0){var S;C=n.map(function(E,P){var O=Ar(E,_,0),R=Ar(E,u,P),N=(le(O)?O:0)/T,I;P?I=S.endAngle+Mr(y)*l*(O!==0?1:0):I=o;var V=I+Mr(y)*((O!==0?p:0)+N*k),B=(I+V)/2,W=(g.innerRadius+g.outerRadius)/2,H=[{name:R,value:O,payload:E,dataKey:_,type:h}],U=pt(g.cx,g.cy,W,B);return S=kt(kt(kt({percent:N,cornerRadius:a,name:R,tooltipPayload:H,midAngle:B,middleRadius:W,tooltipPosition:U},E),g),{},{value:Ar(E,_),startAngle:I,endAngle:V,payload:E,paddingAngle:Mr(y)*l}),S})}return kt(kt({},g),{},{sectors:C,data:n})});var Cge=Math.ceil,Nge=Math.max;function Rge(t,e,r,n){for(var i=-1,a=Nge(Cge((e-t)/(r||1)),0),o=Array(a);a--;)o[n?a:++i]=t,t+=r;return o}var jge=Rge,Dge=y$,BI=1/0,Mge=17976931348623157e292;function $ge(t){if(!t)return t===0?t:0;if(t=Dge(t),t===BI||t===-BI){var e=t<0?-1:1;return e*Mge}return t===t?t:0}var GL=$ge,Lge=jge,Fge=hy,l0=GL;function Vge(t){return function(e,r,n){return n&&typeof n!="number"&&Fge(e,r,n)&&(r=n=void 0),e=l0(e),r===void 0?(r=e,e=0):r=l0(r),n=n===void 0?e<r?1:-1:l0(n),Lge(e,r,n,t)}}var Uge=Vge,Bge=Uge,zge=Bge(),Wge=zge;const Ym=it(Wge);function ed(t){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ed(t)}function zI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function WI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zI(Object(r),!0).forEach(function(n){XL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function XL(t,e,r){return e=qge(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qge(t){var e=Hge(t,"string");return ed(e)=="symbol"?e:String(e)}function Hge(t,e){if(ed(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ed(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kge=["Webkit","Moz","O","ms"],Gge=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Kge.reduce(function(a,o){return WI(WI({},a),{},XL({},o+n,r))},{});return i[e]=r,i};function ec(t){"@babel/helpers - typeof";return ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ec(t)}function Qm(){return Qm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qm.apply(this,arguments)}function qI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function c0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qI(Object(r),!0).forEach(function(n){rn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,QL(n.key),n)}}function Yge(t,e,r){return e&&HI(t.prototype,e),r&&HI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qge(t,e,r){return e=Jm(e),Jge(t,YL()?Reflect.construct(e,r||[],Jm(t).constructor):e.apply(t,r))}function Jge(t,e){if(e&&(ec(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ei(t)}function YL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YL=function(){return!!t})()}function Jm(t){return Jm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jm(t)}function ei(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gx(t,e)}function Gx(t,e){return Gx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Gx(t,e)}function rn(t,e,r){return e=QL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QL(t){var e=eye(t,"string");return ec(e)=="symbol"?e:String(e)}function eye(t,e){if(ec(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ec(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tye=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,o=e.width,s=e.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=Bu().domain(Ym(0,l)).range([a,a+o-s]),u=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(i),scale:c,scaleValues:u}},KI=function(e){return e.changedTouches&&!!e.changedTouches.length},tc=function(t){Zge(e,t);function e(r){var n;return Xge(this,e),n=Qge(this,e,[r]),rn(ei(n),"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),rn(ei(n),"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),rn(ei(n),"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),n.detachDragEndListener()}),rn(ei(n),"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),rn(ei(n),"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),rn(ei(n),"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),rn(ei(n),"handleSlideDragStart",function(i){var a=KI(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(ei(n),"startX"),endX:n.handleTravellerDragStart.bind(ei(n),"endX")},n.state={},n}return Yge(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,o=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,u=c.length-1,f=Math.min(i,a),h=Math.max(i,a),p=e.getIndexInRange(o,f),g=e.getIndexInRange(o,h);return{startIndex:p-p%l,endIndex:g===u?u:g-g%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=Ar(a[n],s,n);return Ce(o)?o(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,c=l.x,u=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,g=l.onChange,y=n.pageX-a;y>0?y=Math.min(y,c+u-f-s,c+u-f-o):y<0&&(y=Math.max(y,c-o,c-s));var b=this.getIndex({startX:o+y,endX:s+y});(b.startIndex!==h||b.endIndex!==p)&&g&&g(b),this.setState({startX:o+y,endX:s+y,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=KI(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,c=this.state[o],u=this.props,f=u.x,h=u.width,p=u.travellerWidth,g=u.onChange,y=u.gap,b=u.data,_={startX:this.state.startX,endX:this.state.endX},v=n.pageX-a;v>0?v=Math.min(v,f+h-p-c):v<0&&(v=Math.max(v,f-c)),_[o]=c+v;var x=this.getIndex(_),k=x.startIndex,T=x.endIndex,C=function(){var E=b.length-1;return o==="startX"&&(s>l?k%y===0:T%y===0)||s<l&&T===E||o==="endX"&&(s>l?T%y===0:k%y===0)||s>l&&T===E};this.setState(rn(rn({},o,c+v),"brushMoveStartX",n.pageX),function(){g&&C()&&g(x)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,c=o.endX,u=this.state[i],f=s.indexOf(u);if(f!==-1){var h=f+n;if(!(h===-1||h>=s.length)){var p=s[h];i==="startX"&&p>=c||i==="endX"&&p<=l||this.setState(rn({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.fill,c=n.stroke;return L.createElement("rect",{stroke:c,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.data,c=n.children,u=n.padding,f=M.Children.only(c);return f?L.cloneElement(f,{x:i,y:a,width:o,height:s,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,o,s=this,l=this.props,c=l.y,u=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,g=l.data,y=l.startIndex,b=l.endIndex,_=Math.max(n,this.props.x),v=c0(c0({},Ae(this.props,!1)),{},{x:_,y:c,width:u,height:f}),x=p||"Min value: ".concat((a=g[y])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=g[b])===null||o===void 0?void 0:o.name);return L.createElement(rt,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(T){["ArrowLeft","ArrowRight"].includes(T.key)&&(T.preventDefault(),T.stopPropagation(),s.handleTravellerMoveKeyboard(T.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,v))}},{key:"renderSlide",value:function(n,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,c=a.travellerWidth,u=Math.min(n,i)+c,f=Math.max(Math.abs(i-n)-c,0);return L.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:o,width:f,height:s})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,o=n.y,s=n.height,l=n.travellerWidth,c=n.stroke,u=this.state,f=u.startX,h=u.endX,p=5,g={pointerEvents:"none",fill:c};return L.createElement(rt,{className:"recharts-brush-texts"},L.createElement(ds,Qm({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+s/2},g),this.getTextOfTick(i)),L.createElement(ds,Qm({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:o+s/2},g),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,o=n.children,s=n.x,l=n.y,c=n.width,u=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,g=h.endX,y=h.isTextActive,b=h.isSlideMoving,_=h.isTravellerMoving,v=h.isTravellerFocused;if(!i||!i.length||!le(s)||!le(l)||!le(c)||!le(u)||c<=0||u<=0)return null;var x=je("recharts-brush",a),k=L.Children.count(o)===1,T=Gge("userSelect","none");return L.createElement(rt,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:T},this.renderBackground(),k&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(y||b||_||v||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,o=n.width,s=n.height,l=n.stroke,c=Math.floor(a+s/2)-1;return L.createElement(L.Fragment,null,L.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),L.createElement("line",{x1:i+1,y1:c,x2:i+o-1,y2:c,fill:"none",stroke:"#fff"}),L.createElement("line",{x1:i+1,y1:c+2,x2:i+o-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return L.isValidElement(n)?a=L.cloneElement(n,i):Ce(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,o=n.width,s=n.x,l=n.travellerWidth,c=n.updateId,u=n.startIndex,f=n.endIndex;if(a!==i.prevData||c!==i.prevUpdateId)return c0({prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:o},a&&a.length?tye({data:a,width:o,x:s,travellerWidth:l,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);n[l]>i?s=l:o=l}return i>=n[s]?s:o}}]),e}(M.PureComponent);rn(tc,"displayName","Brush");rn(tc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var rye=Y1;function nye(t,e){var r;return rye(t,function(n,i,a){return r=e(n,i,a),!r}),!!r}var iye=nye,aye=zM,oye=Ei,sye=iye,lye=Zr,cye=hy;function uye(t,e,r){var n=lye(t)?aye:sye;return r&&cye(t,e,r)&&(e=void 0),n(t,oye(e))}var fye=uye;const dye=it(fye);var vi=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},GI=d$;function hye(t,e,r){e=="__proto__"&&GI?GI(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var pye=hye,mye=pye,gye=u$,yye=Ei;function vye(t,e){var r={};return e=yye(e),gye(t,function(n,i,a){mye(r,i,e(n,i,a))}),r}var bye=vye;const xye=it(bye);function wye(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var _ye=wye,kye=Y1;function Eye(t,e){var r=!0;return kye(t,function(n,i,a){return r=!!e(n,i,a),r}),r}var Sye=Eye,Tye=_ye,Aye=Sye,Pye=Ei,Iye=Zr,Oye=hy;function Cye(t,e,r){var n=Iye(t)?Tye:Aye;return r&&Oye(t,e,r)&&(e=void 0),n(t,Pye(e))}var Nye=Cye;const JL=it(Nye);var Rye=["x","y"];function td(t){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},td(t)}function Xx(){return Xx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xx.apply(this,arguments)}function XI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XI(Object(r),!0).forEach(function(n){jye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jye(t,e,r){return e=Dye(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dye(t){var e=Mye(t,"string");return td(e)=="symbol"?e:String(e)}function Mye(t,e){if(td(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(td(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $ye(t,e){if(t==null)return{};var r=Lye(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Lye(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Fye(t,e){var r=t.x,n=t.y,i=$ye(t,Rye),a="".concat(r),o=parseInt(a,10),s="".concat(n),l=parseInt(s,10),c="".concat(e.height||i.height),u=parseInt(c,10),f="".concat(e.width||i.width),h=parseInt(f,10);return lu(lu(lu(lu(lu({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:u,width:h,name:e.name,radius:e.radius})}function YI(t){return L.createElement(qL,Xx({shapeType:"rectangle",propTransformer:Fye,activeClassName:"recharts-active-bar"},t))}var Vye=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=typeof n=="number";return a?e(n,i):(a||ps(),r)}},Uye=["value","background"],ZL;function rc(t){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rc(t)}function Bye(t,e){if(t==null)return{};var r=zye(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function zye(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Zm(){return Zm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zm.apply(this,arguments)}function QI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QI(Object(r),!0).forEach(function(n){Va(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,t4(n.key),n)}}function qye(t,e,r){return e&&JI(t.prototype,e),r&&JI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hye(t,e,r){return e=eg(e),Kye(t,e4()?Reflect.construct(e,r||[],eg(t).constructor):e.apply(t,r))}function Kye(t,e){if(e&&(rc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wu(t)}function e4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e4=function(){return!!t})()}function eg(t){return eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},eg(t)}function wu(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yx(t,e)}function Yx(t,e){return Yx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Yx(t,e)}function Va(t,e,r){return e=t4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function t4(t){var e=Xye(t,"string");return rc(e)=="symbol"?e:String(e)}function Xye(t,e){if(rc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Is=function(t){Gye(e,t);function e(){var r;Wye(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Hye(this,e,[].concat(i)),Va(wu(r),"state",{isAnimationFinished:!1}),Va(wu(r),"id",Nd("recharts-bar-")),Va(wu(r),"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Va(wu(r),"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return qye(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,c=a.activeBar,u=Ae(this.props,!1);return n&&n.map(function(f,h){var p=h===l,g=p?c:o,y=Zt(Zt(Zt({},u),f),{},{isActive:p,option:g,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return L.createElement(rt,Zm({className:"recharts-bar-rectangle"},fs(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value)}),L.createElement(YI,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,f=i.animationId,h=this.state.prevData;return L.createElement(sa,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,y=a.map(function(b,_){var v=h&&h[_];if(v){var x=Ea(v.x,b.x),k=Ea(v.y,b.y),T=Ea(v.width,b.width),C=Ea(v.height,b.height);return Zt(Zt({},b),{},{x:x(g),y:k(g),width:T(g),height:C(g)})}if(o==="horizontal"){var S=Ea(0,b.height),E=S(g);return Zt(Zt({},b),{},{y:b.y+b.height-E,height:E})}var P=Ea(0,b.width),O=P(g);return Zt(Zt({},b),{},{width:O})});return L.createElement(rt,null,n.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!ky(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=Ae(this.props.background,!1);return a.map(function(c,u){c.value;var f=c.background,h=Bye(c,Uye);if(!f)return null;var p=Zt(Zt(Zt(Zt(Zt({},h),{},{fill:"#eee"},f),l),fs(n.props,c,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:u,key:"background-bar-".concat(u),className:"recharts-bar-background-rectangle"});return L.createElement(YI,Zm({option:n.props.background,isActive:u===s},p))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,c=a.layout,u=a.children,f=In(u,Ty);if(!f)return null;var h=c==="vertical"?o[0].height/2:o[0].width/2,p=function(b,_){var v=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:v,errorVal:Ar(b,_)}},g={clipPath:n?"url(#clipPath-".concat(i,")"):null};return L.createElement(rt,g,f.map(function(y){return L.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:o,xAxis:s,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,s=n.xAxis,l=n.yAxis,c=n.left,u=n.top,f=n.width,h=n.height,p=n.isAnimationActive,g=n.background,y=n.id;if(i||!a||!a.length)return null;var b=this.state.isAnimationFinished,_=je("recharts-bar",o),v=s&&s.allowDataOverflow,x=l&&l.allowDataOverflow,k=v||x,T=Me(y)?this.id:y;return L.createElement(rt,{className:_},v||x?L.createElement("defs",null,L.createElement("clipPath",{id:"clipPath-".concat(T)},L.createElement("rect",{x:v?c:c-f/2,y:x?u:u-h/2,width:v?f:f*2,height:x?h:h*2}))):null,L.createElement(rt,{className:"recharts-bar-rectangles",clipPath:k?"url(#clipPath-".concat(T,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(k,T),(!p||b)&&to.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}]),e}(M.PureComponent);ZL=Is;Va(Is,"displayName","Bar");Va(Is,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ki.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Va(Is,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,u=t.dataStartIndex,f=t.displayedData,h=t.offset,p=Kfe(n,r);if(!p)return null;var g=e.layout,y=r.props,b=y.dataKey,_=y.children,v=y.minPointSize,x=g==="horizontal"?o:a,k=c?x.scale.domain():null,T=ede({numericAxis:x}),C=In(_,jd),S=f.map(function(E,P){var O,R,N,I,V,B;c?O=Gfe(c[u+P],k):(O=Ar(E,b),Array.isArray(O)||(O=[T,O]));var W=Vye(v,ZL.defaultProps.minPointSize)(O[1],P);if(g==="horizontal"){var H,U=[o.scale(O[0]),o.scale(O[1])],G=U[0],J=U[1];R=UP({axis:a,ticks:s,bandSize:i,offset:p.offset,entry:E,index:P}),N=(H=J??G)!==null&&H!==void 0?H:void 0,I=p.size;var oe=G-J;if(V=Number.isNaN(oe)?0:oe,B={x:R,y:o.y,width:I,height:o.height},Math.abs(W)>0&&Math.abs(V)<Math.abs(W)){var Y=Mr(V||W)*(Math.abs(W)-Math.abs(V));N-=Y,V+=Y}}else{var se=[a.scale(O[0]),a.scale(O[1])],Ee=se[0],Re=se[1];if(R=Ee,N=UP({axis:o,ticks:l,bandSize:i,offset:p.offset,entry:E,index:P}),I=Re-Ee,V=p.size,B={x:a.x,y:N,width:a.width,height:V},Math.abs(W)>0&&Math.abs(I)<Math.abs(W)){var Ze=Mr(I||W)*(Math.abs(W)-Math.abs(I));I+=Ze}}return Zt(Zt(Zt({},E),{},{x:R,y:N,width:I,height:V,value:c?O:O[1],payload:E,background:B},C&&C[P]&&C[P].props),{},{tooltipPayload:[SL(r,E)],tooltipPosition:{x:R+I/2,y:N+V/2}})});return Zt({data:S,layout:g},h)});function rd(t){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rd(t)}function Yye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,r4(n.key),n)}}function Qye(t,e,r){return e&&ZI(t.prototype,e),r&&ZI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function eO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eO(Object(r),!0).forEach(function(n){Ry(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ry(t,e,r){return e=r4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function r4(t){var e=Jye(t,"string");return rd(e)=="symbol"?e:String(e)}function Jye(t,e){if(rd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(rd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zye=function(e,r,n,i,a){var o=e.width,s=e.height,l=e.layout,c=e.children,u=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},h=!!an(c,Is);return u.reduce(function(p,g){var y=r[g],b=y.orientation,_=y.domain,v=y.padding,x=v===void 0?{}:v,k=y.mirror,T=y.reversed,C="".concat(b).concat(k?"Mirror":""),S,E,P,O,R;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var N=_[1]-_[0],I=1/0,V=y.categoricalDomain.sort();if(V.forEach(function(Ee,Re){Re>0&&(I=Math.min((Ee||0)-(V[Re-1]||0),I))}),Number.isFinite(I)){var B=I/N,W=y.layout==="vertical"?n.height:n.width;if(y.padding==="gap"&&(S=B*W/2),y.padding==="no-gap"){var H=$r(e.barCategoryGap,B*W),U=B*W/2;S=U-H-(U-H)/W*H}}}i==="xAxis"?E=[n.left+(x.left||0)+(S||0),n.left+n.width-(x.right||0)-(S||0)]:i==="yAxis"?E=l==="horizontal"?[n.top+n.height-(x.bottom||0),n.top+(x.top||0)]:[n.top+(x.top||0)+(S||0),n.top+n.height-(x.bottom||0)-(S||0)]:E=y.range,T&&(E=[E[1],E[0]]);var G=wL(y,a,h),J=G.scale,oe=G.realScaleType;J.domain(_).range(E),_L(J);var Y=kL(J,Fn(Fn({},y),{},{realScaleType:oe}));i==="xAxis"?(R=b==="top"&&!k||b==="bottom"&&k,P=n.left,O=f[C]-R*y.height):i==="yAxis"&&(R=b==="left"&&!k||b==="right"&&k,P=f[C]-R*y.width,O=n.top);var se=Fn(Fn(Fn({},y),Y),{},{realScaleType:oe,x:P,y:O,scale:J,width:i==="xAxis"?n.width:y.width,height:i==="yAxis"?n.height:y.height});return se.bandSize=Lm(se,Y),!y.hide&&i==="xAxis"?f[C]+=(R?-1:1)*se.height:y.hide||(f[C]+=(R?-1:1)*se.width),Fn(Fn({},p),{},Ry({},g,se))},{})},n4=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(i,o),width:Math.abs(a-n),height:Math.abs(o-i)}},eve=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return n4({x:r,y:n},{x:i,y:a})},i4=function(){function t(e){Yye(this,t),this.scale=e}return Qye(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}]),t}();Ry(i4,"EPS",1e-4);var Ak=function(e){var r=Object.keys(e).reduce(function(n,i){return Fn(Fn({},n),{},Ry({},i,i4.create(e[i])))},{});return Fn(Fn({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return xye(i,function(l,c){return r[c].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return JL(i,function(a,o){return r[o].isInRange(a)})}})};function tve(t){return(t%180+180)%180}var rve=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=tve(i),o=a*Math.PI/180,s=Math.atan(n/r),l=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},nve=Ei,ive=Rd,ave=fy;function ove(t){return function(e,r,n){var i=Object(e);if(!ive(e)){var a=nve(r);e=ave(e),r=function(s){return a(i[s],s,i)}}var o=t(e,r,n);return o>-1?i[a?e[o]:o]:void 0}}var sve=ove,lve=GL;function cve(t){var e=lve(t),r=e%1;return e===e?r?e-r:e:0}var uve=cve,fve=n$,dve=Ei,hve=uve,pve=Math.max;function mve(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:hve(r);return i<0&&(i=pve(n+i,0)),fve(t,dve(e),i)}var gve=mve,yve=sve,vve=gve,bve=yve(vve),xve=bve;const wve=it(xve);var _ve=zX(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),Pk=M.createContext(void 0),Ik=M.createContext(void 0),a4=M.createContext(void 0),o4=M.createContext({}),s4=M.createContext(void 0),l4=M.createContext(0),c4=M.createContext(0),tO=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,o=e.clipPathId,s=e.children,l=e.width,c=e.height,u=_ve(a);return L.createElement(Pk.Provider,{value:n},L.createElement(Ik.Provider,{value:i},L.createElement(o4.Provider,{value:a},L.createElement(a4.Provider,{value:u},L.createElement(s4.Provider,{value:o},L.createElement(l4.Provider,{value:c},L.createElement(c4.Provider,{value:l},s)))))))},kve=function(){return M.useContext(s4)},u4=function(e){var r=M.useContext(Pk);r==null&&ps();var n=r[e];return n==null&&ps(),n},Eve=function(){var e=M.useContext(Pk);return Da(e)},Sve=function(){var e=M.useContext(Ik),r=wve(e,function(n){return JL(n.domain,Number.isFinite)});return r||Da(e)},f4=function(e){var r=M.useContext(Ik);r==null&&ps();var n=r[e];return n==null&&ps(),n},Tve=function(){var e=M.useContext(a4);return e},Ave=function(){return M.useContext(o4)},Ok=function(){return M.useContext(c4)},Ck=function(){return M.useContext(l4)};function nd(t){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nd(t)}function rO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rO(Object(r),!0).forEach(function(n){Pve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pve(t,e,r){return e=Ive(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ive(t){var e=Ove(t,"string");return nd(e)=="symbol"?e:String(e)}function Ove(t,e){if(nd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cve(t,e){return Dve(t)||jve(t,e)||Rve(t,e)||Nve()}function Nve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rve(t,e){if(t){if(typeof t=="string")return iO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iO(t,e)}}function iO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function jve(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Dve(t){if(Array.isArray(t))return t}function Qx(){return Qx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qx.apply(this,arguments)}var Mve=function(e,r){var n;return L.isValidElement(e)?n=L.cloneElement(e,r):Ce(e)?n=e(r):n=L.createElement("line",Qx({},r,{className:"recharts-reference-line-line"})),n},$ve=function(e,r,n,i,a,o,s,l,c){var u=a.x,f=a.y,h=a.width,p=a.height;if(n){var g=c.y,y=e.y.apply(g,{position:o});if(vi(c,"discard")&&!e.y.isInRange(y))return null;var b=[{x:u+h,y},{x:u,y}];return l==="left"?b.reverse():b}if(r){var _=c.x,v=e.x.apply(_,{position:o});if(vi(c,"discard")&&!e.x.isInRange(v))return null;var x=[{x:v,y:f+p},{x:v,y:f}];return s==="top"?x.reverse():x}if(i){var k=c.segment,T=k.map(function(C){return e.apply(C,{position:o})});return vi(c,"discard")&&dye(T,function(C){return!e.isInRange(C)})?null:T}return null};function Nk(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,s=t.className,l=t.alwaysShow,c=kve(),u=u4(i),f=f4(a),h=Tve();if(!c||!h)return null;Hn(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Ak({x:u.scale,y:f.scale}),g=Qt(e),y=Qt(r),b=n&&n.length===2,_=$ve(p,g,y,b,h,t.position,u.orientation,f.orientation,t);if(!_)return null;var v=Cve(_,2),x=v[0],k=x.x,T=x.y,C=v[1],S=C.x,E=C.y,P=vi(t,"hidden")?"url(#".concat(c,")"):void 0,O=nO(nO({clipPath:P},Ae(t,!0)),{},{x1:k,y1:T,x2:S,y2:E});return L.createElement(rt,{className:je("recharts-reference-line",s)},Mve(o,O),nr.renderCallByParent(t,eve({x1:k,y1:T,x2:S,y2:E})))}Nk.displayName="ReferenceLine";Nk.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"};function id(t){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},id(t)}function Jx(){return Jx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jx.apply(this,arguments)}function aO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function oO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aO(Object(r),!0).forEach(function(n){Lve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lve(t,e,r){return e=Fve(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fve(t){var e=Vve(t,"string");return id(e)=="symbol"?e:String(e)}function Vve(t,e){if(id(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(id(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uve=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,o=Ak({x:i.scale,y:a.scale}),s=o.apply({x:r,y:n},{bandAware:!0});return vi(e,"discard")&&!o.isInRange(s)?null:s};function Fd(t){var e=t.x,r=t.y,n=t.r,i=t.alwaysShow,a=t.clipPathId,o=Qt(e),s=Qt(r);if(Hn(i===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!o||!s)return null;var l=Uve(t);if(!l)return null;var c=l.x,u=l.y,f=t.shape,h=t.className,p=vi(t,"hidden")?"url(#".concat(a,")"):void 0,g=oO(oO({clipPath:p},Ae(t,!0)),{},{cx:c,cy:u});return L.createElement(rt,{className:je("recharts-reference-dot",h)},Fd.renderDot(f,g),nr.renderCallByParent(t,{x:c-n,y:u-n,width:2*n,height:2*n}))}Fd.displayName="ReferenceDot";Fd.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1};Fd.renderDot=function(t,e){var r;return L.isValidElement(t)?r=L.cloneElement(t,e):Ce(t)?r=t(e):r=L.createElement(Tk,Jx({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r};function ad(t){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ad(t)}function Zx(){return Zx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zx.apply(this,arguments)}function sO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sO(Object(r),!0).forEach(function(n){Bve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bve(t,e,r){return e=zve(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zve(t){var e=Wve(t,"string");return ad(e)=="symbol"?e:String(e)}function Wve(t,e){if(ad(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ad(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qve=function(e,r,n,i,a){var o=a.x1,s=a.x2,l=a.y1,c=a.y2,u=a.xAxis,f=a.yAxis;if(!u||!f)return null;var h=Ak({x:u.scale,y:f.scale}),p={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(c,{position:"end"}):h.y.rangeMax};return vi(a,"discard")&&(!h.isInRange(p)||!h.isInRange(g))?null:n4(p,g)};function Vd(t){var e=t.x1,r=t.x2,n=t.y1,i=t.y2,a=t.className,o=t.alwaysShow,s=t.clipPathId;Hn(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var l=Qt(e),c=Qt(r),u=Qt(n),f=Qt(i),h=t.shape;if(!l&&!c&&!u&&!f&&!h)return null;var p=qve(l,c,u,f,t);if(!p&&!h)return null;var g=vi(t,"hidden")?"url(#".concat(s,")"):void 0;return L.createElement(rt,{className:je("recharts-reference-area",a)},Vd.renderRect(h,lO(lO({clipPath:g},Ae(t,!0)),p)),nr.renderCallByParent(t,p))}Vd.displayName="ReferenceArea";Vd.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1};Vd.renderRect=function(t,e){var r;return L.isValidElement(t)?r=L.cloneElement(t,e):Ce(t)?r=t(e):r=L.createElement(Sk,Zx({},e,{className:"recharts-reference-area-rect"})),r};function d4(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function Hve(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return rve(n,r)}function Kve(t,e,r){var n=r==="width",i=t.x,a=t.y,o=t.width,s=t.height;return e===1?{start:n?i:a,end:n?i+o:a+s}:{start:n?i+o:a+s,end:n?i:a}}function tg(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function Gve(t,e){return d4(t,e+1)}function Xve(t,e,r,n,i){for(var a=(n||[]).slice(),o=e.start,s=e.end,l=0,c=1,u=o,f=function(){var g=n==null?void 0:n[l];if(g===void 0)return{v:d4(n,c)};var y=l,b,_=function(){return b===void 0&&(b=r(g,y)),b},v=g.coordinate,x=l===0||tg(t,v,_,u,s);x||(l=0,u=o,c+=1),x&&(u=v+t*(_()/2+i),l+=c)},h;c<=a.length;)if(h=f(),h)return h.v;return[]}function od(t){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},od(t)}function cO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cO(Object(r),!0).forEach(function(n){Yve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yve(t,e,r){return e=Qve(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qve(t){var e=Jve(t,"string");return od(e)=="symbol"?e:String(e)}function Jve(t,e){if(od(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zve(t,e,r,n,i){for(var a=(n||[]).slice(),o=a.length,s=e.start,l=e.end,c=function(h){var p=a[h],g,y=function(){return g===void 0&&(g=r(p,h)),g};if(h===o-1){var b=t*(p.coordinate+t*y()/2-l);a[h]=p=wr(wr({},p),{},{tickCoord:b>0?p.coordinate-b*t:p.coordinate})}else a[h]=p=wr(wr({},p),{},{tickCoord:p.coordinate});var _=tg(t,p.tickCoord,y,s,l);_&&(l=p.tickCoord-t*(y()/2+i),a[h]=wr(wr({},p),{},{isShow:!0}))},u=o-1;u>=0;u--)c(u);return a}function e0e(t,e,r,n,i,a){var o=(n||[]).slice(),s=o.length,l=e.start,c=e.end;if(a){var u=n[s-1],f=r(u,s-1),h=t*(u.coordinate+t*f/2-c);o[s-1]=u=wr(wr({},u),{},{tickCoord:h>0?u.coordinate-h*t:u.coordinate});var p=tg(t,u.tickCoord,function(){return f},l,c);p&&(c=u.tickCoord-t*(f/2+i),o[s-1]=wr(wr({},u),{},{isShow:!0}))}for(var g=a?s-1:s,y=function(v){var x=o[v],k,T=function(){return k===void 0&&(k=r(x,v)),k};if(v===0){var C=t*(x.coordinate-t*T()/2-l);o[v]=x=wr(wr({},x),{},{tickCoord:C<0?x.coordinate-C*t:x.coordinate})}else o[v]=x=wr(wr({},x),{},{tickCoord:x.coordinate});var S=tg(t,x.tickCoord,T,l,c);S&&(l=x.tickCoord+t*(T()/2+i),o[v]=wr(wr({},x),{},{isShow:!0}))},b=0;b<g;b++)y(b);return o}function Rk(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,s=t.orientation,l=t.interval,c=t.tickFormatter,u=t.unit,f=t.angle;if(!i||!i.length||!n)return[];if(le(l)||Ki.isSsr)return Gve(i,typeof l=="number"&&le(l)?l:0);var h=[],p=s==="top"||s==="bottom"?"width":"height",g=u&&p==="width"?Uu(u,{fontSize:e,letterSpacing:r}):{width:0,height:0},y=function(x,k){var T=Ce(c)?c(x.value,k):x.value;return p==="width"?Hve(Uu(T,{fontSize:e,letterSpacing:r}),g,f):Uu(T,{fontSize:e,letterSpacing:r})[p]},b=i.length>=2?Mr(i[1].coordinate-i[0].coordinate):1,_=Kve(a,b,p);return l==="equidistantPreserveStart"?Xve(b,_,y,i,o):(l==="preserveStart"||l==="preserveStartEnd"?h=e0e(b,_,y,i,o,l==="preserveStartEnd"):h=Zve(b,_,y,i,o),h.filter(function(v){return v.isShow}))}var t0e=["viewBox"],r0e=["viewBox"],n0e=["ticks"];function nc(t){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nc(t)}function dl(){return dl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dl.apply(this,arguments)}function uO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Nr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uO(Object(r),!0).forEach(function(n){jk(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function u0(t,e){if(t==null)return{};var r=i0e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function i0e(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function a0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,p4(n.key),n)}}function o0e(t,e,r){return e&&fO(t.prototype,e),r&&fO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function s0e(t,e,r){return e=rg(e),l0e(t,h4()?Reflect.construct(e,r||[],rg(t).constructor):e.apply(t,r))}function l0e(t,e){if(e&&(nc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c0e(t)}function c0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h4=function(){return!!t})()}function rg(t){return rg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rg(t)}function u0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ew(t,e)}function ew(t,e){return ew=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ew(t,e)}function jk(t,e,r){return e=p4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function p4(t){var e=f0e(t,"string");return nc(e)=="symbol"?e:String(e)}function f0e(t,e){if(nc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pc=function(t){u0e(e,t);function e(r){var n;return a0e(this,e),n=s0e(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return o0e(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,o=u0(n,t0e),s=this.props,l=s.viewBox,c=u0(s,r0e);return!Sl(a,l)||!Sl(o,c)||!Sl(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,c=i.orientation,u=i.tickSize,f=i.mirror,h=i.tickMargin,p,g,y,b,_,v,x=f?-1:1,k=n.tickSize||u,T=le(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":p=g=n.coordinate,b=o+ +!f*l,y=b-x*k,v=y-x*h,_=T;break;case"left":y=b=n.coordinate,g=a+ +!f*s,p=g-x*k,_=p-x*h,v=T;break;case"right":y=b=n.coordinate,g=a+ +f*s,p=g+x*k,_=p+x*h,v=T;break;default:p=g=n.coordinate,b=o+ +f*l,y=b+x*k,v=y+x*h,_=T;break}return{line:{x1:p,y1:y,x2:g,y2:b},tick:{x:_,y:v}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.orientation,c=n.mirror,u=n.axisLine,f=Nr(Nr(Nr({},Ae(this.props,!1)),Ae(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);f=Nr(Nr({},f),{},{x1:i,y1:a+h*s,x2:i+o,y2:a+h*s})}else{var p=+(l==="left"&&!c||l==="right"&&c);f=Nr(Nr({},f),{},{x1:i+p*o,y1:a,x2:i+p*o,y2:a+s})}return L.createElement("line",dl({},f,{className:je("recharts-cartesian-axis-line",fn(u,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var o=this,s=this.props,l=s.tickLine,c=s.stroke,u=s.tick,f=s.tickFormatter,h=s.unit,p=Rk(Nr(Nr({},this.props),{},{ticks:n}),i,a),g=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),b=Ae(this.props,!1),_=Ae(u,!1),v=Nr(Nr({},b),{},{fill:"none"},Ae(l,!1)),x=p.map(function(k,T){var C=o.getTickLineCoord(k),S=C.line,E=C.tick,P=Nr(Nr(Nr(Nr({textAnchor:g,verticalAnchor:y},b),{},{stroke:"none",fill:c},_),E),{},{index:T,payload:k,visibleTicksCount:p.length,tickFormatter:f});return L.createElement(rt,dl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(k.value,"-").concat(k.coordinate,"-").concat(k.tickCoord)},fs(o.props,k,T)),l&&L.createElement("line",dl({},v,S,{className:je("recharts-cartesian-axis-tick-line",fn(l,"className"))})),u&&e.renderTickItem(u,P,"".concat(Ce(f)?f(k.value,T):k.value).concat(h||"")))});return L.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var f=this.props,h=f.ticks,p=u0(f,n0e),g=h;return Ce(l)&&(g=h&&h.length>0?l(this.props):l(p)),o<=0||s<=0||!g||!g.length?null:L.createElement(rt,{className:je("recharts-cartesian-axis",c),ref:function(b){n.layerReference=b}},a&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),nr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var o;return L.isValidElement(n)?o=L.cloneElement(n,i):Ce(n)?o=n(i):o=L.createElement(ds,dl({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}]),e}(M.Component);jk(Pc,"displayName","CartesianAxis");jk(Pc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var d0e=["x1","y1","x2","y2","key"],h0e=["offset"];function ms(t){"@babel/helpers - typeof";return ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ms(t)}function dO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Tr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dO(Object(r),!0).forEach(function(n){p0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function p0e(t,e,r){return e=m0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function m0e(t){var e=g0e(t,"string");return ms(e)=="symbol"?e:String(e)}function g0e(t,e){if(ms(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ms(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qo(){return qo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qo.apply(this,arguments)}function hO(t,e){if(t==null)return{};var r=y0e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function y0e(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var v0e=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height;return L.createElement("rect",{x:i,y:a,width:o,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function m4(t,e){var r;if(L.isValidElement(t))r=L.cloneElement(t,e);else if(Ce(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,o=e.y2,s=e.key,l=hO(e,d0e),c=Ae(l,!1);c.offset;var u=hO(c,h0e);r=L.createElement("line",qo({},u,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:s}))}return r}function b0e(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var c=Tr(Tr({},t),{},{x1:e,y1:s,x2:e+r,y2:s,key:"line-".concat(l),index:l});return m4(i,c)});return L.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function x0e(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var c=Tr(Tr({},t),{},{x1:s,y1:e,x2:s,y2:e+r,key:"line-".concat(l),index:l});return m4(i,c)});return L.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function w0e(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,o=t.height,s=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var u=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==u[0]&&u.unshift(0);var f=u.map(function(h,p){var g=!u[p+1],y=g?i+o-h:u[p+1]-h;if(y<=0)return null;var b=p%e.length;return L.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:y,width:a,stroke:"none",fill:e[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function _0e(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,s=t.width,l=t.height,c=t.verticalPoints;if(!r||!n||!n.length)return null;var u=c.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==u[0]&&u.unshift(0);var f=u.map(function(h,p){var g=!u[p+1],y=g?a+s-h:u[p+1]-h;if(y<=0)return null;var b=p%n.length;return L.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:y,height:l,stroke:"none",fill:n[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var k0e=function(e,r){var n=e.xAxis,i=e.width,a=e.height,o=e.offset;return xL(Rk(Tr(Tr(Tr({},Pc.defaultProps),n),{},{ticks:Bi(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,r)},E0e=function(e,r){var n=e.yAxis,i=e.width,a=e.height,o=e.offset;return xL(Rk(Tr(Tr(Tr({},Pc.defaultProps),n),{},{ticks:Bi(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,r)},zs={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function g4(t){var e,r,n,i,a,o,s=Ok(),l=Ck(),c=Ave(),u=Tr(Tr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:zs.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:zs.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:zs.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:zs.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:zs.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:zs.verticalFill,x:le(t.x)?t.x:c.left,y:le(t.y)?t.y:c.top,width:le(t.width)?t.width:c.width,height:le(t.height)?t.height:c.height}),f=u.x,h=u.y,p=u.width,g=u.height,y=u.syncWithTicks,b=u.horizontalValues,_=u.verticalValues,v=Eve(),x=Sve();if(!le(p)||p<=0||!le(g)||g<=0||!le(f)||f!==+f||!le(h)||h!==+h)return null;var k=u.verticalCoordinatesGenerator||k0e,T=u.horizontalCoordinatesGenerator||E0e,C=u.horizontalPoints,S=u.verticalPoints;if((!C||!C.length)&&Ce(T)){var E=b&&b.length,P=T({yAxis:x?Tr(Tr({},x),{},{ticks:E?b:x.ticks}):void 0,width:s,height:l,offset:c},E?!0:y);Hn(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ms(P),"]")),Array.isArray(P)&&(C=P)}if((!S||!S.length)&&Ce(k)){var O=_&&_.length,R=k({xAxis:v?Tr(Tr({},v),{},{ticks:O?_:v.ticks}):void 0,width:s,height:l,offset:c},O?!0:y);Hn(Array.isArray(R),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ms(R),"]")),Array.isArray(R)&&(S=R)}return L.createElement("g",{className:"recharts-cartesian-grid"},L.createElement(v0e,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height}),L.createElement(b0e,qo({},u,{offset:c,horizontalPoints:C,xAxis:v,yAxis:x})),L.createElement(x0e,qo({},u,{offset:c,verticalPoints:S,xAxis:v,yAxis:x})),L.createElement(w0e,qo({},u,{horizontalPoints:C})),L.createElement(_0e,qo({},u,{verticalPoints:S})))}g4.displayName="CartesianGrid";function tw(){return tw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tw.apply(this,arguments)}var jy=function(e){var r=e.xAxisId,n=Ok(),i=Ck(),a=u4(r);return a==null?null:L.createElement(Pc,tw({},a,{className:je("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(s){return Bi(s,!0)}}))};jy.displayName="XAxis";jy.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};function rw(){return rw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rw.apply(this,arguments)}var Dy=function(e){var r=e.yAxisId,n=Ok(),i=Ck(),a=f4(r);return a==null?null:L.createElement(Pc,rw({},a,{className:je("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(s){return Bi(s,!0)}}))};Dy.displayName="YAxis";Dy.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};function pO(t){return P0e(t)||A0e(t)||T0e(t)||S0e()}function S0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T0e(t,e){if(t){if(typeof t=="string")return nw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nw(t,e)}}function A0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function P0e(t){if(Array.isArray(t))return nw(t)}function nw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var iw=function(e,r,n,i,a){var o=In(e,Nk),s=In(e,Fd),l=[].concat(pO(o),pO(s)),c=In(e,Vd),u="".concat(i,"Id"),f=i[0],h=r;if(l.length&&(h=l.reduce(function(y,b){if(b.props[u]===n&&vi(b.props,"extendDomain")&&le(b.props[f])){var _=b.props[f];return[Math.min(y[0],_),Math.max(y[1],_)]}return y},h)),c.length){var p="".concat(f,"1"),g="".concat(f,"2");h=c.reduce(function(y,b){if(b.props[u]===n&&vi(b.props,"extendDomain")&&le(b.props[p])&&le(b.props[g])){var _=b.props[p],v=b.props[g];return[Math.min(y[0],_,v),Math.max(y[1],_,v)]}return y},h)}return a&&a.length&&(h=a.reduce(function(y,b){return le(b)?[Math.min(y[0],b),Math.max(y[1],b)]:y},h)),h},y4={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function a(l,c,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,f||l,h),g=r?r+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)e.call(u,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},s.prototype.listeners=function(c){var u=r?r+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,g=new Array(p);h<p;h++)g[h]=f[h].fn;return g},s.prototype.listenerCount=function(c){var u=r?r+c:c,f=this._events[u];return f?f.fn?1:f.length:0},s.prototype.emit=function(c,u,f,h,p,g){var y=r?r+c:c;if(!this._events[y])return!1;var b=this._events[y],_=arguments.length,v,x;if(b.fn){switch(b.once&&this.removeListener(c,b.fn,void 0,!0),_){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,u),!0;case 3:return b.fn.call(b.context,u,f),!0;case 4:return b.fn.call(b.context,u,f,h),!0;case 5:return b.fn.call(b.context,u,f,h,p),!0;case 6:return b.fn.call(b.context,u,f,h,p,g),!0}for(x=1,v=new Array(_-1);x<_;x++)v[x-1]=arguments[x];b.fn.apply(b.context,v)}else{var k=b.length,T;for(x=0;x<k;x++)switch(b[x].once&&this.removeListener(c,b[x].fn,void 0,!0),_){case 1:b[x].fn.call(b[x].context);break;case 2:b[x].fn.call(b[x].context,u);break;case 3:b[x].fn.call(b[x].context,u,f);break;case 4:b[x].fn.call(b[x].context,u,f,h);break;default:if(!v)for(T=1,v=new Array(_-1);T<_;T++)v[T-1]=arguments[T];b[x].fn.apply(b[x].context,v)}}return!0},s.prototype.on=function(c,u,f){return a(this,c,u,f,!1)},s.prototype.once=function(c,u,f){return a(this,c,u,f,!0)},s.prototype.removeListener=function(c,u,f,h){var p=r?r+c:c;if(!this._events[p])return this;if(!u)return o(this,p),this;var g=this._events[p];if(g.fn)g.fn===u&&(!h||g.once)&&(!f||g.context===f)&&o(this,p);else{for(var y=0,b=[],_=g.length;y<_;y++)(g[y].fn!==u||h&&!g[y].once||f&&g[y].context!==f)&&b.push(g[y]);b.length?this._events[p]=b.length===1?b[0]:b:o(this,p)}return this},s.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,t.exports=s})(y4);var I0e=y4.exports;const O0e=it(I0e);var f0=new O0e,d0="recharts.syncMouseEvents";function sd(t){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sd(t)}function C0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N0e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,v4(n.key),n)}}function R0e(t,e,r){return e&&N0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function h0(t,e,r){return e=v4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function v4(t){var e=j0e(t,"string");return sd(e)=="symbol"?e:String(e)}function j0e(t,e){if(sd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var D0e=function(){function t(){C0e(this,t),h0(this,"activeIndex",0),h0(this,"coordinateList",[]),h0(this,"layout","horizontal")}return R0e(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,o=r.container,s=o===void 0?null:o,l=r.layout,c=l===void 0?null:l,u=r.offset,f=u===void 0?null:u,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=a+l+c,h=o+this.offset.top+s/2+u;this.mouseHandlerCallback({pageX:f,pageY:h})}}}]),t}();function M0e(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&le(n)&&le(i))return!0}return!1}function $0e(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function b4(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,o=pt(e,r,n,i),s=pt(e,r,n,a);return{points:[o,s],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function L0e(t,e,r){var n,i,a,o;if(t==="horizontal")n=e.x,a=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,c=e.innerRadius,u=e.outerRadius,f=e.angle,h=pt(s,l,c,f),p=pt(s,l,u,f);n=h.x,i=h.y,a=p.x,o=p.y}else return b4(e);return[{x:n,y:i},{x:a,y:o}]}function ld(t){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ld(t)}function mO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Uh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mO(Object(r),!0).forEach(function(n){F0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function F0e(t,e,r){return e=V0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function V0e(t){var e=U0e(t,"string");return ld(e)=="symbol"?e:String(e)}function U0e(t,e){if(ld(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function B0e(t){var e=t.element,r=t.tooltipEventType,n=t.isActive,i=t.activeCoordinate,a=t.activePayload,o=t.offset,s=t.activeTooltipIndex,l=t.tooltipAxisBandSize,c=t.layout,u=t.chartName;if(!e||!e.props.cursor||!n||!i||u!=="ScatterChart"&&r!=="axis")return null;var f,h=Nx;if(u==="ScatterChart")f=i,h=rme;else if(u==="BarChart")f=$0e(c,i,o,l),h=Sk;else if(c==="radial"){var p=b4(i),g=p.cx,y=p.cy,b=p.radius,_=p.startAngle,v=p.endAngle;f={cx:g,cy:y,startAngle:_,endAngle:v,innerRadius:b,outerRadius:b},h=CL}else f={points:L0e(c,i,o)},h=Nx;var x=Uh(Uh(Uh(Uh({stroke:"#ccc",pointerEvents:"none"},o),f),Ae(e.props.cursor,!1)),{},{payload:a,payloadIndex:s,className:je("recharts-tooltip-cursor",e.props.cursor.className)});return M.isValidElement(e.props.cursor)?M.cloneElement(e.props.cursor,x):M.createElement(h,x)}var z0e=["item"],W0e=["children","className","width","height","style","compact","title","desc"];function ic(t){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ic(t)}function Ku(){return Ku=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ku.apply(this,arguments)}function gO(t,e){return K0e(t)||H0e(t,e)||w4(t,e)||q0e()}function q0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H0e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function K0e(t){if(Array.isArray(t))return t}function yO(t,e){if(t==null)return{};var r=G0e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function G0e(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function X0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y0e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_4(n.key),n)}}function Q0e(t,e,r){return e&&Y0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function J0e(t,e,r){return e=ng(e),Z0e(t,x4()?Reflect.construct(e,r||[],ng(t).constructor):e.apply(t,r))}function Z0e(t,e){if(e&&(ic(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ge(t)}function x4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x4=function(){return!!t})()}function ng(t){return ng=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ng(t)}function Ge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ebe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aw(t,e)}function aw(t,e){return aw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},aw(t,e)}function ac(t){return nbe(t)||rbe(t)||w4(t)||tbe()}function tbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w4(t,e){if(t){if(typeof t=="string")return ow(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ow(t,e)}}function rbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nbe(t){if(Array.isArray(t))return ow(t)}function ow(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ee(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vO(Object(r),!0).forEach(function(n){Se(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Se(t,e,r){return e=_4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _4(t){var e=ibe(t,"string");return ic(e)=="symbol"?e:String(e)}function ibe(t,e){if(ic(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var abe={xAxis:["bottom","top"],yAxis:["left","right"]},obe={width:"100%",height:"100%"},k4={x:0,y:0};function Bh(t){return t}var sbe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},lbe=function(e,r,n,i){var a=r.find(function(u){return u&&u.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,s=i.radius;return ee(ee(ee({},i),pt(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,c=i.angle;return ee(ee(ee({},i),pt(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return k4},My=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(ac(s),ac(c)):s},[]);return o.length>0?o:e&&e.length&&le(i)&&le(a)?e.slice(i,a+1):[]};function E4(t){return t==="number"?[0,"auto"]:void 0}var sw=function(e,r,n,i){var a=e.graphicalItems,o=e.tooltipAxis,s=My(r,e);return n<0||!a||!a.length||n>=s.length?null:a.reduce(function(l,c){var u,f=(u=c.props.data)!==null&&u!==void 0?u:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?s:f;h=Vb(p,o.dataKey,i)}else h=f&&f[n]||s[n];return h?[].concat(ac(l),[SL(c,h)]):l},[])},bO=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},o=sbe(a,n),s=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,u=Ufe(o,s,c,l);if(u>=0&&c){var f=c[u]&&c[u].value,h=sw(e,r,u,f),p=lbe(n,s,u,a);return{activeTooltipIndex:u,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},cbe=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.layout,f=e.children,h=e.stackOffset,p=bL(u,a);return n.reduce(function(g,y){var b,_=y.props,v=_.type,x=_.dataKey,k=_.allowDataOverflow,T=_.allowDuplicatedCategory,C=_.scale,S=_.ticks,E=_.includeHidden,P=y.props[o];if(g[P])return g;var O=My(e.data,{graphicalItems:i.filter(function(Y){return Y.props[o]===P}),dataStartIndex:l,dataEndIndex:c}),R=O.length,N,I,V;M0e(y.props.domain,k,v)&&(N=Ax(y.props.domain,null,k),p&&(v==="number"||C!=="auto")&&(V=zu(O,x,"category")));var B=E4(v);if(!N||N.length===0){var W,H=(W=y.props.domain)!==null&&W!==void 0?W:B;if(x){if(N=zu(O,x,v),v==="category"&&p){var U=BY(N);T&&U?(I=N,N=Ym(0,R)):T||(N=WP(H,N,y).reduce(function(Y,se){return Y.indexOf(se)>=0?Y:[].concat(ac(Y),[se])},[]))}else if(v==="category")T?N=N.filter(function(Y){return Y!==""&&!Me(Y)}):N=WP(H,N,y).reduce(function(Y,se){return Y.indexOf(se)>=0||se===""||Me(se)?Y:[].concat(ac(Y),[se])},[]);else if(v==="number"){var G=Hfe(O,i.filter(function(Y){return Y.props[o]===P&&(E||!Y.props.hide)}),x,a,u);G&&(N=G)}p&&(v==="number"||C!=="auto")&&(V=zu(O,x,"category"))}else p?N=Ym(0,R):s&&s[P]&&s[P].hasStack&&v==="number"?N=h==="expand"?[0,1]:EL(s[P].stackGroups,l,c):N=vL(O,i.filter(function(Y){return Y.props[o]===P&&(E||!Y.props.hide)}),v,u,!0);if(v==="number")N=iw(f,N,P,a,S),H&&(N=Ax(H,N,k));else if(v==="category"&&H){var J=H,oe=N.every(function(Y){return J.indexOf(Y)>=0});oe&&(N=J)}}return ee(ee({},g),{},Se({},P,ee(ee({},y.props),{},{axisType:a,domain:N,categoricalDomain:V,duplicateDomain:I,originalDomain:(b=y.props.domain)!==null&&b!==void 0?b:B,isCategorical:p,layout:u})))},{})},ube=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.layout,f=e.children,h=My(e.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),p=h.length,g=bL(u,a),y=-1;return n.reduce(function(b,_){var v=_.props[o],x=E4("number");if(!b[v]){y++;var k;return g?k=Ym(0,p):s&&s[v]&&s[v].hasStack?(k=EL(s[v].stackGroups,l,c),k=iw(f,k,v,a)):(k=Ax(x,vL(h,n.filter(function(T){return T.props[o]===v&&!T.props.hide}),"number",u),i.defaultProps.allowDataOverflow),k=iw(f,k,v,a)),ee(ee({},b),{},Se({},v,ee(ee({axisType:a},i.defaultProps),{},{hide:!0,orientation:fn(abe,"".concat(a,".").concat(y%2),null),domain:k,originalDomain:x,isCategorical:g,layout:u})))}return b},{})},fbe=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.children,f="".concat(i,"Id"),h=In(u,a),p={};return h&&h.length?p=cbe(e,{axes:h,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):o&&o.length&&(p=ube(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),p},dbe=function(e){var r=Da(e),n=Bi(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Q1(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Lm(r,n)}},xO=function(e){var r=e.children,n=e.defaultShowTooltip,i=an(r,tc),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},hbe=function(e){return!e||!e.length?!1:e.some(function(r){var n=Hi(r&&r.type);return n&&n.indexOf("Bar")>=0})},wO=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},pbe=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,s=e.yAxisMap,l=s===void 0?{}:s,c=n.width,u=n.height,f=n.children,h=n.margin||{},p=an(f,tc),g=an(f,Tf),y=Object.keys(l).reduce(function(T,C){var S=l[C],E=S.orientation;return!S.mirror&&!S.hide?ee(ee({},T),{},Se({},E,T[E]+S.width)):T},{left:h.left||0,right:h.right||0}),b=Object.keys(o).reduce(function(T,C){var S=o[C],E=S.orientation;return!S.mirror&&!S.hide?ee(ee({},T),{},Se({},E,fn(T,"".concat(E))+S.height)):T},{top:h.top||0,bottom:h.bottom||0}),_=ee(ee({},b),y),v=_.bottom;p&&(_.bottom+=p.props.height||tc.defaultProps.height),g&&r&&(_=Wfe(_,i,n,r));var x=c-_.left-_.right,k=u-_.top-_.bottom;return ee(ee({brushBottom:v},_),{},{width:Math.max(x,0),height:Math.max(k,0)})},mbe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},S4=function(e){var r,n=e.chartName,i=e.GraphicalChild,a=e.defaultTooltipEventType,o=a===void 0?"axis":a,s=e.validateTooltipEventTypes,l=s===void 0?["axis"]:s,c=e.axisComponents,u=e.legendContent,f=e.formatAxisMap,h=e.defaultProps,p=function(b,_){var v=_.graphicalItems,x=_.stackGroups,k=_.offset,T=_.updateId,C=_.dataStartIndex,S=_.dataEndIndex,E=b.barSize,P=b.layout,O=b.barGap,R=b.barCategoryGap,N=b.maxBarSize,I=wO(P),V=I.numericAxisName,B=I.cateAxisName,W=hbe(v),H=[];return v.forEach(function(U,G){var J=My(b.data,{graphicalItems:[U],dataStartIndex:C,dataEndIndex:S}),oe=U.props,Y=oe.dataKey,se=oe.maxBarSize,Ee=U.props["".concat(V,"Id")],Re=U.props["".concat(B,"Id")],Ze={},Ve=c.reduce(function(F,X){var Z=_["".concat(X.axisType,"Map")],ne=U.props["".concat(X.axisType,"Id")];Z&&Z[ne]||X.axisType==="zAxis"||ps();var de=Z[ne];return ee(ee({},F),{},Se(Se({},X.axisType,de),"".concat(X.axisType,"Ticks"),Bi(de)))},Ze),Mt=Ve[B],ce=Ve["".concat(B,"Ticks")],xe=x&&x[Ee]&&x[Ee].hasStack&&tde(U,x[Ee].stackGroups),_e=Hi(U.type).indexOf("Bar")>=0,Q=Lm(Mt,ce),Ue=[],re=W&&Bfe({barSize:E,stackGroups:x,totalSize:mbe(Ve,B)});if(_e){var ge,be,ke=Me(se)?N:se,j=(ge=(be=Lm(Mt,ce,!0))!==null&&be!==void 0?be:ke)!==null&&ge!==void 0?ge:0;Ue=zfe({barGap:O,barCategoryGap:R,bandSize:j!==Q?j:Q,sizeList:re[Re],maxBarSize:ke}),j!==Q&&(Ue=Ue.map(function(F){return ee(ee({},F),{},{position:ee(ee({},F.position),{},{offset:F.position.offset-j/2})})}))}var $=U&&U.type&&U.type.getComposedData;$&&H.push({props:ee(ee({},$(ee(ee({},Ve),{},{displayedData:J,props:b,dataKey:Y,item:U,bandSize:Q,barPosition:Ue,offset:k,stackedData:xe,layout:P,dataStartIndex:C,dataEndIndex:S}))),{},Se(Se(Se({key:U.key||"item-".concat(G)},V,Ve[V]),B,Ve[B]),"animationId",T)),childIndex:ZY(U,b.children),item:U})}),H},g=function(b,_){var v=b.props,x=b.dataStartIndex,k=b.dataEndIndex,T=b.updateId;if(!LA({props:v}))return null;var C=v.children,S=v.layout,E=v.stackOffset,P=v.data,O=v.reverseStackOrder,R=wO(S),N=R.numericAxisName,I=R.cateAxisName,V=In(C,i),B=Zfe(P,V,"".concat(N,"Id"),"".concat(I,"Id"),E,O),W=c.reduce(function(oe,Y){var se="".concat(Y.axisType,"Map");return ee(ee({},oe),{},Se({},se,fbe(v,ee(ee({},Y),{},{graphicalItems:V,stackGroups:Y.axisType===N&&B,dataStartIndex:x,dataEndIndex:k}))))},{}),H=pbe(ee(ee({},W),{},{props:v,graphicalItems:V}),_==null?void 0:_.legendBBox);Object.keys(W).forEach(function(oe){W[oe]=f(v,W[oe],H,oe.replace("Map",""),n)});var U=W["".concat(I,"Map")],G=dbe(U),J=p(v,ee(ee({},W),{},{dataStartIndex:x,dataEndIndex:k,updateId:T,graphicalItems:V,stackGroups:B,offset:H}));return ee(ee({formattedGraphicalItems:J,graphicalItems:V,offset:H,stackGroups:B},G),W)};return r=function(y){ebe(b,y);function b(_){var v,x,k;return X0e(this,b),k=J0e(this,b,[_]),Se(Ge(k),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Se(Ge(k),"accessibilityManager",new D0e),Se(Ge(k),"handleLegendBBoxUpdate",function(T){if(T){var C=k.state,S=C.dataStartIndex,E=C.dataEndIndex,P=C.updateId;k.setState(ee({legendBBox:T},g({props:k.props,dataStartIndex:S,dataEndIndex:E,updateId:P},ee(ee({},k.state),{},{legendBBox:T}))))}}),Se(Ge(k),"handleReceiveSyncEvent",function(T,C,S){if(k.props.syncId===T){if(S===k.eventEmitterSymbol&&typeof k.props.syncMethod!="function")return;k.applySyncEvent(C)}}),Se(Ge(k),"handleBrushChange",function(T){var C=T.startIndex,S=T.endIndex;if(C!==k.state.dataStartIndex||S!==k.state.dataEndIndex){var E=k.state.updateId;k.setState(function(){return ee({dataStartIndex:C,dataEndIndex:S},g({props:k.props,dataStartIndex:C,dataEndIndex:S,updateId:E},k.state))}),k.triggerSyncEvent({dataStartIndex:C,dataEndIndex:S})}}),Se(Ge(k),"handleMouseEnter",function(T){var C=k.getMouseInfo(T);if(C){var S=ee(ee({},C),{},{isTooltipActive:!0});k.setState(S),k.triggerSyncEvent(S);var E=k.props.onMouseEnter;Ce(E)&&E(S,T)}}),Se(Ge(k),"triggeredAfterMouseMove",function(T){var C=k.getMouseInfo(T),S=C?ee(ee({},C),{},{isTooltipActive:!0}):{isTooltipActive:!1};k.setState(S),k.triggerSyncEvent(S);var E=k.props.onMouseMove;Ce(E)&&E(S,T)}),Se(Ge(k),"handleItemMouseEnter",function(T){k.setState(function(){return{isTooltipActive:!0,activeItem:T,activePayload:T.tooltipPayload,activeCoordinate:T.tooltipPosition||{x:T.cx,y:T.cy}}})}),Se(Ge(k),"handleItemMouseLeave",function(){k.setState(function(){return{isTooltipActive:!1}})}),Se(Ge(k),"handleMouseMove",function(T){T.persist(),k.throttleTriggeredAfterMouseMove(T)}),Se(Ge(k),"handleMouseLeave",function(T){k.throttleTriggeredAfterMouseMove.cancel();var C={isTooltipActive:!1};k.setState(C),k.triggerSyncEvent(C);var S=k.props.onMouseLeave;Ce(S)&&S(C,T)}),Se(Ge(k),"handleOuterEvent",function(T){var C=JY(T),S=fn(k.props,"".concat(C));if(C&&Ce(S)){var E,P;/.*touch.*/i.test(C)?P=k.getMouseInfo(T.changedTouches[0]):P=k.getMouseInfo(T),S((E=P)!==null&&E!==void 0?E:{},T)}}),Se(Ge(k),"handleClick",function(T){var C=k.getMouseInfo(T);if(C){var S=ee(ee({},C),{},{isTooltipActive:!0});k.setState(S),k.triggerSyncEvent(S);var E=k.props.onClick;Ce(E)&&E(S,T)}}),Se(Ge(k),"handleMouseDown",function(T){var C=k.props.onMouseDown;if(Ce(C)){var S=k.getMouseInfo(T);C(S,T)}}),Se(Ge(k),"handleMouseUp",function(T){var C=k.props.onMouseUp;if(Ce(C)){var S=k.getMouseInfo(T);C(S,T)}}),Se(Ge(k),"handleTouchMove",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&k.throttleTriggeredAfterMouseMove(T.changedTouches[0])}),Se(Ge(k),"handleTouchStart",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&k.handleMouseDown(T.changedTouches[0])}),Se(Ge(k),"handleTouchEnd",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&k.handleMouseUp(T.changedTouches[0])}),Se(Ge(k),"triggerSyncEvent",function(T){k.props.syncId!==void 0&&f0.emit(d0,k.props.syncId,T,k.eventEmitterSymbol)}),Se(Ge(k),"applySyncEvent",function(T){var C=k.props,S=C.layout,E=C.syncMethod,P=k.state.updateId,O=T.dataStartIndex,R=T.dataEndIndex;if(T.dataStartIndex!==void 0||T.dataEndIndex!==void 0)k.setState(ee({dataStartIndex:O,dataEndIndex:R},g({props:k.props,dataStartIndex:O,dataEndIndex:R,updateId:P},k.state)));else if(T.activeTooltipIndex!==void 0){var N=T.chartX,I=T.chartY,V=T.activeTooltipIndex,B=k.state,W=B.offset,H=B.tooltipTicks;if(!W)return;if(typeof E=="function")V=E(H,T);else if(E==="value"){V=-1;for(var U=0;U<H.length;U++)if(H[U].value===T.activeLabel){V=U;break}}var G=ee(ee({},W),{},{x:W.left,y:W.top}),J=Math.min(N,G.x+G.width),oe=Math.min(I,G.y+G.height),Y=H[V]&&H[V].value,se=sw(k.state,k.props.data,V),Ee=H[V]?{x:S==="horizontal"?H[V].coordinate:J,y:S==="horizontal"?oe:H[V].coordinate}:k4;k.setState(ee(ee({},T),{},{activeLabel:Y,activeCoordinate:Ee,activePayload:se,activeTooltipIndex:V}))}else k.setState(T)}),Se(Ge(k),"renderCursor",function(T){var C,S=k.state,E=S.isTooltipActive,P=S.activeCoordinate,O=S.activePayload,R=S.offset,N=S.activeTooltipIndex,I=S.tooltipAxisBandSize,V=k.getTooltipEventType(),B=(C=T.props.active)!==null&&C!==void 0?C:E,W=k.props.layout,H=T.key||"_recharts-cursor";return L.createElement(B0e,{key:H,activeCoordinate:P,activePayload:O,activeTooltipIndex:N,chartName:n,element:T,isActive:B,layout:W,offset:R,tooltipAxisBandSize:I,tooltipEventType:V})}),Se(Ge(k),"renderPolarAxis",function(T,C,S){var E=fn(T,"type.axisType"),P=fn(k.state,"".concat(E,"Map")),O=P&&P[T.props["".concat(E,"Id")]];return M.cloneElement(T,ee(ee({},O),{},{className:je(E,O.className),key:T.key||"".concat(C,"-").concat(S),ticks:Bi(O,!0)}))}),Se(Ge(k),"renderPolarGrid",function(T){var C=T.props,S=C.radialLines,E=C.polarAngles,P=C.polarRadius,O=k.state,R=O.radiusAxisMap,N=O.angleAxisMap,I=Da(R),V=Da(N),B=V.cx,W=V.cy,H=V.innerRadius,U=V.outerRadius;return M.cloneElement(T,{polarAngles:Array.isArray(E)?E:Bi(V,!0).map(function(G){return G.coordinate}),polarRadius:Array.isArray(P)?P:Bi(I,!0).map(function(G){return G.coordinate}),cx:B,cy:W,innerRadius:H,outerRadius:U,key:T.key||"polar-grid",radialLines:S})}),Se(Ge(k),"renderLegend",function(){var T=k.state.formattedGraphicalItems,C=k.props,S=C.children,E=C.width,P=C.height,O=k.props.margin||{},R=E-(O.left||0)-(O.right||0),N=gL({children:S,formattedGraphicalItems:T,legendWidth:R,legendContent:u});if(!N)return null;var I=N.item,V=yO(N,z0e);return M.cloneElement(I,ee(ee({},V),{},{chartWidth:E,chartHeight:P,margin:O,onBBoxUpdate:k.handleLegendBBoxUpdate}))}),Se(Ge(k),"renderTooltip",function(){var T,C=k.props,S=C.children,E=C.accessibilityLayer,P=an(S,ni);if(!P)return null;var O=k.state,R=O.isTooltipActive,N=O.activeCoordinate,I=O.activePayload,V=O.activeLabel,B=O.offset,W=(T=P.props.active)!==null&&T!==void 0?T:R;return M.cloneElement(P,{viewBox:ee(ee({},B),{},{x:B.left,y:B.top}),active:W,label:V,payload:W?I:[],coordinate:N,accessibilityLayer:E})}),Se(Ge(k),"renderBrush",function(T){var C=k.props,S=C.margin,E=C.data,P=k.state,O=P.offset,R=P.dataStartIndex,N=P.dataEndIndex,I=P.updateId;return M.cloneElement(T,{key:T.key||"_recharts-brush",onChange:$h(k.handleBrushChange,T.props.onChange),data:E,x:le(T.props.x)?T.props.x:O.left,y:le(T.props.y)?T.props.y:O.top+O.height+O.brushBottom-(S.bottom||0),width:le(T.props.width)?T.props.width:O.width,startIndex:R,endIndex:N,updateId:"brush-".concat(I)})}),Se(Ge(k),"renderReferenceElement",function(T,C,S){if(!T)return null;var E=Ge(k),P=E.clipPathId,O=k.state,R=O.xAxisMap,N=O.yAxisMap,I=O.offset,V=T.props,B=V.xAxisId,W=V.yAxisId;return M.cloneElement(T,{key:T.key||"".concat(C,"-").concat(S),xAxis:R[B],yAxis:N[W],viewBox:{x:I.left,y:I.top,width:I.width,height:I.height},clipPathId:P})}),Se(Ge(k),"renderActivePoints",function(T){var C=T.item,S=T.activePoint,E=T.basePoint,P=T.childIndex,O=T.isRange,R=[],N=C.props.key,I=C.item.props,V=I.activeDot,B=I.dataKey,W=ee(ee({index:P,dataKey:B,cx:S.x,cy:S.y,r:4,fill:Ek(C.item),strokeWidth:2,stroke:"#fff",payload:S.payload,value:S.value,key:"".concat(N,"-activePoint-").concat(P)},Ae(V,!1)),dm(V));return R.push(b.renderActiveDot(V,W)),E?R.push(b.renderActiveDot(V,ee(ee({},W),{},{cx:E.x,cy:E.y,key:"".concat(N,"-basePoint-").concat(P)}))):O&&R.push(null),R}),Se(Ge(k),"renderGraphicChild",function(T,C,S){var E=k.filterFormatItem(T,C,S);if(!E)return null;var P=k.getTooltipEventType(),O=k.state,R=O.isTooltipActive,N=O.tooltipAxis,I=O.activeTooltipIndex,V=O.activeLabel,B=k.props.children,W=an(B,ni),H=E.props,U=H.points,G=H.isRange,J=H.baseLine,oe=E.item.props,Y=oe.activeDot,se=oe.hide,Ee=oe.activeBar,Re=oe.activeShape,Ze=!!(!se&&R&&W&&(Y||Ee||Re)),Ve={};P!=="axis"&&W&&W.props.trigger==="click"?Ve={onClick:$h(k.handleItemMouseEnter,T.props.onClick)}:P!=="axis"&&(Ve={onMouseLeave:$h(k.handleItemMouseLeave,T.props.onMouseLeave),onMouseEnter:$h(k.handleItemMouseEnter,T.props.onMouseEnter)});var Mt=M.cloneElement(T,ee(ee({},E.props),Ve));function ce(X){return typeof N.dataKey=="function"?N.dataKey(X.payload):null}if(Ze)if(I>=0){var xe,_e;if(N.dataKey&&!N.allowDuplicatedCategory){var Q=typeof N.dataKey=="function"?ce:"payload.".concat(N.dataKey.toString());xe=Vb(U,Q,V),_e=G&&J&&Vb(J,Q,V)}else xe=U==null?void 0:U[I],_e=G&&J&&J[I];if(Re||Ee){var Ue=T.props.activeIndex!==void 0?T.props.activeIndex:I;return[M.cloneElement(T,ee(ee(ee({},E.props),Ve),{},{activeIndex:Ue})),null,null]}if(!Me(xe))return[Mt].concat(ac(k.renderActivePoints({item:E,activePoint:xe,basePoint:_e,childIndex:I,isRange:G})))}else{var re,ge=(re=k.getItemByXY(k.state.activeCoordinate))!==null&&re!==void 0?re:{graphicalItem:Mt},be=ge.graphicalItem,ke=be.item,j=ke===void 0?T:ke,$=be.childIndex,F=ee(ee(ee({},E.props),Ve),{},{activeIndex:$});return[M.cloneElement(j,F),null,null]}return G?[Mt,null,null]:[Mt,null]}),Se(Ge(k),"renderCustomized",function(T,C,S){return M.cloneElement(T,ee(ee({key:"recharts-customized-".concat(S)},k.props),k.state))}),Se(Ge(k),"renderMap",{CartesianGrid:{handler:Bh,once:!0},ReferenceArea:{handler:k.renderReferenceElement},ReferenceLine:{handler:Bh},ReferenceDot:{handler:k.renderReferenceElement},XAxis:{handler:Bh},YAxis:{handler:Bh},Brush:{handler:k.renderBrush,once:!0},Bar:{handler:k.renderGraphicChild},Line:{handler:k.renderGraphicChild},Area:{handler:k.renderGraphicChild},Radar:{handler:k.renderGraphicChild},RadialBar:{handler:k.renderGraphicChild},Scatter:{handler:k.renderGraphicChild},Pie:{handler:k.renderGraphicChild},Funnel:{handler:k.renderGraphicChild},Tooltip:{handler:k.renderCursor,once:!0},PolarGrid:{handler:k.renderPolarGrid,once:!0},PolarAngleAxis:{handler:k.renderPolarAxis},PolarRadiusAxis:{handler:k.renderPolarAxis},Customized:{handler:k.renderCustomized}}),k.clipPathId="".concat((v=_.id)!==null&&v!==void 0?v:Nd("recharts"),"-clip"),k.throttleTriggeredAfterMouseMove=v$(k.triggeredAfterMouseMove,(x=_.throttleDelay)!==null&&x!==void 0?x:1e3/60),k.state={},k}return Q0e(b,[{key:"componentDidMount",value:function(){var v,x;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(v=this.props.margin.left)!==null&&v!==void 0?v:0,top:(x=this.props.margin.top)!==null&&x!==void 0?x:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var v=this.props,x=v.children,k=v.data,T=v.height,C=v.layout,S=an(x,ni);if(S){var E=S.props.defaultIndex;if(!(typeof E!="number"||E<0||E>this.state.tooltipTicks.length)){var P=this.state.tooltipTicks[E]&&this.state.tooltipTicks[E].value,O=sw(this.state,k,E,P),R=this.state.tooltipTicks[E].coordinate,N=(this.state.offset.top+T)/2,I=C==="horizontal",V=I?{x:R,y:N}:{y:R,x:N},B=this.state.formattedGraphicalItems.find(function(H){var U=H.item;return U.type.name==="Scatter"});B&&(V=ee(ee({},V),B.props.points[E].tooltipPosition),O=B.props.points[E].tooltipPayload);var W={activeTooltipIndex:E,isTooltipActive:!0,activeLabel:P,activePayload:O,activeCoordinate:V};this.setState(W),this.renderCursor(S),this.accessibilityManager.setIndex(E)}}}},{key:"getSnapshotBeforeUpdate",value:function(v,x){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==x.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==v.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==v.margin){var k,T;this.accessibilityManager.setDetails({offset:{left:(k=this.props.margin.left)!==null&&k!==void 0?k:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0}})}return null}},{key:"componentDidUpdate",value:function(v){Bb([an(v.children,ni)],[an(this.props.children,ni)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var v=an(this.props.children,ni);if(v&&typeof v.props.shared=="boolean"){var x=v.props.shared?"axis":"item";return l.indexOf(x)>=0?x:o}return o}},{key:"getMouseInfo",value:function(v){if(!this.container)return null;var x=this.container,k=x.getBoundingClientRect(),T=kse(k),C={chartX:Math.round(v.pageX-T.left),chartY:Math.round(v.pageY-T.top)},S=k.width/x.offsetWidth||1,E=this.inRange(C.chartX,C.chartY,S);if(!E)return null;var P=this.state,O=P.xAxisMap,R=P.yAxisMap,N=this.getTooltipEventType();if(N!=="axis"&&O&&R){var I=Da(O).scale,V=Da(R).scale,B=I&&I.invert?I.invert(C.chartX):null,W=V&&V.invert?V.invert(C.chartY):null;return ee(ee({},C),{},{xValue:B,yValue:W})}var H=bO(this.state,this.props.data,this.props.layout,E);return H?ee(ee({},C),H):null}},{key:"inRange",value:function(v,x){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,T=this.props.layout,C=v/k,S=x/k;if(T==="horizontal"||T==="vertical"){var E=this.state.offset,P=C>=E.left&&C<=E.left+E.width&&S>=E.top&&S<=E.top+E.height;return P?{x:C,y:S}:null}var O=this.state,R=O.angleAxisMap,N=O.radiusAxisMap;if(R&&N){var I=Da(R);return KP({x:C,y:S},I)}return null}},{key:"parseEventsOfWrapper",value:function(){var v=this.props.children,x=this.getTooltipEventType(),k=an(v,ni),T={};k&&x==="axis"&&(k.props.trigger==="click"?T={onClick:this.handleClick}:T={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var C=dm(this.props,this.handleOuterEvent);return ee(ee({},C),T)}},{key:"addListener",value:function(){f0.on(d0,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){f0.removeListener(d0,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(v,x,k){for(var T=this.state.formattedGraphicalItems,C=0,S=T.length;C<S;C++){var E=T[C];if(E.item===v||E.props.key===v.key||x===Hi(E.item.type)&&k===E.childIndex)return E}return null}},{key:"renderClipPath",value:function(){var v=this.clipPathId,x=this.state.offset,k=x.left,T=x.top,C=x.height,S=x.width;return L.createElement("defs",null,L.createElement("clipPath",{id:v},L.createElement("rect",{x:k,y:T,height:C,width:S})))}},{key:"getXScales",value:function(){var v=this.state.xAxisMap;return v?Object.entries(v).reduce(function(x,k){var T=gO(k,2),C=T[0],S=T[1];return ee(ee({},x),{},Se({},C,S.scale))},{}):null}},{key:"getYScales",value:function(){var v=this.state.yAxisMap;return v?Object.entries(v).reduce(function(x,k){var T=gO(k,2),C=T[0],S=T[1];return ee(ee({},x),{},Se({},C,S.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(v){var x;return(x=this.state.xAxisMap)===null||x===void 0||(x=x[v])===null||x===void 0?void 0:x.scale}},{key:"getYScaleByAxisId",value:function(v){var x;return(x=this.state.yAxisMap)===null||x===void 0||(x=x[v])===null||x===void 0?void 0:x.scale}},{key:"getItemByXY",value:function(v){var x=this.state,k=x.formattedGraphicalItems,T=x.activeItem;if(k&&k.length)for(var C=0,S=k.length;C<S;C++){var E=k[C],P=E.props,O=E.item,R=Hi(O.type);if(R==="Bar"){var N=(P.data||[]).find(function(W){return Mpe(v,W)});if(N)return{graphicalItem:E,payload:N}}else if(R==="RadialBar"){var I=(P.data||[]).find(function(W){return KP(v,W)});if(I)return{graphicalItem:E,payload:I}}else if(Cy(E,T)||Ny(E,T)||Zf(E,T)){var V=Ege({graphicalItem:E,activeTooltipItem:T,itemData:O.props.data}),B=O.props.activeIndex===void 0?V:O.props.activeIndex;return{graphicalItem:ee(ee({},E),{},{childIndex:B}),payload:Zf(E,T)?O.props.data[V]:E.props.data[V]}}}return null}},{key:"render",value:function(){var v=this;if(!LA(this))return null;var x=this.props,k=x.children,T=x.className,C=x.width,S=x.height,E=x.style,P=x.compact,O=x.title,R=x.desc,N=yO(x,W0e),I=Ae(N,!1);if(P)return L.createElement(tO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},L.createElement(Wb,Ku({},I,{width:C,height:S,title:O,desc:R}),this.renderClipPath(),VA(k,this.renderMap)));if(this.props.accessibilityLayer){var V,B;I.tabIndex=(V=this.props.tabIndex)!==null&&V!==void 0?V:0,I.role=(B=this.props.role)!==null&&B!==void 0?B:"application",I.onKeyDown=function(H){v.accessibilityManager.keyboardEvent(H)},I.onFocus=function(){v.accessibilityManager.focus()}}var W=this.parseEventsOfWrapper();return L.createElement(tO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},L.createElement("div",Ku({className:je("recharts-wrapper",T),style:ee({position:"relative",cursor:"default",width:C,height:S},E)},W,{ref:function(U){v.container=U}}),L.createElement(Wb,Ku({},I,{width:C,height:S,title:O,desc:R,style:obe}),this.renderClipPath(),VA(k,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}]),b}(M.Component),Se(r,"displayName",n),Se(r,"defaultProps",ee({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Se(r,"getDerivedStateFromProps",function(y,b){var _=y.dataKey,v=y.data,x=y.children,k=y.width,T=y.height,C=y.layout,S=y.stackOffset,E=y.margin,P=b.dataStartIndex,O=b.dataEndIndex;if(b.updateId===void 0){var R=xO(y);return ee(ee(ee({},R),{},{updateId:0},g(ee(ee({props:y},R),{},{updateId:0}),b)),{},{prevDataKey:_,prevData:v,prevWidth:k,prevHeight:T,prevLayout:C,prevStackOffset:S,prevMargin:E,prevChildren:x})}if(_!==b.prevDataKey||v!==b.prevData||k!==b.prevWidth||T!==b.prevHeight||C!==b.prevLayout||S!==b.prevStackOffset||!Sl(E,b.prevMargin)){var N=xO(y),I={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},V=ee(ee({},bO(b,v,C)),{},{updateId:b.updateId+1}),B=ee(ee(ee({},N),I),V);return ee(ee(ee({},B),g(ee({props:y},B),b)),{},{prevDataKey:_,prevData:v,prevWidth:k,prevHeight:T,prevLayout:C,prevStackOffset:S,prevMargin:E,prevChildren:x})}if(!Bb(x,b.prevChildren)){var W,H,U,G,J=an(x,tc),oe=J&&(W=(H=J.props)===null||H===void 0?void 0:H.startIndex)!==null&&W!==void 0?W:P,Y=J&&(U=(G=J.props)===null||G===void 0?void 0:G.endIndex)!==null&&U!==void 0?U:O,se=oe!==P||Y!==O,Ee=!Me(v),Re=Ee&&!se?b.updateId:b.updateId+1;return ee(ee({updateId:Re},g(ee(ee({props:y},b),{},{updateId:Re,dataStartIndex:oe,dataEndIndex:Y}),b)),{},{prevChildren:x,dataStartIndex:oe,dataEndIndex:Y})}return null}),Se(r,"renderActiveDot",function(y,b){var _;return M.isValidElement(y)?_=M.cloneElement(y,b):Ce(y)?_=y(b):_=L.createElement(Tk,b),L.createElement(rt,{className:"recharts-active-dot",key:b.key},_)}),r},gbe=S4({chartName:"BarChart",GraphicalChild:Is,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:jy},{axisType:"yAxis",AxisComp:Dy}],formatAxisMap:Zye}),T4=S4({chartName:"PieChart",GraphicalChild:Si,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Oy},{axisType:"radiusAxis",AxisComp:Py}],formatAxisMap:fde,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const A4=({data:t})=>{const{isDarkMode:e}=M.useContext(Qn),r={backgroundColor:e?"#333":"#fff",axisColor:e?"#ccc":"#000",gridColor:e?"#888888":"#D1D1D1",tooltipBackgroundColor:e?"#6D6D6D":"#E7E7E7",barColor:"#FFC700"};return m.jsx(Z1,{width:"100%",height:"100%",children:m.jsxs(gbe,{data:t,margin:{left:-24},children:[m.jsx(g4,{stroke:r.gridColor,strokeDasharray:"5 5"}),m.jsx(jy,{dataKey:"name",stroke:r.axisColor}),m.jsx(Dy,{stroke:r.axisColor}),m.jsx(ni,{cursor:{fill:r.tooltipBackgroundColor}}),m.jsx(Is,{type:"monotone",dataKey:"存款金額",fill:r.barColor})]})})};A4.propTypes={data:q.array.isRequired};const P4=({categoryData:t,habitCategories:e})=>{const r=Object.keys(t).map(n=>({name:e.find(i=>i.id===parseInt(n)).name,value:t[n]}));return m.jsx(Z1,{width:"100%",height:"100%",children:m.jsx(T4,{children:m.jsx(Si,{data:r,cx:"50%",cy:"50%",innerRadius:80,outerRadius:160,fill:"#8884d8",dataKey:"value",label:!0,children:r.map((n,i)=>m.jsx(jd,{fill:e.find(a=>a.name===n.name).color},`cell-${i}`))})})})};P4.propTypes={categoryData:q.object.isRequired,habitCategories:q.array.isRequired};const I4=({typeData:t,habitType:e})=>{const r=Object.keys(t).map(n=>{const i=e.find(a=>a.id===n);return i?{name:i.name,value:t[n]}:null}).filter(n=>n!==null);return m.jsx(Z1,{width:"100%",height:"100%",children:m.jsx(T4,{children:m.jsx(Si,{data:r,cx:"50%",cy:"50%",innerRadius:80,outerRadius:160,fill:"#8884d8",dataKey:"value",label:!0,children:r.map((n,i)=>m.jsx(jd,{fill:e.find(a=>a.name===n.name).color},`cell-${i}`))})})})};I4.propTypes={typeData:q.object.isRequired,habitType:q.array.isRequired};function ybe(){const[t,e]=M.useState("overview"),[r,n]=M.useState("week"),[i]=M.useState([{value:"week",label:"本週"},{value:"month",label:"本月"},{value:"year",label:"本年"}]),[a,o]=M.useState(0),[s,l]=M.useState(0),[c,u]=M.useState(0),[f,h]=M.useState([]),[p,g]=M.useState({}),[y,b]=M.useState({}),[_,v]=M.useState([]),{user:x}=M.useContext(Qn),k=[{id:0,name:"生產力",color:"#FF6961"},{id:1,name:"個人成長",color:"#FFB480"},{id:2,name:"運動健身",color:"#FFE552"},{id:3,name:"飲食健康",color:"#42D6A4"},{id:4,name:"心靈成長",color:"#08CAD1"},{id:5,name:"手作興趣",color:"#59ADF6"},{id:6,name:"財務管理",color:"#9D94FF"},{id:7,name:"環境生活",color:"#C780E8"}],T=[{id:"to-do",name:"養成",color:"#B2B814"},{id:"not-to-do",name:"戒除",color:"#D14D28"}];M.useEffect(()=>{(async()=>{if(x&&x.uid){const N=await us(x.uid);v(N);const{startOfPeriod:I,endOfPeriod:V}=C(r),{completed:B,savings:W,total:H,chartData:U,categoryData:G,typeData:J}=S(N,I,V,r);o(B),l(W),u(H),h(U),g(G),b(J)}})()});const C=R=>{const N=new Date;let I,V;return R==="week"?(I=new Date(N.setDate(N.getDate()-N.getDay())),V=new Date(N.setDate(N.getDate()-N.getDay()+6))):R==="month"?(I=new Date(N.getFullYear(),N.getMonth(),1),V=new Date(N.getFullYear(),N.getMonth()+1,0)):(I=new Date(N.getFullYear(),0,1),V=new Date(N.getFullYear(),11,31)),I.setHours(0,0,0,0),V.setHours(23,59,59,999),{startOfPeriod:I,endOfPeriod:V}},S=(R,N,I,V)=>{let B=0,W=0,H=0,U=[],G={},J={};const oe={};if(V==="week")["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].forEach(se=>{oe[se]=0});else if(V==="month"){const Y=Math.ceil((I.getDate()-N.getDate()+1)/7);for(let se=1;se<=Y;se++)oe[`Week ${se}`]=0}else["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].forEach(se=>{oe[se]=0});return R.forEach(Y=>{Y.status.forEach(se=>{const Ee=new Date(se.date);Ee.setHours(0,0,0,0);const Re=new Date;if(Re.setHours(0,0,0,0),Ee<Re&&Ee>=N&&Ee<=I){const Ze=E(Ee,V);se.completed?B+=1:(oe[Ze]+=Number(Y.amount),W+=1,H+=Number(Y.amount),G[Y.category]||(G[Y.category]=0),G[Y.category]+=1,J[Y.type]||(J[Y.type]=0),J[Y.type]+=1)}})}),U=Object.keys(oe).map(Y=>({name:Y,存款金額:oe[Y]})),U.sort((Y,se)=>{if(V==="week"){const Ee=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return Ee.indexOf(Y.name)-Ee.indexOf(se.name)}else if(V==="month"){const Ee=parseInt(Y.name.split(" ")[1],10),Re=parseInt(se.name.split(" ")[1],10);return Ee-Re}else{const Ee=new Date(Date.parse(Y.name+" 1, 2022")).getMonth(),Re=new Date(Date.parse(se.name+" 1, 2022")).getMonth();return Ee-Re}}),{completed:B,savings:W,total:H,chartData:U,categoryData:G,typeData:J}},E=(R,N)=>N==="week"?R.toLocaleDateString("en-US",{weekday:"short"}):N==="month"?`Week ${Math.ceil(R.getDate()/7)}`:R.toLocaleDateString("en-US",{month:"short"}),P=({completed:R,savings:N,total:I})=>m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-end items-center gap-1",children:[m.jsx("p",{className:"font-bold text-base leading-6 text-black dark:text-black-0",children:R}),m.jsx("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:"次"})]}),m.jsx("p",{className:"font-normal text-xs leading-4 md:text-sm md:leading-5 text-black dark:text-black-0",children:"完成習慣次數"})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-end items-center gap-1",children:[m.jsx("p",{className:"font-bold text-base leading-6 text-black dark:text-black-0",children:N}),m.jsx("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:"次"})]}),m.jsx("p",{className:"font-normal text-xs leading-4 md:text-sm md:leading-5 text-black dark:text-black-0",children:"存款次數"})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-end items-center gap-1",children:[m.jsx("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:"NT$"}),m.jsx("p",{className:"font-bold text-base leading-6 text-black dark:text-black-0",children:I})]}),m.jsx("p",{className:"font-normal text-xs leading-4 md:text-sm md:leading-5 text-black dark:text-black-0",children:"存款金額"})]})]}),O=(R,N,I)=>{const V=[];return R.forEach(B=>{B.status.forEach(W=>{const H=new Date(W.date);H.setHours(0,0,0,0);const U=new Date;U.setHours(0,0,0,0),H<U&&!W.completed&&H>=N&&H<=I&&V.push({id:B.id,title:B.title,date:W.date,amount:B.amount})})}),V.sort((B,W)=>new Date(W.date)-new Date(B.date)),V.slice(0,50).map((B,W)=>m.jsxs("li",{className:"py-2 px-4 grid grid-cols-5 bg-black-50 dark:bg-black-800 rounded-lg font-normal text-sm leading-5 hover:bg-black-0 dark:hover:bg-black-600",children:[m.jsx("p",{className:"text-black dark:text-black-0",children:String(W+1).padStart(2,"0")}),m.jsx("p",{className:"text-center text-black dark:text-black-0",children:new Date(B.date).toLocaleDateString()}),m.jsx("p",{className:"text-center col-span-2 overflow-scroll text-black dark:text-black-0",children:B.title}),m.jsxs("p",{className:"text-center text-black dark:text-black-0",children:["NT$",B.amount]})]},B.id+B.date))};return m.jsxs("div",{className:"p-4 md:py-10 space-y-4",children:[m.jsxs("ul",{className:"grid grid-cols-3 w-full",children:[m.jsx("li",{className:`border border-black-500 rounded-s-full py-1 font-normal text-sm leading-5 text-center ${t==="overview"?"bg-primary":"bg-black-50"}`,onClick:()=>e("overview"),children:"存款總覽"}),m.jsx("li",{className:`border-e border-y border-black-500 py-1 font-normal text-sm leading-5 text-center ${t==="category"?"bg-primary":"bg-black-50"}`,onClick:()=>e("category"),children:"習慣類別總覽"}),m.jsx("li",{className:`border-e border-y border-black-500 rounded-e-full py-1 font-normal text-sm leading-5 text-center ${t==="type"?"bg-primary":"bg-black-50"}`,onClick:()=>e("type"),children:"習慣類型總覽"})]}),t==="overview"&&m.jsxs("div",{children:[m.jsxs("div",{className:"p-4 bg-black-50 dark:bg-black-800 rounded-xl space-y-4",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{className:"relative group flex items-center flex-grow",children:[m.jsx("h2",{className:"font-bold text-xl leading-7 text-black dark:text-black-0",children:"存款總覽"}),m.jsx(wt.TbInfoCircle,{className:"w-6 h-6 text-black-500 dark:text-black-200 ml-2 inline-block"}),m.jsx("span",{className:"absolute top-0 left-32 transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto z-50 before:content-[''] before:absolute before:top-7 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark whitespace-normal break-words",children:"結算時間為每日 23:59:59，存款金額為當日未完成的習慣存款金額總和"})]}),m.jsx("div",{className:"relative",children:m.jsx(Za,{options:i,value:r,onChange:n})})]}),P({completed:a,savings:s,total:c}),m.jsx("div",{className:"w-full h-52",children:m.jsx(A4,{data:f})})]}),m.jsxs("ul",{className:"space-y-2 mt-4",children:[m.jsxs("li",{className:"py-2 px-4 grid grid-cols-5 border border-black-500 rounded-lg font-normal text-sm leading-5",children:[m.jsx("p",{className:"text-black dark:text-black-0",children:"編號"}),m.jsx("p",{className:"text-center text-black dark:text-black-0",children:"日期"}),m.jsx("p",{className:"text-center col-span-2 text-black dark:text-black-0",children:"習慣名稱"}),m.jsx("p",{className:"text-center text-black dark:text-black-0",children:"習慣存款"})]}),O(_,C(r).startOfPeriod,C(r).endOfPeriod)]}),s===0&&m.jsxs(m.Fragment,{children:[m.jsx("p",{className:"text-center mt-2 font-normal text-xs leading-4 md:text-base md:leading-6 text-black dark:text-black-0",children:"找不到相關的存款資料"}),m.jsx("p",{className:"text-center mt-2 font-normal text-xs leading-4 md:text-base md:leading-6 text-black dark:text-black-0",children:"要不要試著培養一些習慣呢？"})]}),s>=50&&m.jsx("p",{className:"text-center mt-2 font-normal text-xs leading-4 md:text-base md:leading-6 text-black dark:text-black-0",children:"僅顯示最新的 50 筆存款記錄"})]}),t==="category"&&m.jsxs("div",{className:`p-4 bg-black-50 dark:bg-black-800 rounded-xl space-y-4 ${s===0?"min-h-screen":"h-fit"}`,children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{className:"relative group flex items-center flex-grow",children:[m.jsx("h2",{className:"font-bold text-xl leading-7 text-black dark:text-black-0",children:"習慣類別總覽"}),m.jsx(wt.TbInfoCircle,{className:"w-6 h-6 text-black-500 dark:text-black-200 ml-2 inline-block"}),m.jsx("span",{className:"absolute top-0 left-[168px] transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto z-50 before:content-[''] before:absolute before:top-7 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark whitespace-normal break-words",children:"來看看你的習慣類別分布吧！哪些類別的習慣讓你累積最多存款呢？"})]}),m.jsx("div",{className:"relative",children:m.jsx(Za,{options:i,value:r,onChange:n})})]}),s===0?m.jsxs("div",{className:"space-y-2",children:[m.jsx("p",{className:"text-center font-normal text-base leading-6 text-black dark:text-black-0",children:"找不到相關的存款資料"}),m.jsx("p",{className:"text-center font-normal text-base leading-6 text-black dark:text-black-0",children:"要不要試著培養一些習慣呢？"})]}):m.jsxs("div",{children:[m.jsx("div",{className:"w-full h-[400px]",children:m.jsx(P4,{categoryData:p,habitCategories:k})}),m.jsx("ul",{className:"space-y-2",children:k.map(R=>m.jsxs("li",{className:"p-2 rounded flex justify-between items-center hover:bg-black-0 dark:hover:bg-black-600",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-6 h-6 rounded-full",style:{backgroundColor:R.color}}),m.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:R.name})]}),m.jsxs("p",{className:"font-bold text-lg leading-6 text-black dark:text-black-0",children:[((p[R.id]||0)/Object.values(p).reduce((N,I)=>N+I,0)*100).toFixed(1),"%"]})]},R.id))})]})]}),t==="type"&&m.jsxs("div",{className:`p-4 bg-black-50 dark:bg-black-800 rounded-xl space-y-4 ${s===0?"min-h-screen":"h-fit"}`,children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{className:"relative group flex items-center flex-grow",children:[m.jsx("h2",{className:"font-bold text-xl leading-7 text-black dark:text-black-0",children:"習慣類型總覽"}),m.jsx(wt.TbInfoCircle,{className:"w-6 h-6 text-black-500 dark:text-black-200 ml-2 inline-block"}),m.jsx("span",{className:"absolute top-0 left-[168px] transform -translate-x-0 w-fit p-2 bg-primary-dark text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto z-50 before:content-[''] before:absolute before:top-7 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark whitespace-normal break-words",children:"來看看你的習慣類型分布吧！你比較擅長養成還是戒除習慣呢？"})]}),m.jsx("div",{className:"relative",children:m.jsx(Za,{options:i,value:r,onChange:n})})]}),s===0?m.jsxs("div",{className:"space-y-2",children:[m.jsx("p",{className:"text-center font-normal text-base leading-6 text-black dark:text-black-0",children:"找不到相關的存款資料"}),m.jsx("p",{className:"text-center font-normal text-base leading-6 text-black dark:text-black-0",children:"要不要試著培養一些習慣呢？"})]}):m.jsxs("div",{children:[m.jsx("div",{className:"w-full h-[400px]",children:m.jsx(I4,{typeData:y,habitType:T})}),m.jsx("ul",{className:"space-y-2",children:T.map(R=>m.jsxs("li",{className:"p-2 rounded flex justify-between items-center hover:bg-black-0 dark:hover:bg-black-600",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-6 h-6 rounded-full",style:{backgroundColor:R.color}}),m.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:R.name})]}),m.jsxs("p",{className:"font-bold text-lg leading-6 text-black dark:text-black-0",children:[((y[R.id]||0)/Object.values(y).reduce((N,I)=>N+I,0)*100).toFixed(1),"%"]})]},R.id))})]})]})]})}function vbe(){var p,g;const[t,e]=M.useState("habit"),[r,n]=M.useState([]),[i,a]=M.useState([]),{user:o}=M.useContext(Qn);M.useEffect(()=>{(async()=>{const{startOfWeek:b,endOfWeek:_}=s();if(t==="habit"){const x=[...await l(b,_)].sort((k,T)=>T.completedCount-k.completedCount);n(x)}else if(t==="savings"){const x=[...await c(b,_)].sort((k,T)=>T.totalSavings-k.totalSavings);a(x)}})()},[t]);const s=()=>{const y=new Date,b=new Date(y.setDate(y.getDate()-y.getDay())),_=new Date(y.setDate(y.getDate()-y.getDay()+6));return b.setHours(0,0,0,0),_.setHours(23,59,59,999),{startOfWeek:b,endOfWeek:_}},l=async(y,b)=>{const _=await vA();return await Promise.all(_.map(async x=>{const T=(await us(x.uid)).reduce((C,S)=>C+S.status.filter(E=>{const P=new Date(E.date);return E.completed&&P>=y&&P<=b}).length,0);return{...x,completedCount:T}}))},c=async(y,b)=>{const _=await vA(),v=new Date;return v.setHours(0,0,0,0),await Promise.all(_.map(async k=>{const C=(await us(k.uid)).reduce((S,E)=>{const P=E.amount,O=E.status.filter(R=>{const N=new Date(R.date);return!R.completed&&N>=y&&N<=b&&N<v}).length;return S+O*P},0);return{...k,totalSavings:C}}))},u=y=>({level:Math.floor(y/100)}),f=(y,b)=>[...y].sort((v,x)=>b==="habit"?x.completedCount-v.completedCount:x.totalSavings-v.totalSavings).slice(0,10).map((v,x)=>{const{level:k}=u(v.levelPoints);return m.jsxs("li",{className:"relative flex justify-between items-center py-2 px-4 bg-black-50 dark:bg-black-800 rounded-2xl hover:bg-black-0 dark:hover:bg-black-600",children:[m.jsx("div",{className:"flex items-center gap-3",children:x<3?m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"absolute top-[-4px]",children:m.jsxs("div",{className:"w-10 h-[68px] flex justify-center items-center bg-primary relative",children:[m.jsx("p",{className:"font-normal text-center text-3xl leading-9 font-lobster text-alert",children:x+1}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-34px] before:right-0 before:w-0 before:h-0 before:border-l-[20px] before:border-r-0 before:border-b-[12px] before:border-l-transparent before:border-r-transparent before:border-b-black-50 dark:before:border-b-black-800 before:z-20"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-34px] before:left-0 before:w-0 before:h-0 before:border-l-0 before:border-r-[20px] before:border-b-[12px] before:border-l-transparent before:border-r-transparent before:border-b-black-50 dark:before:border-b-black-800 before:z-20"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[30px] before:left-5 before:w-0 before:h-0 before:border-l-0 before:border-r-[3px] before:border-b-[4px] before:border-l-transparent before:border-r-transparent before:border-b-primary-dark before:z-20"})]})}),m.jsx("img",{src:v.avatar,alt:"user's avatar",className:"w-12 h-12 rounded-full ml-14 outline outline-primary-dark dark:outline-primary"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-normal text-lg leading-7 text-black dark:text-black-0",children:v.name}),m.jsxs("p",{className:"font-normal text-sm leading-5 text-black-700 dark:text-black-200",children:["Lv.",k]})]})]}):m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("p",{className:"w-10 h-auto font-normal text-center text-3xl leading-9 font-lobster text-black dark:text-black-0",children:x+1}),m.jsx("img",{src:v.avatar,alt:"user's avatar",className:"w-12 h-12 rounded-full outline outline-primary-dark dark:outline-primary"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-normal text-lg leading-7 text-black dark:text-black-0",children:v.name}),m.jsxs("p",{className:"font-normal text-sm leading-5 text-black-700 dark:text-black-200",children:["Lv.",k]})]})]})}),m.jsxs("div",{className:"flex flex-col items-end",children:[m.jsx("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:b==="habit"?"累積數量":"累積存款"}),b==="habit"?m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("p",{className:"font-bold text-base leading-6 text-black dark:text-black-0",children:v.completedCount}),m.jsx("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:"次"})]}):m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("p",{className:"font-bold text-base leading-6 text-black dark:text-black-0",children:v.totalSavings}),m.jsx("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:"元"})]})]})]},v.uid)}),h=(y,b,_)=>{const v=y.find(T=>T.uid===b.uid);if(!v)return null;const x=y.findIndex(T=>T.uid===b.uid)+1,{level:k}=u(v.levelPoints);return m.jsxs("div",{className:"flex justify-between py-2 px-4 bg-black-500 dark:bg-black-50 rounded-2xl",children:[m.jsxs("div",{className:"flex items-center gap-3 text-black-0 dark:text-black",children:[m.jsx("p",{className:"w-10 h-auto font-normal text-center text-3xl leading-9 font-lobster text-black-0 dark:text-black",children:x}),m.jsx("img",{src:v.avatar,alt:"user's avatar",className:"w-12 h-12 rounded-full outline dark:outline-primary-dark outline-primary"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-normal text-lg leading-7 text-white dark:text-black",children:v.name}),m.jsxs("p",{className:"font-normal text-sm leading-5 text-black-700",children:["Lv.",k]})]})]}),m.jsxs("div",{className:"flex flex-col items-end text-black-0 dark:text-black",children:[m.jsx("p",{className:"font-normal text-sm leading-5",children:_==="habit"?"累積數量":"累積存款"}),_==="habit"?m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("p",{className:"font-bold text-base leading-6 text-black-0 dark:text-black",children:v.completedCount}),m.jsx("p",{className:"font-normal text-sm leading-5 text-black-0 dark:text-black",children:"次"})]}):m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("p",{className:"font-bold text-base leading-6 text-black-0 dark:text-black",children:v.totalSavings}),m.jsx("p",{className:"font-normal text-sm leading-5 text-black-0 dark:text-black",children:"元"})]})]})]})};return m.jsxs("div",{className:"p-4 md:py-10 space-y-4",children:[m.jsxs("ul",{className:"grid grid-cols-2 w-full pb-3",children:[m.jsx("li",{className:`border border-black-500 rounded-s-full py-1 font-normal text-sm leading-5 text-center ${t==="habit"?"bg-primary":"bg-black-50"}`,onClick:()=>e("habit"),children:"習慣排行"}),m.jsx("li",{className:`border-e border-y border-black-500 rounded-e-full py-1 font-normal text-sm leading-5 text-center ${t==="savings"?"bg-primary":"bg-black-50"}`,onClick:()=>e("savings"),children:"存款排行"})]}),t==="habit"&&m.jsxs("div",{className:"relative space-y-4",children:[m.jsxs("div",{className:"p-4 mt-4 bg-black-50 dark:bg-black-800 rounded-lg flex flex-col items-center",children:[m.jsxs("p",{className:"text-center font-normal text-base leading-6 text-black dark:text-black-0",children:["在 ",s().startOfWeek.toLocaleDateString(),"～",s().endOfWeek.toLocaleDateString()," 期間"]}),m.jsxs("div",{className:"flex justify-center items-center gap-x-1 flex-wrap",children:[m.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:"恭喜"}),m.jsx("p",{className:"font-bold text-xl leading-7 text-black dark:text-black-0",children:((p=r[0])==null?void 0:p.name)||"No.1"}),m.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:"成為累積最多次習慣的玩家"})]})]}),m.jsxs("div",{className:"absolute -top-8 inset-x-0 text-primary flex items-center justify-center",children:[m.jsx(Vs.TbCircleCheck,{className:"w-8 h-8"}),m.jsx(Vs.TbCircleCheckFilled,{className:"w-8 h-8"}),m.jsx(Vs.TbCircleCheck,{className:"w-8 h-8"})]}),m.jsx("ul",{className:"space-y-4 pb-20",children:f(r,"habit")}),m.jsx("div",{className:"fixed bottom-0 left-0 md:left-auto w-full max-w-full md:max-w-[1128px] mx-auto p-4 pb-[88px] bg-light dark:bg-black-950 md:p-0 md:py-4",children:h(r,o,"habit")})]}),t==="savings"&&m.jsxs("div",{className:"relative space-y-4",children:[m.jsxs("div",{className:"p-4 mt-4 bg-black-50 dark:bg-black-800 rounded-lg flex flex-col items-center",children:[m.jsxs("p",{className:"text-center font-normal text-base leading-6 text-black dark:text-black-0",children:["在 ",s().startOfWeek.toLocaleDateString(),"～",s().endOfWeek.toLocaleDateString()," 期間"]}),m.jsxs("div",{className:"flex justify-center items-center gap-x-1 flex-wrap",children:[m.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:"恭喜"}),m.jsx("p",{className:"font-bold text-xl leading-7 text-black dark:text-black-0",children:((g=i[0])==null?void 0:g.name)||"No.1"}),m.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:"成為累積最多存款的玩家"})]})]}),m.jsxs("div",{className:"absolute -top-8 inset-x-0 text-primary flex items-center justify-center",children:[m.jsx(Vs.TbCoin,{className:"w-8 h-8"}),m.jsx(Vs.TbCoinFilled,{className:"w-8 h-8"}),m.jsx(Vs.TbCoin,{className:"w-8 h-8"})]}),m.jsx("ul",{className:"space-y-4 pb-20",children:f(i,"savings")}),m.jsx("div",{className:"fixed bottom-0 left-0 md:left-auto w-full max-w-full md:max-w-[1128px] mx-auto p-4 pb-[88px] bg-light dark:bg-black-950 md:p-0 md:py-4",children:h(i,o,"savings")})]})]})}const lw=({options:t,onChange:e,theme:r})=>{const[n,i]=M.useState(!1),a=o=>{e(o),i(!1)};return m.jsxs("div",{className:"relative inline-block",children:[m.jsx(bu.TbDots,{className:`w-6 h-6 text-black ${r==="dark"?"dark:text-black-0":""} cursor-pointer hover:text-alert`,onClick:()=>i(!n)}),n&&m.jsx("ul",{className:"absolute z-10 mt-1 w-fit -right-4 bg-white border border-black-500 rounded-2xl shadow-lg text-center text-nowrap overflow-hidden",children:t.map(o=>m.jsx("li",{className:"px-4 py-2 hover:bg-primary-light cursor-pointer",onClick:()=>a(o.value),children:o.label},o.value))})]})};lw.propTypes={options:q.array.isRequired,value:q.string.isRequired,onChange:q.func.isRequired,theme:q.string.isRequired};const O4=({backgrounds:t,setPostBackground:e,isOpen:r,setIsOpen:n})=>m.jsx("div",{className:`absolute top-16 left-0 right-0 z-10 bg-black-0 border border-black-500 rounded-lg py-2 px-4 ${r?"block":"hidden"}`,children:m.jsx("div",{className:"flex gap-4 overflow-scroll",children:t.map((i,a)=>m.jsx("button",{className:"rounded w-6 h-6 flex-shrink-0 flex-grow-0",style:{backgroundImage:`url(${i})`,backgroundSize:"cover",backgroundPosition:"center"},onClick:()=>{e(i),n(!1)}},a))})});O4.propTypes={backgrounds:q.array.isRequired,setPostBackground:q.func.isRequired,isOpen:q.bool.isRequired,setIsOpen:q.func.isRequired};const C4=({postContent:t,setPostContent:e,postBackground:r,setPostBackground:n,handleAddPost:i,handlePostModal:a,user:o,isEditMode:s,handleUpdatePost:l,calculateTextColor:c})=>{const[u,f]=M.useState([]),[h,p]=M.useState(!1),[g,y]=M.useState(null);return M.useEffect(()=>{(async()=>{const _=await FD();f(_)})()},[]),M.useEffect(()=>{(async()=>{if(o&&o.uid){const _=await ii(o.uid);y(_)}})()},[o]),m.jsxs("div",{className:"space-y-4 relative",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10",children:g&&g.avatar?m.jsx("img",{src:g.avatar,alt:"avatar",className:"w-full h-full object-cover rounded-full"}):m.jsx("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:"No Image"})}),m.jsx("h3",{className:"font-bold text-base leading-6 text-black dark:text-black-0",children:g&&g.name?g.name:"Unknown"})]}),m.jsx(wt.TbX,{className:"w-6 h-6 hover:text-alert cursor-pointer text-black dark:text-black-0",onClick:a})]}),m.jsxs("div",{className:"flex justify-between items-center gap-4",children:[m.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0 text-nowrap",children:"選擇背景顏色"}),m.jsx("div",{className:"flex gap-4 overflow-scroll",children:u.map((b,_)=>m.jsx("button",{className:"rounded w-6 h-6 flex-shrink-0 flex-grow-0",style:{backgroundImage:`url(${b})`,backgroundSize:"cover",backgroundPosition:"center"},onClick:()=>n(b)},_))})]}),m.jsx(O4,{backgrounds:u,setPostBackground:n,isOpen:h,setIsOpen:p}),m.jsx("div",{className:"w-full min-h-40 h-fit border rounded-xl bg-black-100 p-2 overflow-auto flex justify-center items-center",style:{backgroundImage:`url(${r})`,backgroundSize:"cover",backgroundPosition:"center"},children:m.jsx("textarea",{className:"w-full h-full bg-transparent border-none resize-none outline-none text-center placeholder-black font-normal text-base leading-6 md:text-xl md:leading-7 xl:text-2xl xl:leading-8",placeholder:"輸入貼文內容...",value:t,onChange:b=>e(b.target.value),style:{color:c(r)}})}),m.jsxs("div",{className:"flex gap-4",children:[s&&m.jsx("button",{className:"py-1 w-full bg-black-100 rounded-lg font-medium text-sm leading-5 hover:bg-black-300",onClick:a,children:"取消修改"}),m.jsx("button",{className:"py-1 w-full bg-primary rounded-lg font-medium text-sm leading-5 hover:bg-primary-dark",onClick:s?l:i,children:s?"確認修改":"發佈貼文"})]})]})};C4.propTypes={postContent:q.string.isRequired,setPostContent:q.func.isRequired,postBackground:q.string.isRequired,setPostBackground:q.func.isRequired,handleAddPost:q.func.isRequired,handlePostModal:q.func.isRequired,user:q.object,isEditMode:q.bool,handleUpdatePost:q.func,calculateTextColor:q.func.isRequired};function bbe(){const[t,e]=M.useState([]),[r,n]=M.useState("all"),[i]=M.useState([{label:"全部貼文",value:"all"},{label:"僅限自己",value:"personal"}]),[a,o]=M.useState({}),[s,l]=M.useState(""),[c,u]=M.useState({}),[f,h]=M.useState(!1),[p,g]=M.useState(null),[y,b]=M.useState(""),[_,v]=M.useState(""),[x,k]=M.useState([]),[T,C]=M.useState(!1),{user:S}=M.useContext(Qn),[E,P]=M.useState(null),[O,R]=M.useState(!1),[N,I]=M.useState(null),V=M.useRef(null);M.useEffect(()=>{(async()=>{const $=await Ah(),F=await Promise.all($.map(async X=>{const Z=await ii(X.userID),ne=await Fs(X.id);return{...X,user:Z,comments:ne}}));e(F)})()},[]),M.useEffect(()=>{(async()=>{const $=await FD();k($)})()},[]),M.useEffect(()=>{(async()=>{if(S&&S.uid){const $=await ii(S.uid);P($)}})()},[S]);const B=r==="personal"?t.filter(j=>j.userID===S.uid):t,W=j=>{o($=>({...$,[j]:!$[j]}))},H=async j=>{if(!s.trim()){alert("請輸入留言內容");return}const $=await ii(S.uid),F={content:s,userID:S.uid,userName:$.name,userAvatar:$.avatar};await hq(j,F),l("");const X=await Fs(j);e(Z=>Z.map(ne=>ne.id===j?{...ne,comments:X}:ne)),ge()},U=j=>{u($=>({...$,[j]:""}))},G=(j,$)=>{I(()=>async()=>{await mq(j,$);const F=await Fs(j);e(X=>X.map(Z=>Z.id===j?{...Z,comments:F}:Z)),ke()}),R(!0)},J=async j=>{I(()=>async()=>{await dq(j),e($=>$.filter(F=>F.id!==j)),re()}),R(!0)},oe=(j,$=null)=>{$?u(F=>({...F,[$]:j.comments.find(X=>X.id===$).content})):(g(j),h(!0))},Y=async(j,$,F=null)=>{if(F){const X=c[F];if(!X.trim()){alert("請輸入留言內容");return}await pq(j,F,{content:X});const Z=await Fs(j);e(ne=>ne.map(de=>de.id===j?{...de,comments:Z}:de)),u(ne=>({...ne,[F]:""})),be()}else{await fq(j,$);const X=await Ah();e(X),h(!1),Ue()}},se=(j,$,F)=>{F==="edit"?oe(j,$):F==="delete"&&($?G(j.id,$):J(j.id))},Ee=async j=>{try{await gq(j,S.uid);const $=await Ah(),F=await Promise.all($.map(async X=>{const Z=await ii(X.userID),ne=await Fs(X.id);return{...X,user:Z,comments:ne}}));e(F)}catch($){console.error($)}},Re=async j=>{try{await yq(j,S.uid);const $=await Ah(),F=await Promise.all($.map(async X=>{const Z=await ii(X.userID),ne=await Fs(X.id);return{...X,user:Z,comments:ne}}));e(F)}catch($){console.error($)}},Ze=j=>{const $=new Date,F=new Date(j*1e3),X=Math.floor(($-F)/1e3);return X<3600?"剛剛":X<86400?`${Math.floor(X/3600)} 小時前`:X<259200?`${Math.floor(X/86400)} 天前`:F.toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit"})},Ve=async()=>{if(y.trim()&&S){const j=await ii(S.uid),$={content:y,background:_,userID:S.uid,user:j,createdTime:{seconds:Math.floor(Date.now()/1e3)},likes:[],comments:[]};await uq(S.uid,$),e(X=>[$,...X]),b(""),v(""),Q();const F=document.querySelector("textarea");F&&(F.style.height="auto")}},Mt=()=>E?m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("img",{src:E.avatar,alt:"avatar",className:"w-12 h-12 object-cover rounded-full outline outline-primary-dark dark:outline-primary"}),m.jsx("p",{className:"font-bold text-lg leading-6 text-black dark:text-black-0",children:E.name})]}):m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-12 h-12 bg-black-500 rounded-full"}),m.jsx("p",{className:"font-bold text-lg leading-6 text-black dark:text-black-0",children:"Unknown"})]}),ce=j=>{if(!j)return"black";const $=j.match(/\d+/g),F=parseInt($[0],10),X=parseInt($[1],10),Z=parseInt($[2],10);return(.299*F+.587*X+.114*Z)/255>.5?"black":"white"},xe=()=>{C(!0)},_e=j=>{V.current&&!V.current.contains(j.target)&&C(!1)};M.useEffect(()=>(document.addEventListener("mousedown",_e),()=>{document.removeEventListener("mousedown",_e)}),[]);const Q=()=>_n("已新增貼文！"),Ue=()=>_n("已更新貼文！"),re=()=>_n("已刪除貼文！"),ge=()=>_n("已新增留言！"),be=()=>_n("已更新留言！"),ke=()=>_n("已刪除留言！");return m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"p-4 md:py-10 space-y-4",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h2",{className:"font-bold text-xl leading-7 text-black dark:text-black-0",children:"貼文總覽"}),m.jsx("div",{className:"relative",children:m.jsx(Za,{options:i,value:r,onChange:n})})]}),m.jsx("div",{className:"relative",children:m.jsxs("div",{ref:V,className:"relative bg-black-50 dark:bg-black-800 p-4 rounded-xl space-y-2 md:space-y-3 z-0",onClick:xe,children:[m.jsx("div",{className:`absolute inset-0 rounded-xl -z-10 ${T?"block":"hidden"}`,style:{boxShadow:"0 0 8px 1px rgba(250, 173, 20, 1)"}}),Mt(),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0 text-nowrap",children:"選擇背景顏色"}),m.jsx("div",{className:"flex gap-4 overflow-scroll",children:x.map((j,$)=>m.jsx("button",{className:"rounded w-6 h-6 flex-shrink-0 flex-grow-0",style:{backgroundImage:`url(${j})`,backgroundSize:"cover",backgroundPosition:"center"},onClick:()=>v(j)},$))})]}),m.jsx("div",{className:"w-full min-h-40 h-fit border rounded-xl bg-black-100 p-2 overflow-auto flex justify-center items-center",style:{backgroundImage:`url(${_})`,backgroundSize:"cover",backgroundPosition:"center"},children:m.jsx("textarea",{className:"w-full h-fit bg-transparent border-none overflow-hidden resize-none outline-none text-center placeholder-black font-normal text-base leading-6 md:text-xl md:leading-7 xl:text-2xl xl:leading-8",placeholder:"輸入貼文內容...",value:y,onChange:j=>{b(j.target.value),j.target.style.height="auto",j.target.style.height=`${j.target.scrollHeight}px`},style:{color:ce(_)},rows:"1"})}),m.jsx("div",{className:"text-end",children:m.jsx("button",{className:"py-1 px-3 w-fit bg-primary rounded-lg font-medium text-sm leading-5 md:text-base md:leading-6 hover:bg-primary-dark",onClick:Ve,children:"發佈貼文"})})]})}),m.jsx("ul",{className:"space-y-4",children:B.map(j=>m.jsxs("li",{className:"p-4 bg-black-50 dark:bg-black-800 rounded-2xl space-y-3 w-full",children:[m.jsxs("div",{className:"flex justify-between items-center w-full",children:[m.jsxs("div",{className:"flex gap-3 items-center",children:[m.jsx("div",{className:"w-12 h-12",children:j.user&&m.jsx("img",{src:j.user.avatar,alt:"avatar",className:"w-full h-full object-cover rounded-full outline outline-primary-dark dark:outline-primary"})}),m.jsxs("div",{className:"flex flex-col",children:[m.jsx("h3",{className:"font-bold text-lg leading-6 text-black dark:text-black-0",children:j.user?j.user.name:"Unknown"}),m.jsx("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:Ze(j.createdTime.seconds)})]})]}),m.jsx(lw,{options:[{value:"edit",label:"編輯貼文"},{value:"delete",label:"刪除貼文"}],onChange:$=>se(j,null,$),theme:"dark"})]}),m.jsx("div",{className:`w-full min-h-52 h-fit flex justify-center items-center p-4 rounded-xl font-normal text-base leading-6 md:text-xl md:leading-7 xl:text-2xl xl:leading-8 ${j.background?"":"bg-slate-100"}`,style:j.background?{backgroundImage:`url(${j.background})`,backgroundSize:"cover",backgroundPosition:"center",color:ce(j.background)}:{color:ce(j.background)},children:m.jsx("p",{className:"text-center",children:j.content})}),m.jsxs("div",{className:"flex gap-3",children:[m.jsxs("div",{className:"flex gap-1",children:[j.likes&&j.likes.includes(S.uid)?m.jsx(bu.TbHeartFilled,{className:"w-6 h-6 cursor-pointer text-alert",onClick:()=>Re(j.id)}):m.jsx(bu.TbHeart,{className:"w-6 h-6 cursor-pointer text-black dark:text-black-0 hover:text-alert",onClick:()=>Ee(j.id)}),m.jsx("p",{className:"text-black dark:text-black-0 font-normal text-base leading-6",children:j.likes?j.likes.length:0})]}),m.jsxs("div",{className:"flex gap-1",children:[m.jsx(bu.TbMessageChatbot,{className:"w-6 h-6 cursor-pointer text-black dark:text-black-0 hover:text-black dark:hover:text-black-200",onClick:()=>W(j.id)}),m.jsx("p",{className:"text-black dark:text-black-0 font-normal text-base leading-6",children:j.comments?j.comments.length:0})]})]}),m.jsxs("ul",{className:`space-y-3 ${a[j.id]?"block":"hidden"}`,children:[j.comments&&j.comments.map($=>m.jsxs("li",{className:"flex justify-between items-center gap-3",children:[m.jsx("img",{src:$.userAvatar,alt:"user's avatar",className:"w-12 h-12 rounded-full"}),m.jsxs("div",{className:"bg-black-200 rounded-xl px-4 py-2 w-full flex justify-between items-center",children:[m.jsxs("div",{className:"w-full md:w-4/5",children:[m.jsxs("div",{className:"flex gap-2",children:[m.jsx("h3",{className:"font-medium text-sm leading-5 line-clamp-1",children:$.userName}),m.jsx("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0-700",children:Ze($.updatedTime?$.updatedTime.seconds:$.createdTime.seconds)})]}),c[$.id]?m.jsxs("div",{className:"grid grid-cols-1 gap-x-2 md:flex md:items-center md:gap-2",children:[m.jsx("input",{type:"text",value:c[$.id],onChange:F=>u({...c,[$.id]:F.target.value}),className:"font-normal text-base leading-6 rounded px-2 py-1 w-full bg-black-0 text-black caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark my-1"}),m.jsxs("div",{className:"flex gap-x-2",children:[m.jsx("button",{className:"w-fit text-nowrap font-medium text-sm leading-5 bg-black-100 py-1 md:py-1.5 px-2 rounded hover:bg-black-300",onClick:()=>U($.id),children:"取消修改"}),m.jsx("button",{className:"w-fit text-nowrap font-medium text-sm leading-5 bg-primary py-1 md:py-1.5 px-2 rounded hover:bg-primary-dark",onClick:()=>Y(j.id,null,$.id),children:"確認修改"})]})]}):m.jsx("p",{className:"font-normal text-base leading-6",children:$.content})]}),c[$.id]?null:m.jsx("div",{className:"flex flex-col",children:m.jsx(lw,{options:[{value:"edit",label:"編輯留言"},{value:"delete",label:"刪除留言"}],onChange:F=>se(j,$.id,F),theme:"light"})})]})]},$.id)),m.jsxs("li",{className:"flex justify-between items-center gap-2",children:[m.jsx("input",{type:"text",placeholder:"請輸入留言",className:"bg-black-100 text-black py-2 px-4 w-full rounded-2xl placeholder:text-black dark:text-black-0-500  caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark focus:bg-black-0",value:s,onChange:$=>l($.target.value)}),m.jsx("div",{className:"w-10 h-10 bg-primary flex justify-center items-center rounded-full aspect-square cursor-pointer hover:bg-primary-dark",onClick:()=>H(j.id),children:m.jsx(bu.TbSend2,{className:"w-6 h-6 text-black"})})]})]})]},j.id))}),O&&m.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:m.jsxs("div",{className:"bg-white dark:bg-black-800 p-4 rounded-xl shadow-lg",children:[m.jsx("p",{className:"text-black dark:text-white mb-4",children:"你確定要執行這個操作嗎？"}),m.jsxs("div",{className:"flex justify-end gap-2",children:[m.jsx("button",{className:"py-1 px-3 bg-gray-300 rounded-lg",onClick:()=>R(!1),children:"取消"}),m.jsx("button",{className:"py-1 px-3 bg-primary rounded-lg text-black",onClick:()=>{N(),R(!1)},children:"確認"})]})]})}),m.jsx(T1,{})]}),m.jsx(Bn,{isOpen:f,onRequestClose:()=>h(!1),children:m.jsx(C4,{postContent:p?p.content:"",setPostContent:j=>g($=>({...$,content:j})),postBackground:p?p.background:"",setPostBackground:j=>g($=>({...$,background:j})),handlePostModal:()=>h(!1),user:S,isEditMode:!0,handleUpdatePost:()=>Y(p.id,p),calculateTextColor:ce})})]})}const N4=({sortedAchievements:t,userAchievements:e,handleAchievementModal:r})=>m.jsxs("div",{className:"pt-9 pb-4 px-4 bg-black-50 dark:bg-black-800 space-y-4 rounded-2xl relative",children:[m.jsx("ul",{className:"grid grid-cols-2 gap-4 md:grid-cols-3",children:t.slice(0,6).map(n=>{const i=e.includes(n.id);return m.jsx("li",{className:`py-1 w-full flex justify-center items-center rounded-lg border-2 cursor-default ${i?"opacity-100 border-primary-dark bg-light":"opacity-50 border-black-500 bg-black-100 dark:border-black-300"}`,children:m.jsx("p",{className:`font-normal text-base leading-6 md:text-xl md:leading-7 stroke-text ${i?"text-primary z-0":"text-black"}`,"data-stroke":i?n.name:"",children:n.name})},n.id)})}),m.jsx("button",{className:"text-center w-full bg-primary rounded-xl font-medium text-sm leading-5 py-1 hover:bg-primary-dark",onClick:r,children:"更多成就"}),m.jsxs("div",{className:"bg-primary py-1 px-4 w-fit absolute -top-12 left-1/2 transform -translate-x-1/2",children:[m.jsx("p",{className:"font-lobster font-normal text-2xl leading-8 text-alert",children:"Achievement"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[-16px] before:w-0 before:h-0 before:border-l-[20px] before:border-r-0 before:border-t-[12px] before:border-l-primary before:border-r-transparent before:border-t-primary-dark before:z-20"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[114px] before:w-0 before:h-0 before:border-r-[20px] before:border-l-0 before:border-t-[12px] before:border-r-primary before:border-l-transparent before:border-t-primary-dark before:z-20"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[-46px] before:w-8 before:h-10 before:bg-primary"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[134px] before:w-8 before:h-10 before:bg-primary"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[166px] before:w-0 before:h-0 before:border-l-0 before:border-r-[20px] before:border-b-[20px] before:border-l-transparent before:border-r-transparent before:border-b-primary before:z-20"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-1 before:left-[166px] before:w-0 before:h-0 before:border-l-0 before:border-r-[20px] before:border-t-[20px] before:border-l-transparent before:border-r-transparent before:border-t-primary before:z-20"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[-66px] before:w-0 before:h-0 before:border-l-[20px] before:border-r-0 before:border-b-[20px] before:border-l-transparent before:border-r-transparent before:border-b-primary before:z-20"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-1 before:left-[-66px] before:w-0 before:h-0 before:border-l-[20px] before:border-r-0 before:border-t-[20px] before:border-l-transparent before:border-r-transparent before:border-t-primary before:z-20"})]})]});N4.propTypes={sortedAchievements:q.array.isRequired,userAchievements:q.array.isRequired,handleAchievementModal:q.func.isRequired};const R4=({sortedBadges:t,userBadges:e,handleBadgeModal:r})=>m.jsxs("div",{className:"pt-9 pb-4 px-4 bg-black-50 dark:bg-black-800 space-y-4 rounded-2xl relative",children:[m.jsx("ul",{className:"grid grid-cols-3 gap-4 md:grid-cols-6",children:t.slice(0,6).map((n,i)=>m.jsx("li",{className:"relative w-full h-fit",children:m.jsx("img",{src:n.image,alt:`Badge ${i}`,className:`w-full h-full object-cover ${e.includes(n.id)?"opacity-100":"opacity-30"}`})},n.id))}),m.jsx("button",{className:"text-center w-full bg-primary rounded-xl font-medium text-sm leading-5 py-1 hover:bg-primary-dark",onClick:r,children:"更多獎勵徽章"}),m.jsxs("div",{className:"bg-primary py-1 px-4 w-[150px] absolute -top-12 left-1/2 transform -translate-x-1/2",children:[m.jsx("p",{className:"font-lobster font-normal text-2xl leading-8 text-alert text-center",children:"Badge"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[-16px] before:w-0 before:h-0 before:border-l-[20px] before:border-r-0 before:border-t-[13px] before:border-l-primary before:border-r-transparent before:border-t-primary-dark before:z-20"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[114px] before:w-0 before:h-0 before:border-r-[20px] before:border-l-0 before:border-t-[13px] before:border-r-primary before:border-l-transparent before:border-t-primary-dark before:z-20"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[-46px] before:w-8 before:h-10 before:bg-primary"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[134px] before:w-8 before:h-10 before:bg-primary"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[166px] before:w-0 before:h-0 before:border-l-0 before:border-r-[20px] before:border-b-[20px] before:border-l-transparent before:border-r-transparent before:border-b-primary before:z-20"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-1 before:left-[166px] before:w-0 before:h-0 before:border-l-0 before:border-r-[20px] before:border-t-[20px] before:border-l-transparent before:border-r-transparent before:border-t-primary before:z-20"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[-66px] before:w-0 before:h-0 before:border-l-[20px] before:border-r-0 before:border-b-[20px] before:border-l-transparent before:border-r-transparent before:border-b-primary before:z-20"}),m.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-1 before:left-[-66px] before:w-0 before:h-0 before:border-l-[20px] before:border-r-0 before:border-t-[20px] before:border-l-transparent before:border-r-transparent before:border-t-primary before:z-20"})]})]});R4.propTypes={sortedBadges:q.array.isRequired,userBadges:q.array.isRequired,handleBadgeModal:q.func.isRequired};const j4=({handleAchievementModal:t,userAchievements:e,sortedAchievements:r})=>m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h3",{className:"font-bold text-lg leading-7 text-black dark:text-black-0",children:"你的成就"}),m.jsx(wt.TbX,{className:"w-8 h-8 cursor-pointer hover:text-alert text-black dark:text-black-0",onClick:t})]}),m.jsx("div",{className:"max-h-56 overflow-scroll",children:m.jsx("ul",{className:"grid grid-cols-2 gap-4",children:r.map(n=>{const i=e.includes(n.id);return m.jsxs("li",{children:[m.jsx("div",{className:`py-1 w-full flex justify-center items-center rounded-lg border-2 cursor-default ${i?"opacity-100 border-primary-dark bg-light":"opacity-50 border-black-500 bg-black-100 text-black dark:border-black-300"}`,children:m.jsx("p",{className:`font-normal text-base leading-6 md:text-xl md:leading-7 stroke-text ${i?"text-primary z-0":"text-black"}`,"data-stroke":i?n.name:"",children:n.name})}),m.jsx("p",{className:"mt-1 text-black dark:text-black-0 text-center font-normal text-xs leading-4 md:text-sm md:leading-5",children:n.description})]},n.id)})})})]});j4.propTypes={handleAchievementModal:q.func.isRequired,achievements:q.array.isRequired,userAchievements:q.array.isRequired,sortedAchievements:q.array.isRequired};const D4=({handleBadgeModal:t,sortedBadges:e,userBadges:r})=>m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h3",{className:"font-bold text-lg leading-7 text-black dark:text-black-0",children:"你的獎勵徽章"}),m.jsx(wt.TbX,{className:"w-8 h-8 cursor-pointer hover:text-alert text-black dark:text-black-0",onClick:t})]}),m.jsx("div",{className:"max-h-56 overflow-scroll",children:m.jsx("ul",{className:"grid grid-cols-3 gap-4",children:e.map((n,i)=>m.jsxs("li",{className:"relative w-full h-fit",children:[m.jsx("img",{src:n.image,alt:`Badge ${i}`,className:`w-full h-full object-cover ${r.includes(n.id)?"opacity-100":"opacity-30"}`}),m.jsx("div",{className:"mt-1 text-black dark:text-black-0 text-center font-normal text-xs leading-4 md:text-sm md:leading-5",children:n.description})]},n.id))})})]});D4.propTypes={handleBadgeModal:q.func.isRequired,sortedBadges:q.array.isRequired,userBadges:q.array.isRequired};function xbe(){const{user:t}=M.useContext(Qn),[e,r]=M.useState(!1),[n,i]=M.useState(!1),[a,o]=M.useState(!1),[s,l]=M.useState(!1),[c,u]=M.useState(!1),[f,h]=M.useState(!0),[p,g]=M.useState({uid:"",email:"",name:"",introduction:"",avatar:"",levelPoints:0,isAcceptReminder:!1,isDarkMode:!1,achievements:[],badges:[],habits:[]}),[y,b]=M.useState([]),[_,v]=M.useState(null),[x,k]=M.useState({category:0,title:"",frequency:"daily",amount:0,startDate:"",endDate:"",status:[]}),[T,C]=M.useState(0),[S,E]=M.useState(!1),[P,O]=M.useState(""),R=M.useRef(null),[N,I]=M.useState(null),[V,B]=M.useState("all"),[W,H]=M.useState([]),[U,G]=M.useState([]),[J,oe]=M.useState([]),[Y,se]=M.useState([]),[Ee,Re]=M.useState(El),[Ze]=M.useState([{label:"全部習慣",value:"all"},{label:"進行中",value:"in-progress"},{label:"已結束",value:"finished"}]),Ve=[{id:0,name:"生產力",icon:kr.TbRocket},{id:1,name:"個人成長",icon:kr.TbBook},{id:2,name:"運動健身",icon:kr.TbWalk},{id:3,name:"飲食健康",icon:kr.TbBowlChopsticks},{id:4,name:"心靈成長",icon:kr.TbMoodHeart},{id:5,name:"手作興趣",icon:kr.TbHandGrab},{id:6,name:"財務管理",icon:kr.TbCash},{id:7,name:"環境生活",icon:kr.TbPlant}];M.useEffect(()=>{(async()=>{if(t){const Pe=await ii(t.uid);Pe&&g(Pe),Z(),Mt(),ce(t.uid),xe(),_e(t.uid)}})()}),M.useEffect(()=>{const fe=new Date;I({year:fe.getFullYear(),month:fe.getMonth(),day:fe.getDate()})},[]);const Mt=async()=>{const fe=await vq();H(fe)},ce=async fe=>{const Pe=await bq(fe);G(Pe)},xe=async()=>{const fe=await xq();oe(fe)},_e=async fe=>{const Pe=await wq(fe);se(Pe)},Q=()=>{r(!e)},Ue=()=>{i(!n)},re=fe=>{k({category:fe.category,title:fe.title,frequency:fe.frequency,amount:fe.amount,startDate:fe.startDate,endDate:fe.endDate,status:fe.status,type:fe.type}),o(!a),i(!1)},ge=()=>{l(!s)},be=()=>{u(!c)},ke=async fe=>{if(t&&t.uid)try{await b1(t.uid,fe),g(fe),$y()}catch(Pe){console.error("更新資料失敗",Pe)}},j=async fe=>{await ke(fe),Q()},$=async fe=>{const{name:Pe,value:ze,files:We}=fe.target;if(Pe==="avatar"&&We&&We[0]){const tt=fe.target.files[0],Ht=["image/jpeg","image/jpg","image/png","image/gif"];if(!tt||!Ht.includes(tt.type))return;try{const ft=await LD(t.uid,tt);g(Ti=>({...Ti,avatar:ft}))}catch(ft){console.error("上傳頭像失敗",ft)}}else g(Pe==="isDarkMode"||Pe==="isAcceptReminder"?tt=>({...tt,[Pe]:ze==="true"}):tt=>({...tt,[Pe]:ze}))},F=fe=>{const{name:Pe,value:ze}=fe.target;if(Pe==="frequency"){const We={type:ze},tt=X(x.startDate,x.endDate,We);k(Ht=>({...Ht,frequency:We,status:tt}))}else k(We=>({...We,[Pe]:ze}))},X=(fe,Pe,ze)=>{const We=new Date(fe),tt=new Date(Pe),Ht=[];if(ze.type==="daily")for(let ft=We;ft<=tt;ft.setDate(ft.getDate()+1))Ht.push({date:new Date(ft).toDateString(),completed:!1});else if(ze.type==="weekly")for(let ft=We;ft<=tt;ft.setDate(ft.getDate()+7))Ht.push({date:new Date(ft).toDateString(),completed:!1});else if(ze.type==="specificDays"){const ft=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Ti=ze.days||[];for(let en=We;en<=tt;en.setDate(en.getDate()+1))Ti.includes(ft[en.getDay()])&&Ht.push({date:new Date(en).toDateString(),completed:!1})}return Ht},Z=async()=>{if(t)try{const fe=await us(t.uid);b(fe)}catch(fe){console.error("Error fetching habits: ",fe)}},ne=fe=>{O(fe),E(!0)},de=async()=>{if(t&&_){const fe=new Date(x.startDate);if(new Date(x.endDate)<=fe){alert("結束日期必須晚於開始日期");return}const We={..._,...x,id:_.id};await Db(t.uid,_.id,We),await kl(t.uid),await Vu(t.uid);const tt=await Lu(t.uid,"habit");await Fu(t.uid,"habit",tt),Z(),o(!1),i(!1)}else console.error("User not authenticated or habit not selected")},Be=async()=>{if(t&&_){await $D(t.uid,_.id),await kl(t.uid),await Vu(t.uid);const fe=await Lu(t.uid,"habit");await Fu(t.uid,"habit",fe);const Pe=await us(t.uid);b(Pe),Pe.filter(We=>We.category===_.category).length===0&&await VD(t.uid,_.category),Z(),o(!1),i(!1)}else console.error("User not authenticated or habit not selected")},De=fe=>{if(I(fe),P){const Pe=`${fe.year}-${String(fe.month+1).padStart(2,"0")}-${String(fe.day).padStart(2,"0")}`;k(ze=>({...ze,[P]:Pe})),E(!1),O("")}},Le=fe=>{const Pe=new Date;return Pe.setHours(0,0,0,0),fe.status.filter(We=>{const tt=new Date(We.date);return tt.setHours(0,0,0,0),tt<Pe&&!We.completed}).length*fe.amount},zr=fe=>{v(fe),C(Le(fe)),i(!0)},Os=y.filter(fe=>{const Pe=new Date;Pe.setHours(0,0,0,0);const ze=new Date(fe.endDate);return ze.setHours(0,0,0,0),V==="in-progress"?ze>=Pe:V==="finished"?ze<Pe:!0}).sort((fe,Pe)=>new Date(Pe.endDate)-new Date(fe.endDate)),da=((fe,Pe)=>fe.sort((ze,We)=>{const tt=Pe.includes(ze.id),Ht=Pe.includes(We.id);if(tt&&!Ht)return-1;if(!tt&&Ht)return 1;if(!tt&&!Ht){const ft={habit:1,savings:2,streak:3},Ti=ft[ze.condition.type]||4,en=ft[We.condition.type]||4;if(Ti!==en)return Ti-en;if(ze.condition.count!==We.condition.count)return(ze.condition.count||0)-(We.condition.count||0);if(ze.condition.amount!==We.condition.amount)return(ze.condition.amount||0)-(We.condition.amount||0);if(ze.condition.percent!==We.condition.percent)return(ze.condition.percent||0)-(We.condition.percent||0)}return 0}))(W,U),pa=((fe,Pe)=>fe.sort((ze,We)=>{const tt=Pe.includes(ze.id),Ht=Pe.includes(We.id);return tt&&!Ht?-1:!tt&&Ht?1:0}))(J,Y),Cs=fe=>{const Pe=Math.floor(fe/100),ze=fe%100;return{level:Pe,points:ze}},{level:ma,points:Ud}=Cs(p.levelPoints);M.useEffect(()=>{const fe=setInterval(()=>{Re(Pe=>Pe===El?XD:El)},250);return()=>clearInterval(fe)},[]);const $y=()=>_n("個人資料已更新");return m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"p-4 md:py-10 space-y-4",children:[m.jsxs("ul",{className:"grid grid-cols-2 w-full",children:[m.jsx("li",{className:`border border-black-500 rounded-s-full py-1 font-normal text-sm leading-5 text-center ${f?"bg-primary":"bg-black-50"}`,onClick:()=>h(!0),children:"會員管理"}),m.jsx("li",{className:`border-e border-y border-black-500 rounded-e-full py-1 font-normal text-sm leading-5 text-center ${f?"bg-black-50":"bg-primary"}`,onClick:()=>h(!1),children:"歷史習慣"})]}),f?m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h2",{className:"font-bold text-xl leading-7 text-black dark:text-black-0",children:"會員管理"}),m.jsx(GD.TbSettings,{className:"w-8 h-8 cursor-pointer hover:text-alert text-black dark:text-black-0",onClick:Q})]}):m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h2",{className:"font-bold text-xl leading-7 text-black dark:text-black-0",children:"歷史習慣"}),m.jsx("div",{className:"relative",children:m.jsx(Za,{options:Ze,value:V,onChange:B})})]}),f?m.jsxs("div",{className:"space-y-14",children:[m.jsxs("div",{className:"p-4 bg-black-50 dark:bg-black-800 rounded-2xl space-y-2",children:[m.jsx("div",{className:"flex justify-between items-start",children:m.jsxs("div",{className:"flex gap-3",children:[m.jsx("img",{src:p.avatar,alt:"user's avatar",className:"w-12 h-12 rounded-full outline outline-primary-dark dark:outline-primary"}),m.jsxs("div",{className:"flex flex-col",children:[m.jsx("h3",{className:"font-bold text-base leading-6 text-black dark:text-black-0",children:p.name}),m.jsxs("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:["Lv.",ma]})]})]})}),m.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:p.introduction}),m.jsxs("div",{className:"w-full h-6 bg-light dark:bg-black-950 text-center rounded-2xl text-black dark:text-black-0 relative",children:[m.jsx("div",{className:"bg-primary-dark h-full rounded-2xl relative",style:{width:`${Ud}%`},children:m.jsx("img",{src:Ee,alt:"habit piggy",className:"w-14 h-14 absolute top-1/2 transform -translate-y-1/2 z-20",style:{right:"-10px"}})}),m.jsxs("span",{className:"absolute inset-0 flex items-center justify-center",children:[Ud,"%"]})]})]}),m.jsx(N4,{sortedAchievements:da,userAchievements:U,handleAchievementModal:ge}),m.jsx(R4,{sortedBadges:pa,userBadges:Y,handleBadgeModal:be})]}):m.jsx(S1,{habits:Os,habitCategories:Ve,handleDetailClick:zr})]}),m.jsx(T1,{}),m.jsx(Bn,{isOpen:e,onClose:Q,children:m.jsx(w1,{profileData:p,handleChange:$,handleSaveAndClose:j,handleSettingModal:Q})}),m.jsx(Bn,{isOpen:n,onClose:Ue,children:m.jsx(k1,{selectedHabit:_,handleDetailModal:Ue,uncompletedFine:T,handleEditModal:re,habitCategories:Ve})}),m.jsx(Bn,{isOpen:a,onClose:re,children:m.jsx(E1,{habitData:x,handleHabitChange:F,handleUpdateHabit:de,handleFocus:ne,showMonthCalendar:S,calendarTarget:P,calendarRef:R,handleEditModal:re,handleDeleteHabit:Be,habitCategories:Ve,setHabitData:k,monthCalendarDate:N,handleMonthCalendarSelectDate:De,setCalendarTarget:O,setShowMonthCalendar:E})}),m.jsx(Bn,{isOpen:s,onClose:ge,children:m.jsx(j4,{handleAchievementModal:ge,userAchievements:U,sortedAchievements:da})}),m.jsx(Bn,{isOpen:c,onClose:be,children:m.jsx(D4,{handleBadgeModal:be,badges:J,userBadges:Y,sortedBadges:pa})})]})}function wbe(){return m.jsx("div",{children:m.jsx("h1",{children:"Error"})})}function M4({children:t,isModalOpen:e,modalContent:r}){const n=vs(),i=s_(),{setUser:a,isDarkMode:o}=M.useContext(Qn),[s,l]=M.useState(!1),c=async()=>{await lq(),a(null),i("/")},u=()=>{l(!s)},f=()=>{window.innerWidth>=1536?l(!0):l(!1)},h=()=>{window.innerWidth<1536&&s&&l(!s)};return M.useEffect(()=>(f(),window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)),[]),m.jsxs("div",{className:`font-huninn bg-light dark:bg-black-950 relative min-h-screen ${o?"dark":""}`,children:[n.pathname!=="/"?m.jsxs("nav",{className:`pt-2 pb-3 px-4 bg-black-50 dark:bg-black-800 fixed inset-x-0 bottom-0 flex gap-x-4 z-50 border-t border-primary md:p-4 md:flex-col md:justify-between md:border-t-0 md:border-r md:h-full transition-all duration-200 ease-in-out ${s?"md:w-[240px]":"md:w-20"}`,children:[m.jsxs("div",{className:`hidden md:flex md:items-center ${s?"md:justify-between":"md:justify-center"}`,children:[m.jsx("p",{className:`text-black dark:text-black-0 font-lobster font-normal text-2xl leading-8 ml-6 hidden text-nowrap ${s?"md:block":""}`,children:"Habit Piggy"}),m.jsx(_A.TbLayoutSidebarRight,{className:"w-6 h-6 md:w-8 md:h-8 text-black dark:text-black-0 hover:text-alert cursor-pointer",onClick:u})]}),m.jsxs("ul",{className:"grid grid-cols-5 items-center w-full md:grid-cols-1 md:gap-4 transition-all duration-200 ease-in-out",children:[m.jsx($s,{to:"/home",className:"block",onClick:h,children:m.jsxs("li",{className:`md:py-1 md:px-2 flex flex-col items-center gap-1 ${s?"md:rounded-full md:flex-row hover:md:bg-primary-light":""} ${n.pathname==="/home"&&s?"md:bg-primary":""}`,children:[m.jsx("div",{className:`flex justify-center items-center py-1 px-4 rounded-xl md:px-2 md:aspect-square ${s?"md:bg-transparent dark:bg-transparent":""} ${n.pathname==="/home"?"bg-light dark:bg-black-950":"hover:bg-primary-light"} ${n.pathname==="/home"&&s?"md:bg-transparent hover:bg-primary-light hover:md:bg-transparent":""}`,children:m.jsx(Jc.TbHome2,{className:`w-6 h-6 md:w-8 md:h-8 ${s?"md:text-black dark:text-black-0":""} ${n.pathname==="/home"?"text-primary-dark":"text-black dark:text-black-0"} ${n.pathname==="/home"&&s?"":"md:text-black"} ${n.pathname==="/home"&&!s?"md:text-primary-dark":""}`})}),m.jsx("p",{className:"text-black dark:text-black-0 font-normal text-xs leading-4 text-nowrap md:text-base md:leading-6",children:"主頁"})]})}),m.jsx($s,{to:"/savings",className:"block",onClick:h,children:m.jsxs("li",{className:`md:py-1 md:px-2 flex flex-col items-center gap-1 ${s?"md:rounded-full md:flex-row hover:md:bg-primary-light":""} ${n.pathname==="/savings"&&s?"md:bg-primary":""}`,children:[m.jsx("div",{className:`flex justify-center items-center py-1 px-4 rounded-xl md:px-2 md:aspect-square ${s?"md:bg-transparent dark:bg-transparent":""} ${n.pathname==="/savings"?"bg-light dark:bg-black-950":"hover:bg-primary-light"} ${n.pathname==="/savings"&&s?"md:bg-transparent hover:bg-primary-light hover:md:bg-transparent":""}`,children:m.jsx(Jc.TbCoin,{className:`w-6 h-6 md:w-8 md:h-8 ${s?"md:text-black dark:text-black-0":""} ${n.pathname==="/savings"?"text-primary-dark":"text-black dark:text-black-0"} ${n.pathname==="/savings"&&s?"":"md:text-black"} ${n.pathname==="/savings"&&!s?"md:text-primary-dark":""}`})}),m.jsx("p",{className:"text-black dark:text-black-0 font-normal text-xs leading-4 text-nowrap md:text-base md:leading-6",children:"存款"})]})}),m.jsx($s,{to:"/rank",className:"block",onClick:h,children:m.jsxs("li",{className:`md:py-1 md:px-2 flex flex-col items-center gap-1 ${s?"md:rounded-full md:flex-row hover:md:bg-primary-light":""} ${n.pathname==="/rank"&&s?"md:bg-primary":""}`,children:[m.jsx("div",{className:`flex justify-center items-center py-1 px-4 rounded-xl md:px-2 md:aspect-square ${s?"md:bg-transparent dark:bg-transparent":""} ${n.pathname==="/rank"?"bg-light dark:bg-black-950":"hover:bg-primary-light"} ${n.pathname==="/rank"&&s?"md:bg-transparent hover:bg-primary-light hover:md:bg-transparent":""}`,children:m.jsx(Jc.TbMedal2,{className:`w-6 h-6 md:w-8 md:h-8 ${s?"md:text-black dark:text-black-0":""} ${n.pathname==="/rank"?"text-primary-dark":"text-black dark:text-black-0"} ${n.pathname==="/rank"&&s?"":"md:text-black"} ${n.pathname==="/rank"&&!s?"md:text-primary-dark":""}`})}),m.jsx("p",{className:"text-black dark:text-black-0 font-normal text-xs leading-4 text-nowrap md:text-base md:leading-6",children:"排行"})]})}),m.jsx($s,{to:"/posts",className:"block",onClick:h,children:m.jsxs("li",{className:`md:py-1 md:px-2 flex flex-col items-center gap-1 ${s?"md:rounded-full md:flex-row hover:md:bg-primary-light":""} ${n.pathname==="/posts"&&s?"md:bg-primary":""}`,children:[m.jsx("div",{className:`flex justify-center items-center py-1 px-4 rounded-xl md:px-2 md:aspect-square ${s?"md:bg-transparent dark:bg-transparent":""} ${n.pathname==="/posts"?"bg-light dark:bg-black-950":"hover:bg-primary-light"} ${n.pathname==="/posts"&&s?"md:bg-transparent hover:bg-primary-light hover:md:bg-transparent":""}`,children:m.jsx(Jc.TbMessage,{className:`w-6 h-6 md:w-8 md:h-8 ${s?"md:text-black dark:text-black-0":""} ${n.pathname==="/posts"?"text-primary-dark":"text-black dark:text-black-0"} ${n.pathname==="/posts"&&s?"":"md:text-black"} ${n.pathname==="/posts"&&!s?"md:text-primary-dark":""}`})}),m.jsx("p",{className:"text-black dark:text-black-0 font-normal text-xs leading-4 text-nowrap md:text-base md:leading-6",children:"貼文"})]})}),m.jsx($s,{to:"/member",className:"block",onClick:h,children:m.jsxs("li",{className:`md:py-1 md:px-2 flex flex-col items-center gap-1 ${s?"md:rounded-full md:flex-row hover:md:bg-primary-light":""} ${n.pathname==="/member"&&s?"md:bg-primary":""}`,children:[m.jsx("div",{className:`flex justify-center items-center py-1 px-4 rounded-xl md:px-2 md:aspect-square ${s?"md:bg-transparent dark:bg-transparent":""} ${n.pathname==="/member"?"bg-light dark:bg-black-950":"hover:bg-primary-light"} ${n.pathname==="/member"&&s?"md:bg-transparent hover:bg-primary-light hover:md:bg-transparent":""}`,children:m.jsx(Jc.TbMoodSmile,{className:`w-6 h-6 md:w-8 md:h-8 ${s?"md:text-black dark:text-black-0":""} ${n.pathname==="/member"?"text-primary-dark":"text-black dark:text-black-0"} ${n.pathname==="/member"&&s?"":"md:text-black"} ${n.pathname==="/member"&&!s?"md:text-primary-dark":""}`})}),m.jsx("p",{className:"text-black dark:text-black-0 font-normal text-xs leading-4 text-nowrap md:text-base md:leading-6",children:"會員"})]})})]}),m.jsx($s,{to:"/",className:`hidden md:block ${n.pathname==="/"?"invisible":""}`,onClick:()=>{c(),h()},children:m.jsxs("div",{className:`md:py-1 md:px-2 flex flex-col items-center gap-1 ${s?"md:rounded-full md:flex-row hover:md:bg-primary-light":""}`,children:[m.jsx("div",{className:`flex justify-center items-center py-1 px-4 rounded-xl md:px-2 md:aspect-square ${s?"md:bg-transparent dark:bg-transparent":"hover:bg-primary-light"}`,children:m.jsx(_A.TbLogout,{className:`w-6 h-6 md:w-8 md:h-8 dark:text-black-0 ${s?"md:text-black":""}`})}),m.jsx("p",{className:`text-black dark:text-black-0 ${s?"text-base leading-6 text-nowrap":"hidden"}`,children:"登出"})]})})]}):null,m.jsx("div",{className:`md:max-w-screen-md xl:max-w-[1160px] my-0 mx-auto flex flex-col md:flex-row min-h-screen relative ${s&&window.innerWidth<1536?"blur-sm":""}`,children:m.jsx("div",{className:"mt-0 mb-[86px] md:mb-0 w-full p-0 relative",children:t})}),e&&m.jsx(Bn,{isOpen:e,children:r})]})}M4.propTypes={children:q.node,isModalOpen:q.bool.isRequired,modalContent:q.node};const Gs=({children:t})=>{const{user:e}=M.useContext(Qn);return e?t:m.jsx(WN,{to:"/"})};Gs.propTypes={children:q.node.isRequired};function _be(){return m.jsx(WD,{children:m.jsx(PF,{children:m.jsx(M4,{children:m.jsxs(wF,{children:[m.jsx(wa,{path:"/",element:m.jsx(gH,{})}),m.jsx(wa,{path:"/home",element:m.jsx(Gs,{children:m.jsx(oK,{})})}),m.jsx(wa,{path:"/savings",element:m.jsx(Gs,{children:m.jsx(ybe,{})})}),m.jsx(wa,{path:"/rank",element:m.jsx(Gs,{children:m.jsx(vbe,{})})}),m.jsx(wa,{path:"/posts",element:m.jsx(Gs,{children:m.jsx(bbe,{})})}),m.jsx(wa,{path:"/member",element:m.jsx(Gs,{children:m.jsx(xbe,{})})}),m.jsx(wa,{path:"*",element:m.jsx(wbe,{})})]})})})})}jN(document.getElementById("root")).render(m.jsx(M.StrictMode,{children:m.jsx(_be,{})}));
