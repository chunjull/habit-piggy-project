function jL(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Sd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ke(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var cO={exports:{}},mm={},uO={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cf=Symbol.for("react.element"),DL=Symbol.for("react.portal"),ML=Symbol.for("react.fragment"),$L=Symbol.for("react.strict_mode"),LL=Symbol.for("react.profiler"),VL=Symbol.for("react.provider"),FL=Symbol.for("react.context"),UL=Symbol.for("react.forward_ref"),BL=Symbol.for("react.suspense"),zL=Symbol.for("react.memo"),WL=Symbol.for("react.lazy"),kk=Symbol.iterator;function qL(t){return t===null||typeof t!="object"?null:(t=kk&&t[kk]||t["@@iterator"],typeof t=="function"?t:null)}var fO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dO=Object.assign,hO={};function Il(t,e,n){this.props=t,this.context=e,this.refs=hO,this.updater=n||fO}Il.prototype.isReactComponent={};Il.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Il.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function pO(){}pO.prototype=Il.prototype;function mw(t,e,n){this.props=t,this.context=e,this.refs=hO,this.updater=n||fO}var gw=mw.prototype=new pO;gw.constructor=mw;dO(gw,Il.prototype);gw.isPureReactComponent=!0;var Ek=Array.isArray,mO=Object.prototype.hasOwnProperty,yw={current:null},gO={key:!0,ref:!0,__self:!0,__source:!0};function yO(t,e,n){var r,i={},a=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)mO.call(e,r)&&!gO.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Cf,type:t,key:a,ref:o,props:i,_owner:yw.current}}function HL(t,e){return{$$typeof:Cf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function vw(t){return typeof t=="object"&&t!==null&&t.$$typeof===Cf}function KL(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Sk=/\/+/g;function ly(t,e){return typeof t=="object"&&t!==null&&t.key!=null?KL(""+t.key):e.toString(36)}function fh(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Cf:case DL:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+ly(o,0):r,Ek(i)?(n="",t!=null&&(n=t.replace(Sk,"$&/")+"/"),fh(i,e,n,"",function(c){return c})):i!=null&&(vw(i)&&(i=HL(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Sk,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Ek(t))for(var s=0;s<t.length;s++){a=t[s];var l=r+ly(a,s);o+=fh(a,e,n,l,i)}else if(l=qL(t),typeof l=="function")for(t=l.call(t),s=0;!(a=t.next()).done;)a=a.value,l=r+ly(a,s++),o+=fh(a,e,n,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Td(t,e,n){if(t==null)return t;var r=[],i=0;return fh(t,r,"","",function(a){return e.call(n,a,i++)}),r}function GL(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var On={current:null},dh={transition:null},XL={ReactCurrentDispatcher:On,ReactCurrentBatchConfig:dh,ReactCurrentOwner:yw};function vO(){throw Error("act(...) is not supported in production builds of React.")}Oe.Children={map:Td,forEach:function(t,e,n){Td(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Td(t,function(){e++}),e},toArray:function(t){return Td(t,function(e){return e})||[]},only:function(t){if(!vw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Oe.Component=Il;Oe.Fragment=ML;Oe.Profiler=LL;Oe.PureComponent=mw;Oe.StrictMode=$L;Oe.Suspense=BL;Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XL;Oe.act=vO;Oe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=dO({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=yw.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)mO.call(e,l)&&!gO.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:Cf,type:t.type,key:i,ref:a,props:r,_owner:o}};Oe.createContext=function(t){return t={$$typeof:FL,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:VL,_context:t},t.Consumer=t};Oe.createElement=yO;Oe.createFactory=function(t){var e=yO.bind(null,t);return e.type=t,e};Oe.createRef=function(){return{current:null}};Oe.forwardRef=function(t){return{$$typeof:UL,render:t}};Oe.isValidElement=vw;Oe.lazy=function(t){return{$$typeof:WL,_payload:{_status:-1,_result:t},_init:GL}};Oe.memo=function(t,e){return{$$typeof:zL,type:t,compare:e===void 0?null:e}};Oe.startTransition=function(t){var e=dh.transition;dh.transition={};try{t()}finally{dh.transition=e}};Oe.unstable_act=vO;Oe.useCallback=function(t,e){return On.current.useCallback(t,e)};Oe.useContext=function(t){return On.current.useContext(t)};Oe.useDebugValue=function(){};Oe.useDeferredValue=function(t){return On.current.useDeferredValue(t)};Oe.useEffect=function(t,e){return On.current.useEffect(t,e)};Oe.useId=function(){return On.current.useId()};Oe.useImperativeHandle=function(t,e,n){return On.current.useImperativeHandle(t,e,n)};Oe.useInsertionEffect=function(t,e){return On.current.useInsertionEffect(t,e)};Oe.useLayoutEffect=function(t,e){return On.current.useLayoutEffect(t,e)};Oe.useMemo=function(t,e){return On.current.useMemo(t,e)};Oe.useReducer=function(t,e,n){return On.current.useReducer(t,e,n)};Oe.useRef=function(t){return On.current.useRef(t)};Oe.useState=function(t){return On.current.useState(t)};Oe.useSyncExternalStore=function(t,e,n){return On.current.useSyncExternalStore(t,e,n)};Oe.useTransition=function(){return On.current.useTransition()};Oe.version="18.3.1";uO.exports=Oe;var D=uO.exports;const M=Ke(D),YL=jL({__proto__:null,default:M},[D]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QL=D,JL=Symbol.for("react.element"),ZL=Symbol.for("react.fragment"),e4=Object.prototype.hasOwnProperty,t4=QL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n4={key:!0,ref:!0,__self:!0,__source:!0};function bO(t,e,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)e4.call(e,r)&&!n4.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:JL,type:t,key:a,ref:o,props:i,_owner:t4.current}}mm.Fragment=ZL;mm.jsx=bO;mm.jsxs=bO;cO.exports=mm;var g=cO.exports,wO={exports:{}},Jn={},_O={exports:{}},xO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,H){var Z=$.length;$.push(H);e:for(;0<Z;){var ae=Z-1>>>1,Q=$[ae];if(0<i(Q,H))$[ae]=H,$[Z]=Q,Z=ae;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var H=$[0],Z=$.pop();if(Z!==H){$[0]=Z;e:for(var ae=0,Q=$.length,F=Q>>>1;ae<F;){var K=2*(ae+1)-1,le=$[K],me=K+1,_e=$[me];if(0>i(le,Z))me<Q&&0>i(_e,le)?($[ae]=_e,$[me]=Z,ae=me):($[ae]=le,$[K]=Z,ae=K);else if(me<Q&&0>i(_e,Z))$[ae]=_e,$[me]=Z,ae=me;else break e}}return H}function i($,H){var Z=$.sortIndex-H.sortIndex;return Z!==0?Z:$.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],c=[],u=1,f=null,h=3,p=!1,m=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _($){for(var H=n(c);H!==null;){if(H.callback===null)r(c);else if(H.startTime<=$)r(c),H.sortIndex=H.expirationTime,e(l,H);else break;H=n(c)}}function k($){if(y=!1,_($),!m)if(n(l)!==null)m=!0,z(S);else{var H=n(c);H!==null&&Y(k,H.startTime-$)}}function S($,H){m=!1,y&&(y=!1,x(E),E=-1),p=!0;var Z=h;try{for(_(H),f=n(l);f!==null&&(!(f.expirationTime>H)||$&&!N());){var ae=f.callback;if(typeof ae=="function"){f.callback=null,h=f.priorityLevel;var Q=ae(f.expirationTime<=H);H=t.unstable_now(),typeof Q=="function"?f.callback=Q:f===n(l)&&r(l),_(H)}else r(l);f=n(l)}if(f!==null)var F=!0;else{var K=n(c);K!==null&&Y(k,K.startTime-H),F=!1}return F}finally{f=null,h=Z,p=!1}}var I=!1,T=null,E=-1,P=5,O=-1;function N(){return!(t.unstable_now()-O<P)}function R(){if(T!==null){var $=t.unstable_now();O=$;var H=!0;try{H=T(!0,$)}finally{H?C():(I=!1,T=null)}}else I=!1}var C;if(typeof b=="function")C=function(){b(R)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,q=L.port2;L.port1.onmessage=R,C=function(){q.postMessage(null)}}else C=function(){v(R,0)};function z($){T=$,I||(I=!0,C())}function Y($,H){E=v(function(){$(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,z(S))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(h){case 1:case 2:case 3:var H=3;break;default:H=h}var Z=h;h=H;try{return $()}finally{h=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,H){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var Z=h;h=$;try{return H()}finally{h=Z}},t.unstable_scheduleCallback=function($,H,Z){var ae=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?ae+Z:ae):Z=ae,$){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=Z+Q,$={id:u++,callback:H,priorityLevel:$,startTime:Z,expirationTime:Q,sortIndex:-1},Z>ae?($.sortIndex=Z,e(c,$),n(l)===null&&$===n(c)&&(y?(x(E),E=-1):y=!0,Y(k,Z-ae))):($.sortIndex=Q,e(l,$),m||p||(m=!0,z(S))),$},t.unstable_shouldYield=N,t.unstable_wrapCallback=function($){var H=h;return function(){var Z=h;h=H;try{return $.apply(this,arguments)}finally{h=Z}}}})(xO);_O.exports=xO;var r4=_O.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i4=D,Qn=r4;function te(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kO=new Set,gu={};function Wo(t,e){Qs(t,e),Qs(t+"Capture",e)}function Qs(t,e){for(gu[t]=e,t=0;t<e.length;t++)kO.add(e[t])}var Ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kv=Object.prototype.hasOwnProperty,a4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Tk={},Ak={};function o4(t){return kv.call(Ak,t)?!0:kv.call(Tk,t)?!1:a4.test(t)?Ak[t]=!0:(Tk[t]=!0,!1)}function s4(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function l4(t,e,n,r){if(e===null||typeof e>"u"||s4(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Cn(t,e,n,r,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var nn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){nn[t]=new Cn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];nn[e]=new Cn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){nn[t]=new Cn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){nn[t]=new Cn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){nn[t]=new Cn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){nn[t]=new Cn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){nn[t]=new Cn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){nn[t]=new Cn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){nn[t]=new Cn(t,5,!1,t.toLowerCase(),null,!1,!1)});var bw=/[\-:]([a-z])/g;function ww(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(bw,ww);nn[e]=new Cn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(bw,ww);nn[e]=new Cn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(bw,ww);nn[e]=new Cn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){nn[t]=new Cn(t,1,!1,t.toLowerCase(),null,!1,!1)});nn.xlinkHref=new Cn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){nn[t]=new Cn(t,1,!1,t.toLowerCase(),null,!0,!0)});function _w(t,e,n,r){var i=nn.hasOwnProperty(e)?nn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(l4(e,n,i,r)&&(n=null),r||i===null?o4(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ui=i4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ad=Symbol.for("react.element"),ws=Symbol.for("react.portal"),_s=Symbol.for("react.fragment"),xw=Symbol.for("react.strict_mode"),Ev=Symbol.for("react.profiler"),EO=Symbol.for("react.provider"),SO=Symbol.for("react.context"),kw=Symbol.for("react.forward_ref"),Sv=Symbol.for("react.suspense"),Tv=Symbol.for("react.suspense_list"),Ew=Symbol.for("react.memo"),Zi=Symbol.for("react.lazy"),TO=Symbol.for("react.offscreen"),Pk=Symbol.iterator;function fc(t){return t===null||typeof t!="object"?null:(t=Pk&&t[Pk]||t["@@iterator"],typeof t=="function"?t:null)}var yt=Object.assign,cy;function Nc(t){if(cy===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);cy=e&&e[1]||""}return`
`+cy+t}var uy=!1;function fy(t,e){if(!t||uy)return"";uy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=s);break}}}finally{uy=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Nc(t):""}function c4(t){switch(t.tag){case 5:return Nc(t.type);case 16:return Nc("Lazy");case 13:return Nc("Suspense");case 19:return Nc("SuspenseList");case 0:case 2:case 15:return t=fy(t.type,!1),t;case 11:return t=fy(t.type.render,!1),t;case 1:return t=fy(t.type,!0),t;default:return""}}function Av(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _s:return"Fragment";case ws:return"Portal";case Ev:return"Profiler";case xw:return"StrictMode";case Sv:return"Suspense";case Tv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case SO:return(t.displayName||"Context")+".Consumer";case EO:return(t._context.displayName||"Context")+".Provider";case kw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ew:return e=t.displayName||null,e!==null?e:Av(t.type)||"Memo";case Zi:e=t._payload,t=t._init;try{return Av(t(e))}catch{}}return null}function u4(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Av(e);case 8:return e===xw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ca(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function AO(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function f4(t){var e=AO(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Pd(t){t._valueTracker||(t._valueTracker=f4(t))}function PO(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=AO(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Rh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Pv(t,e){var n=e.checked;return yt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ik(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ca(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function IO(t,e){e=e.checked,e!=null&&_w(t,"checked",e,!1)}function Iv(t,e){IO(t,e);var n=Ca(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ov(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ov(t,e.type,Ca(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ok(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ov(t,e,n){(e!=="number"||Rh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Rc=Array.isArray;function $s(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ca(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Cv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(te(91));return yt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ck(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(te(92));if(Rc(n)){if(1<n.length)throw Error(te(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ca(n)}}function OO(t,e){var n=Ca(e.value),r=Ca(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Nk(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function CO(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?CO(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Id,NO=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Id=Id||document.createElement("div"),Id.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Id.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function yu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var qc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},d4=["Webkit","ms","Moz","O"];Object.keys(qc).forEach(function(t){d4.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),qc[e]=qc[t]})});function RO(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||qc.hasOwnProperty(t)&&qc[t]?(""+e).trim():e+"px"}function jO(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=RO(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var h4=yt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rv(t,e){if(e){if(h4[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(te(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(te(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(te(61))}if(e.style!=null&&typeof e.style!="object")throw Error(te(62))}}function jv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dv=null;function Sw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Mv=null,Ls=null,Vs=null;function Rk(t){if(t=jf(t)){if(typeof Mv!="function")throw Error(te(280));var e=t.stateNode;e&&(e=wm(e),Mv(t.stateNode,t.type,e))}}function DO(t){Ls?Vs?Vs.push(t):Vs=[t]:Ls=t}function MO(){if(Ls){var t=Ls,e=Vs;if(Vs=Ls=null,Rk(t),e)for(t=0;t<e.length;t++)Rk(e[t])}}function $O(t,e){return t(e)}function LO(){}var dy=!1;function VO(t,e,n){if(dy)return t(e,n);dy=!0;try{return $O(t,e,n)}finally{dy=!1,(Ls!==null||Vs!==null)&&(LO(),MO())}}function vu(t,e){var n=t.stateNode;if(n===null)return null;var r=wm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(te(231,e,typeof n));return n}var $v=!1;if(Ii)try{var dc={};Object.defineProperty(dc,"passive",{get:function(){$v=!0}}),window.addEventListener("test",dc,dc),window.removeEventListener("test",dc,dc)}catch{$v=!1}function p4(t,e,n,r,i,a,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Hc=!1,jh=null,Dh=!1,Lv=null,m4={onError:function(t){Hc=!0,jh=t}};function g4(t,e,n,r,i,a,o,s,l){Hc=!1,jh=null,p4.apply(m4,arguments)}function y4(t,e,n,r,i,a,o,s,l){if(g4.apply(this,arguments),Hc){if(Hc){var c=jh;Hc=!1,jh=null}else throw Error(te(198));Dh||(Dh=!0,Lv=c)}}function qo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function FO(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function jk(t){if(qo(t)!==t)throw Error(te(188))}function v4(t){var e=t.alternate;if(!e){if(e=qo(t),e===null)throw Error(te(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return jk(i),t;if(a===r)return jk(i),e;a=a.sibling}throw Error(te(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(te(189))}}if(n.alternate!==r)throw Error(te(190))}if(n.tag!==3)throw Error(te(188));return n.stateNode.current===n?t:e}function UO(t){return t=v4(t),t!==null?BO(t):null}function BO(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=BO(t);if(e!==null)return e;t=t.sibling}return null}var zO=Qn.unstable_scheduleCallback,Dk=Qn.unstable_cancelCallback,b4=Qn.unstable_shouldYield,w4=Qn.unstable_requestPaint,St=Qn.unstable_now,_4=Qn.unstable_getCurrentPriorityLevel,Tw=Qn.unstable_ImmediatePriority,WO=Qn.unstable_UserBlockingPriority,Mh=Qn.unstable_NormalPriority,x4=Qn.unstable_LowPriority,qO=Qn.unstable_IdlePriority,gm=null,Wr=null;function k4(t){if(Wr&&typeof Wr.onCommitFiberRoot=="function")try{Wr.onCommitFiberRoot(gm,t,void 0,(t.current.flags&128)===128)}catch{}}var Tr=Math.clz32?Math.clz32:T4,E4=Math.log,S4=Math.LN2;function T4(t){return t>>>=0,t===0?32:31-(E4(t)/S4|0)|0}var Od=64,Cd=4194304;function jc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function $h(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,o=n&268435455;if(o!==0){var s=o&~i;s!==0?r=jc(s):(a&=o,a!==0&&(r=jc(a)))}else o=n&~i,o!==0?r=jc(o):a!==0&&(r=jc(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Tr(e),i=1<<n,r|=t[n],e&=~i;return r}function A4(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function P4(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-Tr(a),s=1<<o,l=i[o];l===-1?(!(s&n)||s&r)&&(i[o]=A4(s,e)):l<=e&&(t.expiredLanes|=s),a&=~s}}function Vv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function HO(){var t=Od;return Od<<=1,!(Od&4194240)&&(Od=64),t}function hy(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Nf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Tr(e),t[e]=n}function I4(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Tr(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function Aw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Tr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var He=0;function KO(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var GO,Pw,XO,YO,QO,Fv=!1,Nd=[],ga=null,ya=null,va=null,bu=new Map,wu=new Map,ra=[],O4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mk(t,e){switch(t){case"focusin":case"focusout":ga=null;break;case"dragenter":case"dragleave":ya=null;break;case"mouseover":case"mouseout":va=null;break;case"pointerover":case"pointerout":bu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":wu.delete(e.pointerId)}}function hc(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=jf(e),e!==null&&Pw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function C4(t,e,n,r,i){switch(e){case"focusin":return ga=hc(ga,t,e,n,r,i),!0;case"dragenter":return ya=hc(ya,t,e,n,r,i),!0;case"mouseover":return va=hc(va,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return bu.set(a,hc(bu.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,wu.set(a,hc(wu.get(a)||null,t,e,n,r,i)),!0}return!1}function JO(t){var e=fo(t.target);if(e!==null){var n=qo(e);if(n!==null){if(e=n.tag,e===13){if(e=FO(n),e!==null){t.blockedOn=e,QO(t.priority,function(){XO(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function hh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Uv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Dv=r,n.target.dispatchEvent(r),Dv=null}else return e=jf(n),e!==null&&Pw(e),t.blockedOn=n,!1;e.shift()}return!0}function $k(t,e,n){hh(t)&&n.delete(e)}function N4(){Fv=!1,ga!==null&&hh(ga)&&(ga=null),ya!==null&&hh(ya)&&(ya=null),va!==null&&hh(va)&&(va=null),bu.forEach($k),wu.forEach($k)}function pc(t,e){t.blockedOn===e&&(t.blockedOn=null,Fv||(Fv=!0,Qn.unstable_scheduleCallback(Qn.unstable_NormalPriority,N4)))}function _u(t){function e(i){return pc(i,t)}if(0<Nd.length){pc(Nd[0],t);for(var n=1;n<Nd.length;n++){var r=Nd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ga!==null&&pc(ga,t),ya!==null&&pc(ya,t),va!==null&&pc(va,t),bu.forEach(e),wu.forEach(e),n=0;n<ra.length;n++)r=ra[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ra.length&&(n=ra[0],n.blockedOn===null);)JO(n),n.blockedOn===null&&ra.shift()}var Fs=Ui.ReactCurrentBatchConfig,Lh=!0;function R4(t,e,n,r){var i=He,a=Fs.transition;Fs.transition=null;try{He=1,Iw(t,e,n,r)}finally{He=i,Fs.transition=a}}function j4(t,e,n,r){var i=He,a=Fs.transition;Fs.transition=null;try{He=4,Iw(t,e,n,r)}finally{He=i,Fs.transition=a}}function Iw(t,e,n,r){if(Lh){var i=Uv(t,e,n,r);if(i===null)ky(t,e,r,Vh,n),Mk(t,r);else if(C4(i,t,e,n,r))r.stopPropagation();else if(Mk(t,r),e&4&&-1<O4.indexOf(t)){for(;i!==null;){var a=jf(i);if(a!==null&&GO(a),a=Uv(t,e,n,r),a===null&&ky(t,e,r,Vh,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else ky(t,e,r,null,n)}}var Vh=null;function Uv(t,e,n,r){if(Vh=null,t=Sw(r),t=fo(t),t!==null)if(e=qo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=FO(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Vh=t,null}function ZO(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_4()){case Tw:return 1;case WO:return 4;case Mh:case x4:return 16;case qO:return 536870912;default:return 16}default:return 16}}var fa=null,Ow=null,ph=null;function eC(){if(ph)return ph;var t,e=Ow,n=e.length,r,i="value"in fa?fa.value:fa.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[a-r];r++);return ph=i.slice(t,1<r?1-r:void 0)}function mh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Rd(){return!0}function Lk(){return!1}function Zn(t){function e(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Rd:Lk,this.isPropagationStopped=Lk,this}return yt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Rd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Rd)},persist:function(){},isPersistent:Rd}),e}var Ol={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cw=Zn(Ol),Rf=yt({},Ol,{view:0,detail:0}),D4=Zn(Rf),py,my,mc,ym=yt({},Rf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==mc&&(mc&&t.type==="mousemove"?(py=t.screenX-mc.screenX,my=t.screenY-mc.screenY):my=py=0,mc=t),py)},movementY:function(t){return"movementY"in t?t.movementY:my}}),Vk=Zn(ym),M4=yt({},ym,{dataTransfer:0}),$4=Zn(M4),L4=yt({},Rf,{relatedTarget:0}),gy=Zn(L4),V4=yt({},Ol,{animationName:0,elapsedTime:0,pseudoElement:0}),F4=Zn(V4),U4=yt({},Ol,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),B4=Zn(U4),z4=yt({},Ol,{data:0}),Fk=Zn(z4),W4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},q4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},H4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function K4(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=H4[t])?!!e[t]:!1}function Nw(){return K4}var G4=yt({},Rf,{key:function(t){if(t.key){var e=W4[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=mh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?q4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nw,charCode:function(t){return t.type==="keypress"?mh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?mh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),X4=Zn(G4),Y4=yt({},ym,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Uk=Zn(Y4),Q4=yt({},Rf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nw}),J4=Zn(Q4),Z4=yt({},Ol,{propertyName:0,elapsedTime:0,pseudoElement:0}),eV=Zn(Z4),tV=yt({},ym,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),nV=Zn(tV),rV=[9,13,27,32],Rw=Ii&&"CompositionEvent"in window,Kc=null;Ii&&"documentMode"in document&&(Kc=document.documentMode);var iV=Ii&&"TextEvent"in window&&!Kc,tC=Ii&&(!Rw||Kc&&8<Kc&&11>=Kc),Bk=" ",zk=!1;function nC(t,e){switch(t){case"keyup":return rV.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xs=!1;function aV(t,e){switch(t){case"compositionend":return rC(e);case"keypress":return e.which!==32?null:(zk=!0,Bk);case"textInput":return t=e.data,t===Bk&&zk?null:t;default:return null}}function oV(t,e){if(xs)return t==="compositionend"||!Rw&&nC(t,e)?(t=eC(),ph=Ow=fa=null,xs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return tC&&e.locale!=="ko"?null:e.data;default:return null}}var sV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wk(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!sV[t.type]:e==="textarea"}function iC(t,e,n,r){DO(r),e=Fh(e,"onChange"),0<e.length&&(n=new Cw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Gc=null,xu=null;function lV(t){mC(t,0)}function vm(t){var e=Ss(t);if(PO(e))return t}function cV(t,e){if(t==="change")return e}var aC=!1;if(Ii){var yy;if(Ii){var vy="oninput"in document;if(!vy){var qk=document.createElement("div");qk.setAttribute("oninput","return;"),vy=typeof qk.oninput=="function"}yy=vy}else yy=!1;aC=yy&&(!document.documentMode||9<document.documentMode)}function Hk(){Gc&&(Gc.detachEvent("onpropertychange",oC),xu=Gc=null)}function oC(t){if(t.propertyName==="value"&&vm(xu)){var e=[];iC(e,xu,t,Sw(t)),VO(lV,e)}}function uV(t,e,n){t==="focusin"?(Hk(),Gc=e,xu=n,Gc.attachEvent("onpropertychange",oC)):t==="focusout"&&Hk()}function fV(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return vm(xu)}function dV(t,e){if(t==="click")return vm(e)}function hV(t,e){if(t==="input"||t==="change")return vm(e)}function pV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ir=typeof Object.is=="function"?Object.is:pV;function ku(t,e){if(Ir(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!kv.call(e,i)||!Ir(t[i],e[i]))return!1}return!0}function Kk(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Gk(t,e){var n=Kk(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Kk(n)}}function sC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?sC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function lC(){for(var t=window,e=Rh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Rh(t.document)}return e}function jw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function mV(t){var e=lC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&sC(n.ownerDocument.documentElement,n)){if(r!==null&&jw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=Gk(n,a);var o=Gk(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var gV=Ii&&"documentMode"in document&&11>=document.documentMode,ks=null,Bv=null,Xc=null,zv=!1;function Xk(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;zv||ks==null||ks!==Rh(r)||(r=ks,"selectionStart"in r&&jw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Xc&&ku(Xc,r)||(Xc=r,r=Fh(Bv,"onSelect"),0<r.length&&(e=new Cw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ks)))}function jd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Es={animationend:jd("Animation","AnimationEnd"),animationiteration:jd("Animation","AnimationIteration"),animationstart:jd("Animation","AnimationStart"),transitionend:jd("Transition","TransitionEnd")},by={},cC={};Ii&&(cC=document.createElement("div").style,"AnimationEvent"in window||(delete Es.animationend.animation,delete Es.animationiteration.animation,delete Es.animationstart.animation),"TransitionEvent"in window||delete Es.transitionend.transition);function bm(t){if(by[t])return by[t];if(!Es[t])return t;var e=Es[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in cC)return by[t]=e[n];return t}var uC=bm("animationend"),fC=bm("animationiteration"),dC=bm("animationstart"),hC=bm("transitionend"),pC=new Map,Yk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $a(t,e){pC.set(t,e),Wo(e,[t])}for(var wy=0;wy<Yk.length;wy++){var _y=Yk[wy],yV=_y.toLowerCase(),vV=_y[0].toUpperCase()+_y.slice(1);$a(yV,"on"+vV)}$a(uC,"onAnimationEnd");$a(fC,"onAnimationIteration");$a(dC,"onAnimationStart");$a("dblclick","onDoubleClick");$a("focusin","onFocus");$a("focusout","onBlur");$a(hC,"onTransitionEnd");Qs("onMouseEnter",["mouseout","mouseover"]);Qs("onMouseLeave",["mouseout","mouseover"]);Qs("onPointerEnter",["pointerout","pointerover"]);Qs("onPointerLeave",["pointerout","pointerover"]);Wo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bV=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dc));function Qk(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,y4(r,e,void 0,t),t.currentTarget=null}function mC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;Qk(i,s,c),a=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,c=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;Qk(i,s,c),a=l}}}if(Dh)throw t=Lv,Dh=!1,Lv=null,t}function it(t,e){var n=e[Gv];n===void 0&&(n=e[Gv]=new Set);var r=t+"__bubble";n.has(r)||(gC(e,t,2,!1),n.add(r))}function xy(t,e,n){var r=0;e&&(r|=4),gC(n,t,r,e)}var Dd="_reactListening"+Math.random().toString(36).slice(2);function Eu(t){if(!t[Dd]){t[Dd]=!0,kO.forEach(function(n){n!=="selectionchange"&&(bV.has(n)||xy(n,!1,t),xy(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Dd]||(e[Dd]=!0,xy("selectionchange",!1,e))}}function gC(t,e,n,r){switch(ZO(e)){case 1:var i=R4;break;case 4:i=j4;break;default:i=Iw}n=i.bind(null,e,n,t),i=void 0,!$v||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ky(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=fo(s),o===null)return;if(l=o.tag,l===5||l===6){r=a=o;continue e}s=s.parentNode}}r=r.return}VO(function(){var c=a,u=Sw(n),f=[];e:{var h=pC.get(t);if(h!==void 0){var p=Cw,m=t;switch(t){case"keypress":if(mh(n)===0)break e;case"keydown":case"keyup":p=X4;break;case"focusin":m="focus",p=gy;break;case"focusout":m="blur",p=gy;break;case"beforeblur":case"afterblur":p=gy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Vk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=$4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=J4;break;case uC:case fC:case dC:p=F4;break;case hC:p=eV;break;case"scroll":p=D4;break;case"wheel":p=nV;break;case"copy":case"cut":case"paste":p=B4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Uk}var y=(e&4)!==0,v=!y&&t==="scroll",x=y?h!==null?h+"Capture":null:h;y=[];for(var b=c,_;b!==null;){_=b;var k=_.stateNode;if(_.tag===5&&k!==null&&(_=k,x!==null&&(k=vu(b,x),k!=null&&y.push(Su(b,k,_)))),v)break;b=b.return}0<y.length&&(h=new p(h,m,null,n,u),f.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==Dv&&(m=n.relatedTarget||n.fromElement)&&(fo(m)||m[Oi]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=c,m=m?fo(m):null,m!==null&&(v=qo(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(y=Vk,k="onMouseLeave",x="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(y=Uk,k="onPointerLeave",x="onPointerEnter",b="pointer"),v=p==null?h:Ss(p),_=m==null?h:Ss(m),h=new y(k,b+"leave",p,n,u),h.target=v,h.relatedTarget=_,k=null,fo(u)===c&&(y=new y(x,b+"enter",m,n,u),y.target=_,y.relatedTarget=v,k=y),v=k,p&&m)t:{for(y=p,x=m,b=0,_=y;_;_=cs(_))b++;for(_=0,k=x;k;k=cs(k))_++;for(;0<b-_;)y=cs(y),b--;for(;0<_-b;)x=cs(x),_--;for(;b--;){if(y===x||x!==null&&y===x.alternate)break t;y=cs(y),x=cs(x)}y=null}else y=null;p!==null&&Jk(f,h,p,y,!1),m!==null&&v!==null&&Jk(f,v,m,y,!0)}}e:{if(h=c?Ss(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var S=cV;else if(Wk(h))if(aC)S=hV;else{S=fV;var I=uV}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=dV);if(S&&(S=S(t,c))){iC(f,S,n,u);break e}I&&I(t,h,c),t==="focusout"&&(I=h._wrapperState)&&I.controlled&&h.type==="number"&&Ov(h,"number",h.value)}switch(I=c?Ss(c):window,t){case"focusin":(Wk(I)||I.contentEditable==="true")&&(ks=I,Bv=c,Xc=null);break;case"focusout":Xc=Bv=ks=null;break;case"mousedown":zv=!0;break;case"contextmenu":case"mouseup":case"dragend":zv=!1,Xk(f,n,u);break;case"selectionchange":if(gV)break;case"keydown":case"keyup":Xk(f,n,u)}var T;if(Rw)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else xs?nC(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(tC&&n.locale!=="ko"&&(xs||E!=="onCompositionStart"?E==="onCompositionEnd"&&xs&&(T=eC()):(fa=u,Ow="value"in fa?fa.value:fa.textContent,xs=!0)),I=Fh(c,E),0<I.length&&(E=new Fk(E,t,null,n,u),f.push({event:E,listeners:I}),T?E.data=T:(T=rC(n),T!==null&&(E.data=T)))),(T=iV?aV(t,n):oV(t,n))&&(c=Fh(c,"onBeforeInput"),0<c.length&&(u=new Fk("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=T))}mC(f,e)})}function Su(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Fh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=vu(t,n),a!=null&&r.unshift(Su(t,a,i)),a=vu(t,e),a!=null&&r.push(Su(t,a,i))),t=t.return}return r}function cs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Jk(t,e,n,r,i){for(var a=e._reactName,o=[];n!==null&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&c!==null&&(s=c,i?(l=vu(n,a),l!=null&&o.unshift(Su(n,l,s))):i||(l=vu(n,a),l!=null&&o.push(Su(n,l,s)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var wV=/\r\n?/g,_V=/\u0000|\uFFFD/g;function Zk(t){return(typeof t=="string"?t:""+t).replace(wV,`
`).replace(_V,"")}function Md(t,e,n){if(e=Zk(e),Zk(t)!==e&&n)throw Error(te(425))}function Uh(){}var Wv=null,qv=null;function Hv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Kv=typeof setTimeout=="function"?setTimeout:void 0,xV=typeof clearTimeout=="function"?clearTimeout:void 0,eE=typeof Promise=="function"?Promise:void 0,kV=typeof queueMicrotask=="function"?queueMicrotask:typeof eE<"u"?function(t){return eE.resolve(null).then(t).catch(EV)}:Kv;function EV(t){setTimeout(function(){throw t})}function Ey(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),_u(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);_u(e)}function ba(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function tE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Cl=Math.random().toString(36).slice(2),Fr="__reactFiber$"+Cl,Tu="__reactProps$"+Cl,Oi="__reactContainer$"+Cl,Gv="__reactEvents$"+Cl,SV="__reactListeners$"+Cl,TV="__reactHandles$"+Cl;function fo(t){var e=t[Fr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Oi]||n[Fr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=tE(t);t!==null;){if(n=t[Fr])return n;t=tE(t)}return e}t=n,n=t.parentNode}return null}function jf(t){return t=t[Fr]||t[Oi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ss(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(te(33))}function wm(t){return t[Tu]||null}var Xv=[],Ts=-1;function La(t){return{current:t}}function lt(t){0>Ts||(t.current=Xv[Ts],Xv[Ts]=null,Ts--)}function tt(t,e){Ts++,Xv[Ts]=t.current,t.current=e}var Na={},bn=La(Na),$n=La(!1),To=Na;function Js(t,e){var n=t.type.contextTypes;if(!n)return Na;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ln(t){return t=t.childContextTypes,t!=null}function Bh(){lt($n),lt(bn)}function nE(t,e,n){if(bn.current!==Na)throw Error(te(168));tt(bn,e),tt($n,n)}function yC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(te(108,u4(t)||"Unknown",i));return yt({},n,r)}function zh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Na,To=bn.current,tt(bn,t),tt($n,$n.current),!0}function rE(t,e,n){var r=t.stateNode;if(!r)throw Error(te(169));n?(t=yC(t,e,To),r.__reactInternalMemoizedMergedChildContext=t,lt($n),lt(bn),tt(bn,t)):lt($n),tt($n,n)}var hi=null,_m=!1,Sy=!1;function vC(t){hi===null?hi=[t]:hi.push(t)}function AV(t){_m=!0,vC(t)}function Va(){if(!Sy&&hi!==null){Sy=!0;var t=0,e=He;try{var n=hi;for(He=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}hi=null,_m=!1}catch(i){throw hi!==null&&(hi=hi.slice(t+1)),zO(Tw,Va),i}finally{He=e,Sy=!1}}return null}var As=[],Ps=0,Wh=null,qh=0,ir=[],ar=0,Ao=null,mi=1,gi="";function io(t,e){As[Ps++]=qh,As[Ps++]=Wh,Wh=t,qh=e}function bC(t,e,n){ir[ar++]=mi,ir[ar++]=gi,ir[ar++]=Ao,Ao=t;var r=mi;t=gi;var i=32-Tr(r)-1;r&=~(1<<i),n+=1;var a=32-Tr(e)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,mi=1<<32-Tr(e)+i|n<<i|r,gi=a+t}else mi=1<<a|n<<i|r,gi=t}function Dw(t){t.return!==null&&(io(t,1),bC(t,1,0))}function Mw(t){for(;t===Wh;)Wh=As[--Ps],As[Ps]=null,qh=As[--Ps],As[Ps]=null;for(;t===Ao;)Ao=ir[--ar],ir[ar]=null,gi=ir[--ar],ir[ar]=null,mi=ir[--ar],ir[ar]=null}var Xn=null,Kn=null,dt=!1,Er=null;function wC(t,e){var n=cr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function iE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Xn=t,Kn=ba(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Xn=t,Kn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ao!==null?{id:mi,overflow:gi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=cr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Xn=t,Kn=null,!0):!1;default:return!1}}function Yv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Qv(t){if(dt){var e=Kn;if(e){var n=e;if(!iE(t,e)){if(Yv(t))throw Error(te(418));e=ba(n.nextSibling);var r=Xn;e&&iE(t,e)?wC(r,n):(t.flags=t.flags&-4097|2,dt=!1,Xn=t)}}else{if(Yv(t))throw Error(te(418));t.flags=t.flags&-4097|2,dt=!1,Xn=t}}}function aE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Xn=t}function $d(t){if(t!==Xn)return!1;if(!dt)return aE(t),dt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Hv(t.type,t.memoizedProps)),e&&(e=Kn)){if(Yv(t))throw _C(),Error(te(418));for(;e;)wC(t,e),e=ba(e.nextSibling)}if(aE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(te(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Kn=ba(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Kn=null}}else Kn=Xn?ba(t.stateNode.nextSibling):null;return!0}function _C(){for(var t=Kn;t;)t=ba(t.nextSibling)}function Zs(){Kn=Xn=null,dt=!1}function $w(t){Er===null?Er=[t]:Er.push(t)}var PV=Ui.ReactCurrentBatchConfig;function gc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(te(309));var r=n.stateNode}if(!r)throw Error(te(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(te(284));if(!n._owner)throw Error(te(290,t))}return t}function Ld(t,e){throw t=Object.prototype.toString.call(e),Error(te(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function oE(t){var e=t._init;return e(t._payload)}function xC(t){function e(x,b){if(t){var _=x.deletions;_===null?(x.deletions=[b],x.flags|=16):_.push(b)}}function n(x,b){if(!t)return null;for(;b!==null;)e(x,b),b=b.sibling;return null}function r(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function i(x,b){return x=ka(x,b),x.index=0,x.sibling=null,x}function a(x,b,_){return x.index=_,t?(_=x.alternate,_!==null?(_=_.index,_<b?(x.flags|=2,b):_):(x.flags|=2,b)):(x.flags|=1048576,b)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function s(x,b,_,k){return b===null||b.tag!==6?(b=Ny(_,x.mode,k),b.return=x,b):(b=i(b,_),b.return=x,b)}function l(x,b,_,k){var S=_.type;return S===_s?u(x,b,_.props.children,k,_.key):b!==null&&(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Zi&&oE(S)===b.type)?(k=i(b,_.props),k.ref=gc(x,b,_),k.return=x,k):(k=xh(_.type,_.key,_.props,null,x.mode,k),k.ref=gc(x,b,_),k.return=x,k)}function c(x,b,_,k){return b===null||b.tag!==4||b.stateNode.containerInfo!==_.containerInfo||b.stateNode.implementation!==_.implementation?(b=Ry(_,x.mode,k),b.return=x,b):(b=i(b,_.children||[]),b.return=x,b)}function u(x,b,_,k,S){return b===null||b.tag!==7?(b=_o(_,x.mode,k,S),b.return=x,b):(b=i(b,_),b.return=x,b)}function f(x,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Ny(""+b,x.mode,_),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ad:return _=xh(b.type,b.key,b.props,null,x.mode,_),_.ref=gc(x,null,b),_.return=x,_;case ws:return b=Ry(b,x.mode,_),b.return=x,b;case Zi:var k=b._init;return f(x,k(b._payload),_)}if(Rc(b)||fc(b))return b=_o(b,x.mode,_,null),b.return=x,b;Ld(x,b)}return null}function h(x,b,_,k){var S=b!==null?b.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return S!==null?null:s(x,b,""+_,k);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ad:return _.key===S?l(x,b,_,k):null;case ws:return _.key===S?c(x,b,_,k):null;case Zi:return S=_._init,h(x,b,S(_._payload),k)}if(Rc(_)||fc(_))return S!==null?null:u(x,b,_,k,null);Ld(x,_)}return null}function p(x,b,_,k,S){if(typeof k=="string"&&k!==""||typeof k=="number")return x=x.get(_)||null,s(b,x,""+k,S);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Ad:return x=x.get(k.key===null?_:k.key)||null,l(b,x,k,S);case ws:return x=x.get(k.key===null?_:k.key)||null,c(b,x,k,S);case Zi:var I=k._init;return p(x,b,_,I(k._payload),S)}if(Rc(k)||fc(k))return x=x.get(_)||null,u(b,x,k,S,null);Ld(b,k)}return null}function m(x,b,_,k){for(var S=null,I=null,T=b,E=b=0,P=null;T!==null&&E<_.length;E++){T.index>E?(P=T,T=null):P=T.sibling;var O=h(x,T,_[E],k);if(O===null){T===null&&(T=P);break}t&&T&&O.alternate===null&&e(x,T),b=a(O,b,E),I===null?S=O:I.sibling=O,I=O,T=P}if(E===_.length)return n(x,T),dt&&io(x,E),S;if(T===null){for(;E<_.length;E++)T=f(x,_[E],k),T!==null&&(b=a(T,b,E),I===null?S=T:I.sibling=T,I=T);return dt&&io(x,E),S}for(T=r(x,T);E<_.length;E++)P=p(T,x,E,_[E],k),P!==null&&(t&&P.alternate!==null&&T.delete(P.key===null?E:P.key),b=a(P,b,E),I===null?S=P:I.sibling=P,I=P);return t&&T.forEach(function(N){return e(x,N)}),dt&&io(x,E),S}function y(x,b,_,k){var S=fc(_);if(typeof S!="function")throw Error(te(150));if(_=S.call(_),_==null)throw Error(te(151));for(var I=S=null,T=b,E=b=0,P=null,O=_.next();T!==null&&!O.done;E++,O=_.next()){T.index>E?(P=T,T=null):P=T.sibling;var N=h(x,T,O.value,k);if(N===null){T===null&&(T=P);break}t&&T&&N.alternate===null&&e(x,T),b=a(N,b,E),I===null?S=N:I.sibling=N,I=N,T=P}if(O.done)return n(x,T),dt&&io(x,E),S;if(T===null){for(;!O.done;E++,O=_.next())O=f(x,O.value,k),O!==null&&(b=a(O,b,E),I===null?S=O:I.sibling=O,I=O);return dt&&io(x,E),S}for(T=r(x,T);!O.done;E++,O=_.next())O=p(T,x,E,O.value,k),O!==null&&(t&&O.alternate!==null&&T.delete(O.key===null?E:O.key),b=a(O,b,E),I===null?S=O:I.sibling=O,I=O);return t&&T.forEach(function(R){return e(x,R)}),dt&&io(x,E),S}function v(x,b,_,k){if(typeof _=="object"&&_!==null&&_.type===_s&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Ad:e:{for(var S=_.key,I=b;I!==null;){if(I.key===S){if(S=_.type,S===_s){if(I.tag===7){n(x,I.sibling),b=i(I,_.props.children),b.return=x,x=b;break e}}else if(I.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Zi&&oE(S)===I.type){n(x,I.sibling),b=i(I,_.props),b.ref=gc(x,I,_),b.return=x,x=b;break e}n(x,I);break}else e(x,I);I=I.sibling}_.type===_s?(b=_o(_.props.children,x.mode,k,_.key),b.return=x,x=b):(k=xh(_.type,_.key,_.props,null,x.mode,k),k.ref=gc(x,b,_),k.return=x,x=k)}return o(x);case ws:e:{for(I=_.key;b!==null;){if(b.key===I)if(b.tag===4&&b.stateNode.containerInfo===_.containerInfo&&b.stateNode.implementation===_.implementation){n(x,b.sibling),b=i(b,_.children||[]),b.return=x,x=b;break e}else{n(x,b);break}else e(x,b);b=b.sibling}b=Ry(_,x.mode,k),b.return=x,x=b}return o(x);case Zi:return I=_._init,v(x,b,I(_._payload),k)}if(Rc(_))return m(x,b,_,k);if(fc(_))return y(x,b,_,k);Ld(x,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,b!==null&&b.tag===6?(n(x,b.sibling),b=i(b,_),b.return=x,x=b):(n(x,b),b=Ny(_,x.mode,k),b.return=x,x=b),o(x)):n(x,b)}return v}var el=xC(!0),kC=xC(!1),Hh=La(null),Kh=null,Is=null,Lw=null;function Vw(){Lw=Is=Kh=null}function Fw(t){var e=Hh.current;lt(Hh),t._currentValue=e}function Jv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Us(t,e){Kh=t,Lw=Is=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Dn=!0),t.firstContext=null)}function pr(t){var e=t._currentValue;if(Lw!==t)if(t={context:t,memoizedValue:e,next:null},Is===null){if(Kh===null)throw Error(te(308));Is=t,Kh.dependencies={lanes:0,firstContext:t}}else Is=Is.next=t;return e}var ho=null;function Uw(t){ho===null?ho=[t]:ho.push(t)}function EC(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Uw(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ci(t,r)}function Ci(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ea=!1;function Bw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function SC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ki(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function wa(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Me&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ci(t,n)}return i=r.interleaved,i===null?(e.next=e,Uw(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ci(t,n)}function gh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Aw(t,n)}}function sE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Gh(t,e,n,r){var i=t.updateQueue;ea=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,c=l.next;l.next=null,o===null?a=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==o&&(s===null?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;o=0,u=c=l=null,s=a;do{var h=s.lane,p=s.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=t,y=s;switch(h=e,p=n,y.tag){case 1:if(m=y.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=yt({},f,h);break e;case 2:ea=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(c=u=p,l=f):u=u.next=p,o|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Io|=o,t.lanes=o,t.memoizedState=f}}function lE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(te(191,i));i.call(r)}}}var Df={},qr=La(Df),Au=La(Df),Pu=La(Df);function po(t){if(t===Df)throw Error(te(174));return t}function zw(t,e){switch(tt(Pu,e),tt(Au,t),tt(qr,Df),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Nv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Nv(e,t)}lt(qr),tt(qr,e)}function tl(){lt(qr),lt(Au),lt(Pu)}function TC(t){po(Pu.current);var e=po(qr.current),n=Nv(e,t.type);e!==n&&(tt(Au,t),tt(qr,n))}function Ww(t){Au.current===t&&(lt(qr),lt(Au))}var mt=La(0);function Xh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ty=[];function qw(){for(var t=0;t<Ty.length;t++)Ty[t]._workInProgressVersionPrimary=null;Ty.length=0}var yh=Ui.ReactCurrentDispatcher,Ay=Ui.ReactCurrentBatchConfig,Po=0,gt=null,Rt=null,Bt=null,Yh=!1,Yc=!1,Iu=0,IV=0;function cn(){throw Error(te(321))}function Hw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ir(t[n],e[n]))return!1;return!0}function Kw(t,e,n,r,i,a){if(Po=a,gt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,yh.current=t===null||t.memoizedState===null?RV:jV,t=n(r,i),Yc){a=0;do{if(Yc=!1,Iu=0,25<=a)throw Error(te(301));a+=1,Bt=Rt=null,e.updateQueue=null,yh.current=DV,t=n(r,i)}while(Yc)}if(yh.current=Qh,e=Rt!==null&&Rt.next!==null,Po=0,Bt=Rt=gt=null,Yh=!1,e)throw Error(te(300));return t}function Gw(){var t=Iu!==0;return Iu=0,t}function Lr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?gt.memoizedState=Bt=t:Bt=Bt.next=t,Bt}function mr(){if(Rt===null){var t=gt.alternate;t=t!==null?t.memoizedState:null}else t=Rt.next;var e=Bt===null?gt.memoizedState:Bt.next;if(e!==null)Bt=e,Rt=t;else{if(t===null)throw Error(te(310));Rt=t,t={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},Bt===null?gt.memoizedState=Bt=t:Bt=Bt.next=t}return Bt}function Ou(t,e){return typeof e=="function"?e(t):e}function Py(t){var e=mr(),n=e.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=t;var r=Rt,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var s=o=null,l=null,c=a;do{var u=c.lane;if((Po&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=f,o=r):l=l.next=f,gt.lanes|=u,Io|=u}c=c.next}while(c!==null&&c!==a);l===null?o=r:l.next=s,Ir(r,e.memoizedState)||(Dn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,gt.lanes|=a,Io|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Iy(t){var e=mr(),n=e.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);Ir(a,e.memoizedState)||(Dn=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function AC(){}function PC(t,e){var n=gt,r=mr(),i=e(),a=!Ir(r.memoizedState,i);if(a&&(r.memoizedState=i,Dn=!0),r=r.queue,Xw(CC.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||Bt!==null&&Bt.memoizedState.tag&1){if(n.flags|=2048,Cu(9,OC.bind(null,n,r,i,e),void 0,null),Wt===null)throw Error(te(349));Po&30||IC(n,e,i)}return i}function IC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=gt.updateQueue,e===null?(e={lastEffect:null,stores:null},gt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function OC(t,e,n,r){e.value=n,e.getSnapshot=r,NC(e)&&RC(t)}function CC(t,e,n){return n(function(){NC(e)&&RC(t)})}function NC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ir(t,n)}catch{return!0}}function RC(t){var e=Ci(t,1);e!==null&&Ar(e,t,1,-1)}function cE(t){var e=Lr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ou,lastRenderedState:t},e.queue=t,t=t.dispatch=NV.bind(null,gt,t),[e.memoizedState,t]}function Cu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=gt.updateQueue,e===null?(e={lastEffect:null,stores:null},gt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function jC(){return mr().memoizedState}function vh(t,e,n,r){var i=Lr();gt.flags|=t,i.memoizedState=Cu(1|e,n,void 0,r===void 0?null:r)}function xm(t,e,n,r){var i=mr();r=r===void 0?null:r;var a=void 0;if(Rt!==null){var o=Rt.memoizedState;if(a=o.destroy,r!==null&&Hw(r,o.deps)){i.memoizedState=Cu(e,n,a,r);return}}gt.flags|=t,i.memoizedState=Cu(1|e,n,a,r)}function uE(t,e){return vh(8390656,8,t,e)}function Xw(t,e){return xm(2048,8,t,e)}function DC(t,e){return xm(4,2,t,e)}function MC(t,e){return xm(4,4,t,e)}function $C(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function LC(t,e,n){return n=n!=null?n.concat([t]):null,xm(4,4,$C.bind(null,e,t),n)}function Yw(){}function VC(t,e){var n=mr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Hw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function FC(t,e){var n=mr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Hw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function UC(t,e,n){return Po&21?(Ir(n,e)||(n=HO(),gt.lanes|=n,Io|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Dn=!0),t.memoizedState=n)}function OV(t,e){var n=He;He=n!==0&&4>n?n:4,t(!0);var r=Ay.transition;Ay.transition={};try{t(!1),e()}finally{He=n,Ay.transition=r}}function BC(){return mr().memoizedState}function CV(t,e,n){var r=xa(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},zC(t))WC(e,n);else if(n=EC(t,e,n,r),n!==null){var i=Pn();Ar(n,t,r,i),qC(n,e,r)}}function NV(t,e,n){var r=xa(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(zC(t))WC(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Ir(s,o)){var l=e.interleaved;l===null?(i.next=i,Uw(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=EC(t,e,i,r),n!==null&&(i=Pn(),Ar(n,t,r,i),qC(n,e,r))}}function zC(t){var e=t.alternate;return t===gt||e!==null&&e===gt}function WC(t,e){Yc=Yh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function qC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Aw(t,n)}}var Qh={readContext:pr,useCallback:cn,useContext:cn,useEffect:cn,useImperativeHandle:cn,useInsertionEffect:cn,useLayoutEffect:cn,useMemo:cn,useReducer:cn,useRef:cn,useState:cn,useDebugValue:cn,useDeferredValue:cn,useTransition:cn,useMutableSource:cn,useSyncExternalStore:cn,useId:cn,unstable_isNewReconciler:!1},RV={readContext:pr,useCallback:function(t,e){return Lr().memoizedState=[t,e===void 0?null:e],t},useContext:pr,useEffect:uE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,vh(4194308,4,$C.bind(null,e,t),n)},useLayoutEffect:function(t,e){return vh(4194308,4,t,e)},useInsertionEffect:function(t,e){return vh(4,2,t,e)},useMemo:function(t,e){var n=Lr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Lr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=CV.bind(null,gt,t),[r.memoizedState,t]},useRef:function(t){var e=Lr();return t={current:t},e.memoizedState=t},useState:cE,useDebugValue:Yw,useDeferredValue:function(t){return Lr().memoizedState=t},useTransition:function(){var t=cE(!1),e=t[0];return t=OV.bind(null,t[1]),Lr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=gt,i=Lr();if(dt){if(n===void 0)throw Error(te(407));n=n()}else{if(n=e(),Wt===null)throw Error(te(349));Po&30||IC(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,uE(CC.bind(null,r,a,t),[t]),r.flags|=2048,Cu(9,OC.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=Lr(),e=Wt.identifierPrefix;if(dt){var n=gi,r=mi;n=(r&~(1<<32-Tr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Iu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=IV++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},jV={readContext:pr,useCallback:VC,useContext:pr,useEffect:Xw,useImperativeHandle:LC,useInsertionEffect:DC,useLayoutEffect:MC,useMemo:FC,useReducer:Py,useRef:jC,useState:function(){return Py(Ou)},useDebugValue:Yw,useDeferredValue:function(t){var e=mr();return UC(e,Rt.memoizedState,t)},useTransition:function(){var t=Py(Ou)[0],e=mr().memoizedState;return[t,e]},useMutableSource:AC,useSyncExternalStore:PC,useId:BC,unstable_isNewReconciler:!1},DV={readContext:pr,useCallback:VC,useContext:pr,useEffect:Xw,useImperativeHandle:LC,useInsertionEffect:DC,useLayoutEffect:MC,useMemo:FC,useReducer:Iy,useRef:jC,useState:function(){return Iy(Ou)},useDebugValue:Yw,useDeferredValue:function(t){var e=mr();return Rt===null?e.memoizedState=t:UC(e,Rt.memoizedState,t)},useTransition:function(){var t=Iy(Ou)[0],e=mr().memoizedState;return[t,e]},useMutableSource:AC,useSyncExternalStore:PC,useId:BC,unstable_isNewReconciler:!1};function _r(t,e){if(t&&t.defaultProps){e=yt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Zv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:yt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var km={isMounted:function(t){return(t=t._reactInternals)?qo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Pn(),i=xa(t),a=ki(r,i);a.payload=e,n!=null&&(a.callback=n),e=wa(t,a,i),e!==null&&(Ar(e,t,i,r),gh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Pn(),i=xa(t),a=ki(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=wa(t,a,i),e!==null&&(Ar(e,t,i,r),gh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Pn(),r=xa(t),i=ki(n,r);i.tag=2,e!=null&&(i.callback=e),e=wa(t,i,r),e!==null&&(Ar(e,t,r,n),gh(e,t,r))}};function fE(t,e,n,r,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,o):e.prototype&&e.prototype.isPureReactComponent?!ku(n,r)||!ku(i,a):!0}function HC(t,e,n){var r=!1,i=Na,a=e.contextType;return typeof a=="object"&&a!==null?a=pr(a):(i=Ln(e)?To:bn.current,r=e.contextTypes,a=(r=r!=null)?Js(t,i):Na),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=km,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function dE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&km.enqueueReplaceState(e,e.state,null)}function e0(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Bw(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=pr(a):(a=Ln(e)?To:bn.current,i.context=Js(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Zv(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&km.enqueueReplaceState(i,i.state,null),Gh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function nl(t,e){try{var n="",r=e;do n+=c4(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function Oy(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function t0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var MV=typeof WeakMap=="function"?WeakMap:Map;function KC(t,e,n){n=ki(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Zh||(Zh=!0,f0=r),t0(t,e)},n}function GC(t,e,n){n=ki(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){t0(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){t0(t,e),typeof r!="function"&&(_a===null?_a=new Set([this]):_a.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function hE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new MV;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=YV.bind(null,t,e,n),e.then(t,t))}function pE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function mE(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ki(-1,1),e.tag=2,wa(n,e,1))),n.lanes|=1),t)}var $V=Ui.ReactCurrentOwner,Dn=!1;function kn(t,e,n,r){e.child=t===null?kC(e,null,n,r):el(e,t.child,n,r)}function gE(t,e,n,r,i){n=n.render;var a=e.ref;return Us(e,i),r=Kw(t,e,n,r,a,i),n=Gw(),t!==null&&!Dn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ni(t,e,i)):(dt&&n&&Dw(e),e.flags|=1,kn(t,e,r,i),e.child)}function yE(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!i_(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,XC(t,e,a,r,i)):(t=xh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:ku,n(o,r)&&t.ref===e.ref)return Ni(t,e,i)}return e.flags|=1,t=ka(a,r),t.ref=e.ref,t.return=e,e.child=t}function XC(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(ku(a,r)&&t.ref===e.ref)if(Dn=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(Dn=!0);else return e.lanes=t.lanes,Ni(t,e,i)}return n0(t,e,n,r,i)}function YC(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(Cs,Wn),Wn|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,tt(Cs,Wn),Wn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,tt(Cs,Wn),Wn|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,tt(Cs,Wn),Wn|=r;return kn(t,e,i,n),e.child}function QC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function n0(t,e,n,r,i){var a=Ln(n)?To:bn.current;return a=Js(e,a),Us(e,i),n=Kw(t,e,n,r,a,i),r=Gw(),t!==null&&!Dn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ni(t,e,i)):(dt&&r&&Dw(e),e.flags|=1,kn(t,e,n,i),e.child)}function vE(t,e,n,r,i){if(Ln(n)){var a=!0;zh(e)}else a=!1;if(Us(e,i),e.stateNode===null)bh(t,e),HC(e,n,r),e0(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=pr(c):(c=Ln(n)?To:bn.current,c=Js(e,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||l!==c)&&dE(e,o,r,c),ea=!1;var h=e.memoizedState;o.state=h,Gh(e,r,o,i),l=e.memoizedState,s!==r||h!==l||$n.current||ea?(typeof u=="function"&&(Zv(e,n,u,r),l=e.memoizedState),(s=ea||fE(e,n,s,r,h,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=s):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,SC(t,e),s=e.memoizedProps,c=e.type===e.elementType?s:_r(e.type,s),o.props=c,f=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=pr(l):(l=Ln(n)?To:bn.current,l=Js(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||h!==l)&&dE(e,o,r,l),ea=!1,h=e.memoizedState,o.state=h,Gh(e,r,o,i);var m=e.memoizedState;s!==f||h!==m||$n.current||ea?(typeof p=="function"&&(Zv(e,n,p,r),m=e.memoizedState),(c=ea||fE(e,n,c,r,h,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return r0(t,e,n,r,a,i)}function r0(t,e,n,r,i,a){QC(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&rE(e,n,!1),Ni(t,e,a);r=e.stateNode,$V.current=e;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=el(e,t.child,null,a),e.child=el(e,null,s,a)):kn(t,e,s,a),e.memoizedState=r.state,i&&rE(e,n,!0),e.child}function JC(t){var e=t.stateNode;e.pendingContext?nE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&nE(t,e.context,!1),zw(t,e.containerInfo)}function bE(t,e,n,r,i){return Zs(),$w(i),e.flags|=256,kn(t,e,n,r),e.child}var i0={dehydrated:null,treeContext:null,retryLane:0};function a0(t){return{baseLanes:t,cachePool:null,transitions:null}}function ZC(t,e,n){var r=e.pendingProps,i=mt.current,a=!1,o=(e.flags&128)!==0,s;if((s=o)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),tt(mt,i&1),t===null)return Qv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,a?(r=e.mode,a=e.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Tm(o,r,0,null),t=_o(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=a0(n),e.memoizedState=i0,t):Qw(e,o));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return LV(t,e,o,r,s,i,n);if(a){a=r.fallback,o=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ka(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=ka(s,a):(a=_o(a,o,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,o=t.child.memoizedState,o=o===null?a0(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~n,e.memoizedState=i0,r}return a=t.child,t=a.sibling,r=ka(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Qw(t,e){return e=Tm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Vd(t,e,n,r){return r!==null&&$w(r),el(e,t.child,null,n),t=Qw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function LV(t,e,n,r,i,a,o){if(n)return e.flags&256?(e.flags&=-257,r=Oy(Error(te(422))),Vd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=Tm({mode:"visible",children:r.children},i,0,null),a=_o(a,i,o,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&el(e,t.child,null,o),e.child.memoizedState=a0(o),e.memoizedState=i0,a);if(!(e.mode&1))return Vd(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,a=Error(te(419)),r=Oy(a,r,void 0),Vd(t,e,o,r)}if(s=(o&t.childLanes)!==0,Dn||s){if(r=Wt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Ci(t,i),Ar(r,t,i,-1))}return r_(),r=Oy(Error(te(421))),Vd(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=QV.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Kn=ba(i.nextSibling),Xn=e,dt=!0,Er=null,t!==null&&(ir[ar++]=mi,ir[ar++]=gi,ir[ar++]=Ao,mi=t.id,gi=t.overflow,Ao=e),e=Qw(e,r.children),e.flags|=4096,e)}function wE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Jv(t.return,e,n)}function Cy(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function e2(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(kn(t,e,r.children,n),r=mt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wE(t,n,e);else if(t.tag===19)wE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(tt(mt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Xh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Cy(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Xh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Cy(e,!0,n,null,a);break;case"together":Cy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function bh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ni(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Io|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(te(153));if(e.child!==null){for(t=e.child,n=ka(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ka(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function VV(t,e,n){switch(e.tag){case 3:JC(e),Zs();break;case 5:TC(e);break;case 1:Ln(e.type)&&zh(e);break;case 4:zw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;tt(Hh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(tt(mt,mt.current&1),e.flags|=128,null):n&e.child.childLanes?ZC(t,e,n):(tt(mt,mt.current&1),t=Ni(t,e,n),t!==null?t.sibling:null);tt(mt,mt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return e2(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),tt(mt,mt.current),r)break;return null;case 22:case 23:return e.lanes=0,YC(t,e,n)}return Ni(t,e,n)}var t2,o0,n2,r2;t2=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};o0=function(){};n2=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,po(qr.current);var a=null;switch(n){case"input":i=Pv(t,i),r=Pv(t,r),a=[];break;case"select":i=yt({},i,{value:void 0}),r=yt({},r,{value:void 0}),a=[];break;case"textarea":i=Cv(t,i),r=Cv(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Uh)}Rv(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var s=i[c];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(gu.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(s=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(gu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&it("scroll",t),a||s===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(e.updateQueue=c)&&(e.flags|=4)}};r2=function(t,e,n,r){n!==r&&(e.flags|=4)};function yc(t,e){if(!dt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function un(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function FV(t,e,n){var r=e.pendingProps;switch(Mw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return un(e),null;case 1:return Ln(e.type)&&Bh(),un(e),null;case 3:return r=e.stateNode,tl(),lt($n),lt(bn),qw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&($d(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Er!==null&&(p0(Er),Er=null))),o0(t,e),un(e),null;case 5:Ww(e);var i=po(Pu.current);if(n=e.type,t!==null&&e.stateNode!=null)n2(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(te(166));return un(e),null}if(t=po(qr.current),$d(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[Fr]=e,r[Tu]=a,t=(e.mode&1)!==0,n){case"dialog":it("cancel",r),it("close",r);break;case"iframe":case"object":case"embed":it("load",r);break;case"video":case"audio":for(i=0;i<Dc.length;i++)it(Dc[i],r);break;case"source":it("error",r);break;case"img":case"image":case"link":it("error",r),it("load",r);break;case"details":it("toggle",r);break;case"input":Ik(r,a),it("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},it("invalid",r);break;case"textarea":Ck(r,a),it("invalid",r)}Rv(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?r.textContent!==s&&(a.suppressHydrationWarning!==!0&&Md(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&Md(r.textContent,s,t),i=["children",""+s]):gu.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&it("scroll",r)}switch(n){case"input":Pd(r),Ok(r,a,!0);break;case"textarea":Pd(r),Nk(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Uh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=CO(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Fr]=e,t[Tu]=r,t2(t,e,!1,!1),e.stateNode=t;e:{switch(o=jv(n,r),n){case"dialog":it("cancel",t),it("close",t),i=r;break;case"iframe":case"object":case"embed":it("load",t),i=r;break;case"video":case"audio":for(i=0;i<Dc.length;i++)it(Dc[i],t);i=r;break;case"source":it("error",t),i=r;break;case"img":case"image":case"link":it("error",t),it("load",t),i=r;break;case"details":it("toggle",t),i=r;break;case"input":Ik(t,r),i=Pv(t,r),it("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=yt({},r,{value:void 0}),it("invalid",t);break;case"textarea":Ck(t,r),i=Cv(t,r),it("invalid",t);break;default:i=r}Rv(n,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?jO(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&NO(t,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&yu(t,l):typeof l=="number"&&yu(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(gu.hasOwnProperty(a)?l!=null&&a==="onScroll"&&it("scroll",t):l!=null&&_w(t,a,l,o))}switch(n){case"input":Pd(t),Ok(t,r,!1);break;case"textarea":Pd(t),Nk(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ca(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?$s(t,!!r.multiple,a,!1):r.defaultValue!=null&&$s(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Uh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return un(e),null;case 6:if(t&&e.stateNode!=null)r2(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(te(166));if(n=po(Pu.current),po(qr.current),$d(e)){if(r=e.stateNode,n=e.memoizedProps,r[Fr]=e,(a=r.nodeValue!==n)&&(t=Xn,t!==null))switch(t.tag){case 3:Md(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Md(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Fr]=e,e.stateNode=r}return un(e),null;case 13:if(lt(mt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(dt&&Kn!==null&&e.mode&1&&!(e.flags&128))_C(),Zs(),e.flags|=98560,a=!1;else if(a=$d(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(te(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(te(317));a[Fr]=e}else Zs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;un(e),a=!1}else Er!==null&&(p0(Er),Er=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||mt.current&1?jt===0&&(jt=3):r_())),e.updateQueue!==null&&(e.flags|=4),un(e),null);case 4:return tl(),o0(t,e),t===null&&Eu(e.stateNode.containerInfo),un(e),null;case 10:return Fw(e.type._context),un(e),null;case 17:return Ln(e.type)&&Bh(),un(e),null;case 19:if(lt(mt),a=e.memoizedState,a===null)return un(e),null;if(r=(e.flags&128)!==0,o=a.rendering,o===null)if(r)yc(a,!1);else{if(jt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Xh(t),o!==null){for(e.flags|=128,yc(a,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return tt(mt,mt.current&1|2),e.child}t=t.sibling}a.tail!==null&&St()>rl&&(e.flags|=128,r=!0,yc(a,!1),e.lanes=4194304)}else{if(!r)if(t=Xh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),yc(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!dt)return un(e),null}else 2*St()-a.renderingStartTime>rl&&n!==1073741824&&(e.flags|=128,r=!0,yc(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(n=a.last,n!==null?n.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=St(),e.sibling=null,n=mt.current,tt(mt,r?n&1|2:n&1),e):(un(e),null);case 22:case 23:return n_(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Wn&1073741824&&(un(e),e.subtreeFlags&6&&(e.flags|=8192)):un(e),null;case 24:return null;case 25:return null}throw Error(te(156,e.tag))}function UV(t,e){switch(Mw(e),e.tag){case 1:return Ln(e.type)&&Bh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return tl(),lt($n),lt(bn),qw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ww(e),null;case 13:if(lt(mt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(te(340));Zs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return lt(mt),null;case 4:return tl(),null;case 10:return Fw(e.type._context),null;case 22:case 23:return n_(),null;case 24:return null;default:return null}}var Fd=!1,mn=!1,BV=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Os(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){_t(t,e,r)}else n.current=null}function s0(t,e,n){try{n()}catch(r){_t(t,e,r)}}var _E=!1;function zV(t,e){if(Wv=Lh,t=lC(),jw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,c=0,u=0,f=t,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(s=o+i),f!==a||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===n&&++c===i&&(s=o),h===a&&++u===r&&(l=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(qv={focusedElem:t,selectionRange:n},Lh=!1,fe=e;fe!==null;)if(e=fe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,fe=t;else for(;fe!==null;){e=fe;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,v=m.memoizedState,x=e.stateNode,b=x.getSnapshotBeforeUpdate(e.elementType===e.type?y:_r(e.type,y),v);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(k){_t(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,fe=t;break}fe=e.return}return m=_E,_E=!1,m}function Qc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&s0(e,n,a)}i=i.next}while(i!==r)}}function Em(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function l0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function i2(t){var e=t.alternate;e!==null&&(t.alternate=null,i2(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Fr],delete e[Tu],delete e[Gv],delete e[SV],delete e[TV])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function a2(t){return t.tag===5||t.tag===3||t.tag===4}function xE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||a2(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function c0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Uh));else if(r!==4&&(t=t.child,t!==null))for(c0(t,e,n),t=t.sibling;t!==null;)c0(t,e,n),t=t.sibling}function u0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(u0(t,e,n),t=t.sibling;t!==null;)u0(t,e,n),t=t.sibling}var Qt=null,xr=!1;function Yi(t,e,n){for(n=n.child;n!==null;)o2(t,e,n),n=n.sibling}function o2(t,e,n){if(Wr&&typeof Wr.onCommitFiberUnmount=="function")try{Wr.onCommitFiberUnmount(gm,n)}catch{}switch(n.tag){case 5:mn||Os(n,e);case 6:var r=Qt,i=xr;Qt=null,Yi(t,e,n),Qt=r,xr=i,Qt!==null&&(xr?(t=Qt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Qt.removeChild(n.stateNode));break;case 18:Qt!==null&&(xr?(t=Qt,n=n.stateNode,t.nodeType===8?Ey(t.parentNode,n):t.nodeType===1&&Ey(t,n),_u(t)):Ey(Qt,n.stateNode));break;case 4:r=Qt,i=xr,Qt=n.stateNode.containerInfo,xr=!0,Yi(t,e,n),Qt=r,xr=i;break;case 0:case 11:case 14:case 15:if(!mn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&s0(n,e,o),i=i.next}while(i!==r)}Yi(t,e,n);break;case 1:if(!mn&&(Os(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){_t(n,e,s)}Yi(t,e,n);break;case 21:Yi(t,e,n);break;case 22:n.mode&1?(mn=(r=mn)||n.memoizedState!==null,Yi(t,e,n),mn=r):Yi(t,e,n);break;default:Yi(t,e,n)}}function kE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new BV),e.forEach(function(r){var i=JV.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function br(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 5:Qt=s.stateNode,xr=!1;break e;case 3:Qt=s.stateNode.containerInfo,xr=!0;break e;case 4:Qt=s.stateNode.containerInfo,xr=!0;break e}s=s.return}if(Qt===null)throw Error(te(160));o2(a,o,i),Qt=null,xr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){_t(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)s2(e,t),e=e.sibling}function s2(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(br(e,t),Mr(t),r&4){try{Qc(3,t,t.return),Em(3,t)}catch(y){_t(t,t.return,y)}try{Qc(5,t,t.return)}catch(y){_t(t,t.return,y)}}break;case 1:br(e,t),Mr(t),r&512&&n!==null&&Os(n,n.return);break;case 5:if(br(e,t),Mr(t),r&512&&n!==null&&Os(n,n.return),t.flags&32){var i=t.stateNode;try{yu(i,"")}catch(y){_t(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=n!==null?n.memoizedProps:a,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&IO(i,a),jv(s,o);var c=jv(s,a);for(o=0;o<l.length;o+=2){var u=l[o],f=l[o+1];u==="style"?jO(i,f):u==="dangerouslySetInnerHTML"?NO(i,f):u==="children"?yu(i,f):_w(i,u,f,c)}switch(s){case"input":Iv(i,a);break;case"textarea":OO(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?$s(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?$s(i,!!a.multiple,a.defaultValue,!0):$s(i,!!a.multiple,a.multiple?[]:"",!1))}i[Tu]=a}catch(y){_t(t,t.return,y)}}break;case 6:if(br(e,t),Mr(t),r&4){if(t.stateNode===null)throw Error(te(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(y){_t(t,t.return,y)}}break;case 3:if(br(e,t),Mr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{_u(e.containerInfo)}catch(y){_t(t,t.return,y)}break;case 4:br(e,t),Mr(t);break;case 13:br(e,t),Mr(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(e_=St())),r&4&&kE(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(mn=(c=mn)||u,br(e,t),mn=c):br(e,t),Mr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(fe=t,u=t.child;u!==null;){for(f=fe=u;fe!==null;){switch(h=fe,p=h.child,h.tag){case 0:case 11:case 14:case 15:Qc(4,h,h.return);break;case 1:Os(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(y){_t(r,n,y)}}break;case 5:Os(h,h.return);break;case 22:if(h.memoizedState!==null){SE(f);continue}}p!==null?(p.return=h,fe=p):SE(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=RO("display",o))}catch(y){_t(t,t.return,y)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(y){_t(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:br(e,t),Mr(t),r&4&&kE(t);break;case 21:break;default:br(e,t),Mr(t)}}function Mr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(a2(n)){var r=n;break e}n=n.return}throw Error(te(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(yu(i,""),r.flags&=-33);var a=xE(t);u0(t,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,s=xE(t);c0(t,s,o);break;default:throw Error(te(161))}}catch(l){_t(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function WV(t,e,n){fe=t,l2(t)}function l2(t,e,n){for(var r=(t.mode&1)!==0;fe!==null;){var i=fe,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Fd;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||mn;s=Fd;var c=mn;if(Fd=o,(mn=l)&&!c)for(fe=i;fe!==null;)o=fe,l=o.child,o.tag===22&&o.memoizedState!==null?TE(i):l!==null?(l.return=o,fe=l):TE(i);for(;a!==null;)fe=a,l2(a),a=a.sibling;fe=i,Fd=s,mn=c}EE(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,fe=a):EE(t)}}function EE(t){for(;fe!==null;){var e=fe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:mn||Em(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!mn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:_r(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&lE(e,a,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}lE(e,o,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&_u(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}mn||e.flags&512&&l0(e)}catch(h){_t(e,e.return,h)}}if(e===t){fe=null;break}if(n=e.sibling,n!==null){n.return=e.return,fe=n;break}fe=e.return}}function SE(t){for(;fe!==null;){var e=fe;if(e===t){fe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,fe=n;break}fe=e.return}}function TE(t){for(;fe!==null;){var e=fe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Em(4,e)}catch(l){_t(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){_t(e,i,l)}}var a=e.return;try{l0(e)}catch(l){_t(e,a,l)}break;case 5:var o=e.return;try{l0(e)}catch(l){_t(e,o,l)}}}catch(l){_t(e,e.return,l)}if(e===t){fe=null;break}var s=e.sibling;if(s!==null){s.return=e.return,fe=s;break}fe=e.return}}var qV=Math.ceil,Jh=Ui.ReactCurrentDispatcher,Jw=Ui.ReactCurrentOwner,fr=Ui.ReactCurrentBatchConfig,Me=0,Wt=null,It=null,en=0,Wn=0,Cs=La(0),jt=0,Nu=null,Io=0,Sm=0,Zw=0,Jc=null,Rn=null,e_=0,rl=1/0,fi=null,Zh=!1,f0=null,_a=null,Ud=!1,da=null,ep=0,Zc=0,d0=null,wh=-1,_h=0;function Pn(){return Me&6?St():wh!==-1?wh:wh=St()}function xa(t){return t.mode&1?Me&2&&en!==0?en&-en:PV.transition!==null?(_h===0&&(_h=HO()),_h):(t=He,t!==0||(t=window.event,t=t===void 0?16:ZO(t.type)),t):1}function Ar(t,e,n,r){if(50<Zc)throw Zc=0,d0=null,Error(te(185));Nf(t,n,r),(!(Me&2)||t!==Wt)&&(t===Wt&&(!(Me&2)&&(Sm|=n),jt===4&&ia(t,en)),Vn(t,r),n===1&&Me===0&&!(e.mode&1)&&(rl=St()+500,_m&&Va()))}function Vn(t,e){var n=t.callbackNode;P4(t,e);var r=$h(t,t===Wt?en:0);if(r===0)n!==null&&Dk(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Dk(n),e===1)t.tag===0?AV(AE.bind(null,t)):vC(AE.bind(null,t)),kV(function(){!(Me&6)&&Va()}),n=null;else{switch(KO(r)){case 1:n=Tw;break;case 4:n=WO;break;case 16:n=Mh;break;case 536870912:n=qO;break;default:n=Mh}n=g2(n,c2.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function c2(t,e){if(wh=-1,_h=0,Me&6)throw Error(te(327));var n=t.callbackNode;if(Bs()&&t.callbackNode!==n)return null;var r=$h(t,t===Wt?en:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=tp(t,r);else{e=r;var i=Me;Me|=2;var a=f2();(Wt!==t||en!==e)&&(fi=null,rl=St()+500,wo(t,e));do try{GV();break}catch(s){u2(t,s)}while(!0);Vw(),Jh.current=a,Me=i,It!==null?e=0:(Wt=null,en=0,e=jt)}if(e!==0){if(e===2&&(i=Vv(t),i!==0&&(r=i,e=h0(t,i))),e===1)throw n=Nu,wo(t,0),ia(t,r),Vn(t,St()),n;if(e===6)ia(t,r);else{if(i=t.current.alternate,!(r&30)&&!HV(i)&&(e=tp(t,r),e===2&&(a=Vv(t),a!==0&&(r=a,e=h0(t,a))),e===1))throw n=Nu,wo(t,0),ia(t,r),Vn(t,St()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(te(345));case 2:ao(t,Rn,fi);break;case 3:if(ia(t,r),(r&130023424)===r&&(e=e_+500-St(),10<e)){if($h(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Pn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Kv(ao.bind(null,t,Rn,fi),e);break}ao(t,Rn,fi);break;case 4:if(ia(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Tr(r);a=1<<o,o=e[o],o>i&&(i=o),r&=~a}if(r=i,r=St()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*qV(r/1960))-r,10<r){t.timeoutHandle=Kv(ao.bind(null,t,Rn,fi),r);break}ao(t,Rn,fi);break;case 5:ao(t,Rn,fi);break;default:throw Error(te(329))}}}return Vn(t,St()),t.callbackNode===n?c2.bind(null,t):null}function h0(t,e){var n=Jc;return t.current.memoizedState.isDehydrated&&(wo(t,e).flags|=256),t=tp(t,e),t!==2&&(e=Rn,Rn=n,e!==null&&p0(e)),t}function p0(t){Rn===null?Rn=t:Rn.push.apply(Rn,t)}function HV(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Ir(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ia(t,e){for(e&=~Zw,e&=~Sm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Tr(e),r=1<<n;t[n]=-1,e&=~r}}function AE(t){if(Me&6)throw Error(te(327));Bs();var e=$h(t,0);if(!(e&1))return Vn(t,St()),null;var n=tp(t,e);if(t.tag!==0&&n===2){var r=Vv(t);r!==0&&(e=r,n=h0(t,r))}if(n===1)throw n=Nu,wo(t,0),ia(t,e),Vn(t,St()),n;if(n===6)throw Error(te(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ao(t,Rn,fi),Vn(t,St()),null}function t_(t,e){var n=Me;Me|=1;try{return t(e)}finally{Me=n,Me===0&&(rl=St()+500,_m&&Va())}}function Oo(t){da!==null&&da.tag===0&&!(Me&6)&&Bs();var e=Me;Me|=1;var n=fr.transition,r=He;try{if(fr.transition=null,He=1,t)return t()}finally{He=r,fr.transition=n,Me=e,!(Me&6)&&Va()}}function n_(){Wn=Cs.current,lt(Cs)}function wo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,xV(n)),It!==null)for(n=It.return;n!==null;){var r=n;switch(Mw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Bh();break;case 3:tl(),lt($n),lt(bn),qw();break;case 5:Ww(r);break;case 4:tl();break;case 13:lt(mt);break;case 19:lt(mt);break;case 10:Fw(r.type._context);break;case 22:case 23:n_()}n=n.return}if(Wt=t,It=t=ka(t.current,null),en=Wn=e,jt=0,Nu=null,Zw=Sm=Io=0,Rn=Jc=null,ho!==null){for(e=0;e<ho.length;e++)if(n=ho[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}ho=null}return t}function u2(t,e){do{var n=It;try{if(Vw(),yh.current=Qh,Yh){for(var r=gt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Yh=!1}if(Po=0,Bt=Rt=gt=null,Yc=!1,Iu=0,Jw.current=null,n===null||n.return===null){jt=1,Nu=e,It=null;break}e:{var a=t,o=n.return,s=n,l=e;if(e=en,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=s,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=pE(o);if(p!==null){p.flags&=-257,mE(p,o,s,a,e),p.mode&1&&hE(a,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var y=new Set;y.add(l),e.updateQueue=y}else m.add(l);break e}else{if(!(e&1)){hE(a,c,e),r_();break e}l=Error(te(426))}}else if(dt&&s.mode&1){var v=pE(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),mE(v,o,s,a,e),$w(nl(l,s));break e}}a=l=nl(l,s),jt!==4&&(jt=2),Jc===null?Jc=[a]:Jc.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var x=KC(a,l,e);sE(a,x);break e;case 1:s=l;var b=a.type,_=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(_a===null||!_a.has(_)))){a.flags|=65536,e&=-e,a.lanes|=e;var k=GC(a,s,e);sE(a,k);break e}}a=a.return}while(a!==null)}h2(n)}catch(S){e=S,It===n&&n!==null&&(It=n=n.return);continue}break}while(!0)}function f2(){var t=Jh.current;return Jh.current=Qh,t===null?Qh:t}function r_(){(jt===0||jt===3||jt===2)&&(jt=4),Wt===null||!(Io&268435455)&&!(Sm&268435455)||ia(Wt,en)}function tp(t,e){var n=Me;Me|=2;var r=f2();(Wt!==t||en!==e)&&(fi=null,wo(t,e));do try{KV();break}catch(i){u2(t,i)}while(!0);if(Vw(),Me=n,Jh.current=r,It!==null)throw Error(te(261));return Wt=null,en=0,jt}function KV(){for(;It!==null;)d2(It)}function GV(){for(;It!==null&&!b4();)d2(It)}function d2(t){var e=m2(t.alternate,t,Wn);t.memoizedProps=t.pendingProps,e===null?h2(t):It=e,Jw.current=null}function h2(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=UV(n,e),n!==null){n.flags&=32767,It=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{jt=6,It=null;return}}else if(n=FV(n,e,Wn),n!==null){It=n;return}if(e=e.sibling,e!==null){It=e;return}It=e=t}while(e!==null);jt===0&&(jt=5)}function ao(t,e,n){var r=He,i=fr.transition;try{fr.transition=null,He=1,XV(t,e,n,r)}finally{fr.transition=i,He=r}return null}function XV(t,e,n,r){do Bs();while(da!==null);if(Me&6)throw Error(te(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(te(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(I4(t,a),t===Wt&&(It=Wt=null,en=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ud||(Ud=!0,g2(Mh,function(){return Bs(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=fr.transition,fr.transition=null;var o=He;He=1;var s=Me;Me|=4,Jw.current=null,zV(t,n),s2(n,t),mV(qv),Lh=!!Wv,qv=Wv=null,t.current=n,WV(n),w4(),Me=s,He=o,fr.transition=a}else t.current=n;if(Ud&&(Ud=!1,da=t,ep=i),a=t.pendingLanes,a===0&&(_a=null),k4(n.stateNode),Vn(t,St()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Zh)throw Zh=!1,t=f0,f0=null,t;return ep&1&&t.tag!==0&&Bs(),a=t.pendingLanes,a&1?t===d0?Zc++:(Zc=0,d0=t):Zc=0,Va(),null}function Bs(){if(da!==null){var t=KO(ep),e=fr.transition,n=He;try{if(fr.transition=null,He=16>t?16:t,da===null)var r=!1;else{if(t=da,da=null,ep=0,Me&6)throw Error(te(331));var i=Me;for(Me|=4,fe=t.current;fe!==null;){var a=fe,o=a.child;if(fe.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(fe=c;fe!==null;){var u=fe;switch(u.tag){case 0:case 11:case 15:Qc(8,u,a)}var f=u.child;if(f!==null)f.return=u,fe=f;else for(;fe!==null;){u=fe;var h=u.sibling,p=u.return;if(i2(u),u===c){fe=null;break}if(h!==null){h.return=p,fe=h;break}fe=p}}}var m=a.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}fe=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,fe=o;else e:for(;fe!==null;){if(a=fe,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Qc(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,fe=x;break e}fe=a.return}}var b=t.current;for(fe=b;fe!==null;){o=fe;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,fe=_;else e:for(o=b;fe!==null;){if(s=fe,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Em(9,s)}}catch(S){_t(s,s.return,S)}if(s===o){fe=null;break e}var k=s.sibling;if(k!==null){k.return=s.return,fe=k;break e}fe=s.return}}if(Me=i,Va(),Wr&&typeof Wr.onPostCommitFiberRoot=="function")try{Wr.onPostCommitFiberRoot(gm,t)}catch{}r=!0}return r}finally{He=n,fr.transition=e}}return!1}function PE(t,e,n){e=nl(n,e),e=KC(t,e,1),t=wa(t,e,1),e=Pn(),t!==null&&(Nf(t,1,e),Vn(t,e))}function _t(t,e,n){if(t.tag===3)PE(t,t,n);else for(;e!==null;){if(e.tag===3){PE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_a===null||!_a.has(r))){t=nl(n,t),t=GC(e,t,1),e=wa(e,t,1),t=Pn(),e!==null&&(Nf(e,1,t),Vn(e,t));break}}e=e.return}}function YV(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Pn(),t.pingedLanes|=t.suspendedLanes&n,Wt===t&&(en&n)===n&&(jt===4||jt===3&&(en&130023424)===en&&500>St()-e_?wo(t,0):Zw|=n),Vn(t,e)}function p2(t,e){e===0&&(t.mode&1?(e=Cd,Cd<<=1,!(Cd&130023424)&&(Cd=4194304)):e=1);var n=Pn();t=Ci(t,e),t!==null&&(Nf(t,e,n),Vn(t,n))}function QV(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),p2(t,n)}function JV(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(te(314))}r!==null&&r.delete(e),p2(t,n)}var m2;m2=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||$n.current)Dn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Dn=!1,VV(t,e,n);Dn=!!(t.flags&131072)}else Dn=!1,dt&&e.flags&1048576&&bC(e,qh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;bh(t,e),t=e.pendingProps;var i=Js(e,bn.current);Us(e,n),i=Kw(null,e,r,t,i,n);var a=Gw();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ln(r)?(a=!0,zh(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Bw(e),i.updater=km,e.stateNode=i,i._reactInternals=e,e0(e,r,t,n),e=r0(null,e,r,!0,a,n)):(e.tag=0,dt&&a&&Dw(e),kn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(bh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=e3(r),t=_r(r,t),i){case 0:e=n0(null,e,r,t,n);break e;case 1:e=vE(null,e,r,t,n);break e;case 11:e=gE(null,e,r,t,n);break e;case 14:e=yE(null,e,r,_r(r.type,t),n);break e}throw Error(te(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_r(r,i),n0(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_r(r,i),vE(t,e,r,i,n);case 3:e:{if(JC(e),t===null)throw Error(te(387));r=e.pendingProps,a=e.memoizedState,i=a.element,SC(t,e),Gh(e,r,null,n);var o=e.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=nl(Error(te(423)),e),e=bE(t,e,r,n,i);break e}else if(r!==i){i=nl(Error(te(424)),e),e=bE(t,e,r,n,i);break e}else for(Kn=ba(e.stateNode.containerInfo.firstChild),Xn=e,dt=!0,Er=null,n=kC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Zs(),r===i){e=Ni(t,e,n);break e}kn(t,e,r,n)}e=e.child}return e;case 5:return TC(e),t===null&&Qv(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,Hv(r,i)?o=null:a!==null&&Hv(r,a)&&(e.flags|=32),QC(t,e),kn(t,e,o,n),e.child;case 6:return t===null&&Qv(e),null;case 13:return ZC(t,e,n);case 4:return zw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=el(e,null,r,n):kn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_r(r,i),gE(t,e,r,i,n);case 7:return kn(t,e,e.pendingProps,n),e.child;case 8:return kn(t,e,e.pendingProps.children,n),e.child;case 12:return kn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,tt(Hh,r._currentValue),r._currentValue=o,a!==null)if(Ir(a.value,o)){if(a.children===i.children&&!$n.current){e=Ni(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=ki(-1,n&-n),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Jv(a.return,n,e),s.lanes|=n;break}l=l.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(te(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),Jv(o,n,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}kn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Us(e,n),i=pr(i),r=r(i),e.flags|=1,kn(t,e,r,n),e.child;case 14:return r=e.type,i=_r(r,e.pendingProps),i=_r(r.type,i),yE(t,e,r,i,n);case 15:return XC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_r(r,i),bh(t,e),e.tag=1,Ln(r)?(t=!0,zh(e)):t=!1,Us(e,n),HC(e,r,i),e0(e,r,i,n),r0(null,e,r,!0,t,n);case 19:return e2(t,e,n);case 22:return YC(t,e,n)}throw Error(te(156,e.tag))};function g2(t,e){return zO(t,e)}function ZV(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cr(t,e,n,r){return new ZV(t,e,n,r)}function i_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function e3(t){if(typeof t=="function")return i_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===kw)return 11;if(t===Ew)return 14}return 2}function ka(t,e){var n=t.alternate;return n===null?(n=cr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function xh(t,e,n,r,i,a){var o=2;if(r=t,typeof t=="function")i_(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case _s:return _o(n.children,i,a,e);case xw:o=8,i|=8;break;case Ev:return t=cr(12,n,e,i|2),t.elementType=Ev,t.lanes=a,t;case Sv:return t=cr(13,n,e,i),t.elementType=Sv,t.lanes=a,t;case Tv:return t=cr(19,n,e,i),t.elementType=Tv,t.lanes=a,t;case TO:return Tm(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case EO:o=10;break e;case SO:o=9;break e;case kw:o=11;break e;case Ew:o=14;break e;case Zi:o=16,r=null;break e}throw Error(te(130,t==null?t:typeof t,""))}return e=cr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function _o(t,e,n,r){return t=cr(7,t,r,e),t.lanes=n,t}function Tm(t,e,n,r){return t=cr(22,t,r,e),t.elementType=TO,t.lanes=n,t.stateNode={isHidden:!1},t}function Ny(t,e,n){return t=cr(6,t,null,e),t.lanes=n,t}function Ry(t,e,n){return e=cr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function t3(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hy(0),this.expirationTimes=hy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hy(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function a_(t,e,n,r,i,a,o,s,l){return t=new t3(t,e,n,s,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=cr(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bw(a),t}function n3(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ws,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function y2(t){if(!t)return Na;t=t._reactInternals;e:{if(qo(t)!==t||t.tag!==1)throw Error(te(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ln(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(te(171))}if(t.tag===1){var n=t.type;if(Ln(n))return yC(t,n,e)}return e}function v2(t,e,n,r,i,a,o,s,l){return t=a_(n,r,!0,t,i,a,o,s,l),t.context=y2(null),n=t.current,r=Pn(),i=xa(n),a=ki(r,i),a.callback=e??null,wa(n,a,i),t.current.lanes=i,Nf(t,i,r),Vn(t,r),t}function Am(t,e,n,r){var i=e.current,a=Pn(),o=xa(i);return n=y2(n),e.context===null?e.context=n:e.pendingContext=n,e=ki(a,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=wa(i,e,o),t!==null&&(Ar(t,i,o,a),gh(t,i,o)),o}function np(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function IE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function o_(t,e){IE(t,e),(t=t.alternate)&&IE(t,e)}function r3(){return null}var b2=typeof reportError=="function"?reportError:function(t){console.error(t)};function s_(t){this._internalRoot=t}Pm.prototype.render=s_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(te(409));Am(t,e,null,null)};Pm.prototype.unmount=s_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Oo(function(){Am(null,t,null,null)}),e[Oi]=null}};function Pm(t){this._internalRoot=t}Pm.prototype.unstable_scheduleHydration=function(t){if(t){var e=YO();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ra.length&&e!==0&&e<ra[n].priority;n++);ra.splice(n,0,t),n===0&&JO(t)}};function l_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Im(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function OE(){}function i3(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var c=np(o);a.call(c)}}var o=v2(e,r,t,0,null,!1,!1,"",OE);return t._reactRootContainer=o,t[Oi]=o.current,Eu(t.nodeType===8?t.parentNode:t),Oo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var c=np(l);s.call(c)}}var l=a_(t,0,!1,null,null,!1,!1,"",OE);return t._reactRootContainer=l,t[Oi]=l.current,Eu(t.nodeType===8?t.parentNode:t),Oo(function(){Am(e,l,n,r)}),l}function Om(t,e,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=np(o);s.call(l)}}Am(e,o,t,i)}else o=i3(n,e,t,i,r);return np(o)}GO=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=jc(e.pendingLanes);n!==0&&(Aw(e,n|1),Vn(e,St()),!(Me&6)&&(rl=St()+500,Va()))}break;case 13:Oo(function(){var r=Ci(t,1);if(r!==null){var i=Pn();Ar(r,t,1,i)}}),o_(t,1)}};Pw=function(t){if(t.tag===13){var e=Ci(t,134217728);if(e!==null){var n=Pn();Ar(e,t,134217728,n)}o_(t,134217728)}};XO=function(t){if(t.tag===13){var e=xa(t),n=Ci(t,e);if(n!==null){var r=Pn();Ar(n,t,e,r)}o_(t,e)}};YO=function(){return He};QO=function(t,e){var n=He;try{return He=t,e()}finally{He=n}};Mv=function(t,e,n){switch(e){case"input":if(Iv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=wm(r);if(!i)throw Error(te(90));PO(r),Iv(r,i)}}}break;case"textarea":OO(t,n);break;case"select":e=n.value,e!=null&&$s(t,!!n.multiple,e,!1)}};$O=t_;LO=Oo;var a3={usingClientEntryPoint:!1,Events:[jf,Ss,wm,DO,MO,t_]},vc={findFiberByHostInstance:fo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},o3={bundleType:vc.bundleType,version:vc.version,rendererPackageName:vc.rendererPackageName,rendererConfig:vc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ui.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=UO(t),t===null?null:t.stateNode},findFiberByHostInstance:vc.findFiberByHostInstance||r3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bd.isDisabled&&Bd.supportsFiber)try{gm=Bd.inject(o3),Wr=Bd}catch{}}Jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=a3;Jn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!l_(e))throw Error(te(200));return n3(t,e,null,n)};Jn.createRoot=function(t,e){if(!l_(t))throw Error(te(299));var n=!1,r="",i=b2;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=a_(t,1,!1,null,null,n,!1,r,i),t[Oi]=e.current,Eu(t.nodeType===8?t.parentNode:t),new s_(e)};Jn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(te(188)):(t=Object.keys(t).join(","),Error(te(268,t)));return t=UO(e),t=t===null?null:t.stateNode,t};Jn.flushSync=function(t){return Oo(t)};Jn.hydrate=function(t,e,n){if(!Im(e))throw Error(te(200));return Om(null,t,e,!0,n)};Jn.hydrateRoot=function(t,e,n){if(!l_(t))throw Error(te(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=b2;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=v2(e,null,t,1,n??null,i,!1,a,o),t[Oi]=e.current,Eu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Pm(e)};Jn.render=function(t,e,n){if(!Im(e))throw Error(te(200));return Om(null,t,e,!1,n)};Jn.unmountComponentAtNode=function(t){if(!Im(t))throw Error(te(40));return t._reactRootContainer?(Oo(function(){Om(null,null,t,!1,function(){t._reactRootContainer=null,t[Oi]=null})}),!0):!1};Jn.unstable_batchedUpdates=t_;Jn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Im(n))throw Error(te(200));if(t==null||t._reactInternals===void 0)throw Error(te(38));return Om(t,e,n,!1,r)};Jn.version="18.3.1-next-f1338f8080-20240426";function w2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(w2)}catch(t){console.error(t)}}w2(),wO.exports=Jn;var s3=wO.exports,_2,CE=s3;_2=CE.createRoot,CE.hydrateRoot;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ru(){return Ru=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ru.apply(this,arguments)}var ha;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ha||(ha={}));const NE="popstate";function l3(t){t===void 0&&(t={});function e(r,i){let{pathname:a,search:o,hash:s}=r.location;return m0("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:rp(i)}return u3(e,n,null,t)}function At(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function x2(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function c3(){return Math.random().toString(36).substr(2,8)}function RE(t,e){return{usr:t.state,key:t.key,idx:e}}function m0(t,e,n,r){return n===void 0&&(n=null),Ru({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Nl(e):e,{state:n,key:e&&e.key||r||c3()})}function rp(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Nl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function u3(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s=ha.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Ru({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function f(){s=ha.Pop;let v=u(),x=v==null?null:v-c;c=v,l&&l({action:s,location:y.location,delta:x})}function h(v,x){s=ha.Push;let b=m0(y.location,v,x);c=u()+1;let _=RE(b,c),k=y.createHref(b);try{o.pushState(_,"",k)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(k)}a&&l&&l({action:s,location:y.location,delta:1})}function p(v,x){s=ha.Replace;let b=m0(y.location,v,x);c=u();let _=RE(b,c),k=y.createHref(b);o.replaceState(_,"",k),a&&l&&l({action:s,location:y.location,delta:0})}function m(v){let x=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof v=="string"?v:rp(v);return b=b.replace(/ $/,"%20"),At(x,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,x)}let y={get action(){return s},get location(){return t(i,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(NE,f),l=v,()=>{i.removeEventListener(NE,f),l=null}},createHref(v){return e(i,v)},createURL:m,encodeLocation(v){let x=m(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:p,go(v){return o.go(v)}};return y}var jE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(jE||(jE={}));function f3(t,e,n){return n===void 0&&(n="/"),d3(t,e,n,!1)}function d3(t,e,n,r){let i=typeof e=="string"?Nl(e):e,a=c_(i.pathname||"/",n);if(a==null)return null;let o=k2(t);h3(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let c=E3(a);s=x3(o[l],c,r)}return s}function k2(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,o,s)=>{let l={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};l.relativePath.startsWith("/")&&(At(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Ea([r,l.relativePath]),u=n.concat(l);a.children&&a.children.length>0&&(At(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),k2(a.children,e,u,c)),!(a.path==null&&!a.index)&&e.push({path:c,score:w3(c,a.index),routesMeta:u})};return t.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let l of E2(a.path))i(a,o,l)}),e}function E2(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=E2(r.join("/")),s=[];return s.push(...o.map(l=>l===""?a:[a,l].join("/"))),i&&s.push(...o),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function h3(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:_3(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const p3=/^:[\w-]+$/,m3=3,g3=2,y3=1,v3=10,b3=-2,DE=t=>t==="*";function w3(t,e){let n=t.split("/"),r=n.length;return n.some(DE)&&(r+=b3),e&&(r+=g3),n.filter(i=>!DE(i)).reduce((i,a)=>i+(p3.test(a)?m3:a===""?y3:v3),r)}function _3(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function x3(t,e,n){let{routesMeta:r}=t,i={},a="/",o=[];for(let s=0;s<r.length;++s){let l=r[s],c=s===r.length-1,u=a==="/"?e:e.slice(a.length)||"/",f=ME({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=ME({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Ea([a,f.pathname]),pathnameBase:P3(Ea([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=Ea([a,f.pathnameBase]))}return o}function ME(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=k3(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((c,u,f)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let y=s[f]||"";o=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const m=s[f];return p&&!m?c[h]=void 0:c[h]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:o,pattern:t}}function k3(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),x2(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function E3(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return x2(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function c_(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function S3(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Nl(t):t;return{pathname:n?n.startsWith("/")?n:T3(n,e):e,search:I3(r),hash:O3(i)}}function T3(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function jy(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function A3(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function u_(t,e){let n=A3(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function f_(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Nl(t):(i=Ru({},t),At(!i.pathname||!i.pathname.includes("?"),jy("?","pathname","search",i)),At(!i.pathname||!i.pathname.includes("#"),jy("#","pathname","hash",i)),At(!i.search||!i.search.includes("#"),jy("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}s=f>=0?e[f]:"/"}let l=S3(i,s),c=o&&o!=="/"&&o.endsWith("/"),u=(a||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Ea=t=>t.join("/").replace(/\/\/+/g,"/"),P3=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),I3=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,O3=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function C3(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const S2=["post","put","patch","delete"];new Set(S2);const N3=["get",...S2];new Set(N3);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ju(){return ju=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ju.apply(this,arguments)}const d_=D.createContext(null),R3=D.createContext(null),Fa=D.createContext(null),Cm=D.createContext(null),Ua=D.createContext({outlet:null,matches:[],isDataRoute:!1}),T2=D.createContext(null);function j3(t,e){let{relative:n}=e===void 0?{}:e;Rl()||At(!1);let{basename:r,navigator:i}=D.useContext(Fa),{hash:a,pathname:o,search:s}=P2(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Ea([r,o])),i.createHref({pathname:l,search:s,hash:a})}function Rl(){return D.useContext(Cm)!=null}function Ho(){return Rl()||At(!1),D.useContext(Cm).location}function A2(t){D.useContext(Fa).static||D.useLayoutEffect(t)}function h_(){let{isDataRoute:t}=D.useContext(Ua);return t?K3():D3()}function D3(){Rl()||At(!1);let t=D.useContext(d_),{basename:e,future:n,navigator:r}=D.useContext(Fa),{matches:i}=D.useContext(Ua),{pathname:a}=Ho(),o=JSON.stringify(u_(i,n.v7_relativeSplatPath)),s=D.useRef(!1);return A2(()=>{s.current=!0}),D.useCallback(function(c,u){if(u===void 0&&(u={}),!s.current)return;if(typeof c=="number"){r.go(c);return}let f=f_(c,JSON.parse(o),a,u.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Ea([e,f.pathname])),(u.replace?r.replace:r.push)(f,u.state,u)},[e,r,o,a,t])}function P2(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=D.useContext(Fa),{matches:i}=D.useContext(Ua),{pathname:a}=Ho(),o=JSON.stringify(u_(i,r.v7_relativeSplatPath));return D.useMemo(()=>f_(t,JSON.parse(o),a,n==="path"),[t,o,a,n])}function M3(t,e){return $3(t,e)}function $3(t,e,n,r){Rl()||At(!1);let{navigator:i}=D.useContext(Fa),{matches:a}=D.useContext(Ua),o=a[a.length-1],s=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Ho(),u;if(e){var f;let v=typeof e=="string"?Nl(e):e;l==="/"||(f=v.pathname)!=null&&f.startsWith(l)||At(!1),u=v}else u=c;let h=u.pathname||"/",p=h;if(l!=="/"){let v=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let m=f3(t,{pathname:p}),y=B3(m&&m.map(v=>Object.assign({},v,{params:Object.assign({},s,v.params),pathname:Ea([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:Ea([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,n,r);return e&&y?D.createElement(Cm.Provider,{value:{location:ju({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:ha.Pop}},y):y}function L3(){let t=H3(),e=C3(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:i},n):null,null)}const V3=D.createElement(L3,null);class F3 extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?D.createElement(Ua.Provider,{value:this.props.routeContext},D.createElement(T2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function U3(t){let{routeContext:e,match:n,children:r}=t,i=D.useContext(d_);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),D.createElement(Ua.Provider,{value:e},r)}function B3(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,s=(i=n)==null?void 0:i.errors;if(s!=null){let u=o.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);u>=0||At(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let f=o[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:h,errors:p}=n,m=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||m){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,f,h)=>{let p,m=!1,y=null,v=null;n&&(p=s&&f.route.id?s[f.route.id]:void 0,y=f.route.errorElement||V3,l&&(c<0&&h===0?(m=!0,v=null):c===h&&(m=!0,v=f.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,h+1)),b=()=>{let _;return p?_=y:m?_=v:f.route.Component?_=D.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=u,D.createElement(U3,{match:f,routeContext:{outlet:u,matches:x,isDataRoute:n!=null},children:_})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?D.createElement(F3,{location:n.location,revalidation:n.revalidation,component:y,error:p,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):b()},null)}var I2=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(I2||{}),ip=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ip||{});function z3(t){let e=D.useContext(d_);return e||At(!1),e}function W3(t){let e=D.useContext(R3);return e||At(!1),e}function q3(t){let e=D.useContext(Ua);return e||At(!1),e}function O2(t){let e=q3(),n=e.matches[e.matches.length-1];return n.route.id||At(!1),n.route.id}function H3(){var t;let e=D.useContext(T2),n=W3(ip.UseRouteError),r=O2(ip.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function K3(){let{router:t}=z3(I2.UseNavigateStable),e=O2(ip.UseNavigateStable),n=D.useRef(!1);return A2(()=>{n.current=!0}),D.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ju({fromRouteId:e},a)))},[t,e])}function C2(t){let{to:e,replace:n,state:r,relative:i}=t;Rl()||At(!1);let{future:a,static:o}=D.useContext(Fa),{matches:s}=D.useContext(Ua),{pathname:l}=Ho(),c=h_(),u=f_(e,u_(s,a.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(u);return D.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:i}),[c,f,i,n,r]),null}function Ji(t){At(!1)}function G3(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ha.Pop,navigator:a,static:o=!1,future:s}=t;Rl()&&At(!1);let l=e.replace(/^\/*/,"/"),c=D.useMemo(()=>({basename:l,navigator:a,static:o,future:ju({v7_relativeSplatPath:!1},s)}),[l,s,a,o]);typeof r=="string"&&(r=Nl(r));let{pathname:u="/",search:f="",hash:h="",state:p=null,key:m="default"}=r,y=D.useMemo(()=>{let v=c_(u,l);return v==null?null:{location:{pathname:v,search:f,hash:h,state:p,key:m},navigationType:i}},[l,u,f,h,p,m,i]);return y==null?null:D.createElement(Fa.Provider,{value:c},D.createElement(Cm.Provider,{children:n,value:y}))}function X3(t){let{children:e,location:n}=t;return M3(g0(e),n)}new Promise(()=>{});function g0(t,e){e===void 0&&(e=[]);let n=[];return D.Children.forEach(t,(r,i)=>{if(!D.isValidElement(r))return;let a=[...e,i];if(r.type===D.Fragment){n.push.apply(n,g0(r.props.children,a));return}r.type!==Ji&&At(!1),!r.props.index||!r.props.children||At(!1);let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=g0(r.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function y0(){return y0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},y0.apply(this,arguments)}function Y3(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Q3(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function J3(t,e){return t.button===0&&(!e||e==="_self")&&!Q3(t)}const Z3=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],eF="6";try{window.__reactRouterVersion=eF}catch{}const tF="startTransition",$E=YL[tF];function nF(t){let{basename:e,children:n,future:r,window:i}=t,a=D.useRef();a.current==null&&(a.current=l3({window:i,v5Compat:!0}));let o=a.current,[s,l]=D.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=D.useCallback(f=>{c&&$E?$E(()=>l(f)):l(f)},[l,c]);return D.useLayoutEffect(()=>o.listen(u),[o,u]),D.createElement(G3,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:o,future:r})}const rF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",iF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,us=D.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:o,state:s,target:l,to:c,preventScrollReset:u,unstable_viewTransition:f}=e,h=Y3(e,Z3),{basename:p}=D.useContext(Fa),m,y=!1;if(typeof c=="string"&&iF.test(c)&&(m=c,rF))try{let _=new URL(window.location.href),k=c.startsWith("//")?new URL(_.protocol+c):new URL(c),S=c_(k.pathname,p);k.origin===_.origin&&S!=null?c=S+k.search+k.hash:y=!0}catch{}let v=j3(c,{relative:i}),x=aF(c,{replace:o,state:s,target:l,preventScrollReset:u,relative:i,unstable_viewTransition:f});function b(_){r&&r(_),_.defaultPrevented||x(_)}return D.createElement("a",y0({},h,{href:m||v,onClick:y||a?r:b,ref:n,target:l}))});var LE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(LE||(LE={}));var VE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(VE||(VE={}));function aF(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:o,unstable_viewTransition:s}=e===void 0?{}:e,l=h_(),c=Ho(),u=P2(t,{relative:o});return D.useCallback(f=>{if(J3(f,n)){f.preventDefault();let h=r!==void 0?r:rp(c)===rp(u);l(t,{replace:h,state:i,preventScrollReset:a,relative:o,unstable_viewTransition:s})}},[c,l,u,r,i,n,t,a,o,s])}var FE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},oF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],o=t[n++],s=t[n++],l=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const a=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},R2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,s=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=a>>2,f=(a&3)<<4|s>>4;let h=(s&15)<<2|c>>6,p=c&63;l||(p=64,o||(h=64)),r.push(n[u],n[f],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(N2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):oF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||s==null||c==null||f==null)throw new sF;const h=a<<2|s>>4;if(r.push(h),c!==64){const p=s<<4&240|c>>2;if(r.push(p),f!==64){const m=c<<6&192|f;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class sF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lF=function(t){const e=N2(t);return R2.encodeByteArray(e,!0)},ap=function(t){return lF(t).replace(/\./g,"")},j2=function(t){try{return R2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uF=()=>cF().__FIREBASE_DEFAULTS__,fF=()=>{if(typeof process>"u"||typeof FE>"u")return;const t=FE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},dF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&j2(t[1]);return e&&JSON.parse(e)},Nm=()=>{try{return uF()||fF()||dF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},D2=t=>{var e,n;return(n=(e=Nm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},M2=t=>{const e=D2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},$2=()=>{var t;return(t=Nm())===null||t===void 0?void 0:t.config},L2=t=>{var e;return(e=Nm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ap(JSON.stringify(n)),ap(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wn())}function mF(){var t;const e=(t=Nm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gF(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function yF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vF(){const t=wn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function bF(){return!mF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wF(){try{return typeof indexedDB=="object"}catch{return!1}}function _F(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xF="FirebaseError";class ti extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=xF,Object.setPrototypeOf(this,ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mf.prototype.create)}}class Mf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?kF(a,r):"Error",s=`${this.serviceName}: ${o} (${i}).`;return new ti(i,s,r)}}function kF(t,e){return t.replace(EF,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const EF=/\{\$([^}]+)}/g;function SF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function op(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],o=e[i];if(UE(a)&&UE(o)){if(!op(a,o))return!1}else if(a!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function UE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $f(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Mc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function $c(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function TF(t,e){const n=new AF(t,e);return n.subscribe.bind(n)}class AF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");PF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Dy),i.error===void 0&&(i.error=Dy),i.complete===void 0&&(i.complete=Dy);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function PF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Dy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(t){return t&&t._delegate?t._delegate:t}class Ra{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new hF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CF(e))try{this.getOrInitializeService({instanceIdentifier:oo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=oo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=oo){return this.instances.has(e)}getOptions(e=oo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(a);r===s&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&e(o,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:OF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=oo){return this.component?this.component.multipleInstances?e:oo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function OF(t){return t===oo?void 0:t}function CF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new IF(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ne||(Ne={}));const RF={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},jF=Ne.INFO,DF={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},MF=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=DF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class p_{constructor(e){this.name=e,this._logLevel=jF,this._logHandler=MF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?RF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const $F=(t,e)=>e.some(n=>t instanceof n);let BE,zE;function LF(){return BE||(BE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VF(){return zE||(zE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const F2=new WeakMap,v0=new WeakMap,U2=new WeakMap,My=new WeakMap,m_=new WeakMap;function FF(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(Sa(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&F2.set(n,t)}).catch(()=>{}),m_.set(e,t),e}function UF(t){if(v0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});v0.set(t,e)}let b0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return v0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||U2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Sa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function BF(t){b0=t(b0)}function zF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call($y(this),e,...n);return U2.set(r,e.sort?e.sort():[e]),Sa(r)}:VF().includes(t)?function(...e){return t.apply($y(this),e),Sa(F2.get(this))}:function(...e){return Sa(t.apply($y(this),e))}}function WF(t){return typeof t=="function"?zF(t):(t instanceof IDBTransaction&&UF(t),$F(t,LF())?new Proxy(t,b0):t)}function Sa(t){if(t instanceof IDBRequest)return FF(t);if(My.has(t))return My.get(t);const e=WF(t);return e!==t&&(My.set(t,e),m_.set(e,t)),e}const $y=t=>m_.get(t);function qF(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),s=Sa(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Sa(o.result),l.oldVersion,l.newVersion,Sa(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),s.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),s}const HF=["get","getKey","getAll","getAllKeys","count"],KF=["put","add","delete","clear"],Ly=new Map;function WE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ly.get(e))return Ly.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=KF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||HF.includes(n)))return;const a=async function(o,...s){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(s.shift())),(await Promise.all([c[n](...s),i&&l.done]))[0]};return Ly.set(e,a),a}BF(t=>({...t,get:(e,n,r)=>WE(e,n)||t.get(e,n,r),has:(e,n)=>!!WE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(XF(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function XF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const w0="@firebase/app",qE="0.10.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri=new p_("@firebase/app"),YF="@firebase/app-compat",QF="@firebase/analytics-compat",JF="@firebase/analytics",ZF="@firebase/app-check-compat",eU="@firebase/app-check",tU="@firebase/auth",nU="@firebase/auth-compat",rU="@firebase/database",iU="@firebase/database-compat",aU="@firebase/functions",oU="@firebase/functions-compat",sU="@firebase/installations",lU="@firebase/installations-compat",cU="@firebase/messaging",uU="@firebase/messaging-compat",fU="@firebase/performance",dU="@firebase/performance-compat",hU="@firebase/remote-config",pU="@firebase/remote-config-compat",mU="@firebase/storage",gU="@firebase/storage-compat",yU="@firebase/firestore",vU="@firebase/vertexai-preview",bU="@firebase/firestore-compat",wU="firebase",_U="10.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="[DEFAULT]",xU={[w0]:"fire-core",[YF]:"fire-core-compat",[JF]:"fire-analytics",[QF]:"fire-analytics-compat",[eU]:"fire-app-check",[ZF]:"fire-app-check-compat",[tU]:"fire-auth",[nU]:"fire-auth-compat",[rU]:"fire-rtdb",[iU]:"fire-rtdb-compat",[aU]:"fire-fn",[oU]:"fire-fn-compat",[sU]:"fire-iid",[lU]:"fire-iid-compat",[cU]:"fire-fcm",[uU]:"fire-fcm-compat",[fU]:"fire-perf",[dU]:"fire-perf-compat",[hU]:"fire-rc",[pU]:"fire-rc-compat",[mU]:"fire-gcs",[gU]:"fire-gcs-compat",[yU]:"fire-fst",[bU]:"fire-fst-compat",[vU]:"fire-vertex","fire-js":"fire-js",[wU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp=new Map,kU=new Map,x0=new Map;function HE(t,e){try{t.container.addComponent(e)}catch(n){Ri.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Co(t){const e=t.name;if(x0.has(e))return Ri.debug(`There were multiple attempts to register component ${e}.`),!1;x0.set(e,t);for(const n of sp.values())HE(n,t);for(const n of kU.values())HE(n,t);return!0}function Rm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ur(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ta=new Mf("app","Firebase",EU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ra("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ta.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko=_U;function B2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:_0,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ta.create("bad-app-name",{appName:String(i)});if(n||(n=$2()),!n)throw Ta.create("no-options");const a=sp.get(i);if(a){if(op(n,a.options)&&op(r,a.config))return a;throw Ta.create("duplicate-app",{appName:i})}const o=new NF(i);for(const l of x0.values())o.addComponent(l);const s=new SU(n,r,o);return sp.set(i,s),s}function g_(t=_0){const e=sp.get(t);if(!e&&t===_0&&$2())return B2();if(!e)throw Ta.create("no-app",{appName:t});return e}function Hr(t,e,n){var r;let i=(r=xU[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const s=[`Unable to register library "${i}" with version "${e}":`];a&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ri.warn(s.join(" "));return}Co(new Ra(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TU="firebase-heartbeat-database",AU=1,Du="firebase-heartbeat-store";let Vy=null;function z2(){return Vy||(Vy=qF(TU,AU,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Du)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ta.create("idb-open",{originalErrorMessage:t.message})})),Vy}async function PU(t){try{const n=(await z2()).transaction(Du),r=await n.objectStore(Du).get(W2(t));return await n.done,r}catch(e){if(e instanceof ti)Ri.warn(e.message);else{const n=Ta.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ri.warn(n.message)}}}async function KE(t,e){try{const r=(await z2()).transaction(Du,"readwrite");await r.objectStore(Du).put(e,W2(t)),await r.done}catch(n){if(n instanceof ti)Ri.warn(n.message);else{const r=Ta.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ri.warn(r.message)}}}function W2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IU=1024,OU=30*24*60*60*1e3;class CU{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new RU(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=GE();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=OU}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ri.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=GE(),{heartbeatsToSend:r,unsentEntries:i}=NU(this._heartbeatsCache.heartbeats),a=ap(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Ri.warn(n),""}}}function GE(){return new Date().toISOString().substring(0,10)}function NU(t,e=IU){const n=[];let r=t.slice();for(const i of t){const a=n.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),XE(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),XE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class RU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wF()?_F().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await PU(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return KE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return KE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function XE(t){return ap(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jU(t){Co(new Ra("platform-logger",e=>new GF(e),"PRIVATE")),Co(new Ra("heartbeat",e=>new CU(e),"PRIVATE")),Hr(w0,qE,t),Hr(w0,qE,"esm2017"),Hr("fire-js","")}jU("");function y_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function q2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const DU=q2,H2=new Mf("auth","Firebase",q2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp=new p_("@firebase/auth");function MU(t,...e){lp.logLevel<=Ne.WARN&&lp.warn(`Auth (${Ko}): ${t}`,...e)}function kh(t,...e){lp.logLevel<=Ne.ERROR&&lp.error(`Auth (${Ko}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(t,...e){throw v_(t,...e)}function Kr(t,...e){return v_(t,...e)}function K2(t,e,n){const r=Object.assign(Object.assign({},DU()),{[e]:n});return new Mf("auth","Firebase",r).create(e,{appName:t.name})}function Ei(t){return K2(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function v_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return H2.create(t,...e)}function be(t,e,...n){if(!t)throw v_(e,...n)}function yi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw kh(e),new Error(e)}function ji(t,e){t||yi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function $U(){return YE()==="http:"||YE()==="https:"}function YE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($U()||gF()||"connection"in navigator)?navigator.onLine:!0}function VU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,n){this.shortDelay=e,this.longDelay=n,ji(n>e,"Short delay should be less than long delay!"),this.isMobile=pF()||yF()}get(){return LU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(t,e){ji(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UU=new Lf(3e4,6e4);function Ba(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function za(t,e,n,r,i={}){return X2(t,i,async()=>{let a={},o={};r&&(e==="GET"?o=r:a={body:JSON.stringify(r)});const s=$f(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),G2.fetch()(Y2(t,t.config.apiHost,n,s),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},a))})}async function X2(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},FU),e);try{const i=new zU(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw zd(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const s=a.ok?o.errorMessage:o.error.message,[l,c]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw zd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw zd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw zd(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw K2(t,u,c);Or(t,u)}}catch(i){if(i instanceof ti)throw i;Or(t,"network-request-failed",{message:String(i)})}}async function Vf(t,e,n,r,i={}){const a=await za(t,e,n,r,i);return"mfaPendingCredential"in a&&Or(t,"multi-factor-auth-required",{_serverResponse:a}),a}function Y2(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?b_(t.config,i):`${t.config.apiScheme}://${i}`}function BU(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class zU{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Kr(this.auth,"network-request-failed")),UU.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function zd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Kr(t,e,r);return i.customData._tokenResponse=n,i}function QE(t){return t!==void 0&&t.enterprise!==void 0}class WU{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return BU(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function qU(t,e){return za(t,"GET","/v2/recaptchaConfig",Ba(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HU(t,e){return za(t,"POST","/v1/accounts:delete",e)}async function Q2(t,e){return za(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function KU(t,e=!1){const n=vt(t),r=await n.getIdToken(e),i=w_(r);be(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:eu(Fy(i.auth_time)),issuedAtTime:eu(Fy(i.iat)),expirationTime:eu(Fy(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Fy(t){return Number(t)*1e3}function w_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return kh("JWT malformed, contained fewer than 3 sections"),null;try{const i=j2(n);return i?JSON.parse(i):(kh("Failed to decode base64 JWT payload"),null)}catch(i){return kh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function JE(t){const e=w_(t);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ti&&GU(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function GU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=eu(this.lastLoginAt),this.creationTime=eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Mu(t,Q2(n,{idToken:r}));be(i==null?void 0:i.users.length,n,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const o=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?J2(a.providerUserInfo):[],s=QU(t.providerData,o),l=t.isAnonymous,c=!(t.email&&a.passwordHash)&&!(s!=null&&s.length),u=l?c:!1,f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new E0(a.createdAt,a.lastLoginAt),isAnonymous:u};Object.assign(t,f)}async function YU(t){const e=vt(t);await cp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function QU(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function J2(t){return t.map(e=>{var{providerId:n}=e,r=y_(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JU(t,e){const n=await X2(t,{},async()=>{const r=$f({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=Y2(t,i,"/v1/token",`key=${a}`),s=await t._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",G2.fetch()(o,{method:"POST",headers:s,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ZU(t,e){return za(t,"POST","/v2/accounts:revokeToken",Ba(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):JE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=JE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await JU(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new zs;return r&&(be(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(be(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(be(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zs,this.toJSON())}_performRefresh(){return yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(t,e){be(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class vi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,a=y_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new XU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new E0(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Mu(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return KU(this,e)}reload(){return YU(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new vi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await cp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ur(this.auth.app))return Promise.reject(Ei(this.auth));const e=await this.getIdToken();return await Mu(this,HU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,a,o,s,l,c,u;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(s=n.tenantId)!==null&&s!==void 0?s:void 0,v=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,x=(c=n.createdAt)!==null&&c!==void 0?c:void 0,b=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:_,emailVerified:k,isAnonymous:S,providerData:I,stsTokenManager:T}=n;be(_&&T,e,"internal-error");const E=zs.fromJSON(this.name,T);be(typeof _=="string",e,"internal-error"),Qi(f,e.name),Qi(h,e.name),be(typeof k=="boolean",e,"internal-error"),be(typeof S=="boolean",e,"internal-error"),Qi(p,e.name),Qi(m,e.name),Qi(y,e.name),Qi(v,e.name),Qi(x,e.name),Qi(b,e.name);const P=new vi({uid:_,auth:e,email:h,emailVerified:k,displayName:f,isAnonymous:S,photoURL:m,phoneNumber:p,tenantId:y,stsTokenManager:E,createdAt:x,lastLoginAt:b});return I&&Array.isArray(I)&&(P.providerData=I.map(O=>Object.assign({},O))),v&&(P._redirectEventId=v),P}static async _fromIdTokenResponse(e,n,r=!1){const i=new zs;i.updateFromServerResponse(n);const a=new vi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await cp(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];be(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?J2(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),s=new zs;s.updateFromIdToken(r);const l=new vi({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new E0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE=new Map;function bi(t){ji(t instanceof Function,"Expected a class definition");let e=ZE.get(t);return e?(ji(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ZE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Z2.type="NONE";const eS=Z2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eh(t,e,n){return`firebase:${t}:${e}:${n}`}class Ws{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Eh(this.userKey,i.apiKey,a),this.fullPersistenceKey=Eh("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?vi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ws(bi(eS),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let a=i[0]||bi(eS);const o=Eh(r,e.config.apiKey,e.name);let s=null;for(const c of n)try{const u=await c._get(o);if(u){const f=vi._fromJSON(e,u);c!==a&&(s=f),a=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new Ws(a,e,r):(a=l[0],s&&await a._set(o,s.toJSON()),await Promise.all(n.map(async c=>{if(c!==a)try{await c._remove(o)}catch{}})),new Ws(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aN(e))return"Blackberry";if(oN(e))return"Webos";if(tN(e))return"Safari";if((e.includes("chrome/")||nN(e))&&!e.includes("edge/"))return"Chrome";if(iN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function eN(t=wn()){return/firefox\//i.test(t)}function tN(t=wn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nN(t=wn()){return/crios\//i.test(t)}function rN(t=wn()){return/iemobile/i.test(t)}function iN(t=wn()){return/android/i.test(t)}function aN(t=wn()){return/blackberry/i.test(t)}function oN(t=wn()){return/webos/i.test(t)}function __(t=wn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function e6(t=wn()){var e;return __(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function t6(){return vF()&&document.documentMode===10}function sN(t=wn()){return __(t)||iN(t)||oN(t)||aN(t)||/windows phone/i.test(t)||rN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(t,e=[]){let n;switch(t){case"Browser":n=tS(wn());break;case"Worker":n=`${tS(wn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ko}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((o,s)=>{try{const l=e(a);o(l)}catch(l){s(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r6(t,e={}){return za(t,"GET","/v2/passwordPolicy",Ba(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i6=6;class a6{constructor(e){var n,r,i,a;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:i6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,a,o,s;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(a=l.containsUppercaseLetter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nS(this),this.idTokenSubscription=new nS(this),this.beforeStateQueue=new n6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=H2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=bi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ws.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Q2(this,{idToken:e}),r=await vi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ur(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,s=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===s)&&(l!=null&&l.user)&&(i=l.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await cp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=VU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ur(this.app))return Promise.reject(Ei(this));const n=e?vt(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ur(this.app)?Promise.reject(Ei(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ur(this.app)?Promise.reject(Ei(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(bi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await r6(this),n=new a6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Mf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await ZU(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&bi(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await Ws.create(this,[bi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(s,this,"internal-error"),s.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&MU(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Go(t){return vt(t)}class nS{constructor(e){this.auth=e,this.observer=null,this.addObserver=TF(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function s6(t){jm=t}function cN(t){return jm.loadJS(t)}function l6(){return jm.recaptchaEnterpriseScript}function c6(){return jm.gapiScript}function u6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const f6="recaptcha-enterprise",d6="NO_RECAPTCHA";class h6{constructor(e){this.type=f6,this.auth=Go(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,s)=>{qU(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const c=new WU(l);return a.tenantId==null?a._agentRecaptchaConfig=c:a._tenantRecaptchaConfigs[a.tenantId]=c,o(c.siteKey)}}).catch(l=>{s(l)})})}function i(a,o,s){const l=window.grecaptcha;QE(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(c=>{o(c)}).catch(()=>{o(d6)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,o)=>{r(this.auth).then(s=>{if(!n&&QE(window.grecaptcha))i(s,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=l6();l.length!==0&&(l+=s),cN(l).then(()=>{i(s,a,o)}).catch(c=>{o(c)})}}).catch(s=>{o(s)})})}}async function rS(t,e,n,r=!1){const i=new h6(t);let a;try{a=await i.verify(n)}catch{a=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function S0(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await rS(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await rS(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p6(t,e){const n=Rm(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(op(a,e??{}))return i;Or(i,"already-initialized")}return n.initialize({options:e})}function m6(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(bi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function g6(t,e,n){const r=Go(t);be(r._canInitEmulator,r,"emulator-config-failed"),be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=uN(e),{host:o,port:s}=y6(e),l=s===null?"":`:${s}`;r.config.emulator={url:`${a}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),v6()}function uN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function y6(t){const e=uN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:iS(r.substr(a.length+1))}}else{const[a,o]=r.split(":");return{host:a,port:iS(o)}}}function iS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function v6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return yi("not implemented")}_getIdTokenResponse(e){return yi("not implemented")}_linkToIdToken(e,n){return yi("not implemented")}_getReauthenticationResolver(e){return yi("not implemented")}}async function b6(t,e){return za(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w6(t,e){return Vf(t,"POST","/v1/accounts:signInWithPassword",Ba(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _6(t,e){return Vf(t,"POST","/v1/accounts:signInWithEmailLink",Ba(t,e))}async function x6(t,e){return Vf(t,"POST","/v1/accounts:signInWithEmailLink",Ba(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u extends x_{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new $u(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new $u(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return S0(e,n,"signInWithPassword",w6);case"emailLink":return _6(e,{email:this._email,oobCode:this._password});default:Or(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return S0(e,r,"signUpPassword",b6);case"emailLink":return x6(e,{idToken:n,email:this._email,oobCode:this._password});default:Or(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qs(t,e){return Vf(t,"POST","/v1/accounts:signInWithIdp",Ba(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k6="http://localhost";class No extends x_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new No(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Or("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,a=y_(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new No(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return qs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,qs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,qs(e,n)}buildRequest(){const e={requestUri:k6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=$f(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function S6(t){const e=Mc($c(t)).link,n=e?Mc($c(e)).deep_link_id:null,r=Mc($c(t)).deep_link_id;return(r?Mc($c(r)).link:null)||r||n||e||t}class k_{constructor(e){var n,r,i,a,o,s;const l=Mc($c(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,f=E6((i=l.mode)!==null&&i!==void 0?i:null);be(c&&u&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=u,this.continueUrl=(a=l.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(s=l.tenantId)!==null&&s!==void 0?s:null}static parseLink(e){const n=S6(e);try{return new k_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(){this.providerId=jl.PROVIDER_ID}static credential(e,n){return $u._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=k_.parseLink(n);return be(r,"argument-error"),$u._fromEmailAndCode(e,r.code,r.tenantId)}}jl.PROVIDER_ID="password";jl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";jl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff extends fN{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa extends Ff{constructor(){super("facebook.com")}static credential(e){return No._fromParams({providerId:aa.PROVIDER_ID,signInMethod:aa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return aa.credentialFromTaggedObject(e)}static credentialFromError(e){return aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return aa.credential(e.oauthAccessToken)}catch{return null}}}aa.FACEBOOK_SIGN_IN_METHOD="facebook.com";aa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa extends Ff{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return No._fromParams({providerId:oa.PROVIDER_ID,signInMethod:oa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return oa.credentialFromTaggedObject(e)}static credentialFromError(e){return oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return oa.credential(n,r)}catch{return null}}}oa.GOOGLE_SIGN_IN_METHOD="google.com";oa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa extends Ff{constructor(){super("github.com")}static credential(e){return No._fromParams({providerId:sa.PROVIDER_ID,signInMethod:sa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sa.credentialFromTaggedObject(e)}static credentialFromError(e){return sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sa.credential(e.oauthAccessToken)}catch{return null}}}sa.GITHUB_SIGN_IN_METHOD="github.com";sa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la extends Ff{constructor(){super("twitter.com")}static credential(e,n){return No._fromParams({providerId:la.PROVIDER_ID,signInMethod:la.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return la.credentialFromTaggedObject(e)}static credentialFromError(e){return la.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return la.credential(n,r)}catch{return null}}}la.TWITTER_SIGN_IN_METHOD="twitter.com";la.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T6(t,e){return Vf(t,"POST","/v1/accounts:signUp",Ba(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await vi._fromIdTokenResponse(e,r,i),o=aS(r);return new Ro({user:a,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=aS(r);return new Ro({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function aS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up extends ti{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,up.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new up(e,n,r,i)}}function dN(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?up._fromErrorAndOperation(t,a,e,r):a})}async function A6(t,e,n=!1){const r=await Mu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ro._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P6(t,e,n=!1){const{auth:r}=t;if(Ur(r.app))return Promise.reject(Ei(r));const i="reauthenticate";try{const a=await Mu(t,dN(r,i,e,t),n);be(a.idToken,r,"internal-error");const o=w_(a.idToken);be(o,r,"internal-error");const{sub:s}=o;return be(t.uid===s,r,"user-mismatch"),Ro._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Or(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hN(t,e,n=!1){if(Ur(t.app))return Promise.reject(Ei(t));const r="signIn",i=await dN(t,r,e),a=await Ro._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function I6(t,e){return hN(Go(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pN(t){const e=Go(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function O6(t,e,n){if(Ur(t.app))return Promise.reject(Ei(t));const r=Go(t),o=await S0(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",T6).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&pN(t),l}),s=await Ro._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(s.user),s}function C6(t,e,n){return Ur(t.app)?Promise.reject(Ei(t)):I6(vt(t),jl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&pN(t),r})}function N6(t,e,n,r){return vt(t).onIdTokenChanged(e,n,r)}function R6(t,e,n){return vt(t).beforeAuthStateChanged(e,n)}function j6(t,e,n,r){return vt(t).onAuthStateChanged(e,n,r)}function D6(t){return vt(t).signOut()}const fp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(fp,"1"),this.storage.removeItem(fp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6=1e3,$6=10;class gN extends mN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,s,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},a=this.storage.getItem(r);t6()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,$6):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},M6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}gN.type="LOCAL";const L6=gN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN extends mN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}yN.type="SESSION";const vN=yN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Dm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(o).map(async c=>c(n.origin,a)),l=await V6(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((s,l)=>{const c=E_("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),s(h.data.response);break;default:clearTimeout(u),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(){return window}function U6(t){Gr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(){return typeof Gr().WorkerGlobalScope<"u"&&typeof Gr().importScripts=="function"}async function B6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function z6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function W6(){return bN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN="firebaseLocalStorageDb",q6=1,dp="firebaseLocalStorage",_N="fbase_key";class Uf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Mm(t,e){return t.transaction([dp],e?"readwrite":"readonly").objectStore(dp)}function H6(){const t=indexedDB.deleteDatabase(wN);return new Uf(t).toPromise()}function T0(){const t=indexedDB.open(wN,q6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(dp,{keyPath:_N})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(dp)?e(r):(r.close(),await H6(),e(await T0()))})})}async function oS(t,e,n){const r=Mm(t,!0).put({[_N]:e,value:n});return new Uf(r).toPromise()}async function K6(t,e){const n=Mm(t,!1).get(e),r=await new Uf(n).toPromise();return r===void 0?null:r.value}function sS(t,e){const n=Mm(t,!0).delete(e);return new Uf(n).toPromise()}const G6=800,X6=3;class xN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await T0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>X6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dm._getInstance(W6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await B6(),!this.activeServiceWorker)return;this.sender=new F6(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||z6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await T0();return await oS(e,fp,"1"),await sS(e,fp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>oS(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>K6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>sS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Mm(i,!1).getAll();return new Uf(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),G6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xN.type="LOCAL";const Y6=xN;new Lf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q6(t,e){return e?bi(e):(be(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_ extends x_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return qs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return qs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function J6(t){return hN(t.auth,new S_(t),t.bypassAuthState)}function Z6(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),P6(n,new S_(t),t.bypassAuthState)}async function eB(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),A6(n,new S_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:o,type:s}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return J6;case"linkViaPopup":case"linkViaRedirect":return eB;case"reauthViaPopup":case"reauthViaRedirect":return Z6;default:Or(this.auth,"internal-error")}}resolve(e){ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tB=new Lf(2e3,1e4);class Ns extends kN{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Ns.currentPopupAction&&Ns.currentPopupAction.cancel(),Ns.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){ji(this.filter.length===1,"Popup operations only handle one event");const e=E_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Kr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Kr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ns.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Kr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,tB.get())};e()}}Ns.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nB="pendingRedirect",Sh=new Map;class rB extends kN{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Sh.get(this.auth._key());if(!e){try{const r=await iB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Sh.set(this.auth._key(),e)}return this.bypassAuthState||Sh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function iB(t,e){const n=sB(e),r=oB(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function aB(t,e){Sh.set(t._key(),e)}function oB(t){return bi(t._redirectPersistence)}function sB(t){return Eh(nB,t.config.apiKey,t.name)}async function lB(t,e,n=!1){if(Ur(t.app))return Promise.reject(Ei(t));const r=Go(t),i=Q6(r,e),o=await new rB(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cB=10*60*1e3;class uB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!EN(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Kr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cB&&this.cachedEventUids.clear(),this.cachedEventUids.has(lS(e))}saveEventToCache(e){this.cachedEventUids.add(lS(e)),this.lastProcessedEventTime=Date.now()}}function lS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function EN({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function fB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return EN(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dB(t,e={}){return za(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pB=/^https?/;async function mB(t){if(t.config.emulator)return;const{authorizedDomains:e}=await dB(t);for(const n of e)try{if(gB(n))return}catch{}Or(t,"unauthorized-domain")}function gB(t){const e=k0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!pB.test(n))return!1;if(hB.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yB=new Lf(3e4,6e4);function cS(){const t=Gr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function vB(t){return new Promise((e,n)=>{var r,i,a;function o(){cS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{cS(),n(Kr(t,"network-request-failed"))},timeout:yB.get()})}if(!((i=(r=Gr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Gr().gapi)===null||a===void 0)&&a.load)o();else{const s=u6("iframefcb");return Gr()[s]=()=>{gapi.load?o():n(Kr(t,"network-request-failed"))},cN(`${c6()}?onload=${s}`).catch(l=>n(l))}}).catch(e=>{throw Th=null,e})}let Th=null;function bB(t){return Th=Th||vB(t),Th}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wB=new Lf(5e3,15e3),_B="__/auth/iframe",xB="emulator/auth/iframe",kB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function SB(t){const e=t.config;be(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?b_(e,xB):`https://${t.config.authDomain}/${_B}`,r={apiKey:e.apiKey,appName:t.name,v:Ko},i=EB.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${$f(r).slice(1)}`}async function TB(t){const e=await bB(t),n=Gr().gapi;return be(n,t,"internal-error"),e.open({where:document.body,url:SB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kB,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const o=Kr(t,"network-request-failed"),s=Gr().setTimeout(()=>{a(o)},wB.get());function l(){Gr().clearTimeout(s),i(r)}r.ping(l).then(l,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PB=500,IB=600,OB="_blank",CB="http://localhost";class uS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NB(t,e,n,r=PB,i=IB){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},AB),{width:r.toString(),height:i.toString(),top:a,left:o}),c=wn().toLowerCase();n&&(s=nN(c)?OB:n),eN(c)&&(e=e||CB,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[p,m])=>`${h}${p}=${m},`,"");if(e6(c)&&s!=="_self")return RB(e||"",s),new uS(null);const f=window.open(e||"",s,u);be(f,t,"popup-blocked");try{f.focus()}catch{}return new uS(f)}function RB(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jB="__/auth/handler",DB="emulator/auth/handler",MB=encodeURIComponent("fac");async function fS(t,e,n,r,i,a){be(t.config.authDomain,t,"auth-domain-config-required"),be(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ko,eventId:i};if(e instanceof fN){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",SF(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries({}))o[u]=f}if(e instanceof Ff){const u=e.getScopes().filter(f=>f!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const s=o;for(const u of Object.keys(s))s[u]===void 0&&delete s[u];const l=await t._getAppCheckToken(),c=l?`#${MB}=${encodeURIComponent(l)}`:"";return`${$B(t)}?${$f(s).slice(1)}${c}`}function $B({config:t}){return t.emulator?b_(t,DB):`https://${t.authDomain}/${jB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy="webStorageSupport";class LB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vN,this._completeRedirectFn=lB,this._overrideRedirectResult=aB}async _openPopup(e,n,r,i){var a;ji((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await fS(e,n,r,k0(),i);return NB(e,o,E_())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await fS(e,n,r,k0(),i);return U6(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(ji(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await TB(e),r=new uB(e);return n.register("authEvent",i=>(be(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Uy,{type:Uy},i=>{var a;const o=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[Uy];o!==void 0&&n(!!o),Or(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=mB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return sN()||tN()||__()}}const VB=LB;var dS="@firebase/auth",hS="1.7.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function BB(t){Co(new Ra("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=r.options;be(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lN(t)},c=new o6(r,i,a,l);return m6(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Co(new Ra("auth-internal",e=>{const n=Go(e.getProvider("auth").getImmediate());return(r=>new FB(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hr(dS,hS,UB(t)),Hr(dS,hS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zB=5*60,WB=L2("authIdTokenMaxAge")||zB;let pS=null;const qB=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>WB)return;const i=n==null?void 0:n.token;pS!==i&&(pS=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function T_(t=g_()){const e=Rm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=p6(t,{popupRedirectResolver:VB,persistence:[Y6,L6,vN]}),r=L2("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const o=qB(a.toString());R6(n,o,()=>o(n.currentUser)),N6(n,s=>o(s))}}const i=D2("auth");return i&&g6(n,`http://${i}`),n}function HB(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}s6({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Kr("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",HB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});BB("Browser");var KB="firebase",GB="10.13.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hr(KB,GB,"app");var mS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xo,SN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,E){function P(){}P.prototype=E.prototype,T.D=E.prototype,T.prototype=new P,T.prototype.constructor=T,T.C=function(O,N,R){for(var C=Array(arguments.length-2),L=2;L<arguments.length;L++)C[L-2]=arguments[L];return E.prototype[N].apply(O,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,E,P){P||(P=0);var O=Array(16);if(typeof E=="string")for(var N=0;16>N;++N)O[N]=E.charCodeAt(P++)|E.charCodeAt(P++)<<8|E.charCodeAt(P++)<<16|E.charCodeAt(P++)<<24;else for(N=0;16>N;++N)O[N]=E[P++]|E[P++]<<8|E[P++]<<16|E[P++]<<24;E=T.g[0],P=T.g[1],N=T.g[2];var R=T.g[3],C=E+(R^P&(N^R))+O[0]+3614090360&4294967295;E=P+(C<<7&4294967295|C>>>25),C=R+(N^E&(P^N))+O[1]+3905402710&4294967295,R=E+(C<<12&4294967295|C>>>20),C=N+(P^R&(E^P))+O[2]+606105819&4294967295,N=R+(C<<17&4294967295|C>>>15),C=P+(E^N&(R^E))+O[3]+3250441966&4294967295,P=N+(C<<22&4294967295|C>>>10),C=E+(R^P&(N^R))+O[4]+4118548399&4294967295,E=P+(C<<7&4294967295|C>>>25),C=R+(N^E&(P^N))+O[5]+1200080426&4294967295,R=E+(C<<12&4294967295|C>>>20),C=N+(P^R&(E^P))+O[6]+2821735955&4294967295,N=R+(C<<17&4294967295|C>>>15),C=P+(E^N&(R^E))+O[7]+4249261313&4294967295,P=N+(C<<22&4294967295|C>>>10),C=E+(R^P&(N^R))+O[8]+1770035416&4294967295,E=P+(C<<7&4294967295|C>>>25),C=R+(N^E&(P^N))+O[9]+2336552879&4294967295,R=E+(C<<12&4294967295|C>>>20),C=N+(P^R&(E^P))+O[10]+4294925233&4294967295,N=R+(C<<17&4294967295|C>>>15),C=P+(E^N&(R^E))+O[11]+2304563134&4294967295,P=N+(C<<22&4294967295|C>>>10),C=E+(R^P&(N^R))+O[12]+1804603682&4294967295,E=P+(C<<7&4294967295|C>>>25),C=R+(N^E&(P^N))+O[13]+4254626195&4294967295,R=E+(C<<12&4294967295|C>>>20),C=N+(P^R&(E^P))+O[14]+2792965006&4294967295,N=R+(C<<17&4294967295|C>>>15),C=P+(E^N&(R^E))+O[15]+1236535329&4294967295,P=N+(C<<22&4294967295|C>>>10),C=E+(N^R&(P^N))+O[1]+4129170786&4294967295,E=P+(C<<5&4294967295|C>>>27),C=R+(P^N&(E^P))+O[6]+3225465664&4294967295,R=E+(C<<9&4294967295|C>>>23),C=N+(E^P&(R^E))+O[11]+643717713&4294967295,N=R+(C<<14&4294967295|C>>>18),C=P+(R^E&(N^R))+O[0]+3921069994&4294967295,P=N+(C<<20&4294967295|C>>>12),C=E+(N^R&(P^N))+O[5]+3593408605&4294967295,E=P+(C<<5&4294967295|C>>>27),C=R+(P^N&(E^P))+O[10]+38016083&4294967295,R=E+(C<<9&4294967295|C>>>23),C=N+(E^P&(R^E))+O[15]+3634488961&4294967295,N=R+(C<<14&4294967295|C>>>18),C=P+(R^E&(N^R))+O[4]+3889429448&4294967295,P=N+(C<<20&4294967295|C>>>12),C=E+(N^R&(P^N))+O[9]+568446438&4294967295,E=P+(C<<5&4294967295|C>>>27),C=R+(P^N&(E^P))+O[14]+3275163606&4294967295,R=E+(C<<9&4294967295|C>>>23),C=N+(E^P&(R^E))+O[3]+4107603335&4294967295,N=R+(C<<14&4294967295|C>>>18),C=P+(R^E&(N^R))+O[8]+1163531501&4294967295,P=N+(C<<20&4294967295|C>>>12),C=E+(N^R&(P^N))+O[13]+2850285829&4294967295,E=P+(C<<5&4294967295|C>>>27),C=R+(P^N&(E^P))+O[2]+4243563512&4294967295,R=E+(C<<9&4294967295|C>>>23),C=N+(E^P&(R^E))+O[7]+1735328473&4294967295,N=R+(C<<14&4294967295|C>>>18),C=P+(R^E&(N^R))+O[12]+2368359562&4294967295,P=N+(C<<20&4294967295|C>>>12),C=E+(P^N^R)+O[5]+4294588738&4294967295,E=P+(C<<4&4294967295|C>>>28),C=R+(E^P^N)+O[8]+2272392833&4294967295,R=E+(C<<11&4294967295|C>>>21),C=N+(R^E^P)+O[11]+1839030562&4294967295,N=R+(C<<16&4294967295|C>>>16),C=P+(N^R^E)+O[14]+4259657740&4294967295,P=N+(C<<23&4294967295|C>>>9),C=E+(P^N^R)+O[1]+2763975236&4294967295,E=P+(C<<4&4294967295|C>>>28),C=R+(E^P^N)+O[4]+1272893353&4294967295,R=E+(C<<11&4294967295|C>>>21),C=N+(R^E^P)+O[7]+4139469664&4294967295,N=R+(C<<16&4294967295|C>>>16),C=P+(N^R^E)+O[10]+3200236656&4294967295,P=N+(C<<23&4294967295|C>>>9),C=E+(P^N^R)+O[13]+681279174&4294967295,E=P+(C<<4&4294967295|C>>>28),C=R+(E^P^N)+O[0]+3936430074&4294967295,R=E+(C<<11&4294967295|C>>>21),C=N+(R^E^P)+O[3]+3572445317&4294967295,N=R+(C<<16&4294967295|C>>>16),C=P+(N^R^E)+O[6]+76029189&4294967295,P=N+(C<<23&4294967295|C>>>9),C=E+(P^N^R)+O[9]+3654602809&4294967295,E=P+(C<<4&4294967295|C>>>28),C=R+(E^P^N)+O[12]+3873151461&4294967295,R=E+(C<<11&4294967295|C>>>21),C=N+(R^E^P)+O[15]+530742520&4294967295,N=R+(C<<16&4294967295|C>>>16),C=P+(N^R^E)+O[2]+3299628645&4294967295,P=N+(C<<23&4294967295|C>>>9),C=E+(N^(P|~R))+O[0]+4096336452&4294967295,E=P+(C<<6&4294967295|C>>>26),C=R+(P^(E|~N))+O[7]+1126891415&4294967295,R=E+(C<<10&4294967295|C>>>22),C=N+(E^(R|~P))+O[14]+2878612391&4294967295,N=R+(C<<15&4294967295|C>>>17),C=P+(R^(N|~E))+O[5]+4237533241&4294967295,P=N+(C<<21&4294967295|C>>>11),C=E+(N^(P|~R))+O[12]+1700485571&4294967295,E=P+(C<<6&4294967295|C>>>26),C=R+(P^(E|~N))+O[3]+2399980690&4294967295,R=E+(C<<10&4294967295|C>>>22),C=N+(E^(R|~P))+O[10]+4293915773&4294967295,N=R+(C<<15&4294967295|C>>>17),C=P+(R^(N|~E))+O[1]+2240044497&4294967295,P=N+(C<<21&4294967295|C>>>11),C=E+(N^(P|~R))+O[8]+1873313359&4294967295,E=P+(C<<6&4294967295|C>>>26),C=R+(P^(E|~N))+O[15]+4264355552&4294967295,R=E+(C<<10&4294967295|C>>>22),C=N+(E^(R|~P))+O[6]+2734768916&4294967295,N=R+(C<<15&4294967295|C>>>17),C=P+(R^(N|~E))+O[13]+1309151649&4294967295,P=N+(C<<21&4294967295|C>>>11),C=E+(N^(P|~R))+O[4]+4149444226&4294967295,E=P+(C<<6&4294967295|C>>>26),C=R+(P^(E|~N))+O[11]+3174756917&4294967295,R=E+(C<<10&4294967295|C>>>22),C=N+(E^(R|~P))+O[2]+718787259&4294967295,N=R+(C<<15&4294967295|C>>>17),C=P+(R^(N|~E))+O[9]+3951481745&4294967295,T.g[0]=T.g[0]+E&4294967295,T.g[1]=T.g[1]+(N+(C<<21&4294967295|C>>>11))&4294967295,T.g[2]=T.g[2]+N&4294967295,T.g[3]=T.g[3]+R&4294967295}r.prototype.u=function(T,E){E===void 0&&(E=T.length);for(var P=E-this.blockSize,O=this.B,N=this.h,R=0;R<E;){if(N==0)for(;R<=P;)i(this,T,R),R+=this.blockSize;if(typeof T=="string"){for(;R<E;)if(O[N++]=T.charCodeAt(R++),N==this.blockSize){i(this,O),N=0;break}}else for(;R<E;)if(O[N++]=T[R++],N==this.blockSize){i(this,O),N=0;break}}this.h=N,this.o+=E},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var E=1;E<T.length-8;++E)T[E]=0;var P=8*this.o;for(E=T.length-8;E<T.length;++E)T[E]=P&255,P/=256;for(this.u(T),T=Array(16),E=P=0;4>E;++E)for(var O=0;32>O;O+=8)T[P++]=this.g[E]>>>O&255;return T};function a(T,E){var P=s;return Object.prototype.hasOwnProperty.call(P,T)?P[T]:P[T]=E(T)}function o(T,E){this.h=E;for(var P=[],O=!0,N=T.length-1;0<=N;N--){var R=T[N]|0;O&&R==E||(P[N]=R,O=!1)}this.g=P}var s={};function l(T){return-128<=T&&128>T?a(T,function(E){return new o([E|0],0>E?-1:0)}):new o([T|0],0>T?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return f;if(0>T)return v(c(-T));for(var E=[],P=1,O=0;T>=P;O++)E[O]=T/P|0,P*=4294967296;return new o(E,0)}function u(T,E){if(T.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(T.charAt(0)=="-")return v(u(T.substring(1),E));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=c(Math.pow(E,8)),O=f,N=0;N<T.length;N+=8){var R=Math.min(8,T.length-N),C=parseInt(T.substring(N,N+R),E);8>R?(R=c(Math.pow(E,R)),O=O.j(R).add(c(C))):(O=O.j(P),O=O.add(c(C)))}return O}var f=l(0),h=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(y(this))return-v(this).m();for(var T=0,E=1,P=0;P<this.g.length;P++){var O=this.i(P);T+=(0<=O?O:4294967296+O)*E,E*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(m(this))return"0";if(y(this))return"-"+v(this).toString(T);for(var E=c(Math.pow(T,6)),P=this,O="";;){var N=k(P,E).g;P=x(P,N.j(E));var R=((0<P.g.length?P.g[0]:P.h)>>>0).toString(T);if(P=N,m(P))return R+O;for(;6>R.length;)R="0"+R;O=R+O}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function m(T){if(T.h!=0)return!1;for(var E=0;E<T.g.length;E++)if(T.g[E]!=0)return!1;return!0}function y(T){return T.h==-1}t.l=function(T){return T=x(this,T),y(T)?-1:m(T)?0:1};function v(T){for(var E=T.g.length,P=[],O=0;O<E;O++)P[O]=~T.g[O];return new o(P,~T.h).add(h)}t.abs=function(){return y(this)?v(this):this},t.add=function(T){for(var E=Math.max(this.g.length,T.g.length),P=[],O=0,N=0;N<=E;N++){var R=O+(this.i(N)&65535)+(T.i(N)&65535),C=(R>>>16)+(this.i(N)>>>16)+(T.i(N)>>>16);O=C>>>16,R&=65535,C&=65535,P[N]=C<<16|R}return new o(P,P[P.length-1]&-2147483648?-1:0)};function x(T,E){return T.add(v(E))}t.j=function(T){if(m(this)||m(T))return f;if(y(this))return y(T)?v(this).j(v(T)):v(v(this).j(T));if(y(T))return v(this.j(v(T)));if(0>this.l(p)&&0>T.l(p))return c(this.m()*T.m());for(var E=this.g.length+T.g.length,P=[],O=0;O<2*E;O++)P[O]=0;for(O=0;O<this.g.length;O++)for(var N=0;N<T.g.length;N++){var R=this.i(O)>>>16,C=this.i(O)&65535,L=T.i(N)>>>16,q=T.i(N)&65535;P[2*O+2*N]+=C*q,b(P,2*O+2*N),P[2*O+2*N+1]+=R*q,b(P,2*O+2*N+1),P[2*O+2*N+1]+=C*L,b(P,2*O+2*N+1),P[2*O+2*N+2]+=R*L,b(P,2*O+2*N+2)}for(O=0;O<E;O++)P[O]=P[2*O+1]<<16|P[2*O];for(O=E;O<2*E;O++)P[O]=0;return new o(P,0)};function b(T,E){for(;(T[E]&65535)!=T[E];)T[E+1]+=T[E]>>>16,T[E]&=65535,E++}function _(T,E){this.g=T,this.h=E}function k(T,E){if(m(E))throw Error("division by zero");if(m(T))return new _(f,f);if(y(T))return E=k(v(T),E),new _(v(E.g),v(E.h));if(y(E))return E=k(T,v(E)),new _(v(E.g),E.h);if(30<T.g.length){if(y(T)||y(E))throw Error("slowDivide_ only works with positive integers.");for(var P=h,O=E;0>=O.l(T);)P=S(P),O=S(O);var N=I(P,1),R=I(O,1);for(O=I(O,2),P=I(P,2);!m(O);){var C=R.add(O);0>=C.l(T)&&(N=N.add(P),R=C),O=I(O,1),P=I(P,1)}return E=x(T,N.j(E)),new _(N,E)}for(N=f;0<=T.l(E);){for(P=Math.max(1,Math.floor(T.m()/E.m())),O=Math.ceil(Math.log(P)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),R=c(P),C=R.j(E);y(C)||0<C.l(T);)P-=O,R=c(P),C=R.j(E);m(R)&&(R=h),N=N.add(R),T=x(T,C)}return new _(N,T)}t.A=function(T){return k(this,T).h},t.and=function(T){for(var E=Math.max(this.g.length,T.g.length),P=[],O=0;O<E;O++)P[O]=this.i(O)&T.i(O);return new o(P,this.h&T.h)},t.or=function(T){for(var E=Math.max(this.g.length,T.g.length),P=[],O=0;O<E;O++)P[O]=this.i(O)|T.i(O);return new o(P,this.h|T.h)},t.xor=function(T){for(var E=Math.max(this.g.length,T.g.length),P=[],O=0;O<E;O++)P[O]=this.i(O)^T.i(O);return new o(P,this.h^T.h)};function S(T){for(var E=T.g.length+1,P=[],O=0;O<E;O++)P[O]=T.i(O)<<1|T.i(O-1)>>>31;return new o(P,T.h)}function I(T,E){var P=E>>5;E%=32;for(var O=T.g.length-P,N=[],R=0;R<O;R++)N[R]=0<E?T.i(R+P)>>>E|T.i(R+P+1)<<32-E:T.i(R+P);return new o(N,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,SN=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,xo=o}).apply(typeof mS<"u"?mS:typeof self<"u"?self:typeof window<"u"?window:{});var Wd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var TN,AN,Lc,PN,Ah,A0,IN,ON,CN;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,w,A){return d==Array.prototype||d==Object.prototype||(d[w]=A.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wd=="object"&&Wd];for(var w=0;w<d.length;++w){var A=d[w];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=n(this);function i(d,w){if(w)e:{var A=r;d=d.split(".");for(var j=0;j<d.length-1;j++){var V=d[j];if(!(V in A))break e;A=A[V]}d=d[d.length-1],j=A[d],w=w(j),w!=j&&w!=null&&e(A,d,{configurable:!0,writable:!0,value:w})}}function a(d,w){d instanceof String&&(d+="");var A=0,j=!1,V={next:function(){if(!j&&A<d.length){var B=A++;return{value:w(B,d[B]),done:!1}}return j=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(d){return d||function(){return a(this,function(w,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function l(d){var w=typeof d;return w=w!="object"?w:d?Array.isArray(d)?"array":w:"null",w=="array"||w=="object"&&typeof d.length=="number"}function c(d){var w=typeof d;return w=="object"&&d!=null||w=="function"}function u(d,w,A){return d.call.apply(d.bind,arguments)}function f(d,w,A){if(!d)throw Error();if(2<arguments.length){var j=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,j),d.apply(w,V)}}return function(){return d.apply(w,arguments)}}function h(d,w,A){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,h.apply(null,arguments)}function p(d,w){var A=Array.prototype.slice.call(arguments,1);return function(){var j=A.slice();return j.push.apply(j,arguments),d.apply(this,j)}}function m(d,w){function A(){}A.prototype=w.prototype,d.aa=w.prototype,d.prototype=new A,d.prototype.constructor=d,d.Qb=function(j,V,B){for(var ie=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)ie[Qe-2]=arguments[Qe];return w.prototype[V].apply(j,ie)}}function y(d){const w=d.length;if(0<w){const A=Array(w);for(let j=0;j<w;j++)A[j]=d[j];return A}return[]}function v(d,w){for(let A=1;A<arguments.length;A++){const j=arguments[A];if(l(j)){const V=d.length||0,B=j.length||0;d.length=V+B;for(let ie=0;ie<B;ie++)d[V+ie]=j[ie]}else d.push(j)}}class x{constructor(w,A){this.i=w,this.j=A,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function b(d){return/^[\s\xa0]*$/.test(d)}function _(){var d=s.navigator;return d&&(d=d.userAgent)?d:""}function k(d){return k[" "](d),d}k[" "]=function(){};var S=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function I(d,w,A){for(const j in d)w.call(A,d[j],j,d)}function T(d,w){for(const A in d)w.call(void 0,d[A],A,d)}function E(d){const w={};for(const A in d)w[A]=d[A];return w}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(d,w){let A,j;for(let V=1;V<arguments.length;V++){j=arguments[V];for(A in j)d[A]=j[A];for(let B=0;B<P.length;B++)A=P[B],Object.prototype.hasOwnProperty.call(j,A)&&(d[A]=j[A])}}function N(d){var w=1;d=d.split(":");const A=[];for(;0<w&&d.length;)A.push(d.shift()),w--;return d.length&&A.push(d.join(":")),A}function R(d){s.setTimeout(()=>{throw d},0)}function C(){var d=H;let w=null;return d.g&&(w=d.g,d.g=d.g.next,d.g||(d.h=null),w.next=null),w}class L{constructor(){this.h=this.g=null}add(w,A){const j=q.get();j.set(w,A),this.h?this.h.next=j:this.g=j,this.h=j}}var q=new x(()=>new z,d=>d.reset());class z{constructor(){this.next=this.g=this.h=null}set(w,A){this.h=w,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,$=!1,H=new L,Z=()=>{const d=s.Promise.resolve(void 0);Y=()=>{d.then(ae)}};var ae=()=>{for(var d;d=C();){try{d.h.call(d.g)}catch(A){R(A)}var w=q;w.j(d),100>w.h&&(w.h++,d.next=w.g,w.g=d)}$=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function F(d,w){this.type=d,this.g=this.target=w,this.defaultPrevented=!1}F.prototype.h=function(){this.defaultPrevented=!0};var K=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var d=!1,w=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const A=()=>{};s.addEventListener("test",A,w),s.removeEventListener("test",A,w)}catch{}return d}();function le(d,w){if(F.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var A=this.type=d.type,j=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=w,w=d.relatedTarget){if(S){e:{try{k(w.nodeName);var V=!0;break e}catch{}V=!1}V||(w=null)}}else A=="mouseover"?w=d.fromElement:A=="mouseout"&&(w=d.toElement);this.relatedTarget=w,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:me[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&le.aa.h.call(this)}}m(le,F);var me={2:"touch",3:"pen",4:"mouse"};le.prototype.h=function(){le.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var _e="closure_listenable_"+(1e6*Math.random()|0),ne=0;function J(d,w,A,j,V){this.listener=d,this.proxy=null,this.src=w,this.type=A,this.capture=!!j,this.ha=V,this.key=++ne,this.da=this.fa=!1}function oe(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function se(d){this.src=d,this.g={},this.h=0}se.prototype.add=function(d,w,A,j,V){var B=d.toString();d=this.g[B],d||(d=this.g[B]=[],this.h++);var ie=ye(d,w,j,V);return-1<ie?(w=d[ie],A||(w.fa=!1)):(w=new J(w,this.src,B,!!j,V),w.fa=A,d.push(w)),w};function W(d,w){var A=w.type;if(A in d.g){var j=d.g[A],V=Array.prototype.indexOf.call(j,w,void 0),B;(B=0<=V)&&Array.prototype.splice.call(j,V,1),B&&(oe(w),d.g[A].length==0&&(delete d.g[A],d.h--))}}function ye(d,w,A,j){for(var V=0;V<d.length;++V){var B=d[V];if(!B.da&&B.listener==w&&B.capture==!!A&&B.ha==j)return V}return-1}var pe="closure_lm_"+(1e6*Math.random()|0),je={};function Be(d,w,A,j,V){if(Array.isArray(w)){for(var B=0;B<w.length;B++)Be(d,w[B],A,j,V);return null}return A=sd(A),d&&d[_e]?d.K(w,A,c(j)?!!j.capture:!!j,V):Kt(d,w,A,!1,j,V)}function Kt(d,w,A,j,V,B){if(!w)throw Error("Invalid event type");var ie=c(V)?!!V.capture:!!V,Qe=Dr(d);if(Qe||(d[pe]=Qe=new se(d)),A=Qe.add(w,A,j,ie,B),A.proxy)return A;if(j=an(),A.proxy=j,j.src=d,j.listener=A,d.addEventListener)K||(V=ie),V===void 0&&(V=!1),d.addEventListener(w.toString(),j,V);else if(d.attachEvent)d.attachEvent(Nn(w.toString()),j);else if(d.addListener&&d.removeListener)d.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return A}function an(){function d(A){return w.call(d.src,d.listener,A)}const w=si;return d}function jr(d,w,A,j,V){if(Array.isArray(w))for(var B=0;B<w.length;B++)jr(d,w[B],A,j,V);else j=c(j)?!!j.capture:!!j,A=sd(A),d&&d[_e]?(d=d.i,w=String(w).toString(),w in d.g&&(B=d.g[w],A=ye(B,A,j,V),-1<A&&(oe(B[A]),Array.prototype.splice.call(B,A,1),B.length==0&&(delete d.g[w],d.h--)))):d&&(d=Dr(d))&&(w=d.g[w.toString()],d=-1,w&&(d=ye(w,A,j,V)),(A=-1<d?w[d]:null)&&on(A))}function on(d){if(typeof d!="number"&&d&&!d.da){var w=d.src;if(w&&w[_e])W(w.i,d);else{var A=d.type,j=d.proxy;w.removeEventListener?w.removeEventListener(A,j,d.capture):w.detachEvent?w.detachEvent(Nn(A),j):w.addListener&&w.removeListener&&w.removeListener(j),(A=Dr(w))?(W(A,d),A.h==0&&(A.src=null,w[pe]=null)):oe(d)}}}function Nn(d){return d in je?je[d]:je[d]="on"+d}function si(d,w){if(d.da)d=!0;else{w=new le(w,this);var A=d.listener,j=d.ha||d.src;d.fa&&on(d),d=A.call(j,w)}return d}function Dr(d){return d=d[pe],d instanceof se?d:null}var qi="__closure_events_fn_"+(1e9*Math.random()>>>0);function sd(d){return typeof d=="function"?d:(d[qi]||(d[qi]=function(w){return d.handleEvent(w)}),d[qi])}function $t(){Q.call(this),this.i=new se(this),this.M=this,this.F=null}m($t,Q),$t.prototype[_e]=!0,$t.prototype.removeEventListener=function(d,w,A,j){jr(this,d,w,A,j)};function Gt(d,w){var A,j=d.F;if(j)for(A=[];j;j=j.F)A.push(j);if(d=d.M,j=w.type||w,typeof w=="string")w=new F(w,d);else if(w instanceof F)w.target=w.target||d;else{var V=w;w=new F(j,d),O(w,V)}if(V=!0,A)for(var B=A.length-1;0<=B;B--){var ie=w.g=A[B];V=rs(ie,j,!0,w)&&V}if(ie=w.g=d,V=rs(ie,j,!0,w)&&V,V=rs(ie,j,!1,w)&&V,A)for(B=0;B<A.length;B++)ie=w.g=A[B],V=rs(ie,j,!1,w)&&V}$t.prototype.N=function(){if($t.aa.N.call(this),this.i){var d=this.i,w;for(w in d.g){for(var A=d.g[w],j=0;j<A.length;j++)oe(A[j]);delete d.g[w],d.h--}}this.F=null},$t.prototype.K=function(d,w,A,j){return this.i.add(String(d),w,!1,A,j)},$t.prototype.L=function(d,w,A,j){return this.i.add(String(d),w,!0,A,j)};function rs(d,w,A,j){if(w=d.i.g[String(w)],!w)return!0;w=w.concat();for(var V=!0,B=0;B<w.length;++B){var ie=w[B];if(ie&&!ie.da&&ie.capture==A){var Qe=ie.listener,Xt=ie.ha||ie.src;ie.fa&&W(d.i,ie),V=Qe.call(Xt,j)!==!1&&V}}return V&&!j.defaultPrevented}function is(d,w,A){if(typeof d=="function")A&&(d=h(d,A));else if(d&&typeof d.handleEvent=="function")d=h(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:s.setTimeout(d,w||0)}function ld(d){d.g=is(()=>{d.g=null,d.i&&(d.i=!1,ld(d))},d.l);const w=d.h;d.h=null,d.m.apply(null,w)}class Hg extends Q{constructor(w,A){super(),this.m=w,this.l=A,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:ld(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qa(d){Q.call(this),this.h=d,this.g={}}m(Qa,Q);var cd=[];function ud(d){I(d.g,function(w,A){this.g.hasOwnProperty(A)&&on(w)},d),d.g={}}Qa.prototype.N=function(){Qa.aa.N.call(this),ud(this)},Qa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Jl=s.JSON.stringify,Kg=s.JSON.parse,Gg=class{stringify(d){return s.JSON.stringify(d,void 0)}parse(d){return s.JSON.parse(d,void 0)}};function fd(){}fd.prototype.h=null;function Zl(d){return d.h||(d.h=d.i())}function Xg(){}var Hi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ce(){F.call(this,"d")}m(ce,F);function ke(){F.call(this,"c")}m(ke,F);var Ae={},Le=null;function ze(){return Le=Le||new $t}Ae.La="serverreachability";function Lt(d){F.call(this,Ae.La,d)}m(Lt,F);function ct(d){const w=ze();Gt(w,new Lt(w))}Ae.STAT_EVENT="statevent";function li(d,w){F.call(this,Ae.STAT_EVENT,d),this.stat=w}m(li,F);function ut(d){const w=ze();Gt(w,new li(w,d))}Ae.Ma="timingevent";function $1(d,w){F.call(this,Ae.Ma,d),this.size=w}m($1,F);function ec(d,w){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){d()},w)}function tc(){this.g=!0}tc.prototype.xa=function(){this.g=!1};function fL(d,w,A,j,V,B){d.info(function(){if(d.g)if(B)for(var ie="",Qe=B.split("&"),Xt=0;Xt<Qe.length;Xt++){var Ve=Qe[Xt].split("=");if(1<Ve.length){var sn=Ve[0];Ve=Ve[1];var ln=sn.split("_");ie=2<=ln.length&&ln[1]=="type"?ie+(sn+"="+Ve+"&"):ie+(sn+"=redacted&")}}else ie=null;else ie=B;return"XMLHTTP REQ ("+j+") [attempt "+V+"]: "+w+`
`+A+`
`+ie})}function dL(d,w,A,j,V,B,ie){d.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+V+"]: "+w+`
`+A+`
`+B+" "+ie})}function as(d,w,A,j){d.info(function(){return"XMLHTTP TEXT ("+w+"): "+pL(d,A)+(j?" "+j:"")})}function hL(d,w){d.info(function(){return"TIMEOUT: "+w})}tc.prototype.info=function(){};function pL(d,w){if(!d.g)return w;if(!w)return null;try{var A=JSON.parse(w);if(A){for(d=0;d<A.length;d++)if(Array.isArray(A[d])){var j=A[d];if(!(2>j.length)){var V=j[1];if(Array.isArray(V)&&!(1>V.length)){var B=V[0];if(B!="noop"&&B!="stop"&&B!="close")for(var ie=1;ie<V.length;ie++)V[ie]=""}}}}return Jl(A)}catch{return w}}var dd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},L1={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Yg;function hd(){}m(hd,fd),hd.prototype.g=function(){return new XMLHttpRequest},hd.prototype.i=function(){return{}},Yg=new hd;function Ki(d,w,A,j){this.j=d,this.i=w,this.l=A,this.R=j||1,this.U=new Qa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new V1}function V1(){this.i=null,this.g="",this.h=!1}var F1={},Qg={};function Jg(d,w,A){d.L=1,d.v=yd(ci(w)),d.m=A,d.P=!0,U1(d,null)}function U1(d,w){d.F=Date.now(),pd(d),d.A=ci(d.v);var A=d.A,j=d.R;Array.isArray(j)||(j=[String(j)]),tk(A.i,"t",j),d.C=0,A=d.j.J,d.h=new V1,d.g=bk(d.j,A?w:null,!d.m),0<d.O&&(d.M=new Hg(h(d.Y,d,d.g),d.O)),w=d.U,A=d.g,j=d.ca;var V="readystatechange";Array.isArray(V)||(V&&(cd[0]=V.toString()),V=cd);for(var B=0;B<V.length;B++){var ie=Be(A,V[B],j||w.handleEvent,!1,w.h||w);if(!ie)break;w.g[ie.key]=ie}w=d.H?E(d.H):{},d.m?(d.u||(d.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,w)):(d.u="GET",d.g.ea(d.A,d.u,null,w)),ct(),fL(d.i,d.u,d.A,d.l,d.R,d.m)}Ki.prototype.ca=function(d){d=d.target;const w=this.M;w&&ui(d)==3?w.j():this.Y(d)},Ki.prototype.Y=function(d){try{if(d==this.g)e:{const ln=ui(this.g);var w=this.g.Ba();const ls=this.g.Z();if(!(3>ln)&&(ln!=3||this.g&&(this.h.h||this.g.oa()||lk(this.g)))){this.J||ln!=4||w==7||(w==8||0>=ls?ct(3):ct(2)),Zg(this);var A=this.g.Z();this.X=A;t:if(B1(this)){var j=lk(this.g);d="";var V=j.length,B=ui(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ja(this),nc(this);var ie="";break t}this.h.i=new s.TextDecoder}for(w=0;w<V;w++)this.h.h=!0,d+=this.h.i.decode(j[w],{stream:!(B&&w==V-1)});j.length=0,this.h.g+=d,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=A==200,dL(this.i,this.u,this.A,this.l,this.R,ln,A),this.o){if(this.T&&!this.K){t:{if(this.g){var Qe,Xt=this.g;if((Qe=Xt.g?Xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(Qe)){var Ve=Qe;break t}}Ve=null}if(A=Ve)as(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ey(this,A);else{this.o=!1,this.s=3,ut(12),Ja(this),nc(this);break e}}if(this.P){A=!0;let vr;for(;!this.J&&this.C<ie.length;)if(vr=mL(this,ie),vr==Qg){ln==4&&(this.s=4,ut(14),A=!1),as(this.i,this.l,null,"[Incomplete Response]");break}else if(vr==F1){this.s=4,ut(15),as(this.i,this.l,ie,"[Invalid Chunk]"),A=!1;break}else as(this.i,this.l,vr,null),ey(this,vr);if(B1(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ln!=4||ie.length!=0||this.h.h||(this.s=1,ut(16),A=!1),this.o=this.o&&A,!A)as(this.i,this.l,ie,"[Invalid Chunked Response]"),Ja(this),nc(this);else if(0<ie.length&&!this.W){this.W=!0;var sn=this.j;sn.g==this&&sn.ba&&!sn.M&&(sn.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),oy(sn),sn.M=!0,ut(11))}}else as(this.i,this.l,ie,null),ey(this,ie);ln==4&&Ja(this),this.o&&!this.J&&(ln==4?mk(this.j,this):(this.o=!1,pd(this)))}else NL(this.g),A==400&&0<ie.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),Ja(this),nc(this)}}}catch{}finally{}};function B1(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function mL(d,w){var A=d.C,j=w.indexOf(`
`,A);return j==-1?Qg:(A=Number(w.substring(A,j)),isNaN(A)?F1:(j+=1,j+A>w.length?Qg:(w=w.slice(j,j+A),d.C=j+A,w)))}Ki.prototype.cancel=function(){this.J=!0,Ja(this)};function pd(d){d.S=Date.now()+d.I,z1(d,d.I)}function z1(d,w){if(d.B!=null)throw Error("WatchDog timer not null");d.B=ec(h(d.ba,d),w)}function Zg(d){d.B&&(s.clearTimeout(d.B),d.B=null)}Ki.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(hL(this.i,this.A),this.L!=2&&(ct(),ut(17)),Ja(this),this.s=2,nc(this)):z1(this,this.S-d)};function nc(d){d.j.G==0||d.J||mk(d.j,d)}function Ja(d){Zg(d);var w=d.M;w&&typeof w.ma=="function"&&w.ma(),d.M=null,ud(d.U),d.g&&(w=d.g,d.g=null,w.abort(),w.ma())}function ey(d,w){try{var A=d.j;if(A.G!=0&&(A.g==d||ty(A.h,d))){if(!d.K&&ty(A.h,d)&&A.G==3){try{var j=A.Da.g.parse(w)}catch{j=null}if(Array.isArray(j)&&j.length==3){var V=j;if(V[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<d.F)xd(A),wd(A);else break e;ay(A),ut(18)}}else A.za=V[1],0<A.za-A.T&&37500>V[2]&&A.F&&A.v==0&&!A.C&&(A.C=ec(h(A.Za,A),6e3));if(1>=H1(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else eo(A,11)}else if((d.K||A.g==d)&&xd(A),!b(w))for(V=A.Da.g.parse(w),w=0;w<V.length;w++){let Ve=V[w];if(A.T=Ve[0],Ve=Ve[1],A.G==2)if(Ve[0]=="c"){A.K=Ve[1],A.ia=Ve[2];const sn=Ve[3];sn!=null&&(A.la=sn,A.j.info("VER="+A.la));const ln=Ve[4];ln!=null&&(A.Aa=ln,A.j.info("SVER="+A.Aa));const ls=Ve[5];ls!=null&&typeof ls=="number"&&0<ls&&(j=1.5*ls,A.L=j,A.j.info("backChannelRequestTimeoutMs_="+j)),j=A;const vr=d.g;if(vr){const Ed=vr.g?vr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ed){var B=j.h;B.g||Ed.indexOf("spdy")==-1&&Ed.indexOf("quic")==-1&&Ed.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(ny(B,B.h),B.h=null))}if(j.D){const sy=vr.g?vr.g.getResponseHeader("X-HTTP-Session-Id"):null;sy&&(j.ya=sy,rt(j.I,j.D,sy))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-d.F,A.j.info("Handshake RTT: "+A.R+"ms")),j=A;var ie=d;if(j.qa=vk(j,j.J?j.ia:null,j.W),ie.K){K1(j.h,ie);var Qe=ie,Xt=j.L;Xt&&(Qe.I=Xt),Qe.B&&(Zg(Qe),pd(Qe)),j.g=ie}else hk(j);0<A.i.length&&_d(A)}else Ve[0]!="stop"&&Ve[0]!="close"||eo(A,7);else A.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?eo(A,7):iy(A):Ve[0]!="noop"&&A.l&&A.l.ta(Ve),A.v=0)}}ct(4)}catch{}}var gL=class{constructor(d,w){this.g=d,this.map=w}};function W1(d){this.l=d||10,s.PerformanceNavigationTiming?(d=s.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function q1(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function H1(d){return d.h?1:d.g?d.g.size:0}function ty(d,w){return d.h?d.h==w:d.g?d.g.has(w):!1}function ny(d,w){d.g?d.g.add(w):d.h=w}function K1(d,w){d.h&&d.h==w?d.h=null:d.g&&d.g.has(w)&&d.g.delete(w)}W1.prototype.cancel=function(){if(this.i=G1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function G1(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let w=d.i;for(const A of d.g.values())w=w.concat(A.D);return w}return y(d.i)}function yL(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var w=[],A=d.length,j=0;j<A;j++)w.push(d[j]);return w}w=[],A=0;for(j in d)w[A++]=d[j];return w}function vL(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var w=[];d=d.length;for(var A=0;A<d;A++)w.push(A);return w}w=[],A=0;for(const j in d)w[A++]=j;return w}}}function X1(d,w){if(d.forEach&&typeof d.forEach=="function")d.forEach(w,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,w,void 0);else for(var A=vL(d),j=yL(d),V=j.length,B=0;B<V;B++)w.call(void 0,j[B],A&&A[B],d)}var Y1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bL(d,w){if(d){d=d.split("&");for(var A=0;A<d.length;A++){var j=d[A].indexOf("="),V=null;if(0<=j){var B=d[A].substring(0,j);V=d[A].substring(j+1)}else B=d[A];w(B,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Za(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Za){this.h=d.h,md(this,d.j),this.o=d.o,this.g=d.g,gd(this,d.s),this.l=d.l;var w=d.i,A=new ac;A.i=w.i,w.g&&(A.g=new Map(w.g),A.h=w.h),Q1(this,A),this.m=d.m}else d&&(w=String(d).match(Y1))?(this.h=!1,md(this,w[1]||"",!0),this.o=rc(w[2]||""),this.g=rc(w[3]||"",!0),gd(this,w[4]),this.l=rc(w[5]||"",!0),Q1(this,w[6]||"",!0),this.m=rc(w[7]||"")):(this.h=!1,this.i=new ac(null,this.h))}Za.prototype.toString=function(){var d=[],w=this.j;w&&d.push(ic(w,J1,!0),":");var A=this.g;return(A||w=="file")&&(d.push("//"),(w=this.o)&&d.push(ic(w,J1,!0),"@"),d.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&d.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&d.push("/"),d.push(ic(A,A.charAt(0)=="/"?xL:_L,!0))),(A=this.i.toString())&&d.push("?",A),(A=this.m)&&d.push("#",ic(A,EL)),d.join("")};function ci(d){return new Za(d)}function md(d,w,A){d.j=A?rc(w,!0):w,d.j&&(d.j=d.j.replace(/:$/,""))}function gd(d,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);d.s=w}else d.s=null}function Q1(d,w,A){w instanceof ac?(d.i=w,SL(d.i,d.h)):(A||(w=ic(w,kL)),d.i=new ac(w,d.h))}function rt(d,w,A){d.i.set(w,A)}function yd(d){return rt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function rc(d,w){return d?w?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function ic(d,w,A){return typeof d=="string"?(d=encodeURI(d).replace(w,wL),A&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function wL(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var J1=/[#\/\?@]/g,_L=/[#\?:]/g,xL=/[#\?]/g,kL=/[#\?@]/g,EL=/#/g;function ac(d,w){this.h=this.g=null,this.i=d||null,this.j=!!w}function Gi(d){d.g||(d.g=new Map,d.h=0,d.i&&bL(d.i,function(w,A){d.add(decodeURIComponent(w.replace(/\+/g," ")),A)}))}t=ac.prototype,t.add=function(d,w){Gi(this),this.i=null,d=os(this,d);var A=this.g.get(d);return A||this.g.set(d,A=[]),A.push(w),this.h+=1,this};function Z1(d,w){Gi(d),w=os(d,w),d.g.has(w)&&(d.i=null,d.h-=d.g.get(w).length,d.g.delete(w))}function ek(d,w){return Gi(d),w=os(d,w),d.g.has(w)}t.forEach=function(d,w){Gi(this),this.g.forEach(function(A,j){A.forEach(function(V){d.call(w,V,j,this)},this)},this)},t.na=function(){Gi(this);const d=Array.from(this.g.values()),w=Array.from(this.g.keys()),A=[];for(let j=0;j<w.length;j++){const V=d[j];for(let B=0;B<V.length;B++)A.push(w[j])}return A},t.V=function(d){Gi(this);let w=[];if(typeof d=="string")ek(this,d)&&(w=w.concat(this.g.get(os(this,d))));else{d=Array.from(this.g.values());for(let A=0;A<d.length;A++)w=w.concat(d[A])}return w},t.set=function(d,w){return Gi(this),this.i=null,d=os(this,d),ek(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[w]),this.h+=1,this},t.get=function(d,w){return d?(d=this.V(d),0<d.length?String(d[0]):w):w};function tk(d,w,A){Z1(d,w),0<A.length&&(d.i=null,d.g.set(os(d,w),y(A)),d.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],w=Array.from(this.g.keys());for(var A=0;A<w.length;A++){var j=w[A];const B=encodeURIComponent(String(j)),ie=this.V(j);for(j=0;j<ie.length;j++){var V=B;ie[j]!==""&&(V+="="+encodeURIComponent(String(ie[j]))),d.push(V)}}return this.i=d.join("&")};function os(d,w){return w=String(w),d.j&&(w=w.toLowerCase()),w}function SL(d,w){w&&!d.j&&(Gi(d),d.i=null,d.g.forEach(function(A,j){var V=j.toLowerCase();j!=V&&(Z1(this,j),tk(this,V,A))},d)),d.j=w}function TL(d,w){const A=new tc;if(s.Image){const j=new Image;j.onload=p(Xi,A,"TestLoadImage: loaded",!0,w,j),j.onerror=p(Xi,A,"TestLoadImage: error",!1,w,j),j.onabort=p(Xi,A,"TestLoadImage: abort",!1,w,j),j.ontimeout=p(Xi,A,"TestLoadImage: timeout",!1,w,j),s.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=d}else w(!1)}function AL(d,w){const A=new tc,j=new AbortController,V=setTimeout(()=>{j.abort(),Xi(A,"TestPingServer: timeout",!1,w)},1e4);fetch(d,{signal:j.signal}).then(B=>{clearTimeout(V),B.ok?Xi(A,"TestPingServer: ok",!0,w):Xi(A,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(V),Xi(A,"TestPingServer: error",!1,w)})}function Xi(d,w,A,j,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),j(A)}catch{}}function PL(){this.g=new Gg}function IL(d,w,A){const j=A||"";try{X1(d,function(V,B){let ie=V;c(V)&&(ie=Jl(V)),w.push(j+B+"="+encodeURIComponent(ie))})}catch(V){throw w.push(j+"type="+encodeURIComponent("_badmap")),V}}function oc(d){this.l=d.Ub||null,this.j=d.eb||!1}m(oc,fd),oc.prototype.g=function(){return new vd(this.l,this.j)},oc.prototype.i=function(d){return function(){return d}}({});function vd(d,w){$t.call(this),this.D=d,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(vd,$t),t=vd.prototype,t.open=function(d,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=w,this.readyState=1,lc(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(w.body=d),(this.D||s).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,sc(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,lc(this)),this.g&&(this.readyState=3,lc(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;nk(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function nk(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var w=d.value?d.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!d.done}))&&(this.response=this.responseText+=w)}d.done?sc(this):lc(this),this.readyState==3&&nk(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,sc(this))},t.Qa=function(d){this.g&&(this.response=d,sc(this))},t.ga=function(){this.g&&sc(this)};function sc(d){d.readyState=4,d.l=null,d.j=null,d.v=null,lc(d)}t.setRequestHeader=function(d,w){this.u.append(d,w)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],w=this.h.entries();for(var A=w.next();!A.done;)A=A.value,d.push(A[0]+": "+A[1]),A=w.next();return d.join(`\r
`)};function lc(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(vd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function rk(d){let w="";return I(d,function(A,j){w+=j,w+=":",w+=A,w+=`\r
`}),w}function ry(d,w,A){e:{for(j in A){var j=!1;break e}j=!0}j||(A=rk(A),typeof d=="string"?A!=null&&encodeURIComponent(String(A)):rt(d,w,A))}function wt(d){$t.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(wt,$t);var OL=/^https?$/i,CL=["POST","PUT"];t=wt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,w,A,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);w=w?w.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Yg.g(),this.v=this.o?Zl(this.o):Zl(Yg),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(w,String(d),!0),this.B=!1}catch(B){ik(this,B);return}if(d=A||"",A=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var V in j)A.set(V,j[V]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const B of j.keys())A.set(B,j.get(B));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(A.keys()).find(B=>B.toLowerCase()=="content-type"),V=s.FormData&&d instanceof s.FormData,!(0<=Array.prototype.indexOf.call(CL,w,void 0))||j||V||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,ie]of A)this.g.setRequestHeader(B,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{sk(this),this.u=!0,this.g.send(d),this.u=!1}catch(B){ik(this,B)}};function ik(d,w){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=w,d.m=5,ak(d),bd(d)}function ak(d){d.A||(d.A=!0,Gt(d,"complete"),Gt(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Gt(this,"complete"),Gt(this,"abort"),bd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bd(this,!0)),wt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ok(this):this.bb())},t.bb=function(){ok(this)};function ok(d){if(d.h&&typeof o<"u"&&(!d.v[1]||ui(d)!=4||d.Z()!=2)){if(d.u&&ui(d)==4)is(d.Ea,0,d);else if(Gt(d,"readystatechange"),ui(d)==4){d.h=!1;try{const ie=d.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var A;if(!(A=w)){var j;if(j=ie===0){var V=String(d.D).match(Y1)[1]||null;!V&&s.self&&s.self.location&&(V=s.self.location.protocol.slice(0,-1)),j=!OL.test(V?V.toLowerCase():"")}A=j}if(A)Gt(d,"complete"),Gt(d,"success");else{d.m=6;try{var B=2<ui(d)?d.g.statusText:""}catch{B=""}d.l=B+" ["+d.Z()+"]",ak(d)}}finally{bd(d)}}}}function bd(d,w){if(d.g){sk(d);const A=d.g,j=d.v[0]?()=>{}:null;d.g=null,d.v=null,w||Gt(d,"ready");try{A.onreadystatechange=j}catch{}}}function sk(d){d.I&&(s.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function ui(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<ui(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var w=this.g.responseText;return d&&w.indexOf(d)==0&&(w=w.substring(d.length)),Kg(w)}};function lk(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function NL(d){const w={};d=(d.g&&2<=ui(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<d.length;j++){if(b(d[j]))continue;var A=N(d[j]);const V=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const B=w[V]||[];w[V]=B,B.push(A)}T(w,function(j){return j.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function cc(d,w,A){return A&&A.internalChannelParams&&A.internalChannelParams[d]||w}function ck(d){this.Aa=0,this.i=[],this.j=new tc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=cc("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=cc("baseRetryDelayMs",5e3,d),this.cb=cc("retryDelaySeedMs",1e4,d),this.Wa=cc("forwardChannelMaxRetries",2,d),this.wa=cc("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new W1(d&&d.concurrentRequestLimit),this.Da=new PL,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ck.prototype,t.la=8,t.G=1,t.connect=function(d,w,A,j){ut(0),this.W=d,this.H=w||{},A&&j!==void 0&&(this.H.OSID=A,this.H.OAID=j),this.F=this.X,this.I=vk(this,null,this.W),_d(this)};function iy(d){if(uk(d),d.G==3){var w=d.U++,A=ci(d.I);if(rt(A,"SID",d.K),rt(A,"RID",w),rt(A,"TYPE","terminate"),uc(d,A),w=new Ki(d,d.j,w),w.L=2,w.v=yd(ci(A)),A=!1,s.navigator&&s.navigator.sendBeacon)try{A=s.navigator.sendBeacon(w.v.toString(),"")}catch{}!A&&s.Image&&(new Image().src=w.v,A=!0),A||(w.g=bk(w.j,null),w.g.ea(w.v)),w.F=Date.now(),pd(w)}yk(d)}function wd(d){d.g&&(oy(d),d.g.cancel(),d.g=null)}function uk(d){wd(d),d.u&&(s.clearTimeout(d.u),d.u=null),xd(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&s.clearTimeout(d.s),d.s=null)}function _d(d){if(!q1(d.h)&&!d.s){d.s=!0;var w=d.Ga;Y||Z(),$||(Y(),$=!0),H.add(w,d),d.B=0}}function RL(d,w){return H1(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=w.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=ec(h(d.Ga,d,w),gk(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const V=new Ki(this,this.j,d);let B=this.o;if(this.S&&(B?(B=E(B),O(B,this.S)):B=this.S),this.m!==null||this.O||(V.H=B,B=null),this.P)e:{for(var w=0,A=0;A<this.i.length;A++){t:{var j=this.i[A];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(w+=j,4096<w){w=A;break e}if(w===4096||A===this.i.length-1){w=A+1;break e}}w=1e3}else w=1e3;w=dk(this,V,w),A=ci(this.I),rt(A,"RID",d),rt(A,"CVER",22),this.D&&rt(A,"X-HTTP-Session-Id",this.D),uc(this,A),B&&(this.O?w="headers="+encodeURIComponent(String(rk(B)))+"&"+w:this.m&&ry(A,this.m,B)),ny(this.h,V),this.Ua&&rt(A,"TYPE","init"),this.P?(rt(A,"$req",w),rt(A,"SID","null"),V.T=!0,Jg(V,A,null)):Jg(V,A,w),this.G=2}}else this.G==3&&(d?fk(this,d):this.i.length==0||q1(this.h)||fk(this))};function fk(d,w){var A;w?A=w.l:A=d.U++;const j=ci(d.I);rt(j,"SID",d.K),rt(j,"RID",A),rt(j,"AID",d.T),uc(d,j),d.m&&d.o&&ry(j,d.m,d.o),A=new Ki(d,d.j,A,d.B+1),d.m===null&&(A.H=d.o),w&&(d.i=w.D.concat(d.i)),w=dk(d,A,1e3),A.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),ny(d.h,A),Jg(A,j,w)}function uc(d,w){d.H&&I(d.H,function(A,j){rt(w,j,A)}),d.l&&X1({},function(A,j){rt(w,j,A)})}function dk(d,w,A){A=Math.min(d.i.length,A);var j=d.l?h(d.l.Na,d.l,d):null;e:{var V=d.i;let B=-1;for(;;){const ie=["count="+A];B==-1?0<A?(B=V[0].g,ie.push("ofs="+B)):B=0:ie.push("ofs="+B);let Qe=!0;for(let Xt=0;Xt<A;Xt++){let Ve=V[Xt].g;const sn=V[Xt].map;if(Ve-=B,0>Ve)B=Math.max(0,V[Xt].g-100),Qe=!1;else try{IL(sn,ie,"req"+Ve+"_")}catch{j&&j(sn)}}if(Qe){j=ie.join("&");break e}}}return d=d.i.splice(0,A),w.D=d,j}function hk(d){if(!d.g&&!d.u){d.Y=1;var w=d.Fa;Y||Z(),$||(Y(),$=!0),H.add(w,d),d.v=0}}function ay(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=ec(h(d.Fa,d),gk(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,pk(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=ec(h(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),wd(this),pk(this))};function oy(d){d.A!=null&&(s.clearTimeout(d.A),d.A=null)}function pk(d){d.g=new Ki(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var w=ci(d.qa);rt(w,"RID","rpc"),rt(w,"SID",d.K),rt(w,"AID",d.T),rt(w,"CI",d.F?"0":"1"),!d.F&&d.ja&&rt(w,"TO",d.ja),rt(w,"TYPE","xmlhttp"),uc(d,w),d.m&&d.o&&ry(w,d.m,d.o),d.L&&(d.g.I=d.L);var A=d.g;d=d.ia,A.L=1,A.v=yd(ci(w)),A.m=null,A.P=!0,U1(A,d)}t.Za=function(){this.C!=null&&(this.C=null,wd(this),ay(this),ut(19))};function xd(d){d.C!=null&&(s.clearTimeout(d.C),d.C=null)}function mk(d,w){var A=null;if(d.g==w){xd(d),oy(d),d.g=null;var j=2}else if(ty(d.h,w))A=w.D,K1(d.h,w),j=1;else return;if(d.G!=0){if(w.o)if(j==1){A=w.m?w.m.length:0,w=Date.now()-w.F;var V=d.B;j=ze(),Gt(j,new $1(j,A)),_d(d)}else hk(d);else if(V=w.s,V==3||V==0&&0<w.X||!(j==1&&RL(d,w)||j==2&&ay(d)))switch(A&&0<A.length&&(w=d.h,w.i=w.i.concat(A)),V){case 1:eo(d,5);break;case 4:eo(d,10);break;case 3:eo(d,6);break;default:eo(d,2)}}}function gk(d,w){let A=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(A*=2),A*w}function eo(d,w){if(d.j.info("Error code "+w),w==2){var A=h(d.fb,d),j=d.Xa;const V=!j;j=new Za(j||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||md(j,"https"),yd(j),V?TL(j.toString(),A):AL(j.toString(),A)}else ut(2);d.G=0,d.l&&d.l.sa(w),yk(d),uk(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function yk(d){if(d.G=0,d.ka=[],d.l){const w=G1(d.h);(w.length!=0||d.i.length!=0)&&(v(d.ka,w),v(d.ka,d.i),d.h.i.length=0,y(d.i),d.i.length=0),d.l.ra()}}function vk(d,w,A){var j=A instanceof Za?ci(A):new Za(A);if(j.g!="")w&&(j.g=w+"."+j.g),gd(j,j.s);else{var V=s.location;j=V.protocol,w=w?w+"."+V.hostname:V.hostname,V=+V.port;var B=new Za(null);j&&md(B,j),w&&(B.g=w),V&&gd(B,V),A&&(B.l=A),j=B}return A=d.D,w=d.ya,A&&w&&rt(j,A,w),rt(j,"VER",d.la),uc(d,j),j}function bk(d,w,A){if(w&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=d.Ca&&!d.pa?new wt(new oc({eb:A})):new wt(d.pa),w.Ha(d.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function wk(){}t=wk.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function kd(){}kd.prototype.g=function(d,w){return new Bn(d,w)};function Bn(d,w){$t.call(this),this.g=new ck(w),this.l=d,this.h=w&&w.messageUrlParams||null,d=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(d?d["X-WebChannel-Content-Type"]=w.messageContentType:d={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(d?d["X-WebChannel-Client-Profile"]=w.va:d={"X-WebChannel-Client-Profile":w.va}),this.g.S=d,(d=w&&w.Sb)&&!b(d)&&(this.g.m=d),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!b(w)&&(this.g.D=w,d=this.h,d!==null&&w in d&&(d=this.h,w in d&&delete d[w])),this.j=new ss(this)}m(Bn,$t),Bn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Bn.prototype.close=function(){iy(this.g)},Bn.prototype.o=function(d){var w=this.g;if(typeof d=="string"){var A={};A.__data__=d,d=A}else this.u&&(A={},A.__data__=Jl(d),d=A);w.i.push(new gL(w.Ya++,d)),w.G==3&&_d(w)},Bn.prototype.N=function(){this.g.l=null,delete this.j,iy(this.g),delete this.g,Bn.aa.N.call(this)};function _k(d){ce.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var w=d.__sm__;if(w){e:{for(const A in w){d=A;break e}d=void 0}(this.i=d)&&(d=this.i,w=w!==null&&d in w?w[d]:void 0),this.data=w}else this.data=d}m(_k,ce);function xk(){ke.call(this),this.status=1}m(xk,ke);function ss(d){this.g=d}m(ss,wk),ss.prototype.ua=function(){Gt(this.g,"a")},ss.prototype.ta=function(d){Gt(this.g,new _k(d))},ss.prototype.sa=function(d){Gt(this.g,new xk)},ss.prototype.ra=function(){Gt(this.g,"b")},kd.prototype.createWebChannel=kd.prototype.g,Bn.prototype.send=Bn.prototype.o,Bn.prototype.open=Bn.prototype.m,Bn.prototype.close=Bn.prototype.close,CN=function(){return new kd},ON=function(){return ze()},IN=Ae,A0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},dd.NO_ERROR=0,dd.TIMEOUT=8,dd.HTTP_ERROR=6,Ah=dd,L1.COMPLETE="complete",PN=L1,Xg.EventType=Hi,Hi.OPEN="a",Hi.CLOSE="b",Hi.ERROR="c",Hi.MESSAGE="d",$t.prototype.listen=$t.prototype.K,Lc=Xg,AN=oc,wt.prototype.listenOnce=wt.prototype.L,wt.prototype.getLastError=wt.prototype.Ka,wt.prototype.getLastErrorCode=wt.prototype.Ba,wt.prototype.getStatus=wt.prototype.Z,wt.prototype.getResponseJson=wt.prototype.Oa,wt.prototype.getResponseText=wt.prototype.oa,wt.prototype.send=wt.prototype.ea,wt.prototype.setWithCredentials=wt.prototype.Ha,TN=wt}).apply(typeof Wd<"u"?Wd:typeof self<"u"?self:typeof window<"u"?window:{});const gS="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dl="10.13.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo=new p_("@firebase/firestore");function bc(){return jo.logLevel}function he(t,...e){if(jo.logLevel<=Ne.DEBUG){const n=e.map(A_);jo.debug(`Firestore (${Dl}): ${t}`,...n)}}function Di(t,...e){if(jo.logLevel<=Ne.ERROR){const n=e.map(A_);jo.error(`Firestore (${Dl}): ${t}`,...n)}}function il(t,...e){if(jo.logLevel<=Ne.WARN){const n=e.map(A_);jo.warn(`Firestore (${Dl}): ${t}`,...n)}}function A_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(t="Unexpected state"){const e=`FIRESTORE (${Dl}) INTERNAL ASSERTION FAILED: `+t;throw Di(e),new Error(e)}function Ze(t,e){t||xe()}function Te(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends ti{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class XB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(hn.UNAUTHENTICATED))}shutdown(){}}class YB{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class QB{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let a=new Si;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Si,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Si)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ze(typeof r.accessToken=="string"),new NN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string"),new hn(e)}}class JB{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class ZB{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new JB(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(hn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class e5{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class t5{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=a=>{a.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.R;return this.R=a.token,he("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ze(typeof n.token=="string"),this.R=n.token,new e5(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=n5(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%e.length))}return r}}function Fe(t,e){return t<e?-1:t>e?1:0}function al(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ue(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ye.fromMillis(Date.now())}static fromDate(e){return Ye.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ye(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new Ye(0,0))}static max(){return new Ee(new Ye(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,n,r){n===void 0?n=0:n>e.length&&xe(),r===void 0?r=e.length-n:r>e.length-n&&xe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Lu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Lu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=e.get(i),o=n.get(i);if(a<o)return-1;if(a>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class st extends Lu{construct(e,n,r){return new st(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ue(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new st(n)}static emptyPath(){return new st([])}}const r5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends Lu{construct(e,n,r){return new Zt(e,n,r)}static isValidIdentifier(e){return r5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Zt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new ue(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new ue(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ue(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else s==="`"?(o=!o,i++):s!=="."||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new ue(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(n)}static emptyPath(){return new Zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(st.fromString(e))}static fromName(e){return new ge(st.fromString(e).popFirst(5))}static empty(){return new ge(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return st.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new st(e.slice()))}}function i5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ee.fromTimestamp(r===1e9?new Ye(n+1,0):new Ye(n,r));return new ja(i,ge.empty(),e)}function a5(t){return new ja(t.readTime,t.key,-1)}class ja{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ja(Ee.min(),ge.empty(),-1)}static max(){return new ja(Ee.max(),ge.empty(),-1)}}function o5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(t.documentKey,e.documentKey),n!==0?n:Fe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class l5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bf(t){if(t.code!==X.FAILED_PRECONDITION||t.message!==s5)throw t;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,r)=>{n(e)})}static reject(e){return new ee((n,r)=>{r(e)})}static waitFor(e){return new ee((n,r)=>{let i=0,a=0,o=!1;e.forEach(s=>{++i,s.next(()=>{++a,o&&a===i&&n()},l=>r(l))}),o=!0,a===i&&n()})}static or(e){let n=ee.resolve(!1);for(const r of e)n=n.next(i=>i?ee.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new ee((r,i)=>{const a=e.length,o=new Array(a);let s=0;for(let l=0;l<a;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++s,s===a&&r(o)},u=>i(u))}})}static doWhile(e,n){return new ee((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function c5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function zf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}P_.oe=-1;function $m(t){return t==null}function hp(t){return t===0&&1/t==-1/0}function u5(t){return typeof t=="number"&&Number.isInteger(t)&&!hp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Xo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function jN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,n){this.comparator=e,this.root=n||Jt.EMPTY}insert(e,n){return new bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qd(this.root,e,this.comparator,!1)}getReverseIterator(){return new qd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qd(this.root,e,this.comparator,!0)}}class qd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Jt.RED,this.left=i??Jt.EMPTY,this.right=a??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Jt(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Jt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xe();const e=this.left.check();if(e!==this.right.check())throw xe();return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw xe()}get value(){throw xe()}get color(){throw xe()}get left(){throw xe()}get right(){throw xe()}copy(e,n,r,i,a){return this}insert(e,n,r){return new Jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new vS(this.data.getIterator())}getIteratorFrom(e){return new vS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof tn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new tn(this.comparator);return n.data=e,n}}class vS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new Gn([])}unionWith(e){let n=new tn(Zt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Gn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return al(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new DN("Invalid base64 string: "+a):a}}(e);return new rn(n)}static fromUint8Array(e){const n=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new rn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const f5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Da(t){if(Ze(!!t),typeof t=="string"){let e=0;const n=f5.exec(t);if(Ze(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Et(t.seconds),nanos:Et(t.nanos)}}function Et(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Do(t){return typeof t=="string"?rn.fromBase64String(t):rn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function O_(t){const e=t.mapValue.fields.__previous_value__;return I_(e)?O_(e):e}function Vu(t){const e=Da(t.mapValue.fields.__local_write_time__.timestampValue);return new Ye(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{constructor(e,n,r,i,a,o,s,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=c}}class Fu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Fu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Fu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Mo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?I_(t)?4:p5(t)?9007199254740991:h5(t)?10:11:xe()}function Zr(t,e){if(t===e)return!0;const n=Mo(t);if(n!==Mo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Vu(t).isEqual(Vu(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=Da(i.timestampValue),s=Da(a.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Do(i.bytesValue).isEqual(Do(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return Et(i.geoPointValue.latitude)===Et(a.geoPointValue.latitude)&&Et(i.geoPointValue.longitude)===Et(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Et(i.integerValue)===Et(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=Et(i.doubleValue),s=Et(a.doubleValue);return o===s?hp(o)===hp(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return al(t.arrayValue.values||[],e.arrayValue.values||[],Zr);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},s=a.mapValue.fields||{};if(yS(o)!==yS(s))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(s[l]===void 0||!Zr(o[l],s[l])))return!1;return!0}(t,e);default:return xe()}}function Uu(t,e){return(t.values||[]).find(n=>Zr(n,e))!==void 0}function ol(t,e){if(t===e)return 0;const n=Mo(t),r=Mo(e);if(n!==r)return Fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fe(t.booleanValue,e.booleanValue);case 2:return function(a,o){const s=Et(a.integerValue||a.doubleValue),l=Et(o.integerValue||o.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return bS(t.timestampValue,e.timestampValue);case 4:return bS(Vu(t),Vu(e));case 5:return Fe(t.stringValue,e.stringValue);case 6:return function(a,o){const s=Do(a),l=Do(o);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const s=a.split("/"),l=o.split("/");for(let c=0;c<s.length&&c<l.length;c++){const u=Fe(s[c],l[c]);if(u!==0)return u}return Fe(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const s=Fe(Et(a.latitude),Et(o.latitude));return s!==0?s:Fe(Et(a.longitude),Et(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return wS(t.arrayValue,e.arrayValue);case 10:return function(a,o){var s,l,c,u;const f=a.fields||{},h=o.fields||{},p=(s=f.value)===null||s===void 0?void 0:s.arrayValue,m=(l=h.value)===null||l===void 0?void 0:l.arrayValue,y=Fe(((c=p==null?void 0:p.values)===null||c===void 0?void 0:c.length)||0,((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0);return y!==0?y:wS(p,m)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===Hd.mapValue&&o===Hd.mapValue)return 0;if(a===Hd.mapValue)return 1;if(o===Hd.mapValue)return-1;const s=a.fields||{},l=Object.keys(s),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const h=Fe(l[f],u[f]);if(h!==0)return h;const p=ol(s[l[f]],c[u[f]]);if(p!==0)return p}return Fe(l.length,u.length)}(t.mapValue,e.mapValue);default:throw xe()}}function bS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Fe(t,e);const n=Da(t),r=Da(e),i=Fe(n.seconds,r.seconds);return i!==0?i:Fe(n.nanos,r.nanos)}function wS(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=ol(n[i],r[i]);if(a)return a}return Fe(n.length,r.length)}function sl(t){return P0(t)}function P0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Da(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Do(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ge.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=P0(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const o of r)a?a=!1:i+=",",i+=`${o}:${P0(n.fields[o])}`;return i+"}"}(t.mapValue):xe()}function _S(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function I0(t){return!!t&&"integerValue"in t}function C_(t){return!!t&&"arrayValue"in t}function xS(t){return!!t&&"nullValue"in t}function kS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ph(t){return!!t&&"mapValue"in t}function h5(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function tu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Xo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=tu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=tu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function p5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.value=e}static empty(){return new jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ph(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=tu(n)}setAll(e){let n=Zt.emptyPath(),r={},i=[];e.forEach((o,s)=>{if(!n.isImmediateParentOf(s)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=s.popLast()}o?r[s.lastSegment()]=tu(o):i.push(s.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Ph(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ph(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Xo(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new jn(tu(this.value))}}function MN(t){const e=[];return Xo(t.fields,(n,r)=>{const i=new Zt([n]);if(Ph(r)){const a=MN(r.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)}),new Gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,n,r,i,a,o,s){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}static newInvalidDocument(e){return new gn(e,0,Ee.min(),Ee.min(),Ee.min(),jn.empty(),0)}static newFoundDocument(e,n,r,i){return new gn(e,1,n,Ee.min(),r,i,0)}static newNoDocument(e,n){return new gn(e,2,n,Ee.min(),Ee.min(),jn.empty(),0)}static newUnknownDocument(e,n){return new gn(e,3,n,Ee.min(),Ee.min(),jn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e,n){this.position=e,this.inclusive=n}}function ES(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?r=ge.comparator(ge.fromName(o.referenceValue),n.key):r=ol(o,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function SS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Zr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,n="asc"){this.field=e,this.dir=n}}function m5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{}class Ot extends $N{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new y5(e,n,r):n==="array-contains"?new w5(e,r):n==="in"?new _5(e,r):n==="not-in"?new x5(e,r):n==="array-contains-any"?new k5(e,r):new Ot(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new v5(e,r):new b5(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ol(n,this.value)):n!==null&&Mo(this.value)===Mo(n)&&this.matchesComparison(ol(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Cr extends $N{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Cr(e,n)}matches(e){return LN(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function LN(t){return t.op==="and"}function VN(t){return g5(t)&&LN(t)}function g5(t){for(const e of t.filters)if(e instanceof Cr)return!1;return!0}function O0(t){if(t instanceof Ot)return t.field.canonicalString()+t.op.toString()+sl(t.value);if(VN(t))return t.filters.map(e=>O0(e)).join(",");{const e=t.filters.map(n=>O0(n)).join(",");return`${t.op}(${e})`}}function FN(t,e){return t instanceof Ot?function(r,i){return i instanceof Ot&&r.op===i.op&&r.field.isEqual(i.field)&&Zr(r.value,i.value)}(t,e):t instanceof Cr?function(r,i){return i instanceof Cr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,o,s)=>a&&FN(o,i.filters[s]),!0):!1}(t,e):void xe()}function UN(t){return t instanceof Ot?function(n){return`${n.field.canonicalString()} ${n.op} ${sl(n.value)}`}(t):t instanceof Cr?function(n){return n.op.toString()+" {"+n.getFilters().map(UN).join(" ,")+"}"}(t):"Filter"}class y5 extends Ot{constructor(e,n,r){super(e,n,r),this.key=ge.fromName(r.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class v5 extends Ot{constructor(e,n){super(e,"in",n),this.keys=BN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class b5 extends Ot{constructor(e,n){super(e,"not-in",n),this.keys=BN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function BN(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ge.fromName(r.referenceValue))}class w5 extends Ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return C_(n)&&Uu(n.arrayValue,this.value)}}class _5 extends Ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Uu(this.value.arrayValue,n)}}class x5 extends Ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(Uu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Uu(this.value.arrayValue,n)}}class k5 extends Ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!C_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Uu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(e,n=null,r=[],i=[],a=null,o=null,s=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ue=null}}function TS(t,e=null,n=[],r=[],i=null,a=null,o=null){return new E5(t,e,n,r,i,a,o)}function N_(t){const e=Te(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>O0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),$m(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>sl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>sl(r)).join(",")),e.ue=n}return e.ue}function R_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!m5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!FN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!SS(t.startAt,e.startAt)&&SS(t.endAt,e.endAt)}function C0(t){return ge.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,n=null,r=[],i=[],a=null,o="F",s=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function S5(t,e,n,r,i,a,o,s){return new Ml(t,e,n,r,i,a,o,s)}function j_(t){return new Ml(t)}function AS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function zN(t){return t.collectionGroup!==null}function nu(t){const e=Te(t);if(e.ce===null){e.ce=[];const n=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let s=new tn(Zt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(s=s.add(c.field))})}),s})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.ce.push(new Bu(a,r))}),n.has(Zt.keyField().canonicalString())||e.ce.push(new Bu(Zt.keyField(),r))}return e.ce}function Xr(t){const e=Te(t);return e.le||(e.le=T5(e,nu(t))),e.le}function T5(t,e){if(t.limitType==="F")return TS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Bu(i.field,a)});const n=t.endAt?new pp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new pp(t.startAt.position,t.startAt.inclusive):null;return TS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function N0(t,e){const n=t.filters.concat([e]);return new Ml(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function R0(t,e,n){return new Ml(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Lm(t,e){return R_(Xr(t),Xr(e))&&t.limitType===e.limitType}function WN(t){return`${N_(Xr(t))}|lt:${t.limitType}`}function gs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>UN(i)).join(", ")}]`),$m(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>sl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>sl(i)).join(",")),`Target(${r})`}(Xr(t))}; limitType=${t.limitType})`}function Vm(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ge.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of nu(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,s,l){const c=ES(o,s,l);return o.inclusive?c<=0:c<0}(r.startAt,nu(r),i)||r.endAt&&!function(o,s,l){const c=ES(o,s,l);return o.inclusive?c>=0:c>0}(r.endAt,nu(r),i))}(t,e)}function A5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function qN(t){return(e,n)=>{let r=!1;for(const i of nu(t)){const a=P5(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function P5(t,e,n){const r=t.field.isKeyField()?ge.comparator(e.key,n.key):function(a,o,s){const l=o.data.field(a),c=s.data.field(a);return l!==null&&c!==null?ol(l,c):xe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return xe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Xo(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return jN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I5=new bt(ge.comparator);function Mi(){return I5}const HN=new bt(ge.comparator);function Vc(...t){let e=HN;for(const n of t)e=e.insert(n.key,n);return e}function KN(t){let e=HN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function mo(){return ru()}function GN(){return ru()}function ru(){return new $l(t=>t.toString(),(t,e)=>t.isEqual(e))}const O5=new bt(ge.comparator),C5=new tn(ge.comparator);function Ce(...t){let e=C5;for(const n of t)e=e.add(n);return e}const N5=new tn(Fe);function R5(){return N5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hp(e)?"-0":e}}function XN(t){return{integerValue:""+t}}function j5(t,e){return u5(e)?XN(e):D_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(){this._=void 0}}function D5(t,e,n){return t instanceof mp?function(i,a){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&I_(a)&&(a=O_(a)),a&&(o.fields.__previous_value__=a),{mapValue:o}}(n,e):t instanceof zu?QN(t,e):t instanceof Wu?JN(t,e):function(i,a){const o=YN(i,a),s=PS(o)+PS(i.Pe);return I0(o)&&I0(i.Pe)?XN(s):D_(i.serializer,s)}(t,e)}function M5(t,e,n){return t instanceof zu?QN(t,e):t instanceof Wu?JN(t,e):n}function YN(t,e){return t instanceof gp?function(r){return I0(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class mp extends Fm{}class zu extends Fm{constructor(e){super(),this.elements=e}}function QN(t,e){const n=ZN(e);for(const r of t.elements)n.some(i=>Zr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Wu extends Fm{constructor(e){super(),this.elements=e}}function JN(t,e){let n=ZN(e);for(const r of t.elements)n=n.filter(i=>!Zr(i,r));return{arrayValue:{values:n}}}class gp extends Fm{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function PS(t){return Et(t.integerValue||t.doubleValue)}function ZN(t){return C_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function $5(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof zu&&i instanceof zu||r instanceof Wu&&i instanceof Wu?al(r.elements,i.elements,Zr):r instanceof gp&&i instanceof gp?Zr(r.Pe,i.Pe):r instanceof mp&&i instanceof mp}(t.transform,e.transform)}class L5{constructor(e,n){this.version=e,this.transformResults=n}}class dr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new dr}static exists(e){return new dr(void 0,e)}static updateTime(e){return new dr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ih(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Um{}function eR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new M_(t.key,dr.none()):new Wf(t.key,t.data,dr.none());{const n=t.data,r=jn.empty();let i=new tn(Zt.comparator);for(let a of e.fields)if(!i.has(a)){let o=n.field(a);o===null&&a.length>1&&(a=a.popLast(),o=n.field(a)),o===null?r.delete(a):r.set(a,o),i=i.add(a)}return new Wa(t.key,r,new Gn(i.toArray()),dr.none())}}function V5(t,e,n){t instanceof Wf?function(i,a,o){const s=i.value.clone(),l=OS(i.fieldTransforms,a,o.transformResults);s.setAll(l),a.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,n):t instanceof Wa?function(i,a,o){if(!Ih(i.precondition,a))return void a.convertToUnknownDocument(o.version);const s=OS(i.fieldTransforms,a,o.transformResults),l=a.data;l.setAll(tR(i)),l.setAll(s),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function iu(t,e,n,r){return t instanceof Wf?function(a,o,s,l){if(!Ih(a.precondition,o))return s;const c=a.value.clone(),u=CS(a.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Wa?function(a,o,s,l){if(!Ih(a.precondition,o))return s;const c=CS(a.fieldTransforms,l,o),u=o.data;return u.setAll(tR(a)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),s===null?null:s.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(a,o,s){return Ih(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(t,e,n)}function F5(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=YN(r.transform,i||null);a!=null&&(n===null&&(n=jn.empty()),n.set(r.field,a))}return n||null}function IS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&al(r,i,(a,o)=>$5(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Wf extends Um{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Wa extends Um{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function tR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function OS(t,e,n){const r=new Map;Ze(t.length===n.length);for(let i=0;i<n.length;i++){const a=t[i],o=a.transform,s=e.data.field(a.field);r.set(a.field,M5(o,s,n[i]))}return r}function CS(t,e,n){const r=new Map;for(const i of t){const a=i.transform,o=n.data.field(i.field);r.set(i.field,D5(a,o,e))}return r}class M_ extends Um{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class U5 extends Um{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&V5(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=iu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=iu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=GN();return this.mutations.forEach(i=>{const a=e.get(i.key),o=a.overlayedDocument;let s=this.applyToLocalView(o,a.mutatedFields);s=n.has(i.key)?null:s;const l=eR(o,s);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Ee.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ce())}isEqual(e){return this.batchId===e.batchId&&al(this.mutations,e.mutations,(n,r)=>IS(n,r))&&al(this.baseMutations,e.baseMutations,(n,r)=>IS(n,r))}}class $_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ze(e.mutations.length===r.length);let i=function(){return O5}();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new $_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,Re;function q5(t){switch(t){default:return xe();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0}}function nR(t){if(t===void 0)return Di("GRPC error has no .code"),X.UNKNOWN;switch(t){case Pt.OK:return X.OK;case Pt.CANCELLED:return X.CANCELLED;case Pt.UNKNOWN:return X.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return X.INTERNAL;case Pt.UNAVAILABLE:return X.UNAVAILABLE;case Pt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Pt.NOT_FOUND:return X.NOT_FOUND;case Pt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Pt.ABORTED:return X.ABORTED;case Pt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Pt.DATA_LOSS:return X.DATA_LOSS;default:return xe()}}(Re=Pt||(Pt={}))[Re.OK=0]="OK",Re[Re.CANCELLED=1]="CANCELLED",Re[Re.UNKNOWN=2]="UNKNOWN",Re[Re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Re[Re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Re[Re.NOT_FOUND=5]="NOT_FOUND",Re[Re.ALREADY_EXISTS=6]="ALREADY_EXISTS",Re[Re.PERMISSION_DENIED=7]="PERMISSION_DENIED",Re[Re.UNAUTHENTICATED=16]="UNAUTHENTICATED",Re[Re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Re[Re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Re[Re.ABORTED=10]="ABORTED",Re[Re.OUT_OF_RANGE=11]="OUT_OF_RANGE",Re[Re.UNIMPLEMENTED=12]="UNIMPLEMENTED",Re[Re.INTERNAL=13]="INTERNAL",Re[Re.UNAVAILABLE=14]="UNAVAILABLE",Re[Re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H5(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K5=new xo([4294967295,4294967295],0);function NS(t){const e=H5().encode(t),n=new SN;return n.update(e),new Uint8Array(n.digest())}function RS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new xo([n,r],0),new xo([i,a],0)]}class L_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Fc(`Invalid padding: ${n}`);if(r<0)throw new Fc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Fc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Fc(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=xo.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(xo.fromNumber(r)));return i.compare(K5)===1&&(i=new xo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=NS(e),[r,i]=RS(n);for(let a=0;a<this.hashCount;a++){const o=this.Ee(r,i,a);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new L_(a,i,n);return r.forEach(s=>o.insert(s)),o}insert(e){if(this.Ie===0)return;const n=NS(e),[r,i]=RS(n);for(let a=0;a<this.hashCount;a++){const o=this.Ee(r,i,a);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Fc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,qf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Bm(Ee.min(),i,new bt(Fe),Mi(),Ce())}}class qf{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new qf(r,n,Ce(),Ce(),Ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class rR{constructor(e,n){this.targetId=e,this.me=n}}class iR{constructor(e,n,r=rn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class jS{constructor(){this.fe=0,this.ge=MS(),this.pe=rn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ce(),n=Ce(),r=Ce();return this.ge.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:xe()}}),new qf(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=MS()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ze(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class G5{constructor(e){this.Le=e,this.Be=new Map,this.ke=Mi(),this.qe=DS(),this.Qe=new bt(Fe)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:xe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const a=i.target;if(C0(a))if(r===0){const o=new ge(a.path);this.Ue(n,o,gn.newNoDocument(o,Ee.min()))}else Ze(r===1);else{const o=this.Ye(n);if(o!==r){const s=this.Ze(e),l=s?this.Xe(s,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let o,s;try{o=Do(r).toUint8Array()}catch(l){if(l instanceof DN)return il("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new L_(o,i,a)}catch(l){return il(l instanceof Fc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.Ie===0?null:s}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const o=this.Le.tt(),s=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(s)||(this.Ue(n,a,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((a,o)=>{const s=this.Je(o);if(s){if(a.current&&C0(s.target)){const l=new ge(s.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,gn.newNoDocument(l,e))}a.be&&(n.set(o,a.ve()),a.Ce())}});let r=Ce();this.qe.forEach((a,o)=>{let s=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(r=r.add(a))}),this.ke.forEach((a,o)=>o.setReadTime(e));const i=new Bm(e,n,this.Qe,this.ke,r);return this.ke=Mi(),this.qe=DS(),this.Qe=new bt(Fe),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new jS,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new tn(Fe),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new jS),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function DS(){return new bt(ge.comparator)}function MS(){return new bt(ge.comparator)}const X5={asc:"ASCENDING",desc:"DESCENDING"},Y5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Q5={and:"AND",or:"OR"};class J5{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function j0(t,e){return t.useProto3Json||$m(e)?e:{value:e}}function yp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Z5(t,e){return yp(t,e.toTimestamp())}function Yr(t){return Ze(!!t),Ee.fromTimestamp(function(n){const r=Da(n);return new Ye(r.seconds,r.nanos)}(t))}function V_(t,e){return D0(t,e).canonicalString()}function D0(t,e){const n=function(i){return new st(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function oR(t){const e=st.fromString(t);return Ze(fR(e)),e}function M0(t,e){return V_(t.databaseId,e.path)}function By(t,e){const n=oR(e);if(n.get(1)!==t.databaseId.projectId)throw new ue(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ue(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ge(lR(n))}function sR(t,e){return V_(t.databaseId,e)}function e9(t){const e=oR(t);return e.length===4?st.emptyPath():lR(e)}function $0(t){return new st(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function lR(t){return Ze(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function $S(t,e,n){return{name:M0(t,e),fields:n.value.mapValue.fields}}function t9(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:xe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(c,u){return c.useProto3Json?(Ze(u===void 0||typeof u=="string"),rn.fromBase64String(u||"")):(Ze(u===void 0||u instanceof Buffer||u instanceof Uint8Array),rn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,s=o&&function(c){const u=c.code===void 0?X.UNKNOWN:nR(c.code);return new ue(u,c.message||"")}(o);n=new iR(r,i,a,s||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=By(t,r.document.name),a=Yr(r.document.updateTime),o=r.document.createTime?Yr(r.document.createTime):Ee.min(),s=new jn({mapValue:{fields:r.document.fields}}),l=gn.newFoundDocument(i,a,o,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Oh(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=By(t,r.document),a=r.readTime?Yr(r.readTime):Ee.min(),o=gn.newNoDocument(i,a),s=r.removedTargetIds||[];n=new Oh([],s,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=By(t,r.document),a=r.removedTargetIds||[];n=new Oh([],a,i,null)}else{if(!("filter"in e))return xe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,o=new W5(i,a),s=r.targetId;n=new rR(s,o)}}return n}function n9(t,e){let n;if(e instanceof Wf)n={update:$S(t,e.key,e.value)};else if(e instanceof M_)n={delete:M0(t,e.key)};else if(e instanceof Wa)n={update:$S(t,e.key,e.data),updateMask:f9(e.fieldMask)};else{if(!(e instanceof U5))return xe();n={verify:M0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,o){const s=o.transform;if(s instanceof mp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof zu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Wu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof gp)return{fieldPath:o.field.canonicalString(),increment:s.Pe};throw xe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:Z5(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:xe()}(t,e.precondition)),n}function r9(t,e){return t&&t.length>0?(Ze(e!==void 0),t.map(n=>function(i,a){let o=i.updateTime?Yr(i.updateTime):Yr(a);return o.isEqual(Ee.min())&&(o=Yr(a)),new L5(o,i.transformResults||[])}(n,e))):[]}function i9(t,e){return{documents:[sR(t,e.path)]}}function a9(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=sR(t,i);const a=function(c){if(c.length!==0)return uR(Cr.create(c,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const o=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:ys(h.field),direction:l9(h.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=j0(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function o9(t){let e=e9(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ze(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let a=[];n.where&&(a=function(f){const h=cR(f);return h instanceof Cr&&VN(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(h=>function(m){return new Bu(vs(m.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(n.orderBy));let s=null;n.limit&&(s=function(f){let h;return h=typeof f=="object"?f.value:f,$m(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,p=f.values||[];return new pp(p,h)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const h=!f.before,p=f.values||[];return new pp(p,h)}(n.endAt)),S5(e,i,o,a,s,"F",l,c)}function s9(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function cR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=vs(n.unaryFilter.field);return Ot.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=vs(n.unaryFilter.field);return Ot.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=vs(n.unaryFilter.field);return Ot.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=vs(n.unaryFilter.field);return Ot.create(o,"!=",{nullValue:"NULL_VALUE"});default:return xe()}}(t):t.fieldFilter!==void 0?function(n){return Ot.create(vs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Cr.create(n.compositeFilter.filters.map(r=>cR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return xe()}}(n.compositeFilter.op))}(t):xe()}function l9(t){return X5[t]}function c9(t){return Y5[t]}function u9(t){return Q5[t]}function ys(t){return{fieldPath:t.canonicalString()}}function vs(t){return Zt.fromServerFormat(t.fieldPath)}function uR(t){return t instanceof Ot?function(n){if(n.op==="=="){if(kS(n.value))return{unaryFilter:{field:ys(n.field),op:"IS_NAN"}};if(xS(n.value))return{unaryFilter:{field:ys(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(kS(n.value))return{unaryFilter:{field:ys(n.field),op:"IS_NOT_NAN"}};if(xS(n.value))return{unaryFilter:{field:ys(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ys(n.field),op:c9(n.op),value:n.value}}}(t):t instanceof Cr?function(n){const r=n.getFilters().map(i=>uR(i));return r.length===1?r[0]:{compositeFilter:{op:u9(n.op),filters:r}}}(t):xe()}function f9(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function fR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,n,r,i,a=Ee.min(),o=Ee.min(),s=rn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new pa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new pa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9{constructor(e){this.ct=e}}function h9(t){const e=o9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?R0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{constructor(){this.un=new m9}addToCollectionParentIndex(e,n){return this.un.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(ja.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(ja.min())}updateCollectionGroup(e,n,r){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class m9{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new tn(st.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new tn(st.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ll(0)}static kn(){return new ll(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9{constructor(){this.changes=new $l(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,gn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ee.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&iu(r.mutation,i,Gn.empty(),Ye.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ce()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ce()){const i=mo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let o=Vc();return a.forEach((s,l)=>{o=o.insert(s,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=mo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ce()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((o,s)=>{n.set(o,s)})})}computeViews(e,n,r,i){let a=Mi();const o=ru(),s=function(){return ru()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Wa)?a=a.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),iu(u.mutation,c,u.mutation.getFieldMask(),Ye.now())):o.set(c.key,Gn.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var f;return s.set(c,new y9(u,(f=o.get(c))!==null&&f!==void 0?f:null))}),s))}recalculateAndSaveOverlays(e,n){const r=ru();let i=new bt((o,s)=>o-s),a=Ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const s of o)s.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Gn.empty();u=s.applyToLocalView(c,u),r.set(l,u);const f=(i.get(s.batchId)||Ce()).add(l);i=i.insert(s.batchId,f)})}).next(()=>{const o=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),c=l.key,u=l.value,f=GN();u.forEach(h=>{if(!a.has(h)){const p=eR(n.get(h),r.get(h));p!==null&&f.set(h,p),a=a.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return ee.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ge.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):zN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):ee.resolve(mo());let s=-1,l=a;return o.next(c=>ee.forEach(c,(u,f)=>(s<f.largestBatchId&&(s=f.largestBatchId),a.get(u)?ee.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,a)).next(()=>this.computeViews(e,l,c,Ce())).next(u=>({batchId:s,changes:KN(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next(r=>{let i=Vc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let o=Vc();return this.indexManager.getCollectionParents(e,a).next(s=>ee.forEach(s,l=>{const c=function(f,h){return new Ml(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((f,h)=>{o=o.insert(f,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(o=>{a.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,gn.newInvalidDocument(u)))});let s=Vc();return o.forEach((l,c)=>{const u=a.get(l);u!==void 0&&iu(u.mutation,c,Gn.empty(),Ye.now()),Vm(n,c)&&(s=s.insert(l,c))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return ee.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Yr(i.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:h9(i.bundledQuery),readTime:Yr(i.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{constructor(){this.overlays=new bt(ge.comparator),this.Ir=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const r=mo();return ee.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.ht(e,n,a)}),ee.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(r)),ee.resolve()}getOverlaysForCollection(e,n,r){const i=mo(),a=n.length+1,o=new ge(n.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const l=s.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===a&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ee.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new bt((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=a.get(c.largestBatchId);u===null&&(u=mo(),a=a.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const s=mo(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>s.set(c,u)),!(s.size()>=i)););return ee.resolve(s)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new z5(n,r));let a=this.Ir.get(n);a===void 0&&(a=Ce(),this.Ir.set(n,a)),this.Ir.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(){this.Tr=new tn(Ft.Er),this.dr=new tn(Ft.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Ft(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Ft(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ge(new st([])),r=new Ft(n,e),i=new Ft(n,e+1),a=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),a.push(o.key)}),a}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ge(new st([])),r=new Ft(n,e),i=new Ft(n,e+1);let a=Ce();return this.dr.forEachInRange([r,i],o=>{a=a.add(o.key)}),a}containsKey(e){const n=new Ft(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ft{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ge.comparator(e.key,n.key)||Fe(e.wr,n.wr)}static Ar(e,n){return Fe(e.wr,n.wr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new tn(Ft.Er)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new B5(a,n,r,i);this.mutationQueue.push(o);for(const s of i)this.br=this.br.add(new Ft(s.key,a)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return ee.resolve(o)}lookupMutationBatch(e,n){return ee.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),a=i<0?0:i;return ee.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ft(n,0),i=new Ft(n,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([r,i],o=>{const s=this.Dr(o.wr);a.push(s)}),ee.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new tn(Fe);return n.forEach(i=>{const a=new Ft(i,0),o=new Ft(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,o],s=>{r=r.add(s.wr)})}),ee.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;ge.isDocumentKey(a)||(a=a.child(""));const o=new Ft(new ge(a),0);let s=new tn(Fe);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(s=s.add(l.wr)),!0)},o),ee.resolve(this.Cr(s))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ze(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return ee.forEach(n.mutations,i=>{const a=new Ft(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Ft(n,0),i=this.br.firstAfterOrEqual(r);return ee.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(e){this.Mr=e,this.docs=function(){return new bt(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ee.resolve(r?r.document.mutableCopy():gn.newInvalidDocument(n))}getEntries(e,n){let r=Mi();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():gn.newInvalidDocument(i))}),ee.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Mi();const o=n.path,s=new ge(o.child("")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||o5(a5(u),r)<=0||(i.has(u.key)||Vm(n,u))&&(a=a.insert(u.key,u.mutableCopy()))}return ee.resolve(a)}getAllFromCollectionGroup(e,n,r,i){xe()}Or(e,n){return ee.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new E9(this)}getSize(e){return ee.resolve(this.size)}}class E9 extends g9{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),ee.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9{constructor(e){this.persistence=e,this.Nr=new $l(n=>N_(n),R_),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.Lr=0,this.Br=new F_,this.targetCount=0,this.kr=ll.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),ee.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new ll(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Kn(n),ee.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.Nr.forEach((o,s)=>{s.sequenceNumber<=n&&r.get(s.targetId)===null&&(this.Nr.delete(o),a.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),ee.waitFor(a).next(()=>i)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return ee.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),ee.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(o=>{a.push(i.markPotentiallyOrphaned(e,o))}),ee.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return ee.resolve(r)}containsKey(e,n){return ee.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{constructor(e,n){this.qr={},this.overlays={},this.Qr=new P_(0),this.Kr=!1,this.Kr=!0,this.$r=new _9,this.referenceDelegate=e(this),this.Ur=new S9(this),this.indexManager=new p9,this.remoteDocumentCache=function(i){return new k9(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new d9(n),this.Gr=new b9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new w9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new x9(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){he("MemoryPersistence","Starting transaction:",e);const i=new A9(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(a=>this.referenceDelegate.jr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Hr(e,n){return ee.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class A9 extends l5{constructor(e){super(),this.currentSequenceNumber=e}}class U_{constructor(e){this.persistence=e,this.Jr=new F_,this.Yr=null}static Zr(e){return new U_(e)}get Xr(){if(this.Yr)return this.Yr;throw xe()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),ee.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.Xr.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.Xr,r=>{const i=ge.fromPath(r);return this.ei(e,i).next(a=>{a||n.removeEntry(i,Ee.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return ee.or([()=>ee.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Ce(),i=Ce();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new B_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return bF()?8:c5(wn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.Yi(e,n).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.Zi(e,n,i,r).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new P9;return this.Xi(e,n,o).next(s=>{if(a.result=s,this.zi)return this.es(e,n,o,s.size)})}).next(()=>a.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(bc()<=Ne.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",gs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ee.resolve()):(bc()<=Ne.DEBUG&&he("QueryEngine","Query:",gs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(bc()<=Ne.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",gs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xr(n))):ee.resolve())}Yi(e,n){if(AS(n))return ee.resolve(null);let r=Xr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=R0(n,null,"F"),r=Xr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const o=Ce(...a);return this.Ji.getDocuments(e,o).next(s=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,s);return this.ns(n,c,o,l.readTime)?this.Yi(e,R0(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,i){return AS(n)||i.isEqual(Ee.min())?ee.resolve(null):this.Ji.getDocuments(e,r).next(a=>{const o=this.ts(n,a);return this.ns(n,o,r,i)?ee.resolve(null):(bc()<=Ne.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),gs(n)),this.rs(e,o,n,i5(i,-1)).next(s=>s))})}ts(e,n){let r=new tn(qN(e));return n.forEach((i,a)=>{Vm(e,a)&&(r=r.add(a))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(e,n,r){return bc()<=Ne.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",gs(n)),this.Ji.getDocumentsMatchingQuery(e,n,ja.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new bt(Fe),this._s=new $l(a=>N_(a),R_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new v9(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function C9(t,e,n,r){return new O9(t,e,n,r)}async function dR(t,e){const n=Te(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const o=[],s=[];let l=Ce();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of a){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:s}))})})}function N9(t,e){const n=Te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.cs.newChangeBuffer({trackRemovals:!0});return function(s,l,c,u){const f=c.batch,h=f.keys();let p=ee.resolve();return h.forEach(m=>{p=p.next(()=>u.getEntry(l,m)).next(y=>{const v=c.docVersions.get(m);Ze(v!==null),y.version.compareTo(v)<0&&(f.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),u.addEntry(y)))})}),p.next(()=>s.mutationQueue.removeMutationBatch(l,f))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let l=Ce();for(let c=0;c<s.mutationResults.length;++c)s.mutationResults[c].transformResults.length>0&&(l=l.add(s.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function hR(t){const e=Te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function R9(t,e){const n=Te(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const s=[];e.targetChanges.forEach((u,f)=>{const h=i.get(f);if(!h)return;s.push(n.Ur.removeMatchingKeys(a,u.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(a,u.addedDocuments,f)));let p=h.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(rn.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),i=i.insert(f,p),function(y,v,x){return y.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(h,p,u)&&s.push(n.Ur.updateTargetData(a,p))});let l=Mi(),c=Ce();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(a,u))}),s.push(j9(a,o,e.documentUpdates).next(u=>{l=u.Ps,c=u.Is})),!r.isEqual(Ee.min())){const u=n.Ur.getLastRemoteSnapshotVersion(a).next(f=>n.Ur.setTargetsMetadata(a,a.currentSequenceNumber,r));s.push(u)}return ee.waitFor(s).next(()=>o.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,l,c)).next(()=>l)}).then(a=>(n.os=i,a))}function j9(t,e,n){let r=Ce(),i=Ce();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let o=Mi();return n.forEach((s,l)=>{const c=a.get(s);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(Ee.min())?(e.removeEntry(s,l.readTime),o=o.insert(s,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(s,l)):he("LocalStore","Ignoring outdated watch update for ",s,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function D9(t,e){const n=Te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function M9(t,e){const n=Te(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(a=>a?(i=a,ee.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new pa(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function L0(t,e,n){const r=Te(t),i=r.os.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!zf(o))throw o;he("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function LS(t,e,n){const r=Te(t);let i=Ee.min(),a=Ce();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const f=Te(l),h=f._s.get(u);return h!==void 0?ee.resolve(f.os.get(h)):f.Ur.getTargetData(c,u)}(r,o,Xr(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,s.targetId).next(l=>{a=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:Ee.min(),n?a:Ce())).next(s=>($9(r,A5(e),s),{documents:s,Ts:a})))}function $9(t,e,n){let r=t.us.get(e)||Ee.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.us.set(e,r)}class VS{constructor(){this.activeTargetIds=R5()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class L9{constructor(){this.so=new VS,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new VS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V9{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){he("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){he("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kd=null;function zy(){return Kd===null?Kd=function(){return 268435456+Math.round(2147483648*Math.random())}():Kd++,"0x"+Kd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn="WebChannelConnection";class B9 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(n,r,i,a,o){const s=zy(),l=this.xo(n,r.toUriEncodedString());he("RestConnection",`Sending RPC '${n}' ${s}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,a,o),this.No(n,l,c,i).then(u=>(he("RestConnection",`Received RPC '${n}' ${s}: `,u),u),u=>{throw il("RestConnection",`RPC '${n}' ${s} failed with error: `,u,"url: ",l,"request:",i),u})}Lo(n,r,i,a,o,s){return this.Mo(n,r,i,a,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Dl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,o)=>n[o]=a),i&&i.headers.forEach((a,o)=>n[o]=a)}xo(n,r){const i=F9[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const a=zy();return new Promise((o,s)=>{const l=new TN;l.setWithCredentials(!0),l.listenOnce(PN.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ah.NO_ERROR:const u=l.getResponseJson();he(fn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(u)),o(u);break;case Ah.TIMEOUT:he(fn,`RPC '${e}' ${a} timed out`),s(new ue(X.DEADLINE_EXCEEDED,"Request time out"));break;case Ah.HTTP_ERROR:const f=l.getStatus();if(he(fn,`RPC '${e}' ${a} failed with status:`,f,"response text:",l.getResponseText()),f>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const m=function(v){const x=v.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(x)>=0?x:X.UNKNOWN}(p.status);s(new ue(m,p.message))}else s(new ue(X.UNKNOWN,"Server responded with status "+l.getStatus()))}else s(new ue(X.UNAVAILABLE,"Connection failed."));break;default:xe()}}finally{he(fn,`RPC '${e}' ${a} completed.`)}});const c=JSON.stringify(i);he(fn,`RPC '${e}' ${a} sending request:`,i),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=zy(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=CN(),s=ON(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new AN({})),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=a.join("");he(fn,`Creating RPC '${e}' stream ${i}: ${u}`,l);const f=o.createWebChannel(u,l);let h=!1,p=!1;const m=new U9({Io:v=>{p?he(fn,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(h||(he(fn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),he(fn,`RPC '${e}' stream ${i} sending:`,v),f.send(v))},To:()=>f.close()}),y=(v,x,b)=>{v.listen(x,_=>{try{b(_)}catch(k){setTimeout(()=>{throw k},0)}})};return y(f,Lc.EventType.OPEN,()=>{p||(he(fn,`RPC '${e}' stream ${i} transport opened.`),m.yo())}),y(f,Lc.EventType.CLOSE,()=>{p||(p=!0,he(fn,`RPC '${e}' stream ${i} transport closed`),m.So())}),y(f,Lc.EventType.ERROR,v=>{p||(p=!0,il(fn,`RPC '${e}' stream ${i} transport errored:`,v),m.So(new ue(X.UNAVAILABLE,"The operation could not be completed")))}),y(f,Lc.EventType.MESSAGE,v=>{var x;if(!p){const b=v.data[0];Ze(!!b);const _=b,k=_.error||((x=_[0])===null||x===void 0?void 0:x.error);if(k){he(fn,`RPC '${e}' stream ${i} received error:`,k);const S=k.status;let I=function(P){const O=Pt[P];if(O!==void 0)return nR(O)}(S),T=k.message;I===void 0&&(I=X.INTERNAL,T="Unknown error status: "+S+" with message "+k.message),p=!0,m.So(new ue(I,T)),f.close()}else he(fn,`RPC '${e}' stream ${i} received:`,b),m.bo(b)}}),y(s,IN.STAT_EVENT,v=>{v.stat===A0.PROXY?he(fn,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===A0.NOPROXY&&he(fn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.wo()},0),m}}function Wy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(t){return new J5(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e,n,r=1e3,i=1.5,a=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&he("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e,n,r,i,a,o,s,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new pR(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(Di(n.toString()),Di("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ue(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return he("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(he("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class z9 extends mR{constructor(e,n,r,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=t9(this.serializer,e),r=function(a){if(!("targetChange"in a))return Ee.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?Ee.min():o.readTime?Yr(o.readTime):Ee.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=$0(this.serializer),n.addTarget=function(a,o){let s;const l=o.target;if(s=C0(l)?{documents:i9(a,l)}:{query:a9(a,l)._t},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=aR(a,o.resumeToken);const c=j0(a,o.expectedCount);c!==null&&(s.expectedCount=c)}else if(o.snapshotVersion.compareTo(Ee.min())>0){s.readTime=yp(a,o.snapshotVersion.toTimestamp());const c=j0(a,o.expectedCount);c!==null&&(s.expectedCount=c)}return s}(this.serializer,e);const r=s9(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=$0(this.serializer),n.removeTarget=e,this.a_(n)}}class W9 extends mR{constructor(e,n,r,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ze(!!e.streamToken),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=r9(e.writeResults,e.commitTime),r=Yr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=$0(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>n9(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ue(X.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Mo(e,D0(n,r),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ue(X.UNKNOWN,a.toString())})}Lo(e,n,r,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Lo(e,D0(n,r),i,o,s,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ue(X.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class H9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Di(n),this.D_=!1):he("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K9{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(o=>{r.enqueueAndForget(async()=>{Yo(this)&&(he("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Te(l);c.L_.add(4),await Hf(c),c.q_.set("Unknown"),c.L_.delete(4),await Wm(c)}(this))})}),this.q_=new H9(r,i)}}async function Wm(t){if(Yo(t))for(const e of t.B_)await e(!0)}async function Hf(t){for(const e of t.B_)await e(!1)}function gR(t,e){const n=Te(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),H_(n)?q_(n):Ll(n).r_()&&W_(n,e))}function z_(t,e){const n=Te(t),r=Ll(n);n.N_.delete(e),r.r_()&&yR(n,e),n.N_.size===0&&(r.r_()?r.o_():Yo(n)&&n.q_.set("Unknown"))}function W_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ll(t).A_(e)}function yR(t,e){t.Q_.xe(e),Ll(t).R_(e)}function q_(t){t.Q_=new G5({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ll(t).start(),t.q_.v_()}function H_(t){return Yo(t)&&!Ll(t).n_()&&t.N_.size>0}function Yo(t){return Te(t).L_.size===0}function vR(t){t.Q_=void 0}async function G9(t){t.q_.set("Online")}async function X9(t){t.N_.forEach((e,n)=>{W_(t,e)})}async function Y9(t,e){vR(t),H_(t)?(t.q_.M_(e),q_(t)):t.q_.set("Unknown")}async function Q9(t,e,n){if(t.q_.set("Online"),e instanceof iR&&e.state===2&&e.cause)try{await async function(i,a){const o=a.cause;for(const s of a.targetIds)i.N_.has(s)&&(await i.remoteSyncer.rejectListen(s,o),i.N_.delete(s),i.Q_.removeTarget(s))}(t,e)}catch(r){he("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await vp(t,r)}else if(e instanceof Oh?t.Q_.Ke(e):e instanceof rR?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Ee.min()))try{const r=await hR(t.localStore);n.compareTo(r)>=0&&await function(a,o){const s=a.Q_.rt(o);return s.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=a.N_.get(c);u&&a.N_.set(c,u.withResumeToken(l.resumeToken,o))}}),s.targetMismatches.forEach((l,c)=>{const u=a.N_.get(l);if(!u)return;a.N_.set(l,u.withResumeToken(rn.EMPTY_BYTE_STRING,u.snapshotVersion)),yR(a,l);const f=new pa(u.target,l,c,u.sequenceNumber);W_(a,f)}),a.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){he("RemoteStore","Failed to raise snapshot:",r),await vp(t,r)}}async function vp(t,e,n){if(!zf(e))throw e;t.L_.add(1),await Hf(t),t.q_.set("Offline"),n||(n=()=>hR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{he("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Wm(t)})}function bR(t,e){return e().catch(n=>vp(t,n,e))}async function qm(t){const e=Te(t),n=Ma(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;J9(e);)try{const i=await D9(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,Z9(e,i)}catch(i){await vp(e,i)}wR(e)&&_R(e)}function J9(t){return Yo(t)&&t.O_.length<10}function Z9(t,e){t.O_.push(e);const n=Ma(t);n.r_()&&n.V_&&n.m_(e.mutations)}function wR(t){return Yo(t)&&!Ma(t).n_()&&t.O_.length>0}function _R(t){Ma(t).start()}async function ez(t){Ma(t).p_()}async function tz(t){const e=Ma(t);for(const n of t.O_)e.m_(n.mutations)}async function nz(t,e,n){const r=t.O_.shift(),i=$_.from(r,e,n);await bR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await qm(t)}async function rz(t,e){e&&Ma(t).V_&&await async function(r,i){if(function(o){return q5(o)&&o!==X.ABORTED}(i.code)){const a=r.O_.shift();Ma(r).s_(),await bR(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await qm(r)}}(t,e),wR(t)&&_R(t)}async function US(t,e){const n=Te(t);n.asyncQueue.verifyOperationInProgress(),he("RemoteStore","RemoteStore received new credentials");const r=Yo(n);n.L_.add(3),await Hf(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Wm(n)}async function iz(t,e){const n=Te(t);e?(n.L_.delete(2),await Wm(n)):e||(n.L_.add(2),await Hf(n),n.q_.set("Unknown"))}function Ll(t){return t.K_||(t.K_=function(n,r,i){const a=Te(n);return a.w_(),new z9(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:G9.bind(null,t),Ro:X9.bind(null,t),mo:Y9.bind(null,t),d_:Q9.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),H_(t)?q_(t):t.q_.set("Unknown")):(await t.K_.stop(),vR(t))})),t.K_}function Ma(t){return t.U_||(t.U_=function(n,r,i){const a=Te(n);return a.w_(),new W9(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:ez.bind(null,t),mo:rz.bind(null,t),f_:tz.bind(null,t),g_:nz.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await qm(t)):(await t.U_.stop(),t.O_.length>0&&(he("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const o=Date.now()+r,s=new K_(e,n,o,i,a);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function G_(t,e){if(Di("AsyncQueue",`${e}: ${t}`),zf(t))return new ue(X.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ge.comparator(n.key,r.key):(n,r)=>ge.comparator(n.key,r.key),this.keyedMap=Vc(),this.sortedSet=new bt(this.comparator)}static emptySet(e){return new Hs(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Hs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Hs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(){this.W_=new bt(ge.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):xe():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class cl{constructor(e,n,r,i,a,o,s,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,a){const o=[];return n.forEach(s=>{o.push({type:0,doc:s})}),new cl(e,n,Hs.emptySet(n),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class az{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class oz{constructor(){this.queries=zS(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Te(n),a=i.queries;i.queries=zS(),a.forEach((o,s)=>{for(const l of s.j_)l.onError(r)})})(this,new ue(X.ABORTED,"Firestore shutting down"))}}function zS(){return new $l(t=>WN(t),Lm)}async function xR(t,e){const n=Te(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.H_()&&e.J_()&&(r=2):(a=new az,r=e.J_()?0:1);try{switch(r){case 0:a.z_=await n.onListen(i,!0);break;case 1:a.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const s=G_(o,`Initialization of query '${gs(e.query)}' failed`);return void e.onError(s)}n.queries.set(i,a),a.j_.push(e),e.Z_(n.onlineState),a.z_&&e.X_(a.z_)&&X_(n)}async function kR(t,e){const n=Te(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const o=a.j_.indexOf(e);o>=0&&(a.j_.splice(o,1),a.j_.length===0?i=e.J_()?0:1:!a.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function sz(t,e){const n=Te(t);let r=!1;for(const i of e){const a=i.query,o=n.queries.get(a);if(o){for(const s of o.j_)s.X_(i)&&(r=!0);o.z_=i}}r&&X_(n)}function lz(t,e,n){const r=Te(t),i=r.queries.get(e);if(i)for(const a of i.j_)a.onError(n);r.queries.delete(e)}function X_(t){t.Y_.forEach(e=>{e.next()})}var V0,WS;(WS=V0||(V0={})).ea="default",WS.Cache="cache";class ER{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new cl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=cl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==V0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e){this.key=e}}class TR{constructor(e){this.key=e}}class cz{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ce(),this.mutatedKeys=Ce(),this.Aa=qN(e),this.Ra=new Hs(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new BS,i=n?n.Ra:this.Ra;let a=n?n.mutatedKeys:this.mutatedKeys,o=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,f)=>{const h=i.get(u),p=Vm(this.query,f)?f:null,m=!!h&&this.mutatedKeys.has(h.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let v=!1;h&&p?h.data.isEqual(p.data)?m!==y&&(r.track({type:3,doc:p}),v=!0):this.ga(h,p)||(r.track({type:2,doc:p}),v=!0,(l&&this.Aa(p,l)>0||c&&this.Aa(p,c)<0)&&(s=!0)):!h&&p?(r.track({type:0,doc:p}),v=!0):h&&!p&&(r.track({type:1,doc:h}),v=!0,(l||c)&&(s=!0)),v&&(p?(o=o.add(p),a=y?a.add(u):a.delete(u)):(o=o.delete(u),a=a.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),a=a.delete(u.key),r.track({type:1,doc:u})}return{Ra:o,fa:r,ns:s,mutatedKeys:a}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((u,f)=>function(p,m){const y=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe()}};return y(p)-y(m)}(u.type,f.type)||this.Aa(u.doc,f.doc)),this.pa(r),i=i!=null&&i;const s=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new cl(this.query,e.Ra,a,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:s}:{wa:s}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new BS,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ce(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new TR(r))}),this.da.forEach(r=>{e.has(r)||n.push(new SR(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ce();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return cl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class uz{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class fz{constructor(e){this.key=e,this.va=!1}}class dz{constructor(e,n,r,i,a,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new $l(s=>WN(s),Lm),this.Ma=new Map,this.xa=new Set,this.Oa=new bt(ge.comparator),this.Na=new Map,this.La=new F_,this.Ba={},this.ka=new Map,this.qa=ll.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function hz(t,e,n=!0){const r=NR(t);let i;const a=r.Fa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await AR(r,e,n,!0),i}async function pz(t,e){const n=NR(t);await AR(n,e,!0,!1)}async function AR(t,e,n,r){const i=await M9(t.localStore,Xr(e)),a=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(a):"not-current";let s;return r&&(s=await mz(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&gR(t.remoteStore,i),s}async function mz(t,e,n,r,i){t.Ka=(f,h,p)=>async function(y,v,x,b){let _=v.view.ma(x);_.ns&&(_=await LS(y.localStore,v.query,!1).then(({documents:T})=>v.view.ma(T,_)));const k=b&&b.targetChanges.get(v.targetId),S=b&&b.targetMismatches.get(v.targetId)!=null,I=v.view.applyChanges(_,y.isPrimaryClient,k,S);return HS(y,v.targetId,I.wa),I.snapshot}(t,f,h,p);const a=await LS(t.localStore,e,!0),o=new cz(e,a.Ts),s=o.ma(a.documents),l=qf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(s,t.isPrimaryClient,l);HS(t,n,c.wa);const u=new uz(e,n,o);return t.Fa.set(e,u),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function gz(t,e,n){const r=Te(t),i=r.Fa.get(e),a=r.Ma.get(i.targetId);if(a.length>1)return r.Ma.set(i.targetId,a.filter(o=>!Lm(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await L0(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&z_(r.remoteStore,i.targetId),F0(r,i.targetId)}).catch(Bf)):(F0(r,i.targetId),await L0(r.localStore,i.targetId,!0))}async function yz(t,e){const n=Te(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),z_(n.remoteStore,r.targetId))}async function vz(t,e,n){const r=Sz(t);try{const i=await function(o,s){const l=Te(o),c=Ye.now(),u=s.reduce((p,m)=>p.add(m.key),Ce());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=Mi(),y=Ce();return l.cs.getEntries(p,u).next(v=>{m=v,m.forEach((x,b)=>{b.isValidDocument()||(y=y.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(v=>{f=v;const x=[];for(const b of s){const _=F5(b,f.get(b.key).overlayedDocument);_!=null&&x.push(new Wa(b.key,_,MN(_.value.mapValue),dr.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,x,s)}).next(v=>{h=v;const x=v.applyToLocalDocumentSet(f,y);return l.documentOverlayCache.saveOverlays(p,v.batchId,x)})}).then(()=>({batchId:h.batchId,changes:KN(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,s,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new bt(Fe)),c=c.insert(s,l),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,n),await Kf(r,i.changes),await qm(r.remoteStore)}catch(i){const a=G_(i,"Failed to persist write");n.reject(a)}}async function PR(t,e){const n=Te(t);try{const r=await R9(n.localStore,e);e.targetChanges.forEach((i,a)=>{const o=n.Na.get(a);o&&(Ze(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Ze(o.va):i.removedDocuments.size>0&&(Ze(o.va),o.va=!1))}),await Kf(n,r,e)}catch(r){await Bf(r)}}function qS(t,e,n){const r=Te(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((a,o)=>{const s=o.view.Z_(e);s.snapshot&&i.push(s.snapshot)}),function(o,s){const l=Te(o);l.onlineState=s;let c=!1;l.queries.forEach((u,f)=>{for(const h of f.j_)h.Z_(s)&&(c=!0)}),c&&X_(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function bz(t,e,n){const r=Te(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),a=i&&i.key;if(a){let o=new bt(ge.comparator);o=o.insert(a,gn.newNoDocument(a,Ee.min()));const s=Ce().add(a),l=new Bm(Ee.min(),new Map,new bt(Fe),o,s);await PR(r,l),r.Oa=r.Oa.remove(a),r.Na.delete(e),Y_(r)}else await L0(r.localStore,e,!1).then(()=>F0(r,e,n)).catch(Bf)}async function wz(t,e){const n=Te(t),r=e.batch.batchId;try{const i=await N9(n.localStore,e);OR(n,r,null),IR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Kf(n,i)}catch(i){await Bf(i)}}async function _z(t,e,n){const r=Te(t);try{const i=await function(o,s){const l=Te(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,s).next(f=>(Ze(f!==null),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);OR(r,e,n),IR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Kf(r,i)}catch(i){await Bf(i)}}function IR(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function OR(t,e,n){const r=Te(t);let i=r.Ba[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function F0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||CR(t,r)})}function CR(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(z_(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Y_(t))}function HS(t,e,n){for(const r of n)r instanceof SR?(t.La.addReference(r.key,e),xz(t,r)):r instanceof TR?(he("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||CR(t,r.key)):xe()}function xz(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(he("SyncEngine","New document in limbo: "+n),t.xa.add(r),Y_(t))}function Y_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ge(st.fromString(e)),r=t.qa.next();t.Na.set(r,new fz(n)),t.Oa=t.Oa.insert(n,r),gR(t.remoteStore,new pa(Xr(j_(n.path)),r,"TargetPurposeLimboResolution",P_.oe))}}async function Kf(t,e,n){const r=Te(t),i=[],a=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((s,l)=>{o.push(r.Ka(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=B_.Wi(l.targetId,c);a.push(f)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,c){const u=Te(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ee.forEach(c,h=>ee.forEach(h.$i,p=>u.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>ee.forEach(h.Ui,p=>u.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!zf(f))throw f;he("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const p=u.os.get(h),m=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(m);u.os=u.os.insert(h,y)}}}(r.localStore,a))}async function kz(t,e){const n=Te(t);if(!n.currentUser.isEqual(e)){he("SyncEngine","User change. New user:",e.toKey());const r=await dR(n.localStore,e);n.currentUser=e,function(a,o){a.ka.forEach(s=>{s.forEach(l=>{l.reject(new ue(X.CANCELLED,o))})}),a.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Kf(n,r.hs)}}function Ez(t,e){const n=Te(t),r=n.Na.get(e);if(r&&r.va)return Ce().add(r.key);{let i=Ce();const a=n.Ma.get(e);if(!a)return i;for(const o of a){const s=n.Fa.get(o);i=i.unionWith(s.view.Va)}return i}}function NR(t){const e=Te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=PR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ez.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bz.bind(null,e),e.Ca.d_=sz.bind(null,e.eventManager),e.Ca.$a=lz.bind(null,e.eventManager),e}function Sz(t){const e=Te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_z.bind(null,e),e}class KS{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=zm(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return C9(this.persistence,new I9,e.initialUser,this.serializer)}createPersistence(e){return new T9(U_.Zr,this.serializer)}createSharedClientState(e){return new L9}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Tz{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>qS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=kz.bind(null,this.syncEngine),await iz(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new oz}()}createDatastore(e){const n=zm(e.databaseInfo.databaseId),r=function(a){return new B9(a)}(e.databaseInfo);return function(a,o,s,l){return new q9(a,o,s,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,o,s){return new K9(r,i,a,o,s)}(this.localStore,this.datastore,e.asyncQueue,n=>qS(this.syncEngine,n,0),function(){return FS.D()?new FS:new V9}())}createSyncEngine(e,n){return function(i,a,o,s,l,c,u){const f=new dz(i,a,o,s,l,c);return u&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=Te(i);he("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await Hf(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):Di("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Az{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=hn.UNAUTHENTICATED,this.clientId=RN.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async a=>{he("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(he("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ue(X.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=G_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function qy(t,e){t.asyncQueue.verifyOperationInProgress(),he("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await dR(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function GS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Iz(t);he("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>US(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>US(e.remoteStore,i)),t._onlineComponents=e}function Pz(t){return t.name==="FirebaseError"?t.code===X.FAILED_PRECONDITION||t.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function Iz(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){he("FirestoreClient","Using user provided OfflineComponentProvider");try{await qy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Pz(n))throw n;il("Error using user provided cache. Falling back to memory cache: "+n),await qy(t,new KS)}}else he("FirestoreClient","Using default OfflineComponentProvider"),await qy(t,new KS);return t._offlineComponents}async function jR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(he("FirestoreClient","Using user provided OnlineComponentProvider"),await GS(t,t._uninitializedComponentsProvider._online)):(he("FirestoreClient","Using default OnlineComponentProvider"),await GS(t,new Tz))),t._onlineComponents}function Oz(t){return jR(t).then(e=>e.syncEngine)}async function DR(t){const e=await jR(t),n=e.eventManager;return n.onListen=hz.bind(null,e.syncEngine),n.onUnlisten=gz.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=pz.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=yz.bind(null,e.syncEngine),n}function Cz(t,e,n={}){const r=new Si;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,c){const u=new RR({next:h=>{o.enqueueAndForget(()=>kR(a,f));const p=h.docs.has(s);!p&&h.fromCache?c.reject(new ue(X.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?c.reject(new ue(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new ER(j_(s.path),u,{includeMetadataChanges:!0,_a:!0});return xR(a,f)}(await DR(t),t.asyncQueue,e,n,r)),r.promise}function Nz(t,e,n={}){const r=new Si;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,c){const u=new RR({next:h=>{o.enqueueAndForget(()=>kR(a,f)),h.fromCache&&l.source==="server"?c.reject(new ue(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new ER(s,u,{includeMetadataChanges:!0,_a:!0});return xR(a,f)}(await DR(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(t,e,n){if(!n)throw new ue(X.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Rz(t,e,n,r){if(e===!0&&r===!0)throw new ue(X.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function YS(t){if(!ge.isDocumentKey(t))throw new ue(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function QS(t){if(ge.isDocumentKey(t))throw new ue(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Hm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":xe()}function Nr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ue(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hm(t);throw new ue(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ue(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ue(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Rz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=MR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ue(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ue(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ue(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Km{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new JS({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ue(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ue(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new JS(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new XB;switch(r.type){case"firstParty":return new ZB(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ue(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=XS.get(n);r&&(he("ComponentProvider","Removing Datastore"),XS.delete(n),r.terminate())}(this),Promise.resolve()}}function jz(t,e,n,r={}){var i;const a=(t=Nr(t,Km))._getSettings(),o=`${e}:${n}`;if(a.host!=="firestore.googleapis.com"&&a.host!==o&&il("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),r.mockUserToken){let s,l;if(typeof r.mockUserToken=="string")s=r.mockUserToken,l=hn.MOCK_USER;else{s=V2(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new ue(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new hn(c)}t._authCredentials=new YB(new NN(s,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Qo(this.firestore,e,this._query)}}class In{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Aa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new In(this.firestore,e,this._key)}}class Aa extends Qo{constructor(e,n,r){super(e,n,j_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new In(this.firestore,null,new ge(e))}withConverter(e){return new Aa(this.firestore,e,this._path)}}function Fn(t,e,...n){if(t=vt(t),$R("collection","path",e),t instanceof Km){const r=st.fromString(e,...n);return QS(r),new Aa(t,null,r)}{if(!(t instanceof In||t instanceof Aa))throw new ue(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(st.fromString(e,...n));return QS(r),new Aa(t.firestore,null,r)}}function pt(t,e,...n){if(t=vt(t),arguments.length===1&&(e=RN.newId()),$R("doc","path",e),t instanceof Km){const r=st.fromString(e,...n);return YS(r),new In(t,null,new ge(r))}{if(!(t instanceof In||t instanceof Aa))throw new ue(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(st.fromString(e,...n));return YS(r),new In(t.firestore,t instanceof Aa?t.converter:null,new ge(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dz{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new pR(this,"async_queue_retry"),this.Eu=()=>{const n=Wy();n&&he("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=Wy();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=Wy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new Si;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!zf(e))throw e;he("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const i=function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),s}(r);throw Di("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const i=K_.createAndSchedule(this,e,n,r,a=>this.Vu(a));return this.lu.push(i),i}du(){this.hu&&xe()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}class Jo extends Km{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Dz}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||LR(this),this._firestoreClient.terminate()}}function Mz(t,e){const n=typeof t=="object"?t:g_(),r=typeof t=="string"?t:"(default)",i=Rm(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=M2("firestore");a&&jz(i,...a)}return i}function Q_(t){return t._firestoreClient||LR(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function LR(t){var e,n,r;const i=t._freezeSettings(),a=function(s,l,c,u){return new d5(s,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,MR(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Az(t._authCredentials,t._appCheckCredentials,t._queue,a),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ul(rn.fromBase64String(e))}catch(n){throw new ue(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ul(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $z=/^__.*__$/;class Lz{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Wa(e,this.data,this.fieldMask,n,this.fieldTransforms):new Wf(e,this.data,n,this.fieldTransforms)}}class VR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Wa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function FR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe()}}class tx{constructor(e,n,r,i,a,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.yu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new tx(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return bp(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(FR(this.wu)&&$z.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class Vz{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||zm(e)}Nu(e,n,r,i=!1){return new tx({wu:e,methodName:n,Ou:r,path:Zt.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xm(t){const e=t._freezeSettings(),n=zm(t._databaseId);return new Vz(t._databaseId,!!e.ignoreUndefinedProperties,n)}function UR(t,e,n,r,i,a={}){const o=t.Nu(a.merge||a.mergeFields?2:0,e,n,i);nx("Data must be an object, but it was:",o,r);const s=BR(r,o);let l,c;if(a.merge)l=new Gn(o.fieldMask),c=o.fieldTransforms;else if(a.mergeFields){const u=[];for(const f of a.mergeFields){const h=U0(e,f,n);if(!o.contains(h))throw new ue(X.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);WR(u,h)||u.push(h)}l=new Gn(u),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new Lz(new jn(s),l,c)}class Ym extends J_{_toFieldTransform(e){if(e.wu!==2)throw e.wu===1?e.Mu(`${this._methodName}() can only appear at the top level of your update data`):e.Mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ym}}function Fz(t,e,n,r){const i=t.Nu(1,e,n);nx("Data must be an object, but it was:",i,r);const a=[],o=jn.empty();Xo(r,(l,c)=>{const u=rx(e,l,n);c=vt(c);const f=i.Cu(u);if(c instanceof Ym)a.push(u);else{const h=Gf(c,f);h!=null&&(a.push(u),o.set(u,h))}});const s=new Gn(a);return new VR(o,s,i.fieldTransforms)}function Uz(t,e,n,r,i,a){const o=t.Nu(1,e,n),s=[U0(e,r,n)],l=[i];if(a.length%2!=0)throw new ue(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<a.length;h+=2)s.push(U0(e,a[h])),l.push(a[h+1]);const c=[],u=jn.empty();for(let h=s.length-1;h>=0;--h)if(!WR(c,s[h])){const p=s[h];let m=l[h];m=vt(m);const y=o.Cu(p);if(m instanceof Ym)c.push(p);else{const v=Gf(m,y);v!=null&&(c.push(p),u.set(p,v))}}const f=new Gn(c);return new VR(u,f,o.fieldTransforms)}function Bz(t,e,n,r=!1){return Gf(n,t.Nu(r?4:3,e))}function Gf(t,e){if(zR(t=vt(t)))return nx("Unsupported field value:",e,t),BR(t,e);if(t instanceof J_)return function(r,i){if(!FR(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){const a=[];let o=0;for(const s of r){let l=Gf(s,i.Fu(o));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),o++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=vt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return j5(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Ye.fromDate(r);return{timestampValue:yp(i.serializer,a)}}if(r instanceof Ye){const a=new Ye(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:yp(i.serializer,a)}}if(r instanceof Z_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ul)return{bytesValue:aR(i.serializer,r._byteString)};if(r instanceof In){const a=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(a))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:V_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ex)return function(o,s){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw s.Mu("VectorValues must only contain numeric values.");return D_(s.serializer,l)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${Hm(r)}`)}(t,e)}function BR(t,e){const n={};return jN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xo(t,(r,i)=>{const a=Gf(i,e.bu(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function zR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ye||t instanceof Z_||t instanceof ul||t instanceof In||t instanceof J_||t instanceof ex)}function nx(t,e,n){if(!zR(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Hm(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function U0(t,e,n){if((e=vt(e))instanceof Gm)return e._internalPath;if(typeof e=="string")return rx(t,e);throw bp("Field path arguments must be of type string or ",t,!1,void 0,n)}const zz=new RegExp("[~\\*/\\[\\]]");function rx(t,e,n){if(e.search(zz)>=0)throw bp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Gm(...e.split("."))._internalPath}catch{throw bp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function bp(t,e,n,r,i){const a=r&&!r.isEmpty(),o=i!==void 0;let s=`Function ${e}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(a||o)&&(l+=" (found",a&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new ue(X.INVALID_ARGUMENT,s+t+l)}function WR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new In(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Wz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ix("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Wz extends qR{data(){return super.data()}}function ix(t,e){return typeof e=="string"?rx(t,e):e instanceof Gm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qz(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ue(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ax{}class HR extends ax{}function KR(t,e,...n){let r=[];e instanceof ax&&r.push(e),r=r.concat(n),function(a){const o=a.filter(l=>l instanceof sx).length,s=a.filter(l=>l instanceof ox).length;if(o>1||o>0&&s>0)throw new ue(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class ox extends HR{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ox(e,n,r)}_apply(e){const n=this._parse(e);return XR(e._query,n),new Qo(e.firestore,e.converter,N0(e._query,n))}_parse(e){const n=Xm(e.firestore);return function(a,o,s,l,c,u,f){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new ue(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){eT(f,u);const p=[];for(const m of f)p.push(ZS(l,a,m));h={arrayValue:{values:p}}}else h=ZS(l,a,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||eT(f,u),h=Bz(s,o,f,u==="in"||u==="not-in");return Ot.create(c,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class sx extends ax{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new sx(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Cr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let o=i;const s=a.getFlattenedFilters();for(const l of s)XR(o,l),o=N0(o,l)}(e._query,n),new Qo(e.firestore,e.converter,N0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class lx extends HR{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new lx(e,n)}_apply(e){const n=function(i,a,o){if(i.startAt!==null)throw new ue(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ue(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Bu(a,o)}(e._query,this._field,this._direction);return new Qo(e.firestore,e.converter,function(i,a){const o=i.explicitOrderBy.concat([a]);return new Ml(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function GR(t,e="asc"){const n=e,r=ix("orderBy",t);return lx._create(r,n)}function ZS(t,e,n){if(typeof(n=vt(n))=="string"){if(n==="")throw new ue(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zN(e)&&n.indexOf("/")!==-1)throw new ue(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(st.fromString(n));if(!ge.isDocumentKey(r))throw new ue(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return _S(t,new ge(r))}if(n instanceof In)return _S(t,n._key);throw new ue(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hm(n)}.`)}function eT(t,e){if(!Array.isArray(t)||t.length===0)throw new ue(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function XR(t,e){const n=function(i,a){for(const o of i)for(const s of o.getFlattenedFilters())if(a.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ue(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Hz{convertValue(e,n="none"){switch(Mo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Do(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Xo(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,i;const a=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Et(o.doubleValue));return new ex(a)}convertGeoPoint(e){return new Z_(Et(e.latitude),Et(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=O_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Vu(e));default:return null}}convertTimestamp(e){const n=Da(e);return new Ye(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=st.fromString(e);Ze(fR(r));const i=new Fu(r.get(1),r.get(3)),a=new ge(r.popFirst(5));return i.isEqual(n)||Di(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class QR extends qR{constructor(e,n,r,i,a,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ch(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ix("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ch extends QR{data(e={}){return super.data(e)}}class Kz{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Uc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ch(this._firestore,this._userDataWriter,r.key,r,new Uc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(s=>{const l=new Ch(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Uc(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>a||s.type!==3).map(s=>{const l=new Ch(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Uc(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return s.type!==0&&(c=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),u=o.indexOf(s.doc.key)),{type:Gz(s.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Gz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qa(t){t=Nr(t,In);const e=Nr(t.firestore,Jo);return Cz(Q_(e),t._key).then(n=>Xz(e,t,n))}class JR extends Hz{constructor(e){super(),this.firestore=e}convertBytes(e){return new ul(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new In(this.firestore,null,n)}}function ni(t){t=Nr(t,Qo);const e=Nr(t.firestore,Jo),n=Q_(e),r=new JR(e);return qz(t._query),Nz(n,t._query).then(i=>new Kz(e,r,t,i))}function ZR(t,e,n){t=Nr(t,In);const r=Nr(t.firestore,Jo),i=YR(t.converter,e,n);return Jm(r,[UR(Xm(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,dr.none())])}function Ha(t,e,n,...r){t=Nr(t,In);const i=Nr(t.firestore,Jo),a=Xm(i);let o;return o=typeof(e=vt(e))=="string"||e instanceof Gm?Uz(a,"updateDoc",t._key,e,n,r):Fz(a,"updateDoc",t._key,e),Jm(i,[o.toMutation(t._key,dr.exists(!0))])}function Qm(t){return Jm(Nr(t.firestore,Jo),[new M_(t._key,dr.none())])}function cx(t,e){const n=Nr(t.firestore,Jo),r=pt(t),i=YR(t.converter,e);return Jm(n,[UR(Xm(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,dr.exists(!1))]).then(()=>r)}function Jm(t,e){return function(r,i){const a=new Si;return r.asyncQueue.enqueueAndForget(async()=>vz(await Oz(r),i,a)),a.promise}(Q_(t),e)}function Xz(t,e,n){const r=n.docs.get(e._key),i=new JR(t);return new QR(t,i,e._key,r,new Uc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Dl=i})(Ko),Co(new Ra("firestore",(r,{instanceIdentifier:i,options:a})=>{const o=r.getProvider("app").getImmediate(),s=new Jo(new QB(r.getProvider("auth-internal")),new t5(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ue(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fu(c.options.projectId,u)}(o,i),o);return a=Object.assign({useFetchStreams:n},a),s._setSettings(a),s},"PUBLIC").setMultipleInstances(!0)),Hr(gS,"4.7.1",e),Hr(gS,"4.7.1","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ej="firebasestorage.googleapis.com",tj="storageBucket",Yz=2*60*1e3,Qz=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt extends ti{constructor(e,n,r=0){super(Hy(e),`Firebase Storage: ${n} (${Hy(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,kt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Hy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var xt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(xt||(xt={}));function Hy(t){return"storage/"+t}function ux(){const t="An unknown error occurred, please check the error payload for server response.";return new kt(xt.UNKNOWN,t)}function Jz(t){return new kt(xt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Zz(t){return new kt(xt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function e8(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new kt(xt.UNAUTHENTICATED,t)}function t8(){return new kt(xt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function n8(t){return new kt(xt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function r8(){return new kt(xt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function i8(){return new kt(xt.CANCELED,"User canceled the upload/download.")}function a8(t){return new kt(xt.INVALID_URL,"Invalid URL '"+t+"'.")}function o8(t){return new kt(xt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function s8(){return new kt(xt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+tj+"' property when initializing the app?")}function l8(){return new kt(xt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function c8(){return new kt(xt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function u8(t){return new kt(xt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function B0(t){return new kt(xt.INVALID_ARGUMENT,t)}function nj(){return new kt(xt.APP_DELETED,"The Firebase app was deleted.")}function f8(t){return new kt(xt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function au(t,e){return new kt(xt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function wc(t){throw new kt(xt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=En.makeFromUrl(e,n)}catch{return new En(e,"")}if(r.path==="")return r;throw o8(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(k){k.path.charAt(k.path.length-1)==="/"&&(k.path_=k.path_.slice(0,-1))}const o="(/(.*))?$",s=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(k){k.path_=decodeURIComponent(k.path)}const u="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${u}/b/${i}/o${h}`,"i"),m={bucket:1,path:3},y=n===ej?"(?:storage.googleapis.com|storage.cloud.google.com)":n,v="([^?#]*)",x=new RegExp(`^https?://${y}/${i}/${v}`,"i"),_=[{regex:s,indices:l,postModify:a},{regex:p,indices:m,postModify:c},{regex:x,indices:{bucket:1,path:2},postModify:c}];for(let k=0;k<_.length;k++){const S=_[k],I=S.regex.exec(e);if(I){const T=I[S.indices.bucket];let E=I[S.indices.path];E||(E=""),r=new En(T,E),S.postModify(r);break}}if(r==null)throw a8(e);return r}}class d8{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h8(t,e,n){let r=1,i=null,a=null,o=!1,s=0;function l(){return s===2}let c=!1;function u(...v){c||(c=!0,e.apply(null,v))}function f(v){i=setTimeout(()=>{i=null,t(p,l())},v)}function h(){a&&clearTimeout(a)}function p(v,...x){if(c){h();return}if(v){h(),u.call(null,v,...x);return}if(l()||o){h(),u.call(null,v,...x);return}r<64&&(r*=2);let _;s===1?(s=2,_=0):_=(r+Math.random())*1e3,f(_)}let m=!1;function y(v){m||(m=!0,h(),!c&&(i!==null?(v||(s=2),clearTimeout(i),f(0)):v||(s=1)))}return f(0),a=setTimeout(()=>{o=!0,y(!0)},n),y}function p8(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m8(t){return t!==void 0}function g8(t){return typeof t=="object"&&!Array.isArray(t)}function fx(t){return typeof t=="string"||t instanceof String}function tT(t){return dx()&&t instanceof Blob}function dx(){return typeof Blob<"u"}function z0(t,e,n,r){if(r<e)throw B0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw B0(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function rj(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var ko;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ko||(ko={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y8(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v8{constructor(e,n,r,i,a,o,s,l,c,u,f,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=f,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,m)=>{this.resolve_=p,this.reject_=m,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Gd(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=s=>{const l=s.loaded,c=s.lengthComputable?s.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const s=a.getErrorCode()===ko.NO_ERROR,l=a.getStatus();if(!s||y8(l,this.additionalRetryCodes_)&&this.retry){const u=a.getErrorCode()===ko.ABORT;r(!1,new Gd(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Gd(c,a))})},n=(r,i)=>{const a=this.resolve_,o=this.reject_,s=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(s,s.getResponse());m8(l)?a(l):a()}catch(l){o(l)}else if(s!==null){const l=ux();l.serverResponse=s.getErrorText(),this.errorCallback_?o(this.errorCallback_(s,l)):o(l)}else if(i.canceled){const l=this.appDelete_?nj():i8();o(l)}else{const l=r8();o(l)}};this.canceled_?n(!1,new Gd(!1,null,!0)):this.backoffId_=h8(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&p8(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Gd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function b8(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function w8(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function _8(t,e){e&&(t["X-Firebase-GMPID"]=e)}function x8(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function k8(t,e,n,r,i,a,o=!0){const s=rj(t.urlParams),l=t.url+s,c=Object.assign({},t.headers);return _8(c,e),b8(c,n),w8(c,a),x8(c,r),new v8(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E8(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function S8(...t){const e=E8();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(dx())return new Blob(t);throw new kt(xt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function T8(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A8(t){if(typeof atob>"u")throw u8("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ky{constructor(e,n){this.data=e,this.contentType=n||null}}function P8(t,e){switch(t){case Br.RAW:return new Ky(ij(e));case Br.BASE64:case Br.BASE64URL:return new Ky(aj(t,e));case Br.DATA_URL:return new Ky(O8(e),C8(e))}throw ux()}function ij(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,o=t.charCodeAt(++n);r=65536|(a&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function I8(t){let e;try{e=decodeURIComponent(t)}catch{throw au(Br.DATA_URL,"Malformed data URL.")}return ij(e)}function aj(t,e){switch(t){case Br.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw au(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Br.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw au(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=A8(e)}catch(i){throw i.message.includes("polyfill")?i:au(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class oj{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw au(Br.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=N8(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function O8(t){const e=new oj(t);return e.base64?aj(Br.BASE64,e.rest):I8(e.rest)}function C8(t){return new oj(t).contentType}function N8(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,n){let r=0,i="";tT(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(tT(this.data_)){const r=this.data_,i=T8(r,e,n);return i===null?null:new ca(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new ca(r,!0)}}static getBlob(...e){if(dx()){const n=e.map(r=>r instanceof ca?r.data_:r);return new ca(S8.apply(null,n))}else{const n=e.map(o=>fx(o)?P8(Br.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let a=0;return n.forEach(o=>{for(let s=0;s<o.length;s++)i[a++]=o[s]}),new ca(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(t){let e;try{e=JSON.parse(t)}catch{return null}return g8(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R8(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function j8(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function sj(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D8(t,e){return e}class _n{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||D8}}let Xd=null;function M8(t){return!fx(t)||t.length<2?t:sj(t)}function lj(){if(Xd)return Xd;const t=[];t.push(new _n("bucket")),t.push(new _n("generation")),t.push(new _n("metageneration")),t.push(new _n("name","fullPath",!0));function e(a,o){return M8(o)}const n=new _n("name");n.xform=e,t.push(n);function r(a,o){return o!==void 0?Number(o):o}const i=new _n("size");return i.xform=r,t.push(i),t.push(new _n("timeCreated")),t.push(new _n("updated")),t.push(new _n("md5Hash",null,!0)),t.push(new _n("cacheControl",null,!0)),t.push(new _n("contentDisposition",null,!0)),t.push(new _n("contentEncoding",null,!0)),t.push(new _n("contentLanguage",null,!0)),t.push(new _n("contentType",null,!0)),t.push(new _n("metadata","customMetadata",!0)),Xd=t,Xd}function $8(t,e){function n(){const r=t.bucket,i=t.fullPath,a=new En(r,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function L8(t,e,n){const r={};r.type="file";const i=n.length;for(let a=0;a<i;a++){const o=n[a];r[o.local]=o.xform(r,e[o.server])}return $8(r,t),r}function cj(t,e,n){const r=hx(e);return r===null?null:L8(t,r,n)}function V8(t,e,n,r){const i=hx(e);if(i===null||!fx(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const o=encodeURIComponent;return a.split(",").map(c=>{const u=t.bucket,f=t.fullPath,h="/b/"+o(u)+"/o/"+o(f),p=Zm(h,n,r),m=rj({alt:"media",token:c});return p+m})[0]}function F8(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT="prefixes",rT="items";function U8(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[nT])for(const i of n[nT]){const a=i.replace(/\/$/,""),o=t._makeStorageReference(new En(e,a));r.prefixes.push(o)}if(n[rT])for(const i of n[rT]){const a=t._makeStorageReference(new En(e,i.name));r.items.push(a)}return r}function B8(t,e,n){const r=hx(n);return r===null?null:U8(t,e,r)}class px{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mx(t){if(!t)throw ux()}function z8(t,e){function n(r,i){const a=cj(t,i,e);return mx(a!==null),a}return n}function W8(t,e){function n(r,i){const a=B8(t,e,i);return mx(a!==null),a}return n}function q8(t,e){function n(r,i){const a=cj(t,i,e);return mx(a!==null),V8(a,i,t.host,t._protocol)}return n}function gx(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=t8():i=e8():n.getStatus()===402?i=Zz(t.bucket):n.getStatus()===403?i=n8(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function H8(t){const e=gx(t);function n(r,i){let a=e(r,i);return r.getStatus()===404&&(a=Jz(t.path)),a.serverResponse=i.serverResponse,a}return n}function K8(t,e,n,r,i){const a={};e.isRoot?a.prefix="":a.prefix=e.path+"/",n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);const o=e.bucketOnlyServerUrl(),s=Zm(o,t.host,t._protocol),l="GET",c=t.maxOperationRetryTime,u=new px(s,l,W8(t,e.bucket),c);return u.urlParams=a,u.errorHandler=gx(e),u}function G8(t,e,n){const r=e.fullServerUrl(),i=Zm(r,t.host,t._protocol),a="GET",o=t.maxOperationRetryTime,s=new px(i,a,q8(t,n),o);return s.errorHandler=H8(e),s}function X8(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Y8(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=X8(null,e)),r}function Q8(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function s(){let _="";for(let k=0;k<2;k++)_=_+Math.random().toString().slice(2);return _}const l=s();o["Content-Type"]="multipart/related; boundary="+l;const c=Y8(e,r,i),u=F8(c,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,h=`\r
--`+l+"--",p=ca.getBlob(f,r,h);if(p===null)throw l8();const m={name:c.fullPath},y=Zm(a,t.host,t._protocol),v="POST",x=t.maxUploadRetryTime,b=new px(y,v,z8(t,n),x);return b.urlParams=m,b.headers=o,b.body=p.uploadData(),b.errorHandler=gx(e),b}class J8{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ko.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ko.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ko.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw wc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw wc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw wc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw wc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw wc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Z8 extends J8{initXhr(){this.xhr_.responseType="text"}}function yx(){return new Z8}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,n){this._service=e,n instanceof En?this._location=n:this._location=En.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new $o(e,n)}get root(){const e=new En(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return sj(this._location.path)}get storage(){return this._service}get parent(){const e=R8(this._location.path);if(e===null)return null;const n=new En(this._location.bucket,e);return new $o(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw f8(e)}}function eW(t,e,n){t._throwIfRoot("uploadBytes");const r=Q8(t.storage,t._location,lj(),new ca(e,!0),n);return t.storage.makeRequestWithTokens(r,yx).then(i=>({metadata:i,ref:t}))}function tW(t){const e={prefixes:[],items:[]};return uj(t,e).then(()=>e)}async function uj(t,e,n){const i=await nW(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&await uj(t,e,i.nextPageToken)}function nW(t,e){e!=null&&typeof e.maxResults=="number"&&z0("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=K8(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,yx)}function rW(t){t._throwIfRoot("getDownloadURL");const e=G8(t.storage,t._location,lj());return t.storage.makeRequestWithTokens(e,yx).then(n=>{if(n===null)throw c8();return n})}function iW(t,e){const n=j8(t._location.path,e),r=new En(t._location.bucket,n);return new $o(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aW(t){return/^[A-Za-z]+:\/\//.test(t)}function oW(t,e){return new $o(t,e)}function fj(t,e){if(t instanceof vx){const n=t;if(n._bucket==null)throw s8();const r=new $o(n,n._bucket);return e!=null?fj(r,e):r}else return e!==void 0?iW(t,e):t}function sW(t,e){if(e&&aW(e)){if(t instanceof vx)return oW(t,e);throw B0("To use ref(service, url), the first argument must be a Storage instance.")}else return fj(t,e)}function iT(t,e){const n=e==null?void 0:e[tj];return n==null?null:En.makeFromBucketSpec(n,t)}function lW(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:V2(i,t.app.options.projectId))}class vx{constructor(e,n,r,i,a){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=ej,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Yz,this._maxUploadRetryTime=Qz,this._requests=new Set,i!=null?this._bucket=En.makeFromBucketSpec(i,this._host):this._bucket=iT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=En.makeFromBucketSpec(this._url,e):this._bucket=iT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){z0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){z0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new $o(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new d8(nj());{const o=k8(e,this._appId,r,i,n,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const aT="@firebase/storage",oT="0.13.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj="storage";function cW(t,e,n){return t=vt(t),eW(t,e,n)}function uW(t){return t=vt(t),tW(t)}function bx(t){return t=vt(t),rW(t)}function wx(t,e){return t=vt(t),sW(t,e)}function fW(t=g_(),e){t=vt(t);const r=Rm(t,dj).getImmediate({identifier:e}),i=M2("storage");return i&&dW(r,...i),r}function dW(t,e,n,r={}){lW(t,e,n,r)}function hW(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new vx(n,r,i,e,Ko)}function pW(){Co(new Ra(dj,hW,"PUBLIC").setMultipleInstances(!0)),Hr(aT,oT,""),Hr(aT,oT,"esm2017")}pW();const mW={apiKey:"AIzaSyAoA9vGq5gsjRVqngQcfX9wDHv03MFX8Mo",authDomain:"habit-piggy-project.firebaseapp.com",projectId:"habit-piggy-project",storageBucket:"habit-piggy-project.appspot.com",messagingSenderId:"230345565651",appId:"1:230345565651:web:4f5fae0a011a8a355cbb26",measurementId:"G-D5V6H13VEM"},hj=B2(mW),We=Mz(hj),_x=fW(hj),pj=T_();async function gW(t,e){try{const r=(await O6(pj,t,e)).user;console.log("User created: ",r);const i=pt(We,"users",r.uid);await ZR(i,{uid:r.uid,email:r.email,name:"",introduction:"",avatar:"",createdTime:Ye.now(),levelPoints:0,isAcceptReminder:!1,isDarkMode:!1,achievements:[],badges:[]}),console.log("User data created with ID: ",r.uid),Fn(i,"habits"),console.log("Empty habits sub-collection created for user ID: ",r.uid)}catch(n){console.error("Error creating user: ",n.code,n.message)}}async function yW(){try{await D6(pj),console.log("User signed out")}catch(t){console.error("Error signing out: ",t.code,t.message)}}async function mj(t,e){try{const n=pt(We,"users",t);await ZR(n,e,{merge:!0}),console.log("User profile updated with ID: ",t)}catch(n){console.error("Error updating user profile: ",n.code,n.message)}}async function pi(t){try{const e=pt(We,"users",t),n=await qa(e);return n.exists()?n.data():(console.log("No such document!"),{name:"Unknown",levelPoints:0,avatar:await lT("Piggy.png")})}catch(e){return console.error("Error getting user profile: ",e.code,e.message),{name:"Unknown",levelPoints:0,avatar:await lT("Piggy.png")}}}async function sT(){try{const t=Fn(We,"users");return(await ni(t)).docs.map(r=>({id:r.id,...r.data()}))}catch(t){return console.error("Error getting users: ",t.code,t.message),[]}}async function vW(t,e){try{const n=pt(We,"users",t),r=Fn(n,"habits");await cx(r,{...e,createdTime:Ye.now(),updatedTime:Ye.now()}),console.log("Habit added for user ID: ",t)}catch(n){console.error("Error adding habit: ",n.code,n.message)}}async function Lo(t){try{const e=pt(We,"users",t),n=Fn(e,"habits"),r=KR(n,GR("updatedTime","desc"));return(await ni(r)).docs.map(o=>({id:o.id,...o.data()}))}catch(e){return console.error("Error getting habits: ",e.code,e.message),[]}}async function W0(t,e,n){try{const r=pt(We,"users",t,"habits",e);await Ha(r,{...n,updatedTime:Ye.now()})}catch(r){console.error("Error updating habit: ",r.code,r.message)}}async function gj(t,e){try{const n=pt(We,"users",t,"habits",e);await Qm(n),console.log("Habit deleted with ID: ",e)}catch(n){console.error("Error deleting habit: ",n.code,n.message)}}async function yj(t,e){try{const n=Fn(We,"posts"),r=await cx(n,{...e,userID:t,createdTime:Ye.now(),updatedTime:Ye.now()});return console.log("Post added with ID: ",r.id),r.id}catch(n){console.error("Error adding post: ",n.code,n.message)}}async function bW(t,e){try{const n=pt(We,"posts",t);await Ha(n,{...e,updatedTime:Ye.now()}),console.log("Post updated with ID: ",t)}catch(n){console.error("Error updating post: ",n.code,n.message)}}async function wW(t){try{const e=pt(We,"posts",t);await Qm(e),console.log("Post deleted with ID: ",t)}catch(e){console.error("Error deleting post: ",e.code,e.message)}}async function Yd(){try{const t=Fn(We,"posts"),e=KR(t,GR("createdTime","desc"));return(await ni(e)).docs.map(i=>({id:i.id,...i.data()}))}catch(t){return console.error("Error getting posts: ",t.code,t.message),[]}}async function vj(t,e){try{const n=wx(_x,`avatars/${t}`),r=await cW(n,e),i=await bx(r.ref);return console.log("Avatar uploaded: ",i),i}catch(n){return console.error("Error uploading avatar: ",n.code,n.message),null}}async function lT(t){try{const e=wx(_x,`default_avatars/${t}`),n=await bx(e);return console.log("Default avatar URL: ",n),n}catch(e){return console.error("Error getting default avatar: ",e.code,e.message),"https://firebasestorage.googleapis.com/v0/b/habit-piggy-project.appspot.com/o/avatars%2FPiggy.png?alt=media&token=be62eb4e-44a3-46c5-ba6d-bba575da75a8"}}async function _W(t,e){try{const n=pt(We,"posts",t),r=Fn(n,"comments");await cx(r,{...e,createdTime:Ye.now()}),console.log("Comment added to post ID: ",t)}catch(n){console.error("Error adding comment: ",n.code,n.message)}}async function fs(t){try{const e=pt(We,"posts",t),n=Fn(e,"comments");return(await ni(n)).docs.map(a=>({id:a.id,...a.data()}))}catch(e){return console.error("Error getting comments: ",e.code,e.message),[]}}async function xW(t,e,n){try{const r=pt(We,"posts",t,"comments",e);await Ha(r,{...n,updatedTime:Ye.now()}),console.log("Comment updated with ID: ",e)}catch(r){console.error("Error updating comment: ",r.code,r.message)}}async function kW(t,e){try{const n=pt(We,"posts",t,"comments",e);await Qm(n),console.log("Comment deleted with ID: ",e)}catch(n){console.error("Error deleting comment: ",n.code,n.message)}}async function bj(){try{const t=wx(_x,"post_backgrounds"),n=(await uW(t)).items.map(i=>bx(i));return await Promise.all(n)}catch(t){return console.error("Error getting post backgrounds: ",t.code,t.message),[]}}async function EW(t,e){try{const n=pt(We,"posts",t),r=await qa(n);if(r.exists()){const a=r.data().likes||[];a.includes(e)||(a.push(e),await Ha(n,{likes:a}),console.log("Like added to post ID: ",t))}}catch(n){console.error("Error adding like: ",n.code,n.message)}}async function SW(t,e){try{const n=pt(We,"posts",t),r=await qa(n);if(r.exists()){const a=r.data().likes||[],o=a.indexOf(e);if(o>-1){a.splice(o,1),await Ha(n,{likes:a}),console.log("Like removed from post ID: ",t);const s=pt(We,"posts",t,"likes",e);await Qm(s),console.log("Like document removed for user ID: ",e)}}}catch(n){console.error("Error removing like: ",n.code,n.message)}}async function TW(){try{return(await ni(Fn(We,"achievements"))).docs.map(n=>({id:n.id,...n.data()}))}catch(t){return console.error("Error getting achievements: ",t.code,t.message),[]}}async function AW(t){try{const e=pt(We,"users",t),n=await qa(e);return n.exists()?n.data().achievements||[]:(console.log("No such document!"),[])}catch(e){return console.error("Error getting user achievements: ",e.code,e.message),[]}}async function ou(t,e){try{const n=pt(We,"users",t),r=Fn(n,"habits"),a=(await ni(r)).docs.map(c=>({id:c.id,...c.data()}));let o=0;const s=new Date,l=new Date(s.getFullYear(),s.getMonth(),s.getDate());switch(e){case"habit":o=a.reduce((c,u)=>{const f=u.status.filter(h=>h.completed&&new Date(h.date)<l).length;return c+f},0);break;case"savings":o=a.reduce((c,u)=>{const f=u.status.filter(h=>!h.completed&&new Date(h.date)<l).length;return c+u.amount*f},0);break;case"streak":o=a.reduce((c,u)=>{const f=u.status.filter(p=>p.completed&&new Date(p.date)<l).length,h=u.status.filter(p=>new Date(p.date)<l).length;return c+(h>0?f/h:0)},0)/a.length;break;default:throw new Error("Invalid task type")}return o}catch(n){return console.error("Error calculating task value: ",n.code,n.message),0}}async function su(t,e,n){try{const r=await ni(Fn(We,"achievements")),i=pt(We,"users",t),a=await qa(i),o=a.exists()?a.data().achievements||[]:[];r.forEach(async s=>{const l=s.data(),c=l.condition;let u=!1;c.type===e&&(e==="habit"&&n>=c.count?u=!0:e==="savings"&&n>=c.amount||e==="streak"&&n>=c.count),u&&!o.includes(s.id)&&(o.push(s.id),await Ha(i,{achievements:o}),console.log(`Achievement ${l.name} awarded to user ID: ${t}`))})}catch(r){console.error("Error checking and awarding achievements: ",r.code,r.message)}}async function PW(){try{const t=Fn(We,"badges");return(await ni(t)).docs.map(r=>({id:r.id,...r.data()}))}catch(t){return console.error("Error getting badges: ",t.code,t.message),[]}}async function IW(t){try{const e=pt(We,"users",t),n=await qa(e);return n.exists()?n.data().badges||[]:(console.log("No such document!"),[])}catch(e){return console.error("Error getting user badges: ",e.code,e.message),[]}}async function Ks(t){try{const e=pt(We,"users",t),n=Fn(e,"habits");return(await ni(n)).docs.map(o=>({id:o.id,...o.data()})).reduce((o,s)=>{const l=s.category;return o[l]||(o[l]=0),o[l]++,o},{})}catch(e){return console.error("Error calculating badges: ",e.code,e.message),{}}}async function lu(t){try{const e=await ni(Fn(We,"badges")),n=pt(We,"users",t),r=await qa(n),i=r.exists()?r.data().badges||[]:[],a=await Ks(t);e.forEach(async o=>{const s=o.data(),l=s.condition;let c=!1;a[l.category]&&a[l.category]>=l.times&&(c=!0),c&&!i.includes(o.id)&&(i.push(o.id),await Ha(n,{badges:i}),console.log(`Badge ${s.description} awarded to user ID: ${t}`))})}catch(e){console.error("Error checking and awarding badges: ",e.code,e.message)}}async function wj(t,e){try{const n=pt(We,"users",t),r=await qa(n);if(r.exists()){const a=r.data().badges.filter(o=>o.category!==e);await Ha(n,{badges:a}),console.log(`Badge for category ${e} removed for user ID: ${t}`)}}catch(n){console.error("Error removing badge: ",n.code,n.message)}}var _j={exports:{}},OW="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",CW=OW,NW=CW;function xj(){}function kj(){}kj.resetWarningCache=xj;var RW=function(){function t(r,i,a,o,s,l){if(l!==NW){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:kj,resetWarningCache:xj};return n.PropTypes=n,n};_j.exports=RW();var jW=_j.exports;const U=Ke(jW),ri=D.createContext(),Ej=({children:t})=>{const[e,n]=D.useState(null),[r,i]=D.useState(!1),a=T_();return D.useEffect(()=>{const o=j6(a,async s=>{if(s){const l=await pi(s.uid);n({...s,...l}),i(l.isDarkMode||!1)}else n(null),i(!1)});return()=>o()},[a]),D.useEffect(()=>{r?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[r]),g.jsx(ri.Provider,{value:{user:e,setUser:n,isDarkMode:r,setIsDarkMode:i},children:t})};Ej.propTypes={children:U.node};function DW(){const[t,e]=D.useState(""),[n,r]=D.useState(""),[i,a]=D.useState(!0),[o,s]=D.useState(!1),{setUser:l}=D.useContext(ri),c=async()=>{await gW(t,n),alert("Registered successfully"),a(!0),e(""),r("")},u=async()=>{const f=T_();try{const h=await C6(f,t,n);l(h.user),s(!0),console.log("Login with",t,n),e(""),r("")}catch(h){console.error("Error logging in: ",h.code,h.message)}};return o?g.jsx(C2,{to:"/home"}):g.jsxs("div",{className:"p-4 md:py-10 space-y-4",children:[g.jsxs("ul",{className:"grid grid-cols-2 w-full",children:[g.jsx("li",{className:`border border-black-500 rounded-s-full py-1 font-normal text-sm leading-5 text-center ${i?"bg-primary":"bg-black-50"}`,onClick:()=>a(!0),children:"Login"}),g.jsx("li",{className:`border-e border-y border-black-500 rounded-e-full py-1 font-normal text-sm leading-5 text-center ${i?"bg-black-50":"bg-primary"}`,onClick:()=>a(!1),children:"Register"})]}),i?g.jsxs("div",{className:"flex flex-col",children:[g.jsx("label",{htmlFor:"email",className:"font-bold text-base leading-6 mb-2 text-black dark:text-black-0",children:"Email"}),g.jsx("input",{type:"text",name:"email",id:"email",placeholder:"Email",className:"py-2 px-4 w-full rounded-xl border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-base leading-6 mb-4 dark:bg-black-100 placeholder-black",value:t,onChange:f=>e(f.target.value)}),g.jsx("label",{htmlFor:"password",className:"font-bold text-base leading-6 mb-2 text-black dark:text-black-0",children:"Password"}),g.jsx("input",{type:"password",name:"password",id:"password",placeholder:"Password",className:"py-2 px-4 w-full rounded-xl border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-base leading-6 mb-8 dark:bg-black-100 placeholder-black",value:n,onChange:f=>r(f.target.value)}),g.jsx("button",{className:"w-full rounded-lg bg-primary font-bold text-base leading-6 py-2 hover:bg-primary-dark",onClick:u,children:"Login"})]}):g.jsxs("div",{className:"flex flex-col",children:[g.jsx("label",{htmlFor:"email",className:"font-bold text-base leading-6 mb-2 text-black dark:text-black-0",children:"Email"}),g.jsx("input",{type:"text",name:"email",id:"email",placeholder:"Email",className:"py-2 px-4 w-full rounded-xl border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-base leading-6 mb-4 dark:bg-black-100 placeholder-black",value:t,onChange:f=>e(f.target.value)}),g.jsx("label",{htmlFor:"password",className:"font-bold text-base leading-6 mb-2 text-black dark:text-black-0",children:"Password"}),g.jsx("input",{type:"password",name:"password",id:"password",placeholder:"Password",className:"py-2 px-4 w-full rounded-xl border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-base leading-6 mb-8 dark:bg-black-100 placeholder-black",value:n,onChange:f=>r(f.target.value)}),g.jsx("button",{className:"w-full rounded-lg bg-primary font-bold text-base leading-6 py-2 hover:bg-primary-dark",onClick:c,children:"Register"})]})]})}var Sj={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},cT=M.createContext&&M.createContext(Sj),MW=["attr","size","title"];function $W(t,e){if(t==null)return{};var n=LW(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function LW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wp(){return wp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wp.apply(this,arguments)}function uT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _p(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uT(Object(n),!0).forEach(function(r){VW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VW(t,e,n){return e=FW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FW(t){var e=UW(t,"string");return typeof e=="symbol"?e:e+""}function UW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tj(t){return t&&t.map((e,n)=>M.createElement(e.tag,_p({key:n},e.attr),Tj(e.child)))}function $e(t){return e=>M.createElement(BW,wp({attr:_p({},t.attr)},e),Tj(t.child))}function BW(t){var e=n=>{var{attr:r,size:i,title:a}=t,o=$W(t,MW),s=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),M.createElement("svg",wp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:_p(_p({color:t.color||n.color},n.style),t.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),a&&M.createElement("title",null,a),t.children)};return cT!==void 0?M.createElement(cT.Consumer,null,n=>e(n)):e(Sj)}function zW(t){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-1.293 5.953a1 1 0 0 0 -1.32 -.083l-.094 .083l-3.293 3.292l-1.293 -1.292l-.094 -.083a1 1 0 0 0 -1.403 1.403l.083 .094l2 2l.094 .083a1 1 0 0 0 1.226 0l.094 -.083l4 -4l.083 -.094a1 1 0 0 0 -.083 -1.32z"},child:[]}]})(t)}function WW(t){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 3.34a10 10 0 1 1 -15 8.66l.005 -.324a10 10 0 0 1 14.995 -8.336zm-5 2.66a1 1 0 0 0 -1 1a3 3 0 1 0 0 6v2a1.024 1.024 0 0 1 -.866 -.398l-.068 -.101a1 1 0 0 0 -1.732 .998a3 3 0 0 0 2.505 1.5h.161a1 1 0 0 0 .883 .994l.117 .007a1 1 0 0 0 1 -1l.176 -.005a3 3 0 0 0 -.176 -5.995v-2c.358 -.012 .671 .14 .866 .398l.068 .101a1 1 0 0 0 1.732 -.998a3 3 0 0 0 -2.505 -1.501h-.161a1 1 0 0 0 -1 -1zm1 7a1 1 0 0 1 0 2v-2zm-2 -4v2a1 1 0 0 1 0 -2z"},child:[]}]})(t)}function qW(t){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M6.979 3.074a6 6 0 0 1 4.988 1.425l.037 .033l.034 -.03a6 6 0 0 1 4.733 -1.44l.246 .036a6 6 0 0 1 3.364 10.008l-.18 .185l-.048 .041l-7.45 7.379a1 1 0 0 1 -1.313 .082l-.094 -.082l-7.493 -7.422a6 6 0 0 1 3.176 -10.215z"},child:[]}]})(t)}function HW(t){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0"},child:[]},{tag:"path",attr:{d:"M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0"},child:[]},{tag:"path",attr:{d:"M3 6l0 13"},child:[]},{tag:"path",attr:{d:"M12 6l0 13"},child:[]},{tag:"path",attr:{d:"M21 6l0 13"},child:[]}]})(t)}function KW(t){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 11h16a1 1 0 0 1 1 1v.5c0 1.5 -2.517 5.573 -4 6.5v1a1 1 0 0 1 -1 1h-8a1 1 0 0 1 -1 -1v-1c-1.687 -1.054 -4 -5 -4 -6.5v-.5a1 1 0 0 1 1 -1z"},child:[]},{tag:"path",attr:{d:"M19 7l-14 1"},child:[]},{tag:"path",attr:{d:"M19 2l-14 3"},child:[]}]})(t)}function GW(t){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 7a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12zm12 -4v4m-8 -4v4m-4 4h16m-9.995 3h.01m3.99 0h.01"},child:[]},{tag:"path",attr:{d:"M10.005 17a3.5 3.5 0 0 0 4 0"},child:[]}]})(t)}function XW(t){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M7 9m0 2a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v6a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2z"},child:[]},{tag:"path",attr:{d:"M14 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"},child:[]},{tag:"path",attr:{d:"M17 9v-2a2 2 0 0 0 -2 -2h-10a2 2 0 0 0 -2 2v6a2 2 0 0 0 2 2h2"},child:[]}]})(t)}function YW(t){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12l5 5l10 -10"},child:[]}]})(t)}function QW(t){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 9l6 6l6 -6"},child:[]}]})(t)}function JW(t){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 6l-6 6l6 6"},child:[]}]})(t)}function ZW(t){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 6l6 6l-6 6"},child:[]}]})(t)}function eq(t){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"},child:[]},{tag:"path",attr:{d:"M9 12l2 2l4 -4"},child:[]}]})(t)}function Aj(t){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"},child:[]},{tag:"path",attr:{d:"M14.8 9a2 2 0 0 0 -1.8 -1h-2a2 2 0 1 0 0 4h2a2 2 0 1 1 0 4h-2a2 2 0 0 1 -1.8 -1"},child:[]},{tag:"path",attr:{d:"M12 7v10"},child:[]}]})(t)}function tq(t){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]}]})(t)}function nq(t){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 11v-3.5a1.5 1.5 0 0 1 3 0v2.5"},child:[]},{tag:"path",attr:{d:"M11 9.5v-3a1.5 1.5 0 0 1 3 0v3.5"},child:[]},{tag:"path",attr:{d:"M14 7.5a1.5 1.5 0 0 1 3 0v2.5"},child:[]},{tag:"path",attr:{d:"M17 9.5a1.5 1.5 0 0 1 3 0v4.5a6 6 0 0 1 -6 6h-2h.208a6 6 0 0 1 -5.012 -2.7l-.196 -.3c-.312 -.479 -1.407 -2.388 -3.286 -5.728a1.5 1.5 0 0 1 .536 -2.022a1.867 1.867 0 0 1 2.28 .28l1.47 1.47"},child:[]}]})(t)}function rq(t){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19.5 12.572l-7.5 7.428l-7.5 -7.428a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"},child:[]}]})(t)}function iq(t){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12l-2 0l9 -9l9 9l-2 0"},child:[]},{tag:"path",attr:{d:"M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7"},child:[]},{tag:"path",attr:{d:"M10 12h4v4h-4z"},child:[]}]})(t)}function aq(t){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"},child:[]},{tag:"path",attr:{d:"M12 9h.01"},child:[]},{tag:"path",attr:{d:"M11 12h1v4h1"},child:[]}]})(t)}function oq(t){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z"},child:[]},{tag:"path",attr:{d:"M15 4l0 16"},child:[]}]})(t)}function sq(t){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2"},child:[]},{tag:"path",attr:{d:"M9 12h12l-3 -3"},child:[]},{tag:"path",attr:{d:"M18 15l3 -3"},child:[]}]})(t)}function lq(t){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 3h6l3 7l-6 2l-6 -2z"},child:[]},{tag:"path",attr:{d:"M12 12l-3 -9"},child:[]},{tag:"path",attr:{d:"M15 11l-3 -8"},child:[]},{tag:"path",attr:{d:"M12 19.5l-3 1.5l.5 -3.5l-2 -2l3 -.5l1.5 -3l1.5 3l3 .5l-2 2l.5 3.5z"},child:[]}]})(t)}function cq(t){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 4a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-5l-5 3v-3h-2a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12z"},child:[]},{tag:"path",attr:{d:"M9.5 9h.01"},child:[]},{tag:"path",attr:{d:"M14.5 9h.01"},child:[]},{tag:"path",attr:{d:"M9.5 13a3.5 3.5 0 0 0 5 0"},child:[]}]})(t)}function uq(t){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 9h8"},child:[]},{tag:"path",attr:{d:"M8 13h6"},child:[]},{tag:"path",attr:{d:"M18 4a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-5l-5 3v-3h-2a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12z"},child:[]}]})(t)}function fq(t){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12a9 9 0 1 0 -8.012 8.946"},child:[]},{tag:"path",attr:{d:"M9 10h.01"},child:[]},{tag:"path",attr:{d:"M15 10h.01"},child:[]},{tag:"path",attr:{d:"M9.5 15a3.59 3.59 0 0 0 2.774 .99"},child:[]},{tag:"path",attr:{d:"M18.994 21.5l2.518 -2.58a1.74 1.74 0 0 0 .004 -2.413a1.627 1.627 0 0 0 -2.346 -.005l-.168 .172l-.168 -.172a1.627 1.627 0 0 0 -2.346 -.004a1.74 1.74 0 0 0 -.004 2.412l2.51 2.59z"},child:[]}]})(t)}function dq(t){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"},child:[]},{tag:"path",attr:{d:"M9 10l.01 0"},child:[]},{tag:"path",attr:{d:"M15 10l.01 0"},child:[]},{tag:"path",attr:{d:"M9.5 15a3.5 3.5 0 0 0 5 0"},child:[]}]})(t)}function hq(t){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 8h.01"},child:[]},{tag:"path",attr:{d:"M3 6a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v12a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3v-12z"},child:[]},{tag:"path",attr:{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l5 5"},child:[]},{tag:"path",attr:{d:"M14 14l1 -1c.928 -.893 2.072 -.893 3 0l3 3"},child:[]}]})(t)}function pq(t){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M7 15h10v4a2 2 0 0 1 -2 2h-6a2 2 0 0 1 -2 -2v-4z"},child:[]},{tag:"path",attr:{d:"M12 9a6 6 0 0 0 -6 -6h-3v2a6 6 0 0 0 6 6h3"},child:[]},{tag:"path",attr:{d:"M12 11a6 6 0 0 1 6 -6h3v1a6 6 0 0 1 -6 6h-3"},child:[]},{tag:"path",attr:{d:"M12 15l0 -6"},child:[]}]})(t)}function mq(t){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 5l0 14"},child:[]},{tag:"path",attr:{d:"M5 12l14 0"},child:[]}]})(t)}function gq(t){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 13a8 8 0 0 1 7 7a6 6 0 0 0 3 -5a9 9 0 0 0 6 -8a3 3 0 0 0 -3 -3a9 9 0 0 0 -8 6a6 6 0 0 0 -5 3"},child:[]},{tag:"path",attr:{d:"M7 14a6 6 0 0 0 -3 6a6 6 0 0 0 6 -3"},child:[]},{tag:"path",attr:{d:"M15 9m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]}]})(t)}function yq(t){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4.698 4.034l16.302 7.966l-16.302 7.966a.503 .503 0 0 1 -.546 -.124a.555 .555 0 0 1 -.12 -.568l2.468 -7.274l-2.468 -7.274a.555 .555 0 0 1 .12 -.568a.503 .503 0 0 1 .546 -.124z"},child:[]},{tag:"path",attr:{d:"M6.5 12h14.5"},child:[]}]})(t)}function vq(t){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z"},child:[]},{tag:"path",attr:{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0"},child:[]}]})(t)}function bq(t){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M13 4m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M7 21l3 -4"},child:[]},{tag:"path",attr:{d:"M16 21l-2 -4l-3 -3l1 -6"},child:[]},{tag:"path",attr:{d:"M6 12l2 -3l4 -1l3 3l3 1"},child:[]}]})(t)}function wq(t){return $e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 6l-12 12"},child:[]},{tag:"path",attr:{d:"M6 6l12 12"},child:[]}]})(t)}const _c={TbHome2:iq,TbCoin:Aj,TbMedal2:lq,TbMessage:uq,TbMoodSmile:dq},pn={TbRocket:gq,TbBook:HW,TbWalk:bq,TbBowlChopsticks:KW,TbMoodHeart:fq,TbHandGrab:nq,TbCash:XW,TbPlant:pq},xx={TbCheck:YW},xp={TbChevronLeft:JW,TbChevronRight:ZW},_q={TbCalendarSmile:GW},xq={TbPlus:mq},Tt={TbX:wq,TbInfoCircle:aq},kq={TbChevronDown:QW},Bc={TbHeart:rq,TbHeartFilled:qW,TbMessageChatbot:cq,TbDots:tq,TbSend2:yq},ds={TbCircleCheck:eq,TbCircleCheckFilled:zW,TbCoin:Aj,TbCoinFilled:WW},Pj={TbSettings:vq,TbPhoto:hq},fT={TbLogout:sq,TbLayoutSidebarRight:oq},Ij=({date:t,onSelect:e,onWeekChange:n})=>{const[r]=D.useState(["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]),[i]=D.useState(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),[a,o]=D.useState(null),[s,l]=D.useState(null),[c,u]=D.useState(null);D.useEffect(()=>{const _=new Date;l({year:_.getFullYear(),month:_.getMonth(),day:_.getDate()}),o(t?{...t}:{year:_.getFullYear(),month:_.getMonth(),day:_.getDate()})},[t]),D.useEffect(()=>{if(a){const _=new Date(a.year,a.month,a.day-new Date(a.year,a.month,a.day).getDay()),k=[];for(let S=0;S<7;S++){const I=new Date(_);I.setDate(_.getDate()+S),k.push({year:I.getFullYear(),month:I.getMonth(),day:I.getDate()})}n(k)}},[a,n]);const f=()=>{if(!a)return[];const _=[],k=a.year,S=a.month,I=a.day,T=new Date(k,S,I-new Date(k,S,I).getDay());for(let E=0;E<7;E++){const P=new Date(T);P.setDate(T.getDate()+E),_.push({value:P.getDate(),year:P.getFullYear(),month:P.getMonth()})}return _},h=_=>{p(_)},p=_=>{o(k=>{const S=new Date(k.year,k.month,k.day+(_?7:-7)),I=new Date(S.getFullYear(),S.getMonth(),S.getDate()-S.getDay()),T={year:I.getFullYear(),month:I.getMonth(),day:I.getDate()};return u(T),e(T),{year:S.getFullYear(),month:S.getMonth(),day:S.getDate()}})},m=_=>{const k={...a,day:_.value,month:_.month,year:_.year};u(k),e(k)},y=_=>_.value===s.day&&s.year===_.year&&s.month===_.month,v=_=>c&&_.value===c.day&&c.year===_.year&&c.month===_.month;if(!a)return null;const x=new Date(a.year,a.month,a.day-new Date(a.year,a.month,a.day).getDay()),b=`${i[x.getMonth()]} ${x.getFullYear()}`;return g.jsxs("div",{className:"p-4 md:pt-6 bg-black-50 dark:bg-black-800 rounded-b-3xl",children:[g.jsxs("div",{className:"flex justify-between mb-3",children:[g.jsx("button",{onClick:()=>h(!1),children:g.jsx(xp.TbChevronLeft,{className:"w-6 h-6 text-black dark:text-black-0 hover:text-alert"})}),g.jsx("h1",{className:"font-bold text-lg leading-6 text-black dark:text-black-0",children:b}),g.jsx("button",{onClick:()=>h(!0),children:g.jsx(xp.TbChevronRight,{className:"w-6 h-6 text-black dark:text-black-0 hover:text-alert"})})]}),g.jsx("div",{className:"grid grid-cols-7 gap-y-1 gap-x-2 md:gap-x-4 text-center",children:f().map((_,k)=>g.jsxs("div",{className:`py-1 px-1 flex flex-col items-center gap-1 rounded-lg cursor-pointer ${y(_)?"bg-primary":v(_)?"bg-primary-light":"bg-transparent hover:bg-primary-light"}`,onClick:()=>m(_),children:[g.jsx("div",{className:`font-bold text-lg leading-6 ${y(_)?"text-black dark:text-black-0-0":v(_)?"text-black":"text-black dark:text-black-0"}`,children:_.value}),g.jsx("div",{className:`font-medium text-sm leading-5 ${y(_)?"text-black dark:text-black-0-0":v(_)?"text-black":"text-black dark:text-black-0"}`,children:r[new Date(_.year,_.month,_.value).getDay()]})]},k))})]})};Ij.propTypes={date:U.object,onSelect:U.func,onWeekChange:U.func.isRequired};const Pa=({options:t,value:e,onChange:n})=>{const[r,i]=D.useState(!1),a=s=>{n(s),i(!1)},o=t.find(s=>s.value===e)||t[0];return g.jsxs("div",{className:"relative inline-block w-full",children:[g.jsxs("div",{className:"border border-black-500 rounded-2xl px-4 py-0.5 bg-white cursor-pointer flex justify-between items-center",onClick:()=>i(!r),children:[g.jsx("span",{children:o.label}),g.jsx(kq.TbChevronDown,{className:"w-6 h-6 text-black"})]}),r&&g.jsx("ul",{className:"absolute right-0 z-10 mt-1 min-w-fit w-full bg-white border border-black-500 rounded-2xl shadow-lg text-center overflow-hidden",children:t.map(s=>g.jsx("li",{className:"px-4 py-2 hover:bg-primary-light cursor-pointer",onClick:()=>a(s.value),children:s.label},s.value))})]})};Pa.propTypes={options:U.array.isRequired,value:U.string.isRequired,onChange:U.func.isRequired};const kx=({profileData:t,handleSettingModal:e,handleSaveAndClose:n})=>{const{setIsDarkMode:r,user:i}=D.useContext(ri),[a,o]=D.useState(t);D.useEffect(()=>{o(t)},[t]);const s=a.isDarkMode?"true":"false",l=a.isAcceptReminder?"true":"false",c=[{value:"false",label:"淺色"},{value:"true",label:"深色"}],u=[{value:"false",label:"否"},{value:"true",label:"是"}],f=m=>{o(y=>({...y,isDarkMode:m==="true"})),r(m==="true")},h=m=>{const{name:y,value:v,files:x}=m.target;if(y==="avatar"&&x&&x[0]){const b=m.target.files[0],_=["image/jpeg","image/jpg","image/png","image/gif"];if(!b||!_.includes(b.type))return;o(k=>({...k,avatar:URL.createObjectURL(b),avatarFile:b}))}else o(b=>({...b,[y]:v}))},p=async()=>{try{if(a.avatarFile){const m=await vj(i.uid,a.avatarFile);a.avatar=m}await mj(i.uid,a),n(a)}catch(m){console.error("更新資料失敗",m)}};return g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("h3",{className:"font-bold text-lg leading-7 text-black dark:text-black-0",children:"設定"}),g.jsx(Tt.TbX,{className:"w-8 h-8 cursor-pointer hover:text-alert text-black dark:text-black-0",onClick:e})]}),g.jsxs("div",{children:[g.jsx("p",{className:"mb-1 font-normal text-base leading-6 text-black dark:text-black-0",children:"會員頭像"}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("img",{src:a.avatar,alt:"user's avatar",className:"w-12 h-12 rounded-full"}),g.jsxs("div",{className:"space-y-1",children:[g.jsxs("div",{className:"relative inline-block",children:[g.jsx("input",{type:"file",name:"avatar",id:"profile",onChange:h,accept:"image/jpg,image/jpeg,image/png,image/gif",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer hidden"}),g.jsxs("label",{htmlFor:"profile",className:"cursor-pointer bg-primary text-black font-medium text-sm leading-5 py-1 px-2 rounded-lg flex items-center gap-2 hover:bg-primary-dark",children:[g.jsx(Pj.TbPhoto,{className:"w-5 h-5"}),"更換頭像"]})]}),g.jsx("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:"您的頭像將會被公開。"})]})]})]}),g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsx("label",{htmlFor:"name",className:"mb-1 font-normal text-base leading-6 text-black dark:text-black-0",children:"會員名稱"}),g.jsx("input",{type:"text",name:"name",id:"name",placeholder:"會員名稱",className:"px-4 py-1 w-full rounded border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-base leading-6",value:a.name||"",onChange:h})]}),g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsx("label",{htmlFor:"introduction",className:"mb-1 font-normal text-base leading-6 text-black dark:text-black-0",children:"自我介紹"}),g.jsx("input",{type:"text",name:"introduction",id:"introduction",placeholder:"自我介紹",className:"px-4 py-1 w-full rounded border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-base leading-6",value:a.introduction||"",onChange:h})]}),g.jsx("div",{className:"border"}),g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:"主題色彩"}),g.jsx("div",{className:"relative w-fit text-nowrap",children:g.jsx(Pa,{options:c,value:s,onChange:f})})]}),g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:"接收 Email 提醒"}),g.jsx("div",{className:"relative w-fit",children:g.jsx(Pa,{options:u,value:l,onChange:m=>o(y=>({...y,isAcceptReminder:m==="true"}))})})]}),g.jsx("button",{className:"text-center w-full bg-primary rounded-xl font-medium text-sm leading-5 py-1 hover:bg-primary-dark",onClick:p,children:"儲存"})]})};kx.propTypes={profileData:U.object.isRequired,handleSaveAndClose:U.func.isRequired,handleSettingModal:U.func.isRequired};const or=({isOpen:t,children:e})=>{if(!t)return null;const n=M.isValidElement(e)&&e.type===kx;return g.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:g.jsx("div",{className:"rounded-2xl py-6 px-4 w-11/12 md:w-1/3 h-fit bg-black-50 dark:bg-black-600 max-h-[80vh] overflow-auto space-y-4 ",children:e})})};or.propTypes={isOpen:U.bool.isRequired,children:U.node.isRequired};const Ex=({date:t,onSelect:e})=>{const[n]=D.useState(["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]),[r]=D.useState(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),[i,a]=D.useState(null),[o,s]=D.useState(null);D.useEffect(()=>{const m=new Date;s({year:m.getFullYear(),month:m.getMonth(),day:m.getDate()}),a(t?{...t}:{year:m.getFullYear(),month:m.getMonth(),day:m.getDate()})},[t]);const l=()=>{if(!i)return[];const m=[],y=i.year,v=i.month,x=new Date(y,v,1),b=new Date(y,v+1,0),_=x.getDay(),k=b.getDate();for(let S=0;S<_;S++)m.push(null);for(let S=1;S<=k;S++)m.push({value:S,year:y,month:v});return m},c=m=>{u(m)},u=m=>{a(y=>{const v=new Date(y.year,y.month+(m?1:-1),1);return{year:v.getFullYear(),month:v.getMonth(),day:v.getDate()}})},f=m=>{const y={...i,day:m.value,month:m.month,year:m.year};e(y)},h=m=>m&&m.value===o.day&&o.year===m.year&&o.month===m.month;if(!i)return null;const p=`${r[i.month]} ${i.year}`;return g.jsxs("div",{className:"p-4 bg-light dark:bg-black-800 rounded-2xl",children:[g.jsxs("div",{className:"flex justify-between mb-3",children:[g.jsx("button",{onClick:()=>c(!1),children:g.jsx(xp.TbChevronLeft,{className:"w-6 h-6 text-black dark:text-black-0 hover:text-alert"})}),g.jsx("h1",{className:"font-bold text-base leading-6 text-black dark:text-black-0",children:p}),g.jsx("button",{onClick:()=>c(!0),children:g.jsx(xp.TbChevronRight,{className:"w-6 h-6 text-black dark:text-black-0 hover:text-alert"})})]}),g.jsxs("div",{className:"grid grid-cols-7 text-center gap-1",children:[n.map((m,y)=>g.jsx("div",{className:"font-medium text-sm leading-5 text-black dark:text-black-0",children:m},y)),l().map((m,y)=>g.jsx("div",{className:`rounded-full aspect-square flex items-center justify-center cursor-pointer ${h(m)?"bg-primary":"bg-white hover:bg-primary-light"}`,onClick:()=>m&&f(m),children:m?m.value:""},y))]})]})};Ex.propTypes={date:U.object,onSelect:U.func};const eg=({options:t,value:e,onChange:n})=>{const r=a=>{n(a)},i=t.find(a=>a.id===e);return g.jsx("div",{className:"w-full",children:g.jsx("ul",{className:"grid grid-cols-4 gap-2",children:t.map(a=>g.jsxs("li",{className:"w-16 h-fit cursor-pointer flex flex-col items-center gap-1 text-nowrap font-normal text-xs leading-4",onClick:()=>r(a.id),children:[g.jsx("div",{className:`w-10 h-10 rounded-full flex justify-center items-center ${i&&i.id===a.id?"bg-primary":"bg-black-200 hover:bg-primary"}`,children:g.jsx(a.icon,{className:"w-8 h-8"})}),g.jsx("p",{className:"text-black dark:text-black-0",children:a.name})]},a.id))})})};eg.propTypes={options:U.array.isRequired,value:U.any,onChange:U.func.isRequired};eg.defaultProps={value:null};const Oj=({habitData:t,handleHabitChange:e,handleAddHabit:n,handleFocus:r,showMonthCalendar:i,calendarRef:a,handleHabitModal:o,habitCategories:s,setHabitData:l,monthCalendarDate:c,handleMonthCalendarSelectDate:u,setCalendarTarget:f,setShowMonthCalendar:h})=>{const[p,m]=D.useState(t.frequency.days||[]);D.useEffect(()=>{m(t.frequency.days||[])},[t.frequency.days]);const y=k=>{const S=p.includes(k)?p.filter(I=>I!==k):[...p,k];m(S),l(I=>({...I,frequency:{...I.frequency,days:S}}))},v=D.useRef(null),x=D.useRef(null),b=()=>{f("startDate"),h(!0)},_=()=>{f("endDate"),h(!0)};return g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex justify-between items-center gap-4",children:[g.jsx("div",{className:"flex items-center gap-4 w-full",children:g.jsx("input",{type:"text",name:"title",placeholder:"輸入習慣名稱",className:"py-1.5 px-4 w-full rounded-xl border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-sm leading-5 dark:bg-black-100 placeholder-black",value:t.title,onChange:e})}),g.jsx(Tt.TbX,{className:"w-6 h-6 hover:text-alert cursor-pointer text-black dark:text-black-0",onClick:o})]}),g.jsxs("div",{className:"flex justify-between items-start gap-4",children:[g.jsxs("div",{className:"relative flex items-center gap-1 group",children:[g.jsxs("label",{htmlFor:"category",className:"text-nowrap text-black dark:text-black-0 group-hover:relative",children:["習慣類別",g.jsx("span",{className:"absolute -bottom-1 left-24 transform -translate-x-0 w-max p-2 bg-primary-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto z-50 before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"你想要培養什麼類別的習慣呢？"})]}),g.jsx(Tt.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200"})]}),g.jsx(eg,{options:s,value:t.category,onChange:k=>e({target:{name:"category",value:k}})})]}),g.jsxs("div",{className:"flex justify-between gap-4",children:[g.jsxs("div",{className:"relative flex items-center gap-1 group",children:[g.jsxs("label",{htmlFor:"frequency",className:"text-nowrap text-black dark:text-black-0 group-hover:relative",children:["習慣頻率",g.jsx("span",{className:"absolute -bottom-1 left-24 transform -translate-x-0 w-max p-2 bg-primary-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"你想要每天、每週還是在特定日期培養習慣呢？"})]}),g.jsx(Tt.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200"})]}),g.jsxs("div",{className:"w-full grid grid-cols-3 gap-3",children:[g.jsxs("div",{children:[g.jsx("input",{type:"radio",name:"frequency",id:"daily",value:"daily",className:"appearance-none hidden",checked:t.frequency.type==="daily",onChange:e}),g.jsx("label",{htmlFor:"daily",className:`font-normal text-sm leading-5 block text-center py-px rounded border ${t.frequency.type==="daily"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"每日"})]}),g.jsxs("div",{children:[g.jsx("input",{type:"radio",name:"frequency",id:"weekly",value:"weekly",className:"appearance-none hidden",checked:t.frequency.type==="weekly",onChange:e}),g.jsx("label",{htmlFor:"weekly",className:`font-normal text-sm leading-5 block text-center py-px rounded border ${t.frequency.type==="weekly"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"每週"})]}),g.jsxs("div",{children:[g.jsx("input",{type:"radio",name:"frequency",id:"specificDays",value:"specificDays",className:"appearance-none hidden",checked:t.frequency.type==="specificDays",onChange:e}),g.jsx("label",{htmlFor:"specificDays",className:`font-normal text-sm leading-5 block text-center py-px rounded border ${t.frequency.type==="specificDays"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"特定日期"})]})]})]}),t.frequency.type==="specificDays"&&g.jsx("div",{className:"grid grid-cols-7 gap-2 md:gap-4",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((k,S)=>g.jsxs("div",{className:"text-center flex flex-col justify-center items-center gap-1 text-black dark:text-black-0",children:[k,g.jsx(xx.TbCheck,{className:`w-10 h-10 rounded-full p-1 border border-black-500 dark:border-black-300 ${p.includes(k)?"bg-primary text-white border-primary dark:border-primary":"text-black dark:text-black-0 hover:bg-primary-light"}`,onClick:()=>y(k)})]},S))}),g.jsxs("div",{className:"flex justify-between gap-4",children:[g.jsxs("div",{className:"relative flex items-center gap-1 group",children:[g.jsxs("label",{htmlFor:"type",className:"text-nowrap text-black dark:text-black-0 group-hover:relative",children:["習慣類型",g.jsx("span",{className:"absolute -bottom-1 left-24 transform -translate-x-0 w-max p-2 bg-primary-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"你想要養成還是戒除呢？"})]}),g.jsx(Tt.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200"})]}),g.jsxs("div",{className:"w-full grid grid-cols-2 gap-3",children:[g.jsxs("div",{children:[g.jsx("input",{type:"radio",name:"type",id:"to-do",value:"to-do",className:"appearance-none hidden",checked:t.type==="to-do",onChange:e}),g.jsx("label",{htmlFor:"to-do",className:`font-normal text-sm leading-5 block text-center py-px rounded border ${t.type==="to-do"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"養成"})]}),g.jsxs("div",{children:[g.jsx("input",{type:"radio",name:"type",id:"not-to-do",value:"not-to-do",className:"appearance-none hidden",checked:t.type==="not-to-do",onChange:e}),g.jsx("label",{htmlFor:"not-to-do",className:`font-normal text-sm leading-5 block text-center py-px rounded border ${t.type==="not-to-do"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"戒除"})]})]})]}),g.jsxs("div",{className:"flex justify-between gap-4",children:[g.jsxs("div",{className:"relative flex items-center gap-1 group",children:[g.jsxs("label",{htmlFor:"amount",className:"text-nowrap text-black dark:text-black-0 group-hover:relative",children:["習慣罰款",g.jsx("span",{className:"absolute -bottom-1 left-24 transform -translate-x-0 w-max p-2 bg-primary-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"如果沒有完成習慣，你願意支付多少罰款呢？"})]}),g.jsx(Tt.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200"})]}),g.jsxs("div",{className:"flex gap-2 w-full",children:[g.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:"NT$"}),g.jsx("input",{type:"number",name:"amount",id:"amount",className:"px-4 text-end w-full rounded border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-sm leading-5 no-spinner dark:bg-black-100 dark:placeholder-black-400",placeholder:"請輸入未完成習慣的罰款",value:t.amount,onChange:e,min:0,onKeyDown:k=>k.key==="-"&&k.preventDefault()})]})]}),g.jsxs("div",{className:"flex justify-between gap-4 w-full",children:[g.jsxs("div",{className:"relative flex items-center gap-1 group",children:[g.jsxs("label",{htmlFor:"time",className:"text-nowrap text-black dark:text-black-0 group-hover:relative",children:["養成期間",g.jsx("span",{className:"absolute -bottom-1 left-24 transform -translate-x-0 w-max p-2 bg-primary-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto z-50 before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"你想要從哪一天開始、哪一天結束培養這個習慣呢？"})]}),g.jsx(Tt.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200"})]}),g.jsxs("div",{className:"border border-black-300 w-full rounded py-0.5 px-4 flex justify-between items-center bg-black-0 dark:bg-black-100 relative",children:[g.jsx("button",{className:"text-center w-1/2 font-normal text-sm leading-5 text-black",onClick:b,children:t.startDate||"開始日期"}),g.jsx("p",{className:"px-2 text-black dark:text-black-0-300 font-normal text-sm leading-5",children:"-"}),g.jsx("button",{className:"text-center w-1/2 font-normal text-sm leading-5 text-black",onClick:_,children:t.endDate||"結束日期"})]}),g.jsx("input",{type:"text",name:"startDate",id:"startDate",className:"hidden",ref:v,placeholder:"開始日期",value:t.startDate,onFocus:()=>r("startDate"),onChange:e}),g.jsx("input",{type:"text",name:"endDate",id:"endDate",className:"hidden",ref:x,placeholder:"結束日期",value:t.endDate,onFocus:()=>r("endDate"),onChange:e}),i&&g.jsx("div",{ref:a,className:"w-3/5 md:w-1/6 absolute bottom-0 md:-bottom-12 2xl:-bottom-16 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-10",children:g.jsx(Ex,{date:c,onSelect:u})})]}),g.jsx("button",{className:"w-full rounded-lg bg-primary font-medium text-sm leading-5 py-1 hover:bg-primary-dark",onClick:n,children:"養成習慣"})]})};Oj.propTypes={habitData:U.object.isRequired,handleHabitChange:U.func.isRequired,handleAddHabit:U.func.isRequired,handleFocus:U.func.isRequired,showMonthCalendar:U.bool.isRequired,calendarTarget:U.string.isRequired,selectedDate:U.object.isRequired,handleSelectDate:U.func.isRequired,calendarRef:U.object.isRequired,handleHabitModal:U.func.isRequired,habitCategories:U.array.isRequired,setHabitData:U.func.isRequired,monthCalendarDate:U.object.isRequired,handleMonthCalendarSelectDate:U.func.isRequired,setCalendarTarget:U.func.isRequired,setShowMonthCalendar:U.func.isRequired};const Sx=({selectedHabit:t,handleDetailModal:e,uncompletedFine:n,handleEditModal:r,habitCategories:i})=>{const a=i.find(u=>u.id===t.category),o=a?a.icon:null,s=u=>{switch(u.type){case"daily":return"每日";case"weekly":return"每週";case"specificDays":return"特定日期";default:return""}},l=[{bottom:0,left:0},{bottom:2,left:-1},{bottom:-1,left:-2},{bottom:2,left:0},{bottom:1,left:-1},{bottom:2,left:-2},{bottom:-2,left:1},{bottom:2,left:1}],c=u=>{const f=u.bottom>=0?`bottom-${u.bottom}`:`-bottom-${Math.abs(u.bottom)}`,h=u.left>=0?`left-${u.left}`:`-left-${Math.abs(u.left)}`;return`${f} ${h}`};return g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsxs("div",{className:"flex gap-4 items-center",children:[g.jsx("div",{className:"w-10 h-10 bg-primary rounded-full flex items-center justify-center",children:o&&g.jsx(o,{className:"w-8 h-8"})}),g.jsx("div",{className:"flex flex-col",children:g.jsx("div",{className:"flex items-center gap-2",children:g.jsx("h3",{className:"font-bold text-lg leading-6 text-black dark:text-black-0",children:t.title})})})]}),g.jsx(Tt.TbX,{className:"w-6 h-6 hover:text-alert cursor-pointer text-black dark:text-black-0",onClick:e})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("h3",{className:"text-black dark:text-black-0",children:"養成頻率："}),g.jsx("p",{className:"text-black dark:text-black-0",children:s(t.frequency)})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("h3",{className:"text-black dark:text-black-0",children:"養成期間："}),g.jsxs("p",{className:"text-black dark:text-black-0",children:[t.startDate,"～",t.endDate]})]}),g.jsx("div",{className:"grid grid-cols-5 md:grid-cols-7 2xl:grid-cols-10 gap-2 md:gap-3 max-h-40 overflow-y-auto overflow-x-hidden",children:t.status.map((u,f)=>g.jsx("div",{className:"border border-black-500 dark:border-black-300 rounded aspect-square bg-black-50 relative",children:u.completed&&g.jsx("div",{className:`border-2 border-alert rounded-full aspect-square flex justify-center items-center absolute ${c(l[f%l.length])}`,children:g.jsx("p",{className:"font-lobster font-normal text-sm leading-5 text-alert -rotate-[30deg] p-1 w-12 h-10 flex items-center justify-center",children:new Date(u.date).toLocaleDateString("zh-TW",{month:"2-digit",day:"2-digit"})})})},f))}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("p",{className:"text-black dark:text-black-0",children:"累積存款："}),g.jsxs("p",{className:"text-black dark:text-black-0",children:["NT$ ",n]})]}),g.jsx("button",{className:"py-1 w-full bg-primary hover:bg-primary-dark rounded-lg font-medium text-sm leading-5",onClick:()=>r(t),children:"編輯習慣"})]})};Sx.propTypes={selectedHabit:U.object.isRequired,handleDetailModal:U.func.isRequired,handlePostModal:U.func.isRequired,uncompletedFine:U.number.isRequired,handleEditModal:U.func.isRequired,habitCategories:U.array.isRequired};const Tx=({habitData:t,handleHabitChange:e,handleUpdateHabit:n,handleDeleteHabit:r,handleFocus:i,showMonthCalendar:a,calendarRef:o,handleEditModal:s,habitCategories:l,setHabitData:c,monthCalendarDate:u,handleMonthCalendarSelectDate:f,setCalendarTarget:h,setShowMonthCalendar:p})=>{const[m,y]=D.useState(t.frequency.days||[]);D.useEffect(()=>{y(t.frequency.days||[])},[t.frequency.days]);const v=I=>{const T=m.includes(I)?m.filter(E=>E!==I):[...m,I];y(T),c(E=>{const P={...E.frequency,days:T},O=x(E.startDate,E.endDate,P);return{...E,frequency:P,status:O}})},x=(I,T,E)=>{const P=new Date(I),O=new Date(T),N=[];if(E.type==="daily")for(let R=P;R<=O;R.setDate(R.getDate()+1))N.push({date:new Date(R).toDateString(),completed:!1});else if(E.type==="weekly")for(let R=P;R<=O;R.setDate(R.getDate()+7))N.push({date:new Date(R).toDateString(),completed:!1});else if(E.type==="specificDays"){const R=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],C=E.days||[];for(let L=P;L<=O;L.setDate(L.getDate()+1))C.includes(R[L.getDay()])&&N.push({date:new Date(L).toDateString(),completed:!1})}return N},b=D.useRef(null),_=D.useRef(null),k=()=>{h("startDate"),p(!0)},S=()=>{h("endDate"),p(!0)};return g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex justify-between items-center gap-4",children:[g.jsx("div",{className:"flex items-center gap-4 w-full",children:g.jsx("input",{type:"text",name:"title",placeholder:"輸入習慣名稱",className:"py-1.5 px-4 w-full rounded-xl border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-sm leading-5 dark:bg-black-100 dark:placeholder-black",value:t.title,onChange:e})}),g.jsx(Tt.TbX,{className:"w-6 h-6 hover:text-alert cursor-pointer text-black dark:text-black-0",onClick:s})]}),g.jsxs("div",{className:"flex justify-between items-start gap-4",children:[g.jsxs("div",{className:"relative flex items-center gap-1 group",children:[g.jsxs("label",{htmlFor:"category",className:"text-nowrap text-black dark:text-black-0 group-hover:relative",children:["習慣類別",g.jsx("span",{className:"absolute -bottom-1 left-24 transform -translate-x-0 w-max p-2 bg-primary-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto z-50 before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"你想要培養什麼類別的習慣呢？"})]}),g.jsx(Tt.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200"})]}),g.jsx(eg,{options:l,value:t.category,onChange:I=>e({target:{name:"category",value:I}})})]}),g.jsxs("div",{className:"flex justify-between gap-4",children:[g.jsxs("div",{className:"relative flex items-center gap-1 group",children:[g.jsxs("label",{htmlFor:"frequency",className:"text-nowrap text-black dark:text-black-0 group-hover:relative",children:["習慣頻率",g.jsx("span",{className:"absolute -bottom-1 left-24 transform -translate-x-0 w-max p-2 bg-primary-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"你想要每天、每週還是在特定日期培養習慣呢？"})]}),g.jsx(Tt.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200"})]}),g.jsxs("div",{className:"w-full grid grid-cols-3 gap-3",children:[g.jsxs("div",{children:[g.jsx("input",{type:"radio",name:"frequency",id:"daily",value:"daily",className:"appearance-none hidden",checked:t.frequency.type==="daily",onChange:e}),g.jsx("label",{htmlFor:"daily",className:`font-normal text-sm leading-5 block text-center py-px rounded border ${t.frequency.type==="daily"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"每日"})]}),g.jsxs("div",{children:[g.jsx("input",{type:"radio",name:"frequency",id:"weekly",value:"weekly",className:"appearance-none hidden",checked:t.frequency.type==="weekly",onChange:e}),g.jsx("label",{htmlFor:"weekly",className:`font-normal text-sm leading-5 block text-center py-px rounded border ${t.frequency.type==="weekly"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"每週"})]}),g.jsxs("div",{children:[g.jsx("input",{type:"radio",name:"frequency",id:"specificDays",value:"specificDays",className:"appearance-none hidden",checked:t.frequency.type==="specificDays",onChange:e}),g.jsx("label",{htmlFor:"specificDays",className:`font-normal text-sm leading-5 block text-center py-px rounded border ${t.frequency.type==="specificDays"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"特定日期"})]})]})]}),t.frequency.type==="specificDays"&&g.jsx("div",{className:"grid grid-cols-7 gap-2 md:gap-4",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((I,T)=>g.jsxs("div",{className:"text-center flex flex-col justify-center items-center gap-1 text-black dark:text-black-0",children:[I,g.jsx(xx.TbCheck,{className:`w-10 h-10 rounded-full p-1 border border-black-500 ${m.includes(I)?"bg-primary text-white border-primary":"text-black dark:text-black-0 hover:bg-primary-light"}`,onClick:()=>v(I)})]},T))}),g.jsxs("div",{className:"flex justify-between gap-4",children:[g.jsxs("div",{className:"relative flex items-center gap-1 group",children:[g.jsxs("label",{htmlFor:"type",className:"text-nowrap text-black dark:text-black-0 group-hover:relative",children:["習慣類型",g.jsx("span",{className:"absolute -bottom-1 left-24 transform -translate-x-0 w-max p-2 bg-primary-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"你想要養成還是戒除呢？"})]}),g.jsx(Tt.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200"})]}),g.jsxs("div",{className:"w-full grid grid-cols-2 gap-3",children:[g.jsxs("div",{children:[g.jsx("input",{type:"radio",name:"type",id:"to-do",value:"to-do",className:"appearance-none hidden",checked:t.type==="to-do",onChange:e}),g.jsx("label",{htmlFor:"to-do",className:`font-normal text-sm leading-5 block text-center py-px rounded border ${t.type==="to-do"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"養成"})]}),g.jsxs("div",{children:[g.jsx("input",{type:"radio",name:"type",id:"not-to-do",value:"not-to-do",className:"appearance-none hidden",checked:t.type==="not-to-do",onChange:e}),g.jsx("label",{htmlFor:"not-to-do",className:`font-normal text-sm leading-5 block text-center py-px rounded border ${t.type==="not-to-do"?"bg-primary border-primary":"bg-black-0 border-black-300 hover:bg-primary-light dark:bg-black-100"}`,children:"戒除"})]})]})]}),g.jsxs("div",{className:"flex justify-between gap-4",children:[g.jsxs("div",{className:"relative flex items-center gap-1 group",children:[g.jsxs("label",{htmlFor:"amount",className:"text-nowrap text-black dark:text-black-0 group-hover:relative",children:["習慣罰款",g.jsx("span",{className:"absolute -bottom-1 left-24 transform -translate-x-0 w-max p-2 bg-primary-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"如果沒有完成習慣，你願意支付多少罰款呢？"})]}),g.jsx(Tt.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200"})]}),g.jsxs("div",{className:"flex gap-2 w-full",children:[g.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:"NT$"}),g.jsx("input",{type:"number",name:"amount",id:"amount",className:"px-4 text-end w-full rounded border border-black-300 caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark font-normal text-sm leading-5 no-spinner dark:bg-black-100 dark:placeholder-black",placeholder:"請輸入未完成習慣的罰款金額",value:t.amount,onChange:e,min:0,onKeyDown:I=>I.key==="-"&&I.preventDefault()})]})]}),g.jsxs("div",{className:"flex justify-between gap-4 w-full",children:[g.jsxs("div",{className:"relative flex items-center gap-1 group",children:[g.jsxs("label",{htmlFor:"time",className:"text-nowrap text-black dark:text-black-0 group-hover:relative",children:["養成期間",g.jsx("span",{className:"absolute -bottom-1 left-24 transform -translate-x-0 w-max p-2 bg-primary-dark text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto z-50 before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"你想要從哪一天開始、哪一天結束培養這個習慣呢？"})]}),g.jsx(Tt.TbInfoCircle,{className:"w-4 h-4 text-black-500 dark:text-black-200"})]}),g.jsxs("div",{className:"border border-black-300 w-full rounded py-0.5 px-4 flex justify-between items-center bg-black-0 dark:bg-black-100 relative",children:[g.jsx("button",{className:"text-center w-1/2 font-normal text-sm leading-5 text-black",onClick:k,children:t.startDate||"開始日期"}),g.jsx("p",{className:"px-2 text-black font-normal text-sm leading-5",children:"-"}),g.jsx("button",{className:"text-center w-1/2 font-normal text-sm leading-5 text-black",onClick:S,children:t.endDate||"結束日期"})]}),g.jsx("input",{type:"text",name:"startDate",id:"startDate",className:"hidden",ref:b,placeholder:"開始日期",value:t.startDate,onFocus:()=>i("startDate"),onChange:e}),g.jsx("input",{type:"text",name:"endDate",id:"endDate",className:"hidden",ref:_,placeholder:"結束日期",value:t.endDate,onFocus:()=>i("endDate"),onChange:e}),a&&g.jsx("div",{ref:o,className:"w-3/5 md:w-1/6 absolute bottom-0 md:-bottom-12 2xl:-bottom-16 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-10",children:g.jsx(Ex,{date:u,onSelect:f})})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsx("button",{className:"w-full py-1 font-normal text-sm leading-5 bg-alert text-white rounded-lg",onClick:r,children:"刪除習慣"}),g.jsx("button",{className:"w-full py-1 font-normal text-sm leading-5 bg-primary rounded-lg hover:bg-primary-dark",onClick:n,children:"更新習慣"})]})]})};Tx.propTypes={habitData:U.object.isRequired,handleHabitChange:U.func.isRequired,handleUpdateHabit:U.func.isRequired,handleDeleteHabit:U.func.isRequired,handleFocus:U.func.isRequired,showMonthCalendar:U.bool.isRequired,calendarTarget:U.string.isRequired,selectedDate:U.object.isRequired,handleSelectDate:U.func.isRequired,calendarRef:U.object.isRequired,handleEditModal:U.func.isRequired,habitCategories:U.array.isRequired,setHabitData:U.func.isRequired,monthCalendarDate:U.object.isRequired,handleMonthCalendarSelectDate:U.func.isRequired,setCalendarTarget:U.func.isRequired,setShowMonthCalendar:U.func.isRequired};const Ax=({habits:t,habitCategories:e,handleDetailClick:n,weekDates:r,handleCheck:i})=>{const a=Ho(),o=s=>{switch(s){case"to-do":return"養成";case"not-to-do":return"戒除";default:return""}};return g.jsx("ul",{className:`space-y-4 mt-2 ${a.pathname==="/home"?"p-4":""}`,children:Array.isArray(t)&&t.map(s=>{const l=new Date;l.setHours(0,0,0,0);const c=new Date(s.endDate);c.setHours(0,0,0,0);const u=c<l,f=e.find(p=>p.id===s.category),h=f?f.icon:null;return g.jsxs("li",{className:`p-4 rounded-2xl ${u?"bg-black-300 hover:bg-black-200 dark:bg-black-800 dark:hover:bg-black-900":"bg-black-50 dark:bg-black-500 hover:bg-black-0 dark:hover:bg-black-600"}`,children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-10 h-10 bg-primary rounded-full flex items-center justify-center",children:h&&g.jsx(h,{className:"w-8 h-8"})}),g.jsxs("div",{className:"flex flex-col",children:[g.jsx("h3",{className:"font-bold text-base leading-6 text-black dark:text-black-0",children:s.title}),g.jsxs("div",{className:"flex",children:[g.jsxs("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:[o(s.type),"｜罰款 $",s.amount,"｜已達成 ",s.status.filter(p=>p.completed).length]}),g.jsxs("p",{className:"text-black-500 dark:text-black-300 font-normal text-sm leading-5",children:["/",s.status.length]})]})]})]}),g.jsx("button",{className:"text-black dark:text-black-0 hover:text-alert",onClick:()=>n(s),children:g.jsx(_q.TbCalendarSmile,{className:"w-6 h-6 md:w-8 md:h-8"})})]}),r&&g.jsxs("div",{className:"grid grid-cols-7 gap-y-1",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((p,m)=>g.jsx("div",{className:"text-center text-sm leading-5 md:font-normal md:text-base md:leading-6 text-black dark:text-black-0",children:p},m)),r.map((p,m)=>{const y=s.status.find(v=>new Date(v.date).toDateString()===new Date(p.year,p.month,p.day).toDateString());return g.jsx("div",{className:"flex flex-col items-center",children:y?u&&!y.completed?g.jsx(Tt.TbX,{className:"w-10 h-10 md:w-12 md:h-12 border-2 rounded-full bg-alert text-black-0 border-alert cursor-not-allowed"}):g.jsx(xx.TbCheck,{className:`w-10 h-10 md:w-12 md:h-12 border-2 rounded-full ${y.completed?"bg-primary text-black-0 border-primary":"text-black-500 dark:text-black-0 border-black-500 dark:border-black-300"} ${u?"cursor-not-allowed":"cursor-pointer hover:bg-primary-light"}`,onClick:()=>!u&&y&&i(s.id,y.date),disabled:!y}):g.jsx("div",{className:`w-10 h-10 md:w-12 md:h-12 rounded-full cursor-not-allowed border-2 border-dashed ${u?"bg-black-transparent border-black-500":"bg-transparent border-black-300"}`})},m)})]})]},s.id)})})};Ax.propTypes={habits:U.array.isRequired,habitCategories:U.array.isRequired,handleDetailClick:U.func.isRequired,weekDates:U.array,handleCheck:U.func};function Eq(){const[t,e]=D.useState(!1),[n,r]=D.useState(!1),[i,a]=D.useState(!1),[o,s]=D.useState({category:null,title:"",frequency:{type:"daily"},amount:0,startDate:"",endDate:"",status:[],type:""}),[l,c]=D.useState([]),[u,f]=D.useState(null),[h,p]=D.useState(!1),[m,y]=D.useState(""),[v,x]=D.useState(null),[b,_]=D.useState([]),[k,S]=D.useState(0),[I,T]=D.useState(null),E=D.useRef(null),{user:P}=D.useContext(ri),O=[{id:0,name:"生產力",icon:pn.TbRocket},{id:1,name:"個人成長",icon:pn.TbBook},{id:2,name:"運動健身",icon:pn.TbWalk},{id:3,name:"飲食健康",icon:pn.TbBowlChopsticks},{id:4,name:"心靈成長",icon:pn.TbMoodHeart},{id:5,name:"手作興趣",icon:pn.TbHandGrab},{id:6,name:"財務管理",icon:pn.TbCash},{id:7,name:"環境生活",icon:pn.TbPlant}];D.useEffect(()=>{P&&R()},[P]),D.useEffect(()=>{const ne=J=>{E.current&&!E.current.contains(J.target)&&p(!1)};return document.addEventListener("mousedown",ne),()=>{document.removeEventListener("mousedown",ne)}},[]),D.useEffect(()=>{const ne=new Date;f({year:ne.getFullYear(),month:ne.getMonth(),day:ne.getDate()}),T({year:ne.getFullYear(),month:ne.getMonth(),day:ne.getDate()})},[]);const N=(ne,J,oe)=>{const se=new Date(ne),W=new Date(J),ye=new Date(oe);return se.setHours(0,0,0,0),W.setHours(0,0,0,0),ye.setHours(23,59,59,999),se>=W&&se<=ye},R=async(ne=null)=>{const J=await Lo(P.uid),oe=ne?new Date(ne.year,ne.month,ne.day):new Date,W=J.sort((ye,pe)=>new Date(pe.createdTime)-new Date(ye.createdTime)).filter(ye=>N(oe,ye.startDate,ye.endDate)).sort((ye,pe)=>new Date(pe.endDate)-new Date(ye.endDate));c(W||[])},C=()=>{e(!t),s({category:null,title:"",frequency:"daily",amount:0,startDate:"",endDate:"",status:[],type:""})},L=()=>{r(!n)},q=ne=>{s({category:ne.category,title:ne.title,frequency:ne.frequency,amount:ne.amount,startDate:ne.startDate,endDate:ne.endDate,status:ne.status,type:ne.type}),r(!1),a(!i)},z=ne=>{const{name:J,value:oe}=ne.target;if(J==="frequency"){const se={type:oe},W=Y(o.startDate,o.endDate,se);s(ye=>({...ye,frequency:se,status:W}))}else s(se=>({...se,[J]:oe}))},Y=(ne,J,oe)=>{const se=new Date(ne),W=new Date(J),ye=[];if(oe.type==="daily")for(let pe=se;pe<=W;pe.setDate(pe.getDate()+1))ye.push({date:new Date(pe).toDateString(),completed:!1});else if(oe.type==="weekly")for(let pe=new Date(se);pe<=W;pe.setDate(pe.getDate()+7)){const je=new Date(pe);je.setDate(je.getDate()+(6-je.getDay())),je<=W&&ye.push({date:je.toDateString(),completed:!1})}else if(oe.type==="specificDays"){const pe=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],je=o.frequency.days||[];for(let Be=se;Be<=W;Be.setDate(Be.getDate()+1))je.includes(pe[Be.getDay()])&&ye.push({date:new Date(Be).toDateString(),completed:!1})}return ye},$=async()=>{if(P){const ne=new Date(o.startDate);if(new Date(o.endDate)<=ne){alert("結束日期必須晚於開始日期");return}const oe=Y(o.startDate,o.endDate,o.frequency),se={...o,status:oe};await vW(P.uid,se),await Ks(P.uid),await lu(P.uid),R(),C(),s({category:null,title:"",frequency:{type:"daily"},amount:0,startDate:"",endDate:"",status:[],type:""})}else console.error("User not authenticated")},H=async()=>{if(P&&v){const ne=new Date(o.startDate);if(new Date(o.endDate)<=ne){alert("結束日期必須晚於開始日期");return}const se={...v,...o,id:v.id};await W0(P.uid,v.id,se),await Ks(P.uid),await lu(P.uid);const W=await ou(P.uid,"habit");await su(P.uid,"habit",W),R(),a(!1),r(!1)}else console.error("User not authenticated or habit not selected")},Z=async()=>{if(P&&v){await gj(P.uid,v.id),await Ks(P.uid),await lu(P.uid);const ne=await ou(P.uid,"habit");await su(P.uid,"habit",ne);const J=await Lo(P.uid);c(J),J.filter(se=>se.category===v.category).length===0&&await wj(P.uid,v.category),R(),a(!1),r(!1)}else console.error("User not authenticated or habit not selected")},ae=async ne=>{f(ne),await R(ne),m&&(s(J=>({...J,[m]:`${ne.year}-${String(ne.month+1).padStart(2,"0")}-${String(ne.day).padStart(2,"0")}`})),p(!1),y(""))},Q=ne=>{if(T(ne),m){const J=`${ne.year}-${String(ne.month+1).padStart(2,"0")}-${String(ne.day).padStart(2,"0")}`;s(oe=>({...oe,[m]:J})),p(!1),y("")}},F=ne=>{y(ne),p(!0)},K=async(ne,J)=>{const oe=l.map(W=>{if(W.id===ne){const ye=W.status.map(pe=>new Date(pe.date).toDateString()===new Date(J).toDateString()?{...pe,completed:!pe.completed}:pe);return{...W,status:ye}}return W});c(oe);const se=oe.find(W=>W.id===ne);try{await W0(P.uid,ne,se),await _e("habit")}catch(W){console.error("Error updating habit in Firestore: ",W)}},le=ne=>{const J=new Date;return J.setHours(0,0,0,0),ne.status.filter(se=>{const W=new Date(se.date);return W.setHours(0,0,0,0),W<J&&!se.completed}).length*ne.amount},me=ne=>{x(ne),S(le(ne)),r(!0)},_e=async ne=>{if(!(!P||!P.uid))try{const J=await ou(P.uid,ne);await su(P.uid,ne,J)}catch(J){console.error("Error handling achievements: ",J)}};return g.jsxs("div",{className:"md:pb-6",children:[g.jsx(Ij,{date:u,onSelect:ae,onWeekChange:_}),g.jsx(Ax,{habits:l,habitCategories:O,handleDetailClick:me,weekDates:b,handleCheck:K}),g.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-full flex items-center justify-center fixed right-4 bottom-20 md:bottom-10 bg-primary hover:bg-primary-dark cursor-pointer",onClick:C,children:g.jsx(xq.TbPlus,{className:"w-8 h-8 md:w-10 md:h-10 text-black-0"})}),g.jsx(or,{isOpen:t,children:g.jsx(Oj,{habitData:o,handleHabitChange:z,handleAddHabit:$,handleFocus:F,showMonthCalendar:h,calendarRef:E,handleHabitModal:C,habitCategories:O,setHabitData:s,monthCalendarDate:I,handleMonthCalendarSelectDate:Q,setCalendarTarget:y,setShowMonthCalendar:p})}),g.jsx(or,{isOpen:n,onClose:L,children:g.jsx(Sx,{selectedHabit:v,handleDetailModal:L,uncompletedFine:k,handleEditModal:q,habitCategories:O})}),g.jsx(or,{isOpen:i,onClose:q,children:g.jsx(Tx,{habitData:o,handleHabitChange:z,handleUpdateHabit:H,handleFocus:F,showMonthCalendar:h,calendarTarget:m,calendarRef:E,handleEditModal:q,handleDeleteHabit:Z,habitCategories:O,setHabitData:s,monthCalendarDate:I,handleMonthCalendarSelectDate:Q,setCalendarTarget:y,setShowMonthCalendar:p})})]})}function Cj(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Cj(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Pe(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Cj(t))&&(r&&(r+=" "),r+=e);return r}var Sq=Array.isArray,Un=Sq,Tq=typeof Sd=="object"&&Sd&&Sd.Object===Object&&Sd,Nj=Tq,Aq=Nj,Pq=typeof self=="object"&&self&&self.Object===Object&&self,Iq=Aq||Pq||Function("return this")(),ii=Iq,Oq=ii,Cq=Oq.Symbol,Xf=Cq,dT=Xf,Rj=Object.prototype,Nq=Rj.hasOwnProperty,Rq=Rj.toString,xc=dT?dT.toStringTag:void 0;function jq(t){var e=Nq.call(t,xc),n=t[xc];try{t[xc]=void 0;var r=!0}catch{}var i=Rq.call(t);return r&&(e?t[xc]=n:delete t[xc]),i}var Dq=jq,Mq=Object.prototype,$q=Mq.toString;function Lq(t){return $q.call(t)}var Vq=Lq,hT=Xf,Fq=Dq,Uq=Vq,Bq="[object Null]",zq="[object Undefined]",pT=hT?hT.toStringTag:void 0;function Wq(t){return t==null?t===void 0?zq:Bq:pT&&pT in Object(t)?Fq(t):Uq(t)}var Bi=Wq;function qq(t){return t!=null&&typeof t=="object"}var zi=qq,Hq=Bi,Kq=zi,Gq="[object Symbol]";function Xq(t){return typeof t=="symbol"||Kq(t)&&Hq(t)==Gq}var Vl=Xq,Yq=Un,Qq=Vl,Jq=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Zq=/^\w*$/;function eH(t,e){if(Yq(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Qq(t)?!0:Zq.test(t)||!Jq.test(t)||e!=null&&t in Object(e)}var Px=eH;function tH(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ka=tH;const Fl=Ke(Ka);var nH=Bi,rH=Ka,iH="[object AsyncFunction]",aH="[object Function]",oH="[object GeneratorFunction]",sH="[object Proxy]";function lH(t){if(!rH(t))return!1;var e=nH(t);return e==aH||e==oH||e==iH||e==sH}var Ix=lH;const Se=Ke(Ix);var cH=ii,uH=cH["__core-js_shared__"],fH=uH,Gy=fH,mT=function(){var t=/[^.]+$/.exec(Gy&&Gy.keys&&Gy.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function dH(t){return!!mT&&mT in t}var hH=dH,pH=Function.prototype,mH=pH.toString;function gH(t){if(t!=null){try{return mH.call(t)}catch{}try{return t+""}catch{}}return""}var jj=gH,yH=Ix,vH=hH,bH=Ka,wH=jj,_H=/[\\^$.*+?()[\]{}|]/g,xH=/^\[object .+?Constructor\]$/,kH=Function.prototype,EH=Object.prototype,SH=kH.toString,TH=EH.hasOwnProperty,AH=RegExp("^"+SH.call(TH).replace(_H,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function PH(t){if(!bH(t)||vH(t))return!1;var e=yH(t)?AH:xH;return e.test(wH(t))}var IH=PH;function OH(t,e){return t==null?void 0:t[e]}var CH=OH,NH=IH,RH=CH;function jH(t,e){var n=RH(t,e);return NH(n)?n:void 0}var Zo=jH,DH=Zo,MH=DH(Object,"create"),tg=MH,gT=tg;function $H(){this.__data__=gT?gT(null):{},this.size=0}var LH=$H;function VH(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var FH=VH,UH=tg,BH="__lodash_hash_undefined__",zH=Object.prototype,WH=zH.hasOwnProperty;function qH(t){var e=this.__data__;if(UH){var n=e[t];return n===BH?void 0:n}return WH.call(e,t)?e[t]:void 0}var HH=qH,KH=tg,GH=Object.prototype,XH=GH.hasOwnProperty;function YH(t){var e=this.__data__;return KH?e[t]!==void 0:XH.call(e,t)}var QH=YH,JH=tg,ZH="__lodash_hash_undefined__";function e7(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=JH&&e===void 0?ZH:e,this}var t7=e7,n7=LH,r7=FH,i7=HH,a7=QH,o7=t7;function Ul(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ul.prototype.clear=n7;Ul.prototype.delete=r7;Ul.prototype.get=i7;Ul.prototype.has=a7;Ul.prototype.set=o7;var s7=Ul;function l7(){this.__data__=[],this.size=0}var c7=l7;function u7(t,e){return t===e||t!==t&&e!==e}var Ox=u7,f7=Ox;function d7(t,e){for(var n=t.length;n--;)if(f7(t[n][0],e))return n;return-1}var ng=d7,h7=ng,p7=Array.prototype,m7=p7.splice;function g7(t){var e=this.__data__,n=h7(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():m7.call(e,n,1),--this.size,!0}var y7=g7,v7=ng;function b7(t){var e=this.__data__,n=v7(e,t);return n<0?void 0:e[n][1]}var w7=b7,_7=ng;function x7(t){return _7(this.__data__,t)>-1}var k7=x7,E7=ng;function S7(t,e){var n=this.__data__,r=E7(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var T7=S7,A7=c7,P7=y7,I7=w7,O7=k7,C7=T7;function Bl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Bl.prototype.clear=A7;Bl.prototype.delete=P7;Bl.prototype.get=I7;Bl.prototype.has=O7;Bl.prototype.set=C7;var rg=Bl,N7=Zo,R7=ii,j7=N7(R7,"Map"),Cx=j7,yT=s7,D7=rg,M7=Cx;function $7(){this.size=0,this.__data__={hash:new yT,map:new(M7||D7),string:new yT}}var L7=$7;function V7(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var F7=V7,U7=F7;function B7(t,e){var n=t.__data__;return U7(e)?n[typeof e=="string"?"string":"hash"]:n.map}var ig=B7,z7=ig;function W7(t){var e=z7(this,t).delete(t);return this.size-=e?1:0,e}var q7=W7,H7=ig;function K7(t){return H7(this,t).get(t)}var G7=K7,X7=ig;function Y7(t){return X7(this,t).has(t)}var Q7=Y7,J7=ig;function Z7(t,e){var n=J7(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var eK=Z7,tK=L7,nK=q7,rK=G7,iK=Q7,aK=eK;function zl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}zl.prototype.clear=tK;zl.prototype.delete=nK;zl.prototype.get=rK;zl.prototype.has=iK;zl.prototype.set=aK;var Nx=zl,Dj=Nx,oK="Expected a function";function Rx(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(oK);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=t.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(Rx.Cache||Dj),n}Rx.Cache=Dj;var Mj=Rx;const sK=Ke(Mj);var lK=Mj,cK=500;function uK(t){var e=lK(t,function(r){return n.size===cK&&n.clear(),r}),n=e.cache;return e}var fK=uK,dK=fK,hK=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,pK=/\\(\\)?/g,mK=dK(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(hK,function(n,r,i,a){e.push(i?a.replace(pK,"$1"):r||n)}),e}),gK=mK;function yK(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var jx=yK,vT=Xf,vK=jx,bK=Un,wK=Vl,_K=1/0,bT=vT?vT.prototype:void 0,wT=bT?bT.toString:void 0;function $j(t){if(typeof t=="string")return t;if(bK(t))return vK(t,$j)+"";if(wK(t))return wT?wT.call(t):"";var e=t+"";return e=="0"&&1/t==-_K?"-0":e}var xK=$j,kK=xK;function EK(t){return t==null?"":kK(t)}var Lj=EK,SK=Un,TK=Px,AK=gK,PK=Lj;function IK(t,e){return SK(t)?t:TK(t,e)?[t]:AK(PK(t))}var Vj=IK,OK=Vl,CK=1/0;function NK(t){if(typeof t=="string"||OK(t))return t;var e=t+"";return e=="0"&&1/t==-CK?"-0":e}var ag=NK,RK=Vj,jK=ag;function DK(t,e){e=RK(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[jK(e[n++])];return n&&n==r?t:void 0}var Dx=DK,MK=Dx;function $K(t,e,n){var r=t==null?void 0:MK(t,e);return r===void 0?n:r}var Fj=$K;const Yn=Ke(Fj);function LK(t){return t==null}var VK=LK;const Ie=Ke(VK);var FK=Bi,UK=Un,BK=zi,zK="[object String]";function WK(t){return typeof t=="string"||!UK(t)&&BK(t)&&FK(t)==zK}var qK=WK;const Yf=Ke(qK);var Uj={exports:{}},Ge={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qt=typeof Symbol=="function"&&Symbol.for,Mx=qt?Symbol.for("react.element"):60103,$x=qt?Symbol.for("react.portal"):60106,og=qt?Symbol.for("react.fragment"):60107,sg=qt?Symbol.for("react.strict_mode"):60108,lg=qt?Symbol.for("react.profiler"):60114,cg=qt?Symbol.for("react.provider"):60109,ug=qt?Symbol.for("react.context"):60110,Lx=qt?Symbol.for("react.async_mode"):60111,fg=qt?Symbol.for("react.concurrent_mode"):60111,dg=qt?Symbol.for("react.forward_ref"):60112,hg=qt?Symbol.for("react.suspense"):60113,HK=qt?Symbol.for("react.suspense_list"):60120,pg=qt?Symbol.for("react.memo"):60115,mg=qt?Symbol.for("react.lazy"):60116,KK=qt?Symbol.for("react.block"):60121,GK=qt?Symbol.for("react.fundamental"):60117,XK=qt?Symbol.for("react.responder"):60118,YK=qt?Symbol.for("react.scope"):60119;function er(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Mx:switch(t=t.type,t){case Lx:case fg:case og:case lg:case sg:case hg:return t;default:switch(t=t&&t.$$typeof,t){case ug:case dg:case mg:case pg:case cg:return t;default:return e}}case $x:return e}}}function Bj(t){return er(t)===fg}Ge.AsyncMode=Lx;Ge.ConcurrentMode=fg;Ge.ContextConsumer=ug;Ge.ContextProvider=cg;Ge.Element=Mx;Ge.ForwardRef=dg;Ge.Fragment=og;Ge.Lazy=mg;Ge.Memo=pg;Ge.Portal=$x;Ge.Profiler=lg;Ge.StrictMode=sg;Ge.Suspense=hg;Ge.isAsyncMode=function(t){return Bj(t)||er(t)===Lx};Ge.isConcurrentMode=Bj;Ge.isContextConsumer=function(t){return er(t)===ug};Ge.isContextProvider=function(t){return er(t)===cg};Ge.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Mx};Ge.isForwardRef=function(t){return er(t)===dg};Ge.isFragment=function(t){return er(t)===og};Ge.isLazy=function(t){return er(t)===mg};Ge.isMemo=function(t){return er(t)===pg};Ge.isPortal=function(t){return er(t)===$x};Ge.isProfiler=function(t){return er(t)===lg};Ge.isStrictMode=function(t){return er(t)===sg};Ge.isSuspense=function(t){return er(t)===hg};Ge.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===og||t===fg||t===lg||t===sg||t===hg||t===HK||typeof t=="object"&&t!==null&&(t.$$typeof===mg||t.$$typeof===pg||t.$$typeof===cg||t.$$typeof===ug||t.$$typeof===dg||t.$$typeof===GK||t.$$typeof===XK||t.$$typeof===YK||t.$$typeof===KK)};Ge.typeOf=er;Uj.exports=Ge;var q0=Uj.exports,QK=Bi,JK=zi,ZK="[object Number]";function eG(t){return typeof t=="number"||JK(t)&&QK(t)==ZK}var zj=eG;const tG=Ke(zj);var nG=zj;function rG(t){return nG(t)&&t!=+t}var iG=rG;const Qf=Ke(iG);var Sn=function(e){return e===0?0:e>0?1:-1},go=function(e){return Yf(e)&&e.indexOf("%")===e.length-1},re=function(e){return tG(e)&&!Qf(e)},Dt=function(e){return re(e)||Yf(e)},aG=0,Jf=function(e){var n=++aG;return"".concat(e||"").concat(n)},Tn=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!re(e)&&!Yf(e))return r;var a;if(go(e)){var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return Qf(a)&&(a=r),i&&a>n&&(a=n),a},ua=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},oG=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},ta=function(e,n){return re(e)&&re(n)?function(r){return e+r*(n-e)}:function(){return n}};function H0(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Yn(r,e))===n})}function Gs(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function K0(t){"@babel/helpers - typeof";return K0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K0(t)}var sG=["viewBox","children"],lG=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],_T=["points","pathLength"],Xy={svg:sG,polygon:_T,polyline:_T},Vx=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],kp=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(D.isValidElement(e)&&(r=e.props),!Fl(r))return null;var i={};return Object.keys(r).forEach(function(a){Vx.includes(a)&&(i[a]=n||function(o){return r[a](r,o)})}),i},cG=function(e,n,r){return function(i){return e(n,r,i),null}},Vo=function(e,n,r){if(!Fl(e)||K0(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];Vx.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=cG(o,n,r))}),i},uG=["children"],fG=["children"];function xT(t,e){if(t==null)return{};var n=dG(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dG(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var kT={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},Ti=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},ET=null,Yy=null,Fx=function t(e){if(e===ET&&Array.isArray(Yy))return Yy;var n=[];return D.Children.forEach(e,function(r){Ie(r)||(q0.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Yy=n,ET=e,n};function hr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Ti(i)}):r=[Ti(e)],Fx(t).forEach(function(i){var a=Yn(i,"type.displayName")||Yn(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function qn(t,e){var n=hr(t,e);return n&&n[0]}var ST=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!re(r)||r<=0||!re(i)||i<=0)},hG=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],pG=function(e){return e&&e.type&&Yf(e.type)&&hG.indexOf(e.type)>=0},mG=function(e,n,r,i){var a,o=(a=Xy==null?void 0:Xy[i])!==null&&a!==void 0?a:[];return!Se(e)&&(i&&o.includes(n)||lG.includes(n))||r&&Vx.includes(n)},we=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(D.isValidElement(e)&&(i=e.props),!Fl(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;mG((s=i)===null||s===void 0?void 0:s[o],o,n,r)&&(a[o]=i[o])}),a},G0=function t(e,n){if(e===n)return!0;var r=D.Children.count(e);if(r!==D.Children.count(n))return!1;if(r===0)return!0;if(r===1)return TT(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!TT(a,o))return!1}return!0},TT=function(e,n){if(Ie(e)&&Ie(n))return!0;if(!Ie(e)&&!Ie(n)){var r=e.props||{},i=r.children,a=xT(r,uG),o=n.props||{},s=o.children,l=xT(o,fG);return i&&s?Gs(a,l)&&G0(i,s):!i&&!s?Gs(a,l):!1}return!1},AT=function(e,n){var r=[],i={};return Fx(e).forEach(function(a,o){if(pG(a))r.push(a);else if(a){var s=Ti(a.type),l=n[s]||{},c=l.handler,u=l.once;if(c&&(!u||!i[s])){var f=c(a,s,o);r.push(f),i[s]=!0}}}),r},gG=function(e){var n=e&&e.type;return n&&kT[n]?kT[n]:null},yG=function(e,n){return Fx(n).indexOf(e)},vG=["children","width","height","viewBox","className","style","title","desc"];function X0(){return X0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X0.apply(this,arguments)}function bG(t,e){if(t==null)return{};var n=wG(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wG(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Y0(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,o=t.style,s=t.title,l=t.desc,c=bG(t,vG),u=i||{width:n,height:r,x:0,y:0},f=Pe("recharts-surface",a);return M.createElement("svg",X0({},we(c,!0,"svg"),{className:f,width:n,height:r,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),M.createElement("title",null,s),M.createElement("desc",null,l),e)}var _G=["children","className"];function Q0(){return Q0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q0.apply(this,arguments)}function xG(t,e){if(t==null)return{};var n=kG(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kG(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var qe=M.forwardRef(function(t,e){var n=t.children,r=t.className,i=xG(t,_G),a=Pe("recharts-layer",r);return M.createElement("g",Q0({className:a},we(i,!0),{ref:e}),n)}),Pr=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function EG(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var SG=EG,TG=SG;function AG(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:TG(t,e,n)}var PG=AG,IG="\\ud800-\\udfff",OG="\\u0300-\\u036f",CG="\\ufe20-\\ufe2f",NG="\\u20d0-\\u20ff",RG=OG+CG+NG,jG="\\ufe0e\\ufe0f",DG="\\u200d",MG=RegExp("["+DG+IG+RG+jG+"]");function $G(t){return MG.test(t)}var Wj=$G;function LG(t){return t.split("")}var VG=LG,qj="\\ud800-\\udfff",FG="\\u0300-\\u036f",UG="\\ufe20-\\ufe2f",BG="\\u20d0-\\u20ff",zG=FG+UG+BG,WG="\\ufe0e\\ufe0f",qG="["+qj+"]",J0="["+zG+"]",Z0="\\ud83c[\\udffb-\\udfff]",HG="(?:"+J0+"|"+Z0+")",Hj="[^"+qj+"]",Kj="(?:\\ud83c[\\udde6-\\uddff]){2}",Gj="[\\ud800-\\udbff][\\udc00-\\udfff]",KG="\\u200d",Xj=HG+"?",Yj="["+WG+"]?",GG="(?:"+KG+"(?:"+[Hj,Kj,Gj].join("|")+")"+Yj+Xj+")*",XG=Yj+Xj+GG,YG="(?:"+[Hj+J0+"?",J0,Kj,Gj,qG].join("|")+")",QG=RegExp(Z0+"(?="+Z0+")|"+YG+XG,"g");function JG(t){return t.match(QG)||[]}var ZG=JG,eX=VG,tX=Wj,nX=ZG;function rX(t){return tX(t)?nX(t):eX(t)}var iX=rX,aX=PG,oX=Wj,sX=iX,lX=Lj;function cX(t){return function(e){e=lX(e);var n=oX(e)?sX(e):void 0,r=n?n[0]:e.charAt(0),i=n?aX(n,1).join(""):e.slice(1);return r[t]()+i}}var uX=cX,fX=uX,dX=fX("toUpperCase"),hX=dX;const gg=Ke(hX);function et(t){return function(){return t}}const Qj=Math.cos,Ep=Math.sin,Rr=Math.sqrt,Sp=Math.PI,yg=2*Sp,eb=Math.PI,tb=2*eb,so=1e-6,pX=tb-so;function Jj(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function mX(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Jj;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class gX{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Jj:mX(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=r-e,c=i-n,u=o-e,f=s-n,h=u*u+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>so)if(!(Math.abs(f*l-c*u)>so)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-o,m=i-s,y=l*l+c*c,v=p*p+m*m,x=Math.sqrt(y),b=Math.sqrt(h),_=a*Math.tan((eb-Math.acos((y+h-v)/(2*x*b)))/2),k=_/b,S=_/x;Math.abs(k-1)>so&&this._append`L${e+k*u},${n+k*f}`,this._append`A${a},${a},0,0,${+(f*p>u*m)},${this._x1=e+S*l},${this._y1=n+S*c}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),c=e+s,u=n+l,f=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>so||Math.abs(this._y1-u)>so)&&this._append`L${c},${u}`,r&&(h<0&&(h=h%tb+tb),h>pX?this._append`A${r},${r},0,1,${f},${e-s},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=u}`:h>so&&this._append`A${r},${r},0,${+(h>=eb)},${f},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Ux(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new gX(e)}function Bx(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Zj(t){this._context=t}Zj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function vg(t){return new Zj(t)}function eD(t){return t[0]}function tD(t){return t[1]}function nD(t,e){var n=et(!0),r=null,i=vg,a=null,o=Ux(s);t=typeof t=="function"?t:t===void 0?eD:et(t),e=typeof e=="function"?e:e===void 0?tD:et(e);function s(l){var c,u=(l=Bx(l)).length,f,h=!1,p;for(r==null&&(a=i(p=o())),c=0;c<=u;++c)!(c<u&&n(f=l[c],c,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(f,c,l),+e(f,c,l));if(p)return a=null,p+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:et(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:et(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:et(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),s):r},s}function Qd(t,e,n){var r=null,i=et(!0),a=null,o=vg,s=null,l=Ux(c);t=typeof t=="function"?t:t===void 0?eD:et(+t),e=typeof e=="function"?e:et(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?tD:et(+n);function c(f){var h,p,m,y=(f=Bx(f)).length,v,x=!1,b,_=new Array(y),k=new Array(y);for(a==null&&(s=o(b=l())),h=0;h<=y;++h){if(!(h<y&&i(v=f[h],h,f))===x)if(x=!x)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=h-1;m>=p;--m)s.point(_[m],k[m]);s.lineEnd(),s.areaEnd()}x&&(_[h]=+t(v,h,f),k[h]=+e(v,h,f),s.point(r?+r(v,h,f):_[h],n?+n(v,h,f):k[h]))}if(b)return s=null,b+""||null}function u(){return nD().defined(i).curve(o).context(a)}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:et(+f),r=null,c):t},c.x0=function(f){return arguments.length?(t=typeof f=="function"?f:et(+f),c):t},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:et(+f),c):r},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:et(+f),n=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:et(+f),c):e},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:et(+f),c):n},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(n)},c.lineX1=function(){return u().x(r).y(e)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:et(!!f),c):i},c.curve=function(f){return arguments.length?(o=f,a!=null&&(s=o(a)),c):o},c.context=function(f){return arguments.length?(f==null?a=s=null:s=o(a=f),c):a},c}class rD{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function yX(t){return new rD(t,!0)}function vX(t){return new rD(t,!1)}const zx={draw(t,e){const n=Rr(e/Sp);t.moveTo(n,0),t.arc(0,0,n,0,yg)}},bX={draw(t,e){const n=Rr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},iD=Rr(1/3),wX=iD*2,_X={draw(t,e){const n=Rr(e/wX),r=n*iD;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},xX={draw(t,e){const n=Rr(e),r=-n/2;t.rect(r,r,n,n)}},kX=.8908130915292852,aD=Ep(Sp/10)/Ep(7*Sp/10),EX=Ep(yg/10)*aD,SX=-Qj(yg/10)*aD,TX={draw(t,e){const n=Rr(e*kX),r=EX*n,i=SX*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=yg*a/5,s=Qj(o),l=Ep(o);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},Qy=Rr(3),AX={draw(t,e){const n=-Rr(e/(Qy*3));t.moveTo(0,n*2),t.lineTo(-Qy*n,-n),t.lineTo(Qy*n,-n),t.closePath()}},tr=-.5,nr=Rr(3)/2,nb=1/Rr(12),PX=(nb/2+1)*3,IX={draw(t,e){const n=Rr(e/PX),r=n/2,i=n*nb,a=r,o=n*nb+n,s=-a,l=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(tr*r-nr*i,nr*r+tr*i),t.lineTo(tr*a-nr*o,nr*a+tr*o),t.lineTo(tr*s-nr*l,nr*s+tr*l),t.lineTo(tr*r+nr*i,tr*i-nr*r),t.lineTo(tr*a+nr*o,tr*o-nr*a),t.lineTo(tr*s+nr*l,tr*l-nr*s),t.closePath()}};function OX(t,e){let n=null,r=Ux(i);t=typeof t=="function"?t:et(t||zx),e=typeof e=="function"?e:et(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:et(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:et(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Tp(){}function Ap(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function oD(t){this._context=t}oD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ap(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ap(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function CX(t){return new oD(t)}function sD(t){this._context=t}sD.prototype={areaStart:Tp,areaEnd:Tp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Ap(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function NX(t){return new sD(t)}function lD(t){this._context=t}lD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Ap(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function RX(t){return new lD(t)}function cD(t){this._context=t}cD.prototype={areaStart:Tp,areaEnd:Tp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function jX(t){return new cD(t)}function PT(t){return t<0?-1:1}function IT(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(PT(a)+PT(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function OT(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Jy(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*n,a,o)}function Pp(t){this._context=t}Pp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Jy(this,this._t0,OT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Jy(this,OT(this,n=IT(this,t,e)),n);break;default:Jy(this,this._t0,n=IT(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function uD(t){this._context=new fD(t)}(uD.prototype=Object.create(Pp.prototype)).point=function(t,e){Pp.prototype.point.call(this,e,t)};function fD(t){this._context=t}fD.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function DX(t){return new Pp(t)}function MX(t){return new uD(t)}function dD(t){this._context=t}dD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=CT(t),i=CT(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function CT(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function $X(t){return new dD(t)}function bg(t,e){this._context=t,this._t=e}bg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function LX(t){return new bg(t,.5)}function VX(t){return new bg(t,0)}function FX(t){return new bg(t,1)}function fl(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,s=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function rb(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function UX(t,e){return t[e]}function BX(t){const e=[];return e.key=t,e}function zX(){var t=et([]),e=rb,n=fl,r=UX;function i(a){var o=Array.from(t.apply(this,arguments),BX),s,l=o.length,c=-1,u;for(const f of a)for(s=0,++c;s<l;++s)(o[s][c]=[0,+r(f,o[s].key,c,a)]).data=f;for(s=0,u=Bx(e(o));s<l;++s)o[u[s]].index=s;return n(o,u),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:et(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:et(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?rb:typeof a=="function"?a:et(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??fl,i):n},i}function WX(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}fl(t,e)}}function qX(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o)s+=t[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}fl(t,e)}}function HX(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,l=0,c=0;s<o;++s){for(var u=t[e[s]],f=u[r][1]||0,h=u[r-1][1]||0,p=(f-h)/2,m=0;m<s;++m){var y=t[e[m]],v=y[r][1]||0,x=y[r-1][1]||0;p+=v-x}l+=f,c+=p*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,fl(t,e)}}function qu(t){"@babel/helpers - typeof";return qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qu(t)}var KX=["type","size","sizeType"];function ib(){return ib=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ib.apply(this,arguments)}function NT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NT(Object(n),!0).forEach(function(r){GX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GX(t,e,n){return e=XX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XX(t){var e=YX(t,"string");return qu(e)=="symbol"?e:String(e)}function YX(t,e){if(qu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(qu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QX(t,e){if(t==null)return{};var n=JX(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function JX(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var hD={symbolCircle:zx,symbolCross:bX,symbolDiamond:_X,symbolSquare:xX,symbolStar:TX,symbolTriangle:AX,symbolWye:IX},ZX=Math.PI/180,eY=function(e){var n="symbol".concat(gg(e));return hD[n]||zx},tY=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*ZX;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},nY=function(e,n){hD["symbol".concat(gg(e))]=n},Wx=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,o=e.sizeType,s=o===void 0?"area":o,l=QX(e,KX),c=RT(RT({},l),{},{type:r,size:a,sizeType:s}),u=function(){var v=eY(r),x=OX().type(v).size(tY(a,s,r));return x()},f=c.className,h=c.cx,p=c.cy,m=we(c,!0);return h===+h&&p===+p&&a===+a?M.createElement("path",ib({},m,{className:Pe("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};Wx.registerSymbol=nY;function dl(t){"@babel/helpers - typeof";return dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dl(t)}function ab(){return ab=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ab.apply(this,arguments)}function jT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jT(Object(n),!0).forEach(function(r){Hu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mD(r.key),r)}}function oY(t,e,n){return e&&aY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sY(t,e,n){return e=Ip(e),lY(t,pD()?Reflect.construct(e,n||[],Ip(t).constructor):e.apply(t,n))}function lY(t,e){if(e&&(dl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cY(t)}function cY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pD=function(){return!!t})()}function Ip(t){return Ip=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ip(t)}function uY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ob(t,e)}function ob(t,e){return ob=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ob(t,e)}function Hu(t,e,n){return e=mD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mD(t){var e=fY(t,"string");return dl(e)=="symbol"?e:String(e)}function fY(t,e){if(dl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(dl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rr=32,qx=function(t){uY(e,t);function e(){return iY(this,e),sY(this,e,arguments)}return oY(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=rr/2,o=rr/6,s=rr/3,l=r.inactive?i:r.color;if(r.type==="plainline")return M.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:rr,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return M.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(rr,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return M.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(rr/8,"h").concat(rr,"v").concat(rr*3/4,"h").concat(-rr,"z"),className:"recharts-legend-icon"});if(M.isValidElement(r.legendIcon)){var c=rY({},r);return delete c.legendIcon,M.cloneElement(r.legendIcon,c)}return M.createElement(Wx,{fill:l,cx:a,cy:a,size:rr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:rr,height:rr},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,m){var y=p.formatter||l,v=Pe(Hu(Hu({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var x=Se(p.value)?null:p.value;Pr(!Se(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=p.inactive?c:p.color;return M.createElement("li",ab({className:v,style:f,key:"legend-item-".concat(m)},Vo(r.props,p,m)),M.createElement(Y0,{width:o,height:o,viewBox:u,style:h},r.renderIcon(p)),M.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},y?y(x,p,m):x))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,o=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return M.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}]),e}(D.PureComponent);Hu(qx,"displayName","Legend");Hu(qx,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var dY=rg;function hY(){this.__data__=new dY,this.size=0}var pY=hY;function mY(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var gY=mY;function yY(t){return this.__data__.get(t)}var vY=yY;function bY(t){return this.__data__.has(t)}var wY=bY,_Y=rg,xY=Cx,kY=Nx,EY=200;function SY(t,e){var n=this.__data__;if(n instanceof _Y){var r=n.__data__;if(!xY||r.length<EY-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new kY(r)}return n.set(t,e),this.size=n.size,this}var TY=SY,AY=rg,PY=pY,IY=gY,OY=vY,CY=wY,NY=TY;function Wl(t){var e=this.__data__=new AY(t);this.size=e.size}Wl.prototype.clear=PY;Wl.prototype.delete=IY;Wl.prototype.get=OY;Wl.prototype.has=CY;Wl.prototype.set=NY;var gD=Wl,RY="__lodash_hash_undefined__";function jY(t){return this.__data__.set(t,RY),this}var DY=jY;function MY(t){return this.__data__.has(t)}var $Y=MY,LY=Nx,VY=DY,FY=$Y;function Op(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new LY;++e<n;)this.add(t[e])}Op.prototype.add=Op.prototype.push=VY;Op.prototype.has=FY;var yD=Op;function UY(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var vD=UY;function BY(t,e){return t.has(e)}var bD=BY,zY=yD,WY=vD,qY=bD,HY=1,KY=2;function GY(t,e,n,r,i,a){var o=n&HY,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var c=a.get(t),u=a.get(e);if(c&&u)return c==e&&u==t;var f=-1,h=!0,p=n&KY?new zY:void 0;for(a.set(t,e),a.set(e,t);++f<s;){var m=t[f],y=e[f];if(r)var v=o?r(y,m,f,e,t,a):r(m,y,f,t,e,a);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!WY(e,function(x,b){if(!qY(p,b)&&(m===x||i(m,x,n,r,a)))return p.push(b)})){h=!1;break}}else if(!(m===y||i(m,y,n,r,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var wD=GY,XY=ii,YY=XY.Uint8Array,QY=YY;function JY(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var ZY=JY;function eQ(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var Hx=eQ,DT=Xf,MT=QY,tQ=Ox,nQ=wD,rQ=ZY,iQ=Hx,aQ=1,oQ=2,sQ="[object Boolean]",lQ="[object Date]",cQ="[object Error]",uQ="[object Map]",fQ="[object Number]",dQ="[object RegExp]",hQ="[object Set]",pQ="[object String]",mQ="[object Symbol]",gQ="[object ArrayBuffer]",yQ="[object DataView]",$T=DT?DT.prototype:void 0,Zy=$T?$T.valueOf:void 0;function vQ(t,e,n,r,i,a,o){switch(n){case yQ:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case gQ:return!(t.byteLength!=e.byteLength||!a(new MT(t),new MT(e)));case sQ:case lQ:case fQ:return tQ(+t,+e);case cQ:return t.name==e.name&&t.message==e.message;case dQ:case pQ:return t==e+"";case uQ:var s=rQ;case hQ:var l=r&aQ;if(s||(s=iQ),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;r|=oQ,o.set(t,e);var u=nQ(s(t),s(e),r,i,a,o);return o.delete(t),u;case mQ:if(Zy)return Zy.call(t)==Zy.call(e)}return!1}var bQ=vQ;function wQ(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var _D=wQ,_Q=_D,xQ=Un;function kQ(t,e,n){var r=e(t);return xQ(t)?r:_Q(r,n(t))}var EQ=kQ;function SQ(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var o=t[n];e(o,n,t)&&(a[i++]=o)}return a}var TQ=SQ;function AQ(){return[]}var PQ=AQ,IQ=TQ,OQ=PQ,CQ=Object.prototype,NQ=CQ.propertyIsEnumerable,LT=Object.getOwnPropertySymbols,RQ=LT?function(t){return t==null?[]:(t=Object(t),IQ(LT(t),function(e){return NQ.call(t,e)}))}:OQ,jQ=RQ;function DQ(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var MQ=DQ,$Q=Bi,LQ=zi,VQ="[object Arguments]";function FQ(t){return LQ(t)&&$Q(t)==VQ}var UQ=FQ,VT=UQ,BQ=zi,xD=Object.prototype,zQ=xD.hasOwnProperty,WQ=xD.propertyIsEnumerable,qQ=VT(function(){return arguments}())?VT:function(t){return BQ(t)&&zQ.call(t,"callee")&&!WQ.call(t,"callee")},Kx=qQ,Cp={exports:{}};function HQ(){return!1}var KQ=HQ;Cp.exports;(function(t,e){var n=ii,r=KQ,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?n.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||r;t.exports=c})(Cp,Cp.exports);var kD=Cp.exports,GQ=9007199254740991,XQ=/^(?:0|[1-9]\d*)$/;function YQ(t,e){var n=typeof t;return e=e??GQ,!!e&&(n=="number"||n!="symbol"&&XQ.test(t))&&t>-1&&t%1==0&&t<e}var Gx=YQ,QQ=9007199254740991;function JQ(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=QQ}var Xx=JQ,ZQ=Bi,eJ=Xx,tJ=zi,nJ="[object Arguments]",rJ="[object Array]",iJ="[object Boolean]",aJ="[object Date]",oJ="[object Error]",sJ="[object Function]",lJ="[object Map]",cJ="[object Number]",uJ="[object Object]",fJ="[object RegExp]",dJ="[object Set]",hJ="[object String]",pJ="[object WeakMap]",mJ="[object ArrayBuffer]",gJ="[object DataView]",yJ="[object Float32Array]",vJ="[object Float64Array]",bJ="[object Int8Array]",wJ="[object Int16Array]",_J="[object Int32Array]",xJ="[object Uint8Array]",kJ="[object Uint8ClampedArray]",EJ="[object Uint16Array]",SJ="[object Uint32Array]",at={};at[yJ]=at[vJ]=at[bJ]=at[wJ]=at[_J]=at[xJ]=at[kJ]=at[EJ]=at[SJ]=!0;at[nJ]=at[rJ]=at[mJ]=at[iJ]=at[gJ]=at[aJ]=at[oJ]=at[sJ]=at[lJ]=at[cJ]=at[uJ]=at[fJ]=at[dJ]=at[hJ]=at[pJ]=!1;function TJ(t){return tJ(t)&&eJ(t.length)&&!!at[ZQ(t)]}var AJ=TJ;function PJ(t){return function(e){return t(e)}}var ED=PJ,Np={exports:{}};Np.exports;(function(t,e){var n=Nj,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,o=a&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(Np,Np.exports);var IJ=Np.exports,OJ=AJ,CJ=ED,FT=IJ,UT=FT&&FT.isTypedArray,NJ=UT?CJ(UT):OJ,SD=NJ,RJ=MQ,jJ=Kx,DJ=Un,MJ=kD,$J=Gx,LJ=SD,VJ=Object.prototype,FJ=VJ.hasOwnProperty;function UJ(t,e){var n=DJ(t),r=!n&&jJ(t),i=!n&&!r&&MJ(t),a=!n&&!r&&!i&&LJ(t),o=n||r||i||a,s=o?RJ(t.length,String):[],l=s.length;for(var c in t)(e||FJ.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||$J(c,l)))&&s.push(c);return s}var BJ=UJ,zJ=Object.prototype;function WJ(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||zJ;return t===n}var qJ=WJ;function HJ(t,e){return function(n){return t(e(n))}}var TD=HJ,KJ=TD,GJ=KJ(Object.keys,Object),XJ=GJ,YJ=qJ,QJ=XJ,JJ=Object.prototype,ZJ=JJ.hasOwnProperty;function eZ(t){if(!YJ(t))return QJ(t);var e=[];for(var n in Object(t))ZJ.call(t,n)&&n!="constructor"&&e.push(n);return e}var tZ=eZ,nZ=Ix,rZ=Xx;function iZ(t){return t!=null&&rZ(t.length)&&!nZ(t)}var Zf=iZ,aZ=BJ,oZ=tZ,sZ=Zf;function lZ(t){return sZ(t)?aZ(t):oZ(t)}var wg=lZ,cZ=EQ,uZ=jQ,fZ=wg;function dZ(t){return cZ(t,fZ,uZ)}var hZ=dZ,BT=hZ,pZ=1,mZ=Object.prototype,gZ=mZ.hasOwnProperty;function yZ(t,e,n,r,i,a){var o=n&pZ,s=BT(t),l=s.length,c=BT(e),u=c.length;if(l!=u&&!o)return!1;for(var f=l;f--;){var h=s[f];if(!(o?h in e:gZ.call(e,h)))return!1}var p=a.get(t),m=a.get(e);if(p&&m)return p==e&&m==t;var y=!0;a.set(t,e),a.set(e,t);for(var v=o;++f<l;){h=s[f];var x=t[h],b=e[h];if(r)var _=o?r(b,x,h,e,t,a):r(x,b,h,t,e,a);if(!(_===void 0?x===b||i(x,b,n,r,a):_)){y=!1;break}v||(v=h=="constructor")}if(y&&!v){var k=t.constructor,S=e.constructor;k!=S&&"constructor"in t&&"constructor"in e&&!(typeof k=="function"&&k instanceof k&&typeof S=="function"&&S instanceof S)&&(y=!1)}return a.delete(t),a.delete(e),y}var vZ=yZ,bZ=Zo,wZ=ii,_Z=bZ(wZ,"DataView"),xZ=_Z,kZ=Zo,EZ=ii,SZ=kZ(EZ,"Promise"),TZ=SZ,AZ=Zo,PZ=ii,IZ=AZ(PZ,"Set"),AD=IZ,OZ=Zo,CZ=ii,NZ=OZ(CZ,"WeakMap"),RZ=NZ,sb=xZ,lb=Cx,cb=TZ,ub=AD,fb=RZ,PD=Bi,ql=jj,zT="[object Map]",jZ="[object Object]",WT="[object Promise]",qT="[object Set]",HT="[object WeakMap]",KT="[object DataView]",DZ=ql(sb),MZ=ql(lb),$Z=ql(cb),LZ=ql(ub),VZ=ql(fb),lo=PD;(sb&&lo(new sb(new ArrayBuffer(1)))!=KT||lb&&lo(new lb)!=zT||cb&&lo(cb.resolve())!=WT||ub&&lo(new ub)!=qT||fb&&lo(new fb)!=HT)&&(lo=function(t){var e=PD(t),n=e==jZ?t.constructor:void 0,r=n?ql(n):"";if(r)switch(r){case DZ:return KT;case MZ:return zT;case $Z:return WT;case LZ:return qT;case VZ:return HT}return e});var FZ=lo,ev=gD,UZ=wD,BZ=bQ,zZ=vZ,GT=FZ,XT=Un,YT=kD,WZ=SD,qZ=1,QT="[object Arguments]",JT="[object Array]",Jd="[object Object]",HZ=Object.prototype,ZT=HZ.hasOwnProperty;function KZ(t,e,n,r,i,a){var o=XT(t),s=XT(e),l=o?JT:GT(t),c=s?JT:GT(e);l=l==QT?Jd:l,c=c==QT?Jd:c;var u=l==Jd,f=c==Jd,h=l==c;if(h&&YT(t)){if(!YT(e))return!1;o=!0,u=!1}if(h&&!u)return a||(a=new ev),o||WZ(t)?UZ(t,e,n,r,i,a):BZ(t,e,l,n,r,i,a);if(!(n&qZ)){var p=u&&ZT.call(t,"__wrapped__"),m=f&&ZT.call(e,"__wrapped__");if(p||m){var y=p?t.value():t,v=m?e.value():e;return a||(a=new ev),i(y,v,n,r,a)}}return h?(a||(a=new ev),zZ(t,e,n,r,i,a)):!1}var GZ=KZ,XZ=GZ,eA=zi;function ID(t,e,n,r,i){return t===e?!0:t==null||e==null||!eA(t)&&!eA(e)?t!==t&&e!==e:XZ(t,e,n,r,ID,i)}var Yx=ID,YZ=gD,QZ=Yx,JZ=1,ZZ=2;function eee(t,e,n,r){var i=n.length,a=i,o=!r;if(t==null)return!a;for(t=Object(t);i--;){var s=n[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=n[i];var l=s[0],c=t[l],u=s[1];if(o&&s[2]){if(c===void 0&&!(l in t))return!1}else{var f=new YZ;if(r)var h=r(c,u,l,t,e,f);if(!(h===void 0?QZ(u,c,JZ|ZZ,r,f):h))return!1}}return!0}var tee=eee,nee=Ka;function ree(t){return t===t&&!nee(t)}var OD=ree,iee=OD,aee=wg;function oee(t){for(var e=aee(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,iee(i)]}return e}var see=oee;function lee(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var CD=lee,cee=tee,uee=see,fee=CD;function dee(t){var e=uee(t);return e.length==1&&e[0][2]?fee(e[0][0],e[0][1]):function(n){return n===t||cee(n,t,e)}}var hee=dee;function pee(t,e){return t!=null&&e in Object(t)}var mee=pee,gee=Vj,yee=Kx,vee=Un,bee=Gx,wee=Xx,_ee=ag;function xee(t,e,n){e=gee(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var o=_ee(e[r]);if(!(a=t!=null&&n(t,o)))break;t=t[o]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&wee(i)&&bee(o,i)&&(vee(t)||yee(t)))}var kee=xee,Eee=mee,See=kee;function Tee(t,e){return t!=null&&See(t,e,Eee)}var Aee=Tee,Pee=Yx,Iee=Fj,Oee=Aee,Cee=Px,Nee=OD,Ree=CD,jee=ag,Dee=1,Mee=2;function $ee(t,e){return Cee(t)&&Nee(e)?Ree(jee(t),e):function(n){var r=Iee(n,t);return r===void 0&&r===e?Oee(n,t):Pee(e,r,Dee|Mee)}}var Lee=$ee;function Vee(t){return t}var Hl=Vee;function Fee(t){return function(e){return e==null?void 0:e[t]}}var Uee=Fee,Bee=Dx;function zee(t){return function(e){return Bee(e,t)}}var Wee=zee,qee=Uee,Hee=Wee,Kee=Px,Gee=ag;function Xee(t){return Kee(t)?qee(Gee(t)):Hee(t)}var Yee=Xee,Qee=hee,Jee=Lee,Zee=Hl,ete=Un,tte=Yee;function nte(t){return typeof t=="function"?t:t==null?Zee:typeof t=="object"?ete(t)?Jee(t[0],t[1]):Qee(t):tte(t)}var ai=nte;function rte(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var ND=rte;function ite(t){return t!==t}var ate=ite;function ote(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var ste=ote,lte=ND,cte=ate,ute=ste;function fte(t,e,n){return e===e?ute(t,e,n):lte(t,cte,n)}var dte=fte,hte=dte;function pte(t,e){var n=t==null?0:t.length;return!!n&&hte(t,e,0)>-1}var mte=pte;function gte(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var yte=gte;function vte(){}var bte=vte,tv=AD,wte=bte,_te=Hx,xte=1/0,kte=tv&&1/_te(new tv([,-0]))[1]==xte?function(t){return new tv(t)}:wte,Ete=kte,Ste=yD,Tte=mte,Ate=yte,Pte=bD,Ite=Ete,Ote=Hx,Cte=200;function Nte(t,e,n){var r=-1,i=Tte,a=t.length,o=!0,s=[],l=s;if(n)o=!1,i=Ate;else if(a>=Cte){var c=e?null:Ite(t);if(c)return Ote(c);o=!1,i=Pte,l=new Ste}else l=e?[]:s;e:for(;++r<a;){var u=t[r],f=e?e(u):u;if(u=n||u!==0?u:0,o&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),s.push(u)}else i(l,f,n)||(l!==s&&l.push(f),s.push(u))}return s}var Rte=Nte,jte=ai,Dte=Rte;function Mte(t,e){return t&&t.length?Dte(t,jte(e)):[]}var $te=Mte;const tA=Ke($te);function RD(t,e,n){return e===!0?tA(t,n):Se(e)?tA(t,e):t}function hl(t){"@babel/helpers - typeof";return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hl(t)}var Lte=["ref"];function nA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function to(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nA(Object(n),!0).forEach(function(r){_g(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,MD(r.key),r)}}function Fte(t,e,n){return e&&rA(t.prototype,e),n&&rA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ute(t,e,n){return e=Rp(e),Bte(t,jD()?Reflect.construct(e,n||[],Rp(t).constructor):e.apply(t,n))}function Bte(t,e){if(e&&(hl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DD(t)}function jD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jD=function(){return!!t})()}function Rp(t){return Rp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rp(t)}function DD(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&db(t,e)}function db(t,e){return db=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},db(t,e)}function _g(t,e,n){return e=MD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MD(t){var e=Wte(t,"string");return hl(e)=="symbol"?e:String(e)}function Wte(t,e){if(hl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qte(t,e){if(t==null)return{};var n=Hte(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Hte(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Kte(t){return t.value}function Gte(t,e){if(M.isValidElement(t))return M.cloneElement(t,e);if(typeof t=="function")return M.createElement(t,e);e.ref;var n=qte(e,Lte);return M.createElement(qx,n)}var iA=1,Ku=function(t){zte(e,t);function e(){var n;Vte(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Ute(this,e,[].concat(i)),_g(DD(n),"lastBoundingBox",{width:-1,height:-1}),n}return Fte(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>iA||Math.abs(i.height-this.lastBoundingBox.height)>iA)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?to({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();f={left:((c||0)-p.width)/2}}else f=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var m=this.getBBoxSnapshot();h={top:((u||0)-m.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return to(to({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,f=to(to({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return M.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){r.wrapperNode=p}},Gte(a,to(to({},this.props),{},{payload:RD(u,c,Kte)})))}}],[{key:"getWithHeight",value:function(r,i){var a=r.props.layout;return a==="vertical"&&re(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}]),e}(D.PureComponent);_g(Ku,"displayName","Legend");_g(Ku,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var aA=Xf,Xte=Kx,Yte=Un,oA=aA?aA.isConcatSpreadable:void 0;function Qte(t){return Yte(t)||Xte(t)||!!(oA&&t&&t[oA])}var Jte=Qte,Zte=_D,ene=Jte;function $D(t,e,n,r,i){var a=-1,o=t.length;for(n||(n=ene),i||(i=[]);++a<o;){var s=t[a];e>0&&n(s)?e>1?$D(s,e-1,n,r,i):Zte(i,s):r||(i[i.length]=s)}return i}var LD=$D;function tne(t){return function(e,n,r){for(var i=-1,a=Object(e),o=r(e),s=o.length;s--;){var l=o[t?s:++i];if(n(a[l],l,a)===!1)break}return e}}var nne=tne,rne=nne,ine=rne(),ane=ine,one=ane,sne=wg;function lne(t,e){return t&&one(t,e,sne)}var VD=lne,cne=Zf;function une(t,e){return function(n,r){if(n==null)return n;if(!cne(n))return t(n,r);for(var i=n.length,a=e?i:-1,o=Object(n);(e?a--:++a<i)&&r(o[a],a,o)!==!1;);return n}}var fne=une,dne=VD,hne=fne,pne=hne(dne),Qx=pne,mne=Qx,gne=Zf;function yne(t,e){var n=-1,r=gne(t)?Array(t.length):[];return mne(t,function(i,a,o){r[++n]=e(i,a,o)}),r}var FD=yne;function vne(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var bne=vne,sA=Vl;function wne(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=sA(t),o=e!==void 0,s=e===null,l=e===e,c=sA(e);if(!s&&!c&&!a&&t>e||a&&o&&l&&!s&&!c||r&&o&&l||!n&&l||!i)return 1;if(!r&&!a&&!c&&t<e||c&&n&&i&&!r&&!a||s&&n&&i||!o&&i||!l)return-1}return 0}var _ne=wne,xne=_ne;function kne(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,o=i.length,s=n.length;++r<o;){var l=xne(i[r],a[r]);if(l){if(r>=s)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}var Ene=kne,nv=jx,Sne=Dx,Tne=ai,Ane=FD,Pne=bne,Ine=ED,One=Ene,Cne=Hl,Nne=Un;function Rne(t,e,n){e.length?e=nv(e,function(a){return Nne(a)?function(o){return Sne(o,a.length===1?a[0]:a)}:a}):e=[Cne];var r=-1;e=nv(e,Ine(Tne));var i=Ane(t,function(a,o,s){var l=nv(e,function(c){return c(a)});return{criteria:l,index:++r,value:a}});return Pne(i,function(a,o){return One(a,o,n)})}var jne=Rne;function Dne(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Mne=Dne,$ne=Mne,lA=Math.max;function Lne(t,e,n){return e=lA(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=lA(r.length-e,0),o=Array(a);++i<a;)o[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(o),$ne(t,this,s)}}var Vne=Lne;function Fne(t){return function(){return t}}var Une=Fne,Bne=Zo,zne=function(){try{var t=Bne(Object,"defineProperty");return t({},"",{}),t}catch{}}(),UD=zne,Wne=Une,cA=UD,qne=Hl,Hne=cA?function(t,e){return cA(t,"toString",{configurable:!0,enumerable:!1,value:Wne(e),writable:!0})}:qne,Kne=Hne,Gne=800,Xne=16,Yne=Date.now;function Qne(t){var e=0,n=0;return function(){var r=Yne(),i=Xne-(r-n);if(n=r,i>0){if(++e>=Gne)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Jne=Qne,Zne=Kne,ere=Jne,tre=ere(Zne),nre=tre,rre=Hl,ire=Vne,are=nre;function ore(t,e){return are(ire(t,e,rre),t+"")}var sre=ore,lre=Ox,cre=Zf,ure=Gx,fre=Ka;function dre(t,e,n){if(!fre(n))return!1;var r=typeof e;return(r=="number"?cre(n)&&ure(e,n.length):r=="string"&&e in n)?lre(n[e],t):!1}var xg=dre,hre=LD,pre=jne,mre=sre,uA=xg,gre=mre(function(t,e){if(t==null)return[];var n=e.length;return n>1&&uA(t,e[0],e[1])?e=[]:n>2&&uA(e[0],e[1],e[2])&&(e=[e[0]]),pre(t,hre(e,1),[])}),yre=gre;const Jx=Ke(yre);function Gu(t){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gu(t)}function hb(){return hb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hb.apply(this,arguments)}function vre(t,e){return xre(t)||_re(t,e)||wre(t,e)||bre()}function bre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wre(t,e){if(t){if(typeof t=="string")return fA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fA(t,e)}}function fA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _re(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function xre(t){if(Array.isArray(t))return t}function dA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dA(Object(n),!0).forEach(function(r){kre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kre(t,e,n){return e=Ere(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ere(t){var e=Sre(t,"string");return Gu(e)=="symbol"?e:String(e)}function Sre(t,e){if(Gu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tre(t){return Array.isArray(t)&&Dt(t[0])&&Dt(t[1])?t.join(" ~ "):t}var Are=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,s=o===void 0?{}:o,l=e.labelStyle,c=l===void 0?{}:l,u=e.payload,f=e.formatter,h=e.itemSorter,p=e.wrapperClassName,m=e.labelClassName,y=e.label,v=e.labelFormatter,x=e.accessibilityLayer,b=x===void 0?!1:x,_=function(){if(u&&u.length){var R={padding:0,margin:0},C=(h?Jx(u,h):u).map(function(L,q){if(L.type==="none")return null;var z=rv({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},s),Y=L.formatter||f||Tre,$=L.value,H=L.name,Z=$,ae=H;if(Y&&Z!=null&&ae!=null){var Q=Y($,H,L,q,u);if(Array.isArray(Q)){var F=vre(Q,2);Z=F[0],ae=F[1]}else Z=Q}return M.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(q),style:z},Dt(ae)?M.createElement("span",{className:"recharts-tooltip-item-name"},ae):null,Dt(ae)?M.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,M.createElement("span",{className:"recharts-tooltip-item-value"},Z),M.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return M.createElement("ul",{className:"recharts-tooltip-item-list",style:R},C)}return null},k=rv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),S=rv({margin:0},c),I=!Ie(y),T=I?y:"",E=Pe("recharts-default-tooltip",p),P=Pe("recharts-tooltip-label",m);I&&v&&u!==void 0&&u!==null&&(T=v(y,u));var O=b?{role:"status","aria-live":"assertive"}:{};return M.createElement("div",hb({className:E,style:k},O),M.createElement("p",{className:P,style:S},M.isValidElement(T)?T:"".concat(T)),_())};function Xu(t){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xu(t)}function Zd(t,e,n){return e=Pre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pre(t){var e=Ire(t,"string");return Xu(e)=="symbol"?e:String(e)}function Ire(t,e){if(Xu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kc="recharts-tooltip-wrapper",Ore={visibility:"hidden"};function Cre(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Pe(kc,Zd(Zd(Zd(Zd({},"".concat(kc,"-right"),re(n)&&e&&re(e.x)&&n>=e.x),"".concat(kc,"-left"),re(n)&&e&&re(e.x)&&n<e.x),"".concat(kc,"-bottom"),re(r)&&e&&re(e.y)&&r>=e.y),"".concat(kc,"-top"),re(r)&&e&&re(e.y)&&r<e.y))}function hA(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(a&&re(a[r]))return a[r];var u=n[r]-s-i,f=n[r]+i;if(e[r])return o[r]?u:f;if(o[r]){var h=u,p=l[r];return h<p?Math.max(f,l[r]):Math.max(u,l[r])}var m=f+s,y=l[r]+c;return m>y?Math.max(u,l[r]):Math.max(f,l[r])}function Nre(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Rre(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,c,u,f;return o.height>0&&o.width>0&&n?(u=hA({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=hA({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=Nre({translateX:u,translateY:f,useTranslate3d:s})):c=Ore,{cssProperties:c,cssClasses:Cre({translateX:u,translateY:f,coordinate:n})}}function pl(t){"@babel/helpers - typeof";return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pl(t)}function pA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pA(Object(n),!0).forEach(function(r){gb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dre(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zD(r.key),r)}}function Mre(t,e,n){return e&&Dre(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $re(t,e,n){return e=jp(e),Lre(t,BD()?Reflect.construct(e,n||[],jp(t).constructor):e.apply(t,n))}function Lre(t,e){if(e&&(pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pb(t)}function BD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BD=function(){return!!t})()}function jp(t){return jp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jp(t)}function pb(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mb(t,e)}function mb(t,e){return mb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mb(t,e)}function gb(t,e,n){return e=zD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zD(t){var e=Fre(t,"string");return pl(e)=="symbol"?e:String(e)}function Fre(t,e){if(pl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gA=1,Ure=function(t){Vre(e,t);function e(){var n;jre(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=$re(this,e,[].concat(i)),gb(pb(n),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),gb(pb(n),"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,c,u;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(u=n.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),n}return Mre(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>gA||Math.abs(r.height-this.state.lastBoundingBox.height)>gA)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,p=i.offset,m=i.position,y=i.reverseDirection,v=i.useTranslate3d,x=i.viewBox,b=i.wrapperStyle,_=Rre({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:p,position:m,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:x}),k=_.cssClasses,S=_.cssProperties,I=mA(mA({transition:h&&a?"transform ".concat(s,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return M.createElement("div",{tabIndex:-1,className:k,style:I,ref:function(E){r.wrapperNode=E}},c)}}]),e}(D.PureComponent),Bre=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ai={isSsr:Bre(),get:function(e){return Ai[e]},set:function(e,n){if(typeof e=="string")Ai[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){Ai[i]=e[i]})}}};function ml(t){"@babel/helpers - typeof";return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ml(t)}function yA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yA(Object(n),!0).forEach(function(r){Zx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wre(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qD(r.key),r)}}function qre(t,e,n){return e&&Wre(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hre(t,e,n){return e=Dp(e),Kre(t,WD()?Reflect.construct(e,n||[],Dp(t).constructor):e.apply(t,n))}function Kre(t,e){if(e&&(ml(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gre(t)}function Gre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WD=function(){return!!t})()}function Dp(t){return Dp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dp(t)}function Xre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yb(t,e)}function yb(t,e){return yb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yb(t,e)}function Zx(t,e,n){return e=qD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qD(t){var e=Yre(t,"string");return ml(e)=="symbol"?e:String(e)}function Yre(t,e){if(ml(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ml(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qre(t){return t.dataKey}function Jre(t,e){return M.isValidElement(t)?M.cloneElement(t,e):typeof t=="function"?M.createElement(t,e):M.createElement(Are,e)}var Vr=function(t){Xre(e,t);function e(){return zre(this,e),Hre(this,e,arguments)}return qre(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,f=i.filterNull,h=i.isAnimationActive,p=i.offset,m=i.payload,y=i.payloadUniqBy,v=i.position,x=i.reverseDirection,b=i.useTranslate3d,_=i.viewBox,k=i.wrapperStyle,S=m??[];f&&S.length&&(S=RD(m.filter(function(T){return T.value!=null&&(T.hide!==!0||r.props.includeHidden)}),y,Qre));var I=S.length>0;return M.createElement(Ure,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:h,active:a,coordinate:u,hasPayload:I,offset:p,position:v,reverseDirection:x,useTranslate3d:b,viewBox:_,wrapperStyle:k},Jre(c,vA(vA({},this.props),{},{payload:S})))}}]),e}(D.PureComponent);Zx(Vr,"displayName","Tooltip");Zx(Vr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ai.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Zre=ii,eie=function(){return Zre.Date.now()},tie=eie,nie=/\s/;function rie(t){for(var e=t.length;e--&&nie.test(t.charAt(e)););return e}var iie=rie,aie=iie,oie=/^\s+/;function sie(t){return t&&t.slice(0,aie(t)+1).replace(oie,"")}var lie=sie,cie=lie,bA=Ka,uie=Vl,wA=NaN,fie=/^[-+]0x[0-9a-f]+$/i,die=/^0b[01]+$/i,hie=/^0o[0-7]+$/i,pie=parseInt;function mie(t){if(typeof t=="number")return t;if(uie(t))return wA;if(bA(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=bA(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=cie(t);var n=die.test(t);return n||hie.test(t)?pie(t.slice(2),n?2:8):fie.test(t)?wA:+t}var HD=mie,gie=Ka,iv=tie,_A=HD,yie="Expected a function",vie=Math.max,bie=Math.min;function wie(t,e,n){var r,i,a,o,s,l,c=0,u=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(yie);e=_A(e)||0,gie(n)&&(u=!!n.leading,f="maxWait"in n,a=f?vie(_A(n.maxWait)||0,e):a,h="trailing"in n?!!n.trailing:h);function p(I){var T=r,E=i;return r=i=void 0,c=I,o=t.apply(E,T),o}function m(I){return c=I,s=setTimeout(x,e),u?p(I):o}function y(I){var T=I-l,E=I-c,P=e-T;return f?bie(P,a-E):P}function v(I){var T=I-l,E=I-c;return l===void 0||T>=e||T<0||f&&E>=a}function x(){var I=iv();if(v(I))return b(I);s=setTimeout(x,y(I))}function b(I){return s=void 0,h&&r?p(I):(r=i=void 0,o)}function _(){s!==void 0&&clearTimeout(s),c=0,r=l=i=s=void 0}function k(){return s===void 0?o:b(iv())}function S(){var I=iv(),T=v(I);if(r=arguments,i=this,l=I,T){if(s===void 0)return m(l);if(f)return clearTimeout(s),s=setTimeout(x,e),p(l)}return s===void 0&&(s=setTimeout(x,e)),o}return S.cancel=_,S.flush=k,S}var _ie=wie,xie=_ie,kie=Ka,Eie="Expected a function";function Sie(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Eie);return kie(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),xie(t,e,{leading:r,maxWait:e,trailing:i})}var Tie=Sie;const KD=Ke(Tie);function Yu(t){"@babel/helpers - typeof";return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yu(t)}function xA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xA(Object(n),!0).forEach(function(r){Aie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Aie(t,e,n){return e=Pie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pie(t){var e=Iie(t,"string");return Yu(e)=="symbol"?e:String(e)}function Iie(t,e){if(Yu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Yu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Oie(t,e){return jie(t)||Rie(t,e)||Nie(t,e)||Cie()}function Cie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nie(t,e){if(t){if(typeof t=="string")return kA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kA(t,e)}}function kA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function jie(t){if(Array.isArray(t))return t}var e1=D.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,o=a===void 0?"100%":a,s=t.height,l=s===void 0?"100%":s,c=t.minWidth,u=c===void 0?0:c,f=t.minHeight,h=t.maxHeight,p=t.children,m=t.debounce,y=m===void 0?0:m,v=t.id,x=t.className,b=t.onResize,_=t.style,k=_===void 0?{}:_,S=D.useRef(null),I=D.useRef();I.current=b,D.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var T=D.useState({containerWidth:i.width,containerHeight:i.height}),E=Oie(T,2),P=E[0],O=E[1],N=D.useCallback(function(C,L){O(function(q){var z=Math.round(C),Y=Math.round(L);return q.containerWidth===z&&q.containerHeight===Y?q:{containerWidth:z,containerHeight:Y}})},[]);D.useEffect(function(){var C=function(H){var Z,ae=H[0].contentRect,Q=ae.width,F=ae.height;N(Q,F),(Z=I.current)===null||Z===void 0||Z.call(I,Q,F)};y>0&&(C=KD(C,y,{trailing:!0,leading:!1}));var L=new ResizeObserver(C),q=S.current.getBoundingClientRect(),z=q.width,Y=q.height;return N(z,Y),L.observe(S.current),function(){L.disconnect()}},[N,y]);var R=D.useMemo(function(){var C=P.containerWidth,L=P.containerHeight;if(C<0||L<0)return null;Pr(go(o)||go(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),Pr(!n||n>0,"The aspect(%s) must be greater than zero.",n);var q=go(o)?C:o,z=go(l)?L:l;n&&n>0&&(q?z=q/n:z&&(q=z*n),h&&z>h&&(z=h)),Pr(q>0||z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,q,z,o,l,u,f,n);var Y=!Array.isArray(p)&&q0.isElement(p)&&Ti(p.type).endsWith("Chart");return M.Children.map(p,function($){return q0.isElement($)?D.cloneElement($,eh({width:q,height:z},Y?{style:eh({height:"100%",width:"100%",maxHeight:z,maxWidth:q},$.props.style)}:{})):$})},[n,p,l,h,f,u,P,o]);return M.createElement("div",{id:v?"".concat(v):void 0,className:Pe("recharts-responsive-container",x),style:eh(eh({},k),{},{width:o,height:l,minWidth:u,minHeight:f,maxHeight:h}),ref:S},R)}),ed=function(e){return null};ed.displayName="Cell";function Qu(t){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qu(t)}function EA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EA(Object(n),!0).forEach(function(r){Die(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Die(t,e,n){return e=Mie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mie(t){var e=$ie(t,"string");return Qu(e)=="symbol"?e:String(e)}function $ie(t,e){if(Qu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Qu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hs={widthCache:{},cacheCount:0},Lie=2e3,Vie={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},SA="recharts_measurement_span";function Fie(t){var e=vb({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var cu=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ai.isSsr)return{width:0,height:0};var r=Fie(n),i=JSON.stringify({text:e,copyStyle:r});if(hs.widthCache[i])return hs.widthCache[i];try{var a=document.getElementById(SA);a||(a=document.createElement("span"),a.setAttribute("id",SA),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=vb(vb({},Vie),r);Object.assign(a.style,o),a.textContent="".concat(e);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return hs.widthCache[i]=l,++hs.cacheCount>Lie&&(hs.cacheCount=0,hs.widthCache={}),l}catch{return{width:0,height:0}}},Uie=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Ju(t){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ju(t)}function Mp(t,e){return qie(t)||Wie(t,e)||zie(t,e)||Bie()}function Bie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zie(t,e){if(t){if(typeof t=="string")return TA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TA(t,e)}}function TA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function qie(t){if(Array.isArray(t))return t}function Hie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Gie(r.key),r)}}function Kie(t,e,n){return e&&AA(t.prototype,e),n&&AA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gie(t){var e=Xie(t,"string");return Ju(e)=="symbol"?e:String(e)}function Xie(t,e){if(Ju(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ju(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var PA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,IA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Yie=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Qie=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,GD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Jie=Object.keys(GD),Rs="NaN";function Zie(t,e){return t*GD[e]}var th=function(){function t(e,n){Hie(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Yie.test(n)&&(this.num=NaN,this.unit=""),Jie.includes(n)&&(this.num=Zie(e,n),this.unit="px")}return Kie(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Qie.exec(n))!==null&&r!==void 0?r:[],a=Mp(i,3),o=a[1],s=a[2];return new t(parseFloat(o),s??"")}}]),t}();function XD(t){if(t.includes(Rs))return Rs;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=PA.exec(e))!==null&&n!==void 0?n:[],i=Mp(r,4),a=i[1],o=i[2],s=i[3],l=th.parse(a??""),c=th.parse(s??""),u=o==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return Rs;e=e.replace(PA,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=IA.exec(e))!==null&&f!==void 0?f:[],p=Mp(h,4),m=p[1],y=p[2],v=p[3],x=th.parse(m??""),b=th.parse(v??""),_=y==="+"?x.add(b):x.subtract(b);if(_.isNaN())return Rs;e=e.replace(IA,_.toString())}return e}var OA=/\(([^()]*)\)/;function eae(t){for(var e=t;e.includes("(");){var n=OA.exec(e),r=Mp(n,2),i=r[1];e=e.replace(OA,XD(i))}return e}function tae(t){var e=t.replace(/\s+/g,"");return e=eae(e),e=XD(e),e}function nae(t){try{return tae(t)}catch{return Rs}}function av(t){var e=nae(t.slice(5,-1));return e===Rs?"":e}var rae=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],iae=["dx","dy","angle","className","breakAll"];function bb(){return bb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bb.apply(this,arguments)}function CA(t,e){if(t==null)return{};var n=aae(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aae(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function NA(t,e){return cae(t)||lae(t,e)||sae(t,e)||oae()}function oae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sae(t,e){if(t){if(typeof t=="string")return RA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RA(t,e)}}function RA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function cae(t){if(Array.isArray(t))return t}var YD=/[ \f\n\r\t\v\u2028\u2029]+/,QD=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];Ie(n)||(r?a=n.toString().split(""):a=n.toString().split(YD));var o=a.map(function(l){return{word:l,width:cu(l,i).width}}),s=r?0:cu(" ",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},uae=function(e,n,r,i,a){var o=e.maxLines,s=e.children,l=e.style,c=e.breakAll,u=re(o),f=s,h=function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return q.reduce(function(z,Y){var $=Y.word,H=Y.width,Z=z[z.length-1];if(Z&&(i==null||a||Z.width+H+r<Number(i)))Z.words.push($),Z.width+=H+r;else{var ae={words:[$],width:H};z.push(ae)}return z},[])},p=h(n),m=function(q){return q.reduce(function(z,Y){return z.width>Y.width?z:Y})};if(!u)return p;for(var y="…",v=function(q){var z=f.slice(0,q),Y=QD({breakAll:c,style:l,children:z+y}).wordsWithComputedWidth,$=h(Y),H=$.length>o||m($).width>Number(i);return[H,$]},x=0,b=f.length-1,_=0,k;x<=b&&_<=f.length-1;){var S=Math.floor((x+b)/2),I=S-1,T=v(I),E=NA(T,2),P=E[0],O=E[1],N=v(S),R=NA(N,1),C=R[0];if(!P&&!C&&(x=S+1),P&&C&&(b=S-1),!P&&C){k=O;break}_++}return k||p},jA=function(e){var n=Ie(e)?[]:e.toString().split(YD);return[{words:n}]},fae=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,s=e.maxLines;if((n||r)&&!Ai.isSsr){var l,c,u=QD({breakAll:o,children:i,style:a});if(u){var f=u.wordsWithComputedWidth,h=u.spaceWidth;l=f,c=h}else return jA(i);return uae({breakAll:o,children:i,maxLines:s,style:a},l,c,n,r)}return jA(i)},DA="#808080",Fo=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.lineHeight,s=o===void 0?"1em":o,l=e.capHeight,c=l===void 0?"0.71em":l,u=e.scaleToFit,f=u===void 0?!1:u,h=e.textAnchor,p=h===void 0?"start":h,m=e.verticalAnchor,y=m===void 0?"end":m,v=e.fill,x=v===void 0?DA:v,b=CA(e,rae),_=D.useMemo(function(){return fae({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),k=b.dx,S=b.dy,I=b.angle,T=b.className,E=b.breakAll,P=CA(b,iae);if(!Dt(r)||!Dt(a))return null;var O=r+(re(k)?k:0),N=a+(re(S)?S:0),R;switch(y){case"start":R=av("calc(".concat(c,")"));break;case"middle":R=av("calc(".concat((_.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:R=av("calc(".concat(_.length-1," * -").concat(s,")"));break}var C=[];if(f){var L=_[0].width,q=b.width;C.push("scale(".concat((re(q)?q/L:1)/L,")"))}return I&&C.push("rotate(".concat(I,", ").concat(O,", ").concat(N,")")),C.length&&(P.transform=C.join(" ")),M.createElement("text",bb({},we(P,!0),{x:O,y:N,className:Pe("recharts-text",T),textAnchor:p,fill:x.includes("url")?DA:x}),_.map(function(z,Y){var $=z.words.join(E?"":" ");return M.createElement("tspan",{x:O,dy:Y===0?R:s,key:$},$)}))};function Ia(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function dae(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function t1(t){let e,n,r;t.length!==2?(e=Ia,n=(s,l)=>Ia(t(s),l),r=(s,l)=>t(s)-l):(e=t===Ia||t===dae?t:hae,n=t,r=t);function i(s,l,c=0,u=s.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;n(s[f],l)<0?c=f+1:u=f}while(c<u)}return c}function a(s,l,c=0,u=s.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;n(s[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function o(s,l,c=0,u=s.length){const f=i(s,l,c,u-1);return f>c&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:o,right:a}}function hae(){return 0}function JD(t){return t===null?NaN:+t}function*pae(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const mae=t1(Ia),td=mae.right;t1(JD).center;class MA extends Map{constructor(e,n=vae){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get($A(this,e))}has(e){return super.has($A(this,e))}set(e,n){return super.set(gae(this,e),n)}delete(e){return super.delete(yae(this,e))}}function $A({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function gae({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function yae({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function vae(t){return t!==null&&typeof t=="object"?t.valueOf():t}function bae(t=Ia){if(t===Ia)return ZD;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function ZD(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const wae=Math.sqrt(50),_ae=Math.sqrt(10),xae=Math.sqrt(2);function $p(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=wae?10:a>=_ae?5:a>=xae?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/o,s=Math.round(t*c),l=Math.round(e*c),s/c<t&&++s,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*o,s=Math.round(t/c),l=Math.round(e/c),s*c<t&&++s,l*c>e&&--l),l<s&&.5<=n&&n<2?$p(t,e,n*2):[s,l,c]}function wb(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?$p(e,t,n):$p(t,e,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let c=0;c<s;++c)l[c]=(a-c)/-o;else for(let c=0;c<s;++c)l[c]=(a-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(i+c)/-o;else for(let c=0;c<s;++c)l[c]=(i+c)*o;return l}function _b(t,e,n){return e=+e,t=+t,n=+n,$p(t,e,n)[2]}function xb(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?_b(e,t,n):_b(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function LA(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function VA(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function eM(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?ZD:bae(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,u=Math.log(l),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),p=Math.max(n,Math.floor(e-c*f/l+h)),m=Math.min(r,Math.floor(e+(l-c)*f/l+h));eM(t,e,p,m,i)}const a=t[e];let o=n,s=r;for(Ec(t,n,e),i(t[r],a)>0&&Ec(t,n,r);o<s;){for(Ec(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[n],a)===0?Ec(t,n,s):(++s,Ec(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Ec(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function kae(t,e,n){if(t=Float64Array.from(pae(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return VA(t);if(e>=1)return LA(t);var r,i=(r-1)*e,a=Math.floor(i),o=LA(eM(t,a).subarray(0,a+1)),s=VA(t.subarray(a+1));return o+(s-o)*(i-a)}}function Eae(t,e,n=JD){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),s=+n(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function Sae(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function yr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Wi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const kb=Symbol("implicit");function n1(){var t=new MA,e=[],n=[],r=kb;function i(a){let o=t.get(a);if(o===void 0){if(r!==kb)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new MA;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return n1(e,n).unknown(r)},yr.apply(i,arguments),i}function Zu(){var t=n1().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,s=!1,l=0,c=0,u=.5;delete t.unknown;function f(){var h=e().length,p=i<r,m=p?i:r,y=p?r:i;a=(y-m)/Math.max(1,h-l+c*2),s&&(a=Math.floor(a)),m+=(y-m-a*(h-l))*u,o=a*(1-l),s&&(m=Math.round(m),o=Math.round(o));var v=Sae(h).map(function(x){return m+a*x});return n(p?v.reverse():v)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,f()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(h){return arguments.length?(s=!!h,f()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},t.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),f()):u},t.copy=function(){return Zu(e(),[r,i]).round(s).paddingInner(l).paddingOuter(c).align(u)},yr.apply(f(),arguments)}function tM(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return tM(e())},t}function uu(){return tM(Zu.apply(null,arguments).paddingInner(1))}function r1(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function nM(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function nd(){}var ef=.7,Lp=1/ef,Xs="\\s*([+-]?\\d+)\\s*",tf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Tae=/^#([0-9a-f]{3,8})$/,Aae=new RegExp(`^rgb\\(${Xs},${Xs},${Xs}\\)$`),Pae=new RegExp(`^rgb\\(${Qr},${Qr},${Qr}\\)$`),Iae=new RegExp(`^rgba\\(${Xs},${Xs},${Xs},${tf}\\)$`),Oae=new RegExp(`^rgba\\(${Qr},${Qr},${Qr},${tf}\\)$`),Cae=new RegExp(`^hsl\\(${tf},${Qr},${Qr}\\)$`),Nae=new RegExp(`^hsla\\(${tf},${Qr},${Qr},${tf}\\)$`),FA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};r1(nd,nf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:UA,formatHex:UA,formatHex8:Rae,formatHsl:jae,formatRgb:BA,toString:BA});function UA(){return this.rgb().formatHex()}function Rae(){return this.rgb().formatHex8()}function jae(){return rM(this).formatHsl()}function BA(){return this.rgb().formatRgb()}function nf(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Tae.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?zA(e):n===3?new Mn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?nh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?nh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Aae.exec(t))?new Mn(e[1],e[2],e[3],1):(e=Pae.exec(t))?new Mn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Iae.exec(t))?nh(e[1],e[2],e[3],e[4]):(e=Oae.exec(t))?nh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Cae.exec(t))?HA(e[1],e[2]/100,e[3]/100,1):(e=Nae.exec(t))?HA(e[1],e[2]/100,e[3]/100,e[4]):FA.hasOwnProperty(t)?zA(FA[t]):t==="transparent"?new Mn(NaN,NaN,NaN,0):null}function zA(t){return new Mn(t>>16&255,t>>8&255,t&255,1)}function nh(t,e,n,r){return r<=0&&(t=e=n=NaN),new Mn(t,e,n,r)}function Dae(t){return t instanceof nd||(t=nf(t)),t?(t=t.rgb(),new Mn(t.r,t.g,t.b,t.opacity)):new Mn}function Eb(t,e,n,r){return arguments.length===1?Dae(t):new Mn(t,e,n,r??1)}function Mn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}r1(Mn,Eb,nM(nd,{brighter(t){return t=t==null?Lp:Math.pow(Lp,t),new Mn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ef:Math.pow(ef,t),new Mn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Mn(Eo(this.r),Eo(this.g),Eo(this.b),Vp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:WA,formatHex:WA,formatHex8:Mae,formatRgb:qA,toString:qA}));function WA(){return`#${yo(this.r)}${yo(this.g)}${yo(this.b)}`}function Mae(){return`#${yo(this.r)}${yo(this.g)}${yo(this.b)}${yo((isNaN(this.opacity)?1:this.opacity)*255)}`}function qA(){const t=Vp(this.opacity);return`${t===1?"rgb(":"rgba("}${Eo(this.r)}, ${Eo(this.g)}, ${Eo(this.b)}${t===1?")":`, ${t})`}`}function Vp(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Eo(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function yo(t){return t=Eo(t),(t<16?"0":"")+t.toString(16)}function HA(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Sr(t,e,n,r)}function rM(t){if(t instanceof Sr)return new Sr(t.h,t.s,t.l,t.opacity);if(t instanceof nd||(t=nf(t)),!t)return new Sr;if(t instanceof Sr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-e)/s+2:o=(e-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Sr(o,s,l,t.opacity)}function $ae(t,e,n,r){return arguments.length===1?rM(t):new Sr(t,e,n,r??1)}function Sr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}r1(Sr,$ae,nM(nd,{brighter(t){return t=t==null?Lp:Math.pow(Lp,t),new Sr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ef:Math.pow(ef,t),new Sr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Mn(ov(t>=240?t-240:t+120,i,r),ov(t,i,r),ov(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Sr(KA(this.h),rh(this.s),rh(this.l),Vp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Vp(this.opacity);return`${t===1?"hsl(":"hsla("}${KA(this.h)}, ${rh(this.s)*100}%, ${rh(this.l)*100}%${t===1?")":`, ${t})`}`}}));function KA(t){return t=(t||0)%360,t<0?t+360:t}function rh(t){return Math.max(0,Math.min(1,t||0))}function ov(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const i1=t=>()=>t;function Lae(t,e){return function(n){return t+n*e}}function Vae(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Fae(t){return(t=+t)==1?iM:function(e,n){return n-e?Vae(e,n,t):i1(isNaN(e)?n:e)}}function iM(t,e){var n=e-t;return n?Lae(t,n):i1(isNaN(t)?e:t)}const GA=function t(e){var n=Fae(e);function r(i,a){var o=n((i=Eb(i)).r,(a=Eb(a)).r),s=n(i.g,a.g),l=n(i.b,a.b),c=iM(i.opacity,a.opacity);return function(u){return i.r=o(u),i.g=s(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r}(1);function Uae(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Bae(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function zae(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Kl(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function Wae(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Fp(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function qae(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Kl(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Sb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,sv=new RegExp(Sb.source,"g");function Hae(t){return function(){return t}}function Kae(t){return function(e){return t(e)+""}}function Gae(t,e){var n=Sb.lastIndex=sv.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(r=Sb.exec(t))&&(i=sv.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:Fp(r,i)})),n=sv.lastIndex;return n<e.length&&(a=e.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?Kae(l[0].x):Hae(e):(e=l.length,function(c){for(var u=0,f;u<e;++u)s[(f=l[u]).i]=f.x(c);return s.join("")})}function Kl(t,e){var n=typeof e,r;return e==null||n==="boolean"?i1(e):(n==="number"?Fp:n==="string"?(r=nf(e))?(e=r,GA):Gae:e instanceof nf?GA:e instanceof Date?Wae:Bae(e)?Uae:Array.isArray(e)?zae:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?qae:Fp)(t,e)}function a1(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Xae(t,e){e===void 0&&(e=t,t=Kl);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function Yae(t){return function(){return t}}function Up(t){return+t}var XA=[0,1];function An(t){return t}function Tb(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Yae(isNaN(e)?NaN:.5)}function Qae(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Jae(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=Tb(i,r),a=n(o,a)):(r=Tb(r,i),a=n(a,o)),function(s){return a(r(s))}}function Zae(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=Tb(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(s){var l=td(t,s,1,r)-1;return a[l](i[l](s))}}function rd(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function kg(){var t=XA,e=XA,n=Kl,r,i,a,o=An,s,l,c;function u(){var h=Math.min(t.length,e.length);return o!==An&&(o=Qae(t[0],t[h-1])),s=h>2?Zae:Jae,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=s(t.map(r),e,n)))(r(o(h)))}return f.invert=function(h){return o(i((c||(c=s(e,t.map(r),Fp)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,Up),u()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),u()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=a1,u()},f.clamp=function(h){return arguments.length?(o=h?!0:An,u()):o!==An},f.interpolate=function(h){return arguments.length?(n=h,u()):n},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,p){return r=h,i=p,u()}}function o1(){return kg()(An,An)}function eoe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Bp(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function gl(t){return t=Bp(Math.abs(t)),t?t[1]:NaN}function toe(t,e){return function(n,r){for(var i=n.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function noe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var roe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function rf(t){if(!(e=roe.exec(t)))throw new Error("invalid format: "+t);var e;return new s1({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}rf.prototype=s1.prototype;function s1(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}s1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ioe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var aM;function aoe(t,e){var n=Bp(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(aM=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Bp(t,Math.max(0,e+a-1))[0]}function YA(t,e){var n=Bp(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const QA={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:eoe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>YA(t*100,e),r:YA,s:aoe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function JA(t){return t}var ZA=Array.prototype.map,eP=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function ooe(t){var e=t.grouping===void 0||t.thousands===void 0?JA:toe(ZA.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?JA:noe(ZA.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(f){f=rf(f);var h=f.fill,p=f.align,m=f.sign,y=f.symbol,v=f.zero,x=f.width,b=f.comma,_=f.precision,k=f.trim,S=f.type;S==="n"?(b=!0,S="g"):QA[S]||(_===void 0&&(_=12),k=!0,S="g"),(v||h==="0"&&p==="=")&&(v=!0,h="0",p="=");var I=y==="$"?n:y==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",T=y==="$"?r:/[%p]/.test(S)?o:"",E=QA[S],P=/[defgprs%]/.test(S);_=_===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function O(N){var R=I,C=T,L,q,z;if(S==="c")C=E(N)+C,N="";else{N=+N;var Y=N<0||1/N<0;if(N=isNaN(N)?l:E(Math.abs(N),_),k&&(N=ioe(N)),Y&&+N==0&&m!=="+"&&(Y=!1),R=(Y?m==="("?m:s:m==="-"||m==="("?"":m)+R,C=(S==="s"?eP[8+aM/3]:"")+C+(Y&&m==="("?")":""),P){for(L=-1,q=N.length;++L<q;)if(z=N.charCodeAt(L),48>z||z>57){C=(z===46?i+N.slice(L+1):N.slice(L))+C,N=N.slice(0,L);break}}}b&&!v&&(N=e(N,1/0));var $=R.length+N.length+C.length,H=$<x?new Array(x-$+1).join(h):"";switch(b&&v&&(N=e(H+N,H.length?x-C.length:1/0),H=""),p){case"<":N=R+N+C+H;break;case"=":N=R+H+N+C;break;case"^":N=H.slice(0,$=H.length>>1)+R+N+C+H.slice($);break;default:N=H+R+N+C;break}return a(N)}return O.toString=function(){return f+""},O}function u(f,h){var p=c((f=rf(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(gl(h)/3)))*3,y=Math.pow(10,-m),v=eP[8+m/3];return function(x){return p(y*x)+v}}return{format:c,formatPrefix:u}}var ih,l1,oM;soe({thousands:",",grouping:[3],currency:["$",""]});function soe(t){return ih=ooe(t),l1=ih.format,oM=ih.formatPrefix,ih}function loe(t){return Math.max(0,-gl(Math.abs(t)))}function coe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(gl(e)/3)))*3-gl(Math.abs(t)))}function uoe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,gl(e)-gl(t))+1}function sM(t,e,n,r){var i=xb(t,e,n),a;switch(r=rf(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=coe(i,o))&&(r.precision=a),oM(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=uoe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=loe(i))&&(r.precision=a-(r.type==="%")*2);break}}return l1(r)}function Ga(t){var e=t.domain;return t.ticks=function(n){var r=e();return wb(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return sM(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],s=r[a],l,c,u=10;for(s<o&&(c=o,o=s,s=c,c=i,i=a,a=c);u-- >0;){if(c=_b(o,s,n),c===l)return r[i]=o,r[a]=s,e(r);if(c>0)o=Math.floor(o/c)*c,s=Math.ceil(s/c)*c;else if(c<0)o=Math.ceil(o*c)/c,s=Math.floor(s*c)/c;else break;l=c}return t},t}function zp(){var t=o1();return t.copy=function(){return rd(t,zp())},yr.apply(t,arguments),Ga(t)}function lM(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Up),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return lM(t).unknown(e)},t=arguments.length?Array.from(t,Up):[0,1],Ga(n)}function cM(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function tP(t){return Math.log(t)}function nP(t){return Math.exp(t)}function foe(t){return-Math.log(-t)}function doe(t){return-Math.exp(-t)}function hoe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function poe(t){return t===10?hoe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function moe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function rP(t){return(e,n)=>-t(-e,n)}function c1(t){const e=t(tP,nP),n=e.domain;let r=10,i,a;function o(){return i=moe(r),a=poe(r),n()[0]<0?(i=rP(i),a=rP(a),t(foe,doe)):t(tP,nP),e}return e.base=function(s){return arguments.length?(r=+s,o()):r},e.domain=function(s){return arguments.length?(n(s),o()):n()},e.ticks=s=>{const l=n();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let h=i(c),p=i(u),m,y;const v=s==null?10:+s;let x=[];if(!(r%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(m=1;m<r;++m)if(y=h<0?m/a(-h):m*a(h),!(y<c)){if(y>u)break;x.push(y)}}else for(;h<=p;++h)for(m=r-1;m>=1;--m)if(y=h>0?m/a(-h):m*a(h),!(y<c)){if(y>u)break;x.push(y)}x.length*2<v&&(x=wb(c,u,v))}else x=wb(h,p,Math.min(p-h,v)).map(a);return f?x.reverse():x},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=rf(l)).precision==null&&(l.trim=!0),l=l1(l)),s===1/0)return l;const c=Math.max(1,r*s/e.ticks().length);return u=>{let f=u/a(Math.round(i(u)));return f*r<r-.5&&(f*=r),f<=c?l(u):""}},e.nice=()=>n(cM(n(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function uM(){const t=c1(kg()).domain([1,10]);return t.copy=()=>rd(t,uM()).base(t.base()),yr.apply(t,arguments),t}function iP(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function aP(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function u1(t){var e=1,n=t(iP(e),aP(e));return n.constant=function(r){return arguments.length?t(iP(e=+r),aP(e)):e},Ga(n)}function fM(){var t=u1(kg());return t.copy=function(){return rd(t,fM()).constant(t.constant())},yr.apply(t,arguments)}function oP(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function goe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function yoe(t){return t<0?-t*t:t*t}function f1(t){var e=t(An,An),n=1;function r(){return n===1?t(An,An):n===.5?t(goe,yoe):t(oP(n),oP(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Ga(e)}function d1(){var t=f1(kg());return t.copy=function(){return rd(t,d1()).exponent(t.exponent())},yr.apply(t,arguments),t}function voe(){return d1.apply(null,arguments).exponent(.5)}function sP(t){return Math.sign(t)*t*t}function boe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function dM(){var t=o1(),e=[0,1],n=!1,r;function i(a){var o=boe(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(sP(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Up)).map(sP)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return dM(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},yr.apply(i,arguments),Ga(i)}function hM(){var t=[],e=[],n=[],r;function i(){var o=0,s=Math.max(1,e.length);for(n=new Array(s-1);++o<s;)n[o-1]=Eae(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:e[td(n,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Ia),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return hM().domain(t).range(e).unknown(r)},yr.apply(a,arguments)}function pM(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[td(r,l,0,n)]:a}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return pM().domain([t,e]).range(i).unknown(a)},yr.apply(Ga(o),arguments)}function mM(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[td(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return mM().domain(t).range(e).unknown(n)},yr.apply(i,arguments)}const lv=new Date,cv=new Date;function Mt(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let c;do l.push(c=new Date(+a)),e(a,s),t(a);while(c<a&&a<o);return l},i.filter=a=>Mt(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(lv.setTime(+a),cv.setTime(+o),t(lv),t(cv),Math.floor(n(lv,cv))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Wp=Mt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Wp.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Mt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Wp);Wp.range;const wi=1e3,ur=wi*60,_i=ur*60,$i=_i*24,h1=$i*7,lP=$i*30,uv=$i*365,vo=Mt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*wi)},(t,e)=>(e-t)/wi,t=>t.getUTCSeconds());vo.range;const p1=Mt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*wi)},(t,e)=>{t.setTime(+t+e*ur)},(t,e)=>(e-t)/ur,t=>t.getMinutes());p1.range;const m1=Mt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ur)},(t,e)=>(e-t)/ur,t=>t.getUTCMinutes());m1.range;const g1=Mt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*wi-t.getMinutes()*ur)},(t,e)=>{t.setTime(+t+e*_i)},(t,e)=>(e-t)/_i,t=>t.getHours());g1.range;const y1=Mt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*_i)},(t,e)=>(e-t)/_i,t=>t.getUTCHours());y1.range;const id=Mt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ur)/$i,t=>t.getDate()-1);id.range;const Eg=Mt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/$i,t=>t.getUTCDate()-1);Eg.range;const gM=Mt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/$i,t=>Math.floor(t/$i));gM.range;function es(t){return Mt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ur)/h1)}const Sg=es(0),qp=es(1),woe=es(2),_oe=es(3),yl=es(4),xoe=es(5),koe=es(6);Sg.range;qp.range;woe.range;_oe.range;yl.range;xoe.range;koe.range;function ts(t){return Mt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/h1)}const Tg=ts(0),Hp=ts(1),Eoe=ts(2),Soe=ts(3),vl=ts(4),Toe=ts(5),Aoe=ts(6);Tg.range;Hp.range;Eoe.range;Soe.range;vl.range;Toe.range;Aoe.range;const v1=Mt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());v1.range;const b1=Mt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());b1.range;const Li=Mt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Li.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Mt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Li.range;const Vi=Mt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Vi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Mt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Vi.range;function yM(t,e,n,r,i,a){const o=[[vo,1,wi],[vo,5,5*wi],[vo,15,15*wi],[vo,30,30*wi],[a,1,ur],[a,5,5*ur],[a,15,15*ur],[a,30,30*ur],[i,1,_i],[i,3,3*_i],[i,6,6*_i],[i,12,12*_i],[r,1,$i],[r,2,2*$i],[n,1,h1],[e,1,lP],[e,3,3*lP],[t,1,uv]];function s(c,u,f){const h=u<c;h&&([c,u]=[u,c]);const p=f&&typeof f.range=="function"?f:l(c,u,f),m=p?p.range(c,+u+1):[];return h?m.reverse():m}function l(c,u,f){const h=Math.abs(u-c)/f,p=t1(([,,v])=>v).right(o,h);if(p===o.length)return t.every(xb(c/uv,u/uv,f));if(p===0)return Wp.every(Math.max(xb(c,u,f),1));const[m,y]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return m.every(y)}return[s,l]}const[Poe,Ioe]=yM(Vi,b1,Tg,gM,y1,m1),[Ooe,Coe]=yM(Li,v1,Sg,id,g1,p1);function fv(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function dv(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Sc(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Noe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,c=Tc(i),u=Ac(i),f=Tc(a),h=Ac(a),p=Tc(o),m=Ac(o),y=Tc(s),v=Ac(s),x=Tc(l),b=Ac(l),_={a:Y,A:$,b:H,B:Z,c:null,d:pP,e:pP,f:tse,g:fse,G:hse,H:Joe,I:Zoe,j:ese,L:vM,m:nse,M:rse,p:ae,q:Q,Q:yP,s:vP,S:ise,u:ase,U:ose,V:sse,w:lse,W:cse,x:null,X:null,y:use,Y:dse,Z:pse,"%":gP},k={a:F,A:K,b:le,B:me,c:null,d:mP,e:mP,f:vse,g:Pse,G:Ose,H:mse,I:gse,j:yse,L:wM,m:bse,M:wse,p:_e,q:ne,Q:yP,s:vP,S:_se,u:xse,U:kse,V:Ese,w:Sse,W:Tse,x:null,X:null,y:Ase,Y:Ise,Z:Cse,"%":gP},S={a:O,A:N,b:R,B:C,c:L,d:dP,e:dP,f:Goe,g:fP,G:uP,H:hP,I:hP,j:Woe,L:Koe,m:zoe,M:qoe,p:P,q:Boe,Q:Yoe,s:Qoe,S:Hoe,u:$oe,U:Loe,V:Voe,w:Moe,W:Foe,x:q,X:z,y:fP,Y:uP,Z:Uoe,"%":Xoe};_.x=I(n,_),_.X=I(r,_),_.c=I(e,_),k.x=I(n,k),k.X=I(r,k),k.c=I(e,k);function I(J,oe){return function(se){var W=[],ye=-1,pe=0,je=J.length,Be,Kt,an;for(se instanceof Date||(se=new Date(+se));++ye<je;)J.charCodeAt(ye)===37&&(W.push(J.slice(pe,ye)),(Kt=cP[Be=J.charAt(++ye)])!=null?Be=J.charAt(++ye):Kt=Be==="e"?" ":"0",(an=oe[Be])&&(Be=an(se,Kt)),W.push(Be),pe=ye+1);return W.push(J.slice(pe,ye)),W.join("")}}function T(J,oe){return function(se){var W=Sc(1900,void 0,1),ye=E(W,J,se+="",0),pe,je;if(ye!=se.length)return null;if("Q"in W)return new Date(W.Q);if("s"in W)return new Date(W.s*1e3+("L"in W?W.L:0));if(oe&&!("Z"in W)&&(W.Z=0),"p"in W&&(W.H=W.H%12+W.p*12),W.m===void 0&&(W.m="q"in W?W.q:0),"V"in W){if(W.V<1||W.V>53)return null;"w"in W||(W.w=1),"Z"in W?(pe=dv(Sc(W.y,0,1)),je=pe.getUTCDay(),pe=je>4||je===0?Hp.ceil(pe):Hp(pe),pe=Eg.offset(pe,(W.V-1)*7),W.y=pe.getUTCFullYear(),W.m=pe.getUTCMonth(),W.d=pe.getUTCDate()+(W.w+6)%7):(pe=fv(Sc(W.y,0,1)),je=pe.getDay(),pe=je>4||je===0?qp.ceil(pe):qp(pe),pe=id.offset(pe,(W.V-1)*7),W.y=pe.getFullYear(),W.m=pe.getMonth(),W.d=pe.getDate()+(W.w+6)%7)}else("W"in W||"U"in W)&&("w"in W||(W.w="u"in W?W.u%7:"W"in W?1:0),je="Z"in W?dv(Sc(W.y,0,1)).getUTCDay():fv(Sc(W.y,0,1)).getDay(),W.m=0,W.d="W"in W?(W.w+6)%7+W.W*7-(je+5)%7:W.w+W.U*7-(je+6)%7);return"Z"in W?(W.H+=W.Z/100|0,W.M+=W.Z%100,dv(W)):fv(W)}}function E(J,oe,se,W){for(var ye=0,pe=oe.length,je=se.length,Be,Kt;ye<pe;){if(W>=je)return-1;if(Be=oe.charCodeAt(ye++),Be===37){if(Be=oe.charAt(ye++),Kt=S[Be in cP?oe.charAt(ye++):Be],!Kt||(W=Kt(J,se,W))<0)return-1}else if(Be!=se.charCodeAt(W++))return-1}return W}function P(J,oe,se){var W=c.exec(oe.slice(se));return W?(J.p=u.get(W[0].toLowerCase()),se+W[0].length):-1}function O(J,oe,se){var W=p.exec(oe.slice(se));return W?(J.w=m.get(W[0].toLowerCase()),se+W[0].length):-1}function N(J,oe,se){var W=f.exec(oe.slice(se));return W?(J.w=h.get(W[0].toLowerCase()),se+W[0].length):-1}function R(J,oe,se){var W=x.exec(oe.slice(se));return W?(J.m=b.get(W[0].toLowerCase()),se+W[0].length):-1}function C(J,oe,se){var W=y.exec(oe.slice(se));return W?(J.m=v.get(W[0].toLowerCase()),se+W[0].length):-1}function L(J,oe,se){return E(J,e,oe,se)}function q(J,oe,se){return E(J,n,oe,se)}function z(J,oe,se){return E(J,r,oe,se)}function Y(J){return o[J.getDay()]}function $(J){return a[J.getDay()]}function H(J){return l[J.getMonth()]}function Z(J){return s[J.getMonth()]}function ae(J){return i[+(J.getHours()>=12)]}function Q(J){return 1+~~(J.getMonth()/3)}function F(J){return o[J.getUTCDay()]}function K(J){return a[J.getUTCDay()]}function le(J){return l[J.getUTCMonth()]}function me(J){return s[J.getUTCMonth()]}function _e(J){return i[+(J.getUTCHours()>=12)]}function ne(J){return 1+~~(J.getUTCMonth()/3)}return{format:function(J){var oe=I(J+="",_);return oe.toString=function(){return J},oe},parse:function(J){var oe=T(J+="",!1);return oe.toString=function(){return J},oe},utcFormat:function(J){var oe=I(J+="",k);return oe.toString=function(){return J},oe},utcParse:function(J){var oe=T(J+="",!0);return oe.toString=function(){return J},oe}}}var cP={"-":"",_:" ",0:"0"},Ht=/^\s*\d+/,Roe=/^%/,joe=/[\\^$*+?|[\]().{}]/g;function Ue(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function Doe(t){return t.replace(joe,"\\$&")}function Tc(t){return new RegExp("^(?:"+t.map(Doe).join("|")+")","i")}function Ac(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Moe(t,e,n){var r=Ht.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function $oe(t,e,n){var r=Ht.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Loe(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Voe(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Foe(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function uP(t,e,n){var r=Ht.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function fP(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Uoe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Boe(t,e,n){var r=Ht.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function zoe(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function dP(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Woe(t,e,n){var r=Ht.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function hP(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function qoe(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Hoe(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Koe(t,e,n){var r=Ht.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Goe(t,e,n){var r=Ht.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Xoe(t,e,n){var r=Roe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Yoe(t,e,n){var r=Ht.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Qoe(t,e,n){var r=Ht.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function pP(t,e){return Ue(t.getDate(),e,2)}function Joe(t,e){return Ue(t.getHours(),e,2)}function Zoe(t,e){return Ue(t.getHours()%12||12,e,2)}function ese(t,e){return Ue(1+id.count(Li(t),t),e,3)}function vM(t,e){return Ue(t.getMilliseconds(),e,3)}function tse(t,e){return vM(t,e)+"000"}function nse(t,e){return Ue(t.getMonth()+1,e,2)}function rse(t,e){return Ue(t.getMinutes(),e,2)}function ise(t,e){return Ue(t.getSeconds(),e,2)}function ase(t){var e=t.getDay();return e===0?7:e}function ose(t,e){return Ue(Sg.count(Li(t)-1,t),e,2)}function bM(t){var e=t.getDay();return e>=4||e===0?yl(t):yl.ceil(t)}function sse(t,e){return t=bM(t),Ue(yl.count(Li(t),t)+(Li(t).getDay()===4),e,2)}function lse(t){return t.getDay()}function cse(t,e){return Ue(qp.count(Li(t)-1,t),e,2)}function use(t,e){return Ue(t.getFullYear()%100,e,2)}function fse(t,e){return t=bM(t),Ue(t.getFullYear()%100,e,2)}function dse(t,e){return Ue(t.getFullYear()%1e4,e,4)}function hse(t,e){var n=t.getDay();return t=n>=4||n===0?yl(t):yl.ceil(t),Ue(t.getFullYear()%1e4,e,4)}function pse(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ue(e/60|0,"0",2)+Ue(e%60,"0",2)}function mP(t,e){return Ue(t.getUTCDate(),e,2)}function mse(t,e){return Ue(t.getUTCHours(),e,2)}function gse(t,e){return Ue(t.getUTCHours()%12||12,e,2)}function yse(t,e){return Ue(1+Eg.count(Vi(t),t),e,3)}function wM(t,e){return Ue(t.getUTCMilliseconds(),e,3)}function vse(t,e){return wM(t,e)+"000"}function bse(t,e){return Ue(t.getUTCMonth()+1,e,2)}function wse(t,e){return Ue(t.getUTCMinutes(),e,2)}function _se(t,e){return Ue(t.getUTCSeconds(),e,2)}function xse(t){var e=t.getUTCDay();return e===0?7:e}function kse(t,e){return Ue(Tg.count(Vi(t)-1,t),e,2)}function _M(t){var e=t.getUTCDay();return e>=4||e===0?vl(t):vl.ceil(t)}function Ese(t,e){return t=_M(t),Ue(vl.count(Vi(t),t)+(Vi(t).getUTCDay()===4),e,2)}function Sse(t){return t.getUTCDay()}function Tse(t,e){return Ue(Hp.count(Vi(t)-1,t),e,2)}function Ase(t,e){return Ue(t.getUTCFullYear()%100,e,2)}function Pse(t,e){return t=_M(t),Ue(t.getUTCFullYear()%100,e,2)}function Ise(t,e){return Ue(t.getUTCFullYear()%1e4,e,4)}function Ose(t,e){var n=t.getUTCDay();return t=n>=4||n===0?vl(t):vl.ceil(t),Ue(t.getUTCFullYear()%1e4,e,4)}function Cse(){return"+0000"}function gP(){return"%"}function yP(t){return+t}function vP(t){return Math.floor(+t/1e3)}var ps,xM,kM;Nse({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Nse(t){return ps=Noe(t),xM=ps.format,ps.parse,kM=ps.utcFormat,ps.utcParse,ps}function Rse(t){return new Date(t)}function jse(t){return t instanceof Date?+t:+new Date(+t)}function w1(t,e,n,r,i,a,o,s,l,c){var u=o1(),f=u.invert,h=u.domain,p=c(".%L"),m=c(":%S"),y=c("%I:%M"),v=c("%I %p"),x=c("%a %d"),b=c("%b %d"),_=c("%B"),k=c("%Y");function S(I){return(l(I)<I?p:s(I)<I?m:o(I)<I?y:a(I)<I?v:r(I)<I?i(I)<I?x:b:n(I)<I?_:k)(I)}return u.invert=function(I){return new Date(f(I))},u.domain=function(I){return arguments.length?h(Array.from(I,jse)):h().map(Rse)},u.ticks=function(I){var T=h();return t(T[0],T[T.length-1],I??10)},u.tickFormat=function(I,T){return T==null?S:c(T)},u.nice=function(I){var T=h();return(!I||typeof I.range!="function")&&(I=e(T[0],T[T.length-1],I??10)),I?h(cM(T,I)):u},u.copy=function(){return rd(u,w1(t,e,n,r,i,a,o,s,l,c))},u}function Dse(){return yr.apply(w1(Ooe,Coe,Li,v1,Sg,id,g1,p1,vo,xM).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Mse(){return yr.apply(w1(Poe,Ioe,Vi,b1,Tg,Eg,y1,m1,vo,kM).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ag(){var t=0,e=1,n,r,i,a,o=An,s=!1,l;function c(f){return f==null||isNaN(f=+f)?l:o(i===0?.5:(f=(a(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([t,e]=f,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(f){return arguments.length?(s=!!f,c):s},c.interpolator=function(f){return arguments.length?(o=f,c):o};function u(f){return function(h){var p,m;return arguments.length?([p,m]=h,o=f(p,m),c):[o(0),o(1)]}}return c.range=u(Kl),c.rangeRound=u(a1),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return a=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),c}}function Xa(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function EM(){var t=Ga(Ag()(An));return t.copy=function(){return Xa(t,EM())},Wi.apply(t,arguments)}function SM(){var t=c1(Ag()).domain([1,10]);return t.copy=function(){return Xa(t,SM()).base(t.base())},Wi.apply(t,arguments)}function TM(){var t=u1(Ag());return t.copy=function(){return Xa(t,TM()).constant(t.constant())},Wi.apply(t,arguments)}function _1(){var t=f1(Ag());return t.copy=function(){return Xa(t,_1()).exponent(t.exponent())},Wi.apply(t,arguments)}function $se(){return _1.apply(null,arguments).exponent(.5)}function AM(){var t=[],e=An;function n(r){if(r!=null&&!isNaN(r=+r))return e((td(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ia),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>kae(t,a/r))},n.copy=function(){return AM(e).domain(t)},Wi.apply(n,arguments)}function Pg(){var t=0,e=.5,n=1,r=1,i,a,o,s,l,c=An,u,f=!1,h;function p(y){return isNaN(y=+y)?h:(y=.5+((y=+u(y))-a)*(r*y<r*a?s:l),c(f?Math.max(0,Math.min(1,y)):y))}p.domain=function(y){return arguments.length?([t,e,n]=y,i=u(t=+t),a=u(e=+e),o=u(n=+n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,p):[t,e,n]},p.clamp=function(y){return arguments.length?(f=!!y,p):f},p.interpolator=function(y){return arguments.length?(c=y,p):c};function m(y){return function(v){var x,b,_;return arguments.length?([x,b,_]=v,c=Xae(y,[x,b,_]),p):[c(0),c(.5),c(1)]}}return p.range=m(Kl),p.rangeRound=m(a1),p.unknown=function(y){return arguments.length?(h=y,p):h},function(y){return u=y,i=y(t),a=y(e),o=y(n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,p}}function PM(){var t=Ga(Pg()(An));return t.copy=function(){return Xa(t,PM())},Wi.apply(t,arguments)}function IM(){var t=c1(Pg()).domain([.1,1,10]);return t.copy=function(){return Xa(t,IM()).base(t.base())},Wi.apply(t,arguments)}function OM(){var t=u1(Pg());return t.copy=function(){return Xa(t,OM()).constant(t.constant())},Wi.apply(t,arguments)}function x1(){var t=f1(Pg());return t.copy=function(){return Xa(t,x1()).exponent(t.exponent())},Wi.apply(t,arguments)}function Lse(){return x1.apply(null,arguments).exponent(.5)}const bP=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Zu,scaleDiverging:PM,scaleDivergingLog:IM,scaleDivergingPow:x1,scaleDivergingSqrt:Lse,scaleDivergingSymlog:OM,scaleIdentity:lM,scaleImplicit:kb,scaleLinear:zp,scaleLog:uM,scaleOrdinal:n1,scalePoint:uu,scalePow:d1,scaleQuantile:hM,scaleQuantize:pM,scaleRadial:dM,scaleSequential:EM,scaleSequentialLog:SM,scaleSequentialPow:_1,scaleSequentialQuantile:AM,scaleSequentialSqrt:$se,scaleSequentialSymlog:TM,scaleSqrt:voe,scaleSymlog:fM,scaleThreshold:mM,scaleTime:Dse,scaleUtc:Mse,tickFormat:sM},Symbol.toStringTag,{value:"Module"}));var Vse=Vl;function Fse(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],o=e(a);if(o!=null&&(s===void 0?o===o&&!Vse(o):n(o,s)))var s=o,l=a}return l}var Ig=Fse;function Use(t,e){return t>e}var CM=Use,Bse=Ig,zse=CM,Wse=Hl;function qse(t){return t&&t.length?Bse(t,Wse,zse):void 0}var Hse=qse;const Og=Ke(Hse);function Kse(t,e){return t<e}var NM=Kse,Gse=Ig,Xse=NM,Yse=Hl;function Qse(t){return t&&t.length?Gse(t,Yse,Xse):void 0}var Jse=Qse;const Cg=Ke(Jse);var Zse=jx,ele=ai,tle=FD,nle=Un;function rle(t,e){var n=nle(t)?Zse:tle;return n(t,ele(e))}var ile=rle,ale=LD,ole=ile;function sle(t,e){return ale(ole(t,e),1)}var lle=sle;const cle=Ke(lle);var ule=Yx;function fle(t,e){return ule(t,e)}var dle=fle;const Ng=Ke(dle);var Gl=1e9,hle={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},E1,ht=!0,gr="[DecimalError] ",So=gr+"Invalid argument: ",k1=gr+"Exponent out of range: ",Xl=Math.floor,co=Math.pow,ple=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Hn,Ut=1e7,ot=7,RM=9007199254740991,Kp=Xl(RM/ot),de={};de.absoluteValue=de.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};de.comparedTo=de.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};de.decimalPlaces=de.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*ot;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};de.dividedBy=de.div=function(t){return Pi(this,new this.constructor(t))};de.dividedToIntegerBy=de.idiv=function(t){var e=this,n=e.constructor;return Je(Pi(e,new n(t),0,1),n.precision)};de.equals=de.eq=function(t){return!this.cmp(t)};de.exponent=function(){return Ct(this)};de.greaterThan=de.gt=function(t){return this.cmp(t)>0};de.greaterThanOrEqualTo=de.gte=function(t){return this.cmp(t)>=0};de.isInteger=de.isint=function(){return this.e>this.d.length-2};de.isNegative=de.isneg=function(){return this.s<0};de.isPositive=de.ispos=function(){return this.s>0};de.isZero=function(){return this.s===0};de.lessThan=de.lt=function(t){return this.cmp(t)<0};de.lessThanOrEqualTo=de.lte=function(t){return this.cmp(t)<1};de.logarithm=de.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Hn))throw Error(gr+"NaN");if(n.s<1)throw Error(gr+(n.s?"NaN":"-Infinity"));return n.eq(Hn)?new r(0):(ht=!1,e=Pi(af(n,a),af(t,a),a),ht=!0,Je(e,i))};de.minus=de.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?MM(e,t):jM(e,(t.s=-t.s,t))};de.modulo=de.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(gr+"NaN");return n.s?(ht=!1,e=Pi(n,t,0,1).times(t),ht=!0,n.minus(e)):Je(new r(n),i)};de.naturalExponential=de.exp=function(){return DM(this)};de.naturalLogarithm=de.ln=function(){return af(this)};de.negated=de.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};de.plus=de.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?jM(e,t):MM(e,(t.s=-t.s,t))};de.precision=de.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(So+t);if(e=Ct(i)+1,r=i.d.length-1,n=r*ot+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};de.squareRoot=de.sqrt=function(){var t,e,n,r,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(gr+"NaN")}for(t=Ct(s),ht=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=zr(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Xl((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(a=r,r=a.plus(Pi(s,a,o+2)).times(.5),zr(a.d).slice(0,o)===(e=zr(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Je(a,n+1,0),a.times(a).eq(s)){r=a;break}}else if(e!="9999")break;o+=4}return ht=!0,Je(r,n)};de.times=de.mul=function(t){var e,n,r,i,a,o,s,l,c,u=this,f=u.constructor,h=u.d,p=(t=new f(t)).d;if(!u.s||!t.s)return new f(0);for(t.s*=u.s,n=u.e+t.e,l=h.length,c=p.length,l<c&&(a=h,h=p,p=a,o=l,l=c,c=o),a=[],o=l+c,r=o;r--;)a.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)s=a[i]+p[r]*h[i-r-1]+e,a[i--]=s%Ut|0,e=s/Ut|0;a[i]=(a[i]+e)%Ut|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,ht?Je(t,f.precision):t};de.toDecimalPlaces=de.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ei(t,0,Gl),e===void 0?e=r.rounding:ei(e,0,8),Je(n,t+Ct(n)+1,e))};de.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Uo(r,!0):(ei(t,0,Gl),e===void 0?e=i.rounding:ei(e,0,8),r=Je(new i(r),t+1,e),n=Uo(r,!0,t+1)),n};de.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Uo(i):(ei(t,0,Gl),e===void 0?e=a.rounding:ei(e,0,8),r=Je(new a(i),t+Ct(i)+1,e),n=Uo(r.abs(),!1,t+Ct(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};de.toInteger=de.toint=function(){var t=this,e=t.constructor;return Je(new e(t),Ct(t)+1,e.rounding)};de.toNumber=function(){return+this};de.toPower=de.pow=function(t){var e,n,r,i,a,o,s=this,l=s.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(Hn);if(s=new l(s),!s.s){if(t.s<1)throw Error(gr+"Infinity");return s}if(s.eq(Hn))return s;if(r=l.precision,t.eq(Hn))return Je(s,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=s.s,o){if((n=u<0?-u:u)<=RM){for(i=new l(Hn),e=Math.ceil(r/ot+4),ht=!1;n%2&&(i=i.times(s),_P(i.d,e)),n=Xl(n/2),n!==0;)s=s.times(s),_P(s.d,e);return ht=!0,t.s<0?new l(Hn).div(i):Je(i,r)}}else if(a<0)throw Error(gr+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,ht=!1,i=t.times(af(s,r+c)),ht=!0,i=DM(i),i.s=a,i};de.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=Ct(i),r=Uo(i,n<=a.toExpNeg||n>=a.toExpPos)):(ei(t,1,Gl),e===void 0?e=a.rounding:ei(e,0,8),i=Je(new a(i),t,e),n=Ct(i),r=Uo(i,t<=n||n<=a.toExpNeg,t)),r};de.toSignificantDigits=de.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ei(t,1,Gl),e===void 0?e=r.rounding:ei(e,0,8)),Je(new r(n),t,e)};de.toString=de.valueOf=de.val=de.toJSON=de[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Ct(t),n=t.constructor;return Uo(t,e<=n.toExpNeg||e>=n.toExpPos)};function jM(t,e){var n,r,i,a,o,s,l,c,u=t.constructor,f=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),ht?Je(e,f):e;if(l=t.d,c=e.d,o=t.e,i=e.e,l=l.slice(),a=o-i,a){for(a<0?(r=l,a=-a,s=c.length):(r=c,i=o,s=l.length),o=Math.ceil(f/ot),s=o>s?o+1:s+1,a>s&&(a=s,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(s=l.length,a=c.length,s-a<0&&(a=s,r=c,c=l,l=r),n=0;a;)n=(l[--a]=l[a]+c[a]+n)/Ut|0,l[a]%=Ut;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,ht?Je(e,f):e}function ei(t,e,n){if(t!==~~t||t<e||t>n)throw Error(So+t)}function zr(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=ot-r.length,n&&(a+=na(n)),a+=r;o=t[e],r=o+"",n=ot-r.length,n&&(a+=na(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Pi=function(){function t(r,i){var a,o=0,s=r.length;for(r=r.slice();s--;)a=r[s]*i+o,r[s]=a%Ut|0,o=a/Ut|0;return o&&r.unshift(o),r}function e(r,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*Ut+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var s,l,c,u,f,h,p,m,y,v,x,b,_,k,S,I,T,E,P=r.constructor,O=r.s==i.s?1:-1,N=r.d,R=i.d;if(!r.s)return new P(r);if(!i.s)throw Error(gr+"Division by zero");for(l=r.e-i.e,T=R.length,S=N.length,p=new P(O),m=p.d=[],c=0;R[c]==(N[c]||0);)++c;if(R[c]>(N[c]||0)&&--l,a==null?b=a=P.precision:o?b=a+(Ct(r)-Ct(i))+1:b=a,b<0)return new P(0);if(b=b/ot+2|0,c=0,T==1)for(u=0,R=R[0],b++;(c<S||u)&&b--;c++)_=u*Ut+(N[c]||0),m[c]=_/R|0,u=_%R|0;else{for(u=Ut/(R[0]+1)|0,u>1&&(R=t(R,u),N=t(N,u),T=R.length,S=N.length),k=T,y=N.slice(0,T),v=y.length;v<T;)y[v++]=0;E=R.slice(),E.unshift(0),I=R[0],R[1]>=Ut/2&&++I;do u=0,s=e(R,y,T,v),s<0?(x=y[0],T!=v&&(x=x*Ut+(y[1]||0)),u=x/I|0,u>1?(u>=Ut&&(u=Ut-1),f=t(R,u),h=f.length,v=y.length,s=e(f,y,h,v),s==1&&(u--,n(f,T<h?E:R,h))):(u==0&&(s=u=1),f=R.slice()),h=f.length,h<v&&f.unshift(0),n(y,f,v),s==-1&&(v=y.length,s=e(R,y,T,v),s<1&&(u++,n(y,T<v?E:R,v))),v=y.length):s===0&&(u++,y=[0]),m[c++]=u,s&&y[0]?y[v++]=N[k]||0:(y=[N[k]],v=1);while((k++<S||y[0]!==void 0)&&b--)}return m[0]||m.shift(),p.e=l,Je(p,o?a+Ct(p)+1:a)}}();function DM(t,e){var n,r,i,a,o,s,l=0,c=0,u=t.constructor,f=u.precision;if(Ct(t)>16)throw Error(k1+Ct(t));if(!t.s)return new u(Hn);for(e==null?(ht=!1,s=f):s=e,o=new u(.03125);t.abs().gte(.1);)t=t.times(o),c+=5;for(r=Math.log(co(2,c))/Math.LN10*2+5|0,s+=r,n=i=a=new u(Hn),u.precision=s;;){if(i=Je(i.times(t),s),n=n.times(++l),o=a.plus(Pi(i,n,s)),zr(o.d).slice(0,s)===zr(a.d).slice(0,s)){for(;c--;)a=Je(a.times(a),s);return u.precision=f,e==null?(ht=!0,Je(a,f)):a}a=o}}function Ct(t){for(var e=t.e*ot,n=t.d[0];n>=10;n/=10)e++;return e}function hv(t,e,n){if(e>t.LN10.sd())throw ht=!0,n&&(t.precision=n),Error(gr+"LN10 precision limit exceeded");return Je(new t(t.LN10),e)}function na(t){for(var e="";t--;)e+="0";return e}function af(t,e){var n,r,i,a,o,s,l,c,u,f=1,h=10,p=t,m=p.d,y=p.constructor,v=y.precision;if(p.s<1)throw Error(gr+(p.s?"NaN":"-Infinity"));if(p.eq(Hn))return new y(0);if(e==null?(ht=!1,c=v):c=e,p.eq(10))return e==null&&(ht=!0),hv(y,c);if(c+=h,y.precision=c,n=zr(m),r=n.charAt(0),a=Ct(p),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=zr(p.d),r=n.charAt(0),f++;a=Ct(p),r>1?(p=new y("0."+n),a++):p=new y(r+"."+n.slice(1))}else return l=hv(y,c+2,v).times(a+""),p=af(new y(r+"."+n.slice(1)),c-h).plus(l),y.precision=v,e==null?(ht=!0,Je(p,v)):p;for(s=o=p=Pi(p.minus(Hn),p.plus(Hn),c),u=Je(p.times(p),c),i=3;;){if(o=Je(o.times(u),c),l=s.plus(Pi(o,new y(i),c)),zr(l.d).slice(0,c)===zr(s.d).slice(0,c))return s=s.times(2),a!==0&&(s=s.plus(hv(y,c+2,v).times(a+""))),s=Pi(s,new y(f),c),y.precision=v,e==null?(ht=!0,Je(s,v)):s;s=l,i+=2}}function wP(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Xl(n/ot),t.d=[],r=(n+1)%ot,n<0&&(r+=ot),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=ot;r<i;)t.d.push(+e.slice(r,r+=ot));e=e.slice(r),r=ot-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),ht&&(t.e>Kp||t.e<-Kp))throw Error(k1+n)}else t.s=0,t.e=0,t.d=[0];return t}function Je(t,e,n){var r,i,a,o,s,l,c,u,f=t.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=ot,i=e,c=f[u=0];else{if(u=Math.ceil((r+1)/ot),a=f.length,u>=a)return t;for(c=a=f[u],o=1;a>=10;a/=10)o++;r%=ot,i=r-ot+o}if(n!==void 0&&(a=co(10,o-i-1),s=c/a%10|0,l=e<0||f[u+1]!==void 0||c%a,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?c/co(10,o-i):0:f[u-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(a=Ct(t),f.length=1,e=e-a-1,f[0]=co(10,(ot-e%ot)%ot),t.e=Xl(-e/ot)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=u,a=1,u--):(f.length=u+1,a=co(10,ot-r),f[u]=i>0?(c/co(10,o-i)%co(10,i)|0)*a:0),l)for(;;)if(u==0){(f[0]+=a)==Ut&&(f[0]=1,++t.e);break}else{if(f[u]+=a,f[u]!=Ut)break;f[u--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(ht&&(t.e>Kp||t.e<-Kp))throw Error(k1+Ct(t));return t}function MM(t,e){var n,r,i,a,o,s,l,c,u,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),ht?Je(e,p):e;if(l=t.d,f=e.d,r=e.e,c=t.e,l=l.slice(),o=c-r,o){for(u=o<0,u?(n=l,o=-o,s=f.length):(n=f,r=c,s=l.length),i=Math.max(Math.ceil(p/ot),s)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,u=i<s,u&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){u=l[i]<f[i];break}o=0}for(u&&(n=l,l=f,f=n,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>o;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=Ut-1;--l[a],l[i]+=Ut}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,ht?Je(e,p):e):new h(0)}function Uo(t,e,n){var r,i=Ct(t),a=zr(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+na(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+na(-i-1)+a,n&&(r=n-o)>0&&(a+=na(r))):i>=o?(a+=na(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+na(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=na(r))),t.s<0?"-"+a:a}function _P(t,e){if(t.length>e)return t.length=e,!0}function $M(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(So+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return wP(o,a.toString())}else if(typeof a!="string")throw Error(So+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,ple.test(a))wP(o,a);else throw Error(So+a)}if(i.prototype=de,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=$M,i.config=i.set=mle,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function mle(t){if(!t||typeof t!="object")throw Error(gr+"Object expected");var e,n,r,i=["precision",1,Gl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Xl(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(So+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(So+n+": "+r);return this}var E1=$M(hle);Hn=new E1(1);const Xe=E1;function gle(t){return wle(t)||ble(t)||vle(t)||yle()}function yle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vle(t,e){if(t){if(typeof t=="string")return Ab(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ab(t,e)}}function ble(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function wle(t){if(Array.isArray(t))return Ab(t)}function Ab(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var _le=function(e){return e},LM={"@@functional/placeholder":!0},VM=function(e){return e===LM},xP=function(e){return function n(){return arguments.length===0||arguments.length===1&&VM(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},xle=function t(e,n){return e===1?n:xP(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==LM}).length;return o>=e?n.apply(void 0,i):t(e-o,xP(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var u=i.map(function(f){return VM(f)?l.shift():f});return n.apply(void 0,gle(u).concat(l))}))})},Rg=function(e){return xle(e.length,e)},Pb=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},kle=Rg(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Ele=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return _le;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},Ib=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},FM=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(s,l){return s===n[l]})||(n=a,r=e.apply(void 0,a)),r}};function Sle(t){var e;return t===0?e=1:e=Math.floor(new Xe(t).abs().log(10).toNumber())+1,e}function Tle(t,e,n){for(var r=new Xe(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var Ale=Rg(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Ple=Rg(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Ile=Rg(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const jg={rangeStep:Tle,getDigitCount:Sle,interpolateNumber:Ale,uninterpolateNumber:Ple,uninterpolateTruncation:Ile};function Ob(t){return Nle(t)||Cle(t)||UM(t)||Ole()}function Ole(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cle(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Nle(t){if(Array.isArray(t))return Cb(t)}function of(t,e){return Dle(t)||jle(t,e)||UM(t,e)||Rle()}function Rle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UM(t,e){if(t){if(typeof t=="string")return Cb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cb(t,e)}}function Cb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jle(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function Dle(t){if(Array.isArray(t))return t}function BM(t){var e=of(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function zM(t,e,n){if(t.lte(0))return new Xe(0);var r=jg.getDigitCount(t.toNumber()),i=new Xe(10).pow(r),a=t.div(i),o=r!==1?.05:.1,s=new Xe(Math.ceil(a.div(o).toNumber())).add(n).mul(o),l=s.mul(i);return e?l:new Xe(Math.ceil(l))}function Mle(t,e,n){var r=1,i=new Xe(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Xe(10).pow(jg.getDigitCount(t)-1),i=new Xe(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Xe(Math.floor(t)))}else t===0?i=new Xe(Math.floor((e-1)/2)):n||(i=new Xe(Math.floor(t)));var o=Math.floor((e-1)/2),s=Ele(kle(function(l){return i.add(new Xe(l-o).mul(r)).toNumber()}),Pb);return s(0,e)}function WM(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Xe(0),tickMin:new Xe(0),tickMax:new Xe(0)};var a=zM(new Xe(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new Xe(0):(o=new Xe(t).add(e).div(2),o=o.sub(new Xe(o).mod(a)));var s=Math.ceil(o.sub(t).div(a).toNumber()),l=Math.ceil(new Xe(e).sub(o).div(a).toNumber()),c=s+l+1;return c>n?WM(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,s=e>0?s:s+(n-c)),{step:a,tickMin:o.sub(new Xe(s).mul(a)),tickMax:o.add(new Xe(l).mul(a))})}function $le(t){var e=of(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=BM([n,r]),l=of(s,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var f=u===1/0?[c].concat(Ob(Pb(0,i-1).map(function(){return 1/0}))):[].concat(Ob(Pb(0,i-1).map(function(){return-1/0})),[u]);return n>r?Ib(f):f}if(c===u)return Mle(c,i,a);var h=WM(c,u,o,a),p=h.step,m=h.tickMin,y=h.tickMax,v=jg.rangeStep(m,y.add(new Xe(.1).mul(p)),p);return n>r?Ib(v):v}function Lle(t,e){var n=of(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=BM([r,i]),s=of(o,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var u=Math.max(e,2),f=zM(new Xe(c).sub(l).div(u-1),a,0),h=[].concat(Ob(jg.rangeStep(new Xe(l),new Xe(c).sub(new Xe(.99).mul(f)),f)),[c]);return r>i?Ib(h):h}var Vle=FM($le),Fle=FM(Lle),Ule="Invariant failed";function Bo(t,e){throw new Error(Ule)}var Ble=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Gp(){return Gp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gp.apply(this,arguments)}function zle(t,e){return Kle(t)||Hle(t,e)||qle(t,e)||Wle()}function Wle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qle(t,e){if(t){if(typeof t=="string")return kP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kP(t,e)}}function kP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Hle(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Kle(t){if(Array.isArray(t))return t}function Gle(t,e){if(t==null)return{};var n=Xle(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Xle(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Dg(t){var e=t.offset,n=t.layout,r=t.width,i=t.dataKey,a=t.data,o=t.dataPointFormatter,s=t.xAxis,l=t.yAxis,c=Gle(t,Ble),u=we(c,!1);t.direction==="x"&&s.type!=="number"&&Bo();var f=a.map(function(h){var p=o(h,i),m=p.x,y=p.y,v=p.value,x=p.errorVal;if(!x)return null;var b=[],_,k;if(Array.isArray(x)){var S=zle(x,2);_=S[0],k=S[1]}else _=k=x;if(n==="vertical"){var I=s.scale,T=y+e,E=T+r,P=T-r,O=I(v-_),N=I(v+k);b.push({x1:N,y1:E,x2:N,y2:P}),b.push({x1:O,y1:T,x2:N,y2:T}),b.push({x1:O,y1:E,x2:O,y2:P})}else if(n==="horizontal"){var R=l.scale,C=m+e,L=C-r,q=C+r,z=R(v-_),Y=R(v+k);b.push({x1:L,y1:Y,x2:q,y2:Y}),b.push({x1:C,y1:z,x2:C,y2:Y}),b.push({x1:L,y1:z,x2:q,y2:z})}return M.createElement(qe,Gp({className:"recharts-errorBar",key:"bar-".concat(b.map(function($){return"".concat($.x1,"-").concat($.x2,"-").concat($.y1,"-").concat($.y2)}))},u),b.map(function($){return M.createElement("line",Gp({},$,{key:"line-".concat($.x1,"-").concat($.x2,"-").concat($.y1,"-").concat($.y2)}))}))});return M.createElement(qe,{className:"recharts-errorBars"},f)}Dg.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"};Dg.displayName="ErrorBar";function sf(t){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sf(t)}function EP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EP(Object(n),!0).forEach(function(r){Yle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yle(t,e,n){return e=Qle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qle(t){var e=Jle(t,"string");return sf(e)=="symbol"?e:String(e)}function Jle(t,e){if(sf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qM=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=qn(n,Ku);if(!o)return null;var s;return o.props&&o.props.payload?s=o.props&&o.props.payload:a==="children"?s=(r||[]).reduce(function(l,c){var u=c.item,f=c.props,h=f.sectors||f.data||[];return l.concat(h.map(function(p){return{type:o.props.iconType||u.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):s=(r||[]).map(function(l){var c=l.item,u=c.props,f=u.dataKey,h=u.name,p=u.legendType,m=u.hide;return{inactive:m,dataKey:f,type:o.props.iconType||p||"square",color:S1(c),value:h||f,payload:c.props}}),pv(pv(pv({},o.props),Ku.getWithHeight(o,i)),{},{payload:s,item:o})};function lf(t){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lf(t)}function SP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SP(Object(n),!0).forEach(function(r){Ys(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ys(t,e,n){return e=Zle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zle(t){var e=ece(t,"string");return lf(e)=="symbol"?e:String(e)}function ece(t,e){if(lf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TP(t){return ice(t)||rce(t)||nce(t)||tce()}function tce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nce(t,e){if(t){if(typeof t=="string")return Nb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nb(t,e)}}function rce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ice(t){if(Array.isArray(t))return Nb(t)}function Nb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vn(t,e,n){return Ie(t)||Ie(e)?n:Dt(e)?Yn(t,e,n):Se(e)?e(t):n}function fu(t,e,n,r){var i=cle(t,function(s){return vn(s,e)});if(n==="number"){var a=i.filter(function(s){return re(s)||parseFloat(s)});return a.length?[Cg(a),Og(a)]:[1/0,-1/0]}var o=r?i.filter(function(s){return!Ie(s)}):i;return o.map(function(s){return Dt(s)||s instanceof Date?s:""})}var ace=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,c=0;c<s;c++){var u=c>0?i[c-1].coordinate:i[s-1].coordinate,f=i[c].coordinate,h=c>=s-1?i[0].coordinate:i[c+1].coordinate,p=void 0;if(Sn(f-u)!==Sn(h-f)){var m=[];if(Sn(h-f)===Sn(l[1]-l[0])){p=h;var y=f+l[1]-l[0];m[0]=Math.min(y,(y+u)/2),m[1]=Math.max(y,(y+u)/2)}else{p=u;var v=h+l[1]-l[0];m[0]=Math.min(f,(v+f)/2),m[1]=Math.max(f,(v+f)/2)}var x=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>x[0]&&e<=x[1]||e>=m[0]&&e<=m[1]){o=i[c].index;break}}else{var b=Math.min(u,h),_=Math.max(u,h);if(e>(b+f)/2&&e<=(_+f)/2){o=i[c].index;break}}}else for(var k=0;k<s;k++)if(k===0&&e<=(r[k].coordinate+r[k+1].coordinate)/2||k>0&&k<s-1&&e>(r[k].coordinate+r[k-1].coordinate)/2&&e<=(r[k].coordinate+r[k+1].coordinate)/2||k===s-1&&e>(r[k].coordinate+r[k-1].coordinate)/2){o=r[k].index;break}return o},S1=function(e){var n=e,r=n.type.displayName,i=e.props,a=i.stroke,o=i.fill,s;switch(r){case"Line":s=a;break;case"Area":case"Radar":s=a&&a!=="none"?a:o;break;default:s=o;break}return s},oce=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,c=s.length;l<c;l++)for(var u=a[s[l]].stackGroups,f=Object.keys(u),h=0,p=f.length;h<p;h++){var m=u[f[h]],y=m.items,v=m.cateAxisId,x=y.filter(function(S){return Ti(S.type).indexOf("Bar")>=0});if(x&&x.length){var b=x[0].props.barSize,_=x[0].props[v];o[_]||(o[_]=[]);var k=Ie(b)?n:b;o[_].push({item:x[0],stackList:x.slice(1),barSize:Ie(k)?void 0:Tn(k,r,0)})}}return o},sce=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,s=e.maxBarSize,l=o.length;if(l<1)return null;var c=Tn(n,i,0,!0),u,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=i/l,m=o.reduce(function(k,S){return k+S.barSize||0},0);m+=(l-1)*c,m>=i&&(m-=(l-1)*c,c=0),m>=i&&p>0&&(h=!0,p*=.9,m=l*p);var y=(i-m)/2>>0,v={offset:y-c,size:0};u=o.reduce(function(k,S){var I={item:S.item,position:{offset:v.offset+v.size+c,size:h?p:S.barSize}},T=[].concat(TP(k),[I]);return v=T[T.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(E){T.push({item:E,position:v})}),T},f)}else{var x=Tn(r,i,0,!0);i-2*x-(l-1)*c<=0&&(c=0);var b=(i-2*x-(l-1)*c)/l;b>1&&(b>>=0);var _=s===+s?Math.min(b,s):b;u=o.reduce(function(k,S,I){var T=[].concat(TP(k),[{item:S.item,position:{offset:x+(b+c)*I+(b-_)/2,size:_}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(E){T.push({item:E,position:T[T.length-1].position})}),T},f)}return u},lce=function(e,n,r,i){var a=r.children,o=r.width,s=r.margin,l=o-(s.left||0)-(s.right||0),c=qM({children:a,legendWidth:l});if(c){var u=i||{},f=u.width,h=u.height,p=c.align,m=c.verticalAlign,y=c.layout;if((y==="vertical"||y==="horizontal"&&m==="middle")&&p!=="center"&&re(e[p]))return sr(sr({},e),{},Ys({},p,e[p]+(f||0)));if((y==="horizontal"||y==="vertical"&&p==="center")&&m!=="middle"&&re(e[m]))return sr(sr({},e),{},Ys({},m,e[m]+(h||0)))}return e},cce=function(e,n,r){return Ie(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},HM=function(e,n,r,i,a){var o=n.props.children,s=hr(o,Dg).filter(function(c){return cce(i,a,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return e.reduce(function(c,u){var f=vn(u,r);if(Ie(f))return c;var h=Array.isArray(f)?[Cg(f),Og(f)]:[f,f],p=l.reduce(function(m,y){var v=vn(u,y,0),x=h[0]-Math.abs(Array.isArray(v)?v[0]:v),b=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(x,m[0]),Math.max(b,m[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},uce=function(e,n,r,i,a){var o=n.map(function(s){return HM(e,s,r,a,i)}).filter(function(s){return!Ie(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},KM=function(e,n,r,i,a){var o=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&HM(e,l,c,i)||fu(e,c,r,a)});if(r==="number")return o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,c){for(var u=0,f=c.length;u<f;u++)s[c[u]]||(s[c[u]]=!0,l.push(c[u]));return l},[])},GM=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},XM=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var a,o,s=e.map(function(l){return l.coordinate===n&&(a=!0),l.coordinate===r&&(o=!0),l.coordinate});return a||s.push(n),o||s.push(r),s},xi=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Sn(s[0]-s[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+c,value:f,offset:c}});return u.filter(function(f){return!Qf(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+c,value:f,index:h,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+c,value:f,offset:c}}):i.domain().map(function(f,h){return{coordinate:i(f)+c,value:a?a[f]:f,index:h,offset:c}})},mv=new WeakMap,ah=function(e,n){if(typeof n!="function")return e;mv.has(e)||mv.set(e,new WeakMap);var r=mv.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},YM=function(e,n,r){var i=e.scale,a=e.type,o=e.layout,s=e.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:Zu(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:zp(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:uu(),realScaleType:"point"}:a==="category"?{scale:Zu(),realScaleType:"band"}:{scale:zp(),realScaleType:"linear"};if(Yf(i)){var l="scale".concat(gg(i));return{scale:(bP[l]||uu)(),realScaleType:bP[l]?l:"point"}}return Se(i)?{scale:i}:{scale:uu(),realScaleType:"point"}},AP=1e-4,QM=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-AP,o=Math.max(i[0],i[1])+AP,s=e(n[0]),l=e(n[r-1]);(s<a||s>o||l<a||l>o)&&e.domain([n[0],n[r-1]])}},fce=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},dce=function(e,n){if(!n||n.length!==2||!re(n[0])||!re(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!re(e[0])||e[0]<r)&&(a[0]=r),(!re(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},hce=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0,s=0;s<n;++s){var l=Qf(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1]):(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1])}},pce=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0;o<n;++o){var s=Qf(e[o][r][1])?e[o][r][0]:e[o][r][1];s>=0?(e[o][r][0]=a,e[o][r][1]=a+s,a=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},mce={sign:hce,expand:WX,none:fl,silhouette:qX,wiggle:HX,positive:pce},gce=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),a=mce[r],o=zX().keys(i).value(function(s,l){return+vn(s,l,0)}).order(rb).offset(a);return o(e)},yce=function(e,n,r,i,a,o){if(!e)return null;var s=o?n.reverse():n,l={},c=s.reduce(function(f,h){var p=h.props,m=p.stackId,y=p.hide;if(y)return f;var v=h.props[r],x=f[v]||{hasStack:!1,stackGroups:{}};if(Dt(m)){var b=x.stackGroups[m]||{numericAxisId:r,cateAxisId:i,items:[]};b.items.push(h),x.hasStack=!0,x.stackGroups[m]=b}else x.stackGroups[Jf("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return sr(sr({},f),{},Ys({},v,x))},l),u={};return Object.keys(c).reduce(function(f,h){var p=c[h];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(y,v){var x=p.stackGroups[v];return sr(sr({},y),{},Ys({},v,{numericAxisId:r,cateAxisId:i,items:x.items,stackedData:gce(e,x.items,a)}))},m)}return sr(sr({},f),{},Ys({},h,p))},u)},JM=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var c=e.domain();if(!c.length)return null;var u=Vle(c,a,s);return e.domain([Cg(u),Og(u)]),{niceTicks:u}}if(a&&i==="number"){var f=e.domain(),h=Fle(f,a,s);return{niceTicks:h}}return null},PP=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=vn(o,n.dataKey,n.domain[s]);return Ie(l)?null:n.scale(l)-a/2+i},vce=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},bce=function(e,n){var r=e.props.stackId;if(Dt(r)){var i=n[r];if(i){var a=i.items.indexOf(e);return a>=0?i.stackedData[a]:null}}return null},wce=function(e){return e.reduce(function(n,r){return[Cg(r.concat([n[0]]).filter(re)),Og(r.concat([n[1]]).filter(re))]},[1/0,-1/0])},ZM=function(e,n,r){return Object.keys(e).reduce(function(i,a){var o=e[a],s=o.stackedData,l=s.reduce(function(c,u){var f=wce(u.slice(n,r+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},IP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,OP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Rb=function(e,n,r){if(Se(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(re(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(IP.test(e[0])){var a=+IP.exec(e[0])[1];i[0]=n[0]-a}else Se(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(re(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(OP.test(e[1])){var o=+OP.exec(e[1])[1];i[1]=n[1]+o}else Se(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Xp=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=Jx(n,function(f){return f.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var c=a[s],u=a[s-1];o=Math.min((c.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},CP=function(e,n,r){return!e||!e.length||Ng(e,Yn(r,"type.defaultProps.domain"))?n:e},e$=function(e,n){var r=e.props,i=r.dataKey,a=r.name,o=r.unit,s=r.formatter,l=r.tooltipType,c=r.chartType,u=r.hide;return sr(sr({},we(e,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:S1(e),value:vn(n,i),type:l,payload:n,chartType:c,hide:u})};function cf(t){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cf(t)}function NP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function di(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NP(Object(n),!0).forEach(function(r){t$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function t$(t,e,n){return e=_ce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ce(t){var e=xce(t,"string");return cf(e)=="symbol"?e:String(e)}function xce(t,e){if(cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kce(t,e){return Ace(t)||Tce(t,e)||Sce(t,e)||Ece()}function Ece(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sce(t,e){if(t){if(typeof t=="string")return RP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RP(t,e)}}function RP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Tce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Ace(t){if(Array.isArray(t))return t}var Yp=Math.PI/180,Pce=function(e){return e*180/Math.PI},nt=function(e,n,r,i){return{x:e+Math.cos(-Yp*i)*r,y:n+Math.sin(-Yp*i)*r}},n$=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Ice=function(e,n,r,i,a){var o=e.width,s=e.height,l=e.startAngle,c=e.endAngle,u=Tn(e.cx,o,o/2),f=Tn(e.cy,s,s/2),h=n$(o,s,r),p=Tn(e.innerRadius,h,0),m=Tn(e.outerRadius,h,h*.8),y=Object.keys(n);return y.reduce(function(v,x){var b=n[x],_=b.domain,k=b.reversed,S;if(Ie(b.range))i==="angleAxis"?S=[l,c]:i==="radiusAxis"&&(S=[p,m]),k&&(S=[S[1],S[0]]);else{S=b.range;var I=S,T=kce(I,2);l=T[0],c=T[1]}var E=YM(b,a),P=E.realScaleType,O=E.scale;O.domain(_).range(S),QM(O);var N=JM(O,di(di({},b),{},{realScaleType:P})),R=di(di(di({},b),N),{},{range:S,radius:m,realScaleType:P,scale:O,cx:u,cy:f,innerRadius:p,outerRadius:m,startAngle:l,endAngle:c});return di(di({},v),{},t$({},x,R))},{})},Oce=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-o,2))},Cce=function(e,n){var r=e.x,i=e.y,a=n.cx,o=n.cy,s=Oce({x:r,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(r-a)/s,c=Math.acos(l);return i>o&&(c=2*Math.PI-c),{radius:s,angle:Pce(c),angleInRadian:c}},Nce=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:r-o*360}},Rce=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),o=Math.floor(i/360),s=Math.min(a,o);return e+s*360},jP=function(e,n){var r=e.x,i=e.y,a=Cce({x:r,y:i},n),o=a.radius,s=a.angle,l=n.innerRadius,c=n.outerRadius;if(o<l||o>c)return!1;if(o===0)return!0;var u=Nce(n),f=u.startAngle,h=u.endAngle,p=s,m;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=f}return m?di(di({},n),{},{radius:o,angle:Rce(p,n)}):null},r$=function(e){return!D.isValidElement(e)&&!Se(e)&&typeof e!="boolean"?e.className:""};function uf(t){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uf(t)}var jce=["offset"];function Dce(t){return Vce(t)||Lce(t)||$ce(t)||Mce()}function Mce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ce(t,e){if(t){if(typeof t=="string")return jb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jb(t,e)}}function Lce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Vce(t){if(Array.isArray(t))return jb(t)}function jb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fce(t,e){if(t==null)return{};var n=Uce(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Uce(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function DP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DP(Object(n),!0).forEach(function(r){Bce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bce(t,e,n){return e=zce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zce(t){var e=Wce(t,"string");return uf(e)=="symbol"?e:String(e)}function Wce(t,e){if(uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ff(){return ff=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ff.apply(this,arguments)}var qce=function(e){var n=e.value,r=e.formatter,i=Ie(e.children)?n:e.children;return Se(r)?r(i):i},Hce=function(e,n){var r=Sn(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Kce=function(e,n,r){var i=e.position,a=e.viewBox,o=e.offset,s=e.className,l=a,c=l.cx,u=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,m=l.endAngle,y=l.clockWise,v=(f+h)/2,x=Hce(p,m),b=x>=0?1:-1,_,k;i==="insideStart"?(_=p+b*o,k=y):i==="insideEnd"?(_=m-b*o,k=!y):i==="end"&&(_=m+b*o,k=y),k=x<=0?k:!k;var S=nt(c,u,v,_),I=nt(c,u,v,_+(k?1:-1)*359),T="M".concat(S.x,",").concat(S.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(k?0:1,`,
    `).concat(I.x,",").concat(I.y),E=Ie(e.id)?Jf("recharts-radial-line-"):e.id;return M.createElement("text",ff({},r,{dominantBaseline:"central",className:Pe("recharts-radial-bar-label",s)}),M.createElement("defs",null,M.createElement("path",{id:E,d:T})),M.createElement("textPath",{xlinkHref:"#".concat(E)},n))},Gce=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,o=a.cx,s=a.cy,l=a.innerRadius,c=a.outerRadius,u=a.startAngle,f=a.endAngle,h=(u+f)/2;if(i==="outside"){var p=nt(o,s,c+r,h),m=p.x,y=p.y;return{x:m,y,textAnchor:m>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var v=(l+c)/2,x=nt(o,s,v,h),b=x.x,_=x.y;return{x:b,y:_,textAnchor:"middle",verticalAnchor:"middle"}},Xce=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,o=n,s=o.x,l=o.y,c=o.width,u=o.height,f=u>=0?1:-1,h=f*i,p=f>0?"end":"start",m=f>0?"start":"end",y=c>=0?1:-1,v=y*i,x=y>0?"end":"start",b=y>0?"start":"end";if(a==="top"){var _={x:s+c/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return Nt(Nt({},_),r?{height:Math.max(l-r.y,0),width:c}:{})}if(a==="bottom"){var k={x:s+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:m};return Nt(Nt({},k),r?{height:Math.max(r.y+r.height-(l+u),0),width:c}:{})}if(a==="left"){var S={x:s-v,y:l+u/2,textAnchor:x,verticalAnchor:"middle"};return Nt(Nt({},S),r?{width:Math.max(S.x-r.x,0),height:u}:{})}if(a==="right"){var I={x:s+c+v,y:l+u/2,textAnchor:b,verticalAnchor:"middle"};return Nt(Nt({},I),r?{width:Math.max(r.x+r.width-I.x,0),height:u}:{})}var T=r?{width:c,height:u}:{};return a==="insideLeft"?Nt({x:s+v,y:l+u/2,textAnchor:b,verticalAnchor:"middle"},T):a==="insideRight"?Nt({x:s+c-v,y:l+u/2,textAnchor:x,verticalAnchor:"middle"},T):a==="insideTop"?Nt({x:s+c/2,y:l+h,textAnchor:"middle",verticalAnchor:m},T):a==="insideBottom"?Nt({x:s+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:p},T):a==="insideTopLeft"?Nt({x:s+v,y:l+h,textAnchor:b,verticalAnchor:m},T):a==="insideTopRight"?Nt({x:s+c-v,y:l+h,textAnchor:x,verticalAnchor:m},T):a==="insideBottomLeft"?Nt({x:s+v,y:l+u-h,textAnchor:b,verticalAnchor:p},T):a==="insideBottomRight"?Nt({x:s+c-v,y:l+u-h,textAnchor:x,verticalAnchor:p},T):Fl(a)&&(re(a.x)||go(a.x))&&(re(a.y)||go(a.y))?Nt({x:s+Tn(a.x,c),y:l+Tn(a.y,u),textAnchor:"end",verticalAnchor:"end"},T):Nt({x:s+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},T)},Yce=function(e){return"cx"in e&&re(e.cx)};function zt(t){var e=t.offset,n=e===void 0?5:e,r=Fce(t,jce),i=Nt({offset:n},r),a=i.viewBox,o=i.position,s=i.value,l=i.children,c=i.content,u=i.className,f=u===void 0?"":u,h=i.textBreakAll;if(!a||Ie(s)&&Ie(l)&&!D.isValidElement(c)&&!Se(c))return null;if(D.isValidElement(c))return D.cloneElement(c,i);var p;if(Se(c)){if(p=D.createElement(c,i),D.isValidElement(p))return p}else p=qce(i);var m=Yce(a),y=we(i,!0);if(m&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Kce(i,p,y);var v=m?Gce(i):Xce(i);return M.createElement(Fo,ff({className:Pe("recharts-label",f)},y,v,{breakAll:h}),p)}zt.displayName="Label";var i$=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,s=e.r,l=e.radius,c=e.innerRadius,u=e.outerRadius,f=e.x,h=e.y,p=e.top,m=e.left,y=e.width,v=e.height,x=e.clockWise,b=e.labelViewBox;if(b)return b;if(re(y)&&re(v)){if(re(f)&&re(h))return{x:f,y:h,width:y,height:v};if(re(p)&&re(m))return{x:p,y:m,width:y,height:v}}return re(f)&&re(h)?{x:f,y:h,width:0,height:0}:re(n)&&re(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:c||0,outerRadius:u||l||s||0,clockWise:x}:e.viewBox?e.viewBox:{}},Qce=function(e,n){return e?e===!0?M.createElement(zt,{key:"label-implicit",viewBox:n}):Dt(e)?M.createElement(zt,{key:"label-implicit",viewBox:n,value:e}):D.isValidElement(e)?e.type===zt?D.cloneElement(e,{key:"label-implicit",viewBox:n}):M.createElement(zt,{key:"label-implicit",content:e,viewBox:n}):Se(e)?M.createElement(zt,{key:"label-implicit",content:e,viewBox:n}):Fl(e)?M.createElement(zt,ff({viewBox:n},e,{key:"label-implicit"})):null:null},Jce=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=i$(e),o=hr(i,zt).map(function(l,c){return D.cloneElement(l,{viewBox:n||a,key:"label-".concat(c)})});if(!r)return o;var s=Qce(e.label,n||a);return[s].concat(Dce(o))};zt.parseViewBox=i$;zt.renderCallByParent=Jce;function Zce(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var eue=Zce;const tue=Ke(eue);function df(t){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(t)}var nue=["valueAccessor"],rue=["data","dataKey","clockWise","id","textBreakAll"];function iue(t){return lue(t)||sue(t)||oue(t)||aue()}function aue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oue(t,e){if(t){if(typeof t=="string")return Db(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Db(t,e)}}function sue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lue(t){if(Array.isArray(t))return Db(t)}function Db(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qp(){return Qp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qp.apply(this,arguments)}function MP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $P(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MP(Object(n),!0).forEach(function(r){cue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cue(t,e,n){return e=uue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uue(t){var e=fue(t,"string");return df(e)=="symbol"?e:String(e)}function fue(t,e){if(df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LP(t,e){if(t==null)return{};var n=due(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function due(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var hue=function(e){return Array.isArray(e.value)?tue(e.value):e.value};function Oa(t){var e=t.valueAccessor,n=e===void 0?hue:e,r=LP(t,nue),i=r.data,a=r.dataKey,o=r.clockWise,s=r.id,l=r.textBreakAll,c=LP(r,rue);return!i||!i.length?null:M.createElement(qe,{className:"recharts-label-list"},i.map(function(u,f){var h=Ie(a)?n(u,f):vn(u&&u.payload,a),p=Ie(s)?{}:{id:"".concat(s,"-").concat(f)};return M.createElement(zt,Qp({},we(u,!0),c,p,{parentViewBox:u.parentViewBox,value:h,textBreakAll:l,viewBox:zt.parseViewBox(Ie(o)?u:$P($P({},u),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Oa.displayName="LabelList";function pue(t,e){return t?t===!0?M.createElement(Oa,{key:"labelList-implicit",data:e}):M.isValidElement(t)||Se(t)?M.createElement(Oa,{key:"labelList-implicit",data:e,content:t}):Fl(t)?M.createElement(Oa,Qp({data:e},t,{key:"labelList-implicit"})):null:null}function mue(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=hr(r,Oa).map(function(o,s){return D.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var a=pue(t.label,e);return[a].concat(iue(i))}Oa.renderCallByParent=mue;function hf(t){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hf(t)}function Mb(){return Mb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mb.apply(this,arguments)}function VP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VP(Object(n),!0).forEach(function(r){gue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gue(t,e,n){return e=yue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yue(t){var e=vue(t,"string");return hf(e)=="symbol"?e:String(e)}function vue(t,e){if(hf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bue=function(e,n){var r=Sn(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},oh=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,o=e.sign,s=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,u=l*(s?1:-1)+i,f=Math.asin(l/u)/Yp,h=c?a:a+o*f,p=nt(n,r,u,h),m=nt(n,r,i,h),y=c?a-o*f:a,v=nt(n,r,u*Math.cos(f*Yp),y);return{center:p,circleTangency:m,lineTangency:v,theta:f}},a$=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,s=e.endAngle,l=bue(o,s),c=o+l,u=nt(n,r,a,o),f=nt(n,r,a,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=nt(n,r,i,o),m=nt(n,r,i,c);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},wue=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,u=e.endAngle,f=Sn(u-c),h=oh({cx:n,cy:r,radius:a,angle:c,sign:f,cornerRadius:o,cornerIsExternal:l}),p=h.circleTangency,m=h.lineTangency,y=h.theta,v=oh({cx:n,cy:r,radius:a,angle:u,sign:-f,cornerRadius:o,cornerIsExternal:l}),x=v.circleTangency,b=v.lineTangency,_=v.theta,k=l?Math.abs(c-u):Math.abs(c-u)-y-_;if(k<0)return s?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):a$({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:c,endAngle:u});var S="M ".concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(k>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var I=oh({cx:n,cy:r,radius:i,angle:c,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),T=I.circleTangency,E=I.lineTangency,P=I.theta,O=oh({cx:n,cy:r,radius:i,angle:u,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),N=O.circleTangency,R=O.lineTangency,C=O.theta,L=l?Math.abs(c-u):Math.abs(c-u)-P-C;if(L<0&&o===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat(R.x,",").concat(R.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(L>180),",").concat(+(f>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},_ue={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},o$=function(e){var n=FP(FP({},_ue),e),r=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,u=n.startAngle,f=n.endAngle,h=n.className;if(o<a||u===f)return null;var p=Pe("recharts-sector",h),m=o-a,y=Tn(s,m,0,!0),v;return y>0&&Math.abs(u-f)<360?v=wue({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(y,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:f}):v=a$({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:u,endAngle:f}),M.createElement("path",Mb({},we(n,!0),{className:p,d:v,role:"img"}))};function pf(t){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pf(t)}function $b(){return $b=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$b.apply(this,arguments)}function UP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UP(Object(n),!0).forEach(function(r){xue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xue(t,e,n){return e=kue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kue(t){var e=Eue(t,"string");return pf(e)=="symbol"?e:String(e)}function Eue(t,e){if(pf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zP={curveBasisClosed:NX,curveBasisOpen:RX,curveBasis:CX,curveBumpX:yX,curveBumpY:vX,curveLinearClosed:jX,curveLinear:vg,curveMonotoneX:DX,curveMonotoneY:MX,curveNatural:$X,curveStep:LX,curveStepAfter:FX,curveStepBefore:VX},sh=function(e){return e.x===+e.x&&e.y===+e.y},Pc=function(e){return e.x},Ic=function(e){return e.y},Sue=function(e,n){if(Se(e))return e;var r="curve".concat(gg(e));return(r==="curveMonotone"||r==="curveBump")&&n?zP["".concat(r).concat(n==="vertical"?"Y":"X")]:zP[r]||vg},Tue=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,o=e.baseLine,s=e.layout,l=e.connectNulls,c=l===void 0?!1:l,u=Sue(r,s),f=c?a.filter(function(y){return sh(y)}):a,h;if(Array.isArray(o)){var p=c?o.filter(function(y){return sh(y)}):o,m=f.map(function(y,v){return BP(BP({},y),{},{base:p[v]})});return s==="vertical"?h=Qd().y(Ic).x1(Pc).x0(function(y){return y.base.x}):h=Qd().x(Pc).y1(Ic).y0(function(y){return y.base.y}),h.defined(sh).curve(u),h(m)}return s==="vertical"&&re(o)?h=Qd().y(Ic).x1(Pc).x0(o):re(o)?h=Qd().x(Pc).y1(Ic).y0(o):h=nD().x(Pc).y(Ic),h.defined(sh).curve(u),h(f)},Lb=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?Tue(e):i;return M.createElement("path",$b({},we(e,!1),kp(e),{className:Pe("recharts-curve",n),d:o,ref:a}))},Aue=Object.getOwnPropertyNames,Pue=Object.getOwnPropertySymbols,Iue=Object.prototype.hasOwnProperty;function WP(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function lh(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var a=i.cache,o=a.get(n),s=a.get(r);if(o&&s)return o===r&&s===n;a.set(n,r),a.set(r,n);var l=t(n,r,i);return a.delete(n),a.delete(r),l}}function qP(t){return Aue(t).concat(Pue(t))}var s$=Object.hasOwn||function(t,e){return Iue.call(t,e)};function Yl(t,e){return t||e?t===e:t===e||t!==t&&e!==e}var l$="_owner",HP=Object.getOwnPropertyDescriptor,KP=Object.keys;function Oue(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Cue(t,e){return Yl(t.getTime(),e.getTime())}function GP(t,e,n){if(t.size!==e.size)return!1;for(var r={},i=t.entries(),a=0,o,s;(o=i.next())&&!o.done;){for(var l=e.entries(),c=!1,u=0;(s=l.next())&&!s.done;){var f=o.value,h=f[0],p=f[1],m=s.value,y=m[0],v=m[1];!c&&!r[u]&&(c=n.equals(h,y,a,u,t,e,n)&&n.equals(p,v,h,y,t,e,n))&&(r[u]=!0),u++}if(!c)return!1;a++}return!0}function Nue(t,e,n){var r=KP(t),i=r.length;if(KP(e).length!==i)return!1;for(var a;i-- >0;)if(a=r[i],a===l$&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!s$(e,a)||!n.equals(t[a],e[a],a,a,t,e,n))return!1;return!0}function Oc(t,e,n){var r=qP(t),i=r.length;if(qP(e).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=r[i],a===l$&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!s$(e,a)||!n.equals(t[a],e[a],a,a,t,e,n)||(o=HP(t,a),s=HP(e,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function Rue(t,e){return Yl(t.valueOf(),e.valueOf())}function jue(t,e){return t.source===e.source&&t.flags===e.flags}function XP(t,e,n){if(t.size!==e.size)return!1;for(var r={},i=t.values(),a,o;(a=i.next())&&!a.done;){for(var s=e.values(),l=!1,c=0;(o=s.next())&&!o.done;)!l&&!r[c]&&(l=n.equals(a.value,o.value,a.value,o.value,t,e,n))&&(r[c]=!0),c++;if(!l)return!1}return!0}function Due(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}var Mue="[object Arguments]",$ue="[object Boolean]",Lue="[object Date]",Vue="[object Map]",Fue="[object Number]",Uue="[object Object]",Bue="[object RegExp]",zue="[object Set]",Wue="[object String]",que=Array.isArray,YP=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,QP=Object.assign,Hue=Object.prototype.toString.call.bind(Object.prototype.toString);function Kue(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areMapsEqual,i=t.areObjectsEqual,a=t.arePrimitiveWrappersEqual,o=t.areRegExpsEqual,s=t.areSetsEqual,l=t.areTypedArraysEqual;return function(u,f,h){if(u===f)return!0;if(u==null||f==null||typeof u!="object"||typeof f!="object")return u!==u&&f!==f;var p=u.constructor;if(p!==f.constructor)return!1;if(p===Object)return i(u,f,h);if(que(u))return e(u,f,h);if(YP!=null&&YP(u))return l(u,f,h);if(p===Date)return n(u,f,h);if(p===RegExp)return o(u,f,h);if(p===Map)return r(u,f,h);if(p===Set)return s(u,f,h);var m=Hue(u);return m===Lue?n(u,f,h):m===Bue?o(u,f,h):m===Vue?r(u,f,h):m===zue?s(u,f,h):m===Uue?typeof u.then!="function"&&typeof f.then!="function"&&i(u,f,h):m===Mue?i(u,f,h):m===$ue||m===Fue||m===Wue?a(u,f,h):!1}}function Gue(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Oc:Oue,areDatesEqual:Cue,areMapsEqual:r?WP(GP,Oc):GP,areObjectsEqual:r?Oc:Nue,arePrimitiveWrappersEqual:Rue,areRegExpsEqual:jue,areSetsEqual:r?WP(XP,Oc):XP,areTypedArraysEqual:r?Oc:Due};if(n&&(i=QP({},i,n(i))),e){var a=lh(i.areArraysEqual),o=lh(i.areMapsEqual),s=lh(i.areObjectsEqual),l=lh(i.areSetsEqual);i=QP({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return i}function Xue(t){return function(e,n,r,i,a,o,s){return t(e,n,s)}}function Yue(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,a=t.strict;if(r)return function(l,c){var u=r(),f=u.cache,h=f===void 0?e?new WeakMap:void 0:f,p=u.meta;return n(l,c,{cache:h,equals:i,meta:p,strict:a})};if(e)return function(l,c){return n(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,c){return n(l,c,o)}}var Que=Ya();Ya({strict:!0});Ya({circular:!0});Ya({circular:!0,strict:!0});Ya({createInternalComparator:function(){return Yl}});Ya({strict:!0,createInternalComparator:function(){return Yl}});Ya({circular:!0,createInternalComparator:function(){return Yl}});Ya({circular:!0,createInternalComparator:function(){return Yl},strict:!0});function Ya(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,s=Gue(t),l=Kue(s),c=r?r(l):Xue(l);return Yue({circular:n,comparator:l,createState:i,equals:c,strict:o})}function Jue(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function JP(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):Jue(i)};requestAnimationFrame(r)}function Vb(t){"@babel/helpers - typeof";return Vb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vb(t)}function Zue(t){return rfe(t)||nfe(t)||tfe(t)||efe()}function efe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tfe(t,e){if(t){if(typeof t=="string")return ZP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZP(t,e)}}function ZP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rfe(t){if(Array.isArray(t))return t}function ife(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,s=Zue(o),l=s[0],c=s.slice(1);if(typeof l=="number"){JP(i.bind(null,c),l);return}i(l),JP(i.bind(null,c));return}Vb(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function mf(t){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mf(t)}function eI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eI(Object(n),!0).forEach(function(r){c$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function c$(t,e,n){return e=afe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function afe(t){var e=ofe(t,"string");return mf(e)==="symbol"?e:String(e)}function ofe(t,e){if(mf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(mf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sfe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},lfe=function(e){return e},cfe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},du=function(e,n){return Object.keys(n).reduce(function(r,i){return tI(tI({},r),{},c$({},i,e(i,n[i])))},{})},nI=function(e,n,r){return e.map(function(i){return"".concat(cfe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function ufe(t,e){return hfe(t)||dfe(t,e)||u$(t,e)||ffe()}function ffe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function hfe(t){if(Array.isArray(t))return t}function pfe(t){return yfe(t)||gfe(t)||u$(t)||mfe()}function mfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u$(t,e){if(t){if(typeof t=="string")return Fb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fb(t,e)}}function gfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yfe(t){if(Array.isArray(t))return Fb(t)}function Fb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Jp=1e-4,f$=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},d$=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},rI=function(e,n){return function(r){var i=f$(e,n);return d$(i,r)}},vfe=function(e,n){return function(r){var i=f$(e,n),a=[].concat(pfe(i.map(function(o,s){return o*s}).slice(1)),[0]);return d$(a,r)}},iI=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),u=ufe(c,4);i=u[0],a=u[1],o=u[2],s=u[3]}}}var f=rI(i,o),h=rI(a,s),p=vfe(i,o),m=function(x){return x>1?1:x<0?0:x},y=function(x){for(var b=x>1?1:x,_=b,k=0;k<8;++k){var S=f(_)-b,I=p(_);if(Math.abs(S-b)<Jp||I<Jp)return h(_);_=m(_-S/I)}return h(_)};return y.isStepper=!1,y},bfe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,o=e.dt,s=o===void 0?17:o,l=function(u,f,h){var p=-(u-f)*r,m=h*a,y=h+(p-m)*s/1e3,v=h*s/1e3+u;return Math.abs(v-f)<Jp&&Math.abs(y)<Jp?[f,0]:[v,y]};return l.isStepper=!0,l.dt=s,l},wfe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return iI(i);case"spring":return bfe();default:if(i.split("(")[0]==="cubic-bezier")return iI(i)}return typeof i=="function"?i:null};function gf(t){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gf(t)}function aI(t){return kfe(t)||xfe(t)||h$(t)||_fe()}function _fe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kfe(t){if(Array.isArray(t))return Bb(t)}function oI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oI(Object(n),!0).forEach(function(r){Ub(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ub(t,e,n){return e=Efe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Efe(t){var e=Sfe(t,"string");return gf(e)==="symbol"?e:String(e)}function Sfe(t,e){if(gf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tfe(t,e){return Ife(t)||Pfe(t,e)||h$(t,e)||Afe()}function Afe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h$(t,e){if(t){if(typeof t=="string")return Bb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bb(t,e)}}function Bb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Ife(t){if(Array.isArray(t))return t}var Zp=function(e,n,r){return e+(n-e)*r},zb=function(e){var n=e.from,r=e.to;return n!==r},Ofe=function t(e,n,r){var i=du(function(a,o){if(zb(o)){var s=e(o.from,o.to,o.velocity),l=Tfe(s,2),c=l[0],u=l[1];return Yt(Yt({},o),{},{from:c,velocity:u})}return o},n);return r<1?du(function(a,o){return zb(o)?Yt(Yt({},o),{},{velocity:Zp(o.velocity,i[a].velocity,r),from:Zp(o.from,i[a].from,r)}):o},n):t(e,i,r-1)};const Cfe=function(t,e,n,r,i){var a=sfe(t,e),o=a.reduce(function(v,x){return Yt(Yt({},v),{},Ub({},x,[t[x],e[x]]))},{}),s=a.reduce(function(v,x){return Yt(Yt({},v),{},Ub({},x,{from:t[x],velocity:0,to:e[x]}))},{}),l=-1,c,u,f=function(){return null},h=function(){return du(function(x,b){return b.from},s)},p=function(){return!Object.values(s).filter(zb).length},m=function(x){c||(c=x);var b=x-c,_=b/n.dt;s=Ofe(n,s,_),i(Yt(Yt(Yt({},t),e),h())),c=x,p()||(l=requestAnimationFrame(f))},y=function(x){u||(u=x);var b=(x-u)/r,_=du(function(S,I){return Zp.apply(void 0,aI(I).concat([n(b)]))},o);if(i(Yt(Yt(Yt({},t),e),_)),b<1)l=requestAnimationFrame(f);else{var k=du(function(S,I){return Zp.apply(void 0,aI(I).concat([n(1)]))},o);i(Yt(Yt(Yt({},t),e),k))}};return f=n.isStepper?m:y,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function bl(t){"@babel/helpers - typeof";return bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bl(t)}var Nfe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Rfe(t,e){if(t==null)return{};var n=jfe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jfe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function gv(t){return Lfe(t)||$fe(t)||Mfe(t)||Dfe()}function Dfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mfe(t,e){if(t){if(typeof t=="string")return Wb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wb(t,e)}}function $fe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Lfe(t){if(Array.isArray(t))return Wb(t)}function Wb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sI(Object(n),!0).forEach(function(r){zc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zc(t,e,n){return e=p$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ffe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,p$(r.key),r)}}function Ufe(t,e,n){return e&&Ffe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function p$(t){var e=Bfe(t,"string");return bl(e)==="symbol"?e:String(e)}function Bfe(t,e){if(bl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qb(t,e)}function qb(t,e){return qb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qb(t,e)}function Wfe(t){var e=qfe();return function(){var r=em(t),i;if(e){var a=em(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return Hb(this,i)}}function Hb(t,e){if(e&&(bl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kb(t)}function Kb(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qfe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function em(t){return em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},em(t)}var Fi=function(t){zfe(n,t);var e=Wfe(n);function n(r,i){var a;Vfe(this,n),a=e.call(this,r,i);var o=a.props,s=o.isActive,l=o.attributeName,c=o.from,u=o.to,f=o.steps,h=o.children,p=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(Kb(a)),a.changeStyle=a.changeStyle.bind(Kb(a)),!s||p<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:u}),Hb(a);if(f&&f.length)a.state={style:f[0].style};else if(c){if(typeof h=="function")return a.state={style:c},Hb(a);a.state={style:l?zc({},l,c):c}}else a.state={style:{}};return a}return Ufe(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,c=a.shouldReAnimate,u=a.to,f=a.from,h=this.state.style;if(s){if(!o){var p={style:l?zc({},l,u):u};this.state&&h&&(l&&h[l]!==u||!l&&h!==u)&&this.setState(p);return}if(!(Que(i.to,u)&&i.canBegin&&i.isActive)){var m=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=m||c?f:i.to;if(this.state&&h){var v={style:l?zc({},l,y):y};(l&&h[l]!==y||!l&&h!==y)&&this.setState(v)}this.runAnimation(wr(wr({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,c=i.easing,u=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=Cfe(o,s,wfe(c),l,this.changeStyle),m=function(){a.stopJSAnimation=p()};this.manager.start([h,u,m,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,c=o[0],u=c.style,f=c.duration,h=f===void 0?0:f,p=function(y,v,x){if(x===0)return y;var b=v.duration,_=v.easing,k=_===void 0?"ease":_,S=v.style,I=v.properties,T=v.onAnimationEnd,E=x>0?o[x-1]:v,P=I||Object.keys(S);if(typeof k=="function"||k==="spring")return[].concat(gv(y),[a.runJSAnimation.bind(a,{from:E.style,to:S,duration:b,easing:k}),b]);var O=nI(P,b,k),N=wr(wr(wr({},E.style),S),{},{transition:O});return[].concat(gv(y),[N,b,T]).filter(lfe)};return this.manager.start([l].concat(gv(o.reduce(p,[u,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=ife());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var y=s?zc({},s,l):l,v=nI(Object.keys(y),o,c);m.start([u,a,wr(wr({},y),{},{transition:v}),o,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Rfe(i,Nfe),c=D.Children.count(a),u=this.state.style;if(typeof a=="function")return a(u);if(!s||c===0||o<=0)return a;var f=function(p){var m=p.props,y=m.style,v=y===void 0?{}:y,x=m.className,b=D.cloneElement(p,wr(wr({},l),{},{style:wr(wr({},v),u),className:x}));return b};return c===1?f(D.Children.only(a)):M.createElement("div",null,D.Children.map(a,function(h){return f(h)}))}}]),n}(D.PureComponent);Fi.displayName="Animate";Fi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Fi.propTypes={from:U.oneOfType([U.object,U.string]),to:U.oneOfType([U.object,U.string]),attributeName:U.string,duration:U.number,begin:U.number,easing:U.oneOfType([U.string,U.func]),steps:U.arrayOf(U.shape({duration:U.number.isRequired,style:U.object.isRequired,easing:U.oneOfType([U.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),U.func]),properties:U.arrayOf("string"),onAnimationEnd:U.func})),children:U.oneOfType([U.node,U.func]),isActive:U.bool,canBegin:U.bool,onAnimationEnd:U.func,shouldReAnimate:U.bool,onAnimationStart:U.func,onAnimationReStart:U.func};U.object,U.object,U.object,U.element;U.object,U.object,U.object,U.oneOfType([U.array,U.element]),U.any;function yf(t){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yf(t)}function tm(){return tm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tm.apply(this,arguments)}function Hfe(t,e){return Yfe(t)||Xfe(t,e)||Gfe(t,e)||Kfe()}function Kfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gfe(t,e){if(t){if(typeof t=="string")return lI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lI(t,e)}}function lI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Yfe(t){if(Array.isArray(t))return t}function cI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cI(Object(n),!0).forEach(function(r){Qfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qfe(t,e,n){return e=Jfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jfe(t){var e=Zfe(t,"string");return yf(e)=="symbol"?e:String(e)}function Zfe(t,e){if(yf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fI=function(e,n,r,i,a){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,u;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=a[h]>o?o:a[h];u="M".concat(e,",").concat(n+s*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(e+l*f[0],",").concat(n)),u+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+s*f[1])),u+="L ".concat(e+r,",").concat(n+i-s*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),u+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-s*f[3])),u+="Z"}else if(o>0&&a===+a&&a>0){var m=Math.min(o,a);u="M ".concat(e,",").concat(n+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+l*m,",").concat(n,`
            L `).concat(e+r-l*m,",").concat(n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r,",").concat(n+s*m,`
            L `).concat(e+r,",").concat(n+i-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r-l*m,",").concat(n+i,`
            L `).concat(e+l*m,",").concat(n+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(n+i-s*m," Z")}else u="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return u},ede=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,o=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(a,a+s),u=Math.max(a,a+s),f=Math.min(o,o+l),h=Math.max(o,o+l);return r>=c&&r<=u&&i>=f&&i<=h}return!1},tde={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},T1=function(e){var n=uI(uI({},tde),e),r=D.useRef(),i=D.useState(-1),a=Hfe(i,2),o=a[0],s=a[1];D.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var k=r.current.getTotalLength();k&&s(k)}catch{}},[]);var l=n.x,c=n.y,u=n.width,f=n.height,h=n.radius,p=n.className,m=n.animationEasing,y=n.animationDuration,v=n.animationBegin,x=n.isAnimationActive,b=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var _=Pe("recharts-rectangle",p);return b?M.createElement(Fi,{canBegin:o>0,from:{width:u,height:f,x:l,y:c},to:{width:u,height:f,x:l,y:c},duration:y,animationEasing:m,isActive:b},function(k){var S=k.width,I=k.height,T=k.x,E=k.y;return M.createElement(Fi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:y,isActive:x,easing:m},M.createElement("path",tm({},we(n,!0),{className:_,d:fI(T,E,S,I,h),ref:r})))}):M.createElement("path",tm({},we(n,!0),{className:_,d:fI(l,c,u,f,h)}))},nde=["points","className","baseLinePoints","connectNulls"];function js(){return js=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},js.apply(this,arguments)}function rde(t,e){if(t==null)return{};var n=ide(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ide(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function dI(t){return lde(t)||sde(t)||ode(t)||ade()}function ade(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ode(t,e){if(t){if(typeof t=="string")return Gb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gb(t,e)}}function sde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lde(t){if(Array.isArray(t))return Gb(t)}function Gb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var hI=function(e){return e&&e.x===+e.x&&e.y===+e.y},cde=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){hI(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),hI(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},hu=function(e,n){var r=cde(e);n&&(r=[r.reduce(function(a,o){return[].concat(dI(a),dI(o))},[])]);var i=r.map(function(a){return a.reduce(function(o,s,l){return"".concat(o).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},ude=function(e,n,r){var i=hu(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(hu(n.reverse(),r).slice(1))},fde=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,a=e.connectNulls,o=rde(e,nde);if(!n||!n.length)return null;var s=Pe("recharts-polygon",r);if(i&&i.length){var l=o.stroke&&o.stroke!=="none",c=ude(n,i,a);return M.createElement("g",{className:s},M.createElement("path",js({},we(o,!0),{fill:c.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:c})),l?M.createElement("path",js({},we(o,!0),{fill:"none",d:hu(n,a)})):null,l?M.createElement("path",js({},we(o,!0),{fill:"none",d:hu(i,a)})):null)}var u=hu(n,a);return M.createElement("path",js({},we(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:s,d:u}))};function Xb(){return Xb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xb.apply(this,arguments)}var A1=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,o=Pe("recharts-dot",a);return n===+n&&r===+r&&i===+i?M.createElement("circle",Xb({},we(e,!1),kp(e),{className:o,cx:n,cy:r,r:i})):null};function vf(t){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vf(t)}var dde=["x","y","top","left","width","height","className"];function Yb(){return Yb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yb.apply(this,arguments)}function pI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hde(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pI(Object(n),!0).forEach(function(r){pde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pde(t,e,n){return e=mde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mde(t){var e=gde(t,"string");return vf(e)=="symbol"?e:String(e)}function gde(t,e){if(vf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yde(t,e){if(t==null)return{};var n=vde(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vde(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var bde=function(e,n,r,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},wde=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.top,s=o===void 0?0:o,l=e.left,c=l===void 0?0:l,u=e.width,f=u===void 0?0:u,h=e.height,p=h===void 0?0:h,m=e.className,y=yde(e,dde),v=hde({x:r,y:a,top:s,left:c,width:f,height:p},y);return!re(r)||!re(a)||!re(f)||!re(p)||!re(s)||!re(c)?null:M.createElement("path",Yb({},we(v,!0),{className:Pe("recharts-cross",m),d:bde(r,a,f,p,s,c)}))},_de=Ig,xde=CM,kde=ai;function Ede(t,e){return t&&t.length?_de(t,kde(e),xde):void 0}var Sde=Ede;const Tde=Ke(Sde);var Ade=Ig,Pde=ai,Ide=NM;function Ode(t,e){return t&&t.length?Ade(t,Pde(e),Ide):void 0}var Cde=Ode;const Nde=Ke(Cde);var Rde=["cx","cy","angle","ticks","axisLine"],jde=["ticks","tick","angle","tickFormatter","stroke"];function wl(t){"@babel/helpers - typeof";return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wl(t)}function pu(){return pu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pu.apply(this,arguments)}function mI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function no(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mI(Object(n),!0).forEach(function(r){Mg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gI(t,e){if(t==null)return{};var n=Dde(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Dde(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Mde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,g$(r.key),r)}}function $de(t,e,n){return e&&yI(t.prototype,e),n&&yI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lde(t,e,n){return e=nm(e),Vde(t,m$()?Reflect.construct(e,n||[],nm(t).constructor):e.apply(t,n))}function Vde(t,e){if(e&&(wl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fde(t)}function Fde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m$=function(){return!!t})()}function nm(t){return nm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nm(t)}function Ude(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qb(t,e)}function Qb(t,e){return Qb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Qb(t,e)}function Mg(t,e,n){return e=g$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g$(t){var e=Bde(t,"string");return wl(e)=="symbol"?e:String(e)}function Bde(t,e){if(wl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $g=function(t){Ude(e,t);function e(){return Mde(this,e),Lde(this,e,arguments)}return $de(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,a=this.props,o=a.angle,s=a.cx,l=a.cy;return nt(s,l,i,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,s=r.ticks,l=Tde(s,function(u){return u.coordinate||0}),c=Nde(s,function(u){return u.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,s=r.ticks,l=r.axisLine,c=gI(r,Rde),u=s.reduce(function(m,y){return[Math.min(m[0],y.coordinate),Math.max(m[1],y.coordinate)]},[1/0,-1/0]),f=nt(i,a,u[0],o),h=nt(i,a,u[1],o),p=no(no(no({},we(c,!1)),{},{fill:"none"},we(l,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return M.createElement("line",pu({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,s=i.angle,l=i.tickFormatter,c=i.stroke,u=gI(i,jde),f=this.getTickTextAnchor(),h=we(u,!1),p=we(o,!1),m=a.map(function(y,v){var x=r.getTickValueCoord(y),b=no(no(no(no({textAnchor:f,transform:"rotate(".concat(90-s,", ").concat(x.x,", ").concat(x.y,")")},h),{},{stroke:"none",fill:c},p),{},{index:v},x),{},{payload:y});return M.createElement(qe,pu({className:Pe("recharts-polar-radius-axis-tick",r$(o)),key:"tick-".concat(y.coordinate)},Vo(r.props,y,v)),e.renderTickItem(o,b,l?l(y.value,v):y.value))});return M.createElement(qe,{className:"recharts-polar-radius-axis-ticks"},m)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.axisLine,o=r.tick;return!i||!i.length?null:M.createElement(qe,{className:Pe("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),zt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,a){var o;return M.isValidElement(r)?o=M.cloneElement(r,i):Se(r)?o=r(i):o=M.createElement(Fo,pu({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}]),e}(D.PureComponent);Mg($g,"displayName","PolarRadiusAxis");Mg($g,"axisType","radiusAxis");Mg($g,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function _l(t){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_l(t)}function uo(){return uo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uo.apply(this,arguments)}function vI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ro(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vI(Object(n),!0).forEach(function(r){Lg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,v$(r.key),r)}}function Wde(t,e,n){return e&&bI(t.prototype,e),n&&bI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function qde(t,e,n){return e=rm(e),Hde(t,y$()?Reflect.construct(e,n||[],rm(t).constructor):e.apply(t,n))}function Hde(t,e){if(e&&(_l(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kde(t)}function Kde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y$=function(){return!!t})()}function rm(t){return rm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rm(t)}function Gde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jb(t,e)}function Jb(t,e){return Jb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Jb(t,e)}function Lg(t,e,n){return e=v$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v$(t){var e=Xde(t,"string");return _l(e)=="symbol"?e:String(e)}function Xde(t,e){if(_l(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_l(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yde=Math.PI/180,wI=1e-5,Vg=function(t){Gde(e,t);function e(){return zde(this,e),qde(this,e,arguments)}return Wde(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.cx,o=i.cy,s=i.radius,l=i.orientation,c=i.tickSize,u=c||8,f=nt(a,o,s,r.coordinate),h=nt(a,o,s+(l==="inner"?-1:1)*u,r.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,a=Math.cos(-r.coordinate*Yde),o;return a>wI?o=i==="outer"?"start":"end":a<-wI?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.radius,s=r.axisLine,l=r.axisLineType,c=ro(ro({},we(this.props,!1)),{},{fill:"none"},we(s,!1));if(l==="circle")return M.createElement(A1,uo({className:"recharts-polar-angle-axis-line"},c,{cx:i,cy:a,r:o}));var u=this.props.ticks,f=u.map(function(h){return nt(i,a,o,h.coordinate)});return M.createElement(fde,uo({className:"recharts-polar-angle-axis-line"},c,{points:f}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,s=i.tickLine,l=i.tickFormatter,c=i.stroke,u=we(this.props,!1),f=we(o,!1),h=ro(ro({},u),{},{fill:"none"},we(s,!1)),p=a.map(function(m,y){var v=r.getTickLineCoord(m),x=r.getTickTextAnchor(m),b=ro(ro(ro({textAnchor:x},u),{},{stroke:"none",fill:c},f),{},{index:y,payload:m,x:v.x2,y:v.y2});return M.createElement(qe,uo({className:Pe("recharts-polar-angle-axis-tick",r$(o)),key:"tick-".concat(m.coordinate)},Vo(r.props,m,y)),s&&M.createElement("line",uo({className:"recharts-polar-angle-axis-tick-line"},h,v)),o&&e.renderTickItem(o,b,l?l(m.value,y):m.value))});return M.createElement(qe,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.radius,o=r.axisLine;return a<=0||!i||!i.length?null:M.createElement(qe,{className:Pe("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,a){var o;return M.isValidElement(r)?o=M.cloneElement(r,i):Se(r)?o=r(i):o=M.createElement(Fo,uo({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}]),e}(D.PureComponent);Lg(Vg,"displayName","PolarAngleAxis");Lg(Vg,"axisType","angleAxis");Lg(Vg,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Qde=TD,Jde=Qde(Object.getPrototypeOf,Object),Zde=Jde,ehe=Bi,the=Zde,nhe=zi,rhe="[object Object]",ihe=Function.prototype,ahe=Object.prototype,b$=ihe.toString,ohe=ahe.hasOwnProperty,she=b$.call(Object);function lhe(t){if(!nhe(t)||ehe(t)!=rhe)return!1;var e=the(t);if(e===null)return!0;var n=ohe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&b$.call(n)==she}var che=lhe;const uhe=Ke(che);var fhe=Bi,dhe=zi,hhe="[object Boolean]";function phe(t){return t===!0||t===!1||dhe(t)&&fhe(t)==hhe}var mhe=phe;const ghe=Ke(mhe);function bf(t){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bf(t)}function im(){return im=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},im.apply(this,arguments)}function yhe(t,e){return _he(t)||whe(t,e)||bhe(t,e)||vhe()}function vhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bhe(t,e){if(t){if(typeof t=="string")return _I(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _I(t,e)}}function _I(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function whe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function _he(t){if(Array.isArray(t))return t}function xI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xI(Object(n),!0).forEach(function(r){xhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xhe(t,e,n){return e=khe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function khe(t){var e=Ehe(t,"string");return bf(e)=="symbol"?e:String(e)}function Ehe(t,e){if(bf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var EI=function(e,n,r,i,a){var o=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-o/2,",").concat(n+a),s+="L ".concat(e+r-o/2-i,",").concat(n+a),s+="L ".concat(e,",").concat(n," Z"),s},She={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},The=function(e){var n=kI(kI({},She),e),r=D.useRef(),i=D.useState(-1),a=yhe(i,2),o=a[0],s=a[1];D.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&s(_)}catch{}},[]);var l=n.x,c=n.y,u=n.upperWidth,f=n.lowerWidth,h=n.height,p=n.className,m=n.animationEasing,y=n.animationDuration,v=n.animationBegin,x=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||h!==+h||u===0&&f===0||h===0)return null;var b=Pe("recharts-trapezoid",p);return x?M.createElement(Fi,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:u,lowerWidth:f,height:h,x:l,y:c},duration:y,animationEasing:m,isActive:x},function(_){var k=_.upperWidth,S=_.lowerWidth,I=_.height,T=_.x,E=_.y;return M.createElement(Fi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:y,easing:m},M.createElement("path",im({},we(n,!0),{className:b,d:EI(T,E,k,S,I),ref:r})))}):M.createElement("g",null,M.createElement("path",im({},we(n,!0),{className:b,d:EI(l,c,u,f,h)})))},Ahe=["option","shapeType","propTransformer","activeClassName","isActive"];function wf(t){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wf(t)}function Phe(t,e){if(t==null)return{};var n=Ihe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ihe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function SI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function am(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SI(Object(n),!0).forEach(function(r){Ohe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ohe(t,e,n){return e=Che(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Che(t){var e=Nhe(t,"string");return wf(e)=="symbol"?e:String(e)}function Nhe(t,e){if(wf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rhe(t,e){return am(am({},e),t)}function jhe(t,e){return t==="symbols"}function TI(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return M.createElement(T1,n);case"trapezoid":return M.createElement(The,n);case"sector":return M.createElement(o$,n);case"symbols":if(jhe(e))return M.createElement(Wx,n);break;default:return null}}function Dhe(t){return D.isValidElement(t)?t.props:t}function w$(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Rhe:r,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,s=t.isActive,l=Phe(t,Ahe),c;if(D.isValidElement(e))c=D.cloneElement(e,am(am({},l),Dhe(e)));else if(Se(e))c=e(l);else if(uhe(e)&&!ghe(e)){var u=i(e,l);c=M.createElement(TI,{shapeType:n,elementProps:u})}else{var f=l;c=M.createElement(TI,{shapeType:n,elementProps:f})}return s?M.createElement(qe,{className:o},c):c}function Fg(t,e){return e!=null&&"trapezoids"in t.props}function Ug(t,e){return e!=null&&"sectors"in t.props}function _f(t,e){return e!=null&&"points"in t.props}function Mhe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function $he(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Lhe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Vhe(t,e){var n;return Fg(t,e)?n=Mhe:Ug(t,e)?n=$he:_f(t,e)&&(n=Lhe),n}function Fhe(t,e){var n;return Fg(t,e)?n="trapezoids":Ug(t,e)?n="sectors":_f(t,e)&&(n="points"),n}function Uhe(t,e){if(Fg(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Ug(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return _f(t,e)?e.payload:{}}function Bhe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Fhe(n,e),a=Uhe(n,e),o=r.filter(function(l,c){var u=Ng(a,l),f=n.props[i].filter(function(m){var y=Vhe(n,e);return y(m,e)}),h=n.props[i].indexOf(f[f.length-1]),p=c===h;return u&&p}),s=r.indexOf(o[o.length-1]);return s}var Nh;function xl(t){"@babel/helpers - typeof";return xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xl(t)}function Ds(){return Ds=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ds.apply(this,arguments)}function AI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ft(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AI(Object(n),!0).forEach(function(r){lr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,x$(r.key),r)}}function Whe(t,e,n){return e&&PI(t.prototype,e),n&&PI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function qhe(t,e,n){return e=om(e),Hhe(t,_$()?Reflect.construct(e,n||[],om(t).constructor):e.apply(t,n))}function Hhe(t,e){if(e&&(xl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bs(t)}function _$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_$=function(){return!!t})()}function om(t){return om=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},om(t)}function bs(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Khe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zb(t,e)}function Zb(t,e){return Zb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Zb(t,e)}function lr(t,e,n){return e=x$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x$(t){var e=Ghe(t,"string");return xl(e)=="symbol"?e:String(e)}function Ghe(t,e){if(xl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oi=function(t){Khe(e,t);function e(n){var r;return zhe(this,e),r=qhe(this,e,[n]),lr(bs(r),"pieRef",null),lr(bs(r),"sectorRefs",[]),lr(bs(r),"id",Jf("recharts-pie-")),lr(bs(r),"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Se(i)&&i()}),lr(bs(r),"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Se(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return Whe(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,s=a.labelLine,l=a.dataKey,c=a.valueKey,u=we(this.props,!1),f=we(o,!1),h=we(s,!1),p=o&&o.offsetRadius||20,m=r.map(function(y,v){var x=(y.startAngle+y.endAngle)/2,b=nt(y.cx,y.cy,y.outerRadius+p,x),_=ft(ft(ft(ft({},u),y),{},{stroke:"none"},f),{},{index:v,textAnchor:e.getTextAnchor(b.x,y.cx)},b),k=ft(ft(ft(ft({},u),y),{},{fill:"none",stroke:y.fill},h),{},{index:v,points:[nt(y.cx,y.cy,y.outerRadius,x),b],key:"line"}),S=l;return Ie(l)&&Ie(c)?S="value":Ie(l)&&(S=c),M.createElement(qe,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(v)},s&&e.renderLabelLineItem(s,k),e.renderLabelItem(o,_,vn(y,S)))});return M.createElement(qe,{className:"recharts-pie-labels"},m)}},{key:"renderSectorsStatically",value:function(r){var i=this,a=this.props,o=a.activeShape,s=a.blendStroke,l=a.inactiveShape;return r.map(function(c,u){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&r.length!==1)return null;var f=i.isActiveIndex(u),h=l&&i.hasActiveIndex()?l:null,p=f?o:h,m=ft(ft({},c),{},{stroke:s?c.fill:c.stroke,tabIndex:-1});return M.createElement(qe,Ds({ref:function(v){v&&!i.sectorRefs.includes(v)&&i.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},Vo(i.props,c,u),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(u)}),M.createElement(w$,Ds({option:p,isActive:f,shapeType:"sector"},m)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,a=i.sectors,o=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,c=i.animationEasing,u=i.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return M.createElement(Fi,{begin:s,duration:l,isActive:o,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(m){var y=m.t,v=[],x=a&&a[0],b=x.startAngle;return a.forEach(function(_,k){var S=h&&h[k],I=k>0?Yn(_,"paddingAngle",0):0;if(S){var T=ta(S.endAngle-S.startAngle,_.endAngle-_.startAngle),E=ft(ft({},_),{},{startAngle:b+I,endAngle:b+T(y)+I});v.push(E),b=E.endAngle}else{var P=_.endAngle,O=_.startAngle,N=ta(0,P-O),R=N(y),C=ft(ft({},_),{},{startAngle:b+I,endAngle:b+R+I});v.push(C),b=C.endAngle}}),M.createElement(qe,null,r.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,a=r.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!Ng(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,a=i.hide,o=i.sectors,s=i.className,l=i.label,c=i.cx,u=i.cy,f=i.innerRadius,h=i.outerRadius,p=i.isAnimationActive,m=this.state.isAnimationFinished;if(a||!o||!o.length||!re(c)||!re(u)||!re(f)||!re(h))return null;var y=Pe("recharts-pie",s);return M.createElement(qe,{tabIndex:this.props.rootTabIndex,className:y,ref:function(x){r.pieRef=x}},this.renderSectors(),l&&this.renderLabels(o),zt.renderCallByParent(this.props,null,!1),(!p||m)&&Oa.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i){if(M.isValidElement(r))return M.cloneElement(r,i);if(Se(r))return r(i);var a=Pe("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return M.createElement(Lb,Ds({},i,{type:"linear",className:a}))}},{key:"renderLabelItem",value:function(r,i,a){if(M.isValidElement(r))return M.cloneElement(r,i);var o=a;if(Se(r)&&(o=r(i),M.isValidElement(o)))return o;var s=Pe("recharts-pie-label-text",typeof r!="boolean"&&!Se(r)?r.className:"");return M.createElement(Fo,Ds({},i,{alignmentBaseline:"middle",className:s}),o)}}]),e}(D.PureComponent);Nh=oi;lr(oi,"displayName","Pie");lr(oi,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ai.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});lr(oi,"parseDeltaAngle",function(t,e){var n=Sn(e-t),r=Math.min(Math.abs(e-t),360);return n*r});lr(oi,"getRealPieData",function(t){var e=t.props,n=e.data,r=e.children,i=we(t.props,!1),a=hr(r,ed);return n&&n.length?n.map(function(o,s){return ft(ft(ft({payload:o},i),o),a&&a[s]&&a[s].props)}):a&&a.length?a.map(function(o){return ft(ft({},i),o.props)}):[]});lr(oi,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,a=e.height,o=n$(i,a),s=r+Tn(t.props.cx,i,i/2),l=n+Tn(t.props.cy,a,a/2),c=Tn(t.props.innerRadius,o,0),u=Tn(t.props.outerRadius,o,o*.8),f=t.props.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:s,cy:l,innerRadius:c,outerRadius:u,maxRadius:f}});lr(oi,"getComposedData",function(t){var e=t.item,n=t.offset,r=Nh.getRealPieData(e);if(!r||!r.length)return null;var i=e.props,a=i.cornerRadius,o=i.startAngle,s=i.endAngle,l=i.paddingAngle,c=i.dataKey,u=i.nameKey,f=i.valueKey,h=i.tooltipType,p=Math.abs(e.props.minAngle),m=Nh.parseCoordinateOfPie(e,n),y=Nh.parseDeltaAngle(o,s),v=Math.abs(y),x=c;Ie(c)&&Ie(f)?(Pr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):Ie(c)&&(Pr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=f);var b=r.filter(function(E){return vn(E,x,0)!==0}).length,_=(v>=360?b:b-1)*l,k=v-b*p-_,S=r.reduce(function(E,P){var O=vn(P,x,0);return E+(re(O)?O:0)},0),I;if(S>0){var T;I=r.map(function(E,P){var O=vn(E,x,0),N=vn(E,u,P),R=(re(O)?O:0)/S,C;P?C=T.endAngle+Sn(y)*l*(O!==0?1:0):C=o;var L=C+Sn(y)*((O!==0?p:0)+R*k),q=(C+L)/2,z=(m.innerRadius+m.outerRadius)/2,Y=[{name:N,value:O,payload:E,dataKey:x,type:h}],$=nt(m.cx,m.cy,z,q);return T=ft(ft(ft({percent:R,cornerRadius:a,name:N,tooltipPayload:Y,midAngle:q,middleRadius:z,tooltipPosition:$},E),m),{},{value:vn(E,x),startAngle:C,endAngle:L,payload:E,paddingAngle:Sn(y)*l}),T})}return ft(ft({},m),{},{sectors:I,data:r})});var Xhe=Math.ceil,Yhe=Math.max;function Qhe(t,e,n,r){for(var i=-1,a=Yhe(Xhe((e-t)/(n||1)),0),o=Array(a);a--;)o[r?a:++i]=t,t+=n;return o}var Jhe=Qhe,Zhe=HD,II=1/0,epe=17976931348623157e292;function tpe(t){if(!t)return t===0?t:0;if(t=Zhe(t),t===II||t===-II){var e=t<0?-1:1;return e*epe}return t===t?t:0}var k$=tpe,npe=Jhe,rpe=xg,yv=k$;function ipe(t){return function(e,n,r){return r&&typeof r!="number"&&rpe(e,n,r)&&(n=r=void 0),e=yv(e),n===void 0?(n=e,e=0):n=yv(n),r=r===void 0?e<n?1:-1:yv(r),npe(e,n,r,t)}}var ape=ipe,ope=ape,spe=ope(),lpe=spe;const sm=Ke(lpe);function xf(t){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(t)}function OI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OI(Object(n),!0).forEach(function(r){E$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function E$(t,e,n){return e=cpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cpe(t){var e=upe(t,"string");return xf(e)=="symbol"?e:String(e)}function upe(t,e){if(xf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fpe=["Webkit","Moz","O","ms"],dpe=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=fpe.reduce(function(a,o){return CI(CI({},a),{},E$({},o+r,n))},{});return i[e]=n,i};function kl(t){"@babel/helpers - typeof";return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kl(t)}function lm(){return lm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lm.apply(this,arguments)}function NI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NI(Object(n),!0).forEach(function(r){zn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,T$(r.key),r)}}function ppe(t,e,n){return e&&RI(t.prototype,e),n&&RI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function mpe(t,e,n){return e=cm(e),gpe(t,S$()?Reflect.construct(e,n||[],cm(t).constructor):e.apply(t,n))}function gpe(t,e){if(e&&(kl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $r(t)}function S$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S$=function(){return!!t})()}function cm(t){return cm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cm(t)}function $r(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ype(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ew(t,e)}function ew(t,e){return ew=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ew(t,e)}function zn(t,e,n){return e=T$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T$(t){var e=vpe(t,"string");return kl(e)=="symbol"?e:String(e)}function vpe(t,e){if(kl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(kl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bpe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,o=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=uu().domain(sm(0,l)).range([a,a+o-s]),u=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:u}},jI=function(e){return e.changedTouches&&!!e.changedTouches.length},El=function(t){ype(e,t);function e(n){var r;return hpe(this,e),r=mpe(this,e,[n]),zn($r(r),"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),zn($r(r),"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),zn($r(r),"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),r.detachDragEndListener()}),zn($r(r),"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),zn($r(r),"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),zn($r(r),"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),zn($r(r),"handleSlideDragStart",function(i){var a=jI(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind($r(r),"startX"),endX:r.handleTravellerDragStart.bind($r(r),"endX")},r.state={},r}return ppe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,o=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,u=c.length-1,f=Math.min(i,a),h=Math.max(i,a),p=e.getIndexInRange(o,f),m=e.getIndexInRange(o,h);return{startIndex:p-p%l,endIndex:m===u?u:m-m%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=vn(a[r],s,r);return Se(o)?o(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,c=l.x,u=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,m=l.onChange,y=r.pageX-a;y>0?y=Math.min(y,c+u-f-s,c+u-f-o):y<0&&(y=Math.max(y,c-o,c-s));var v=this.getIndex({startX:o+y,endX:s+y});(v.startIndex!==h||v.endIndex!==p)&&m&&m(v),this.setState({startX:o+y,endX:s+y,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=jI(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,c=this.state[o],u=this.props,f=u.x,h=u.width,p=u.travellerWidth,m=u.onChange,y=u.gap,v=u.data,x={startX:this.state.startX,endX:this.state.endX},b=r.pageX-a;b>0?b=Math.min(b,f+h-p-c):b<0&&(b=Math.max(b,f-c)),x[o]=c+b;var _=this.getIndex(x),k=_.startIndex,S=_.endIndex,I=function(){var E=v.length-1;return o==="startX"&&(s>l?k%y===0:S%y===0)||s<l&&S===E||o==="endX"&&(s>l?S%y===0:k%y===0)||s>l&&S===E};this.setState(zn(zn({},o,c+b),"brushMoveStartX",r.pageX),function(){m&&I()&&m(_)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,c=o.endX,u=this.state[i],f=s.indexOf(u);if(f!==-1){var h=f+r;if(!(h===-1||h>=s.length)){var p=s[h];i==="startX"&&p>=c||i==="endX"&&p<=l||this.setState(zn({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.fill,c=r.stroke;return M.createElement("rect",{stroke:c,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.data,c=r.children,u=r.padding,f=D.Children.only(c);return f?M.cloneElement(f,{x:i,y:a,width:o,height:s,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,o,s=this,l=this.props,c=l.y,u=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,m=l.data,y=l.startIndex,v=l.endIndex,x=Math.max(r,this.props.x),b=vv(vv({},we(this.props,!1)),{},{x,y:c,width:u,height:f}),_=p||"Min value: ".concat((a=m[y])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=m[v])===null||o===void 0?void 0:o.name);return M.createElement(qe,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),s.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,b))}},{key:"renderSlide",value:function(r,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,c=a.travellerWidth,u=Math.min(r,i)+c,f=Math.max(Math.abs(i-r)-c,0);return M.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:o,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,o=r.y,s=r.height,l=r.travellerWidth,c=r.stroke,u=this.state,f=u.startX,h=u.endX,p=5,m={pointerEvents:"none",fill:c};return M.createElement(qe,{className:"recharts-brush-texts"},M.createElement(Fo,lm({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+s/2},m),this.getTextOfTick(i)),M.createElement(Fo,lm({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:o+s/2},m),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,o=r.children,s=r.x,l=r.y,c=r.width,u=r.height,f=r.alwaysShowText,h=this.state,p=h.startX,m=h.endX,y=h.isTextActive,v=h.isSlideMoving,x=h.isTravellerMoving,b=h.isTravellerFocused;if(!i||!i.length||!re(s)||!re(l)||!re(c)||!re(u)||c<=0||u<=0)return null;var _=Pe("recharts-brush",a),k=M.Children.count(o)===1,S=dpe("userSelect","none");return M.createElement(qe,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),k&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(y||v||x||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,o=r.width,s=r.height,l=r.stroke,c=Math.floor(a+s/2)-1;return M.createElement(M.Fragment,null,M.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),M.createElement("line",{x1:i+1,y1:c,x2:i+o-1,y2:c,fill:"none",stroke:"#fff"}),M.createElement("line",{x1:i+1,y1:c+2,x2:i+o-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return M.isValidElement(r)?a=M.cloneElement(r,i):Se(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,o=r.width,s=r.x,l=r.travellerWidth,c=r.updateId,u=r.startIndex,f=r.endIndex;if(a!==i.prevData||c!==i.prevUpdateId)return vv({prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:o},a&&a.length?bpe({data:a,width:o,x:s,travellerWidth:l,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);r[l]>i?s=l:o=l}return i>=r[s]?s:o}}]),e}(D.PureComponent);zn(El,"displayName","Brush");zn(El,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var wpe=Qx;function _pe(t,e){var n;return wpe(t,function(r,i,a){return n=e(r,i,a),!n}),!!n}var xpe=_pe,kpe=vD,Epe=ai,Spe=xpe,Tpe=Un,Ape=xg;function Ppe(t,e,n){var r=Tpe(t)?kpe:Spe;return n&&Ape(t,e,n)&&(e=void 0),r(t,Epe(e))}var Ipe=Ppe;const Ope=Ke(Ipe);var Jr=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},DI=UD;function Cpe(t,e,n){e=="__proto__"&&DI?DI(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Npe=Cpe,Rpe=Npe,jpe=VD,Dpe=ai;function Mpe(t,e){var n={};return e=Dpe(e),jpe(t,function(r,i,a){Rpe(n,i,e(r,i,a))}),n}var $pe=Mpe;const Lpe=Ke($pe);function Vpe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var Fpe=Vpe,Upe=Qx;function Bpe(t,e){var n=!0;return Upe(t,function(r,i,a){return n=!!e(r,i,a),n}),n}var zpe=Bpe,Wpe=Fpe,qpe=zpe,Hpe=ai,Kpe=Un,Gpe=xg;function Xpe(t,e,n){var r=Kpe(t)?Wpe:qpe;return n&&Gpe(t,e,n)&&(e=void 0),r(t,Hpe(e))}var Ype=Xpe;const A$=Ke(Ype);var Qpe=["x","y"];function kf(t){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(t)}function tw(){return tw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tw.apply(this,arguments)}function MI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MI(Object(n),!0).forEach(function(r){Jpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jpe(t,e,n){return e=Zpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zpe(t){var e=eme(t,"string");return kf(e)=="symbol"?e:String(e)}function eme(t,e){if(kf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(kf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tme(t,e){if(t==null)return{};var n=nme(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nme(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function rme(t,e){var n=t.x,r=t.y,i=tme(t,Qpe),a="".concat(n),o=parseInt(a,10),s="".concat(r),l=parseInt(s,10),c="".concat(e.height||i.height),u=parseInt(c,10),f="".concat(e.width||i.width),h=parseInt(f,10);return Cc(Cc(Cc(Cc(Cc({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:u,width:h,name:e.name,radius:e.radius})}function $I(t){return M.createElement(w$,tw({shapeType:"rectangle",propTransformer:rme,activeClassName:"recharts-active-bar"},t))}var ime=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=typeof r=="number";return a?e(r,i):(a||Bo(),n)}},ame=["value","background"],P$;function Sl(t){"@babel/helpers - typeof";return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sl(t)}function ome(t,e){if(t==null)return{};var n=sme(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sme(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function um(){return um=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},um.apply(this,arguments)}function LI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LI(Object(n),!0).forEach(function(r){ma(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,O$(r.key),r)}}function cme(t,e,n){return e&&VI(t.prototype,e),n&&VI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ume(t,e,n){return e=fm(e),fme(t,I$()?Reflect.construct(e,n||[],fm(t).constructor):e.apply(t,n))}function fme(t,e){if(e&&(Sl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wc(t)}function I$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I$=function(){return!!t})()}function fm(t){return fm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fm(t)}function Wc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nw(t,e)}function nw(t,e){return nw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nw(t,e)}function ma(t,e,n){return e=O$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O$(t){var e=hme(t,"string");return Sl(e)=="symbol"?e:String(e)}function hme(t,e){if(Sl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ns=function(t){dme(e,t);function e(){var n;lme(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=ume(this,e,[].concat(i)),ma(Wc(n),"state",{isAnimationFinished:!1}),ma(Wc(n),"id",Jf("recharts-bar-")),ma(Wc(n),"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),ma(Wc(n),"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return cme(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,c=a.activeBar,u=we(this.props,!1);return r&&r.map(function(f,h){var p=h===l,m=p?c:o,y=Vt(Vt(Vt({},u),f),{},{isActive:p,option:m,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return M.createElement(qe,um({className:"recharts-bar-rectangle"},Vo(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value)}),M.createElement($I,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,f=i.animationId,h=this.state.prevData;return M.createElement(Fi,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,y=a.map(function(v,x){var b=h&&h[x];if(b){var _=ta(b.x,v.x),k=ta(b.y,v.y),S=ta(b.width,v.width),I=ta(b.height,v.height);return Vt(Vt({},v),{},{x:_(m),y:k(m),width:S(m),height:I(m)})}if(o==="horizontal"){var T=ta(0,v.height),E=T(m);return Vt(Vt({},v),{},{y:v.y+v.height-E,height:E})}var P=ta(0,v.width),O=P(m);return Vt(Vt({},v),{},{width:O})});return M.createElement(qe,null,r.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!Ng(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=we(this.props.background,!1);return a.map(function(c,u){c.value;var f=c.background,h=ome(c,ame);if(!f)return null;var p=Vt(Vt(Vt(Vt(Vt({},h),{},{fill:"#eee"},f),l),Vo(r.props,c,u)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:u,key:"background-bar-".concat(u),className:"recharts-bar-background-rectangle"});return M.createElement($I,um({option:r.props.background,isActive:u===s},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,c=a.layout,u=a.children,f=hr(u,Dg);if(!f)return null;var h=c==="vertical"?o[0].height/2:o[0].width/2,p=function(v,x){var b=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:b,errorVal:vn(v,x)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return M.createElement(qe,m,f.map(function(y){return M.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:o,xAxis:s,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,o=r.className,s=r.xAxis,l=r.yAxis,c=r.left,u=r.top,f=r.width,h=r.height,p=r.isAnimationActive,m=r.background,y=r.id;if(i||!a||!a.length)return null;var v=this.state.isAnimationFinished,x=Pe("recharts-bar",o),b=s&&s.allowDataOverflow,_=l&&l.allowDataOverflow,k=b||_,S=Ie(y)?this.id:y;return M.createElement(qe,{className:x},b||_?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(S)},M.createElement("rect",{x:b?c:c-f/2,y:_?u:u-h/2,width:b?f:f*2,height:_?h:h*2}))):null,M.createElement(qe,{className:"recharts-bar-rectangles",clipPath:k?"url(#clipPath-".concat(S,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(k,S),(!p||v)&&Oa.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}]),e}(D.PureComponent);P$=ns;ma(ns,"displayName","Bar");ma(ns,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ai.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ma(ns,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,u=t.dataStartIndex,f=t.displayedData,h=t.offset,p=fce(r,n);if(!p)return null;var m=e.layout,y=n.props,v=y.dataKey,x=y.children,b=y.minPointSize,_=m==="horizontal"?o:a,k=c?_.scale.domain():null,S=vce({numericAxis:_}),I=hr(x,ed),T=f.map(function(E,P){var O,N,R,C,L,q;c?O=dce(c[u+P],k):(O=vn(E,v),Array.isArray(O)||(O=[S,O]));var z=ime(b,P$.defaultProps.minPointSize)(O[1],P);if(m==="horizontal"){var Y,$=[o.scale(O[0]),o.scale(O[1])],H=$[0],Z=$[1];N=PP({axis:a,ticks:s,bandSize:i,offset:p.offset,entry:E,index:P}),R=(Y=Z??H)!==null&&Y!==void 0?Y:void 0,C=p.size;var ae=H-Z;if(L=Number.isNaN(ae)?0:ae,q={x:N,y:o.y,width:C,height:o.height},Math.abs(z)>0&&Math.abs(L)<Math.abs(z)){var Q=Sn(L||z)*(Math.abs(z)-Math.abs(L));R-=Q,L+=Q}}else{var F=[a.scale(O[0]),a.scale(O[1])],K=F[0],le=F[1];if(N=K,R=PP({axis:o,ticks:l,bandSize:i,offset:p.offset,entry:E,index:P}),C=le-K,L=p.size,q={x:a.x,y:R,width:a.width,height:L},Math.abs(z)>0&&Math.abs(C)<Math.abs(z)){var me=Sn(C||z)*(Math.abs(z)-Math.abs(C));C+=me}}return Vt(Vt(Vt({},E),{},{x:N,y:R,width:C,height:L,value:c?O:O[1],payload:E,background:q},I&&I[P]&&I[P].props),{},{tooltipPayload:[e$(n,E)],tooltipPosition:{x:N+C/2,y:R+L/2}})});return Vt({data:T,layout:m},h)});function Ef(t){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ef(t)}function pme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,C$(r.key),r)}}function mme(t,e,n){return e&&FI(t.prototype,e),n&&FI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function UI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UI(Object(n),!0).forEach(function(r){Bg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bg(t,e,n){return e=C$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C$(t){var e=gme(t,"string");return Ef(e)=="symbol"?e:String(e)}function gme(t,e){if(Ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yme=function(e,n,r,i,a){var o=e.width,s=e.height,l=e.layout,c=e.children,u=Object.keys(n),f={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!qn(c,ns);return u.reduce(function(p,m){var y=n[m],v=y.orientation,x=y.domain,b=y.padding,_=b===void 0?{}:b,k=y.mirror,S=y.reversed,I="".concat(v).concat(k?"Mirror":""),T,E,P,O,N;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var R=x[1]-x[0],C=1/0,L=y.categoricalDomain.sort();if(L.forEach(function(K,le){le>0&&(C=Math.min((K||0)-(L[le-1]||0),C))}),Number.isFinite(C)){var q=C/R,z=y.layout==="vertical"?r.height:r.width;if(y.padding==="gap"&&(T=q*z/2),y.padding==="no-gap"){var Y=Tn(e.barCategoryGap,q*z),$=q*z/2;T=$-Y-($-Y)/z*Y}}}i==="xAxis"?E=[r.left+(_.left||0)+(T||0),r.left+r.width-(_.right||0)-(T||0)]:i==="yAxis"?E=l==="horizontal"?[r.top+r.height-(_.bottom||0),r.top+(_.top||0)]:[r.top+(_.top||0)+(T||0),r.top+r.height-(_.bottom||0)-(T||0)]:E=y.range,S&&(E=[E[1],E[0]]);var H=YM(y,a,h),Z=H.scale,ae=H.realScaleType;Z.domain(x).range(E),QM(Z);var Q=JM(Z,kr(kr({},y),{},{realScaleType:ae}));i==="xAxis"?(N=v==="top"&&!k||v==="bottom"&&k,P=r.left,O=f[I]-N*y.height):i==="yAxis"&&(N=v==="left"&&!k||v==="right"&&k,P=f[I]-N*y.width,O=r.top);var F=kr(kr(kr({},y),Q),{},{realScaleType:ae,x:P,y:O,scale:Z,width:i==="xAxis"?r.width:y.width,height:i==="yAxis"?r.height:y.height});return F.bandSize=Xp(F,Q),!y.hide&&i==="xAxis"?f[I]+=(N?-1:1)*F.height:y.hide||(f[I]+=(N?-1:1)*F.width),kr(kr({},p),{},Bg({},m,F))},{})},N$=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(i,o),width:Math.abs(a-r),height:Math.abs(o-i)}},vme=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return N$({x:n,y:r},{x:i,y:a})},R$=function(){function t(e){pme(this,t),this.scale=e}return mme(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}]),t}();Bg(R$,"EPS",1e-4);var P1=function(e){var n=Object.keys(e).reduce(function(r,i){return kr(kr({},r),{},Bg({},i,R$.create(e[i])))},{});return kr(kr({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return Lpe(i,function(l,c){return n[c].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return A$(i,function(a,o){return n[o].isInRange(a)})}})};function bme(t){return(t%180+180)%180}var wme=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=bme(i),o=a*Math.PI/180,s=Math.atan(r/n),l=o>s&&o<Math.PI-s?r/Math.sin(o):n/Math.cos(o);return Math.abs(l)},_me=ai,xme=Zf,kme=wg;function Eme(t){return function(e,n,r){var i=Object(e);if(!xme(e)){var a=_me(n);e=kme(e),n=function(s){return a(i[s],s,i)}}var o=t(e,n,r);return o>-1?i[a?e[o]:o]:void 0}}var Sme=Eme,Tme=k$;function Ame(t){var e=Tme(t),n=e%1;return e===e?n?e-n:e:0}var Pme=Ame,Ime=ND,Ome=ai,Cme=Pme,Nme=Math.max;function Rme(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:Cme(n);return i<0&&(i=Nme(r+i,0)),Ime(t,Ome(e),i)}var jme=Rme,Dme=Sme,Mme=jme,$me=Dme(Mme),Lme=$me;const Vme=Ke(Lme);var Fme=sK(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),I1=D.createContext(void 0),O1=D.createContext(void 0),j$=D.createContext(void 0),D$=D.createContext({}),M$=D.createContext(void 0),$$=D.createContext(0),L$=D.createContext(0),BI=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=e.clipPathId,s=e.children,l=e.width,c=e.height,u=Fme(a);return M.createElement(I1.Provider,{value:r},M.createElement(O1.Provider,{value:i},M.createElement(D$.Provider,{value:a},M.createElement(j$.Provider,{value:u},M.createElement(M$.Provider,{value:o},M.createElement($$.Provider,{value:c},M.createElement(L$.Provider,{value:l},s)))))))},Ume=function(){return D.useContext(M$)},V$=function(e){var n=D.useContext(I1);n==null&&Bo();var r=n[e];return r==null&&Bo(),r},Bme=function(){var e=D.useContext(I1);return ua(e)},zme=function(){var e=D.useContext(O1),n=Vme(e,function(r){return A$(r.domain,Number.isFinite)});return n||ua(e)},F$=function(e){var n=D.useContext(O1);n==null&&Bo();var r=n[e];return r==null&&Bo(),r},Wme=function(){var e=D.useContext(j$);return e},qme=function(){return D.useContext(D$)},C1=function(){return D.useContext(L$)},N1=function(){return D.useContext($$)};function Sf(t){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sf(t)}function zI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zI(Object(n),!0).forEach(function(r){Hme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hme(t,e,n){return e=Kme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kme(t){var e=Gme(t,"string");return Sf(e)=="symbol"?e:String(e)}function Gme(t,e){if(Sf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xme(t,e){return Zme(t)||Jme(t,e)||Qme(t,e)||Yme()}function Yme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qme(t,e){if(t){if(typeof t=="string")return qI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qI(t,e)}}function qI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jme(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Zme(t){if(Array.isArray(t))return t}function rw(){return rw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rw.apply(this,arguments)}var ege=function(e,n){var r;return M.isValidElement(e)?r=M.cloneElement(e,n):Se(e)?r=e(n):r=M.createElement("line",rw({},n,{className:"recharts-reference-line-line"})),r},tge=function(e,n,r,i,a,o,s,l,c){var u=a.x,f=a.y,h=a.width,p=a.height;if(r){var m=c.y,y=e.y.apply(m,{position:o});if(Jr(c,"discard")&&!e.y.isInRange(y))return null;var v=[{x:u+h,y},{x:u,y}];return l==="left"?v.reverse():v}if(n){var x=c.x,b=e.x.apply(x,{position:o});if(Jr(c,"discard")&&!e.x.isInRange(b))return null;var _=[{x:b,y:f+p},{x:b,y:f}];return s==="top"?_.reverse():_}if(i){var k=c.segment,S=k.map(function(I){return e.apply(I,{position:o})});return Jr(c,"discard")&&Ope(S,function(I){return!e.isInRange(I)})?null:S}return null};function R1(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,s=t.className,l=t.alwaysShow,c=Ume(),u=V$(i),f=F$(a),h=Wme();if(!c||!h)return null;Pr(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=P1({x:u.scale,y:f.scale}),m=Dt(e),y=Dt(n),v=r&&r.length===2,x=tge(p,m,y,v,h,t.position,u.orientation,f.orientation,t);if(!x)return null;var b=Xme(x,2),_=b[0],k=_.x,S=_.y,I=b[1],T=I.x,E=I.y,P=Jr(t,"hidden")?"url(#".concat(c,")"):void 0,O=WI(WI({clipPath:P},we(t,!0)),{},{x1:k,y1:S,x2:T,y2:E});return M.createElement(qe,{className:Pe("recharts-reference-line",s)},ege(o,O),zt.renderCallByParent(t,vme({x1:k,y1:S,x2:T,y2:E})))}R1.displayName="ReferenceLine";R1.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"};function Tf(t){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tf(t)}function iw(){return iw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iw.apply(this,arguments)}function HI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HI(Object(n),!0).forEach(function(r){nge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nge(t,e,n){return e=rge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rge(t){var e=ige(t,"string");return Tf(e)=="symbol"?e:String(e)}function ige(t,e){if(Tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var age=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,o=P1({x:i.scale,y:a.scale}),s=o.apply({x:n,y:r},{bandAware:!0});return Jr(e,"discard")&&!o.isInRange(s)?null:s};function ad(t){var e=t.x,n=t.y,r=t.r,i=t.alwaysShow,a=t.clipPathId,o=Dt(e),s=Dt(n);if(Pr(i===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!o||!s)return null;var l=age(t);if(!l)return null;var c=l.x,u=l.y,f=t.shape,h=t.className,p=Jr(t,"hidden")?"url(#".concat(a,")"):void 0,m=KI(KI({clipPath:p},we(t,!0)),{},{cx:c,cy:u});return M.createElement(qe,{className:Pe("recharts-reference-dot",h)},ad.renderDot(f,m),zt.renderCallByParent(t,{x:c-r,y:u-r,width:2*r,height:2*r}))}ad.displayName="ReferenceDot";ad.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1};ad.renderDot=function(t,e){var n;return M.isValidElement(t)?n=M.cloneElement(t,e):Se(t)?n=t(e):n=M.createElement(A1,iw({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n};function Af(t){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Af(t)}function aw(){return aw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aw.apply(this,arguments)}function GI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GI(Object(n),!0).forEach(function(r){oge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oge(t,e,n){return e=sge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sge(t){var e=lge(t,"string");return Af(e)=="symbol"?e:String(e)}function lge(t,e){if(Af(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Af(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cge=function(e,n,r,i,a){var o=a.x1,s=a.x2,l=a.y1,c=a.y2,u=a.xAxis,f=a.yAxis;if(!u||!f)return null;var h=P1({x:u.scale,y:f.scale}),p={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},m={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(c,{position:"end"}):h.y.rangeMax};return Jr(a,"discard")&&(!h.isInRange(p)||!h.isInRange(m))?null:N$(p,m)};function od(t){var e=t.x1,n=t.x2,r=t.y1,i=t.y2,a=t.className,o=t.alwaysShow,s=t.clipPathId;Pr(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var l=Dt(e),c=Dt(n),u=Dt(r),f=Dt(i),h=t.shape;if(!l&&!c&&!u&&!f&&!h)return null;var p=cge(l,c,u,f,t);if(!p&&!h)return null;var m=Jr(t,"hidden")?"url(#".concat(s,")"):void 0;return M.createElement(qe,{className:Pe("recharts-reference-area",a)},od.renderRect(h,XI(XI({clipPath:m},we(t,!0)),p)),zt.renderCallByParent(t,p))}od.displayName="ReferenceArea";od.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1};od.renderRect=function(t,e){var n;return M.isValidElement(t)?n=M.cloneElement(t,e):Se(t)?n=t(e):n=M.createElement(T1,aw({},e,{className:"recharts-reference-area-rect"})),n};function U$(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function uge(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return wme(r,n)}function fge(t,e,n){var r=n==="width",i=t.x,a=t.y,o=t.width,s=t.height;return e===1?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}function dm(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function dge(t,e){return U$(t,e+1)}function hge(t,e,n,r,i){for(var a=(r||[]).slice(),o=e.start,s=e.end,l=0,c=1,u=o,f=function(){var m=r==null?void 0:r[l];if(m===void 0)return{v:U$(r,c)};var y=l,v,x=function(){return v===void 0&&(v=n(m,y)),v},b=m.coordinate,_=l===0||dm(t,b,x,u,s);_||(l=0,u=o,c+=1),_&&(u=b+t*(x()/2+i),l+=c)},h;c<=a.length;)if(h=f(),h)return h.v;return[]}function Pf(t){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pf(t)}function YI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YI(Object(n),!0).forEach(function(r){pge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pge(t,e,n){return e=mge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mge(t){var e=gge(t,"string");return Pf(e)=="symbol"?e:String(e)}function gge(t,e){if(Pf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Pf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yge(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,s=e.start,l=e.end,c=function(h){var p=a[h],m,y=function(){return m===void 0&&(m=n(p,h)),m};if(h===o-1){var v=t*(p.coordinate+t*y()/2-l);a[h]=p=dn(dn({},p),{},{tickCoord:v>0?p.coordinate-v*t:p.coordinate})}else a[h]=p=dn(dn({},p),{},{tickCoord:p.coordinate});var x=dm(t,p.tickCoord,y,s,l);x&&(l=p.tickCoord-t*(y()/2+i),a[h]=dn(dn({},p),{},{isShow:!0}))},u=o-1;u>=0;u--)c(u);return a}function vge(t,e,n,r,i,a){var o=(r||[]).slice(),s=o.length,l=e.start,c=e.end;if(a){var u=r[s-1],f=n(u,s-1),h=t*(u.coordinate+t*f/2-c);o[s-1]=u=dn(dn({},u),{},{tickCoord:h>0?u.coordinate-h*t:u.coordinate});var p=dm(t,u.tickCoord,function(){return f},l,c);p&&(c=u.tickCoord-t*(f/2+i),o[s-1]=dn(dn({},u),{},{isShow:!0}))}for(var m=a?s-1:s,y=function(b){var _=o[b],k,S=function(){return k===void 0&&(k=n(_,b)),k};if(b===0){var I=t*(_.coordinate-t*S()/2-l);o[b]=_=dn(dn({},_),{},{tickCoord:I<0?_.coordinate-I*t:_.coordinate})}else o[b]=_=dn(dn({},_),{},{tickCoord:_.coordinate});var T=dm(t,_.tickCoord,S,l,c);T&&(l=_.tickCoord+t*(S()/2+i),o[b]=dn(dn({},_),{},{isShow:!0}))},v=0;v<m;v++)y(v);return o}function j1(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,s=t.orientation,l=t.interval,c=t.tickFormatter,u=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(re(l)||Ai.isSsr)return dge(i,typeof l=="number"&&re(l)?l:0);var h=[],p=s==="top"||s==="bottom"?"width":"height",m=u&&p==="width"?cu(u,{fontSize:e,letterSpacing:n}):{width:0,height:0},y=function(_,k){var S=Se(c)?c(_.value,k):_.value;return p==="width"?uge(cu(S,{fontSize:e,letterSpacing:n}),m,f):cu(S,{fontSize:e,letterSpacing:n})[p]},v=i.length>=2?Sn(i[1].coordinate-i[0].coordinate):1,x=fge(a,v,p);return l==="equidistantPreserveStart"?hge(v,x,y,i,o):(l==="preserveStart"||l==="preserveStartEnd"?h=vge(v,x,y,i,o,l==="preserveStartEnd"):h=yge(v,x,y,i,o),h.filter(function(b){return b.isShow}))}var bge=["viewBox"],wge=["viewBox"],_ge=["ticks"];function Tl(t){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tl(t)}function Ms(){return Ms=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ms.apply(this,arguments)}function QI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QI(Object(n),!0).forEach(function(r){D1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bv(t,e){if(t==null)return{};var n=xge(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xge(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function kge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,z$(r.key),r)}}function Ege(t,e,n){return e&&JI(t.prototype,e),n&&JI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sge(t,e,n){return e=hm(e),Tge(t,B$()?Reflect.construct(e,n||[],hm(t).constructor):e.apply(t,n))}function Tge(t,e){if(e&&(Tl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Age(t)}function Age(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B$=function(){return!!t})()}function hm(t){return hm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hm(t)}function Pge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ow(t,e)}function ow(t,e){return ow=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ow(t,e)}function D1(t,e,n){return e=z$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z$(t){var e=Ige(t,"string");return Tl(e)=="symbol"?e:String(e)}function Ige(t,e){if(Tl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Tl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ql=function(t){Pge(e,t);function e(n){var r;return kge(this,e),r=Sge(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Ege(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,o=bv(r,bge),s=this.props,l=s.viewBox,c=bv(s,wge);return!Gs(a,l)||!Gs(o,c)||!Gs(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,c=i.orientation,u=i.tickSize,f=i.mirror,h=i.tickMargin,p,m,y,v,x,b,_=f?-1:1,k=r.tickSize||u,S=re(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":p=m=r.coordinate,v=o+ +!f*l,y=v-_*k,b=y-_*h,x=S;break;case"left":y=v=r.coordinate,m=a+ +!f*s,p=m-_*k,x=p-_*h,b=S;break;case"right":y=v=r.coordinate,m=a+ +f*s,p=m+_*k,x=p+_*h,b=S;break;default:p=m=r.coordinate,v=o+ +f*l,y=v+_*k,b=y+_*h,x=S;break}return{line:{x1:p,y1:y,x2:m,y2:v},tick:{x,y:b}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.orientation,c=r.mirror,u=r.axisLine,f=xn(xn(xn({},we(this.props,!1)),we(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);f=xn(xn({},f),{},{x1:i,y1:a+h*s,x2:i+o,y2:a+h*s})}else{var p=+(l==="left"&&!c||l==="right"&&c);f=xn(xn({},f),{},{x1:i+p*o,y1:a,x2:i+p*o,y2:a+s})}return M.createElement("line",Ms({},f,{className:Pe("recharts-cartesian-axis-line",Yn(u,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var o=this,s=this.props,l=s.tickLine,c=s.stroke,u=s.tick,f=s.tickFormatter,h=s.unit,p=j1(xn(xn({},this.props),{},{ticks:r}),i,a),m=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),v=we(this.props,!1),x=we(u,!1),b=xn(xn({},v),{},{fill:"none"},we(l,!1)),_=p.map(function(k,S){var I=o.getTickLineCoord(k),T=I.line,E=I.tick,P=xn(xn(xn(xn({textAnchor:m,verticalAnchor:y},v),{},{stroke:"none",fill:c},x),E),{},{index:S,payload:k,visibleTicksCount:p.length,tickFormatter:f});return M.createElement(qe,Ms({className:"recharts-cartesian-axis-tick",key:"tick-".concat(k.value,"-").concat(k.coordinate,"-").concat(k.tickCoord)},Vo(o.props,k,S)),l&&M.createElement("line",Ms({},b,T,{className:Pe("recharts-cartesian-axis-tick-line",Yn(l,"className"))})),u&&e.renderTickItem(u,P,"".concat(Se(f)?f(k.value,S):k.value).concat(h||"")))});return M.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var f=this.props,h=f.ticks,p=bv(f,_ge),m=h;return Se(l)&&(m=h&&h.length>0?l(this.props):l(p)),o<=0||s<=0||!m||!m.length?null:M.createElement(qe,{className:Pe("recharts-cartesian-axis",c),ref:function(v){r.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),zt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var o;return M.isValidElement(r)?o=M.cloneElement(r,i):Se(r)?o=r(i):o=M.createElement(Fo,Ms({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}]),e}(D.Component);D1(Ql,"displayName","CartesianAxis");D1(Ql,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Oge=["x1","y1","x2","y2","key"],Cge=["offset"];function zo(t){"@babel/helpers - typeof";return zo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zo(t)}function ZI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZI(Object(n),!0).forEach(function(r){Nge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nge(t,e,n){return e=Rge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rge(t){var e=jge(t,"string");return zo(e)=="symbol"?e:String(e)}function jge(t,e){if(zo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(zo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bo(){return bo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bo.apply(this,arguments)}function eO(t,e){if(t==null)return{};var n=Dge(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Dge(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Mge=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height;return M.createElement("rect",{x:i,y:a,width:o,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function W$(t,e){var n;if(M.isValidElement(t))n=M.cloneElement(t,e);else if(Se(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,o=e.y2,s=e.key,l=eO(e,Oge),c=we(l,!1);c.offset;var u=eO(c,Cge);n=M.createElement("line",bo({},u,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:s}))}return n}function $ge(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var c=yn(yn({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return W$(i,c)});return M.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Lge(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var c=yn(yn({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return W$(i,c)});return M.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Vge(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,o=t.height,s=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var u=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==u[0]&&u.unshift(0);var f=u.map(function(h,p){var m=!u[p+1],y=m?i+o-h:u[p+1]-h;if(y<=0)return null;var v=p%e.length;return M.createElement("rect",{key:"react-".concat(p),y:h,x:r,height:y,width:a,stroke:"none",fill:e[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Fge(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,s=t.width,l=t.height,c=t.verticalPoints;if(!n||!r||!r.length)return null;var u=c.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==u[0]&&u.unshift(0);var f=u.map(function(h,p){var m=!u[p+1],y=m?a+s-h:u[p+1]-h;if(y<=0)return null;var v=p%r.length;return M.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:y,height:l,stroke:"none",fill:r[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Uge=function(e,n){var r=e.xAxis,i=e.width,a=e.height,o=e.offset;return XM(j1(yn(yn(yn({},Ql.defaultProps),r),{},{ticks:xi(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,n)},Bge=function(e,n){var r=e.yAxis,i=e.width,a=e.height,o=e.offset;return XM(j1(yn(yn(yn({},Ql.defaultProps),r),{},{ticks:xi(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,n)},ms={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function q$(t){var e,n,r,i,a,o,s=C1(),l=N1(),c=qme(),u=yn(yn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:ms.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:ms.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:ms.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:ms.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:ms.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:ms.verticalFill,x:re(t.x)?t.x:c.left,y:re(t.y)?t.y:c.top,width:re(t.width)?t.width:c.width,height:re(t.height)?t.height:c.height}),f=u.x,h=u.y,p=u.width,m=u.height,y=u.syncWithTicks,v=u.horizontalValues,x=u.verticalValues,b=Bme(),_=zme();if(!re(p)||p<=0||!re(m)||m<=0||!re(f)||f!==+f||!re(h)||h!==+h)return null;var k=u.verticalCoordinatesGenerator||Uge,S=u.horizontalCoordinatesGenerator||Bge,I=u.horizontalPoints,T=u.verticalPoints;if((!I||!I.length)&&Se(S)){var E=v&&v.length,P=S({yAxis:_?yn(yn({},_),{},{ticks:E?v:_.ticks}):void 0,width:s,height:l,offset:c},E?!0:y);Pr(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(zo(P),"]")),Array.isArray(P)&&(I=P)}if((!T||!T.length)&&Se(k)){var O=x&&x.length,N=k({xAxis:b?yn(yn({},b),{},{ticks:O?x:b.ticks}):void 0,width:s,height:l,offset:c},O?!0:y);Pr(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(zo(N),"]")),Array.isArray(N)&&(T=N)}return M.createElement("g",{className:"recharts-cartesian-grid"},M.createElement(Mge,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height}),M.createElement($ge,bo({},u,{offset:c,horizontalPoints:I,xAxis:b,yAxis:_})),M.createElement(Lge,bo({},u,{offset:c,verticalPoints:T,xAxis:b,yAxis:_})),M.createElement(Vge,bo({},u,{horizontalPoints:I})),M.createElement(Fge,bo({},u,{verticalPoints:T})))}q$.displayName="CartesianGrid";function sw(){return sw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sw.apply(this,arguments)}var zg=function(e){var n=e.xAxisId,r=C1(),i=N1(),a=V$(n);return a==null?null:M.createElement(Ql,sw({},a,{className:Pe("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return xi(s,!0)}}))};zg.displayName="XAxis";zg.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};function lw(){return lw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lw.apply(this,arguments)}var Wg=function(e){var n=e.yAxisId,r=C1(),i=N1(),a=F$(n);return a==null?null:M.createElement(Ql,lw({},a,{className:Pe("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return xi(s,!0)}}))};Wg.displayName="YAxis";Wg.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};function tO(t){return Hge(t)||qge(t)||Wge(t)||zge()}function zge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wge(t,e){if(t){if(typeof t=="string")return cw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cw(t,e)}}function qge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Hge(t){if(Array.isArray(t))return cw(t)}function cw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var uw=function(e,n,r,i,a){var o=hr(e,R1),s=hr(e,ad),l=[].concat(tO(o),tO(s)),c=hr(e,od),u="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(y,v){if(v.props[u]===r&&Jr(v.props,"extendDomain")&&re(v.props[f])){var x=v.props[f];return[Math.min(y[0],x),Math.max(y[1],x)]}return y},h)),c.length){var p="".concat(f,"1"),m="".concat(f,"2");h=c.reduce(function(y,v){if(v.props[u]===r&&Jr(v.props,"extendDomain")&&re(v.props[p])&&re(v.props[m])){var x=v.props[p],b=v.props[m];return[Math.min(y[0],x,b),Math.max(y[1],x,b)]}return y},h)}return a&&a.length&&(h=a.reduce(function(y,v){return re(v)?[Math.min(y[0],v),Math.max(y[1],v)]:y},h)),h},H$={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function a(l,c,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,f||l,h),m=n?n+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)e.call(u,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},s.prototype.listeners=function(c){var u=n?n+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,m=new Array(p);h<p;h++)m[h]=f[h].fn;return m},s.prototype.listenerCount=function(c){var u=n?n+c:c,f=this._events[u];return f?f.fn?1:f.length:0},s.prototype.emit=function(c,u,f,h,p,m){var y=n?n+c:c;if(!this._events[y])return!1;var v=this._events[y],x=arguments.length,b,_;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,f),!0;case 4:return v.fn.call(v.context,u,f,h),!0;case 5:return v.fn.call(v.context,u,f,h,p),!0;case 6:return v.fn.call(v.context,u,f,h,p,m),!0}for(_=1,b=new Array(x-1);_<x;_++)b[_-1]=arguments[_];v.fn.apply(v.context,b)}else{var k=v.length,S;for(_=0;_<k;_++)switch(v[_].once&&this.removeListener(c,v[_].fn,void 0,!0),x){case 1:v[_].fn.call(v[_].context);break;case 2:v[_].fn.call(v[_].context,u);break;case 3:v[_].fn.call(v[_].context,u,f);break;case 4:v[_].fn.call(v[_].context,u,f,h);break;default:if(!b)for(S=1,b=new Array(x-1);S<x;S++)b[S-1]=arguments[S];v[_].fn.apply(v[_].context,b)}}return!0},s.prototype.on=function(c,u,f){return a(this,c,u,f,!1)},s.prototype.once=function(c,u,f){return a(this,c,u,f,!0)},s.prototype.removeListener=function(c,u,f,h){var p=n?n+c:c;if(!this._events[p])return this;if(!u)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===u&&(!h||m.once)&&(!f||m.context===f)&&o(this,p);else{for(var y=0,v=[],x=m.length;y<x;y++)(m[y].fn!==u||h&&!m[y].once||f&&m[y].context!==f)&&v.push(m[y]);v.length?this._events[p]=v.length===1?v[0]:v:o(this,p)}return this},s.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(H$);var Kge=H$.exports;const Gge=Ke(Kge);var wv=new Gge,_v="recharts.syncMouseEvents";function If(t){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},If(t)}function Xge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,K$(r.key),r)}}function Qge(t,e,n){return e&&Yge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xv(t,e,n){return e=K$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K$(t){var e=Jge(t,"string");return If(e)=="symbol"?e:String(e)}function Jge(t,e){if(If(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(If(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zge=function(){function t(){Xge(this,t),xv(this,"activeIndex",0),xv(this,"coordinateList",[]),xv(this,"layout","horizontal")}return Qge(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,o=n.container,s=o===void 0?null:o,l=n.layout,c=l===void 0?null:l,u=n.offset,f=u===void 0?null:u,h=n.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,u=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=a+l+c,h=o+this.offset.top+s/2+u;this.mouseHandlerCallback({pageX:f,pageY:h})}}}]),t}();function eye(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&re(r)&&re(i))return!0}return!1}function tye(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function G$(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,o=nt(e,n,r,i),s=nt(e,n,r,a);return{points:[o,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function nye(t,e,n){var r,i,a,o;if(t==="horizontal")r=e.x,a=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,c=e.innerRadius,u=e.outerRadius,f=e.angle,h=nt(s,l,c,f),p=nt(s,l,u,f);r=h.x,i=h.y,a=p.x,o=p.y}else return G$(e);return[{x:r,y:i},{x:a,y:o}]}function Of(t){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Of(t)}function nO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ch(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nO(Object(n),!0).forEach(function(r){rye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rye(t,e,n){return e=iye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iye(t){var e=aye(t,"string");return Of(e)=="symbol"?e:String(e)}function aye(t,e){if(Of(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oye(t){var e=t.element,n=t.tooltipEventType,r=t.isActive,i=t.activeCoordinate,a=t.activePayload,o=t.offset,s=t.activeTooltipIndex,l=t.tooltipAxisBandSize,c=t.layout,u=t.chartName;if(!e||!e.props.cursor||!r||!i||u!=="ScatterChart"&&n!=="axis")return null;var f,h=Lb;if(u==="ScatterChart")f=i,h=wde;else if(u==="BarChart")f=tye(c,i,o,l),h=T1;else if(c==="radial"){var p=G$(i),m=p.cx,y=p.cy,v=p.radius,x=p.startAngle,b=p.endAngle;f={cx:m,cy:y,startAngle:x,endAngle:b,innerRadius:v,outerRadius:v},h=o$}else f={points:nye(c,i,o)},h=Lb;var _=ch(ch(ch(ch({stroke:"#ccc",pointerEvents:"none"},o),f),we(e.props.cursor,!1)),{},{payload:a,payloadIndex:s,className:Pe("recharts-tooltip-cursor",e.props.cursor.className)});return D.isValidElement(e.props.cursor)?D.cloneElement(e.props.cursor,_):D.createElement(h,_)}var sye=["item"],lye=["children","className","width","height","style","compact","title","desc"];function Al(t){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Al(t)}function mu(){return mu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mu.apply(this,arguments)}function rO(t,e){return fye(t)||uye(t,e)||Y$(t,e)||cye()}function cye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function fye(t){if(Array.isArray(t))return t}function iO(t,e){if(t==null)return{};var n=dye(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dye(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function hye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Q$(r.key),r)}}function mye(t,e,n){return e&&pye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gye(t,e,n){return e=pm(e),yye(t,X$()?Reflect.construct(e,n||[],pm(t).constructor):e.apply(t,n))}function yye(t,e){if(e&&(Al(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return De(t)}function X$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X$=function(){return!!t})()}function pm(t){return pm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pm(t)}function De(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fw(t,e)}function fw(t,e){return fw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fw(t,e)}function Pl(t){return _ye(t)||wye(t)||Y$(t)||bye()}function bye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y$(t,e){if(t){if(typeof t=="string")return dw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dw(t,e)}}function wye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _ye(t){if(Array.isArray(t))return dw(t)}function dw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function aO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function G(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aO(Object(n),!0).forEach(function(r){ve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ve(t,e,n){return e=Q$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q$(t){var e=xye(t,"string");return Al(e)=="symbol"?e:String(e)}function xye(t,e){if(Al(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Al(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kye={xAxis:["bottom","top"],yAxis:["left","right"]},Eye={width:"100%",height:"100%"},J$={x:0,y:0};function uh(t){return t}var Sye=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Tye=function(e,n,r,i){var a=n.find(function(u){return u&&u.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,s=i.radius;return G(G(G({},i),nt(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,c=i.angle;return G(G(G({},i),nt(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return J$},qg=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(Pl(s),Pl(c)):s},[]);return o.length>0?o:e&&e.length&&re(i)&&re(a)?e.slice(i,a+1):[]};function Z$(t){return t==="number"?[0,"auto"]:void 0}var hw=function(e,n,r,i){var a=e.graphicalItems,o=e.tooltipAxis,s=qg(n,e);return r<0||!a||!a.length||r>=s.length?null:a.reduce(function(l,c){var u,f=(u=c.props.data)!==null&&u!==void 0?u:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?s:f;h=H0(p,o.dataKey,i)}else h=f&&f[r]||s[r];return h?[].concat(Pl(l),[e$(c,h)]):l},[])},oO=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},o=Sye(a,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,u=ace(o,s,c,l);if(u>=0&&c){var f=c[u]&&c[u].value,h=hw(e,n,u,f),p=Tye(r,s,u,a);return{activeTooltipIndex:u,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},Aye=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,f=e.children,h=e.stackOffset,p=GM(u,a);return r.reduce(function(m,y){var v,x=y.props,b=x.type,_=x.dataKey,k=x.allowDataOverflow,S=x.allowDuplicatedCategory,I=x.scale,T=x.ticks,E=x.includeHidden,P=y.props[o];if(m[P])return m;var O=qg(e.data,{graphicalItems:i.filter(function(Q){return Q.props[o]===P}),dataStartIndex:l,dataEndIndex:c}),N=O.length,R,C,L;eye(y.props.domain,k,b)&&(R=Rb(y.props.domain,null,k),p&&(b==="number"||I!=="auto")&&(L=fu(O,_,"category")));var q=Z$(b);if(!R||R.length===0){var z,Y=(z=y.props.domain)!==null&&z!==void 0?z:q;if(_){if(R=fu(O,_,b),b==="category"&&p){var $=oG(R);S&&$?(C=R,R=sm(0,N)):S||(R=CP(Y,R,y).reduce(function(Q,F){return Q.indexOf(F)>=0?Q:[].concat(Pl(Q),[F])},[]))}else if(b==="category")S?R=R.filter(function(Q){return Q!==""&&!Ie(Q)}):R=CP(Y,R,y).reduce(function(Q,F){return Q.indexOf(F)>=0||F===""||Ie(F)?Q:[].concat(Pl(Q),[F])},[]);else if(b==="number"){var H=uce(O,i.filter(function(Q){return Q.props[o]===P&&(E||!Q.props.hide)}),_,a,u);H&&(R=H)}p&&(b==="number"||I!=="auto")&&(L=fu(O,_,"category"))}else p?R=sm(0,N):s&&s[P]&&s[P].hasStack&&b==="number"?R=h==="expand"?[0,1]:ZM(s[P].stackGroups,l,c):R=KM(O,i.filter(function(Q){return Q.props[o]===P&&(E||!Q.props.hide)}),b,u,!0);if(b==="number")R=uw(f,R,P,a,T),Y&&(R=Rb(Y,R,k));else if(b==="category"&&Y){var Z=Y,ae=R.every(function(Q){return Z.indexOf(Q)>=0});ae&&(R=Z)}}return G(G({},m),{},ve({},P,G(G({},y.props),{},{axisType:a,domain:R,categoricalDomain:L,duplicateDomain:C,originalDomain:(v=y.props.domain)!==null&&v!==void 0?v:q,isCategorical:p,layout:u})))},{})},Pye=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,f=e.children,h=qg(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),p=h.length,m=GM(u,a),y=-1;return r.reduce(function(v,x){var b=x.props[o],_=Z$("number");if(!v[b]){y++;var k;return m?k=sm(0,p):s&&s[b]&&s[b].hasStack?(k=ZM(s[b].stackGroups,l,c),k=uw(f,k,b,a)):(k=Rb(_,KM(h,r.filter(function(S){return S.props[o]===b&&!S.props.hide}),"number",u),i.defaultProps.allowDataOverflow),k=uw(f,k,b,a)),G(G({},v),{},ve({},b,G(G({axisType:a},i.defaultProps),{},{hide:!0,orientation:Yn(kye,"".concat(a,".").concat(y%2),null),domain:k,originalDomain:_,isCategorical:m,layout:u})))}return v},{})},Iye=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.children,f="".concat(i,"Id"),h=hr(u,a),p={};return h&&h.length?p=Aye(e,{axes:h,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):o&&o.length&&(p=Pye(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),p},Oye=function(e){var n=ua(e),r=xi(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:Jx(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Xp(n,r)}},sO=function(e){var n=e.children,r=e.defaultShowTooltip,i=qn(n,El),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},Cye=function(e){return!e||!e.length?!1:e.some(function(n){var r=Ti(n&&n.type);return r&&r.indexOf("Bar")>=0})},lO=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Nye=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,s=e.yAxisMap,l=s===void 0?{}:s,c=r.width,u=r.height,f=r.children,h=r.margin||{},p=qn(f,El),m=qn(f,Ku),y=Object.keys(l).reduce(function(S,I){var T=l[I],E=T.orientation;return!T.mirror&&!T.hide?G(G({},S),{},ve({},E,S[E]+T.width)):S},{left:h.left||0,right:h.right||0}),v=Object.keys(o).reduce(function(S,I){var T=o[I],E=T.orientation;return!T.mirror&&!T.hide?G(G({},S),{},ve({},E,Yn(S,"".concat(E))+T.height)):S},{top:h.top||0,bottom:h.bottom||0}),x=G(G({},v),y),b=x.bottom;p&&(x.bottom+=p.props.height||El.defaultProps.height),m&&n&&(x=lce(x,i,r,n));var _=c-x.left-x.right,k=u-x.top-x.bottom;return G(G({brushBottom:b},x),{},{width:Math.max(_,0),height:Math.max(k,0)})},Rye=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},eL=function(e){var n,r=e.chartName,i=e.GraphicalChild,a=e.defaultTooltipEventType,o=a===void 0?"axis":a,s=e.validateTooltipEventTypes,l=s===void 0?["axis"]:s,c=e.axisComponents,u=e.legendContent,f=e.formatAxisMap,h=e.defaultProps,p=function(v,x){var b=x.graphicalItems,_=x.stackGroups,k=x.offset,S=x.updateId,I=x.dataStartIndex,T=x.dataEndIndex,E=v.barSize,P=v.layout,O=v.barGap,N=v.barCategoryGap,R=v.maxBarSize,C=lO(P),L=C.numericAxisName,q=C.cateAxisName,z=Cye(b),Y=[];return b.forEach(function($,H){var Z=qg(v.data,{graphicalItems:[$],dataStartIndex:I,dataEndIndex:T}),ae=$.props,Q=ae.dataKey,F=ae.maxBarSize,K=$.props["".concat(L,"Id")],le=$.props["".concat(q,"Id")],me={},_e=c.reduce(function(on,Nn){var si=x["".concat(Nn.axisType,"Map")],Dr=$.props["".concat(Nn.axisType,"Id")];si&&si[Dr]||Nn.axisType==="zAxis"||Bo();var qi=si[Dr];return G(G({},on),{},ve(ve({},Nn.axisType,qi),"".concat(Nn.axisType,"Ticks"),xi(qi)))},me),ne=_e[q],J=_e["".concat(q,"Ticks")],oe=_&&_[K]&&_[K].hasStack&&bce($,_[K].stackGroups),se=Ti($.type).indexOf("Bar")>=0,W=Xp(ne,J),ye=[],pe=z&&oce({barSize:E,stackGroups:_,totalSize:Rye(_e,q)});if(se){var je,Be,Kt=Ie(F)?R:F,an=(je=(Be=Xp(ne,J,!0))!==null&&Be!==void 0?Be:Kt)!==null&&je!==void 0?je:0;ye=sce({barGap:O,barCategoryGap:N,bandSize:an!==W?an:W,sizeList:pe[le],maxBarSize:Kt}),an!==W&&(ye=ye.map(function(on){return G(G({},on),{},{position:G(G({},on.position),{},{offset:on.position.offset-an/2})})}))}var jr=$&&$.type&&$.type.getComposedData;jr&&Y.push({props:G(G({},jr(G(G({},_e),{},{displayedData:Z,props:v,dataKey:Q,item:$,bandSize:W,barPosition:ye,offset:k,stackedData:oe,layout:P,dataStartIndex:I,dataEndIndex:T}))),{},ve(ve(ve({key:$.key||"item-".concat(H)},L,_e[L]),q,_e[q]),"animationId",S)),childIndex:yG($,v.children),item:$})}),Y},m=function(v,x){var b=v.props,_=v.dataStartIndex,k=v.dataEndIndex,S=v.updateId;if(!ST({props:b}))return null;var I=b.children,T=b.layout,E=b.stackOffset,P=b.data,O=b.reverseStackOrder,N=lO(T),R=N.numericAxisName,C=N.cateAxisName,L=hr(I,i),q=yce(P,L,"".concat(R,"Id"),"".concat(C,"Id"),E,O),z=c.reduce(function(ae,Q){var F="".concat(Q.axisType,"Map");return G(G({},ae),{},ve({},F,Iye(b,G(G({},Q),{},{graphicalItems:L,stackGroups:Q.axisType===R&&q,dataStartIndex:_,dataEndIndex:k}))))},{}),Y=Nye(G(G({},z),{},{props:b,graphicalItems:L}),x==null?void 0:x.legendBBox);Object.keys(z).forEach(function(ae){z[ae]=f(b,z[ae],Y,ae.replace("Map",""),r)});var $=z["".concat(C,"Map")],H=Oye($),Z=p(b,G(G({},z),{},{dataStartIndex:_,dataEndIndex:k,updateId:S,graphicalItems:L,stackGroups:q,offset:Y}));return G(G({formattedGraphicalItems:Z,graphicalItems:L,offset:Y,stackGroups:q},H),z)};return n=function(y){vye(v,y);function v(x){var b,_,k;return hye(this,v),k=gye(this,v,[x]),ve(De(k),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ve(De(k),"accessibilityManager",new Zge),ve(De(k),"handleLegendBBoxUpdate",function(S){if(S){var I=k.state,T=I.dataStartIndex,E=I.dataEndIndex,P=I.updateId;k.setState(G({legendBBox:S},m({props:k.props,dataStartIndex:T,dataEndIndex:E,updateId:P},G(G({},k.state),{},{legendBBox:S}))))}}),ve(De(k),"handleReceiveSyncEvent",function(S,I,T){if(k.props.syncId===S){if(T===k.eventEmitterSymbol&&typeof k.props.syncMethod!="function")return;k.applySyncEvent(I)}}),ve(De(k),"handleBrushChange",function(S){var I=S.startIndex,T=S.endIndex;if(I!==k.state.dataStartIndex||T!==k.state.dataEndIndex){var E=k.state.updateId;k.setState(function(){return G({dataStartIndex:I,dataEndIndex:T},m({props:k.props,dataStartIndex:I,dataEndIndex:T,updateId:E},k.state))}),k.triggerSyncEvent({dataStartIndex:I,dataEndIndex:T})}}),ve(De(k),"handleMouseEnter",function(S){var I=k.getMouseInfo(S);if(I){var T=G(G({},I),{},{isTooltipActive:!0});k.setState(T),k.triggerSyncEvent(T);var E=k.props.onMouseEnter;Se(E)&&E(T,S)}}),ve(De(k),"triggeredAfterMouseMove",function(S){var I=k.getMouseInfo(S),T=I?G(G({},I),{},{isTooltipActive:!0}):{isTooltipActive:!1};k.setState(T),k.triggerSyncEvent(T);var E=k.props.onMouseMove;Se(E)&&E(T,S)}),ve(De(k),"handleItemMouseEnter",function(S){k.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),ve(De(k),"handleItemMouseLeave",function(){k.setState(function(){return{isTooltipActive:!1}})}),ve(De(k),"handleMouseMove",function(S){S.persist(),k.throttleTriggeredAfterMouseMove(S)}),ve(De(k),"handleMouseLeave",function(S){k.throttleTriggeredAfterMouseMove.cancel();var I={isTooltipActive:!1};k.setState(I),k.triggerSyncEvent(I);var T=k.props.onMouseLeave;Se(T)&&T(I,S)}),ve(De(k),"handleOuterEvent",function(S){var I=gG(S),T=Yn(k.props,"".concat(I));if(I&&Se(T)){var E,P;/.*touch.*/i.test(I)?P=k.getMouseInfo(S.changedTouches[0]):P=k.getMouseInfo(S),T((E=P)!==null&&E!==void 0?E:{},S)}}),ve(De(k),"handleClick",function(S){var I=k.getMouseInfo(S);if(I){var T=G(G({},I),{},{isTooltipActive:!0});k.setState(T),k.triggerSyncEvent(T);var E=k.props.onClick;Se(E)&&E(T,S)}}),ve(De(k),"handleMouseDown",function(S){var I=k.props.onMouseDown;if(Se(I)){var T=k.getMouseInfo(S);I(T,S)}}),ve(De(k),"handleMouseUp",function(S){var I=k.props.onMouseUp;if(Se(I)){var T=k.getMouseInfo(S);I(T,S)}}),ve(De(k),"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&k.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),ve(De(k),"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&k.handleMouseDown(S.changedTouches[0])}),ve(De(k),"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&k.handleMouseUp(S.changedTouches[0])}),ve(De(k),"triggerSyncEvent",function(S){k.props.syncId!==void 0&&wv.emit(_v,k.props.syncId,S,k.eventEmitterSymbol)}),ve(De(k),"applySyncEvent",function(S){var I=k.props,T=I.layout,E=I.syncMethod,P=k.state.updateId,O=S.dataStartIndex,N=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)k.setState(G({dataStartIndex:O,dataEndIndex:N},m({props:k.props,dataStartIndex:O,dataEndIndex:N,updateId:P},k.state)));else if(S.activeTooltipIndex!==void 0){var R=S.chartX,C=S.chartY,L=S.activeTooltipIndex,q=k.state,z=q.offset,Y=q.tooltipTicks;if(!z)return;if(typeof E=="function")L=E(Y,S);else if(E==="value"){L=-1;for(var $=0;$<Y.length;$++)if(Y[$].value===S.activeLabel){L=$;break}}var H=G(G({},z),{},{x:z.left,y:z.top}),Z=Math.min(R,H.x+H.width),ae=Math.min(C,H.y+H.height),Q=Y[L]&&Y[L].value,F=hw(k.state,k.props.data,L),K=Y[L]?{x:T==="horizontal"?Y[L].coordinate:Z,y:T==="horizontal"?ae:Y[L].coordinate}:J$;k.setState(G(G({},S),{},{activeLabel:Q,activeCoordinate:K,activePayload:F,activeTooltipIndex:L}))}else k.setState(S)}),ve(De(k),"renderCursor",function(S){var I,T=k.state,E=T.isTooltipActive,P=T.activeCoordinate,O=T.activePayload,N=T.offset,R=T.activeTooltipIndex,C=T.tooltipAxisBandSize,L=k.getTooltipEventType(),q=(I=S.props.active)!==null&&I!==void 0?I:E,z=k.props.layout,Y=S.key||"_recharts-cursor";return M.createElement(oye,{key:Y,activeCoordinate:P,activePayload:O,activeTooltipIndex:R,chartName:r,element:S,isActive:q,layout:z,offset:N,tooltipAxisBandSize:C,tooltipEventType:L})}),ve(De(k),"renderPolarAxis",function(S,I,T){var E=Yn(S,"type.axisType"),P=Yn(k.state,"".concat(E,"Map")),O=P&&P[S.props["".concat(E,"Id")]];return D.cloneElement(S,G(G({},O),{},{className:Pe(E,O.className),key:S.key||"".concat(I,"-").concat(T),ticks:xi(O,!0)}))}),ve(De(k),"renderPolarGrid",function(S){var I=S.props,T=I.radialLines,E=I.polarAngles,P=I.polarRadius,O=k.state,N=O.radiusAxisMap,R=O.angleAxisMap,C=ua(N),L=ua(R),q=L.cx,z=L.cy,Y=L.innerRadius,$=L.outerRadius;return D.cloneElement(S,{polarAngles:Array.isArray(E)?E:xi(L,!0).map(function(H){return H.coordinate}),polarRadius:Array.isArray(P)?P:xi(C,!0).map(function(H){return H.coordinate}),cx:q,cy:z,innerRadius:Y,outerRadius:$,key:S.key||"polar-grid",radialLines:T})}),ve(De(k),"renderLegend",function(){var S=k.state.formattedGraphicalItems,I=k.props,T=I.children,E=I.width,P=I.height,O=k.props.margin||{},N=E-(O.left||0)-(O.right||0),R=qM({children:T,formattedGraphicalItems:S,legendWidth:N,legendContent:u});if(!R)return null;var C=R.item,L=iO(R,sye);return D.cloneElement(C,G(G({},L),{},{chartWidth:E,chartHeight:P,margin:O,onBBoxUpdate:k.handleLegendBBoxUpdate}))}),ve(De(k),"renderTooltip",function(){var S,I=k.props,T=I.children,E=I.accessibilityLayer,P=qn(T,Vr);if(!P)return null;var O=k.state,N=O.isTooltipActive,R=O.activeCoordinate,C=O.activePayload,L=O.activeLabel,q=O.offset,z=(S=P.props.active)!==null&&S!==void 0?S:N;return D.cloneElement(P,{viewBox:G(G({},q),{},{x:q.left,y:q.top}),active:z,label:L,payload:z?C:[],coordinate:R,accessibilityLayer:E})}),ve(De(k),"renderBrush",function(S){var I=k.props,T=I.margin,E=I.data,P=k.state,O=P.offset,N=P.dataStartIndex,R=P.dataEndIndex,C=P.updateId;return D.cloneElement(S,{key:S.key||"_recharts-brush",onChange:ah(k.handleBrushChange,S.props.onChange),data:E,x:re(S.props.x)?S.props.x:O.left,y:re(S.props.y)?S.props.y:O.top+O.height+O.brushBottom-(T.bottom||0),width:re(S.props.width)?S.props.width:O.width,startIndex:N,endIndex:R,updateId:"brush-".concat(C)})}),ve(De(k),"renderReferenceElement",function(S,I,T){if(!S)return null;var E=De(k),P=E.clipPathId,O=k.state,N=O.xAxisMap,R=O.yAxisMap,C=O.offset,L=S.props,q=L.xAxisId,z=L.yAxisId;return D.cloneElement(S,{key:S.key||"".concat(I,"-").concat(T),xAxis:N[q],yAxis:R[z],viewBox:{x:C.left,y:C.top,width:C.width,height:C.height},clipPathId:P})}),ve(De(k),"renderActivePoints",function(S){var I=S.item,T=S.activePoint,E=S.basePoint,P=S.childIndex,O=S.isRange,N=[],R=I.props.key,C=I.item.props,L=C.activeDot,q=C.dataKey,z=G(G({index:P,dataKey:q,cx:T.x,cy:T.y,r:4,fill:S1(I.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value,key:"".concat(R,"-activePoint-").concat(P)},we(L,!1)),kp(L));return N.push(v.renderActiveDot(L,z)),E?N.push(v.renderActiveDot(L,G(G({},z),{},{cx:E.x,cy:E.y,key:"".concat(R,"-basePoint-").concat(P)}))):O&&N.push(null),N}),ve(De(k),"renderGraphicChild",function(S,I,T){var E=k.filterFormatItem(S,I,T);if(!E)return null;var P=k.getTooltipEventType(),O=k.state,N=O.isTooltipActive,R=O.tooltipAxis,C=O.activeTooltipIndex,L=O.activeLabel,q=k.props.children,z=qn(q,Vr),Y=E.props,$=Y.points,H=Y.isRange,Z=Y.baseLine,ae=E.item.props,Q=ae.activeDot,F=ae.hide,K=ae.activeBar,le=ae.activeShape,me=!!(!F&&N&&z&&(Q||K||le)),_e={};P!=="axis"&&z&&z.props.trigger==="click"?_e={onClick:ah(k.handleItemMouseEnter,S.props.onClick)}:P!=="axis"&&(_e={onMouseLeave:ah(k.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:ah(k.handleItemMouseEnter,S.props.onMouseEnter)});var ne=D.cloneElement(S,G(G({},E.props),_e));function J(Nn){return typeof R.dataKey=="function"?R.dataKey(Nn.payload):null}if(me)if(C>=0){var oe,se;if(R.dataKey&&!R.allowDuplicatedCategory){var W=typeof R.dataKey=="function"?J:"payload.".concat(R.dataKey.toString());oe=H0($,W,L),se=H&&Z&&H0(Z,W,L)}else oe=$==null?void 0:$[C],se=H&&Z&&Z[C];if(le||K){var ye=S.props.activeIndex!==void 0?S.props.activeIndex:C;return[D.cloneElement(S,G(G(G({},E.props),_e),{},{activeIndex:ye})),null,null]}if(!Ie(oe))return[ne].concat(Pl(k.renderActivePoints({item:E,activePoint:oe,basePoint:se,childIndex:C,isRange:H})))}else{var pe,je=(pe=k.getItemByXY(k.state.activeCoordinate))!==null&&pe!==void 0?pe:{graphicalItem:ne},Be=je.graphicalItem,Kt=Be.item,an=Kt===void 0?S:Kt,jr=Be.childIndex,on=G(G(G({},E.props),_e),{},{activeIndex:jr});return[D.cloneElement(an,on),null,null]}return H?[ne,null,null]:[ne,null]}),ve(De(k),"renderCustomized",function(S,I,T){return D.cloneElement(S,G(G({key:"recharts-customized-".concat(T)},k.props),k.state))}),ve(De(k),"renderMap",{CartesianGrid:{handler:uh,once:!0},ReferenceArea:{handler:k.renderReferenceElement},ReferenceLine:{handler:uh},ReferenceDot:{handler:k.renderReferenceElement},XAxis:{handler:uh},YAxis:{handler:uh},Brush:{handler:k.renderBrush,once:!0},Bar:{handler:k.renderGraphicChild},Line:{handler:k.renderGraphicChild},Area:{handler:k.renderGraphicChild},Radar:{handler:k.renderGraphicChild},RadialBar:{handler:k.renderGraphicChild},Scatter:{handler:k.renderGraphicChild},Pie:{handler:k.renderGraphicChild},Funnel:{handler:k.renderGraphicChild},Tooltip:{handler:k.renderCursor,once:!0},PolarGrid:{handler:k.renderPolarGrid,once:!0},PolarAngleAxis:{handler:k.renderPolarAxis},PolarRadiusAxis:{handler:k.renderPolarAxis},Customized:{handler:k.renderCustomized}}),k.clipPathId="".concat((b=x.id)!==null&&b!==void 0?b:Jf("recharts"),"-clip"),k.throttleTriggeredAfterMouseMove=KD(k.triggeredAfterMouseMove,(_=x.throttleDelay)!==null&&_!==void 0?_:1e3/60),k.state={},k}return mye(v,[{key:"componentDidMount",value:function(){var b,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,_=b.children,k=b.data,S=b.height,I=b.layout,T=qn(_,Vr);if(T){var E=T.props.defaultIndex;if(!(typeof E!="number"||E<0||E>this.state.tooltipTicks.length)){var P=this.state.tooltipTicks[E]&&this.state.tooltipTicks[E].value,O=hw(this.state,k,E,P),N=this.state.tooltipTicks[E].coordinate,R=(this.state.offset.top+S)/2,C=I==="horizontal",L=C?{x:N,y:R}:{y:N,x:R},q=this.state.formattedGraphicalItems.find(function(Y){var $=Y.item;return $.type.name==="Scatter"});q&&(L=G(G({},L),q.props.points[E].tooltipPosition),O=q.props.points[E].tooltipPayload);var z={activeTooltipIndex:E,isTooltipActive:!0,activeLabel:P,activePayload:O,activeCoordinate:L};this.setState(z),this.renderCursor(T),this.accessibilityManager.setIndex(E)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var k,S;this.accessibilityManager.setDetails({offset:{left:(k=this.props.margin.left)!==null&&k!==void 0?k:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(b){G0([qn(b.children,Vr)],[qn(this.props.children,Vr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=qn(this.props.children,Vr);if(b&&typeof b.props.shared=="boolean"){var _=b.props.shared?"axis":"item";return l.indexOf(_)>=0?_:o}return o}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var _=this.container,k=_.getBoundingClientRect(),S=Uie(k),I={chartX:Math.round(b.pageX-S.left),chartY:Math.round(b.pageY-S.top)},T=k.width/_.offsetWidth||1,E=this.inRange(I.chartX,I.chartY,T);if(!E)return null;var P=this.state,O=P.xAxisMap,N=P.yAxisMap,R=this.getTooltipEventType();if(R!=="axis"&&O&&N){var C=ua(O).scale,L=ua(N).scale,q=C&&C.invert?C.invert(I.chartX):null,z=L&&L.invert?L.invert(I.chartY):null;return G(G({},I),{},{xValue:q,yValue:z})}var Y=oO(this.state,this.props.data,this.props.layout,E);return Y?G(G({},I),Y):null}},{key:"inRange",value:function(b,_){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,I=b/k,T=_/k;if(S==="horizontal"||S==="vertical"){var E=this.state.offset,P=I>=E.left&&I<=E.left+E.width&&T>=E.top&&T<=E.top+E.height;return P?{x:I,y:T}:null}var O=this.state,N=O.angleAxisMap,R=O.radiusAxisMap;if(N&&R){var C=ua(N);return jP({x:I,y:T},C)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,_=this.getTooltipEventType(),k=qn(b,Vr),S={};k&&_==="axis"&&(k.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var I=kp(this.props,this.handleOuterEvent);return G(G({},I),S)}},{key:"addListener",value:function(){wv.on(_v,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){wv.removeListener(_v,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,_,k){for(var S=this.state.formattedGraphicalItems,I=0,T=S.length;I<T;I++){var E=S[I];if(E.item===b||E.props.key===b.key||_===Ti(E.item.type)&&k===E.childIndex)return E}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,_=this.state.offset,k=_.left,S=_.top,I=_.height,T=_.width;return M.createElement("defs",null,M.createElement("clipPath",{id:b},M.createElement("rect",{x:k,y:S,height:I,width:T})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(_,k){var S=rO(k,2),I=S[0],T=S[1];return G(G({},_),{},ve({},I,T.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(_,k){var S=rO(k,2),I=S[0],T=S[1];return G(G({},_),{},ve({},I,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[b])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(b){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[b])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(b){var _=this.state,k=_.formattedGraphicalItems,S=_.activeItem;if(k&&k.length)for(var I=0,T=k.length;I<T;I++){var E=k[I],P=E.props,O=E.item,N=Ti(O.type);if(N==="Bar"){var R=(P.data||[]).find(function(z){return ede(b,z)});if(R)return{graphicalItem:E,payload:R}}else if(N==="RadialBar"){var C=(P.data||[]).find(function(z){return jP(b,z)});if(C)return{graphicalItem:E,payload:C}}else if(Fg(E,S)||Ug(E,S)||_f(E,S)){var L=Bhe({graphicalItem:E,activeTooltipItem:S,itemData:O.props.data}),q=O.props.activeIndex===void 0?L:O.props.activeIndex;return{graphicalItem:G(G({},E),{},{childIndex:q}),payload:_f(E,S)?O.props.data[L]:E.props.data[L]}}}return null}},{key:"render",value:function(){var b=this;if(!ST(this))return null;var _=this.props,k=_.children,S=_.className,I=_.width,T=_.height,E=_.style,P=_.compact,O=_.title,N=_.desc,R=iO(_,lye),C=we(R,!1);if(P)return M.createElement(BI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement(Y0,mu({},C,{width:I,height:T,title:O,desc:N}),this.renderClipPath(),AT(k,this.renderMap)));if(this.props.accessibilityLayer){var L,q;C.tabIndex=(L=this.props.tabIndex)!==null&&L!==void 0?L:0,C.role=(q=this.props.role)!==null&&q!==void 0?q:"application",C.onKeyDown=function(Y){b.accessibilityManager.keyboardEvent(Y)},C.onFocus=function(){b.accessibilityManager.focus()}}var z=this.parseEventsOfWrapper();return M.createElement(BI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement("div",mu({className:Pe("recharts-wrapper",S),style:G({position:"relative",cursor:"default",width:I,height:T},E)},z,{ref:function($){b.container=$}}),M.createElement(Y0,mu({},C,{width:I,height:T,title:O,desc:N,style:Eye}),this.renderClipPath(),AT(k,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}]),v}(D.Component),ve(n,"displayName",r),ve(n,"defaultProps",G({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),ve(n,"getDerivedStateFromProps",function(y,v){var x=y.dataKey,b=y.data,_=y.children,k=y.width,S=y.height,I=y.layout,T=y.stackOffset,E=y.margin,P=v.dataStartIndex,O=v.dataEndIndex;if(v.updateId===void 0){var N=sO(y);return G(G(G({},N),{},{updateId:0},m(G(G({props:y},N),{},{updateId:0}),v)),{},{prevDataKey:x,prevData:b,prevWidth:k,prevHeight:S,prevLayout:I,prevStackOffset:T,prevMargin:E,prevChildren:_})}if(x!==v.prevDataKey||b!==v.prevData||k!==v.prevWidth||S!==v.prevHeight||I!==v.prevLayout||T!==v.prevStackOffset||!Gs(E,v.prevMargin)){var R=sO(y),C={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},L=G(G({},oO(v,b,I)),{},{updateId:v.updateId+1}),q=G(G(G({},R),C),L);return G(G(G({},q),m(G({props:y},q),v)),{},{prevDataKey:x,prevData:b,prevWidth:k,prevHeight:S,prevLayout:I,prevStackOffset:T,prevMargin:E,prevChildren:_})}if(!G0(_,v.prevChildren)){var z,Y,$,H,Z=qn(_,El),ae=Z&&(z=(Y=Z.props)===null||Y===void 0?void 0:Y.startIndex)!==null&&z!==void 0?z:P,Q=Z&&($=(H=Z.props)===null||H===void 0?void 0:H.endIndex)!==null&&$!==void 0?$:O,F=ae!==P||Q!==O,K=!Ie(b),le=K&&!F?v.updateId:v.updateId+1;return G(G({updateId:le},m(G(G({props:y},v),{},{updateId:le,dataStartIndex:ae,dataEndIndex:Q}),v)),{},{prevChildren:_,dataStartIndex:ae,dataEndIndex:Q})}return null}),ve(n,"renderActiveDot",function(y,v){var x;return D.isValidElement(y)?x=D.cloneElement(y,v):Se(y)?x=y(v):x=M.createElement(A1,v),M.createElement(qe,{className:"recharts-active-dot",key:v.key},x)}),n},jye=eL({chartName:"BarChart",GraphicalChild:ns,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:zg},{axisType:"yAxis",AxisComp:Wg}],formatAxisMap:yme}),tL=eL({chartName:"PieChart",GraphicalChild:oi,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Vg},{axisType:"radiusAxis",AxisComp:$g}],formatAxisMap:Ice,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const nL=({data:t})=>{const{isDarkMode:e}=D.useContext(ri),n={backgroundColor:e?"#333":"#fff",axisColor:e?"#ccc":"#000",gridColor:e?"#888888":"#D1D1D1",tooltipBackgroundColor:e?"#6D6D6D":"#E7E7E7",barColor:"#FFC700"};return g.jsx(e1,{width:"100%",height:"100%",children:g.jsxs(jye,{data:t,margin:{left:-24},children:[g.jsx(q$,{stroke:n.gridColor,strokeDasharray:"5 5"}),g.jsx(zg,{dataKey:"name",stroke:n.axisColor}),g.jsx(Wg,{stroke:n.axisColor}),g.jsx(Vr,{cursor:{fill:n.tooltipBackgroundColor}}),g.jsx(ns,{type:"monotone",dataKey:"存款金額",fill:n.barColor})]})})};nL.propTypes={data:U.array.isRequired};const rL=({categoryData:t,habitCategories:e})=>{const n=Object.keys(t).map(r=>({name:e.find(i=>i.id===parseInt(r)).name,value:t[r]}));return g.jsx(e1,{width:"100%",height:"100%",children:g.jsx(tL,{children:g.jsx(oi,{data:n,cx:"50%",cy:"50%",innerRadius:80,outerRadius:160,fill:"#8884d8",dataKey:"value",label:!0,children:n.map((r,i)=>g.jsx(ed,{fill:e.find(a=>a.name===r.name).color},`cell-${i}`))})})})};rL.propTypes={categoryData:U.object.isRequired,habitCategories:U.array.isRequired};const iL=({typeData:t,habitType:e})=>{const n=Object.keys(t).map(r=>{const i=e.find(a=>a.id===r);return i?{name:i.name,value:t[r]}:null}).filter(r=>r!==null);return g.jsx(e1,{width:"100%",height:"100%",children:g.jsx(tL,{children:g.jsx(oi,{data:n,cx:"50%",cy:"50%",innerRadius:80,outerRadius:160,fill:"#8884d8",dataKey:"value",label:!0,children:n.map((r,i)=>g.jsx(ed,{fill:e.find(a=>a.name===r.name).color},`cell-${i}`))})})})};iL.propTypes={typeData:U.object.isRequired,habitType:U.array.isRequired};function Dye(){const[t,e]=D.useState("overview"),[n,r]=D.useState("week"),[i]=D.useState([{value:"week",label:"本週"},{value:"month",label:"本月"},{value:"year",label:"本年"}]),[a,o]=D.useState(0),[s,l]=D.useState(0),[c,u]=D.useState(0),[f,h]=D.useState([]),[p,m]=D.useState({}),[y,v]=D.useState({}),[x,b]=D.useState([]),{user:_}=D.useContext(ri),k=[{id:0,name:"生產力",color:"#FF6961"},{id:1,name:"個人成長",color:"#FFB480"},{id:2,name:"運動健身",color:"#FFE552"},{id:3,name:"飲食健康",color:"#42D6A4"},{id:4,name:"心靈成長",color:"#08CAD1"},{id:5,name:"手作興趣",color:"#59ADF6"},{id:6,name:"財務管理",color:"#9D94FF"},{id:7,name:"環境生活",color:"#C780E8"}],S=[{id:"to-do",name:"養成",color:"#B2B814"},{id:"not-to-do",name:"戒除",color:"#D14D28"}];D.useEffect(()=>{(async()=>{if(_&&_.uid){const R=await Lo(_.uid);b(R);const{startOfPeriod:C,endOfPeriod:L}=I(n),{completed:q,savings:z,total:Y,chartData:$,categoryData:H,typeData:Z}=T(R,C,L,n);o(q),l(z),u(Y),h($),m(H),v(Z)}})()},[_,n]);const I=N=>{const R=new Date;let C,L;return N==="week"?(C=new Date(R.setDate(R.getDate()-R.getDay())),L=new Date(R.setDate(R.getDate()-R.getDay()+6))):N==="month"?(C=new Date(R.getFullYear(),R.getMonth(),1),L=new Date(R.getFullYear(),R.getMonth()+1,0)):(C=new Date(R.getFullYear(),0,1),L=new Date(R.getFullYear(),11,31)),C.setHours(0,0,0,0),L.setHours(23,59,59,999),{startOfPeriod:C,endOfPeriod:L}},T=(N,R,C,L)=>{let q=0,z=0,Y=0,$=[],H={},Z={};const ae={};if(L==="week")["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].forEach(F=>{ae[F]=0});else if(L==="month"){const Q=Math.ceil((C.getDate()-R.getDate()+1)/7);for(let F=1;F<=Q;F++)ae[`Week ${F}`]=0}else["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].forEach(F=>{ae[F]=0});return N.forEach(Q=>{Q.status.forEach(F=>{const K=new Date(F.date);K.setHours(0,0,0,0);const le=new Date;if(le.setHours(0,0,0,0),K<le&&K>=R&&K<=C){const me=E(K,L);F.completed?q+=1:(ae[me]+=Number(Q.amount),z+=1,Y+=Number(Q.amount),H[Q.category]||(H[Q.category]=0),H[Q.category]+=1,Z[Q.type]||(Z[Q.type]=0),Z[Q.type]+=1)}})}),$=Object.keys(ae).map(Q=>({name:Q,存款金額:ae[Q]})),$.sort((Q,F)=>{if(L==="week"){const K=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return K.indexOf(Q.name)-K.indexOf(F.name)}else if(L==="month"){const K=parseInt(Q.name.split(" ")[1],10),le=parseInt(F.name.split(" ")[1],10);return K-le}else{const K=new Date(Date.parse(Q.name+" 1, 2022")).getMonth(),le=new Date(Date.parse(F.name+" 1, 2022")).getMonth();return K-le}}),{completed:q,savings:z,total:Y,chartData:$,categoryData:H,typeData:Z}},E=(N,R)=>R==="week"?N.toLocaleDateString("en-US",{weekday:"short"}):R==="month"?`Week ${Math.ceil(N.getDate()/7)}`:N.toLocaleDateString("en-US",{month:"short"}),P=({completed:N,savings:R,total:C})=>g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"flex justify-end items-center gap-1",children:[g.jsx("p",{className:"font-bold text-base leading-6 text-black dark:text-black-0",children:N}),g.jsx("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:"次"})]}),g.jsx("p",{className:"font-normal text-xs leading-4 md:text-sm md:leading-5 text-black dark:text-black-0",children:"完成習慣次數"})]}),g.jsxs("div",{children:[g.jsxs("div",{className:"flex justify-end items-center gap-1",children:[g.jsx("p",{className:"font-bold text-base leading-6 text-black dark:text-black-0",children:R}),g.jsx("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:"次"})]}),g.jsx("p",{className:"font-normal text-xs leading-4 md:text-sm md:leading-5 text-black dark:text-black-0",children:"存款次數"})]}),g.jsxs("div",{children:[g.jsxs("div",{className:"flex justify-end items-center gap-1",children:[g.jsx("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:"NT$"}),g.jsx("p",{className:"font-bold text-base leading-6 text-black dark:text-black-0",children:C})]}),g.jsx("p",{className:"font-normal text-xs leading-4 md:text-sm md:leading-5 text-black dark:text-black-0",children:"存款金額"})]})]}),O=(N,R,C)=>{const L=[];return N.forEach(q=>{q.status.forEach(z=>{const Y=new Date(z.date);Y.setHours(0,0,0,0);const $=new Date;$.setHours(0,0,0,0),Y<$&&!z.completed&&Y>=R&&Y<=C&&L.push({id:q.id,title:q.title,date:z.date,amount:q.amount})})}),L.sort((q,z)=>new Date(z.date)-new Date(q.date)),L.slice(0,50).map((q,z)=>g.jsxs("li",{className:"py-2 px-4 grid grid-cols-5 bg-black-50 dark:bg-black-800 rounded-lg font-normal text-sm leading-5 hover:bg-black-0 dark:hover:bg-black-600",children:[g.jsx("p",{className:"text-black dark:text-black-0",children:String(z+1).padStart(2,"0")}),g.jsx("p",{className:"text-center text-black dark:text-black-0",children:new Date(q.date).toLocaleDateString()}),g.jsx("p",{className:"text-center col-span-2 overflow-scroll text-black dark:text-black-0",children:q.title}),g.jsxs("p",{className:"text-center text-black dark:text-black-0",children:["NT$",q.amount]})]},q.id+q.date))};return g.jsxs("div",{className:"p-4 md:py-10 space-y-4",children:[g.jsxs("ul",{className:"grid grid-cols-3 w-full",children:[g.jsx("li",{className:`border border-black-500 rounded-s-full py-1 font-normal text-sm leading-5 text-center ${t==="overview"?"bg-primary":"bg-black-50"}`,onClick:()=>e("overview"),children:"存款總覽"}),g.jsx("li",{className:`border-e border-y border-black-500 py-1 font-normal text-sm leading-5 text-center ${t==="category"?"bg-primary":"bg-black-50"}`,onClick:()=>e("category"),children:"習慣類別總覽"}),g.jsx("li",{className:`border-e border-y border-black-500 rounded-e-full py-1 font-normal text-sm leading-5 text-center ${t==="type"?"bg-primary":"bg-black-50"}`,onClick:()=>e("type"),children:"習慣類型總覽"})]}),t==="overview"&&g.jsxs("div",{children:[g.jsxs("div",{className:"p-4 bg-black-50 dark:bg-black-800 rounded-xl space-y-4",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsxs("div",{className:"relative group flex items-center",children:[g.jsx("h2",{className:"font-bold text-xl leading-7 text-black dark:text-black-0",children:"存款總覽"}),g.jsx(Tt.TbInfoCircle,{className:"w-6 h-6 text-black-500 dark:text-black-200 ml-2 inline-block"}),g.jsx("span",{className:"absolute -bottom-1 left-32 transform -translate-x-0 w-max p-2 bg-primary-dark text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto z-50 before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"結算時間為每日 23:59:59，存款金額為當日未完成的習慣存款金額總和"})]}),g.jsx("div",{className:"relative",children:g.jsx(Pa,{options:i,value:n,onChange:r})})]}),P({completed:a,savings:s,total:c}),g.jsx("div",{className:"w-full h-52",children:g.jsx(nL,{data:f})})]}),g.jsxs("ul",{className:"space-y-2 mt-4",children:[g.jsxs("li",{className:"py-2 px-4 grid grid-cols-5 border border-black-500 rounded-lg font-normal text-sm leading-5",children:[g.jsx("p",{className:"text-black dark:text-black-0",children:"編號"}),g.jsx("p",{className:"text-center text-black dark:text-black-0",children:"日期"}),g.jsx("p",{className:"text-center col-span-2 text-black dark:text-black-0",children:"習慣名稱"}),g.jsx("p",{className:"text-center text-black dark:text-black-0",children:"習慣存款"})]}),O(x,I(n).startOfPeriod,I(n).endOfPeriod)]}),s===0&&g.jsxs(g.Fragment,{children:[g.jsx("p",{className:"text-center mt-2 font-normal text-xs leading-4 md:text-base md:leading-6 text-black dark:text-black-0",children:"找不到相關的存款資料"}),g.jsx("p",{className:"text-center mt-2 font-normal text-xs leading-4 md:text-base md:leading-6 text-black dark:text-black-0",children:"要不要試著培養一些習慣呢？"})]}),s>=50&&g.jsx("p",{className:"text-center mt-2 font-normal text-xs leading-4 md:text-base md:leading-6 text-black dark:text-black-0",children:"僅顯示最新的 50 筆存款記錄"})]}),t==="category"&&g.jsxs("div",{className:`p-4 bg-black-50 dark:bg-black-800 rounded-xl space-y-4 ${s===0?"min-h-screen":"h-fit"}`,children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsxs("div",{className:"relative group flex items-center",children:[g.jsx("h2",{className:"font-bold text-xl leading-7 text-black dark:text-black-0",children:"習慣類別總覽"}),g.jsx(Tt.TbInfoCircle,{className:"w-6 h-6 text-black-500 dark:text-black-200 ml-2 inline-block"}),g.jsx("span",{className:"absolute -bottom-1 left-[168px] transform -translate-x-0 w-max p-2 bg-primary-dark text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto z-50 before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"來看看你的習慣類別分布吧！哪些類別的習慣讓你累積最多存款呢？"})]}),g.jsx("div",{className:"relative",children:g.jsx(Pa,{options:i,value:n,onChange:r})})]}),s===0?g.jsxs("div",{className:"space-y-2",children:[g.jsx("p",{className:"text-center font-normal text-base leading-6 text-black dark:text-black-0",children:"找不到相關的存款資料"}),g.jsx("p",{className:"text-center font-normal text-base leading-6 text-black dark:text-black-0",children:"要不要試著培養一些習慣呢？"})]}):g.jsxs("div",{children:[g.jsx("div",{className:"w-full h-[400px]",children:g.jsx(rL,{categoryData:p,habitCategories:k})}),g.jsx("ul",{className:"space-y-2",children:k.map(N=>g.jsxs("li",{className:"p-2 rounded flex justify-between items-center hover:bg-black-0 dark:hover:bg-black-600",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-6 h-6 rounded-full",style:{backgroundColor:N.color}}),g.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:N.name})]}),g.jsxs("p",{className:"font-bold text-lg leading-6 text-black dark:text-black-0",children:[((p[N.id]||0)/Object.values(p).reduce((R,C)=>R+C,0)*100).toFixed(1),"%"]})]},N.id))})]})]}),t==="type"&&g.jsxs("div",{className:`p-4 bg-black-50 dark:bg-black-800 rounded-xl space-y-4 ${s===0?"min-h-screen":"h-fit"}`,children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsxs("div",{className:"relative group flex items-center",children:[g.jsx("h2",{className:"font-bold text-xl leading-7 text-black dark:text-black-0",children:"習慣類型總覽"}),g.jsx(Tt.TbInfoCircle,{className:"w-6 h-6 text-black-500 dark:text-black-200 ml-2 inline-block"}),g.jsx("span",{className:"absolute -bottom-1 left-[168px] transform -translate-x-0 w-max p-2 bg-primary-dark text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto z-50 before:content-[''] before:absolute before:-bottom-2 before:-left-4 before:transform before:-translate-y-full before:border-8 before:border-transparent before:border-r-primary-dark",children:"來看看你的習慣類型分布吧！你比較擅長養成還是戒除習慣呢？"})]}),g.jsx("div",{className:"relative",children:g.jsx(Pa,{options:i,value:n,onChange:r})})]}),s===0?g.jsxs("div",{className:"space-y-2",children:[g.jsx("p",{className:"text-center font-normal text-base leading-6 text-black dark:text-black-0",children:"找不到相關的存款資料"}),g.jsx("p",{className:"text-center font-normal text-base leading-6 text-black dark:text-black-0",children:"要不要試著培養一些習慣呢？"})]}):g.jsxs("div",{children:[g.jsx("div",{className:"w-full h-[400px]",children:g.jsx(iL,{typeData:y,habitType:S})}),g.jsx("ul",{className:"space-y-2",children:S.map(N=>g.jsxs("li",{className:"p-2 rounded flex justify-between items-center hover:bg-black-0 dark:hover:bg-black-600",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-6 h-6 rounded-full",style:{backgroundColor:N.color}}),g.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:N.name})]}),g.jsxs("p",{className:"font-bold text-lg leading-6 text-black dark:text-black-0",children:[((y[N.id]||0)/Object.values(y).reduce((R,C)=>R+C,0)*100).toFixed(1),"%"]})]},N.id))})]})]})]})}function Mye(){var h,p;const[t,e]=D.useState("habit"),[n,r]=D.useState([]),[i,a]=D.useState([]),{user:o}=D.useContext(ri);D.useEffect(()=>{(async()=>{const{startOfWeek:y,endOfWeek:v}=s();if(t==="habit"){const b=[...await l(y,v)].sort((_,k)=>k.completedCount-_.completedCount);r(b)}else if(t==="savings"){const b=[...await c(y,v)].sort((_,k)=>k.totalSavings-_.totalSavings);a(b)}})()},[t]);const s=()=>{const m=new Date,y=new Date(m.setDate(m.getDate()-m.getDay())),v=new Date(m.setDate(m.getDate()-m.getDay()+6));return y.setHours(0,0,0,0),v.setHours(23,59,59,999),{startOfWeek:y,endOfWeek:v}},l=async(m,y)=>{const v=await sT();return await Promise.all(v.map(async b=>{const k=(await Lo(b.uid)).reduce((S,I)=>S+I.status.filter(T=>{const E=new Date(T.date);return T.completed&&E>=m&&E<=y}).length,0);return{...b,completedCount:k}}))},c=async(m,y)=>{const v=await sT(),x=new Date;return x.setHours(0,0,0,0),await Promise.all(v.map(async _=>{const S=(await Lo(_.uid)).reduce((I,T)=>{const E=T.amount,P=T.status.filter(O=>{const N=new Date(O.date);return!O.completed&&N>=m&&N<=y&&N<x}).length;return I+P*E},0);return{..._,totalSavings:S}}))},u=(m,y)=>[...m].sort((x,b)=>y==="habit"?b.completedCount-x.completedCount:b.totalSavings-x.totalSavings).slice(0,10).map((x,b)=>g.jsxs("li",{className:"relative flex justify-between items-center py-2 px-4 bg-black-50 dark:bg-black-800 rounded-2xl hover:bg-black-0 dark:hover:bg-black-600",children:[g.jsx("div",{className:"flex items-center gap-3",children:b<3?g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"absolute top-[-4px]",children:g.jsxs("div",{className:"w-10 h-[68px] flex justify-center items-center bg-primary relative",children:[g.jsx("p",{className:"font-normal text-center text-3xl leading-9 font-lobster text-alert",children:b+1}),g.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-34px] before:right-0 before:w-0 before:h-0 before:border-l-[20px] before:border-r-0 before:border-b-[12px] before:border-l-transparent before:border-r-transparent before:border-b-black-50 dark:before:border-b-black-800 before:z-20"}),g.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-34px] before:left-0 before:w-0 before:h-0 before:border-l-0 before:border-r-[20px] before:border-b-[12px] before:border-l-transparent before:border-r-transparent before:border-b-black-50 dark:before:border-b-black-800 before:z-20"}),g.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[30px] before:left-5 before:w-0 before:h-0 before:border-l-0 before:border-r-[3px] before:border-b-[4px] before:border-l-transparent before:border-r-transparent before:border-b-primary-dark before:z-20"})]})}),g.jsx("img",{src:x.avatar,alt:"user's avatar",className:"w-12 h-12 rounded-full ml-14"}),g.jsx("div",{children:g.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:x.name})})]}):g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("p",{className:"w-10 h-auto font-normal text-center text-3xl leading-9 font-lobster text-black dark:text-black-0",children:b+1}),g.jsx("img",{src:x.avatar,alt:"user's avatar",className:"w-12 h-12 rounded-full"}),g.jsx("div",{children:g.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:x.name})})]})}),g.jsxs("div",{className:"flex flex-col items-end",children:[g.jsx("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:y==="habit"?"累積數量":"累積存款"}),y==="habit"?g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx("p",{className:"font-bold text-base leading-6 text-black dark:text-black-0",children:x.completedCount}),g.jsx("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:"次"})]}):g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx("p",{className:"font-bold text-base leading-6 text-black dark:text-black-0",children:x.totalSavings}),g.jsx("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:"元"})]})]})]},x.uid)),f=(m,y,v)=>{const x=m.find(_=>_.uid===y.uid);if(!x)return null;const b=m.findIndex(_=>_.uid===y.uid)+1;return g.jsxs("div",{className:"flex justify-between py-2 px-4 bg-black-500 dark:bg-black-50 rounded-2xl",children:[g.jsxs("div",{className:"flex items-center gap-3 text-black-0 dark:text-black",children:[g.jsx("p",{className:"w-10 h-auto font-normal text-center text-3xl leading-9 font-lobster text-black-0 dark:text-black",children:b}),g.jsx("img",{src:x.avatar,alt:"user's avatar",className:"w-12 h-12 rounded-full"}),g.jsx("div",{children:g.jsx("p",{className:"font-normal text-base leading-6 text-white dark:text-black",children:x.name})})]}),g.jsxs("div",{className:"flex flex-col items-end text-black-0 dark:text-black",children:[g.jsx("p",{className:"font-normal text-sm leading-5",children:v==="habit"?"累積數量":"累積存款"}),v==="habit"?g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx("p",{className:"font-bold text-base leading-6 text-black-0 dark:text-black",children:x.completedCount}),g.jsx("p",{className:"font-normal text-sm leading-5 text-black-0 dark:text-black",children:"次"})]}):g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx("p",{className:"font-bold text-base leading-6 text-black-0 dark:text-black",children:x.totalSavings}),g.jsx("p",{className:"font-normal text-sm leading-5 text-black-0 dark:text-black",children:"元"})]})]})]})};return g.jsxs("div",{className:"p-4 md:py-10 space-y-4",children:[g.jsxs("ul",{className:"grid grid-cols-2 w-full pb-3",children:[g.jsx("li",{className:`border border-black-500 rounded-s-full py-1 font-normal text-sm leading-5 text-center ${t==="habit"?"bg-primary":"bg-black-50"}`,onClick:()=>e("habit"),children:"習慣排行"}),g.jsx("li",{className:`border-e border-y border-black-500 rounded-e-full py-1 font-normal text-sm leading-5 text-center ${t==="savings"?"bg-primary":"bg-black-50"}`,onClick:()=>e("savings"),children:"存款排行"})]}),t==="habit"&&g.jsxs("div",{className:"relative space-y-4",children:[g.jsxs("div",{className:"p-4 mt-4 bg-black-50 dark:bg-black-800 rounded-lg flex flex-col items-center",children:[g.jsxs("p",{className:"text-center font-normal text-base leading-6 text-black dark:text-black-0",children:["在 ",s().startOfWeek.toLocaleDateString(),"～",s().endOfWeek.toLocaleDateString()," 期間"]}),g.jsxs("div",{className:"flex justify-center items-center gap-x-1 flex-wrap",children:[g.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:"恭喜"}),g.jsx("p",{className:"font-bold text-xl leading-7 text-black dark:text-black-0",children:((h=n[0])==null?void 0:h.name)||"No.1"}),g.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:"成為累積最多次習慣的玩家"})]})]}),g.jsxs("div",{className:"absolute -top-8 inset-x-0 text-primary flex items-center justify-center",children:[g.jsx(ds.TbCircleCheck,{className:"w-8 h-8"}),g.jsx(ds.TbCircleCheckFilled,{className:"w-8 h-8"}),g.jsx(ds.TbCircleCheck,{className:"w-8 h-8"})]}),g.jsx("ul",{className:"space-y-4 pb-20",children:u(n,"habit")}),g.jsx("div",{className:"fixed bottom-0 left-0 md:left-auto w-full max-w-full md:max-w-[1128px] mx-auto p-4 pb-[88px] bg-light dark:bg-black-950 md:p-0 md:py-4",children:f(n,o,"habit")})]}),t==="savings"&&g.jsxs("div",{className:"relative space-y-4",children:[g.jsxs("div",{className:"p-4 mt-4 bg-black-50 dark:bg-black-800 rounded-lg flex flex-col items-center",children:[g.jsxs("p",{className:"text-center font-normal text-base leading-6 text-black dark:text-black-0",children:["在 ",s().startOfWeek.toLocaleDateString(),"～",s().endOfWeek.toLocaleDateString()," 期間"]}),g.jsxs("div",{className:"flex justify-center items-center gap-x-1 flex-wrap",children:[g.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:"恭喜"}),g.jsx("p",{className:"font-bold text-xl leading-7 text-black dark:text-black-0",children:((p=i[0])==null?void 0:p.name)||"No.1"}),g.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:"成為累積最多存款的玩家"})]})]}),g.jsxs("div",{className:"absolute -top-8 inset-x-0 text-primary flex items-center justify-center",children:[g.jsx(ds.TbCoin,{className:"w-8 h-8"}),g.jsx(ds.TbCoinFilled,{className:"w-8 h-8"}),g.jsx(ds.TbCoin,{className:"w-8 h-8"})]}),g.jsx("ul",{className:"space-y-4 pb-20",children:u(i,"savings")}),g.jsx("div",{className:"fixed bottom-0 left-0 md:left-auto w-full max-w-full md:max-w-[1128px] mx-auto p-4 pb-[88px] bg-light dark:bg-black-950 md:p-0 md:py-4",children:f(i,o,"savings")})]})]})}const pw=({options:t,onChange:e,theme:n})=>{const[r,i]=D.useState(!1),a=o=>{e(o),i(!1)};return g.jsxs("div",{className:"relative inline-block",children:[g.jsx(Bc.TbDots,{className:`w-6 h-6 text-black ${n==="dark"?"dark:text-black-0":""} cursor-pointer hover:text-alert`,onClick:()=>i(!r)}),r&&g.jsx("ul",{className:"absolute z-10 mt-1 w-fit -right-4 bg-white border border-black-500 rounded-2xl shadow-lg text-center text-nowrap overflow-hidden",children:t.map(o=>g.jsx("li",{className:"px-4 py-2 hover:bg-primary-light cursor-pointer",onClick:()=>a(o.value),children:o.label},o.value))})]})};pw.propTypes={options:U.array.isRequired,value:U.string.isRequired,onChange:U.func.isRequired,theme:U.string.isRequired};const aL=({backgrounds:t,setPostBackground:e,isOpen:n,setIsOpen:r})=>g.jsx("div",{className:`absolute top-16 left-0 right-0 z-10 bg-black-0 border border-black-500 rounded-lg py-2 px-4 ${n?"block":"hidden"}`,children:g.jsx("div",{className:"flex gap-4 overflow-scroll",children:t.map((i,a)=>g.jsx("button",{className:"rounded w-6 h-6 flex-shrink-0 flex-grow-0",style:{backgroundImage:`url(${i})`,backgroundSize:"cover",backgroundPosition:"center"},onClick:()=>{e(i),r(!1)}},a))})});aL.propTypes={backgrounds:U.array.isRequired,setPostBackground:U.func.isRequired,isOpen:U.bool.isRequired,setIsOpen:U.func.isRequired};const M1=({postContent:t,setPostContent:e,postBackground:n,setPostBackground:r,handleAddPost:i,handlePostModal:a,user:o,isEditMode:s,handleUpdatePost:l,calculateTextColor:c})=>{const[u,f]=D.useState([]),[h,p]=D.useState(!1),[m,y]=D.useState(null);return D.useEffect(()=>{(async()=>{const x=await bj();f(x)})()},[]),D.useEffect(()=>{(async()=>{if(o&&o.uid){const x=await pi(o.uid);y(x)}})()},[o]),g.jsxs("div",{className:"space-y-4 relative",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-10 h-10",children:m&&m.avatar?g.jsx("img",{src:m.avatar,alt:"avatar",className:"w-full h-full object-cover rounded-full"}):g.jsx("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:"No Image"})}),g.jsx("h3",{className:"font-bold text-base leading-6 text-black dark:text-black-0",children:m&&m.name?m.name:"Unknown"})]}),g.jsx(Tt.TbX,{className:"w-6 h-6 hover:text-alert cursor-pointer text-black dark:text-black-0",onClick:a})]}),g.jsxs("div",{className:"flex justify-between items-center gap-4",children:[g.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0 text-nowrap",children:"選擇背景顏色"}),g.jsx("div",{className:"flex gap-4 overflow-scroll",children:u.map((v,x)=>g.jsx("button",{className:"rounded w-6 h-6 flex-shrink-0 flex-grow-0",style:{backgroundImage:`url(${v})`,backgroundSize:"cover",backgroundPosition:"center"},onClick:()=>r(v)},x))})]}),g.jsx(aL,{backgrounds:u,setPostBackground:r,isOpen:h,setIsOpen:p}),g.jsx("div",{className:"w-full min-h-40 h-fit border rounded-xl bg-black-100 p-2 overflow-auto flex justify-center items-center",style:{backgroundImage:`url(${n})`,backgroundSize:"cover",backgroundPosition:"center"},children:g.jsx("textarea",{className:"w-full h-full bg-transparent border-none resize-none outline-none text-center placeholder-black font-normal text-base leading-6 md:text-xl md:leading-7 xl:text-2xl xl:leading-8",placeholder:"輸入貼文內容...",value:t,onChange:v=>e(v.target.value),style:{color:c(n)}})}),g.jsxs("div",{className:"flex gap-4",children:[g.jsx("button",{className:"py-1 w-full bg-primary rounded-lg font-medium text-sm leading-5 hover:bg-primary-dark",onClick:s?l:i,children:s?"確認修改":"發佈貼文"}),s&&g.jsx("button",{className:"py-1 w-full bg-black-100 rounded-lg font-medium text-sm leading-5 hover:bg-black-300",onClick:a,children:"取消修改"})]})]})};M1.propTypes={postContent:U.string.isRequired,setPostContent:U.func.isRequired,postBackground:U.string.isRequired,setPostBackground:U.func.isRequired,handleAddPost:U.func.isRequired,handlePostModal:U.func.isRequired,user:U.object,isEditMode:U.bool,handleUpdatePost:U.func,calculateTextColor:U.func.isRequired};function $ye(){const[t,e]=D.useState([]),[n,r]=D.useState("all"),[i]=D.useState([{label:"全部貼文",value:"all"},{label:"僅限自己",value:"personal"}]),[a,o]=D.useState({}),[s,l]=D.useState(""),[c,u]=D.useState({}),[f,h]=D.useState(!1),[p,m]=D.useState(null),[y,v]=D.useState(""),[x,b]=D.useState(""),[_,k]=D.useState([]),{user:S}=D.useContext(ri),[I,T]=D.useState(null);D.useEffect(()=>{(async()=>{const K=await Yd(),le=await Promise.all(K.map(async me=>{const _e=await pi(me.userID),ne=await fs(me.id);return{...me,user:_e,comments:ne}}));e(le)})()},[]),D.useEffect(()=>{(async()=>{const K=await bj();k(K)})()},[]),D.useEffect(()=>{(async()=>{if(S&&S.uid){const K=await pi(S.uid);T(K)}})()},[S]);const E=n==="personal"?t.filter(F=>F.userID===S.uid):t,P=F=>{o(K=>({...K,[F]:!K[F]}))},O=async F=>{if(!s.trim()){alert("請輸入留言內容");return}const K=await pi(S.uid),le={content:s,userID:S.uid,userName:K.name,userAvatar:K.avatar};await _W(F,le),l("");const me=await fs(F);e(_e=>_e.map(ne=>ne.id===F?{...ne,comments:me}:ne))},N=F=>{u(K=>({...K,[F]:""}))},R=async(F,K)=>{await kW(F,K);const le=await fs(F);e(me=>me.map(_e=>_e.id===F?{..._e,comments:le}:_e))},C=async F=>{await wW(F),e(K=>K.filter(le=>le.id!==F))},L=(F,K=null)=>{K?u(le=>({...le,[K]:F.comments.find(me=>me.id===K).content})):(m(F),h(!0))},q=async(F,K,le=null)=>{if(le){const me=c[le];if(!me.trim()){alert("請輸入留言內容");return}await xW(F,le,{content:me});const _e=await fs(F);e(ne=>ne.map(J=>J.id===F?{...J,comments:_e}:J)),u(ne=>({...ne,[le]:""}))}else{await bW(F,K);const me=await Yd();e(me),h(!1)}},z=(F,K,le)=>{le==="edit"?L(F,K):le==="delete"&&(K?R(F.id,K):C(F.id))},Y=async F=>{try{await EW(F,S.uid);const K=await Yd(),le=await Promise.all(K.map(async me=>{const _e=await pi(me.userID),ne=await fs(me.id);return{...me,user:_e,comments:ne}}));e(le)}catch(K){console.error(K)}},$=async F=>{try{await SW(F,S.uid);const K=await Yd(),le=await Promise.all(K.map(async me=>{const _e=await pi(me.userID),ne=await fs(me.id);return{...me,user:_e,comments:ne}}));e(le)}catch(K){console.error(K)}},H=F=>{const K=new Date,le=new Date(F*1e3),me=Math.floor((K-le)/1e3);return me<3600?"剛剛":me<86400?`${Math.floor(me/3600)} 小時前`:me<259200?`${Math.floor(me/86400)} 天前`:le.toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit"})},Z=async()=>{if(y.trim()&&S){const F=await pi(S.uid),K={content:y,background:x,userID:S.uid,user:F,createdTime:{seconds:Math.floor(Date.now()/1e3)},likes:[],comments:[]};await yj(S.uid,K),e(me=>[K,...me]),v(""),b("");const le=document.querySelector("textarea");le&&(le.style.height="auto")}},ae=()=>I?g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("img",{src:I.avatar,alt:"avatar",className:"w-12 h-12 object-cover rounded-full"}),g.jsx("p",{className:"font-bold text-lg leading-6 text-black dark:text-black-0",children:I.name})]}):g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-12 h-12 bg-black-500 rounded-full"}),g.jsx("p",{className:"font-bold text-lg leading-6 text-black dark:text-black-0",children:"Unknown"})]}),Q=F=>{if(!F)return"black";const K=F.match(/\d+/g),le=parseInt(K[0],10),me=parseInt(K[1],10),_e=parseInt(K[2],10);return(.299*le+.587*me+.114*_e)/255>.5?"black":"white"};return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"p-4 md:py-10 space-y-4",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("h2",{className:"font-bold text-xl leading-7 text-black dark:text-black-0",children:"貼文總覽"}),g.jsx("div",{className:"relative",children:g.jsx(Pa,{options:i,value:n,onChange:r})})]}),g.jsxs("div",{className:"border border-black-500 bg-black-50 dark:bg-black-800 p-4 rounded-xl space-y-2",children:[ae(),g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0 text-nowrap",children:"選擇背景顏色"}),g.jsx("div",{className:"flex gap-4 overflow-scroll",children:_.map((F,K)=>g.jsx("button",{className:"rounded w-6 h-6 flex-shrink-0 flex-grow-0",style:{backgroundImage:`url(${F})`,backgroundSize:"cover",backgroundPosition:"center"},onClick:()=>b(F)},K))})]}),g.jsx("div",{className:"w-full min-h-40 h-fit border rounded-xl bg-black-100 p-2 overflow-auto flex justify-center items-center",style:{backgroundImage:`url(${x})`,backgroundSize:"cover",backgroundPosition:"center"},children:g.jsx("textarea",{className:"w-full h-fit bg-transparent border-none overflow-hidden resize-none outline-none text-center placeholder-black font-normal text-base leading-6 md:text-xl md:leading-7 xl:text-2xl xl:leading-8",placeholder:"輸入貼文內容...",value:y,onChange:F=>{v(F.target.value),F.target.style.height="auto",F.target.style.height=`${F.target.scrollHeight}px`},style:{color:Q(x)},rows:"1"})}),g.jsx("div",{className:"text-end",children:g.jsx("button",{className:"py-1 px-3 w-fit bg-primary rounded-lg font-medium text-sm leading-5 hover:bg-primary-dark",onClick:Z,children:"發佈貼文"})})]}),g.jsx("ul",{className:"space-y-4",children:E.map(F=>g.jsxs("li",{className:"p-4 bg-black-50 dark:bg-black-800 rounded-2xl space-y-3 w-full",children:[g.jsxs("div",{className:"flex justify-between items-center w-full",children:[g.jsxs("div",{className:"flex gap-3 items-center",children:[g.jsx("div",{className:"w-12 h-12",children:F.user&&g.jsx("img",{src:F.user.avatar,alt:"avatar",className:"w-full h-full object-cover rounded-full"})}),g.jsxs("div",{className:"flex flex-col",children:[g.jsx("h3",{className:"font-bold text-lg leading-6 text-black dark:text-black-0",children:F.user?F.user.name:"Unknown"}),g.jsx("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:H(F.createdTime.seconds)})]})]}),g.jsx(pw,{options:[{value:"edit",label:"編輯貼文"},{value:"delete",label:"刪除貼文"}],onChange:K=>z(F,null,K),theme:"dark"})]}),g.jsx("div",{className:`w-full min-h-52 h-fit flex justify-center items-center p-4 rounded-xl font-normal text-base leading-6 md:text-xl md:leading-7 xl:text-2xl xl:leading-8 ${F.background?"":"bg-slate-100"}`,style:F.background?{backgroundImage:`url(${F.background})`,backgroundSize:"cover",backgroundPosition:"center",color:Q(F.background)}:{color:Q(F.background)},children:g.jsx("p",{className:"text-center",children:F.content})}),g.jsxs("div",{className:"flex gap-3",children:[g.jsxs("div",{className:"flex gap-1",children:[F.likes&&F.likes.includes(S.uid)?g.jsx(Bc.TbHeartFilled,{className:"w-6 h-6 cursor-pointer text-alert",onClick:()=>$(F.id)}):g.jsx(Bc.TbHeart,{className:"w-6 h-6 cursor-pointer text-black dark:text-black-0 hover:text-alert",onClick:()=>Y(F.id)}),g.jsx("p",{className:"text-black dark:text-black-0 font-normal text-base leading-6",children:F.likes?F.likes.length:0})]}),g.jsxs("div",{className:"flex gap-1",children:[g.jsx(Bc.TbMessageChatbot,{className:"w-6 h-6 cursor-pointer text-black dark:text-black-0 hover:text-black dark:hover:text-black-200",onClick:()=>P(F.id)}),g.jsx("p",{className:"text-black dark:text-black-0 font-normal text-base leading-6",children:F.comments?F.comments.length:0})]})]}),g.jsxs("ul",{className:`space-y-3 ${a[F.id]?"block":"hidden"}`,children:[F.comments&&F.comments.map(K=>g.jsxs("li",{className:"flex justify-between items-center gap-3",children:[g.jsx("img",{src:K.userAvatar,alt:"user's avatar",className:"w-12 h-12 rounded-full"}),g.jsxs("div",{className:"bg-black-200 rounded-xl px-4 py-2 w-full flex justify-between items-center",children:[g.jsxs("div",{className:"w-full md:w-4/5",children:[g.jsxs("div",{className:"flex gap-2",children:[g.jsx("h3",{className:"font-medium text-sm leading-5 line-clamp-1",children:K.userName}),g.jsx("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0-700",children:H(K.updatedTime?K.updatedTime.seconds:K.createdTime.seconds)})]}),c[K.id]?g.jsxs("div",{className:"grid grid-cols-1 gap-x-2 md:flex md:items-center md:gap-2",children:[g.jsx("input",{type:"text",value:c[K.id],onChange:le=>u({...c,[K.id]:le.target.value}),className:"font-normal text-base leading-6 rounded px-2 py-1 w-full bg-black-0 text-black caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark my-1"}),g.jsxs("div",{className:"flex gap-x-2",children:[g.jsx("button",{className:"w-fit text-nowrap font-medium text-sm leading-5 bg-primary py-1 md:py-1.5 px-2 rounded hover:bg-primary-dark",onClick:()=>q(F.id,null,K.id),children:"確認修改"}),g.jsx("button",{className:"w-fit text-nowrap font-medium text-sm leading-5 bg-black-100 py-1 md:py-1.5 px-2 rounded hover:bg-black-300",onClick:()=>N(K.id),children:"取消修改"})]})]}):g.jsx("p",{className:"font-normal text-base leading-6",children:K.content})]}),c[K.id]?null:g.jsx("div",{className:"flex flex-col",children:g.jsx(pw,{options:[{value:"edit",label:"編輯留言"},{value:"delete",label:"刪除留言"}],onChange:le=>z(F,K.id,le),theme:"light"})})]})]},K.id)),g.jsxs("li",{className:"flex justify-between items-center gap-2",children:[g.jsx("input",{type:"text",placeholder:"請輸入留言",className:"bg-black-100 text-black py-2 px-4 w-full rounded-2xl placeholder:text-black dark:text-black-0-500  caret-primary-dark focus:border-primary-dark focus:outline focus:outline-primary-dark focus:bg-black-0",value:s,onChange:K=>l(K.target.value)}),g.jsx("div",{className:"w-10 h-10 bg-primary flex justify-center items-center rounded-full aspect-square cursor-pointer hover:bg-primary-dark",onClick:()=>O(F.id),children:g.jsx(Bc.TbSend2,{className:"w-6 h-6 text-black"})})]})]})]},F.id))})]}),g.jsx(or,{isOpen:f,onRequestClose:()=>h(!1),children:g.jsx(M1,{postContent:p?p.content:"",setPostContent:F=>m(K=>({...K,content:F})),postBackground:p?p.background:"",setPostBackground:F=>m(K=>({...K,background:F})),handlePostModal:()=>h(!1),user:S,isEditMode:!0,handleUpdatePost:()=>q(p.id,p),calculateTextColor:Q})})]})}const oL=({sortedAchievements:t,userAchievements:e,handleAchievementModal:n})=>g.jsxs("div",{className:"pt-9 pb-4 px-4 bg-black-50 dark:bg-black-800 space-y-4 rounded-2xl relative",children:[g.jsx("ul",{className:"grid grid-cols-2 gap-4 md:grid-cols-3",children:t.slice(0,6).map(r=>{const i=e.includes(r.id);return g.jsx("li",{className:`py-1 w-full flex justify-center items-center rounded-lg border-2 cursor-default ${i?"opacity-100 border-primary-dark bg-light":"opacity-50 border-black-500 bg-black-100 dark:border-black-300"}`,children:g.jsx("p",{className:`font-normal text-base leading-6 md:text-xl md:leading-7 stroke-text ${i?"text-primary z-0":"text-black"}`,"data-stroke":i?r.name:"",children:r.name})},r.id)})}),g.jsx("button",{className:"text-center w-full bg-primary rounded-xl font-medium text-sm leading-5 py-1 hover:bg-primary-dark",onClick:n,children:"更多成就"}),g.jsxs("div",{className:"bg-primary py-1 px-4 w-fit absolute -top-12 left-1/2 transform -translate-x-1/2",children:[g.jsx("p",{className:"font-lobster font-normal text-2xl leading-8 text-alert",children:"Achievement"}),g.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[-16px] before:w-0 before:h-0 before:border-l-[20px] before:border-r-0 before:border-t-[12px] before:border-l-primary before:border-r-transparent before:border-t-primary-dark before:z-20"}),g.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[114px] before:w-0 before:h-0 before:border-r-[20px] before:border-l-0 before:border-t-[12px] before:border-r-primary before:border-l-transparent before:border-t-primary-dark before:z-20"}),g.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[-46px] before:w-8 before:h-10 before:bg-primary"}),g.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[134px] before:w-8 before:h-10 before:bg-primary"}),g.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[166px] before:w-0 before:h-0 before:border-l-0 before:border-r-[20px] before:border-b-[20px] before:border-l-transparent before:border-r-transparent before:border-b-primary before:z-20"}),g.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-1 before:left-[166px] before:w-0 before:h-0 before:border-l-0 before:border-r-[20px] before:border-t-[20px] before:border-l-transparent before:border-r-transparent before:border-t-primary before:z-20"}),g.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[-66px] before:w-0 before:h-0 before:border-l-[20px] before:border-r-0 before:border-b-[20px] before:border-l-transparent before:border-r-transparent before:border-b-primary before:z-20"}),g.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-1 before:left-[-66px] before:w-0 before:h-0 before:border-l-[20px] before:border-r-0 before:border-t-[20px] before:border-l-transparent before:border-r-transparent before:border-t-primary before:z-20"})]})]});oL.propTypes={sortedAchievements:U.array.isRequired,userAchievements:U.array.isRequired,handleAchievementModal:U.func.isRequired};const sL=({sortedBadges:t,userBadges:e,handleBadgeModal:n})=>g.jsxs("div",{className:"pt-9 pb-4 px-4 bg-black-50 dark:bg-black-800 space-y-4 rounded-2xl relative",children:[g.jsx("ul",{className:"grid grid-cols-3 gap-4 md:grid-cols-6",children:t.slice(0,6).map((r,i)=>g.jsx("li",{className:"relative w-full h-fit",children:g.jsx("img",{src:r.image,alt:`Badge ${i}`,className:`w-full h-full object-cover ${e.includes(r.id)?"opacity-100":"opacity-30"}`})},r.id))}),g.jsx("button",{className:"text-center w-full bg-primary rounded-xl font-medium text-sm leading-5 py-1 hover:bg-primary-dark",onClick:n,children:"更多獎勵徽章"}),g.jsxs("div",{className:"bg-primary py-1 px-4 w-[150px] absolute -top-12 left-1/2 transform -translate-x-1/2",children:[g.jsx("p",{className:"font-lobster font-normal text-2xl leading-8 text-alert text-center",children:"Badge"}),g.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[-16px] before:w-0 before:h-0 before:border-l-[20px] before:border-r-0 before:border-t-[13px] before:border-l-primary before:border-r-transparent before:border-t-primary-dark before:z-20"}),g.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[114px] before:w-0 before:h-0 before:border-r-[20px] before:border-l-0 before:border-t-[13px] before:border-r-primary before:border-l-transparent before:border-t-primary-dark before:z-20"}),g.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[-46px] before:w-8 before:h-10 before:bg-primary"}),g.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[134px] before:w-8 before:h-10 before:bg-primary"}),g.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[166px] before:w-0 before:h-0 before:border-l-0 before:border-r-[20px] before:border-b-[20px] before:border-l-transparent before:border-r-transparent before:border-b-primary before:z-20"}),g.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-1 before:left-[166px] before:w-0 before:h-0 before:border-l-0 before:border-r-[20px] before:border-t-[20px] before:border-l-transparent before:border-r-transparent before:border-t-primary before:z-20"}),g.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-[-16px] before:left-[-66px] before:w-0 before:h-0 before:border-l-[20px] before:border-r-0 before:border-b-[20px] before:border-l-transparent before:border-r-transparent before:border-b-primary before:z-20"}),g.jsx("div",{className:"absolute before:content-[''] before:absolute before:bottom-1 before:left-[-66px] before:w-0 before:h-0 before:border-l-[20px] before:border-r-0 before:border-t-[20px] before:border-l-transparent before:border-r-transparent before:border-t-primary before:z-20"})]})]});sL.propTypes={sortedBadges:U.array.isRequired,userBadges:U.array.isRequired,handleBadgeModal:U.func.isRequired};const lL=({handleAchievementModal:t,userAchievements:e,sortedAchievements:n})=>g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("h3",{className:"font-bold text-lg leading-7 text-black dark:text-black-0",children:"你的成就"}),g.jsx(Tt.TbX,{className:"w-8 h-8 cursor-pointer hover:text-alert text-black dark:text-black-0",onClick:t})]}),g.jsx("div",{className:"max-h-56 overflow-scroll",children:g.jsx("ul",{className:"grid grid-cols-2 gap-4",children:n.map(r=>{const i=e.includes(r.id);return g.jsxs("li",{children:[g.jsx("div",{className:`py-1 w-full flex justify-center items-center rounded-lg border-2 cursor-default ${i?"opacity-100 border-primary-dark bg-light":"opacity-50 border-black-500 bg-black-100 text-black dark:border-black-300"}`,children:g.jsx("p",{className:`font-normal text-base leading-6 md:text-xl md:leading-7 stroke-text ${i?"text-primary z-0":"text-black"}`,"data-stroke":i?r.name:"",children:r.name})}),g.jsx("p",{className:"mt-1 text-black dark:text-black-0 text-center font-normal text-xs leading-4 md:text-sm md:leading-5",children:r.description})]},r.id)})})})]});lL.propTypes={handleAchievementModal:U.func.isRequired,achievements:U.array.isRequired,userAchievements:U.array.isRequired,sortedAchievements:U.array.isRequired};const cL=({handleBadgeModal:t,sortedBadges:e,userBadges:n})=>g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("h3",{className:"font-bold text-lg leading-7 text-black dark:text-black-0",children:"你的獎勵徽章"}),g.jsx(Tt.TbX,{className:"w-8 h-8 cursor-pointer hover:text-alert text-black dark:text-black-0",onClick:t})]}),g.jsx("div",{className:"max-h-56 overflow-scroll",children:g.jsx("ul",{className:"grid grid-cols-3 gap-4",children:e.map((r,i)=>g.jsxs("li",{className:"relative w-full h-fit",children:[g.jsx("img",{src:r.image,alt:`Badge ${i}`,className:`w-full h-full object-cover ${n.includes(r.id)?"opacity-100":"opacity-30"}`}),g.jsx("div",{className:"mt-1 text-black dark:text-black-0 text-center font-normal text-xs leading-4 md:text-sm md:leading-5",children:r.description})]},r.id))})})]});cL.propTypes={handleBadgeModal:U.func.isRequired,sortedBadges:U.array.isRequired,userBadges:U.array.isRequired};function Lye(){const{user:t}=D.useContext(ri),[e,n]=D.useState(!1),[r,i]=D.useState(!1),[a,o]=D.useState(!1),[s,l]=D.useState(!1),[c,u]=D.useState(!1),[f,h]=D.useState(!1),[p,m]=D.useState(!0),[y,v]=D.useState({uid:"",email:"",name:"",introduction:"",avatar:"",levelPoints:0,isAcceptReminder:!1,isDarkMode:!1,achievements:[],badges:[],habits:[]}),[x,b]=D.useState([]),[_,k]=D.useState(null),[S,I]=D.useState(""),[T,E]=D.useState(""),[P,O]=D.useState({category:0,title:"",frequency:"daily",amount:0,startDate:"",endDate:"",status:[]}),[N,R]=D.useState(0),[C,L]=D.useState(!1),[q,z]=D.useState(""),Y=D.useRef(null),[$,H]=D.useState(null),[Z,ae]=D.useState(!1),[Q,F]=D.useState("all"),[K,le]=D.useState([]),[me,_e]=D.useState([]),[ne,J]=D.useState([]),[oe,se]=D.useState([]),[W]=D.useState([{label:"全部習慣",value:"all"},{label:"進行中",value:"in-progress"},{label:"已結束",value:"finished"}]),ye=[{id:0,name:"生產力",icon:pn.TbRocket},{id:1,name:"個人成長",icon:pn.TbBook},{id:2,name:"運動健身",icon:pn.TbWalk},{id:3,name:"飲食健康",icon:pn.TbBowlChopsticks},{id:4,name:"心靈成長",icon:pn.TbMoodHeart},{id:5,name:"手作興趣",icon:pn.TbHandGrab},{id:6,name:"財務管理",icon:pn.TbCash},{id:7,name:"環境生活",icon:pn.TbPlant}];D.useEffect(()=>{(async()=>{if(t){const ke=await pi(t.uid);ke&&v(ke),is(),pe(),je(t.uid),Be(),Kt(t.uid)}})()},[t]),D.useEffect(()=>{const ce=new Date;H({year:ce.getFullYear(),month:ce.getMonth(),day:ce.getDate()})},[]);const pe=async()=>{const ce=await TW();le(ce)},je=async ce=>{const ke=await AW(ce);_e(ke)},Be=async()=>{const ce=await PW();J(ce)},Kt=async ce=>{const ke=await IW(ce);se(ke)},an=()=>{n(!e)},jr=()=>{i(!r)},on=()=>{o(!a),i(!1)},Nn=ce=>{O({category:ce.category,title:ce.title,frequency:ce.frequency,amount:ce.amount,startDate:ce.startDate,endDate:ce.endDate,status:ce.status,type:ce.type}),l(!s),i(!1)},si=()=>{u(!c)},Dr=()=>{h(!f)},qi=async ce=>{if(t&&t.uid)try{await mj(t.uid,ce),v(ce)}catch(ke){console.error("更新資料失敗",ke)}},sd=async ce=>{await qi(ce),an()},$t=async ce=>{const{name:ke,value:Ae,files:Le}=ce.target;if(ke==="avatar"&&Le&&Le[0]){const ze=ce.target.files[0],Lt=["image/jpeg","image/jpg","image/png","image/gif"];if(!ze||!Lt.includes(ze.type))return;try{const ct=await vj(t.uid,ze);v(li=>({...li,avatar:ct}))}catch(ct){console.error("上傳頭像失敗",ct)}}else v(ke==="isDarkMode"||ke==="isAcceptReminder"?ze=>({...ze,[ke]:Ae==="true"}):ze=>({...ze,[ke]:Ae}))},Gt=ce=>{const{name:ke,value:Ae}=ce.target;if(ke==="frequency"){const Le={type:Ae},ze=rs(P.startDate,P.endDate,Le);O(Lt=>({...Lt,frequency:Le,status:ze}))}else O(Le=>({...Le,[ke]:Ae}))},rs=(ce,ke,Ae)=>{const Le=new Date(ce),ze=new Date(ke),Lt=[];if(Ae.type==="daily")for(let ct=Le;ct<=ze;ct.setDate(ct.getDate()+1))Lt.push({date:new Date(ct).toDateString(),completed:!1});else if(Ae.type==="weekly")for(let ct=Le;ct<=ze;ct.setDate(ct.getDate()+7))Lt.push({date:new Date(ct).toDateString(),completed:!1});else if(Ae.type==="specificDays"){const ct=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],li=Ae.days||[];for(let ut=Le;ut<=ze;ut.setDate(ut.getDate()+1))li.includes(ct[ut.getDay()])&&Lt.push({date:new Date(ut).toDateString(),completed:!1})}return Lt},is=async()=>{if(t)try{const ce=await Lo(t.uid);b(ce)}catch(ce){console.error("Error fetching habits: ",ce)}},ld=async()=>{if(!S.trim()){alert("請輸入貼文內容");return}if(t&&_){const ce={content:S,background:T,habitId:_.id};await yj(t.uid,ce),ae(!0),on(),I(""),E("")}},Hg=ce=>{z(ce),L(!0)},Qa=async()=>{if(t&&_){const ce=new Date(P.startDate);if(new Date(P.endDate)<=ce){alert("結束日期必須晚於開始日期");return}const Le={..._,...P,id:_.id};await W0(t.uid,_.id,Le),await Ks(t.uid),await lu(t.uid);const ze=await ou(t.uid,"habit");await su(t.uid,"habit",ze),is(),l(!1),i(!1)}else console.error("User not authenticated or habit not selected")},cd=async()=>{if(t&&_){await gj(t.uid,_.id),await Ks(t.uid),await lu(t.uid);const ce=await ou(t.uid,"habit");await su(t.uid,"habit",ce);const ke=await Lo(t.uid);b(ke),ke.filter(Le=>Le.category===_.category).length===0&&await wj(t.uid,_.category),is(),l(!1),i(!1)}else console.error("User not authenticated or habit not selected")},ud=ce=>{if(H(ce),q){const ke=`${ce.year}-${String(ce.month+1).padStart(2,"0")}-${String(ce.day).padStart(2,"0")}`;O(Ae=>({...Ae,[q]:ke})),L(!1),z("")}},Jl=ce=>{const ke=new Date;return ke.setHours(0,0,0,0),ce.status.filter(Le=>{const ze=new Date(Le.date);return ze.setHours(0,0,0,0),ze<ke&&!Le.completed}).length*ce.amount},Kg=ce=>{k(ce),R(Jl(ce)),i(!0)},Gg=x.filter(ce=>{const ke=new Date;ke.setHours(0,0,0,0);const Ae=new Date(ce.endDate);return Ae.setHours(0,0,0,0),Q==="in-progress"?Ae>=ke:Q==="finished"?Ae<ke:!0}).sort((ce,ke)=>new Date(ke.endDate)-new Date(ce.endDate));if(Z)return g.jsx(C2,{to:"/posts"});const Zl=((ce,ke)=>ce.sort((Ae,Le)=>{const ze=ke.includes(Ae.id),Lt=ke.includes(Le.id);if(ze&&!Lt)return-1;if(!ze&&Lt)return 1;if(!ze&&!Lt){const ct={habit:1,savings:2,streak:3},li=ct[Ae.condition.type]||4,ut=ct[Le.condition.type]||4;if(li!==ut)return li-ut;if(Ae.condition.count!==Le.condition.count)return(Ae.condition.count||0)-(Le.condition.count||0);if(Ae.condition.amount!==Le.condition.amount)return(Ae.condition.amount||0)-(Le.condition.amount||0);if(Ae.condition.percent!==Le.condition.percent)return(Ae.condition.percent||0)-(Le.condition.percent||0)}return 0}))(K,me),Hi=((ce,ke)=>ce.sort((Ae,Le)=>{const ze=ke.includes(Ae.id),Lt=ke.includes(Le.id);return ze&&!Lt?-1:!ze&&Lt?1:0}))(ne,oe);return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"p-4 md:py-10 space-y-4",children:[g.jsxs("ul",{className:"grid grid-cols-2 w-full",children:[g.jsx("li",{className:`border border-black-500 rounded-s-full py-1 font-normal text-sm leading-5 text-center ${p?"bg-primary":"bg-black-50"}`,onClick:()=>m(!0),children:"會員管理"}),g.jsx("li",{className:`border-e border-y border-black-500 rounded-e-full py-1 font-normal text-sm leading-5 text-center ${p?"bg-black-50":"bg-primary"}`,onClick:()=>m(!1),children:"歷史習慣"})]}),p?g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("h2",{className:"font-bold text-xl leading-7 text-black dark:text-black-0",children:"會員管理"}),g.jsx(Pj.TbSettings,{className:"w-8 h-8 cursor-pointer hover:text-alert text-black dark:text-black-0",onClick:an})]}):g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("h2",{className:"font-bold text-xl leading-7 text-black dark:text-black-0",children:"歷史習慣"}),g.jsx("div",{className:"relative",children:g.jsx(Pa,{options:W,value:Q,onChange:F})})]}),p?g.jsxs("div",{className:"space-y-14",children:[g.jsxs("div",{className:"p-4 bg-black-50 dark:bg-black-800 rounded-2xl space-y-2",children:[g.jsx("div",{className:"flex justify-between items-start",children:g.jsxs("div",{className:"flex gap-3",children:[g.jsx("img",{src:y.avatar,alt:"user's avatar",className:"w-12 h-12 rounded-full"}),g.jsxs("div",{className:"flex flex-col",children:[g.jsx("h3",{className:"font-bold text-base leading-6 text-black dark:text-black-0",children:y.name}),g.jsxs("p",{className:"font-normal text-sm leading-5 text-black dark:text-black-0",children:["Lv.",y.levelPoints]})]})]})}),g.jsx("p",{className:"font-normal text-base leading-6 text-black dark:text-black-0",children:y.introduction}),g.jsxs("div",{className:"w-full bg-light dark:bg-black-950 text-center rounded-2xl text-black dark:text-black-0",children:[y.levelPoints,"%"]})]}),g.jsx(oL,{sortedAchievements:Zl,userAchievements:me,handleAchievementModal:si}),g.jsx(sL,{sortedBadges:Hi,userBadges:oe,handleBadgeModal:Dr})]}):g.jsx(Ax,{habits:Gg,habitCategories:ye,handleDetailClick:Kg})]}),g.jsx(or,{isOpen:e,onClose:an,children:g.jsx(kx,{profileData:y,handleChange:$t,handleSaveAndClose:sd,handleSettingModal:an})}),g.jsx(or,{isOpen:r,onClose:jr,children:g.jsx(Sx,{selectedHabit:_,handleDetailModal:jr,handlePostModal:on,uncompletedFine:N,handleEditModal:Nn,habitCategories:ye})}),g.jsx(or,{isOpen:a,onClose:on,children:g.jsx(M1,{postContent:S,setPostContent:I,postBackground:T,setPostBackground:E,handleAddPost:ld,handlePostModal:on,user:t})}),g.jsx(or,{isOpen:s,onClose:Nn,children:g.jsx(Tx,{habitData:P,handleHabitChange:Gt,handleUpdateHabit:Qa,handleFocus:Hg,showMonthCalendar:C,calendarTarget:q,calendarRef:Y,handleEditModal:Nn,handleDeleteHabit:cd,habitCategories:ye,setHabitData:O,monthCalendarDate:$,handleMonthCalendarSelectDate:ud,setCalendarTarget:z,setShowMonthCalendar:L})}),g.jsx(or,{isOpen:c,onClose:si,children:g.jsx(lL,{handleAchievementModal:si,userAchievements:me,sortedAchievements:Zl})}),g.jsx(or,{isOpen:f,onClose:Dr,children:g.jsx(cL,{handleBadgeModal:Dr,badges:ne,userBadges:oe,sortedBadges:Hi})})]})}function Vye(){return g.jsx("div",{children:g.jsx("h1",{children:"Error"})})}function uL({children:t,isModalOpen:e,modalContent:n}){const r=Ho(),i=h_(),{setUser:a,isDarkMode:o}=D.useContext(ri),[s,l]=D.useState(!1),c=async()=>{await yW(),a(null),i("/")},u=()=>{l(!s)},f=()=>{window.innerWidth>=1536?l(!0):l(!1)},h=()=>{window.innerWidth<1536&&s&&l(!s)};return D.useEffect(()=>(f(),window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)),[]),g.jsxs("div",{className:`font-huninn bg-light dark:bg-black-950 relative min-h-screen ${o?"dark":""}`,children:[g.jsxs("nav",{className:`pt-2 pb-3 px-4 bg-black-50 dark:bg-black-800 fixed inset-x-0 bottom-0 flex gap-x-4 z-50 border-t border-primary md:p-4 md:flex-col md:justify-between md:border-t-0 md:border-r md:h-full transition-all duration-200 ease-in-out ${s?"md:w-[240px]":"md:w-20"}`,children:[g.jsxs("div",{className:`hidden md:flex md:items-center ${s?"md:justify-between":"md:justify-center"}`,children:[g.jsx("p",{className:`text-black dark:text-black-0 font-lobster font-normal text-2xl leading-8 ml-6 hidden text-nowrap ${s?"md:block":""}`,children:"Habit Piggy"}),g.jsx(fT.TbLayoutSidebarRight,{className:"w-6 h-6 md:w-8 md:h-8 text-black dark:text-black-0 hover:text-alert cursor-pointer",onClick:u})]}),g.jsxs("ul",{className:"grid grid-cols-5 items-center w-full md:grid-cols-1 md:gap-4 transition-all duration-200 ease-in-out",children:[g.jsx(us,{to:"/home",className:"block",onClick:h,children:g.jsxs("li",{className:`md:py-1 md:px-2 flex flex-col items-center gap-1 ${s?"md:rounded-full md:flex-row hover:md:bg-primary-light":""} ${r.pathname==="/home"&&s?"md:bg-primary":""}`,children:[g.jsx("div",{className:`flex justify-center items-center py-1 px-4 rounded-xl md:px-2 md:aspect-square ${s?"md:bg-transparent dark:bg-transparent":""} ${r.pathname==="/home"?"bg-light dark:bg-black-950":"hover:bg-primary-light"} ${r.pathname==="/home"&&s?"md:bg-transparent hover:bg-primary-light hover:md:bg-transparent":""}`,children:g.jsx(_c.TbHome2,{className:`w-6 h-6 md:w-8 md:h-8 ${s?"md:text-black dark:text-black-0":""} ${r.pathname==="/home"?"text-primary-dark":"text-black dark:text-black-0"} ${r.pathname==="/home"&&s?"":"md:text-black"} ${r.pathname==="/home"&&!s?"md:text-primary-dark":""}`})}),g.jsx("p",{className:"text-black dark:text-black-0 font-normal text-xs leading-4 text-nowrap md:text-base md:leading-6",children:"主頁"})]})}),g.jsx(us,{to:"/savings",className:"block",onClick:h,children:g.jsxs("li",{className:`md:py-1 md:px-2 flex flex-col items-center gap-1 ${s?"md:rounded-full md:flex-row hover:md:bg-primary-light":""} ${r.pathname==="/savings"&&s?"md:bg-primary":""}`,children:[g.jsx("div",{className:`flex justify-center items-center py-1 px-4 rounded-xl md:px-2 md:aspect-square ${s?"md:bg-transparent dark:bg-transparent":""} ${r.pathname==="/savings"?"bg-light dark:bg-black-950":"hover:bg-primary-light"} ${r.pathname==="/savings"&&s?"md:bg-transparent hover:bg-primary-light hover:md:bg-transparent":""}`,children:g.jsx(_c.TbCoin,{className:`w-6 h-6 md:w-8 md:h-8 ${s?"md:text-black dark:text-black-0":""} ${r.pathname==="/savings"?"text-primary-dark":"text-black dark:text-black-0"} ${r.pathname==="/savings"&&s?"":"md:text-black"} ${r.pathname==="/savings"&&!s?"md:text-primary-dark":""}`})}),g.jsx("p",{className:"text-black dark:text-black-0 font-normal text-xs leading-4 text-nowrap md:text-base md:leading-6",children:"存款"})]})}),g.jsx(us,{to:"/rank",className:"block",onClick:h,children:g.jsxs("li",{className:`md:py-1 md:px-2 flex flex-col items-center gap-1 ${s?"md:rounded-full md:flex-row hover:md:bg-primary-light":""} ${r.pathname==="/rank"&&s?"md:bg-primary":""}`,children:[g.jsx("div",{className:`flex justify-center items-center py-1 px-4 rounded-xl md:px-2 md:aspect-square ${s?"md:bg-transparent dark:bg-transparent":""} ${r.pathname==="/rank"?"bg-light dark:bg-black-950":"hover:bg-primary-light"} ${r.pathname==="/rank"&&s?"md:bg-transparent hover:bg-primary-light hover:md:bg-transparent":""}`,children:g.jsx(_c.TbMedal2,{className:`w-6 h-6 md:w-8 md:h-8 ${s?"md:text-black dark:text-black-0":""} ${r.pathname==="/rank"?"text-primary-dark":"text-black dark:text-black-0"} ${r.pathname==="/rank"&&s?"":"md:text-black"} ${r.pathname==="/rank"&&!s?"md:text-primary-dark":""}`})}),g.jsx("p",{className:"text-black dark:text-black-0 font-normal text-xs leading-4 text-nowrap md:text-base md:leading-6",children:"排行"})]})}),g.jsx(us,{to:"/posts",className:"block",onClick:h,children:g.jsxs("li",{className:`md:py-1 md:px-2 flex flex-col items-center gap-1 ${s?"md:rounded-full md:flex-row hover:md:bg-primary-light":""} ${r.pathname==="/posts"&&s?"md:bg-primary":""}`,children:[g.jsx("div",{className:`flex justify-center items-center py-1 px-4 rounded-xl md:px-2 md:aspect-square ${s?"md:bg-transparent dark:bg-transparent":""} ${r.pathname==="/posts"?"bg-light dark:bg-black-950":"hover:bg-primary-light"} ${r.pathname==="/posts"&&s?"md:bg-transparent hover:bg-primary-light hover:md:bg-transparent":""}`,children:g.jsx(_c.TbMessage,{className:`w-6 h-6 md:w-8 md:h-8 ${s?"md:text-black dark:text-black-0":""} ${r.pathname==="/posts"?"text-primary-dark":"text-black dark:text-black-0"} ${r.pathname==="/posts"&&s?"":"md:text-black"} ${r.pathname==="/posts"&&!s?"md:text-primary-dark":""}`})}),g.jsx("p",{className:"text-black dark:text-black-0 font-normal text-xs leading-4 text-nowrap md:text-base md:leading-6",children:"貼文"})]})}),g.jsx(us,{to:"/member",className:"block",onClick:h,children:g.jsxs("li",{className:`md:py-1 md:px-2 flex flex-col items-center gap-1 ${s?"md:rounded-full md:flex-row hover:md:bg-primary-light":""} ${r.pathname==="/member"&&s?"md:bg-primary":""}`,children:[g.jsx("div",{className:`flex justify-center items-center py-1 px-4 rounded-xl md:px-2 md:aspect-square ${s?"md:bg-transparent dark:bg-transparent":""} ${r.pathname==="/member"?"bg-light dark:bg-black-950":"hover:bg-primary-light"} ${r.pathname==="/member"&&s?"md:bg-transparent hover:bg-primary-light hover:md:bg-transparent":""}`,children:g.jsx(_c.TbMoodSmile,{className:`w-6 h-6 md:w-8 md:h-8 ${s?"md:text-black dark:text-black-0":""} ${r.pathname==="/member"?"text-primary-dark":"text-black dark:text-black-0"} ${r.pathname==="/member"&&s?"":"md:text-black"} ${r.pathname==="/member"&&!s?"md:text-primary-dark":""}`})}),g.jsx("p",{className:"text-black dark:text-black-0 font-normal text-xs leading-4 text-nowrap md:text-base md:leading-6",children:"會員"})]})})]}),g.jsx(us,{to:"/",className:`hidden md:block ${r.pathname==="/"?"invisible":""}`,onClick:()=>{c(),h()},children:g.jsxs("div",{className:`md:py-1 md:px-2 flex flex-col items-center gap-1 ${s?"md:rounded-full md:flex-row hover:md:bg-primary-light":""}`,children:[g.jsx("div",{className:`flex justify-center items-center py-1 px-4 rounded-xl md:px-2 md:aspect-square ${s?"md:bg-transparent dark:bg-transparent":"hover:bg-primary-light"}`,children:g.jsx(fT.TbLogout,{className:`w-6 h-6 md:w-8 md:h-8 dark:text-black-0 ${s?"md:text-black":""}`})}),g.jsx("p",{className:`text-black dark:text-black-0 ${s?"text-base leading-6 text-nowrap":"hidden"}`,children:"登出"})]})})]}),g.jsx("div",{className:`md:max-w-screen-md xl:max-w-[1160px] my-0 mx-auto flex flex-col md:flex-row min-h-screen relative ${s&&window.innerWidth<1536?"blur-sm":""}`,children:g.jsx("div",{className:"mt-0 mb-[86px] md:mb-0 w-full p-0 relative",children:t})}),e&&g.jsx(or,{isOpen:e,children:n})]})}uL.propTypes={children:U.node,isModalOpen:U.bool.isRequired,modalContent:U.node};function Fye(){return g.jsx(Ej,{children:g.jsx(nF,{children:g.jsx(uL,{children:g.jsxs(X3,{children:[g.jsx(Ji,{path:"/",element:g.jsx(DW,{})}),g.jsx(Ji,{path:"/home",element:g.jsx(Eq,{})}),g.jsx(Ji,{path:"/savings",element:g.jsx(Dye,{})}),g.jsx(Ji,{path:"/rank",element:g.jsx(Mye,{})}),g.jsx(Ji,{path:"/posts",element:g.jsx($ye,{})}),g.jsx(Ji,{path:"/member",element:g.jsx(Lye,{})}),g.jsx(Ji,{path:"*",element:g.jsx(Vye,{})})]})})})})}_2(document.getElementById("root")).render(g.jsx(D.StrictMode,{children:g.jsx(Fye,{})}));
